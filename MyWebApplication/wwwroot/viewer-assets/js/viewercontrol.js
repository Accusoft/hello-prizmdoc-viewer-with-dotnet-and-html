// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.19.0
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pcc-load,\n.pccPageListLoading,\n.pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccPageListLoading svg,\n.pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccPageListLoading,\n.pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var mi=function(){this.bg=false;this.K=false;this.aY=IPCC.bL.AddFreehandMark;};mi.prototype.lK=function(K){this.K=K;};mi.prototype.dW=function(){this.K=false;};mi.prototype.be=function(){if(this.bg){this.G=null;this.nK=null;this.K.oV(null);this.bg=false;this.K.bW();}};mi.prototype.qC=function(){this.be();};mi.prototype.jH=function(H){this.be();if(H.domEvent.button===0){this.bg=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.G.get_points().addPoint(H.imagePoint);this.nK=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.K.oV(this.G,this.nK);this.G.set_lineWidth(this.nK.eb);this.G.set_lineColor(this.nK.kV);this.G.set_opacity(this.nK.cD);this.pE=H.imagePoint;this.mW=H.windowPoint;this.K.bW();}};mi.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){this.G.get_points().addPoint(H.imagePoint);this.K.bW();}};mi.prototype.Ar=function(H){if(this.bg){this.be();}};mi.prototype.kM=function(H){if(this.bg&&H.domEvent.button===0){this.G.get_points().addPoint(H.imagePoint);var amv=this.G.get_points();var bM=[];var fR=Number.MAX_VALUE,iF=0,_top=Number.MAX_VALUE,it=0;var C=0;for(C=0;C<amv.get_length();C++){var rq=amv.getPoint(C);if(rq.x<fR){fR=rq.x;}if(rq.x>iF){iF=rq.x;}if(rq.y<_top){_top=rq.y;}if(rq.y>it){it=rq.y;}bM.push({x:rq.x,y:rq.y});}var Bq=3;var rZ;var sT=(bM.length<Bq)?bM:IPCC.h.filter(bM,function(aa){if(rZ){var bh=aa.x-rZ.x,dN=aa.y-rZ.y,eA=bh*bh+dN*dN;if(Math.sqrt(eA)<4){return false;}}aa.x=aa.x-fR;aa.y=aa.y-_top;rZ=aa;return true;});if(sT.length<Bq){sT=[bM[0],bM[bM.length-1]];}var cu='';rZ=undefined;if(sT.length<Bq){cu+=this.Me(sT);}else{cu='M'+IPCC.h.bspline(sT);cu=cu.replace(/\d*\.?\d*/g,function(aB){var FN=aB.indexOf('.');if(aB.length&&FN>0){return aB.substr(0,FN+3);}else if(aB!==""){return aB;}else{return aB;}});}var bJ=iF-fR;var ah=it-_top;if(ah===0&&bJ===0){this.be();return;}var qL={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.nK.set_rectangle({x:fR,y:_top,width:bJ,height:ah});this.nK.set_pathString(cu);this.nK.set_pathWidth(bJ);this.nK.set_pathHeight(ah);this.K.oV(null);this.K.eG().addMark(this.nK,qL);this.K.bW();}this.be();};mi.prototype.Me=function(yF,Fm){var TX=(Fm&&IPCC.h.De)?'m':'M';var YR=(Fm&&IPCC.h.De)?'l':'L';return IPCC.h.map(yF,function(aa,C){if(C===0){return TX+aa.x+','+aa.y;}else{return YR+aa.x+','+aa.y;}}).join('');};mi.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};mi.prototype.ma=function(){this.be();};module.exports=mi;},{}],13:[function(require,module,exports){var mk=function(){this.bg=false;this.K=false;this.aY=IPCC.bL.AddLineMark;};mk.prototype.lK=function(K){this.K=K;};mk.prototype.dW=function(){this.K=false;};mk.prototype.be=function(){if(this.bg){this.G=null;this.K.oV(null);this.bg=false;this.K.bW();}};mk.prototype.qC=function(){this.be();};mk.prototype.jH=function(H){this.be();if(H.domEvent.button===0){this.bg=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.G.get_points().setPoint(0,H.imagePoint);this.G.get_points().setPoint(1,H.imagePoint);this.K.oV(this.G);this.pE=H.imagePoint;this.mW=H.windowPoint;}};mk.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){this.G.get_points().setPoint(1,H.imagePoint);this.K.bW();}};mk.prototype.kM=function(H){if(this.bg&&H.domEvent.button===0){var dS=H.windowPoint.x-this.mW.x;var gx=dS*dS;dS=H.windowPoint.y-this.mW.y;gx+=dS*dS;if(gx>25){var K=this.K;var qL={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.G.get_points().setPoint(1,H.imagePoint);this.K.oV(null);this.K.eG().addMark(this.G,qL);K.bW();}}this.be();};mk.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};mk.prototype.ma=function(){this.be();};module.exports=mk;},{}],14:[function(require,module,exports){var ke=function(ab){this.bg=false;this.K=false;this.ab=ab;switch(this.ab){case IPCC.Web.UI.MarkType.Polygon:this.aY=IPCC.bL.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aY=IPCC.bL.AddPolylineMark;this.YO=false;break;}};ke.prototype.lK=function(K){this.K=K;};ke.prototype.dW=function(){this.K=false;};ke.prototype.be=function(){if(this.bg){if(arguments[0]){if(arguments[0]===true){if(this.G&&this.YO===false){this.K.eG().addMark(this.G);this.YO=true;this.K.bW();}}}this.G=null;this.K.oV(null);this.bg=false;this.K.bW();}};ke.prototype.qC=function(){this.be();};ke.prototype.jH=function(H){if(H.domEvent.button===0){if(!this.bg){this.bg=true;this.G=new IPCC.Web.UI.Mark(this.ab);this.G.get_points().addPoint(H.imagePoint);this.K.oV(this.G);}var bM=this.G.get_points();if(bM.get_length()>0){bM.setPoint(bM.get_length()-1,H.imagePoint);}bM.addPoint(H.imagePoint);this.pE=H.imagePoint;this.mW=H.windowPoint;this.K.bW();}else{this.be();}};ke.prototype.Ar=function(H){if(this.bg&&H.domEvent.button===0){var bM=this.G.get_points(),cf=bM.get_length(),UG,Uy;if(cf>2){var afF=true;while(afF){cf=bM.get_length();UG=bM.getPoint(cf-1);Uy=bM.getPoint(cf-2);if(UG.x===Uy.x&&UG.y===Uy.y){bM.removePoint(cf-1);}else{afF=false;}}}if(bM.get_length()>0){bM.setPoint(bM.get_length()-1,H.imagePoint);}this.K.oV(null);var qL={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.K.eG().addMark(this.G,qL);this.YO=true;this.K.bW();}this.be();};ke.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){var bM=this.G.get_points();if(bM.get_length()>0){bM.setPoint(bM.get_length()-1,H.imagePoint);}this.K.bW();}};ke.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};ke.prototype.ma=function(){this.be();};module.exports=ke;},{}],15:[function(require,module,exports){var fi=function(ab){this.bg=false;this.K=false;this.ab=ab;switch(this.ab){case IPCC.Web.UI.MarkType.Rectangle:this.aY=IPCC.bL.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aY=IPCC.bL.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aY=IPCC.bL.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aY=IPCC.bL.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aY=IPCC.bL.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aY=IPCC.bL.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aY=IPCC.bL.AddRectangleMark;break;}};fi.prototype.lK=function(K){this.K=K;};fi.prototype.dW=function(){this.K=false;};fi.prototype.be=function(){if(this.bg){this.G=null;this.K.oV(null);this.bg=false;this.K.bW();}};fi.prototype.qC=function(){this.be();};fi.prototype.jH=function(H){this.be();if(H.domEvent.button===0){this.bg=true;this.G=new IPCC.Web.UI.Mark(this.ab);this.G.set_rectangle({x:H.imagePoint.x,y:H.imagePoint.y,width:0,height:0});this.K.oV(this.G);this.pE=H.imagePoint;this.mW=H.windowPoint;}};fi.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){var lW={x:Math.min(H.imagePoint.x,this.pE.x),y:Math.min(H.imagePoint.y,this.pE.y)};lW.width=Math.max(H.imagePoint.x,this.pE.x)-lW.x;lW.height=Math.max(H.imagePoint.y,this.pE.y)-lW.y;this.G.set_rectangle(lW);this.K.bW();}};fi.prototype.kM=function(H){if(this.bg&&H.domEvent.button===0){var dS=H.windowPoint.x-this.mW.x;var gx=dS*dS;dS=H.windowPoint.y-this.mW.y;gx+=dS*dS;if(gx>25){var lW={x:Math.min(H.imagePoint.x,this.pE.x),y:Math.min(H.imagePoint.y,this.pE.y)};lW.width=Math.max(H.imagePoint.x,this.pE.x)-lW.x;lW.height=Math.max(H.imagePoint.y,this.pE.y)-lW.y;this.K.oV(null);this.G.set_rectangle(lW);var aA=this.G;var K=this.K;var qL={clientX:H.domEvent.clientX,clientY:H.domEvent.clientY};this.K.eG().addMark(this.G,qL);if(aA.ja()===IPCC.Web.UI.MarkType.Text||aA.ja()===IPCC.Web.UI.MarkType.TextLine||aA.ja()===IPCC.Web.UI.MarkType.TextAreaSignature){K.vi(aA);}K.bW();}}this.be();};fi.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};fi.prototype.ma=function(){this.be();};module.exports=fi;},{}],16:[function(require,module,exports){var cF={};var aoW=require('./ArtUIDirector');var Rh=require('./ArtSVGUIDirector');cF.wf={Ja:function(){var wi=IPCC.cF.wf;if(wi.vS===null){
/*@cc_on@if(@_jscript)wi.vS=document.documentMode>8;@else@*/ wi.vS=true;/*@end@*/}return wi.vS;},vS:null};cF.DQ=1;cF.cJ=aoW;cF.Rh=Rh;module.exports=cF;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ams=function(){};ams.prototype={aqD:function(K,av,ag){this.K=K;this.aF=K.bI();this.av=av;this.eB=ag.width;this.fw=ag.height;this.IE=ag.gM;this.aFO=ag.hd;av.Ee=this.dG('g');this.cQ(av.Ee,{'fill-opacity':1});av.BA.appendChild(av.Ee);},apD:function(L){var je='',J,F=this;switch(L.G.get_type()){case IPCC.Web.UI.MarkType.Rectangle:L.aL=this.dG('rect');if(L.G.iX()&&L.G.get_opacity()===255){L.aL.addEventListener("mouseover",function(H){if(L.G.get_selected()===false&&L.aL&&(H.which===0||H.buttons===0)){L.aL.style.opacity=127/255;}},false);L.aL.addEventListener("mouseout",function(H){if(L.aL&&(H.which===0||H.buttons===0)){L.aL.style.opacity=L.G.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:je="highlighttextannotation-"+L.G.kO();L.aL=this.dG('g');L.iA=this.dG('g');L.aL.appendChild(L.iA);L.lv=this.dG('g');L.lv.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.lv);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:je="texthyperlinkannotation-"+L.G.kO();L.aL=this.dG('g');L.aL.style.cursor=IPCC.bL.fD(IPCC.bL.Link);L.iA=this.dG('g');L.aL.appendChild(L.iA);L.lv=this.dG('g');L.lv.style.opacity=IPCC.cF.cJ.afY();L.lv.style.fill="blue";L.lv.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.lv);L.jO=this.dG('g');L.jO.style.stroke="blue";L.jO.style.opacity=IPCC.cF.cJ.FP(false);L.jO.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.jO);L.aL.addEventListener("mouseover",function(H){if(L.jO){L.jO.style.opacity=IPCC.cF.cJ.FP(true,L.G.get_selected());}},false);L.aL.addEventListener("mouseout",function(H){if(L.jO){L.jO.style.opacity=IPCC.cF.cJ.FP(false,L.G.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:je="documenthyperlink-"+L.G.kO();L.aL=this.dG('g');L.aL.style.cursor=IPCC.bL.fD(IPCC.bL.Link);L.J=this.dG('rect');L.J.style['fill-opacity']=IPCC.cF.cJ.afY();if(L.G.KQ!=='Underline'){L.J.style.stroke=L.G.kV;L.J.style['stroke-width']=L.G.eb+'px';L.J.style['stroke-opacity']=(L.G.eb===0)?0:L.G.rC/255;if(L.G.KQ==='Dashed'){L.J.style['stroke-dasharray']=L.G.yJ.join(', ');}L.J.setAttribute('rx',L.G.Ko);L.J.setAttribute('ry',L.G.JJ);}else{L.uo=this.dG('line');L.uo.style.stroke=L.G.kV;L.uo.style['stroke-opacity']=L.G.rC/255;L.uo.style['stroke-width']=L.G.eb+'px';L.aL.appendChild(L.uo);}L.J.style.fill='transparent';L.J.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.J);break;case IPCC.Web.UI.MarkType.RectangleRedaction:je="textmark-"+L.G.kO();L.aL=this.dG('g');L.ff=this.dG('rect');L.gB=this.dG('g');L.gB.setAttribute('data-pcc-mark',je);if(IPCC.h.tY.aEh){L.gB.style.cursor='pointer';}L.zZ=document.createTextNode('');if(document.documentMode>8||IPCC.h.tY.zc){L.du=this.dG('text');L.du.setAttribute('data-pcc-mark',je);L.du.appendChild(L.zZ);L.Ak=this.dG('clipPath');L.DS=this.dG('rect');L.gB.appendChild(L.Ak);L.Ak.appendChild(L.DS);L.gB.appendChild(L.du);L.Hi="PCC"+IPCC.cF.DQ;IPCC.cF.DQ++;this.cQ(L.Ak,{id:L.Hi,clipPathUnits:"userSpaceOnUse"});J=L.G.get_rectangle();this.cQ(L.DS,{x:0,y:0,width:J.width,height:J.height,"data-pcc-mark":je});var abG=function(H){if(L.G.get_selected()===false&&L.ff&&(H.which===0||H.buttons===0)){if(F.K.lG()===false){L.aL.style.opacity=0.2;L.du.style.opacity=0;}}};L.aL.addEventListener("mouseover",function(H){abG(H);},false);L.gB.addEventListener("mouseover",function(H){abG(H);},false);L.gB.addEventListener("mouseout",function(H){if(L.ff&&(H.which===0||H.buttons===0)){if(F.K.lG()===false){L.aL.style.opacity=1;L.du.style.opacity=1;}}},false);L.aL.addEventListener("mouseout",function(H){if(L.ff&&(H.which===0||H.buttons===0)){if(F.K.lG()===false){L.aL.style.opacity=1;L.du.style.opacity=1;}}},false);}else{L.lF=document.createElement('div');this.cQ(L.lF,{"data-pcc-mark":je});L.lF.appendChild(L.zZ);L.MW=document.createElement('div');this.cQ(L.MW,{"data-pcc-mark":je});L.MW.appendChild(L.lF);L.tN=document.createElement('body');this.cQ(L.tN,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":je});L.tN.appendChild(L.MW);L.CO=this.dG('foreignObject');L.CO.appendChild(L.tN);L.gB.appendChild(L.CO);L.tN.addEventListener("mouseover",function(H){if(L.G.get_selected()===false&&L.ff&&(H.which===0||H.buttons===0)){L.ff.style.opacity=0.2;L.lF.style.opacity=0;}},false);L.tN.addEventListener("mouseout",function(H){if(L.ff&&(H.which===0||H.buttons===0)){if(F.K.lG()===false){L.ff.style.opacity=1;L.lF.style.opacity=1;}}},false);}L.aL.appendChild(L.ff);break;case IPCC.Web.UI.MarkType.Ellipse:L.aL=this.dG('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:L.aL=this.dG('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:L.aL=this.dG('g');L.iA=L.aL;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:L.aL=this.dG('g');L.sY=this.dG('polyline');L.Wu=this.dG('path');L.Uk=this.dG('path');L.aL.appendChild(L.sY);L.aL.appendChild(L.Wu);L.aL.appendChild(L.Uk);L.sY.setAttribute('stroke-linejoin','miter');L.sY.setAttribute('stroke-linecap','butt');L.sY.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:L.aL=this.dG('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:je="textmark-"+L.G.kO();L.aL=this.dG('g');L.Ho=this.dG('polygon');L.sY=this.dG('path');L.ZW=this.dG('path');L.gB=this.dG('g');L.aL.appendChild(L.Ho);L.aL.appendChild(L.sY);L.aL.appendChild(L.ZW);this.cQ(L.Ho,{style:'stroke:none;'});L.gB.setAttribute('data-pcc-mark',je);L.zZ=document.createTextNode('');if(document.documentMode>8||IPCC.h.tY.zc){L.du=this.dG('text');L.du.setAttribute('data-pcc-mark',je);L.du.appendChild(L.zZ);L.Ak=this.dG('clipPath');L.DS=this.dG('rect');L.gB.appendChild(L.Ak);L.Ak.appendChild(L.DS);L.akF=this.dG('g');L.gB.appendChild(L.akF);L.gB.appendChild(L.du);L.Hi="PCC"+IPCC.cF.DQ;IPCC.cF.DQ++;this.cQ(L.Ak,{id:L.Hi,clipPathUnits:"userSpaceOnUse"});J=L.G.get_rectangle();this.cQ(L.DS,{x:0,y:0,width:J.width,height:J.height,"data-pcc-mark":je});}else{L.lF=document.createElement('div');L.lF.appendChild(L.zZ);L.tN=document.createElement('body');this.cQ(L.tN,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":je});L.tN.appendChild(L.lF);L.CO=this.dG('foreignObject');L.CO.appendChild(L.tN);L.gB.appendChild(L.CO);}L.Ho.setAttribute('data-pcc-mark',je);break;case IPCC.Web.UI.MarkType.Stamp:L.aL=this.dG('g');L.vw=this.dG('rect');L.vw.style='fill:rgba(255, 255, 255, 0);stroke:none;';L.ff=this.dG('rect');L.Io=this.YP(L);L.aL.appendChild(L.vw);L.aL.appendChild(L.ff);L.aL.appendChild(L.Io);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:L.aL=this.dG('g');L.vw=this.dG('rect');L.vw.style='fill:rgba(255, 255, 255, 0);stroke:none;';L.ff=this.dG('rect');L.ajm=this.aqO(L);L.ajm.setAttribute('data-pcc-mark',"mark-"+L.G.kO());L.aL.appendChild(L.vw);L.aL.appendChild(L.ff);L.aL.appendChild(L.ajm);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var G=L.G;var aeU=G.eI();var bJ=aeU.width;var ah=aeU.height;var Kj=G.get_pathWidth();var Kv=G.get_pathHeight();var vz=G.get_pathString();var gV=IPCC.h.zw.Path(vz,{width:bJ,height:ah,multiplier:100,thickness:G.get_lineWidth(),color:G.get_lineColor()});var fL=IPCC.h.zw.SVG('0 0 '+Kj+' '+Kv,100);var aN=IPCC.h.zw.Rect(Kj,Kv,'fill:rgba(255, 255, 255, 0);stroke:none;');fL.appendChild(aN);fL.appendChild(gV);L.aL=fL;L.aoe=gV;L.acf=aN;this.adP(L.aL,G.iq);break;case IPCC.Web.UI.MarkType.SignatureText:L.aL=this.dG('g');L.ff=this.dG('rect');L.ff.style='fill:rgba(255, 255, 255, 0);stroke:none;';L.Io=this.YP(L);L.aL.appendChild(L.ff);L.aL.appendChild(L.Io);L.G.jd=false;break;case IPCC.Web.UI.MarkType.TextLine:L.aL=this.dG('g');L.ff=this.dG('rect');L.ff.style='fill:rgba(255, 255, 255, 0);stroke:none;';L.Io=this.YP(L);L.aL.appendChild(L.ff);L.aL.appendChild(L.Io);break;case IPCC.Web.UI.MarkType.Strikethrough:je="strikethroughannotation-"+L.G.kO();L.aL=this.dG('g');L.iA=this.dG('g');L.aL.appendChild(L.iA);L.lv=this.dG('g');L.lv.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.lv);L.ym=this.dG('g');L.ym.setAttribute('data-pcc-mark',je);L.aL.appendChild(L.ym);break;}L.aL.ImGearMarkRelation=L;L.aL.setAttribute('data-pcc-mark',"mark-"+L.G.kO());this.av.Ee.appendChild(L.aL);if(L.gB){L.gB.ImGearMarkRelation=L;this.av.Ee.appendChild(L.gB);}this.adq(L);},YP:function(L){var G=L.G;var Gp=G.bQ;if(!Gp){Gp=G.db[0];if(!Gp){if(G.get_type()===IPCC.Web.UI.MarkType.Stamp){Gp="APPROVED";}else{Gp="";}}}var J=G.eI();L.du=this.dG('text');L.Hi="PCC"+IPCC.cF.DQ;IPCC.cF.DQ++;var mG=document.createTextNode(Gp);L.du.setAttribute("font-size","22px");if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){L.du.setAttribute("style",'white-space:pre;');}switch(L.G.iq){case IPCC.Web.UI.HorizontalAlignment.Left:L.du.setAttribute('text-anchor','start');L.du.setAttribute('x',J.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:L.du.setAttribute('text-anchor','end');L.du.setAttribute("x",J.x+J.width);break;default:L.du.setAttribute('text-anchor','middle');L.du.setAttribute("x",J.x+(J.width/2));break;}L.du.setAttribute('y',J.y+(J.height/2));L.du.appendChild(mG);return L.du;},aqO:function(L){var G=L.G;L.ajh=document.createElementNS('http://www.w3.org/2000/svg','svg');L.xi=document.createElementNS('http://www.w3.org/2000/svg','image');L.xi.setAttribute('id','childimg');L.xi.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());L.ajh.appendChild(L.xi);return L.ajh;},aqb:function(L,iq){var G=L.G;var J=G.eI();var bQ=G.bQ;var IA=bQ.split('\n');var du=L.du;var Xo=0;var Xm=0;var Zr=0;var yL=0;var alh=0;var agP=this.IE/72;var aav=G.cO*agP;var xz=[];var azC=/(.*\s)(.*)/;var mG,ia,GO,EN,_parent,adh,Fs,Jr,adG,Ab,amk,Bu;adh=du.childNodes.length;if(adh>=1){_parent=du.parentNode;Fs=this.dG('text');Fs.setAttribute('data-pcc-mark',L.gB.getAttribute('data-pcc-mark'));Fs.setAttribute('width',L.gB.getAttribute('width')-L.G.eb);_parent.replaceChild(Fs,du);L.du=Fs;L.du.appendChild(L.zZ);L.gB.appendChild(L.du);du={};du=L.du;}du.style.fontSize=G.cO*this.IE/72+'px';du.style.fontFamily=G.hc;du.width-=4;Jr=(G.eb/2);if(iq){switch(iq){case IPCC.Web.UI.HorizontalAlignment.Center:Jr=(J.width/2)-(G.eb/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Jr=J.width-G.eb;break;}}for(var C=0;C<IA.length;C++){Ab='';amk=1;if(IA[C].length>0){GO=IA[C].split('');ia=this.dG('tspan');ia.setAttributeNS(null,"x",Jr);if(C>0){ia.setAttributeNS(null,"dy",aav*(Zr+1));}mG=window.document.createTextNode(GO[0]);ia.appendChild(mG);du.appendChild(ia);for(var bB=1;bB<GO.length;bB++){alh=ia.firstChild.data.length;EN=GO[bB];ia.firstChild.data+=GO[bB];Ab+=EN;adG=Ab.length*(G.cO*agP);Xo=ia.getComputedTextLength();if(Xo===0){Xm=adG;}else{Xm=Xo;}if(Xm>=(J.width-G.eb-2)){amk++;Ab='';Bu=ia.firstChild.data.match(azC);if(Bu){EN=Bu[2];}if(Bu&&Bu[1].length>0){ia.firstChild.data=Bu[1];Ab+=EN;}else{ia.firstChild.data=ia.firstChild.data.slice(0,alh);Ab+=EN;}if(Ab.length>=1){xz.push({ad:yL,acq:ia});ia=this.dG('tspan');ia.setAttributeNS(null,"x",Jr);ia.setAttributeNS(null,"dy",aav);mG=window.document.createTextNode(EN);ia.appendChild(mG);du.appendChild(ia);}}}if(ia.firstChild.data.length>0){xz.push({ad:yL,acq:ia});}yL+=ia.firstChild.data.length+1;Zr=0;}else{Zr++;}}return xz;},azw:function(kZ,adc,iA,yL){if(kZ.length>0){var alX=adc.getNumberOfChars();if(kZ[0].ad>yL+alX){return;}for(var C=Math.max(kZ[0].ad-yL,0);C<alX;C++){var J=adc.getExtentOfChar(C);var aN=this.dG('rect');this.cQ(aN,{x:J.x,y:J.y,width:J.width,height:J.height,fill:kZ[0].EF});iA.appendChild(aN);if(kZ[0].cq===C+yL){kZ.shift();if(kZ.length===0){return;}C=kZ[0].ad-yL-1;}}}},FF:function(dk,uI,rN){var gV='M',C;for(C=0;C<uI.length;C++){if(C>0){gV+=' L';}gV+=uI[C].x+','+uI[C].y;}if(rN){gV+='Z';}this.cQ(dk,{d:gV});},XD:function(dk,uI,rN){var Rj='',C;for(C=0;C<uI.length;C++){if(C>0){Rj+=' ';}Rj+=uI[C].x+','+uI[C].y;}if(rN&&uI.length>2){Rj+=' '+uI[0].x+','+uI[0].y;}this.cQ(dk,{points:Rj});},acd:function(gg,kF,BY,sd,Ax,XW,FK){var co=this.asr(gg,kF,BY,sd,Ax);var eC='';eC+='stroke:'+XW+';';switch(Ax){case IPCC.Web.UI.LineHeadType.None:eC='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.FF(FK,[co.Do,gg,co.Ey],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.FF(FK,[co.Do,gg,co.Ey],true);eC+='fill:'+XW+';';break;case IPCC.Web.UI.LineHeadType.Open:this.FF(FK,[co.Do,gg,co.Ey],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.FF(FK,[co.Do,gg,co.Ey,co.HK],true);eC+='fill:'+XW+';';break;}this.cQ(FK,{style:eC});return co;},awb:function(L){var G=L.G;var bM,gl,C,aeB,aga,jD='',Et;bM=G.get_points();gl=[];for(C=0;C<bM.get_length();C++){gl.push(bM.getPoint(C));}if(gl.length<2||G.rN){this.cQ(L.Wu,{style:'display:none;'});this.cQ(L.Uk,{style:'display:none;'});}else{G.BF=G.kV;Et=this.ahw(gl,true);aeB=this.acd(Et.gg,Et.kF,G.GF,G.Fj,G.HO,G.BF,L.Wu);Et=this.ahw(gl,false);aga=this.acd(Et.gg,Et.kF,G.Mu,G.Jx,G.ng,G.BF,L.Uk);gl[0]=aeB.HK;gl[gl.length-1]=aga.HK;}this.XD(L.sY,gl,G.rN);var xt=this.Zd(G.jD);if(xt!==''){jD+='stroke-dasharray:'+xt+';';}this.cQ(L.sY,{style:jD});},adT:function(L){var Bl=this.arr(L);this.XD(L.Ho,Bl.ajT,false);var aka='',jD='fill:none;',rQ='fill:none;';if(Bl.Xk){aka='stroke:none;';}if(Bl.aaO){this.FF(L.sY,Bl.aaO,false);}else{jD+='display:none;';}if(Bl.Ln){this.FF(L.ZW,Bl.Ln,false);}else{rQ+='display:none;';}var G=L.G;if(G.xj){rQ+='stroke:'+G.DC+';stroke-width:'+G.EL+';';var xt=this.Zd(G.rQ);if(xt!==''){rQ+='stroke-dasharray:'+xt+';';}}this.cQ(L.sY,{style:jD});this.cQ(L.ZW,{style:rQ});this.cQ(L.Ho,{style:aka});},RH:function(L){var G=L.G,EY;if(!G){return;}var J=G.eI();var ES=G.cO*this.IE/72;G.ES=ES;var sh=J.width,nX=J.height,HU=false,dS;var gX,fB=0,fM=0;var uJ=1;if(G.jd){uJ+=G.eb/2;}switch(G.zl){case IPCC.Web.UI.Orientation.TopLeft:gX='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gX='-1,0,0,1';fB=sh-uJ;break;case IPCC.Web.UI.Orientation.BottomRight:gX='-1,0,0,-1';fB=sh-uJ;fM=nX-uJ;break;case IPCC.Web.UI.Orientation.BottomLeft:gX='1,0,0,-1';fM=nX-uJ;break;case IPCC.Web.UI.Orientation.LeftTop:gX='0,1,1,0';HU=true;break;case IPCC.Web.UI.Orientation.RightTop:gX='0,1,-1,0';fB=sh-uJ;HU=true;break;case IPCC.Web.UI.Orientation.RightBottom:gX='0,-1,-1,0';fB=sh-uJ;fM=nX-uJ;HU=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gX='0,-1,1,0';fM=nX-uJ;HU=true;break;}if(G.ea==="#c0c0c0"){G.ea='#ffffff';}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.iX()===true){G.ea='#ffffff';}else{G.set_opacity(G.cD);}}if(HU){dS=sh;sh=nX;nX=dS;}if(sh<0){sh=0;}if(nX<0){nX=0;}var YI='normal';var cn='normal';var mV='';var rz;mV+='word-wrap:break-word;background-color:transparent;line-height:1;';var zj=0;if(G.pP.length===7&&G.pP.charAt(0)==='#'){zj=parseInt(G.pP.slice(1),16);}var cD=Math.min(1,Math.max(0,G.yU/255));if(document.documentMode>8||IPCC.h.tY.zc){cn='normal';if(G.cn&IPCC.Web.UI.FontStyle.Italic){cn='italic';}YI='normal';if(G.cn&IPCC.Web.UI.FontStyle.Bold){YI='bold';}rz='none';if((G.cn&IPCC.Web.UI.FontStyle.Underline)&&(G.cn&IPCC.Web.UI.FontStyle.Strikeout)){rz='underline line-through';}else if(G.cn&IPCC.Web.UI.FontStyle.Underline){rz='underline';}else if(G.cn&IPCC.Web.UI.FontStyle.Strikeout){rz='line-through';}}else{mV+='color:rgba('+(zj>>16)+','+((zj>>8)&255)+','+(zj&255)+','+cD+');';mV+='font-family:'+G.hc+';';mV+='font-size:'+ES+'px;';if(G.cn&IPCC.Web.UI.FontStyle.Italic){mV+='font-style:italic;';}if(G.cn&IPCC.Web.UI.FontStyle.Bold){mV+='font-weight:bold;';}if((G.cn&IPCC.Web.UI.FontStyle.Underline)&&(G.cn&IPCC.Web.UI.FontStyle.Strikeout)){mV+='text-decoration:underline line-through;';}else if(G.cn&IPCC.Web.UI.FontStyle.Underline){mV+='text-decoration:underline;';}else if(G.cn&IPCC.Web.UI.FontStyle.Strikeout){mV+='text-decoration:line-through;';}}var FJ={x:2,anchor:'start'};switch(G.iq){case IPCC.Web.UI.HorizontalAlignment.Left:mV+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mV+='text-align:center;';FJ.x=(J.width/2)-3;FJ.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mV+='text-align:right;';FJ.x=J.width-8;FJ.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.h.tY.zc){switch(G.vK){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cQ(L.MW,{style:'display:table; width: 100%;'});mV+='display: table-cell; white-space: normal; vertical-align: middle; height:'+nX+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cQ(L.lF,{style:mV+'padding:2px;'});this.cQ(L.gB,{transform:'matrix('+gX+','+(fB+J.x+(G.eb/2))+','+(fM+J.y+(G.eb/2))+')',});this.cQ(L.CO,{x:0,y:0,width:sh>G.eb?sh-G.eb:sh,height:nX>G.eb?nX-G.eb:nX,});this.awN(L);}else{var xz=this.aqb(L,G.iq);var anx=xz.length;switch(G.vK){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){EY=(J.height/2)+(G.cO/4);if(anx>1){EY-=(anx-1)*(G.cO/2);}if(EY<0){EY=G.cO;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cQ(L.DS,{x:0,y:0,width:J.width-G.eb,height:J.height-G.eb});var arM="url(#"+L.Hi+")";var YV={x:FJ.x,y:(this.IE/72)*G.cO,width:J.width-G.eb,height:J.height-G.eb,'font-family':G.hc,'font-size':ES,fill:'rgba('+(zj>>16)+', '+((zj>>8)&255)+', '+(zj&255)+', '+cD+')','font-weight':YI,'font-style':cn,'text-decoration':rz,'text-anchor':FJ.anchor};if(typeof EY!=='undefined'){delete YV.y;YV.dy=EY;}this.cQ(L.du,YV);L.du.style.opacity=cD;this.cQ(L.gB,{transform:'matrix('+gX+','+(fB+J.x+(G.eb/2))+','+(fM+J.y+(G.eb/2))+')','clip-path':arM});var iA=L.akF;while(iA&&iA.firstChild){iA.removeChild(iA.firstChild);}if(G.fm){var kZ=this.aeM(G.fm);for(var C=0;C<xz.length;C++){this.azw(kZ,xz[C].acq,iA,xz[C].ad);}}}},Sh:function(L){var G=L.G;if(G.bK===null||G.bK===undefined){return;}if(G.bK.length===0&&G.dJ>0&&this.K.cA().nC()){G.bK=IPCC.h.Zq(this.K.cA().gq(),G.ad,G.ad+G.dJ-1);}if(!L.ad|| !L.dJ||L.ad!==G.ad||L.dJ!==G.dJ||G.dr===false||G.dr===true){while(L.lv.firstChild){L.lv.removeChild(L.lv.firstChild);}if(L.jO){while(L.jO.firstChild){L.jO.removeChild(L.jO.firstChild);}}if(L.ym){while(L.ym.firstChild){L.ym.removeChild(L.ym.firstChild);}}if(G.dr===false){return;}IPCC.h.forEach(L.G.bK,function(gZ){var Uo=this.dG('rect');L.lv.appendChild(Uo);this.cQ(Uo,{x:gZ.x,y:gZ.y,width:gZ.width,height:gZ.height});if(L.jO){var uo=this.dG('line');this.cQ(uo,{x1:gZ.x,y1:gZ.y+gZ.height-1,x2:gZ.x+gZ.width,y2:gZ.y+gZ.height-1,"stroke-width":2});L.jO.appendChild(uo);}if(L.ym){Uo.setAttribute('fill','transparent');var aee=this.dG('line');var strikethroughY=gZ.y+(gZ.height/2);this.cQ(aee,{x1:gZ.x,y1:strikethroughY,x2:gZ.x+gZ.width,y2:strikethroughY,stroke:L.G.kV,"stroke-width":L.G.eb});L.ym.appendChild(aee);}},this);L.ad=G.ad;L.dJ=G.dJ;}},adq:function(L){var G=L.G;if(!G){return;}var aL=L.aL;var J,eC='',bM,jd=true,mf,wD,vO,WF,ur,Gu;var kK=false;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kK=true;this.awb(L);break;case IPCC.Web.UI.MarkType.Rectangle:J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Sh(L);L.lv.style.fill=G.ea;L.lv.style.opacity=(G.cD/255);this.RC(L);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Sh(L);L.lv.style.fill=G.ea;L.jO.style.stroke=G.ea;if(L.G.get_selected()){L.jO.style.opacity=IPCC.cF.cJ.FP(false,L.G.get_selected());}else{L.jO.style.opacity=IPCC.cF.cJ.FP(false,L.G.get_selected());}this.RC(L);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:J=G.get_rectangle();this.cQ(L.J,{x:J.x,y:J.y,width:J.width,height:J.height});if(L.uo){this.cQ(L.uo,{x1:J.x,y1:J.y+J.height,x2:J.x+J.width,y2:J.y+J.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof L.ff!=='undefined'){if(this.K.lG()===true){L.ff.style.opacity=0.2;if(typeof L.lF!=='undefined'){L.lF.style.opacity=0;}else{L.du.style.opacity=0;}}else{L.ff.style.opacity=1;if(typeof L.lF!=='undefined'){L.lF.style.opacity=1;}}}J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});this.cQ(L.ff,{x:J.x,y:J.y,width:J.width,height:J.height});if(this.K.lG()===false){this.RH(L);}break;case IPCC.Web.UI.MarkType.Ellipse:J=G.get_rectangle();this.cQ(aL,{cx:J.x+J.width/2,cy:J.y+J.height/2,rx:J.width/2,ry:J.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bM=this.ZV(G);this.XD(aL,bM,false);eC+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.adT(L);this.RH(L);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cI=IPCC.h.ajg();var pU=IPCC.h.ajf();pU.nodeValue=G.get_text();var jF=G.jF;var ay=this.K.nd().hN();J=G.get_rectangle();cI.style.width=(J.width-G.eb/2)+'px';cI.style.height=(J.height-G.eb/2)+'px';cI.style.fontFamily=G.hc;cI.style.padding='2px';cI.style.fontStyle=G.cn;G.cO=IPCC.h.aaG(cI,jF,ay)*72/this.IE;this.adT(L);this.RH(L);break;case IPCC.Web.UI.MarkType.Stamp:J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});this.cQ(L.vw,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});L.vw.style.opacity=1;this.cQ(L.ff,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':G.ea,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(J.width/6);if(textFontSize>J.height){textFontSize=(J.height-(J.height/6));}mf=L.G.get_text();if(!mf){mf='APPROVED';}L.du.childNodes[0].data=mf;var uY=mf.length*textFontSize;if(uY>J.width){textFontSize=((J.width/mf.length));}Gu=Math.round(textFontSize);G.stampSize=Gu.toString();this.cQ(L.du,{x:J.x+(J.width/2),y:J.y+(J.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':G.ea,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});this.cQ(L.vw,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});L.vw.style.opacity=1;this.cQ(L.ff,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':G.ea,'stroke-width':'0','fill':'none'});L.xi.setAttribute('height',J.height);L.xi.setAttribute('width',J.width);L.xi.setAttribute('x',J.x);L.xi.setAttribute('y',J.y);L.xi.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.RC(L);break;case IPCC.Web.UI.MarkType.Highlight:J=G.get_rectangle();if(J.x===0&&J.y===0){var hm=this.K.cA().gq();if(hm.eu()>0){var fd=hm.kG(G.ad);J=fd.aw;}G.kk='y';}this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});var OY=L.aoe;if(G.amq===true){G.amq=false;OY.setAttribute("d",G.get_pathString());var Kj=G.get_pathWidth();var Kv=G.get_pathHeight();aL.setAttribute('viewBox','0 0 '+Kj+' '+Kv);L.acf.setAttribute('width',Kj);L.acf.setAttribute('height',Kv);}if(G.get_visible()){L.aL.style.display='block';}else{L.aL.style.display='none';}this.adP(L.aL,G.iq);OY.style.stroke=G.get_lineColor();OY.style.strokeWidth=G.get_lineWidth()+'px';OY.style.opacity=G.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});this.cQ(L.ff,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});L.ff.style.opacity=1;var apk=L.G.get_text()||"";L.du.childNodes[0].data=apk;wD=12*J.width/(G.zF||1);vO=12*J.height/(G.zN||1);ur=Math.min(wD,vO);var aDC=Math.floor(ur);G.stampSize=aDC.toString();switch(G.iq){case IPCC.Web.UI.HorizontalAlignment.Left:L.du.setAttribute('text-anchor','start');L.du.setAttribute('x',J.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:L.du.setAttribute('text-anchor','end');L.du.setAttribute("x",J.x+J.width);break;default:L.du.setAttribute('text-anchor','middle');L.du.setAttribute("x",J.x+(J.width/2));break;}this.cQ(L.du,{y:J.y+(J.height/2+(ur/3)),'font-size':ur,'stroke':"none",'fill':G.get_fillColor(),'font-family':G.get_fontName()});if(G.get_visible()){L.aL.style.display='block';}else{L.aL.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cQ(aL,{style:'fill:none;opacity:1;'+G.dr?'display:block;':'display:none;'});J=G.get_rectangle();this.cQ(aL,{x:J.x,y:J.y,width:J.width,height:J.height});eC='stroke:'+(G.jd?'black':'none')+';stroke-width:1;';this.cQ(L.ff,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':G.jd?'black':'none','fill':'rgba(255, 255, 255, 0)','style':eC});L.du.style.opacity=1;mf=L.G.get_text()||"";L.du.childNodes[0].data=mf;WF=IPCC.h.ahN(mf,G.get_fontName(),J.width,J.height,{wu:"pre",fL:L.aL});ur=WF.fontSize;G.ES=ur;G.stampSize=ur;G.Fz=true;G.oj=WF;switch(G.iq){case IPCC.Web.UI.HorizontalAlignment.Center:L.du.setAttribute('text-anchor','middle');L.du.setAttribute("x",J.x+(J.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:L.du.setAttribute('text-anchor','end');L.du.setAttribute("x",J.x+J.width);break;default:L.du.setAttribute('text-anchor','start');L.du.setAttribute('x',J.x);break;}this.cQ(L.du,{y:J.y+(J.height/2+(ur/3)),'font-size':ur,'stroke':"none",'fill':G.get_textColor(),'font-family':G.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Sh(L);this.RC(L);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',G.get_type());}if(G.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&G.get_type()!==IPCC.Web.UI.MarkType.Freehand&&G.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&G.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&G.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&G.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&G.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&G.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kK){eC+='fill:none;';}else{if(G.Jz){eC+='fill:'+G.ea+';';}else{eC+='fill:none;';}jd=G.jd;var xt=this.Zd(G.jD);if(xt!==''){eC+='stroke-dasharray:'+xt+';';}}if(jd){eC+='stroke:'+G.get_lineColor()+';';eC+='stroke-width:'+G.eb+';';}else{eC+='stroke:none;';}if(G.get_type()===IPCC.Web.UI.MarkType.SignatureText){eC+='opacity:'+1+';';}else{eC+='opacity:'+(G.cD/255)+';';}if(!G.dr){eC+='display:none;';if(L.gB){L.gB.style.display='none';}}else{if(L.gB){L.gB.style.display='block';}}this.cQ(aL,{style:eC});}if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!G.dr){eC+='display:none;';}else{eC+='display:block;';}this.cQ(aL,{style:eC});}var aY;if(!this.K.get_areMarksEditable()){aY=this.K.get_cursor();}else if(G.lU===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&G.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&G.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aY='default';}else if(G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aY=IPCC.bL.Link;}else if(G.get_type()!==IPCC.Web.UI.MarkType.Highlight&&G.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&G.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&G.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH)){aY=IPCC.bL.Move;}else{aY=IPCC.bL.Arrow;}aL.style.cursor=IPCC.bL.fD(aY);if(L.gB){L.gB.style.cursor=IPCC.bL.fD(aY);}},adP:function(aL,Ic){switch(Ic){case IPCC.Web.UI.HorizontalAlignment.Left:aL.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:aL.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:aL.setAttribute('preserveAspectRatio','xMaxYMid');break;}},RC:function(L){var G=L.G,aAO=G.get_visible();var J=G.get_rectangle();if(J.x===0&&J.y===0){return;}var iA=L.iA;while(iA.firstChild){iA.removeChild(iA.firstChild);}var ib;for(var C=0;C<G.fm.length;C++){for(var bB=0;bB<G.fm[C].length;bB++){var adL=this.K.cA().gq();if(adL.eu()>0){var asC=adL.kG(G.fm[C].startIndex+bB);ib=asC.aw;}var aN=this.dG('rect');this.cQ(aN,{x:ib.x,y:ib.y,width:ib.width,height:ib.height,fill:G.fm[C].color,display:(aAO)?'block':'none'});aN.style.opacity=(G.fm[C].opacity)?(G.fm[C].opacity)/255.0:0.5;iA.appendChild(aN);}}},Zd:function(jD){switch(jD){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},OT:function(L){if(L.aL){this.av.Ee.removeChild(L.aL);}if(L.gB){this.av.Ee.removeChild(L.gB);}delete L.aL;},aIb:function(){},aEm:function(){this.av=undefined;},dG:function(af){return document.createElementNS('http://www.w3.org/2000/svg',af);},cQ:function(aL,ae){var C;for(C in ae){if(ae.hasOwnProperty(C)){var attr=ae[C];aL.setAttribute(C,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ams;},{}],18:[function(require,module,exports){var Rh=require('./ArtSVGUIDirector');var cJ=Rh;cJ.FP=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};cJ.afY=function(){return 39/255;};cJ.aGp=function(isSelected){return isSelected?"purple":"blue";};cJ.prototype.asr=function(gg,kF,BY,sd,Ax){var co={gg:gg,kF:kF,BY:BY,sd:sd,Ax:Ax};if(gg.x===kF.x&&gg.y===kF.y){co.Ax=IPCC.Web.UI.LineHeadType.None;}var Oo=Math.atan2(gg.x-kF.x,-(gg.y-kF.y))+Math.PI/2;BY*=Math.PI/180;var jz=Oo+BY;co.Do={x:gg.x+Math.cos(jz)*sd,y:gg.y+Math.sin(jz)*sd};jz=Oo-BY;co.Ey={x:gg.x+Math.cos(jz)*sd,y:gg.y+Math.sin(jz)*sd};switch(co.Ax){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:co.HK={x:(co.Do.x+co.Ey.x)/2,y:(co.Do.y+co.Ey.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:co.HK={x:gg.x+Math.cos(Oo)*sd/2,y:gg.y+Math.sin(Oo)*sd/2};break;default:co.HK=gg;break;}return co;};cJ.prototype.arr=function(L){var G=L.G;var J=G.get_rectangle();var HA={x:G.lN.x+J.x+0.00001,y:G.lN.y+J.y+0.00001};var ax={};var gT=[{x:J.x,y:J.y},{x:J.x+J.width,y:J.y},{x:J.x+J.width,y:J.y+J.height},{x:J.x,y:J.y+J.height}];if(!G.wF){ax.ajT=gT;ax.Xk= !G.jd;return ax;}var C,acp=[];for(C=0;C<4;C++){acp.push({x:(gT[C].x+gT[(C+3)%4].x)/2,y:(gT[C].y+gT[(C+3)%4].y)/2,aEy:true});}for(C=3;C>=0;C--){gT.splice(C,0,acp[C]);}function aiS(MH){var wq,acw;wq=(HA.x-(gT[MH].x+gT[(MH+1)%8].x)/2)*J.height;acw=wq*wq;wq=(HA.y-(gT[MH].y+gT[(MH+1)%8].y)/2)*J.width;return acw+wq*wq;};var Tf=0,amS=aiS(0),gx;for(C=1;C<8;C++){gx=aiS(C);if(gx<amS){amS=gx;Tf=C;}}gT=gT.slice(Tf+1).concat(gT.slice(0,Tf+1));var BO=gT[0],Ce=gT[7];for(C=gT.length-1;C>=0;C--){if(gT[C].aEy){gT.splice(C,1);}}switch(G.Ep){case IPCC.Web.UI.CalloutType.Triangle:gT.splice(0,0,{x:(BO.x*3+Ce.x)/4,y:(BO.y*3+Ce.y)/4});gT.push({x:(BO.x+Ce.x*3)/4,y:(BO.y+Ce.y*3)/4});if(G.xj){ax.Xk=true;ax.aaO=[].concat(gT);ax.Ln=[gT[0],HA,gT[gT.length-1]];}gT.push(HA);break;default:case IPCC.Web.UI.CalloutType.Line:ax.Ln=[{x:(BO.x+Ce.x)/2,y:(BO.y+Ce.y)/2},HA];break;}ax.ajT=gT;if(!G.jd){ax.Xk=true;delete ax.aaO;delete ax.Ln;}return ax;};cJ.prototype.ZV=function(G){var bM=G.get_points();var gl=[],C;for(C=0;C<bM.get_length();C++){gl.push(bM.getPoint(C));}return gl;};cJ.prototype.ahw=function(gl,azO){var bf=0,RW=1,aes=gl.length-2,gg,kF;if(!azO){bf=gl.length-1;RW= -1;}gg=gl[bf];bf+=RW;kF=gl[bf];bf+=RW;while(gg.x===kF.x&&gg.y===kF.y&&aes>0){kF=gl[bf];bf+=RW;aes--;}return{gg:gg,kF:kF};};cJ.prototype.afG=function(K,av,bd,lo){if(IPCC.h.Yx){return;}if(!av.nr){av.nr=[];}var nr=av.nr;if(bd.length<1&&nr.length<1){if(av.Cg.firstChild){av.Cg.innerHTML='';}return;}var bj=K.eG();var eg=bj.BN();if(this.hy===undefined){this.hy=40;var zf=document.createElement("div");zf.className='pccMarkHandleTopLeft';zf.visibility='hidden';document.body.appendChild(zf);if(zf.currentStyle){this.hy=parseInt(zf.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aza=document.defaultView.getComputedStyle(zf);this.hy=parseInt(aza.width,10)||0;}document.body.removeChild(zf);}var C,IY=[];for(C=0;C<bd.length;C++){if(bd[C].get_visible()===true){if(eg.Iq(bd[C])>=0||(bd[C].get_selected()===true&&(bd[C].kA===true||bd[C].kc===true))||bd[C].xZ===true){IY.push(bd[C]);}}}for(C=0;C<nr.length;C++){while(C<nr.length&&(C>=IY.length||nr[C].G!==IY[C])){av.Cg.removeChild(nr[C].hn);nr.splice(C,1);}if(C<nr.length){this.adJ(nr[C],lo);}}for(C=nr.length;C<IY.length;C++){nr[C]={G:IY[C]};this.apw(av.Cg,nr[C]);this.adJ(nr[C],lo);}};cJ.prototype.wo=function(hn,apX,DI,tU,aDD,aY,dO){var cK=[],C,dc;if(dO===undefined){dO='handle';}for(C=0;C<apX;C++){dc={aL:document.createElement('div')};dc.aL.ImGearMarkHandle=dc;dc.aY=aY;dc.af=tU;dc.bf=aDD+C;hn.appendChild(dc.aL);dc.aL.setAttribute('data-pcc-mark',dO+'-'+hn.ImGearMarkRelation.G.kO());cK.push(dc);}return cK;};cJ.prototype.avw=function(dE){if(dE.cK===undefined||this.K.get_areMarksEditable()===false){return;}var C;for(C=0;C<dE.cK.length;C++){var dc=dE.cK[C];dc.aL.style.cursor=IPCC.bL.fD(dc.aY);}};cJ.prototype.apw=function(Cg,dE){dE.hn=document.createElement('div');dE.hn.style.width='0px';dE.hn.style.height='0px';dE.hn.style.left='0px';dE.hn.style.top='0px';dE.hn.style.zIndex='1';var C,G=dE.G,dc;dE.hn.ImGearMarkRelation=dE;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:dE.cK=this.wo(dE.hn,2,this.hy,this.GM,0,IPCC.bL.Move);dE.cK=dE.cK.concat(this.wo(dE.hn,2,this.hy,this.GE,0,IPCC.bL.Move));break;case IPCC.Web.UI.MarkType.Polygon:dE.cK=[];break;case IPCC.Web.UI.MarkType.Freehand:dE.cK=[];dE.iY=document.createElement('div');dE.iY.style.border='1px solid gray';dE.iY.style.position='absolute';dE.hn.appendChild(dE.iY);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH!==undefined){break;}dE.iY=document.createElement('div');dE.iY.style.border='1px solid gray';dE.iY.style.position='absolute';dE.hn.appendChild(dE.iY);dE.cK=this.wo(dE.hn,4,this.hy,this.aaC,0,-1);dE.cK=dE.cK.concat(this.wo(dE.hn,4,this.hy,this.aaN,0,-1));for(C=4;C<8;C++){dc=dE.cK[C];dc.aqC=dE.cK[C-4];dc.aqy=dE.cK[(C+1)%4];}if(G.get_type()===IPCC.Web.UI.MarkType.Text){dE.cK=dE.cK.concat(this.wo(dE.hn,1,this.hy,this.ZZ,0,IPCC.bL.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dE.cK=this.wo(dE.hn,1,this.hy,this.GM,0,IPCC.bL.Move,'texthandlestart');dE.cK=dE.cK.concat(this.wo(dE.hn,1,this.hy,this.GM,1,IPCC.bL.Move,'texthandleend'));break;}if(G.ja()===IPCC.Web.UI.MarkType.Text||G.ja()===IPCC.Web.UI.MarkType.TextLine||G.ja()===IPCC.Web.UI.MarkType.TextAreaSignature){var pq=document.createElement('div');pq.className='pccEditMarkButton';pq.setAttribute('data-pcc-mark','edit-'+G.kO());pq.onclick=function(aH){aH=aH||{};aH.stopPropagation?aH.stopPropagation():aH.cancelBubble=true;aH.preventDefault?aH.preventDefault():aH.returnValue=false;var qy;var vX=dE.hn;while(vX&&(vX.parentNode||vX.ownerSVGElement)){if(vX.parentNode.id&&vX.parentNode.id.indexOf("__pViewId")!== -1){qy=vX.parentNode;}vX=vX.ownerSVGElement||vX.parentNode;}qy&&qy.al.ayV(aH,G);};dE.hn.appendChild(pq);var aoi={aL:pq};dE.cK.push(aoi);}Cg.appendChild(dE.hn);};cJ.kJ={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};cJ.prototype.aaC=0;cJ.prototype.aaN=1;cJ.prototype.GE=2;cJ.prototype.GM=3;cJ.prototype.ZZ=4;cJ.prototype.aci=function(dc,aAB){switch(aAB){case IPCC.cF.cJ.kJ.TopLeft:dc.aL.className='pccMarkHandleTopLeft';break;case IPCC.cF.cJ.kJ.TopCenter:dc.aL.className='pccMarkHandleTopCenter';break;case IPCC.cF.cJ.kJ.TopRight:dc.aL.className='pccMarkHandleTopRight';break;case IPCC.cF.cJ.kJ.MidLeft:dc.aL.className='pccMarkHandleMidLeft';break;case IPCC.cF.cJ.kJ.MidRight:dc.aL.className='pccMarkHandleMidRight';break;case IPCC.cF.cJ.kJ.BottomLeft:dc.aL.className='pccMarkHandleBottomLeft';break;case IPCC.cF.cJ.kJ.BottomCenter:dc.aL.className='pccMarkHandleBottomCenter';break;case IPCC.cF.cJ.kJ.BottomRight:dc.aL.className='pccMarkHandleBottomRight';break;case IPCC.cF.cJ.kJ.Point:dc.aL.className='pccMarkHandlePoint';break;case IPCC.cF.cJ.kJ.TextSelectionStart:dc.aL.className='pccMarkHandleTextSelectionStart';break;case IPCC.cF.cJ.kJ.TextSelectionEnd:dc.aL.className='pccMarkHandleTextSelectionEnd';break;default:dc.aL.className='pccMarkHandlePoint';break;}};cJ.prototype.zq=function(dc,auw,lo,DI,ny){dc.bn=lo.transform(auw);dc.aL.style.left=(dc.bn.x-DI/2)+'px';dc.aL.style.top=(dc.bn.y-DI/2)+'px';dc.aL.style.display='block';dc.aL.style.zIndex='1';this.aci(dc,ny);};cJ.prototype.aaY=function(dc,DI,ny){dc.aL.style.left=(dc.bn.x-DI/2)+'px';dc.aL.style.top=(dc.bn.y-DI/2)+'px';dc.aL.style.display='block';dc.aL.style.zIndex='1';this.aci(dc,ny);};cJ.prototype.rs=function(dc){dc.aL.style.display='none';};cJ.prototype.adJ=function(dE,lo){if(this.K.get_areMarksEditable()===true){dE.hn.style.cursor='move';}var C,G=dE.G,cK=dE.cK,dc;var gl,J,qH,kg,tU,ej;var gx,DU,fB,fM,Lz;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gl=this.ZV(G);DU=gl.length+2-cK.length;if(DU>0){dE.cK=dE.cK.concat(this.wo(dE.hn,DU,this.hy,this.GE,cK.length-2,IPCC.bL.Move));cK=dE.cK;}for(C=0;C<gl.length;C++){this.zq(cK[C+2],gl[C],lo,this.hy,IPCC.cF.cJ.kJ.Point);}for(C=gl.length+2;C<cK.length;C++){this.rs(cK[C+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gl=this.ZV(G);DU=gl.length-cK.length;if(DU>0){dE.cK=dE.cK.concat(this.wo(dE.hn,DU,this.hy,this.GE,cK.length,IPCC.bL.Move));cK=dE.cK;}for(C=0;C<gl.length;C++){this.zq(cK[C],gl[C],lo,this.hy,IPCC.cF.cJ.kJ.Point);}for(C=gl.length;C<cK.length;C++){this.rs(cK[C]);}break;case IPCC.Web.UI.MarkType.Freehand:J=G.eI();qH=lo.transform({x:J.x,y:J.y});kg=lo.transform({x:J.x+J.width,y:J.y+J.height});ej={x:Math.min(qH.x,kg.x),y:Math.min(qH.y,kg.y)};ej.width=Math.max(qH.x,kg.x)-ej.x;ej.height=Math.max(qH.y,kg.y)-ej.y;dE.iY.style.left=ej.x+'px';dE.iY.style.top=ej.y+'px';dE.iY.style.width=ej.width+'px';dE.iY.style.height=ej.height+'px';dE.iY.setAttribute('data-pcc-mark','outline-'+G.kO());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH!==undefined){break;}J=G.eI();cK[0].bn=lo.transform({x:J.x,y:J.y});cK[1].bn=lo.transform({x:J.x+J.width,y:J.y});cK[2].bn=lo.transform({x:J.x+J.width,y:J.y+J.height});cK[3].bn=lo.transform({x:J.x,y:J.y+J.height});ej={x:Math.min(cK[0].bn.x,cK[2].bn.x),y:Math.min(cK[0].bn.y,cK[2].bn.y)};ej.width=Math.max(cK[0].bn.x,cK[2].bn.x)-ej.x;ej.height=Math.max(cK[0].bn.y,cK[2].bn.y)-ej.y;Lz={x:ej.x+ej.width/2,y:ej.y+ej.height/2};for(C=0;C<4;C++){dc=cK[C];tU=(dc.bn.x<Lz.x)?((dc.bn.y<Lz.y)?0:2):((dc.bn.y<Lz.y)?1:3);this.aaY(dc,this.hy,tU);switch(tU){case 0:dc.aY=IPCC.bL.ResizeNW;break;case 1:dc.aY=IPCC.bL.ResizeNE;break;case 2:dc.aY=IPCC.bL.ResizeSW;break;case 3:dc.aY=IPCC.bL.ResizeSE;break;}}dE.iY.style.left=ej.x+'px';dE.iY.style.top=ej.y+'px';dE.iY.style.width=ej.width+'px';dE.iY.style.height=ej.height+'px';dE.iY.setAttribute('data-pcc-mark','outline-'+G.kO());var aoh=ej.x+ej.width/4;var aob=ej.x+ej.width*3/4;var anO=ej.y+ej.height/4;var apf=ej.y+ej.height*3/4;if(this.aF.yN()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qH=cK[0].bn;kg=cK[1].bn;var aoV=cK[2].bn;fB=qH.x-kg.x;fM=kg.y-aoV.y;var aCv=fB*fB;var aAW=fM*fM;if(Math.min(aCv,aAW)<this.hy*this.hy*5){this.rs(cK[0]);this.rs(cK[1]);this.rs(cK[2]);this.rs(cK[3]);}}for(C=4;C<8;C++){dc=cK[C];qH=dc.aqC.bn;kg=dc.aqy.bn;fB=qH.x-kg.x;fM=qH.y-kg.y;gx=fB*fB+fM*fM;if(this.aF.yN()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gx<this.hy*this.hy*5){this.rs(dc);}else{dc.bn={x:(qH.x+kg.x)/2,y:(qH.y+kg.y)/2};this.aaY(dc,this.hy,C);if(dc.bn.x<aoh){dc.aY=IPCC.bL.ResizeW;}else if(dc.bn.x>aob){dc.aY=IPCC.bL.ResizeE;}else if(dc.bn.y<anO){dc.aY=IPCC.bL.ResizeN;}else if(dc.bn.y>apf){dc.aY=IPCC.bL.ResizeS;}}}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.wF){this.zq(cK[8],{x:J.x+G.lN.x,y:J.y+G.lN.y},lo,this.hy,IPCC.cF.cJ.kJ.Callout);}else{this.rs(cK[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dE.hn.style.cursor='move';var fd,ib,vb;var xY=this.K.cA();var hm=xY.gq();if(G.kA===true){vb=G.ad;if(vb>=hm.eu()){fd=hm.kG(hm.eu()-1);ib=fd.sx();this.zq(cK[0],new IPCC.Web.UI.Point(ib.x+ib.width,ib.y),lo,this.hy,IPCC.cF.cJ.kJ.TextSelectionStart);break;}fd=hm.kG(G.ad);ib=fd.sx();this.zq(cK[0],new IPCC.Web.UI.Point(ib.x,ib.y),lo,this.hy,IPCC.cF.cJ.kJ.TextSelectionStart);}else{this.rs(cK[0]);}if(G.kc===true){vb=G.ad+G.dJ-1;if(vb<0){fd=hm.kG(0);ib=fd.sx();this.zq(cK[1],new IPCC.Web.UI.Point(ib.x,ib.y+ib.height),lo,this.hy,IPCC.cF.cJ.kJ.TextSelectionEnd);break;}fd=hm.kG(vb);ib=fd.sx();this.zq(cK[1],new IPCC.Web.UI.Point(ib.x+ib.width,ib.y+ib.height),lo,this.hy,IPCC.cF.cJ.kJ.TextSelectionEnd);}else{this.rs(cK[1]);}break;}if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.TextLine||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var un=cK[cK.length-1];if(un.aL.className.match(/pcc/)){var Vv=dE.iY.clientHeight;var Vx=dE.iY.clientWidth;var alG=dE.iY.offsetTop;var alH=dE.iY.offsetLeft;var akf=un.aL.clientHeight;var ZL=un.aL.clientWidth;un.aL.style.position='absolute';un.aL.style.zIndex='2';if(Vv>akf+10&&Vx>ZL+10){un.aL.style.top=(Vv-akf)/2+alG+'px';un.aL.style.left=(Vx-ZL)/2+alH+'px';}else{un.aL.style.top=Vv+alG+10+'px';un.aL.style.left=(Vx-ZL)/2+alH+'px';}}}this.avw(dE);};cJ.prototype.aeM=function(gQ,uO){var azb=IPCC.h.adS(gQ,uO||'#ffffff'),azA=IPCC.h.map(azb,function(aa){return{ad:aa.startIndex,cq:aa.endIndex,EF:aa.color};});return azA;};cJ.prototype.awN=function(L){var G=L.G;if(G.fm){var kZ=this.aeM(G.fm);var FT=G.bQ;var yS='';for(var C=kZ.length-1;C>=0;C--){var Vl=kZ[C];var ad=Vl.ad;var cq=Vl.cq;var dh=Vl.EF;var bX=IPCC.h.JQ(FT.substr(ad,cq-ad+1));var aoa=IPCC.h.JQ(FT.substr(cq+1,FT.length-cq+1));FT=FT.substr(0,ad);yS="<span style='background-color:"+dh+";'>"+bX+'</span>'+aoa+yS;}yS=IPCC.h.JQ(FT)+yS;yS=yS.replace(/\n/g,'<br/>');L.lF.innerHTML=yS;}else{L.zZ.data=G.bQ;}};module.exports=cJ;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var wf={Ja:function(){var wi=IPCC.wf;if(wi.vS===null){
/*@cc_on@if(@_jscript)wi.vS=document.documentMode>8;@else@*/ wi.vS=true;/*@end@*/}return wi.vS;},vS:null};module.exports=wf;},{}],20:[function(require,module,exports){var eS=function(ZI,anN){this.K=false;this.ZI=ZI;var lB=IPCC.Web.UI;var bp=anN;if(!bp||bp===null){bp=IPCC.aeZ;}this.bp=bp;var apF={bQ:bp.zoomInMenuItem,gU:IPCC.fG.adO,V:1.25};var apO={bQ:bp.zoomOutMenuItem,gU:IPCC.fG.abl,V:1.25};var ayP={bQ:bp.fullImageMenuItem,V:lB.FitType.FullImage};var ayI={bQ:bp.fullWidthMenuItem,V:lB.FitType.FullWidth};var axp={bQ:bp.fullHeightMenuItem,V:lB.FitType.FullHeight};var aoA={bQ:bp.oneToOneRatioMenuItem,V:lB.FitType.OneToOne};var axb={bQ:bp.actualSizeMenuItem,V:lB.FitType.ActualSize};var aAZ={bQ:bp.rotateRightMenuItem,gU:IPCC.fG.abN,V:90};var aCo={bQ:bp.rotateLeftMenuItem,gU:IPCC.fG.abN,V: -90};var aDj={bQ:bp.mirrorHorizontalMenuItem,gU:IPCC.fG.ahj};var aDH={bQ:bp.mirrorVerticalMenuItem,gU:IPCC.fG.amA};var UM={bQ:bp.panToolMenuItem,V:lB.MouseTool.HandPan};var YE={bQ:bp.areaSelectionToolMenuItem,V:lB.MouseTool.Select};var TI={bQ:bp.zoomRectangleToolMenuItem,V:lB.MouseTool.RectangleZoom};var YS={bQ:bp.flyingMagnifierToolMenuItem,V:lB.MouseTool.Magnifier};var aqH={bQ:bp.createTextMarkToolMenuItem,V:lB.MouseTool.CreateTextMark};var ari={bQ:bp.createLineMarkToolMenuItem,V:lB.MouseTool.CreateLineMark};var aqK={bQ:bp.createRectangleMarkToolMenuItem,V:lB.MouseTool.CreateRectangleMark};var aqI={bQ:bp.createEllipseMarkToolMenuItem,V:lB.MouseTool.CreateEllipseMark};var aCM={bQ:bp.editMarksToolMenuItem,V:lB.MouseTool.EditMarks};var apZ={bQ:bp.createStampMarkToolMenuItem,V:lB.MouseTool.CreateStampMark};var arh={bQ:bp.createHighlightMarkToolMenuItem,V:lB.MouseTool.CreateHighlightTextMark};var adw={bJ:55,cs:[{bQ:bp.thicknessMenu.item1,V:1},{bQ:bp.thicknessMenu.item2,V:2},{bQ:bp.thicknessMenu.item3,V:3},{bQ:bp.thicknessMenu.item4,V:4},{bQ:bp.thicknessMenu.item5,V:5},{bQ:bp.thicknessMenu.item6,V:6},{bQ:bp.thicknessMenu.item7,V:7},{bQ:bp.thicknessMenu.item8,V:8}]};var axQ={bJ:145,cs:[{bQ:bp.opacityMenu.translucent,V:127},{bQ:bp.opacityMenu.opaque,V:255}]};var Mc={bQ:bp.borderThicknessMenuItem,gU:IPCC.fG.Hg,bq:'lineWidth',mN:adw};var NP={bQ:bp.borderColorMenuItem,gU:IPCC.fG.LB,bq:'lineColor'};var Kr={bQ:bp.fillColorMenuItem,gU:IPCC.fG.LB,bq:'fillColor'};var anh={bQ:bp.lineThicknessMenuItem,gU:IPCC.fG.Hg,bq:'lineWidth',mN:adw};var amW={bQ:bp.lineColorMenuItem,gU:IPCC.fG.LB,bq:'lineColor'};var aEw={bQ:bp.fontMenuItem,gU:IPCC.fG.anv};var QD={bQ:bp.opacityMenuItem,gU:IPCC.fG.Hg,bq:'opacity',mN:axQ};var ate={bQ:bp.moveToBackMenuItem,gU:IPCC.fG.amI};var ati={bQ:bp.moveBackwardMenuItem,gU:IPCC.fG.amC};var asX={bQ:bp.moveForwardMenuItem,gU:IPCC.fG.amB};var atb={bQ:bp.moveToFrontMenuItem,gU:IPCC.fG.alY};var wC={bQ:bp.deleteMarkMenuItem,gU:IPCC.fG.ahD};var aqz={bJ:180,cs:[ayP,ayI,axp,aoA,axb]};var aqV={bQ:bp.zoomToFitMenuItem,gU:IPCC.fG.aaU,mN:aqz};var atk={bJ:200,cs:[aAZ,aCo,aDj,aDH]};var asv={bQ:bp.orientationMenuItem,mN:atk};var LJ;if(IPCC.cF){if(IPCC.ga===false){LJ={bJ:180,cs:[UM,TI,YS,YE,null]};}else{LJ={bJ:180,cs:[UM,TI,YS,YE,null,aCM,aqH,ari,aqK,aqI,apZ,arh]};}}else{LJ={bJ:180,cs:[UM,TI,YS,YE]};}var aqv={bQ:bp.mouseToolsMenuItem,gU:IPCC.fG.acX,mN:LJ};var aEE={bJ:150,cs:[Kr,Mc,NP,null,QD]};var aCD={bJ:150,cs:[Kr,Mc,NP,null,null]};var aCV={bJ:150,bQ:bp.rectangleMarkPropertiesMenuItem,mN:aEE};var aCG={bJ:150,bQ:bp.rectangleMarkPropertiesMenuItem,mN:aCD};var aqa={bJ:150,cs:[aEw,Kr,Mc,NP,null,null,null,QD]};var arm={bQ:bp.textMarkPropertiesMenuItem,mN:aqa};var aof={bJ:150,cs:[Kr,Mc,NP,null,QD]};var anK={bQ:bp.polygonMarkPropertiesMenuItem,mN:aof};var aow={bJ:140,cs:[anh,amW,null,QD]};var ape={bQ:bp.polylineMarkPropertiesMenuItem,mN:aow};var ayM={bJ:140,cs:[anh,amW,null,null]};var axN={bQ:bp.lineMarkPropertiesMenuItem,mN:ayM};var aCY={bJ:140,cs:[atb,asX,ati,ate]};var wH={bQ:bp.markOrderingMenuItem,mN:aCY};var aGv={bJ:150,cs:[Kr]};var aeo={bQ:bp.stampMarkPropertiesMenuItem,mN:aGv};this.atF={bJ:180,cs:[apF,apO,aqV,asv,aqv]};this.aqw={bJ:140,cs:[arm,wH,wC]};this.aDn={bJ:140,cs:[aCV,wH,wC]};this.aFl={bJ:140,cs:[aeo,wH,wC]};this.aGA={bJ:140,cs:[null,wH,wC]};this.aCm={bJ:140,cs:[aCG,wH,wC]};this.aoQ={bJ:140,cs:[anK,wH,wC]};this.aoU={bJ:140,cs:[ape,wH,wC]};this.ays={bJ:140,cs:[axN,wH,wC]};this.aBF={bJ:140,cs:[aeo,null,wC]};};eS.prototype.lK=function(K){this.K=K;};eS.prototype.dW=function(){this.K=false;};eS.prototype.be=function(){};eS.prototype.SN=function(H){var jo;if(H.mark&&this.ZI){var Mf=H.mark.iX();switch(H.mark.get_type()){case IPCC.Web.UI.MarkType.Line:jo=this.ays;break;case IPCC.Web.UI.MarkType.Polyline:jo=this.aoU;break;case IPCC.Web.UI.MarkType.Rectangle:jo=this.aDn;break;case IPCC.Web.UI.MarkType.Ellipse:jo=this.aCm;break;case IPCC.Web.UI.MarkType.Polygon:jo=this.aoQ;break;case IPCC.Web.UI.MarkType.Text:jo=this.aqw;break;case IPCC.Web.UI.MarkType.Stamp:if(Mf===true){jo=this.aGA;}else{jo=this.aFl;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(H.mark.kk==='y'){jo=this.aBF;}break;}}if(!jo){jo=this.atF;}var ty=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aaL=new IPCC.Web.UI.Point(H.domEvent.clientX+ty,H.domEvent.clientY+uE);var F=this;function xN(bN){if(rF){var am=bN.target;if(am&&am===null){return;}var Eb,ant;while(am&&am!==document.body&&am.parentNode!==null){if(am&&am!==null){if(am===rF){ant=true;}if(!Eb&&am.ImGearCommand){Eb=am.ImGearCommand;}am=am.parentNode;}}if(!ant||Eb){IPCC.Web.UI.bw.removeHandler(document.body,'mousedown',xN);IPCC.Web.UI.bw.removeHandler(document.body,'mousemove',ajp);document.body.removeChild(rF);rF=null;if(Eb){Eb.Ta=H;F.aFh(Eb);}}}};function US(Ft,yg,yn,Fw){var dr=false,C,am;for(C=0;C<yg.length;C++){if(Ft===yg[C]){dr=true;}}if(!dr&&Ft.ImGearType==='menu'){Ft.style.display='none';}else{Ft.style.display='block';}am=Ft.firstChild;while(am){if(am.ImGearType==='menuItemHighlight'){if(am===Fw){am.style.display='block';}else{am.style.display='none';}}if(am.firstChild){US(am,yg,yn,Fw);}am=am.nextSibling;}};function ajp(bN){if(rF){var am=bN.target;if(am&&am===null){return;}var yg=[rF],yn,Fw;while(am&&am!==document.body&&am.parentNode!==null){if(!yn&&am.ImGearType==='menuItem'){yn=am;}if(am.ImGearType==='menu'){yg.push(am);}am=am.parentNode;}if(yn){am=yn.firstChild;while(am){if(am.ImGearType==='menuItemHighlight'){Fw=am;}else if(am.ImGearType==='menu'){yg.push(am);}am=am.nextSibling;}}US(rF,yg,yn,Fw);}};var aw;if(window.innerWidth){aw={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aw={x:ty,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aw={x:ty,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var rF=this.anq(jo,false,false,aaL,aaL,true,aw,document.body,H.mark);US(rF,[rF],null,null);document.body.appendChild(rF);IPCC.Web.UI.bw.addHandler(document.body,'mousedown',xN);IPCC.Web.UI.bw.addHandler(document.body,'mousemove',ajp);};eS.prototype.anq=function(jo,gU,bq,Zo,aaZ,Ec,aw,avR,G){var amh=24,abZ=1;var C,VE=0;for(C=0;C<jo.cs.length;C++){var aBN=jo.cs[C];if(aBN){VE+=amh;}else{VE+=abZ;}}var PK;if(Ec){PK=aaZ.x+jo.bJ;if(PK>aw.x+aw.width){Ec=false;}}if(!Ec){PK=Zo.x-jo.bJ;if(PK<aw.x){Ec=true;}}var qR={x:aaZ.x,y:aaZ.y};if(!Ec){qR={x:Zo.x-jo.bJ-2,y:Zo.y-2};}var aki=aw.y+aw.height-VE-8;if(qR.y>aki){qR.y=aki;}if(qR.y<aw.y+2){qR.y=aw.y+2;}function hg(so){var xc=document.createElement('div');var C;for(C in so){if(so.hasOwnProperty(C)){xc.style[C]=so[C];}}return xc;};var NG=hg({zIndex:2,width:jo.bJ+'px',left:qR.x+'px',top:qR.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});NG.ImGearType='menu';for(C=0;C<jo.cs.length;C++){var yG=jo.cs[C];var uB;if(yG){uB=hg({position:'relative',height:'24px'});uB.ImGearType='menuItem';var CE=hg({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});uB.appendChild(CE);var ame=hg({textOverflow:'ellipsis',whiteSpace:'nowrap',width:jo.bJ-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});uB.appendChild(ame);var amG=hg({display:'none',position:'absolute',height:'24px',width:jo.bJ+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});amG.ImGearType='menuItemHighlight';uB.appendChild(amG);ame.appendChild(document.createTextNode(yG.bQ));var Mj=yG.gU||gU;var Hz=yG.bq||bq;if(Hz){if(Mj===IPCC.fG.Hg){var awJ=G['get_'+Hz]();if(awJ===yG.V){if(this.K.ub()){CE.style.backgroundImage='url(\''+this.K.ub()+'/MenuIcons.png'+'\')';}else{CE.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}CE.style.backgroundPosition='0px';}}else if(Mj===IPCC.fG.amn){var avu=G['get_'+Hz]();if(avu){if(this.K.ub()){CE.style.backgroundImage='url(\''+this.K.ub()+'/MenuIcons.png'+'\')';}else{CE.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}CE.style.backgroundPosition='24px 0px';}}}if(!yG.mN){uB.ImGearCommand={gU:Mj,bq:Hz,V:yG.V};}else{var atd={x:aw.x-qR.x,y:aw.y-qR.y,width:aw.width,height:aw.height};this.anq(yG.mN,Mj,Hz,{x:0,y: -1},{x:jo.bJ,y: -1},Ec,atd,uB,G);}qR.y+=amh;}else{uB=hg({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qR.y+=abZ;}NG.appendChild(uB);}avR.appendChild(NG);return NG;};eS.prototype.aBL=function(G,dv,K){var ty=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aw;if(window.innerWidth){aw={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aw={x:ty,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aw={x:ty,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var lP=aw.x+aw.width/2;var mr=aw.y+aw.height/2;var hQ=document.createElement('div');hQ.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mr-85)+'px;left:'+(lP-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bp.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bp.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bp.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bp.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hQ);var WU=document.getElementById('ImGearColorRed');var ajd=document.getElementById('ImGearColorGreen');var ajZ=document.getElementById('ImGearColorBlue');var Gd=document.getElementById('ImGearColorOKButton');var Jp=document.getElementById('ImGearColorCancelButton');var Wc=G['get_'+dv]();var PF;if(Wc.length===7&&Wc.charAt(0)==='#'){PF=parseInt(Wc.slice(1),16);}WU.value=(PF>>16);ajd.value=((PF>>8)&255);ajZ.value=(PF&255);function Tm(Wg){var V=Math.floor(+(Wg.value));if(!isFinite(V)){V=0;}if(V<0){V=0;}if(V>255){V=255;}return V;};function As(){IPCC.Web.UI.bw.removeHandler(Gd,'click',Fy);IPCC.Web.UI.bw.removeHandler(Jp,'click',Kx);IPCC.Web.UI.bw.removeHandler(document.body,'mousedown',xN);};function Fy(){var dh=Tm(WU)*65536+Tm(ajd)*256+Tm(ajZ);G['set_'+dv]('#'+(0x1000000+dh).toString(16).slice(1));As();document.body.removeChild(hQ);hQ=null;K.bW();};function Kx(){As();document.body.removeChild(hQ);hQ=null;};function xN(bN){if(hQ){var am=bN.target;var Jf;while(am!==document.body){if(am===hQ){Jf=true;}am=am.parentNode;}if(!Jf){As();document.body.removeChild(hQ);hQ=null;}}};IPCC.Web.UI.bw.addHandler(Gd,'click',Fy);IPCC.Web.UI.bw.addHandler(Jp,'click',Kx);IPCC.Web.UI.bw.addHandler(document.body,'mousedown',xN);WU.focus();};eS.prototype.aCE=function(G,K){var ty=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aw;if(window.innerWidth){aw={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aw={x:ty,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aw={x:ty,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var lP=aw.x+aw.width/2;var mr=aw.y+aw.height/2;var hQ=document.createElement('div');hQ.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mr-85)+'px;left:'+(lP-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bp.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bp.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bp.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bp.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bp.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bp.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hQ);var Zj=document.getElementById('ImGearFontFamily');var ahq=document.getElementById('ImGearFontSize');var ahi=document.getElementById('ImGearFontItalic');var agf=document.getElementById('ImGearFontBold');var agv=document.getElementById('ImGearFontUnderline');var ahE=document.getElementById('ImGearFontStrikeout');var Gd=document.getElementById('ImGearFontOKButton');var Jp=document.getElementById('ImGearFontCancelButton');var asD=G.get_fontName();var arz=G.get_fontSize();var rV=G.get_fontStyle();Zj.value=asD;ahq.value=arz;ahi.checked=rV&IPCC.Web.UI.FontStyle.Italic;agf.checked=rV&IPCC.Web.UI.FontStyle.Bold;agv.checked=rV&IPCC.Web.UI.FontStyle.Underline;ahE.checked=rV&IPCC.Web.UI.FontStyle.Strikeout;function avO(Wg){var V=Math.floor(+(Wg.value));if(!isFinite(V)){V=12;}if(V<0.1){V=0.1;}if(V>288){V=288;}return V;};function As(){IPCC.Web.UI.bw.removeHandler(Gd,'click',Fy);IPCC.Web.UI.bw.removeHandler(Jp,'click',Kx);IPCC.Web.UI.bw.removeHandler(document.body,'mousedown',xN);};function Fy(){G.set_fontName(Zj.value);var cO=avO(ahq);G.set_fontSize(cO);var eC=0;if(ahi.checked){eC|=IPCC.Web.UI.FontStyle.Italic;}if(agf.checked){eC|=IPCC.Web.UI.FontStyle.Bold;}if(agv.checked){eC|=IPCC.Web.UI.FontStyle.Underline;}if(ahE.checked){eC|=IPCC.Web.UI.FontStyle.Strikeout;}G.set_fontStyle(eC);As();document.body.removeChild(hQ);hQ=null;K.bW();};function Kx(){As();document.body.removeChild(hQ);hQ=null;};function xN(bN){if(hQ){var am=bN.target;var Jf;while(am!==document.body){if(am===hQ){Jf=true;}am=am.parentNode;}if(!Jf){As();document.body.removeChild(hQ);hQ=null;}}};IPCC.Web.UI.bw.addHandler(Gd,'click',Fy);IPCC.Web.UI.bw.addHandler(Jp,'click',Kx);IPCC.Web.UI.bw.addHandler(document.body,'mousedown',xN);Zj.focus();};eS.prototype.aFh=function(H){var G=H.Ta.mark;switch(H.gU){case IPCC.fG.Hg:G['set_'+H.bq](H.V);this.K.bW();break;case IPCC.fG.LB:this.aBL(G,H.bq,this.K);break;case IPCC.fG.anv:this.aCE(G,this.K);break;case IPCC.fG.amn:G['set_'+H.bq](!G['get_'+H.bq]());this.K.bW();break;case IPCC.fG.amI:G.moveToBack();this.K.bW();break;case IPCC.fG.amC:G.moveBackward();this.K.bW();break;case IPCC.fG.amB:G.moveForward();this.K.bW();break;case IPCC.fG.alY:G.moveToFront();this.K.bW();break;case IPCC.fG.ahD:G.removeFromPage();this.K.bW();break;default:this.K.aCx(H);break;}};module.exports=eS;},{}],21:[function(require,module,exports){var bL={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fD:function(aY){if(typeof aY==='string'){return aY;}switch(aY){case IPCC.bL.Default:case IPCC.bL.Magnifier:case IPCC.bL.None:case IPCC.bL.RunMarks:return 'auto';case IPCC.bL.Arrow:case IPCC.bL.EditMarks:return 'default';case IPCC.bL.Crosshair:case IPCC.bL.RectangleZoom:case IPCC.bL.AddRectangleMark:case IPCC.bL.AddEllipseMark:case IPCC.bL.AddLineMark:case IPCC.bL.AddFreehandLineMark:case IPCC.bL.AddPolygonMark:case IPCC.bL.AddPolylineMark:case IPCC.bL.AddTextMark:case IPCC.bL.AddRectangleRedactionMark:case IPCC.bL.AddImageStampMark:case IPCC.bL.AddStampMark:return 'crosshair';case IPCC.bL.Link:return 'pointer';case IPCC.bL.HandOpen:case IPCC.bL.HandClosed:case IPCC.bL.Move:return 'move';case IPCC.bL.ResizeN:return 'n-resize';case IPCC.bL.ResizeE:return 'e-resize';case IPCC.bL.ResizeS:return 's-resize';case IPCC.bL.ResizeW:return 'w-resize';case IPCC.bL.ResizeNW:return 'nw-resize';case IPCC.bL.ResizeNE:return 'ne-resize';case IPCC.bL.ResizeSE:return 'se-resize';case IPCC.bL.ResizeSW:return 'sw-resize';case IPCC.bL.Text:return 'text';}return 'auto';}};module.exports=bL;},{}],22:[function(require,module,exports){var iI={sv:function(ih,Nz){var af,cu,eZ;if(ih===null){return 'null';}if(!Nz){Nz=0;}af=typeof(ih);if(af==='undefined'){return 'undefined';}else if(af==='number'||af==='boolean'){return ih.toString();}else if(af==='string'){return '\''+ih+'\'';}else if(af==='function'){return 'function';}else{if(Nz<0){return 'ih';}cu='{';for(eZ in ih){if(ih.hasOwnProperty(eZ)){if(cu.length>2){cu+=', ';}cu+=eZ;cu+=': ';cu+=IPCC.iI.sv(ih[eZ],Nz-1);}}cu+='}';return cu;}},MF:function(bQ){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bQ+'\n';}},aGZ:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},oq:function(lj,IK,bF,DY,yf){var bQ="PCC Controls - ";bQ+=(DY)?DY:" ";bQ+=" parent Div id = ";bQ+=(yf)?yf:" ";if(IK){switch(IK){case 0:bQ+=" FunctionCall ";break;case 1:bQ+=" Exception ";break;case 2:bQ+=" Custom ";break;case 3:bQ+=" UserAction ";break;case 4:bQ+=" Warning ";break;default:bQ+=" unknown ";}}bQ+=" - "+lj;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bQ);}if(window.console&&window.console.log){window.console.log(bQ);}if(window.opera){window.opera.postError(bQ);}if(window.debugService){window.debugService.trace(bQ);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bQ+'\n';}var KT;try{KT=onPCCItemLogged;}catch(ex){}if(KT&&(typeof(KT)).toLowerCase()==='function'){var dK=new IPCC.Web.UI.LogItemEventArgs();dK.message=lj;dK.cause=IK;dK.level=bF;dK.id=yf;KT(dK);}}};module.exports=iI;},{}],23:[function(require,module,exports){var kh=function(){this.bg=false;this.K=false;};kh.prototype.lK=function(K){this.K=K;this.K.aaD(true);this.aF=K.bI();};kh.prototype.dW=function(){if(arguments[0]){if(arguments[0]===true){this.K=false;return;}}this.K.aaD(false);this.K=false;};kh.prototype.be=function(){if(this.bg){this.K.Gx(true);this.aF.or();this.bg=false;this.K.bW();}};kh.prototype.Ar=function(H){this.be();var G=H.mark;if(G&&G.ja()===IPCC.Web.UI.MarkType.Text){this.K.vi(G);this.K.bW();}};kh.prototype.jH=function(H){this.be();var hW=H.domEvent;if(hW.button===0){var cg=hW.target;this.dc=cg.ImGearMarkHandle;if(this.dc){this.tU=this.dc.af;this.ny=this.dc.bf;}else{this.tU=null;this.ny=null;}while(!(cg.ImGearMarkRelation)&&cg.parentNode&&cg!==document.body){cg=cg.parentNode;}this.L=cg.ImGearMarkRelation;if(this.L){this.G=this.L.G;}else{this.G=null;}this.bg=true;this.LF=H.imagePoint;this.BP=H.imagePoint;var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!hW.shiftKey){this.K.eG().BN().removeAllMarks();}this.aF.DX(H.imagePoint);}else{var ha,J;switch(this.tU){case IPCC.cF.cJ.prototype.aaC:this.ij=G.eI();this.XK=Math.abs(this.ij.width);this.Hd=Math.abs(this.ij.height);ha={x:this.ij.x,y:this.ij.y};this.Mv={x:this.ij.x+this.ij.width,y:this.ij.y+this.ij.height};if(this.ny>0&&this.ny<3){ha.x+=this.ij.width;this.Mv.x-=this.ij.width;}if(this.ny>1){ha.y+=this.ij.height;this.Mv.y-=this.ij.height;}this.aHZ=ha;break;case IPCC.cF.cJ.prototype.aaN:J=G.eI();this.ij=J;ha={x:J.x+J.width/2,y:J.y+J.height/2};switch(this.ny){case 0:this.Ah=J.y+J.height;ha.y=J.y;break;case 1:this.Ah=J.x;ha.x=J.x+J.width;break;case 2:this.Ah=J.y;ha.y=J.y+J.height;break;case 3:this.Ah=J.x+J.width;ha.x=J.x;break;}break;case IPCC.cF.cJ.prototype.GE:this.bM=G.qx();if(this.ny<0||this.ny>this.bM.eu()){this.be();}ha=this.bM.getPoint(this.ny);break;case IPCC.cF.cJ.prototype.GM:break;case IPCC.cF.cJ.prototype.ZZ:J=G.eI();ha={x:J.x+G.lN.x,y:J.y+G.lN.y};break;default:var vV=G.get_selected();if(hW.ctrlKey||hW.shiftKey){vV= !vV;G.set_selected(vV);}else{if(!vV){vV=true;this.K.eG().BN().removeAllMarks();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var C=0;C<this.K.eG().get_markCount();C++){var Sx=this.K.eG().getMark(C);if(Sx.ja()===608&&Sx.bH===G.bH){Sx.set_selected(vV);}}}else{G.set_selected(vV);}}}if(!vV){this.be();}break;}if(this.bg&&ha){this.aDq=ha.x-this.LF.x;this.aDl=ha.y-this.LF.y;if(this.dc){this.aF.aFd(this.dc.aY);}}}if(this.bg){this.K.Gx(false);}}this.K.bW();};kh.prototype.kw=function(H){var hW=H.domEvent;var BP;function arT(aAC){aAC.Hh(H.imagePoint.x-BP.x,H.imagePoint.y-BP.y);};if(hW.button!==0){this.be();}if(this.bg){var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aF.ze(H.imagePoint);}else{var ha={x:H.imagePoint.x+this.aDq,y:H.imagePoint.y+this.aDl};var J;switch(this.tU){case IPCC.cF.cJ.prototype.aaC:var qM={x:ha.x,y:ha.y};var kH={x:this.Mv.x,y:this.Mv.y};if(hW.ctrlKey){kH.x=this.ij.x+this.ij.width/2;kH.y=this.ij.y+this.ij.height/2;}if(hW.shiftKey){var sH=Math.abs(qM.x-kH.x);var sf=Math.abs(qM.y-kH.y);if(sH*this.Hd<sf*this.XK){if(this.Hd>0.001){sH=sf*this.XK/this.Hd;}}else{if(this.Hd>0.001){sf=sH*this.Hd/this.XK;}}if(qM.x<kH.x){sH= -sH;}if(qM.y<kH.y){sf= -sf;}qM.x=kH.x+sH;qM.y=kH.y+sf;}if(hW.ctrlKey){kH={x:kH.x-(qM.x-kH.x),y:kH.y-(qM.y-kH.y)};}J={};J.x=Math.min(kH.x,qM.x);J.width=Math.max(kH.x,qM.x)-J.x;J.y=Math.min(kH.y,qM.y);J.height=Math.max(kH.y,qM.y)-J.y;G.set_rectangle(J);break;case IPCC.cF.cJ.prototype.aaN:J=G.eI();var EA;if(this.ny&1){if(hW.ctrlKey){EA=this.ij.x+this.ij.width/2;J.width=Math.abs(ha.x-EA)*2;J.x=EA-J.width/2;}else{J.x=Math.min(ha.x,this.Ah);J.width=Math.max(ha.x,this.Ah)-J.x;}}else{if(hW.ctrlKey){EA=this.ij.y+this.ij.height/2;J.height=Math.abs(ha.y-EA)*2;J.y=EA-J.height/2;}else{J.y=Math.min(ha.y,this.Ah);J.height=Math.max(ha.y,this.Ah)-J.y;}}G.set_rectangle(J);break;case IPCC.cF.cJ.prototype.GE:this.bM=G.qx();ha=this.bM.setPoint(this.ny,ha);break;case IPCC.cF.cJ.prototype.GM:break;case IPCC.cF.cJ.prototype.ZZ:J=G.eI();G.set_calloutPoint({x:ha.x-J.x,y:ha.y-J.y});break;default:BP=this.BP;this.BP=H.imagePoint;this.K.eG().BN().jW(arT);break;}}this.K.bW();}};kh.prototype.kM=function(){function awz(G){var HC=G.ahv();if(aaK.contains(HC)&&aaK.contains({x:HC.x+HC.width,y:HC.y+HC.height})){G.set_selected(true);}};if(this.bg){if(!this.G){var aaK=this.aF.wa();this.K.eG().CL(awz);this.aF.or();}this.be();}};kh.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};kh.prototype.ma=function(){this.be();};module.exports=kh;},{}],24:[function(require,module,exports){var dC=require('./IPCC.Util').regClass;var NY=function(){return this;};NY.registerClass=dC;NY.prototype={};NY.registerClass('IPCC.ExceptionEventArgs');module.exports=NY;},{"./IPCC.Util":28}],25:[function(require,module,exports){var fJ=require('./IPCC.Util').regEnum;var nL=function(){};nL.registerEnum=fJ;nL.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nL.registerEnum('IPCC.FitType',false);module.exports=nL;},{"./IPCC.Util":28}],26:[function(require,module,exports){var Ez=function(){function Fv(){return Math.floor((Math.random()*10)).toString();};var hT=new Date();return Fv()+Fv()+'_'+hT.getTime()+"_"+Fv()+Fv()+Fv()+Fv();};module.exports=Ez;},{}],27:[function(require,module,exports){var oP=function(){this.bg=false;this.K=false;};oP.prototype.lK=function(K){this.K=K;};oP.prototype.dW=function(){this.K=false;};oP.prototype.be=function(){if(this.bg){this.bg=false;}};oP.prototype.qC=function(){this.be();};oP.prototype.jH=function(H){this.be();if(H.domEvent.button===0){this.bg=true;this.LF=H.imagePoint;}};oP.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){var K=this.K;var aF=K.bI();var bE=aF.eE();var aX=K.ei();bE.UK(this.LF,H.windowPoint);bE.jU(K.ct(),aX);K.bV('userModifiedViewState',{});aF.iK(bE);K.bW();}};oP.prototype.kM=function(){this.be();};oP.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};oP.prototype.ma=function(){this.be();};module.exports=oP;},{}],28:[function(require,module,exports){var h={};h.YC=(function(){var jJ={};var AJ=[];jJ.get=function aGJ(qA){if(AJ.length===0){return;}for(var i=0;i<qA.length;i++){if(AJ[i]&&AJ[i].qA===qA){return AJ[i].jc;}}};jJ.set=function aJQ(qA,jc){AJ.push({qA:qA,jc:jc});if(AJ.length>10){AJ.shift();}};jJ.contains=function iL(qA){return jJ.get(qA)!==undefined;};jJ.cacheReponse=function aGf(qA,jc){if(jc.readyState===4){jJ.set(qA,jc);}else{var axi=jc.onreadystatechange;jc.onreadystatechange=function(){if(jc.readyState===XMLHttpRequest.DONE&&jc.status===200){jJ.set(qA,jc);}axi();};}};return jJ;})();h.Yx=false;h.NA=(function(){var NA=false;var sZ=navigator.userAgent,aae=((sZ.indexOf('Mozilla/5.0')> -1&&sZ.indexOf('Android ')> -1&&sZ.indexOf('AppleWebKit')> -1)&& !(sZ.indexOf('Chrome')> -1)),acN=new RegExp(/AppleWebKit\/([\d.]+)/),azv=acN.exec(sZ),amo=(azv===null?null:parseFloat(acN.exec(sZ)[1]));NA=aae&&amo!==null&&amo<537;return NA;})();h.aBQ=(function(){var anQ=false;var sZ=navigator.userAgent,aae=/Android/i.test(sZ),aCO=/iPhone|iPad|iPod/i.test(sZ),aEn=/IEMobile/i.test(sZ);anQ=(aae||aCO||aEn);return anQ;})();h.Bg=(function(){var Bg=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Bg=true;}return Bg;})();h.Bc=(function(){var ayZ=navigator.userAgent;if(document.documentMode===10||h.NA){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(ayZ)&& !h.aBQ){return 'svga';}else{return 'svgb';}})();h.De=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();h.CR=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();h.HE=h.CR||(function(){return('ontouchstart'in document.documentElement);})();h.aBp=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();h.aio=function(){return h.aoO.btoa((Math.random().toString(36).slice(-4))+'_'+h.tA(new Date())+'_'+(Math.random().toString(36).slice(-6)));};h.inArray=function(dF,dm){for(var i=0,l=dF.length;i<l;i++){if(dF[i]===dm){return true;}}return false;};h.forEach=function(aU,as,dn){var rn=[].forEach,azt=Object.prototype.hasOwnProperty;if(rn&&aU.forEach===rn){as&&aU.forEach(as,dn);}else if(aU.length=== +aU.length){for(var i=0,length=aU.length;i<length;i++){as&&as.call(dn,aU[i],i,aU);}}else{for(var bq in aU){if(azt.call(aU,bq)){as&&as.call(dn,aU[bq],bq,aU);}}}};h.map=function(dF,as,dn){var rn=[].map,tW=[];if(rn&&dF.map===rn){tW=dF.map(as,dn);}else{h.forEach(dF,function(el,i){tW.push(as.call(dn,el,i,dF));});}return tW;};h.filter=function(dF,as,dn){var rn=[].filter,tW=[],aed=false;if(rn&&dF.filter===rn){tW=dF.filter(as,dn);}else{h.forEach(dF,function(aa,i){aed=as.call(dn,aa,i,dF);if(aed){tW.push(aa);}});}return tW;};h.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};h.remove=function(dF,as,dn){var Wk=[];var ave=h.filter(dF,as,dn);h.forEach(ave,function(dm){var bf=h.indexOf(dF,dm);if(bf=== -1){return;}Wk=Wk.concat(dF.splice(bf,1));});return Wk;};h.keys=function(aU){if(Object&&Object.keys){return Object.keys(aU);}else{var ml=[];for(var C in aU){if(aU.hasOwnProperty&&aU.hasOwnProperty(C)){ml.push(C);}}return ml;}};h.indexOf=function(dF,acD,agn){if(Array.prototype.indexOf){return dF.indexOf(acD,agn);}var k;if(dF==null){throw new TypeError('"dF" is null or not defined');}var O=Object(dF);var len=O.length>>>0;if(len===0){return-1;}var n= +agn||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===acD){return k;}k++;}return-1;};h.reduce=function(dF,as,fu,dn){var rn=[].reduce;var HW=(arguments.length===2)?undefined:fu;if(rn&&typeof rn==='function'&&dF.reduce===rn&&dn===undefined){if(fu!==undefined){return dF.reduce(as,fu,dn);}return dF.reduce(as);}IPCC.h.forEach(dF,function(aB,ai){if(HW===undefined){HW=aB;return;}HW=as.call(dn,HW,aB,ai,dF);});return HW;};h.reduceLeft=function(dF,as,fu,dn){var tW=dF.reverse();return h.reduce.call(undefined,tW,as,fu,dn);};h.contains=function(dF,aB){var cN=dF.length;while(cN--){if(dF[cN]===aB){return true;}}return false;};h.aqf=function(ZP,alD){if(ZP.length!==alD.length){return false;}for(var i=0,l=ZP.length;i<l;i++){if(ZP[i]!==alD[i]){return false;}}return true;};h.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};h.trim=function(cu){if(String.prototype.trim){return cu.trim();}return cu.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};h.getPageFromPoint=function(bh,dN,dn){var aDA=function(gw){return gw.left<=bh&&bh<=gw.right&&gw.top<=dN&&dN<=gw.bottom;};var aCu=function(){return h.filter(dn.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iM){return aDA(iM.getBoundingClientRect());});};if(!dn){dn=document;}return aCu(bh,dN)[0];};h.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};h.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Oc in baseType.prototype){if(baseType.prototype.hasOwnProperty(Oc)){var aBo=baseType.prototype[Oc];if(!this.prototype[Oc]){this.prototype[Oc]=aBo;}}}}return this;};h.agk=function(WS,abp,akG){if(abp){if(!akG){abp.apply(WS);}else{abp.apply(WS,akG);}}return WS;};h.aib=function aib(vE,auC,aif){var ra;return function(){var dn=this,dK=arguments;var aCl=function(){ra=undefined;if(!aif){vE.apply(dn,dK);}};var aou=aif&& !ra;clearTimeout(ra);ra=setTimeout(aCl,auC);if(aou){vE.apply(dn,dK);}};};h.ajV=function ajV(cw,tM){if(cw.classList){cw.classList.add(tM);}else{cw.className+=' '+tM;}};h.ahQ=function ahQ(cw,tM){if(cw.classList){cw.classList.remove(tM);}else{cw.className=cw.className.replace(tM,'');}};h.WB=function(hO){return{width:hO.width||(hO.right-hO.left),height:hO.height||(hO.bottom-hO.top),top:hO.top,bottom:hO.bottom,left:hO.left,right:hO.right};};h.agR=function(alphabet,size){var rf='';for(var C=0;C<size;C++){rf+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return rf;};h.ayz=function(){var aon='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var azP='AQgw';return h.agR(aon,21)+h.agR(azP,1);};h.aia=function(){var hX={'Accusoft-Gid':h.ayz(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return hX;};h.oE=function(aJ){if(aJ instanceof h.oE){return aJ;}this.hX=h.reduce(aJ.headers||{},function(nY,aB,ap){ap=ap.toLowerCase();if(nY[ap]){nY[ap]+=', '+aB;}else{nY[ap]=aB;}return nY;},{});this.status=aJ.status;this.statusText=aJ.statusText;this.responseText=aJ.responseText;if(typeof aJ.responseBody!=='undefined'){this.responseBody=aJ.responseBody;}return this;};h.oE.prototype.getResponseHeader=function(Dw){var aJ=this.hX[Dw.toLowerCase()];return aJ!==undefined?aJ:null;};h.na=(function(){var Ay={};Ay.hX={};Ay.QQ=undefined;function air(ahd){if(!ahd){return{};}return ahd.split('\r\n').reduce(function(NR,nf){var bf=nf.indexOf(': ');if(bf>0){var ap=nf.slice(0,bf);var V=nf.slice(bf+2);if(NR[ap]){V=NR[ap]+', '+V;}NR[ap]=V;}return NR;},{});};Ay.fc=function(atH){var zh={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},kT=PCCViewer.Deferred(),dH=kT.getPromise(),sR;var au=h.extend({},zh,atH);au.headers=h.extend({},Ay.hX,au.headers);if(typeof Ay.QQ==='function'){sR=Ay.QQ(au);if(typeof sR==='object'&&typeof sR.then==='function'){sR.then(function(ax){kT.resolve(ax);},function(ax){kT.reject(ax);});return dH;}}if(au.cache&&h.YC.contains(au.url)){var jc=h.YC.get(au.url);var aJ,uG={};uG={status:jc.status,headers:air(jc.getAllResponseHeaders())};try{uG.responseText=jc.responseText;}catch(e){}if(typeof jc.responseBody!=='undefined'){uG.responseBody=jc.responseBody;}aJ=new h.oE(uG);if(jc.status>=200&&jc.status<300||status===304){kT.resolve(aJ);}else{kT.reject({response:aJ,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jc.status+" "+jc.statusText)});}return dH;}var iw,ra;try{iw=new XMLHttpRequest();}catch(e){kT.reject(new PCCViewer.Error("Error",e.message));}if(iw){iw.open(au.method,au.url,true);if(au.timeout){ra=window.setTimeout(function(){iw.abort();kT.reject({error:new PCCViewer.Error("Error","Request timed out")});},au.timeout);}iw.onreadystatechange=function(){var aJ,uG={};if(iw.readyState===4){if(ra){window.clearTimeout(ra);}uG={status:iw.status,headers:air(iw.getAllResponseHeaders())};try{uG.responseText=iw.responseText;}catch(e){}if(typeof iw.responseBody!=='undefined'){uG.responseBody=iw.responseBody;}aJ=new h.oE(uG);if(iw.status>=200&&iw.status<300||status===304){kT.resolve(aJ);}else{kT.reject({response:aJ,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iw.status+" "+iw.statusText)});}}};var Wm=h.extend({},au.headers,h.aia());for(var ap in Wm){if(Wm.hasOwnProperty(ap)){iw.setRequestHeader(ap,Wm[ap]);}}if(typeof au.mimeType==='string'&&typeof iw.overrideMimeType==='function'){iw.overrideMimeType(au.mimeType);}if(au.cache){h.YC.cacheReponse(au.url,iw);}iw.send(au.body);}return dH;};return Ay;})();h.Zq=function(hm,mu,dW){var gc=[],si=null,tz=null,bB;var aGF=function(tz,si){if(!si){return false;}else{return Math.abs(tz.y-si.y)<1&&Math.abs(tz.height-si.height)<1&&tz.x+tz.width>=si.x+si.width;}};for(bB=mu;bB<dW+1;bB++){tz=hm.kG(bB).aw;if(aGF(tz,si)){si.union(tz);}else{si=tz.clone();gc.push(si);}}return gc;};h.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};h.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};h.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bM){var ath=h.map(bM,function(aa){return[aa.x,aa.y];});return d3_svg_lineBasis(ath);};})();h.aGW=function(cu){if(cu.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aAS=h.filter(cu.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqg=h.map(aAS,function(el){var asP=el.replace(/[a-zA-Z]/g,'|').split('|');return h.map(asP,function(gU){var akj=gU.split(',');return{x: +akj[0],y: +akj[1]};});});return aqg;};h.ahN=function(cu,jf,hL,jT,au){au.cO="12px";var hV=h.vJ(cu,jf,au),wD=12*hL/(hV.width||1),vO=12*jT/(hV.height||1),arn=Math.min(wD,vO);au.cO=arn;return h.aiE(cu,jf,hL,jT,au);};h.aiE=function(cu,jf,hL,jT,au,KO){KO=KO||1;var oI={},hV=h.vJ(cu,jf,au),cO=au.cO;oI.width=hV.width;oI.height=hV.height;oI.fontSize=cO;if(KO>3){return oI;}if((hV.width<hL+1)&&(hV.height<jT+1)){return oI;}else{var wD=cO*hL/(hV.width||1),vO=cO*jT/(hV.height||1),zW=Math.min(wD,vO);if(zW>=au.cO){return oI;}else{au.cO=zW;return h.aiE(cu,jf,hL,jT,au,KO+1);}}};h.vJ=function(cu,jf,au){au=au||{};if(document.createElementNS){return h.aAA(cu,jf,au);}else{return h.aik(cu,jf,au);}};h.aAA=function(cu,jf,au){var svg,agC=false;if(au.fL){svg=au.fL;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');agC=true;document.body.appendChild(svg);}var cO=au.cO||"12px";if(typeof cO==="number"){cO=cO+"px";}var du=document.createElementNS("http://www.w3.org/2000/svg","text");h.forEach({x:0,y:0,'font-size':cO,'stroke':"none",'fill':"#000000",'font-family':jf},function(value,name){du.setAttribute(name,value);});if(au.wu){du.setAttribute('style','white-space:'+au.wu);}var mG=document.createTextNode(cu);du.appendChild(mG);svg.appendChild(du);var wp=du.getBBox(),Ih=wp.width,Ir=wp.height;svg.removeChild(du);if(agC){document.body.removeChild(svg);}if(Ih===0&&Ir===0&&cu!=="M"){return h.vJ("M",jf,au);}else{return{width:Ih,height:Ir};}};h.aik=function(cu,jf,au){var mG=document.createTextNode(cu),FG=document.createElement('div');var cO=au.cO||"12px";if(typeof cO==="number"){cO=cO+"px";}h.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:cO,fontFamily:jf},function(value,name){FG.style[name]=value;});if(au.wu){FG.style.whiteSpace=au.wu;}FG.appendChild(mG);document.body.appendChild(FG);var wp=FG.getBoundingClientRect(),Ih=wp.width||wp.right-wp.left,Ir=wp.height||wp.bottom-wp.top;document.body.removeChild(FG);if(Ih===0&&Ir===0&&cu!=="M"){return h.aik("M",jf,cO);}else{return{width:Ih,height:Ir};}};h.XI=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};h.zw={SVG:function SVG(arL){var fL=document.createElementNS("http://www.w3.org/2000/svg","svg");fL.setAttribute('viewBox',arL);return fL;},Path:function Path(wV,ki){var gV=document.createElementNS("http://www.w3.org/2000/svg","path");gV.style.fill='none';gV.style.stroke=ki.color||'#000000';gV.style.strokeWidth=ki.thickness||4;if(wV){gV.setAttribute('d',wV.toString().trim());}return gV;},Rect:function Rect(bJ,ah,eC){var aN=document.createElementNS("http://www.w3.org/2000/svg","rect");aN.setAttribute('width',bJ||0);aN.setAttribute('height',ah||0);if(eC){aN.setAttribute('style',eC);}return aN;}};h.GG=function GG(ko){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(ko);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(ko+' cannot be parsed as an ISO 8601 date.');}};h.tA=function aEY(hT){if(hT.toISOString&&typeof hT.toISOString==='function'){return hT.toISOString();}else{return new Error(hT+' is not a Date object.');}};h.uk=function uk(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};h.DA=function DA(o){if(h.uk(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};h.Xy=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};h.ahB=function(aB){aB=String(aB).replace(/[^0-9a-f]/gi,"");if(aB.length<6){aB=aB[0]+aB[0]+aB[1]+aB[1]+aB[2]+aB[2];}var UB=function(cu){return parseInt(cu,16);};var r=UB(aB.substring(0,2));var g=UB(aB.substring(2,4));var b=UB(aB.substring(4,6));return{r:r,g:g,b:b};};h.aCH=function(aB){var Ry="";var Sl=function(n){while(n.length<2){n='0'+n;}return n;};var VM=function(n){return Sl(n.toString(16));};Ry+=VM(Math.floor(aB.r));Ry+=VM(Math.floor(aB.g));Ry+=VM(Math.floor(aB.b));return '#'+Ry;};h.aDO=function(aBJ,asp,aCn){var FH=aCn,Wr=h.ahB(aBJ),oB=h.ahB(asp);oB.r=(1-FH)*oB.r+(Wr.r*FH);oB.g=(1-FH)*oB.g+(Wr.g*FH);oB.b=(1-FH)*oB.b+(Wr.b*FH);oB.r=Math.floor(oB.r);oB.g=Math.floor(oB.g);oB.b=Math.floor(oB.b);return h.aCH(oB);};h.alS=function(arG,uO){var aDm=h.reduceLeft(arG,function(fu,dh){if(dh.opacity===undefined){dh.opacity=127;}var awa=dh.opacity/255;return h.aDO(dh.color,fu,awa);},uO);return aDm;};h.adS=function(gQ){if(gQ.length===0){return gQ;}var fm=gQ.slice(0);fm.sort(function(a,b){return a.startIndex-b.startIndex;});var Uc=null;var kZ=[];var Xc=0,Rr=[];var C=fm[0].startIndex;while(fm.length>0){Xc=0;Rr=null;Rr=[];var bB=0;while(bB<fm.length&&fm[bB].startIndex<=C){if(C<=fm[bB].startIndex+fm[bB].length-1){Xc++;Rr.push(fm[bB]);bB++;}else{fm.splice(bB,1);}}if(Xc>0){var EF=h.alS(Rr,'#ffffff');if(EF===Uc){kZ[kZ.length-1].endIndex=C;}else{kZ.push({startIndex:C,endIndex:C,color:EF});}Uc=EF;C++;}else{if(fm.length>0){C=fm[0].startIndex;}Uc=null;}}return kZ;};h.JQ=function(VO){return VO.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};h.aph=function(aK){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(aK);};h.Sl=function(gW,cN){var cu=""+gW;while(cu.length<cN){cu='0'+cu;}return cu;};h.aIn=function(eA){var hh=eA.getTimezoneOffset();hh=((hh<0?'+':'-')+h.Sl(parseInt(Math.abs(hh/60),10),2)+h.Sl(Math.abs(hh%60),2));return hh;};h.agg=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];h.TO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h.afu=function(WG){var aFP=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,ax=aFP.exec(WG),anf,Bw,ahs,agT,amc,wU,abK;if(!ax){return null;}else{anf=ax[1].toLowerCase();ahs=ax[2];agT=ax[3];amc=ax[4];wU=ax[5];abK=ax[6];for(Bw=0;Bw<12;Bw++){if(h.TO[Bw].toLowerCase()===anf){break;}}if(Bw>=12){return null;}return new Date(Date.UTC(abK,Bw,ahs,agT,amc,wU));}};h.ajC=function(eA){return(h.agg[eA.getUTCDay()]+" "+h.TO[eA.getUTCMonth()]+" "+eA.getUTCDate()+" "+eA.getUTCHours()+':'+eA.getUTCMinutes()+':'+eA.getUTCSeconds()+" "+"GMT+0000 "+eA.getUTCFullYear());};h.aBw=function(eA){return(h.agg[eA.getUTCDay()]+" "+h.TO[eA.getUTCMonth()]+" "+eA.getUTCDate()+" "+eA.getUTCFullYear());};h.aBT=function(eA){return(eA.getUTCHours()+':'+eA.getUTCMinutes()+':'+eA.getUTCSeconds()+" "+"GMT+0000");};h.qb=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};h.vN=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};h.aoO=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();h.oy=(function(){var oy=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var afI={};oy.forEach(function(afn){afI[afn]='pointer'+afn;});return afI;}if(window.navigator.msPointerEnabled){var amm={};for(var C=0;C<oy.length;C++){var SB=oy[C];var arU='MSPointer'+SB.charAt(0).toUpperCase()+SB.slice(1);amm[SB]=arU;}return amm;}return{};})();h.tY=(function(){return{zc: ! !navigator.userAgent.match('Edge'),aFp:document.documentMode!==undefined,aET:document.documentMode===8,aGr:document.documentMode===9,aFk:document.documentMode===10,aFY:document.documentMode===11,aEh:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),azl:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();h.Qj=(function(pd){if(!pd|| !IPCC.h.trim(pd)){return 'regular';}return IPCC.h.trim(pd).toLowerCase();});h.aHi=function(arg,value){return typeof arg!=='undefined'?arg:value;};h.OB=function(value){return Number(value.replace(/[a-z]+$/,''));};h.Pg=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};h.ajf=function(){if(this.pU===undefined){this.pU=document.createTextNode('');}return this.pU;};h.ajg=function(){if(this.cI===undefined){this.cI=document.createElement('textarea');this.pU=document.createTextNode('');this.cI.appendChild(h.pU);this.cI.style.position='absolute';this.cI.style.overflow='hidden';this.cI.style.width='80px';this.cI.style.height='80px';this.cI.style.resize='none';this.cI.style.top='-9999px';this.cI.style.left='-9999px';this.cI.style.whiteSpace='pre-wrap';this.cI.style.border=0;this.cI.style.padding='2px';document.body.appendChild(this.cI);}return this.cI;};h.aaG=function(cI,CT,ay){var YW=0.1;var Ka;if(CT===0||CT>ay){CT=ay;}while(YW<=CT){Ka=(YW+CT)/2;cI.style.fontSize=Ka+'px';if(cI.scrollHeight<=cI.offsetHeight){YW=Ka+0.1;}else{CT=Ka-0.1;}}var agq=(Ka-0.5)*0.95;cI.style.fontSize=agq+'px';return agq;};h.KH=function(vE,nA,XZ,sR){if(vE(nA,XZ)!==XZ){return typeof(sR)==='number'?sR:XZ;}return nA;};h.NM=function(nA,aDF,sR){return h.KH(Math.min,nA,aDF,sR);};h.OR=function(nA,aER,sR){return h.KH(Math.max,nA,aER,sR);};h.aue=(function(){var Im;return function(auP,lq,aCp){if(Im!==undefined&& !aCp){setTimeout(lq.bind(null,Im),0);return;}aux(auP,function(rf){Im=rf;lq(rf);});};function aux(PW,lq){var jf='jctqxvjmncyjagibfltptfzhknc';var il='@font-face {font-family:'+jf+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var eC;var oU;var agH;var afg,afC;auK();auo(function(rf){auA();lq(rf);});function auK(){eC=document.createElement('style');eC.innerText=il;PW.appendChild(eC);oU=document.createElement('div');oU.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';afg=aku(oU,'monospace');afC=aku(oU,'arial');PW.appendChild(oU);};function auA(){clearInterval(agH);PW.removeChild(oU);PW.removeChild(eC);};function auo(as){var avI=Date.now();var ra=500;var aEH=25;agH=setInterval(function(){var ahI=afg.offsetWidth===afC.offsetWidth;if(ahI||Date.now()-avI>ra){as(ahI);}},aEH);};function aku(oU,il){var asR='!!';var afr=document.createElement('div');var Gt=document.createElement('span');Gt.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';Gt.innerText=asR;Gt.style.fontFamily=jf+', '+il;afr.appendChild(Gt);oU.appendChild(afr);return Gt;}}})();h.aqA=function(fV,xE,mZ){var ws=document.createElement('div');if(!IPCC.h.tY.azl){fV=fV.replace(/href="#/g,'href="#'+mZ);fV=fV.replace(/url\("?#(.+?)"?\)/g,'url(#'+mZ+'$1)');fV=fV.replace(/ id="/g,' id="'+mZ);ws.innerHTML=fV;return ws;}ws.innerHTML=fV;var api=ws.querySelectorAll('[id]');var apd=ws.querySelectorAll("*");var are=xE.replace(/"/g,'\\$&');var aya=['href','xlink:href'];var auk=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.h.forEach(api,function(aa){aa.id=mZ+aa.id;});IPCC.h.forEach(apd,function(aa){IPCC.h.forEach(aya,function(qv){if(aa.hasAttribute(qv)&&aa.getAttribute(qv).indexOf('#')===0){aa.setAttribute(qv,aa.getAttribute(qv).replace('#',xE+'#'+mZ));}});IPCC.h.forEach(auk,function(qv){if(aa.hasAttribute(qv)&&aa.getAttribute(qv).match(/^url\("?#/)){aa.setAttribute(qv,aa.getAttribute(qv).replace(/^url\("?#(.+?)\"?\)$/,'url("'+xE+'#'+mZ+'$1")'));}});if(aa.hasAttribute('style')){var DM=aa.style.cssText;DM=DM.replace(/url\("?#(.+?)"?\)/g,'url("'+are+'#'+mZ+'$1")');aa.style.cssText=DM;}});return ws;};module.exports=h;},{}],29:[function(require,module,exports){var xT=require('./Type');xT.registerNamespace('IPCC');module.exports={Pagecounter:1,ga:true,aeZ:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qO:require('./predefinedContextMenu'),UN:require('./indexOf'),Sa:require('./setProperties'),aP:require('./PageItem'),Ez:require('./GetUniqueID'),Sy:require('./ViewerState'),wf:require('./Configuration'),bL:require('./Cursor'),kC:require('./Res'),aO:require('./Validate'),iI:require('./Debug'),fG:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:xT,h:require('./IPCC.Util'),cF:require('./Art'),jI:require('./SelectTextController'),eQ:require('./Matrix'),TK:require('./ViewerModel'),eS:require('./ContextMenuController'),eN:require('./SvgUIDirector'),oC:require('./PropertyChangedEventArgs'),zu:require('./StringBuilder'),cV:require('./MultiTouchController'),qT:require('./ImagePyramid'),ck:require('./SingleTouchController'),ke:require('./AddPolyMarkController'),oH:require('./SelectController'),fi:require('./AddRectangularMarkController'),mi:require('./AddFreehandMarkController'),mk:require('./AddLineMarkController'),dg:require('./MouseWheelController'),oP:require('./HandPanController'),nb:require('./RectangleZoomController'),ph:require('./MagnifierController'),kh:require('./EditMarksController'),zt:require('./RunMarksController'),Fc:require('./Space'),fU:require('./Image'),Qf:require('./ImagePool'),BS:require('./PyramidLevel'),yu:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var fU=function(kR,aW,bJ,ah,gM,hd){IPCC.Fc.call(this,0,0,0,0);this.width=bJ;this.height=ah;this.gM=gM;this.hd=hd;this.aW=aW||0;this.fe=0;this.qm=true;this.aqs={};this.xr=false;var F=this;this.aW=aW;this.get_url=function(gA,fl,aV){fl=fl||'Image';aV=aV||'';var Dq=fU.Gc(kR);var EE=false;if(/^[\x00-\x7F]*$/.test(Dq)){EE=true;}if(aV===null||aV===''){if(fl==='Attributes'){var uT='';if(!IPCC.wf.Ja()){uT='&ContentType=png';}if(!EE){return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=e'+kR+uT;}else{return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=u'+encodeURIComponent(Dq)+uT;}}else{if(fl==='SvgImage'){if(!EE){return gA+'/Page/q/'+aW.toString()+'?DocumentID=e'+kR+'&'+aV;}else{return gA+'/Page/q/'+aW.toString()+'?DocumentID=u'+encodeURIComponent(Dq)+'&'+aV;}}if(!EE){return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=e'+kR+'&'+aV;}else{return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=u'+encodeURIComponent(Dq)+'&'+aV;}}}else{if(fl==='SvgImage'){if(!EE){return gA+'/Page/q/'+aW.toString()+'?DocumentID=e'+kR+'&'+aV;}else{return gA+'/Page/q/'+aW.toString()+'?DocumentID=u'+encodeURIComponent(Dq)+'&'+aV;}}if(!EE){return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=e'+kR+'&'+aV;}else{return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=u'+encodeURIComponent(Dq)+'&'+aV;}}};this.get_urlArt=function(gA,fl,aV){fl=fl||'Art';aV=aV||'';if(aV===null||aV===''){if(fl==='Art'){return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=e'+kR;}}else{return gA+'/Page/q/'+aW.toString()+'/'+fl+'?DocumentID=e'+kR+'&'+aV;}};this.get_identifier=function(){return IPCC.fU.Gc(kR);};this.get_encodedIdentifier=function(){return kR;};this.toString=function(){return 'Image("'+kR+'", '+this.aW+', '+this.width+' x '+this.height+', '+this.gM+', '+this.hd+')';};function ain(asU,K){if(K.WC()){F.qm=true;F.xr=false;return;}var ZR=asU.split(',');var nv=false;for(var bz=0;bz<ZR.length;bz++){if(ZR[bz]==="SVG"||ZR[bz]==="svg"){if(IPCC.wf.Ja()){F.xr=true;F.qm=false;}else{F.xr=false;}nv=true;break;}}if(!nv){F.xr=false;F.qm=true;}if(K){if(K.MG){K.MG(F.xr);}}};this.QL=function(gA,K,xC){K.aW=this.aW;var mT=0;var mK=K.Ba();if(mK){if(document.documentMode<9){mK=false;}}var qd=true;if(K.la()===0){qd=false;}var pW=function(fC,aJ){try{if(fC===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fC.errorCode){if(fC.errorCode==='SvgNotAvailable'){mK=false;F.width= +(fC.pageAttributes.imageWidth);F.height= +(fC.pageAttributes.imageHeight);F.gM= +(fC.pageAttributes.imageXResolution);if(F.gM<=0){F.gM=72;}F.hd= +(fC.pageAttributes.imageYResolution);if(F.hd<=0){F.hd=72;}F.fe= +(fC.pageAttributes.pageCount);F.qm=fC.pageAttributes.isRaster!=='false';ain(fC.pageAttributes.contentType,K);}}else{F.width= +(fC.imageWidth);F.height= +(fC.imageHeight);F.gM= +(fC.imageXResolution);if(F.gM<=0){F.gM=72;}F.hd= +(fC.imageYResolution);if(F.hd<=0){F.hd=72;}F.fe= +(fC.pageCount);F.qm=fC.isRaster!=='false';ain(fC.contentType,K);}var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");var IU=false;if(oZ==="true"){IU=true;}K.abh(IU);if(xC){xC();}}catch(e){K.bm('openPage',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};function LO(){mK=false;if(mT<1){var hD={method:'GET',url:F.get_url(gA,'Attributes'),headers:{'Content-Type':'application/json'}};if(qd===true){hD.timeout=K.la();}IPCC.h.na.fc(hD).then(eh,er);mT++;}};var aEA=function(fV,aJ){var bJ;var ah;function auV(){var Xh;try{Xh=JSON.parse(fV);}catch(bN){Xh=undefined;mK=true;}return Xh;};try{bJ=fV.match(/width=\"([0-9.]+)\"/);ah=fV.match(/height=\"([0-9.]+)\"/);if(bJ&&ah){bJ=Number(bJ[1]);ah=Number(ah[1]);}else{throw "error";}if(isNaN(bJ)||isNaN(ah)){throw "error";}F.width=bJ;F.height=ah;F.gM=72;F.hd=72;F.xr=true;F.qm=false;if(K){if(typeof(K.MG==='function')){K.MG(F.xr);}}if(xC){xC();}}catch(e){var ax=auV();if(ax){pW(ax,aJ);return;}if(mK){if(mT<1){mK=false;setTimeout(LO,10);return;}}K.bm('openPage',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};function eh(aJ){var ax=null,cC;try{if(!mK){ax=JSON.parse(aJ.responseText);pW(ax,aJ);}else{var oD;var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");if(oZ==='true'&&K.jE()===true){var ts=IPCC.Web.gy.qk.uh(aJ.getResponseHeader("Accusoft-Data-SK"));var ap=IPCC.Web.Fk(ts,hM);var fj=IPCC.Web.Fn(aJ);var uf=IPCC.Web.FA(fj,ap,hM);oD=IPCC.Web.gy.FV.mP(uf);}else{oD=aJ.responseText;}var ZQ;if(oD.length>=1000){ZQ=oD.substring(0,1000);}else{ZQ=oD.substring(0,oD.length);}aEA(ZQ,aJ);}}catch(ex){if(mK){mK=false;if(mT<1){setTimeout(LO,10);return;}}cC="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cC);}};function er(ax){try{var cC,mq,mR;if(!ax.response){throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,"Client timed out on load");}if(ax.response.status===403){mT++;if(ax.response.statusText&&ax.response.statusText!==""){cC="Expired viewer session ID, error message from the server: "+ax.response.statusText;}else{cC="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,cC);}if(mK){mK=false;if(mT<1){setTimeout(LO,10);return;}}mR=ax.response.getResponseHeader('Accusoft-Status-Message');if(mR){var rj;mq=ax.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wY(mq)){rj=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,mR,rj);}else{if(ax.response.statusText&&ax.response.statusText!==""){cC="Error message from the service: "+ax.response.statusText;}else{cC="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,cC);}}catch(e){if(mK){mK=false;if(mT<1){setTimeout(LO,10);return;}}K.bm('openPage',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};var hM=IPCC.Web.Ht.aiz(4,IPCC.Web.Pk());var qP=IPCC.Web.gy.Hn.mP(hM);var hD={method:'GET',cache:true};if(!mK){hD.url=this.get_url(gA,'Attributes');hD.headers={'Content-Type':'application/json'};}else{var aK;if(K.jE()===true){hM=IPCC.Web.Ht.aab(4,IPCC.Web.Pk());qP=IPCC.Web.gy.Hn.mP(hM);aK=this.get_url(gA,'SvgImage','Scale=1&ContentType='+IPCC.h.Bc+'&iv='+qP);}else{aK=this.get_url(gA,'SvgImage','Scale=1&ContentType='+IPCC.h.Bc);}hD.url=aK;}IPCC.h.na.fc(hD).then(eh,er);};this.avk=function(gA,K,xC){K.aW=this.aW;var mT=0;var qd=true;if(K.la()===0){qd=false;}var pW=function(fC,aJ){try{if(fC===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}F.width= +(fC.imageWidth);F.height= +(fC.imageHeight);F.gM= +(fC.imageXResolution);if(F.gM<=0){F.gM=72;}F.hd= +(fC.imageYResolution);if(F.hd<=0){F.hd=72;}F.fe= +(fC.pageCount);F.qm=true;var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");var IU=false;if(oZ==="true"){IU=true;}K.abh(IU);if(xC){xC();}}catch(e){K.bm('openPage',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};function eh(aJ){try{var gK=aJ.status,ax,cC;if(gK===200){ax=null;try{ax=JSON.parse(aJ.responseText);pW(ax,aJ);}catch(ex){cC="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cC);}}}catch(e){K.bm('openPageForRaster',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};function er(ax){try{var gK=ax.response.status,cC,mR,mq;if(!ax.response){throw new IPCC.Web.UI.ImGearHttpException(gK,"Client timed out on load");}if(gK===403){mT++;if(ax.response.statusText&&ax.response.statusText!==""){cC="Expired viewer session ID, error message from the server: "+ax.response.statusText;}else{cC="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}mR=ax.response.getResponseHeader('Accusoft-Status-Message');if(mR){var rj;mq=ax.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wY(mq)){rj=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(gK,mR,rj);}else{if(ax.response.statusText&&ax.response.statusText!==""){cC="Error message from the service: "+ax.response.statusText;}else{cC="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}}catch(e){K.bm('openPageForRaster',e);if(typeof(K.bV)==='function'){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};var afm={method:'GET',url:this.get_url(gA,'Attributes'),headers:{'Content-Type':'application/json'}};if(qd===true){afm.timeout=K.la();}IPCC.h.na.fc(afm).then(eh,er);};return this;};fU.prototype.clone=function(){var Uq=new fU(this.get_encodedIdentifier(),this.aW,this.width,this.height,this.gM,this.hd);Uq.fe=this.fe;Uq.qm=this.qm;return Uq;};fU.prototype.equals=function(V){if(this.get_encodedIdentifier()!==V.get_encodedIdentifier()){return false;}if(this.aW!==V.aW){return false;}return true;};fU.prototype.pM=8;fU.prototype.rD=0.000001;fU.ano=function(aV){var Ia=aV.referenceDocumentIdentifier;var ace=fU.su(Ia);var hi=aV.encodedDocumentIdentifier;var iG=aV.documentIdentifier;var dS;if(hi===''){hi=undefined;}if(iG===''){iG=undefined;}if(Ia&&Ia!==''){if(hi===ace){hi=undefined;}if(iG===Ia){iG=undefined;}}if(iG){dS=IPCC.fU.su(iG);if(hi){if(hi!==dS){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hi=dS;}}else{if(hi){iG=IPCC.fU.Gc(hi);}}if(!hi){iG=Ia;hi=ace;}var bO=aV.pageNumber;var adg=aV.referencePageNumber;if(bO===adg){bO=undefined;}if(bO!==0&& !bO){bO=adg;}aV.encodedDocumentIdentifier=hi;aV.documentIdentifier=iG;aV.pageNumber=bO;};fU.su=function(iy){if(!iy||iy===''){return '';}var lD=[];var C;for(C=0;C<iy.length;C++){lD.push(iy.charCodeAt(C)%256);lD.push(Math.floor(iy.charCodeAt(C)/256));}lD.push(0);lD.push(0);var NB='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oS=[],tj;for(C=0;C<lD.length-1;C+=3){tj=lD[C]*0x10000+lD[C+1]*0x100+lD[C+2];oS.push(NB.charAt(Math.floor(tj/0x40000)));oS.push(NB.charAt(Math.floor(tj/0x1000)%0x40));oS.push(NB.charAt(Math.floor(tj/0x40)%0x40));oS.push(NB.charAt(tj%0x40));}var aba=Math.ceil(iy.length*16/6);while(oS.length>aba){oS.pop();}if((oS.length%4)===3){oS.push('1');}else if((oS.length%4)===2){oS.push('2');}else if((oS.length%4)===0){oS.push('0');}return oS.join('');};fU.Gc=function(kR){if(!kR||kR===''){return '';}var agK=kR.length-1;var OI=[],tj;var pR,lD=[],pr=[];var C;for(C=0;C<agK;C++){pR=kR.charCodeAt(C);if(pR>64&&pR<91){pr.push(pR-65);}else if(pR>96&&pR<123){pr.push(pR-97+26);}else if(pR>47&&pR<58){pr.push(pR-48+52);}else if(pR===45){pr.push(62);}else if(pR===95){pr.push(63);}else{return '';}}pr.push(0);pr.push(0);pr.push(0);for(C=0;C<pr.length-3;C+=4){tj=pr[C]*0x40000+pr[C+1]*0x1000+pr[C+2]*0x40+pr[C+3];lD.push(Math.floor(tj/0x10000));lD.push(Math.floor(tj/0x100)%256);lD.push(tj%256);}for(C=0;C<lD.length-1;C+=2){OI.push(String.fromCharCode(lD[C]+lD[C+1]*0x100));}var aba=Math.floor(agK*6/16);while(OI.length>aba){OI.pop();}return OI.join('');};module.exports=fU;},{}],31:[function(require,module,exports){var Qf=function(){this.cs=[];this.parentElementID='';this.lockTile=function(ft){var dm,C,Wn,abB;if(this.VV(ft)){return;}Wn=0;for(C=this.cs.length-1;C>=0;C--){if(!(this.cs[C].locked)){Wn++;abB=C;}}if(Wn>4){dm=this.cs[abB];this.uiDirector.agd(dm);this.cs.splice(abB,1);}dm=new axm();dm.pool=this;this.uiDirector.aps(dm);this.cs.push(dm);dm.locked=true;dm.tile=ft;ft.poolItem=dm;return;};this.VV=function(ft){var dm,C;if(this.locked){return true;}for(C=0;C<this.cs.length;C++){if(this.cs[C].tile===ft){dm=this.cs[C];dm.locked=true;ft.poolItem=dm;return true;}}return false;};this.acI=function(ft){var jy,C;jy=ft.poolItem;if(jy!==undefined&&jy.locked){this.uiDirector.aze(jy);jy.locked=false;ft.poolItem=undefined;for(C=0;C<this.cs.length;C++){if(this.cs[C]===jy){this.cs.splice(C,1);this.cs.push(jy);return;}}}};return this;};Qf.prototype.aDi=function(){var C;for(C=0;C<this.cs.length;C++){if(!this.cs[C].locked){this.uiDirector.agd(this.cs[C]);}}};var axm=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Qf;},{}],32:[function(require,module,exports){var qT=function(){this.fI=[];return this;};qT.prototype.axD=function(cY,dA){var cc=cY.qY();var C,me,ov;var cD=1;var aeD;var wl=[];var uZ=[];var xw=[];var El,KL;ov=this.fI.length;for(C=0;C<this.fI.length;C++){if(this.fI[C].cc>cc){ov=C;break;}}me=ov-1;if(me<0){me=0;}if(ov>=this.fI.length){ov=this.fI.length-1;}if(me!==ov){aeD=(cc-this.fI[me].cc)/(this.fI[ov].cc-this.fI[me].cc);cD=aeD*1.0;if(cD>=0.15){cD=1;me=ov;}if(cD<=0.15){cD=1;ov=me;}}uZ=this.fI[me].PS(dA);xw=this.fI[ov].PS(dA);var Ri=function(mF){var C;for(C=0;C<mF.length;C++){mF[C].level.pool.VV(mF[C]);}};var Zf=function(mF){var amg=[];var C;for(C=0;C<mF.length;C++){if(!mF[C].get_isLockedAndLoaded()){amg.push(mF[C]);}}return amg;};var aiL=function(mF){var anb=[];var C;for(C=0;C<mF.length;C++){if(mF[C].get_isLockedAndLoaded()){anb.push(mF[C]);}}return anb;};if(me>0&&me===ov&&this.fI[ov].tiles.length>1){me=ov-1;uZ=this.fI[me].PS(dA);}Ri(uZ);wl=Zf(uZ);if(wl.length>0){for(El=me-1;El>=0;El--){KL=this.fI[El].PS(dA);Ri(KL);if(Zf(KL).length<1){break;}}if(El<0){uZ=aiL(uZ);}else{me=El;uZ=KL;cD=1;}}else{Ri(xw);wl=Zf(xw);}Ri(xw);xw=aiL(xw);if(wl.length>3){wl.splice(3,wl.length-3);}function auT(){var ax;function Vs(DO){var ax='',C,bF;if(DO.length<1){return '';}bF=DO[0].level;ax+='level '+bF.id.toString()+' - ';for(C=0;C<DO.length;C++){if(C>0){ax+=', ';}ax+='('+(DO[C].x/bF.np).toString()+','+(DO[C].y/bF.yP).toString()+')';if(DO[C].get_isLockedAndLoaded()){ax+='*';}}return ax;};ax='tilesToRequest: '+Vs(wl)+'<br/>';ax+='opaqueTiles: '+Vs(uZ)+'<br/>';ax+='translucentTiles: '+Vs(xw)+'<br/>';ax+='opacity: '+cD.toString()+'<br/>';ax+='asQ: '+cc.toString()+'<br/>';ax+='cY: '+cY.toString()+'<br/>';return ax;};return{opaqueTiles:uZ,translucentTiles:xw,opacity:cD,tilesToRequest:wl,toString:auT,asQ:cc,cY:cY.toString()};};qT.prototype.ayh=function(nz){var Gm=[];var ta=[];var C,j;var bF,tile;for(C=0;C<this.fI.length;C++){bF=this.fI[C];for(j=0;j<bF.tiles.length;j++){tile=bF.tiles[j];if(tile.poolItem!==undefined){Gm.push(tile);}}}var amy=function(XS,amz){var C,j,abk,abw;for(C=0;C<amz.length;C++){abk=amz[C];abw=true;for(j=0;j<XS.length;j++){if(abk===XS[j]){abw=false;break;}}if(abw){XS.push(abk);}}};ta=nz.tilesToRequest.concat();amy(ta,nz.opaqueTiles);amy(ta,nz.translucentTiles);for(C=Gm.length-1;C>=0;C--){var anV=Gm[C];for(j=0;j<ta.length;j++){if(ta[j]===anV){Gm.splice(C,1);break;}}}for(C=0;C<Gm.length;C++){Gm[C].unlock();}for(C=0;C<ta.length;C++){ta[C].relock();}for(C=0;C<ta.length;C++){if(ta[C].poolItem===undefined){ta[C].lock();}}};qT.prototype.unlockAllItems=function(){var C,j,bF;for(C=0;C<this.fI.length;C++){bF=this.fI[C];for(j=0;j<bF.tiles.length;j++){if(bF.tiles[j].poolItem!==undefined){bF.pool.acI(bF.tiles[j]);}}}};qT.prototype.aIB=function(){var C;for(C=0;C<this.fI.length;C++){this.fI[C].pool.aDi();}};qT.prototype.toString=function(){var ax='',C,j,bF;for(C=0;C<this.fI.length;C++){bF=this.fI[C];ax+='Level '+C.toString()+':   scaleFactor='+bF.cc.toString()+'  image='+bF.width.toString()+'x'+bF.height.toString()+'  tile='+bF.np.toString()+'x'+bF.yP.toString()+'\n';for(j=0;j<bF.tiles.length;j++){if(j>0){ax+=', ';}ax+='('+bF.tiles[j].x.toString()+', '+bF.tiles[j].y.toString()+')';}ax+='\n';}return ax;};qT.prototype.expandTile=function(ft,XA,ZE,afz,aeT,bF){ft.x=IPCC.h.NM(XA-ft.yd,0,XA,XA-ft.yd);ft.y=IPCC.h.NM(ZE-ft.xQ,0,ZE,ZE-ft.xQ);ft.bJ=IPCC.h.OR(afz+(2*ft.yd),bF.width,afz);ft.ah=IPCC.h.OR(aeT+(2*ft.xQ),bF.height,aeT);if(ft.x+ft.bJ>bF.width){ft.x=ft.x-ft.yd;ft.bJ=bF.width-ft.x;ft.yd=0;}if(ft.y+ft.ah>bF.height){ft.y=ft.y-ft.xQ;ft.xQ=0;ft.ah=bF.height-ft.y;}return ft;};qT.prototype.createPyramid=function(iZ,K){var aBa=6000000;var alJ=5000;var np=1024;var aBd=np*np*3*150;var adj=0.5;var aDE=2;var aj=K.ct();var zd=aj.width*aj.height*3;var yX;var bF;var cc;var C;var bh,dN;var tile;var CY,Dv;this.fI=[];if(aj.qm){cc=1.0;yX=zd*cc*cc;while(this.fI.length<aDE||yX>alJ){bF=new IPCC.BS();bF.cc=cc;this.fI.unshift(bF);cc*=adj;yX=zd*cc*cc;}}else{if(K.ri()===true){zd=aj.width*aj.height;}cc=Math.sqrt(alJ/zd);var aBm=cc*aj.gM;cc=Math.ceil(aBm)/aj.gM;yX=zd*cc*cc;if(K.ri()===false){while(yX<aBd){bF=new IPCC.BS();bF.cc=cc;this.fI.push(bF);cc/=adj;yX=zd*cc*cc;}}else{bF=new IPCC.BS();bF.cc=1;this.fI.push(bF);}}aj.pM=this.fI[this.fI.length-1].cc*8;for(C=0;C<this.fI.length;C++){bF=this.fI[C];bF.Sd=85;if(C===this.fI.length-1){bF.Sd=100;}bF.pyramid=this;bF.id=C;bF.pool=new IPCC.Qf();bF.pool.uiDirector=iZ;yX=zd*bF.cc*bF.cc;bF.width=Math.round(aj.width*bF.cc);bF.height=Math.round(aj.height*bF.cc);bF.np=bF.width;bF.yP=bF.height;if(C>2&&C>this.fI.length-2){bF.np=Math.min(np/2,bF.width);bF.yP=Math.min(np/2,bF.height);}if(yX>aBa){bF.np=Math.min(np,bF.width);bF.yP=Math.min(np,bF.height);}bF.tiles=[];CY=bF.np;for(bh=0;bh<bF.width;bh+=CY){CY=bF.np;if(bh+CY*1.25>bF.width){CY=bF.width-bh;}Dv=bF.yP;for(dN=0;dN<bF.height;dN+=Dv){Dv=bF.yP;if(dN+Dv*1.25>bF.height){Dv=bF.height-dN;}tile=new IPCC.yu();tile.level=bF;if(K.ri()===false){var Rz='jpeg';if(bF.Sd>=100){Rz='png';}tile.contentType=Rz;tile.xQ=2;tile.yd=2;tile=this.expandTile(tile,bh,dN,CY,Dv,bF);if(tile.bJ!==bF.width||tile.ah!==bF.height){tile.url=K.XL('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bJ.toString()+'/'+tile.ah.toString(),'Scale='+bF.cc.toString()+'&Quality='+bF.Sd+'&ContentType='+Rz);}else{tile.url=K.XL('','Scale='+bF.cc.toString()+'&Quality='+bF.Sd+'&ContentType='+Rz);}}else{tile.url=K.XL('','Scale='+bF.cc.toString()+'&ContentType='+IPCC.h.Bc);tile.aHL=iZ.agh();}tile.right=tile.x+tile.bJ;tile.bottom=tile.y+tile.ah;bF.tiles.push(tile);}}}};module.exports=qT;},{}],33:[function(require,module,exports){var ph=function(){this.bg=false;this.K=false;};ph.prototype.lK=function(K){this.K=K;};ph.prototype.dW=function(){this.K=false;};ph.prototype.be=function(){if(this.bg){this.K.bI().hideMagnifier();this.bg=false;}};ph.prototype.qC=function(){this.be();};ph.prototype.jH=function(H){this.be();if(H.domEvent.button===0){this.bg=true;this.K.bI().showMagnifier(H.windowPoint);this.K.bW();}};ph.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){this.K.bI().showMagnifier(H.windowPoint);this.K.bW();}};ph.prototype.kM=function(){this.be();this.K.bW();};ph.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};module.exports=ph;},{}],34:[function(require,module,exports){var eQ=function(hA,jh,hU,hG,dX,fr){if(arguments.length===0){hA=hG=1;jh=hU=dX=fr=0;}this.aiP=function(){return hA*hG-jh*hU;};this.aJA=function(){return hA===1&&jh===0&&hU===0&&hG===1&&dX===0&&fr===0;};this.qV=function(){return hA;};this.qa=function(){return jh;};this.sP=function(){return hU;};this.sr=function(){return hG;};this.vI=function(){return dX;};this.wS=function(){return fr;};this.append=function(cY){var Il=hA*cY.qV()+jh*cY.sP();var IC=hA*cY.qa()+jh*cY.sr();var HY=hU*cY.qV()+hG*cY.sP();var GX=hU*cY.qa()+hG*cY.sr();var GL=dX*cY.qV()+fr*cY.sP()+cY.vI();var HL=dX*cY.qa()+fr*cY.sr()+cY.wS();hA=Il;jh=IC;hU=HY;hG=GX;dX=GL;fr=HL;};this.equals=function(V){if(hA!==V.qV()){return false;}if(jh!==V.qa()){return false;}if(hU!==V.sP()){return false;}if(hG!==V.sr()){return false;}if(dX!==V.vI()){return false;}if(fr!==V.wS()){return false;}return true;};this.vY=function(){if(!this.aiF()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Gl=this.aiP();var Il=hG/Gl;var IC= -jh/Gl;var HY= -hU/Gl;var GX=hA/Gl;var GL=(hU*fr-hG*dX)/Gl;var HL=(jh*dX-hA*fr)/Gl;hA=Il;jh=IC;hU=HY;hG=GX;dX=GL;fr=HL;};this.Hu=function(cY){var Il=cY.qV()*hA+cY.qa()*hU;var IC=cY.qV()*jh+cY.qa()*hG;var HY=cY.sP()*hA+cY.sr()*hU;var GX=cY.sP()*jh+cY.sr()*hG;var GL=cY.vI()*hA+cY.wS()*hU+dX;var HL=cY.vI()*jh+cY.wS()*hG+fr;hA=Il;jh=IC;hU=HY;hG=GX;dX=GL;fr=HL;};this.wR=function(le,re,lP,mr){dX-=lP;fr-=mr;this.scale(le,re);dX+=lP;fr+=mr;};this.aCL=function(){hA=hG=1;jh=hU=dX=fr=0;};this.transform=function(bn){var bh=bn.x*hA+bn.y*hU+dX;var dN=bn.y*hG+bn.x*jh+fr;return new IPCC.Web.UI.Point(bh,dN);};this.mj=function(YM,Ym){dX+=YM;fr+=Ym;};this.asI=function(V){if(Math.abs(hA-V.qV())>1e-8){return false;}if(Math.abs(jh-V.qa())>1e-8){return false;}if(Math.abs(hU-V.sP())>1e-8){return false;}if(Math.abs(hG-V.sr())>1e-8){return false;}if(Math.abs(dX-V.vI())>1e-8){return false;}if(Math.abs(fr-V.wS())>1e-8){return false;}return true;};this.toString=function(){return '{'+hA.toFixed(6)+', '+jh.toFixed(6)+', '+hU.toFixed(6)+', '+hG.toFixed(6)+', '+dX.toFixed(3)+', '+fr.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eQ(hA,jh,hU,hG,dX,fr);};this.Pu=function(gN){hA=gN.qV();jh=gN.qa();hU=gN.sP();hG=gN.sr();dX=gN.vI();fr=gN.wS();};this.aBg=function(ag,aX){hA=1;hG=aX.hd*ag.gM/(ag.hd*aX.gM);jh=hU=dX=fr=0;};this.Uj=function(af,ag,aX){switch(af){case IPCC.Web.UI.FitType.FullImage:this.asz(ag,aX);break;case IPCC.Web.UI.FitType.FullWidth:this.aeu(ag,aX);break;case IPCC.Web.UI.FitType.FullHeight:this.adV(ag,aX);break;case IPCC.Web.UI.FitType.ActualSize:this.afb(ag,aX);break;case IPCC.Web.UI.FitType.OneToOne:if(!(ag.qm)){this.afb(ag,aX);}else{this.ase(ag,aX);}break;}};this.aeu=function(ag,aX){var oe=this.nD(ag);var Aq=aX.width-2;if(Aq<1){Aq=1;}var aG=Aq/oe.width;this.scale(aG,aG);oe=this.nD(ag);if(oe.y<0){this.mj(0,-oe.y);}};this.adV=function(ag,aX){var oe=this.nD(ag);var Aq=aX.height-2;if(Aq<1){Aq=1;}var aG=Aq/oe.height;this.scale(aG,aG);oe=this.nD(ag);if(oe.x<0){this.mj(-oe.x,0);}};this.asz=function(ag,aX){var lQ=this.clone();lQ.aeu(ag,aX);this.adV(ag,aX);if(Math.max(Math.abs(hA),Math.abs(jh))>Math.max(Math.abs(lQ.qV()),Math.abs(lQ.qa()))){this.Pu(lQ);}};this.afb=function(ag,aX){var oe=this.nD({x:0,y:0,width:ag.gM,height:ag.hd});var aG=aX.gM/oe.width;this.scale(aG,aG);};this.ase=function(ag,aX){var oe=this.nD({x:0,y:0,width:1,height:1});var aG=1/Math.min(oe.width,oe.height);this.scale(aG,aG);if(Math.abs(hA-1)<0.0001){hA=1;}if(Math.abs(hG-1)<0.0001){hG=1;}};return this;};eQ.prototype.aiF=function(){return Math.abs(this.aiP())>1e-14;};eQ.prototype.rotate=function(Ag){this.afJ(Ag,0,0);};eQ.prototype.afJ=function(Ag,lP,mr){var Ik=Ag*Math.PI*2/360;var iQ=Math.sin(Ik);var fA=Math.cos(Ik);var cY=new IPCC.eQ(fA,iQ,-iQ,fA,lP*(1-fA)+mr*iQ,mr*(1-fA)-lP*iQ);this.append(cY);};eQ.prototype.aCJ=function(Ag,lP,mr){var Ik=Ag*Math.PI*2/360;var iQ=Math.sin(Ik);var fA=Math.cos(Ik);var cY=new IPCC.eQ(fA,iQ,-iQ,fA,lP*(1-fA)+mr*iQ,mr*(1-fA)-lP*iQ);this.Hu(cY);};eQ.prototype.aIo=function(Ag){this.aCJ(Ag,0,0);};eQ.prototype.scale=function(le,re){var cY=new IPCC.eQ(le,0,0,re,0,0);this.append(cY);};eQ.prototype.aId=function(le,re,lP,mr){var cY=new IPCC.eQ(le,0,0,re,lP*(1-le),mr*(1-re));this.Hu(cY);};eQ.prototype.aGL=function(le,re){var cY=new IPCC.eQ(le,0,0,re,0,0);this.Hu(cY);};eQ.prototype.skew=function(nB,qr){var cY=new IPCC.eQ(1,Math.tan(qr*Math.PI*2/360),Math.tan(nB*Math.PI*2/360),1,0,0);this.append(cY);};eQ.prototype.aHK=function(nB,qr){var cY=new IPCC.eQ(1,Math.tan(qr*Math.PI*2/360),Math.tan(nB*Math.PI*2/360),1,0,0);this.Hu(cY);};eQ.prototype.aJc=function(YM,Ym){var cY=new IPCC.eQ(1,0,0,1,YM,Ym);this.Hu(cY);};eQ.prototype.At=function(J){var eZ=this.transform({x:J.x,y:J.y});var mn=eZ.x;var nk=eZ.x;var lY=eZ.y;var pb=eZ.y;eZ=this.transform({x:J.x+J.width,y:J.y});mn=Math.min(mn,eZ.x);nk=Math.max(nk,eZ.x);lY=Math.min(lY,eZ.y);pb=Math.max(pb,eZ.y);eZ=this.transform({x:J.x+J.width,y:J.y+J.height});mn=Math.min(mn,eZ.x);nk=Math.max(nk,eZ.x);lY=Math.min(lY,eZ.y);pb=Math.max(pb,eZ.y);eZ=this.transform({x:J.x,y:J.y+J.height});mn=Math.min(mn,eZ.x);nk=Math.max(nk,eZ.x);lY=Math.min(lY,eZ.y);pb=Math.max(pb,eZ.y);return new IPCC.Web.UI.Rectangle(mn,lY,nk-mn,pb-lY);};eQ.prototype.atp=function(ag,aX,ej){var afS=this.clone();afS.vY();var arY=afS.transform({x:ej.x+ej.width/2,y:ej.y+ej.height/2});var aG=Math.min(aX.width/ej.width,aX.height/ej.height);aG-=1e-10;var ly=this.qY();if(ly*aG>ag.pM){aG=ag.pM/ly;}if(ly*aG<ag.rD){aG=ag.rD/ly;}this.scale(aG,aG);this.afy(aX,arY);};eQ.prototype.QP=function(ag,aX,dA){this.atp(ag,aX,this.At(dA));};eQ.prototype.aHy=function(aX){this.wR(1,-1,aX.width/2,aX.height/2);};eQ.prototype.atz=function(aX){this.wR(-1,1,aX.width/2,aX.height/2);};eQ.prototype.UK=function(aoF,alr){var ahg=this.transform(aoF);this.mj(alr.x-ahg.x,alr.y-ahg.y);};eQ.prototype.afy=function(aX,bY){var ahK=this.transform(bY);this.mj(aX.width/2-ahK.x,aX.height/2-ahK.y);};eQ.prototype.jU=function(aj,aX){var bh=0,dN=0,end;var oK=this.nD(aj);if(oK.width<aX.width){bh=(aX.width-oK.width)/2-oK.x;}else{end=oK.x+oK.width;if(end<aX.width){bh=aX.width-end;}if(oK.x>0){bh= -oK.x;}}if(oK.height<aX.height){dN=(aX.height-oK.height)/2-oK.y;}else{end=oK.y+oK.height;if(end<aX.height){dN=aX.height-end;}if(oK.y>0){dN= -oK.y;}}this.mj(bh,dN);};eQ.prototype.nD=function(aj){return this.At({x:0,y:0,width:aj.width,height:aj.height});};eQ.prototype.ayQ=function(){var hk,Al,iF,xP,afA,jz;hk=this.transform({x:0,y:0});Al=this.transform({x:0,y:1});iF=this.transform({x:1,y:0});xP=Math.atan2(Al.y-hk.y,Al.x-hk.x);afA=Math.atan2(iF.y-hk.y,iF.x-hk.x);jz=xP-afA;if(jz>Math.PI){jz=jz-2*Math.PI;}if(jz< -Math.PI){jz=jz+2*Math.PI;}return jz<0;};eQ.prototype.aje=function(){var hk,Al,xP;hk=this.transform({x:0,y:0});Al=this.transform({x:0,y:1});xP=Math.atan2(Al.y-hk.y,Al.x-hk.x)-Math.PI/2;if(xP<0){xP=xP+2*Math.PI;}return xP*360/(Math.PI*2);};eQ.prototype.qY=function(){var gx;var hk,pQ;var fB,fM,cc;hk=this.transform({x:0,y:0});pQ=this.transform({x:1,y:0});fB=pQ.x-hk.x;fM=pQ.y-hk.y;gx=fB*fB+fM*fM;pQ=this.transform({x:0,y:1});fB=pQ.x-hk.x;fM=pQ.y-hk.y;cc=Math.min(gx,fB*fB+fM*fM);pQ=this.transform({x:1,y:1});fB=pQ.x-hk.x;fM=pQ.y-hk.y;cc=Math.min(gx,fB*fB+fM*fM);pQ=this.transform({x:1,y: -1});fB=pQ.x-hk.x;fM=pQ.y-hk.y;cc=Math.min(gx,fB*fB+fM*fM);return Math.sqrt(gx);};eQ.aHx=function(){return new IPCC.eQ(1,0,0,1,0,0);};module.exports=eQ;},{}],35:[function(require,module,exports){var fG={adO:1,abl:2,abN:3,ahj:4,amA:5,Hg:6,LB:7,anv:8,amn:9,amI:10,amC:11,amB:12,alY:13,ahD:14,aaU:15,acX:16};module.exports=fG;},{}],36:[function(require,module,exports){var dg=function(){this.K=false;this.aEr=1.5;};dg.prototype.lK=function(K){this.K=K;};dg.prototype.dW=function(){this.K=false;};dg.prototype.be=function(){};dg.prototype.ma=function(H){var aF=this.K.bI();var ag=this.K.ct();var aX=this.K.ei();var bE=aF.eE();var MU=H.wheelDelta/120;if(H.domEvent.ctrlKey){H.domEvent.preventDefault();var aG=((this.aEr-1)/2)+1;if(MU<0){aG=1/aG;}var ly=bE.qY();if(ly*aG>ag.pM){aG=ag.pM/ly;}if(ly*aG<ag.rD){aG=ag.rD/ly;}bE.wR(aG,aG,H.windowPoint.x,H.windowPoint.y);bE.jU(ag,aX);this.K.bV('userModifiedViewState',{});aF.iK(bE);}else{var aeS=bE.transform({x:0,y:0});bE.mj(0,MU*aX.hd);bE.jU(ag,aX);var aeH=bE.transform({x:0,y:0});if(Math.abs(aeS.x-aeH.x)>0.001||Math.abs(aeS.y-aeH.y)>0.001){H.domEvent.preventDefault();this.K.bV('userModifiedViewState',{});aF.iK(bE);}}this.K.bW();};module.exports=dg;},{}],37:[function(require,module,exports){var cV=function(akO){this.akO=akO;this.SY=0;this.RV=1;this.Ra=2;this.TJ=3;this.Tk=4;this.cd=this.SY;this.K=false;this.mZ=0;};cV.prototype.lK=function(K){this.K=K;this.aF=K.bI();};cV.prototype.dW=function(){this.K=false;};cV.prototype.be=function(){if(this.cd===this.Ra){this.K.bI().hideMagnifier();}this.cd=this.SY;};cV.prototype.Qz=function(H){var bN=H.domEvent.rawEvent;switch(this.cd){case this.SY:if(bN.touches.length===1){this.aFW(H);}else if(bN.touches.length===2){this.agZ(H);}else if(bN.touches.length===3){this.XN(H);}else{this.be();}break;case this.RV:if(bN.touches.length===2){this.agZ(H);}else if(bN.touches.length===3){this.XN(H);}else{this.be();}break;case this.Tk:if(bN.touches.length!==3){this.be();}break;case this.Ra:this.be();break;case this.TJ:if(bN.touches.length===3){this.XN(H);}else if(bN.touches.length!==2){this.be();}break;}};cV.prototype.Si=function(H){switch(this.cd){case this.RV:this.mZ++;break;case this.Ra:this.aey(H);break;case this.TJ:this.aqQ(H);break;case this.Tk:this.aBv(H);break;}};cV.prototype.Rm=function(){this.be();};cV.prototype.Jj=function(){this.be();};cV.prototype.aFW=function(H){this.cd=this.RV;this.mZ++;var aos=this.mZ;var F=this;function avQ(){if(F.cd===this.RV&&aos===F.mZ){F.aCI(H);}};setTimeout(avQ,1000);};cV.prototype.aCI=function(H){this.K.fY('qC',H);this.aey(H);this.cd=this.Ra;};cV.prototype.XN=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length!==3){this.be();return;}var gC=bN.touches[0];var cl={x:gC.screenX,y:gC.screenY};var cY=this.aF.eE();cY.vY();this.QZ=cl;this.aqM=cl;this.WO=cY.transform(cl);this.cd=this.Tk;this.aFa=this.aF.eE();this.afP=true;this.aho=true;};cV.prototype.aBv=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length!==3){this.be();return;}var gC=bN.touches[0];var cl={x:gC.screenX,y:gC.screenY};var awK=Math.abs(cl.x-this.QZ.x);var awQ=Math.abs(cl.y-this.QZ.y);if(awK>35){this.aho=false;}if(awQ>35){this.afP=false;}if(this.afP){cl.y=this.QZ.y;}if(this.aho){cl.x=this.QZ.x;}this.aqM=cl;var bE=this.aF.eE();var aX=this.K.ei();var ag=this.K.ct();bE.UK(this.WO,cl);bE.jU(ag,aX);this.aF.iK(bE);};cV.prototype.aHA=function(){};cV.prototype.aip=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length!==2){this.be();return{};}var OH=bN.touches[0];var Mz=bN.touches[1];var fB=OH.screenX-Mz.screenX;var fM=OH.screenY-Mz.screenY;var wc=Math.sqrt(fB*fB+fM*fM);var jz=Math.atan2(fB,fM)*180/Math.PI;var bn={x:(OH.screenX+Mz.screenX)/2,y:(OH.screenY+Mz.screenY)/2};return{wc:wc,jz:jz,amt:bn};};cV.prototype.agZ=function(H){this.cd=this.TJ;this.aDM=this.aip(H);this.LU=this.aDM;var cY=this.aF.eE();cY.vY();this.WO=cY.transform(this.LU.amt);this.Hy=this.LU.jz;};cV.prototype.aey=function(H){var bN=H.domEvent.rawEvent;var gC=bN.touches[0];var cl={x:gC.screenX,y:gC.screenY};this.aF.showMagnifier(cl);};cV.prototype.aqQ=function(H){var xa=this.aip(H);var cc=xa.wc/this.LU.wc;var bE=this.aF.eE();var aX=this.K.ei();var ag=this.K.ct();bE.scale(cc,cc);var Gn=this.Hy-xa.jz;var agD=this.Hy-xa.jz-360;var agi=this.Hy-xa.jz+360;if(Math.abs(Gn)>Math.abs(agD)){Gn=agD;}if(Math.abs(Gn)>Math.abs(agi)){Gn=agi;}if(Gn< -40){bE.rotate(-90);this.Hy=xa.jz;}else if(Gn>40){bE.rotate(90);this.Hy=xa.jz;}bE.UK(this.WO,xa.amt);bE.jU(ag,aX);this.aF.iK(bE);this.LU=xa;};cV.prototype.aHH=function(H){var bE=this.aF.eE();var aX=this.K.ei();var ag=this.K.ct();bE.Uj(IPCC.Web.UI.FitType.FullImage,ag,aX);bE.jU(ag,aX);this.aF.iK(bE);};cV.prototype.ma=function(){this.be();};module.exports=cV;},{}],38:[function(require,module,exports){var dC=require('./IPCC.Util').regClass;var RM=function(){return this;};RM.registerClass=dC;RM.prototype={};RM.registerClass('IPCC.OpenPageEventArgs');module.exports=RM;},{"./IPCC.Util":28}],39:[function(require,module,exports){var dC=require('./IPCC.Util').regClass;var Mt=function(){return this;};Mt.registerClass=dC;Mt.prototype={};Mt.registerClass('IPCC.PageEventArgs');module.exports=Mt;},{"./IPCC.Util":28}],40:[function(require,module,exports){var aP=function(aV){this.ez=aV.page;this.aZ=0;this.ay=0;this.gS=0;this.gf=0;var bG=new IPCC.Web.UI.fZ();this.ahC=undefined;this.hq=false;this.apv=false;this.EU=0;this.aHO=undefined;this.zH=false;this.yv=false;this.DG=false;this.gR=0;this.GB=0;this.BE=false;this.FD=false;this.bj=new IPCC.Web.UI.ArtPage();this.eJ=new IPCC.Web.UI.ArtPage();this.df=this.ez.get_pageNumber();this.bP=this.ez.aD.PU+'_'+this.df+'__pViewId';this.aD=this.ez.aD;this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};return this;};aP.prototype.kL=function(){if(this.ez){return this.ez.jY()||this.aZ;}return this.aZ;};aP.prototype.nU=function(){if(this.ez){return this.ez.hN()||this.ay;}return this.ay;};aP.prototype.Xl=function(bool){bool= ! !bool;if(this.ez){this.ez.BE=bool;}this.BE=bool;};aP.prototype.aht=function(){if(this.ez){return this.ez.BE||this.BE;}return this.BE;};module.exports=aP;},{}],41:[function(require,module,exports){var fJ=require('./IPCC.Util').regEnum;var Bb=function(){};Bb.registerEnum=fJ;Bb.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};Bb.registerEnum('IPCC.PageLayout',false);module.exports=Bb;},{"./IPCC.Util":28}],42:[function(require,module,exports){var dC=require('./IPCC.Util').regClass;var asW=function(){this.cR=undefined;return this;};var PJ=function(element){var F=this;var Ga=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var aoY=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bG=new IPCC.Web.UI.fZ();var aT=[];var auO;var aQ='';var Co='';var ba='';var lu='';var IO='';var Jl=0;this.zV=new IPCC.Web.UI.ImGearDocumentCollection();var Js=[];this.aIm=0;this.aIt={x:0,y:0};var mB=0;var pg=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var mA=false;var ds=0;var tI=false;var MV=[];var Iz='';var dR=1;var pu=0;var lb=1;var qh=1;var ar=IPCC.Web.UI.MouseTool.None;var Au=false;var sX=true;var aY=IPCC.bL.None;var iu;var hF=0;var iW=0;var agL=0;var eP=0;var gL=15;var iv=0;var fQ=15;var oz=0;var nc=0;var nF=0;var po=0;var aDa=0;var gO=0;var hJ=0;var nN=1;var fH=IPCC.PageLayout.VerticalScrollDirection;var dw=IPCC.ViewMode.Document;var mL=null;var TS=null;var Om=0;var Qw=0;var xJ=0;var wQ=false;var jb=null;var JT=0;var Hx='';var EJ='';var qZ=[];var BH=0;var uQ=3;var Sf=0.5;var Ki=true;var Rc=false;var OS=false;var Ye;var sU=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var vd=true;var ln;var dz={};var tC=false;var nT=function(){return null;};var jC=null;var agI="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aEg=agI+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aEl=agI+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var cL=96;var by;function mE(Kn){if(!_debug){return false;}return pg>=Kn;};this.bm=function(iU,iR){if(!mE(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cj=iU+'() threw an exception ('+iR.name+'), "'+iR.message+'"';cj=cj.replace(/\n/g," ");IPCC.iI.oq(cj,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lJ().id);var lZ=new IPCC.ExceptionEventArgs();lZ.functionName=iU;lZ.exception=iR;this.bV('exceptionThrown',lZ);};this.aM=function(iU,kI,pY){if(!mE(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],(pY?pY:0));}cj+=')';this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);};this.Bm=function(iU,kI,oI,pY){if(!mE(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],(pY?pY:0));}cj+=') = ';cj+=IPCC.iI.sv(oI,1);this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);};this.dp=function(iU,kI,oI){if(!mE(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],0);}cj+=') = ';cj+=IPCC.iI.sv(oI,1);this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wE=function(lj,bF){IPCC.iI.oq(lj,IPCC.Web.UI.DebugItemCause.FunctionCall,bF,'PageList',this.lJ().id);};this.oq=function(lj){IPCC.iI.oq(lj,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lJ().id);};this.IZ=function(){return _debug;};this.Zb=function(V){var JI= ! !V;if(_debug===JI){return;}_debug=JI;var cG=io();var dq=[];if(cG){dq=sK(cG);}var C=0;for(C=0;C<dq.length;C++){var ac;if(aT[dq[C]].bP){ac=document.getElementById(aT[dq[C]].bP).al;}if(ac){ac.set_debug(_debug);}}this.cX('debug');};this.zQ=function(){return pg;};this.Kg=function(V){IPCC.aO.lp(V,'value',IPCC.Web.UI.DebugErrorLevel);if(pg===V){return;}pg=V;var cG=io();var dq=[];if(cG){dq=sK(cG);}var C=0;for(C=0;C<dq.length;C++){var ac;if(aT[dq[C]].bP){ac=document.getElementById(aT[dq[C]].bP).al;}if(ac){ac.set_debugErrorLevel(pg);}}this.cX('debugErrorLevel');};function di(cr,T){bG.addHandler(cr,T);};function bZ(cr,T){bG.removeHandler(cr,T);};this.KX=function(T){di('mouseDown',T);};this.Xb=function(T){bZ('mouseDown',T);};this.Le=function(T){di('mouseMove',T);};this.WY=function(T){bZ('mouseMove',T);};this.NC=function(T){di('mouseUp',T);};this.XQ=function(T){bZ('mouseUp',T);};this.Yh=function(T){di('selectTextMouseToolCompleted',T);};this.ZB=function(T){bZ('selectTextMouseToolCompleted',T);};this.AI=function(T){di('textPageReady',T);};this.DW=function(T){bZ('textPageReady',T);};this.TQ=function(T){di('hyperlinkPageReady',T);};this.aeX=function(T){bZ('hyperlinkPageReady',T);};this.avX=function(T){di('allPagesAdded',T);};this.aDG=function(T){bZ('allPagesAdded',T);};this.SK=function(T){di('pageOpening',T);};this.ZH=function(T){bZ('pageOpening',T);};this.TP=function(T){di('pageOpened',T);};this.Zg=function(T){bZ('pageOpened',T);};this.Hv=function(T){di('pageOpenFailed',T);};this.FR=function(T){bZ('pageOpenFailed',T);};this.Sz=function(T){di('pageDisplayed',T);};this.Yu=function(T){bZ('pageDisplayed',T);};this.kz=function(T){di('propertyChanged',T);};this.mX=function(T){bZ('propertyChanged',T);};this.Sc=function(T){di('exceptionThrown',T);};this.Wo=function(T){bZ('exceptionThrown',T);};this.zA=function(T){di('textExtractionFailed',T);};this.CZ=function(T){bZ('textExtractionFailed',T);};this.Bz=function(T){di('markAdded',T);};this.zG=function(T){bZ('markAdded',T);};this.Rf=function(T){di('markCreating',T);};this.Wj=function(T){bZ('markCreating',T);};this.He=function(T){di('markChanged',T);};this.Gs=function(T){bZ('markChanged',T);};this.GS=function(T){di('markReordered',T);};this.Fq=function(T){bZ('markReordered',T);};this.Hf=function(T){di('markSelectionChanged',T);};this.FU=function(T){bZ('markSelectionChanged',T);};this.HN=function(T){di('markTextSelectionChanged',T);};this.FS=function(T){bZ('markTextSelectionChanged',T);};this.CJ=function(T){di('markRemoved',T);};this.zJ=function(T){bZ('markRemoved',T);};this.avJ=function(T){di('commentAdding',T);};this.aDJ=function(T){bZ('commentAdding',T);};this.vu=function(T){di('commentAdded',T);};this.CQ=function(T){bZ('commentAdded',T);};this.vD=function(T){di('commentRemoved',T);};this.Es=function(T){bZ('commentRemoved',T);};this.tg=function(T){di('commentChanged',T);};this.tq=function(T){bZ('commentChanged',T);};this.ZO=function(T){di('scaleChanged',T);};this.Zn=function(T){bZ('scaleChanged',T);};this.Ob=function(){var al=document.getElementById(aT[ds].bP).al;if(al){return al.get_currentState();}else{return null;}};this.aiI=function(){var ak=IPCC.h.find(aT,function(eZ){return eZ.df===ds;});if(!ak){return;}return ak.ez;};this.axH=function(aW){var ak=IPCC.h.find(aT,function(eZ){return eZ.df===ds;});if(!ak){return;}return ak.bP;};this.qY=function(){return dR;};this.aFD=function(cc){ic(cc,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.MI=function(aG,qu,Vj,fa){fa=fa||IPCC.ScaleTrigger.Zoom;ic(dR*aG,Vj,undefined,undefined,undefined,qu,fa);};this.aqd=function(aG,bh,dN,EZ,fa){fa=fa||IPCC.ScaleTrigger.Zoom;if(dR*aG<8){ic(dR*aG,false,bh,dN,EZ,undefined,fa);}else{ic(8,false,bh,dN,EZ);}};this.Ty=function(aG,fa){fa=fa||IPCC.ScaleTrigger.Zoom;ic(dR/aG,false,undefined,undefined,undefined,undefined,fa);};this.aCt=function(){return VG();};this.aaE=function(fa,fF,abF){var Jd,Kp,aZ,ay;var WX=0;var C=0;for(C=0;C<aT.length;C++){aZ=aT[C].kL();ay=aT[C].nU();if(jj(aT[C].gR)===true){var Kh=aZ;aZ=ay;ay=Kh;}if(aZ>0&&ay>0){var Gj=aZ/ay;if(Gj>WX){WX=Gj;Jd=ay;Kp=aZ;}}}if(WX>0){var aua=(aQ.offsetWidth-IPCC.Web.nI()-uw()-(gL+fQ+nc+po));var atA=aua/(Kp*cL/aT[0].gS);var ew=hF;var fN=iW;if(jj(aT[0].gR)===true){ew=iW;fN=hF;}var akW=Jd/fN*atA;var jP=(aQ.clientHeight-(eP+iv+oz+nF))/(fN*cL/aT[0].gf);var HB=akW;if(abF===true&&akW>jP){HB=jP;}ic(HB,true,undefined,undefined,undefined,undefined,fa,fF);}};this.aam=function(fa,fF,abF){var Jd,Kp,aZ,ay;var XO=0;var C=0;for(C=0;C<aT.length;C++){aZ=aT[C].kL();ay=aT[C].nU();if(jj(aT[C].gR)===true){var Kh=aZ;aZ=ay;ay=Kh;}if(aZ>0&&ay>0){var Gj=ay/aZ;if(Gj>XO){XO=Gj;Jd=ay;Kp=aZ;}}}if(XO>0){var aud=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF));var atJ=aud/(Jd*cL/aT[0].gf);var ew=hF;var fN=iW;if(jj(aT[0].gR)===true){ew=iW;fN=hF;}var ajL=Kp/ew*atJ;var jP=(aQ.clientWidth-uw()-(gL+fQ+nc+po))/(ew*cL/aT[0].gS);var HB=ajL;if(abF===true&&ajL>jP){HB=jP;}ic(HB,true,undefined,undefined,undefined,undefined,fa,fF);}};this.aDb=function(fF,fa){if(F.yA&&typeof F.yA==='function'){F.yA();}var aZ;var ay;var fs;var kd=1;fa=fa||IPCC.ScaleTrigger.Fit;if(fF===IPCC.FitType.FitToWidth){if(dw===IPCC.ViewMode.Document){kd=(aQ.offsetWidth-IPCC.Web.nI()-uw()-(gL+fQ+nc+po))/(gO/dR);ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else if(dw===IPCC.ViewMode.SinglePage){if(jj(aT[ds].gR)===true){aZ=aT[ds].nU();fs=cL/aT[ds].gf;}else{aZ=aT[ds].kL();fs=cL/aT[ds].gS;}kd=(aQ.offsetWidth-IPCC.Web.nI()-uw()-(gL+fQ+nc+po))/(aZ*fs);ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else{if(fH===IPCC.PageLayout.VerticalScrollDirection){SI(fa,fF);}else{F.aaE(fa,fF);}}}else if(fF===IPCC.FitType.ShrinkToWidth){var auq=aQ.clientWidth-uw();var auB=20;var Rd=auq-auB;if(dw===IPCC.ViewMode.SinglePage){if(jj(aT[ds].gR)===true){aZ=aT[ds].nU();fs=cL/aT[ds].gf;}else{aZ=aT[ds].kL();fs=cL/aT[ds].gS;}if(Rd<dR*aZ*fs){kd=(aQ.offsetWidth-IPCC.Web.nI()-uw()-(gL+fQ+nc+po))/(aZ*fs);ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}}else{if(Rd<gO){ic(dR*Rd/gO,true,undefined,undefined,undefined,undefined,fa,fF);}}}else if(fF===IPCC.FitType.ActualSize){if(dw===IPCC.ViewMode.Document||dw===IPCC.ViewMode.SinglePage){ic(1,true,undefined,undefined,undefined,undefined,fa,fF);}}else if(fF===IPCC.FitType.FitToHeight){if(dw===IPCC.ViewMode.Document){kd=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF))/(hJ/dR);ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else if(dw===IPCC.ViewMode.SinglePage){if(jj(aT[ds].gR)===true){ay=aT[ds].kL();fs=cL/aT[ds].gS;}else{ay=aT[ds].nU();fs=cL/aT[ds].gf;}kd=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF))/(ay*fs);ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else{if(fH===IPCC.PageLayout.HorizontalScrollDirection){SI(fa,fF);}else{F.aam(fa,fF);}}}else if(fF===IPCC.FitType.BestFit){var Gf;if(dw===IPCC.ViewMode.Document){kd=(aQ.offsetWidth-IPCC.Web.nI()-(gL+fQ+nc+po))/(gO/dR);Gf=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF))/(hJ/dR);if(Gf<kd){kd=Gf;}ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else if(dw===IPCC.ViewMode.SinglePage){if(jj(aT[ds].gR)===true){aZ=aT[ds].nU();ay=aT[ds].kL();fs=cL/aT[ds].gS;}else{aZ=aT[ds].kL();ay=aT[ds].nU();fs=cL/aT[ds].gf;}kd=(aQ.offsetWidth-IPCC.Web.nI()-uw()-(gL+fQ+nc+po))/(aZ*fs);Gf=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF))/(ay*fs);if(Gf<kd){kd=Gf;}ic(kd,true,undefined,undefined,undefined,undefined,fa,fF);}else{if(fH===IPCC.PageLayout.HorizontalScrollDirection){F.aaE(fa,fF,true);}else{F.aam(fa,fF,true);}}}};this.azZ=function(bO,bM){var ak=aT[bO-1];var aC=document.getElementById(ak.bP);var Er=[];if(aC){var eY,Eq,bn;try{eY=Qq(aC);}catch(e){return null;}Er=IPCC.h.map(bM,function(eZ){Eq=aC.al.transformPagePointToWindow(new IPCC.Web.UI.Point(eZ.x,eZ.y),true);bn=akb(aC,Eq.x,Eq.y,eY);return{clientX:bn.x,clientY:bn.y};});return Er;}else{return null;}};this.aEv=function(){var C=0;for(C=0;C<aT.length;C++){F.bW(C);}io();pe();};this.bW=function(aW){var ao;if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}F.wg(ao,aW);};this.Ji=function(aW){var ao;if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}if(ao){var ac=ao.al;ac.Ji();}};this.wg=function(ao,aW){if(ao&&ao.al&&ao.al.fE()===true){var ac=ao.al;ac.display();aT[aW].hq=true;if(dw===IPCC.ViewMode.SinglePage){var mO= -1;if(Array.prototype.indexOf){mO=qZ.indexOf(aW);}else{mO=IPCC.Web.jX(qZ,aW);}if(mO!== -1){qZ.splice(mO,1);}}}};function akw(dq){var ao;for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);var aW=ak.get_pageNumber();if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}if(ao&&ao.al&&ao.al.Cu()!==null){return ao.al;}}return null;};this.JZ=function(){var dq=this.get_displayedPages();var PA=akw(dq);PA.JZ();};this.Dx=function(aG){var hI=0;var hz=aT.length-1;for(var bz=hI;bz<=hz;bz++){var ac;var ao=document.getElementById(aT[bz].bP);if(ao){ac=ao.al;}else{continue;}ac.set_sharpening(aG);if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.display();}}pu=aG;};this.aBH=function(){return pu;};this.Ge=function(aG){var hI=0;var hz=aT.length-1;for(var bz=hI;bz<=hz;bz++){var ac;var ao=document.getElementById(aT[bz].bP);if(ao){ac=ao.al;}else{continue;}ac.set_gamma(aG);if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.display();}}qh=aG;};this.aAN=function(){return qh;};this.Ew=function(aG){var hI=0;var hz=aT.length-1;for(var bz=hI;bz<=hz;bz++){var ac;var ao=document.getElementById(aT[bz].bP);if(ao){ac=ao.al;}else{continue;}ac.set_svgLineWidthMultiplier(aG);if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.display();}}lb=aG;};this.aBl=function(){return lb;};this.Cu=function(){var dq=this.get_displayedPages();var PA=akw(dq);if(PA){return PA.Cu();}return null;};this.vi=function(aW,G){var ao;if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}if(ao&&ao.al){ao.al.vi(G);}};this.pa=function(aW){var ao;if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}if(ao&&ao.al){ao.al.pa();}};var uv='';this.uq=function(V){uv=V;};this.lJ=function(){return uv;};this.bV=function(cr,H){try{var T=bG.getHandler(cr);if(T!==null){T(F,H);}}catch(e){F.bm(cr+'Event',e);}};this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};this.awC=function(T){bG.addHandler('currentPageChanged',T);};this.aDY=function(T){bG.removeHandler('currentPageChanged',T);};this.BU=function(dk,V){dk.style.cursor='move';dk.style.cursor='-webkit-'+V;dk.style.cursor='-moz-'+V;dk.style.cursor=V;};this.ais=function(){return ba.style.cursor||'auto';};this.aFt=function(V){ba.style.cursor=V||'auto';var C=0;for(C=0;C<aT.length;C++){if(aT[C].bP){var ao=document.getElementById(aT[C].bP);if(ao){var ac=ao.al;ao.style.cursor=V;if(ac){ac.set_cursor(V);if(aT[C].hq===true&&ac.fE()===true){ac.display();}}}}}};this.Ui=function(){return ar;};this.Jo=function(V){IPCC.aO.lp(V,'value',IPCC.Web.UI.MouseTool);var mv=false;if(ar!==V){iu=null;ar=V;switch(ar){case IPCC.Web.UI.MouseTool.HandPan:aY='grab';F.BU(ba,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:F.tm();aY=IPCC.bL.Text;ba.style.cursor=IPCC.bL.fD(aY);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:F.tm();aY=IPCC.bL.Text;ba.style.cursor=IPCC.bL.fD(aY);break;case IPCC.Web.UI.MouseTool.None:aY=IPCC.bL.None;ba.style.cursor=IPCC.bL.fD(aY);break;case IPCC.Web.UI.MouseTool.Magnifier:aY=IPCC.bL.Magnifier;ba.style.cursor=IPCC.bL.fD(aY);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aY=IPCC.bL.RectangleZoom;ba.style.cursor=IPCC.bL.fD(aY);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aY=IPCC.bL.AddRectangleMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aY=IPCC.bL.AddRectangleRedactionMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aY=IPCC.bL.AddEllipseMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aY=IPCC.bL.AddLineMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.mk()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aY=IPCC.bL.AddStampMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aY=IPCC.bL.AddImageStampMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aY=IPCC.bL.AddImageStampMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aY=IPCC.bL.AddTextMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aY=IPCC.bL.AddTextMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aY=IPCC.bL.AddTextMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.fi(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aY=IPCC.bL.AddFreehandLineMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.mi()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aY=IPCC.bL.AddPolylineMark;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.ke(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aY=IPCC.bL.EditMarks;ba.style.cursor=IPCC.bL.fD(aY);mv=true;iu=function(){return[new IPCC.kh(IPCC.Web.UI.MarkType.Text)];};break;default:aY=IPCC.bL.None;ba.style.cursor=IPCC.bL.fD(aY);break;}var C=0;for(C=0;C<aT.length;C++){if(aT[C].bP){var ao=document.getElementById(aT[C].bP);if(ao){var ac=ao.al;if(aY==='grab'){F.BU(ao,'grab');}else{ao.style.cursor=IPCC.bL.fD(aY);}if(ac){ac.set_cursor(aY);ac.Os(ar===IPCC.Web.UI.MouseTool.HandPan||ar===IPCC.Web.UI.MouseTool.EditMarks);if(mv===true){ac.Mp(iu());}else{ac.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(aT[C].hq===true&&ac.fE()===true){ac.display();}}}}}this.cX('mouseTool');}};this.ayA=function(){return Au;};this.aFs=function(bool){Au= ! !bool;};this.yN=function(){return sU;};this.Ks=function(V){if(sU!==V){sU=V;var cG=io();var dq=[];if(cG){dq=sK(cG);}var C=0;for(C=0;C<dq.length;C++){var ao;var ac;ao=document.getElementById(aT[dq[C]].bP);ac=ao.al;if(ac){ac.set_markHandleMode(sU);this.wg(ao,C);}}this.cX('markHandleMode');}};this.jK=function(){return sX;};this.Kl=function(V){if(sX!==V){sX=V;var cG=io();var dq=[];if(cG){dq=sK(cG);}var C=0;for(C=0;C<dq.length;C++){var ac;if(aT[dq[C]].bP){ac=document.getElementById(aT[dq[C]].bP).al;}if(ac){ac.set_textRequired(sX);}}this.cX('textRequired');}};this.axJ=function(){return uQ;};this.aGB=function(V){if(V<0){V=0;}if(uQ!==V){uQ=V;this.cX('maxPrefetch');}};this.azF=function(){return Ki;};this.aEo=function(V){if(Ki!==V){Ki=V;this.cX('displayPagesWhenScrolling');}};this.ayf=function(){return BH;};this.aFw=function(V){if(V<0){V=0;}if(BH!==V){BH=V;this.cX('maxOutOfViewDisplay');}};this.aAm=function(){return Rc;};this.aEB=function(V){if(Rc!==V){Rc= ! !V;this.cX('discardOutOfViewText');}};this.ayr=function(){return OS;};this.aGo=function(V){if(OS!==V){OS= ! !V;this.cX('retainPageText');}};this.ayx=function(){return Sf;};this.aFq=function(V){if(V<0){V=0;}if(Sf!==V){Sf=V;this.cX('scrollDisplayThreshold');}};this.ayJ=function(){return fH;};this.aGe=function(V){if(fH===V){return;}fH=V;if(aQ===''||aQ.clientHeight<=0||dw===IPCC.ViewMode.SinglePage){this.cX('pageLayout');return;}var uj=ds;var Gq=dw;if(dw===IPCC.ViewMode.EqualWidthPages||dw===IPCC.ViewMode.EqualFitPages){F.Mh(IPCC.ViewMode.Document);}aQ.scrollLeft=0;aQ.scrollTop=0;var C=0;var ao;if(fH===IPCC.PageLayout.VerticalScrollDirection){if(IO){IO.setAttribute('style',aEg);}Co.insertBefore(lu,IO);for(C=0;C<aT.length;C++){ao=document.getElementById(aT[C].bP);ao.style.display='block';if(hF>0){ao.style.margin=eP+'px auto '+iv+'px auto';}}ba.style.margin='0px '+gL+'px 0px '+fQ+'px';aQ.scrollLeft=(gO-aQ.clientWidth)/2+gL+nc;}else{if(IO){IO.setAttribute('style',aEl);}Co.removeChild(lu);for(C=0;C<aT.length;C++){ao=document.getElementById(aT[C].bP);if(ao){ao.style.display='inline-block';if(hF>0){ao.style.margin=eP+'px '+gL+'px '+iv+'px '+fQ+'px';}}}ba.style.margin='0px';aQ.scrollTop=(hJ-aQ.clientHeight)/2+eP+oz;}if(Gq===IPCC.ViewMode.EqualWidthPages){F.Mh(IPCC.ViewMode.EqualWidthPages);}else if(Gq===IPCC.ViewMode.EqualFitPages){F.Mh(IPCC.ViewMode.EqualFitPages);}this.ru(uj);pe();this.cX('layout');};this.aCw=function(){return dw;};this.Mh=function(V,fa){fa=fa||IPCC.ScaleTrigger.ViewMode;if(dw===V){return;}dw=V;if(aQ===''||aQ.clientHeight<=0){this.cX('viewMode');return;}var uj=ds;this.ru(uj);if(dw===IPCC.ViewMode.Document){var jP=1;var aZ=hF;var ay=iW;if(jj(qK)===true){aZ=iW;ay=hF;}if(fH===IPCC.PageLayout.VerticalScrollDirection){jP=(aQ.clientWidth-(gL+fQ+nc+po))/aZ;}else{jP=(aQ.clientHeight-(eP+iv+oz+nF))/ay;}ic(jP,true,undefined,undefined,undefined,undefined,fa);}else{SI(fa);}this.ru(uj);this.cX('viewMode');za(dz,true);ku(dz,true);};var qK=0;this.axI=function(){return qK;};this.aFC=function(V){if(qK!==V){qK=V;var C=0;for(C=0;C<aT.length;C++){if(aT[C].GB===0){aT[C].gR=qK;}}this.cX('pageRotation');}};this.ZM=function(bO){var df;if(arguments.length>0){if(!isNaN(bO)){df=bO;}else{df=ds;}}else{df=ds;}for(var C=0;C<aT.length;C++){if(df===C){return aT[C].gR;}}return 0;};var nZ=false;this.jE=function(){return nZ;};this.ni=function(V){if(typeof V!=="boolean"){return;}if(V===nZ){return;}nZ=V;};this.ayC=function(){return Ye;};this.aEI=function(V,ro,ye,uU){if(Ye!==V){Ye=V;for(var C=0;C<aT.length;C++){aT[C].bj.aAn(V,C,aT[C].kL(),aT[C].nU(),aT[C].ez,ro,ye,uU);var auz= !aT[C].kL();aT[C].Xl(auz);}this.cX('annotationXmlDom');}};var pz;this.Ku=function(V){pz=V;};this.ub=function(){return pz;};var nV=false;this.lG=function(){return nV;};this.qs=function(V){if(typeof V!=="boolean"){return;}if(V===nV){return;}nV=V;IPCC.h.forEach(aT,function(aP,C){var ac;if(aT[C].bP){var ao=document.getElementById(aT[C].bP);if(ao){ac=ao.al;}}if(ac){ac.qs(nV);ac=undefined;}});};this.aCX=function(V){if(Iz!==V){Iz=V;this.cX('loadingContent');}};this.axS=function(){return Iz;};this.aAi=function(){var cG=io();var dq=[];if(cG){dq=sK(cG);}var acY=new IPCC.Web.UI.ImGearPageCollection();var C=0;for(C=0;C<dq.length;C++){acY.akq(aT[dq[C]].ez);}return acY;};this.aCj=function(aW){if(aT[aW]){return aT[aW].bP;}};this.Ba=function(){return vd;};this.IP=function(V){vd=V;};this.la=function(){return ln;};this.wb=function(V){ln=V;};this.Oz=function(ak,zn,BX){var F=this;if(ak.jY()>0||ak.hN()>0){zn(ak.jY(),ak.hN());return;}ak.requestPageAttributes(function(bJ,ah){if(aT[ak.get_pageNumber()].aht()===true){var hC=bJ/ak.aiH();if(hC!==1){var bj=F.hv(ak);if(bj){ajz(bj,hC);}}}aT[ak.get_pageNumber()].Xl(false);zn(bJ,ah);},function(eK){BX(eK);});};this.avr=function(){if(tC===true){return;}tC=true;this.eU(lu,'pccHidden');za(dz,true);ku(dz,true);};this.arv=function(){if(tC===false){return;}tC=false;this.kx(lu,'pccHidden');};this.ayi=function(){return tC;};this.kx=function(dk,tM){var Iv=new RegExp('(?:^|\\s)'+tM+'(?!\\S)','g');if(dk.className.match(Iv)===null){dk.className=dk.className+' '+tM;}};this.eU=function(dk,tM){var Iv=new RegExp('(?:^|\\s)'+tM+'(?!\\S)','g');dk.className=dk.className.replace(Iv,'');};this.azo=function(){return nT;};this.aFR=function(V){nT=V;};this.aCk=function(){return jC;};this.aES=function(V){if(jC===V){return;}var G,cR,xb;if(jC){G=jC.get_mark();xb=dz[G.get_markID()];cR=nT(G,{isSelected:true},(xb)?xb.cR:undefined);if(xb){EH(G,dz,cR);}}G=cR=xb=undefined;jC=V;if(jC){G=jC.get_mark();xb=dz[G.get_markID()];cR=nT(G,{isSelected:true},(xb)?xb.cR:undefined);if(xb){EH(G,dz,cR);}}ku(dz,true);};this.aCQ=function(Tz){var kP=xW();IPCC.h.forEach(Tz,function(Nn){var dm=dz[Nn];if(dm){var lf=nT(dm.G,{isSelected:(dm.G.get_conversation()===jC)},dm.cR);if(!IPCC.h.uk(lf)){throw new Error(lf+' is not a valid HTMLElement');}if(lf!==dm.cR){EH(dm.G,dz,lf);}}});ku(dz,false,kP);};this.aqt=function(){F.aqo={top:aQ.scrollTop,left:aQ.scrollLeft};};this.azj=function(){var nG=F.aqo;if(nG){aQ.scrollTop=nG.top;aQ.scrollLeft=nG.left;}};this.initialize=function(){var cW=this.lJ();var C;for(C=cW.childNodes.length-1;C>=0;C--){if(cW.childNodes[C].tagName!=='INPUT'){cW.removeChild(cW.childNodes[C]);}}this.zV.add_documentAdded(arx);this.zV.add_pageAdded(UO);this.zV.add_pageRemoved(VP);this.aaf(true);cW.al=this;ajW();var XE='webkit moz o'.split(' '),Cw='';if(ba.style.animationName!==undefined){Hx='animationend';EJ='transitionend';return;}for(C=0;C<XE.length;C++){if(ba.style[XE[C]+'Animation']!==undefined){Cw=XE[C];Hx=Cw+'AnimationEnd';EJ=Cw+'TransitionEnd';break;}}};this.aAj=function(){return mA;};this.aaf=function(V){mA=V;this.cX('enabled');};this.axt=function(){if(ds+1<aT.length){F.ru(ds+1);}};this.ayG=function(){var UQ=ds-1;if(UQ<0){UQ=0;}F.ru(UQ);};function Dj(H){IPCC.Web.UI.bw.removeHandler(H.target,Hx,Dj);IPCC.Web.UI.bw.removeHandler(H.target,EJ,Dj);if(JT>ds){F.eU(H.target,'pccNextPageIn');F.eU(H.target,'pccPreviousPageIn');F.eU(H.target,'pccCurrentPage');F.eU(H.target,'pccPageBack');F.eU(H.target,'pccPageForward');F.kx(H.target,'pccNextPage');}else if(JT<ds){F.eU(H.target,'pccNextPageIn');F.eU(H.target,'pccPreviousPageIn');F.eU(H.target,'pccCurrentPage');F.eU(H.target,'pccPageBack');F.eU(H.target,'pccPageForward');F.kx(H.target,'pccPreviousPage');}F.eU(ba,'pccPageListContainerPageChanging');aQ.style.overflow='auto';jb=null;ba.style.overflow='hidden';var pl=IPCC.h.filter(dz,function(aa){return aa.bO===ds+1;});ku(pl);setTimeout(function(){pe();},60);};this.ru=function aHo(aW){var Jm=ds;var pl;if(dw===IPCC.ViewMode.SinglePage){pl=IPCC.h.filter(dz,function(aa){return aa.bO!==aW+1;});Qc(pl);}else{tI=true;var adE=ajy(aW);if(fH===IPCC.PageLayout.VerticalScrollDirection){aQ.scrollTop=adE;}else{aQ.scrollLeft=adE;}}var Ac=[];if(ds!==aW){ds=aW;var aP=aT[ds];var H=new IPCC.PageEventArgs();H.imGearPage=F.get_currentPage();H.pageIndex=ds;H.pageNodeID=aP.bP;F.bV('currentPageChanged',H);if(dw===IPCC.ViewMode.SinglePage){var hx=document.getElementById(aT[ds].bP);var qB=document.getElementById(aT[Jm].bP);if(hx===null){hx=IG(aT[ds].ez);Ac.push(aT[ds]);hx.className='pccPageListItem pccCurrentPage';qZ.push(ds);if(hF>0){var ki=UH(aT[ds]);hx.style.width=ki.bJ+'px';hx.style.height=ki.ah+'px';}else{hx.style.width=ba.clientWidth-gL-fQ+'px';hx.style.height=ba.clientWidth*0.8+'px';}hx.style.display='block';hx.setAttribute('id',aT[ds].bP);ba.appendChild(hx);}if(EJ.length>0){aQ.style.overflow='hidden';ba.style.width=hx.style.width;ba.style.height=hx.style.height;ba.style.overflow='visible';if(jb!==null){IPCC.Web.UI.bw.removeHandler(jb,Hx,Dj);IPCC.Web.UI.bw.removeHandler(jb,EJ,Dj);if(JT>ds){this.eU(jb,'pccNextPageIn');this.eU(jb,'pccPreviousPageIn');this.eU(jb,'pccCurrentPage');this.eU(jb,'pccPageForward');this.eU(jb,'pccPageBack');this.kx(jb,'pccNextPage');}else if(JT<ds){this.eU(jb,'pccNextPageIn');this.eU(jb,'pccPreviousPageIn');this.eU(jb,'pccCurrentPage');this.eU(jb,'pccPageForward');this.eU(jb,'pccPageBack');this.kx(jb,'pccPreviousPage');}}IPCC.Web.UI.bw.addHandler(qB,Hx,Dj);IPCC.Web.UI.bw.addHandler(qB,EJ,Dj);jb=qB;JT=Jm;this.kx(ba,'pccPageListContainerPageChanging');if(ds>Jm){this.kx(qB,'pccPageForward');this.eU(hx,'pccPageBack');this.eU(hx,'pccPreviousPage');this.eU(hx,'pccPreviousPageIn');this.eU(hx,'pccNextPage');this.kx(hx,'pccCurrentPage');this.kx(hx,'pccNextPageIn');}else{this.kx(qB,'pccPageBack');this.eU(hx,'pccPageForward');this.eU(hx,'pccPreviousPage');this.eU(hx,'pccNextPage');this.eU(hx,'pccNextPageIn');this.kx(hx,'pccCurrentPage');this.kx(hx,'pccPreviousPageIn');}}else{ba.style.width=hx.style.width;ba.style.height=hx.style.height;if(ds>Jm){this.eU(qB,'pccNextPage');this.eU(qB,'pccCurrentPage');this.kx(qB,'pccPreviousPage');}else{this.eU(qB,'pccPreviousPage');this.eU(qB,'pccCurrentPage');this.kx(qB,'pccNextPage');}this.eU(hx,'pccPreviousPage');this.eU(hx,'pccNextPage');this.kx(hx,'pccCurrentPage');pl=IPCC.h.filter(dz,function(el){return el.bO===aW+1;});Va(pl);setTimeout(function(){pe();},60);}IPCC.h.forEach(Ac,aiZ);}}};this.axR=function(){if(aT.length>0){F.ru(0);}};this.ayt=function(){if(ds<aT.length-1){F.ru(aT.length-1);}};this.ayK=function(ci){if(tC===false){return "CommentsPanelClosed";}var ep=dz[ci.get_mark().get_markID()];if(!ep){return "ConversationDivDoesNotExist";}if(dw===IPCC.ViewMode.SinglePage&&ep.bO-1!==ds){return "SinglePageModePageNotShown";}var ak=document.getElementById(aT[ep.bO-1].bP);if(aT[ep.bO-1].hq===false||ak===undefined||ak.al===undefined||ak.al===null||ak.al.fE()===false){return "PageOutOfView";}var J=ci.get_mark().get_boundingRectangle();var pZ=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x,J.y),true);var zg=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x+J.width,J.y),true);pZ.x=ba.offsetWidth;zg.x=ba.offsetWidth+uw();F.adm(ak.offsetTop,ak.offsetLeft,pZ,zg);return "Success";};this.axf=function(aW,J){if(dw===IPCC.ViewMode.SinglePage&&aW!==ds){return false;}var ak=document.getElementById(aT[aW].bP);if(aT[aW].hq===false||ak===undefined||ak.al===undefined||ak.al===null||ak.al.fE()===false){return false;}var pZ=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x,J.y),true);var zg=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x+J.width,J.y+J.height),true);F.adm(ak.offsetTop,ak.offsetLeft,pZ,zg);return true;};this.ayc=function(arb,aoc){aQ.scrollTop+=Math.round(aoc);aQ.scrollLeft+=Math.round(arb);};this.adm=function(anJ,apr,pZ,zg){var adk=zg.x-pZ.x;var abv=zg.y-pZ.y;var cl=new IPCC.Web.UI.Point(0,0);if(adk>aQ.clientWidth){cl.x=pZ.x;}else{cl.x=pZ.x+(adk/2);}if(abv>aQ.clientHeight){cl.y=pZ.y;}else{cl.y=pZ.y+(abv/2);}if(fH===IPCC.PageLayout.VerticalScrollDirection){aQ.scrollTop=anJ+cl.y-aQ.clientHeight/2;aQ.scrollLeft=cl.x-aQ.clientWidth/2;}else{aQ.scrollLeft=apr+cl.x-aQ.clientWidth/2;aQ.scrollTop=cl.y-aQ.clientHeight/2;}};this.aDR=function(){var C=0;for(C=0;C<aT.length;C++){Eg(C,true);}};this.asd=function(){var cG=io();var dq=[];if(cG){dq=sK(cG);}var C=0;for(C=0;C<dq.length;C++){Eg(dq[C]);}if(F.zV.get_length()>0){F.zV.removeAllDocuments();}};this.abM=function(aW,ad,cq,dh){if(aT[aW]&&aT[aW].hq===true){var ao=document.getElementById(aT[aW].bP);if(ao&&ao.al&&ao.al.fE()===true){if(dh){IPCC.aO.dh(dh,"selectText");var he=ao.al.Ca();var avf=he.kV;var auh=he.ea;he.kV=dh;he.ea=dh;ao.al.showTextSelection(ad,cq);he.kV=avf;he.ea=auh;}else{ao.al.showTextSelection(ad,cq);}}}};this.arN=function(){var cG=io();var dq=[];if(cG){dq=sK(cG);}var C;for(C=0;C<dq.length;C++){if(aT[dq[C]].hq===true){var eR=document.getElementById(aT[dq[C]].bP),al=eR?eR.al:undefined;if(al&&al.fE()===true){al.showEmptyTextSelection(0);al.extendTextSelection(undefined);al.display();}}}};this.arf=function(aW){if(aT[aW]&&aT[aW].hq===true){var eR=document.getElementById(aT[aW].bP),al=eR?eR.al:undefined;if(al&&al.fE()===true){al.showEmptyTextSelection(0);al.extendTextSelection(undefined);al.display();}}};this.tm=function(){var ak,cw,al;by=null;IPCC.h.forEach(MV,function(C){ak=aT[C];cw=document.getElementById(ak.bP);if(cw){al=cw.al;}if(al){if(al.fE()&&al.Ci()){al.showEmptyTextSelection(0);al.extendTextSelection(undefined);if(ak.hq){al.display();}}}ak=cw=al=undefined;});};this.wx=function(aW,tf){var ao;var ac;var abt=function(aGH,anU){return(aGH+anU)%360;};aT[aW].gR=abt(aT[aW].gR,tf);if(aT[aW].bP){ao=document.getElementById(aT[aW].bP);}if(ao===undefined||ao===null){return;}ac=ao.al;if(ac&&ac.fE()===false){aT[aW].GB=abt(aT[aW].GB,tf);return;}tI=true;if(ac&&ac.fE()===true){ac.rotate(tf);}var aZ=0;var ay=0;var ew=hF;var fN=iW;if(jj(qK)===true){ew=iW;fN=hF;}if(jj(aT[aW].gR)===true){if(ac&&ac.fE()===true){aZ=ac.get_pageHeight();ay=ac.get_pageWidth();}else{aZ=iW;ay=hF;}}else{if(ac&&ac.fE()===true){aZ=ac.get_pageWidth();ay=ac.get_pageHeight();}else{aZ=hF;ay=iW;}}tI=true;if(dw===IPCC.ViewMode.SinglePage){ao.style.width=aZ*dR*cL/aT[aW].gS+'px';ao.style.height=ay*dR*cL/aT[aW].gf+'px';if(aW===ds){ba.style.width=aZ*dR*cL/aT[aW].gS+'px';ba.style.height=ay*dR*cL/aT[aW].gf+'px';}}else if(dw===IPCC.ViewMode.Document){ao.style.width=aZ*dR*cL/aT[aW].gS+'px';ao.style.height=ay*dR*cL/aT[aW].gf+'px';var C=0;if(fH===IPCC.PageLayout.VerticalScrollDirection){if(aZ*dR*cL/aT[aW].gS>gO){gO=aZ*dR*cL/aT[aW].gS;}else if(ao.clientHeight>=gO-10){gO=0;for(C=0;C<aT.length;C++){ao=document.getElementById(aT[C].bP);if(ao&&ao.clientWidth>gO){gO=ao.clientWidth;}}}if(ay*dR*cL/aT[aW].gf>hJ){hJ=ay*dR*cL/aT[aW].gf;}}else{if(ay*dR*cL/aT[aW].gf>hJ){hJ=ay*dR*cL/aT[aW].gf;}else if(ao.clientWidth>=hJ-10){hJ=0;for(C=0;C<aT.length;C++){ao=document.getElementById(aT[C].bP);if(ao&&ao.clientHeight>hJ){hJ=ao.clientHeight;}}}if(aZ*dR*cL/aT[aW].gS>gO){gO=aZ*dR*cL/aT[aW].gS;}}}else{var hf;if(fH===IPCC.PageLayout.VerticalScrollDirection){hf=ew/aZ*dR*cL/aT[aW].gf;if(ac&&ac.fE()===true){ac.zoom(hf);}tI=true;ao.style.width=ew*dR*cL/aT[aW].gS+'px';ao.style.height=hf*ay+'px';}else{hf=fN/ay*dR*cL/aT[aW].gf;if(ac&&ac.fE()===true){ac.zoom(hf);}tI=true;ao.style.height=fN*dR*cL/aT[aW].gf+'px';ao.style.width=hf*aZ+'px';}if(ew*dR*cL/aT[aW].gS>gO){gO=ew*dR*cL/aT[aW].gS;}if(fN*dR*cL/aT[aW].gf>hJ){hJ=fN*dR*cL/aT[aW].gf;}}if(ac&&ac.fE()===true){tI=true;this.wg(ao,aW);setTimeout(function(){if(tC===false){return;}var kP=xW();var pl=IPCC.h.filter(dz,function(el){return aW===el.bO-1;});za(pl);ku(pl,true,kP);},0);}};this.aBq=function(tf){var uj=ds;this.wx(ds,tf);if(dw!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){F.ru(uj);},10);}};this.afE=function(tf){var uj=ds;var cG=io();if(dw!==IPCC.ViewMode.SinglePage){this.ru(uj);}var hI=0;var hz=aT.length-1;var C;for(C=hI;C<=hz;C++){this.wx(C,tf);}if(dw!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){ait(cG);F.ru(uj);},10);}};function akD(Bo,nt){var nh=0;var rh=0;var BK=false;tI=true;var cG=io();if(cG){IPCC.h.forEach(cG.HG,function(aB){var hh=fH===IPCC.PageLayout.VerticalScrollDirection?aB.ah+eP:aB.bJ+gL+fQ;var aDX=Bo.HG[aB.ai];if(aDX.wT){BK=true;return;}if(nt&&aB.ai>=nt.jw&&aB.ai<=nt.kn){var ao=document.getElementById(aT[aB.ai].bP);if(ao){return;}}if(BK){rh+=hh;}else{nh+=hh;}});}return{rh:rh,nh:nh};};function ait(Bo){if(dw===IPCC.ViewMode.SinglePage){return;}var nt=NU(Bo);var qo=akD(Bo,nt);if(fH===IPCC.PageLayout.VerticalScrollDirection){ba.style.paddingTop=qo.nh+'px';ba.style.paddingBottom=qo.rh+'px';}else{ba.style.paddingLeft=qo.nh+'px';ba.style.paddingRight=qo.rh+'px';}};function avS(Bo){if(dw===IPCC.ViewMode.SinglePage){return;}var LY;var nt;if(fH===IPCC.PageLayout.VerticalScrollDirection){LY=parseInt(window.getComputedStyle(ba,null).getPropertyValue('padding-top'),10);}else{LY=parseInt(window.getComputedStyle(ba,null).getPropertyValue('padding-left'),10);}nt=NU(Bo);var qo=akD(Bo,nt);if(fH===IPCC.PageLayout.VerticalScrollDirection){ba.style.paddingTop=qo.nh+'px';ba.style.paddingBottom=qo.rh+'px';aQ.scrollTop=aQ.scrollTop+qo.nh-LY;}else{ba.style.paddingLeft=qo.nh+'px';ba.style.paddingRight=qo.rh+'px';aQ.scrollLeft=aQ.scrollLeft+qo.nh-LY;}};this.RJ=function(aW){IPCC.aO.lk(aW,'pageIndex',0,aT.length-1);var ak=aT[aW];if(ak&&ak.bP&&(ak.DG===true||ak.yv===false)){var bu;var ao=document.getElementById(ak.bP);if(ao.al){ao.al.dispose();}ahR(ao);bu=new IPCC.Web.UI.PageView(ao,false,aQ);if(bu){bu.set_autoUpdate(false);bu.uq(ao);bu.initialize();bu.set_imageHandlerUrl(ak.aD.rm);bu.set_requireRequestsOptimize(vd);if(ln!==undefined){bu.set_serviceResponseTimeout(ln);}bu.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bu.Os(ar===IPCC.Web.UI.MouseTool.HandPan||ar===IPCC.Web.UI.MouseTool.EditMarks);SH(bu,ak);Tj(bu);TZ(bu);Ss(bu);TN(bu);}bu.set_textRequired(sX);bu.set_markHandleMode(sU);bu.set_debug(_debug);bu.set_gamma(qh);bu.set_sharpening(pu);bu.set_svgLineWidthMultiplier(lb);bu.set_debugErrorLevel(pg);bu.ni(F.jE());if(pz){bu.set_resourcePath(pz);}if(iu){bu.Mp(iu());}else{bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bu.qs(F.lG());ak.DG=false;ak.zH=false;var yo={encodedDocumentIdentifier:ak.aD.get_encodedDocumentIdentifier(),pageNumber:aW,artServiceOption:0,documentArtPage:ak.eJ,viewRotationDegreesClockwise:ak.gR};if(ak.bj){yo.artPage=ak.bj;}if(ak.eJ){yo.documentArtPage=ak.eJ;}bu.openPage(yo);ak.yv=true;mB++;}};function SI(fa,fF){if(hF<=0){return;}var ew=hF;var fN=iW;var fs=cL/aT[0].gS;if(jj(qK)===true){ew=iW;fN=hF;fs=cL/aT[0].gf;}var jP=1;if(fH===IPCC.PageLayout.VerticalScrollDirection){jP=(aQ.clientWidth-uw()-(gL+fQ+nc+po))/(ew*fs);}else{jP=(aQ.clientHeight-(eP+iv+oz+nF))/(fN*fs);}var tO;if(dR<=jP){tO=false;}else if(dR>jP){tO=true;}if(isNaN(jP)||jP<=0||Math.abs(jP)===Infinity){return;}dR=jP;gO=0;hJ=0;var hI=0;var hz=aT.length-1;var bz=0;var ac;for(bz=hI;bz<=hz;bz++,ac=undefined){var ao=document.getElementById(aT[bz].bP);if(ao){ac=ao.al;}if(ac===undefined){continue;}var aZ=ew;var ay=fN;if(aT[bz].kL()>0){if(jj(aT[bz].gR)===true){aZ=aT[bz].nU();ay=aT[bz].kL();}else{aZ=aT[bz].kL();ay=aT[bz].nU();}}var hf=1;if(fH===IPCC.PageLayout.VerticalScrollDirection){hf=ew/aZ*dR*fs;ao.style.width=ew*dR*fs+'px';ao.style.height=ay*hf+'px';if(ew*dR*fs>gO){gO=ew*dR*fs;}if(ay*hf*cL/aT[bz].gf>hJ){hJ=ay*hf*fs;}}else{hf=fN/ay*dR;ao.style.height=fN*dR*fs+'px';ao.style.width=aZ*hf*fs+'px';if(aZ*dR*cL/aT[bz].gS>gO){gO=aZ*dR*fs;}if(fN*hf*fs>hJ){hJ=fN*hf*fs;}}if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.zoom(hf);}if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.display();}ac=undefined;}io();pe();setTimeout(function(){za(dz);ku(dz);},0);F.bV('scaleChanged',{scaleType:(tO)?"scaledDown":"scaledUp",scaleTrigger:fa,fitType:fF,scaleFactor:dR});};function jj(dY){switch(dY){case 90:case 270:case-90:case-270:return true;default:return false;}};function hg(so){var xc=document.createElement('div');var C;for(C in so){if(so.hasOwnProperty(C)){xc.style[C]=so[C];}}return xc;};this.ard=function(){if(Jl===undefined||Jl===null){Jl=1;}var dO=this.lJ().id.toString()+'_'+Jl.toString();Jl++;return dO;};this.abq=function(){return this.zV;};this.hv=function(aDr){for(var rA=0;rA<aT.length;rA++){var axa=aT[rA];if(aDr===axa.ez){return aT[rA].bj;}}return null;};this.aHd=function(ju){var ao=document.getElementById(aT[ju.get_pageNumber()].bP);if(ao){return ao.al.lO();}return null;};this.asl=function(){if(mA===false||jb!==null||wQ){return;}var cG=io();ahW(cG);};function arx(bv,H){Tq(H);};function Tq(aV){var gh=aV.imGearDocument;var aEi=F.ard();gh.PU=aEi;var dM=gh.get_pages();var cf=dM.get_length();if(cf>0){var Pv=document.createDocumentFragment();for(var bz=0;bz<cf;bz++){var ak=dM.getPage(bz);if(!ak.aD){ak.aD=gh;}IG(ak,ak.get_pageNumber()===0?null:Pv);}ba.appendChild(Pv);}};var aEt=IPCC.h.aib(function(){if(Js.length>0&&mA){var df;var JK;var JO=0;IPCC.h.forEach(Js,alp);var aaW=io();if(!aaW){return;}var ki=aaW.HG;IPCC.h.forEach(Js,function(ak,ai){df=ak.nJ();JK=ki[df];if(fH===IPCC.PageLayout.VerticalScrollDirection){JO+=JK.ah+eP;}else{JO+=JK.bJ+gL;}});if(JO&&dw!==IPCC.ViewMode.SinglePage){if(fH===IPCC.PageLayout.VerticalScrollDirection){ba.style.paddingBottom=JO+'px';}else{ba.style.paddingRight=JO+'px';}}za(dz,true);ku(dz,true);if(F.zV.Ql(0).fe===aT.length){F.bV('allPagesAdded');}pe();}Js=[];},10);function UO(bv,H){if(H.imGearPage.get_pageNumber()===0){IG(H.imGearPage);return;}Js.push(H.imGearPage);aEt();};function VP(bv,H){var df=H.imGearPage.get_pageNumber();var Wv=H.imGearPage.aD.get_documentIdentifier();for(var bz=0;bz<aT.length;bz++){if(aT[bz].ez.get_pageNumber()===df&&aT[bz].ez.aD.get_documentIdentifier()===Wv){var ao=document.getElementById(aT[bz].bP);if(ao){ba.removeChild(ao);if(ao.al){ao.al.dispose();var pl=IPCC.h.filter(dz,function(el){return el.bO===aT[bz].df+1;});Qc(pl);}}aT.splice(bz,1);}}};function alp(ju){if(!IPCC.h.contains(aT,ju)){var aP=new IPCC.aP({page:ju});if(qK){aP.gR=qK;}if(!aP.aD){aP.aD=ju.aD;}aT.push(aP);IPCC.Pagecounter++;aT=aT.sort(function(cS,eT){return cS.df-eT.df;});anR(ju);apn(ju);aqT(ju);aP.apv=false;aP.zH=false;asc(aP);arJ(aP);Ts(aP);asF(aP);asn(aP);ast(aP);asx(aP);apM(aP);aqe(aP);apS(aP);return aP;}};function IG(ak,Pv){var Oa=ak.get_pageNumber();var cW=F.lJ();var gh=null;var YQ;var cf=F.get_documents().get_length();for(var bB=0;bB<cf;bB++){gh=F.get_documents().getDocument(bB);if(gh!==null){YQ=gh.PU;if(YQ===ak.aD.PU){break;}}}var gv=IPCC.h.find(aT,function(aP){return aP.ez&&aP.ez===ak;});if(!gv){gv=alp(ak);}gv.FD=true;var acC=gv.bP;if(gv.EU===1){return document.getElementById(acC);}gv.EU=1;if(ba===''){ajW();}var kr=(function(){var am;if(dw!==IPCC.ViewMode.SinglePage){am=hg({overflow:'hidden',position:'relative'});}else{am=hg({overflow:'hidden',position:'absolute',margin:'0px'});if(gv.df>ds){F.kx(am,'pccNextPage');}else if(gv.df<ds){F.kx(am,'pccPreviousPage');}else{F.kx(am,'pccCurrentPage');}}qZ.push(ak.df);F.kx(am,'pccPageListItem');ahR(am);var Eo=UH(gv);am.style.width=Eo.bJ+'px';am.style.height=Eo.ah+'px';var cG=io();var Oe;if(fH===IPCC.PageLayout.VerticalScrollDirection||dw===IPCC.ViewMode.SinglePage){am.style.display='block';if(hF>0){am.style.margin=eP+'px auto '+iv+'px auto';}if(cG.dr.length>0&&dw!==IPCC.ViewMode.SinglePage){Oe=cG.dr[0];if(Oa<Oe.ai){var aGk=IPCC.h.Pg(ba,'padding-top');var aGz=IPCC.h.OB(aGk);var QF=aGz-Eo.ah-eP;if(QF<0){QF=0;}ba.style.paddingTop=QF+'px';}else{var arp=IPCC.h.Pg(ba,'padding-bottom');var aqU=IPCC.h.OB(arp);var Vo=aqU-Eo.ah-eP;if(Vo<0){Vo=0;}ba.style.paddingBottom=Vo+'px';}}}else{am.style.display='inline-block';if(hF>0){am.style.margin=eP+'px '+gL+'px '+iv+'px '+fQ+'px';}if(cG.dr.length>0&&dw!==IPCC.ViewMode.SinglePage){Oe=cG.dr[0];if(Oa<Oe.ai){var arj=IPCC.h.Pg(ba,'padding-left');var apP=IPCC.h.OB(arj);var Vi=apP-Eo.bJ-gL;if(Vi<0){Vi=0;}ba.style.paddingLeft=Vi+'px';}else{var aGm=IPCC.h.Pg(ba,'padding-right');var axF=IPCC.h.OB(aGm);var VU=axF-Eo.bJ-gL;if(VU<0){VU=0;}ba.style.paddingRight=VU+'px';}}}am.setAttribute('id',acC);return am;}());gv.ez=gv.ez||ak;gv.ahC=gv.ahC||YQ;gv.gR=gv.gR!==undefined?gv.gR:qK;gv.hq=false;function atP(eR){var Xw=eR.childNodes;var aEb=IPCC.h.find(aT,function(aP){if(aP.df<=Oa){return;}var iM=IPCC.h.find(Xw,function(iM){return iM.id&&iM.id===aP.bP;});if(!iM){return;}if(aP.df>Oa){iM.parentElement.insertBefore(kr,iM);return true;}});if(!aEb){eR.appendChild(kr);}}(function aFo(){if(aT.length===1){ba.appendChild(kr);}else{return atP(Pv||ba);}}());var anX=false;if(kr&&cW.clientWidth>0){var ata=cW.clientWidth/(kr.clientWidth+(kr.clientLeft*2));var aBh=cW.clientHeight/(kr.clientHeight+(kr.clientTop*2));if(aT.length<(ata*aBh)){anX=true;}}if(aT.length<2){var bu=new IPCC.Web.UI.PageView(kr,false,aQ);if(bu){bu.set_autoUpdate(false);bu.uq(kr);bu.initialize();bu.set_imageHandlerUrl(ak.aD.rm);bu.set_imGearPage(gv.ez);bu.set_artPage(gv.bj);bu.set_documentArtPage(gv.eJ);bu.set_requireRequestsOptimize(vd);if(ln!==undefined){bu.set_serviceResponseTimeout(ln);}bu.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bu.set_textRequired(sX);bu.set_markHandleMode(sU);bu.set_debug(_debug);bu.set_gamma(qh);bu.set_sharpening(pu);bu.set_svgLineWidthMultiplier(lb);bu.set_debugErrorLevel(pg);bu.ni(F.jE());if(pz){bu.set_resourcePath(pz);}if(iu){bu.Mp(iu());}else{bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bu.qs(F.lG());bu.Os(ar===IPCC.Web.UI.MouseTool.HandPan||ar===IPCC.Web.UI.MouseTool.EditMarks);}SH(bu,gv);TZ(bu);Ss(bu);Tj(bu);TN(bu);bu.openPage({encodedDocumentIdentifier:ak.aD.get_encodedDocumentIdentifier(),pageNumber:ak.get_pageNumber(),artServiceOption:0,imGearPage:gv.ez,artPage:gv.bj,documentArtPage:gv.eJ,viewRotationDegreesClockwise:gv.gR});gv.yv=true;mB++;}return kr;};function akN(aP){return aP.FD;};function pe(){if(mB>0||mA===false||jb!==null){return;}if(wQ){return;}var cG=io();if(!cG){return;}aT.forEach(function(ak,ai){if(!ak.hq){return;}F.Ji(ai);});var Ac=auM(cG);IPCC.h.forEach(Ac||[],function(ai){var ak=aT[ai];if(ak){aiZ(ak);}});IPCC.h.forEach(cG.dr,function(JK){var aP=aT[JK.ai];if(akN(aP)&& !aP.hq&&aP.EU){Ot(aP);}});ahW(cG);atm();};function ahW(cG){if(!cG){return;}var nt=NU(cG);for(var ai=nt.jw;ai<=nt.kn;ai++){var aP=aT[ai];if(!akN(aP)){aP.FD=true;var Xe=F.abq();var gh=Xe.Ql(0);var ju=gh.dM.jl(ai);IG(ju);ahT(aP,false);}}};function auM(cG){var aBt=sK(cG);var Ac=[];IPCC.h.forEach(aBt,function(ai){var ak=aT[ai];if(ak&&ak.EU===0){var Xe=F.abq();var gh=Xe.Ql(0);var ju=gh.dM.jl(ai);IG(ju);Ac.push(ai);}});return Ac;};function atm(){var uH=aQ.scrollTop;var uy=aQ.scrollLeft;var wy=aQ.clientHeight;var wX=aQ.clientWidth;var vx=aQ.scrollWidth;var tp=aQ.scrollHeight;var cG=TW({uH:uH,uy:uy,wy:wy,wX:wX,vx:vx,tp:tp});var nt=NU(cG);var agr=aoS(cG);var nh=0;var rh=0;var BK=false;IPCC.h.forEach(cG.HG,function(aB){var hh=fH===IPCC.PageLayout.VerticalScrollDirection?aB.ah+eP:aB.bJ+gL+fQ;var ai= +aB.ai;if(aB.wT||(dw===IPCC.ViewMode.SinglePage&&ai===ds)){BK=true;return;}if(ai>=nt.jw&&ai<=nt.kn){if(ai>=agr.jw&&ai<=agr.kn){return;}if(BK){if(Eg(ai,true)> -1){rh+=hh;}}else{if(Eg(ai,true)> -1){nh+=hh;}}return;}if(BK){rh+=hh;Eg(ai);}else{nh+=hh;Eg(ai);}});if(dw===IPCC.ViewMode.SinglePage){return;}if(fH===IPCC.PageLayout.VerticalScrollDirection){ba.style.paddingTop=nh+'px';ba.style.paddingBottom=rh+'px';}else{ba.style.paddingLeft=nh+'px';ba.style.paddingRight=rh+'px';}};function Eg(bz,auG){var ak=aT[bz];if(!ak){return-1;}if(auG===true&& !ak.hq){return-1;}ak.zH=false;ak.yv=false;ak.hq=false;ak.EU=0;ak.FD=false;if(Rc&& !ak.ez.cA().ayY()&&OS!==true){ak.ez.agm();}var Ad=document.getElementById(ak.bP);if(!Ad){return-1;}if(Ad.al){Ad.al.dispose();Ad.parentElement.removeChild(Ad);return bz;}else{Ad.parentElement.removeChild(Ad);}return-1;};function Ot(aP){var am=document.getElementById(aP.bP);F.wg(am,aP.df);};function aiZ(aP){ahT(aP,true);Ot(aP);};function ahT(ak,awr){var am=document.getElementById(ak.bP);if(am===null){return;}var bu=new IPCC.Web.UI.PageView(am,false,aQ);bu.set_autoUpdate(false);bu.uq(document.getElementById(ak.bP));bu.initialize();bu.set_imageHandlerUrl(ak.aD.rm);bu.set_imGearPage(ak.ez);bu.set_artPage(ak.bj);bu.set_requireRequestsOptimize(vd);if(ln!==undefined){bu.set_serviceResponseTimeout(ln);}bu.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bu.set_textRequired(sX);bu.set_markHandleMode(sU);bu.set_debug(_debug);bu.set_gamma(qh);bu.set_sharpening(pu);bu.set_svgLineWidthMultiplier(lb);bu.set_debugErrorLevel(pg);bu.ni(F.jE());if(pz){bu.set_resourcePath(pz);}if(iu){bu.Mp(iu());}else{bu.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bu.qs(F.lG());bu.Os(ar===IPCC.Web.UI.MouseTool.HandPan||ar===IPCC.Web.UI.MouseTool.EditMarks);SH(bu,ak);TZ(bu);Ss(bu);Tj(bu);TN(bu);if(awr===true){bu.add_pageOpened(function aFz(aH){F.wg(am,ak.df);});}if(ak.zH===false&&ak.ez){ak.FD=true;var yo={encodedDocumentIdentifier:ak.ez.aD.get_encodedDocumentIdentifier(),pageNumber:ak.ez.get_pageNumber(),imGearPage:ak.ez,viewRotationDegreesClockwise:ak.gR};if(ak.bj){yo.artPage=ak.bj;}if(ak.eJ){yo.documentArtPage=ak.eJ;}bu.openPage(yo);ak.yv=true;mB++;}};function ajz(bj,hC){var aN;bj.forEachMark(function(G){switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:var bM=G.get_points();var bn=bM.zO(0);var kg=bM.zO(1);bM.setPoint(0,new IPCC.Web.UI.Point(bn.x*hC,bn.y*hC));bM.setPoint(1,new IPCC.Web.UI.Point(kg.x*hC,kg.y*hC));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aN=G.get_rectangle();G.set_rectangle({x:aN.x*hC,y:aN.y*hC,width:aN.width*hC,height:aN.height*hC});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aN=G.get_rectangle();G.set_rectangle({x:aN.x*hC,y:aN.y*hC,width:aN.width*hC,height:aN.height*hC});var bK=G.bK,gZ;for(var i=0;i<bK.length;i++){gZ=bK[i];gZ.x=gZ.x*hC;gZ.y=gZ.y*hC;gZ.width=gZ.width*hC;gZ.height=gZ.height*hC;}break;default:break;}});};function SH(bu,ak){function auD(sender,evnt){var adZ=function(bJ,ah,bO){var Ub={'width':bJ,'height':ah,'pageNumber':bO};F.bV('pageOpening',Ub);};var df=evnt.pageNumber;var Wv=evnt.documentIdentifier;ak.aZ=bu.get_pageWidth();ak.ay=bu.get_pageHeight();var gM=bu.get_pageXResolution();var hd=bu.get_pageYResolution();if(!isNaN(parseFloat(gM))&&isFinite(gM)){ak.gS=gM;}if(!isNaN(parseFloat(hd))&&isFinite(hd)){ak.gf=hd;}bu=null;for(var bz=0;bz<aT.length;bz++){if(mA&&aT[bz].ez.get_pageNumber()===df&&aT[bz].ez.aD.get_documentIdentifier()===Wv){aT[bz].yv=false;aT[bz].zH=true;aT[bz].DG=false;if(dw===IPCC.ViewMode.SinglePage){var mO= -1;if(Array.prototype.indexOf){mO=qZ.indexOf(bz);}else{mO=IPCC.Web.jX(qZ,bz);}if(mO!== -1){qZ.splice(mO,1);}}var alB=false;for(var bB=0;bB<MV.length;bB++){if(MV[bB]===bz){alB=true;}}if(alB===false){MV.push(bz);}var mb=0;var nn=0;var ao=document.getElementById(aT[bz].bP);var ac=ao.al;var ew;var fN;var St;if(hF===0&&(bz===0||aT[0].DG===true)){if(ao.currentStyle){oz=parseInt(ao.currentStyle.borderTopWidth,10)||0;eP=parseInt(ao.currentStyle.marginTop,10)||0;nc=parseInt(ao.currentStyle.borderLeftWidth,10)||0;gL=parseInt(ao.currentStyle.marginLeft,10)||0;nF=parseInt(ao.currentStyle.borderBottomWidth,10)||0;iv=parseInt(ao.currentStyle.marginBottom,10)||0;po=parseInt(ao.currentStyle.borderRightWidth,10)||0;fQ=parseInt(ao.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var xo=document.defaultView.getComputedStyle(ao);oz=parseInt(xo.borderTopWidth,10)||0;eP=parseInt(xo.marginTop,10)||0;nc=parseInt(xo.borderLeftWidth,10)||0;gL=parseInt(xo.marginLeft,10)||0;nF=parseInt(xo.borderBottomWidth,10)||0;iv=parseInt(xo.marginBottom,10)||0;po=parseInt(xo.borderRightWidth,10)||0;fQ=parseInt(xo.marginRight,10)||0;}if(dw===IPCC.ViewMode.SinglePage){ao.style.margin=eP+'px 0px '+iv+'px 0px';ba.style.margin="0px auto";}else{if(fH===IPCC.PageLayout.VerticalScrollDirection){ao.style.margin=eP+'px auto '+iv+'px auto';}else{ao.style.margin=eP+'px '+fQ+'px '+iv+'px '+gL+'px';ba.style.margin='0px '+fQ+'px 0px '+gL+'px';}}hF=ac.get_pageWidth();iW=ac.get_pageHeight();agL=gM;ew=hF;fN=iW;var fs=cL/aT[bz].gS;if(jj(aT[bz].gR)===true){fN=hF;ew=iW;fs=cL/aT[bz].gf;}if(dw===IPCC.ViewMode.SinglePage){var asE=(aQ.offsetWidth-(gL+fQ+nc+po));var arK=(aQ.offsetHeight-(eP+iv+oz+nF+aDa));nN=asE/(ew*fs);St=arK/(fN*fs);if(St<nN){nN=St;}ac.zoom(nN*fs);}else if(fH===IPCC.PageLayout.VerticalScrollDirection){nN=(aQ.offsetWidth-IPCC.Web.nI()-(gL+fQ+nc+po))/(ew*fs);ac.zoom(nN*fs);}else{nN=(aQ.offsetHeight-IPCC.Web.nI()-(eP+iv+oz+nF))/(fN*fs);ac.zoom(nN*fs);}mb=ew*nN*fs;nn=fN*nN*fs;ao.style.width=mb+'px';ao.style.height=nn+'px';if(dw===IPCC.ViewMode.SinglePage){ba.style.width=mb+'px';ba.style.height=nn+'px';}if(dw!==IPCC.ViewMode.SinglePage){for(var rA=0;rA<aT.length;rA++){if(aT[rA].hq===false&&rA!==bz){if(aT[rA].bP){ao=document.getElementById(aT[rA].bP);ao.style.width=ew*nN+'px';ao.style.height=fN*nN+'px';if(fH===IPCC.PageLayout.VerticalScrollDirection){ao.style.margin=eP+'px auto '+iv+'px auto';}else{ao.style.margin=eP+'px '+fQ+'px '+iv+'px '+gL+'px';}}}}}dR=nN;adZ(ak.aZ,ak.ay,df+1);ao.al.display();}else{if(dw===IPCC.ViewMode.Document||dw===IPCC.ViewMode.SinglePage){if(jj(aT[bz].gR)===true){mb=ac.get_pageHeight()*dR*cL/aT[bz].gS;nn=ac.get_pageWidth()*dR*cL/aT[bz].gf;}else{mb=ac.get_pageWidth()*dR*cL/aT[bz].gS;nn=ac.get_pageHeight()*dR*cL/aT[bz].gf;}}else{var hf;var aZ=ac.get_pageWidth();var ay=ac.get_pageHeight();ew=hF;fN=iW;if(jj(qK)===true){ew=iW;fN=hF;}if(jj(aT[bz].gR)===true){aZ=ac.get_pageHeight();ay=ac.get_pageWidth();}if(fH===IPCC.PageLayout.VerticalScrollDirection){hf=ew/aZ*dR*cL/aT[0].gf;mb=ew*dR*cL/aT[0].gS;nn=ay*hf;}else{hf=fN/ay*dR*cL/aT[0].gS;nn=fN*dR*cL/aT[0].gf;mb=aZ*hf;}}if(mb!==Math.round(mb)){mb=Math.floor(mb*100)/100;}if(nn!==Math.round(nn)){nn=Math.floor(nn*100)/100;}if(ao.style.width!==mb+'px'||ao.style.height!==nn+'px'){if(fH===IPCC.PageLayout.VerticalScrollDirection){ao.style.width=mb+'px';ao.style.height=nn+'px';}else{ao.style.width=mb+'px';ao.style.height=nn+'px';}za(dz,true);ku(dz,true);}adZ(ak.aZ,ak.ay,df+1);}if(mb>gO){gO=mb;if(fH===IPCC.PageLayout.VerticalScrollDirection){aQ.scrollLeft=(gO-aQ.clientWidth)/2;}}if(nn>hJ){hJ=nn;if(fH===IPCC.PageLayout.HorizontalScrollDirection){aQ.scrollTop=(hJ-aQ.clientHeight)/2;}}if(aT[bz].GB>0){var YY=document.getElementById(aT[bz].bP).al;if(YY){YY.rotate(aT[bz].GB);YY.display();aT[bz].GB=0;}}if(mB>0){mB=mB-1;}if(aT[bz].aht()===true){var ju=aT[bz].ez;var hC=aT[bz].kL()/ju.aiH();if(hC!==1){var bj=F.hv(ju);if(bj){ajz(bj,hC);}}}aT[bz].Xl(false);io();var IJ=new IPCC.OpenPageEventArgs();IJ.pageIndex=evnt.pageNumber;IJ.imGearPage=evnt.imGearPage;IJ.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;IJ.pageNodeID=aT[bz].bP;F.bV('pageOpened',IJ);break;}}if(mB===0&&mL===null&&jb===null){setTimeout(function(){pe();},60);}};bu.add_pageOpened(auD);};function TZ(bu){function atC(bv,an){if(mA===false){return;}var yj;if(an.pageNumber>=0){if(aT[an.pageNumber].bP){yj=aT[an.pageNumber].bP;}}aT[an.pageNumber].DG=true;aT[an.pageNumber].yv=false;aT[an.pageNumber].zH=false;aT[an.pageNumber].hq=false;var lZ=new IPCC.ExceptionEventArgs();lZ.exception=an.exception;lZ.pageIndex=an.pageNumber;lZ.pageNodeID=yj;F.bV('pageOpenFailed',lZ);if(mB>0){mB=mB-1;if(mB===0){setTimeout(function(){pe();},60);}}};bu.add_pageOpenFailed(atC);};function Ss(bu){function asi(bv,an){if(mA===false){return;}var H=new IPCC.PageEventArgs();H.pageIndex=an.bO;H.imGearPage=aT[an.bO].ez;H.pageNodeID=aT[an.bO].bP;aT[an.bO].hq=true;if(dw===IPCC.ViewMode.SinglePage){var mO= -1;if(Array.prototype.indexOf){mO=qZ.indexOf(an.bO);}else{mO=IPCC.Web.jX(qZ,an.bO);}if(mO!== -1){qZ.splice(mO,1);}}F.bV('pageDisplayed',H);setTimeout(function(){var pl=IPCC.h.filter(dz,function(el){if(dw===IPCC.ViewMode.SinglePage){return an.bO===el.bO-1&&el.bO-1===ds;}else{return an.bO===el.bO-1;}});za(pl);ku(pl);},0);};bu.add_pageDisplayed(asi);};function apn(ak){function Gg(bv,an){if(mA===false){return;}F.bV('textPageReady',{pageIndex:an.pageNumber,containsText:an.containsText});var cG=io();var dq=[];if(cG){dq=sK(cG);}if(an.containsText===true&&an.pageNumber>=dq[0]&&an.pageNumber<=dq[dq.length-1]){if(aT[an.pageNumber].bj&&aT[an.pageNumber].bj.get_markCount()>0){var ao=document.getElementById(aT[an.pageNumber].bP);F.wg(ao,an.pageNumber);}}};ak.AI(Gg);};function aqT(ak){function asK(bv,an){if(mA===false){return;}var eJ=aT[an.pageNumber].eJ;ak.aim().JV().jW(function(gj){var G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aN=gj.eI();G.set_rectangle(new IPCC.Web.UI.Rectangle(aN.x,aN.y,aN.width,aN.height));G.set_href(gj.aiy());G.set_lineColor(gj.ayq());G.set_lineWidth(gj.ayo());G.set_borderPattern(gj.axj());G.set_borderType(gj.ayU());G.set_borderHorizontalRadius(gj.axu());G.set_borderVerticalRadius(gj.axv());G.set_borderOpacity(gj.ayk());eJ.addMark(G);gj.aGn(G);});F.bV('hyperlinkPageReady',{pageIndex:an.pageNumber});var cG=io();var dq=[];if(cG){dq=sK(cG);}if(an.pageNumber>=dq[0]&&an.pageNumber<=dq[dq.length-1]){var ao=document.getElementById(aT[an.pageNumber].bP);F.wg(ao,an.pageNumber);}};ak.TQ(asK);};function anR(ak){function FL(bv,an){if(mA===false){return;}var yj;if(an.pageNumber>=0){if(aT[an.pageNumber].bP){yj=aT[an.pageNumber].bP;}}F.bV('textExtractionFailed',{'exception':an.exception,'pageIndex':an.pageNumber,'pageNodeID':yj});};ak.zA(FL);};function Tj(bu){function arB(bv,an){if(mA===false){return;}var yj;if(isNaN(an.pageNumber)===false){if(an.pageNumber>=0){if(aT[an.pageNumber].bP){yj=aT[an.pageNumber].bP;}}aT[an.pageNumber].DG=true;aT[an.pageNumber].yv=false;aT[an.pageNumber].zH=false;aT[an.pageNumber].hq=false;}var lZ=new IPCC.ExceptionEventArgs();lZ.functionName=an.function_name;lZ.exception=an.exception;lZ.pageIndex=an.pageNumber;lZ.pageNodeID=yj;F.bV('exceptionThrown',lZ);if(mB>0){mB=mB-1;if(mB===0){setTimeout(function(){pe();},60);}}};bu.add_exceptionThrown(arB);};function TN(bu){function Fd(bv,an){F.bV('markCreating',an);};bu.add_markCreating(Fd);};function asc(aP){function ajt(){if(mA===false){return;}var cG=io();var dq=[];if(cG){dq=sK(cG);}if(aP.df>=dq[0]&&aP.df<=dq[dq.length-1]){var ao=document.getElementById(aP.bP);F.wg(ao,aP.df);}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;F.bV('marksLoaded',H);};aP.bj.add_marksLoaded(ajt);};function arJ(aP){function mt(bv,an){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;H.clientX=an.clientX;H.clientY=an.clientY;F.bV('markAdded',H);};aP.bj.add_markAdded(mt);};function Ts(aP){var Zm,qi=false,abP,abr;function IQ(R,ep){if(tC===false){return;}var kP=xW();aiv(R,ep,kP);ku(dz,true,kP);};function awB(R,ep){abP=R;abr=ep;if(qi&& !Zm){Zm=Ga(function(){qi=false;Zm=undefined;if(abP&&abr){IQ(abP,abr);}else{IQ(R,ep);}});}};function nQ(bv,an){if(an.mark.xZ===true){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;H.propertyName=an.propertyName;F.bV('markChanged',H);var ep=dz[an.mark.get_markID()];if(ep&&(an.propertyName==='rectangle'||an.propertyName==='points'||an.propertyName==='startPoint'||an.propertyName==='endPoint')){qi=true;awB(an.mark,ep);}else if(ep&&an.propertyName==='visible'){var azp=an.mark.get_visible();var To=(function(dm){return IPCC.h.inArray(KJ(),dm.bO-1);})(ep);if(azp&&To){Va([ep]);ku(dz,true,xW());}else{Qc([ep]);}}};aP.bj.add_markChanged(nQ);};function asF(aP){function ahX(bv,an){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;H.oldZIndex=an.oldZIndex;F.bV('markReordered',H);};aP.bj.add_markReordered(ahX);};function asn(aP){function DR(bv,an){if(an.mark.xZ===true){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;F.bV('markSelectionChanged',H);};aP.bj.add_markSelectionChanged(DR);};function asx(aP){function EG(bv,an){if(an.mark){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;F.bV('markRemoved',H);var ep=dz[an.mark.get_markID()];if(ep){if(an.mark.get_conversation()===jC){jC=null;}ep.cR.parentElement.removeChild(ep.cR);delete dz[an.mark.get_markID()];ku(dz,true);}}};aP.bj.add_markRemoved(EG);};function ast(aP){function xm(bv,an){var H=new IPCC.Web.UI.MarkEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.zIndex=an.zIndex;F.bV('markTextSelectionChanged',H);};aP.bj.add_markTextSelectionChanged(xm);};function aiv(R,ep,RY){var aP=aT[ep.bO-1],ak=document.getElementById(aP.bP),CK=Su(R,aP.df+1);if(ak&&ak.al){var cl=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(CK.x,CK.y),true);var pB=(eP*aP.df);var Jt=(ak.offsetTop-pB+cl.y)/(RY-(eP*aT.length));ep.aN=CK;ep.Uv=Jt;}};function Qc(jr,bO){var aAJ=typeof bO==='undefined';IPCC.h.forEach(jr,function(aa){if(aa&&(aAJ||aa.pageNumber===bO)){aa.cR.style.display='none';aa.wT=false;}});};function uw(){if(lu.currentStyle&&lu.currentStyle.display==='none'){return 0;}return lu.clientWidth;};function xW(){if(lu.currentStyle&&lu.currentStyle.display==='none'){return 0;}return lu.offsetHeight;};function Va(jr,bO){var aDU=typeof bO==='undefined';IPCC.h.forEach(jr,function(el){if(aDU||el.pageNumber===bO){el.cR.style.display='';el.wT=true;if(el&&el.G&&el.G.get_visible()===false){el.cR.style.display='none';el.wT=false;}}});};function za(jr,aad){if(tC===false){return;}var QM=(! !aad)?IPCC.h.filter(dz,function(dm){return IPCC.h.contains(KJ(),dm.bO-1);}):jr;var kP=xW();IPCC.h.forEach(QM,function(el){aiv(el.G,el,kP);});};function awg(a,b){return(a.aN.y!==b.aN.y)?(a.aN.y-b.aN.y):(a.aN.x!==b.aN.x)?(a.aN.x-b.aN.x):(a.xI-b.xI);};function awG(a,b){return(a.aN.x!==b.aN.x)?(a.aN.x-b.aN.x):(a.aN.y!==b.aN.y)?(b.aN.y-a.aN.y):(a.xI-b.xI);};function awI(a,b){return(a.aN.y!==b.aN.y)?(b.aN.y-a.aN.y):(a.aN.x!==b.aN.x)?(b.aN.x-a.aN.x):(a.xI-b.xI);};function axd(a,b){return(a.aN.x!==b.aN.x)?(b.aN.x-a.aN.x):(a.aN.y!==b.aN.y)?(a.aN.y-b.aN.y):(a.xI-b.xI);};function asS(WM,kP,AH){AH=AH||0;var _top,amO,FB,VN=(eP*aT.length),Qu=kP-VN;IPCC.h.forEach(WM,function(dm){FB=(eP*(dm.bO-1));amO=(dm.Uv*Qu)+FB;_top=Math.max(AH+5,amO);if(dm.cR.style.top!==_top+'px'){dm.cR.style.top=_top+'px';}AH=_top+dm.Yf;});};function asb(WM,kP){var Nc,_top,Nv,FB,anj,VN=(eP*aT.length),Qu=kP-VN;IPCC.h.forEach(WM,function(dm){FB=(eP*(dm.bO-1));Nv=(dm.Uv*Qu)+FB;if(Nc===undefined){Nc=Nv;}if(dm.G.get_conversation()===jC){_top=Nv;anj=_top+dm.Yf;}else{_top=Math.min(Nc-5-dm.Yf,Nv);}if(dm.cR.style.top!==_top+'px'){dm.cR.style.top=_top+'px';}Nc=_top;});return anj;};function ku(jr,aad,kP){if(tC===false){return;}if(!kP){kP=xW();}var aDd=function(a,b){if(a.bO!==b.bO){return(a.bO-b.bO);}var ak=aT[a.bO-1],dY=ak.gR;switch(dY){case 90:return awG(a,b);case 180:return awI(a,b);case 270:return axd(a,b);default:return awg(a,b);}};var QM=(! !aad)?IPCC.h.filter(dz,function(dm){return IPCC.h.inArray(KJ(),dm.bO-1);}):jr;Va(QM);var avM=IPCC.h.map(QM,function(dm,ap){dm.Yf=dm.cR.offsetHeight;return dm;});var Vp=avM.sort(aDd);var QS=[],XH=[],aaJ=false;if(jC){var azn=dz[jC.get_mark().get_markID()];if(!IPCC.h.inArray(Vp,azn)){aaJ=true;}IPCC.h.forEach(Vp,function(dm){if(aaJ){XH.push(dm);}else if(dm.G.get_conversation()===jC){QS.unshift(dm);aaJ=true;}else{QS.unshift(dm);}});}else{XH=Vp;}var AH=0;if(QS.length){AH=asb(QS,kP);}asS(XH,kP,AH);};function aut(jr,R,df){var dm=jr[R.kO()];dm.bO=df;dm.G=R;dm.aN=Su(R,df);dm.xI=R.eG().ow(R);};function EH(R,jr,lf){var ep=jr[R.get_markID()];if(ep){ep.cR.parentElement.replaceChild(lf,ep.cR);ep.cR=lf;}return ep;};function aqx(R,jr,lf,asL,aGu,Jt,df){var ep=new asW();ep.cR=lf;dz[R.get_markID()]=ep;aut(dz,R,df);ep.Uv=Jt;asL.appendChild(lf);return ep;};function Su(R,bO){var aN=(R.get_boundingRectangle)?R.get_boundingRectangle():{},dY=aT[bO-1].gR;switch(dY){case 90:return{x:aN.x,y:aN.y+(aN.height||0)};case 180:return{x:aN.x+(aN.width||0),y:aN.y+(aN.height||0)};case 270:return{x:aN.x+(aN.width||0),y:aN.y};default:return{x:aN.x,y:aN.y};}};function apM(aP){function Qo(bv,an){var H=new IPCC.Web.UI.CommentEventArgs();H.pageIndex=aP.df;H.mark=an.mark;H.index=an.index;H.comment=an.comment;var ak=document.getElementById(aP.bP);F.bV('commentAdding',H);setTimeout(function(){var RY=xW(),ep,cR;if(an.index===0){cR=nT(an.mark,{isSelected:false},null);if(!cR){return;}else if(!IPCC.h.uk(cR)){throw new Error(cR+' is not a valid HTMLElement');}var CK=Su(an.mark,aP.df+1),auS=CK.x,ato=CK.y;var cl;if(ak&&ak.al){cl=ak.al.transformPagePointToWindow(new IPCC.Web.UI.Point(auS,ato),true);}else{cl=new IPCC.Web.UI.Point(0,0);}var pB=(eP*(aP.df));var Jt=(ajy(aP.df)-pB+cl.y)/(RY-(eP*aT.length));ep=aqx(an.mark,dz,cR,lu,cl,Jt,aP.df+1);}else{var Jh=an.mark.get_conversation()===jC;var currentConversationDiv=dz[an.mark.get_markID()];if(!currentConversationDiv){return;}cR=nT(an.mark,{isSelected:Jh},currentConversationDiv.cR);if(!cR){return;}else if(!IPCC.h.uk(cR)){throw new Error(cR+' is not a valid HTMLElement');}ep=EH(an.mark,dz,cR);}if(IPCC.h.contains(KJ(),aP.df)){ku(dz,true,RY);}else{Qc([ep]);}F.bV('commentAdded',H);},0);};aP.bj.add_commentAdded(Qo);};function aqe(aP){function PM(bv,an){var cR=null;if(dz[an.mark.get_markID()]){cR=dz[an.mark.get_markID()].cR;var Jh=an.mark.get_conversation()===jC;cR=nT(an.mark,{isSelected:Jh},cR);}if(!cR){F.bV('commentChanged',an);return;}else if(!IPCC.h.uk(cR)){throw new Error(cR+' is not a valid HTMLElement');}if(cR){var kP=xW();EH(an.mark,dz,cR);ku(dz,true,kP);}F.bV('commentChanged',an);};aP.bj.add_commentChanged(PM);};function apS(aP){function OJ(bv,an){var cR=null;if(dz[an.mark.get_markID()]){cR=dz[an.mark.get_markID()].cR;}var Jh=an.mark.get_conversation()===jC;cR=nT(an.mark,{isSelected:Jh},cR);if(IPCC.h.uk(cR)){EH(an.mark,dz,cR);}else{var ep=dz[an.mark.get_markID()];if(ep){if(an.mark.get_conversation()===jC){jC=null;}ep.cR.parentElement.removeChild(ep.cR);delete dz[an.mark.get_markID()];}}ku(dz,true);F.bV('commentRemoved',an);};aP.bj.add_commentRemoved(OJ);};function VG(){var ah=iW;var bJ=hF;var aFx=function(hO){return{width:hO.width||(hO.right-hO.left),height:hO.height||(hO.bottom-hO.top),top:hO.top,bottom:hO.bottom,left:hO.left,right:hO.right};};var acv=aFx(aQ.getBoundingClientRect());var mJ={height:acv.height/2};mJ.width=mJ.height*bJ/ah;if(mJ.width>bJ/2){mJ.width=bJ/2;}if(mJ.height>ah/2){mJ.height=ah/2;}var abx=8;var aml={height:ah*abx,width:bJ*abx};var anB=bJ*dR<mJ.width+5;var aov=bJ*dR>aml.width-5;return{min:mJ,max:aml,page:{width:bJ,height:ah},viewport:acv,atMin:anB,atMax:aov,maxFactor:abx,minFactor:mJ.width/bJ};};function ic(aG,Vj){if(Vj){ahL.apply(this,arguments);return;}var tO=(aG<dR)?true:false;var pm=VG();if((pm.atMin&&tO)||(pm.atMax&& !tO)){return;}if(aG>pm.maxFactor){aG=pm.maxFactor;}else if(aG<pm.minFactor){aG=pm.minFactor;}if(!pm.atMax|| !pm.atMin){ahL.apply(this,arguments);}};function ahL(aG,aHS,bh,dN,EZ,qu,fa,fF){if(isNaN(aG)||aG<=0||Math.abs(aG)===Infinity){return;}var SR=ds;var cG=io();var tO=(aG<dR)?true:false;var hI=0;var hz=aT.length-1;if(dw===IPCC.ViewMode.SinglePage){if(ds-uQ>=0){hI=ds-uQ;}if(ds+uQ<aT.length-1){hz=ds+uQ;}}var Oi=aG/dR;dR=aG;var Du=aQ.getBoundingClientRect();var adF=(qu&&qu.x!==undefined)?qu.x:aQ.scrollLeft+(Du.width/2);var aap=(qu&&qu.y!==undefined)?qu.y:aQ.scrollTop+(Du.height/2);var azz=qu&&qu.x!==undefined&&qu.y!==undefined;gO=0;hJ=0;for(var bz=hI;bz<=hz;bz++){var ac;var ao=document.getElementById(aT[bz].bP);if(ao){ac=ao.al;}else{continue;}if(bz===SR){var Qx=ao.getBoundingClientRect();if(!azz){if(fH===IPCC.PageLayout.HorizontalScrollDirection&&Du.height>Qx.height){aap-=((Du.height-Qx.height)/2);}else if(fH===IPCC.PageLayout.VerticalScrollDirection&&Du.width>Qx.width){adF-=((Du.width-Qx.width)/2);}}}var gI=aG*cL/aT[bz].gS;var aZ=hF;var ay=iW;var ew=hF;var fN=iW;if(jj(qK)===true){ew=iW;fN=hF;}if(aT[bz].kL()>0){if(jj(aT[bz].gR)===true){aZ=aT[bz].nU();ay=aT[bz].kL();}else{aZ=aT[bz].kL();ay=aT[bz].nU();}}else{gI=aG*cL/aT[0].gS;if(jj(aT[bz].gR)===true){var Kh=aZ;aZ=ay;ay=Kh;gI=aG*cL/aT[0].gf;}}var KB,Ke,hf;if(dw===IPCC.ViewMode.SinglePage){Ke=aZ*gI;KB=ay*gI;ao.style.width=Ke+'px';ao.style.height=KB+'px';if(bz===ds){ba.style.width=Ke+'px';ba.style.height=KB+'px';}if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.zoom(gI);}}else if(dw===IPCC.ViewMode.Document){Ke=aZ*gI;KB=ay*gI;ao.style.width=Ke+'px';ao.style.height=KB+'px';if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.zoom(gI);}if(aZ*gI>gO){gO=aZ*gI;}if(ay*gI>hJ){hJ=ay*gI;}}else{gI=aG*cL/aT[0].gS;if(fH===IPCC.PageLayout.VerticalScrollDirection){hf=ew/aZ*gI;ao.style.width=ew*gI+'px';ao.style.height=ay*hf+'px';if(ew*gI>gO){gO=ew*gI;}if(ay*gI>hJ){hJ=ay*gI;}}else{hf=fN/ay*gI;ao.style.height=fN*gI+'px';ao.style.width=aZ*hf+'px';if(aZ*gI>gO){gO=aZ*gI;}if(fN*gI>hJ){hJ=fN*gI;}}if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.zoom(hf);}}if(ac&&aT[bz].hq===true&&ac.fE()===true){ac.display();if(IPCC.h.tY.zc){var asq=aQ.style.display;aQ.style.display='none';aQ.style.display=asq;auc();}}}if(fH===IPCC.PageLayout.VerticalScrollDirection){Om=aQ.scrollTop;}else{Om=aQ.scrollLeft;}var RZ,NL,Nh=0,NV=0;if(EZ){RZ=EZ.offsetLeft+Oi*bh;NL=EZ.offsetTop+Oi*dN;aQ.scrollLeft=RZ-(aQ.clientWidth/2)+Nh;aQ.scrollTop=NL-(aQ.clientHeight/2)+NV;avS(cG);}else{if(fH===IPCC.PageLayout.VerticalScrollDirection){NV=eP*(SR+1);}else{Nh=fQ+((gL+fQ)*(SR+1));}RZ=Oi*(adF-Nh);NL=Oi*(aap-NV);ait(cG);aQ.scrollLeft=RZ-(aQ.clientWidth/2)+Nh;aQ.scrollTop=NL-(aQ.clientHeight/2)+NV;}if(dw!==IPCC.ViewMode.SinglePage&&(fa===IPCC.ScaleTrigger.Pinch||tO===true)){pe();}ku(dz,true);F.bV('scaleChanged',{scaleType:(tO)?"scaledDown":"scaledUp",scaleTrigger:fa,fitType:fF,scaleFactor:dR});};function auc(){var dummy=document.createElement('div');setTimeout(function(){aQ.appendChild(dummy);aQ.removeChild(dummy);},0);};function akb(aC,ed,et,eY){var hj=aC.igElements;eY=eY||Qq(aC);if(eY&&(eY.right-eY.left)>0&&(eY.bottom-eY.top)>0){return new IPCC.Web.UI.Point(ed+eY.left+hj.mU.scrollLeft,et+eY.top+hj.mU.scrollTop);}else{return;}};function Qq(aC){var hj=aC.igElements;var eY=null;if(!aC|| !hj|| !hj.oJ){return null;}if(hj.oJ.getBoundingClientRect){try{eY=hj.oJ.getBoundingClientRect();}catch(bN){return;}}else{var eR=hj.oJ;var wr=document.documentElement;eY={left:wr.clientLeft-wr.scrollLeft,top:wr.clientTop-wr.scrollTop};eR=eR.offsetParent;while(eR){eY.top+=eR.offsetTop-eR.scrollTop;eY.left+=eR.offsetLeft-eR.scrollLeft;eR=eR.offsetParent;}}return eY;};function ajW(){var cW=F.lJ();var OC=cW.id;var yh;var xv;var nu;var Ww;var WT;var bg=false;var aC;var os=[];var tL= -1;var gr=0;var og;var Cr;var Ao;var mW={x:0,y:0};var lM=0;var cP=0;var tX=null;var ud=null;if(ba===''){aQ=hg({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});aQ.className='pccPageListContainerWrapper';aQ.tabIndex=2;var WP=function(ed,et){return IPCC.h.getPageFromPoint(ed,et,aQ)||false;};var YB=function(aC,ed,et){var hj=aC.igElements;var eY=Qq(aC);if(eY&&(eY.right-eY.left)>0&&(eY.bottom-eY.top)>0){return new IPCC.Web.UI.Point(ed-eY.left-hj.mU.scrollLeft,et-eY.top-hj.mU.scrollTop);}else{return;}};var aBc=function(qy){qy.Mp([new IPCC.kh(IPCC.Web.UI.MarkType.Text)]);};var aBB=function(qy){qy.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Mn=false,aEJ="";var amj=function aIa(bN,ix,ak){if(ix.match(/edit/)){Mn=true;return;}aBc(ak.al);Mn=true;aEJ=ix;ak.al.HJ("touchstart",bN);};var amu=function(ak){Mn=false;aBB(ak.al);};var Zw=function(bN){if(bN.target&&bN.target.attributes&&bN.target.getAttribute('data-pcc-mark')){return bN.target;}else if(bN.target.parentElement&&bN.target.parentElement.attributes&&bN.target.parentElement.getAttribute('data-pcc-mark')){return bN.target.parentElement;}else if(bN.target.parentNode&&bN.target.parentNode.attributes&&bN.target.parentNode.getAttribute('data-pcc-mark')){return bN.target.parentNode;}else{return undefined;}};var ZD=function(bN){var dk=Zw(bN);if(dk){return dk.getAttribute('data-pcc-mark');}return undefined;};var afQ=function(qy){if(qy&&qy.eG()){qy.eG().CL(function(G){G.set_selected(false);});qy.display();}};var LP,Vt=false;var Qy=function(bN,H){var nm={cg:undefined,G:undefined,aW:null};var kE=Zw(bN);if(kE){if(typeof aC!=='undefined'&&aC!==false&&aC.al&&aC.igElements&&aC.al.fE()===true){nm.aW=aC.al.nJ();}if(kE.ImGearMarkRelation){nm.cg='mark';nm.G=kE.ImGearMarkRelation.G;nm.YA=nm.G.get_selected();return nm;}else{while(!(kE.ImGearMarkRelation)&&kE.parentNode&&kE!==document.body){kE=kE.parentNode;if(kE.ImGearMarkRelation){nm.cg='mark';nm.G=kE.ImGearMarkRelation.G;nm.YA=nm.G.get_selected();return nm;}}}}if(typeof aC!=='undefined'&&aC!==false&&aC.al&&aC.igElements&&aC.al.fE()===true){nm.aW=aC.al.nJ();var aW=0;for(aW=0;aW<aT.length;aW++){if(aT[aW].bP===aC.id){if(typeof H.targetType==='undefined'||H.targetType===null){nm.cg='page';return nm;}break;}}}return nm;};var NQ=function(aW,sJ,kf,azg){if(by===null||by===undefined){return;}var Rq=false;if(sJ===undefined){sJ=by.sJ;Rq=true;}if(kf===undefined){kf=by.kf;Rq=true;}var G;var ak=document.getElementById(aT[aW].bP);if(azg===true){G=by.xR;}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);G.set_rectangle({x:0,y:0,width:0,height:0});G.cD=127;G.ea='#3366CC';G.bK=null;ak.al.lO().addMark(G);}G.set_selected(true);if(Rq===true){if(by.hI===by.hz){G.ad=gr;G.dJ=kf-gr+1;G.kA=true;G.kc=true;ak.al.display();}else if(aW===by.hI){G.ad=gr;G.dJ=ak.al.cA().gq().eu()-1-sJ;G.kA=true;G.kc=false;ak.al.display();}else if(aW===by.hz){G.ad=0;G.dJ=kf+1;G.kA=false;G.kc=true;ak.al.display();}else{G.ad=0;G.dJ=ak.al.cA().gq().eu()-1-gr;G.kA=false;G.kc=false;}}else{if(by.hI===by.hz){G.kA=true;G.kc=true;}else if(aW===by.hI){G.kA=true;G.kc=false;}else if(aW===by.hz){G.kA=false;G.kc=true;}else{G.kA=false;G.kc=false;}}by.eW[aW]=G;};var akz=function(dk,bh,dN,QA){if(dk){var RX=dk.getBoundingClientRect();bh=IPCC.h.NM(bh,RX.left+QA);bh=IPCC.h.OR(bh,RX.right-QA);dN=IPCC.h.NM(dN,RX.top+QA);dN=IPCC.h.OR(dN,RX.bottom-QA);}return{x:bh,y:dN};};var jH=function(bN){if(Ao){if(Ao.clientX===bN.clientX&&Ao.clientY===bN.clientY){if(bN.rawEvent.preventDefault){bN.rawEvent.preventDefault();}else if(bN.preventDefault){bN.preventDefault();}if(bN.rawEvent.stopPropagation){bN.rawEvent.stopPropagation();}else if(bN.stopPropagation){bN.stopPropagation();}Vt=true;Ao=undefined;return false;}}LP=bN;agE(bN,bN.clientX,bN.clientY,bN.button);};var agO=function(bN,H){nu=Qy(bN,H);};var agE=function(bN,ed,et,pq){var H=new IPCC.Web.UI.MouseEventArgs();aC=WP(ed,et);agO(bN,H);var ix;var kE=Zw(bN);if(kE){ix=kE.getAttribute('data-pcc-mark');}var Wt=false;var ND=ix&&ix.substring(0,10);if(ix&&ND==='texthandle'){Cr=true;Wt=true;ND=ix.substring(10,13);var G=kE.parentNode.ImGearMarkRelation.G;if(by&&G.bK===null){os=by.tk.slice();os[H.pageIndex]=undefined;}else{by=null;os=[];F.tm();}var aeC=function(azN){gr=by.sJ;var C;for(C=by.hz;C>=by.hI;C--){var ak=document.getElementById(aT[C].bP);if(ak.al===undefined||ak.al===null){continue;}var xp=gr;if(C!==by.hI){xp=0;}var sm;if(C===by.hz){sm=by.kf;}else{sm=ak.al.get_textPage().gq().eu()-1;}azN(ak,xp,sm);if(C!==by.qq){NQ(C);}}tX=ar;ar=IPCC.Web.UI.MouseTool.SelectText;bg=true;};var C,aW,bj,Ng,eV,sS,bX;if(ND==='sta'){if(by===null||by===undefined){aW=G.aW;by={};by.eW=[];by.hI=aW;by.sJ=G.ad;gr=G.ad;while(aW<aT.length){bj=aT[aW].bj;Ng=bj.get_markCount();for(C=0;C<Ng;C++){eV=bj.getMark(C);if(G.bH===eV.bH&&eV.get_type()===G.get_type()){by.eW[aW]=eV;for(sS=eV.bK.length-1;sS>=0;sS--){if(eV.bK[sS].set_visible){eV.bK[sS].set_visible(false);}else{eV.set_visible(false);break;}}if(aW===G.aW){ud=eV;}else{os[aW]=bX.substring(eV.ad,eV.dJ);eV.set_selected(false);}bX=eV.bX.substring(eV.dJ);if(eV.kc===true){by.kf=eV.ad+eV.dJ-1;by.hz=aW;break;}}}aW++;}}og=by.kf+1;lM=by.hz;var ayR=function(ak,xp,sm){ak.al.showEmptyTextSelection(sm+1);ak.al.extendTextSelection(undefined);ak.al.extendTextSelection(sm);ak.al.extendTextSelection(xp);};by.eW[by.hI].xZ=true;by.qq=by.hI;by.xR=by.eW[by.hI];aeC(ayR);}else if(ND==='end'){if(by===null||by===undefined){aW=G.aW;by={};by.eW=[];by.hz=aW;by.kf=G.ad+G.dJ-1;while(aW>=0){bj=aT[aW].bj;Ng=bj.get_markCount();for(C=0;C<Ng;C++){eV=bj.getMark(C);if(G.bH===eV.bH&&eV.get_type()===G.get_type()){by.eW[aW]=eV;for(sS=eV.bK.length-1;sS>=0;sS--){if(eV.bK[sS].set_visible){eV.bK[sS].set_visible(false);}else{eV.set_visible(false);break;}}if(aW===G.aW){bX=eV.bX;}else{os[aW]=bX.substring(bX.length-eV.dJ);eV.set_selected(false);}bX=eV.bX.substring(0,bX.length-eV.dJ);if(eV.kA===true){by.sJ=eV.ad;gr=eV.ad;by.hI=aW;ud=eV;break;}}}aW--;}}og=by.sJ;lM=by.hI;var axY=function(ak,xp,sm){ak.al.showEmptyTextSelection(xp);ak.al.extendTextSelection(undefined);ak.al.extendTextSelection(xp);ak.al.extendTextSelection(sm);};by.eW[by.hz].xZ=true;by.qq=by.hz;by.xR=by.eW[by.hz];aeC(axY);}if(ud){aC.al.display();}}var Ai=bN.target.tagName&&bN.target.tagName.toLowerCase()==='textarea';if(Ai){return;}var AB=bN.target.tagName&&bN.target.tagName.toLowerCase()==='input'&&bN.target.type&&bN.target.type.toLowerCase()==='text';if(AB){return;}if(ar===IPCC.Web.UI.MouseTool.HandPan&&Au&&ix&&Wt===false){if(!nu||nu.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){amj(bN,ix,aC);return;}}var bY;var fv;if(aC!==false&&aC.al&&aC.igElements&&aC.al.fE()===true){var bf=0;for(bf=0;bf<aT.length;bf++){if(aT[bf].bP===aC.id){H.pageIndex=bf;break;}}H.pointLiesWithinImage=true;fv=YB(aC,ed,et);if(fv){bY=aC.al.Np(fv,false);H.imagePoint=bY;H.constrainedImagePoint=bY;}else{H.pointLiesWithinImage=false;}}else{H.pointLiesWithinImage=false;}H.domEvent=bN;H.windowPoint=new IPCC.Web.UI.Point(ed,et);if(Wt===true){tL= -1;cP=H.pageIndex;bN.preventDefault();F.bV('mouseDown',H);return;}switch(ar){case IPCC.Web.UI.MouseTool.None:bN.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bN.preventDefault();yh=et;xv=ed;Ww=aQ.scrollTop;WT=aQ.scrollLeft;bg=true;F.BU(ba,'grabbing');if(aC&&aC.al){F.BU(aC,'grabbing');aC.al.set_cursor('grabbing');aC.al.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bN.preventDefault();if(pq===0&&aC&&aC.al&&bY){F.tm();os=[];tL= -1;Cr=undefined;gr=undefined;og=undefined;bg=true;mW=H.windowPoint;}break;case IPCC.Web.UI.MouseTool.Magnifier:bN.preventDefault();if(pq===0&&aC&&aC.al&&fv){var kj=IPCC.bL.fD(IPCC.bL.None);ba.style.cursor=kj;aC.al.showMagnifier(fv);aC.al.display();}bg=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bN.preventDefault();if(pq===0&&aC&&aC.al&&bY){bg=true;yh=fv.y;xv=fv.x;aC.al.showEmptySelection(bY);aC.al.display();}break;}F.bV('mouseDown',H);};var kw=function(bN){ahh(bN,bN.clientX,bN.clientY,bN.button);};var ail=function(H,ed,et,dj){H.windowPoint=new IPCC.Web.UI.Point(ed,et);dj=WP(ed,et);var bY,fv;if(dj!==false&&dj.al&&dj.igElements&&dj.al.fE()===true){H.pointLiesWithinImage=true;fv=YB(dj,ed,et);if(fv){bY=dj.al.Np(fv,false);H.imagePoint=bY;H.constrainedImagePoint=bY;}else{H.pointLiesWithinImage=false;}}else{H.pointLiesWithinImage=false;}return{H:H,ed:ed,et:et,dj:dj,bY:bY,fv:fv};};var ahh=function(bN,ed,et,pq){var Ai=bN.target.tagName&&bN.target.tagName.toLowerCase()==='textarea';if(Ai){return;}var AB=bN.target.tagName&&bN.target.tagName.toLowerCase()==='input'&&bN.target.type&&bN.target.type.toLowerCase()==='text';if(AB){return;}var H=new IPCC.Web.UI.MouseEventArgs();var bY,fv,dj;var IW=function(ed,et){var oT=ail(H,ed,et,dj);H=oT.H;H.domEvent=bN;ed=oT.ed;et=oT.et;dj=oT.dj;bY=oT.bY;fv=oT.fv;};IW(ed,et);var kE=Qy(bN,H);if(kE&&kE.G){H.mark=kE.G;}var kj;switch(ar){case IPCC.Web.UI.MouseTool.None:bN.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bN.preventDefault();if(bg){var ark=et;var apC=ed;var avs=yh-ark;var awU=xv-apC;aQ.scrollTop=Ww+avs;aQ.scrollLeft=WT+awU;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bN.preventDefault();if(bg){if(pq!==0){yk();}var gD;if(!dj){F.bV('mouseMove',H);return;}if(gr===undefined){aC=dj;}else if(dj!==aC&&dj.al&&fv){tL= -1;var kY=0;var C=0;for(C=0;C<aT.length;C++){if(aT[C].bP===dj.id){kY=C;break;}}if(kY>cP){if(kY>lM){gD=aC.al.get_textPage().gq().eu()-1;if(gD<0){yk();F.bV('mouseMove',H);return;}aC.al.extendTextSelection(gD);if(by){gD=aC.al.get_textPage().gq().eu()-1;by.eW[cP].set_startIndex(aC.al.OU());by.eW[cP].set_textLength(aC.al.Bn());by.hz=kY;gr=aC.al.OU();}os[cP]=aC.al.getSelectedText();dj.al.showEmptyTextSelection(0);dj.al.extendTextSelection(undefined);tL=0;aC.al.display();aC=dj;}else{gr=0;os[cP]=undefined;os[kY]=undefined;aC.al.showEmptyTextSelection(0);aC.al.extendTextSelection(undefined);if(by&&by.eW[cP]){by.eW[cP].kA=false;}aC.al.display();aC=dj;if(by&&by.eW[cP]){by.eW[cP]=undefined;by.hI=kY;by.eW[kY].set_startIndex(0);by.eW[kY].set_textLength(by.eW[kY].get_startIndex()+by.eW[kY].get_textLength());by.eW[kY].kA=true;aC.al.display();}}}else if(kY<cP){if(kY<lM){gD=aC.al.get_currentTextIndex();if(gD!==0){aC.al.extendTextSelection(0);}if(by){by.eW[cP].set_startIndex(aC.al.OU());by.eW[cP].set_textLength(aC.al.Bn());by.hI=kY;}os[cP]=aC.al.getSelectedText();aC.al.display();gD=dj.al.cA().gq().eu()-1;tL=gD;gr=0;dj.al.showEmptyTextSelection(gD+1);dj.al.extendTextSelection(undefined);aC=dj;aC.al.display();}else{os[cP]=undefined;os[kY]=undefined;aC.al.showEmptyTextSelection(0);aC.al.extendTextSelection(undefined);if(by&&by.eW[cP]){by.eW[cP].kc=false;}aC.al.display();aC=dj;if(by&&by.eW[cP]){by.eW[cP]=undefined;by.hz=kY;gD=aC.al.cA().gq().eu()-1;by.eW[kY].set_textLength(dj.al.Bn());by.eW[kY].kc=true;aC.al.display();}}}cP=kY;}var arF=(cP<lM),arX=(cP>lM);if(aC&&aC.al&&aC.al.fE()===true&&fv){fv=YB(aC,ed,et);bY=aC.al.Np(fv,false);var ca=aC.al.transformPagePointToTextIndex(bY);if(gr===undefined){if(ca===undefined){F.bV('mouseMove',H);return;}var YH=function(ak,vb){var xY=ak.al.cA();var hm=xY.gq();var fd=hm.kG(vb);return fd.sx();};var sb=YH(aC,ca);var aaa=aC.al.transformPagePointToWindow(new IPCC.Web.UI.Point(sb.x,sb.y),true);var abb=aC.al.transformPagePointToWindow(new IPCC.Web.UI.Point(sb.x+sb.width,sb.y+sb.height),true);var aaV=abb.x-aaa.x;var aCS=(fv.x>aaa.x+(aaV*0.3)&&fv.x<abb.x-(aaV*0.3));if(aCS){gr=ca;og=ca;aC.al.showEmptyTextSelection(ca);aC.al.extendTextSelection(undefined);aC.al.extendTextSelection(ca);aC.al.display();var bB=0;for(bB=0;bB<aT.length;bB++){if(aT[bB].bP===aC.id){lM=bB;cP=bB;break;}}}else{F.bV('mouseMove',H);return;}}else{if(gr=== +gr&&ca=== +ca){if(arF){gr=ca;}else if(!arX){gr=Math.min(og,ca);}}}gD=aC.al.get_currentTextIndex();if(gD===ca||ca===undefined){F.bV('mouseMove',H);return;}if(tL!== -1){if(ca!==tL){aC.al.extendTextSelection(tL);}tL= -1;}if((ca>og&&cP===lM)||cP>lM){if(by){if(by.eW[cP]===undefined||by.eW[cP]===null){NQ(cP,0,0,cP===by.qq);if(cP-1>=0&&by.eW[cP-1]){by.eW[cP-1].kc=false;document.getElementById(aT[cP-1].bP).al.display();}}by.eW[cP].kc=true;}if(Cr===undefined){Cr=false;}}else if(ca<og||cP<lM){if(by){if(by.eW[cP]===undefined||by.eW[cP]===null){NQ(cP,aC.al.cA().gq().eu()-1,0,cP===by.qq);if(by.eW[cP+1]){by.eW[cP+1].kA=false;document.getElementById(aT[cP+1].bP).al.display();}}by.eW[cP].kA=true;}if(Cr===undefined){Cr=true;og++;aC.al.showEmptyTextSelection(og);aC.al.extendTextSelection(undefined);var sm=aC.al.cA().gq().eu();if(og>=sm){aC.al.extendTextSelection(sm-1);}else{aC.al.extendTextSelection(og);}}}aC.al.extendTextSelection(ca);if(by&&by.eW[cP]){by.eW[cP].set_startIndex(aC.al.OU());by.eW[cP].set_textLength(aC.al.Bn());}aC.al.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:bN.preventDefault();if(bg){if(pq!==0||(aC&&aC.al&&aC!==dj)){aC.al.hideMagnifier();kj=IPCC.bL.fD(IPCC.bL.Magnifier);ba.style.cursor=kj;aC.al.display();}if(dj&&dj.al&&fv){aC=dj;kj=IPCC.bL.fD(IPCC.bL.None);ba.style.cursor=kj;dj.al.showMagnifier(fv);dj.al.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:bN.preventDefault();if(bg){var HF=akz(aC,ed,et,1);IW(HF.x,HF.y);if(dj&&dj.al&&bY&&dj===aC){if(pq!==0){dj.al.hideSelection();dj.al.display();bg=false;}else{dj.al.extendSelection(bY);dj.al.display();}}}break;}F.bV('mouseMove',H);};var kM=function(bN){if(Vt!==true){XV(bN,bN.clientX,bN.clientY);}else{Vt=false;}};var agV=function(bN,H){H.upTargetType=null;var Bx=Qy(bN,H);H.originalEvent=bN.rawEvent;H.clientX=bN.clientX;H.clientY=bN.clientY;H.downTarget={type:undefined,pageIndex:undefined};if(typeof nu!=='undefined'&&typeof nu.cg!=='undefined'){H.downTarget.type=nu.cg;}if(typeof nu!=='undefined'&&typeof nu.aW!=='undefined'){H.downTarget.pageIndex=nu.aW;}if(typeof nu!=='undefined'&&typeof nu.YA!=='undefined'){H.downTarget.alreadySelected=nu.YA;}H.downMark=(typeof nu!=='undefined')?nu.G:undefined;H.upMark=Bx.G;switch(Bx.cg){case 'page':case 'mark':H.upTarget={type:Bx.cg,pageIndex:Bx.aW};break;}if(H.pointLiesWithinImage===false&&Bx.cg==='page'){Bx.aW= -1;}};var XV=function(bN,ed,et){var H=new IPCC.Web.UI.MouseEventArgs();var dj;var bY;var fv;var IW=function(ed,et){var oT=ail(H,ed,et,dj);H=oT.H;H.domEvent=bN;ed=oT.ed;et=oT.et;dj=oT.dj;bY=oT.bY;fv=oT.fv;};IW(ed,et);if(bN){agV(bN,H);F.bV('mouseUp',H);}nu=undefined;var kj;switch(ar){case IPCC.Web.UI.MouseTool.None:bN.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bN.preventDefault();if(bg){xv=undefined;yh=undefined;Ww=undefined;WT=undefined;bg=false;kj='move';F.BU(ba,'grab');if(aC&&aC.al){F.BU(aC,'grab');aC.al.set_cursor('grab');aC.al.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(bN){bN.preventDefault();}var xD=H.windowPoint.x-mW.x;var yD=H.windowPoint.y-mW.y;if(xD===0&&yD===0){yk();}if(bg){var pO=new IPCC.Web.UI.TextSelectedEventArgs(),jt=[],C,yM,ya;var kf;var IR=aC.al.getSelectedText();var tk=os.slice();if(IR.length>0){tk[cP]=aC.al.getSelectedText();}else{if(cP>lM){cP--;aC=document.getElementById(aT[cP].bP);if(tk[cP]){IR=tk[cP];}}else if(cP<lM){cP++;aC=document.getElementById(aT[cP].bP);if(tk[cP]){IR=tk[cP];}}}pO.text=tk.join('');var Tp=true;if(cP>=lM){if(cP===lM){if(aC.al.get_currentTextIndex()>=og){Tp=false;}kf=gr+IR.length-1;}else{kf=IR.length-1;}if(kf<0){kf=0;}yM=lM;ya=cP;}else{Tp=false;kf=og-1;yM=cP;ya=lM;}for(C=yM;C<=ya;C++){jt.push(C);}if(pO.text.length===0){yk();jt=[];}pO.pageNumbers=jt;pO.clientX=ed;pO.clientY=et;if(gr!==undefined){if(ar===IPCC.Web.UI.MouseTool.SelectText){var YH=function(ak,vb){var xY=ak.al.cA();var hm=xY.gq();var fd=hm.kG(vb);return fd.sx();};var gD=aC.al.get_currentTextIndex();var sb=YH(aC,gD);var dX=0,fr=0;if(Tp===false){dX=sb.width;fr=sb.height;}var Eq=aC.al.transformPagePointToWindow(new IPCC.Web.UI.Point(sb.x+dX,sb.y+fr),true);var cl=akb(aC,Eq.x,Eq.y);pO.handleClientX=cl.x;pO.handleClientY=cl.y;}var aoR=by===undefined||by===null;if(ud){pO.previousFirstMark=ud;pO.firstMark=by.eW[yM];if(by.qq<yM||by.qq>ya){var Iw=document.getElementById(aT[by.qq].bP);if(Iw.al){Iw.al.lO().removeMark(by.xR);}}by.xR.xZ=false;F.tm();if(tX!==null){ar=tX;}tX=null;}else if(aoR===true){if(ar===IPCC.Web.UI.MouseTool.SelectText){by={hI:yM,sJ:gr,hz:ya,kf:kf,tk:tk.slice(),eW:[]};for(C=0;C<jt.length;C++){NQ(jt[C]);}}else{F.tm();}}else{if(by.qq<yM||by.qq>ya){var agJ=document.getElementById(aT[by.qq].bP);if(agJ.al){agJ.al.lO().removeMark(by.xR);}}by.xR.xZ=false;by.hI=yM;by.sJ=gr;by.hz=ya;by.kf=kf;by.tk=tk.slice();if(tX!==null){ar=tX;}tX=null;}pO.mouseTool=ar;pO.startIndex=gr;F.bV('selectTextMouseToolCompleted',pO);if(ud){ud=null;by=null;}}bg=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:bN.preventDefault();if(dj&&dj.al){dj.al.hideMagnifier();kj=IPCC.bL.fD(IPCC.bL.Magnifier);ba.style.cursor=kj;dj.al.display();}bg=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bN.preventDefault();var HF=akz(aC,ed,et,1);IW(HF.x,HF.y);if(bg&&fv){var Cc=0;var Bk=0;var aaz=0;var aaq=0;if(fv.x<xv){Cc=xv-fv.x;aaz=fv.x+Cc/2;}else{Cc=fv.x-xv;aaz=xv+Cc/2;}if(fv.y<yh){Bk=yh-fv.y;aaq=fv.y+Bk/2;}else{Bk=fv.y-yh;aaq=yh+Bk/2;}var aea=aQ.clientWidth/Cc;var afx=aQ.clientHeight/Bk;var rc=aea;if(aea>afx){rc=afx;}if(dj&&dj.al){dj.al.or();dj.al.display();}bg=false;if(Cc*2+Bk*2>25){F.aqd(rc,aaz,aaq,dj);}}break;}var Ai=false;var AB=false;if(bN){Ai=bN.target.tagName&&bN.target.tagName.toLowerCase()==='textarea';AB=bN.target.tagName&&bN.target.tagName.toLowerCase()==='input'&&bN.target.type&&bN.target.type.toLowerCase()==='text';}if(Mn&& !Ai&& !AB){amu(aC);}else if(ar===IPCC.Web.UI.MouseTool.HandPan&&LP&& !Ai&& !AB&&bN&&LP.clientX===bN.clientX&&LP.clientY===bN.clientY&&bN.shiftKey!==true&&bN.ctrlKey!==true){afQ(aC.al);}};var azQ=function(){var kj;switch(ar){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:F.BU(ba,'grab');bg=false;break;case IPCC.Web.UI.MouseTool.SelectText:yk();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aC&&aC.al){aC.al.hideMagnifier();kj=IPCC.bL.fD(IPCC.bL.Magnifier);ba.style.cursor=kj;aC.al.display();}bg=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aC&&aC.al){aC.al.hideSelection();aC.al.display();bg=false;}break;}};var axc=function(){azQ();};var aqq=function(){if(ar===IPCC.Web.UI.MouseTool.Magnifier){if(aC&&aC.al){aC.al.hideMagnifier();var kj=IPCC.bL.fD(IPCC.bL.Magnifier);ba.style.cursor=kj;aC.al.display();}bg=false;}else if(ar===IPCC.Web.UI.MouseTool.RectangleZoom){if(aC&&aC.al){aC.al.hideSelection();aC.al.display();bg=false;}}else if(ar===IPCC.Web.UI.MouseTool.SelectText){yk();}};var ma=function(bN){if(bN.ctrlKey){switch(ar){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var MU=bN.rawEvent.wheelDelta;bN.preventDefault();if(MU<0){F.zoomOut(1.5);}else{F.zoomIn(1.5);}break;}}else{bN.preventDefault();aQ.scrollTop-=bN.rawEvent.wheelDelta*0.72;}if(ar===IPCC.Web.UI.MouseTool.Magnifier){if(aC&&aC.al){aC.al.hideMagnifier();var kj=IPCC.bL.fD(IPCC.bL.Magnifier);ba.style.cursor=kj;aC.al.display();}bg=false;}else if(ar===IPCC.Web.UI.MouseTool.RectangleZoom){if(aC&&aC.al){aC.al.hideSelection();aC.al.display();bg=false;}}else if(ar===IPCC.Web.UI.MouseTool.SelectText){yk();}};var aAF=function(aH){var H=new IPCC.Web.UI.MouseEventArgs();H.upTarget={type:'comments',element:aH.target};H.downTarget={type:'comments',element:aH.target};H.originalEvent=aH.rawEvent;H.clientX=aH.clientX;H.clientY=aH.clientY;H.pageIndex=undefined;F.bV('mouseUp',H);};var yk=function(){if(bg===true){if(by&&by.qq!==undefined){if(ud){XV(null,0,0);return;}else{var Iw=document.getElementById(aT[by.qq].bP);if(Iw.al){Iw.al.lO().removeMark(by.xR);}by.xR.xZ=false;}}F.tm();ud=null;bg=false;if(tX!==null){ar=tX;}tX=null;}};Co=hg({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dw===IPCC.ViewMode.SinglePage){ba=hg({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});ba.className='pccPageListContainer pccSinglePageView';}else{ba=hg({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});ba.className='pccPageListContainer';}IPCC.Web.UI.bw.addHandler(aQ,"mousedown",jH);IPCC.Web.UI.bw.addHandler(aQ,"mouseup",kM);IPCC.Web.UI.bw.addHandler(aQ,"mousemove",kw);IPCC.Web.UI.bw.addHandler(aQ,"mouseleave",axc);IPCC.Web.UI.bw.addHandler(aQ,"mousewheel",ma);IPCC.Web.UI.bw.addHandler(aQ,"DOMMouseScroll",aqq);aQ.onscroll=(! !Ga)?atM:avh;ba.setAttribute('id',OC+'_ListContainer');aQ.setAttribute('id',OC+'_ListWrapper');auO=OC+'_ListWrapper';lu=hg();lu.className='pccPageListComments pccHidden';lu.setAttribute('id',OC+'_CommentsPanel');var Un=[];if(IPCC.h.aBp){Un.push('touchend');}else{Un.push('click');}IPCC.h.forEach(Un,function(evName){IPCC.Web.UI.bw.addHandler(lu,evName,aAF);});Co.appendChild(ba);Co.appendChild(lu);aQ.appendChild(Co);cW.appendChild(aQ);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bJ='',ah='',sH='',sf='',qf;var yA=function(){qf=getComputedStyle(cW);sH=qf.getPropertyValue('width');sf=qf.getPropertyValue('height');if(sH!==bJ||sf!==ah){bJ=sH;ah=sf;aQ.style.width=bJ;aQ.style.height=ah;}};setInterval(yA,1000);window.addEventListener('resize',yA);yA();F.yA=yA;}var aAD=IPCC.h.HE;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aAD&&window.addEventListener&&document.querySelector){atS(aQ);}var azW=function(ba,aHm){var ks;var XC=function(aH){var cr=aH.rawEvent,gC=cr.touches[0]||cr.changedTouches[0];aH.clientX=gC.clientX;aH.clientY=gC.clientY;aH.preventDefault=function(){cr.preventDefault();};aH.stopPropagation=function(){cr.stopPropagation();};return aH;};var Fp=function(js,aH){var H=new IPCC.Web.UI.MouseEventArgs(),CU=(js==='touchstart')?'mouseDown':(js==='touchend')?'mouseUp':null;var AY=(js==='touchstart')?agE:(js==='touchmove')?ahh:(js==='touchend')?XV:null;ks=WP(aH.clientX,aH.clientY);if(js==='doubleTap'){ks&&ks.al&&ks.al.HJ(js,aH);}var ix;ix=ZD(aH);if(ix){if(ix.substring(0,5)==='texth'){aH.preventDefault();aH.stopPropagation();if(js==='touchstart'){Ao=aH;}AY&&AY(aH,aH.clientX,aH.clientY,0);return;}}switch(ar){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ks&&ks.al&&ks.al.HJ(js,aH);if(CU==='mouseUp'){agV(aH,H);}else if(CU==='mouseDown'){agO(aH,H);}F.bV(js,H);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aH.preventDefault();aH.stopPropagation();if(js==='touchstart'){Ao=aH;if(ix){F.tm();break;}}AY&&AY(aH,aH.clientX,aH.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:aH.preventDefault();aH.stopPropagation();if(js==='touchstart'){Ao=aH;}AY&&AY(aH,aH.clientX,aH.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(ix===undefined){ix=ZD(aH);}var L=Qy(aH,{});if(ix&&Au){if(!L||L.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(js==='touchstart'){amj(aH,ix,ks);}else if(js==='touchmove'){ks&&ks.al&&ks.al.HJ(js,aH);}else if(js==='touchend'){ks&&ks.al&&ks.al.HJ(js,aH);amu(ks);}}}break;}};var Ej,zK,vr;var aAv=function(aH){if(aH.rawEvent.touches.length>1){clearTimeout(vr);vr=zK=Ej=undefined;return;}aH=XC(aH);Ej=aH;if(ar===IPCC.Web.UI.MouseTool.CreatePolylineMark){aH.preventDefault();}zK=function(){Fp('touchstart',aH);vr=zK=Ej=undefined;};vr=setTimeout(function(){zK();},200);};var Is,Bv;var azc=function(aH){aH=XC(aH);qi=false;var arR=function(){if(!Bv){return false;}var fB=Bv.clientX-aH.clientX;var fM=Bv.clientY-aH.clientY;var gx=fB*fB+fM*fM;return gx<2500;};var afe=function(){Is=Bv=undefined;var ix=ZD(aH);if(!ix&&ar===IPCC.Web.UI.MouseTool.HandPan&&Au&&ks){afQ(ks.al);}};var avm=function(){var afl=zK;if(Is&&arR()){clearTimeout(Is);Bv=Is=undefined;afl();Fp('touchend',aH);Fp('doubleTap',aH);}else{Is=setTimeout(function(){afl();Fp('touchend',aH);afe();},300);Bv=aH;}};if(Ej&&vr){clearTimeout(vr);if(ar===IPCC.Web.UI.MouseTool.CreatePolylineMark){avm();}else{afe();}vr=zK=Ej=undefined;return;}Fp('touchend',aH);};var amT,qi=false;var aAI=function(aH){if(aH.rawEvent.touches.length>1){return;}amT=aH;if(Ej&&vr){clearTimeout(vr);zK();}arC();};function arC(){var aH=XC(amT);Fp('touchmove',aH);};IPCC.Web.UI.bw.addHandler(ba,"touchstart",aAv);IPCC.Web.UI.bw.addHandler(ba,"touchmove",aAI);IPCC.Web.UI.bw.addHandler(ba,"touchend",azc);};azW(ba,lu);}};function atS(gu){var aez=function(){},cc=1;function aiq(abz,aaA,hk,ats){gu.style['-ms-transform']=abz;gu.style['-moz-transform']=abz;gu.style['-webkit-transform']=aaA;gu.style['transform']=aaA;gu.style['-ms-transform-origin']=hk;gu.style['-moz-transform-origin']=hk;gu.style['-webkit-transform-origin']=hk;gu.style['transform-origin']=hk;gu.style.overflow=ats||'';};function aih(){aiq('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};aih();function ass(rc,hh,Ox,tG,aef){var dX=(-hh.x/rc)-Ox.x,fr=(-hh.y/rc)-Ox.y,aCP="scale3d("+rc+","+rc+",1) translate3d("+dX+"px,"+fr+"px,0px)",azD="scale("+rc+", "+rc+") translate("+dX+"px,"+fr+"px)";var awY=aef.x+'px '+aef.y+'px';aiq(azD,aCP,awY,'visible');aez=function(){var aw=gu.getBoundingClientRect();var VH={x:(gu.clientWidth/2+ -aw.left+tG.left)/rc,y:(gu.clientHeight/2+ -aw.top+tG.top)/rc};if(fH===IPCC.PageLayout.VerticalScrollDirection&&tG.afU){VH.x=VH.x-(tG.afU/2);}aih();F.MI(rc,VH,undefined,IPCC.ScaleTrigger.Pinch);wQ=false;};return gu;};function akR(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aid(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function anM(ana,Hh){return{x:ana.x-Hh.x,y:ana.y-Hh.y};};var Vq=false;gu.addEventListener('touchstart',function(ev){if(wQ){return;}if(!Vq&&ev.touches.length===2){ajr(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var zk,ZY=false,AR={};PCCViewer.EventEmitter.extend(AR);gu.addEventListener(IPCC.h.oy['down'],function(aH){ZY=true;aH=standardizeMSTouch(aH);if(zk){var cr={};cr.touches=[zk,aH];cr.changedTouches=[zk,aH];cr.preventDefault=function(){zk.rawEvent.preventDefault();aH.rawEvent.preventDefault();};cr.stopPropagation=function(){zk.rawEvent.stopPropagation();aH.rawEvent.stopPropagation();};ajr(cr);}else{zk=aH;}});gu.addEventListener(IPCC.h.oy['move'],function(aH){AR.trigger('touchmove',{rawEvent:aH});});gu.addEventListener(IPCC.h.oy['up'],function(aH){AR.trigger('touchend',{rawEvent:aH});zk=undefined;});function ajr(ev){wQ=true;var Ox={x:gu.scrollLeft,y:gu.scrollTop};var tG=gu.getBoundingClientRect();var pm=VG();var Jk=gu.querySelector('.pccPageListItem');if(fH===IPCC.PageLayout.VerticalScrollDirection&&Jk.clientWidth<tG.width-30){tG.afU=tG.width-Jk.clientWidth;}var hh={x:0,y:0,set:function(alZ){this.x=alZ.x;this.y=alZ.y;return this;}};var qi=false;Vq=true;ev.preventDefault();ev.stopPropagation();function OQ(gC){gC.x=gC.clientX||gC.pageX||gC.screenX;gC.y=gC.clientY||gC.pageY||gC.screenY;return gC;};var jw=OQ(ev.touches[0]);var wU=OQ(ev.touches[1]);var wc=akR(jw.x,jw.y,wU.x,wU.y);var alP=aid(jw.x,jw.y,wU.x,wU.y);var yr,xn;function Vb(aH){aH.preventDefault();[].forEach.call(aH.changedTouches,function(t){if(t.identifier===jw.identifier){yr=OQ(t);}else if(t.identifier===wU.identifier){xn=OQ(t);}});if(!yr|| !xn){return;}var asJ=akR(yr.x,yr.y,xn.x,xn.y);var asg=aid(yr.x,yr.y,xn.x,xn.y);cc=asJ/wc;if((dR*cc)<pm.minFactor){cc=pm.minFactor/dR;}else if((dR*cc)>pm.maxFactor){cc=pm.maxFactor/dR;}hh.set(anM(alP,asg));if(!qi){qi=true;IQ();}};function Vd(){Vq=false;qi=false;gu.removeEventListener('touchmove',Vb);gu.removeEventListener('touchend',Vd);if(ZY){AR.off('touchmove',alQ);AR.off('touchend',amx);}if(!yr|| !xn){wQ=false;return;}Ga(aez);};var alQ=function(aH){var afa=standardizeMSTouch(aH.rawEvent);afa.preventDefault=function(){};Vb(afa);};var amx=function(aH){Vd(standardizeMSTouch(aH.rawEvent));};gu.addEventListener('touchmove',Vb);gu.addEventListener('touchend',Vd);if(ZY){AR.on('touchmove',alQ);AR.on('touchend',amx);}function IQ(){if(qi){Ga(function(){if(!qi){return;}ass(cc,hh,Ox,tG,alP);IQ();});}}}};function atM(){if(dw===IPCC.ViewMode.SinglePage){return;}if(wQ){return;}if(mL){clearTimeout(mL);}if(TS){aoY(TS);}avb();mL=setTimeout(function(){mL=null;TS=Ga(function aHa(){if(wQ){return;}pe();});},40);};function avh(){if(mA===false||dw===IPCC.ViewMode.SinglePage){return;}io(true);if(mL!==null){clearTimeout(mL);}var apm=aQ.scrollHeight/aT.length;var PR=0;if(fH===IPCC.PageLayout.VerticalScrollDirection){PR=aQ.scrollTop;}else{PR=aQ.scrollLeft;}var axh=PR-Om;Om=PR;var aFE=new Date().getTime();var SQ=aFE-xJ;if(SQ>1000){SQ=1000;}Qw=axh/apm*1000/SQ;mL=setTimeout(function(){mL=null;xJ=0;xJ=new Date().getTime();pe();},1000);xJ=new Date().getTime();if(Qw!==0&&Math.abs(Qw)<Sf){if(Ki&&mL!==null){clearTimeout(mL);mL=null;}xJ=0;xJ=new Date().getTime();setTimeout(function(){if(Ki&&mL!==null){clearTimeout(mL);mL=null;}xJ=0;xJ=new Date().getTime();pe();},40);}};function atf(){function zr(aBk,aBf,aS,cD){var HI=document.createElementNS('http://www.w3.org/2000/svg','circle');HI.setAttribute('cx',aBk);HI.setAttribute('cy',aBf);HI.setAttribute('r',aS);HI.setAttribute('opacity',cD);return HI;};var qg=document.createElementNS('http://www.w3.org/2000/svg','svg');qg.setAttribute('viewBox','0 0 52 52');qg.appendChild(zr(26,13.813,2.813,1));qg.appendChild(zr(24,38.188,2.813,0.4));qg.appendChild(zr(13.813,26,2.813,0.1));qg.appendChild(zr(38.188,26,2.813,0.7));qg.appendChild(zr(34.618,34.618,2.813,0.55));qg.appendChild(zr(17.382,34.618,2.813,0.25));qg.appendChild(zr(34.618,17.382,2.813,0.85));return qg;};function ahR(kr){var bB=0;var ahc=false;var MN;var GV;var qg;for(bB=0;bB<kr.childNodes.length;bB++){if(kr.childNodes[bB].className==="pccPageListItemLoading"){ahc=true;}}if(ahc===false){GV=document.createElement('div');GV.className='pccPageListItemLoading';qg=atf();kr.innerHTML="";kr.appendChild(GV);GV.appendChild(qg);if(Iz.length>0){MN=document.createElement('div');MN.className='pccPageListItemLoadingContent';MN.innerHTML=Iz;GV.appendChild(MN);}}};function avb(){var uH=aQ.scrollTop;var uy=aQ.scrollLeft;var wy=aQ.clientHeight;var wX=aQ.clientWidth;var vx=aQ.scrollWidth;var tp=aQ.scrollHeight;var cG=TW({uH:uH,uy:uy,wy:wy,wX:wX,vx:vx,tp:tp});var C=cG.agj;if(mA&&tI===false&&ds!==C&&C>=0){ds=C;var H=new IPCC.PageEventArgs();H.imGearPage=F.get_currentPage();H.pageIndex=ds;H.pageNodeID=aT[ds].bP;F.bV('currentPageChanged',H);}};function UH(aP){var bJ=aP.aZ||hF;var ah=aP.ay||iW;if(aP.gR%180){var qS=bJ;bJ=ah;ah=qS;}var rf=aP.gS||agL;return{bJ:bJ*(dR*cL/rf),ah:ah*(dR*cL/rf),aGc:rf,ai:aP.df};};function UF(apz){return IPCC.h.reduce(apz,function(fu,aB,ai){fu[ai]=UH(aB);return fu;},{});};function ajy(aW){var nG,En,Ap,yq,pB;if(fH===IPCC.PageLayout.VerticalScrollDirection){nG=aQ.scrollTop;En=aQ.scrollHeight;Ap=aQ.clientHeight;yq='ah';pB=eP;}else{nG=aQ.scrollLeft;En=aQ.scrollWidth;Ap=aQ.clientWidth;yq='bJ';pB=gL+fQ;}var ki=UF(aT);var HZ=fH===IPCC.PageLayout.VerticalScrollDirection?eP:gL;var aog=false;IPCC.h.forEach(ki,function(aB,ai){if(aB.ai===aW){aog=true;}if(aog){return;}HZ+=aB[yq]+pB;});return HZ-(pB/2);};function sK(cG){var BG=IPCC.h.map(cG.dr,function(aB){return+aB.ai;}).sort();var jw=BG[0];var kn=BG[BG.length-1];var fe=aT.length;for(var C=BH;C;C--){jw-=1;kn+=1;if(jw>=0){BG.unshift(jw);}if(kn<fe){BG.push(kn);}}return BG.sort();};function NU(cG){var jw=Math.max(cG.dr[0].ai-uQ,0);var kn=Math.min(cG.dr[cG.dr.length-1].ai+uQ,aT.length-1);return{jw:jw,kn:kn};};function aoS(cG){var jw=Math.max(cG.dr[0].ai-BH,0);var kn=Math.min(cG.dr[cG.dr.length-1].ai+BH,aT.length-1);return{jw:jw,kn:kn};};function TW(aq){if(dw===IPCC.ViewMode.SinglePage){return alj();}var nG,En,Ap,yq,pB;if(fH===IPCC.PageLayout.VerticalScrollDirection){nG=aq.uH;En=aq.tp;Ap=aq.wy;yq='ah';pB=eP;}else{nG=aq.uy;En=aq.vx;Ap=aq.wX;yq='bJ';pB=gL+fQ;}var atO=nG;var att=nG+Ap;var ki=UF(aT);var HZ=fH===IPCC.PageLayout.VerticalScrollDirection?eP:gL;var axE=nG/En;var Pd=(axE*Ap)+nG;var Wl=Number.MAX_VALUE;var nf= -1;var dr=[];IPCC.h.forEach(ki,function(aB,ai){var mu=HZ;var dW=mu+aB[yq];if(mu<att&&dW>atO){aB.wT=true;dr.push(aB);}var ahF=Math.min(Math.abs(mu-Pd),Math.abs(dW-Pd));if(mu<Pd&&dW>Pd){Wl=0;nf=ai;}else if(ahF<Wl){nf=ai;Wl=ahF;}HZ+=aB[yq]+pB;});if(dr.length===0&&ki[nf]!==undefined){dr.push(ki[nf]);}return{dr:dr,agj:Number(nf)||0,HG:ki};};function alj(){var ki=UF(aT);var Je=[ds];var dr=IPCC.h.filter(ki,function(aB){return IPCC.h.contains(Je,+aB.ai);});return{dr:dr,agj:ds,HG:ki};};function KJ(){var cG=io();if(!cG){return[];}var Je=IPCC.h.map(cG.dr,function(aB){return aB.ai;});var aEP=2;var amY=Math.min.apply(Math,Je);for(var i=1;i<=aEP;i++){if(amY-i>=0){Je.unshift(amY-i);}}return Je;};function io(){if(dw===IPCC.ViewMode.SinglePage){return alj();}if(aQ===''||aQ.clientHeight<=0){return;}var uH=aQ.scrollTop;var uy=aQ.scrollLeft;var wy=aQ.clientHeight;var wX=aQ.clientWidth;var vx=aQ.scrollWidth;var tp=aQ.scrollHeight;var auW=TW({uH:uH,uy:uy,wy:wy,wX:wX,vx:vx,tp:tp});tI=false;return auW;}};PJ.prototype={dispose:function(){this.aM('dispose',arguments);this.aaf(false);this.asd();},disposeDisplayedPages:function(){this.aDR();},get_debug:function(){try{var aS=this.IZ();this.dp('get_debug',arguments,aS);return aS;}catch(e){this.bm('get_debug',e);throw e;}},set_debug:function(value){try{this.aM('set_debug',arguments);var AA=this.IZ();this.Zb(value);if(!AA){this.aM('set_debug',arguments);}}catch(e){this.bm('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aS=this.zQ();this.dp('get_debugErrorLevel',arguments,aS);return aS;}catch(e){this.bm('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aM('set_debugErrorLevel',arguments);var AA=this.zQ();this.Kg(value);if(AA<IPCC.Web.UI.DebugErrorLevel.Development){this.aM('set_debugErrorLevel',arguments);}}catch(e){this.bm('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.KX(handler);}catch(e){this.bm('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xb(handler);}catch(e){this.bm('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Le(handler);}catch(e){this.bm('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.WY(handler);}catch(e){this.bm('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NC(handler);}catch(e){this.bm('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.XQ(handler);}catch(e){this.bm('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Yh(handler);}catch(e){this.bm('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.ZB(handler);}catch(e){this.bm('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.awC(handler);}catch(e){this.bm('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aDY(handler);}catch(e){this.bm('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.AI(handler);}catch(e){this.bm('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.DW(handler);}catch(e){this.bm('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.TQ(handler);}catch(e){this.bm('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.aeX(handler);}catch(e){this.bm('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.zA(handler);},remove_textExtractionFailed:function(handler){this.CZ(handler);},add_allPagesAdded:function(handler){try{this.avX(handler);}catch(e){this.bm('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aDG(handler);}catch(e){this.bm('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.SK(handler);}catch(e){this.bm('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.ZH(handler);}catch(e){this.bm('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.TP(handler);}catch(e){this.bm('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Zg(handler);}catch(e){this.bm('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Hv(handler);}catch(e){this.bm('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FR(handler);}catch(e){this.bm('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Sz(handler);}catch(e){this.bm('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yu(handler);}catch(e){this.bm('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.kz(handler);}catch(e){this.bm('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mX(handler);}catch(e){this.bm('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.Bz(handler);}catch(e){this.bm('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zG(handler);}catch(e){this.bm('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Rf(handler);}catch(e){this.bm('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wj(handler);}catch(e){this.bm('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.He(handler);}catch(e){this.bm('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gs(handler);}catch(e){this.bm('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.GS(handler);}catch(e){this.bm('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fq(handler);}catch(e){this.bm('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Hf(handler);}catch(e){this.bm('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.FU(handler);}catch(e){this.bm('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.HN(handler);}catch(e){this.bm('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.FS(handler);}catch(e){this.bm('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.CJ(handler);}catch(e){this.bm('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zJ(handler);}catch(e){this.bm('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.avJ(handler);}catch(e){this.bm('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aDJ(handler);}catch(e){this.bm('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.vu(handler);}catch(e){this.bm('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.CQ(handler);}catch(e){this.bm('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vD(handler);}catch(e){this.bm('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Es(handler);}catch(e){this.bm('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.tg(handler);}catch(e){this.bm('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.tq(handler);}catch(e){this.bm('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.ZO(handler);}catch(e){this.bm('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Zn(handler);}catch(e){this.bm('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Sc(handler);},remove_exceptionThrown:function(handler){this.Wo(handler);},writeToLog:function(message){try{this.oq(message);}catch(e){this.bm('writeToLog',e);throw e;}},get_currentState:function(){try{var aS=this.Ob();this.dp('get_currentState',arguments,aS);return aS;}catch(e){this.bm('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var aS=this.qY();this.dp('get_scaleFactor',arguments,aS);return aS;}catch(e){this.bm('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.aM('set_scaleFactor',arguments);this.aFD(scaleFactor);}catch(e){this.bm('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.aM('zoomIn',arguments);this.MI(factor);}catch(e){this.bm('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aM('zoomOut',arguments);this.Ty(factor);}catch(e){this.bm('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aCt();},displayAll:function(){try{this.aM('displayAll',arguments,1);this.aEv();}catch(e){this.bm('displayAll',e);throw e;}},display:function(pageIndex){try{this.aM('display',arguments);this.bW(pageIndex);}catch(e){this.bm('display',e);throw e;}},get_textRequired:function(){try{var aS=this.jK();this.dp('get_textRequired',arguments,aS);return aS;}catch(e){this.bm('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.aM('set_textRequired',arguments);this.Kl(value);}catch(e){this.bm('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.aM('selectText',arguments,1);this.abM(pageIndex,startIndex,endIndex,color);}catch(e){this.bm('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.aM('clearSelectedText',arguments,1);this.arf(pageIndex);}catch(e){this.bm('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.aM('clearAllSelectedText',arguments);this.arN();}catch(e){this.bm('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var aS=this.axJ();this.dp('get_maxPrefetch',arguments,aS);return aS;}catch(e){this.bm('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.aM('set_maxPrefetch',arguments);this.aGB(value);}catch(e){this.bm('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var aS=this.azF();this.dp('get_displayPagesWhenScrolling',arguments,aS);return aS;}catch(e){this.bm('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.aM('set_displayPagesWhenScrolling',arguments);this.aEo(value);}catch(e){this.bm('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var aS=this.ayf();this.dp('get_maxOutOfViewDisplay',arguments,aS);return aS;}catch(e){this.bm('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.aM('set_maxOutOfViewDisplay',arguments);this.aFw(value);}catch(e){this.bm('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var aS=this.aAm();this.dp('get_discardOutOfViewText',arguments,aS);return aS;}catch(e){this.bm('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.aM('set_discardOutOfViewText',arguments);this.aEB(value);}catch(e){this.bm('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var aS=this.ayx();this.dp('get_scrollDisplayThreshold',arguments,aS);return aS;}catch(e){this.bm('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.aM('set_scrollDisplayThreshold',arguments);this.aFq(value);}catch(e){this.bm('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var aS=this.ais();this.dp('get_mouseCursor',arguments,aS);return aS;}catch(e){this.bm('ais',e);throw e;}},set_mouseCursor:function(value){try{this.aM('set_mouseCursor',arguments);this.aFt(value);}catch(e){this.bm('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var aS=this.Ui();this.dp('get_mouseTool',arguments,aS);return aS;}catch(e){this.bm('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aM('set_mouseTool',arguments);this.Jo(value);}catch(e){this.bm('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var aS=this.yN();this.aM('get_markHandleMode',arguments);return aS;}catch(e){this.bm('get_markHandleMode',e);throw e;}},set_markHandleMode:function(V){try{this.aM('set_markHandleMode',arguments);this.Ks(V);}catch(e){this.bm('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var aS=this.ayr();this.aM('get_retainPageText',arguments);return aS;}catch(e){this.bm('get_retainPageText',e);throw e;}},set_retainPageText:function(V){try{this.aM('set_retainPageText',arguments);this.aGo(V);}catch(e){this.bm('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var aS=this.ayA();this.aM('get_allowMarkEdits',arguments);return aS;}catch(e){this.bm('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.aM('set_allowMarkEdits',arguments);this.aFs(! !bool);}catch(e){this.bm('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var aS=this.aiI();this.dp('get_currentPage',arguments,aS);return aS;}catch(e){this.bm('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var aoz=this.axH(pageIndex);this.dp('get_pageNodeId',arguments,aoz);return aoz;}catch(e){this.bm('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.aM('scrollToNextPage',arguments);this.axt();}catch(e){this.bm('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.aM('scrollToPreviousPage',arguments);this.ayG();}catch(e){this.bm('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.aM('scrollToFirstPage',arguments);this.axR();}catch(e){this.bm('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.aM('scrollToLastPage',arguments);this.ayt();}catch(e){this.bm('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.aM('scrollToPage',arguments,1);this.ru(pageIndex);}catch(e){this.bm('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.aM('rotate',arguments,1);this.aBq(degreesClockwise);}catch(e){this.bm('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.aM('rotateAll',arguments,1);this.afE(degreesClockwise,true);}catch(e){this.bm('rotateAll',e);throw e;}},get_enabled:function(){try{var aS=this.aAj();this.dp('get_enabled',arguments,aS);return aS;}catch(e){this.bm('get_enabled',e);throw e;}},get_pageLayout:function(){try{var aS=this.ayJ();this.dp('get_pageLayout',arguments,aS);return aS;}catch(e){this.bm('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.aM('set_pageLayout',arguments);this.aGe(value);}catch(e){this.bm('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var aS=this.aCw();this.dp('get_viewMode',arguments,aS);return aS;}catch(e){this.bm('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.aM('set_viewMode',arguments);this.Mh(value);}catch(e){this.bm('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var aS=this.axS();this.dp('get_loadingContent',arguments,aS);return aS;}catch(e){this.bm('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.aM('set_loadingContent',arguments);this.aCX(value);}catch(e){this.bm('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.aM('fitPages',arguments,1);this.aDb(fitType);}catch(e){this.bm('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.aM('openPage',arguments,1);this.RJ(pageIndex);}catch(e){this.bm('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.aM('requestPageAttributes',arguments,1);this.Oz(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bm('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.aM('scrollRegionIntoView',arguments,1);return this.axf(pageIndex,rectangle);}catch(e){this.bm('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.aM('scrollBy',arguments,1);return this.ayc(xVal,yVal);}catch(e){this.bm('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.aM('scrollConversationIntoView',arguments,1);return this.ayK(conversation);}catch(e){this.bm('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.abq();},get_encryption:function(){try{var aS=this.jE();this.dp('get_encryption',arguments,aS);return aS;}catch(e){this.bm('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aM('set_encryption',arguments);this.ni(value);}catch(e){this.bm('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var aS=this.ayC();return aS;}catch(e){this.bm('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aEI(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bm('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var aS=this.ub();this.dp('get_resourcePath',arguments,aS);return aS;}catch(e){this.bm('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aM('set_resourcePath',arguments);this.Ku(V);}catch(e){this.bm('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var aS=this.lG();this.dp('get_redactionDraftMode',arguments,aS);return aS;}catch(e){this.bm('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.aM('set_redactionDraftMode',arguments);this.qs(value);}catch(e){this.bm('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var aS=this.aAi();this.dp('get_displayedPages',arguments,aS);return aS;}catch(e){this.bm('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var aS=this.Ba();this.dp('get_requireRequestsOptimize',arguments,aS);return aS;}catch(e){this.bm('Ba',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aM('set_requireRequestsOptimize',arguments);this.IP(value);}catch(e){this.bm('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var aS=this.la();this.dp('get_serviceResponseTimeout',arguments,aS);return aS;}catch(e){this.bm('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aM('set_serviceResponseTimeout',arguments);this.wb(value);}catch(e){this.bm('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var aS=this.axI();this.dp('get_pageRotation',arguments,aS);return aS;}catch(e){this.bm('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.aM('set_pageRotation',arguments);this.aFC(value);}catch(e){this.bm('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.aM('getNodeID',arguments,1);return this.aCj(pageIndex);}catch(e){this.bm('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var aS=this.ayi();this.dp('get_isCommentsPanelOpen',arguments,aS);return aS;}catch(e){this.bm('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.aM('openCommentsPanel',arguments);this.avr();}catch(e){this.bm('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.aM('closeCommentsPanel',arguments);this.arv();}catch(e){this.bm('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var aS=this.azo();this.dp('get_conversationDOMFactory',arguments,aS);return aS;}catch(e){this.bm('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.aM('set_conversationDOMFactory',arguments);this.aFR(value);}catch(e){this.bm('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var aS=this.aCk();this.dp('get_selectedConversation',arguments,aS);return aS;}catch(e){this.bm('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.aM('set_selectedConversation',arguments);this.aES(value);}catch(e){this.bm('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.aM('refreshConversations',arguments);this.aCQ(markIDs);}catch(e){this.bm('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.aqt();}catch(e){this.bm('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.azj();}catch(e){this.bm('restoreScrollPosition',e);throw e;}},prefetchPages:function(){try{this.asl();}catch(e){this.bm('prefetchPages',e);throw e;}}};PJ.registerClass=dC;PJ.registerClass('IPCC.PageList',{});module.exports=PJ;},{"./IPCC.Util":28}],43:[function(require,module,exports){var oC=function(dv,ww){var F=this;this.dv=dv;this.ww=ww;this.ayH=function(){return F.dv;};this.aGS=function(){return F.ww;};};oC.prototype.get_propertyName=function(){return this.dv;};oC.prototype.get_propertyInfo=function(){return this.ww;};module.exports=oC;},{}],44:[function(require,module,exports){var BS=function(){this.cc=1;this.width=0;this.height=0;this.np=0;this.yP=0;this.pool=undefined;return this;};BS.prototype.PS=function(dA){if(dA.width<1||dA.height<1){return[];}var mn=Math.floor(dA.x*this.cc);var lY=Math.floor(dA.y*this.cc);var nk=Math.ceil((dA.x+dA.width)*this.cc);var pb=Math.ceil((dA.y+dA.height)*this.cc);var mF=[];var C,ft;var cf=this.tiles.length;for(C=0;C<cf;C++){ft=this.tiles[C];if(ft.x<=nk&&ft.right>=mn&&ft.y<=pb&&ft.bottom>=lY){mF.push(ft);}}return mF;};module.exports=BS;},{}],45:[function(require,module,exports){var yu=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bJ=0;this.ah=0;this.yd=0;this.xQ=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};yu.prototype.unlock=function(){this.level.pool.acI(this);};yu.prototype.lock=function(){this.level.pool.lockTile(this);};yu.prototype.relock=function(){return this.level.pool.VV(this);};yu.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};yu.prototype.toString=function(){var ax='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){ax='scale:'+this.level.cc.toString()+', '+ax;}return ax;};module.exports=yu;},{}],46:[function(require,module,exports){var nb=function(){this.bg=false;this.K=false;};nb.prototype.lK=function(K){this.K=K;};nb.prototype.dW=function(){this.K=false;};nb.prototype.be=function(){if(this.bg){this.K.bI().or();this.bg=false;this.K.bW();}};nb.prototype.qC=function(){this.be();this.K.bW();};nb.prototype.jH=function(H){this.be();if(H.domEvent.button===0){var aF=this.K.bI();this.bg=true;aF.DX(H.constrainedImagePoint);this.mW=H.windowPoint;this.K.bW();}};nb.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){var aF=this.K.bI();aF.ze(H.constrainedImagePoint);this.K.bW();}};nb.prototype.kM=function(H){if(this.bg&&H.domEvent.button===0){var dS=H.windowPoint.x-this.mW.x;var gx=dS*dS;dS=H.windowPoint.y-this.mW.y;gx+=dS*dS;if(gx>25){var K=this.K;var aF=K.bI();var bE=aF.eE();var aX=K.ei();var auH=aX.width;var atR=aX.height;var ag=K.ct();aF.ze(H.constrainedImagePoint);var ky=aF.wa();aF.or();K.bV('userModifiedViewState',{});bE.QP(ag,aX,ky);bE.jU(ag,aX);aF.iK(bE);K.bW();if(auH!==aX.width||atR!==aX.height){bE=aF.eE();bE.QP(ag,aX,ky);bE.jU(ag,aX);aF.iK(bE);}}}this.be();};nb.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};nb.prototype.ma=function(){this.be();};module.exports=nb;},{}],47:[function(require,module,exports){var kC={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kC;},{}],48:[function(require,module,exports){var zt=function(){};zt.prototype.lK=function(K){this.K=K;this.aF=K.bI();};zt.prototype.dW=function(){this.K=false;};zt.prototype.be=function(){};module.exports=zt;},{}],49:[function(require,module,exports){var fJ=require('./IPCC.Util').regEnum;var Cx=function(){};Cx.registerEnum=fJ;Cx.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};Cx.registerEnum('IPCC.ScaleTrigger',false);module.exports=Cx;},{"./IPCC.Util":28}],50:[function(require,module,exports){var oH=function(){this.bg=false;this.K=false;};oH.prototype.lK=function(K){this.K=K;};oH.prototype.dW=function(){this.K=false;};oH.prototype.be=function(){if(this.bg){this.K.or();this.bg=false;this.K.bW();}};oH.prototype.qC=function(){this.be();};oH.prototype.jH=function(H){this.be();if(H.domEvent.button===0){var aF=this.K.bI();this.bg=true;aF.DX(H.constrainedImagePoint);this.K.bW();}};oH.prototype.kw=function(H){if(H.domEvent.button!==0){this.be();}if(this.bg){var aF=this.K.bI();aF.ze(H.constrainedImagePoint);this.K.bW();}};oH.prototype.kM=function(H){if(H.domEvent.button===0){this.bg=false;}this.be();};oH.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};oH.prototype.ma=function(){this.be();};module.exports=oH;},{}],51:[function(require,module,exports){var jI=function(){this.bg=false;this.K=false;};jI.prototype.lK=function(K){this.K=K;};jI.prototype.dW=function(){this.K=false;};jI.prototype.be=function(){if(this.bg){this.K.bI().Xd();this.bg=false;}};jI.prototype.qC=function(){this.be();};jI.prototype.jH=function(H){if(H.domEvent.button===0){var aF=this.K.bI();this.bg=true;var ca=this.K.IH(H.constrainedImagePoint);this.K.gr=ca;if(!ca){return;}this.K.zX(ca);aF.zX(ca);aF.tx(undefined);this.K.bW();}};jI.prototype.kw=function(H){var K=this.K;K.aGx=true;if(H.domEvent.button!==0){this.be();}if(this.bg){var aF=K.bI();var ca=K.IH(H.constrainedImagePoint);var gD=aF.AW();if(gD===ca){return;}K.tx(ca);K.bW();}};jI.prototype.kM=function(H){if(H.domEvent.button===0){this.bg=false;}var K=this.K;var aF=this.K.bI();var cN=aF.iB.length;if(cN===0){this.be();return;}var ad=aF.iB[0].ca;var cq=aF.iB[cN-1].ca;if(K.JD===true){if(ad>cq){ad=cq;}var C;var oi=IPCC.Ez();this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.G.ad=ad;this.G.bX=K.Ci();this.G.dJ=cN;this.G.set_fillColor(K.rg);this.G.kk='y';this.G.bH=oi;for(C=0;C<aF.iB.length;C++){var aU=aF.iB[C];var CF=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var xl=aU.G.eI();CF.set_fillColor(K.rg);CF.set_opacity(aU.G.get_opacity());CF.set_rectangle(xl);CF.bH=oi;CF.kk='y';this.K.eG().addMark(CF);}aF.iB=[];if(cN>0){this.K.eG().addMark(this.G);}K.lO().removeAllMarks();}cN=aF.iB.length;var acV=new IPCC.Web.UI.TextSelectedEventArgs();acV.text=K.Ci();K.bV('selectTextMouseToolCompleted',acV);K.bW();this.be();};jI.prototype.oX=function(H){var aX=this.K.ei();if(H.windowPoint.x<=0||H.windowPoint.x>=aX.width-2){this.be();}if(H.windowPoint.y<=0||H.windowPoint.y>=aX.height-2){this.be();}};jI.prototype.ma=function(){this.be();};module.exports=jI;},{}],52:[function(require,module,exports){var ck=function(){this.K=false;this.GJ=0;this.anF=1;this.aeV=2;this.adW=3;};ck.prototype.lK=function(K){this.K=K;this.cd=this.GJ;};ck.prototype.dW=function(){this.K=false;};ck.prototype.be=function(){this.cd=this.GJ;};ck.prototype.ahl=function(H){var aCc=new Date()-this.awp;if(aCc<750){var fB=this.acx.x-H.windowPoint.x;var fM=this.acx.y-H.windowPoint.y;var gx=fB*fB+fM*fM;if(gx<2500){return true;}}return false;};ck.prototype.aai=function(H){this.awp=new Date();this.acx=new IPCC.Web.UI.Point(H.windowPoint.x,H.windowPoint.y);};ck.prototype.Qz=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length===1){if(this.cd===this.aeV&&this.ahl(H)){this.cd=this.adW;}else{this.cd=this.anF;}this.aai(H);this.K.fY('jH',H);}else{this.cd=this.GJ;this.K.fY('qC',H);}};ck.prototype.Si=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length===1){this.K.fY('kw',H);}};ck.prototype.Rm=function(H){var bN=H.domEvent.rawEvent;if(bN.touches.length===0){if(this.ahl(H)){if(this.cd===this.adW){this.cd=this.GJ;this.K.fY('kM',H);this.K.fY('Ar',H);}else{this.aai(H);this.cd=this.aeV;this.K.fY('kM',H);}}else{this.cd=this.GJ;this.K.fY('kM',H);}}};ck.prototype.Jj=function(H){this.K.fY('qC',H);};module.exports=ck;},{}],53:[function(require,module,exports){var Fc=function(bJ,ah,gM,hd){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bJ;this.height=ah;this.gM=gM;this.hd=hd;return this;};Fc.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gM+', '+this.hd+')';};module.exports=Fc;},{}],54:[function(require,module,exports){var zu=function(Mi){this.wM=(typeof(Mi)!=='undefined'&&Mi!==null&&Mi!=='')?[Mi.toString()]:[];this.V={};this.cf=0;};zu.prototype.aHN=function(bQ){this.wM[this.wM.length]=bQ;};zu.prototype.aIA=function(bQ){this.wM[this.wM.length]=((typeof(bQ)==='undefined')||(bQ===null)||(bQ===''))?'\r\n':bQ+'\r\n';};zu.prototype.aIk=function(){this.wM=[];this.V={};this.cf=0;};zu.prototype.aEV=function(){if(this.wM.length===0){return true;}return this.toString()==='';};zu.prototype.aIl=function(An){An=An||'';var parts=this.wM;if(this.cf!==parts.length){this.V={};this.cf=parts.length;}var val=this.V;if(typeof(val[An])==='undefined'){if(An!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[An]=this.wM.join(An);}return val[An];};module.exports=zu;},{}],55:[function(require,module,exports){var eN=function(K,qj){this.Qi=false;this.Yo=false;this.CB=true;this.Wy=false;this.Oy=false;this.xV=0;this.xh=0;var bb=this;this.axU='opacity';this.awc=function(cD){return cD.toString();};var aii=function aii(av,ek,oO,ag,lL,md){var gX;if(this.K.ri()===true){av.xu.setAttribute('width',oO.width);av.xu.setAttribute('height',oO.height);av.uO.setAttribute('width',oO.width);av.uO.setAttribute('height',oO.height);gX=ek.qV().toString()+','+ek.qa().toString()+','+ek.sP().toString()+','+ek.sr().toString()+','+(ek.vI()+lL).toString()+','+(ek.wS()+md).toString();this.hE(av.BA,'transform','matrix('+gX+')');}else{av.xu.setAttribute('width',oO.width);av.xu.setAttribute('height',oO.height);av.uO.setAttribute('width',oO.width);av.uO.setAttribute('height',oO.height);gX=ek.qV().toString()+','+ek.qa().toString()+','+ek.sP().toString()+','+ek.sr().toString()+','+(ek.vI()+lL).toString()+','+(ek.wS()+md).toString();this.hE(av.BA,'transform','matrix('+gX+')');}};function avF(av){var pathList=av.xu.getElementsByTagName('path');var gList=av.xu.getElementsByTagName('g');av.OV=[];function aiJ(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;av.OV.push(pathItem);}}};IPCC.h.forEach(pathList,aiJ);IPCC.h.forEach(gList,aiJ);};this.afB=function(av){var aF=K.bI();var aDZ=1;var lb=aF.aBZ();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*lb));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*lb;}};if(av.OV===undefined){avF(av);}if(lb===aDZ){IPCC.h.forEach(av.OV,setStrokeWidthToOriginalValue);}else{IPCC.h.forEach(av.OV,updateStrokeWidthByLineWidthMultiplier);}aF.aEc(false);};function atT(av,aG){av.sA.setAttribute('exponent',aG);av.sQ.setAttribute('exponent',aG);av.sa.setAttribute('exponent',aG);};function auZ(av,aG){var aqc=841;var kW=(aG/aqc)* -1;var gX;if(IPCC.h.Bg){gX='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gX=gX.replace('{00}',kW).replace('{01}',kW).replace('{02}',kW).replace('{10}',kW).replace('{11}',1).replace('{12}',kW).replace('{20}',kW).replace('{21}',kW).replace('{22}',kW);}else{gX='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gX=gX.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',kW).replace('{12}',kW).replace('{13}',kW).replace('{14}',0).replace('{20}',0).replace('{21}',kW).replace('{22}',1).replace('{23}',kW).replace('{24}',0).replace('{30}',0).replace('{31}',kW).replace('{32}',kW).replace('{33}',kW).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}av.lx.setAttribute('kernelMatrix',gX);};this.awf=function(av){var aF=K.bI();var qh=aF.azE();var pu=aF.aBi();if(pu===0&&qh===1){av.BA.removeAttribute('filter','url(#'+av.Ky+')');}else{av.BA.setAttribute('filter','url(#'+av.Ky+')');}atT(av,qh);auZ(av,pu);};var abL,abj;this.acL=function(av,ek,oO,ag,lL,md){if(av.YL.match('maglevel')){aii.apply(this,arguments);return;}var aw=av.fK.parentElement.getBoundingClientRect();var le=aw.width/ag.width;var aod=function(val){return Math.abs(val)<1.0e-14;};var dX=0,fr=0;var aCg=function(){var nB=ek.qa();if(aod(nB)){nB=0;}var qr=ek.sP();if(aod(qr)){qr=0;}var auQ=ek.qV();var dY=(nB>=0&&qr<0)?90:(nB<0&&qr>=0)?270:(auQ<0)?180:(nB>=0&&qr>=0)?0:0;switch(dY){case 90:dX=aw.width;break;case 180:dX=aw.width;fr=aw.height;break;case 270:fr=aw.height;break;}return dY*(Math.PI/180);};var dY=aCg();if(parseInt(dY,10)===1||parseInt(dY,10)===4){le=aw.height/ag.width;}if(le===abL&&dY===abj){return;}else{abL=le;abj=dY;}var fA=1,iQ=0;if(dY!==0){fA=Math.cos(dY);iQ=Math.sin(dY);}var bE={le:fA*le,re:fA*le,nB:iQ*le,qr:iQ* -1*le,dX:dX,fr:fr};var axy=new IPCC.eQ(bE.le,bE.nB,bE.qr,bE.re,bE.dX,bE.fr);ek.Pu(axy);K.bI().iK(ek);var gX='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gX=gX.replace('{scaleX}',bE.le).replace('{scaleY}',bE.re).replace('{skewX}',bE.nB).replace('{skewY}',bE.qr).replace('{moveX}',bE.dX).replace('{moveY}',bE.fr);this.hE(av.BA,'transform',gX);};this.asG=function(){abL=undefined;abj=undefined;};this.aCF(K);this.aqN=function(dk){var aX=new IPCC.Fc(dk.clientWidth,dk.clientHeight,96,96);return aX;};this.afo=function(bN){bN.preventDefault();bb.jH(bN);};this.ada=function(bN){bN.preventDefault();bb.kw(bN);};this.acT=function(bN){bN.preventDefault();bb.kM(bN);};this.amM=function(bN){bb.jH(bN);};this.aeI=function(bN){bb.Ar(bN);};this.ani=function(bN){bb.kw(bN);};this.Rs=function(bN){bb.ma(bN);};this.anp=function(bN){bb.kM(bN);};this.ags=function(bN){bb.Ar(bN);};this.akM=function(bN){bb.SN(bN);};this.Lg=function(bN){if(bN.target!==document.activeElement){bb.avH(bN);}};this.aei=function(bN){if(bN.target!==document.activeElement){bb.avN(bN);}};this.oX=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;bb.qe(H);K.aAk(H);}catch(ex){K.bm('mouseOut',ex);}};this.Qz=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;bb.qe(H);K.aAg(H);}catch(ex){K.bm('touchStart',ex);}};this.Si=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;bb.qe(H);K.aAa(H);}catch(ex){K.bm('touchMove',ex);}};this.Rm=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;bb.qe(H);K.aAR(H);}catch(ex){K.bm('touchEnd',ex);}};this.Jj=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;bb.qe(H);K.azd(H);}catch(ex){K.bm('touchCancel',ex);}};this.amE=function(bN){try{bN.preventDefault();}catch(ex){K.bm('dragStart',ex);}};this.aok=function(){var fb=K.lH().igElements.oJ;IPCC.Web.UI.bw.addHandler(fb,"mousewheel",this.Rs);IPCC.Web.UI.bw.addHandler(fb,"DOMMouseScroll",this.Rs);if(qj){IPCC.Web.UI.bw.addHandler(fb,"touchstart",this.Qz);IPCC.Web.UI.bw.addHandler(fb,"touchmove",this.Si);IPCC.Web.UI.bw.addHandler(fb,"touchend",this.Rm);IPCC.Web.UI.bw.addHandler(fb,"touchcancel",this.Jj);}IPCC.Web.UI.bw.addHandler(fb,"mouseout",this.oX);IPCC.Web.UI.bw.addHandler(fb,"dragstart",this.amE);};this.aEK=function(){var fb=K.lH().igElements.oJ;IPCC.Web.UI.bw.removeHandler(fb,"DOMMouseScroll",this.Rs);IPCC.Web.UI.bw.removeHandler(fb,"mouseout",this.oX);if(qj){IPCC.Web.UI.bw.removeHandler(fb,"touchstart",this.Qz);IPCC.Web.UI.bw.removeHandler(fb,"touchmove",this.Si);IPCC.Web.UI.bw.removeHandler(fb,"touchend",this.Rm);IPCC.Web.UI.bw.removeHandler(fb,"touchcancel",this.Jj);}IPCC.Web.UI.bw.removeHandler(fb,"dragstart",this.amE);};function atX(av,ie){var qI=document.createElementNS('http://www.w3.org/2000/svg','filter');var Ky='filter'+ie;av.Ky=Ky;qI.setAttribute('id',Ky);qI.setAttribute('x','0');qI.setAttribute('y','0');qI.setAttribute('filterUnits','objectBoundingBox');qI.setAttribute('color-interpolation-filters','sRGB');return qI;};function ary(ie){var lx=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');lx.setAttribute('in','SourceGraphic');lx.setAttribute('result',ie+'lx');lx.setAttribute('preserveAlpha','true');if(IPCC.h.Bg){lx.setAttribute('order','3 3');lx.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{lx.setAttribute('order','5 5');lx.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return lx;};function arQ(ie){var pS=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');pS.setAttribute('in',ie+'lx');pS.setAttribute('result',ie+'pS');return pS;};function asm(ie){var sA=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sA.setAttribute('type','gamma');sA.setAttribute('amplitude','1');sA.setAttribute('exponent','1');sA.setAttribute('offset','0');var sQ=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sQ.setAttribute('type','gamma');sQ.setAttribute('amplitude','1');sQ.setAttribute('exponent','1');sQ.setAttribute('offset','0');var sa=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sa.setAttribute('type','gamma');sa.setAttribute('amplitude','1');sa.setAttribute('exponent','1');sa.setAttribute('offset','0');return{sA:sA,sQ:sQ,sa:sa};};function asV(av,ie){var JG=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var agA=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var ahm=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');agA.setAttribute('in',ie+'lx');ahm.setAttribute('in',ie+'pS');JG.appendChild(agA);JG.appendChild(ahm);return JG;};this.apV=function(av,fK,te,ie){var C,bF,dk,WH;var OX=function(af,dO,ae){var dk=document.createElementNS('http://www.w3.org/2000/svg',af);var C;if(dO){dk.setAttribute('id',dO);}for(C in ae){if(ae.hasOwnProperty(C)){dk.setAttribute(C,ae[C]);}}return dk;};var fL=OX('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var qI=atX(av,ie);av.aIp=qI;var lx=ary(ie);av.lx=lx;qI.appendChild(lx);var pS=arQ(ie);av.pS=pS;qI.appendChild(pS);var Da=asm();pS.appendChild(Da.sA);pS.appendChild(Da.sQ);pS.appendChild(Da.sa);av.sA=Da.sA;av.sQ=Da.sQ;av.sa=Da.sa;var JG=asV(av,ie);qI.appendChild(JG);fL.appendChild(qI);av.uO=OX('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fL.appendChild(av.uO);var Uf=OX('g',null,{});av.BA=Uf;fL.appendChild(Uf);var cf;if(K.ri()===false){cf=te.fI.length;}else{cf=1;}for(C=0;C<cf;C++){bF=te.fI[C];bF.pool.parentElementID=ie+C.toString();WH=1/bF.cc;dk=OX('g',bF.pool.parentElementID,{transform:'matrix('+WH.toString()+',0,0,'+WH.toString()+',0,0)'});Uf.appendChild(dk);}av.xu=fL;fK.appendChild(fL);};this.aps=function(jy){var awd=this.agh();jy.elementID=awd;};this.aze=function(jy){var dk=document.getElementById(jy.elementID);this.hE(dk,'display','none');};this.agd=function(jy){var dk=document.getElementById(jy.elementID);if(dk===null){jy.elementID='';return;}dk.setAttributeNS('http://www.w3.org/1999/xlink','href','');dk.parentNode.removeChild(dk);jy.elementID='';};var avW=function(bN){try{bN.target.onload=undefined;bN.target.onerror=undefined;bN.target.onabort=undefined;var jy=bN.target.poolItem;jy.loaded=true;bb.zz();}catch(ex){K.bm('downloadImage',ex);}};var alN=function(bN){try{bN.target.onload=undefined;bN.target.onerror=undefined;bN.target.onabort=undefined;bN.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bN.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){K.bm('downloadImage',ex);var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=ex;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}};this.aAp=function(yz){var C;var cf=yz.length;if(K.ri()===false){cf=yz.length;}else{cf=1;}for(C=0;C<cf;C++){var eO=yz[C];var dk=document.getElementById(eO.poolItem.elementID);if(dk===null){var jy=eO.poolItem;var Ro=jy.pool;var fK=document.getElementById(Ro.parentElementID);dk=document.createElementNS('http://www.w3.org/2000/svg','image');this.hE(dk,'id',jy.elementID);this.hE(dk,'externalResourcesRequired','true');dk.poolItem=jy;dk.onload=avW;dk.onerror=alN;dk.onabort=alN;if(document.documentMode>8||IPCC.h.tY.zc){jy.loaded=true;}dk.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aqZ(dk,eO.url,'image/'+eO.contentType);fK.appendChild(dk);this.hE(dk,'display','block');var bJ=eO.right-eO.x;var ah=eO.bottom-eO.y;this.hE(dk,'x',eO.x);this.hE(dk,'y',eO.y);this.hE(dk,'width',bJ);this.hE(dk,'height',ah);if(cf>1){var arZ=bJ-eO.yd;var apB=ah-eO.xQ;var Lh=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Lh.id=dk.id+'_clip';var ff=document.createElementNS('http://www.w3.org/2000/svg','rect');this.hE(ff,'x',eO.x-eO.yd);this.hE(ff,'y',eO.y-eO.xQ);this.hE(ff,'width',arZ);this.hE(ff,'height',apB);this.hE(ff,'class','expand-on-print');Lh.appendChild(ff);var insertBeforeElement=null;for(var i=0;i<fK.childNodes.length;i++){if(fK.childNodes.item(i).getAttribute('x')<eO.x||fK.childNodes.item(i).getAttribute('y')<eO.y){insertBeforeElement=fK.childNodes.item(i);break;}}fK.insertBefore(dk,insertBeforeElement);fK.appendChild(Lh);this.hE(dk,'style','clip-path: url(#'+Lh.id+')');this.hE(dk,'class','no-clip-on-print');}}this.hE(dk,'display','block');}if((document.documentMode>8||IPCC.h.tY.zc)&&yz.length>0){bb.zz();}};this.aqZ=function(dk,aK,uT){var qd=true;var mT=0;if(K.la()===0){qd=false;}function eh(aJ){var cC,dP;try{var fj=IPCC.Web.Fn(aJ),abE;var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");if(oZ==='true'&&K.jE()===true){var ts=IPCC.Web.gy.qk.uh(aJ.getResponseHeader("Accusoft-Data-SK"));var ap=IPCC.Web.Fk(ts,hM);var uf=IPCC.Web.FA(fj,ap,hM);abE=IPCC.Web.gy.qk.mP(uf,0,0);}else{abE=IPCC.Web.gy.qk.mP(fj,0,0);}dk.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+uT+';base64,'+abE);}catch(ex){cC="Image error, Error message = "+ex.message;dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=ex;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);throw new IPCC.Web.UI.ImGearArgumentException(null,cC);}};function er(ax){var gK=ax.response.status,cC,mR,mq;if(!ax.response){throw new IPCC.Web.UI.ImGearHttpException(gK,"Client Image load timeout");}if(gK===403){mT++;if(ax.response.statusText&&ax.response.statusText!==""){cC="Expired viewer session ID, error message from the server: "+ax.response.statusText;}else{cC="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}mR=ax.response.getResponseHeader('Accusoft-Status-Message');if(mR){var rj;mq=ax.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wY(mq)){rj=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(gK,mR,rj);}else{if(ax.response.statusText&&ax.response.statusText!==""){cC=ax.response.statusText;}else{cC="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}};var hD={method:'GET'};if(qd===true){hD.timeout=K.la();}if(K.axW()&&K.jE()===true){var hM=IPCC.Web.Ht.aiz(4);var qP=IPCC.Web.gy.Hn.mP(hM);var aGa=aK+'&iv='+qP;hD.url=aGa;}else{hD.mimeType='text/plain; charset=x-user-defined';hD.url=aK;}IPCC.h.na.fc(hD).then(eh,er);};this.aAs=function(av){var F=this;if(av.TF){return;}var mT=0;var eO=av.te.fI[0].tiles[0];if(!eO){return;}var Ro=eO.level.pool;var fK=document.getElementById(Ro.parentElementID);var qd=true;if(K.la()===0){qd=false;}var vv=K.abD();if(av.EP){if(vv===2){delete av.EP;if(fK.childNodes.length>0){fK.removeChild(fK.childNodes[0]);}}else if(vv===1){if(fK.childNodes.length>0){fK.removeChild(fK.childNodes[0]);}}else{if(fK.childNodes.length===0){fK.appendChild(av.arA);}}K.wv=true;return;}if(vv>0){return;}function eh(aJ){var dP,cC;av.TF=false;try{try{var oD;var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");if(oZ==='true'&&K.jE()===true){var ts=IPCC.Web.gy.qk.uh(aJ.getResponseHeader("Accusoft-Data-SK"));var ap=IPCC.Web.Fk(ts,hM);var fj=IPCC.Web.Fn(aJ);var uf=IPCC.Web.FA(fj,ap,hM);oD=IPCC.Web.gy.FV.mP(uf);}else{oD=aJ.responseText;}aEG(oD);}catch(ex){cC="SVG image error, Error message = "+ex.message;dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=ex;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);throw new IPCC.Web.UI.ImGearArgumentException(null,cC);}}catch(e){K.bm('openPage',e);if(typeof(K.bV)==='function'){dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};function er(ax){var dP,cC,mR,mq;av.TF=false;try{if(!ax.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var gK=ax.response.status;if(gK===480){mT++;if(ax.response.statusText&&ax.response.statusText!==""){cC=cC="PDF file password required, error message from the server: "+ax.response.statusText;}else{cC="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}if(gK===403){mT++;if(ax.response.statusText&&ax.response.statusText!==""){cC="Expired viewer session ID, error message from the server: "+ax.response.statusText;}else{cC="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}mR=ax.response.getResponseHeader('Accusoft-Status-Message');if(mR){var rj;mq=ax.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wY(mq)){rj=parseInt(mq,10);}throw new IPCC.Web.UI.ImGearHttpException(gK,mR,rj);}else{if(ax.response.statusText&&ax.response.statusText!==""){cC=ax.response.statusText;}else{cC="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gK,cC);}}catch(e){K.bm('openPage',e);if(typeof(K.bV)==='function'){dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=K.aW;K.bV('pageOpenFailed',dP);}}};var awR=function(){var aF=K.bI();var Cq=aF.aiX();K.wv=true;K.bV('pageDisplayed',{bO:K.aW});if(Cq){F.afB(av);}};var aEG=function(fV){var mZ=Ro.parentElementID.toString();var Mx=(IPCC.h.Bg||IPCC.h.Yx)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var ws=IPCC.h.aqA(fV,Mx,mZ);var qf=ws.querySelectorAll('style');IPCC.h.forEach(qf,function(aa){var DM=(aa.styleSheet)?aa.styleSheet.cssText:aa.textContent;if(aa.styleSheet){aa.styleSheet.cssText=DM;}else{aa.appendChild(document.createTextNode(DM));}});var lw=null;var Iu=ws.firstChild;while(Iu!==null){if(Iu.nodeName==='svg'){lw=Iu;break;}Iu=Iu.nextSibling;}if(lw===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!av.EP){av.arA=lw;fK.appendChild(lw);av.EP=true;if(!K.wv&&av.EP){setTimeout(awR,1);}}};var aK;var hM,qP;K.wv=false;if(K.jE()===true){hM=IPCC.Web.Ht.aab(4,IPCC.Web.Pk());qP=IPCC.Web.gy.Hn.mP(hM);aK=eO.url+'&iv='+qP;}else{aK=eO.url;}var hD={method:'GET',url:aK,cache:true};if(qd===true){hD.timeout=K.la();}av.TF=true;IPCC.h.na.fc(hD).then(eh,er);};this.aED=function(eO,cD){if(!eO){return;}var Cj=document.getElementById(eO.poolItem.elementID);this.hE(Cj,'x',eO.x);this.hE(Cj,'y',eO.y);this.hE(Cj,'width',eO.right-eO.x);this.hE(Cj,'height',eO.bottom-eO.y);this.hE(Cj,'opacity',cD);this.hE(Cj,'display','block');};this.abC=function(yz,cD,ek){var C;if(K.ri()===false){for(C=0;C<yz.length;C++){this.aED(yz[C],cD);}}};return this;};eN.viewerCounter=0;eN.tileCounter=0;eN.imageIDCounter=0;eN.prototype.aCF=function(K){this.ie=IPCC.eN.viewerCounter.toString();IPCC.eN.viewerCounter++;this.K=K;if(IPCC.cF){this.om=new IPCC.Web.UI.MarkCollection();}var F=this;function awm(bv,H){F.awt(H);};function wK(bv,H){F.apU(H);};K.kz(awm);K.add_markAdded(wK);K.add_markChanged(wK);K.add_inProgressMarkChanged(wK);K.add_markRemoved(wK);K.add_markReordered(wK);K.add_marksLoaded(wK);K.add_markSelectionChanged(wK);K.add_markTextSelectionChanged(wK);};eN.prototype.agh=function(){var dO='igtile'+IPCC.eN.tileCounter.toString();IPCC.eN.tileCounter++;return dO;};eN.prototype.zz=function(){this.Qi=true;this.CB=this.CB&&this.Yo;var F=this;var apY=function(){if(!F.Qi){return;}F.bW(F.K.ct(),F.K.bI(),F.K.ei());F.CB=true;};window.setTimeout(apY,0);};eN.prototype.awt=function(H){var tE=H.get_propertyName();switch(tE){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.K.bI().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.HQ=true;if(this.K.zm()===true){this.zz();}return;case 'displayedPageRectangle':if(this.K.wv===true){this.zz();return;}break;case 'redactionDraftMode':this.HQ=true;this.zz();return;}if(this.K.zm()===true){this.zz();}};eN.prototype.apU=function(H){if(H.mark&& !this.HQ){this.om.addMark(H.mark);}else{this.HQ=true;}if(this.K.zm()===true){this.zz();}};eN.prototype.Tg=function(){this.lA=this.ek.clone();this.lA.mj(this.adD,this.ach);this.lA.jU(this.K.ct(),this.K.ei());this.qn=this.lA.clone();this.qn.vY();};eN.prototype.bW=function(aj,aF,aX){try{this.Qi=false;if(this.PP===true){return;}var cW=this.K.lH();if(cW===null){return;}var cz=cW.igElements;try{this.PP=true;if(this.If===undefined||aj===undefined|| !(this.If.equals(aj))){if(this.Wy){if(this.hY){this.aEK(this.hY);var fb=cz.oJ;IPCC.Web.UI.bw.removeHandler(fb,"mousedown",this.amM);IPCC.Web.UI.bw.removeHandler(fb,"mousemove",this.ani);IPCC.Web.UI.bw.removeHandler(fb,"mouseup",this.anp);IPCC.Web.UI.bw.removeHandler(fb,"dblclick",this.ags);IPCC.Web.UI.bw.removeHandler(fb,"contextmenu",this.akM);IPCC.Web.UI.bw.removeHandler(cz.eH,"blur",this.Lg);IPCC.Web.UI.bw.removeHandler(cz.fS,"blur",this.aei);IPCC.Web.UI.bw.removeHandler(cz.cI,"blur",this.Lg);}delete this.hY;this.aha(cz.qw);this.aha(cz.Bj);this.Wy=false;if(this.FO!==undefined){this.FO.unlockAllItems();}if(this.Hw!==undefined){this.Hw.unlockAllItems();}this.FO=undefined;this.Hw=undefined;cW.igElements.mU.onscroll=null;cW.igElements.mU.onresize=null;}if(cW.querySelectorAll){if(cW.querySelectorAll(".pccPageLoadFail").length===0){cW.innerHTML='';}}this.K.pa(true);if(aj===undefined){this.PP=false;this.If=undefined;this.asG();return;}this.If=aj.clone();this.FO=new IPCC.qT();this.FO.createPyramid(this,this.K);this.Hw=new IPCC.qT();this.Hw.createPyramid(this,this.K);this.Wy=true;this.aqY(this.ie);}this.ek=aF.eE();var PY=this.ek.nD(aj);this.ek.mj(-PY.x,-PY.y);this.aql=this.ek.clone();this.aql.vY();this.adD=Math.round(PY.x);this.ach=Math.round(PY.y);this.Tg();this.awi(aj,aF,aX);if(aj.aW===0){this.Tg();}}finally{this.PP=false;this.HQ=false;if(this.om){this.om.removeAllMarks();}}this.afd(true);}catch(e){this.K.bm('display',e);throw e;}};eN.prototype.aCA=function(vF,vT,vC){if(vF[vT]===vC){return;}vF[vT]=vC;};eN.prototype.hE=function(vF,vT,vC){if(vF.getAttribute(vT)===vC){return;}vF.setAttribute(vT,vC);};eN.prototype.BC=function(vF,vT,vC){if(vF.style[vT]===vC){return;}vF.style[vT]=vC;};eN.prototype.afd=function(apN){if(this.PP){return;}if(this.Qi&& !this.CB){return;}if(!apN){try{this.Yo=true;var cW=this.K.lH();if(cW){this.xV=cW.igElements.mU.scrollLeft;this.xh=cW.igElements.mU.scrollTop;}this.atL();this.Tg();this.K.bI().iK(this.lA);this.K.bV('userModifiedViewState',{});this.K.pa(false);}finally{this.Yo=false;}}};eN.prototype.azG=function(av,ek,aDx){var te=av.te;var nz=te.axD(ek,aDx);if(!this.K.wv&&nz.tilesToRequest.length===0&&(nz.opaqueTiles.length+nz.translucentTiles.length)>0){this.K.wv=true;this.K.bV('pageDisplayed',{bO:this.K.aW});}te.ayh(nz);if(this.K.ri()===false){this.aAp(nz.tilesToRequest);this.abC(nz.opaqueTiles,1,ek);this.abC(nz.translucentTiles,nz.opacity,ek);}};eN.prototype.aqY=function(ie){var K=this.K;var cW=K.lH();var aF=K.bI();var bb=this;function hg(so){var xc=document.createElement('div');var C;for(C in so){if(so.hasOwnProperty(C)){xc.style[C]=so[C];}}return xc;};var cz={};cW.igElements=cz;var kB=hg({width:'100%',height:'100%',position:'relative',overflow:aF.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cz.mU=kB;kB.setAttribute('class','igViewerScroller');kB.onscroll=function(){bb.afd(false);};kB.onresize=function(){var aX=K.ei();aX.width=kB.clientWidth;aX.height=kB.clientHeight;K.bV('resize',{});};var fb=hg({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kB.appendChild(fb);cz.oJ=fb;fb.setAttribute('class','igViewerGraphics');this.zY=2;this.zC=2;this.xV=0;this.xh=0;var av={};av.te=this.FO;av.YL='ig'+ie+'level';cz.qw=av;this.agF(av,fb,hg);av.sg=this.sg;var mw;if(K.ri()===false){mw=hg({position:'absolute',display:'none',width:(aF.vA().width+4)+'px',height:(aF.vA().height+4)+'px',backgroundColor:'#000000'});}else{mw=hg({position:'absolute',display:'none',width:(aF.vA().width+4)+'px',height:(aF.vA().height+4)+'px',backgroundColor:'#cccccc'});}fb.appendChild(mw);cz.mw=mw;mw.setAttribute('class','igMagnifierFrame');var rG=hg({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cz.rG=rG;mw.appendChild(rG);av={};av.te=this.Hw;av.YL='ig'+ie+'maglevel';cz.Bj=av;this.agF(av,rG,hg);av.sg=this.apK;var My=document.createTextNode('');cz.My=My;var eH=document.createElement('textarea');eH.appendChild(My);eH.style.position='absolute';eH.style.overflow='auto';eH.style.width='80px';eH.style.height='80px';eH.style.resize='none';eH.style.display='none';kB.appendChild(eH);cz.eH=eH;var Yb=document.createTextNode('');cz.Yb=Yb;var fS=document.createElement('input');fS.type="text";fS.style.position='absolute';fS.style.overflow='hidden';fS.style.width='80px';fS.style.height='80px';fS.style.resize='none';fS.style.display='none';fS.style.padding='0px';fS.style.margin='0px';fS.style.lineHeight='normal';fS.className="no-ms-clear";var ama=function(ev){var xf=fS,bJ=parseFloat(xf.style['width']),ah=parseFloat(xf.style['height']),jf=xf.style['fontFamily'];var aDS=xf.value.length>xf.placeholder.length?xf.value:xf.placeholder;var hV=IPCC.h.vJ(aDS,jf,{wu:'pre',fL:cz.qw.xu}),wD=12*bJ/(hV.width||1),vO=12*ah/(hV.height||1),zW=Math.floor(Math.min(wD,vO))*0.9;xf.style.fontSize=zW+'px';};fS.onkeyup=ama;fS.onfocus=function(ev){ama(ev);if(fS.setSelectionRange){var gw=fS.value.length*2;fS.setSelectionRange(gw,gw);}};kB.appendChild(fS);cz.fS=fS;var pU=document.createTextNode('');cz.pU=pU;var cI=document.createElement('textarea');cI.appendChild(pU);cI.style.position='absolute';cI.style.overflow='hidden';cI.style.width='80px';cI.style.height='80px';cI.style.resize='none';cI.style.display='none';cI.style.whiteSpace='pre-wrap';cI.style.border=0;cI.style.padding='2px';cI.style.fontStyle='normal';var avV=function(aH){var aoo=K.JL();var cc=K.bI().eE().qY();var jF=aoo.jF*cc;var ay=K.nd().hN()*cc;IPCC.h.aaG(cI,jF,ay);};cI.onkeyup=avV;kB.appendChild(cI);cz.cI=cI;this.hY={};this.aok(this.hY);IPCC.Web.UI.bw.addHandler(fb,"mousedown",this.amM);IPCC.Web.UI.bw.addHandler(fb,"mousemove",this.ani);IPCC.Web.UI.bw.addHandler(fb,"mouseup",this.anp);IPCC.Web.UI.bw.addHandler(fb,"dblclick",this.ags);IPCC.Web.UI.bw.addHandler(fb,"contextmenu",this.akM);IPCC.Web.UI.bw.addHandler(eH,"blur",this.Lg);IPCC.Web.UI.bw.addHandler(fS,"blur",this.aei);IPCC.Web.UI.bw.addHandler(cI,"blur",this.Lg);cW.appendChild(kB);};eN.prototype.agF=function(av,fK,hg){var rS=hg({width:'2px',height:'2px',position:'absolute'});av.fK=fK;fK.appendChild(rS);av.akm=rS;rS.setAttribute('class','igAnchor');this.apV(av,rS,av.te,av.YL);av.Cg=hg({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});rS.appendChild(av.Cg);var ky=hg({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});ky.style[this.axU]=this.awc(0.5);rS.appendChild(ky);av.ky=ky;};eN.prototype.aha=function(av){if(av&&av.Oy){av.sg.aEm();av.Oy=false;}av.fK=null;};eN.prototype.awi=function(aj,aF,aX){var K=this.K;var mY=this.lA.nD(aj);var cW=K.lH();var arP=K.azV();var AD=K.azL();var cz=cW.igElements;var qw=cz.qw;var Bj=cz.Bj;var kB=cz.mU;var fb=cz.oJ;var rS=qw.akm;var mw=cz.mw;var rG=cz.rG;var amJ=Bj.akm;var Kz=Math.max(0,-mY.x);var Kf=Math.max(0,-mY.y);var aAe=Math.max(mY.width,aX.width);var azm=Math.max(mY.height,aX.height);var lL=Math.max(0,mY.x);var md=Math.max(0,mY.y);var acR=false;var BL=false;if(aF.BD()){BL=aF.wa();}var aCC=this.zY;this.zY=Math.floor(aAe-1);if(this.zY<0){this.zY=0;}var aDL=this.zC;this.zC=Math.floor(azm-1);if(this.zC<0){this.zC=0;}if(K.ri()===true){if(this.zC===0){this.zC=2;}if(this.zY===0){this.zY=2;}}var aCq=this.xV;var aCr=this.xh;if(!this.CB){this.xV=Math.floor(Kz);this.xh=Math.floor(Kf);}if(this.aaF){this.BC(rS,'left',lL+'px');this.BC(rS,'top',md+'px');}var ek=aF.eE();ek.mj(Kz-lL,Kf-md);this.acJ(qw,aF.eE(),ek,aj,aX,BL,lL,md);this.BC(kB,'overflow',aF.get_overflow());if(aX.width!==kB.clientWidth||aX.height!==kB.clientHeight){aX.width=kB.clientWidth;aX.height=kB.clientHeight;acR=true;}this.aCA(rS.style,'visibility','visible');if(aF.get_magnifierIsVisible()){var uK=aF.get_magnifierWindowPosition();var zM=aF.vA();var Nr=aF.KR();var MO=aF.Ml();var Vh=aF.axG();var aFN=Math.round(uK.x-zM.width/2+Kz+Nr);var aFB=Math.round(uK.y-zM.height/2+Kf+MO);var Mo=Vh.nD(aj);var aEN=Math.max(0,-Mo.x);var aCZ=Math.max(0,-Mo.y);this.BC(amJ,'left',Mo.x+'px');this.BC(amJ,'top',Mo.y+'px');var Nq=2;mw.style.width=(zM.width+Nq*2)+'px';mw.style.height=(zM.height+Nq*2)+'px';rG.style.width=zM.width+'px';rG.style.height=zM.height+'px';rG.style.left=Nq+'px';rG.style.top=Nq+'px';mw.style.left=aFN+'px';mw.style.top=aFB+'px';var adN=Vh.clone();adN.mj(aEN,aCZ);this.acJ(Bj,Vh,adN,aj,zM,BL,0,0);mw.style.display='block';}else{mw.style.display='none';}if(K.ajk()){var jx=K.JL();var aoE=jx.eI();var iC=this.lA.At(aoE);var mJ=(jx.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abo=jx.eb* -1,ago=jx.eb* -1;if(iC.width<mJ){iC.width=mJ;}if(iC.height<mJ){iC.height=mJ;}if(iC.width>aX.width){iC.width=aX.width;}if(iC.height>aX.height){iC.height=aX.height;}if(iC.x<0){iC.x=0;}if(iC.y<0){iC.y=0;}if(iC.x+iC.width+1>=aX.width){iC.x=aX.width-iC.width;abo= -8;}if(iC.y+iC.height+1>=aX.height){iC.y=aX.height-iC.height;ago= -8;}var ip=this.Ll(jx);ip.style.left=this.xV+iC.x+1+(jx.eb/2)+'px';ip.style.top=this.xh+iC.y+1+(jx.eb/2)+'px';ip.style.width=iC.width+abo-1+'px';ip.style.height=iC.height+ago-1+'px';if(ip.style.display!=='block'){ip.style.display='block';ip.style.whiteSpace='pre-wrap';var rV=jx.cn;var rz='';if(rV&IPCC.Web.UI.FontStyle.Italic){ip.style.fontStyle="italic";}if(rV&IPCC.Web.UI.FontStyle.Bold){ip.style.fontWeight="bold";}if(rV&IPCC.Web.UI.FontStyle.Underline){rz+="underline";}if(rV&IPCC.Web.UI.FontStyle.Strikeout){if(rV&IPCC.Web.UI.FontStyle.Underline){rz+=" line-through";}else{rz="line-through";}}ip.style.textDecoration=rz;ip.style.color=jx.pP;ip.style.backgroundColor=jx.ea;ip.style.fontFamily=jx.hc;ip.style['z-index']=100;var zW=jx.ES*this.lA.qY();if(zW){ip.style.fontSize=zW+"px";}switch(jx.iq){case IPCC.Web.UI.HorizontalAlignment.Center:ip.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ip.style.textAlign='right';break;default:ip.style.textAlign='left';break;}if(jx.gi){setTimeout(function(){cz.eH.maxLength=jx.gi;cz.fS.maxLength=jx.gi;cz.cI.maxLength=jx.gi;},0);}if(jx.iV){if(AD){AD.destroy();K.ZK(null);}K.ZK(new PCCViewer.aEz(ip,jx.iV));}if(jx.ja()===IPCC.Web.UI.MarkType.TextAreaSignature){var cI=IPCC.h.ajg();cI.style.width=cz.cI.style.width;cI.style.height=cz.cI.style.height;cI.style.fontFamily=cz.cI.style.fontFamily;cI.style.fontStyle=cz.cI.style.fontStyle;cI.style.fontWeight=cz.cI.style.fontWeight;var cc=K.bI().eE().qY();var jF=jx.jF*cc;var ay=K.nd().hN()*cc;IPCC.h.ajf().nodeValue=jx.bQ||'m';cz.cI.style.fontSize=IPCC.h.aaG(cI,jF,ay)+'px';}ip.focus();}}else{cz.eH.style.display='none';cz.fS.style.display='none';cz.cI.style.display='none';cz.eH.removeAttribute('maxlength');cz.fS.removeAttribute('maxlength');cz.cI.removeAttribute('maxlength');if(AD){AD.destroy();K.ZK(null);}if(document.activeElement===cz.eH){cz.eH.blur();}if(document.activeElement===cz.fS){cz.fS.blur();}if(document.activeElement===cz.cI){cz.cI.blur();}}if(acR){K.bV('resize',{});}if(this.zY!==aCC){this.BC(fb,'width','100%');}if(this.zC!==aDL){this.BC(fb,'height','100%');}if(this.xV!==aCq){kB.scrollLeft=this.xV;}if(this.xh!==aCr){kB.scrollTop=this.xh;}if(arP==="PageView"&& !this.CB){aF=K.bI();var bE=aF.eE();var vU=(+bE.qY().toFixed(6));if(K.ML!==vU){K.ML=vU;setTimeout(function(){K.bV('scaleChanged',{scaleFactor:vU,pageNumber:K.aW});},1);K.bV('scaleChanged',{scaleFactor:vU,pageNumber:K.aW});}}};eN.prototype.acJ=function(av,lA,ek,ag,aX,BL,lL,md){var mY=lA.nD(ag);var oO={};oO.width=Math.max(mY.width,aX.width);oO.height=Math.max(mY.height,aX.height);this.awv(av,lA,ek,ag,aX,lL,md);this.acL(av,ek,oO,ag,lL,md);if(this.K.ri()===false){this.alK(av,aX,lA,ek);}else{this.aAs(av);var aF=this.K.bI();var Cq=aF.aiX();if(this.K.wv&&Cq){this.afB(av);}}this.awf(av);if(BL){var Cl=ek.At(BL);if(this.aaF){av.ky.style.left=(Cl.x-2)+'px';av.ky.style.top=(Cl.y-2)+'px';}else{av.ky.style.left=(Cl.x-2+lL)+'px';av.ky.style.top=(Cl.y-2+md)+'px';}av.ky.style.width=Cl.width+'px';av.ky.style.height=Cl.height+'px';av.ky.style.display='block';}else{av.ky.style.display='none';}};eN.prototype.alK=function(av,aX,lA,ek){var afD=this.K.aBX();var JP={x:0,y:0,width:aX.width,height:aX.height};if(afD){var yZ=afD.getBoundingClientRect();var gd=av.fK.getBoundingClientRect();var Pm;if(gd.left<yZ.left){Pm=yZ.left-gd.left;JP.x=(Pm/gd.width)*aX.width;}if(gd.right>yZ.right){JP.width=yZ.width;}if(gd.top<yZ.top){Pm=yZ.top-gd.top;JP.y=(Pm/gd.height)*aX.height;}if(gd.bottom>yZ.bottom){JP.height=yZ.height;}}var qn=lA.clone();qn.vY();var avg=qn.At(JP);this.azG(av,ek,avg);};eN.prototype.awv=function(av,lA,ek,ag,aX,lL,md){var bj=this.K.eG();var ge=this.K.lO();var eJ=this.K.Nx();var ahx=0;var F=this;if(av.kQ){ahx=av.kQ.length;}if(!av.sg|| !bj){return;}var oh=this.K.axe();if(bj.get_markCount()<=0&&ge.get_markCount()<=0&&eJ.get_markCount()<=0&&ahx<=0&& !oh){return;}if(!av.Oy){av.sg.aqD(this.K,av,ag);av.kQ=[];av.Oy=true;}ge=this.K.lO();var bd=[];function asu(G){if((F.K.jK()&&F.K.cA().nC()===true)||G.get_type()!==IPCC.Web.UI.MarkType.Highlight){bd.push(G);}};function ahZ(G){bd.push(G);};eJ.forEachMark(ahZ);ge.forEachMark(ahZ);bj.forEachMark(asu);if(oh){bd.push(oh);}var C,kQ=av.kQ;for(C=0;C<kQ.length;C++){while(C<kQ.length&&(C>=bd.length||kQ[C].G!==bd[C])){av.sg.OT(kQ[C]);kQ.splice(C,1);}if(C<kQ.length&&(this.HQ||this.om.contains(kQ[C].G))){av.sg.adq(kQ[C]);}}for(C=kQ.length;C<bd.length;C++){kQ[C]={G:bd[C]};var L=kQ[C];if(!L){continue;}av.sg.apD(kQ[C]);}if(this.aaF){av.sg.afG(this.K,av,bd,ek,this.K.aiV());}else{var acu=ek.clone();acu.mj(lL,md);av.sg.afG(this.K,av,bd,acu,this.K.aiV());}};eN.prototype.acL=function(){};eN.prototype.atL=function(){var cW=this.K.lH();if(cW){this.adD=cW.igElements.oJ.offsetLeft-this.xV;this.ach=cW.igElements.oJ.offsetTop-this.xh;}};eN.prototype.qe=function(H,bW){var hj=this.K.lH().igElements;var hW=H.domEvent;var eY;if(hj.oJ.getBoundingClientRect){eY=hj.oJ.getBoundingClientRect();}else{var eR=hj.oJ;var wr=document.documentElement;eY={left:wr.clientLeft-wr.scrollLeft,top:wr.clientTop-wr.scrollTop};eR=eR.offsetParent;while(eR){eY.top+=eR.offsetTop-eR.scrollTop;eY.left+=eR.offsetLeft-eR.scrollLeft;eR=eR.offsetParent;}}if(hW.rawEvent.touches){if(hW.rawEvent.touches.length>0){this.Nt=new IPCC.Web.UI.Point(hW.rawEvent.touches[0].clientX-hj.mU.scrollLeft-eY.left,hW.rawEvent.touches[0].clientY-hj.mU.scrollTop-eY.top);}if(!this.Nt){this.Nt=new IPCC.Web.UI.Point(0,0);}H.windowPoint=new IPCC.Web.UI.Point(this.Nt.x,this.Nt.y);hW.button=0;}else{H.windowPoint=new IPCC.Web.UI.Point(hW.clientX-eY.left-hj.mU.scrollLeft,hW.clientY-eY.top-hj.mU.scrollTop);}var PB=this.qn.transform(H.windowPoint);H.imagePoint=new IPCC.Web.UI.Point(PB.x,PB.y);H.constrainedImagePoint=new IPCC.Web.UI.Point(PB.x,PB.y);H.constrainedImagePoint.x=Math.min(Math.max(H.constrainedImagePoint.x,0),this.If.width);H.constrainedImagePoint.y=Math.min(Math.max(H.constrainedImagePoint.y,0),this.If.height);H.pointLiesWithinImage=(H.constrainedImagePoint.x===H.imagePoint.x&&H.constrainedImagePoint.y===H.imagePoint.y);H.mark=null;try{var cg=hW.target;while(!(cg.ImGearMarkRelation)&&cg.parentNode&&cg!==document.body){cg=cg.parentNode;}if(cg.ImGearMarkRelation){H.mark=cg.ImGearMarkRelation.G;}}catch(bN){}};eN.prototype.jH=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);this.K.aCs(H);}catch(ex){this.K.bm('mouseDown',ex);}};eN.prototype.kw=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);this.K.aBD(H);}catch(ex){this.K.bm('mouseMove',ex);}};eN.prototype.ma=function(bN){try{var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);if(!bN.rawEvent.wheelDelta){H.wheelDelta= -bN.rawEvent.detail*120;}else{H.wheelDelta=bN.rawEvent.wheelDelta;}this.K.azx(H);}catch(ex){this.K.bm('mouseWheel',ex);}};eN.prototype.Ar=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);this.K.aBs(H);}catch(ex){this.K.bm('mouseDoubleClick',ex);}};eN.prototype.kM=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);this.K.aAx(H);}catch(ex){this.K.bm('mouseUp',ex);}};eN.prototype.SN=function(bN){try{bN.preventDefault();var H=new IPCC.Web.UI.MouseEventArgs();H.domEvent=bN;this.qe(H);this.K.aBO(H);}catch(ex){this.K.bm('contextMenu',ex);}};eN.prototype.avH=function(bN){try{this.K.pa(true);}catch(ex){this.K.bm('textAreaBlur',ex);}};eN.prototype.avN=function(bN){try{this.K.pa(true);}catch(ex){this.K.bm('textInputBlur',ex);}};eN.prototype.ayS=function(G){var eH=this.Ll(G);eH.value=G.bQ||"";};eN.prototype.azX=function(){var K=this.K;var G=K.JL();if(!G|| !K.ajk()){return;}var Xs=this.Ll(G);if(document.activeElement===Xs){Xs.blur();}var bQ=Xs.value;bQ=bQ.replace(/(\n|\n\r|\r\n|\r)/g,'\n');G.set_text(bQ);};eN.prototype.Ll=function(G){var hj=this.K.lH().igElements,eH=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){eH=hj.fS;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eH=hj.cI;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){eH=hj.eH;}return eH;};module.exports=eN;},{}],56:[function(require,module,exports){var xT={};xT.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=xT;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aO={af:function(V,bq,af){if(typeof(V)!==af){throw new ImGearExceptions.xK(bq,typeof(V),af);}},ko:function(V,bq){aO.af(V,bq,'string');},hT:function(V,bq){if(!(V instanceof Date)){throw new ImGearExceptions.xK(bq,typeof(V),"Date");}},gW:function(V,bq){aO.af(V,bq,'number');if(!isFinite(V)){throw new ImGearExceptions.qF(bq,V,'The value must be a number.');}},lk:function(V,bq,vZ,wm){aO.af(V,bq,'number');if(V<vZ||V>wm|| !isFinite(V)){throw new ImGearExceptions.qF(bq,V,'The value must be a number between '+vZ+' and '+wm+' inclusive.');}},Vg:function(V,bq,Ij){aO.af(V,bq,'number');var C;for(C=0;C<Ij.length;C++){if(V===Ij[C]){return;}}var Pa='';for(C=0;C<Ij.length;C++){if(C>0){if(C===Ij.length-1){Pa+=' or ';}else{Pa+=', ';}}Pa+=Ij[C];}throw new ImGearExceptions.qF(bq,V,'The value must be '+Pa+'.');},lC:function(V,bq,vZ,wm){aO.lk(V,bq,vZ,wm);if(V!==Math.floor(V)){throw new ImGearExceptions.uD(bq,'The value must be an integer.');}},dh:function(V,bq){aO.af(V,bq,'string');if(!V.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.uD(bq,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},UE:function(V,bq){aO.af(V,bq,'string');if(!V.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.uD(bq,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},lp:function(V,bq,lp,aoq){aO.af(V,bq,'number');var dv;var Zs=0;for(dv in lp){if(lp.hasOwnProperty(dv)){if(aoq){Zs|=lp[dv];}else{if(V===lp[dv]){return;}}}}var cu="";if(aoq){if((V|Zs)===Zs){return;}else{throw new ImGearExceptions.qF(bq,V,'The value must be zero or more members of the '+cu+' enumeration.');}}throw new ImGearExceptions.qF(bq,V,'The value must be a member of the '+cu+' enumeration.');},bn:function(V,bq){aO.gW(V.x,bq+'.x');aO.gW(V.y,bq+'.y');},J:function(V,bq){aO.gW(V.x,bq+'.x');aO.gW(V.y,bq+'.y');aO.gW(V.width,bq+'.width');aO.gW(V.height,bq+'.height');},xB:function(V,bq){if(!Array.isArray(V)){throw new ImGearExceptions.uD(bq,'The value must be an array.');}}};module.exports=aO;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var fJ=require('./IPCC.Util').regEnum;var Dk=function(){};Dk.registerEnum=fJ;Dk.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};Dk.registerEnum('IPCC.ViewMode',false);module.exports=Dk;},{"./IPCC.Util":28}],59:[function(require,module,exports){var TK=function(qj){var aF;var aj;var iZ;var aX;var bb=this;var yf;var DY='';var _debug=false;var pg=IPCC.Web.UI.DebugErrorLevel.Production;var mI=[];var bG=new IPCC.Web.UI.fZ();var bj;var eJ;var oh=null;var IV=false;var vy=false;var yc;var alW=IPCC.Web.UI.ImGearArtDataServices.None;var HT=false;var uv='';var pz;var apl=false;var aeQ=false;var vv=0;var sX=true;var ju;var ge;var vd=false;var ald=true,nZ=false;var aoX=false;var AD=null;var RE;var Ze=false;var aY=null;this.ML=0.0;this.mE=function(Kn){if(!_debug){return false;}return pg>=Kn;};this.oq=function(lj,IK,bF){IPCC.iI.oq(lj,IK,bF,DY,yf);};this.bm=function(iU,iR){if(!this.mE(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cj=iU+'() threw an exception ('+iR.name+'), "'+iR.message+'"';cj=cj.replace(/\n/g," ");this.oq(cj,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bb.bV('exceptionThrown',{"function_name":iU,"exception":iR,"pageNumber":bb.aW});};this.Ll=function(G){var hj=this.lH().igElements,eH=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){eH=hj.fS;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eH=hj.cI;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){eH=hj.eH;}return eH;};this.get_debug=function(){return _debug;};this.set_debug=function(V){var JI= ! !V;if(_debug===JI){return;}_debug=JI;this.cX('debug');};this.zQ=function(){return pg;};this.Kg=function(V){if(pg===V){return;}pg=V;this.cX('debugErrorLevel');};this.get_areMarksEditable=function(){return Ze;};this.set_areMarksEditable=function(V){if(Ze===V){return;}Ze=V;this.cX('areMarksEditable');};this.get_cursor=function(){return aY;};this.set_cursor=function(V){if(aY===V){return;}aY=V;this.cX('cursor');};this.aEX=function(V){DY=V;};this.azV=function(){return DY;};this.aDk=function(V){yf=V;};this.aFT=function(V){RE=V;};this.aBX=function(){return RE;};this.eD=function(arV){this.pa(false);var C;for(C=mI.length-1;C>=0;C--){if(mI[C]instanceof IPCC.ke){mI[C].be(true);}else{mI[C].be();}if(mI[C]instanceof IPCC.kh){mI[C].dW(true);}else{mI[C].dW();}}mI=arV;for(C=0;C<mI.length;C++){mI[C].lK(this);}};this.aIu=function(){var C;for(C=0;C<mI.length;C++){mI[C].be();}};this.fY=function(aer,H){var C;for(C=0;C<mI.length;C++){if(H&&H.agQ&&H.agQ()){return;}if(mI[C][aer]){mI[C][aer](H);}}};this.azU=function(js,dK){switch(js){case 'touchstart':iZ.afo&&iZ.afo(dK);break;case 'touchmove':iZ.ada&&iZ.ada(dK);break;case 'touchend':iZ.acT&&iZ.acT(dK);break;case 'doubleTap':iZ.aeI&&iZ.aeI(dK);break;}};this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.add_mouseDown=function(T){bG.addHandler('mouseDown',T);};this.remove_mouseDown=function(T){bG.removeHandler('mouseDown',T);};this.add_mouseMove=function(T){bG.addHandler('mouseMove',T);};this.remove_mouseMove=function(T){bG.removeHandler('mouseMove',T);};this.add_mouseUp=function(T){bG.addHandler('mouseUp',T);};this.remove_mouseUp=function(T){bG.removeHandler('mouseUp',T);};this.add_contextMenu=function(T){bG.addHandler('contextMenu',T);};this.remove_contextMenu=function(T){bG.removeHandler('contextMenu',T);};this.awn=function(T){bG.addHandler('contextMenuCommand',T);};this.aFZ=function(T){bG.removeHandler('contextMenuCommand',T);};this.add_mouseWheel=function(T){bG.addHandler('mouseWheel',T);};this.remove_mouseWheel=function(T){bG.removeHandler('mouseWheel',T);};this.add_mouseOut=function(T){bG.addHandler('mouseOut',T);};this.remove_mouseOut=function(T){bG.removeHandler('mouseOut',T);};this.aop=function(T){bG.addHandler('resize',T);};this.aEO=function(T){bG.removeHandler('resize',T);};this.aoB=function(T){bG.addHandler('userModifiedViewState',T);};this.aHM=function(T){bG.removeHandler('userModifiedViewState',T);};this.add_scaleChanged=function(T){bG.addHandler('scaleChanged',T);};this.remove_scaleChanged=function(T){bG.removeHandler('scaleChanged',T);};this.add_markAdded=function(T){bG.addHandler('markAdded',T);};this.remove_markAdded=function(T){bG.removeHandler('markAdded',T);};this.add_markCreating=function(T){bG.addHandler('markCreating',T);};this.remove_markCreating=function(T){bG.removeHandler('markCreating',T);};this.add_markChanged=function(T){bG.addHandler('markChanged',T);};this.remove_markChanged=function(T){bG.removeHandler('markChanged',T);};this.add_inProgressMarkChanged=function(T){bG.addHandler('inProgressMarkChanged',T);};this.remove_inProgressMarkChanged=function(T){bG.removeHandler('inProgressMarkChanged',T);};this.add_markRemoved=function(T){bG.addHandler('markRemoved',T);};this.remove_markRemoved=function(T){bG.removeHandler('markRemoved',T);};this.add_markReordered=function(T){bG.addHandler('markReordered',T);};this.remove_markReordered=function(T){bG.removeHandler('markReordered',T);};this.add_marksLoaded=function(T){bG.addHandler('marksLoaded',T);};this.remove_marksLoaded=function(T){bG.removeHandler('marksLoaded',T);};this.add_marksSaved=function(T){bG.addHandler('marksSaved',T);};this.remove_marksSaved=function(T){bG.removeHandler('marksSaved',T);};this.add_markSelectionChanged=function(T){bG.addHandler('markSelectionChanged',T);};this.remove_markSelectionChanged=function(T){bG.removeHandler('markSelectionChanged',T);};this.add_markTextSelectionChanged=function(T){bG.addHandler('markTextSelectionChanged',T);};this.remove_markTextSelectionChanged=function(T){bG.removeHandler('markTextSelectionChanged',T);};this.add_pageOpenFailed=function(T){bG.addHandler('pageOpenFailed',T);};this.add_pageDisplayed=function(T){bG.addHandler('pageDisplayed',T);};this.remove_pageOpenFailed=function(T){bG.removeHandler('pageOpenFailed',T);};this.add_textPageReady=function(T){bG.addHandler('textPageReady',T);};this.remove_textPageReady=function(T){bG.removeHandler('textPageReady',T);};this.add_selectTextMouseToolCompleted=function(T){bG.addHandler('selectTextMouseToolCompleted',T);};this.remove_selectTextMouseToolCompleted=function(T){bG.removeHandler('selectTextMouseToolCompleted',T);};this.add_exceptionThrown=function(T){bG.di('exceptionThrown',T);};this.remove_exceptionThrown=function(T){bG.bZ('exceptionThrown',T);};this.add_textExtractionFailed=function(T){bG.di('textExtractionFailed',T);};this.remove_textExtractionFailed=function(T){bG.bZ('textExtractionFailed',T);};this.cX=function(dv,ww){var T=bG.getHandler("propertyChanged");if(T){T(this,new IPCC.oC(dv,ww));}};this.lH=function(){var _parent=document.getElementById(yf);return _parent;};this.bI=function(){return aF;};this.aJh=function(){return bG;};function Fh(bv,H){HT=true;H.pageIndex=bb.aW;bb.bV('markAdded',H);bb.fY('mt',H);};function Gr(bv,H){HT=true;H.pageIndex=bb.aW;bb.bV('markChanged',H);bb.fY('nQ',H);};function akE(bv,H){H=new IPCC.Web.UI.MarkEventArgs();H.mark=oh;H.pageIndex=bb.aW;bb.bV('inProgressMarkChanged',H);bb.fY('_onInProgressMarkChanged',H);};function Gy(bv,H){HT=true;H.pageIndex=bb.aW;bb.bV('markRemoved',H);bb.fY('EG',H);};function avU(bv,H){bb.bV('textPageReady',H);};function avT(bv,H){bb.bV('textExtractionFailed',H);};function ER(bv,H){HT=true;H.pageIndex=bb.aW;bb.bV('markReordered',H);bb.fY('ahX',H);};function ED(bv,H){H.pageIndex=bb.aW;bb.bV('marksLoaded',H);bb.fY('ajt',H);};function Dr(bv,H){H.pageIndex=bb.aW;bb.bV('markSelectionChanged',H);bb.fY('DR',H);};function ahP(bv,H){H.pageIndex=bb.aW;bb.bV('markTextSelectionChanged',H);};this.aAT=function(bv,H){this.fY('_onTextMarkEditCompleted',H);};function DJ(bv,H){H.pageIndex=bb.aW;bb.bV('propertyChanged',H);};this.nx=function(V){if(V===bj){return;}if(bj){bj.remove_markAdded(Fh);bj.remove_markChanged(Gr);bj.remove_markRemoved(Gy);bj.remove_markReordered(ER);bj.remove_marksLoaded(ED);bj.remove_markSelectionChanged(Dr);bj.mX(DJ);bj.Gx(true);}bj=V;if(bj){bj.add_markAdded(Fh);bj.add_markChanged(Gr);bj.add_markRemoved(Gy);bj.add_markReordered(ER);bj.add_marksLoaded(ED);bj.add_markSelectionChanged(Dr);bj.add_markTextSelectionChanged(ahP);bj.kz(DJ);}this.cX('artPage');};this.eG=function(){return bj;};this.IT=function(V){if(V===eJ){return;}if(eJ){eJ.remove_markAdded(Fh);eJ.remove_markChanged(Gr);eJ.remove_markRemoved(Gy);eJ.remove_markReordered(ER);eJ.remove_marksLoaded(ED);eJ.remove_markSelectionChanged(Dr);eJ.mX(DJ);eJ.Gx(true);}eJ=V;if(eJ){eJ.add_markAdded(Fh);eJ.add_markChanged(Gr);eJ.add_markRemoved(Gy);eJ.add_markReordered(ER);eJ.add_marksLoaded(ED);eJ.add_markSelectionChanged(Dr);eJ.add_markTextSelectionChanged(ahP);eJ.kz(DJ);}this.cX('documentArtPage');};this.Nx=function(){return eJ;};this.lO=function(){return ge;};this.Dp=function(V){if(V===ge){return;}if(ge){ge.remove_markAdded(Fh);ge.remove_markChanged(Gr);ge.remove_markRemoved(Gy);ge.remove_markReordered(ER);ge.remove_marksLoaded(ED);ge.remove_markSelectionChanged(Dr);ge.mX(DJ);}ge=V;if(ge){ge.add_markAdded(Fh);ge.add_markChanged(Gr);ge.add_markRemoved(Gy);ge.add_markReordered(ER);ge.add_marksLoaded(ED);ge.add_markSelectionChanged(Dr);ge.kz(DJ);}this.cX('transientArtPage');};var he;this.Ca=function(){if(!he){if(IPCC.Web.UI.Mark){he=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);he.set_opacity(100);he.set_fillColor('#3366CC');he.set_fillVisible(true);}}return he;};this.Zl=function(V){alW=V;this.cX('artServiceOption');};this.abT=function(){return alW;};this.oV=function(G,nK){if(oh===G){return;}if(oh){oh.remove_propertyChanged(akE);}if(G&& !oh){var H=new IPCC.Web.UI.MarkEventArgs();H.mark=nK?nK:G;H.pageIndex=this.aW;this.bV('markCreating',H);}oh=G;if(oh){oh.add_propertyChanged(akE);}this.cX('inProgressMark');};this.axe=function(){return oh;};this.AS=function(V){if(V===aj){return;}aj=V;this.wv=false;aF.or();this.cX('image');};this.ct=function(){return aj;};this.aaD=function(V){if(V===IV){return;}IV=V;this.cX('IV');};this.aiV=function(){return IV;};this.JZ=function(){var yc=this.JL();var aep=this.Ll(yc);var apu=aep.value;setTimeout(function(){aep.setSelectionRange(0,apu.length);},1);};this.vi=function(G){this.pa(false);iZ.ayS(G);vy=true;yc=G;this.cX('vy');};this.ahr=function(ad,cN){if(this.jK()&&this.cA().nC()===true){var hm=this.cA().gq();var C=ad;for(;C<ad+cN;C++){var fd=hm.kG(C);var tn='#3366CC';var GW='#3366CC';ge.YD(fd.aw,GW,tn,false,C);}}};this.aIq=function(aN){var C;try{var aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!he){he=bb.Ca();}for(C in he){if(he.hasOwnProperty(C)){aA[C]=he[C];}}aA.set_rectangle({x:aN.x,y:aN.y,width:aN.width,height:aN.height});bb.oV(aA);ge.addMark(aA);return aA;}catch(aFg){var aCh=aFg.message;window.console.log(aCh);}};this.IH=function(bY){var xY;var hm;var Ud;xY=bb.cA();hm=bb.cA().gq();function auE(SX){var rw=SX.sx();if((bY.x>=rw.x-10&&bY.x<=rw.x+rw.width+1)&&(bY.y>=rw.y-1&&bY.y<=rw.y+rw.height+1)){return true;}rw=undefined;};if(!Ud){for(var C=0;C<hm.eu();C++){if(auE(hm.kG(C))){Ud=C;break;}}}return Ud;};this.aGx=false;this.zX=function(ca){if(ca===undefined){return;}if(bb.jK()&&bb.cA().nC()===true){var JF=bb.cA().gq().eu();IPCC.aO.lC(ca,'textIndex',0,JF);bb.bI().zX(ca);bb.lO().CL(function(G){if(G.xZ!==true&&G.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bb.lO().uV(G);}});if(bb.zm()===true){bb.bW();}}};this.Xf=function(){var Ds=bb.bI().get_transientHighlightMarks();while(Ds.length>0){bb.lO().removeMark(Ds.pop());}};this.Qt=function(uM,cN){if(bb.jK()&&bb.cA().nC()===true){var C=uM;var hm=this.cA().gq();var cq=uM+cN;if(!he){he=bb.Ca();}var Ds=bb.bI().get_transientHighlightMarks();for(;C<cq;C++){var fd=hm.kG(C);Ds.push(ge.aBS(fd.aw,he,C));}}};this.aGM=function(aIh,cN){var aF=bb.bI();for(var bB=cN-1;bB>cN;bB--){var aU=aF.iB[bB];ge.removeMark(aU.G);}};this.tx=function(ca){if(ca===undefined){return;}var fd;var aF=bb.bI();var gD=aF.AW();var tn='#3366CC';var GW='#3366CC';var cD=100;if(!he){he=bb.Ca();}cD=he.get_opacity();if(!cD){cD=100;}tn=he.get_fillColor();if(tn===undefined){tn='#3366CC';}var hm=bb.cA().gq();if(gD===undefined){fd=hm.kG(ca);var G=ge.YD(fd.aw,GW,tn,false,cD,ca);aF.tx(ca,G,fd.lz);return;}var bB;function aiw(bf,aqS){for(bB=aF.iB.length-1;bB>=0;bB--){var aU=aF.iB[bB];if(aU.ca===bf){aF.iB.splice(bB,1);ge.removeMark(aU.G);aF.aEZ(aqS);aF.aEk(bf);return bB;}}return-1;};function MP(bf){fd=hm.kG(bf);var amD=ge.YD(fd.aw,GW,tn,false,cD,bf);if(aF.tx(bf,amD,fd.lz)===false){ge.removeMark(amD);}};var KF=aF.aiC();var C;if(ca>gD){for(C=gD;C<=ca;C++){if(C===ca){if(C<KF){continue;}MP(C);}else if(C>=KF){if(C===gD){continue;}MP(C);}else{aiw(C,ca);}}}else if(ca<gD){for(C=gD;C>=ca;C--){if(C===ca){if(C>=KF){continue;}MP(C);}else if(C<KF){if(C===gD){continue;}MP(C);}else{aiw(C,ca);}}}};this.Ci=function(){var afw="";try{var aF=bb.bI();if(bb.bI().Jb()){var awS=bb.cA().gq();if(aF.iB.length>0){var Ef=[];for(var C=0;C<aF.iB.length;C++){Ef.push(aF.iB[C].ca);}if(Ef[0]>Ef[1]){Ef.reverse();}for(C=0;C<Ef.length;C++){afw+=awS.kG(Ef[C]).aAL();}}}return afw;}catch(e){window.console.log(e.message);}};this.pa=function(azT){if(vy){if(azT){iZ.azX();}vy=false;yc=null;this.aAT();this.cX('vy');bb.bW();}};this.ajk=function(){return vy;};this.JL=function(){return yc;};this.Cu=function(){var yc=this.JL();if(!yc){return null;}var Zh=yc.ja();if(Zh===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Zh===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Zh===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aao=function(V){aeQ=V;};this.WC=function(){return aeQ;};this.ZK=function(V){AD=V;};this.azL=function(){return AD;};this.aeP=function(V){if(V===vv){return;}vv=V;this.cX('vv');};this.abD=function(){return vv;};this.Gx=function(V){if(bj){bj.Gx(V);}};this.ME=function(){if(bj){return bj.ME();}return true;};this.aCz=function(aIF){var aX=iZ.aqN(this.lH());this.aBA(aX);};this.aBA=function(V){if(V===aX){return;}aX=V;this.cX('windowSpace');};this.ei=function(){return aX;};this.bW=function(){iZ.bW(aj,aF,aX);};this.Ji=function(){if(this.ri()===false){var lA=aF.eE();var K=this;var mY=lA.nD(aj);var cW=K.lH();var cz=cW.igElements;var av=cz.qw;var Kz=Math.max(0,-mY.x);var Kf=Math.max(0,-mY.y);var lL=Math.max(0,mY.x);var md=Math.max(0,mY.y);var ek=aF.eE();ek.mj(Kz-lL,Kf-md);iZ.alK(av,aX,lA,ek);}};this.Ku=function(V){pz=V;};this.ub=function(){return pz;};this.cA=function(){return ju.cA();};var ln=0;this.nd=function(){return ju;};this.Dz=function(V){if(V===this.nd()){return;}ju=V;if(ju){ju.AI(avU);ju.zA(avT);}};this.jK=function(){return sX;};this.Kl=function(V){sX=V;this.cX('textRequired');};this.Ba=function(){return vd;};this.IP=function(V){if(vd===V){return;}vd=V;this.cX('requireRequestsOptimize');};this.zm=function(){return ald;};this.Yn=function(V){ald=V;this.cX('autoUpdate');};var nV=false;this.lG=function(){return nV;};this.qs=function(V){if(typeof V!=="boolean"){return;}if(V===nV){return;}nV=V;if(bj){var aat=false;bj.forEachMark(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aat=true;}});if(aat===true){bj.qs(nV);}}};this.la=function(){return ln;};this.wb=function(V){if(ln===V){return;}if(isNaN(V)){return;}ln=V;this.cX('serviceResponseTimeout');};var op='';this.XL=function(fl,aV){if(fl!==''){fl='/'+fl;}aV=aV||'';if(aV===null||aV===''){if(fl==='/Attributes'){if(/^[\x00-\x7F]*$/.test(aj.get_identifier())){return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=u'+encodeURIComponent(aj.get_identifier());}else{return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=e'+aj.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(aj.get_identifier())){return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=u'+encodeURIComponent(aj.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=e'+aj.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(aj.get_identifier())){return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=u'+encodeURIComponent(aj.get_identifier())+'&'+aV;}else{return op+'/Page/q/'+aj.aW.toString()+fl+'?DocumentID=e'+aj.get_encodedIdentifier()+'&'+aV;}}};this.ayX=function(fl,aV){fl=fl||'Art';aV=aV||'';if(aV===null||aV===''){if(fl==='Art'){return op+'/Page/q/'+aj.aW.toString()+'/'+fl+'?DocumentID=e'+aj.get_encodedIdentifier();}}else{return op+'/Page/q/'+aj.aW.toString()+'/'+fl+'?DocumentID=e'+aj.get_encodedIdentifier()+'&'+aV;}};this.abH=function(Dm){if(HT===false){if(Dm){Dm();}return;}IPCC.h.na.fc({method:'POST',url:this.ayX('Art'),headers:{'Content-Type':'application/json'},body:bj.saveToJson()}).then(function(){if(Dm){Dm();}});};this.tZ=function(){return op;};this.aaj=function(V){op=V;this.cX('imageHandlerUrl');};this.ri=function(){return apl;};this.MG=function(V){apl=V;};this.axW=function(){return aoX;};this.abh=function(V){aoX=V;};this.lJ=function(){return uv;};this.uq=function(V){uv=V;uv.tabIndex= -1;};this.jE=function(){return nZ;};this.ni=function(V){if(typeof V!=="boolean"){return;}if(V===nZ){return;}nZ=V;};this.aCs=function(H){if(vy){this.pa(true);}else{this.bV('mouseDown',H);this.fY('jH',H);}};this.aBD=function(H){this.bV('mouseMove',H);this.fY('kw',H);};this.aAx=function(H){this.bV('mouseUp',H);this.fY('kM',H);};this.azx=function(H){this.bV('mouseWheel',H);this.fY('ma',H);};this.aBs=function(H){this.bV('mouseDoubleClick',H);this.fY('Ar',H);};this.aBO=function(H){this.bV('contextMenu',H);this.fY('SN',H);};this.aCx=function(H){this.bV('contextMenuCommand',H);};this.aAk=function(H){this.bV('mouseOut',H);this.fY('oX',H);};this.aAg=function(H){this.bV('touchStart',H);this.fY('jH',H);};this.aAa=function(H){this.bV('touchMove',H);this.fY('kw',H);};this.aAR=function(H){this.bV('touchEnd',H);this.fY('kM',H);};this.azd=function(H){this.bV('touchCancel',H);this.fY('Jj',H);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(bb,H);}};var afO=function(K,qj){aF=new IPCC.Sy();function Cb(bv,H){bb.bV('propertyChanged',H);};aF.kz(Cb);iZ=new IPCC.eN(K,qj);if(IPCC.cF){iZ.sg=new IPCC.cF.cJ(K);iZ.apK=new IPCC.cF.cJ(K);}};if(qj===false){afO(this,false);}else{afO(this,true);}return this;};module.exports=TK;},{}],60:[function(require,module,exports){var Sy=function(){var pu=0;var qh=1;var lb=1;var Cq=false;var cY=new IPCC.eQ();var Ct=false;var ve;var sc;var LG=false;var CG=new IPCC.Fc(200,150,96,96);var uK={x:0,y:0};var MA=3;var Nr=0,MO=0;var hy=0.2;var sU=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var BM=new IPCC.eQ();var IB=0;var GT=0;var Cp=false;var Xg;this.iB=[];var Zx=IPCC.Web.UI.ScrollBars.Auto;var Ds=[];this.get_transientHighlightMarks=function(){return Ds;};this.get_scrollBars=function(){return Zx;};this.get_overflow=function(){switch(Zx){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(V){Zx=V;this.cX('scrollBars');};var bG=new IPCC.Web.UI.fZ();this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};var onSelectionChanged=function(aF){var H={};H.selectionIsVisible=Ct;H.selectionRectangle=aF.wa();aF.cX('selection');};this.or=function(){ve={x:0,y:0};sc={x:0,y:0};if(!Ct){return;}Ct=false;onSelectionChanged(this);};this.showSelection=function(dA){ve.x=dA.x;ve.y=dA.y;sc.x=dA.x+dA.width;sc.y=dA.y+dA.height;Ct=true;onSelectionChanged(this);};this.DX=function(bY){ve.x=bY.x;ve.y=bY.y;sc.x=bY.x;sc.y=bY.y;Ct=true;onSelectionChanged(this);};this.ze=function(bY){sc.x=bY.x;sc.y=bY.y;onSelectionChanged(this);};this.BD=function(){return Ct;};this.wa=function(){var J=new IPCC.Web.UI.Rectangle(Math.min(ve.x,sc.x),Math.min(ve.y,sc.y),0,0);J.width=Math.max(ve.x,sc.x)-J.x;J.height=Math.max(ve.y,sc.y)-J.y;return J;};var GR=function(){if(!LG){BM.aCL();return;}BM.Pu(cY);BM.mj(-uK.x,-uK.y);BM.scale(MA,MA);BM.mj(CG.width/2,CG.height/2);};this.hideMagnifier=function(){LG=false;GR();this.cX('magnifierIsVisible');};this.showMagnifier=function(cl){uK.x=cl.x;uK.y=cl.y;LG=true;GR();this.cX('magnifierWindowPosition');this.cX('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return LG;};this.get_magnifierWindowPosition=function(){return{x:uK.x,y:uK.y};};this.get_magnifierMagnification=function(){return MA;};this.set_magnifierMagnification=function(V){MA=V;GR();this.cX('magnifierMagnification');};this.KR=function(){return Nr;};this.abR=function(V){Nr=V;this.cX('magnifierXOffset');};this.Ml=function(){return MO;};this.WL=function(V){MO=V;this.cX('magnifierYOffset');};this.vA=function(){return{width:CG.width,height:CG.height};};this.set_magnifierWindowSize=function(newMagnifierSize){CG.width=newMagnifierSize.width;CG.height=newMagnifierSize.height;GR();this.cX('magnifierWindowSize');};this.axG=function(){return BM.clone();};this.eE=function(){return cY.clone();};this.VF=function(){return hy;};this.XM=function(V){hy=V;this.cX('markHandleSize');};this.yN=function(){return sU;};this.Ks=function(V){sU=V;this.cX('markHandleMode');};this.iK=function(V){if(V===cY||V.asI(cY)){return;}if(!V.aiF()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cY.Pu(V);GR();this.cX('displayedPageRectangle');};var abY='0';this.get_presentationQuality=function(){return abY;};this.set_presentationQuality=function(V){abY=V;this.cX('presentationQuality');};this.azE=function(){return qh;};this.Ge=function(V){qh=V;};this.aBi=function(){return pu;};this.Dx=function(V){pu=V;};this.aBZ=function(){return lb;};this.Ew=function(V){if(V!==lb){Cq=true;}lb=V;};this.aEc=function(V){Cq=V;};this.aiX=function(){return Cq;};var Yg=IPCC.bL.Default;this.aIM=function(){return Yg;};this.aFd=function(V){if(Yg!==V){Yg=V;this.cX('markCursor');}};this.zX=function(ca){IB=ca;Cp=false;GT=0;};this.Qt=function(uM,cN){if(uM!==IB){IB=uM;}GT=cN;Cp=true;};this.Xd=function(){if(Cp===true){for(var C=0;C<this.iB.length;C++){this.iB[C].G.set_visible(false);}Cp=false;}};this.Jb=function(){return Cp;};this.tx=function(ca,G,lz){Xg=ca;if(ca!==undefined){if(this.iB.length>0&&this.iB[this.iB.length-1].ca===ca){return false;}this.iB.push({ca:ca,G:G,lz:lz});Cp=true;GT++;}else{this.iB=[];GT=0;}return true;};this.AW=function(){return Xg;};this.aEZ=function(V){if(V===undefined){return;}Xg=V;};var alC;this.aIK=function(){return alC;};this.aEk=function(V){if(V===undefined){return;}alC=V;};this.aiC=function(){return IB;};this.aJV=function(){return IB+GT;};this.Bn=function(){return this.iB.length;};this.or();this.hideMagnifier();return this;};module.exports=Sy;},{}],61:[function(require,module,exports){var AV={};AV.alf=function(ap){if(!this.Ea[0][0][0]){this.Sq();}var C,bB,eF,Kw,WI,nl=this.Ea[0][4],uS=this.Ea[1],rJ=ap.length,Lo=1;if(rJ!==4&&rJ!==6&&rJ!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.ap=[Kw=ap.slice(0),WI=[]];for(C=rJ;C<4*rJ+28;C++){eF=Kw[C-1];if(C%rJ===0||(rJ===8&&C%rJ===4)){eF=nl[eF>>>24]<<24^nl[eF>>16&255]<<16^nl[eF>>8&255]<<8^nl[eF&255];if(C%rJ===0){eF=eF<<8^eF>>>24^Lo<<24;Lo=Lo<<1^(Lo>>7)*283;}}Kw[C]=Kw[C-rJ]^eF;}for(bB=0;C;bB++,C--){eF=Kw[bB&3?C:C-4];if(C<=4||bB<4){WI[bB]=eF;}else{WI[bB]=uS[0][nl[eF>>>24]]^uS[1][nl[eF>>16&255]]^uS[2][nl[eF>>8&255]]^uS[3][nl[eF&255]];}}};AV.alf.prototype={Xj:function(dI){return this.aqj(dI,1);},Ea:[[[],[],[],[],[]],[[],[],[],[],[]]],Sq:function(){var LQ=this.Ea[0],uS=this.Ea[1],nl=LQ[4],aAK=uS[4],C,bh,yB,eA=[],acZ=[],UT,ads,aca,iQ,KC,Mk;for(C=0;C<256;C++){acZ[(eA[C]=C<<1^(C>>7)*283)^C]=C;}for(bh=yB=0;!nl[bh];bh^=UT||1,yB=acZ[yB]||1){iQ=yB^yB<<1^yB<<2^yB<<3^yB<<4;iQ=iQ>>8^iQ&255^99;nl[bh]=iQ;aAK[iQ]=bh;aca=eA[ads=eA[UT=eA[bh]]];Mk=aca*0x1010101^ads*0x10001^UT*0x101^bh*0x1010100;KC=eA[iQ]*0x101^iQ*0x1010100;for(C=0;C<4;C++){LQ[C][bh]=KC=KC<<24^KC>>>8;uS[C][iQ]=Mk=Mk<<24^Mk>>>8;}}for(C=0;C<5;C++){LQ[C]=LQ[C].slice(0);uS[C]=uS[C].slice(0);}},aqj:function(nA,JS){if(nA.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var ap=this.ap[JS],cS=nA[0]^ap[0],eT=nA[JS?3:1]^ap[1],fA=nA[2]^ap[2],eA=nA[JS?1:3]^ap[3],us,akx,alc,aom=ap.length/4-2,C,Cd=4,fk=[0,0,0,0],HV=this.Ea[JS],QV=HV[0],RF=HV[1],Re=HV[2],RQ=HV[3],nl=HV[4];for(C=0;C<aom;C++){us=QV[cS>>>24]^RF[eT>>16&255]^Re[fA>>8&255]^RQ[eA&255]^ap[Cd];akx=QV[eT>>>24]^RF[fA>>16&255]^Re[eA>>8&255]^RQ[cS&255]^ap[Cd+1];alc=QV[fA>>>24]^RF[eA>>16&255]^Re[cS>>8&255]^RQ[eT&255]^ap[Cd+2];eA=QV[eA>>>24]^RF[cS>>16&255]^Re[eT>>8&255]^RQ[fA&255]^ap[Cd+3];Cd+=4;cS=us;eT=akx;fA=alc;}for(C=0;C<4;C++){fk[JS?3& -C:C]=nl[cS>>>24]<<24^nl[eT>>16&255]<<16^nl[fA>>8&255]<<8^nl[eA&255]^ap[Cd++];us=cS;cS=eT;eT=fA;fA=eA;eA=us;}return fk;}};module.exports=AV;},{}],62:[function(require,module,exports){var gy={};gy.FV={mP:function(dF){var fk="",pA=IPCC.Web.gb.wO(dF),C,eF;for(C=0;C<pA/8;C++){if((C&3)===0){eF=dF[C/4];}fk+=String.fromCharCode(eF>>>24);eF<<=8;}return decodeURIComponent(escape(fk));},uh:function(cu){cu=unescape(encodeURIComponent(cu));var fk=[],C,eF=0;for(C=0;C<cu.length;C++){eF=eF<<8|cu.charCodeAt(C);if((C&3)===3){fk.push(eF);eF=0;}}if(C&3){fk.push(IPCC.Web.gb.JW(8*(C&3),eF));}return fk;}};gy.qk={vB:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mP:function(dF,aoj,aK){var fk="",C,fj=0,fA=IPCC.Web.gy.qk.vB,yi=0,pA=IPCC.Web.gb.wO(dF);if(aK){fA=fA.substr(0,62)+'-_';}for(C=0;fk.length*6<pA;){fk+=fA.charAt((yi^dF[C]>>>fj)>>>26);if(fj<6){yi=dF[C]<<(6-fj);fj+=26;C++;}else{yi<<=6;fj-=6;}}while((fk.length&3)&& !aoj){fk+="=";}return fk;},uh:function(cu,aK){cu=cu.replace(/\s|=/g,'');var fk=[],C,fj=0,fA=IPCC.Web.gy.qk.vB,yi=0,bh;if(aK){fA=fA.substr(0,62)+'-_';}for(C=0;C<cu.length;C++){bh=fA.indexOf(cu.charAt(C));if(bh<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fj>26){fj-=26;fk.push(yi^bh>>>fj);yi=bh<<(32-fj);}else{fj+=6;yi^=bh<<(32-fj);}}if(fj&56){fk.push(IPCC.Web.gb.JW(fj&56,yi,1));}return fk;}};gy.Hn={mP:function(dF){return IPCC.Web.gy.qk.mP(dF,1,1);},uh:function(cu){return IPCC.Web.gy.qk.uh(cu,1);}};module.exports=gy;},{}],63:[function(require,module,exports){var qp={};qp.XT=function(qp){if(!this.ap[0]){this.Sq();}if(qp){this.dU=qp.dU.slice(0);this.yH=qp.yH.slice(0);this.cN=qp.cN;}else{this.aev();}};qp.XT.qp=function(dI){return(new IPCC.Web.qp.XT()).awy(dI).aDQ();};qp.XT.prototype={aHF:512,aev:function(){this.dU=this.ajb.slice(0);this.yH=[];this.cN=0;return this;},awy:function(dI){if(typeof dI==="string"){dI=IPCC.Web.Codec.FV.uh(dI);}var C,eT=this.yH=IPCC.Web.gb.VY(this.yH,dI),alM=this.cN,apo=this.cN=alM+IPCC.Web.gb.wO(dI);for(C=512+alM& -512;C<=apo;C+=512){this.oU(eT.splice(0,16));}return this;},aDQ:function(){var C,eT=this.yH,dU=this.dU;eT=IPCC.Web.gb.VY(eT,[IPCC.Web.gb.JW(1,1)]);for(C=eT.length+2;C&15;C++){eT.push(0);}eT.push(Math.floor(this.cN/0x100000000));eT.push(this.cN|0);while(eT.length){this.oU(eT.splice(0,16));}this.aev();return dU;},ajb:[],ap:[],Sq:function(){var C=0,HX=2,aG;function akg(bh){return(bh-Math.floor(bh))*0x100000000|0;};atV:for(;C<64;HX++){for(aG=2;aG*aG<=HX;aG++){if(HX%aG===0){continue atV;}}if(C<8){this.ajb[C]=akg(Math.pow(HX,1/2));}this.ap[C]=akg(Math.pow(HX,1/3));C++;}},oU:function(atq){var C,eF,cS,eT,jA=atq.slice(0),dU=this.dU,da=this.ap,ZC=dU[0],rU=dU[1],GH=dU[2],OK=dU[3],sD=dU[4],PD=dU[5],Fu=dU[6],Zv=dU[7];for(C=0;C<64;C++){if(C<16){eF=jA[C];}else{cS=jA[(C+1)&15];eT=jA[(C+14)&15];eF=jA[C&15]=((cS>>>7^cS>>>18^cS>>>3^cS<<25^cS<<14)+(eT>>>17^eT>>>19^eT>>>10^eT<<15^eT<<13)+jA[C&15]+jA[(C+9)&15])|0;}eF=(eF+Zv+(sD>>>6^sD>>>11^sD>>>25^sD<<26^sD<<21^sD<<7)+(Fu^sD&(PD^Fu))+da[C]);Zv=Fu;Fu=PD;PD=sD;sD=OK+eF|0;OK=GH;GH=rU;rU=ZC;ZC=(eF+((rU&GH)^(OK&(rU^GH)))+(rU>>>2^rU>>>13^rU>>>22^rU<<30^rU<<19^rU<<10))|0;}dU[0]=dU[0]+ZC|0;dU[1]=dU[1]+rU|0;dU[2]=dU[2]+GH|0;dU[3]=dU[3]+OK|0;dU[4]=dU[4]+sD|0;dU[5]=dU[5]+PD|0;dU[6]=dU[6]+Fu|0;dU[7]=dU[7]+Zv|0;}};module.exports=qp;},{}],64:[function(require,module,exports){var Cv={};Cv.atj={bq:"cbc",agx:function(Og,VL,im,vR){if(vR&&vR.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gb.wO(im)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var C,jA=IPCC.Web.gb,Ok=jA.aby,pA=jA.wO(VL),akh=0,qQ=[];if(pA&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(C=0;akh+128<=pA;C+=4,akh+=128){im=Og.agx(Ok(im,VL.slice(C,C+4)));qQ.splice(C,0,im[0],im[1],im[2],im[3]);}pA=(16-((pA>>3)&15))*0x1010101;im=Og.agx(Ok(im,jA.VY(VL,[pA,pA,pA,pA]).slice(C,C+4)));qQ.splice(C,0,im[0],im[1],im[2],im[3]);return qQ;},Xj:function(Og,LZ,im,vR){if(vR&&vR.length){throw new IPCC.Web.UI.ImGearArgumentException(vR,"cbc can't authenticate data");}if(IPCC.Web.gb.wO(im)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gb.wO(LZ)&127)|| !LZ.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var C,jA=IPCC.Web.gb,Ok=jA.aby,sF,tK,qQ=[];vR=vR||[];for(C=0;C<LZ.length;C+=4){sF=LZ.slice(C,C+4);tK=Ok(im,Og.Xj(sF));qQ.splice(C,0,tK[0],tK[1],tK[2],tK[3]);im=sF;}sF=qQ[C-1]&255;if(sF===0||sF>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}tK=sF*0x1010101;if(!jA.aEU(jA.aak([tK,tK,tK,tK],0,sF*8),jA.aak(qQ,qQ.length*32-sF*8,qQ.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return jA.aak(qQ,0,qQ.length*32-sF*8);}};module.exports=Cv;},{}],65:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Ov=function(){var bd=[];var bG=new IPCC.Web.UI.fZ();var eg=new IPCC.Web.UI.MarkCollection();var F=this;var Kk=true;this.aCb=[];function onMarkSelectionChanged(bv,H){var G=H.mark;if(G.bK&&G.bK[0]&&G.bK[0].dr===false){return;}var fh;var ayB=H.mark.get_selected();if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH!==undefined){eg.remove_markAdded(onMarkSelectionChanged);eg.remove_markRemoved(onMarkSelectionChanged);for(var C=0;C<bd.length;C++){if(bd[C].bH===G.bH){if(bd[C].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fh=bd[C];}else{bd[C].set_selected(H.mark.get_selected());}}}eg.add_markAdded(onMarkSelectionChanged);eg.add_markRemoved(onMarkSelectionChanged);if(fh){fh.set_selected(ayB);}return;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eg.remove_markAdded(onMarkSelectionChanged);eg.remove_markRemoved(onMarkSelectionChanged);for(var bz=0;bz<G.bK.length;bz++){G.bK[bz].set_selected(H.mark.get_selected());}eg.add_markAdded(onMarkSelectionChanged);eg.add_markRemoved(onMarkSelectionChanged);}var eo=new IPCC.Web.UI.MarkEventArgs();eo.mark=G;eo.zIndex=F.ow(G);eo.length=1;F.bV('markSelectionChanged',eo);};eg.add_markAdded(onMarkSelectionChanged);eg.add_markRemoved(onMarkSelectionChanged);var arI=eg.addMark;eg.addMark=function(G){if(F.ow(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eg.contains(G)){arI.call(eg,G);G.cX('selected');}};var asM=eg.addMarks;eg.addMarks=function(zU){var om=[];function Vz(G){if(F.ow(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eg.contains(G)){om.push(G);}};zU.forEach(Vz,{});asM.call(eg,zU);var C;for(C=0;C<om.length;C++){om[C].cX('selected');}};var asH=eg.removeMark;eg.removeMark=function(G){if(eg.contains(G)){asH.call(eg,G);G.cX('selected');}};var asa=eg.removeAllMarks;eg.removeAllMarks=function(){var om=[];function Vz(G){if(eg.contains(G)){om.push(G);}};eg.forEach(Vz,{});asa.call(eg);var C;for(C=0;C<om.length;C++){om[C].cX('selected');}};function ajS(kp){IPCC.aO.lC(kp,'zIndex',0,bd.length-1);};this.WJ=function(){return bd.length;};this.ahS=function(){var C=0;for(;C<bd.length;C++){if(bd[C].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bd[C].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bd[C].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bd[C].bH!==undefined)){break;}}return C;};this.BN=function(){return eg;};this.Gx=function(V){if(V===Kk){return;}Kk=V;this.cX('Kk');};this.ME=function(){return Kk;};var nV=false;this.lG=function(){return nV;};this.qs=function(V){if(typeof V!=="boolean"){return;}nV=V;this.cX('redactionDraftMode');};function nQ(bv,H){if(H.get_propertyName()==='selected'){return;}var eo=new IPCC.Web.UI.MarkEventArgs();eo.mark=bv;eo.zIndex=F.ow(bv);eo.propertyName=H.dv;eo.length=1;if(eo.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eo.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eo.mark.bH!=='undefined')){F.awW(bv);}F.bV('markChanged',eo);};function xm(bv){var eo=new IPCC.Web.UI.MarkEventArgs();eo.mark=bv;eo.zIndex=F.ow(bv);eo.length=1;F.bV('markTextSelectionChanged',eo);};function Qo(bv,H){var eo=new IPCC.Web.UI.CommentEventArgs();eo.mark=bv;eo.comment=H.comment;eo.index=H.index;F.bV('commentAdded',eo);};function OJ(bv,H){var eo=new IPCC.Web.UI.CommentEventArgs();eo.mark=bv;eo.comment=H.comment;eo.index=H.index;F.bV('commentRemoved',eo);};function PM(bv,H){var eo=new IPCC.Web.UI.CommentEventArgs();eo.mark=bv;eo.comment=H.comment;eo.index=H.index;F.bV('commentChanged',eo);};this.Oq=function(G,qL){qL=qL||{};var kp=this.ow(G);if(kp>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(G.eG()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bd.push(G);G.nx(this);G.add_propertyChanged(nQ);G.add_markTextSelectionChanged(xm);G.vu(Qo);G.vD(OJ);G.tg(PM);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH!==undefined)){this.aft(G,0);}else{H.zIndex=bd.length-1;}H.clientX=qL.clientX;H.clientY=qL.clientY;H.length=1;F.bV('markAdded',H);};this.CL=function(ji,dn){var JE=[].concat(bd);var C;for(C=0;C<JE.length;C++){ji.call(dn,JE[C],C,this);}};this.OO=function(kp){ajS(kp);return bd[kp];};this.ow=function(G){var C;for(C=0;C<bd.length;C++){if(bd[C]===G){return C;}}return-1;};this.aAt=function(fC){var fo=JSON.parse(fC);this.Wx();var Ha=[];var C;var Lt=fo.m;if(Lt){for(C=0;C<Lt.length;C++){var aA=new IPCC.Web.UI.Mark(Lt[C].t);aA.aAd(Lt[C]);aA.nx(this);aA.add_propertyChanged(nQ);aA.add_markTextSelectionChanged(xm);Ha.push(aA);}}bd=Ha;F.bV('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aqP=function(){var kU=new Array(36);var bf=0;var C;var bB;for(C=0;C<8;C++){kU[bf++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(C=0;C<3;C++){kU[bf++]=45;for(bB=0;bB<4;bB++){kU[bf++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kU[bf++]=45;var awh=new Date().getTime();var awT=("0000000"+awh.toString(16).toUpperCase()).substr(-8);for(C=0;C<8;C++){kU[bf++]=awT.charCodeAt(C);}for(C=0;C<4;C++){kU[bf++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kU);};function Vf(lw){var bh=lw.firstChild;while(bh.nodeType!==1){bh=bh.nextSibling;}return bh;};function KV(tS,alo,aFM){var aro=parseFloat(tS.getAttribute(alo));var aqi=parseFloat(tS.getAttribute(alo+'Qv'));return aFM/(aro/aqi);};function avB(KE,aZ,ay){if(aZ<=0&&ay<=0){return 1;}var amN=KE.getAttribute('pageWidth');var amV=KE.getAttribute('pageHeight');var Qg,Vc,aG,tS,C;if(amN&&amV){Qg=parseFloat(amN);Vc=parseFloat(amV);if(isFinite(Qg)&&isFinite(Vc)&&Qg>0&&Vc>0){return aZ/Qg;}}for(C=0;C<KE.childNodes.length;C++){tS=KE.childNodes[C];if(tS.nodeName!=='annotation'){continue;}aG=KV(tS,'width',aZ);if(isFinite(aG)&&aG>0){return aG;}aG=KV(tS,'height',ay);if(isFinite(aG)&&aG>0){return aG;}aG=KV(tS,'x',aZ);if(isFinite(aG)&&aG>0){return aG;}aG=KV(tS,'y',ay);if(isFinite(aG)&&aG>0){return aG;}}return 1;};this.aAn=function(jM,bO,aZ,ay,Xz,stampImages,ye,uU){var F=this;if(ye!==true){this.Wx();}if(jM){var jn;if(IPCC.wf.Ja()){jn=jM.firstChild;}else{var Tl=jM.firstChild.nodeName;if(Tl.toLowerCase()==='xml'){jn=jM.firstChild.nextSibling;}else{jn=jM.firstChild;}}var dM=Vf(jn);if(dM.nodeName!=='pages'){throw 'ERROR: pages';}if(dM.hasChildNodes()){var C;for(C=0;C<dM.childNodes.length;C++){var ak=dM.childNodes[C];if(ak.nodeName!=='page'){continue;}var xO=ak.getAttribute('id');var nv=false;var tw;var qW='';var Hq=[];var il;var pf,bz=0;var dJ,bX,ad;if(Xz){var aaR=ak.getAttribute('pageWidth'),acB=ak.getAttribute('pageHeight');if(aaR){Xz.aau(aaR);}if(acB){Xz.aaQ(acB);}}var oc=[],Lk={},bK;if((xO&&parseInt(xO,10))===(bO+1)){nv=true;var Ha=[];var bB;var aA;var km,fX,qX,rr,rM,gi;var mC=1;var alv=avB(ak,aZ,ay);if(alv>0){mC=alv;}for(bB=0;bB<ak.childNodes.length;bB++){var az=ak.childNodes[bB];if(az.nodeName!=='annotation'){continue;}var iz=parseFloat(az.getAttribute('width'))*mC;var iP=parseFloat(az.getAttribute('height'))*mC;var ht=parseFloat(az.getAttribute('x'))*mC;var ho=parseFloat(az.getAttribute('y'))*mC;var aaw=az.getAttribute('fillColor'),Za,pH,aay=az.getAttribute('lineColor'),aly,jm,acb=az.getAttribute('fontColor'),ake,Aw;if(aaw==='transparent'){Za=pH=aaw;}else{Za=parseInt(aaw||0,10);pH=parseInt(Za,10).toString(16);while(pH.length<6){pH='0'+pH;}pH='#'+pH;}if(aay==='transparent'){jm=aay;}else{aly=parseInt(aay||0,10);jm=parseInt(aly,10).toString(16);while(jm.length<6){jm='0'+jm;}jm='#'+jm;}if(acb){ake=parseInt(acb||0,10);Aw=parseInt(ake,10).toString(16);while(Aw.length<6){Aw='0'+Aw;}Aw='#'+Aw;}var apE=az.getAttribute('stampSize');var NH=az.getAttribute('dragDirection');var Ib=parseInt(az.getAttribute('opacity'),10);if(isNaN(Ib)){Ib=255;}if(az.nodeName==='annotation'){var akL=az.getAttribute('label');if(!akL){akL='';}var kN=az.getAttribute('drawType');var kS;switch(kN){case 'imagestamp':case 'imagestamp_redact':var qJ=az.getAttribute('imageStampId');var ab=(kN==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;aA=new IPCC.Web.UI.Mark(ab);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_image(stampImages[qJ].base64format);aA.qJ=qJ;km=true;if(kN==='imagestamp_redact'){aA.ll(true);}break;case 'circle':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});km=true;aA.set_lineColor(jm);aA.set_fillVisible(false);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});km=true;aA.set_fillColor(pH);aA.set_lineColor(jm);aA.set_fillVisible(true);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));break;case 'text':case 'text_redact':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fontName('verdana');aA.set_fontSize(10);aA.set_opacity(0);tw=undefined;aA.set_fillColor('#000000');if(kN==='text_redact'){aA.ll(true);}if(kN==='text'){aA.set_fillColor(pH);aA.set_lineColor(jm);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));aA.set_fillVisible(true);aA.set_opacity(Ib);}gi=parseInt(az.getAttribute('maxLength'));if(!isNaN(gi)){aA.set_maxLength(gi);}oc=[];fX=az.firstChild;while((fX)&&(fX.nodeType!==4)){fX=fX.nextSibling;}if((fX)&&(fX.nodeType===4)){kS=fX.innerText||fX.textContent||fX.data;aA.ae.bQ=kS;pf=kS.split("</TEXTFORMAT>");qW='';Hq=[];for(bz=0;bz<pf.length;bz++){if(pf[bz].match(/<TEXTFORMAT/)){pf[bz]=pf[bz]+"</TEXTFORMAT>";oc.push(pf[bz]);}}for(bz=0;bz<oc.length;bz++){if(oc[bz].match(/<P/)){tw=this.aiO(oc[bz]);Hq.push(tw);qW+=tw+" ";if(bz===0){il=this.ajA(oc[bz]);ajE(il,aA);}}qW=qW.replace(/\s+$/g,"");aA.set_text(qW);var Ic=this.ahU(oc[bz]);switch(Ic){case 'CENTER':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bM=aA.qx();if(NH==='br'){bM.setPoint(1,new IPCC.Web.UI.Point(ht+iz,ho+iP));bM.setPoint(0,new IPCC.Web.UI.Point(ht,ho));}else if(NH==='bl'){bM.setPoint(1,new IPCC.Web.UI.Point(ht,ho+iP));bM.setPoint(0,new IPCC.Web.UI.Point(ht+iz,ho));}else if(NH==='tr'){bM.setPoint(1,new IPCC.Web.UI.Point(ht+iz,ho));bM.setPoint(0,new IPCC.Web.UI.Point(ht,ho+iP));}else if(NH==='tl'){bM.setPoint(1,new IPCC.Web.UI.Point(ht,ho));bM.setPoint(0,new IPCC.Web.UI.Point(ht+iz,ho+iP));}aA.set_lineColor(jm);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));if(kN==='arrow'){aA.set_headFillColor(jm);aA.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);aA.set_startHeadAngle(30);aA.set_startHeadLength(35);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fillColor(jm);if(kN==='stamp_redact'){aA.ll(true);aA.set_fillColor('#000000');}fX=az.firstChild;while((fX)&&(fX.nodeType!==4)){fX=fX.nextSibling;}if((fX)&&(fX.nodeType===4)){kS=fX.innerText||fX.textContent||fX.data;aA.ae.bQ=kS;aA.set_text(kS);}break;case 'highlightText':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fillColor(jm);aA.bH=az.getAttribute('highlightGroupID');if(az.getAttribute('textLength')){aA.dJ=parseInt(az.getAttribute('textLength'),10);}aA.bX=az.getAttribute('selectedText');if(az.getAttribute('startIndex')){aA.ad=parseInt(az.getAttribute('startIndex'),10);}aA.kk=az.getAttribute('isHighlight');aA.set_opacity(127);bK=SJ(az,mC);if(bK){aA.bK=bK;}break;case 'rectangle_filled_redact':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fillColor(pH||'#000000');aA.set_lineColor(jm);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));aA.set_textColor(Aw||'#ffffff');aA.set_fillVisible(true);aA.ll(true);qX=az.getAttribute('highlightGroupID');aA.set_text(IPCC.h.vN(az.getAttribute('meta')));if(qX){aA.set_lineWidth(0);aA.bH=qX;var fh=Lk[qX];if(!fh){fh=Lk[qX]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fh.bH=qX;fh.set_rectangle(aA.get_rectangle());fh.ll(true);fh.set_text(IPCC.h.vN(az.getAttribute('meta')));}else{var Jy=false;var qU=fh.get_rectangle();var fR=qU.x,iF=qU.x+qU.width,_top=qU.y,it=qU.y+qU.height;if(qU.x>ht){Jy=true;fR=ht;}if(qU.y>ho){Jy=true;_top=ho;}if(qU.x+qU.width<ht+iz){Jy=true;iF=ht+iz;}if(qU.y+qU.height<ho+iP){Jy=true;it=ho+iP;}if(Jy===true){fh.set_rectangle({x:fR,y:_top,width:iF-fR,height:it-_top});}}}break;case 'text_selection_redaction':qX=az.getAttribute('highlightGroupID');aA=Lk[qX];if(!aA){aA=Lk[qX]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);aA.bH=qX;aA.set_rectangle({x:0,y:0,width:0,height:0});aA.ll(true);aA.set_text(az.getAttribute('meta'));}dJ=az.getAttribute('textLength');if(dJ){aA.dJ=parseInt(dJ,10);}bX=az.getAttribute('selectedText');if(bX){aA.bX=bX;}ad=az.getAttribute('startIndex');if(ad){aA.ad=parseInt(ad,10);}break;case 'text_hyperlink_annotation':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);aA.set_fillColor(jm);qX=az.getAttribute('highlightGroupID');aA.bH=qX;var lh=az.getAttribute('href');if(lh){aA.set_href(IPCC.h.vN(lh));}dJ=az.getAttribute('textLength');if(dJ){aA.dJ=parseInt(dJ,10);}bX=az.getAttribute('selectedText');if(bX){aA.bX=bX;}ad=az.getAttribute('startIndex');if(ad){aA.ad=parseInt(ad,10);}var kk=az.getAttribute('isHighlight');aA.kk=kk?kk:'n';aA.bK=SJ(az,mC);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});break;case 'rectangle':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_lineVisible(true);aA.set_lineColor(jm);aA.set_fillVisible(false);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));break;case 'rectangle_filled':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fillColor(pH);aA.set_lineColor(jm);aA.set_fillVisible(true);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fillColor(pH);aA.set_lineColor(jm);aA.set_fillVisible(true);if(kN==='rectangle_trans_redact'){aA.ll(true);}aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kN==='freehand'){aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(az.getAttribute('align').toUpperCase()){case 'LEFT':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_pathWidth(parseFloat(az.getAttribute('pathWidth')));aA.set_pathHeight(parseFloat(az.getAttribute('pathHeight')));aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));aA.set_lineColor(jm);var va=az.firstChild;while((va)&&(va.nodeType!==4)){va=va.nextSibling;}if((va)&&(va.nodeType===4)){kS=va.innerText||va.textContent||va.data;aA.ae.bQ=kS;aA.set_pathString(kS);}break;case 'signature_text':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fontSize(10);aA.set_lineWidth=0;aA.set_fillVisible(true);aA.set_opacity(1);fX=az.firstChild;this.Ti(fX,aA);aA.zF=parseFloat(az.getAttribute('fontWidth'));aA.zN=parseFloat(az.getAttribute('fontHeight'));break;case 'text_area_signature':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_fontName('verdana');tw=undefined;gi=parseInt(az.getAttribute('maxLength'));if(!isNaN(gi)){aA.set_maxLength(gi);}var jF=parseInt(az.getAttribute('maxFontSize'));if(!isNaN(jF)){aA.set_maxFontSize(jF);}fX=az.firstChild;this.Ti(fX,aA);break;case 'text_input_signature':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});fX=az.firstChild;this.Ti(fX,aA);aA.zF=parseFloat(az.getAttribute('fontWidth'));aA.zN=parseFloat(az.getAttribute('fontHeight'));aA.set_lineVisible(false);gi=parseInt(az.getAttribute('maxLength'));if(!isNaN(gi)){aA.set_maxLength(gi);}ask(az,aA);break;case 'polyline':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));aA.set_lineColor(jm);var uC=az.firstChild;while((uC)&&(uC.nodeType!==4)){uC=uC.nextSibling;}var GZ;if((uC)&&(uC.nodeType===4)){kS=uC.innerText||uC.textContent||uC.data;if(kS&&kS!=='undefined'){GZ=JSON.parse(kS);bM=aA.qx();if(GZ){for(C=0;C<GZ.length;C++){bM.addPoint(new IPCC.Web.UI.Point(GZ[C].x*mC,GZ[C].y*mC));}}}}break;case 'strikethrough':aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);aA.set_rectangle({x:ht,y:ho,width:iz,height:iP});aA.set_lineWidth(parseFloat(az.getAttribute('lineWidth')));aA.set_lineColor(jm);aA.bH=az.getAttribute('highlightGroupID');var textLength=az.getAttribute('textLength');if(textLength){aA.dJ=parseInt(textLength,10);}aA.bX=az.getAttribute('selectedText');var startIndex=az.getAttribute('startIndex');if(startIndex){aA.ad=parseInt(startIndex,10);}aA.kk=az.getAttribute('isHighlight');bK=SJ(az,mC);if(bK){aA.bK=bK;}break;default:}if(aA){aA.ae.hS=az.getAttribute('nodeId');if(Ib>=0&&(kN==='rectangle_trans_redact'|| !aA.iX())&&kN!=='stamp'&&kN!=='imagestamp'&&kN!=='imagestamp_redact'&&kN!=='text_hyperlink_annotation'&&kN!=='text_input_signature'&&kN!=='text_area_signature'&&kN!=='strikethrough'){aA.set_opacity(Ib);}aA.ae.Gu=apE;aA.ae.aIE=kN;aA.ae.eb=az.getAttribute('lineWidth');aA.ae.ea=az.getAttribute('fillColor');aA.ae.kV=az.getAttribute('lineColor');aA.ae.aHC=az.getAttribute('dragDirection');aA.ae.xO=xO;aA.ae.bh=az.getAttribute('x');aA.ae.dN=az.getAttribute('y');aA.ae.ah=az.getAttribute('height');aA.ae.bJ=az.getAttribute('width');aA.ae.aFu=az.getAttribute('x_percent');aA.ae.aGD=az.getAttribute('y_percent');aA.ae.aHV=az.getAttribute('height_percent');aA.ae.aFJ=az.getAttribute('width_percent');aA.ae.aHt=az.getAttribute('formUser');aA.ae.aHB=az.getAttribute('created');aA.ae.aIc=az.getAttribute('modified');aA.ae.aHk=az.getAttribute('saveDate');aA.ae.aHf=az.getAttribute('saveTime');aA.ae.ki=az.getAttribute('meta');var BV=az.firstChild;while((BV)&&(BV.nodeType!==4)){BV=BV.nextSibling;}if((BV)&&(BV.nodeType===4)){aA.db.push(BV.data);}else{aA.db.push('');}var lU=parseInt(az.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;aA.set_interactionMode(lU);aA.nx(this);aA.add_propertyChanged(nQ);aA.add_markTextSelectionChanged(xm);aA.vu(Qo);aA.vD(OJ);aA.tg(PM);Ha.push(aA);asO(az,aA);rr=IPCC.h.afu(az.getAttribute('created'));rM=IPCC.h.afu(az.getAttribute('modified'));rr=rr||new Date();rM=rM||new Date();aA.initializeDates(rr,rM);if(uU){aA.set_visible(false);}}}}bd=bd.concat(Ha);F.bV('marksLoaded',{});}if(nv){auF(jM,bO);break;}}}}};this.Ti=function(uu,aA){var C,kS,pf,qW,Hq,tw,oc=[],xS=aA.get_type()===IPCC.Web.UI.MarkType.SignatureText,aEd=xS?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,il;while((uu)&&(uu.nodeType!==4)){uu=uu.nextSibling;}if((uu)&&(uu.nodeType===4)){kS=uu.innerText||uu.textContent||uu.data;aA.ae.bQ=kS;pf=kS.split("</TEXTFORMAT>");for(C=0;C<pf.length;C++){if(pf[C].match(/<TEXTFORMAT/)){pf[C]=pf[C]+"</TEXTFORMAT>";oc.push(pf[C]);}}qW='';Hq=[];for(C=0;C<oc.length;C++){if(oc[C].match(/<P/)){tw=this.aiO(oc[C]);Hq.push(tw);qW+=tw+" ";if(C===0){il=this.ajA(oc[C]);ajE(il,aA);}}qW=qW.replace(/\s+$/g,"");aA.set_text(qW);var Ic=this.ahU(oc[C]);switch(Ic){case 'LEFT':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aA.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aA.set_textHorizontalAlignment(aEd);break;}}}};function TA(ahA,dI){for(var i=0;i<ahA.childNodes.length;i++){var aas=ahA.childNodes[i];if(aas.nodeName==='kvp'){var ap=aas.getAttribute("key");var V=aas.getAttribute("value");dI.set_data(ap,V);}}};function atw(QC,ci){var dQ=new IPCC.Web.UI.Comment(IPCC.h.vN(QC.getAttribute("text")));dQ.set_creationTime(QC.getAttribute("created"));ci.addComment(dQ);for(var i=0;i<QC.childNodes.length;i++){var alb=QC.childNodes[i];if(alb.nodeName==='data'){TA(alb,dQ.get_data());}}};function aug(ajI,ci){for(var i=0;i<ajI.childNodes.length;i++){var Qa=ajI.childNodes[i];if(Qa.nodeName==='comments'){var fO=Qa;for(var j=0;j<fO.childNodes.length;j++){var akV=fO.childNodes[j];if(akV.nodeName==='comment'){atw(akV,ci);}}}else if(Qa.nodeName==='data'){TA(Qa,ci.get_data());}}};function asO(It,G){for(var i=0;i<It.childNodes.length;i++){var uz=It.childNodes[i];if(uz.nodeName==='conversation'){aug(uz,G.get_conversation());}else if(uz.nodeName==='data'){TA(uz,G.get_data());}}};function ask(It,G){var V=null,Hj={};for(var i=0;i<It.childNodes.length;i++){var uz=It.childNodes[i];if(uz.nodeName==='inputMask'){V=IPCC.h.vN(uz.getAttribute('value'));for(var j=0;j<uz.childNodes.length;j++){var WE=uz.childNodes[j];if(WE.nodeName==='translation'){Hj[IPCC.h.vN(WE.getAttribute('key'))]=new RegExp(IPCC.h.vN(WE.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(V!==null){G.set_mask({value:V,translations:Hj});}};function SJ(rK,vL){var gc=null,iM;for(var i=0;i<rK.childNodes.length;i++){iM=rK.childNodes[i];if(iM.nodeName==='line-rectangles'){if(!gc){gc=asY(iM,vL);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return gc;};function asY(rK,vL){var gc=[],iM;for(var i=0;i<rK.childNodes.length;i++){iM=rK.childNodes[i];if(iM.nodeName==='rectangle'){gc.push(arO(iM,vL));}}return gc;};function arO(rK,vL){var bh=parseFloat(rK.getAttribute("x"))*vL;var dN=parseFloat(rK.getAttribute("y"))*vL;var bJ=parseFloat(rK.getAttribute("width"))*vL;var ah=parseFloat(rK.getAttribute("height"))*vL;return new IPCC.Web.UI.Rectangle(bh,dN,bJ,ah);};this.YD=function(aN,GW,tn,jd,cD,bf){var aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aA.set_rectangle({x:aN.x,y:aN.y,width:aN.width,height:aN.height});aA.set_fillColor(tn);aA.set_fillVisible(true);aA.ad=bf;aA.dJ=1;if(cD){aA.set_opacity(cD);}else{aA.set_opacity(127);}F.addMark(aA);return aA;};this.aBS=function(aN,Yy,bf){var aA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aA.set_rectangle({x:aN.x,y:aN.y,width:aN.width,height:aN.height});aA.set_fillColor(Yy.get_fillColor());aA.set_fillVisible(true);aA.ad=bf;aA.dJ=1;if(Yy.get_opacity()){aA.set_opacity(Yy.get_opacity());}else{aA.set_opacity(127);}F.addMark(aA);return aA;};function ajE(il,aA){for(var da=0;da<il.length;da++){var cs=il[da].attribs;var nv=false;if(il[da].attribs.length>1&& !nv&&il[da].Hc==='font'){nv=true;for(var bB=0;bB<cs.length;bB++){if(cs[bB].bq==="FACE"){aA.set_fontName(cs[bB].V);}else if(cs[bB].bq==="SIZE"&&aA.get_type()!==IPCC.Web.UI.MarkType.TextLine&&aA.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rH=parseFloat(cs[bB].V);aA.set_fontSize(rH);}else if(cs[bB].bq==="COLOR"){var akY=cs[bB].V;if(aA.get_type()===IPCC.Web.UI.MarkType.SignatureText){aA.set_fillColor(akY);}else{aA.set_textColor(akY);}}}var jS=false;if(il[da+1]&&aA.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(il[da+1].tagName==='font'){break;}else{var yV=il[da+1].Hc;if(yV==='b'||yV==='i'||yV==='u'||yV==='s'){if(yV==='b'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(yV==='i'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(yV==='u'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(yV==='s'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}jS=true;}}if(il[da+2]){var asZ=il[da+2].Hc;jS=SZ(aA,jS,asZ);}if(il[da+3]){var art=il[da+3].Hc;jS=SZ(aA,jS,art);}if(il[da+4]){var asB=il[da+4].Hc;jS=SZ(aA,jS,asB);}if(nv){break;}}}}};function SZ(G,apb,ys){var jS=apb;var aA=G;if(apb){if(ys==='b'){aA.set_fontStyle(aA.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);jS=true;}else if(ys==='i'){aA.set_fontStyle(aA.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);jS=true;}else if(ys==='u'){aA.set_fontStyle(aA.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);jS=true;}else if(ys==='s'){aA.set_fontStyle(aA.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);jS=true;}}else{if(ys==='b'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);jS=true;}else if(ys==='i'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);jS=true;}else if(ys==='u'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);jS=true;}else if(ys==='s'){aA.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);jS=true;}}return jS;};function Ek(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var afs=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,agW=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,aoy=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aCd=Ek("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var oU=Ek("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aEq=Ek("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var asN=Ek("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aEp=Ek("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aDs=Ek("script,style");this.aiK=function(html,handler){var bf,vB,vs,mg=[],kn=html;function parseEndTag(tag,tagName){var gw;if(!tagName){gw=0;}else{for(gw=mg.length-1;gw>=0;gw--){if(mg[gw]===tagName){break;}}}if(gw>=0){for(var i=mg.length-1;i>=gw;i--){if(handler.end){handler.end(mg[i]);}}mg.length=gw;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(oU[tagName]){while(mg.last()&&aEq[mg.last()]){parseEndTag("",mg.last());}}if(asN[tagName]&&mg.last()===tagName){parseEndTag("",tagName);}unary=aCd[tagName]|| ! !unary;if(!unary){mg.push(tagName);}if(handler.start){var attrs=[];rest.replace(aoy,function(vs,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aEp[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};mg.last=function(){return this[this.length-1];};function awF(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){vB=true;if(!mg.last()|| !aDs[mg.last()]){if(html.indexOf("<!--")===0){bf=html.indexOf("-->");if(bf>=0){if(handler.comment){handler.comment(html.substring(4,bf));}html=html.substring(bf+3);vB=false;}}else if(html.indexOf("</")===0){vs=html.match(agW);if(vs){html=html.substring(vs[0].length);vs[0].replace(agW,parseEndTag);vB=false;}}else if(html.indexOf("<")===0){vs=html.match(afs);if(vs){html=html.substring(vs[0].length);vs[0].replace(afs,parseStartTag);vB=false;}}if(vB){bf=html.indexOf("<");var text=bf<0?html:html.substring(0,bf);text=IPCC.h.vN(text);html=bf<0?"":html.substring(bf);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+mg.last()+"[^>]*>"),awF);parseEndTag("",mg.last());}if(html===kn){throw " Parse Error in annotation Html Text: "+html;}kn=html;}parseEndTag();};this.aiO=function(html){var results="";this.aiK(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.ajA=function(html){var ee=[];this.aiK(html,{start:function(tag,attrs){var dS;dS=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xU={};xU.Hc=tag;xU.attribs=[];if(tag==='b'){xU.aHP=true;}else if(tag==='i'){xU.aHp=true;}else if(tag==='u'){xU.aHQ=true;}else if(tag==='s'){xU.aIf=true;}else{for(var i=0;i<attrs.length;i++){var AT={};AT.bq=attrs[i].name;AT.V=attrs[i].value;xU.attribs.push(AT);}}ee.push(xU);}},end:function(){},chars:function(){},comment:function(){}});return ee;};this.ahU=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function auF(jM,avK){var jQ=jM.getElementsByTagName("highlights")[0];if(jQ.hasChildNodes()){var kv;var df;for(var C=0;C<jQ.childNodes.length;C++){kv=jQ.childNodes[C];if(kv.nodeType===1){df=kv.getAttribute('page');if(df&&parseInt(df,10)===avK+1){var jk=new IPCC.Web.UI.XB();jk.aBV=kv.nodeName;switch(jk.aBV){case 'tag':jk.Fg=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jk.Fg=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jk.Fg=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jk.Fg=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':jk.Fg=IPCC.Web.UI.HighLightType.Strikethrough;break;default:jk.Fg=undefined;}if(kv.childNodes[0].data){jk.db.push(kv.childNodes[0].data);}jk.ae.dO=kv.getAttribute('id');jk.ae.aHY=kv.getAttribute('userid');jk.ae.aIv=kv.getAttribute('mode');jk.ae.dh=kv.getAttribute('color');jk.ae.aHn=kv.getAttribute('occurence');jk.ae.az=kv.getAttribute('annotation');jk.ae.ak=kv.getAttribute('page');jk.ae.aHU=kv.getAttribute('documentname');jk.ae.aHu=kv.getAttribute('tooltip');jk.ae.aIw=kv.getAttribute('allowdelete');jk.ae.mu=kv.getAttribute('start');jk.ae.aHc=kv.getAttribute('end');F.aCb.push(jk);}}}}};this.Wx=function(){var H;if(bd.length<1){return;}eg.removeAllMarks();var C;for(C=bd.length-1;C>=0;C--){bd[C].remove_propertyChanged(nQ);bd[C].remove_markTextSelectionChanged(xm);bd[C].nx(null);H=new IPCC.Web.UI.MarkEventArgs();H.length=bd.length;H.zIndex=0;H.mark=bd.pop();F.bV('markRemoved',H);}H=new IPCC.Web.UI.MarkEventArgs();H.length=bd.length;H.zIndex=0;F.bV('markRemoved',H);};this.uV=function(G){var kp=this.ow(G);var wG=G.bH;if(kp>=0){G.remove_propertyChanged(nQ);G.remove_markTextSelectionChanged(xm);G.nx(null);bd.splice(kp,1);eg.removeMark(G);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;H.zIndex=kp;H.length=1;F.bV('markRemoved',H);if(wG){this.aDu(wG);}}};this.aIC=function(pV){var vf=bd.length;var wG=pV.bH;while(vf--){var G=bd[vf];if(G.bH===wG){G.set_fillColor(pV.get_fillColor());}}};this.awW=function(pV){var vf=bd.length;var wG=pV.bH;if(!wG){pV.set_text(pV.get_text());return;}while(vf--){var G=bd[vf];if(G.bH===wG){if(G.get_text()!==pV.get_text()){G.set_text(pV.get_text());}if(G.get_fontName()!==pV.get_fontName()){G.set_fontName(pV.get_fontName());}if(G.get_fontSize()!==pV.get_fontSize()){G.set_fontSize(pV.get_fontSize());}}}};this.aDu=function(wG){var vf=bd.length;while(vf--){var G=bd[vf];if(G.bH===wG){var kp=this.ow(G);eg.removeMark(G);bd.splice(vf,1);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;H.zIndex=kp;H.length=1;}}};this.aft=function(G,kp){var PN=this.ow(G);if(PN<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(PN===kp){return;}ajS(kp);bd.splice(PN,1);bd.splice(kp,0,G);if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bH!==undefined)){return;}var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;H.zIndex=kp;H.oldZIndex=PN;H.length=1;F.bV('markReordered',H);};function TM(gc,eB,fw){if(!gc){return undefined;}var hZ={gm:'line-rectangles',db:[],ae:{}};IPCC.h.forEach(gc,function(J){hZ.db.push({gm:'rectangle',db:[],ae:{x:J.x,y:J.y,height:J.height,width:J.width}});});return hZ;};function arq(iV){if(!iV){return undefined;}var hZ={gm:'inputMask',db:[],ae:{value:IPCC.h.qb(iV.value)}};IPCC.h.forEach(iV.translations,function(V,ap){hZ.db.push({gm:'translation',db:[],ae:{key:IPCC.h.qb(ap),value:IPCC.h.qb(V.toString())}});});return hZ;};function Ut(dI){if(!dI){return undefined;}var ml=dI.get_dataKeys();if(ml.length===0){return undefined;}var hZ={gm:'data',db:[],ae:{}};IPCC.h.forEach(ml,function(ap){var V=dI.get_data(ap);hZ.db.push({gm:'kvp',db:[],ae:{key:ap,value:V}});});return hZ;};function avY(dQ){if(!dQ){return undefined;}var zo={gm:'comment',db:[],ae:{}};zo.ae.text=IPCC.h.qb(dQ.get_text());zo.ae.created=dQ.get_creationTime();var hZ=Ut(dQ.get_data());if(hZ){zo.db.push(hZ);}return zo;};function atc(ci){if(!ci||ci.get_length()===0){return undefined;}var Sr={gm:'conversation',db:[],ae:{}};var aco={gm:'comments',db:[],ae:{}};Sr.db.push(aco);ci.forEach(function(dQ){var zo=avY(dQ);if(zo){aco.db.push(zo);}});var hZ=Ut(ci.get_data());if(hZ){Sr.db.push(hZ);}return Sr;};this.aqJ=function(G,eB,fw,tF){var ab=G.get_type();var kK=false;var hK;var gY;var agt;var Ys;var gn,sn,sI,bQ;var bk={gm:'annotation',db:[],ae:{}};if(!G.ae.hS){bk.ae.nodeId=F.aqP();}else{bk.ae.nodeId=G.ae.hS;}var HD,BJ="",ou="";if(G.get_lineColor()){var aaP=G.get_lineColor();if(aaP==='transparent'){bk.ae.lineColor=aaP;}else{HD=aaP.replace(/#/,"");BJ=parseInt(HD,16);ou=BJ.toString();bk.ae.lineColor=ou;}}bk.ae.interactionMode=G.get_interactionMode();bk.ae.stampSize='122';var PQ={};PQ[IPCC.Web.UI.MarkType.Stamp]=true;PQ[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;PQ[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((ab===IPCC.Web.UI.MarkType.Rectangle&&G.get_opacity()<255|| !G.iX())&&PQ[ab]!==true){bk.ae.opacity=G.get_opacity();}if(G.get_conversation().get_length()>0){bk.db.push(atc(G.get_conversation()));}var hZ=Ut(G.get_data());if(hZ){bk.db.push(hZ);}kK=false;switch(ab){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:gY=G.get_fillColor();if(gY==='transparent'){bk.ae.fillColor=gY;}else if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}if(G.get_fillVisible()){if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(G.get_opacity()===255){if(G.iX()===true){bk.ae.drawType='rectangle_filled_redact';if(G.bH){bk.ae.highlightGroupID=G.bH;}}else{bk.ae.drawType='rectangle_filled';}}else{if(G.iX()===true){bk.ae.drawType='rectangle_trans_redact';}else{bk.ae.drawType='rectangle_trans';}}}else{if(G.get_opacity()===255){bk.ae.drawType='circle_filled';if(G.iX()){bk.ae.drawType='circle_filled_redact';}}else{bk.ae.drawType='circle_trans';if(G.iX()){bk.ae.drawType='circle_trans_redact';}}}}else{if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){bk.ae.drawType='rectangle';bk.ae.fillColor=ou;}else{bk.ae.drawType='circle';bk.ae.fillColor=ou;}}bk.ae.dragDirection='br';var J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bk.ae.lineWidth=G.get_lineWidth();kK=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bk.ae.highlightGroupID=G.bH;bk.ae.drawType='text_selection_redaction';if(G.bX&&G.bX.length>0){bk.ae.startIndex=G.ad;bk.ae.selectedText=G.bX;bk.ae.textLength=G.dJ;}break;case IPCC.Web.UI.MarkType.Text:var jL=G.get_rectangle();bk.ae.x=jL.x;bk.ae.y=jL.y;bk.ae.x_percent=jL.x/eB;bk.ae.y_percent=jL.y/fw;bk.ae.height_percent=jL.height/fw;bk.ae.width_percent=jL.width/eB;bk.ae.height=jL.height;bk.ae.width=jL.width;bk.ae.maxLength=G.get_maxLength();gY=G.get_fillColor();if(G.iX()===true){bk.ae.drawType='text_redact';}else{bk.ae.drawType='text';bk.ae.opacity=G.get_opacity();}if(gY==='transparent'){bk.ae.fillColor=gY;}else if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();}else{bk.ae.fillColor='16776960';}var bo='';bo="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bo+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bo+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bo+="<P ALIGN=\"right\" ";break;}bo+=">";bo+="<FONT ";sn=G.get_fontName();bo+="FACE="+"\""+sn+"\" ";sI=G.get_fontSize().toString();bo+="SIZE= \""+sI+"\" ";gn="\""+G.get_textColor()+"\" ";bo+="COLOR="+gn+" ";bo+="LETTERSPACING=\"0\" ";bo+="KERNING=\"0\" ";bo+=">";var cn=G.get_fontStyle();if(cn&IPCC.Web.UI.FontStyle.Bold){bo+="<B>";}if(cn&IPCC.Web.UI.FontStyle.Italic){bo+="<I>";}if(cn&IPCC.Web.UI.FontStyle.Underline){bo+="<U>";}if(cn&IPCC.Web.UI.FontStyle.Strikeout){bo+="<S>";}bQ=G.get_text();bQ=IPCC.h.qb(bQ);bo+=bQ;if(cn&IPCC.Web.UI.FontStyle.Strikeout){bo+="</S>";}if(cn&IPCC.Web.UI.FontStyle.Underline){bo+="</U>";}if(cn&IPCC.Web.UI.FontStyle.Italic){bo+="</I>";}if(cn&IPCC.Web.UI.FontStyle.Bold){bo+="</B>";}bo+="</FONT>";bo+="</P>";bo+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.drawType='highlight';bk.ae.highlightGroupID=G.bH;bk.ae.isHighlight=G.kk;gY=G.get_fillColor();if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();bk.ae.lineColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.drawType='text_hyperlink_annotation';bk.ae.href=IPCC.h.qb(G.lh);bk.ae.startIndex=G.ad;bk.ae.selectedText=G.bX;bk.ae.textLength=G.dJ;bk.ae.highlightGroupID=G.bH;bk.ae.isHighlight=G.kk;gY=G.get_fillColor();if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();bk.ae.lineColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}bk.db.push(TM(G.bK,eB,fw));break;case IPCC.Web.UI.MarkType.HighlightText:J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.drawType='highlightText';bk.ae.startIndex=G.ad;bk.ae.selectedText=G.bX;bk.ae.textLength=G.dJ;bk.ae.highlightGroupID=G.bH;bk.ae.isHighlight=G.kk;gY=G.get_fillColor();if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();bk.ae.lineColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}bk.db.push(TM(G.bK,eB,fw));break;case IPCC.Web.UI.MarkType.RectangleRedaction:J=G.get_rectangle();bk.ae.drawType='rectangle_filled_redact';bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.meta=IPCC.h.qb(G.get_text());bk.ae.stampSize=G.get_fontSize();bk.ae.lineWidth=G.get_lineWidth();gY=G.get_fillColor();if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}HD=G.get_lineColor();if(HD){BJ=HD.replace(/#/,"");bk.ae.lineColor=parseInt(BJ,16).toString();}else{bk.ae.lineColor=ou;}Ys=G.get_textColor();if(Ys){agt=Ys.replace(/#/,"");bk.ae.fontColor=parseInt(agt,16).toString();}else{bk.ae.fontColor=ou;}if(G.bH){bk.ae.highlightGroupID=G.bH;}break;case IPCC.Web.UI.MarkType.Stamp:gY=G.get_fillColor();if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor=parseInt(hK,16).toString();bk.ae.lineColor=parseInt(hK,16).toString();}else{bk.ae.fillColor=ou;}J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;if(G.iX()===true){bk.ae.drawType='stamp_redact';}else{bk.ae.drawType='stamp';}bQ=G.get_text();bk.ae.stampSize=G.stampSize;bk.db.push('<![CDATA['+bQ+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){bk.ae.drawType='freehand';}else{bk.ae.drawType='signature_path';switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bk.ae.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bk.ae.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bk.ae.align='right';break;}}bo=G.get_pathString();bk.ae.pathWidth=G.get_pathWidth();bk.ae.pathHeight=G.get_pathHeight();J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;break;case IPCC.Web.UI.MarkType.SignatureText:gY=G.get_fillColor();var ea;if(gY){hK=gY.replace(/#/,"");bk.ae.fillColor="";bk.ae.lineColor="";ea=parseInt(hK,16).toString();}else{bk.ae.fillColor="";ea=ou;}J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.opacity=0;bk.ae.drawType='signature_text';bk.ae.stampSize=G.stampSize;bk.ae.fontWidth=G.zF;bk.ae.fontHeight=G.zN;bo='';bo="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bo+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bo+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bo+="<P ALIGN=\"right\" ";break;}bo+=">";bo+="<FONT ";sn=G.get_fontName();bo+="FACE="+"\""+sn+"\" ";sI=G.stampSize.toString();bo+="SIZE= \""+sI+"\" ";gn="\""+G.get_fillColor()+"\" ";bo+="COLOR="+gn+" ";bo+="LETTERSPACING=\"0\" ";bo+="KERNING=\"0\" ";bo+=">";bQ=IPCC.h.qb(G.get_text());bo+=bQ;bo+="</FONT>";bo+="</P>";bo+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:jL=G.get_rectangle();bk.ae.x=jL.x;bk.ae.y=jL.y;bk.ae.x_percent=jL.x/eB;bk.ae.y_percent=jL.y/fw;bk.ae.height_percent=jL.height/fw;bk.ae.width_percent=jL.width/eB;bk.ae.height=jL.height;bk.ae.width=jL.width;bk.ae.maxLength=G.gi;bk.ae.maxFontSize=G.jF;if(tF){bk.ae.drawType='text';}else{bk.ae.drawType='text_area_signature';}bk.ae.fillColor='transparent';bo='';bo="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bo+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bo+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bo+="<P ALIGN=\"right\" ";break;}bo+=">";bo+="<FONT ";sn=G.get_fontName();bo+="FACE="+"\""+sn+"\" ";sI=G.cO.toString();bo+="SIZE= \""+sI+"\" ";gn="\""+G.get_textColor()+"\" ";bo+="COLOR="+gn+" ";bo+="LETTERSPACING=\"0\" ";bo+="KERNING=\"0\" ";bo+=">";cn=G.get_fontStyle();if(cn&IPCC.Web.UI.FontStyle.Bold){bo+="<B>";}if(cn&IPCC.Web.UI.FontStyle.Italic){bo+="<I>";}if(cn&IPCC.Web.UI.FontStyle.Underline){bo+="<U>";}if(cn&IPCC.Web.UI.FontStyle.Strikeout){bo+="<S>";}bQ=G.get_text();bQ=IPCC.h.qb(bQ);bo+=bQ;if(cn&IPCC.Web.UI.FontStyle.Strikeout){bo+="</S>";}if(cn&IPCC.Web.UI.FontStyle.Underline){bo+="</U>";}if(cn&IPCC.Web.UI.FontStyle.Italic){bo+="</I>";}if(cn&IPCC.Web.UI.FontStyle.Bold){bo+="</B>";}bo+="</FONT>";bo+="</P>";bo+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!tF){J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.maxLength=G.get_maxLength();bk.ae.width_percent=J.width/eB;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.opacity=0;bk.ae.drawType='text_input_signature';bk.ae.stampSize=G.stampSize;bk.ae.fontWidth=G.zF;bk.ae.fontHeight=G.zN;bo='';bo="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bo+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bo+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bo+="<P ALIGN=\"right\" ";break;}bo+=">";bo+="<FONT ";sn=G.get_fontName();bo+="FACE="+"\""+sn+"\" ";sI=G.stampSize.toString();bo+="SIZE= \""+sI+"\" ";gn="\""+G.get_textColor()+"\" ";bo+="COLOR="+gn+" ";bo+="LETTERSPACING=\"0\" ";bo+="KERNING=\"0\" ";bo+=">";bQ=IPCC.h.qb(G.get_text());bo+=bQ;bo+="</FONT>";bo+="</P>";bo+="</TEXTFORMAT>";var acP=arq(G.get_mask());if(acP){bk.db.push(acP);}}else{J=G.get_rectangle();var CX=G.stampSize;var oj;if(!G.Fz|| !G.oj){var apI=IPCC.h.ahN(G.get_text(),G.get_fontName(),J.width,J.height,{wu:"pre",cO:CX+"px"});oj=apI;G.Fz=true;G.oj=oj;}else{oj=G.oj;}CX=oj.fontSize;var hC=oj.width/J.width,cc=1.0,MIN_BUFFER=0.85;if(/mono/i.test(G.get_fontName())){MIN_BUFFER=0.75;}if(hC>MIN_BUFFER){cc=MIN_BUFFER*J.width/oj.width;CX=CX*cc;}var akk=J.width,aDN=oj.height*cc,aln=J.height-(J.height-aDN)/2,akI=J.x,akJ=J.y+(J.height-oj.height)/2+(oj.height*(1-cc));bk.ae.x=akI;bk.ae.y=akJ;bk.ae.x_percent=akI/eB;bk.ae.y_percent=akJ/fw;bk.ae.height_percent=aln/fw;bk.ae.width_percent=akk/eB;bk.ae.height=aln;bk.ae.width=akk;bk.ae.opacity=0;bk.ae.drawType='text_redact';bo='';bo="<TEXTFORMAT>";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bo+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bo+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bo+="<P ALIGN=\"right\" ";break;}bo+=">";bo+="<FONT ";sn=G.get_fontName();bo+="FACE="+"\""+sn+"\" ";if(G.aEC){sI=(CX/G.aEC).toString();}else{sI=CX.toString();}bo+="SIZE= \""+sI+"\" ";gn="\""+G.get_textColor()+"\" ";bo+="COLOR="+gn+" ";bo+="LETTERSPACING=\"0\" ";bo+="KERNING=\"0\" ";bo+=">";bQ=IPCC.h.qb(G.get_text());bo+=bQ;bo+="</FONT>";bo+="</P>";bo+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bk.ae.drawType=(ab===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.lineWidth=G.get_lineWidth();bk.ae.x_percent=J.x/eB;bk.ae.y_percent=J.y/fw;bk.ae.height_percent=J.height/fw;bk.ae.width_percent=J.width/eB;bk.ae.imageStampId=G.qJ;break;case IPCC.Web.UI.MarkType.Strikethrough:J=G.get_rectangle();bk.ae.x=J.x;bk.ae.y=J.y;bk.ae.height=J.height;bk.ae.width=J.width;bk.ae.drawType='strikethrough';bk.ae.startIndex=G.ad;bk.ae.selectedText=G.bX;bk.ae.textLength=G.dJ;bk.ae.highlightGroupID=G.bH;bk.ae.isHighlight=G.kk;bk.db.push(TM(G.bK,eB,fw));break;}if(kK){bk.ae.lineWidth=G.get_lineWidth();var aN=G.get_boundingRectangle();bk.ae.x=aN.x;bk.ae.y=aN.y;bk.ae.x_percent=aN.x/eB;bk.ae.y_percent=aN.y/fw;bk.ae.height_percent=aN.height/fw;bk.ae.width_percent=aN.width/eB;bk.ae.height=aN.height;bk.ae.width=aN.width;if(ab===IPCC.Web.UI.MarkType.Line){if(G.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bk.ae.drawType='line';}else{bk.ae.drawType='arrow';}}else{bk.ae.drawType='polyline';}bk.ae.lineWidth=G.get_lineWidth();var bM=G.get_points();if(ab===IPCC.Web.UI.MarkType.Line){if((bM.getPoint(0).x<bM.getPoint(1).x)&&(bM.getPoint(0).y>bM.getPoint(1).y)){bk.ae.dragDirection='tr';}else if((bM.getPoint(0).x>bM.getPoint(1).x)&&(bM.getPoint(0).y>bM.getPoint(1).y)){bk.ae.dragDirection='tl';}else if((bM.getPoint(0).x>bM.getPoint(1).x)&&(bM.getPoint(0).y<bM.getPoint(1).y)){bk.ae.dragDirection='bl';}else if((bM.getPoint(0).x<bM.getPoint(1).x)&&(bM.getPoint(0).y<bM.getPoint(1).y)){bk.ae.dragDirection='br';}else{bk.ae.dragDirection='br';}}else{var wB=[];var cf=bM.get_length(),bn;if(cf>1){for(var bB=0;bB<bM.get_length();bB++){bn=bM.getPoint(bB);wB.push({x:bn.x,y:bn.y});}bo=JSON.stringify(wB);}}if(BJ){bk.ae.fillColor=BJ;}else{bk.ae.fillColor="";}}else{bk.ae.lineWidth=G.get_lineWidth();bk.ae.dragDirection='br';}if(G.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bk.ae.meta='';}bk.ae.label='';var eA=new Date();bk.ae.saveDate=IPCC.h.aBw(eA);bk.ae.saveTime=IPCC.h.aBT(eA);bk.ae.uuid='';bk.ae.formUser='';bk.ae.created=IPCC.h.ajC(G.get_dateCreated());bk.ae.modified=IPCC.h.ajC(G.get_dateModified());if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.Freehand||G.get_type()===IPCC.Web.UI.MarkType.SignaturePath||G.get_type()===IPCC.Web.UI.MarkType.SignatureText||G.get_type()===IPCC.Web.UI.MarkType.Polyline||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||G.get_type()===IPCC.Web.UI.MarkType.TextLine){bk.db.push('<![CDATA['+bo+']]>');}else{bk.db.push('');}return bk;};this.aAG=function(bO,eB,fw,au){var jn={gm:'documentAnnotations',db:[],ae:{}};var dM={gm:'pages',db:[],ae:{}};jn.db.push(dM);var jQ={gm:'highlights',db:[],ae:{}};jn.db.push(jQ);var uR={},ro=[];var ak={gm:'page',db:[],ae:{id:(bO+1).toString(),pageWidth:eB,pageHeight:fw}};dM.db.push(ak);au=au||{};var aiD=(au.includeAnnotations!==undefined)? ! !au.includeAnnotations:true,aiW=(au.includeRedactions!==undefined)? ! !au.includeRedactions:true,aix=(au.includeSignatures!==undefined)? ! !au.includeSignatures:false,tF=(au.tF!==undefined)? ! !au.tF:false,WQ=(au.Bh!==undefined)?au.Bh:false,aGd= ! !tF,amQ=WQ?WQ:bd;for(var C=0;C<amQ.length;C++){var G=amQ[C];var ab=G.get_type();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aGd&& !G.get_visible()){continue;}if(!WQ){if(aiD===false&&aiW===false&&aix===false){break;}if(aiD===false){if(ab===IPCC.Web.UI.MarkType.Rectangle||ab===IPCC.Web.UI.MarkType.Ellipse||ab===IPCC.Web.UI.MarkType.Line||ab===IPCC.Web.UI.MarkType.Text||ab===IPCC.Web.UI.MarkType.Stamp||ab===IPCC.Web.UI.MarkType.Highlight||ab===IPCC.Web.UI.MarkType.Strikethrough||ab===IPCC.Web.UI.MarkType.HighlightText||ab===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||ab===IPCC.Web.UI.MarkType.Freehand||ab===IPCC.Web.UI.MarkType.ImageStampAnnotation||ab===IPCC.Web.UI.MarkType.Polyline){if(G.iX()===false){continue;}}}if(aiW===false){if(G.iX()===true){continue;}if(ab===IPCC.Web.UI.MarkType.RectangleRedaction||ab===IPCC.Web.UI.MarkType.TextSelectionRedaction||ab===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aix===false){if(ab===IPCC.Web.UI.MarkType.SignaturePath||ab===IPCC.Web.UI.MarkType.SignatureText||ab===IPCC.Web.UI.MarkType.SignatureImage||ab===IPCC.Web.UI.MarkType.TextAreaSignature||ab===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(ab){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:uR[G.qJ]={gm:'stampImage',db:[],ae:{imageStampId:G.qJ,base64format:G.ct()}};break;}ak.db.push(this.aqJ(G,eB,fw,tF));}for(var GA in uR){if(uR.hasOwnProperty(GA)){ro.push(uR[GA]);}}return{jn:jn,ro:ro};};this.aAE=function(){var fo={m:[]};var C;for(C=0;C<bd.length;C++){fo.m.push(bd[C].azI());}F.bV('marksSaved',{});var alU="";alU=JSON.stringify(fo);return alU;};this.Bz=function(T){bG.addHandler('markAdded',T);};this.zG=function(T){bG.removeHandler('markAdded',T);};this.He=function(T){bG.addHandler('markChanged',T);};this.Gs=function(T){bG.removeHandler('markChanged',T);};this.CJ=function(T){bG.addHandler('markRemoved',T);};this.zJ=function(T){bG.removeHandler('markRemoved',T);};this.GS=function(T){bG.addHandler('markReordered',T);};this.Fq=function(T){bG.removeHandler('markReordered',T);};this.SM=function(T){bG.addHandler('marksLoaded',T);};this.Yj=function(T){bG.removeHandler('marksLoaded',T);};this.aHG=function(T){bG.addHandler('marksSaved',T);};this.aGq=function(T){bG.removeHandler('marksSaved',T);};this.Hf=function(T){bG.addHandler('markSelectionChanged',T);};this.FU=function(T){bG.removeHandler('markSelectionChanged',T);};this.HN=function(T){bG.addHandler('markTextSelectionChanged',T);};this.FS=function(T){bG.removeHandler('markTextSelectionChanged',T);};this.vu=function(T){bG.addHandler('commentAdded',T);};this.CQ=function(T){bG.removeHandler('commentAdded',T);};this.vD=function(T){bG.addHandler('commentRemoved',T);};this.Es=function(T){bG.removeHandler('commentRemoved',T);};this.tg=function(T){bG.addHandler('commentChanged',T);};this.tq=function(T){bG.removeHandler('commentChanged',T);};this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};this.cX=function(dv){var T=bG.getHandler("propertyChanged");if(T){T(this,new IPCC.oC(dv));}};return this;};Ov.prototype={get_markCount:function(){return this.WJ();},get_selectedMarks:function(){return this.BN();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Oq(mark,mouseLocation);},forEachMark:function(method,context){this.CL(method,context);},getMark:function(zIndex){return this.OO(zIndex);},getZIndexOfMark:function(mark){return this.ow(mark);},loadFromJson:function(json){this.aAt(json);},removeAllMarks:function(){this.Wx();},removeMark:function(mark){this.uV(mark);},reorderMark:function(mark,zIndex){this.aft(mark,zIndex);},saveToJson:function(){return this.aAE();},add_markAdded:function(handler){this.Bz(handler);},remove_markAdded:function(handler){this.zG(handler);},add_markChanged:function(handler){this.He(handler);},remove_markChanged:function(handler){this.Gs(handler);},add_markRemoved:function(handler){this.CJ(handler);},remove_markRemoved:function(handler){this.zJ(handler);},add_markReordered:function(handler){this.GS(handler);},remove_markReordered:function(handler){this.Fq(handler);},add_marksLoaded:function(handler){this.SM(handler);},remove_marksLoaded:function(handler){this.Yj(handler);},add_markSelectionChanged:function(handler){this.Hf(handler);},remove_markSelectionChanged:function(handler){this.FU(handler);},add_markTextSelectionChanged:function(handler){this.HN(handler);},remove_markTextSelectionChanged:function(handler){this.FS(handler);},add_commentAdded:function(handler){this.vu(handler);},remove_commentAdded:function(handler){this.CQ(handler);},add_commentRemoved:function(handler){this.vD(handler);},remove_commentRemoved:function(handler){this.Es(handler);},add_commentChanged:function(handler){this.tg(handler);},remove_commentChanged:function(handler){this.tq(handler);}};Ov.registerClass=dC;Ov.registerClass('IPCC.Web.UI.ArtPage');module.exports=Ov;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var KS=function(){};KS.registerEnum=fJ;KS.prototype={Line:0,Triangle:1};KS.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=KS;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var RU=function(text){var bG=new IPCC.Web.UI.fZ();var dI=new IPCC.Web.UI.Data();this.Zy=IPCC.h.tA(new Date());this.bQ=text;this.aGs=function(bQ){if(bQ===this.bQ){return;}this.bQ=bQ;var H=new IPCC.Web.UI.CommentEventArgs();H.comment=this;H.length=1;this.bV('commentChanged',H);};this.aBn=function(){return this.bQ;};this.aFV=function(aFF){this.Zy=aFF;};this.azs=function(){return this.Zy;};this.tg=function(T){bG.addHandler('commentChanged',T);};this.tq=function(T){bG.removeHandler('commentChanged',T);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};this.wJ=function(){return dI;};return this;};RU.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.tg(handler);},remove_commentChanged:function(handler){this.tq(handler);},get_text:function(){return this.aBn();},set_text:function(text){this.aGs(text);},get_creationTime:function(){return this.azs();},set_creationTime:function(isoTimeString){this.aFV(isoTimeString);},get_data:function(){return this.wJ();}};RU.registerClass=dC;RU.registerClass('IPCC.Web.UI.Comment');module.exports=RU;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Rn=function(){return this;};Rn.registerClass=dC;Rn.prototype={};Rn.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Rn;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var PZ=function(app){var fO=[];var bG=new IPCC.Web.UI.fZ();var dI=new IPCC.Web.UI.Data();var G=app;var F=this;function Lx(bv,H){F.bV('commentChanged',H);};this.IM=function(dQ){dQ.add_commentChanged(Lx);fO.push(dQ);var H=new IPCC.Web.UI.CommentEventArgs();H.comment=dQ;H.length=1;H.index=fO.length-1;this.bV('commentAdded',H);};this.aAy=function(dQ){var WA= -1;IPCC.h.forEach(fO,function(el,idx){if(el===dQ){WA=idx;}});if(WA=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var aeh=fO.splice(WA,1)[0];aeh.tq(Lx);var H=new IPCC.Web.UI.CommentEventArgs();H.comment=aeh;H.length=1;this.bV('commentRemoved',H);};this.jW=function(ji,dn){var C;for(C=0;C<fO.length;C++){ji.call(dn,fO[C],C,this);}};this.eu=function(){return fO.length;};this.vu=function(T){bG.addHandler('commentAdded',T);};this.CQ=function(T){bG.removeHandler('commentAdded',T);};this.tg=function(T){bG.addHandler('commentChanged',T);};this.tq=function(T){bG.removeHandler('commentChanged',T);};this.vD=function(T){bG.addHandler('commentRemoved',T);};this.Es=function(T){bG.removeHandler('commentRemoved',T);};this.wJ=function(){return dI;};this.KI=function(){return G;};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};return this;};PZ.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.IM(comment);},removeCommentInstance:function(comment){this.aAy(comment);},forEach:function(method,context){this.jW(method,context);},get_length:function(){return this.eu();},add_commentAdded:function(handler){this.vu(handler);},remove_commentAdded:function(handler){this.CQ(handler);},add_commentChanged:function(handler){this.tg(handler);},remove_commentChanged:function(handler){this.tq(handler);},add_commentRemoved:function(handler){this.vD(handler);},remove_commentRemoved:function(handler){this.Es(handler);},get_data:function(){return this.wJ();},get_mark:function(){return this.KI();}};PZ.registerClass=dC;PZ.registerClass('IPCC.Web.UI.Conversation');module.exports=PZ;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Pp=function(){this.dI={};this.wJ=function(key){if(typeof key==='undefined'){return IPCC.h.extend({},this.dI);}else if(typeof key==='string'){return this.dI[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aFA=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dI[key]=value;}else if(typeof value==='undefined'){delete this.dI[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.azy=function(){var keys=[];IPCC.h.forEach(this.dI,function(value,key){keys.push(key);});return keys;};return this;};Pp.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.wJ(key);},set_data:function(key,value){return this.aFA(key,value);},get_dataKeys:function(){return this.azy();}};Pp.registerClass=dC;Pp.registerClass('IPCC.Web.UI.Data');module.exports=Pp;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var Qh=function(){};Qh.prototype={Production:0,Development:1,Detailed:2};Qh.registerEnum=fJ;Qh.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=Qh;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var PO=function(){};PO.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};PO.registerEnum=fJ;PO.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=PO;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var bw=function(aGj){var aH=aGj;var afi=this.type=aH.type.toLowerCase();var Mw=typeof aH.changedTouches!=='undefined';this.rawEvent=aH;this.altKey=aH.altKey;if(typeof(aH.button)!=='undefined'){this.button=(typeof(aH.which)!=='undefined')?aH.button:(aH.button===4)?IPCC.Web.UI.MouseButton.middleButton:(aH.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(afi==='keypress'){this.charCode=aH.charCode||aH.keyCode;}else if(aH.keyCode&&(aH.keyCode===46)){this.keyCode=127;}else{this.keyCode=aH.keyCode;}this.clientX=(Mw)?aH.changedTouches[0].clientX:aH.clientX;this.clientY=(Mw)?aH.changedTouches[0].clientY:aH.clientY;this.ctrlKey=aH.ctrlKey;this.target=aH.target?aH.target:aH.srcElement;function atx(aa){var bh=0;var dN=0;while(aa&& !isNaN(aa.offsetLeft)&& !isNaN(aa.offsetTop)){bh+=aa.offsetLeft-aa.scrollLeft;dN+=aa.offsetTop-aa.scrollTop;if(aa.offsetparent){aa=aa.offsetParent;}else{aa=aa.parentNode;}}return{top:dN,left:bh};};var eF=""+afi;var Cw='key';if(eF.substr(0,Cw.length)!==Cw){if((typeof(aH.offsetX)!=='undefined')&&(typeof(aH.offsetY)!=='undefined')){this.offsetX=aH.offsetX;this.offsetY=aH.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(aH.clientX)==='number')){var Mx=atx(this.target);var eR=this.target;var gh=eR.ownerDocument||eR.document||eR;var jA=gh.defaultView||gh.parentWindow;this.offsetX=(jA.pageXOffset||0)+aH.clientX-Mx.left;this.offsetY=(jA.pageYOffset||0)+aH.clientY-Mx.top;}}this.screenX=(Mw)?aH.changedTouches[0].screenX:aH.screenX;this.screenY=(Mw)?aH.changedTouches[0].screenY:aH.screenY;this.shiftKey=aH.shiftKey;};bw.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};bw.registerClass=dC;bw.registerClass('IPCC.Web.UI.bw');bw.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.bw.Xu(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kC.addHandlerCantBeUsedForError);}if(!element.bG){element.bG={};}var eventCache=element.bG[eventName];if(!eventCache){element.bG[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.bw(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var eR=doc.defaultView||doc.parentWindow;e=eR.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.bw(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.bw.ahp){element.dispose=IPCC.Web.UI.bw.ahp;if(typeof(d)!=="undefined"){element.akB=d;}}}};bw.clearHandlers=function(element){IPCC.Web.UI.bw.Xu(element);IPCC.Web.UI.bw.ajM(element,false);};bw.ajM=function(element,autoRemoving){if(element.bG){var cache=element.bG;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.bw.removeHandler(element,name,entry.handler);}}}}element.bG=null;}};bw.ahp=function(){IPCC.Web.UI.bw.ajM(this,true);var d=this.akB,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.akB=null;if(type==="function"){this.dispose();}}};bw.removeHandler=function(element,eventName,handler){IPCC.Web.UI.bw.bZ(element,eventName,handler);};bw.bZ=function(element,eventName,handler){IPCC.Web.UI.bw.Xu(element);var browserHandler=null;if((typeof(element.bG)!=='object')|| !element.bG){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bG[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.bw.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};bw.Xu=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kC.argumentDomNode);}};module.exports=bw;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var nL=function(){};nL.registerEnum=fJ;nL.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nL.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nL;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var NF=function(){};NF.registerEnum=fJ;NF.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};NF.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=NF;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var OG=function(){};OG.registerEnum=fJ;OG.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};OG.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=OG;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var OE=function(){};OE.registerEnum=fJ;OE.prototype={Left:0,Center:16,Right:32};OE.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=OE;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var QN=function(){};QN.registerEnum=fJ;QN.prototype={None:0,ArtDataService:1};QN.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=QN;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var DH=function(aV){var iG='';var hi='';var F=this;this.dM=new IPCC.Web.UI.ImGearPageCollection();this.PU=undefined;this.dM.aD=this;var Rv=false;this.rm=undefined;var fe=0;var Mq=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bG=new IPCC.Web.UI.fZ();this.hM=IPCC.Web.Ht.aab(4,IPCC.Web.Pk());this.qP=IPCC.Web.gy.Hn.mP(this.hM);var AL=[];var lV=0;var mp=[];var Bf=[];var gz={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Yt=false;this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){try{T(F,H);}catch(e){IPCC.iI.MF('raise event error in ImGearDocument, error: '+e.message);IPCC.iI.oq(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function UO(bv,H){if(H.length>0){F.bV('pageAdded',H);}};function VP(bv,H){if(H.length>0){F.bV('pageRemoved',H);}};function Fo(bv,H){F.bV('pageChanged',H);};this.dM.add_pageAdded(UO);this.dM.add_pageRemoved(VP);this.dM.add_pageChanged(Fo);function aso(){function arE(iU,iR){var cj=iU+'() threw an exception ';if(iR.name){cj+='( '+iR.name+" ";}else{cj+=".";}if(iR.message){cj+="  exception message = "+iR.message;}if(iR.statusCode){cj+="  exception statusCode = "+iR.statusCode;}cj=cj.replace(/\n/g," ");IPCC.iI.oq(cj,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bm=arE;this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(F,H);}};};if(arguments.length===0){var cj="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cj);}if(arguments.length>0){if(aV.documentIdentifier!==undefined){iG=aV.documentIdentifier;hi=IPCC.fU.su(iG);}if(aV.encodedDocumentIdentifier!==undefined){var wq=aV.encodedDocumentIdentifier;if(aV.documentIdentifier!==undefined){hi=IPCC.fU.su(iG);if(wq!==hi){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{iG=IPCC.fU.Gc(aV.encodedDocumentIdentifier);}}if(aV.imageServicePath!==undefined){this.rm=aV.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sp;if(aV.includeAllPages!==undefined){Rv=aV.includeAllPages;if(Rv===true){var anT=new aso();var ZS=0;F.aj=new IPCC.fU(hi,0,0,0,0,0);var pW=function(){fe=F.aj.fe;Mq=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;ZS<fe;ZS++){var aeE=new IPCC.Web.UI.ImGearPage({pageNumber:ZS,aD:F});aeE.aD=F;F.dM.addPage(aeE);}};Mq=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.aj.QL(this.rm,anT,pW);}catch(e){Mq=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;F.bV('pageOpenFailed',dP);throw e;}}}else if(aV.pages!==undefined){if(aV.pages.length>0){var C=0;for(C=0;C<aV.pages.length;C++){var aP=aV.pages[C];aP.document=this;this.dM.addPage(aP);}}}else if(aV.pageNumber!==undefined){if(aV.pageRangeCount!==undefined){var rX=aV.pageRangeCount;if(rX>0){var bz;for(bz=aV.pageNumber;bz<=rX;bz++){sp=new IPCC.Web.UI.ImGearPage(bz);sp.aD=F;this.dM.addPage(sp);}}else if(rX===0){sp=new IPCC.Web.UI.ImgearPage({pageNumber:aV.pageNumber,aD:F});sp.aD=F;F.dM.addPage(sp);}}else{if(aV.selected){sp=new IPCC.Web.UI.ImGearPage({pageNumber:aV.pageNumber,aD:F,selected:true});}else{sp=new IPCC.Web.UI.ImGearPage({pageNumber:aV.pageNumber,aD:F});}sp.aD=F;F.dM.addPage(sp);}}}this.JH=function(){return iG;};this.Nd=function(){return hi;};this.ajl=function(){return this.dM;};this.ayE=function(){return fe;};this.aym=function(){return Mq;};this.axP=function(){return Rv;};this.aDv=function(V){Rv=V;this.cX('includeAllPages');};var nZ=false;this.jE=function(){return nZ;};this.ni=function(V){nZ=V;};this.GU=function(T){bG.addHandler('pageAdded',T);};this.Fb=function(T){bG.removeHandler('pageAdded',T);};this.GK=function(T){bG.addHandler('pageRemoved',T);};this.FE=function(T){bG.removeHandler('pageRemoved',T);};this.Hv=function(T){bG.addHandler('pageOpenFailed',T);};this.FR=function(T){bG.removeHandler('pageOpenFailed',T);};this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.Hs=function(T){bG.addHandler('pageChanged',T);};this.GC=function(T){bG.removeHandler('pageChanged',T);};this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};this.aoH=function(T){bG.addHandler('textPagesReceived',T);};this.aAQ=function(T){bG.removeHandler('textPagesReceived',T);};this.ayl=function(){return Bf.length;};this.ayD=function(){return AL;};this.axs=function(){return AL.length;};this.aBY=function(){return gz;};this.aCK=function(){return Yt;};this.aGK=function(V){Yt=V;};this.atg=function(hs){if(gz.stopRequests===true){var H={};H.error=0;H.textPagesReceived=Lq(hs);if(H.textPagesReceived.length===0){if(lV>0&&lV<hs){for(var da=lV;da<hs;da++){H.textPagesReceived.push(da);}}}H.length=2;F.bV('textPagesReceived',H);return;}var iL=true;var Jq=false;for(var C=0;C<lV;C++){if(Array.prototype.indexOf){if(AL.indexOf(C)<0){iL=false;Jq=true;break;}}else{if(IPCC.Web.jX(AL,C)<0){Jq=true;break;}}}if(Jq){F.QU(C,undefined,hs);}else if(lV<hs){for(var bB=0;bB<hs;bB++){if(Array.prototype.indexOf){if(mp.indexOf(bB)<0){iL=false;break;}}else{if(IPCC.Web.jX(mp,bB)<0){iL=false;break;}}}if(!iL){Jq=true;F.QU(bB,undefined,hs);}else{F.QU(lV,undefined,hs);}}else{Jq=false;}};function Lq(hs){var Tw=[],da;if(mp.length>0){var iL=true;for(da=0;da<hs;da++){iL=true;if(Array.prototype.indexOf){if(mp.indexOf(da)<0){iL=false;}}else{if(IPCC.Web.jX(mp,da)<0){iL=false;}}if(!iL){mp.push(da);Bf.push(da);Tw.push(da);}}}else{for(da=0;da<hs;da++){mp.push(da);Bf.push(da);Tw.push(da);}}return Tw;};this.QU=function(aek,agc,hs){Yt=true;var ad;if(!isNaN(aek)){ad=aek;}else{ad=0;}var DB;if(!isNaN(hs)){DB=hs;}var cq;if(!isNaN(agc)){cq=agc;}else if(!isNaN(DB)){cq=DB-1;}else{DB=hs;if(!isNaN(DB)){cq=DB-1;}}if(isNaN(cq)){cq=ad+1;}if(cq-ad>9){cq=ad+9;}function Qr(bQ){var RS=lV;var Zt=[];var iL=true;var aR;for(var ak=0;ak<bQ.pages.length;ak++){if(Array.prototype.indexOf){if(AL.indexOf(bQ.pages[ak].number)<0){iL=false;}}else{if(IPCC.Web.jX(AL,bQ.pages[ak].number)<0){iL=false;}}if(!iL){AL.push(bQ.pages[ak].number);if(F.dM.jl(bQ.pages[ak].number).cA().Aa()===false){aR=F.dM.jl(bQ.pages[ak].number);aR.aeq(bQ.pages[ak]);aR.afH(bQ.pages[ak]);aR.acH(bQ.pages[ak].markup,bQ.pages[ak].height,bQ.pages[ak].width);}lV++;Zt.push(bQ.pages[ak].number);mp.push(bQ.pages[ak].number);if(!bQ.pages[ak].text){Bf.push(bQ.pages[ak].number);}}}var H={};if(bQ.hasOwnProperty("errorCode")){H.error=0;F.pageExtractionFailed=true;H.textPagesReceived=Zt;H.length=2;for(var Ae=gz.startPage;Ae<gz.lastPage+1;Ae++){iL=true;if(Array.prototype.indexOf){if(mp.indexOf(Ae)<0){iL=false;}}else{if(IPCC.Web.jX(mp,Ae)<0){iL=false;}}if(!iL){mp.push(Ae);Bf.push(Ae);H.textPagesReceived.push(Ae);}}F.bV('textPagesReceived',H);gz.stopRequests=true;return;}if(lV>RS){H.textPagesReceived=Zt;H.length=2;H.error=0;}var pK=gz.lastTimeout;if(gz.startPage===ad&&gz.lastPage===cq&&lV===RS){if(gz.requestCount<25){pK=pK+1000;gz.requestCount++;}else{H.error=0;H.textPagesReceived=[];H.length=2;iL=true;var da;for(da=gz.startPage;da<gz.lastPage+1;da++){iL=true;if(Array.prototype.indexOf){if(mp.indexOf(da)<0){iL=false;}}else{if(IPCC.Web.jX(mp,da)<0){iL=false;}}if(!iL){mp.push(da);Bf.push(da);H.textPagesReceived.push(da);}}if(H.textPagesReceived.length===0){if(lV>0&&lV<hs){for(da=lV;da<hs;da++){H.textPagesReceived.push(da);}}}gz.stopRequests=true;F.bV('textPagesReceived',H);return;}}else{pK=1000;gz.requestCount=0;}gz.lastTimeout=pK;gz.startPage=ad;gz.lastPage=cq;setTimeout(function(){F.atg(hs);},pK);if(lV>RS){F.bV('textPagesReceived',H);}};function eh(aJ){var H={},fV,ax;try{var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");if(oZ==='true'){var ts=IPCC.Web.gy.qk.uh(aJ.getResponseHeader("Accusoft-Data-SK"));var ap=IPCC.Web.Fk(ts,F.hM);var fj=IPCC.Web.Fn(aJ);var uf=IPCC.Web.FA(fj,ap,F.hM);fV=IPCC.Web.gy.FV.mP(uf);}else{fV=aJ.responseText;}ax=JSON.parse(fV);Qr(ax);}catch(e){H.error= -1;Lq(hs);H.textPagesReceived=[];H.length=2;F.bV('textPagesReceived',H);return;}};function er(ax){var H={},gK;try{gK=ax.response.status;if(ax.response.responseText){ax=JSON.parse(ax.response.responseText);if(ax.hasOwnProperty("errorCode")){H.error=0;if(lV>0){if(ax.pages){if(ax.pages.length>0){Qr(ax);return;}}}else{H.error= -1;}if(mp.length===0){H.error= -1;}F.pageExtractionFailed=true;H.textPagesReceived=[];H.length=2;H.textPagesReceived=Lq(hs);F.bV('textPagesReceived',H);return;}else{throw new IPCC.Web.UI.ImGearHttpException(gK,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(gK,"Unable to obtain text");}}catch(e){H.error= -1;Lq(hs);H.textPagesReceived=[];H.length=2;F.bV('textPagesReceived',H);return;}};var iy=iG;var gA=F.rm;if(!(/^[\x00-\x7F]*$/.test(iy))){iy='e'+hi;}else{iy='u'+iy;}var aK;if(F.jE()){aK=gA+'/Document/q/'+ad.toString()+'-'+cq.toString()+'/Text?DocumentID='+iy+'&iv='+F.qP;}else{aK=gA+'/Document/q/'+ad.toString()+'-'+cq.toString()+'/Text?DocumentID='+iy;}IPCC.h.na.fc({method:'GET',url:aK,headers:{'accept':'application/json'}}).then(eh,er);};return this;};DH.encodeDocumentIdentifier=function(iG){var hi;if(iG!==undefined){hi=IPCC.fU.su(iG);}return hi;};DH.decodeDocumentIdentifier=function(hi){var ahk;if(hi!==undefined){ahk=IPCC.fU.Gc(hi);}return ahk;};DH.prototype={get_documentIdentifier:function(){var aS=this.JH();return aS;},get_encodedDocumentIdentifier:function(){var aS=this.Nd();return aS;},get_pages:function(){return this.ajl();},get_pageCountStatus:function(){var r=this.aym();return r;},set_pageCountStatus:function(value){this.aHz(value);},get_pageCount:function(){var r=this.ayE();return r;},get_includeAllPages:function(){try{var aS=this.axP();return aS;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aDv(value);}catch(e){throw e;}},get_encryption:function(){var aS=this.jE();return aS;},set_encryption:function(value){this.ni(value);},add_pageChanged:function(handler){this.Hs(handler);},remove_pageChanged:function(handler){this.GC(handler);},add_pageRemoved:function(handler){this.GK(handler);},remove_pageRemoved:function(handler){this.FE(handler);},add_pageAdded:function(handler){this.GU(handler);},remove_pageAdded:function(handler){this.Fb(handler);},add_pageOpenFailed:function(handler){this.Hv(handler);},remove_pageOpenFailed:function(handler){this.FR(handler);},get_textRequestInfo:function(){try{var aS=this.aBY();return aS;}catch(e){throw e;}},get_pagesWithText:function(){try{var aS=this.ayD();return aS;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var aS=this.axs();return aS;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var aS=this.ayl();return aS;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.aoH(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aAQ(handler);}catch(e){this.bm('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.kz(handler);},remove_propertyChanged:function(handler){this.mX(handler);}};DH.registerClass=dC;DH.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=DH;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var RK=function(){var jZ=[];var bG=new IPCC.Web.UI.fZ();var F=this;function aus(bv,H){if(H){var Ma=new IPCC.Web.UI.ImGearDocumentEventArgs();Ma.document=bv;Ma.propertyName=H.get_propertyName();Ma.length=2;F.bV('documentChanged',Ma);}};this.Tq=function(aDh){this.aji(jZ.length,aDh);};this.aji=function(bf,aD){var bB;var cf=jZ.length;if(bf>jZ.length||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf,'document index is out of range');}for(bB=0;bB<cf;bB++){if(jZ[bB]===aD){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ajo=bG.getHandler('pageAdded');if(ajo){aD.add_pageAdded(ajo);}var ahe=bG.getHandler('pageRemoved');if(ahe){aD.add_pageRemoved(ahe);}var aiu=bG.getHandler('pageChanged');if(aiu){aD.add_pageChanged(aiu);}aD.add_propertyChanged(aus);jZ.splice(bf,0,aD);var H=new IPCC.Web.UI.ImGearDocumentEventArgs();H.imGearDocument=aD;H.index=bf;H.length=1;this.bV('documentAdded',H);};function kb(bf){if(bf>jZ.length-1||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf,'document index is out of range');}};this.Ql=function(bf){kb(bf);return jZ[bf];};this.eu=function(){return jZ.length;};this.aIg=function(ji,dn){var ady=[].concat(jZ);var C;for(C=0;C<ady.length;C++){ji.call(dn,ady[C],C,this);}};this.aew=function(bf){kb(bf);var H=new IPCC.Web.UI.ImGearDocumentEventArgs();H.imGearDocument=jZ[bf];H.length=1;jZ[bf].get_pages().removeAllPages();jZ.splice(bf,1);this.bV('documentRemoved',H);};this.azh=function(){var C=0;while(jZ.length>0){this.aew(C);}};this.avE=function(T){bG.addHandler('documentAdded',T);};this.aBW=function(T){bG.removeHandler('documentAdded',T);};this.awX=function(T){bG.addHandler('documentRemoved',T);};this.axg=function(T){bG.removeHandler('documentRemoved',T);};this.awV=function(T){bG.addHandler('documentChanged',T);};this.axr=function(T){bG.removeHandler('documentChanged',T);};this.GU=function(T){bG.addHandler('pageAdded',T);};this.Fb=function(T){bG.removeHandler('pageAdded',T);for(var bB=0;bB<jZ.length;bB++){jZ[bB].remove_pageAdded(T);}};this.Hs=function(T){bG.addHandler('pageChanged',T);};this.GC=function(T){bG.removeHandler('pageChanged',T);for(var bB=0;bB<jZ.length;bB++){jZ[bB].remove_pageChanged(T);}};this.GK=function(T){bG.addHandler('pageRemoved',T);};this.FE=function(T){bG.removeHandler('pageRemoved',T);for(var bB=0;bB<jZ.length;bB++){jZ[bB].remove_pageRemoved(T);}};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){try{T(F,H);}catch(e){IPCC.iI.MF('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};RK.prototype={addDocument:function(imGearDocument){this.Tq(imGearDocument);},insertDocument:function(index,imGearDocument){this.aji(index,imGearDocument);},forEach:function(method,context){this.jW(method,context);},getDocument:function(index){return this.Ql(index);},get_length:function(){return this.eu();},removeDocument:function(imGearDocument){this.aew(imGearDocument);},removeAllDocuments:function(){this.azh();},add_documentAdded:function(handler){this.avE(handler);},remove_documentAdded:function(handler){this.aBW(handler);},add_documentRemoved:function(handler){this.awX(handler);},remove_documentRemoved:function(handler){this.axg(handler);},add_documentChanged:function(handler){this.awV(handler);},remove_documentChanged:function(handler){this.axr(handler);},add_pageAdded:function(handler){this.GU(handler);},remove_pageAdded:function(handler){this.Fb(handler);},add_pageRemoved:function(handler){this.GK(handler);},remove_pageRemoved:function(handler){this.FE(handler);},add_pageChanged:function(handler){this.Hs(handler);},remove_pageChanged:function(handler){this.GC(handler);}};RK.registerClass=dC;RK.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=RK;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var QR=function(){return this;};QR.registerClass=dC;QR.prototype={};QR.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=QR;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var QH=function(){return this;};QH.registerClass=dC;QH.prototype={};QH.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=QH;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var ayn=function(jR){var bh=0,dN=0,bJ=0,ah=0,lh=jR.href||"",anE=jR.borderStyle||"Solid",lE=jR.borderThickness||0,yJ=jR.borderPattern||[1],Ko=jR.borderHorizontalRadius||0,JJ=jR.borderHorizontalRadius||0,nR=jR.borderColor||"#0000FF",rC=jR.borderOpacity||255,J,G;if(typeof rC==='string'){rC=parseInt(rC,10);}if(jR.rectangle){bh=jR.rectangle.x;dN=jR.rectangle.y;bJ=jR.rectangle.width;ah=jR.rectangle.height;}J=new IPCC.Web.UI.Rectangle(bh,dN,bJ,ah);this.eI=function(){var Uu=new IPCC.Web.UI.Rectangle(J.x,J.y,J.width,J.height);return Uu;};this.Dg=function(lW){J.x=lW.x;J.y=lW.y;J.width=lW.width;J.height=lW.height;};this.aiy=function(){return lh;};this.ayU=function(){return anE;};this.ayo=function(){return lE;};this.axj=function(){return yJ;};this.axu=function(){return Ko;};this.axv=function(){return JJ;};this.ayq=function(){return nR;};this.ayk=function(){return rC;};this.KI=function(){return G;};this.aGn=function(aoG){G=aoG;};this.aDf=function(){return IPCC.h.aph(lh);};};module.exports=ayn;},{}],84:[function(require,module,exports){var fZ=function fZ(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.GP={};};fZ.prototype.di=function(dO,T){var dF=this.Wh(dO,true);dF[dF.length]=T;};fZ.prototype.addHandler=function(dO,T){this.di(dO,T);};fZ.prototype.bZ=function(dO,T){var sz=this.Wh(dO);if(!sz){return;}var bf=IPCC.UN(sz,T);if(bf>=0){sz.splice(bf,1);}};fZ.prototype.removeHandler=function(dO,T){this.bZ(dO,T);};fZ.prototype.getHandler=function(dO){var sz=this.Wh(dO);if(!sz||(sz.length===0)){return null;}var dF=sz.slice();sz=dF;return function(source,args){for(var C=0,pG=sz.length;C<pG;C++){sz[C](source,args);}};};fZ.prototype.Wh=function(dO,aqW){if(!this.GP[dO]){if(!aqW){return null;}this.GP[dO]=[];}return this.GP[dO];};module.exports=fZ;},{}],85:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var Eh=function(message,errorInfo){this.message=message;var F=this;if(errorInfo){for(var VC in errorInfo){if(errorInfo.hasOwnProperty(VC)){F[VC]=errorInfo[VC];}}}};Eh.prototype=new Error();Eh.registerClass=dC;Eh.registerClass('IPCC.Web.UI.ImGearException');var Di=function(statusCode,message,customErrorCode){var hu="IPCC.Web.UI.ImGearHttpException: ";if(message){hu+=message;}this.message=hu;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Di.prototype=new Error();Di.registerClass=dC;Di.registerClass('IPCC.Web.UI.ImGearHttpException');var uD=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kC.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.zB(IPCC.kC.paramName,paramName);}}this.message=hu;this.paramName=paramName;};uD.prototype=new Error();uD.registerClass=dC;uD.registerClass('IPCC.Web.UI.ImGearArgumentException');var Dy=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kC.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.zB(IPCC.Res.paramName,paramName);}}this.message=hu;this.paramName=paramName;};Dy.prototype=new Error();Dy.registerClass=dC;Dy.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var qF=function(paramName,actualValue,message){var hu="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kC.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.zB(IPCC.kC.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){hu+="\n"+IPCC.Web.zB(IPCC.kC.actualValue,actualValue);}this.message=hu;this.paramName=paramName;this.actualValue=actualValue;};qF.prototype=new Error();qF.registerClass=dC;qF.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var xK=function(paramName,actualType,expectedType,message){var hu="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){hu+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){hu+=IPCC.Web.zB(IPCC.kC.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{hu+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{hu+=IPCC.kC.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.zB(IPCC.kC.paramName,paramName);}}this.message=hu;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};xK.prototype=new Error();xK.registerClass=dC;xK.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var DE=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kC.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.zB(IPCC.Res.paramName,paramName);}}this.message=hu;this.paramName=paramName;};DE.prototype=new Error();DE.registerClass=dC;DE.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Be=function(message){var hu="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kC.invalidOperation);this.message=hu;};Be.prototype=new Error();Be.registerClass=dC;Be.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var CD=function(message){var hu="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kC.notImplemented);this.message=hu;};CD.prototype=new Error();CD.registerClass=dC;CD.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var BI=function(message){var hu="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kC.parameterCount);this.message=hu;};BI.prototype=new Error();BI.registerClass=dC;BI.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={Eh:Eh,Di:Di,uD:uD,Dy:Dy,qF:qF,xK:xK,DE:DE,Be:Be,CD:CD,BI:BI};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var aFj=function(){var FW=[];this.aot=function(axB){FW.push(axB);};this.cN=function(){return FW.length;};this.jW=function(ji,dn){IPCC.h.forEach(FW,ji,dn);};this.aBj=function(){if(FW.length<1){return;}FW=[];};return this;};module.exports=aFj;},{}],87:[function(require,module,exports){var aDg=function(){var EQ=new IPCC.Web.UI.ImGearHyperlinkCollection();this.JV=function(){return EQ;};};module.exports=aDg;},{}],88:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var RA=function(aV){this.aD=undefined;var bO=0;var aZ=0,abQ=0,abU=0;var ay=0,ang=0,alO=0;var F=this;var bG=new IPCC.Web.UI.fZ();this.aHD=undefined;this.gz={ql:0,aem:false,pN:1000,MY:false};var en=new IPCC.Web.UI.ImGearTextPage();var OD=new IPCC.Web.UI.ImGearHyperlinkPage();var ln=0;var nZ=false;var CW=false,GI=0,Gv=0;function aic(o){return!isNaN(o-0);};if(aV.pageNumber!==undefined){if(aic(aV.pageNumber)){bO=aV.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.nJ=function(){return bO;};this.aHW=function(V){if(aic(aV.pageNumber)){bO=V;}};this.jY=function(){return aZ;};function ahM(){if(!en){en=new IPCC.Web.UI.ImGearTextPage();}var aqh=en.gq();var pJ=aZ/GI,qD=ay/Gv;aqh.aBx(pJ,qD);};function aiM(){var EQ=OD.JV();var pJ=aZ/GI,qD=ay/Gv;EQ.jW(function(gj){gj.Dg(gj.eI().scale(pJ,qD));var afX=gj.KI();afX.set_rectangle(afX.get_rectangle().scale(pJ,qD));});};this.Lu=function(V){aZ=V;if(CW&&aZ&&aZ!==GI&&ay&&ay!==Gv){ahM();aiM();CW=false;}};this.hN=function(){return ay;};this.Lb=function(V){ay=V;if(CW&&aZ&&aZ!==GI&&ay&&ay!==Gv){ahM();aiM();CW=false;}};this.aiH=function(){return abQ;};this.aau=function(V){abQ=V;};this.aJa=function(){return ang;};this.aaQ=function(V){ang=V;};this.aHb=function(){return abU;};this.aHv=function(V){abU=V;};this.aIJ=function(){return alO;};this.aGV=function(V){alO=V;};this.axM=function(){return this.aD;};this.cA=function(){if(!en){en=new IPCC.Web.UI.ImGearTextPage();}return en;};this.la=function(){return ln;};this.wb=function(V){if(ln===V){return;}if(isNaN(V)){return;}ln=V;this.cX('serviceResponseTimeout');};this.jE=function(){return nZ;};this.ni=function(V){nZ=V;};this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.AI=function(T){bG.addHandler('textPageReady',T);};this.DW=function(T){bG.removeHandler('textPageReady',T);};this.aim=function(){return OD;};this.TQ=function(T){bG.addHandler('hyperlinkPageReady',T);};this.aeX=function(T){bG.removeHandler('hyperlinkPageReady',T);};this.zA=function(T){bG.di('textExtractionFailed',T);};this.CZ=function(T){bG.bZ('textExtractionFailed',T);};this.aeq=function(gs){if(aZ===0&&ay===0){CW=true;GI=gs.width;Gv=gs.height;}};this.afH=function(gs){if(!en){en=new IPCC.Web.UI.ImGearTextPage();}en.aCi(gs.width);en.aCU(gs.height);if(en.gq().eu()>0){return;}else if(gs.errorCode){var lX=new IPCC.Web.UI.ImGearException(gs.errorDescription,{name:'Text Extraction'});var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=lX;dP.pageNumber=F.get_pageNumber();F.bV('textExtractionFailed',dP);return;}var avv=en.gq();var LH=false;var acM;function JQ(VO){return VO;};var qD=1;var pJ=1;if(gs.height&&gs.height>0&&ay>0){if(gs.height!==ay){qD=ay/gs.height;}}if(gs.width&&gs.width>0&&aZ>0){if(gs.width!==aZ){pJ=aZ/gs.width;}}var hw;var afv= -1;var Lp;var iH,Az;for(var C=0;C<gs.rectangles.length;C++){iH=gs.rectangles[C];Az=JQ(gs.text[C]);LH=false;if(iH[2]===0){Az="\n";LH=true;if(C>0){acM=gs.rectangles[C-1];iH[2]=acM[2];}}if(pJ===1&&qD===1){Lp=new IPCC.Web.UI.ImGearTextCharacter(iH[0],iH[1],iH[2],iH[3],Az,LH);}else{Lp=new IPCC.Web.UI.ImGearTextCharacter(iH[0]*pJ,iH[1]*qD,iH[2]*pJ,iH[3]*qD,Az,LH);}if(Lp){avv.apt(Lp);}if(hw===undefined||afv!==iH[1]||iH[0]<hw.eI().x){if(hw){en.YJ().alm(hw);}hw=new IPCC.Web.UI.ImGearTextSection();hw.Dg(new IPCC.Web.UI.Rectangle(iH[0],iH[1],iH[2],iH[3]));hw.aGw(C);}else{if(iH[0]+iH[2]-hw.eI().x>hw.eI().width){hw.eI().width=iH[0]+iH[2]-hw.eI().x;}}hw.aEL(C);afv=iH[1];}if(hw){en.YJ().alm(hw);}en.aEM(gs.text);if(gs.text.length>0){en.Od(true);F.bV('textPageReady',{pageNumber:F.nJ(),containsText:true});}else{en.Od(false);F.bV('textPageReady',{pageNumber:F.nJ(),containsText:false});}};this.acH=function(ahn,QG,Qs){if(!ahn){return;}OD.JV().aBj();var qD=1;var pJ=1;if(QG&&QG>0&&ay>0){if(QG!==ay){qD=ay/QG;}}if(Qs&&Qs>0&&aZ>0){if(Qs!==aZ){pJ=aZ/Qs;}}IPCC.h.forEach(ahn,function(ahG){var gj;switch(ahG.markType){case "DocumentHyperlink":gj=new IPCC.Web.UI.ImGearDocumentHyperlink(ahG.properties);gj.Dg(gj.eI().scale(pJ,qD));if(!gj.aDf()){OD.JV().aot(gj);}break;default:break;}});F.bV('hyperlinkPageReady',{pageNumber:F.nJ()});};this.aBU=function(){F.Af();};this.Af=function(){if(!en){en=new IPCC.Web.UI.ImGearTextPage();}if(!F.aD){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(en.Aa()){return;}var afN=true;if(F.la()===0){afN=false;}function Qr(bQ){if(bQ.pages){var aW;if(bQ.pages.length>0){if(bQ.pages[0].number!==F.nJ()){for(var C=0;C<bQ.pages.length;C++){if(bQ.pages[C].number===F.nJ()){aW=C;break;}}if(!aW){F.gz.MY=false;return;}}else{aW=0;}var gs=bQ.pages[aW];F.gz.MY=true;if(bQ.pages[aW].text&&bQ.pages[aW].text.length>0){en.Od(true);}else{en.Od(false);}F.gz.pN=1000;F.aeq(gs);F.afH(gs);F.acH(gs.markup,gs.height,gs.width);return;}}var pK=F.gz.pN;if(!F.gz.MY){if(F.gz.ql<6){if(F.gz.ql<2){pK=pK+1000;}else{pK=pK+3000;}F.gz.ql++;F.gz.pN=pK;setTimeout(F.aBU,pK);}else{F.gz.aem=true;}}};function eh(aJ){var hM=F.aD.hM,ax;try{var fV;var oZ=aJ.getResponseHeader("Accusoft-Data-Encrypted");if(oZ==='true'){var ts=IPCC.Web.gy.qk.uh(aJ.getResponseHeader("Accusoft-Data-SK"));var ap=IPCC.Web.Fk(ts,hM);var fj=IPCC.Web.Fn(aJ);var uf=IPCC.Web.FA(fj,ap,hM);fV=IPCC.Web.gy.FV.mP(uf);}else{fV=aJ.responseText;}ax=JSON.parse(fV);Qr(ax);}catch(e){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=F.get_pageNumber();F.bV('textExtractionFailed',dP);return;}};function er(ax){try{if(!ax.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(ax.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,"Unable to obtain text, Error from the service = "+ax.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(ax.response.status,"Unable to obtain text from the service");}}}catch(e){var dP=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dP.exception=e;dP.pageNumber=F.get_pageNumber();F.bV('textExtractionFailed',dP);return;}};var ad=F.get_pageNumber();var iy=F.aD.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iy))){iy='e'+F.aD.get_encodedDocumentIdentifier();}else{iy='u'+encodeURIComponent(iy);}var gA=F.aD.rm;var qP=F.aD.qP;var aK;if(F.jE()){aK=gA+'/Document/q/'+ad.toString()+'-'+ad.toString()+'/Text?DocumentID='+iy+'&iv='+qP;}else{aK=gA+'/Document/q/'+ad.toString()+'-'+ad.toString()+'/Text?DocumentID='+iy;}var hD={method:'GET',url:aK,headers:{'accept':'application/json'}};if(afN===true){hD.timeout=F.la();}IPCC.h.na.fc(hD).then(eh,er);};this.cA=function(){if(!en){en=new IPCC.Web.UI.ImGearTextPage();}return en;};this.aHR=function(V){if(typeof V.nC!=='function'){return;}en=V;};this.agm=function(){en=undefined;F.gz={ql:0,aem:false,pN:1000,MY:false};CW=false;GI=0;Gv=0;};this.Oz=function(zn,BX){var F=this;function eh(aJ){var ax;ax=JSON.parse(aJ.responseText);if(ax.imageWidth&&ax.imageHeight){F.Lu(ax.imageWidth);F.Lb(ax.imageHeight);zn(ax.imageWidth,ax.imageHeight);}else{BX("Unable to obtain document information from the server");}};function er(ax){BX("Unable to obtain document information from the server");};if(F.jY()>0||F.hN()>0){zn(F.jY(),F.hN());}else{var sl=IPCC.fU.su(F.aD.get_documentIdentifier());if(!sl||sl===""){BX("Invalid encoded Identifier");}var uT='';if(!IPCC.wf.Ja()){uT='&ContentType=png';}var aK;if(!(/^[\x00-\x7F]*$/.test(sl))){aK=F.aD.rm+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=e'+sl+uT;}else{aK=F.aD.rm+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(F.aD.get_documentIdentifier())+uT;}IPCC.h.na.fc({method:'GET',url:aK,headers:{'Content-Type':'application/json'}}).then(eh,er);}};this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){try{T(F,H);}catch(e){IPCC.iI.MF('event raise, ImGearPage, error: '+e.message);}}};return this;};RA.prototype={get_pageNumber:function(){var aS=this.nJ();return aS;},get_pageWidth:function(){var aS=this.jY();return aS;},get_pageHeight:function(){var aS=this.hN();return aS;},get_textPage:function(){var aS=this.cA();return aS;},get_encryption:function(){var aS=this.jE();return aS;},set_encryption:function(value){this.ni(value);},get_hyperlinkPage:function(){return this.aim();},get_document:function(){var aS=this.axM();return aS;},add_propertyChanged:function(handler){this.kz(handler);},remove_propertyChanged:function(handler){this.mX(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Oz(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};RA.registerClass=dC;RA.registerClass('IPCC.Web.UI.ImGearPage');module.exports=RA;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var QB=function(){var F=this;var dM=[];var bG=new IPCC.Web.UI.fZ();this.atr=false;this.atn=true;this.aD=undefined;this.akq=function(ak){this.aiB(dM.length,ak);};function kb(bf){if(bf>dM.length-1||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf,'page index is out of range in the page collection');}};this.aiB=function(bf,ak){var bB;var cf=dM.length;if(bf>dM.length||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf,'index of the page Collection is out of range');}if(F.atn&&F.atr){if(cf>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bB=0;bB<cf;bB++){if(dM[bB]===ak){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(F.aD){if(!ak.aD){ak.aD=F.aD;}}ak.add_propertyChanged(Fo);dM.splice(bf,0,ak);var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=ak;H.length=1;F.bV('pageAdded',H);};this.jl=function(bf){kb(bf);var eZ=dM[bf];return eZ;};this.aCf=function(bf,ak){kb(bf);var Sk=dM[bf];if(Sk===ak){return;}dM[bf]=ak;var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=ak;H.length=1;this.bV('pageAdded',H);Sk.remove_propertyChanged(Fo);var zi=new IPCC.Web.UI.ImGearPageEventArgs();zi.imGearPage=Sk;zi.length=1;this.bV('pageRemoved',zi);};this.eu=function(){return dM.length;};this.jW=function(ji,dn){var adv=[].concat(dM);var C;for(C=0;C<adv.length;C++){ji.call(dn,adv[C],C,this);}};this.adY=function(bf){kb(bf);var H=new IPCC.Web.UI.ImGearPageEventArgs();H.imGearPage=dM[bf];dM[bf].remove_propertyChanged(Fo);H.length=1;dM.splice(bf,1);F.bV('pageRemoved',H);};this.aHE=function(ak){var cN=dM.length;for(var C=0;C<cN;C++){if(ak===dM[C]){return C;}}return-1;};this.aBz=function(){var C=0;while(dM.length>0){this.adY(C);}};function Fo(bv,H){var zi=new IPCC.Web.UI.ImGearPageEventArgs();zi.imGearPage=bv;zi.length=1;F.bV('pageChanged',zi);};this.GU=function(T){bG.addHandler('pageAdded',T);};this.Fb=function(T){bG.removeHandler('pageAdded',T);};this.Hs=function(T){bG.addHandler('pageChanged',T);};this.GC=function(T){bG.removeHandler('pageChanged',T);};this.GK=function(T){bG.addHandler('pageRemoved',T);};this.FE=function(T){bG.removeHandler('pageRemoved',T);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){try{T(F,H);}catch(e){IPCC.iI.MF('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};QB.prototype={addPage:function(page){this.akq(page);},insertPage:function(index,page){this.aiB(index,page);},forEach:function(method,context){this.jW(method,context);},getPage:function(index){return this.jl(index);},setPage:function(index,page){this.aCf(index,page);},get_length:function(){return this.eu();},removePage:function(index){this.adY(index);},removeAllPages:function(){this.aBz();},add_pageAdded:function(handler){this.GU(handler);},remove_pageAdded:function(handler){this.Fb(handler);},add_pageChanged:function(handler){this.Hs(handler);},remove_pageChanged:function(handler){this.GC(handler);},add_pageRemoved:function(handler){this.GK(handler);},remove_pageRemoved:function(handler){this.FE(handler);}};QB.registerClass=dC;QB.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=QB;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var RN=function(){};RN.registerEnum=fJ;RN.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};RN.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=RN;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var Sj=function(){};Sj.registerClass=dC;Sj.prototype={};Sj.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Sj;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var dC=require('./../../IPCC.Util').regClass;var RD=function(){return this;};RD.prototype={};RD.registerClass=dC;RD.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=RD;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var RI=function(){return this;};RI.registerClass=dC;RI.prototype={};RI.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=RI;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var aDT=function(bh,dN,bJ,ah,Az,axl){this.aw=new IPCC.Web.UI.Rectangle(bh,dN,bJ,ah);this.lz=Az;this.JR=axl;this.aAL=function(){return Az;};this.sx=function(){var Uu=new IPCC.Web.UI.Rectangle(this.aw.x,this.aw.y,this.aw.width,this.aw.height);return Uu;};this.aJF=function(){return this.JR;};};module.exports=aDT;},{}],95:[function(require,module,exports){var aFX=function(){var ik=[];this.apt=function(kX){ik.push(new IPCC.Web.UI.ImGearTextCharacter(kX.aw.x,kX.aw.y,kX.aw.width,kX.aw.height,kX.lz,kX.JR));};this.aHr=function(anZ){function lq(kX){ik.push(kX);};anZ.forEach(lq,{});};this.azi=function(){var acA=[];for(var bB=0;bB<this.eu();bB++){var Lc=this.kG(bB).aw;var J=[];J.push(Lc.x);J.push(Lc.y);J.push(Lc.width);J.push(Lc.height);acA.push(J);}return acA;};this.aFc=function(bf,aeW){var bB;var cf=ik.length;if(bf>ik.length||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf,'index of theText Character Collection is out of range');}for(bB=0;bB<cf;bB++){if(ik[bB]===aeW){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bQ Character instance in a kX collection).');}}ik.splice(bf,0,aeW);};this.aBx=function(act,acW){IPCC.h.forEach(ik,function(lz){lz.aw.width=lz.aw.width*act;lz.aw.height=lz.aw.height*acW;lz.aw.x=lz.aw.x*act;lz.aw.y=lz.aw.y*acW;});};this.jW=function(ji,dn){var aaH=[].concat(ik);var C;for(C=0;C<aaH.length;C++){ji.call(dn,new IPCC.Web.UI.ImGearTextCharacter(aaH[C].x,aaH[C].y),C,this);}};function kb(bf){if(bf>ik.length-1||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf);}};this.kG=function(bf){kb(bf);var qS=ik[bf];return new IPCC.Web.UI.ImGearTextCharacter(qS.aw.x,qS.aw.y,qS.aw.width,qS.aw.height,qS.lz,qS.JR);};this.aGQ=function(bf,kX){kb(bf);var Cy=ik[bf];if(Cy.aw.x===kX.aw.x&&Cy.aw.y===kX.y&&Cy.aw.width===kX.aw.width&&Cy.aw.height===kX.aw.height&&Cy.lz===kX.lz&&Cy.JR===kX.JR){return;}ik[bf]=kX;};this.eu=function(){return ik.length;};this.aGT=function(bf){kb(bf);ik.splice(bf,1);};this.aGb=function(){if(ik.length<1){return;}ik=[];};return this;};module.exports=aFX;},{}],96:[function(require,module,exports){var aFQ=function(){var anW=new IPCC.Web.UI.ImGearTextCharacterCollection();var WZ=false;var acc=false;var YU="";var wt=new IPCC.Web.UI.ImGearTextSectionCollection();var ZX=false;var bJ=0;var ah=0;this.gq=function(){return anW;};this.nC=function(){return WZ;};this.Od=function(V){acc=true;if(V===WZ){return;}if((V===true)||(V===false)){WZ=V;}};this.Aa=function(){return acc;};this.BQ=function(){return YU;};this.aEM=function(V){if(V===YU){return;}YU=V;};this.YJ=function(){return wt;};this.ayY=function(){return ZX;};this.abm=function(V){if(V===ZX){return;}if((V===true)||(V===false)){ZX=V;}};this.aCR=function(){return bJ;};this.aCi=function(V){if(V===bJ){return;}bJ=V;};this.ayu=function(){return ah;};this.aCU=function(V){if(V===ah){return;}ah=V;};};module.exports=aFQ;},{}],97:[function(require,module,exports){var aGy=function(){var J=null;var ad=0;var cq=0;this.eI=function(){return J;};this.Dg=function(V){J=V;};this.ajv=function(){return ad;};this.aGw=function(V){ad=V;};this.ahO=function(){return cq;};this.aEL=function(V){cq=V;};};module.exports=aGy;},{}],98:[function(require,module,exports){var aFn=function(){var wt=[];this.alm=function(hw){wt.push(hw);};function kb(bf){if(bf>wt.length-1||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf);}};this.azu=function(bf){kb(bf);return wt[bf];};this.eu=function(){return wt.length;};return this;};module.exports=aFn;},{}],99:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var MQ=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};MQ.registerEnum=fJ;MQ.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};MQ.registerEnum("IPCC.Web.UI.Key");module.exports=MQ;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var Nm=function(){};Nm.registerEnum=fJ;Nm.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Nm.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Nm;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var NJ=function(){};NJ.registerEnum=fJ;NJ.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};NJ.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=NJ;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Lj=function(){return this;};Lj.registerClass=dC;Lj.prototype={};Lj.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=Lj;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Or=function(type){var af=type;type=undefined;var rr=new Date();var rM=new Date();var bj=null;var J;var bM;var ci;var dI=new IPCC.Web.UI.Data();var bG=new IPCC.Web.UI.fZ();var F=this;var iE;this.es=function(ii,dv){if((iE&ii)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dv+' is not a valid property for this type of Mark.');}};if(af===IPCC.Web.UI.MarkType.SignatureText){this.kV='#000000';this.jD=IPCC.Web.UI.LineStyle.Solid;this.eb=0;}else{this.kV='#000000';this.jD=IPCC.Web.UI.LineStyle.Solid;this.eb=1;}this.cD=255;this.lU=IPCC.Web.UI.MarkInteractionMode.Full;var kK=false;switch(af){case IPCC.Web.UI.MarkType.Line:kK=true;bM=new IPCC.Web.UI.PointCollection();bM.addPoint({x:0,y:0});bM.addPoint({x:0,y:0});iE=1;this.kV='#18385F';this.eb=6;break;case IPCC.Web.UI.MarkType.Polyline:kK=true;this.rN=false;bM=new IPCC.Web.UI.PointCollection();iE=2;this.eb=2;break;case IPCC.Web.UI.MarkType.Rectangle:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=4;this.ea='#FB0404';this.eb=4;break;case IPCC.Web.UI.MarkType.Ellipse:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=8;this.ea='#FB0404';this.eb=4;break;case IPCC.Web.UI.MarkType.Polygon:bM=new IPCC.Web.UI.PointCollection();iE=16;break;case IPCC.Web.UI.MarkType.Text:this.DC='#000000';this.xj=false;this.rQ=IPCC.Web.UI.LineStyle.Solid;this.EL=1;this.lN=new IPCC.Web.UI.Point(0,0);this.Ep=IPCC.Web.UI.CalloutType.Triangle;this.wF=false;this.hc='Arial';this.cO=12;this.cn=IPCC.Web.UI.FontStyle.Regular;this.jD=IPCC.Web.UI.LineStyle.Solid;this.gi=0;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bQ='';this.iq=IPCC.Web.UI.HorizontalAlignment.Left;this.vK=IPCC.Web.UI.VerticalAlignment.Top;this.pP='#000000';this.yU=255;this.zl=IPCC.Web.UI.Orientation.TopLeft;this.fm=[];this.eb=4;this.cD=127;this.ea='#FFFFFF';iE=32;break;case IPCC.Web.UI.MarkType.Stamp:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=128;break;case IPCC.Web.UI.MarkType.Highlight:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bH='';this.kk='n';this.ad=0;this.bX='';this.dJ=0;this.cD=127;iE=256;break;case IPCC.Web.UI.MarkType.HighlightText:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bH='';this.kk='n';this.ad=0;this.bX='';this.dJ=0;this.cD=127;this.ea='#FFFF00';iE=512;this.fm=[];this.bK=[];break;case IPCC.Web.UI.MarkType.Freehand:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=64;this.eb=4;this.kV='#000000';this.jd=false;this.Tu=1;this.Ue=1;this.vz='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=1024;this.iq=IPCC.Web.UI.HorizontalAlignment.Center;this.eb=4;this.kV='#000000';this.jd=false;this.Tu=1;this.Ue=1;this.vz='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=2048;this.iq=IPCC.Web.UI.HorizontalAlignment.Center;this.bQ='John Doe';this.pP='#000000';this.ea='#000000';this.hc="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=4096;this.hc='Arial';this.cO=8;this.cn=IPCC.Web.UI.FontStyle.Regular;this.bQ='';this.iq=IPCC.Web.UI.HorizontalAlignment.Center;this.vK=IPCC.Web.UI.VerticalAlignment.Center;this.ea='#000000';this.pP='#FFFFFF';this.yU=255;this.zl=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bK=[];this.bH='';this.eK='';this.bQ='';this.hc='Arial';this.cO=8;this.ad=0;this.dJ=0;iE=8192;this.fm=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lh='';this.eb=2;this.bX='';this.bH='';this.kk='n';this.ad=0;this.dJ=0;this.ea='#3B00FF';iE=1<<14;this.fm=[];this.bK=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);iE=16384;this.aj='';this.qJ='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lh='';this.KQ='';this.yJ='';this.Ko=0;this.JJ=0;this.rC=255;iE=32768;break;case IPCC.Web.UI.MarkType.TextLine:iE=65536;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.iq=IPCC.Web.UI.HorizontalAlignment.Left;this.bQ='';this.pP='#000000';this.hc="Courier New";this.eb=1;this.jd=true;this.gi=0;this.Gu=0;this.Fz=false;var hV=IPCC.h.vJ("M",this.hc,{wu:'pre'});this.zF=hV.width;this.zN=hV.height;this.iV=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.DC='#000000';this.xj=false;this.rQ=IPCC.Web.UI.LineStyle.Solid;this.EL=1;this.lN=new IPCC.Web.UI.Point(0,0);this.Ep=IPCC.Web.UI.CalloutType.Triangle;this.wF=false;this.hc='Courier New';this.jF=0;this.gi=0;this.cO=12;this.cn=IPCC.Web.UI.FontStyle.Regular;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bQ='';this.iq=IPCC.Web.UI.HorizontalAlignment.Left;this.vK=IPCC.Web.UI.VerticalAlignment.Top;this.pP='#000000';this.yU=255;this.zl=IPCC.Web.UI.Orientation.TopLeft;this.fm=[];this.eb=1;this.jd=false;this.ea='#FFFFFF';this.cD=0;iE=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bH='';this.kV='#000000';this.eb=2;this.kk='n';this.ad=0;this.bX='';this.dJ=0;iE=1<<17;this.fm=[];this.bK=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',af);}if(af!==IPCC.Web.UI.MarkType.SignaturePath&&af!==IPCC.Web.UI.MarkType.Freehand&&af!==IPCC.Web.UI.MarkType.SignatureText&&af!==IPCC.Web.UI.MarkType.DocumentHyperlink&&af!==IPCC.Web.UI.MarkType.HighlightText&&af!==IPCC.Web.UI.MarkType.Strikethrough&&af!==IPCC.Web.UI.MarkType.TextLine){if(kK){this.Mu=15;this.Jx=25;this.ng=IPCC.Web.UI.LineHeadType.None;this.BF='#000000';this.GF=15;this.Fj=25;this.HO=IPCC.Web.UI.LineHeadType.None;}else{this.Jz=true;this.jd=true;if(af===IPCC.Web.UI.MarkType.Highlight){this.jd=false;this.cD=100;}}}this.SF=IPCC.Web.UI.aEe++;this.dr=true;this.ae={};this.db=[];var Mf=false;function avD(bv,H){F.bV('commentAdded',H);};function axC(bv,H){F.bV('commentRemoved',H);};function Lx(bv,H){F.bV('commentChanged',H);};ci=new IPCC.Web.UI.Conversation(F);ci.add_commentAdded(avD);ci.add_commentChanged(Lx);ci.add_commentRemoved(axC);this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};function Ve(bv,H){var adU='points';if(af===IPCC.Web.UI.MarkType.Line){adU=H.index===0?'startPoint':'endPoint';}F.cX(adU,H);};if(bM){bM.add_pointAdded(Ve);bM.add_pointChanged(Ve);bM.add_pointRemoved(Ve);}this.ja=function(){return af;};this.ajc=function(){return rr;};this.aaT=function(V){rr=V;};this.aij=function(){return rM;};this.YG=function(V){rM=V;};this.eG=function(){return bj;};this.nx=function(value){if(bj!==value){bj=value;this.cX('artPage');}};this.iX=function(){return Mf;};this.ll=function(V){Mf=V;};this.ahv=function(){var mc=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(af){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bM.sx();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return J.clone();case IPCC.Web.UI.MarkType.Text:var iF=J.x+J.width,it=J.y+J.height;var ajO=J.x+this.lN.x,alz=J.y+this.lN.y;mc.x=Math.min(J.x,Math.min(iF,ajO));mc.y=Math.min(J.y,Math.min(it,alz));mc.width=Math.max(J.x,Math.max(iF,ajO))-mc.x;mc.height=Math.max(J.y,Math.max(it,alz))-mc.y;break;}return mc;};this.eI=function(){return J.clone();};this.AS=function(V){this.EI(16384,'image','aj',V);};this.ct=function(){return this.aj;};this.qx=function(){return bM;};this.azK=function(){return ci;};this.wJ=function(){return dI;};this.Dg=function(V){var uY;if(!J.equals(V)){J=new IPCC.Web.UI.Rectangle(V.x,V.y,V.width,V.height);if(af===IPCC.Web.UI.MarkType.Stamp||af===IPCC.Web.UI.MarkType.SignatureText||af===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){uY=0;if(J.width>=J.height){uY=(J.width/14)/2;}else{uY=J.width/15;}if(uY*15>=J.width){uY=(J.width/15)/2;}this.stampSize=Math.round(uY);}else{var textFontSize=(J.width/6);if(textFontSize>J.height){textFontSize=(J.height-(J.height/6));}var mf=this.get_text();if(!mf){mf=(af===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}uY=mf.length*textFontSize;if(uY>J.width){textFontSize=((J.width/mf.length));}var Gu=Math.round(textFontSize);this.stampSize=Gu.toString();}}this.cX('rectangle');}};this.kO=function(){return this.SF;};this.Hh=function(fB,fM){if(fB!==0||fM!==0){switch(af){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bM.amK(fB,fM);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(af===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bH!==undefined){break;}J.x+=fB;J.y+=fM;this.cX('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.abM=function(YN){if(this.fm&&YN!==this.fm){while(this.fm.length>0){this.fm.pop();}if(YN){this.fm=YN.slice(0);}this.bV('markTextSelectionChanged',{});}};this.HN=function(T){if(this.fm){bG.addHandler('markTextSelectionChanged',T);}};this.FS=function(T){if(this.fm){bG.removeHandler('markTextSelectionChanged',T);}};this.vu=function(T){bG.addHandler('commentAdded',T);};this.CQ=function(T){bG.removeHandler('commentAdded',T);};this.vD=function(T){bG.addHandler('commentRemoved',T);};this.Es=function(T){bG.removeHandler('commentRemoved',T);};this.tg=function(T){bG.addHandler('commentChanged',T);};this.tq=function(T){bG.removeHandler('commentChanged',T);};this.kz=function(T){bG.addHandler('propertyChanged',T);};this.mX=function(T){bG.removeHandler('propertyChanged',T);};this.cX=function(dv){var T=bG.getHandler('propertyChanged');if(T){T(this,new IPCC.oC(dv));}};this.kz(function(G){G.YG(new Date());});return this;};Or.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qx().getPoint(0)+' to '+this.qx().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qx().eu()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.eI();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.eI();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.eI();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qx().eu()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bQ+'", at '+this.eI();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.eI();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.eI();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.eI();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.eI();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.eI();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.eI();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.vz+'", at '+this.eI();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.vz+'", at '+this.eI();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.eI();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.eI();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.eI();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.eI();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.eI();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.eI();}return 'Mark';},initializeDates:function(rr,rM){IPCC.aO.hT(rr,"dateCreated");IPCC.aO.hT(rM,"dateModified");this.aaT(rr);this.YG(rM);},get_dateCreated:function(){return this.ajc();},get_dateModified:function(){return this.aij();},kl:function(ii,dv,lc,V){this.es(ii,dv);if(this[lc]!==V){this[lc]=V;this.cX(dv);}},Kd:function(ii,dv,lc,V){IPCC.aO.UE(V,dv);this.kl(ii,dv,lc,V);},xs:function(ii,dv,lc,V){IPCC.aO.gW(V,dv);this.kl(ii,dv,lc,V);},zR:function(ii,dv,lc,V,vZ,wm){IPCC.aO.lk(V,dv,vZ,wm);this.kl(ii,dv,lc,V);},VK:function(ii,dv,lc,V,vZ,wm){IPCC.aO.lC(V,dv,vZ,wm);this.kl(ii,dv,lc,V);},EI:function(ii,dv,lc,V){IPCC.aO.af(V,dv,'string');this.kl(ii,dv,lc,V);},tQ:function(ii,dv,lc,V,lp){IPCC.aO.lp(V,dv,lp);this.kl(ii,dv,lc,V);},aBG:function(ii,dv,lc,V,lp){IPCC.aO.lp(V,dv,lp,true);this.kl(ii,dv,lc,V);},aCe:function(ii,dv,lc,V){IPCC.aO.bn(V,dv);this.kl(ii,dv,lc,V);},get_artPage:function(){return this.eG();},get_boundingRectangle:function(){return this.ahv();},get_selected:function(){var bj=this.eG();if(!bj){return false;}var eg=bj.BN();return eg.contains(this);},set_selected:function(value){var bj=this.eG();if(bj){if(this.lU!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eg=bj.BN();if(value!==eg.contains(this)){if(value){eg.Oq(this);}else{eg.uV(this);}this.cX('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.es(32,'calloutLineColor');return this.DC;},set_calloutLineColor:function(value){this.Kd(32,'calloutLineColor','DC',value);},get_calloutLineIsDistinct:function(){this.es(32,'calloutLineIsDistinct');return this.xj;},set_calloutLineIsDistinct:function(value){this.kl(32,'calloutLineIsDistinct','xj',value);},get_calloutLineStyle:function(){this.es(32,'calloutLineStyle');return this.rQ;},set_calloutLineStyle:function(value){this.tQ(32,'calloutLineStyle','rQ',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.es(32,'calloutLineWidth');return this.EL;},set_calloutLineWidth:function(value){this.zR(32,'calloutLineWidth','EL',value,0,50);},get_calloutPoint:function(){this.es(32,'calloutPoint');return this.lN;},set_calloutPoint:function(value){this.aCe(32,'calloutPoint','lN',value);},get_calloutType:function(){this.es(32,'calloutType');return this.Ep;},set_calloutType:function(value){this.tQ(32,'calloutType','Ep',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.es(32,'calloutVisible');return this.wF;},set_calloutVisible:function(value){if(!this.wF&&value&&this.ja()===IPCC.Web.UI.MarkType.Text){if(this.lN.x===0&&this.lN.y===0){var J=this.eI();this.set_calloutPoint({x:J.width,y:J.height*1.5});}}this.kl(32,'calloutVisible','wF',value);},get_endHeadAngle:function(){this.es(3,'endHeadAngle');return this.Mu;},set_endHeadAngle:function(value){this.zR(3,'endHeadAngle','Mu',value,0,180);},get_endHeadLength:function(){this.es(3,'endHeadLength');return this.Jx;},set_endHeadLength:function(value){this.zR(3,'endHeadLength','Jx',value,0,100);},get_endHeadType:function(){this.es(3,'endHeadType');return this.ng;},set_endHeadType:function(value){this.tQ(3,'endHeadType','ng',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.es(1<<14|1<<15,'href');return this.lh;},set_href:function(value){this.EI(1<<14|1<<15,'href','lh',value);},has_unsafe_href:function(){return(! !this.lh&&IPCC.h.aph(this.lh));},get_mask:function(){this.es(65536,'mask');return this.iV;},set_mask:function(value){this.kl(65536,'mask','iV',value);},get_borderType:function(){this.es(32768,'borderType');return this.KQ;},set_borderType:function(value){this.EI(32768,'borderType','KQ',value);},get_borderHorizontalRadius:function(){this.es(32768,'borderHorizontalRadius');return this.Ko;},set_borderHorizontalRadius:function(value){this.xs(32768,'borderHorizontalRadius','Ko',value);},get_borderVerticalRadius:function(){this.es(1<<15,'borderVerticalRadius');return this.JJ;},set_borderVerticalRadius:function(value){this.xs(32768,'borderVerticalRadius','JJ',value);},get_borderOpacity:function(){this.es(32768,'rC');return this.rC;},set_borderOpacity:function(value){this.VK(32768,'rC','rC',value,0,255);},get_borderPattern:function(){this.es(32768,'yJ');return this.yJ;},set_borderPattern:function(value){this.kl(32768,'yJ','yJ',value,0,255);},get_fillColor:function(){this.es(16380+(1<<14),'fillColor');return this.ea;},set_fillColor:function(value){this.Kd(16380+(1<<14),'fillColor','ea',value);},get_fillVisible:function(){this.es(16380,'fillVisible');return this.Jz;},set_fillVisible:function(value){this.kl(16380,'fillVisible','Jz',value);},get_fontName:function(){this.es(6176+8192+65536+(1<<18),'fontName');return this.hc;},set_fontName:function(value){this.EI(6176+8192+65536+(1<<18),'fontName','hc',value);if(this.ja()===IPCC.Web.UI.MarkType.SignatureText||this.ja()===IPCC.Web.UI.MarkType.TextLine){var au=(this.ja()===IPCC.Web.UI.MarkType.TextLine)?{wu:'pre'}:{};var hV=IPCC.h.vJ(this.bQ,this.hc,au);this.zF=hV.width;this.zN=hV.height;}if(this.ja()===IPCC.Web.UI.MarkType.TextLine){this.Fz=false;}},get_fontSize:function(){this.es(32+2048+4096+8192,'fontSize');return this.cO;},set_fontSize:function(value){this.zR(32+2048+4096+8192,'fontSize','cO',value,0.1,288);},get_fontStyle:function(){this.es(6176+(1<<18),'fontStyle');return this.cn;},set_fontStyle:function(value){this.aBG(6176+(1<<18),'fontStyle','cn',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.es(3,'headFillColor');return this.BF;},set_headFillColor:function(value){this.Kd(3,'headFillColor','BF',value);},get_interactionMode:function(){this.es(~0,'interactionMode');return this.lU;},set_interactionMode:function(value){this.tQ(~0,'interactionMode','lU',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.es(32+65536+(1<<18),'maxLength');return this.gi;},set_maxLength:function(value){this.xs(32+65536+(1<<18),'maxLength','gi',value);},get_maxFontSize:function(){this.es(1<<18,'maxFontSize');return this.jF;},set_maxFontSize:function(value){this.xs(1<<18,'maxFontSize','jF',value);},get_isClosed:function(){this.es(2,'isClosed');return this.rN;},set_isClosed:function(value){this.kl(2,'isClosed','rN',value);},get_lineColor:function(){return this.kV;},set_lineColor:function(value){this.Kd(13567+32768+(1<<17),'lineColor','kV',value);},get_lineStyle:function(){return this.jD;},set_lineStyle:function(value){this.tQ(63+32768,'lineStyle','jD',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.eb;},set_lineWidth:function(value){this.zR(13567+32768+(1<<17),'lineWidth','eb',value,0,50);},get_lineVisible:function(){this.es(172+65536,'lineVisible');return this.jd;},set_lineVisible:function(value){this.kl(172+65536,'lineVisible','jd',value);},get_opacity:function(){return this.cD;},set_opacity:function(value){this.VK(895+2048+1024,'opacity','cD',value,0,255);},get_points:function(){this.es(19,'points');return this.qx();},get_conversation:function(){return this.azK();},get_data:function(){return this.wJ();},get_image:function(){this.es(16384,'image');return this.ct();},set_image:function(value){this.es(16384,'image');this.AS(value);},get_rectangle:function(){this.es((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.eI();},set_rectangle:function(value){this.es((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aO.J(value,'rectangle');this.Dg(value);if(this.ja()===IPCC.Web.UI.MarkType.TextLine){this.Fz=false;}},get_startHeadAngle:function(){this.es(3,'startHeadAngle');return this.GF;},set_startHeadAngle:function(value){this.zR(3,'startHeadAngle','GF',value,0,180);},get_startHeadLength:function(){this.es(3,'startHeadLength');return this.Fj;},set_startHeadLength:function(value){this.zR(3,'startHeadLength','Fj',value,0,100);},get_startHeadType:function(){this.es(3,'startHeadType');return this.HO;},set_startHeadType:function(value){this.tQ(3,'startHeadType','HO',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.es(14496+65536+(1<<17)+(1<<18),'text');return this.bQ;},set_text:function(value){if(this.bQ===value){return;}this.EI(14496+65536+(1<<17)+(1<<18),'text','bQ',value);if(this.ja()===IPCC.Web.UI.MarkType.SignatureText||this.ja()===IPCC.Web.UI.MarkType.TextLine){var au=(this.ja()===IPCC.Web.UI.MarkType.TextLine)?{wu:'pre'}:{};var hV=IPCC.h.vJ(this.bQ,this.hc,au);this.zF=hV.width;this.zN=hV.height;}if(this.fm){while(this.fm.length>0){this.fm.pop();}}},get_textHorizontalAlignment:function(){this.es(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.iq;},set_textHorizontalAlignment:function(value){this.tQ(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','iq',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.es(32,'textVerticalAlignment');return this.vK;},set_textVerticalAlignment:function(value){this.tQ(32,'textVerticalAlignment','vK',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.es(6176+65536+(1<<18),'textColor');return this.pP;},set_textColor:function(value){this.Kd(6176+65536+(1<<18),'textColor','pP',value);},get_textOpacity:function(){this.es(32,'textOpacity');return this.yU;},set_textOpacity:function(value){this.VK(32,'textOpacity','yU',value,0,255);},get_textOrientation:function(){this.es(32,'textOrientation');return this.zl;},set_textOrientation:function(value){this.tQ(32,'textOrientation','zl',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.ja();},get_visible:function(){return this.dr;},set_visible:function(value){this.kl((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','dr',value);},get_markID:function(){return this.kO();},get_pathString:function(){return this.vz;},set_pathString:function(value){var vz=this.get_pathString();if(vz!==value){this.amq=true;}this.EI(1088,'pathString','vz',value);},get_pathWidth:function(){return this.Tu;},set_pathWidth:function(value){this.xs(1088,'pathWidth','Tu',value);},get_pathHeight:function(){return this.Ue;},set_pathHeight:function(value){this.xs(1088,'pathHeight','Ue',value);},get_startIndex:function(){this.es((1<<17)+(1<<14)+8192+512,'startIndex');return this.ad;},set_startIndex:function(value){this.xs((1<<17)+(1<<14)+8192+512,'startIndex','ad',value);},get_textLength:function(){this.es((1<<17)+(1<<14)+8192+512,'textLength');return this.dJ;},set_textLength:function(value){this.xs((1<<17)+(1<<14)+8192+512,'textLength','dJ',value);},add_propertyChanged:function(handler){this.kz(handler);},remove_propertyChanged:function(handler){this.mX(handler);},add_markTextSelectionChanged:function(handler){this.HN(handler);},remove_markTextSelectionChanged:function(handler){this.FS(handler);},move:function(deltaX,deltaY){IPCC.aO.gW(deltaX,'deltaX');IPCC.aO.gW(deltaY,'deltaY');this.Hh(deltaX,deltaY);},moveBackward:function(){if(this.eG()){var index=this.eG().ow(this);var co=this.eG().ahS();if(index>co){this.eG().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eG()){var index=this.eG().ow(this);if(index<this.eG().WJ()-1){this.eG().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eG()){var co=0;co=this.eG().ahS();this.eG().reorderMark(this,co);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eG()){this.eG().reorderMark(this,this.eG().WJ()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eG()){this.eG().removeMark(this);}},selectText:function(textRanges){this.abM(textRanges);},azI:function(){var fo={};var F=this;var bM,aac,bn,J,C;function cT(dv,LN){fo[LN]=F[dv];};var kK=false;var km=false;var yY=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kK=true;yY=true;fo.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kK=true;yY=true;fo.__type='PolyLineMark:#IPCC.Web';cT('rN','ic');break;case IPCC.Web.UI.MarkType.Rectangle:km=true;fo.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:km=true;fo.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:km=true;fo.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:yY=true;fo.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:km=true;fo.__type='TextMark:#IPCC.Web';cT('DC','clc');cT('xj','clid');cT('rQ','cls');cT('EL','clw');cT('Ep','ct');cT('wF','cv');cT('hc','fn');cT('cO','fs');cT('cn','fst');cT('jD','ls');cT('bQ','te');cT('iq','tha');cT('vK','tva');cT('pP','tc');cT('yU','to');cT('zl','tor');bn=this.lN;if(bn.x!==0||bn.y!==0){fo.cp={x:bn.x,y:bn.y};}break;case IPCC.Web.UI.MarkType.Stamp:km=true;fo.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:km=true;fo.__type='HighlightText:#IPCC.Web';break;}if(kK){cT('Mu','eha');cT('Jx','ehl');cT('ng','eht');cT('BF','hfc');cT('GF','sha');cT('Fj','shl');cT('HO','sht');}else{cT('ea','fc');cT('Jz','fv');cT('jd','lv');}if(km){J=this.get_rectangle();fo.r={x:J.x,y:J.y,width:J.width,height:J.height};}fo.t=this.get_type();cT('kV','lc');cT('jD','ls');cT('eb','lw');cT('cD','o');cT('dr','v');if(yY){bM=this.qx();aac=[];for(C=0;C<bM.get_length();C++){bn=bM.getPoint(C);aac.push({x:bn.x,y:bn.y});}fo.p=aac;}return fo;},aAd:function(fo){var F=this;var bM,C;function cT(dv,LN){if(fo.hasOwnProperty(LN)){F[dv]=fo[LN];}};var kK=false;var km=false;var yY=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kK=true;if(fo.p&&fo.p.length===2){bM=this.qx();bM.setPoint(0,new IPCC.Web.UI.Point(fo.p[0].x,fo.p[0].y));bM.setPoint(1,new IPCC.Web.UI.Point(fo.p[1].x,fo.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kK=true;yY=true;cT('rN','ic');break;case IPCC.Web.UI.MarkType.Rectangle:km=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:km=true;break;case IPCC.Web.UI.MarkType.Ellipse:km=true;break;case IPCC.Web.UI.MarkType.Polygon:yY=true;break;case IPCC.Web.UI.MarkType.Text:km=true;cT('DC','clc');cT('xj','clid');cT('rQ','cls');cT('EL','clw');cT('Ep','ct');cT('wF','cv');cT('hc','fn');cT('cO','fs');cT('cn','fst');cT('jD','ls');cT('bQ','te');cT('iq','tha');cT('vK','tva');cT('pP','tc');cT('yU','to');cT('zl','tor');if(fo.cp){this.lN=new IPCC.Web.UI.Point(fo.cp.x,fo.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:km=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:km=true;break;}if(kK){cT('Mu','eha');cT('Jx','ehl');cT('ng','eht');cT('BF','hfc');cT('GF','sha');cT('Fj','shl');cT('HO','sht');}else{cT('ea','fc');cT('Jz','fv');cT('jd','lv');}if(km){if(fo.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fo.r.x,fo.r.y,fo.r.width,fo.r.height));}}fo.t=this.get_type();cT('kV','lc');cT('jD','ls');cT('eb','lw');cT('cD','o');cT('dr','v');if(fo.p&&yY){bM=this.qx();for(C=0;C<fo.p.length;C++){bM.addPoint(new IPCC.Web.UI.Point(fo.p[C].x,fo.p[C].y));}}return fo;}};Or.registerClass=dC;Or.registerClass('IPCC.Web.UI.Mark');module.exports=Or;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Oh=function(){var bd=[];var bG=new IPCC.Web.UI.fZ();this.Oq=function(G){if(this.Iq(G)=== -1){bd.push(G);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;this.bV('markAdded',H);}};this.aoT=function(zU){var H=new IPCC.Web.UI.MarkEventArgs();H.length=zU.get_length();var F=this;function lq(G){if(F.Iq(G)=== -1){bd.push(G);}};zU.forEach(lq,{});if(H.length>0){this.bV('markAdded',H);}};this.jW=function(ji,dn){var JE=[].concat(bd);var C;for(C=0;C<JE.length;C++){ji.call(dn,JE[C],C,this);}};this.eu=function(){return bd.length;};this.uV=function(G){var C=this.Iq(G);if(C> -1){bd.splice(C,1);var H=new IPCC.Web.UI.MarkEventArgs();H.mark=G;this.bV('markRemoved',H);}};this.Iq=function(G){var C;for(C=0;C<bd.length;C++){if(bd[C]===G){return C;}}return-1;};this.Bz=function(T){bG.addHandler('markAdded',T);};this.zG=function(T){bG.removeHandler('markAdded',T);};this.CJ=function(T){bG.addHandler('markRemoved',T);};this.zJ=function(T){bG.removeHandler('markRemoved',T);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};return this;};Oh.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Oq(mark);},addMarks:function(markCollection){this.aoT(markCollection);},forEach:function(method,context){this.jW(method,context);},get_length:function(){return this.eu();},contains:function(mark){return this.Iq(mark)> -1;},removeMark:function(mark){this.uV(mark);},removeAllMarks:function(){this.jW(function(G,bf,zU){zU.uV(G);});},add_markAdded:function(handler){this.Bz(handler);},remove_markAdded:function(handler){this.zG(handler);},add_markRemoved:function(handler){this.CJ(handler);},remove_markRemoved:function(handler){this.zJ(handler);}};Oh.registerClass=dC;Oh.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Oh;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var MR=function(){return this;};MR.registerClass=dC;MR.prototype={};MR.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=MR;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var Cf=function(){};Cf.registerEnum=fJ;Cf.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Cf.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Cf;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var NT=function(){};NT.registerEnum=fJ;NT.prototype={Full:0,SelectionDisabled:1};NT.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=NT;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var MK=function(){};MK.registerEnum=fJ;MK.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};MK.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=MK;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var fJ=require('./../../IPCC.Util').regEnum;var Vm=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Vm.registerEnum=fJ;Vm.prototype={leftButton:0,middleButton:1,rightButton:2};Vm.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var KY=function(){var agS=false;this.aqr=function(){agS=true;};this.agQ=function(){return agS;};return this;};KY.prototype={preventDefault:function(){this.aqr();}};KY.registerClass=dC;KY.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=KY;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var Mr=function(){};Mr.registerEnum=fJ;Mr.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Mr.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Mr;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var Pe=function(){};Pe.registerEnum=fJ;Pe.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};Pe.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=Pe;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var acS=function(element,qj,RE){var gE=this;var bD;var K;var xL=0;var OZ='';var QJ=false;var bG=new IPCC.Web.UI.fZ();var ef=null;var qO=IPCC.qO;var als=IPCC.qO;var Jn=0.0;var JD=false;var LK=0;var adl= -1;var acr= -1;var adn= -1;function mE(Kn){if(!K){return false;}return K.mE(Kn);};this.bm=function(iU,iR){if(mE(IPCC.Web.UI.DebugErrorLevel.Production)){K.bm(iU,iR);}};this.aM=function(iU,kI,pY){if(!mE(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],(pY?pY:0));}cj+=')';this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);};this.Bm=function(iU,kI,oI,pY){if(!mE(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],(pY?pY:0));}cj+=') = ';cj+=IPCC.iI.sv(oI,1);this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);};this.dp=function(iU,kI,oI){if(!mE(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cj=iU+'(';var C;for(C=0;C<kI.length;C++){if(C>0){cj+=', ';}cj+=IPCC.iI.sv(kI[C],0);}cj+=') = ';cj+=IPCC.iI.sv(oI,1);this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wE=function(lj,bF){if(K){K.oq(lj,IPCC.Web.UI.DebugItemCause.FunctionCall,bF);}};this.oq=function(lj){if(K){K.oq(lj,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.IZ=function(){return K.get_debug();};this.Zb=function(V){K.set_debug(V);};this.zQ=function(){return K.zQ();};this.Kg=function(V){IPCC.aO.lp(V,'value',IPCC.Web.UI.DebugErrorLevel);K.Kg(V);};this.aIy=function(V){JD=V;};this.aGO=function(){return JD;};var od=function(){if(K.ct()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function di(cr,T){bG.addHandler(cr,T);};function bZ(cr,T){bG.removeHandler(cr,T);};this.HJ=function(js,dK){K.azU(js,dK);};this.ayV=function(dK,G){K.vi(G);K.bW();};this.SK=function(T){di('pageOpening',T);};this.ZH=function(T){bZ('pageOpening',T);};this.TP=function(T){di('pageOpened',T);};this.Zg=function(T){bZ('pageOpened',T);};this.awM=function(T){di('pageClosed',T);};this.axA=function(T){bZ('pageClosed',T);};this.Hv=function(T){di('pageOpenFailed',T);};this.FR=function(T){bZ('pageOpenFailed',T);};this.Sz=function(T){di('pageDisplayed',T);};this.Yu=function(T){bZ('pageDisplayed',T);};this.KX=function(T){di('mouseDown',T);};this.Xb=function(T){bZ('mouseDown',T);};this.Le=function(T){di('mouseMove',T);};this.WY=function(T){bZ('mouseMove',T);};this.NC=function(T){di('mouseUp',T);};this.XQ=function(T){bZ('mouseUp',T);};this.avP=function(T){di('contextMenu',T);};this.aFy=function(T){bZ('contextMenu',T);};this.Bz=function(T){di('markAdded',T);};this.zG=function(T){bZ('markAdded',T);};this.Rf=function(T){di('markCreating',T);};this.Wj=function(T){bZ('markCreating',T);};this.He=function(T){di('markChanged',T);};this.Gs=function(T){bZ('markChanged',T);};this.CJ=function(T){di('markRemoved',T);};this.zJ=function(T){bZ('markRemoved',T);};this.GS=function(T){di('markReordered',T);};this.Fq=function(T){bZ('markReordered',T);};this.SM=function(T){di('marksLoaded',T);};this.Yj=function(T){bZ('marksLoaded',T);};this.Hf=function(T){di('markSelectionChanged',T);};this.FU=function(T){bZ('markSelectionChanged',T);};this.AI=function(T){di('textPageReady',T);};this.DW=function(T){bZ('textPageReady',T);};this.Yh=function(T){di('selectTextMouseToolCompleted',T);};this.ZB=function(T){bZ('selectTextMouseToolCompleted',T);};this.Sc=function(T){di('exceptionThrown',T);};this.ZO=function(T){di('scaleChanged',T);};this.Zn=function(T){bZ('scaleChanged',T);};this.Wo=function(T){bZ('exceptionThrown',T);};this.zA=function(T){di('textExtractionFailed',T);};this.CZ=function(T){bZ('textExtractionFailed',T);};this.kz=function(T){di('propertyChanged',T);};this.mX=function(T){bZ('propertyChanged',T);};var bV=function(cr,H){try{var T;T=bG.getHandler(cr);if(T){T(gE,H);}}catch(e){gE.bm(cr+'Event',e);}};var pI=function(cr){function Cb(bv,H){bV(cr,H);};K['add_'+cr](Cb);};var Ly=function(cr){function Cb(bv,H){if(QJ&&K.ME()){Eu();}bV(cr,H);};K['add_'+cr](Cb);};function Eu(){var eL,nM,XY;if(OZ!==''){XY=document.getElementById(OZ);if(XY){eL=gE.Ob();nM='{encodedDocumentIdentifier:"'+eL.encodedDocumentIdentifier;nM+='",pageNumber:'+eL.pageNumber.toString();nM+=',viewFitType:'+eL.viewFitType.toString();if(eL.viewRectangle&&eL.viewFitType===IPCC.Web.UI.FitType.Rectangle){nM+=',viewRectangle:{x:'+eL.viewRectangle.x.toFixed(5);nM+=',y:'+eL.viewRectangle.y.toFixed(5);nM+=',width:'+eL.viewRectangle.width.toFixed(5);nM+=',height:'+eL.viewRectangle.height.toFixed(5);nM+='}';}if(eL.viewRotationDegreesClockwise){nM+=',viewRotationDegreesClockwise:'+eL.viewRotationDegreesClockwise.toString();}if(eL.viewMirror){nM+=',viewMirror:'+eL.viewMirror.toString();}if(eL.viewZoomFactor){nM+=',viewZoomFactor:'+eL.viewZoomFactor.toString();}if(QJ){var bj=K.eG();if(bj){nM+=',artPageJson:"'+IPCC.fU.su(bj.saveToJson())+'"';}}nM+='}';XY.value=nM;}}};var axO=function(){function Cb(bv,H){var Zi=true;switch(H.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Eu();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'IV':case 'vy':Zi=false;break;case 'Kk':if(K.ME()){Eu();}Zi=false;break;}if(Zi){bV('propertyChanged',H);}};K.kz(Cb);};this.Zp=function(af){IPCC.aO.lp(af,'type',IPCC.Web.UI.FitType);if(af===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}od();ef={azR:true,viewFitType:af};aaI();};this.fE=function(){return K.ct()!==undefined;};this.jY=function(){od();return K.ct().width;};this.hN=function(){od();return K.ct().height;};this.axq=function(){od();return K.ct().gM;};this.ayN=function(){return K.bI().eE().aje();};this.ayT=function(){od();return K.ct().hd;};this.JH=function(){if(!K|| !(K.ct())){return '';}return K.ct().get_identifier();};this.Nd=function(){if(!K|| !(K.ct())){return '';}return K.ct().get_encodedIdentifier();};this.nJ=function(){if(!K|| !(K.ct())){return-1;}return K.ct().aW;};this.aAl=function(){if(!K|| !(K.ct())){return 0;}return K.ct().fe;};this.aju=function(){var aj=K.ct();if(!aj){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aX=K.ei();aX.x=aX.y=0;var qn=K.bI().eE();qn.vY();var dA=qn.At(aX);if(dA.x<0){dA.width+=dA.x;dA.x=0;}if(dA.y<0){dA.height+=dA.y;dA.y=0;}if(dA.x+dA.width>aj.width){dA.width=aj.width-dA.x;}if(dA.y+dA.height>aj.height){dA.height=aj.height-dA.y;}return dA;};function Ow(){var cd={},cY=K.bI().eE();cd.documentIdentifier=gE.JH();cd.encodedDocumentIdentifier=gE.Nd();cd.pageNumber=gE.nJ();cd.artPage=gE.eG();cd.referenceDocumentIdentifier=gE.JH();cd.referencePageNumber=gE.nJ();cd.viewFitType=IPCC.Web.UI.FitType.Rectangle;cd.viewRectangle=gE.aju();cd.imGearPage=gE.nd();cd.transientArtPage=gE.lO();var dY=cY.aje();if(dY!==0){cd.viewRotationDegreesClockwise=dY;}if(cY.ayQ()){cd.viewMirror=true;}return cd;};this.ahr=function(ad,cN){K.ahr(ad,cN);};this.Ob=function(){var cd;if(bD){cd=new IPCC.Web.UI.PageViewState();cd.documentIdentifier=bD.documentIdentifier;cd.encodedDocumentIdentifier=bD.encodedDocumentIdentifier;cd.pageNumber=bD.pageNumber;cd.artPage=bD.artPage;cd.artPageJson=bD.artPageJson;cd.referenceDocumentIdentifier=bD.documentIdentifier;cd.referencePageNumber=bD.pageNumber;cd.viewFitType=bD.viewFitType;cd.viewRectangle=bD.viewRectangle;cd.viewRotationDegreesClockwise=bD.viewRotationDegreesClockwise;cd.viewMirror=bD.viewMirror;cd.viewZoomFactor=bD.viewZoomFactor;cd.transientArtPage=bD.transientArtPage;}else{cd=Ow();}return cd;};this.MI=function(aG){var aX=K.ei();this.acl(aG,{x:aX.width/2,y:aX.height/2});};this.acl=function(aG,cl){IPCC.aO.lk(aG,'factor',1.01,20);IPCC.aO.bn(cl,'point');od();var aF=K.bI();var bE=aF.eE();var ag=K.ct();var ly=bE.qY();if(ly*aG>ag.pM){aG=ag.pM/ly;}bE.wR(aG,aG,cl.x,cl.y);bE.jU(ag,K.ei());ef=null;aF.iK(bE);};this.Ty=function(aG){var aX=K.ei();this.aar(aG,{x:aX.width/2,y:aX.height/2});};this.aar=function(aG,cl){IPCC.aO.lk(aG,'factor',1.01,20);IPCC.aO.bn(cl,'point');od();var aF=K.bI();var bE=aF.eE();var ag=K.ct();var ly=bE.qY();if(ly/aG<ag.rD){aG=ly/ag.rD;}bE.wR(1/aG,1/aG,cl.x,cl.y);bE.jU(ag,K.ei());ef=null;aF.iK(bE);};this.ic=function(aG){var aX=K.ei();this.arw(aG,{x:aX.width/2,y:aX.height/2});};this.Dx=function(aG){var aF=K.bI();ef=null;aF.Dx(aG);};this.Ge=function(aG){var aF=K.bI();ef=null;aF.Ge(aG);};this.Ew=function(aG){var aF=K.bI();ef=null;aF.Ew(aG);};this.arw=function(aG,cl){IPCC.aO.bn(cl,'point');od();var aF=K.bI();var bE=aF.eE();var ag=K.ct();var ly=bE.qY();if(aG>ag.pM){aG=ag.pM;}else if(aG<ag.rD){aG=ag.rD;}bE.wR(aG/ly,aG/ly,cl.x,cl.y);bE.jU(ag,K.ei());ef=null;aF.iK(bE);};this.wx=function(tf){IPCC.aO.Vg(tf,'degreesClockwise',[90,180,270,-90,-180,-270]);od();var aF=K.bI();var bE=aF.eE();var aX=K.ei();bE.afJ(tf,aX.width/2,aX.height/2);bE.jU(K.ct(),K.ei());ef=null;aF.iK(bE);};this.anc=function(){od();var aF=K.bI();var bE=aF.eE();var aX=K.ei();bE.wR(-1,1,aX.width/2,aX.height/2);bE.jU(K.ct(),K.ei());ef=null;aF.iK(bE);};this.aDV=function(dA){IPCC.aO.J(dA,'pageRectangle');od();var aF=K.bI();var bE=aF.eE();var aX=K.ei();var ag=K.ct();bE.QP(ag,aX,dA);bE.jU(ag,K.ei());ef=null;aF.iK(bE);};this.aEx=function(bY){IPCC.aO.bn(bY,'imagePoint');od();var aF=K.bI();var bE=aF.eE();var aX=K.ei();bE.afy(aX,bY);bE.jU(K.ct(),K.ei());ef=null;aF.iK(bE);};this.agN=function(){od();ef=null;var aF=K.bI();var bE=aF.eE();var aX=K.ei();bE.wR(1,-1,aX.width/2,aX.height/2);bE.jU(K.ct(),K.ei());ef=null;aF.iK(bE);};this.bW=function(){K.bW();};this.Ji=function(){K.Ji();};var aaI=function(){var ag=K.ct();var aX=K.ei();var bE;if(!ef){bE=K.bI().eE();bE.jU(ag,aX);K.bI().iK(bE);return;}if(ef.azR){bE=K.bI().eE();}else{bE=new IPCC.eQ();bE.aBg(ag,aX);if(ef.viewRotationDegreesClockwise){bE.rotate(ef.viewRotationDegreesClockwise);}if(ef.viewMirror){bE.atz(aX);}}if(ef.viewZoomFactor){if(ef.viewZoomFactor>ag.pM){ef.viewZoomFactor=ag.pM;}else if(ef.viewZoomFactor<ag.rD){ef.viewZoomFactor=ag.rD;}ef.viewFitType=IPCC.Web.UI.FitType.ActualSize;bE.Uj(ef.viewFitType,ag,aX);bE.scale(ef.viewZoomFactor,ef.viewZoomFactor);}else{if(!ef.viewFitType&&ef.viewFitType!==0){ef.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ef.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !ef.viewRectangle){ef.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(ef.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bE.Uj(ef.viewFitType,ag,aX);}else{bE.QP(ag,aX,ef.viewRectangle);}}bE.jU(ag,aX);K.bI().iK(bE);};var alR=function(EW){ef=EW;LK=0;aaI();};this.RJ=function(aV){xL++;var YT=xL;var aqG={};Jn=0.0;K.ML=0.0;IPCC.fU.ano(aV);if(mE(IPCC.Web.UI.DebugErrorLevel.Development)){var cj='opening documentIdentifier "'+aV.documentIdentifier+'", pageNumber '+aV.pageNumber;this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);}bD=new IPCC.Web.UI.PageViewState();var C;for(C in aV){if(aV.hasOwnProperty(C)){bD[C]=aV[C];}}if(aV.documentIdentifier===''){this.KK();return;}if(IPCC.Web.UI.ArtPage){if(bD){if(!bD.artPage){var bj=new IPCC.Web.UI.ArtPage();if(bD.artPageJson){bj.loadFromJson(bD.artPageJson);}bD.artPage=bj;}if(!bD.documentArtPage){var eJ=new IPCC.Web.UI.ArtPage();bD.documentArtPage=eJ;}if(this.jK()===true){if(!bD.imGearPage){var gh=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aV.documentIdentifier,imageServicePath:this.tZ()});bD.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aV.pageNumber,aD:gh});gh.get_pages().addPage(bD.imGearPage);}if(!bD.transientArtPage){bD.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bD.viewRotationDegreesClockwise){IPCC.aO.Vg(bD.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bD.viewFitType){IPCC.aO.lp(bD.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bD.viewZoomFactor){IPCC.aO.lk(bD.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bV('pageOpening',aV);var aj=new IPCC.fU(aV.encodedDocumentIdentifier,aV.pageNumber,0,0,0,0);var pW=function(){if(YT!==xL){return;}var ti=null;if(K.ct()){ti=Ow();}K.bI().or();K.AS(aj);alR(bD);if(aV.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bD){if(bD.artPage){K.nx(bD.artPage);K.eG().loadFromJson(aj.aqs);}}}else{if(bD){if(bD.artPage){K.nx(bD.artPage);}if(bD.documentArtPage){K.IT(bD.documentArtPage);}if(K.jK()===true){if(bD.imGearPage){var SL=bD.imGearPage.get_pageWidth();var UU=bD.imGearPage.get_pageHeight();bD.imGearPage.ni(gE.jE());if(!SL){bD.imGearPage.Lu(gE.get_pageWidth());}if(!UU){bD.imGearPage.Lb(gE.get_pageHeight());}K.Dz(bD.imGearPage);if(typeof(K.nd().Af==='function')){if(!K.nd().cA().Aa()){bD.imGearPage.wb(gE.la());setTimeout(K.nd().Af,1000);}}}if(bD.transientArtPage){K.Dp(bD.transientArtPage);}}}}bD=null;if(ti){bV('pageClosed',ti);}Eu();bV('pageOpened',aV);};if(aV.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bD){if(!bD.artPageJson){aj.aIx(K.tZ(),K,pW,aqG);}else{aj.QL(K.tZ(),K,pW);}}}else{aj.QL(K.tZ(),K,pW);}};this.KK=function(){xL++;if(!(K.ct())){return;}var ti=Ow();K.AS(undefined);K.nx(undefined);K.Dz(undefined);K.Dp(undefined);this.bW();Eu();ti=undefined;bD=undefined;ef=undefined;var cW;cW=gE.lJ();if(cW.igElements){if(cW.igElements.qw){cW.igElements.qw.BA=null;cW.igElements.qw.xu=null;cW.igElements.qw.EP=null;cW.igElements.qw=null;}cW.igElements.Bj=null;cW.igElements.eH=null;cW.igElements.fS=null;cW.igElements.cI=null;cW.igElements.mU=null;cW.igElements.oJ=null;cW.igElements.mw=null;cW.igElements.rG=null;cW.igElements.My=null;cW.igElements.Yb=null;cW.igElements.pU=null;}gE=null;cW.al=null;bV('pageClosed',ti);};this.awq=function(aV){xL++;var YT=xL;Jn=0.0;K.ML=0.0;IPCC.fU.ano(aV);if(mE(IPCC.Web.UI.DebugErrorLevel.Development)){var cj='opening documentIdentifier "'+aV.documentIdentifier+'", pageNumber '+aV.pageNumber;this.wE(cj,IPCC.Web.UI.DebugErrorLevel.Development);}bD=new IPCC.Web.UI.PageViewState();var C;for(C in aV){if(aV.hasOwnProperty(C)){bD[C]=aV[C];}}if(aV.documentIdentifier===''){this.KK();return;}if(IPCC.Web.UI.ArtPage){if(bD){if(!bD.artPage){var bj=new IPCC.Web.UI.ArtPage();bD.artPage=bj;}if(!bD.documentArtPage){var eJ=new IPCC.Web.UI.ArtPage();bD.documentArtPage=eJ;}if(this.jK()===true){if(!bD.imGearPage){var gh=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aV.documentIdentifier,imageServicePath:this.tZ()});bD.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aV.pageNumber,aD:gh});gh.get_pages().addPage(bD.imGearPage);}if(!bD.transientArtPage){bD.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bD.viewRotationDegreesClockwise){IPCC.aO.Vg(bD.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bD.viewFitType){IPCC.aO.lp(bD.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bD.viewZoomFactor){IPCC.aO.lk(bD.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bV('pageOpening',aV);var aj=new IPCC.fU(aV.encodedDocumentIdentifier,aV.pageNumber,0,0,0,0);var pW=function(){if(YT!==xL){return;}var ti=null;if(K.ct()){ti=Ow();}K.bI().or();K.AS(aj);alR(bD);if(bD){if(bD.artPage){K.nx(bD.artPage);}if(bD.documentArtPage){K.IT(bD.documentArtPage);}if(K.jK()===true){if(bD.imGearPage){var SL=bD.imGearPage.get_pageWidth();var UU=bD.imGearPage.get_pageHeight();bD.imGearPage.ni(gE.jE());if(!SL){bD.imGearPage.Lu(gE.get_pageWidth());}if(!UU){bD.imGearPage.Lb(gE.get_pageHeight());}K.Dz(bD.imGearPage);if(typeof(K.nd().Af==='function')){if(!K.nd().cA().Aa()){bD.imGearPage.wb(gE.la());setTimeout(K.nd().Af,1000);}}}if(bD.transientArtPage){K.Dp(bD.transientArtPage);}}}bD=null;if(ti){bV('pageClosed',ti);}Eu();bV('pageOpened',aV);};aj.avk(K.tZ(),K,pW);};this.aHX=function(){xL++;if(!(K.ct())){return;}var aj=K.ct();K.AS(undefined);this.bW();K.AS(aj);};this.abH=function(Dm){K.abH(Dm);};this.nx=function(V){K.nx(V);};this.eG=function(){return K.eG();};this.IT=function(V){K.IT(V);};this.Nx=function(){return K.Nx();};this.lO=function(){return K.lO();};this.Dp=function(V){K.Dp(V);};this.Ca=function(){return K.Ca();};this.aEW=function(V){K.aEW(V);};this.Ku=function(V){K.Ku(V);};this.ub=function(){return K.ub();};this.aDB=function(V){als=this.asA(V);};this.iO=function(){return als;};this.aao=function(V){K.aao(V);};this.WC=function(){return K.WC();};this.lG=function(){return K.lG();};this.qs=function(V){K.qs(V);};this.aeP=function(V){K.aeP(V);};this.abD=function(){return K.abD();};this.Zl=function(awo){K.Zl(awo);};this.abT=function(){return K.abT();};this.asA=function(bp){var ap='',Rx='',UV=function(aU){var rH=0,ap;for(ap in aU){if(aU.hasOwnProperty(ap)){rH+=1;}}return rH;};for(ap in qO){if(qO.hasOwnProperty(ap)){if(typeof bp[ap]==='undefined'){bp[ap]=qO[ap];}if(typeof bp[ap]==='object'){if(!UV(bp[ap])){bp[ap]=qO[ap];}else if(UV(bp[ap])!==UV(qO[ap])){for(Rx in qO[ap]){if(typeof bp[ap][Rx]==='undefined'){bp[ap][Rx]=qO[ap][Rx];}}}}}}return bp;};this.aCW=function(aDw){if(aDw===false){IPCC.ga=false;K.eD([new IPCC.nb(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}else{IPCC.ga=true;IPCC.aeZ=this.iO();K.eD([new IPCC.nb(),new IPCC.dg(),new IPCC.eS(),new IPCC.ck(),new IPCC.cV(false)]);}};this.or=function(){var aF=K.bI();if(!aF.BD()){return;}K.bI().or();};this.aDK=function(dA){IPCC.aO.J(dA,'pageRectangle');var aj=K.ct();if(aj){K.bI().showSelection(dA);}};this.DX=function(bY){IPCC.aO.bn(bY,'imagePoint');if(K.ct()){K.bI().DX(new IPCC.Web.UI.Point(bY.x,bY.y));}};this.ze=function(bY){IPCC.aO.bn(bY,'imagePoint');if(K.ct()){K.bI().ze(new IPCC.Web.UI.Point(bY.x,bY.y));}};this.wa=function(){if(K.ct()&&K.bI().BD()){return K.bI().wa();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aBK=function(){if(K.ct()&&K.bI().BD()){var dA=K.bI().wa();return K.bI().eE().At(dA);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.BD=function(){return! !(K.ct()&&K.bI().BD());};this.tZ=function(){return K.tZ();};this.aaj=function(V){IPCC.aO.ko(V,'value');K.aaj(V);};this.aAh=function(){return OZ;};this.aGC=function(V){IPCC.aO.ko(V,'value');OZ=V;};this.ayb=function(){return QJ;};this.aDy=function(V){QJ=V;};var uv='';this.uq=function(V){K.uq(V);uv=V;};this.lJ=function(){return uv;};this.ayW=function(){return K.bI().get_magnifierMagnification();};this.aFH=function(V){IPCC.aO.lk(V,'value',1.5,8);K.bI().set_magnifierMagnification(V);};this.ayp=function(){return K.bI().vA().width;};this.aGl=function(V){IPCC.aO.lk(V,'value',25,500);var rH=K.bI().vA();rH.width=V;K.bI().set_magnifierWindowSize(rH);};this.axz=function(){return K.bI().vA().height;};this.aGg=function(V){IPCC.aO.lk(V,'value',25,500);var rH=K.bI().vA();rH.height=V;K.bI().set_magnifierWindowSize(rH);};this.KR=function(){return K.bI().KR();};this.abR=function(V){IPCC.aO.lk(V,'value',-500,500);K.bI().abR(V);};this.Ml=function(){return K.bI().Ml();};this.WL=function(V){IPCC.aO.lk(V,'value',-500,500);K.bI().WL(V);};this.VF=function(){return K.bI().VF();};this.XM=function(V){IPCC.aO.lk(V,'value',0.1,0.5);K.bI().XM(V);};this.yN=function(){return K.bI().yN();};this.Ks=function(V){K.bI().Ks(V);};this.raisePropertyChanged=function(dv,ww){if(K){K.cX(dv,ww);}};var ar= -1;this.Ui=function(){return ar;};this.aHq=function(V){K.rg=V;};this.Os=function(V){K.set_areMarksEditable(V);};this.aHs=function(){return K.set_areMarksEditable();};this.Jo=function(V){IPCC.aO.lp(V,'value',IPCC.Web.UI.MouseTool);if(ar!==V){ar=V;var jB="None";switch(ar){case IPCC.Web.UI.MouseTool.None:K.eD([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.ga===true){K.eD([new IPCC.ph(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.ph(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);jB="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.ga===true){K.eD([new IPCC.nb(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.nb(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.ga===true){K.eD([new IPCC.oP(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(true)]);}else{K.eD([new IPCC.oP(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(true)]);}jB="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.ga===true){K.eD([new IPCC.oH(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.oH(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.ga===true){K.eD([new IPCC.mk(),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.mk(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.ga===true){K.eD([new IPCC.ke(IPCC.Web.UI.MarkType.Polyline),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.ke(IPCC.Web.UI.MarkType.Polyline),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.ga===true){K.eD([new IPCC.mi(),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.mi(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.ga===true){K.eD([new IPCC.ke(IPCC.Web.UI.MarkType.Polygon),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.ke(IPCC.Web.UI.MarkType.Polygon),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.TextLine),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.TextLine),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);jB="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.ga===true){K.eD([new IPCC.kh(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.kh(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.ga===true){K.eD([new IPCC.zt(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.zt(IPCC.Web.UI.MarkType.Text),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Stamp),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.Stamp),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.ga===true){K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.fi(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:K.JD=true;if(IPCC.ga===true){K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:K.JD=false;if(IPCC.ga===true){K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.eS(false,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.ga===true){K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.eS(true,this.iO()),new IPCC.ck(),new IPCC.cV(false)]);}else{K.eD([new IPCC.jI(),new IPCC.dg(),new IPCC.ck(),new IPCC.cV(false)]);}jB="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jB});}};this.Mp=function(ars){ar= -1;K.eD(ars);};this.axk=function(){return K.bI().get_presentationQuality();};this.aGi=function(V){IPCC.aO.lk(V,'value',0,100);K.bI().set_presentationQuality(V);};this.ayy=function(){return K.bI().get_scrollBars();};this.aFv=function(V){IPCC.aO.lp(V,'value',IPCC.Web.UI.ScrollBars);K.bI().set_scrollBars(V);};this.avL=function(bY,aru){IPCC.aO.bn(bY,'imagePoint');if(!(K.ct())){return new IPCC.Web.UI.Point(0,0);}var cl=K.bI().eE().transform(bY);if(aru){cl.constrain(K.ei());}return cl;};this.Np=function(cl,arD){IPCC.aO.bn(cl,'windowPoint');var aj=K.ct();if(!aj){return new IPCC.Web.UI.Point(0,0);}var qn=K.bI().eE();qn.vY();var bY=qn.transform(cl);if(arD){bY.constrain(aj);}return bY;};function awL(){var cW;cW=gE.lJ();var ako=cW.clientWidth;var aks=cW.clientHeight;var aAo=(ef&&ef.viewFitType===adl&&ako===acr&&aks===adn);if(aAo){if(LK>2){return;}LK++;}else{adl=ef?ef.viewFitType: -1;acr=ako;adn=aks;LK=0;}aaI();};function aub(){ef=null;};function avz(bv,H){switch(H.gU){case IPCC.fG.adO:gE.acl(1.25,H.Ta.windowPoint);break;case IPCC.fG.abl:gE.aar(1.25,H.Ta.windowPoint);break;case IPCC.fG.abN:gE.wx(H.V);break;case IPCC.fG.ahj:gE.agN();break;case IPCC.fG.amA:gE.anc();break;case IPCC.fG.aaU:gE.Zp(H.V);break;case IPCC.fG.acX:gE.Jo(H.V);break;}};this.jK=function(){return K.jK();};this.Kl=function(V){K.Kl(V);};this.cA=function(){return K.cA();};this.nd=function(){return K.nd();};this.Dz=function(V){K.Dz(V);};this.Ba=function(){return K.get_requireRequestsOptimize();};this.IP=function(V){K.IP(V);};this.la=function(){return K.la();};this.wb=function(V){K.wb(V);};this.IH=function(bY){IPCC.aO.bn(bY,'imagePoint');return K.IH(bY);};this.zX=function(ca){K.zX(ca);};this.Xf=function(){K.Xf();};this.Qt=function(uM,cN){var JF=K.cA().gq().eu();IPCC.aO.lC(uM,'uM',0,JF-1);K.Qt(uM,cN);};this.tx=function(ca){if(ca===undefined){K.bI().tx(ca);return false;}var JF=K.cA().gq().eu();IPCC.aO.lC(ca,'textIndex',0,JF-1);K.tx(ca);return true;};this.Jb=function(){return! !(K.ct()&&K.jK()&&K.cA().nC()===true&&K.bI().Jb());};this.Xd=function(){var aF=K.bI();aF.Xd();};this.OU=function(){if(K.jK()&&K.cA().nC()===true){return Math.min(K.bI().aiC(),K.bI().AW());}};this.Bn=function(){if(K.jK()&&K.cA().nC()===true){return K.bI().Bn();}};this.Ci=function(){if(K.jK()&&K.cA().nC()===true&&K.bI().Jb()){return K.Ci();}else{return "";}};this.AW=function(){return K.bI().AW();};this.aAu=function(){return K.get_cursor();};this.aFK=function(V){K.set_cursor(V);};this.zm=function(){return K.zm();};this.Yn=function(V){K.Yn(V);};this.jE=function(){return K.jE();};this.ni=function(V){K.ni(V);};this.azk=function(){K.bI().hideMagnifier();};this.aEu=function(cl){K.bI().showMagnifier(cl);};this.vi=function(G){if(K.lH().igElements){K.vi(G);K.bW();}};this.JZ=function(){K.JZ();};this.Cu=function(){return K.Cu();};this.pa=function(){if(K.lH().igElements){K.pa(true);}};function awZ(bv,H){var vU=H.scaleFactor;var an={scaleType:"scaledDown",pageNumber:H.pageNumber};if(Jn!==vU){if(vU>Jn){an.scaleType="scaledUp";}Jn=vU;bV('scaleChanged',an);}};this.initialize=function(){K.aDk(this.lJ().id);K.uq(this.lJ().id);if(ar=== -1){this.Jo(IPCC.Web.UI.MouseTool.RectangleZoom);}pI('mouseDown');pI('mouseMove');pI('mouseUp');pI('contextMenu');pI('markCreating');pI('pageOpenFailed');pI('textPageReady');pI('pageDisplayed');pI('exceptionThrown');pI('selectTextMouseToolCompleted');Ly('markAdded');Ly('markChanged');Ly('markRemoved');pI('textExtractionFailed');Ly('markReordered');Ly('marksLoaded');pI('markSelectionChanged');axO();K.aop(awL);K.aoB(aub);K.awn(avz);K.add_scaleChanged(awZ);K.aCz();var cW=this.lJ();cW.al=this;};qj=(qj!==false);K=new IPCC.TK(qj);K.aEX('PageView');K.aFT(RE);};acS.prototype={dispose:function(){this.aM('dispose',arguments);this.KK();},get_debug:function(){try{var aS=this.IZ();this.dp('get_debug',arguments,aS);return aS;}catch(e){this.bm('get_debug',e);throw e;}},set_debug:function(value){try{this.aM('set_debug',arguments);var AA=this.IZ();this.Zb(value);if(!AA){this.aM('set_debug',arguments);}}catch(e){this.bm('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aS=this.zQ();this.dp('get_debugErrorLevel',arguments,aS);return aS;}catch(e){this.bm('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aM('set_debugErrorLevel',arguments);var AA=this.zQ();this.Kg(value);if(AA<IPCC.Web.UI.DebugErrorLevel.Development){this.aM('set_debugErrorLevel',arguments);}}catch(e){this.bm('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var aS=this.abT();this.dp('get_artServiceOption',arguments,aS);return aS;}catch(e){this.bm('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aM('set_artServiceOption',arguments);this.Zl(value);}catch(e){this.bm('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.SK(handler);}catch(e){this.bm('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.ZH(handler);}catch(e){this.bm('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.TP(handler);}catch(e){this.bm('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Zg(handler);}catch(e){this.bm('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awM(handler);}catch(e){this.bm('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.axA(handler);}catch(e){this.bm('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Hv(handler);}catch(e){this.bm('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FR(handler);}catch(e){this.bm('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Sz(handler);}catch(e){this.bm('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yu(handler);}catch(e){this.bm('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.KX(handler);}catch(e){this.bm('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xb(handler);}catch(e){this.bm('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Le(handler);}catch(e){this.bm('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.WY(handler);}catch(e){this.bm('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NC(handler);}catch(e){this.bm('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.XQ(handler);}catch(e){this.bm('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.avP(handler);}catch(e){this.bm('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aFy(handler);}catch(e){this.bm('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.Bz(handler);}catch(e){this.bm('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zG(handler);}catch(e){this.bm('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Rf(handler);}catch(e){this.bm('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wj(handler);}catch(e){this.bm('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.He(handler);}catch(e){this.bm('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gs(handler);}catch(e){this.bm('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.CJ(handler);}catch(e){this.bm('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.zJ(handler);}catch(e){this.bm('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.GS(handler);}catch(e){this.bm('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fq(handler);}catch(e){this.bm('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.SM(handler);}catch(e){this.bm('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Yj(handler);}catch(e){this.bm('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Hf(handler);}catch(e){this.bm('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.FU(handler);}catch(e){this.bm('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Yh(handler);}catch(e){this.bm('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.ZB(handler);}catch(e){this.bm('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.AI(handler);}catch(e){this.bm('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.DW(handler);}catch(e){this.bm('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Sc(handler);},remove_exceptionThrown:function(handler){this.Wo(handler);},add_scaleChanged:function(handler){try{this.ZO(handler);}catch(e){this.bm('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Zn(handler);}catch(e){this.bm('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.kz(handler);}catch(e){this.bm('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mX(handler);}catch(e){this.bm('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.zA(handler);},remove_textExtractionFailed:function(handler){this.CZ(handler);},writeToLog:function(message){try{this.oq(message);}catch(e){this.bm('writeToLog',e);throw e;}},fitPage:function(type){try{this.aM('fitPage',arguments);this.Zp(type);}catch(e){this.bm('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var aS=this.fE();this.dp('get_pageIsOpen',arguments,aS);return aS;}catch(e){this.bm('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var aS=this.jY();this.dp('get_pageWidth',arguments,aS);return aS;}catch(e){this.bm('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var aS=this.hN();this.dp('get_pageHeight',arguments,aS);return aS;}catch(e){this.bm('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var aS=this.axq();this.dp('get_pageXResolution',arguments,aS);return aS;}catch(e){this.bm('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var aS=this.ayT();this.dp('get_pageYResolution',arguments,aS);return aS;}catch(e){this.bm('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var aS=this.JH();this.dp('get_documentIdentifier',arguments,aS);return aS;}catch(e){this.bm('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var aS=this.Nd();this.dp('get_encodedDocumentIdentifier',arguments,aS);return aS;}catch(e){this.bm('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var aS=this.nJ();this.dp('get_pageNumber',arguments,aS);return aS;}catch(e){this.bm('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var aS=this.aAl();this.dp('get_documentPageCount',arguments,aS);return aS;}catch(e){this.bm('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var aS=this.aju();this.dp('get_displayedPageRectangle',arguments,aS);return aS;}catch(e){this.bm('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var aS=this.Ob();this.dp('get_currentState',arguments,aS);return aS;}catch(e){this.bm('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.aM('zoomIn',arguments);this.MI(factor);}catch(e){this.bm('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aM('zoomOut',arguments);this.Ty(factor);}catch(e){this.bm('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.aM('set_sharpening',arguments);this.Dx(factor);}catch(e){this.bm('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.aM('set_gamma',arguments);this.Ge(factor);}catch(e){this.bm('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.aM('set_svgLineWidthMultiplier',arguments);this.Ew(factor);}catch(e){this.bm('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.aM('zoom',arguments);this.ic(factor);}catch(e){this.bm('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.aM('rotate',arguments);this.wx(degreesClockwise);}catch(e){this.bm('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.aM('showPageRectangle',arguments,1);this.aDV(imageRectangle);}catch(e){this.bm('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.aM('showPagePointAtCenter',arguments,1);this.aEx(imagePoint);}catch(e){this.bm('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.aM('mirror',arguments);this.anc();}catch(e){this.bm('mirror',e);throw e;}},flip:function(){try{this.aM('flip',arguments);this.agN();}catch(e){this.bm('flip',e);throw e;}},display:function(){try{this.aM('display',arguments);this.bW();}catch(e){this.bm('display',e);throw e;}},openPage:function(parameters){try{this.aM('openPage',arguments,1);this.RJ(parameters);}catch(e){this.bm('openPage',e);throw e;}},closePage:function(){try{this.aM('closePage',arguments);this.KK();}catch(e){this.bm('closePage',e);throw e;}},hideSelection:function(){try{this.aM('hideSelection',arguments);this.or();}catch(e){this.bm('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.aM('showSelection',arguments);this.aDK(imageRectangle);}catch(e){this.bm('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.aM('showEmptySelection',arguments);this.DX(imagePoint);}catch(e){this.bm('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.aM('extendSelection',arguments);this.ze(imagePoint);}catch(e){this.bm('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.aM('saveArtPage',arguments);this.abH(onSave);}catch(e){this.bm('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var aS=this.wa();this.dp('get_selectionPageRectangle',arguments,aS);return aS;}catch(e){this.bm('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var aS=this.aBK();this.dp('get_selectionWindowRectangle',arguments,aS);return aS;}catch(e){this.bm('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var aS=this.BD();this.dp('get_selectionIsVisible',arguments,aS);return aS;}catch(e){this.bm('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var aS=this.aAh();this.dp('get_controlStateElementId',arguments,aS);return aS;}catch(e){this.bm('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aM('set_controlStateElementId',arguments);this.aGC(value);}catch(e){this.bm('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var aS=this.ayb();this.dp('get_includeArtInPostBack',arguments,aS);return aS;}catch(e){this.bm('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.aM('set_includeArtInPostBack',arguments);this.aDy(value);}catch(e){this.bm('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var aS=this.eG();this.dp('get_artPage',arguments,aS);return aS;}catch(e){this.bm('get_artPage',e);throw e;}},set_artPage:function(value){try{this.aM('set_artPage',arguments);this.nx(value);}catch(e){this.bm('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var aS=this.Nx();this.dp('get_documentArtPage',arguments,aS);return aS;}catch(e){this.bm('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.aM('set_documentArtPage',arguments);this.IT(value);}catch(e){this.bm('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var aS=this.lO();this.dp('get_transientArtPage',arguments,aS);return aS;}catch(e){this.bm('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.aM('set_transientArtPage',arguments);this.Dp(value);}catch(e){this.bm('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var aS=this.tZ();this.dp('get_imageHandlerUrl',arguments,aS);return aS;}catch(e){this.bm('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.aM('set_imageHandlerUrl',arguments);this.aaj(value);}catch(e){this.bm('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var aS=this.ub();this.dp('get_resourcePath',arguments,aS);return aS;}catch(e){this.bm('get_resourcePath',e);throw e;}},set_resourcePath:function(V){try{this.aM('set_resourcePath',arguments);this.Ku(V);}catch(e){this.bm('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var aS=this.iO();this.dp('get_contextMenuLanguageDictionary',arguments,aS);return aS;}catch(e){this.bm('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(V){try{this.aM('set_contextMenuLanguageDictionary',arguments);this.aDB(V);}catch(e){this.bm('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var aS=this.jK();this.dp('get_textRequired',arguments,aS);return aS;}catch(e){this.bm('get_textRequired',e);throw e;}},set_textRequired:function(V){try{this.aM('set_textRequired',arguments);this.Kl(V);}catch(e){this.bm('set_textRequired',e);throw e;}},get_textPage:function(){try{var aS=this.cA();this.dp('get_textPage',arguments,aS);return aS;}catch(e){this.bm('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var aS=this.Jb();this.Bm('textSelectionIsVisible',arguments,aS,1);return aS;}catch(e){this.bm('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var aS=this.Ci();this.Bm('getSelectedText',arguments,aS,1);return aS;}catch(e){this.bm('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var aS=this.Ba();this.dp('get_requireRequestsOptimize',arguments,aS);return aS;}catch(e){this.bm('Ba',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aM('set_requireRequestsOptimize',arguments);this.IP(value);}catch(e){this.bm('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var aS=this.ayW();this.dp('get_magnifierMagnification',arguments,aS);return aS;}catch(e){this.bm('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.aM('set_magnifierMagnification',arguments);this.aFH(value);}catch(e){this.bm('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var aS=this.ayp();this.dp('get_magnifierWidth',arguments,aS);return aS;}catch(e){this.bm('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.aM('set_magnifierWidth',arguments);this.aGl(value);}catch(e){this.bm('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var aS=this.axz();this.dp('get_magnifierHeight',arguments,aS);return aS;}catch(e){this.bm('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.aM('set_magnifierHeight',arguments);this.aGg(value);}catch(e){this.bm('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var aS=this.KR();this.dp('get_magnifierXOffset',arguments,aS);return aS;}catch(e){this.bm('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.aM('set_magnifierXOffset',arguments);this.abR(value);}catch(e){this.bm('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var aS=this.Ml();this.dp('get_magnifierYOffset',arguments,aS);return aS;}catch(e){this.bm('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.aM('set_magnifierYOffset',arguments);this.WL(value);}catch(e){this.bm('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.aM('showMagnifier',arguments,1);this.aEu(windowPoint);}catch(e){this.bm('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.aM('hideMagnifier',arguments);this.azk();}catch(e){this.bm('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var aS=this.VF();this.dp('get_markHandleSize',arguments,aS);return aS;}catch(e){this.bm('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.aM('set_markHandleSize',arguments);this.XM(value);}catch(e){this.bm('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var aS=this.yN();this.dp('get_markHandleMode',arguments,aS);return aS;}catch(e){this.bm('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.aM('set_markHandleMode',arguments);this.Ks(value);}catch(e){this.bm('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var aS=this.Ui();this.dp('get_mouseTool',arguments,aS);return aS;}catch(e){this.bm('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aM('set_mouseTool',arguments);this.Jo(value);}catch(e){this.bm('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var aS=this.axk();this.dp('get_presentationQuality',arguments,aS);return aS;}catch(e){this.bm('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.aM('set_presentationQuality',arguments);this.aGi(value);}catch(e){this.bm('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var aS=this.ayy();this.dp('get_scrollBars',arguments,aS);return aS;}catch(e){this.bm('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.aM('set_scrollBars',arguments);this.aFv(value);}catch(e){this.bm('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var aS=this.nd();this.dp('get_imGearPage',arguments,aS);return aS;}catch(e){this.bm('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.aM('set_imGearPage',arguments);this.Dz(value);}catch(e){this.bm('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var aS=this.la();this.dp('get_serviceResponseTimeout',arguments,aS);return aS;}catch(e){this.bm('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aM('set_serviceResponseTimeout',arguments);this.wb(value);}catch(e){this.bm('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var aS=this.AW();this.dp('get_currentTextIndex',arguments,aS);return aS;}catch(e){this.bm('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var aS=this.aAu();this.dp('get_cursor',arguments,aS);return aS;}catch(e){this.bm('get_cursor',e);throw e;}},set_cursor:function(value){try{this.aM('set_cursor',arguments);this.aFK(value);}catch(e){this.bm('set_cursor',e);throw e;}},get_encryption:function(){try{var aS=this.jE();this.dp('get_encryption',arguments,aS);return aS;}catch(e){this.bm('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aM('set_encryption',arguments);this.ni(value);}catch(e){this.bm('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var aS=this.avL(imagePoint,constrainResultToWindow);this.Bm('transformPagePointToWindow',arguments,aS,1);return aS;}catch(e){this.bm('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var aS=this.Np(windowPoint,constrainResultToImage);this.Bm('transformWindowPointToPage',arguments,aS,1);return aS;}catch(e){this.bm('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var aS=this.IH(pagePoint);this.Bm('transformPagePointToTextIndex',arguments,aS,1);return aS;}catch(e){this.bm('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.aM('removeAllHighlights',arguments);this.Xf();}catch(e){this.bm('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.aM('showTextSelection',arguments);this.Qt(indexOfFirstCharacter,length);}catch(e){this.bm('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.aM('showEmptyTextSelection',arguments);this.zX(textIndex);}catch(e){this.bm('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.aM('extendTextSelection',arguments);this.tx(textIndex);}catch(e){this.bm('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.aM('initializeViewControllers',arguments);this.aCW(showArtContextMenu);}catch(e){this.bm('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var aS=this.zm();this.dp('get_autoUpdate',arguments,aS);return aS;}catch(e){this.bm('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.aM('set_autoUpdate',arguments);this.Yn(value);}catch(e){this.bm('set_autoUpdate',e);throw e;}}};module.exports=acS;},{}],114:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var nL=require('./FitType');var Qm=function(){return this;};Qm.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nL.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Qm.registerClass=dC;Qm.registerClass('IPCC.Web.UI.PageViewState');module.exports=Qm;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var vP=function(x,y){this.x=x;this.y=y;return this;};vP.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};vP.registerClass=dC;vP.registerClass('IPCC.Web.UI.Point');module.exports=vP;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Pf=function(){var bM=[];var bG=new IPCC.Web.UI.fZ();this.aoL=function(bn){var H=new IPCC.Web.UI.PointEventArgs();H.point=bn;H.length=1;bM.push(new IPCC.Web.UI.Point(bn.x,bn.y));H.index=bM.length-1;this.bV('pointAdded',H);};this.aoM=function(aeO){var H=new IPCC.Web.UI.PointEventArgs();H.index=bM.length;H.length=aeO.get_length();function lq(bn){bM.push(bn);};aeO.forEach(lq,{});if(H.length>0){this.bV('pointAdded',H);}};this.jW=function(ji,dn){var abO=[].concat(bM);var C;for(C=0;C<abO.length;C++){ji.call(dn,new IPCC.Web.UI.Point(abO[C].x,abO[C].y),C,this);}};this.zO=function(bf){kb(bf);var eZ=bM[bf];return new IPCC.Web.UI.Point(eZ.x,eZ.y);};this.aBR=function(bf,bn){kb(bf);IPCC.aO.bn(bn,'point');var Sb=bM[bf];if(Sb.x===bn.x&&Sb.y===bn.y){return;}Sb.x=bn.x;Sb.y=bn.y;var H=new IPCC.Web.UI.PointEventArgs();H.point=bn;H.index=bf;H.length=1;this.bV('pointChanged',H);};this.eu=function(){return bM.length;};this.aAP=function(bf){kb(bf);var H=new IPCC.Web.UI.PointEventArgs();H.point=bM[bf];H.index=bf;H.length=1;bM.splice(bf,1);this.bV('pointRemoved',H);};this.aAV=function(){if(bM.length<1){return;}var H=new IPCC.Web.UI.PointEventArgs();H.index=0;H.length=bM.length;bM=[];this.bV('pointRemoved',H);};this.amK=function(fB,fM){if(fB===0&&fM===0){return;}IPCC.aO.gW(fB,'deltaX');IPCC.aO.gW(fM,'deltaY');var C;for(C=0;C<bM.length;C++){bM[C].x+=fB;bM[C].y+=fM;}var H=new IPCC.Web.UI.PointEventArgs();H.index=0;H.length=bM.length;this.bV('pointChanged',H);};this.sx=function(){if(bM.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var C,fR=bM[0].x,iF=bM[0].x,_top=bM[0].y,it=bM[0].y;for(C=1;C<bM.length;C++){var bn=bM[C];fR=Math.min(fR,bn.x);iF=Math.max(iF,bn.x);_top=Math.min(_top,bn.y);it=Math.max(it,bn.y);}return new IPCC.Web.UI.Rectangle(fR,_top,iF-fR,it-_top);};function kb(bf){if(bf>bM.length-1||(bf<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bf);}};this.awu=function(T){bG.addHandler('pointAdded',T);};this.axx=function(T){bG.removeHandler('pointAdded',T);};this.awl=function(T){bG.addHandler('pointChanged',T);};this.ayF=function(T){bG.removeHandler('pointChanged',T);};this.apc=function(T){bG.addHandler('pointRemoved',T);};this.axV=function(T){bG.removeHandler('pointRemoved',T);};this.bV=function(cr,H){var T=bG.getHandler(cr);if(T!==null){T(this,H);}};return this;};Pf.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aoL(point);},addPoints:function(pointCollection){this.aoM(pointCollection);},forEach:function(method,context){this.jW(method,context);},getPoint:function(index){return this.zO(index);},setPoint:function(index,point){this.aBR(index,point);},get_length:function(){return this.eu();},removePoint:function(index){this.aAP(index);},removeAllPoints:function(){this.aAV();},moveAllPoints:function(deltaX,deltaY){this.amK(deltaX,deltaY);},add_pointAdded:function(handler){this.awu(handler);},remove_pointAdded:function(handler){this.axx(handler);},add_pointChanged:function(handler){this.awl(handler);},remove_pointChanged:function(handler){this.ayF(handler);},add_pointRemoved:function(handler){this.apc(handler);},remove_pointRemoved:function(handler){this.axV(handler);}};Pf.registerClass=dC;Pf.registerClass('IPCC.Web.UI.PointCollection');module.exports=Pf;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Pl=function(){return this;};Pl.registerClass=dC;Pl.prototype={};Pl.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=Pl;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var LA=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};LA.prototype={intersect:function(rectangle){var bh=Math.max(this.x,rectangle.x);var bJ=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bh;var dN=Math.max(this.y,rectangle.y);var ah=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dN;if(bJ<=0||ah<=0){bh=dN=bJ=ah=0;}this.x=bh;this.y=dN;this.width=bJ;this.height=ah;},union:function(rectangle){var fR=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var iF=Math.max(this.x+this.width,rectangle.x+rectangle.width);var it=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=fR;this.y=_top;this.width=iF-fR;this.height=it-_top;return this;},scale:function(Um,MT){MT=MT||Um;var fR=this.x*Um;var _top=this.y*MT;var bJ=this.width*Um;var ah=this.height*MT;this.x=fR;this.y=_top;this.width=bJ;this.height=ah;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};LA.registerClass=dC;LA.registerClass('IPCC.Web.UI.Rectangle');module.exports=LA;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var QY=function(){};QY.registerEnum=fJ;QY.prototype={None:0,Both:3,Auto:4};QY.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=QY;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var dC=require('../../IPCC.Util').regClass;var Mb=function(){return this;};Mb.registerClass=dC;Mb.prototype={};Mb.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Mb;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var xT=require('./../../Type');var VZ={aEe:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').Eh,ImGearHttpException:require('./ImGearExceptions').Di,ImGearArgumentException:require('./ImGearExceptions').uD,ImGearArgumentNullException:require('./ImGearExceptions').Dy,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').qF,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').DE,ImGearInvalidOperationException:require('./ImGearExceptions').Be,ImGearNotImplementedException:require('./ImGearExceptions').CD,ImGearParameterCountException:require('./ImGearExceptions').BI,fZ:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),bw:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),XB:require('./highlightItem')};xT.registerNamespace('IPCC.Web.UI');module.exports=VZ;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var fJ=require('../../IPCC.Util').regEnum;var Ps=function(){};Ps.registerEnum=fJ;Ps.prototype={Top:0,Center:1,Bottom:2};Ps.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Ps;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var XB=function(){this.gm=undefined;this.db=[];this.ae={};};module.exports=XB;},{}],124:[function(require,module,exports){var VZ=require('././UI/UI');var h=require('./../IPCC.Util');var AV=require('./Cipher');var aAU=require('./Hash');var gy=require('./Codec');var Cv=require('./Mode');var gJ={};gJ.anI=[];gJ.wY=function(bh){return!isNaN(bh-0)&&bh!==null;};gJ.zB=function(sk,dK){return IPCC.Web.aec(false,arguments);};gJ.amL=function(sk,dK){return IPCC.Web.aec(true,arguments);};gJ.aec=function(useLocale,dK){var ax='';var sk=dK[0];for(var C=0;;){var fc=sk.indexOf('{',C);var mh=sk.indexOf('}',C);if((fc<0)&&(mh<0)){ax+=sk.slice(C);break;}if((mh>0)&&((mh<fc)||(fc<0))){if(sk.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}ax+=sk.slice(C,mh+1);C=mh+2;continue;}ax+=sk.slice(C,fc);C=fc+1;if(sk.charAt(C)==='{'){ax+='{';C++;continue;}if(mh<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var LM=sk.substring(C,mh);var Rk=LM.indexOf(':');var ami=parseInt((Rk<0)?LM:LM.substring(0,Rk),10)+1;if(isNaN(ami)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var ZA=(Rk<0)?'':LM.substring(Rk+1);var tc=dK[ami];if(typeof(tc)==="undefined"||tc===null){tc='';}if(tc.toFormattedString){ax+=tc.toFormattedString(ZA);}else if(useLocale&&tc.amL){ax+=tc.amL(ZA);}else if(tc.format){ax+=tc.format(ZA);}else{ax+=tc.toString();}C=mh+1;}return ax;};gJ.aIs=function(xB){var rk=xB.length;var vq=Math.ceil(rk/4),Lf;var fj=[];fj.length=vq;for(var ld=0,gP=0;ld<vq;ld++,gP+=4){fj[ld]=((xB[gP]&0xff)<<24)+((xB[gP+1]&0xff)<<16)+((xB[gP+2]&0xff)<<8)+(xB[gP+3]&0xff);}if(gP<rk){Lf[ld]=0;for(var yT=0;gP<rk;gP++,yT++){Lf[ld]+=(xB[gP++]&0xff)<<(3-yT);}}return fj;};gJ.anA=function(bQ){var rk=bQ.length;var vq=Math.ceil(rk/4);var fj=[];fj.length=vq;for(var ld=0,gP=0;ld<vq;ld++,gP+=4){fj[ld]=((bQ.charCodeAt(gP)&0xff)<<24)+((bQ.charCodeAt(gP+1)&0xff)<<16)+((bQ.charCodeAt(gP+2)&0xff)<<8)+((bQ.charCodeAt(gP+3)&0xff));}if(gP<rk){fj[ld]=0;for(var yT=0;gP<rk;gP++,yT++){fj[ld]+=(bQ.charCodeAt(gP++)&0xff)<<(3-yT);}}return fj;};gJ.aIj=function(yH){var Dn=new Uint8Array(yH);var rk=Dn.length;var vq=Math.ceil(rk/4),Lf;var fj=[];fj.length=vq;for(var ld=0,gP=0;ld<vq;ld++,gP+=4){fj[ld]=(Dn[gP]<<24)+(Dn[gP+1]<<16)+(Dn[gP+2]<<8)+Dn[gP+3];}if(gP<rk){fj[ld]=0;for(var yT=0;gP<rk;gP++,yT++){Lf[ld]+=Dn[gP++]<<(3-yT);}}return fj;};gJ.Fk=function(fj,im){var ap=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.FA(fj,ap,im);};gJ.FA=function(fj,ap,im){try{var aoI=new IPCC.Web.AV.alf(ap);var dI=IPCC.Web.Cv.atj.Xj(aoI,fj,im);return dI;}catch(bN){return;}};gJ.Fn=function(Fe){return IPCC.Web.anA(Fe.responseText);};gJ.Pk=function(){var EC=new Date();var anG=new Date(EC.getYear(),EC.getMonth(),EC.getDate(),EC.getHours(),EC.getMinutes(),EC.getSeconds());return(+anG);};gJ.jX=function(dF,elt){var len=dF.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dF&&dF[from]===elt){return from;}}return-1;};gJ.aFm=function aGR(){var lw=0xefc8249d;var sG=function(dI){dI=dI.toString();for(var C=0;C<dI.length;C++){lw+=dI.charCodeAt(C);var dU=0.02519603282416938*lw;lw=dU>>>0;dU-=lw;dU*=lw;lw=dU>>>0;dU-=lw;lw+=dU*0x100000000;}return(lw>>>0)*2.3283064365386963e-10;};sG.xq='Mash 0.9';return sG;};gJ.akt=function aGP(){return(function(dK){var CN=0;var Cs=0;var AC=0;var fA=1;if(dK.length===0){dK=[+new Date()];}var sG=IPCC.Web.aFm();CN=sG(' ');Cs=sG(' ');AC=sG(' ');for(var C=0;C<dK.length;C++){CN-=sG(dK[C]);if(CN<0){CN+=1;}Cs-=sG(dK[C]);if(Cs<0){Cs+=1;}AC-=sG(dK[C]);if(AC<0){AC+=1;}}sG=null;var xg=function(){var qS=2091639*CN+fA*2.3283064365386963e-10;CN=Cs;Cs=AC;AC=qS-(fA=qS|0);return AC;};xg.acz=function(){return xg()*0x100000000;};xg.aIi=function(){return xg()+(xg()*0x200000|0)*1.1102230246251565e-16;};xg.xq='Alea 0.9';xg.dK=dK;return xg;}(Array.prototype.slice.call(arguments)));};gJ.nI=function(){if(this.acU===undefined){var zv=document.createElement("div");zv.style.overflow='scroll';zv.style.position='absolute';zv.style.top='-9999px';document.body.appendChild(zv);this.acU=zv.offsetWidth-zv.clientWidth;document.body.removeChild(zv);}return this.acU;};gJ.Ht={aiz:function(hb){var FQ=[];var WR=IPCC.Web.akt().acz;for(var C=0;C<hb;C++){FQ.push(WR());}return FQ;},aab:function(hb,fu){var FQ=[];var WR=IPCC.Web.akt(fu).acz;for(var C=0;C<hb;C++){FQ.push(WR());}return FQ;},aGN:function(im,anP){var hb,mu=true,fk="",Kc,aax,XF,Pr,RO,anu;for(hb=0;hb<4;hb++){if(!mu){fk+='-';}else{mu=false;}RO=0;for(Kc=0;Kc<4;Kc++){Pr=hb*32+Kc*8;aax=IPCC.Web.gb.Yq(im,Pr,4);fk+=aax.toString(16).toUpperCase();XF=IPCC.Web.gb.Yq(im,Pr+4,4);fk+=XF.toString(16).toUpperCase();anu=(aax*16+XF+IPCC.Web.gb.Yq(IPCC.Web.ap,Pr,8))%256;RO=RO|(anu<<(24-(Kc*8)));}anP.anI[hb]=RO;}return fk;}};gJ.ap=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];gJ.gb={aak:function(cS,vg,ajX){cS=IPCC.Web.gb.acn(cS.slice(vg/32),32-(vg&31)).slice(1);return(ajX===undefined)?cS:IPCC.Web.gb.KH(cS,ajX-vg);},Yq:function(cS,vg,aaB){var bh,WV=Math.floor((-vg-aaB)&31);if((vg+aaB-1^vg)& -32){bh=(cS[vg/32|0]<<(32-WV))^(cS[vg/32+1|0]>>>WV);}else{bh=cS[vg/32|0]>>>WV;}return bh&((1<<aaB)-1);},VY:function(zE,us){if(zE.length===0||us.length===0){return zE.concat(us);}var kn=zE[zE.length-1],rW=IPCC.Web.gb.Yd(kn);if(rW===32){return zE.concat(us);}else{return IPCC.Web.gb.acn(us,rW,kn|0,zE.slice(0,zE.length-1));}},wO:function(cS){var pG=cS.length,bh;if(pG===0){return 0;}bh=cS[pG-1];return(pG-1)*32+IPCC.Web.gb.Yd(bh);},KH:function(cS,cf){if(cS.length*32<cf){return cS;}cS=cS.slice(0,Math.ceil(cf/32));var pG=cS.length;cf=cf&31;if(pG>0&&cf){cS[pG-1]=IPCC.Web.gb.JW(cf,cS[pG-1]&0x80000000>>(cf-1),1);}return cS;},JW:function(cf,bh,dW){if(cf===32){return bh;}return(dW?bh|0:bh<<(32-cf))+cf*0x10000000000;},Yd:function(bh){return Math.round(bh/0x10000000000)||32;},aEU:function(cS,eT){if(IPCC.Web.gb.wO(cS)!==IPCC.Web.gb.wO(eT)){return false;}var bh=0,C;for(C=0;C<cS.length;C++){bh|=cS[C]^eT[C];}return(bh===0);},acn:function(cS,rW,IL,fk){var C,alF=0,XU;if(fk===undefined){fk=[];}for(;rW>=32;rW-=32){fk.push(IL);IL=0;}if(rW===0){return fk.concat(cS);}for(C=0;C<cS.length;C++){fk.push(IL|cS[C]>>>rW);IL=cS[C]<<(32-rW);}alF=cS.length?cS[cS.length-1]:0;XU=IPCC.Web.gb.Yd(alF);fk.push(IPCC.Web.gb.JW(rW+XU&31,(rW+XU>32)?IL:fk.pop(),1));return fk;},aby:function(bh,dN){return[bh[0]^dN[0],bh[1]^dN[1],bh[2]^dN[2],bh[3]^dN[3]];}};gJ.AV=AV;gJ.qp=aAU;gJ.gy=gy;gJ.Cv=Cv;gJ.agk=h.agk;gJ.UI=VZ;gJ.regEnum=h.regEnum;gJ.regClass=h.regClass;module.exports=gJ;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var UN=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=UN;},{}],126:[function(require,module,exports){var aCa=function(JC,au){var Nu=new IPCC.PageList(JC);if(au){IPCC.Sa(Nu,au);}Nu.uq(JC);Nu.initialize();return Nu;};module.exports=aCa;},{}],127:[function(require,module,exports){var aBe=function(JC,SA){var qj=SA.handleTouchEvents!==false;var Ni=new IPCC.Web.UI.PageView(JC,qj);if(SA){IPCC.Sa(Ni,SA);}Ni.uq(JC);Ni.initialize();return Ni;};module.exports=aBe;},{}],128:[function(require,module,exports){var qO={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qO;},{}],129:[function(require,module,exports){var Sa=function(cg,jR){var nf;for(var bq in jR){if(jR.hasOwnProperty(bq)){var aB=jR[bq];var aBM=cg["get_"+bq];var adu=cg["set_"+bq];if(typeof(adu)==='function'){adu.apply(cg,[aB]);}else if(aB instanceof Array){nf=aBM.apply(cg);if(!(nf instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bq+" is not an Array property");}for(var C=0,bB=nf.length,pG=aB.length;C<pG;C++,bB++){nf[bB]=aB[C];}}}}};module.exports=Sa;},{}],130:[function(require,module,exports){"use strict";var akS=function(aJ){if(aJ instanceof PCCViewer.AjaxResponse){return aJ;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(aJ);}this.oE=new IPCC.h.oE(aJ);this.status=this.oE.status;this.statusText=this.oE.statusText;this.responseText=this.oE.responseText;if(typeof this.oE.responseBody!=='undefined'){this.responseBody=this.oE.responseBody;}return this;};akS.prototype.getResponseHeader=function(Dw){return this.oE.getResponseHeader(Dw);};var Ed=(function(){function auy(){return IPCC.h.extend({},IPCC.h.na.hX);};function axZ(hX){if(!(typeof hX==='undefined'||(typeof hX==='object'&&hX!==null&& !(hX instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof hX==='object'){var aDe=Object.keys(IPCC.h.aia());Object.keys(hX).forEach(function(Dw){if(aDe.indexOf(Dw)!== -1){throw new Error('Cannot overwrite the header "'+Dw+'".');}});}IPCC.h.na.hX=IPCC.h.extend({},hX);return PCCViewer.Ajax;};function auJ(){return IPCC.h.na.QQ;};function aye(ji){if(typeof ji!=='undefined'&&typeof ji!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.h.na.QQ=ji;return PCCViewer.Ajax;};function fc(au){var bi=PCCViewer.Deferred();if(!(typeof au==='undefined'||(typeof au==='object'&&au!==null&& !(au instanceof Array)))){throw new Error('Options should be an object or undefined.');}function eh(aJ){if(!(aJ instanceof PCCViewer.AjaxResponse)){aJ=new PCCViewer.AjaxResponse(aJ);}bi.resolve(aJ);};function er(ax){if(ax.response){ax.response=new PCCViewer.AjaxResponse(ax.response);}bi.reject(ax);};IPCC.h.na.fc(au).then(eh,er);return bi.getPromise();};return{getHeaders:auy,setHeaders:axZ,getOverrideMethod:auJ,setOverrideMethod:aye,fc:fc,};})();if(Object.defineProperties){Object.defineProperties(Ed,{"headers":{enumerable:true,get:function(){return Ed.getHeaders();},set:function(hX){return Ed.setHeaders(hX);}},"overrideMethod":{enumerable:true,get:function(){return Ed.getOverrideMethod();},set:function(ji){return Ed.setOverrideMethod(ji);}}});}module.exports={AjaxResponse:akS,Ajax:Ed};},{}],131:[function(require,module,exports){var BurnRequest=function(au){this.nP="";this.eL="";this.jG=0;this.qQ="";this.dZ="";this.ql=0;this.fP=false;this.pN=0;this.Vu="";this.rR=false;this.bi=PCCViewer.Deferred();this.dH=this.bi.getPromise();this.then=this.dH.then;this.au=au;this.dZ=null;this.fg=undefined;this.sN=false;this.La=null;PCCViewer.EventEmitter.extend(this);var F=this;if(au.lX){var lX=new PCCViewer.Error(au.lX.code,au.lX.message);delete F.au.lX;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.dZ=lX.code;F.bi.reject(lX);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var F=this;this.rR=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.jG;};BurnRequest.prototype.getWorkerID=function(){return this.nP;};BurnRequest.prototype.getOptions=function(){return this.au;};BurnRequest.prototype.getErrorCode=function(){return this.dZ;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.La;};BurnRequest.prototype.aBb=function(hZ){this.Vu=hZ;};BurnRequest.prototype.Qn=function(fg){this.fg=fg;};BurnRequest.prototype.Xt=function(){var F=this;this.dZ="Failure to generate Markup XML";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("MarkupXMLFail",F.dZ));},0);return this;};BurnRequest.prototype.BW=function(){function eh(aJ){var fV,ax;try{fV=aJ.responseText;if(!fV){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);F.sN=true;return;}else{ax=JSON.parse(fV);setTimeout(function(){aGI(ax);},0);}}catch(e){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);F.sN=true;return;}};function er(ax){F.fP=false;var cj=ax.response.status+" "+ax.response.statusText;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("StatusCode","Status Code "+cj));},0);F.sN=true;return;};try{if(!this.Vu){throw new Error("XMl Markup data for burn is missing");}var F=this;var akK=function(){var SG;if(!(/^[\x00-\x7F]*$/.test(F.fg.aD.get_documentIdentifier()))){SG=F.fg.au.imageHandlerUrl+'/ViewingSession/e'+F.fg.au.documentID+'/MarkupBurner/'+F.nP;}else{SG=F.fg.au.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fg.au.documentID)+'/MarkupBurner/'+F.nP;}PCCViewer.Ajax.fc({method:'GET',url:SG,headers:{'Content-Type':'application/json'}}).then(eh,er);};var aGI=function(gH){if(gH){if(F.rR===true){F.fP=false;return;}if(gH.percentComplete>=0&&F.fP===true){if(gH.percentComplete===100&&gH.state==='complete'){if(gH.processId){F.fP=false;F.nP=gH.processId;F.eL=gH.state;F.ql+=1;F.pN=1000;F.jG= +(gH.percentComplete);var FC;if(!(/^[\x00-\x7F]*$/.test(F.fg.aD.get_documentIdentifier()))){FC=F.fg.au.imageHandlerUrl+'/ViewingSession/e'+F.fg.au.documentID+'/MarkupBurner/'+F.nP+"/Document";}else{FC=F.fg.au.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fg.au.documentID)+'/MarkupBurner/'+F.nP+"/Document";}if(F.au.filename){FC+="?ContentDispositionFilename="+F.au.filename;}F.La=FC;F.sN=true;var aqu= +(gH.percentComplete);setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:aqu});F.bi.resolve(FC);},10);return;}}else{if(gH.state==='error'){F.fP=false;F.dZ=gH.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+F.dZ));},0);F.fP=false;F.sN=true;return;}if(gH.processId){var Qv= +(gH.percentComplete);if(F.jG!==Qv){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Qv});},10);}if(!F.nP){F.nP=gH.processId;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);F.eL=gH.state;F.ql=1;F.fP=true;F.pN=1000;F.jG= +(gH.percentComplete);}if(gH.percentComplete<100){if(F.ql>1){F.pN+=1000;}F.ql+=1;F.eL=gH.state;F.jG= +(gH.percentComplete);if(F.fP===true&&F.rR===false&&F.sN===false){setTimeout(akK,F.pN);}}}}}else{if(F.sN===false){var WW=false;if(F.fP===false){if(gH.state==='complete'){if(!F.La){WW=true;}else{F.sN=true;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.bi.resolve(F.La);},10);return;}}if(gH.state==='processing'&&gH.errorCode===null){if(gH.percentComplete>=0&&gH.percentComplete<100){if(F.ql>1){F.pN+=1000;}F.ql+=1;F.fP=true;F.eL=gH.state;F.jG= +(gH.percentComplete);if(F.fP===true&&F.rR===false){setTimeout(akK,F.pN);}}else{WW=true;}}if(gH.state==='error'||WW===true){F.fP=false;F.dZ=gH.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bi.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gH.errorCode));},0);F.fP=false;F.sN=true;return;}}}}}};var aK;if(!(/^[\x00-\x7F]*$/.test(F.fg.aD.get_documentIdentifier()))){aK=F.fg.au.imageHandlerUrl+'/ViewingSession/e'+F.fg.au.documentID+'/MarkupBurner';}else{aK=F.fg.au.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fg.au.documentID)+'/MarkupBurner';}var Pb=[];if(F.au.removeFormFields){Pb.push('RemoveFormFields=acroform');}if(F.au.redactionOptions){Pb.push(F.au.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(Pb.length>0){aK+=('?'+Pb.join('&'));}PCCViewer.Ajax.fc({method:'POST',url:aK,headers:{'Content-Type':'application/xml;charset=utf-8'},body:F.Vu}).then(eh,er);F.fP=true;}catch(e){this.fP=false;var bb=this,lj=e.message;setTimeout(function(){bb.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bb.bi.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+lj));},0);this.sN=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function auX(aD,aW){var ak=aD.dM.jl(aW);var en=ak.cA();return en.BQ();};function auL(aD,aW){var ak=aD.dM.jl(aW);var en=ak.cA();var GP=en.gq();return GP.azi();};function anL(zT,aFL){var cf=zT.length;if(cf===0){return false;}if(cf!==aFL){return false;}for(var C=0;C<cf;C++){if(zT[C]!==true){return false;}}return true;};var Lv=function(){var F=this;this.GD=false;this.zT=[];this.sj=[];this.AF=[];this.abi=0;this.ai=0;this.iR=false;function qG(EW,aaS){switch(EW){case 'failed':setTimeout(function(){F.bx.trigger('SearchFailed',aaS);},10);break;case 'complete':F.bx.ee=F.sj;F.bx.SU=F.AF;F.bx.uN=true;setTimeout(function(){F.bx.trigger('SearchResultsAvailable',{completedSearchResults:(F.sj)});},10);break;case 'cancelled':break;}setTimeout(function(){F.bx.trigger('SearchCompleted',{completedSearchResults:(F.sj)});},10);};function ayj(){F.bx.cC='Unable to communicate with server, please retry loading the document.';F.bx.dZ='1011';F.bx.uN=true;qG('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});F.iR=true;};function ahV(au,aAM){var azS=IPCC.h.trim(au.type||'').toLowerCase();var ax;switch(azS){case 'taskresult':ax=new PCCViewer.SearchTaskResult();break;default:ax=new PCCViewer.SearchResult();break;}IPCC.h.extend(ax,aAM);var afh=ax.qt+ax.text.length-1;var dn=PCCViewer.GY.formatter.getContext({text:au.searchText,startIndex:ax.qt,endIndex:afh,padding:ax.bU.contextPadding});ax.dn=dn.context;ax.AK=dn.startIndex;if(au.rectangles){var adB={rectangles:au.rectangles,startIndex:ax.qt,endIndex:afh};ax.mc=PCCViewer.GY.formatter.getBoundingRectangle(adB);ax.bK=PCCViewer.GY.formatter.getLineRectangles(adB);}return ax;};function alx(mQ,wh,Hl,gc,fT){var Jw=[];var aaX= !gc;var wc=wh.distance;var zD=[];IPCC.h.forEach(wh.cE,function(cE){zD.push(cE.searchTerm);});var aDp=PCCViewer.GY.proximity.getResults(Hl,zD,wc);IPCC.h.forEach(aDp,function(ax){var gF=ahV({type:aaX?'TaskResult':'Result',searchText:Hl,rectangles:gc},{fT:fT,bU:wh.tu,mQ:mQ,rg:wh.highlightColor,qt:ax.startIndex,bQ:ax.text});Jw.push(gF);});return Jw;};function Sg(mQ,cE,Hl,gc,fT){var aaX= !gc;var Jw=[];var Lm=[cE.searchTerm];var ee=PCCViewer.GY.regex.getResults(Hl,Lm);IPCC.h.forEach(ee,function(ax){if(cE.tu.matchingOptions.wildcard&&(ax.text[0]===" "||ax.text[0]==="\n")){ax.text=ax.text.substring(1);ax.startIndex+=1;}var gF=ahV({type:aaX?'TaskResult':'Result',searchText:Hl,rectangles:gc},{fT:fT,mQ:mQ,cE:cE,bU:cE.tu,qt:ax.startIndex,bQ:ax.text,rg:cE.highlightColor});Jw.push(gF);});return Jw;};function apA(adb,aW,aD,gc){var SV=[];var mQ=Date.now();IPCC.h.forEach(F.cE,function(cE,C){var ee;var pd=IPCC.h.Qj(cE.type);var ak=aD.dM.jl(aW);var en=ak.cA();var fT={width:ak.jY()||en.aCR(),height:ak.hN()||en.ayu()};switch(pd){case 'proximity':ee=alx(mQ,cE,adb,gc,fT);break;default:ee=Sg(mQ,cE,adb,gc,fT);break;}IPCC.h.forEach(ee,function(ax){ax.dO=F.ai;ax.bO=aW+1;ax.Yv=aD.get_documentIdentifier();F.sj[F.ai]=ax;F.ai++;SV.push(ax);});});F.bx.ee=F.sj;if(SV.length){setTimeout(function(){F.bx.trigger('PartialSearchResultsAvailable',{partialSearchResults:(SV),pagesWithoutText:(F.AF)});},10);}};function apJ(bQ){var mQ=Date.now();IPCC.h.forEach(F.cE,function(cE,C){var pd=IPCC.h.Qj(cE.type);var ee;switch(pd){case 'proximity':ee=alx(mQ,cE,bQ);break;default:ee=Sg(mQ,cE,bQ);break;}IPCC.h.forEach(ee,function(ax){ax.dO=F.ai;F.sj[F.ai]=ax;F.ai++;});});F.bx.ee=F.sj;};function ajD(yO,aD){for(var C=0;C<yO.length;C++){if(F.zT[yO[C]]===false){F.zT[yO[C]]=true;var bQ=auX(aD,yO[C]);var gc=auL(aD,yO[C]);if(!bQ&&bQ!==null){F.AF[F.abi]=yO[C];F.abi++;continue;}apA(bQ,yO[C],aD,gc);if(F.bx.rR){if(F.GD){qG('cancelled');F.GD=false;aD.remove_textPagesReceived(MB);return;}break;}}}if(anL(F.zT,aD.fe)&& !F.bx.uN){qG('complete');F.GD=false;aD.remove_textPagesReceived(MB);}};function MB(sender,H){if(H.error=== -1){ayj();return F.bx;}try{if(F.iR===false){ajD(H.textPagesReceived,sender);}}catch(e){F.bx.cC=e.message;F.bx.dZ='1010';F.bx.uN=true;qG('failed',{errorMessage:(e.message)});F.iR=true;return F.bx;}};this.Wi=function(aD,cE,de,bx){F.cE=cE;F.bx=bx;F.bx.de=de;F.bx.on('SearchCancelled',function(){qG('cancelled');F.GD=false;aD.remove_textPagesReceived(MB);});for(var C=0;C<aD.fe;C++){F.zT[C]=false;}if(aD.ajl().eu()>aD.get_numberOfPagesWithText()){F.GD=true;aD.add_textPagesReceived(MB);}if(aD.get_numberOfPagesWithText()>0){ajD(aD.get_pagesWithText(),aD);}return F.bx;};this.aFr=function(bQ){this.bx=new PCCViewer.SearchRequest();try{apJ(bQ);}catch(e){F.bx.cC=e.message;F.bx.dZ='1010';return;}};};module.exports=Lv;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aFU(){return conversation;};if(typeof comment==='string'){this.pn=new IPCC.Web.UI.Comment(comment);}else{this.pn=comment;}this.pn.FZ=this;this.dI=this.pn.get_data();PCCViewer.Data.extend(this);this.Ff=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aGh(){return this.ir;};Comment.prototype.getText=function aHw(){return this.pn.get_text();};Comment.prototype.setText=function aJU(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pn.set_text(text);return this;};Comment.prototype.getCreationTime=function aGE(){var aAY=IPCC.h.GG(this.pn.get_creationTime());return new Date(aAY);};Comment.prototype.setCreationTime=function aJH(time){function aiA(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var agB=IPCC.h.GG(time);if(agB instanceof Error){aiA();}time=new Date(agB);}if(!(time instanceof Date)){aiA();}this.pn.set_creationTime(IPCC.h.tA(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function OO(){return mark;};this.jr=new PCCViewer.ObservableCollection();if(typeof mark.R!=="undefined"){this.yp=mark.R.get_conversation();this.yp.forEach(function(pn){var dQ=new PCCViewer.Comment(pn,this);this.jr.add(dQ);},this);}else{this.yp=new IPCC.Web.UI.Conversation();}this.dI=this.yp.get_data();PCCViewer.Data.extend(this);this.Ff=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function IM(commentText){var dQ=new PCCViewer.Comment(commentText,this);this.jr.add(dQ);this.yp.addComment(dQ.pn);return dQ;};Conversation.prototype.deleteComments=function(comments){var F=this;var acm=this.jr.toArray();var anm=function(dQ){for(var i=0,length=acm.length;i<length;i++){if(acm[i]===dQ){return true;}}return false;};function aiU(dQ,ai){throw new Error(dQ+((ai!==undefined)?' (Array index '+ai+')':'')+' is not a PCCViewer.Comment object.');};function ajs(dQ,ai){throw new Error(((ai!==undefined)?' (Array index '+ai+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!anm(comments)){ajs(comments);}F.jr.remove(comments);F.yp.removeCommentInstance(comments.pn);}else if(comments instanceof Array){IPCC.h.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){aiU(el,idx);}if(!anm(el)){ajs(el,idx);}});IPCC.h.forEach(comments,function(el){F.jr.remove(el);F.yp.removeCommentInstance(el.pn);});}else{aiU(comments);}return this;};Conversation.prototype.getComments=function(){return this.jr.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.sV=function(gN,nS){if(typeof gN.getComments!=="function"||typeof nS.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.oQ(gN,nS);var fO=gN.getComments(),i,length=fO.length;for(i=0;i<length;i++){var afK=fO[i];var aEF=nS.addComment(afK.getText());PCCViewer.Data.oQ(afK,aEF);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(au){this.nP="";this.eL="";this.jG=0;this.dZ="";this.fP=false;this.rR=false;this.au=au;this.xe=null;this.Db=null;this.fg=undefined;this.bi=PCCViewer.Deferred();this.dH=this.bi.getPromise();this.then=this.dH.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var F=this;this.rR=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});F.bi.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.jG;};ConversionRequest.prototype.getWorkerID=function(){return this.nP;};ConversionRequest.prototype.getOptions=function(){return this.au;};ConversionRequest.prototype.getErrorCode=function(){return this.dZ;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.xe;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Db){return this.Db.slice();}return null;};ConversionRequest.prototype.Qn=function(fg){this.fg=fg;};ConversionRequest.prototype.BW=function(){var F=this;F.fP=true;F.axo().then(function onResolve(ss){F.nP=ss.processId;F.jG=ss.percentComplete;F.eL=ss.state;F.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});F.anC(ss).then(function onResolve(aDc){F.fP=false;F.Db=[];if(F.au.xq>1){for(var C=0;C<F.azJ;C++){var xe=F.fg.au.imageHandlerUrl+'/v2/viewingSessions/'+F.fg.au.documentID+'/contentConverters/'+F.nP+'/results/'+C+'/file?ContentDispositionFilename='+encodeURIComponent(F.au.filename);F.Db.push(xe);}F.bi.resolve(F.Db);}else{F.xe=F.fg.au.imageHandlerUrl+'/WorkFile/'+aDc+"?ContentDispositionFilename="+encodeURIComponent(F.au.filename);if(ss.affinityToken){F.xe+="&affinityToken="+encodeURIComponent(ss.affinityToken);}F.Db.push(F.xe);F.bi.resolve(F.xe);}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){F.fP=false;F.dZ=reason.error.code;F.bi.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){F.fP=false;F.bi.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.axo=function(){var aK,kT=PCCViewer.Deferred();var ZF;if(this.au.xq>1){aK=this.fg.au.imageHandlerUrl+'/v2/viewingSessions/'+this.fg.au.documentID+'/contentConverters/';ZF={url:aK,method:'POST',headers:{"Content-Type":"application/json"}};}else{aK=this.fg.au.imageHandlerUrl+'/contentConverters/';ZF={url:aK,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fg.au.documentID})};}PCCViewer.Ajax.fc(ZF).then(function eh(aJ){var ax=JSON.parse(aJ.responseText);kT.resolve(ax);},function er(ax){kT.reject(ax.error);});return kT.getPromise();};ConversionRequest.prototype.anC=function(ss){var aK,kT=PCCViewer.Deferred(),F=this,hX;if(F.au.xq>1){aK=this.fg.au.imageHandlerUrl+'/v2/viewingSessions/'+this.fg.au.documentID+'/contentConverters/'+ss.processId;}else{aK=this.fg.au.imageHandlerUrl+'/contentConverters/'+ss.processId;}if(ss.affinityToken){hX={"Accusoft-Affinity-Token":ss.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fc({method:'GET',url:aK,headers:hX}).then(function eh(aJ){var ax=JSON.parse(aJ.responseText);F.nP=ax.processId;F.jG=ax.percentComplete;F.eL=ax.state;if(F.au.xq>1&&ax.output){F.azJ=ax.output.results.length;}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:F.jG});if(ax.percentComplete===100){if(ax.state==="error"){kT.reject({response:aJ,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{kT.resolve(ax.output.results[0].fileId);}}else{poll();}},function er(ax){kT.reject(ax.error);});},3000);})();return kT.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.dI.get_data(key);};function setData(key,value){this.dI.set_data(key,value);return this;};function getDataKeys(){return this.dI.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},oQ:function(gN,nS){if(typeof gN.getData!=="function"||typeof gN.setData!=="function"||typeof gN.getDataKeys!=="function"||typeof nS.getData!=="function"||typeof nS.setData!=="function"||typeof nS.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var ml=gN.getDataKeys(),i,length=ml.length;for(i=0;i<length;i++){var ap=ml[i];nS.setData(ap,gN.getData(ap));}}};})();var SessionData=(function(){function getSessionData(key){return this.Ff.get_data(key);};function setSessionData(key,value){this.Ff.set_data(key,value);return this;};function getSessionDataKeys(){return this.Ff.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aGU:function(gN,nS){if(typeof gN.getSessionData!=="function"||typeof gN.setSessionData!=="function"||typeof gN.getSessionDataKeys!=="function"||typeof nS.getSessionData!=="function"||typeof nS.setSessionData!=="function"||typeof nS.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var ml=gN.getSessionDataKeys(),i,length=ml.length;for(i=0;i<length;i++){var ap=ml[i];nS.setSessionData(ap,gN.getSessionData(ap));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eL=PromiseDeferred.States.Pending;this.V=null;this.eK=null;this.gk=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var Bd=new PromiseDeferred();var Yc,VD;if(onFulfilled&&typeof onFulfilled==='function'){var aoD=function(V){try{var aS=onFulfilled(V);Bd.resolve(aS);}catch(e){Bd.reject(e);}};Yc=aoD;}else{var aoK=function(V){Bd.resolve(V);};Yc=aoK;}if(onRejected&&typeof onRejected==='function'){var avo=function(eK){try{var aS=onRejected(eK);UW(Bd,aS);}catch(e){Bd.reject(e);}};VD=avo;}else{var awx=function(eK){Bd.reject(eK);};VD=awx;}this.gk.push({ayw:Yc,aFG:VD});if(this.eL===PromiseDeferred.States.Fulfilled){this.ajY();}if(this.eL===PromiseDeferred.States.Rejected){this.alg();}return Bd;};PromiseDeferred.prototype.resolve=function(x){if(!this.akH()){return;}UW(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.akH()){return;}this.Am(reason);};PromiseDeferred.prototype.VQ=function(bh){this.eL=PromiseDeferred.States.Fulfilled;this.V=bh;this.ajY();};PromiseDeferred.prototype.ajY=function(){var callback;while(this.gk.length>0){callback=this.gk.shift().ayw;(function(lq,V){setTimeout(function(){lq(V);},0);})(callback,this.V);}};PromiseDeferred.prototype.alg=function(){var callback;while(this.gk.length>0){callback=this.gk.shift().aFG;(function(lq,V){setTimeout(function(){lq(V);},0);})(callback,this.eK);}};function UW(dH,bh){if(dH===bh){dH.Am(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bh&&bh.Wd&&dH.adH&&dH.adH===bh){dH.Am(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bh&&bh.Wd&&bh.Wd==="PCCViewer.Promise"){bh.then(function(aox){dH.VQ(aox);},function(aoJ){dH.Am(aoJ);});}else if(bh!==null&&(typeof bh==='object'||typeof bh==='function')){var VS;try{VS=bh.then;}catch(e){dH.Am(e);return;}if(typeof VS==='function'){var JX=true;var apH=function(dN){if(JX){UW(dH,dN);JX=false;}};var apQ=function(aS){if(JX){dH.Am(aS);JX=false;}};try{VS.call(bh,apH,apQ);}catch(e){if(JX){dH.Am(e);}}}else{dH.VQ(bh);}}else{dH.VQ(bh);}};PromiseDeferred.prototype.Am=function(reason){this.eL=PromiseDeferred.States.Rejected;this.eK=reason;this.alg();};PromiseDeferred.prototype.akH=function(){return this.eL===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var SO=new PromiseDeferred();function Promise(dH){this.then=function(onFulfilled,onRejected){return new Promise(dH.then(onFulfilled,onRejected));};this.Wd="PCCViewer.Promise";dH.adH=this;};var promise=new Promise(SO);return{getPromise:function(){return promise;},resolve:function(value){SO.resolve(value);},reject:function(reason){SO.reject(reason);}};};var Promise={all:function(promises){var i,bi=new PCCViewer.Deferred(),Yp=bi.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bi=new PCCViewer.Deferred();bi.resolve(value);return bi.getPromise();};bi.resolve([]);for(i=0;i<promises.length;i++){Yp=Yp.then(createPushFunction(promises[i]));}return Yp;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.AU=parameters.AU;this.bO=parameters.bO;};DocumentHyperlink.prototype.getHref=function(){return this.AU.aiy();};DocumentHyperlink.prototype.getPageNumber=function(){return this.bO;};DocumentHyperlink.prototype.getRectangle=function(){return this.AU.eI();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var IX=function(code,message){var adX=Error.call(null,message);this.code=code;function asy(cg,gN){Object.getOwnPropertyNames(gN).forEach(function(propName){Object.defineProperty(cg,propName,Object.getOwnPropertyDescriptor(gN,propName));});return cg;};function aui(cg,gN){for(var i in gN){if(gN.hasOwnProperty(i)){cg[i]=gN[i];}}return cg;};if(typeof Object.create==='function'){asy(this,adX);}else{aui(this,adX);}};var anH=(function(){var dS=function(){};return function(acj){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acj!=='object'){throw TypeError('Argument must be an object');}dS.prototype=acj;var ax=new dS();dS.prototype=null;return ax;};})();if(typeof Object.create==='function'){IX.prototype=Object.create(Error.prototype);}else{IX.prototype=anH(Error.prototype);}IX.prototype.constructor=IX;module.exports=IX;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.cg=target;this.af=type;};Event.prototype.getTarget=function(){return this.cg;};Event.prototype.getType=function(){return this.af;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.hY){this.hY={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.hY[lowerCaseEventType];if(!handlers){handlers=this.hY[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.hY){this.hY={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.hY[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.hY){this.hY={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.hY[lowerCaseEventType],i,length=0;if(properties){PCCViewer.rd.rI(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var ue=function(eventEmitter){this.aE=eventEmitter;this.Ix=true;this.XJ={};};ue.prototype.on=function(eventType,handler){this.aE.on(eventType,handler);return this.aE;};ue.prototype.off=function(eventType,handler){this.aE.off(eventType,handler);return this.aE;};ue.prototype.trigger=function(eventType,properties){if(this.Ix){var lowerCaseEventType=eventType.toLowerCase();if(this.XJ[lowerCaseEventType]){var event=new PCCViewer.Event(this.aE,lowerCaseEventType);if(properties){PCCViewer.rd.rI(event,properties);}this.XJ[lowerCaseEventType](event);}else{this.aE.trigger(eventType,properties);}}return this.aE;};ue.prototype.stop=function(){this.Ix=false;};ue.prototype.resume=function(){this.Ix=true;};ue.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.XJ[lowerCaseEventType]=handler;};module.exports=ue;},{}],142:[function(require,module,exports){var aEQ={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=aEQ;},{}],143:[function(require,module,exports){var nL={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nL;},{}],144:[function(require,module,exports){var rd={};rd.rI=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=rd;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.au=PCCViewer.rd.rI({},Options);};ImageStamps.prototype.requestImageStampList=function(){var bi=PCCViewer.Deferred();var dH=bi.getPromise();try{var aK=this.au.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fc({method:'GET',url:aK}).then(function eh(aJ){var uc;if(aJ.responseText.length>0){uc=JSON.parse(aJ.responseText);if(aJ.status===200){bi.resolve(uc);}else{bi.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function er(ax){bi.reject(ax.error);});}catch(e){bi.reject(new PCCViewer.Error("Error",e.message));}return dH;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bi=PCCViewer.Deferred();var dH=bi.getPromise();try{var aK=this.au.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fc({method:'GET',url:aK,}).then(function eh(aJ){var uc;if(aJ.responseText.length>0){uc=JSON.parse(aJ.responseText);if(aJ.status===200){bi.resolve(uc);}else{bi.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function er(ax){bi.reject(ax.error);});}catch(e){bi.reject(new PCCViewer.Error("Error",e.message));}return dH;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.au.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aAw={data:{},initializeData:function(aAq){PCCViewer.Language.data=IPCC.h.extend({},aAq);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(agb){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var ml=agb.split('.'),aU=PCCViewer.Language.data,ap;while(ml.length){ap=ml.shift();aU=aU[ap];if(typeof aU==='undefined'){aU=agb;break;}}return aU;}};module.exports=aAw;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.yt=layerRecordIds;this.cZ=viewerControl;this.bA=viewerControl.bA;this.dZ="";this.fP=false;this.rR=false;this.jG=0;this.bi=PCCViewer.Deferred();this.dH=this.bi.getPromise();this.then=this.dH.then;this.uU=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.jG;};LoadMarkupLayersRequest.prototype.cancel=function(){var F=this;this.rR=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});F.bi.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.cZ;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.dZ;};LoadMarkupLayersRequest.prototype.BW=function(){var F=this,Zz=1,SD,VB=[];var uU=this.uU;var aeg=function(){F.fP=false;if(F.cZ.oW){F.bi.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{F.bi.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var sC=function(anl){function eh(aJ){if(F.bA.oW){aeg();return;}var sB=JSON.parse(aJ.responseText),KM=F.aGG(sB),ec,rO=[],bd,gp=[],amZ={},NI=0,PV;for(var nq in KM.gp){if(KM.gp.hasOwnProperty(nq)){gp=gp.concat(KM.gp[nq]);}}ec=new PCCViewer.MarkupLayer(F.cZ,gp);ec.aHj={aK:aK};IPCC.h.forEach(KM.rO,function(abA){rO.push(abA);NI++;amZ[abA.uid]=true;});if(sB.name){ec.setName(sB.name);}if(sB.originalXmlName){ec.setOriginalXmlName(sB.originalXmlName);}if(NI>0){PV=function(ev){if(amZ[ev.mark.getUid()]){NI--;}if(!NI){F.bA.aE.off(PCCViewer.EventType.MarkCreated,PV);F.bA.xd=true;}};F.bA.aE.on(PCCViewer.EventType.MarkCreated,PV);F.bA.xd=false;try{bd=F.bA.deserializeMarks(rO);}catch(ce){F.fP=false;F.bA.aE.off(PCCViewer.EventType.MarkCreated,PV);F.bA.xd=true;F.bi.reject(new PCCViewer.Error('Error',ce.message));F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uU){IPCC.h.forEach(bd,function(G){G.setVisible(false);});}ec.addMarks(bd);}ec.aan=anl;for(var tE in sB.data){if(sB.data.hasOwnProperty(tE)){ec.setData(tE,sB.data[tE]);}}F.bA.getMarkupLayerCollection().addItem(ec);VB.push(ec);Zz--;F.jG=(F.yt.length-Zz)/F.yt.length;F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:F.jG});if(F.jG===1){F.fP=false;F.bi.resolve(VB);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:VB});}};function er(ax){F.fP=false;F.bi.reject(ax.error);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var aK=SD+anl+'?'+new Date().getTime();PCCViewer.Ajax.fc({url:aK,method:'GET'}).then(eh,er);};if(this.bA.oW){aeg();return;}if(!(/^[\x00-\x7F]*$/.test(this.bA.aD.get_documentIdentifier()))){SD=this.bA.au.imageHandlerUrl+'/MarkupLayers/e'+this.bA.au.documentID+'/';}else{SD=this.bA.au.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bA.au.documentID)+'/';}if(this.rR){return;}if(Object.prototype.toString.call(this.yt)==='[object Array]'&&this.yt.length>0){Zz=this.yt.length;this.fP=true;IPCC.h.forEach(this.yt,sC,this);}else if(typeof this.yt==="string"){this.fP=true;sC(this.yt);}else{this.fP=false;this.bi.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aGG=function(sB){var Nf={},Pq={};IPCC.h.forEach(sB.marks,function(abu){abu.conversation.comments=[];Nf[abu.uid]=abu;},this);IPCC.h.forEach(sB.comments,function(wz){if(Nf[wz.markUid]){Nf[wz.markUid].conversation.comments.push(wz);}else if(Pq[wz.markUid]){Pq[wz.markUid].push(wz);}else{Pq[wz.markUid]=[wz];}},this);return{rO:Nf,gp:Pq};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var dB={setMask:function(G,iV){var Hj={};IPCC.h.forEach(iV.translations,function(aB,ap){Hj[ap]=new RegExp(aB.replace(/^\/|\/$/g,''));});G.setMask({value:iV.value,translations:Hj});},calculateRectangle:function(aU,au){if(aU.pageData===undefined||(aU.pageData.width===au.aZ&&aU.pageData.height===au.ay)){return aU.rectangle;}else{var mC=au.aZ/aU.pageData.width;return{x:aU.rectangle.x*mC,y:aU.rectangle.y*mC,width:aU.rectangle.width*mC,height:aU.rectangle.height*mC};}},setRectangle:function(G,aU,au){G.setRectangle(dB.calculateRectangle(aU,au));},setLines:function(G,aU,au){var adM,ox,cq=aU.textLength+aU.startIndex-1,bX=aU.selectedText,co={startIndex:aU.startIndex,length:aU.textLength};ox=[];var aW,xl;adM=IPCC.h.reduce(aU.lineGroups,function(fu,oM){aW=oM.pageNumber-1;fu[aW]=IPCC.h.map(oM.lines,function(gw){if(oM.pageData!==undefined){xl=dB.calculateRectangle({rectangle:gw,pageData:oM.pageData},au);return new IPCC.Web.UI.Rectangle(xl.x,xl.y,xl.width,xl.height);}else{return new IPCC.Web.UI.Rectangle(gw.x,gw.y,gw.width,gw.height);}});ox.push({pageIndex:aW,endIndex:oM.startIndex+oM.textLength-1});return fu;},{});G.KA(ox,cq,bX,co,adM);},postCreate:function(G,aU){G.R.aaT(new Date(IPCC.h.GG(aU.creationDateTime)));G.R.YG(new Date(IPCC.h.GG(aU.modificationDateTime)));return G;},calculatePoint:function(bn,fT,au){if(fT===undefined||(fT.width===au.aZ&&fT.height===au.ay)){return bn;}else{return{x:bn.x*au.aZ/fT.width,y:bn.y*au.ay/fT.height};}},Data:function(aU,dI){IPCC.h.forEach(dI,function(aB,ap){aU.setData(ap,aB);});},Comment:function(ci,dQ){var oR=ci.addComment(dQ.text);oR.setCreationTime(dQ.creationDateTime);dB.Data(oR,dQ.data);},Conversation:function(G,ci){var akC=G.getConversation();IPCC.h.forEach(ci.comments?ci.comments:[],function(oR){dB.Comment(akC,oR);});dB.Data(akC,ci.data);},Common:function(aU,au){if(aU.uid===undefined){aU.uid=IPCC.h.aio();}var G=this.agM(aU.pageNumber,aU.type,{uid:aU.uid});if(aU.rectangle&&G.setRectangle){dB.setRectangle(G,aU,au);}if(aU.startPoint&&G.setStartPoint){G.setStartPoint(dB.calculatePoint(aU.startPoint,aU.pageData,au));}if(aU.endPoint&&G.setEndPoint){G.setEndPoint(dB.calculatePoint(aU.endPoint,aU.pageData,au));}if(aU.points&&G.setPoints){G.setPoints(IPCC.h.map(aU.points,function(bn){return dB.calculatePoint(bn,aU.pageData,au);}));}if(aU.lineGroups&&G.KA){G.bH=aU.uid;dB.setLines(G,aU,au);}if(aU.interactionMode){G.setInteractionMode(aU.interactionMode);}G=this.akX(G);dB.Data(G,aU.data);dB.Conversation(G,aU.conversation);return G;},EllipseAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.opacity){G.setOpacity(aU.opacity);}return dB.postCreate(G,aU);},FreehandAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.opacity){G.setOpacity(aU.opacity);}if(aU.path){G.setPath(aU.path);}if(aU.thickness){G.setThickness(aU.thickness);}return dB.postCreate(G,aU);},FreehandSignature:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.path){G.setPath(aU.path);}if(aU.thickness){G.setThickness(aU.thickness);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return dB.postCreate(G,aU);},HighlightAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.fillColor){G.setFillColor(aU.fillColor);}return dB.postCreate(G,aU);},ImageStampAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.imageDataUrl&&aU.imageId){G.setImage({id:aU.imageId,dataUrl:aU.imageDataUrl});}return dB.postCreate(G,aU);},ImageStampRedaction:function(aU,au){return dB.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.endHeadType){G.setEndHeadType(aU.endHeadType);}if(aU.opacity){G.setOpacity(aU.opacity);}if(aU.thickness){G.setThickness(aU.thickness);}return dB.postCreate(G,aU);},PolylineAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.opacity){G.setOpacity(aU.opacity);}if(aU.thickness){G.setThickness(aU.thickness);}return dB.postCreate(G,aU);},RectangleAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.opacity){G.setOpacity(aU.opacity);}return dB.postCreate(G,aU);},RectangleRedaction:function(aU,au){var G=dB.Common.apply(this,arguments);if(G.pp){var fW=aU.reasons||aU.reason;if(fW&& !Array.isArray(fW)){fW=[fW];}if(fW){G.setReasons(fW);}}else{if(aU.reason){G.setReason(aU.reason);}}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fontColor){G.setFontColor(aU.fontColor);}return dB.postCreate(G,aU);},StampAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.label){G.setLabel(aU.label);}if(aU.color){G.setColor(aU.color);}return dB.postCreate(G,aU);},StampRedaction:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.label){G.setLabel(aU.label);}return dB.postCreate(G,aU);},StrikethroughAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.thickness){G.setThickness(aU.thickness);}return dB.postCreate(G,aU);},TextAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.borderColor){G.setBorderColor(aU.borderColor);}if(aU.borderThickness){G.setBorderThickness(aU.borderThickness);}if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.fontSize){G.setFontSize(aU.fontSize);}if(aU.fontStyle){G.setFontStyle(aU.fontStyle);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}if(aU.opacity){G.setOpacity(aU.opacity);}if(aU.text){G.setText(aU.text);}return dB.postCreate(G,aU);},TextAreaSignature:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.text){G.setText(aU.text);}if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.maxFontSize){G.setMaxFontSize(aU.maxFontSize);}if(aU.fontStyle){G.setFontStyle(aU.fontStyle);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return dB.postCreate(G,aU);},TextHyperlinkAnnotation:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.fillColor){G.setFillColor(aU.fillColor);}if(aU.href){G.setHref(aU.href);}return dB.postCreate(G,aU);},TextInputSignature:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.text){G.setText(aU.text);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.mask){dB.setMask(G,aU.mask);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return dB.postCreate(G,aU);},TextRedaction:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.fontColor){G.setFontColor(aU.fontColor);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.fontSize){G.setFontSize(aU.fontSize);}if(aU.maxLength){G.setMaxLength(aU.maxLength);}if(aU.text){G.setText(aU.text);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return dB.postCreate(G,aU);},TextSelectionRedaction:function(aU,au){var G=dB.Common.apply(this,arguments);if(G.pp){var fW=aU.reasons||aU.reason;if(fW&& !Array.isArray(fW)){fW=[fW];}if(fW){G.setReasons(fW);}}else{if(aU.reason){G.setReason(aU.reason);}}return dB.postCreate(G,aU);},TextSignature:function(aU,au){var G=dB.Common.apply(this,arguments);if(aU.color){G.setColor(aU.color);}if(aU.fontName){G.setFontName(aU.fontName);}if(aU.text){G.setText(aU.text);}if(aU.horizontalAlignment){G.setHorizontalAlignment(aU.horizontalAlignment);}return dB.postCreate(G,aU);},TransparentRectangleRedaction:function(aU,au){var G=dB.Common.apply(this,arguments);return dB.postCreate(G,aU);}};module.exports=dB;},{}],149:[function(require,module,exports){var Cf={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Cf;},{}],150:[function(require,module,exports){var ey={serializeMask:function(iV){var abS={value:iV.value,translations:{}};IPCC.h.forEach(iV.translations,function(aB,ap){abS.translations[ap]=aB.toString();});return abS;},copyRectangle:function(J){return{x:J.x,y:J.y,width:J.width,height:J.height};},Common:function(aq,as){var ay;var aZ;if(aq.page){ay=aq.page.get_pageHeight();aZ=aq.page.get_pageWidth();}else{ay=null;aZ=null;}var bO=aq.mark.getPageNumber();var aU={uid:aq.mark.getUid(),interactionMode:aq.mark.getInteractionMode(),pageNumber:bO,type:aq.mark.getType(),creationDateTime:IPCC.h.tA(aq.mark.R.ajc()),modificationDateTime:IPCC.h.tA(aq.mark.R.aij()),data:ey.Data(aq.mark),conversation:ey.Conversation(aq.mark.getConversation())};function zO(bn){return{x:bn.x,y:bn.y};};function arW(){var IA=IPCC.h.map([].concat(aq.mark.R,aq.mark.bS),function(R){if(aZ!==null){return{pageNumber:R.aW+1,pageData:{width:aZ,height:ay},startIndex:R.get_startIndex(),textLength:R.get_textLength(),lines:IPCC.h.map(R.bK,function(aN){if(aN.get_rectangle){return ey.copyRectangle(aN.get_rectangle());}else{return ey.copyRectangle(aN);}})};}else{return{pageNumber:R.aW+1,startIndex:R.get_startIndex(),textLength:R.get_textLength(),lines:IPCC.h.map(R.bK,function(aN){if(aN.get_rectangle){return ey.copyRectangle(aN.get_rectangle());}else{return ey.copyRectangle(aN);}})};}});aU.lineGroups=IA;};function akP(){if(aq.mark.getRectangle){aU.rectangle=ey.copyRectangle(aq.mark.getRectangle());if(aZ!==null){aU.pageData={width:aZ,height:ay};}}if(aq.mark.getStartPoint){aU.startPoint=zO(aq.mark.getStartPoint());if(aZ!==null){aU.pageData=aU.pageData||{width:aZ,height:ay};}}if(aq.mark.getEndPoint){aU.endPoint=zO(aq.mark.getEndPoint());if(aZ!==null){aU.pageData=aU.pageData||{width:aZ,height:ay};}}if(aq.mark.getPoints){var bM=aq.mark.getPoints();aU.points=IPCC.h.map(bM,zO);if(aZ!==null){aU.pageData={width:aZ,height:ay};}}if(aq.mark.R.bK){arW();}};if(aZ!==undefined&&ay!==undefined&&aZ!==0&&ay!==0){akP();as(undefined,aU);}else{aq.vc.requestPageAttributes(bO).then(function aKg(qv){ay=qv.height;aZ=qv.width;akP();as(undefined,aU);},function aFf(eK){as(eK);});}},Data:function(aU){return IPCC.h.reduce(aU.getDataKeys(),function(fu,ap){fu[ap]=aU.getData(ap);return fu;},{});},Comment:function(dQ){return{text:dQ.getText(),data:ey.Data(dQ),creationDateTime:IPCC.h.tA(dQ.getCreationTime())};},Conversation:function(ci){return{comments:IPCC.h.map(ci.getComments(),function(dQ){return ey.Comment(dQ);}),data:ey.Data(ci)};},EllipseAnnotation:function(aq,as){ey.RectangleAnnotation(aq,as);},FreehandAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),opacity:aq.mark.getOpacity(),path:aq.mark.getPath(),thickness:aq.mark.getThickness()});as(undefined,aU);});},FreehandSignature:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),path:aq.mark.getPath(),thickness:aq.mark.getThickness(),horizontalAlignment:aq.mark.getHorizontalAlignment()});as(undefined,aU);});},HighlightAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}var co=aq.mark.getPosition();aU=IPCC.h.extend(aU,{fillColor:aq.mark.getFillColor(),textLength:co.length,startIndex:co.startIndex,selectedText:aq.mark.getText()});as(undefined,aU);});},ImageStampAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}var aj=aq.mark.getImage();aU=IPCC.h.extend(aU,{imageDataUrl:aj.dataUrl,imageId:aj.id});as(undefined,aU);});},ImageStampRedaction:function(aq,as){ey.ImageStampAnnotation(aq,as);},LineAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),endHeadType:aq.mark.getEndHeadType(),opacity:aq.mark.getOpacity(),thickness:aq.mark.getThickness()});as(undefined,aU);});},PolylineAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),opacity:aq.mark.getOpacity(),thickness:aq.mark.getThickness()});as(undefined,aU);});},RectangleAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{borderColor:aq.mark.getBorderColor(),borderThickness:aq.mark.getBorderThickness(),fillColor:aq.mark.getFillColor(),opacity:aq.mark.getOpacity()});as(undefined,aU);});},RectangleRedaction:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{fillColor:aq.mark.getFillColor(),borderColor:aq.mark.getBorderColor(),borderThickness:aq.mark.getBorderThickness(),fontColor:aq.mark.getFontColor()});if(aq.mark.pp){aU.reasons=aq.mark.getReasons();}else{aU.reason=aq.mark.getReason();}as(undefined,aU);});},StampAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{label:aq.mark.getLabel(),color:aq.mark.getColor()});as(undefined,aU);});},StampRedaction:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{label:aq.mark.getLabel()});as(undefined,aU);});},StrikethroughAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}var co=aq.mark.getPosition();aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),thickness:aq.mark.getThickness(),textLength:co.length,startIndex:co.startIndex,selectedText:aq.mark.getText()});as(undefined,aU);});},TextAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{borderColor:aq.mark.getBorderColor(),borderThickness:aq.mark.getBorderThickness(),fillColor:aq.mark.getFillColor(),fontColor:aq.mark.getFontColor(),fontName:aq.mark.getFontName(),fontSize:aq.mark.getFontSize(),fontStyle:aq.mark.getFontStyle(),maxLength:aq.mark.getMaxLength(),horizontalAlignment:aq.mark.getHorizontalAlignment(),opacity:aq.mark.getOpacity(),text:aq.mark.getText()});as(undefined,aU);});},TextAreaSignature:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{text:aq.mark.getText(),fontColor:aq.mark.getFontColor(),fontName:aq.mark.getFontName(),fontStyle:aq.mark.getFontStyle(),maxFontSize:aq.mark.getMaxFontSize(),maxLength:aq.mark.getMaxLength(),horizontalAlignment:aq.mark.getHorizontalAlignment(),});as(undefined,aU);});},TextHyperlinkAnnotation:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}var co=aq.mark.getPosition();aU=IPCC.h.extend(aU,{href:aq.mark.getHref(),fillColor:aq.mark.getFillColor(),textLength:co.length,startIndex:co.startIndex,selectedText:aq.mark.getText()});as(undefined,aU);});},TextInputSignature:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{fontColor:aq.mark.getFontColor(),fontName:aq.mark.getFontName(),text:aq.mark.getText(),mask:aq.mark.getMask(),maxLength:aq.mark.getMaxLength(),horizontalAlignment:aq.mark.getHorizontalAlignment()});if(aq.mark.getMask()){aU.mask=ey.serializeMask(aq.mark.getMask());}as(undefined,aU);});},TextRedaction:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{fontColor:aq.mark.getFontColor(),fontName:aq.mark.getFontName(),fontSize:aq.mark.getFontSize(),text:aq.mark.getText(),maxLength:aq.mark.getMaxLength(),horizontalAlignment:aq.mark.getHorizontalAlignment()});as(undefined,aU);});},TextSelectionRedaction:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}var co=aq.mark.getPosition();aU=IPCC.h.extend(aU,{textLength:co.length,startIndex:co.startIndex,selectedText:aq.mark.getText()});if(aq.mark.pp){aU.reasons=aq.mark.getReasons();}else{aU.reason=aq.mark.getReason();}as(undefined,aU);});},TextSignature:function(aq,as){ey.Common(aq,function(ce,aU){if(ce){as(ce);return;}aU=IPCC.h.extend(aU,{color:aq.mark.getColor(),fontName:aq.mark.getFontName(),text:aq.mark.getText(),horizontalAlignment:aq.mark.getHorizontalAlignment()});as(undefined,aU);});},TransparentRectangleRedaction:function(aq,as){ey.Common(aq,as);}};module.exports=ey;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.bO=0;this.dO=undefined;this.xS=false;this.lU=Mark.InteractionMode.Full;this.dr=true;this.pp=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(bd,kU){IPCC.h.forEach(bd,function validateMark(lQ){if(lQ.getUid()===kU){throw new Error('Uid '+kU+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kU=parameters.uid||IPCC.h.aio();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.R=parameters.igMark;this.dO=this.R.get_markID().toString();this.dI=this.R.get_data();}else{this.dI=new IPCC.Web.UI.Data();}Data.extend(this);this.Ff=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aO.gW(parameters.pageNumber,'pageNumber');this.bO=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aO.ko(parameters.id,'id');this.dO=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.xS){this.af=parameters.type;this.xS=true;}else if(parameters.type!==undefined){IPCC.aO.ko(parameters.type,'type');var FI=RR(parameters.type,Mark.Type);if(FI===null){throw new RangeError("The value of mark type was invalid.");}this.af=FI;}if('cU'in parameters){this.cU=parameters.cU;}if('aI'in parameters){this.aI=parameters.aI;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kU;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kU,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.af;};Mark.prototype.getId=function(){return this.dO;};Mark.prototype.getPageNumber=function(){return this.bO;};Mark.prototype.getConversation=function(){if(!this.ci){this.ci=new PCCViewer.Conversation(this);}return this.ci;};Mark.prototype.getBoundingRectangle=function(){if(this.R){var aN=this.R.get_boundingRectangle();if(aN instanceof IPCC.Web.UI.Rectangle){this.mc={width:aN.width,height:aN.height,x:aN.x,y:aN.y};}}return this.mc;};Mark.prototype.getInteractionMode=function(){if(this.R){switch(this.R.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.lU;};Mark.prototype.setInteractionMode=function(interactionMode){var lU=RR(interactionMode,PCCViewer.Mark.InteractionMode),Wz;switch(lU){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Wz=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Wz=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.R){this.R.set_interactionMode(Wz);}this.lU=lU;return this;};Mark.prototype.reset=function(){var cv=new Mark({type:this.af,xS:this.xS});this.dI={};if(this.setBorderColor&&cv.getBorderColor){this.setBorderColor(cv.getBorderColor());}if(this.setBorderThickness&&cv.getBorderThickness){this.setBorderThickness(cv.getBorderThickness());}if(this.setColor&&cv.getColor){this.setColor(cv.getColor());}if(this.setEndHeadType&&cv.getEndHeadType){this.setEndHeadType(cv.getEndHeadType());}if(this.setEndPoint&&cv.getEndPoint){this.setEndPoint(cv.getEndPoint());}if(this.setFillColor&&cv.getFillColor){this.setFillColor(cv.getFillColor());}if(this.setFontColor&&cv.getFontColor){this.setFontColor(cv.getFontColor());}if(this.setFontName&&cv.getFontName){this.setFontName(cv.getFontName());}if(this.setFontSize&&cv.getFontSize){this.setFontSize(cv.getFontSize());}if(this.setFontStyle&&cv.getFontStyle){this.setFontStyle(cv.getFontStyle());}if(this.setHorizontalAlignment&&cv.getHorizontalAlignment){this.setHorizontalAlignment(cv.getHorizontalAlignment());}if(this.setLabel&&cv.getLabel){this.setLabel(cv.getLabel());}if(this.setPosition&&this.R&&cv.getPosition){this.setPosition(cv.getPosition());}if(this.setReason&&cv.getReason&&this.pp!==true){this.setReason(cv.getReason());}if(this.setReasons&&cv.getReasons&&this.pp!==false){this.setReasons(cv.getReasons());}if(this.setOpacity&&cv.getOpacity){this.setOpacity(cv.getOpacity());}if(this.setRectangle&&cv.getRectangle){this.setRectangle(cv.getRectangle());}if(this.setStartPoint&&cv.getStartPoint){this.setStartPoint(cv.getStartPoint());}if(this.setText&&cv.getText){this.setText(cv.getText());}if(this.setThickness&&cv.getThickness){this.setThickness(cv.getThickness());}if(this.setPath&&cv.getPath){this.setPath(cv.getPath());}if(this.setHref&&cv.getHref){this.setHref(cv.getHref());}if(this.setImage&&cv.getImage){this.setImage(cv.getImage());}if(this.setInteractionMode&&cv.getInteractionMode){this.setInteractionMode(cv.getInteractionMode());}if(this.setPoints&&cv.getPoints){this.setPoints(cv.getPoints());}if(this.setMask&&cv.getMask){this.setMask(cv.getMask());}if(this.setMaxLength&&cv.getMaxLength){this.setMaxLength(cv.getMaxLength());}if(this.setMaxFontSize&&cv.getMaxFontSize){this.setMaxFontSize(cv.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function RR(UR,af){var Zc=UR.toLowerCase();for(var standardType in af){if(af.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Zc){return standardType;}}return null;};function addMethodsToMark(G){function apy(G){G.highlightText=function(highlights){if(!this.R){throw new Error("It is invalid to highlight text on this mark.");}var jQ;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){jQ=[highlights];}else{jQ=highlights;}for(var i=0;i<jQ.length;i++){auN(jQ[i]);}}else{jQ=[];}var af=G.getType();switch(af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:G.R.selectText(jQ);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var F=this;var PL=[];var rI=false,Ph=0,Qp,Bs;var abd=function(Fi,atl,gQ){var yl;var Sn= -1,PE=[];var wj=(Fi.ad+Fi.dJ);if(rI===true&&Qp>=0&&Bs>=0){if(Fi.aW-1===Qp){yl=0;if(Ph<=wj){PE.push({startIndex:yl,length:Ph,color:gQ[Bs].color,opacity:(gQ[Bs].opacity)?gQ[Bs].opacity:127});rI=false;Ph=0;Qp= -1;Bs= -1;}}}for(var bB=0;bB<gQ.length;bB++){yl=Fi.ad+gQ[bB].startIndex-atl;if(yl<0){continue;}if(Array.prototype.indexOf){Sn=PL.indexOf(bB);}else{Sn=IPCC.Web.jX(PL,bB);}var cD=127;if(Sn=== -1){if(yl+gQ[bB].length<=wj){if(gQ[bB].opacity){cD=gQ[bB].opacity;}PE.push({startIndex:yl,length:gQ[bB].length,color:gQ[bB].color,opacity:cD});PL.push(bB);F.DV.push(gQ[bB]);}else{var Yz=wj-yl;if(Yz>0){Ph=gQ[bB].length-Yz;cD=127;if(gQ[bB].opacity){cD=gQ[bB].opacity;}PE.push({startIndex:yl,length:Yz,color:gQ[bB].color,opacity:cD});PL.push(bB);F.DV.push(gQ[bB]);rI=true;Bs=bB;Qp=Fi.aW;}}}}return PE;};this.DV=[];var fm=abd(this.R,0,jQ);G.clearHighlights();if(fm.length>0){F.R.selectText(fm);}fm=[];var hh=this.R.dJ;if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){fm=[];fm=abd(this.bS[C],hh,jQ);hh+=this.bS[C].dJ;if(fm.length>0){this.bS[C].selectText(fm);}}}break;}return this;};function auN(Go){IPCC.aO.lC(Go.startIndex,'highlight.startIndex',0,G.getText().length);IPCC.aO.lC(Go.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aO.dh(Go.color,'highlight.color');if(Go.opacity){IPCC.aO.lC(Go.opacity,"highlight.opacity",0,255);}};G.clearHighlights=function(){if(this.R){if(!this.R){throw new Error("It is invalid to clear highlights on this mark.");}}var af=G.getType();switch(af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:G.R.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.R.selectText();if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].selectText();}}break;}return this;};};var af=G.getType();switch(af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:apy(G);break;default:break;}};function addPropertiesToMark(G){G.mc={x:0,y:0,width:0,height:0};var af=G.getType();switch(af){case Mark.Type.LineAnnotation:G.dh='#18385F';G.jD=IPCC.Web.UI.LineStyle.Solid;G.oa=6;G.cD=255;G.OP={x:0,y:0};G.wj={x:0,y:0};G.ng="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:G.ea='#FB0404';G.cD=255;G.nR='#000000';G.lE=4;G.J={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:G.eK="";G.fW=[];G.ea='#000000';G.nR='#000000';G.lE=1;G.gn='#FFFFFF';G.J={x:0,y:0,width:0,height:0};G.ot=true;if(G.R){G.R.ll(G.ot);}break;case Mark.Type.TransparentRectangleRedaction:G.J={x:0,y:0,width:0,height:0};G.ot=true;if(G.R){G.R.ll(G.ot);G.R.set_fillColor('#FFFF00');G.R.set_opacity(127);G.R.set_lineWidth(1);G.R.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:G.bQ='';G.ea='#FFFFFF';G.cD=127;G.nR='#000000';G.lE=4;G.gn='#000000';G.hc="Arial";G.cO=12;G.cn=[];G.oY="Left";G.gi=0;G.J={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:G.ut="Approved";G.J={x:0,y:0,width:0,height:0};if(af===Mark.Type.StampRedaction){G.ot=true;if(G.R){G.R.ll(G.ot);G.R.set_fillColor('#000000');}}else{G.dh="#000000";}break;case Mark.Type.HighlightAnnotation:G.ea="#FFFF00";G.bQ='';G.bX='';if(G.R){if(G.R.bX){G.bQ=G.R.bX;}}G.co={startIndex:0,length:0};G.DV=[];G.bS=[];break;case Mark.Type.TextSelectionRedaction:G.eK="";G.fW=[];G.bQ='';G.co={startIndex:0,length:0};if(G.R){G.R.set_fillColor('#000000');if(G.R.bX){G.bQ=G.R.bX;}}G.DV=[];G.bS=[];break;case Mark.Type.TextHyperlinkAnnotation:G.lh='';G.ea="#3B00FF";G.bQ='';if(G.R){if(G.R.bX){G.bQ=G.R.bX;}}G.co={startIndex:0,length:0};G.DV=[];G.bS=[];break;case Mark.Type.TextRedaction:G.bQ='';G.gn='#000000';G.hc="Arial";G.cO=12;G.J={x:0,y:0,width:0,height:0};G.ot=true;G.gi=0;if(G.R){G.R.ll(G.ot);G.R.set_fillColor('#FFFFFF');}G.oY="Left";break;case Mark.Type.FreehandAnnotation:G.cD=255;G.J={x:0,y:0,width:0,height:0};G.oa=4;G.dh='#000000';G.gV='M0,0';break;case Mark.Type.FreehandSignature:G.J={x:0,y:0,width:0,height:0};G.oa=4;G.dh='#000000';G.oY="Center";G.gV='M0,0';break;case Mark.Type.TextSignature:G.bQ="John Doe";G.J={x:0,y:0,width:0,height:0};G.dh="#000000";if(G.R){G.dh=G.R.ea||'#000000';G.R.ll(G.ot);G.R.set_fillColor(G.dh);}G.oY="Center";G.hc="";break;case Mark.Type.TextInputSignature:G.bQ="";G.J={x:0,y:0,width:0,height:0};G.gn="#000000";G.gi=0;if(G.R){G.gn=G.R.get_textColor()||'#000000';G.R.ll(false);}G.oY="Left";G.hc="Courier New";G.iV=null;break;case Mark.Type.TextAreaSignature:G.bQ="";G.J={x:0,y:0,width:0,height:0};G.gn="#000000";if(G.R){G.gn=G.R.get_textColor()||'#000000';G.R.ll(false);}G.oY="Left";G.hc="Courier New";G.cn=[];G.gi=0;G.jF=0;break;case 'PlaceSignature':G.ka=undefined;G.J={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:G.aj="";G.qJ="";G.J={x:0,y:0,width:0,height:0};if(G.R&&af===Mark.Type.ImageStampRedaction){G.ot=true;G.R.ll(G.ot);}break;case Mark.Type.PolylineAnnotation:G.dh='#000000';G.jD=IPCC.Web.UI.LineStyle.Solid;G.oa=2;G.cD=255;G.bM=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:G.dh='#000000';G.jD=IPCC.Web.UI.LineStyle.Solid;G.oa=2;G.bQ='';G.bX='';if(G.R){if(G.R.bX){G.bQ=G.R.bX;}}G.co={startIndex:0,length:0};G.DV=[];G.bS=[];break;}function getSignature(){return this.ka||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.ka=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.ka=signature;return this;};if(G.ka||G.af==='PlaceSignature'){G.getSignature=getSignature;G.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(G,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dh=this.R.get_lineColor()||this.dh;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dh=this.R.get_fillColor()||this.dh;break;}}return this.dh;};function setColor(value){IPCC.aO.dh(value,'color');this.dh=value;if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.R.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.R.set_fillColor(value);break;case Mark.Type.TextSignature:this.R.set_textColor(value);this.R.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.R.set_lineColor(value);if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].set_lineColor(value);}}break;}}return this;};if(G.dh!==undefined){G.getColor=getColor;G.setColor=setColor;if(Object.defineProperties){Object.defineProperties(G,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.ea=this.R.get_fillColor()||this.ea;break;}}return this.ea;};function setFillColor(value){if(this.af===PCCViewer.Mark.Type.HighlightAnnotation||this.af===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aO.dh(value,'fillColor');}else{IPCC.aO.UE(value,'fillColor');}this.ea=value;if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.R.set_fillColor(value);if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].set_fillColor(value);}}break;}}return this;};if(G.ea!==undefined){G.getFillColor=getFillColor;G.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(G,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.aj,id:this.qJ};return retVal;};function setImage(params){IPCC.aO.ko(params.dataUrl,'string');IPCC.aO.ko(params.id,'string');this.aj=params.dataUrl;this.qJ=params.id;if(this.R){switch(this.af){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.R.set_image(params.dataUrl);this.R.qJ=params.id;break;}}return this;};if(G.aj!==undefined){G.getImage=getImage;G.setImage=setImage;if(Object.defineProperties){Object.defineProperties(G,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nR=this.R.get_lineColor()||this.nR;break;}}return this.nR;};function setBorderColor(value){IPCC.aO.UE(value,'borderColor');this.nR=value;if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_lineColor(value);break;}}return this;};if(G.nR!==undefined){G.getBorderColor=getBorderColor;G.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(G,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cD=this.R.get_opacity()||this.cD;break;}}return this.cD;};function setOpacity(value){IPCC.aO.lC(value,'opacity',0,255);this.cD=value;if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.R.set_opacity(value);break;}}return this;};if(G.cD!==undefined&&G.cD>=0){G.getOpacity=getOpacity;G.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(G,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.oa=this.R.get_lineWidth()||this.oa;break;}}return this.oa;};function setThickness(value){IPCC.aO.lk(value,'thickness',1,50);this.oa=value;if(this.R){switch(this.af){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.R.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.R.set_lineWidth(value);if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].set_lineWidth(value);}}break;}}return this;};if(G.oa){G.getThickness=getThickness;G.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(G,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.lE=this.R.get_lineWidth()||this.lE;break;}}return this.lE;};function setBorderThickness(value){IPCC.aO.lk(value,'borderThickness',1,50);this.lE=value;if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.R.set_lineWidth(value);break;}}return this;};if(G.lE!==undefined){G.getBorderThickness=getBorderThickness;G.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(G,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.R){this.dr=this.R.get_visible();}return this.dr;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.dr=value;if(this.R){this.R.set_visible(value);}var C;switch(this.af){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.bS&&this.bS.length){for(C=0;C<this.bS.length;C++){this.bS[C].set_visible(value);}}if(this.af===PCCViewer.Mark.Type.TextSelectionRedaction){var fh=this.R;for(C=0;C<this.R.bK.length;C++){fh.bK[C].set_visible(value);}if(fh.bH){IPCC.h.forEach(this.bS,function(R){for(C=0;C<R.bK.length;C++){R.bK[C].set_visible(value);}});}}break;}return this;};if(G.dr!==undefined){G.getVisible=getVisible;G.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(G,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.R&&this.R!==null){var bM=this.R.get_points();if(bM.get_length()>0){switch(this.af){case Mark.Type.LineAnnotation:var bn=bM.getPoint(0);if(bn){this.OP={x:bn.x,y:bn.y};}break;}}}return this.OP;};function setStartPoint(value){IPCC.aO.gW(value.x,'startPoint'+'.x');IPCC.aO.gW(value.y,'startPoint'+'.y');if(this.R&&this.R!==null){var bM=this.R.get_points();switch(this.af){case Mark.Type.LineAnnotation:bM.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.OP=value;return this;};if(G.OP){G.getStartPoint=getStartPoint;G.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(G,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.R&&this.R!==null){var bM=this.R.get_points();if(bM.get_length()>0){switch(this.af){case Mark.Type.LineAnnotation:var bn=bM.getPoint(1);if(bn){this.wj={x:bn.x,y:bn.y};}break;}}}return this.wj;};function setEndPoint(value){IPCC.aO.gW(value.x,'endPoint'+'.x');IPCC.aO.gW(value.y,'endPoint'+'.y');if(this.R&&this.R!==null){var bM=this.R.get_points();switch(this.af){case Mark.Type.LineAnnotation:bM.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.wj=value;return this;};if(G.wj){G.getEndPoint=getEndPoint;G.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(G,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.R&&this.R!==null){var AZ;switch(this.af){case Mark.Type.LineAnnotation:AZ=this.R.get_endHeadType();switch(AZ){case IPCC.Web.UI.LineHeadType.None:this.ng=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.ng=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.ng;};function setEndHeadType(value){var AZ;switch(value){case Mark.LineHeadType.None:AZ=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:AZ=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.R&&this.R!==null){switch(this.af){case Mark.Type.LineAnnotation:this.R.set_endHeadType(AZ);break;}}this.ng=value;return this;};if(G.ng){G.getEndHeadType=getEndHeadType;G.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(G,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.R&&this.R!==null){var EV=this.R.get_points();var cf=EV.get_length();var alI=[];var ZN=function(azB,bf){alI.push(azB.getPoint(bf));};if(cf>1){switch(this.af){case Mark.Type.PolylineAnnotation:for(var C=0;C<cf;C++){ZN(EV,C);}this.bM=alI;break;}}}return this.bM.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bB=0;bB<value.length;bB++){IPCC.aO.bn(value[bB],'PolylinePoint');}if(this.R&&this.R!==null){var EV=this.R.get_points();var aCN=function(bf){EV.addPoint(new IPCC.Web.UI.Point(value[bf].x,value[bf].y));};switch(this.af){case Mark.Type.PolylineAnnotation:EV.removeAllPoints();for(var C=0;C<value.length;C++){aCN(C);}}}this.bM=value;return this;};if(G.bM){G.getPoints=getPoints;G.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(G,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.R){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aN=this.R.get_rectangle();if(aN instanceof IPCC.Web.UI.Rectangle){this.J={width:aN.width,height:aN.height,x:aN.x,y:aN.y};}break;}}return this.J;};function setRectangle(value){IPCC.aO.gW(value.x,'rectangle'+'.x');IPCC.aO.gW(value.y,'rectangle'+'.y');IPCC.aO.gW(value.width,'rectangle'+'.width');IPCC.aO.gW(value.height,'rectangle'+'.height');if(this.R&&this.R!==null){switch(this.af){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aN=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.R.set_rectangle(aN);break;}}this.J=value;return this;};if(G.J){G.getRectangle=getRectangle;G.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(G,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var cN=0;if(this.R&&this.R.bX){cN=this.R.bX.length;}else if(this.R){cN=IPCC.h.reduce([this.R].concat(this.bS||[]),function(cf,R){return cf+R.get_textLength();},0);}return this.R?{startIndex:this.R.ad,length:cN}:this.co;};function setPosition(value){IPCC.aO.gW(value.startIndex,'position.startIndex');IPCC.aO.gW(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.R===undefined||this.R===null){throw new Error("The mark must be on a page.");}var ak;var bj;var aW=this.bO-1;var vp= -value.startIndex;var ox=[];var bX="";var cq;while(true){if(aW>=this.cU.get_length()){throw new Error("The specified length is out of range.");}ak=this.cU.getPage(aW);if(ak.cA()&&ak.cA().Aa()&&ak.cA().nC()===true){var acg=vp;var Wf=ak.cA().BQ();vp+=Wf.length;if(vp<0||(vp===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Rw=0;if(aW===this.bO-1){Rw=value.startIndex;}if(vp>=value.length){cq=value.startIndex+value.length-1;if(acg>=0){cq=value.length-1-acg;}ox.push({pageIndex:aW,endIndex:cq});bX+=Wf.substring(Rw,cq+1);break;}else{cq=ak.cA().BQ().length-1;ox.push({pageIndex:aW,endIndex:cq});bX+=Wf.substring(Rw,cq+1);}}else{throw new Error("The text has not been retrieved for this page.");}aW++;}this.bH=IPCC.Ez();var C=0;if(this.bS){if(this.R){this.R.bH=this.bH;bj=this.aI.hv(this.cU.getPage(this.R.aW));if(this.R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Xv=this.R.bK.length-1;Xv>=0;Xv--){bj.removeMark(this.R.bK[Xv]);this.R.bK.pop();}}}for(C=this.bS.length-1;C>=0;C--){var mo=this.bS[C];bj=this.aI.hv(this.cU.getPage(mo.aW));bj.removeMark(mo);this.bS.splice(C,1);}}else{this.bS=[];}KA.call(this,ox,cq,bX,value);this.co=value;return this;};function KA(ox,cq,bX,value,YX){var C,aW,ak,bj;YX=YX||{};var bK;this.bS=this.bS||[];var ael=(this.R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?aup:atK;for(C=0;C<ox.length;C++){aW=ox[C].pageIndex;ak=this.cU.getPage(aW);var aol=ak.cA().gq();bj=this.aI.hv(ak);var fh;var ad=0;cq=ox[C].endIndex;if(C===0){ad=value.startIndex;}aW=ox[C].pageIndex;bK=YX[aW]||IPCC.h.Zq(aol,ad,cq);if(C===0){fh=ael(this.R,ad,cq-ad+1,bX,bK,aW,this.bH,this.R.get_type(),bj);this.R.kA=true;}else{fh=ael(null,ad,cq-ad+1,bX,bK,aW,this.bH,this.R.get_type(),bj);this.bS.push(fh);bj.addMark(fh);fh.set_selected(this.R.get_selected());if(this.getFillColor){fh.set_fillColor(this.R.get_fillColor());}if(this.getColor){fh.set_lineColor(this.R.get_lineColor());}if(this.getThickness){fh.set_lineWidth(this.R.get_lineWidth());}if(this.getHref){fh.set_href(this.R.get_href());}if(this.getReason){fh.set_text(this.R.get_text());}}if(C===ox.length-1){fh.kc=true;}}};if(G.co){G.getPosition=getPosition;G.setPosition=setPosition;G.KA=KA;if(Object.defineProperties){Object.defineProperties(G,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function atK(G,ad,cN,bX,bK,aW,oi,ab,bj){if(!G){G=new IPCC.Web.UI.Mark(ab);}G.ad=ad;G.dJ=cN;G.kk='y';G.bH=oi;G.bX=bX;G.bK=bK||[];G.aW=aW;var aah=IPCC.h.reduce(G.bK,function(JN,aN){if(!JN){return aN.clone();}else{return JN.union(aN);}},null);G.set_rectangle(aah);return G;};function aup(G,ad,cN,bX,bK,aW,oi,ab,bj){if(!G){G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}G.ad=ad;G.dJ=cN;G.bH=oi;G.bX=bX;G.aW=aW;G.bK=IPCC.h.map(bK,function(aN){var vM=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);vM.set_rectangle(aN);vM.ll(true);vM.set_fillColor('#000000');vM.set_text(G.bQ);vM.set_lineWidth(0);vM.bH=oi;bj.addMark(vM);return vM;});var aah=IPCC.h.reduce(bK,function(JN,aN){if(!JN){return aN.clone();}else{return JN.union(aN);}},null);G.set_rectangle(aah);return G;};function getText(){if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bQ=(typeof this.R.get_text()==="string")?this.R.get_text():this.bQ;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(G.R.bX){this.bQ=G.R.bX;}break;}}return this.bQ;};function setText(value){IPCC.aO.ko(value,'text');this.bQ=value;if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.R.set_text(value);break;}}return this;};if(G.bQ!==undefined){G.getText=getText;var ab=G.getType();if(ab!==Mark.Type.HighlightAnnotation&&ab!==Mark.Type.TextSelectionRedaction&&ab!==Mark.Type.TextHyperlinkAnnotation&&ab!==Mark.Type.StrikethroughAnnotation){G.setText=setText;}if(Object.defineProperties){var ahy={enumerable:true,get:function(){return this.getText();}};if(G.setText!==undefined){ahy.set=function(value){return this.setText(value);};}Object.defineProperties(G,{"text":ahy});}}function getFontColor(){if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gn=this.R.get_textColor()||this.gn;break;}}return this.gn;};function setFontColor(value){IPCC.aO.dh(value,'fontColor');this.gn=value;if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.R.set_textColor(value);break;}}return this;};if(G.gn){G.getFontColor=getFontColor;G.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(G,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.hc=this.R.get_fontName()||this.hc;break;}}return this.hc;};function setFontName(value){IPCC.aO.ko(value,'fontName');this.hc=value;if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.R.set_fontName(value);break;}}return this;};if(G.hc!==undefined){G.getFontName=getFontName;G.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(G,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.cO=this.R.get_fontSize()||this.cO;break;}}return this.cO;};function setFontSize(value){IPCC.aO.lk(value,'fontSize',0.1,288);this.cO=value;if(this.R){switch(this.af){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.R.set_fontSize(value);break;}}return this;};if(G.cO){G.getFontSize=getFontSize;G.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(G,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.R){var zI=this.R.get_textHorizontalAlignment();switch(zI){case IPCC.Web.UI.HorizontalAlignment.Center:this.oY="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.oY="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.oY="Right";break;}}return this.oY;};function setHorizontalAlignment(value){IPCC.aO.ko(value,'horizontalAlignment');var qE=RR(value,PCCViewer.Mark.HorizontalAlignment);var zI;switch(qE){case 'Center':zI=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':zI=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':zI=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}G.oY=qE;if(this.R&&zI!==undefined){this.R.set_textHorizontalAlignment(zI);this.oY=qE;}return this;};if(G.oY){G.getHorizontalAlignment=getHorizontalAlignment;G.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(G,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function aoC(Yl){var Av=[];for(var C=0;C<Yl.length;C++){switch(Yl[C]){case "Bold":Av.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":Av.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":Av.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":Av.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Yl[C]);}}if(Av.length===0){Av.push(IPCC.Web.UI.FontStyle.Regular);}return Av;};function getFontStyle(){if(this.R){var qf=[];switch(this.af){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var tP=this.R.get_fontStyle();if(tP&IPCC.Web.UI.FontStyle.Bold){qf.push("Bold");}if(tP&IPCC.Web.UI.FontStyle.Italic){qf.push("Italic");}if(tP&IPCC.Web.UI.FontStyle.Strikeout){qf.push("Strikeout");}if(tP&IPCC.Web.UI.FontStyle.Underline){qf.push("Underline");}if(qf.length>0){this.cn=qf;}break;}}return this.cn;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var QT,C,aff=[];for(C=0;C<value.length;C++){QT=RR(value[C],PCCViewer.Mark.FontStyles);if(QT===null){throw new RangeError("The value of font styles "+value[C]+" is invalid.");}else{IPCC.aO.ko(QT,'fontStyle');aff.push(QT);}}this.cn=aff;var tP=[];tP=aoC(this.cn);var bb=this;function avj(aB){setTimeout(function(){bb.R.set_fontStyle(aB);},2);};if(this.R){switch(this.af){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var agG=tP[0];for(C=1;C<tP.length;C++){agG|=tP[C];}avj(agG);break;}}return this;};if(G.cn){G.getFontStyle=getFontStyle;G.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(G,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.R){switch(this.af){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.ut=this.R.get_text()||this.ut;break;}}return this.ut;};function setLabel(value){IPCC.aO.ko(value,'label');this.ut=value;if(this.R){switch(this.af){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.R.set_text(value);break;}}return this;};if(typeof G.ut!=='undefined'){G.getLabel=getLabel;G.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(G,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.pp===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.R){switch(this.af){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.eK=this.R.get_text()||this.eK;break;}}return this.eK;};function setReason(value){if(this.pp===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.aO.ko(value,'text');this.eK=value;if(this.R){switch(this.af){case Mark.Type.RectangleRedaction:this.R.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.R.set_text(value);if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].set_text(value);}}break;}}return this;};if(typeof G.eK!=='undefined'){G.getReason=getReason;G.setReason=setReason;if(Object.defineProperties){Object.defineProperties(G,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.pp===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.fW.slice();};function setReasons(value){if(this.pp===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.aO.xB(value);IPCC.h.forEach(value,function(reason){IPCC.aO.ko(reason);});this.fW=value.slice();if(this.R){var Tx=this.fW.join("; ");switch(this.af){case Mark.Type.RectangleRedaction:this.R.set_text(Tx);break;case Mark.Type.TextSelectionRedaction:this.R.set_text(Tx);if(this.bS&&this.bS.length){for(var C=0;C<this.bS.length;C++){this.bS[C].set_text(Tx);}}break;}}return this;};if(typeof G.fW!=='undefined'){G.getReasons=getReasons;G.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(G,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.R){return this.R.get_pathString();}else{return this.gV;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var uW=IPCC.h.XI(path);this.gV=path;if(this.R){this.R.set_pathString(path);this.R.set_pathWidth(uW.width);this.R.set_pathHeight(uW.height);}return this;};if(G.gV){G.setPath=setPath;G.getPath=getPath;if(Object.defineProperties){Object.defineProperties(G,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.R){return this.R.get_href();}else{return this.lh;}};function setHref(href){if(href!==null){var af=typeof href;if(af!=="undefined"&&af!=="number"&&af!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.lh=href;if(this.R){this.R.set_href(href);}if(this.bS){IPCC.h.forEach(this.bS,function(R){R.set_href(href);});}return this;};if(typeof G.lh!=='undefined'){G.setHref=setHref;G.getHref=getHref;if(Object.defineProperties){Object.defineProperties(G,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gi=maxLength;if(this.R){this.R.set_maxLength(this.gi);}return this;};function getMaxLength(){if(this.R){this.gi=this.R.get_maxLength();}return this.gi;};if(typeof G.gi!=='undefined'){G.getMaxLength=getMaxLength;G.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(G,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.jF=maxFontSize;if(this.R){this.R.set_maxFontSize(this.jF);}return this;};function getMaxFontSize(){if(this.R){this.jF=this.R.get_maxFontSize();}return this.jF;};if(typeof G.jF!=='undefined'){G.getMaxFontSize=getMaxFontSize;G.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(G,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.iV;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.iV=null;if(this.R){this.R.set_mask(this.iV);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var agu=false;IPCC.h.forEach(mask.translations,function(val,key){agu=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!agu){throw new Error('`mask.translations` must have at least one translation.');}this.iV=mask;if(this.R){this.R.set_mask(this.iV);}return this;};if(typeof G.iV!=='undefined'){G.getMask=getMask;G.setMask=setMask;if(Object.defineProperties){Object.defineProperties(G,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var iT=function(viewerControl,markReferences){var F=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dO=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.cZ=viewerControl;this.bq=undefined;this.aan=undefined;this.amF=undefined;this.bd=[];this.gp={};this.lU=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.bA){this.bA=viewerControl.bA;}else{var Rg=function(){viewerControl.off('ViewerReady',Rg);viewerControl.off('ViewingSessionChanged',Rg);F.bA=viewerControl.bA;};viewerControl.on('ViewerReady',Rg);viewerControl.on('ViewingSessionChanged',Rg);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.h.forEach(markReferences,function(sO){var LX=sO.markUid;sO.markupLayer=F;if(F.gp[LX]){F.gp[LX]=F.gp[LX].concat(sO);}else{F.gp[LX]=[sO];}});}var pD={};EventEmitter.extend(pD);pD.NN=function(CU,dK){var F=this;return setTimeout(function(){F.trigger(CU,dK);},0);};EventEmitter.extend(this);this.dI=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Ff=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){F.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};iT.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};iT.prototype.getViewerControl=function(){return this.cZ;};iT.prototype.addMarks=function(marks){var F=this,aoP=function(dQ){dQ.ir=F;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<marks.length;C++){if(!(marks[C]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[C].getId())){marks.splice(C,1);continue;}IPCC.h.forEach(marks[C].getConversation().getComments(),aoP);}if(marks.length){this.bd=this.bd.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};iT.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<this.bd.length;C++){for(var bB=0;bB<marks.length;bB++){if(this.bd[C].getUid()===marks[bB].getUid()){this.bd.splice(C,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bB]]});break;}}}};iT.prototype.getMarks=function(){var amb=[];IPCC.h.forEach(this.bd,function(G){amb.push(G);});return amb;};iT.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var C=0,afq=false,G;for(C;C<this.bd.length;C++){G=this.bd[C];if(G.getId()===markId){afq=true;break;}}return afq;};iT.prototype.getMarkReferences=function(){var gp=[];for(var nq in this.gp){if(this.gp.hasOwnProperty(nq)){gp=gp.concat(this.gp[nq]);}}return gp;};iT.prototype.hide=function(){var cZ=this.bA;cZ.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};iT.prototype.show=function(){var cZ=this.bA;cZ.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};iT.prototype.copyLayers=function(markupLayers){var cZ=this.bA,F=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bd=[];IPCC.h.forEach(markupLayers,function(ir){cZ.getMarkupLayerCollection().getItem(ir.getId());bd=bd.concat(ir.getMarks());});var copiedMarks=cZ.copyMarks(bd);this.addMarks(copiedMarks);IPCC.h.forEach(this.bd,function(G){IPCC.h.forEach(G.getConversation().getComments(),function(dQ){dQ.ir=F;});});return this;};iT.prototype.getId=function(){return this.dO;};iT.prototype.getName=function(){return this.bq;};iT.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.bq=name;return this;};iT.prototype.getRecordId=function(){return this.aan;};iT.prototype.destroy=function(){this.bA.getMarkupLayerCollection().removeItem(this.dO);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};iT.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.lU=interactionMode;IPCC.h.forEach(this.bd,function(G){G.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};iT.prototype.getOriginalXmlName=function(){return this.amF;};iT.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.amF=name;return this;};if(Object.defineProperties){Object.defineProperties(iT.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=iT;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cZ=viewerControl;this.sM={};this.bd={};this.jg={};this.rX=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.cZ;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.h.forEach(this.sM,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sM[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.rX;};MarkupLayerCollection.prototype.getAll=function(){var amf=[],Zu;for(Zu in this.sM){if(this.sM.hasOwnProperty(Zu)){amf.push(this.sM[Zu]);}}return amf;};MarkupLayerCollection.prototype.addItem=function(layer){var F=this,gp,YK=layer.gp,IM=function(G,sO){var dQ=G.getConversation().addComment(sO.text);dQ.creationTime=new Date(sO.creationDateTime);dQ.ir=sO.markupLayer;for(var tE in sO.data){if(sO.data.hasOwnProperty(tE)){dQ.setData(tE,sO.data[tE]);}}},aGt=function(azY){IM(F.bd[yb],azY);},alq=function(G){var nq=G.getUid();F.bd[G.getUid()]=G;if(F.jg[nq]){IPCC.h.forEach(F.jg[nq],function(pL){IM(G,pL);});delete F.jg[nq];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sM[layer.getId()]=layer;for(var yb in YK){if(YK.hasOwnProperty(yb)){gp=YK[yb];if(F.bd[yb]){IPCC.h.forEach(gp,aGt);}else if(F.jg[yb]){F.jg[yb]=F.jg[yb].concat(gp);}else{F.jg[yb]=gp;}}}IPCC.h.forEach(layer.getMarks(),function(G){alq(G);});this.rX++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.h.forEach(ev.marks,function(G){alq(G);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var ayv=ev.cg;IPCC.h.forEach(ev.marks,function(G){var nq=G.getUid();IPCC.h.forEach(F.bd[nq].getConversation().getComments(),function(HS){if(ayv.id!==HS.ir.id){var pL={creationDateTime:IPCC.h.tA(HS.creationTime),data:HS.dI.wJ(),markUid:G.getUid(),markupLayer:HS.ir,text:HS.text};if(F.jg[nq]){F.jg[nq]=F.jg[nq].concat([pL]);}else{F.jg[nq]=[pL];}}});F.uV(G);});});return this;};MarkupLayerCollection.prototype.uV=function(G){var Ns;IPCC.h.forEach(this.sM,function(ec){var ans=ec.hasMark(G.getId());Ns=(typeof Ns!=='undefined')? +ans^Ns: +ans;});if(Ns===0){delete this.bd[G.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var ec=this.sM[layerId],F=this,aAr=function(pL,bf){if(pL.markupLayer.getId()===layerId){F.jg[dO].splice(bf);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.h.forEach(this.bd,function(G){var fO=G.getConversation().getComments();var QO=ec.hasMark(G.getId());IPCC.h.forEach(fO,function(dQ){if(QO&&dQ.ir.getId()!==layerId){var adz={"markUid":G.getUid(),"markupLayer":dQ.ir,"text":dQ.getText(),"data":dQ.dI.dI,"creationDateTime":IPCC.h.tA(dQ.getCreationTime())};if(F.jg[G.getUid()]){F.jg[G.getUid()].push(adz);}else{F.jg[G.getUid()]=[adz];}G.getConversation().deleteComments(dQ);}else if(QO&&dQ.ir.getId()===layerId){G.getConversation().deleteComments(dQ);}else if(!QO&&dQ.ir.getId()===layerId){G.getConversation().deleteComments(dQ);}});if(QO&&F.bd[G.getUid()]){F.uV(G);}});for(var dO in this.jg){if(this.jg.hasOwnProperty(dO)){IPCC.h.forEach(this.jg[dO],aAr);}}delete this.sM[layerId];this.rX--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sM={};this.rX=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.bq=name;var FI=atu(type);if(FI===null){throw new RangeError("The value of type was invalid.");}this.af=FI;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bq;};MouseTool.prototype.getType=function(){return this.af;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function atu(UR){var Zc=UR.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Zc){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var af=mouseTool.getType();switch(af){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.Au=false;break;case MouseTool.Type.PanAndEdit:mouseTool.Au=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bC=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bC=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bC=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bC=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bC=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bC=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bC=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bC=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bC=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bC=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bC=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bC=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bC=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bC=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bC=new Mark({type:'PlaceSignature',xS:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bC=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bC=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bC=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bC=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bC=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bC){mouseTool.getTemplateMark=function(){return this.bC;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bC){this.bC.reset();}};var MouseTools={st:{},createMouseTool:function(name,type){if(!this.st){this.st={};createDefaultMouseTools();}var zS=name.toLowerCase();var existingTool=this.st[zS];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.st[zS]=new MouseTool(name,type);}return this.st[zS];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.st){this.st={};createDefaultMouseTools();}var zS=name.toLowerCase();return this.st[zS];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.st;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var zy=[];var pD={};EventEmitter.extend(pD);pD.NN=function(CU,dK){var F=this;return setTimeout(function(){F.trigger(CU,dK);},0);};this.add=function(item){zy.push(item);pD.NN(this.EventType.ItemAdded,{item:item,count:zy.length});return this;};this.remove=function(item){var F=this;this.forEach(function(e,idx){if(e===item){zy.splice(idx,1);pD.NN(F.EventType.ItemRemoved,{item:item,count:zy.length});}});return this;};this.removeAll=function(){zy=[];pD.NN(this.EventType.ItemRemoved,{count:zy.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.h.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(zy);};this.on=function(eventType,handler){pD.on.apply(pD,arguments);return this;};this.off=function(eventType,handler){pD.off.apply(pD,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var Bb={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=Bb;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Wb){this.Wb=Wb;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Wb(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Te=function Te(aU,cr,T){if(aU.addEventListener){aU.addEventListener(cr,T,false);}else if(aU.attachEvent){aU.attachEvent('on'+cr,T);}};var Uw=function Uw(aU,cr,T){if(aU.removeEventListener){aU.removeEventListener(cr,T,false);}else if(aU.detachEvent){aU.detachEvent('on'+cr,T);}};function aul(dS){var afM={};dS=dS.split('&');for(var i=dS.length;i--;){var q=dS[i].split('=');afM[q.shift()]=q.join('=');}return afM;};function awO(){var AM=document.getElementById('pccPrintFrame');if(AM){if(AM.contentWindow&&AM.contentWindow.destroy){AM.contentWindow.destroy();}if(AM.parentElement){AM.parentElement.removeChild(AM);}}};function auj(au){au.alV();awO();au.anw();if(!au.algorithm){au.algorithm=printAlgorithm.standard;}var gh;var gG=document.createElement('iframe');gG.id='pccPrintFrame';gG.className='pccPrintFrame';gG.style.position='absolute';gG.style.bottom=gG.style.right='0px';gG.style.width=gG.style.height='1px';gG.style.zIndex='0';gG.style.border='none';if(au.algorithm!==printAlgorithm.contentWindowContents){gG.style.visibility='0';}function OA(){Uw(window,'message',ane);};function akn(){Uw(gG,'load',akn);if(gG.contentDocument){gh=gG.contentDocument;}else if(gG.contentWindow){gh=gG.contentWindow.document;}else{gh=gG.document;}if(au.algorithm===printAlgorithm.contentWindowContents){gG.contentWindow.contents=au.template;gG.src='javascript:window["contents"]';}else{gh.open();gh.write(au.template);gh.close();}};var ane=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var amH=JSON.parse(message.data);var bj=au.akU(amH.pageIndex);au.alV();gG.contentWindow[amH.callbackName](bj);au.anw();}else if(message.data==='extra'){var Hk=au.akr(au);gG.contentWindow['extra'](au.encryption,Hk);}else if(message.data==='done'){if(au.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gG.contentWindow.focus();gG.contentWindow.document.execCommand('print',false,null);window.focus();OA();au.ug.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gG.contentWindow.focus();gG.contentWindow.print();window.focus();OA();au.ug.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){OA();au.ug.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var sL=aul(message.data);sL.index= +sL.index;sL.pageNumber= +sL.pageNumber;sL.totalPages= +sL.totalPages;au.ug.ade= +sL.index+1;au.ug.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,sL);}};Te(window,'message',ane);Te(gG,'load',akn);document.body.appendChild(gG);return OA;};function atv(cZ){return function akU(aW){return cZ.aI.hv(cZ.cU.getPage(aW));};};function atI(cZ){return function akr(options){var bd,G,tJ=[],AO=[],CC={},Ju={},vn={},eK={},Cn='',age,ci,bf,Jc,aN,Kq,bO,anS={},CA={},C=0,da=0,bB=0,aDz=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bd=cZ.getAllMarks();for(C=0;C<options.pages.length;C++){anS[options.pages[C]]=true;}for(da=0;da<bd.length;da++){G=bd[da];bO=G.bO;if(options.includeReasons!=='none'&&(G.getReason||G.getReasons)){Cn=G.R.get_text();if(Cn){if(!vn[bO]){eK[Cn]=1;vn[bO]=eK;eK={};}else{if(vn[bO][Cn]){vn[bO][Cn]+=1;}else{vn[bO][Cn]=1;}}}}if(G.ot||G.af.search("Redaction")!== -1){if(CA[bO]){CA[bO]+=1;}else{CA[bO]=1;}}if(options.range.length&&anS[bO]!==true|| !options.includeRedactions&&G.ot|| !options.includeAnnotations&& !G.ot){continue;}ci=G.getConversation();if(ci&&ci.getComments().length){if(!Jc){Jc=bO;}else if(bO!==Jc){tJ.sort(aDz);for(bB=0;bB<tJ.length;bB++){AO=AO.concat(CC[tJ[bB]]);}Ju[Jc]=AO;Jc=bO;tJ=[];CC={};AO=[];}bf=cZ.getCharacterIndex(G);age=bO;aN=G.R.get_boundingRectangle();Kq=(bf>0)?bf*10000+aN.y:aN.y;tJ.push(Kq);if(!CC[Kq]){CC[Kq]=[ci];}else{CC[Kq].push(ci);}}}if(tJ.length){tJ.sort(function(a,b){return a-b;});for(C=0;C<tJ.length;C++){AO=AO.concat(CC[tJ[C]]);}Ju[age]=AO;}}return{Ju:Ju,vn:vn,CA:CA};};};function avp(cZ){return function(){if(cZ&&cZ.aI){cZ.aI.remove_markChanged(cZ.nQ);}};};function Ts(cZ){return function(){if(cZ&&cZ.aI){cZ.aI.add_markChanged(cZ.nQ);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dM=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var op=this.au.imageHandlerUrl;var aur=this.au.documentID;var asj=this.aBE;options.vsID=aur;options.handler=op;options.pages=dM;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=asj.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.au.viewerAssetsPath);options.encryption= ! !this.au.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var UD;function be(){if(! !UD){UD();}};var ug=new PCCViewer.PrintRequest(options,dM.length,be,this);this.aE.trigger(PCCViewer.EventType.PrintRequested,{printRequest:ug});options.ug=ug;options.akU=atv(this);options.akr=atI(this);options.alV=avp(this);options.anw=Ts(this);UD=auj(options);return ug;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.au=options;this.be=cancelFunc;this.ade=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.be();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.au.pages.toString(),orientation:this.au.orientation,paperSize:this.au.paperSize,margins:this.au.margins,includeMarks:this.au.includeMarks,includeAnnotations:this.au.includeAnnotations,includeRedactions:this.au.includeRedactions,includeComments:this.au.includeComments,includeReasons:this.au.includeReasons,redactionViewMode:this.au.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.au.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.ade;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var adI=[];IPCC.h.Yx=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function yx(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function avA(bO,JY){var lj=[];lj.push("pageNumber="+(1+bO));lj.push("index="+JY);lj.push("totalPages="+options.pages.length);return lj.join('&');};function jl(bO,JY,next){var aq={documentIdentifier:options.vsID,pageNumber:bO,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jp=document.createElement('div');jp.className=options.paperSize+" ";jp.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jp.id='printpage'+bO;if(options.margins==='none'){jp.className+=' nomargins';}domElement.appendChild(jp);var pv=IPCC.initializePageViewPlugin(jp,aq);pv.set_debug(false);pv.set_requireRequestsOptimize(true);adI.push(pv);var yC=false;function FM(){yx(avA(bO,JY));next();};pv.add_pageOpened(function(){var aZ=pv.jY(),ay=pv.hN();var wx=(options.orientation==='portrait'&&aZ>ay)||(options.orientation==='landscape'&&ay>aZ);if(wx){pv.wx(90);}});pv.add_pageDisplayed(function(){if(!yC){FM();}});pv.add_textPageReady(function(){if(yC){pv.bW();FM();}});pv.add_pageOpenFailed(function(){yx('fail');});pv.add_textExtractionFailed(function(){if(yC){yx('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qs(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qs(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var alA='loadArt'+bO;var sL={pageIndex:bO,callbackName:alA};window[alA]=function(bj){var mx,Lw,C,ci={},OW={},AN='',mz,fW,eK,CP='';var Na=[];bj.CL(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.HighlightText){yC=true;}if(options.includeRedactions&&G.iX()){Na.push(G);}if(options.includeAnnotations&& !G.iX()){Na.push(G);}});var ack=new IPCC.Web.UI.ArtPage();IPCC.h.forEach(Na,function(G){G.nx(undefined);ack.addMark(G);});aq.artPage=ack;OW=options.pagedConversations[bO+1];if(options.pagedConversations&&OW&&options.includeComments==='followingPage'){mx=document.createElement('div');mx.className+='commentPage';mx.id='printcommentpage'+bO;if(options.margins==='none'){mx.className+=' nomargins';}Lw='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(C=0;C<OW.length;C++){ci=OW[C];AN+=akv(ci,bO+1);}mx.innerHTML=Lw.replace('{{pageNumber}}',bO+1).replace('{{conversationList}}',AN);domElement.appendChild(mx);}fW=options.pagedReasons[bO+1];if(options.pagedReasons&&fW&&options.includeReasons==='followingPage'){mz=document.createElement('div');mz.className+='reasonPage';mz.id='printreasonpage'+bO;if(options.margins==='none'){mz.className+=' nomargins';}Lw='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eK in fW){if(fW.hasOwnProperty(eK)){CP+=ale(eK,fW[eK]);}}mz.innerHTML=Lw.replace('{{pageNumber}}',bO+1).replace('{{reasonList}}',CP).replace('{{date}}',aky()).replace('{{count}}',options.pagedRedactionCount[bO+1]);domElement.appendChild(mz);}pv.openPage(aq);IPCC.h.forEach(Na,function(G){G.nx(bj);});};yx(JSON.stringify(sL));}else{pv.openPage(aq);}};function akv(ci,bO){var ajU='',jv='',G=ci.getMark(),fO,dQ,C;switch(G.R.ja()){case IPCC.Web.UI.MarkType.Rectangle:jv=(G.R.iX())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:jv='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jv='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:jv=(G.ng==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:jv='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:jv='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:jv='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:jv='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:jv='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:jv='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:jv='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:jv='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:jv='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:jv='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:jv='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:jv='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:jv='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:jv='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:jv='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:jv='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:jv='Strikethrough Annotation';break;default:break;}fO=ci.getComments();for(C=0;C<fO.length;C++){dQ=fO[C];ajU+='<li>'+asw({text:dQ.getText(),createDate:dQ.pn.Zy,pageNumber:bO+1})+'</li>';}return '<h3>'+jv+'</h3><ul>'+ajU+'</ul>';};function asw(dQ){var hT=new Date(dQ.createDate),WG='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',hT.getMonth()+1).replace('{{day}}',hT.getDate()).replace('{{year}}',hT.getFullYear()).replace('{{hour}}',(hT.getHours()<10?'0':'')+hT.getHours()).replace('{{minutes}}',(hT.getMinutes()<10?'0':'')+hT.getMinutes()).replace('{{period}}',hT.getHours()<12?'am':'pm');var bQ=dQ.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bQ).replace('{{date}}',WG);};function aky(){var hT=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',hT.getMonth()+1).replace('{{day}}',hT.getDate()).replace('{{year}}',hT.getFullYear());};function ale(eK,rX){eK=eK.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var avy=(rX>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eK).replace('{{count}}',rX).replace('{{times}}',avy);};function awD(){window.onerror=function(ev){yx('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function atB(bO,JY){return function(next){jl(bO,JY,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var ak= +options.pages[i]-1;funcs.push(atB(ak,i));}sync(funcs,function(){var mx,MX='',ak,Bp='',AN='',ci,G,ala='<h1>Comments</h1><hr>{{pageSections}}',mz,CP='',aFS='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(ak in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(ak)){if(!mx){mx=document.createElement('div');mx.className+=' commentPage';mx.id='printpage_comments';if(options.margins==='none'){mx.className+=' nomargins';}}MX='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';AN='';for(var C=0;C<options.pagedConversations[ak].length;C++){ci=options.pagedConversations[ak][C];G=ci.getMark();AN+=akv(ci,G.pageNumber);}Bp+=MX.replace('{{pageNumber}}',G.pageNumber).replace('{{conversationList}}',AN);if(AN.length){mx.innerHTML=ala.replace('{{pageSections}}',Bp);domElement.appendChild(mx);}}}}if(options.includeReasons==='documentEnd'){Bp='';ala='';MX='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(ak in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(ak)){if(!mz){mz=document.createElement('div');mz.className+='reasonPage';mz.id='printpage_reason';if(options.margins==='none'){mz.className+=' nomargins';}}CP='';for(var eK in options.pagedReasons[ak]){if(options.pagedReasons[ak].hasOwnProperty(eK)){CP+=ale(eK,options.pagedReasons[ak][eK]);}}Bp+=MX.replace('{{pageNumber}}',ak).replace('{{reasonList}}',CP).replace('{{date}}',aky()).replace('{{count}}',options.pagedRedactionCount[ak]);}}if(Bp.length){mz.innerHTML=aFS.replace('{{pageSections}}',Bp);domElement.appendChild(mz);}}yx('done');});};function avc(){window['extra']=function(bool,Hk){options.encryption= ! !bool;options.pagedConversations=Hk.Ju;options.pagedReasons=Hk.vn;options.pagedRedactionCount=Hk.CA;awD();window['extra']=function(){};};yx('extra');};function atN(){var bj;IPCC.h.forEach(adI,function(ac){bj=ac.get_artPage();if(bj){bj.removeAllMarks();}ac.dispose();bj=undefined;});};window['destroy']=atN;avc();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aCT={Draft:"Draft",Normal:"Normal"};module.exports=aCT;},{}],160:[function(require,module,exports){var Revision=function(){this.dO=0;this.wd=0;this.af='';};Revision.prototype.getId=function(){return this.dO;};Revision.prototype.getEndPageNumber=function(){return this.wd;};Revision.prototype.getType=function(){return this.af;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.wd;}},"id":{enumerable:true,get:function(){return this.dO;}},"type":{enumerable:true,get:function(){return this.af;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var Jv=function(au){var ig=new PCCViewer.RevisionsRequest(true);function avn(af){for(var WK in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(WK)){if(WK.toLowerCase()===af.toLowerCase()){return PCCViewer.Revision.Type[WK];}}}return PCCViewer.Revision.Type.Unknown;};function auU(fV,ad){var wI=[];if(fV.changes&&fV.changes.length){wI=fV.changes.map(function(Xp){var PH=new PCCViewer.Revision();PH.dO=Xp.id;PH.wd=Xp.endPageIndex+1;PH.af=avn(Xp.type);return PH;});}return wI;};function atQ(NK){var Vr=NK?'&continueToken='+NK:'';var auu=au.imageHandlerUrl+'/v2/viewingSessions/'+au.documentID;return auu+'/revisionData?limit=100'+Vr;};function akc(NK){var bi=PCCViewer.Deferred();var aK=atQ(NK);PCCViewer.Ajax.fc({url:aK,method:'GET'}).then(function eh(aJ){var dI=JSON.parse(aJ.responseText);var DP=dI.continueToken;var wI=auU(dI,ig.Kt.length);ig.Kt=ig.Kt.concat(wI);if(DP){if(wI.length){ig.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:wI});}setTimeout(function(){akc(DP);},dI.continueAfter||0);}else{if(wI.length){ig.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:wI});}ig.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:ig.getRevisions()});ig.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ig.getRevisions()});}bi.resolve();},function er(ax){var dZ='RequestFailed';var cC='The request to get revisions failed.';var oD=ax.response.responseText?JSON.parse(ax.response.responseText):'';var jq=ax.response.status;if(oD&&(jq===580||(jq===480&&oD.errorCode==='DocumentNotProvidedYet'))){dZ=oD.errorCode;}ig.dZ=dZ;ig.cC=cC;ig.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:ig.getErrorMessage()});ig.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ig.getRevisions()});bi.reject(ax.error);});};this.aAb=function(){setTimeout(function(){akc();},0);return ig;};};var RevisionsRequest=function(vt){this.Kt=[];this.dZ=null;this.cC=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !vt,enumerable:true,get:function(){return this.Kt;}},"errorCode":{configurable: ! !vt,enumerable:true,get:function(){return this.dZ;}},"errorMessage":{configurable: ! !vt,enumerable:true,get:function(){return this.cC;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Kt;};RevisionsRequest.prototype.getErrorCode=function(){return this.dZ;};RevisionsRequest.prototype.getErrorMessage=function(){return this.cC;};module.exports={RevisionsRequest:RevisionsRequest,Jv:Jv};},{}],162:[function(require,module,exports){var Cx={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=Cx;},{}],163:[function(require,module,exports){var _Search=function(){this.bU='';this.Gw={};this.cE={};this.QE=0;this.bx=new PCCViewer.SearchRequest();var F=this;this.abV=function(){var Ld=[];for(var C=0;C<F.Gw.searchTerms.length;C++){var bU=F.Gw.searchTerms[C];var pd=IPCC.h.Qj(bU.type);var KP;switch(pd){case 'proximity':var wh={tu:bU,cE:[],type:bU.type,highlightColor:this.abf(bU.highlightColor),distance:bU.distance,contextPadding:bU.contextPadding};for(var x=0;x<bU.terms.length;x++){var YZ=bU.terms[x];KP=this.akA(YZ);wh.cE=wh.cE.concat(KP);}Ld.push(wh);break;default:KP=this.akA(bU);Ld=Ld.concat(KP);break;}}return Ld;};this.akA=function(bU){var ee=[];var cE={};if(bU.matchingOptions.exactPhrase===false&&bU.searchTermIsRegex===false){var AP=bU.searchTerm.split(' ');for(var bB=0;bB<AP.length;bB++){cE={};if(AP[bB].length<0){continue;}cE.searchText=AP[bB];cE.tu=bU;if(bU.matchingOptions.matchWholeWord){cE.searchTerm=this.amR(this.By(AP[bB]),bU.matchingOptions);}else{if(bU.matchingOptions.wildcard===true){cE.searchTerm=this.ahb(this.By(AP[bB]),bU.matchingOptions);}else if(bU.matchingOptions.beginsWith===true||bU.matchingOptions.endsWith===true){cE.searchTerm=this.afV(this.By(AP[bB]),bU.matchingOptions);}else{cE.searchTerm=this.afL(AP[bB],bU.matchingOptions,false);}}cE.highlightColor=this.abf(bU.highlightColor);ee.push(cE);}}else{cE={};cE.searchText=bU.searchTerm;cE.tu=bU;if(bU.matchingOptions.matchWholeWord){cE.searchTerm=this.amR(this.By(bU.searchTerm),bU.matchingOptions);}else{if(bU.matchingOptions.wildcard===true){cE.searchTerm=this.ahb(this.By(bU.searchTerm),bU.matchingOptions);}else if(bU.matchingOptions.beginsWith===true||bU.matchingOptions.endsWith===true){cE.searchTerm=this.afV(this.By(bU.searchTerm),bU.matchingOptions);}else{cE.searchTerm=this.afL(bU.searchTerm,bU.matchingOptions,bU.searchTermIsRegex);}}cE.highlightColor=this.abf(bU.highlightColor);ee.push(cE);}return ee;};this.amR=function(qN,xM){var Kb=new RegExp('\\b'+qN+'\\b',this.IS(xM.matchCase));return Kb;};this.afV=function(qN,xM){if(xM.beginsWith){return new RegExp("\\b"+qN+'(\\w*)',this.IS(xM.matchCase));}if(xM.endsWith){qN=qN.replace("*","");return new RegExp('(\\w*)'+qN+"\\b",this.IS(xM.matchCase));}};this.By=function(qN){return qN.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.ahb=function(rv,xM){rv=rv.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rv==='\\*'){var ce=new Error('The search term must contain one or more non-wildcard characters.');ce.aFi=true;throw ce;}var regexFlags='gim';if(xM.matchCase){regexFlags='gm';}rv=rv.replace(/\*/g,'\S*');rv=rv.replace(/\?/g,'\S');var Kb=new RegExp('(\\s|^)'+rv+'(?=\\s|$)',regexFlags);return Kb;};this.adr=function(qN){return qN.replace(/\ /g,'\\s+');};this.Tn=function(qN){return qN.replace(/'/g,'[\'‘’]').replace(/"/g,'["“”]');};this.afL=function(LL,matchingOptions,isRegex){var lT='';if(isRegex===true){lT=LL;}else if(matchingOptions.wildcard===true){lT=LL.replace(/[-[\]{}()+,^$|#]/g,"\\$&");lT=this.adr(lT);lT=this.Tn(lT);}else if(matchingOptions.exactPhrase){lT=LL.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");lT=this.adr(lT);lT=this.Tn(lT);}else{lT=LL.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");lT=this.Tn(lT);}return new RegExp(lT,this.IS(matchingOptions.matchCase));};this.IS=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHh=function(rv){var Kb=new RegExp('\\b'+rv+'\\b',F.IS());return Kb;};var aiR=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abf=function(dh){if(!dh){return aiR[F.QE++ %aiR.length];}else{return dh;}};this.TY=function(de){if(typeof de==='string'){de={searchTerms:[{searchTerm:de,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return de;}IPCC.h.forEach(de.searchTerms,function(bU){if(!bU.matchingOptions){bU.matchingOptions={};}var pd=IPCC.h.Qj(bU.type);switch(pd){case 'proximity':IPCC.h.forEach(bU.terms,function(YZ){F.anr(YZ);});break;default:F.anr(bU);break;}});return de;};this.anr=function(bU){if(typeof bU.contextPadding==="undefined"){bU.contextPadding=25;}if(typeof bU.searchTermIsRegex==="undefined"){bU.searchTermIsRegex=false;}if(typeof bU.matchingOptions==="undefined"){bU.matchingOptions={};}if(!bU.matchingOptions.hasOwnProperty('matchCase')){bU.matchingOptions.matchCase=false;}if(!bU.matchingOptions.hasOwnProperty('exactPhrase')){bU.matchingOptions.exactPhrase=true;}if(!bU.matchingOptions.hasOwnProperty('matchWholeWord')){bU.matchingOptions.matchWholeWord=false;}if(!bU.matchingOptions.hasOwnProperty('beginsWith')){bU.matchingOptions.beginsWith=false;}if(!bU.matchingOptions.hasOwnProperty('endsWith')){bU.matchingOptions.endsWith=false;}if(!bU.matchingOptions.hasOwnProperty('wildcard')){bU.matchingOptions.wildcard=false;}if(typeof bU.highlightColor!=='undefined'){try{IPCC.aO.dh(bU.highlightColor,"selectText");}catch(e){bU.highlightColor=undefined;}}};this.aAX=function(){return F.cE;};this.agy=function(e){F.bx.cC=e.message;F.bx.dZ="1010";F.bx.uN=true;setTimeout(function(){F.bx.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){F.bx.trigger("SearchCompleted",{completedSearchResults:(F.sj)});},10);return F.bx;};this.wA=function(de,aD){this.cE={};this.Gw=de;this.bU=de;this.QE=0;var wA=new PCCViewer.Lv();try{F.cE=this.abV();return wA.Wi(aD,F.cE,de,F.bx);}catch(e){return F.agy(e);}};this.Bi=function(de,aD){this.cE={};this.Gw=de;this.bU=de;this.QE=0;var Bi=new PCCViewer.YF();try{F.cE=this.abV();return Bi.Wi(aD,F.cE,de,F.bx);}catch(e){return F.agy(e);}};};_Search.prototype.zb=function(searchQuery){this.cE={};this.bx=new PCCViewer.SearchRequest();this.Gw=searchQuery;this.bx.de=searchQuery;this.bU=searchQuery;this.QE=0;return this.bx;};var SearchTask=function(searchQuery){this.afk(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.TY(searchQuery);this.bx=_search.zb(searchQuery);try{_search.cE=_search.abV();}catch(e){if(e.aFi){throw new Error(e.message);}else{throw new Error(e.message);}}var wA=new PCCViewer.Lv();this.search=function(text){wA.sj=[];wA.ai=0;wA.cE=_search.cE;wA.aFr(text);return wA.sj;};};SearchTask.prototype.afk=function(searchQuery){if(typeof searchQuery==='string'){return;}var zD;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){zD=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.h.forEach(zD,function(vh,C){var pd=vh.type?IPCC.h.trim(vh.type).toLowerCase():undefined;switch(pd){case 'proximity':IPCC.h.forEach(vh.terms,function(aDW,bh){if(!ajH(aDW)){throw new Error("Search term index "+bh+" under Proximity search term index "+C+" does not have a valid `searchTerm` string property.");}});break;default:if(!ajH(vh)){throw new Error("Search term index "+C+" does not have a valid `searchTerm` string property.");}break;}});function ajH(vh){return(typeof vh.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function auY(de){var zD=de.map(function(bU,abW){if(bU.type==='proximity'){return{type:'proximity',distance:bU.distance,subTerms:bU.cE.map(function(aet){return{pattern:aet.searchTerm.source,caseSensitive:aet.tu.matchingOptions.matchCase};}),termId:abW.toString(),contextPadding:bU.contextPadding};}return{type:'simple',pattern:bU.searchTerm.source,caseSensitive:bU.tu.matchingOptions.matchCase,termId:abW.toString(),contextPadding:bU.contextPadding};});return{input:{searchTerms:zD}};};var YF=function(){var F=this;var zb,DP,alu;var Pn=[];this.yI=false;this.xy={};this.AF=[];function atG(){var Vr=DP?'&continueToken='+DP:'';return F.aD.rm+'/v2/searchTasks/'+zb.processId+'/results?limit=100'+Vr;};function atY(ee){var Lm=F.xy.input.searchTerms.reduce(function(nY,vh){nY[vh.termId]=F.cE[vh.termId];return nY;},{});return ee.map(function(ax){var gF=new PCCViewer.SearchResult();if(F.cE[0].tu.matchingOptions.wildcard&&(ax.text[0]===" "||ax.text[0]==="\n")){ax.text=ax.text.substring(1);ax.startIndex+=1;ax.startIndexInContext+=1;}gF.mc=ax.boundingRectangle;gF.dn=ax.context;gF.AK=ax.startIndexInContext;gF.mQ=ax.id;gF.cE=F.cE;gF.bK=ax.lineRectangles;gF.fT=ax.pageData;gF.qt=ax.startIndex;gF.bQ=ax.text;gF.bO=ax.pageIndex+1;gF.dO=ax.id;gF.Yv=F.aD.get_documentIdentifier();gF.bU=Lm[ax.searchTerm.termId].tu;gF.rg=Lm[ax.searchTerm.termId].highlightColor;return gF;});};function qG(EW,aaS){switch(EW){case 'failed':setTimeout(function(){F.bx.trigger(PCCViewer.EventType.SearchFailed,aaS);},10);break;case 'complete':F.bx.SU=F.AF;F.bx.uN=true;setTimeout(function(){F.bx.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(F.bx.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){F.bx.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(F.bx.getResults())});},10);};function auv(mD){var aK=F.aD.rm+'/v2/viewingSessions/'+encodeURIComponent(F.aD.get_documentIdentifier())+'/searchTasks';function eh(aJ){var ax=JSON.parse(aJ.responseText);zb=ax;if(Pn.length){Pn.forEach(function(vE){vE();});}Pn=[];mD();};function er(aH){F.bx.off('SearchCancelled',F.aie);F.bx.cC='The request to create a search task failed.';var avd=aH&&aH.response&&aH.response.status===501;var asT=aH&&aH.response&&aH.response.status===480&&(function(aoN){try{return JSON.parse(aoN).errorCode==='FeatureDisabled';}catch(e){return false;}}(aH.response.responseText));if(avd||asT){F.bx.dZ='ServerSearchUnavailable';F.bx.cC='Server-side search is not available.';qG('failed',{errorMessage:F.bx.cC});return;}qG('failed',{errorMessage:F.bx.cC});};PCCViewer.Ajax.fc({url:aK,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(F.xy)}).then(eh,er);};function Sg(mD){var aK=atG();var hX={};if(zb.affinityToken){hX['Accusoft-Affinity-Token']=zb.affinityToken;}if(!F.yI){return;}function eh(aJ){if(!F.yI){return;}var ax=JSON.parse(aJ.responseText);var TG=atY(ax.results);F.AF=ax.pagesWithoutText;F.bx.ee.push.apply(F.bx.ee,TG);if(TG.length){setTimeout(function(){IPCC.h.forEach(TG.reduce(function(nY,ax){var df=ax.bO;if(!nY[df]){nY[df]=[];}nY[df].push(ax);return nY;},{}),function(ee,df){F.bx.trigger('PartialSearchResultsAvailable',{partialSearchResults:ee,pagesWithoutText:F.AF});});},10);}if(ax.continueToken){DP=ax.continueToken;alu=ax.continueAfter;mD();}else if(F.yI){qG('complete');}};function er(ax){if(!F.yI){return;}F.yI=false;F.bx.cC='The request to poll the search task failed.';F.bx.uN=true;qG('failed',{errorMessage:F.bx.cC});};PCCViewer.Ajax.fc({method:'GET',url:aK,headers:hX}).then(eh,er);};function aun(){(function atZ(){setTimeout(function(){Sg(atZ);},alu||0);}());};function aie(){qG('cancelled');F.yI=false;function ajF(){};if(!zb){Pn.push(ajF);return;}ajF();};this.Wi=function(aD,cE,de,bx){F.aD=aD;F.cE=cE;F.bx=bx;F.bx.de=de;F.xy=auY(F.cE);F.yI=true;F.bx.on('SearchCancelled',aie);auv(function(){aun();});return F.bx;};};module.exports=YF;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function ajQ(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function vP(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new vP(this.x,this.y);};};function Sm(aa){return(aa&&aa.nodeType===1);};function Me(yF,Fm){var TX=(Fm&&IPCC.h.De)?'m':'M';var YR=(Fm&&IPCC.h.De)?'l':'L';return IPCC.h.map(yF,function(el,i){if(i===0){return TX+el.x+','+el.y;}else{return YR+el.x+','+el.y;}}).join('');};function aja(dn,pk,dW){return function(aH){if(IPCC.h.CR&&aH.type.match('mouse')){aH.preventDefault();aH.stopPropagation();return false;}if(aH.preventDefault){aH.preventDefault();}else{aH.returnValue=false;}var x,y;if(aH.changedTouches){var gC=aH.changedTouches[0];if(aH.type==='touchstart'){pk=aH.target.getBoundingClientRect();}else if(aH.type==='touchend'){dW&&dW();return;}x=gC.clientX-pk.left;y=gC.clientY-pk.top;}else{x=aH.clientX-pk.left;y=aH.clientY-pk.top;}var bn=new vP(x,y);dn.yF.push(bn);var wV=Me(dn.yF);if(IPCC.h.De){dn.gV.path=wV.toLowerCase();}else{dn.gV.setAttribute('d',wV);}dW&&dW();};};function aum(points){var Bq=3,cu='',rZ;var sT=(points.length<Bq)?points:IPCC.h.filter(points,function(el){if(rZ&&rZ.close(el)){return false;}else{rZ=el;return true;}});if(sT.length<Bq){sT=[points[0],points[points.length-1]];}rZ=undefined;if(sT.length<Bq){cu+=Me(sT);}else{cu='M'+IPCC.h.bspline(sT);cu=cu.replace(/\d*\.?\d*/g,function(aB){var FN=aB.indexOf('.');if(aB.length&&FN>0){return aB.substr(0,FN+3);}else if(aB!==""){return aB;}else{return aB;}});}return cu;};function SignatureControl(dom){var F=this;if(typeof dom==='string'){this.cw=document.querySelector(dom);if(!(Sm(this.cw))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Sm(dom)){this.cw=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Fl=[];this.pk=new ajQ(this.cw.getBoundingClientRect());this.fL=IPCC.h.zw.SVG([0,0,this.pk.width,this.pk.height].join(' '));this.cw.appendChild(this.fL);function CV(ev){var gV=IPCC.h.zw.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});F.fL.appendChild(gV);var dn={yF:[],gV:gV,dW:function(){F.Fl.push(dn.yF);IPCC.h.removeEvent(F.cw,'mousemove',yQ);IPCC.h.removeEvent(F.cw,'mouseup',BB);if(IPCC.h.CR){IPCC.h.removeEvent(F.cw,IPCC.h.oy['move'],yQ);IPCC.h.removeEvent(F.cw,IPCC.h.oy['up'],BB);}if(IPCC.h.HE){IPCC.h.removeEvent(F.cw,'touchmove',yQ);IPCC.h.removeEvent(F.cw,'touchend',BB);}}};var yQ=aja(dn,F.pk);var BB=aja(dn,F.pk,dn.dW);yQ(ev);IPCC.h.addEvent(F.cw,'mousemove',yQ);IPCC.h.addEvent(F.cw,'mouseup',BB);if(IPCC.h.CR){IPCC.h.addEvent(F.cw,IPCC.h.oy['move'],yQ);IPCC.h.addEvent(F.cw,IPCC.h.oy['up'],BB);}if(IPCC.h.HE){IPCC.h.addEvent(F.cw,'touchmove',yQ);IPCC.h.addEvent(F.cw,'touchend',BB);}};IPCC.h.addEvent(F.cw,'mousedown',CV);if(IPCC.h.CR){this.cw.style['-ms-touch-action']='none';this.cw.style['touch-action']='none';IPCC.h.addEvent(F.cw,IPCC.h.oy['down'],CV);}if(IPCC.h.HE){IPCC.h.addEvent(F.cw,'touchstart',CV);}this.SS=function(){F.pk=new ajQ(F.cw.getBoundingClientRect());F.fL.setAttribute('viewBox',[0,0,F.pk.width,F.pk.height].join(' '));};IPCC.h.addEvent(window,'resize',this.SS);this.akQ=function(){IPCC.h.removeEvent(window,'resize',F.SS);IPCC.h.removeEvent(F.cw,'mousedown',CV);if(IPCC.h.CR){IPCC.h.removeEvent(F.cw,IPCC.h.oy['down'],CV);}if(IPCC.h.HE){IPCC.h.removeEvent(F.cw,'touchstart',CV);}while(F.cw.firstChild){F.cw.removeChild(F.cw.firstChild);}};};SignatureControl.prototype.done=function(){var mn,lY,nk,pb,wV='M0,0',afj=this;IPCC.h.forEach(afj.Fl,function(oM){IPCC.h.forEach(oM,function(p){if(mn===undefined||mn>p.x){mn=p.x;}if(lY===undefined||lY>p.y){lY=p.y;}if(nk===undefined||nk<p.x){nk=p.x;}if(pb===undefined||pb<p.y){pb=p.y;}});});IPCC.h.forEach(afj.Fl,function(oM){var ara=IPCC.h.map(oM,function(p){return new vP(p.x-mn,p.y-lY);});wV+=aum(ara);});this.akQ();return{type:'path',path:wV,width:(nk-mn)||0,height:(pb-lY)||0};};SignatureControl.prototype.resize=function(){this.SS();return this;};SignatureControl.prototype.clear=function(){var svg=this.fL;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Fl=[];return this;};SignatureControl.prototype.undo=function(){if(this.fL.lastChild){this.fL.removeChild(this.fL.lastChild);}this.Fl.pop();return this;};SignatureControl.prototype.cancel=function(){this.akQ();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var sq=IPCC.h.XI(signature.path);var fL=IPCC.h.zw.SVG([0,0,sq.width,sq.height].join(' '));var gV=IPCC.h.zw.Path(signature.path,{width:sq.width,height:sq.height,color:'black',thickness:4});if(IPCC.h.De){var azr=(sq.height/sq.width)*100;fL.style.width=gV.style.width='100%';fL.style.height=gV.style.height='0px';fL.style.paddingBottom=gV.style.paddingBottom=azr+'%';}else{fL.style.width='100%';fL.style.maxHeight='100%';fL.setAttribute('preserveAspectRatio','xMinYMin meet');}fL.appendChild(gV);domElement.appendChild(fL);return{width:sq.width,height:sq.height,clear:function(){domElement.removeChild(fL);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jp=document.createElement('div');var mG=document.createTextNode(signature.text);var jf=(typeof signature.fontName==='string')?signature.fontName:'serif';jp.appendChild(mG);jp.style.textAlign='center';jp.style.fontFamily='"'+jf+'", cursive';jp.style.fontSize='2.5em';jp.style.overflow='hidden';domElement.appendChild(jp);var sq=IPCC.h.vJ(signature.text,jf);return{width:sq.width,height:sq.height,clear:function(){domElement.removeChild(jp);}};};if(!Sm(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var rd=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var dB=require('./PCCViewer.MarkDeserializer');var ey=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.h.uk(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var F=this;this.Ug=viewerControlFacade;this.aE=new PCCViewer.ue(viewerControlFacade);IPCC.h.DA(element);var lf=document.createElement('div');lf.className='pccViewerControl';lf.id='pccViewerControl-'+IPCC.Ez();element.appendChild(lf);this.dk=lf;this.fK=element;var sC=document.createElement('div');sC.className='pccPageListLoading';lf.appendChild(sC);this.sC=sC;this.oW=false;this.au=rd.rI({},SingleSessionViewerControl.zh,options);this.au.language=rd.rI({},SingleSessionViewerControl.aDt,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.au.pageLayout.toLowerCase()==="vertical"){this.au.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.au.pageLayout.toLowerCase()==="horizontal"){this.au.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.au.viewMode.toLowerCase()==="document"){this.au.viewMode=IPCC.ViewMode.Document;}else if(this.au.viewMode.toLowerCase()==="equalwidthpages"){this.au.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.au.viewMode.toLowerCase()==="equalfitpages"){this.au.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.au.viewMode.toLowerCase()==="singlepage"){this.au.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(F.au.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.au.searchMethodPageCountThreshold)&&(typeof this.au.searchMethodPageCountThreshold!=='number')&&this.au.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.au.redactionViewMode){if(this.au.redactionViewMode.toLowerCase()==="draft"){this.au.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.au.redactionViewMode.toLowerCase()==="normal"){this.au.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.au.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var iJ=this.au.pageRotation%360;if(iJ!==0){var yR=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iJ||yR.indexOf(iJ)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!iJ||IPCC.Web.jX(yR,iJ)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.au.pageRotation=iJ;if(this.au.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.au.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.au.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.au.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.au.serviceResponseTimeout)||typeof this.au.serviceResponseTimeout!=='number'||this.au.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.au.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.au.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.au.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.hY={};this.aK="";this.fe=1;this.afR=1;this.acK=0;this.lb=1;this.aI=undefined;this.Vn=new PCCViewer.Deferred();this.pw=this.Vn.getPromise();this.fz=false;this.aD=undefined;this.Nj=0;this.cU=undefined;this.ar=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.mH=false;this.wN=false;this.Dc=false;this.Ck=[];this.Pw=new PCCViewer.Deferred();this.aEj=this.Pw.getPromise();this.wn=[];this.cB={};this.CS=[];this.Ev=[];this.by=null;this.JA={};this.hH=null;this.nj=new PCCViewer.MarkupLayerCollection(this.Ug);this.zP=new PCCViewer.MarkupLayer(this.Ug);this.nj.addItem(this.zP);this.xd=true;setTimeout(function(){F.agz(lf,F.au);},0);this.vl=null;this.bx=null;this.yE=false;this.Iy= -1;this.Fr={};this.agY=false;this.aBE=this.au.printTemplate||(this.au.template?this.au.template.print:"");this.kt=null;this.wW=null;this.nT=function(ci,eL,agp){var cR=document.createElement('div'),eC=cR.style;eC.position='absolute';if(eL.isSelected){eC.backgroundColor='white';}else{eC.backgroundColor='lightgray';}eC.left='10px';eC.right='0';eC.textAlign='left';IPCC.h.forEach(ci.getComments(),function(oR,C){var Xi=document.createElement('div'),Ou=Xi.style;Ou.position='relative';Ou.padding='5px';Ou.border='1px solid gray';if(C>0){Ou.borderTop='none';}Xi.appendChild(document.createTextNode(oR.getText()));cR.appendChild(Xi);});return cR;};return F;};SingleSessionViewerControl.zh={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.aDt={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.agz=function(element,options){if(this.oW){return;}var F=this;var ZT=function(){if(F.au.viewMode===IPCC.ViewMode.SinglePage||F.oW){return;}var aFI=F.aI.get_pageNodeId(F.getPageNumber()-1);var am=document.getElementById(aFI);var Xw=F.dk.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!am){return;}IPCC.h.forEach(Xw,function(iM){if(am!==iM){if(document.documentMode===8&&iM.style.outline){iM.style.outline='';}else if(iM.style.boxShadow){iM.style.boxShadow='';}}});if(document.documentMode===8){am.style.outline='2px solid #aaa';}else{am.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function aty(){var bi=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var kq=document.createElement('div'),Cz=document.createElement('div'),VT=function(){kq.classList.add('open');},KU=function(){if(kq.parentNode!==null){kq.parentNode.removeChild(kq);}};Cz.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var aal=document.createElement('p');Cz.appendChild(aal);function updateRemainingSeconds(){aal.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();kq.className='pccPageListNagModal';kq.appendChild(Cz);F.dk.appendChild(kq);VT();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{KU();clearInterval(intervalId);}},1000);};function eh(aJ){if(aJ.status===200){var ax=JSON.parse(aJ.responseText);if(ax.delayEnabled){showNagDialog(ax.delaySecondsRemaining);}}};function er(aJ){bi.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fc({method:'GET',url:F.au.imageHandlerUrl+'/v2/ViewingSessions/'+F.au.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(eh,er);};var ank=function(){if(F.sC.parentNode){F.sC.parentNode.removeChild(F.sC);}F.aI.remove_pageOpenFailed(TL);F.aI.remove_pageDisplayed(ank);var aW=arguments[1].pageIndex;setTimeout(function(){F.aE.trigger("PageDisplayed",{pageNumber:(aW+1)});ZT();},10);if(aW!==0){return;}function eh(aJ){if(F.oW){return;}var ax;if(aJ.status===200){ax=JSON.parse(aJ.responseText);if(ax.pageCountConfidence<100){var aK;if(!(/^[\x00-\x7F]*$/.test(sl))){aK=F.au.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sl+'&DesiredPageCountConfidence=100';}else{aK=F.au.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.au.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fc({method:'GET',url:aK,headers:{'Content-Type':'application/json'}}).then(eh,er);F.fe=ax.pageCount;F.aD.fe=ax.pageCount;F.Dc=true;setTimeout(function(){F.aE.trigger("EstimatedPageCountReady",{pageCount:ax.pageCount});},10);alk();}else{if(F.fe>1){F.aD.fe=ax.pageCount;setTimeout(function(){var C;if(ax.pageCount<F.fe){for(C=F.fe-1;C>=ax.pageCount;C--){F.cU.removePage(C);}}else if(ax.pageCount>F.fe){for(C=F.fe;C<ax.pageCount;C++){var Wa=new IPCC.Web.UI.ImGearPage({pageNumber:C});F.cU.addPage(Wa);}}F.fe=ax.pageCount;if(F.fz===true){F.mH=true;F.wN=true;setTimeout(function(){F.aE.trigger("PageCountReady",{pageCount:ax.pageCount});},30);}},30);}else{F.fe=ax.pageCount;F.aD.fe=ax.pageCount;if(F.fz===true){alk(function(){F.mH=true;F.wN=true;setTimeout(function(){F.aE.trigger("PageCountReady",{pageCount:ax.pageCount});},0);});}}}}};function er(ax){if(F.oW){return;}var XG="None",aeY,We;var ahu=ax.response.getResponseHeader('Accusoft-Status-Message');if(ahu){XG=ahu;We=ax.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wY(We)){aeY=parseInt(We,10);}}else if(ax.response.statusText){XG=ax.response.statusText;}setTimeout(function(){F.aE.trigger("PageLoadFailed",{statusCode:ax.response.status,errorMessage:XG,accusoftErrorNumber:aeY});},1);throw("Unable to obtain document information from the server");};var sl=IPCC.fU.su(F.au.documentID);if(!sl||sl===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(sl))){F.aK=F.au.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sl+'&DesiredPageCountConfidence=50';}else{F.aK=F.au.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.au.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fc({method:'GET',url:F.aK,headers:{'Content-Type':'application/json'}}).then(eh,er);};function alk(oA){oA=oA||function(){};var amX=F.fe;function akp(){F.aI.remove_allPagesAdded(akp);oA();};if(amX>1){F.aI.add_allPagesAdded(akp);if(!F.ahz){F.aI.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var dK=arguments[1];setTimeout(function(){F.aE.trigger('PageChanged',{pageNumber:dK.pageIndex+1});ZT();},0);});F.aI.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var dK=arguments[1];if(F.kt){F.kt();F.kt=null;if(F.hH){F.hH.resolve();}F.hH=null;}setTimeout(function(){F.aE.trigger('PageDisplayed',{pageNumber:dK.pageIndex+1});ZT();},0);setTimeout(function(){F.requestPageText(dK.pageIndex+1).then(function EB(){F.ZJ(dK.pageIndex+1,F.Iy);});},10);});F.aI.add_pageOpenFailed(function(){ajP(arguments);});F.ahz=true;}for(var C=F.Nj;C<amX;C++){F.cU.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:C}));F.Nj++;}}else{oA();}};var auI=function(dK){var am=document.getElementById(dK.pageNodeID),aa=document.createElement('div'),zx=document.createElement('button'),ajG='pccPageLoadFailRetry'+dK.pageIndex,aeK=function(){F.aI.RJ(dK.pageIndex);},aqm=PCCViewer.Language.data.pageLoadFailed,aqR=PCCViewer.Language.getValue("pageLoadFailedPassword"),apR=PCCViewer.Language.data.pageLoadFailedRetry,avx=dK.exception.statusCode===480&&dK.exception.customErrorCode===4001;if(am===null){return;}zx.id=ajG;zx.innerHTML=apR;aa.className='pccPageLoadFail';if(avx){aa.innerHTML=aqR+'<br>';am.appendChild(aa);}else{aa.innerHTML=aqm+'<br>';aa.appendChild(zx);am.appendChild(aa);zx=document.getElementById(ajG);if(!zx.addEventListener){zx.attachEvent('onclick',aeK);}else{zx.addEventListener('click',aeK,false);}}};function ajP(DN){if(DN.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var aeA,aej,dK=DN[1];if(DN[1].exception.customErrorCode!==undefined){aej=DN[1].exception.customErrorCode;}if(DN[1].exception.message!==undefined){aeA=DN[1].exception.message;}setTimeout(function(){F.aE.trigger('PageLoadFailed',{statusCode:dK.exception.statusCode,pageNumber:dK.pageIndex+1,errorMessage:aeA,accusoftErrorNumber:aej});auI(dK);},0);};function avi(){if(F.aI&&typeof F.aI.dispose==="function"){F.aI.dispose();}F.aK="";F.aI=undefined;while(F.dk.firstChild){F.dk.removeChild(F.dk.firstChild);}};function aID(aeG){var bi=new PCCViewer.Deferred();if(typeof aeG==="string"){PCCViewer.Ajax.fc({url:F.au.imageHandlerUrl+'/ViewingSession/u'+F.au.documentID+'/Replacement',body:JSON.stringify({password:aeG}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHI(aJ){var result=JSON.parse(aJ.responseText);var amU=result.viewingSessionId;F.au.documentID=amU;avi();F.agz(F.dk,F.au);bi.resolve(amU);},function aHe(err){bi.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{bi.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return bi.getPromise();};function TL(){F.aI.remove_pageOpenFailed(TL);ajP(arguments);};var aoZ=function(bv,H){F.um=true;var Ub={width:H.width,height:H.height,pageNumber:H.pageNumber};F.aE.trigger("PageOpening",Ub);};function ajR(){F.Vn.resolve(F.aI);F.aI.remove_pageOpened(ajR);F.fz=true;var bb=F;setTimeout(function(){F.aE.trigger("ViewerReady",{});if(bb.mH===true&&bb.wN===false){bb.wN=true;setTimeout(function(){F.aE.trigger("PageCountReady",{pageCount:bb.getPageCount()});},10);}},10);F.setCurrentMouseTool("AccusoftPanAndEdit");};var arl=function(bv,H){if(H.containsText===true){F.Pw.resolve(true);}var zs= -1;if(Array.prototype.indexOf){zs=(F.wn.indexOf(H.pageIndex)>=0);}else{zs=(IPCC.Web.jX(F.wn,H.pageIndex)>=0);}if(zs===false){F.wn.push(H.pageIndex);if(F.wn.length===F.fe){F.Pw.resolve(false);}}setTimeout(function(){F.aE.trigger("PageTextReady",{pageNumber:H.pageIndex+1});},0);};var apG=function(bv,H){var zs= -1;if(Array.prototype.indexOf){zs=(F.wn.indexOf(H.pageIndex)>=0);}else{zs=(IPCC.Web.jX(F.wn,H.pageIndex)>=0);}if(zs===false){F.wn.push(H.pageIndex);if(F.wn.length===F.fe){F.Pw.resolve(false);}}};function axT(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var jt=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){jt.push(eventArgs.pageNumbers[i]+1);}var gc=[],vp= -eventArgs.startIndex,ad,cq,ik,bK,j,k;for(j=0;j<jt.length;j++){ik=F.cU.jl(jt[j]-1).cA().gq();vp+=ik.eu();ad=0;if(j===0){ad=eventArgs.startIndex;}if(vp>=eventArgs.text.length){cq=vp-eventArgs.text.length-1;}else{cq=ik.eu()-1;}bK=IPCC.h.Zq(ik,ad,cq);for(k=0;k<bK.length;k++){gc.push({x:bK[k].x,y:bK[k].y,width:bK[k].width,height:bK[k].height,pageNumber:jt[j]});}}F.by={pageNumber:jt[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:gc};var G,acG={selectedText:eventArgs.text,pageNumbers:jt,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:F.by};function auR(){var KD=F.mt;F.akl=true;F.mt=function(sender,args){F.mt=KD;setTimeout(function(){F.aE.trigger(PCCViewer.EventType.MarkCreated,{mark:G,pageNumber:jt[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){G=F.cB[eventArgs.previousFirstMark.get_markID()];F.aI.remove_markRemoved(F.EG);F.aI.remove_markSelectionChanged(F.DR);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aW){var aDP=G.R.SF;var Vy;if(G.getReason){Vy=G.R.get_text();}var VA;if(G.getFillColor){VA=G.R.get_fillColor();}var SP;if(G.getColor){SP=G.R.get_lineColor();}var VW;if(G.getThickness){VW=G.R.get_lineWidth();}var UY;if(G.getHref){UY=G.R.get_href();}var aBy=new PCCViewer.Conversation(G);var bj=F.aI.hv(F.cU.getPage(G.R.aW));bj.removeMark(G.R);for(var C=G.bS.length-1;C>=0;C--){var mo=G.bS[C];bj=F.aI.hv(F.cU.getPage(mo.aW));bj.removeMark(mo);G.bS.splice(C,1);}G.R=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());G.R.aW=eventArgs.pageNumbers[0];G.bO=eventArgs.pageNumbers[0]+1;G.R.kA=true;G.R.SF=aDP;var KD=F.mt;F.mt=null;F.aI.remove_markChanged(F.nQ);bj=F.aI.hv(F.cU.getPage(G.R.aW));bj.addMark(G.R);if(Vy){G.R.set_text(Vy);}if(VA){G.R.set_fillColor(VA);}if(SP){G.R.set_lineColor(SP);}if(VW){G.R.set_lineWidth(VW);}if(UY){G.R.set_href(UY);}G.ci=new PCCViewer.Conversation(G);PCCViewer.Conversation.sV(aBy,G.ci);F.aI.add_markChanged(F.nQ);F.mt=KD;}G.R.set_selected(true);G.R.set_visible(true);G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});F.aI.add_markRemoved(F.EG);F.aI.add_markSelectionChanged(F.DR);F.oG(G,eventArgs.pageNumbers[0]);return;}var AE=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:AE='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:AE='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:AE='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:AE='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:awE(eventArgs.text);F.JA[jt[0]]='selectText';break;}var ar=PCCViewer.MouseTools.getMouseTool(F.getCurrentMouseTool());var bC=(ar&&ar.getTemplateMark)?ar.getTemplateMark():undefined;var arH=bC?bC.getType():"";if(AE){auR();F.aE.trigger(PCCViewer.EventType.TextSelected,acG);G=F.addMark(jt[0],AE);if(F.xd){F.zP.addMarks(G);}G.R.kA=true;G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(arH===AE){if(bC.getFillColor){G.setFillColor(bC.getFillColor());}if(bC.getReason&& !G.pp){G.setReason(bC.getReason());}if(bC.getReasons&&G.pp){G.setReasons(bC.getReasons());}if(bC.getHref){G.setHref(bC.getHref());}if(bC.getColor){G.setColor(bC.getColor());}if(bC.getThickness){G.setThickness(bC.getThickness());}PCCViewer.Data.oQ(bC,G);}return;}setTimeout(function(){F.aE.trigger(PCCViewer.EventType.TextSelected,acG);},0);};function apT(){var am=F.dk,aa=document.createElement('div');aa.className='pccCopyText';am.appendChild(aa);F.Gi=aa;};function awE(bQ){var mG,aIz=bQ.split('\n'),JU=document.createDocumentFragment(),BZ,ky;mG=document.createTextNode(bQ);JU.appendChild(mG);IPCC.h.DA(F.Gi);F.Gi.appendChild(JU);if(document.body.createTextRange){BZ=document.body.createTextRange();BZ.moveToElementText(F.Gi);BZ.select();}else if(window.getSelection){ky=window.getSelection();BZ=document.createRange();BZ.selectNodeContents(F.Gi);ky.removeAllRanges();ky.addRange(BZ);}};this.aD=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.au.documentID,imageServicePath:this.au.imageHandlerUrl});this.aD.set_encryption(this.au.encryption||false);var Wa=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aD.get_pages().addPage(Wa);this.cU=this.aD.get_pages();this.aI=IPCC.initializePageListPlugin(element,options);aty();this.aI.get_documents().addDocument(this.aD);this.Nj=1;this.aI.add_pageDisplayed(ank);this.aI.add_pageOpenFailed(TL);this.aI.add_pageOpening(aoZ);this.aI.add_pageOpened(ajR);this.aI.add_textPageReady(arl);this.aI.add_textExtractionFailed(apG);this.aI.set_conversationDOMFactory(function(R,eL,agp){var G=F.cB[R.get_markID()];if(G){return F.nT(G.getConversation(),eL,agp);}});IPCC.h.aue(element,function(Im){if(!Im&&IPCC.h.Bc!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!F.fz){IPCC.h.Bc='svg';return;}else if(F.mH){IPCC.h.Bc='svg';F.aI.disposeDisplayedPages();F.aI.displayAll();}else{var ps=function(){F.aE.off(PCCViewer.EventType.PageCountReady,ps);IPCC.h.Bc='svg';F.aI.disposeDisplayedPages();F.aI.displayAll();};F.aE.on(PCCViewer.EventType.PageCountReady,ps);}}});apT();this.aI.add_selectTextMouseToolCompleted(axT);this.aI.add_propertyChanged(function(sy,cr){var proprtyName=cr.ayH();if(proprtyName==="mouseTool"){setTimeout(function(){F.aE.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.ar.getName()});},0);}});this.aI.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&F.cB[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bH!==undefined){F.oG(eventArgs.mark,eventArgs.pageIndex);}if(F.mt){var ab=eventArgs.mark.get_type();if(ab!==IPCC.Web.UI.MarkType.Highlight&& !(ab===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bH!==undefined)){F.mt(sender,eventArgs);}}});this.aI.add_markCreating(function(sender,eventArgs){if(F.Fd){F.Fd(sender,eventArgs);}});this.aI.KX(function(sender,eventArgs){var Ei=0;var zp=0;var adp=0;var vj=0;var vH=0;var Md=0;var aqX=F.ar.getName().toLowerCase(),apL=F.ar.getType();if(apL===PCCViewer.MouseTool.Type.PlaceSignature){var ar=F.ar;var bC=ar.getTemplateMark(),ka=bC.getSignature(),ado=bC.getRectangle(),G,J={};if(!ka){return;}F.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var uW;if(attributes.width>0){zp=ado.width||(attributes.width/5);}if(ka.path&&ka.path.length>0){uW=IPCC.h.XI(ka.path);J={x:0,y:0,width:uW.width,height:uW.height};G=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);G.setPath(ka.path);G.setThickness(ka.thickness||4);}if(ka.text&&ka.text.length){uW=IPCC.h.vJ(ka.text,ka.fontName);G=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);J={x:0,y:0,width:uW.width,height:uW.height};G.setText(ka.text);G.setFontName(ka.fontName);}adp=(J.width/zp);Ei=ado.height||(J.height/adp);vj=(eventArgs.imagePoint.x-(zp/2));vH=(eventArgs.imagePoint.y-(Ei/2));if(vj<=0){vj=0;}if(vH<=0){vH=0;}if((vj+zp)>=attributes.width){Md=(vj+zp)-attributes.width;vj=vj-Md;}if((vH+Ei)>=attributes.height){Md=(vH+Ei)-attributes.height;vH=vH-Md;}J={x:vj,y:vH,width:zp,height:Ei};G.setRectangle({x:vj,y:vH,width:zp,height:Ei});PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());});F.setCurrentMouseTool(aqX);}});function MouseEvent(aH){var F=this;for(var i in aH){if(i){F[i]=aH[i];}}};this.aI.NC(function(sender,eventArgs){var by=null,gF=null,G=null,gj=null,wZ=false,LE=eventArgs.upTarget.type,Oj=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Oj=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){wZ=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Oj===false){F.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){gj=F.aDI(eventArgs.upMark);wZ=gj!==null;LE="documentHyperlink";}else{G=F.cB[eventArgs.upMark.get_markID()];if(G===undefined){for(var ih in F.cB){if(F.cB.hasOwnProperty(ih)){if(F.cB[ih].R.bH===eventArgs.upMark.bH&&F.cB[ih].R.bH===eventArgs.downMark.bH){G=F.cB[ih];eventArgs.pageIndex=G.bO-1;wZ=true;var aqB=F.getCurrentMouseTool();var aqp=PCCViewer.MouseTools.getMouseTool(aqB);var agX=aqp.getType();if(Oj===false&&eventArgs.domEvent.button===0){if(agX===PCCViewer.MouseTool.Type.PanAndEdit||agX===PCCViewer.MouseTool.Type.EditMarks){F.deselectAllMarks();G.R.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.kO()===eventArgs.upMark.kO()){wZ=true;if(Oj===false&&eventArgs.downTarget.alreadySelected===false){F.deselectAllMarks();G.R.set_selected(true);}}if(G===undefined){if(F.bx&&F.JA[eventArgs.upTarget.pageIndex+1]==='search'){var ee=F.bx.getResults();for(var C=0;C<ee.length;C++){if(ee[C].bO===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.ad!=='undefined'&&typeof eventArgs.upMark.ad!=='undefined'&&typeof eventArgs.downMark.dJ!=='undefined'&&typeof eventArgs.upMark.dJ!=='undefined'&&eventArgs.downMark.ad>=ee[C].getStartIndexInPage()&&eventArgs.downMark.ad+eventArgs.downMark.dJ<=ee[C].getStartIndexInPage()+ee[C].getText().length&&eventArgs.upMark.ad>=ee[C].getStartIndexInPage()&&eventArgs.upMark.ad+eventArgs.upMark.dJ<=ee[C].getStartIndexInPage()+ee[C].getText().length){LE='searchResult';gF=ee[C];eventArgs.upTarget.pageIndex=gF.bO-1;wZ=true;break;}}}}if(wZ===false&&G===undefined&&F.JA[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.ad!=='undefined'&&typeof eventArgs.upMark.ad!=='undefined'&&eventArgs.downMark.ad>=F.by.startIndex&&eventArgs.downMark.ad+eventArgs.downMark.dJ<=F.by.startIndex+F.by.length&&eventArgs.upMark.ad>=F.by.startIndex&&eventArgs.upMark.ad+eventArgs.upMark.dJ<=F.by.startIndex+F.by.length){LE='textSelection';by=F.by;wZ=true;}}}var WD=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var apg=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var H={pageNumber:apg,targetType:LE,textSelection:by,searchResult:gF,mark:G,originalEvent:WD,hyperlink:gj,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(wZ===true){F.aE.trigger('Click',H);}},0);});(function(){var AG=null;F.aI.Le(function(sender,eventArgs){var WD=new MouseEvent(eventArgs.domEvent);var H={originalEvent:WD,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(AG!==null){H.mark=F.cB[AG];AG=null;setTimeout(function(){F.aE.trigger('MarkMouseLeave',H);},0);}}else{H.mark=F.cB[eventArgs.mark.get_markID()];if(H.mark===undefined){for(var ih in F.cB){if(F.cB.hasOwnProperty(ih)){if(F.cB[ih].R.bH===eventArgs.mark.bH){H.mark=F.cB[ih];break;}}}}if(!H.mark){return;}setTimeout(function(){if(AG!==H.mark.getId()){if(AG!==null){F.aE.trigger('MarkMouseLeave',IPCC.h.extend({},H,{mark:F.cB[AG]}));}AG=H.mark.getId();F.aE.trigger('MarkMouseEnter',H);}F.aE.trigger('MarkMouseOver',H);},0);}});})();this.aI.add_hyperlinkPageReady(function(sender,eventArgs){if(F.CS[eventArgs.pageIndex]!==undefined){return;}var aW=eventArgs.pageIndex,ak=F.cU.getPage(aW),EQ=ak.get_hyperlinkPage().JV(),wk=F.CS[aW]=[];EQ.jW(function(AU){wk.push(new PCCViewer.DocumentHyperlink({bO:aW+1,AU:AU}));});if(!F.Ev[aW]){F.Ev[aW]=new PCCViewer.Deferred();}F.Ev[aW].resolve(wk);});this.oG=function(G,hl){var Vk=false;function Tc(){var jJ=false;var dq=F.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()===hl){jJ=true;break;}}return jJ;};function Ot(hb){if(F.aI){F.aI.bW(hb);}};if(Tc()){if(Array.prototype.indexOf){if(IPCC.Web.jX(F.Ck,hl)>=0){Vk=true;}}else{if(IPCC.Web.jX(F.Ck,hl)>=0){Vk=true;}}if(!Vk){F.Ck.push(hl);setTimeout(function(){var cf=F.Ck.length;if(cf>0){for(var C=0;C<cf;C++){Ot(F.Ck[C]);}F.Ck.splice(0,cf);}},10);}}};var IF={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.au.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.au.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var KW={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.nQ=function(bv,H){var G=F.cB[H.mark.get_markID()];var af;if(G){af=G.af;}if(af&&IF[af]&&IF[af][H.propertyName]===false){return;}var dv;if(af){dv=IF[af]&&IF[af][H.propertyName]?IF[af][H.propertyName]:KW[H.propertyName]?KW[H.propertyName]:H.propertyName;}else{dv=KW[H.propertyName]?KW[H.propertyName]:H.propertyName;}if(H.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||H.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||H.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||H.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||H.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||H.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(H.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&H.mark.bH!==undefined)){if(G){setTimeout(function(){F.aE.trigger('MarkChanged',{mark:G,pageNumber:H.pageIndex+1,propertyName:dv});},0);}else{for(var ih in F.cB){if(F.cB.hasOwnProperty(ih)){G=F.cB[ih];if(G.bH===H.mark.bH){break;}}}}F.oG(G,H.pageIndex);}else if(G&&H.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dv==='points'){if(G.Wp){clearTimeout(G.Wp);}G.Wp=setTimeout(function(){G.Wp=undefined;F.oG(G,H.pageIndex);F.aE.trigger('MarkChanged',{mark:G,pageNumber:H.pageIndex+1,propertyName:dv});},1);}else if(G){F.oG(G,H.pageIndex);setTimeout(function(){F.aE.trigger('MarkChanged',{mark:G,pageNumber:H.pageIndex+1,propertyName:dv});},0);}if(G&&G.type===PCCViewer.Mark.Type.TextRedaction){G.R.set_opacity(0);}if(G&&(G.af===PCCViewer.Mark.Type.TextInputSignature||G.af===PCCViewer.Mark.Type.TextAreaSignature)){G.R.set_lineVisible(false);}};this.aI.add_markChanged(F.nQ);this.aI.add_markReordered(function(sender,eventArgs){var G=F.cB[eventArgs.mark.get_markID()];setTimeout(function(){F.aE.trigger('MarkReordered',{mark:G,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.DR=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var G;for(var Nn in F.cB){if(F.cB.hasOwnProperty(Nn)){G=F.cB[Nn];if(G.R.bH===eventArgs.mark.bH){G.R.set_selected(eventArgs.mark.get_selected());F.oG(G.R,G.R.aW);for(var C=0;C<G.bS.length;C++){G.bS[C].set_selected(eventArgs.mark.get_selected());F.oG(G.bS[C],G.bS[C].aW);}}}}}setTimeout(function(){F.aE.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aI.add_markSelectionChanged(F.DR);this.aI.add_markTextSelectionChanged(function(sender,eventArgs){F.oG(eventArgs.mark,eventArgs.pageIndex);});this.EG=function(sender,eventArgs){var G;if(eventArgs.mark){G=F.cB[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&G===undefined&&eventArgs.mark.bH!==undefined){F.oG(eventArgs.mark,eventArgs.pageIndex);}else if(G){setTimeout(function(){F.aE.trigger(PCCViewer.EventType.MarkRemoved,{mark:G,pageNumber:eventArgs.pageIndex});},0);}}};this.aI.add_markRemoved(F.EG);this.aI.add_commentAdding(function(sender,eventArgs){var G=F.cB[eventArgs.mark.get_markID()];if(eventArgs.comment.FZ.ir===undefined){eventArgs.comment.FZ.ir=F.getActiveMarkupLayer();}});this.aI.add_commentAdded(function(sender,eventArgs){var G=F.cB[eventArgs.mark.get_markID()];F.aE.trigger(PCCViewer.EventType.CommentCreated,{conversation:G.getConversation(),comment:eventArgs.comment.FZ});});this.aI.add_commentRemoved(function(sender,eventArgs){var G=F.cB[eventArgs.mark.get_markID()];F.aE.trigger(PCCViewer.EventType.CommentRemoved,{conversation:G.getConversation(),comment:eventArgs.comment.FZ});});this.aI.add_commentChanged(function(sender,eventArgs){var G=F.cB[eventArgs.mark.get_markID()];F.aE.trigger(PCCViewer.EventType.CommentChanged,{conversation:G.getConversation(),comment:eventArgs.comment.FZ});});this.aI.add_scaleChanged(function(sender,eventArgs){var fF;switch(eventArgs.fitType){case 0:fF=PCCViewer.FitType.FullWidth;break;case 1:fF=PCCViewer.FitType.ShrinkToWidth;break;case 2:fF=PCCViewer.FitType.ActualSize;break;case 3:fF=PCCViewer.FitType.FullHeight;break;case 4:fF=PCCViewer.FitType.FullPage;break;default:break;}F.aE.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:fF,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.fe;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.aI)?(this.aI.aiI().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var bO;if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bO=Number(pageNumber);}}if(parseInt(bO,10)!==bO){throw new Error("The 'pageNumber' value "+bO+" is not an integer page number.");}if(bO<1||bO>this.getPageCount()|| !isFinite(bO)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===bO){return this;}if(this.aI){this.aI.scrollToPage(bO-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.aI){if(this.Dc||this.mH){this.aI.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.aI){if(this.Dc||this.mH){this.aI.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.aI){if(this.Dc||this.mH){this.aI.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.aI){if(this.Dc||this.mH){this.aI.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fz){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var F=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){F.aI.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{F.aI.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.fz){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hH){this.hH.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hH=null;this.kt=null;}var F=this;var GN=function(){F.aI.scrollConversationIntoView(target.getMark().R.get_conversation());if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};var vm=function(ev){if(ev.target.wW===target){F.aE.off(PCCViewer.EventType.CommentCreated,vm);F.wW=null;F.scrollTo(target);}else if(ev.target.wW===null){F.aE.off(PCCViewer.EventType.CommentCreated,vm);}if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};var Ip=function(bO,gd){F.aI.prefetchPages();F.aI.scrollRegionIntoView(bO-1,gd);if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};ajw(F,target,vm,GN,Ip);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.hH){this.hH.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hH=null;this.kt=null;}var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this;F.hH=bi;try{var GN=function(){F.aI.scrollConversationIntoView(target.getMark().R.get_conversation());if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};var vm=function(ev){if(ev.target.wW===target){F.aE.off(PCCViewer.EventType.CommentCreated,vm);F.wW=null;F.scrollTo(target);}else if(ev.target.wW===null){F.aE.off(PCCViewer.EventType.CommentCreated,vm);}if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};var Ip=function(bO,gd){F.aI.prefetchPages();F.aI.scrollRegionIntoView(bO-1,gd);if(F.hH){F.hH.resolve();}F.hH=null;F.kt=null;};if(ajw(F,target,vm,GN,Ip)===true){bi.resolve();}}catch(e){F.hH=null;F.kt=null;bi.reject(new PCCViewer.Error("Error",e));}return dH;};function ajw(cZ,cg,vm,GN,Ip){var gd,bO,aN;cZ.wW=null;if(cg instanceof PCCViewer.Conversation){if(cZ.cB[cg.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var acE=cZ.aI.scrollConversationIntoView(cg.getMark().R.get_conversation());if(acE==="PageOutOfView"){cZ.kt=GN;cZ.setPageNumber(cg.getMark().getPageNumber());return false;}else if(acE==="ConversationDivDoesNotExist"&&cg.getMark().R.get_conversation().get_length()>0){cZ.wW=cg;cZ.aE.on(PCCViewer.EventType.CommentCreated,vm);return false;}else{cZ.kt=null;return true;}}else if(cg instanceof PCCViewer.SearchResult){if(cg.Yv!==cZ.aD.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aN=cg.getBoundingRectangle();gd=new IPCC.Web.UI.Rectangle(aN.x,aN.y,aN.width,aN.height);bO=cg.getPageNumber();}else if(cg instanceof PCCViewer.Mark){if(cZ.cB[cg.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aN=cg.getBoundingRectangle();gd=new IPCC.Web.UI.Rectangle(aN.x,aN.y,aN.width,aN.height);bO=cg.getPageNumber();}else if(cg!==undefined&&cg!==null){if(typeof cg.x==='number'&&typeof cg.y==='number'){gd=new IPCC.Web.UI.Rectangle(+cg.x,+cg.y,0,0);}else{if(isNaN(+cg.x)||isNaN(+cg.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gd=new IPCC.Web.UI.Rectangle(Number(+cg.x),Number(+cg.y),0,0);}}if(cg.width){if(typeof cg.width==='number'){gd.width=cg.width;}else{if(isNaN(+cg.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gd.width=Number(+cg.width);}}}if(cg.height){if(typeof cg.height==='number'){gd.height=cg.height;}else{if(isNaN(+cg.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gd.height=Number(+cg.height);}}}if(typeof cg.pageNumber==='number'){bO= +cg.pageNumber;}else{if(isNaN(+cg.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{bO=Number(+cg.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(bO<1||bO>cZ.getPageCount()|| !isFinite(bO)){throw new RangeError("The parameter pageNumber is out of range.");}if(cZ.aI.scrollRegionIntoView(bO-1,gd)===false){cZ.kt=function(){Ip(bO,gd);};cZ.setPageNumber(bO);return false;}else{cZ.kt=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fz){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(AQ(this.getPageNumber()-1,this)===false){this.aI.bW(this.getPageNumber()-1);}var iJ=degreesClockwise%360,F=this;if(iJ!==0){var yR=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iJ||yR.indexOf(iJ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iJ||IPCC.Web.jX(yR,iJ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aI.rotate(iJ);}setTimeout(function(){F.aE.trigger("PageRotated",{degreesClockwise:iJ,pageNumber:(F.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fz){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(AQ(this.getPageNumber()-1,this)===false){this.aI.bW(this.getPageNumber()-1);}var iJ=degreesClockwise%360,F=this;if(iJ!==0){var yR=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iJ||yR.indexOf(iJ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iJ||IPCC.Web.jX(yR,iJ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aI.afE(iJ);}setTimeout(function(){F.aE.trigger("DocumentRotated",{degreesClockwise:iJ});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.um){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.aI.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.um){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aI.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.um){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.aI.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.um){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.aI.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.um){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aI){this.aI.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.um){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aI){this.aI.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var ob;if(this.aI&&this.aI.get_viewMode){ob=this.aI.get_viewMode();}else{ob=this.au.viewMode;}if(ob===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(ob===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(ob===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var ob;switch(viewMode){case PCCViewer.ViewMode.Document:ob=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:ob=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:ob=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:ob=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aI&&this.aI.set_viewMode){var Gq=this.aI.get_viewMode();if(Gq!==ob){if(Gq===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(ob===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aI.set_viewMode(ob);}}else{this.au.viewMode=ob;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var vG;if(this.aI&&this.aI.get_pageLayout){vG=this.aI.get_pageLayout();}else{vG=this.au.pageLayout;}if(vG===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var vG;if(this.au.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:vG=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aI&&this.aI.closeCommentsPanel){this.aI.closeCommentsPanel();var F=this;setTimeout(function(){F.aE.trigger("CommentsPanelToggled",{isOpen:false});},10);}vG=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aI&&this.aI.set_pageLayout){this.aI.set_pageLayout(vG);}else{this.au.pageLayout=vG;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.um){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.aI.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.um){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.aI.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.um){throw "The fitContent method cannot be called before the initial PageOpening event.";}var DF;switch(fitType){case PCCViewer.FitType.FullWidth:DF=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:DF=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}DF=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:DF=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:DF=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.pw.then(function(sy){sy.fitPages(DF);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fz){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var bO;if(arguments.length>0){if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bO=Number(pageNumber);}}if(parseInt(bO,10)!==bO){throw new Error("The 'pageNumber' value "+bO+" is not an integer page number.");}if(bO<1||bO>this.getPageCount()|| !isFinite(bO)){throw new Error("The parameter pageNumber is out of range.");}return this.aI.ZM(bO-1);}else{return this.aI.ZM();}};SingleSessionViewerControl.prototype.search=function(de){var au=this.au;var ayg=au.searchMethodType.toLowerCase();var awj=au.searchMethodPageCountThreshold;var F=this;var Ya;var lg;var GQ=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(GQ,{"searchQuery":{enumerable:true,get:function(){return lg.getSearchQuery();}},"results":{enumerable:true,get:function(){return lg.getResults();}},"isComplete":{enumerable:true,get:function(){return lg.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return lg.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return lg.getErrorMessage();}}});}function Hb(bq){return function(){GQ.trigger.apply(GQ,[bq].concat([].slice.call(arguments)));};};var acO=Hb(PCCViewer.EventType.SearchCompleted);var adi=Hb(PCCViewer.EventType.SearchCancelled);var acs=Hb(PCCViewer.EventType.SearchResultsAvailable);var adR=Hb(PCCViewer.EventType.PartialSearchResultsAvailable);var acQ=function(aH){var dZ=Ya.getErrorCode();if(dZ==='ServerSearchUnavailable'){F.agY=true;F.yE=false;azH();lg=F.clientSearch(de);akZ();}else{Hb(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var akZ=function(){lg.on(PCCViewer.EventType.SearchCompleted,acO);lg.on(PCCViewer.EventType.SearchFailed,acQ);lg.on(PCCViewer.EventType.SearchCancelled,adi);lg.on(PCCViewer.EventType.SearchResultsAvailable,acs);lg.on(PCCViewer.EventType.PartialSearchResultsAvailable,adR);};var azH=function(){lg.off(PCCViewer.EventType.SearchCompleted,acO);lg.off(PCCViewer.EventType.SearchFailed,acQ);lg.off(PCCViewer.EventType.SearchCancelled,adi);lg.off(PCCViewer.EventType.SearchResultsAvailable,acs);lg.off(PCCViewer.EventType.PartialSearchResultsAvailable,adR);};var Bi=function(){if(F.agY===false){Ya=F.serverSearch(de);lg=Ya;akZ();IPCC.h.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(bq){GQ[bq]=function(){return lg[bq].apply(lg,arguments);};});return GQ;}else{return F.clientSearch(de);}};switch(ayg){case('auto'):if(awj>=this.fe){return this.clientSearch(de);}else{return Bi();}break;case('client'):return this.clientSearch(de);case('server'):return Bi();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.adt=function(de,aAf){var F=this;var cE=new PCCViewer._Search();this.bx=cE.aAX();PCCViewer.SearchTask.prototype.afk(de);if(aAf===true){if(F.wN!==true){F.pw.then(function(sy){var JB=function(){F.aE.off('PageCountReady',JB);F.clientSearch(de);};F.aE.on('PageCountReady',JB);return F.bx;});}if(!this.aD.aCK()){this.aD.QU(0,this.aD.fe-1,this.aD.fe);}}this.vl=null;this.Fr={};this.aI.clearAllSelectedText();return cE;};SingleSessionViewerControl.prototype.agl=function(){var bb=this;this.bx.on('PartialSearchResultsAvailable',function(cr){if(bb.oW){return;}var Hm=[];var QK={};Hm=cr.partialSearchResults;var ax=Hm[0];if(bb.Fr[ax.getPageNumber()]!==undefined){QK=bb.Fr[ax.getPageNumber()];}else{QK.ad=ax.getId();}ax=Hm[Hm.length-1];QK.cq=ax.getId();bb.Fr[ax.getPageNumber()]=QK;function EB(ak){if(bb.oW){return;}bb.ahH(ak.get_pageNumber(),Hm);};var dq=bb.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()+1===ax.getPageNumber()){bb.requestPageText(ak.get_pageNumber()+1).then(EB.bind(null,ak));}}});this.bx.on('SearchCompleted',function(cr){bb.yE=false;});this.bx.on('SearchCancelled',function(cr){bb.yE=false;});this.aE.trigger('SearchPerformed',{searchRequest:this.bx});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var bb=this;var cE=bb.adt(searchQuery,true);searchQuery=cE.TY(searchQuery);if(this.yE===false){bb.aI.set_retainPageText(true);this.bx=cE.wA(searchQuery,this.aD);this.yE=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bb.agl();return this.bx;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var bb=this;var cE=bb.adt(searchQuery,false);searchQuery=cE.TY(searchQuery);if(this.yE===false){this.bx=cE.Bi(searchQuery,this.aD);this.yE=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bb.agl();return this.bx;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.bx;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.fz){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var F=this;if(this.getSelectedSearchResult()){this.vl=null;setTimeout(function(){F.aE.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aI.clearAllSelectedText();this.bx=null;setTimeout(function(){F.aE.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(de){var fq={errorsExist:false};var searchTermObj,adx,C,bB,XP,Ny,LV;if(typeof de!=='object'&&typeof de!=='string'){fq.errorsExist=true;fq.summaryMsg="Search query must be either an object or string.";return fq;}if(typeof de==='string'&&de.length<0){fq.errorsExist=true;fq.summaryMsg="Search term must contain at least 3 characters.";return fq;}else if(typeof de==='string'){return fq;}if(!de.hasOwnProperty('searchTerms')){fq.errorsExist=true;fq.summaryMsg="Search options must have a 'searchTerms' key.";return fq;}if(Object.prototype.toString.call(de.searchTerms)!=='[object Array]'){fq.errorsExist=true;fq.summaryMsg="Search terms value must be an array.";return fq;}if(!de.searchTerms.length){fq.errorsExist=true;fq.summaryMsg="Search terms array must contain at least one value.";return fq;}fq.searchTerms=[];IPCC.h.forEach(de.searchTerms,function(searchTermObj){var KZ=ajJ(searchTermObj);if(KZ.errorsExist){fq.errorsExist=true;}fq.searchTerms=fq.searchTerms.concat(KZ.searchTerms);});return fq;};function ajJ(jN){var fq={errorsExist:false,searchTerms:[]};var axX=jN.type?IPCC.h.trim(jN.type).toLowerCase():undefined;if(axX==='proximity'){if(Object.prototype.toString.call(jN.terms)!=='[object Array]'){fq.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});fq.errorsExist=true;return fq;}if(jN.terms.length<2){fq.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});fq.errorsExist=true;return fq;}if(!jN.distance){fq.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});fq.errorsExist=true;return fq;}IPCC.h.forEach(jN.terms,function(aFe){var KZ=ajJ(aFe);if(KZ.errorsExist){fq.errorsExist=true;}fq.searchTerms=fq.searchTerms.concat(KZ.searchTerms);});return fq;}var XP,LV;var Ny=(typeof jN.matchingOptions!=='undefined'&&jN.matchingOptions.hasOwnProperty('matchCase'))?jN.matchingOptions.matchCase:false;if(typeof jN.searchTerm==='undefined'||typeof jN.searchTerm!=='string'||(jN.searchTermIsRegex===true&& !ayO(jN.searchTerm,Ny))){fq.errorsExist=true;fq.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return fq;}XP=(typeof jN.matchingOptions!=='undefined'&&jN.matchingOptions.hasOwnProperty('exactPhrase'))?jN.matchingOptions.exactPhrase:false;if(XP){if(jN.searchTerm.length<0){fq.errorsExist=true;fq.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return fq;}}else{var adx=jN.searchTerm.split(' ');IPCC.h.forEach(adx,function(LV){if(LV.length>0&&LV.length<0){fq.errorsExist=true;fq.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!fq.searchTerms.length){fq.searchTerms.push({isValid:true,message:null});}return fq;};var ayO=function(VX,Ny){var ash,abc,Qe;if(Ny){abc='gm';}else{abc='igm';}if(!VX&&VX!==null){Qe=false;}else{try{ash=new RegExp(VX,abc);Qe=true;}catch(err){Qe=false;}}return Qe;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.ig=new PCCViewer.Jv({imageHandlerUrl:this.au.imageHandlerUrl,documentID:this.au.documentID});return this.ig.aAb();};SingleSessionViewerControl.prototype.hq=function(Ws){var yw=false,dq=this.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()===Ws){yw=true;}}return yw;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var aK;if(!(/^[\x00-\x7F]*$/.test(this.aD))){aK=this.au.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.au.documentID+'/SourceFile';}else{aK=this.au.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.au.documentID);}return aK;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var bO;var bi=PCCViewer.Deferred();var dH=bi.getPromise();var cZ=this;try{if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bO=parseInt(pageNumber,10);}}if(bO<1||bO>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var XR=this.Ev[bO-1];if(!XR){XR=this.Ev[bO-1]=new PCCViewer.Deferred();this.pw.then(function(){var ak=cZ.cU.getPage(bO-1);ak.Af();});}bi.resolve(XR.getPromise());}catch(e){bi.reject(new PCCViewer.Error('Error',e));}return dH;};SingleSessionViewerControl.prototype.aDI=function(aEf){var i,j,wk;for(j=0;j<this.CS.length;j++){wk=this.CS[j];if(wk){for(i=0;i<wk.length;i++){if(wk[i].AU.KI()===aEf){return wk[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fz===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var F=this;var fe=F.getPageCount();var fC;if(typeof values==='string'){try{fC=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fC=values;}if(fC.constructor!==Array){fC=[fC];}function MD(eK,ai){throw new Error('Cannot serialize mark (at index '+ai+') because of '+eK);};var aaM=IPCC.h.map(F.getAllMarks(),function(G){return G.getUid();});IPCC.h.forEach(fC,function validateObject(aU,ai){if(!aU.pageNumber||isNaN(+aU.pageNumber)||aU.pageNumber<1||aU.pageNumber>fe){MD('unknown page number '+aU.pageNumber,ai);}if(!PCCViewer.Mark.Type[aU.type]){MD('unknown type '+aU.type,ai);}if(aU.type==='RectangleRedaction'||aU.type==='TextSelectionRedaction'){if(!F.au.enableMultipleRedactionReasons&&aU.hasOwnProperty('reasons')){MD('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',ai);}}if(IPCC.h.contains(aaM,aU.uid)){MD('uid '+aU.uid+' is being duplicated or already exists',ai);}else if(aU.uid!==undefined){aaM.push(aU.uid);}});if(fC.length===0){return[];}var dM=F.aD.get_pages();var aqE=[];dM.jW(function(ak){aqE.push(F.aI.hv(ak));});var bd=IPCC.h.reduce(fC,function(ax,aU){var ak=dM.jl(aU.pageNumber-1);var Xr=ak.get_pageWidth();var agw=ak.get_pageHeight();var fT=aU.pageData;if(!fT&&(!Xr|| !agw)){var ayL=IPCC.h.find(aU.lineGroups,function(afW){return(afW.pageNumber&&afW.pageNumber===aU.pageNumber);});fT=ayL.pageData;}var aZ=Xr||fT.width;var ay=agw||fT.height;var G=dB[aU.type].call(F,aU,{aZ:aZ,ay:ay});if(aU.uid===undefined){aaM.push(G.getUid());}if(!Xr&&aU.maintainMarkScaling!==true){ak.BE=true;ak.aau(aZ);ak.aaQ(ay);}if(!G.R.has_unsafe_href()){ax.push(G);}else{F.deleteMarks(G);}return ax;},[]);return bd;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this,bd,aFb=false;function ajq(eK){setTimeout(function(){bi.reject(eK);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bd=marks;}else if(marks){bd=[marks];aFb=true;}else{ajq(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dH;}var KN;bd=IPCC.h.filter(bd,function(lQ,ai){var Jg=lQ instanceof PCCViewer.Mark&&lQ===F.getMarkById(lQ.getId())&& ! !ey[lQ.getType()];if(!Jg&& !KN){KN=ai;}return Jg;});if(KN){ajq(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+KN+' because it is not a valid mark or a mark known to ViewerControl'));return dH;}var UC=F.aD.get_pages();var dM=IPCC.h.reduce(bd,function(fu,lQ){var bO=lQ.getPageNumber();if(fu[bO]){return fu;}fu[bO]=UC.getPage(bO-1);return fu;},{});function atW(G,ak,apa){return function(mD){ey[G.getType()]({mark:G,page:ak,vc:F},function(ce,dI){if(!ce){apa(dI);mD();}else{bi.reject(ce);}});};};var rO=[];var axK=IPCC.h.map(bd,function(lQ,ai){return atW(lQ,dM[lQ.getPageNumber()],function(dI){rO[ai]=dI;});});IPCC.h.Xy(axK,function(){bi.resolve(rO);});return dH;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var NS,TC;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:NS=true;TC=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:NS=false;TC=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aI&&this.aI.set_redactionDraftMode){var apW=this.aI.get_redactionDraftMode();if(apW!==NS){this.aI.set_redactionDraftMode(NS);}}else{this.au.redactionViewMode=TC;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var akT;if(this.aI&&this.aI.get_redactionDraftMode){akT=this.aI.get_redactionDraftMode();if(akT===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.au.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var F=this;var gF=searchResult;if(this.fz===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.TextSelectionRedaction);};var aGX=function(bj,hm,mu,dW,oi,alE){var fh=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fh.bH=oi;fh.aW=alE;var G=null;var kD={fR:Number.MAX_VALUE,iF:0,_top:Number.MAX_VALUE,it:0};for(var bB=mu;bB<dW;bB++){var fd=hm.kG(bB);if(G){var vk=G.get_rectangle();if(Math.abs(fd.aw.y-vk.y)<1&&Math.abs(fd.aw.height-vk.height)<1&&fd.aw.x+fd.aw.width>=vk.x+vk.width){G.set_rectangle(new IPCC.Web.UI.Rectangle(vk.x,vk.y,fd.aw.x+fd.aw.width-vk.x,vk.height));}else{agU(bj,fh,G,kD);G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(fd.aw);G.ll(true);G.set_fillColor('#000000');G.set_text(fh.bQ);G.set_lineWidth(0);G.bH=oi;}}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(fd.aw);G.ll(true);G.set_fillColor('#000000');G.set_text(fh.bQ);G.set_lineWidth(0);G.bH=oi;}G.aW=alE;}if(G!==null){agU(bj,fh,G,kD);}fh.set_rectangle(new IPCC.Web.UI.Rectangle(kD.fR,kD._top,kD.iF-kD.fR,kD.it-kD._top));return fh;};var agU=function(bj,fh,G,kD){var J=G.get_rectangle();if(J.x<kD.fR){kD.fR=J.x;}if(J.y<kD._top){kD._top=J.y;}if(J.x+J.width>kD.iF){kD.iF=J.x+J.width;}if(J.y+J.height>kD.it){kD.it=J.y+J.height;}bj.addMark(G);fh.bK.push(G);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var gF=searchResult;if(this.fz===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.HighlightAnnotation);};var aGY=function(ab,ax,aBP,oi){var G=new IPCC.Web.UI.Mark(ab);if(ab===IPCC.Web.UI.MarkType.HighlightText){G.bX=ax.getText();}G.ad=aBP;G.set_rectangle({x:0,y:0,width:0,height:0});G.dJ=ax.getText().length;G.aHJ=ax.getStartIndexInPage()+ax.getText().length;G.cD=127;G.ea=ax.getHighlightColor();G.kk='y';G.bH=oi;return G;};SingleSessionViewerControl.prototype.ahH=function(aW,ee){var ax={};for(var bB=0;bB<ee.length;bB++){ax=ee[bB];this.aI.selectText(ax.getPageNumber()-1,ax.getStartIndexInPage(),ax.getText().length,ax.getHighlightColor());}this.aI.display(ax.getPageNumber()-1);this.JA[ax.getPageNumber()]='search';};SingleSessionViewerControl.prototype.ZJ=function(aW,searchResult){var ax={};if(this.bx===null||typeof this.bx.getResults!=='function'){return;}var ee=this.bx.getResults();this.aI.clearSelectedText(aW-1);var UZ=this.Fr[aW];if(!UZ){return;}for(var bB=UZ.ad;bB<UZ.cq+1;bB++){ax=ee[bB];if(ax.getPageNumber()===aW){this.aI.selectText(ax.getPageNumber()-1,ax.getStartIndexInPage(),ax.getText().length,ax.getHighlightColor());if(searchResult===ax.getId()){this.aI.selectText(ax.getPageNumber()-1,ax.getStartIndexInPage(),ax.getText().length,ax.getHighlightColor());}}}this.aI.display(ax.getPageNumber()-1);this.JA[ax.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fz){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.Iy= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.bx){throw "There is no current SearchRequest object available.";}var adA=this.bx.getResults();if(adA[searchResult.getId()].mQ!==searchResult.mQ){throw "The parameter searchResult is not current. There is a newer version of search result available.";}adA=null;this.Iy=searchResult.getId();if(scrollTo){var aN=searchResult.getBoundingRectangle();var gd=new IPCC.Web.UI.Rectangle(aN.x,aN.y,aN.width,aN.height);if(this.aI.scrollRegionIntoView(searchResult.getPageNumber()-1,gd)===false){this.kt=function(){F.aI.scrollRegionIntoView(searchResult.getPageNumber()-1,gd);};this.setPageNumber(searchResult.getPageNumber());}else{this.kt=null;}}}var F=this;var awH=searchResult!==null?searchResult.getPageNumber(): -1;if(this.vl&&this.vl.getPageNumber()!==awH){F.requestPageText(F.vl.getPageNumber()).then(function EB(){F.ZJ(F.vl.getPageNumber(),F.Iy);});}if(searchResult){F.requestPageText(searchResult.getPageNumber()).then(function EB(){F.ZJ(searchResult.getPageNumber(),F.Iy);});}this.vl=searchResult;setTimeout(function(){F.aE.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fz){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.vl;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var bO;var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bO=parseInt(pageNumber,10);}}if(bO<1||bO>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.pw.then(function(sy){var ak=F.cU.getPage(bO-1);var en=ak.cA();en.abm(true);if(en&&en.Aa()){if(en.nC()===true){var bQ=ak.cA().BQ();bi.resolve(bQ);}else{bi.resolve("");}}else{var Gg=function(bv,dK){if(dK.containsText===true){var bQ=en.BQ();bi.resolve(bQ);}else{bi.resolve("");}ak.DW(Gg);ak.CZ(FL);};var FL=function(bv,dK){if(dK.exception&&dK.exception.message){bi.reject(new PCCViewer.Error("TextExtractionFailed",dK.exception.message));}else{bi.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}ak.DW(Gg);ak.CZ(FL);};ak.AI(Gg);ak.zA(FL);ak.Af();}});}catch(e){bi.reject(new PCCViewer.Error("Error",e));}return dH;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var bO;var F=this;if(!this.fz){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(F.aI.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bO=parseInt(pageNumber,10);}}if(bO<1||bO>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var dq=F.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ahf=dq.getPage(C);if(ahf.get_pageNumber()===bO-1){ahf.cA().abm(false);return this;}}var ak=F.cU.getPage(bO-1);ak.agm();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aO.lC(pageNumber,"pageNumber",1,this.getPageCount());var ak;return(this.aI&&this.cU&&(ak=this.cU.getPage(pageNumber-1))&&ak.cA()&&ak.cA().Aa())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.aEj;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var bO;var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bO=parseInt(pageNumber,10);}}if(bO<1||bO>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.pw.then(function(sy){var ak=F.cU.getPage(bO-1);if(ak.jY()>0||ak.hN()>0){bi.resolve({'width':ak.jY(),'height':ak.hN()});}else{var zn=function(bJ,ah){bi.resolve({'width':bJ,'height':ah});};var BX=function(errorMessage){bi.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};sy.requestPageAttributes(ak,zn,BX);}});}catch(e){bi.reject(new PCCViewer.Error("Error",e));}return dH;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.oW){this.CS=undefined;this.Ev=undefined;this.zP=undefined;this.nj=undefined;this.ig=undefined;this.jr=undefined;if(this.aI&&typeof this.aI.dispose==="function"){this.aI.dispose();}this.aK="";this.fe=0;delete this.aI;this.aD=undefined;this.Nj=0;this.cU=undefined;this.ahz=false;if(this.fK){IPCC.h.DA(this.fK);this.fK=this.dk=undefined;}this.mH=false;this.wN=false;this.Dc=false;this.aI=undefined;this.Ru=undefined;this.Vn=undefined;this.pw=undefined;PCCViewer.MouseTools.st=undefined;this.nT=undefined;this.CS=undefined;this.Gi=undefined;for(var Ie in this.cB){if(this.cB.hasOwnProperty(Ie)){this.cB[Ie].dI=undefined;this.cB[Ie].ci=undefined;this.cB[Ie].R=undefined;this.cB[Ie]=undefined;}}this.cB=undefined;this.fz=false;this.oW=true;this.aE={on:function FY(){},off:function FY(){},trigger:function FY(){}};this.hY=undefined;this.hY={};}};SingleSessionViewerControl.prototype.aEa=function(){if(this.fK){this.aI.preserveScrollPosition();this.Ru=this.fK.childNodes[0];IPCC.h.DA(this.fK);}};SingleSessionViewerControl.prototype.azM=function(){if(this.Ru){IPCC.h.DA(this.fK);this.fK.appendChild(this.Ru);this.Ru=undefined;this.aI.restoreScrollPosition();}};SingleSessionViewerControl.prototype.aqk=function(){this.aE.stop();};SingleSessionViewerControl.prototype.azf=function(){this.aE.resume();};SingleSessionViewerControl.prototype.aDo=function(interceptor){this.aE.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var F=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(F.cB[markId]){return F.cB[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var SC=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}aiT(markType);if(!this.aI){return SC;}var C=0;var cN=this.cU.get_length();var F=this;function atU(R){var G=F.cB[R.get_markID()];if(G&&G.getType().toLowerCase()===markType.toLowerCase()){SC.push(G);}};for(C=0;C<cN;C++){var bj=this.aI.hv(this.cU.getPage(C));if(bj){bj.forEachMark(atU);}}return SC;};SingleSessionViewerControl.prototype.getAllMarks=function(){var Df=[];if(!this.aI){return Df;}var cN=this.cU.get_length();var F=this;var C=0;var G;function OO(R){var G=F.cB[R.get_markID()];if(typeof G!=='undefined'){Df.push(G);}};for(C=0;C<cN;C++){var bj=this.aI.hv(this.cU.getPage(C));if(bj){bj.forEachMark(OO);}}return Df;};function aiT(markType){var fp;switch(markType.toLowerCase()){case "lineannotation":fp=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fp=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fp=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fp=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fp=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fp=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fp=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fp=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fp=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fp=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fp=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fp=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fp=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fp=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fp=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":fp=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":fp=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fp=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fp=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fp=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fp=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fp;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var F=this,fT;if(F.fz===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.fT.width===0){var Jk=F.aD.dM.jl(0);fT={width:Jk.jY(),height:Jk.hN()};}else{fT=searchResult.fT;}var afZ=IPCC.h.tA(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:afZ,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bK,pageData:fT,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],maintainMarkScaling:true,modificationDateTime:afZ,pageNumber:searchResult.pageNumber,pageData:fT,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var PG=F.deserializeMarks(markInfo);return PG[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fz===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var bO;if(typeof(pageNumber)==='number'){bO=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{bO=parseInt(pageNumber,10);}}if(bO<1||bO>this.cU.get_length()|| !isFinite(bO)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var G=this.agM(bO,markType);return this.akX(G);};SingleSessionViewerControl.prototype.agM=function(bO,ab,au){var F=this;au=au||{};var fp=aiT(ab);var R=new IPCC.Web.UI.Mark(fp);R.aW=bO-1;var Pi={type:ab,igMark:R,pageNumber:bO,uid:au.uid,viewerControl:this};if(ab.toLowerCase()==="highlightannotation"||ab.toLowerCase()==="textselectionredaction"||ab.toLowerCase()==="strikethroughannotation"||ab.toLowerCase()==="texthyperlinkannotation"){Pi.cU=F.cU;Pi.aI=F.aI;}if(ab.toLowerCase()==="rectangleredaction"||ab.toLowerCase()==="textselectionredaction"){Pi.enableMultipleRedactionReasons=this.au.enableMultipleRedactionReasons;}var G=new PCCViewer.Mark(Pi);return G;};SingleSessionViewerControl.prototype.akX=function(G){var F=this;if(F.akl===true){F.akl=false;}else{var KD=F.mt;F.mt=function(sender,eventArgs){F.mt=KD;if(F.xd){F.zP.addMarks(G);}setTimeout(function(){F.aE.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bj=this.aI.hv(this.cU.getPage(G.bO-1));bj.addMark(G.R);F.cB[G.R.get_markID()]=G;F.oG(G,G.bO-1);return G;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var F=this;var C=0;var G;if(!this.fz){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function OT(pF){var aW=pF.getPageNumber()-1;var bH='';var af='';var Jm=aW;var bj=F.aI.hv(F.cU.getPage(aW));bj.removeMark(pF.R);if(F.cB[pF.getId()]){bH=pF.R.bH;af=pF.getType();delete F.cB[pF.getId()];}var Qb=af.toLowerCase();if((Qb==='highlightannotation'||Qb==='textselectionredaction'||Qb==='strikethroughannotation'||Qb==='texthyperlinkannotation')&&(pF.bS&&pF.bS.length)){for(var C=0;C<pF.bS.length;C++){var mo=pF.bS[C];bj=F.aI.hv(F.cU.getPage(mo.aW));bj.removeMark(mo);F.oG(mo,mo.aW);}}F.nj.forEach(function(ec){if(ec.hasMark(pF.getId())){ec.removeMarks(pF);}});};if(marks instanceof Array){for(C=0;C<marks.length;C++){G=marks[C];if(!(G instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(F.cB[G.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(C=0;C<marks.length;C++){OT(marks[C]);F.oG(marks[C],marks[C].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(F.cB[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}OT(marks);F.oG(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var Df=this.getAllMarks();if(Df.length>0){return this.deleteMarks(Df);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){aig(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){aig(this,marks,true,'showMarks');return this;};function aig(cZ,bd,wT,avt){var C=0;var G;if(!cZ.fz){throw new PCCViewer.Error("InvalidArgument","The method "+avt+" can not be used until 'ViewerReady' state is reached.");}if(bd instanceof Array){for(C=0;C<bd.length;C++){G=bd[C];if(!(G instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(cZ.cB[G.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(C=0;C<bd.length;C++){bd[C].setVisible(wT);}}else{if(bd instanceof PCCViewer.Mark){if(!(cZ.cB[bd.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bd.setVisible(wT);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function AQ(axw,lm){var jJ=false;var dq=lm.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()===axw){jJ=true;break;}}return jJ;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var bj;var hl;if(!this.fz){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){hl=mark.getPageNumber();if(mark.getPageNumber()>0){bj=this.aI.hv(this.cU.getPage(hl-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bj){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveToFront();if(AQ(hl-1,this)===true){var lm=this;setTimeout(function(){lm.aI.bW(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var bj;var hl;if(!this.fz){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){bj=this.aI.hv(this.cU.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bj){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveToBack();if(AQ(hl-1,this)===true){var lm=this;setTimeout(function(){lm.aI.bW(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var bj,hl;if(!this.fz){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){bj=this.aI.hv(this.cU.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bj){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveForward();if(AQ(hl-1,this)===true){var lm=this;setTimeout(function(){lm.aI.bW(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var bj,hl;if(!this.fz){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){bj=this.aI.hv(this.cU.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.R){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bj){if(mark.R instanceof IPCC.Web.UI.Mark){mark.R.moveBackward();if(AQ(hl-1,this)===true){var lm=this;setTimeout(function(){lm.aI.bW(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var bd=[];var Sv=[];if(this.fz===false){return bd;}var cN=this.cU.get_length(),bj,dV;var F=this;function aor(Qd){if(Qd){var Qk=Qd.get_type();if(Qk===IPCC.Web.UI.MarkType.HighlightText||Qk===IPCC.Web.UI.MarkType.TextSelectionRedaction||Qk===IPCC.Web.UI.MarkType.Strikethrough||Qk===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var ih in F.cB){if(F.cB.hasOwnProperty(ih)){dV=F.cB[ih];if(Qd.bH===dV.R.bH){for(var C=0;C<Sv.length;C++){if(dV.R.bH===Sv[C]){return;}}Sv.push(dV.R.bH);break;}}}}else{dV=F.cB[Qd.get_markID()];}if(dV&&dV instanceof PCCViewer.Mark){bd.push(dV);}else{return bd;}}};for(var C=0;C<cN;C++){bj=this.aI.hv(this.cU.getPage(C));if(bj){bj.get_selectedMarks().forEach(aor,{});}}return bd;};function ajj(bd,aqL,lm){var dV,C;function Tc(hb){var jJ=false;var dq=lm.aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()===hb){jJ=true;break;}}return jJ;};if(!bd.length){return;}for(C=0;C<bd.length;C++){if(bd[C]instanceof PCCViewer.Mark){dV=lm.cB[parseInt(bd[C].getId(),10)];if(dV&&dV instanceof PCCViewer.Mark){if(dV.R&&dV.R instanceof IPCC.Web.UI.Mark){if(dV.getId()!==dV.R.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(C+1)+" is invalid";}}var nH=[];var wL=false;for(C=0;C<bd.length;C++){dV=lm.cB[parseInt(bd[C].getId(),10)];wL=false;if(dV){if(dV.getId()===dV.R.get_markID().toString()){dV.R.set_selected(aqL);if(Array.prototype.IndexOf){wL=(nH.IndexOf(dV.getPageNumber())>=0);}else{wL=(IPCC.Web.jX(nH,dV.getPageNumber())>=0);}}if(!wL){var df=dV.getPageNumber();if(Tc(df-1)){nH.push(df);}}}}if(nH.length>0){setTimeout(function(){for(C=0;C<nH.length;C++){lm.aI.bW(nH[C]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.fz===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bd=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bd.push(marks);}}else{bd=marks;}if(bd.length===0){return this;}ajj(bd,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.fz===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bd=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bd.push(marks);}}else{bd=marks;}if(bd.length===0){return this;}ajj(bd,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var nH=[];var bd=this.getSelectedMarks();var wL=false,C,dV;for(C=0;C<bd.length;C++){dV=this.cB[parseInt(bd[C].getId(),10)];wL=false;if(dV){if(dV.getId()===dV.R.get_markID().toString()){dV.R.set_selected(false);if(Array.prototype.IndexOf){wL=(nH.IndexOf(dV.getPageNumber())>=0);}else{wL=(IPCC.Web.jX(nH,dV.getPageNumber())>=0);}}if(!wL){var df=dV.getPageNumber();if(AQ(df-1,this)===true){nH.push(df);}}}}if(nH.length>0){var lm=this;setTimeout(function(){for(C=0;C<nH.length;C++){lm.aI.bW(nH[C]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var cZ=this,PG;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bd=[];IPCC.h.forEach(marks,function(G){if(G instanceof PCCViewer.Mark){if(cZ.cB[G.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bd.push(G);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rO=[];IPCC.h.forEach(bd,function(G,bf){ey[G.getType()]({mark:G},function(ce,dI){dI.uid=undefined;rO[bf]=dI;});});this.xd=false;PG=cZ.deserializeMarks(rO);this.xd=true;return PG;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(G){var cZ=this,aI=this.aI;var aeF=function(Ws){var yw=false,dq=aI.get_displayedPages();for(var C=0;C<dq.get_length();C++){var ak=dq.getPage(C);if(ak.get_pageNumber()===Ws){yw=true;}aI.pa(ak.get_pageNumber());}return yw;};if(typeof G==="undefined"||G===null){aeF(-1);}else{if(this.fz===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(G instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aeJ=this.cB[parseInt(G.getId(),10)];if(!(aeJ&&aeJ instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(G.R&&G.R instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(G.getId()!==G.R.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var ab=G.getType();if(ab!==PCCViewer.Mark.Type.TextAnnotation&&ab!==PCCViewer.Mark.Type.TextRedaction&&ab!==PCCViewer.Mark.Type.TextInputSignature&&ab!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var yw=aeF(G.getPageNumber()-1);if(yw){cZ.aI.vi(G.getPageNumber()-1,G.R);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fz===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Ii= -1;var bY;var aN;var bO=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){bY=sortableObject.getStartPoint();}else{aN=(sortableObject.R)?sortableObject.R.get_boundingRectangle():sortableObject.getRectangle();bY={x:aN.x,y:aN.y};}bO=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){bY={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{bY={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){bO= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{bO=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(bO<1||bO>this.getPageCount()|| !isFinite(bO)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(bO)){return-2;}var ak=this.cU.getPage(bO-1);var wt=ak.cA().YJ();var hm=ak.cA().gq();function akd(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function aiQ(cS,eT){var bh=Math.max(Math.min(eT.x,cS.x+cS.width),cS.x);var dN=Math.max(Math.min(eT.y,cS.y+cS.height),cS.y);return(eT.x-bh)*(eT.x-bh)+(eT.y-dN)*(eT.y-dN);};var DZ;var Py=Number.MAX_VALUE;for(var C=0;C<wt.eu();C++){var hw=wt.azu(C);if(akd(hw.eI(),bY)){for(var bB=hw.ajv();bB<hw.ahO();bB++){var SX=hm.kG(bB);var rw=SX.sx();if(akd(rw,bY)){return bB;}DZ=aiQ(rw,bY);if(DZ<Py){Ii=bB;Py=DZ;}}return Ii;}DZ=aiQ(hw.eI(),bY);if(DZ<Py){if(hw.eI().y>bY.y){Ii=hw.ajv()-1;}else{Ii=hw.ahO();}Py=DZ;}}return Ii;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.ar.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var F=this;if(this.fz===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var zS=name.toLowerCase();var ar=PCCViewer.MouseTools.getMouseTool(zS);if(!ar){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var hB,gk;switch(ar.getType()){case PCCViewer.MouseTool.Type.Magnifier:hB=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:hB=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:hB=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:hB=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:hB=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:hB=IPCC.Web.UI.MouseTool.CreateLineMark;gk=auf(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:hB=IPCC.Web.UI.MouseTool.CreateRectangleMark;gk=aiG(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:hB=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gk=avG(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:hB=IPCC.Web.UI.MouseTool.CreateRectangleMark;gk=avq(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:hB=IPCC.Web.UI.MouseTool.CreateEllipseMark;gk=aiG(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:hB=IPCC.Web.UI.MouseTool.CreateTextMark;gk=avZ(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:hB=IPCC.Web.UI.MouseTool.CreateTextMark;gk=TU(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:hB=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gk=TU(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:hB=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gk=TU(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:hB=IPCC.Web.UI.MouseTool.CreateStampMark;gk=awk(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:hB=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gk=Op(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:hB=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gk=Op(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:hB=IPCC.Web.UI.MouseTool.CreateFreehandMark;gk=atD(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:hB=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gk=Op(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aEs=this.au.resourcePath+'/placeSignatureCursor.cur';this.aI.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aI.set_allowMarkEdits(false);this.aI.set_mouseCursor('url('+aEs+'), pointer');this.ar=ar;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:hB=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gk=ajN(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:hB=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gk=ajN(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:hB=IPCC.Web.UI.MouseTool.CreatePolylineMark;gk=atE(ar.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:hB=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gk=Op(ar.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var apx=this.aI.get_mouseTool();if(this.ar!==ar&&apx===hB){setTimeout(function(){F.aE.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.ar.getName()});},0);}this.ar=ar;if(gk){this.Fd=gk.onCreating;this.mt=gk.onAdded;}else{this.Fd=undefined;this.mt=undefined;}this.aI.set_mouseTool(hB);this.aI.set_allowMarkEdits((ar.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Uh(cZ,Us,lq){if(cZ.wN!==true){var JB=function(){cZ.aE.off('PageCountReady',JB);Uh(cZ,Us,lq);};cZ.aE.on('PageCountReady',JB);return;}var bb=cZ;var yK;var jn={},uR={},ro=[];var hs=bb.fe;var jM;var au;if(Us){au=Us;}var afc=[];var UC=bb.aD.get_pages();var aCB=function(ak,done){var aHg=false;var jl=ak;var bO=ak.get_pageNumber();var eB=jl.get_pageWidth();var fw=jl.get_pageHeight();try{if(jl){var hv=bb.aI.hv(jl),ET=0,Gb=0,eK="",aJP=false;var getArt=function getArt(){var NX;if(au&&au.Bh&&au.Bh[bO]){NX=IPCC.h.extend({},au);NX.Bh=au.Bh[bO];}else{NX=au;}var bB,Xq;var HH=hv.aAG(bO,ET,Gb,NX);if(HH.jn){jn[bO]=HH.jn;}else{var aqF=aBu(bO,jM,Gb,ET);jn[bO]=aqF;}if(HH.ro){for(bB=0;bB<HH.ro.length;bB++){Xq=HH.ro[bB];uR[Xq.ae.imageStampId]=Xq;}}done();};if(hv){if(!eB|| !fw){if(hv.get_markCount()>0){bb.aI.Oz(ak,function(bJ,ah){ET=bJ;if(ET){jl.Lu(ET);}Gb=ah;if(Gb){jl.Lb(Gb);}getArt();},function(lX){done(lX);});}else{getArt();}}else{ET=eB;Gb=fw;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};UC.forEach(function(ak,ai,jr){afc.push(function(done){aCB(ak,done);});});var WN=function(am,ak){var xk="";var C;if(!am.gm){if(am.toString()){return am.toString();}else{return '<![CDATA[]]>';}}if((hs===1||ak===0||(ak>0&&am.gm!=="documentAnnotations"&&am.gm!=="pages"))&&am.gm!=="highlights"){xk='<'+am.gm;for(var AT in am.ae){if(am.ae.hasOwnProperty(AT)){var Yk=am.ae[AT];if(Yk===undefined||Yk===null){continue;}var ae=Yk.toString();ae=ae.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');xk=xk+' '+AT+'="'+ae+'"';}}xk+='>';}for(C=0;C<am.db.length;C++){xk+=WN(am.db[C],ak);}if(hs===1||(ak===hs-1)||(ak!==hs-1&&am.gm!=="documentAnnotations"&&am.gm!=="pages"&&am.gm!=="highlights")){if(am.gm!=="highlights"){xk+='</'+am.gm+'>';}else{xk+='<'+am.gm+' />';}}return xk;};IPCC.h.Xy(afc,function(ce){if(ce){lq(ce);return;}yK='<?xml version="1.0"?>';for(var C=0;C<(bb.fe);C++){yK=yK+WN(jn[C],C);}var stampImageXml='';for(var GA in uR){if(uR.hasOwnProperty(GA)){stampImageXml+=WN(uR[GA],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';yK=yK.replace('</documentAnnotations>',stampImagesXml);}lq(undefined,yK);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.au.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var bi=PCCViewer.Deferred();var dH=bi.getPromise();var au;if(options){au=options;}else{au={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bi.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dH;}if(!arS(recordName)){bi.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dH;}var bb=this;this.pw.then(function(sy){var CI=recordName;Uh(bb,au,function(err,yK){if(err){bi.reject(new PCCViewer.Error("Error",err));return dH;}var Mg=IPCC.fU.su(CI);var aK;if(!(/^[\x00-\x7F]*$/.test(bb.aD.get_documentIdentifier()))){aK=bb.au.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bb.au.documentID+'&AnnotationID=e'+Mg;}else{aK=bb.au.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bb.au.documentID)+'&AnnotationID=u'+encodeURIComponent(CI);}function eh(aJ){bi.resolve(CI);setTimeout(function(){bb.aE.trigger('MarkupSaved',{name:CI});},0);};function er(ax){bi.reject(new PCCViewer.Error("AjaxError","Status Code "+ax.response.status+" "+ax.response.statusText));};PCCViewer.Ajax.fc({method:'POST',url:aK,headers:{'Content-Type':'application/xml;charset=utf-8'},body:yK}).then(eh,er);});});}catch(e){bi.reject(new PCCViewer.Error("Error",e.message));}return dH;};var arS=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Vf=function(lw){var bh=lw.firstChild;while(bh.nodeType!==1){bh=bh.nextSibling;}return bh;};var aBu=function(df,jM,fw,eB){var jn={gm:'documentAnnotations',db:[],ae:{}};var abg={gm:'pages',db:[],ae:{}};jn.db.push(abg);var jQ={gm:'highlights',db:[],ae:{}};var ak={gm:'page',db:[],ae:{id:(df+1).toString(),pageWidth:eB,pageHeight:fw}};jn.db.push(jQ);try{if(jM){var bh=jM.getElementsByTagName("documentAnnotations");if(bh.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Pz;var DK;if(document.documentMode<9){var Tl=jM.firstChild.nodeName;if(Tl.toLowerCase()==='xml'){Pz=jM.firstChild.nextSibling;}else{Pz=jM.firstChild;}}else{Pz=jM.firstChild;}var dM=Vf(Pz);if(dM.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dM.hasChildNodes()){var C;var nv=false;for(C=0;C<dM.childNodes.length;C++){DK=dM.childNodes[C];if(DK.nodeName!=='page'){continue;}var xO=DK.getAttribute('id');nv=false;if(xO&&parseFloat(xO)===df+1){nv=true;for(var bB=0;bB<DK.childNodes.length;bB++){var az=DK.childNodes[bB];var bk={gm:'annotation',db:[],ae:{}};if(az.nodeName!=='annotation'){continue;}var MC=DK.childNodes[bB].attributes;if(MC.length>0){for(var da=0;da<MC.length;da++){bk.ae[MC[da].name]=MC[da].value;}}if(az.childNodes[0].data){bk.db.push('<![CDATA['+az.childNodes[0].data+']]>');}else{bk.db.push('');}ak.db.push(bk);}break;}}}}abg.db.push(ak);return jn;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var Km=recordName;var bi=PCCViewer.Deferred(),dH=bi.getPromise(),bb=this;var au=options||{};var ye=au.retainExistingMarks;var ir=au.markupLayer;var uU=au.loadAsHidden;this.pw.then(function(sy){var aK,Mg,aI=bb.aI,cU=bb.cU;if(typeof Km!=="string"){bi.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(ye!==undefined){if(typeof ye!=='boolean'){bi.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(ir!==undefined){if(!(ir instanceof PCCViewer.MarkupLayer)){bi.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bb.nj.getItem(ir.getId())===undefined){bi.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function eh(aJ){var VR,Nb=aJ.responseText,Po;if(Nb.indexOf('xml')=== -1){bi.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Nb=Nb.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.h.qb(p2)+p3;});if(window.DOMParser){Po=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Po=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Po=function(){return null;};}VR=Po(Nb);var amw=VR.getElementsByTagName('stampImage');var ro={};var ZN=function(bf){G.bM.push(ahJ.getPoint(bf));};for(var C=0;C<amw.length;C++){var ST=amw[C];ro[ST.getAttribute('imageStampId')]={imageStampId:ST.getAttribute('imageStampId'),base64format:ST.getAttribute('base64format')};}aI.set_annotationXmlDom(VR,ro,ye===true,uU===true);if(ye!==true){bb.cB={};}var cN=bb.cU.get_length();var G;var ab,fp;var xH={};var Ig=[];for(C=0;C<cN;C++){var bj=bb.aI.hv(bb.cU.getPage(C));if(bj){var EK={};var bB=0;for(bB=0;bB<bj.get_markCount();bB++){var R=bj.getMark(bB);if(bb.cB[R.get_markID()]!==undefined){continue;}fp=R.get_type();switch(fp){case IPCC.Web.UI.MarkType.Rectangle:if(R.iX()===true){if(R.get_opacity()===255){ab=PCCViewer.Mark.Type.RectangleRedaction;}else{ab=PCCViewer.Mark.Type.TransparentRectangleRedaction;}G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});}else{ab=PCCViewer.Mark.Type.RectangleAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.lE=R.get_lineWidth();G.ea=R.get_fillColor();G.nR=R.get_lineColor();G.cD=R.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:ab=PCCViewer.Mark.Type.EllipseAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.lE=R.get_lineWidth();G.ea=R.get_fillColor();G.nR=R.get_lineColor();G.cD=R.get_opacity();break;case IPCC.Web.UI.MarkType.Line:ab=PCCViewer.Mark.Type.LineAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.oa=R.get_lineWidth();G.dh=R.get_lineColor();G.cD=R.get_opacity();if(R.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){G.ng="FilledTriangle";}else{G.ng="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(R.iX()===true){ab=PCCViewer.Mark.Type.StampRedaction;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});}else{ab=PCCViewer.Mark.Type.StampAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.dh=R.get_fillColor();}G.ut=R.get_text();break;case IPCC.Web.UI.MarkType.Text:if(R.iX()===true){ab=PCCViewer.Mark.Type.TextRedaction;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});}else{ab=PCCViewer.Mark.Type.TextAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.lE=R.get_lineWidth();G.ea=R.get_fillColor();G.nR=R.get_lineColor();G.cD=R.get_opacity();}G.gi=R.get_maxLength();G.hc=R.get_fontName();G.gn=R.get_textColor();G.cO=R.get_fontSize();var cn=R.get_fontStyle();var qz=[];if((cn&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qz.push("Bold");}if((cn&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qz.push("Italic");}if((cn&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qz.push("Strikeout");}if((cn&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qz.push("Underline");}G.cn=qz;var qE;switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qE="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qE="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qE="right";break;}G.oY=qE;break;case IPCC.Web.UI.MarkType.TextAreaSignature:ab=PCCViewer.Mark.Type.TextAreaSignature;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.lE=R.get_lineWidth();G.gi=R.get_maxLength();G.hc=R.get_fontName();G.gn=R.get_textColor();G.jF=R.get_maxFontSize();cn=R.get_fontStyle();qz=[];if((cn&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qz.push("Bold");}if((cn&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qz.push("Italic");}if((cn&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qz.push("Strikeout");}if((cn&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qz.push("Underline");}G.cn=qz;switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qE="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qE="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qE="right";break;}G.oY=qE;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:ab=(fp===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fp===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fp===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Xa=R.bH;if(typeof xH[Xa]==='undefined'){G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,cU:cU,aI:aI,uid:R.ae.hS});G.bS=[];if(ab===PCCViewer.Mark.Type.HighlightAnnotation){G.ea=R.get_fillColor();}xH[Xa]=G;R.aW=C;R.kA=true;}else{R.aW=C;xH[Xa].bS.push(R);}break;case IPCC.Web.UI.MarkType.Freehand:ab=PCCViewer.Mark.Type.FreehandAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.oa=R.get_lineWidth();G.dh=R.get_lineColor();G.cD=R.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:ab=PCCViewer.Mark.Type.FreehandSignature;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.oa=R.get_lineWidth();G.dh=R.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:ab=PCCViewer.Mark.Type.TextSignature;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.hc=R.get_fontName();G.dh=R.get_fillColor();G.bQ=R.get_text();break;case IPCC.Web.UI.MarkType.TextLine:ab=PCCViewer.Mark.Type.TextInputSignature;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.hc=R.get_fontName();G.gn=R.get_textColor();G.bQ=R.get_text();G.gi=R.get_maxLength();G.iV=R.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!R.bH){ab=PCCViewer.Mark.Type.RectangleRedaction;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,cU:cU,aI:aI,uid:R.ae.hS});G.lE=R.get_lineWidth();G.ea=R.get_fillColor();G.nR=R.get_lineColor();G.cD=R.get_opacity();}else{if(EK[R.bH]===undefined){EK[R.bH]=[];}EK[R.bH].push(R);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:ab=(fp===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.setImage({dataUrl:R.get_image(),id:R.qJ});break;case IPCC.Web.UI.MarkType.Polyline:ab=PCCViewer.Mark.Type.PolylineAnnotation;G=new PCCViewer.Mark({type:ab,igMark:R,pageNumber:C+1,uid:R.ae.hS});G.oa=R.get_lineWidth();G.dh=R.get_lineColor();G.cD=R.get_opacity();var ahJ=R.get_points();G.bM=[];for(var bz=0;bz<ahJ.get_length();bz++){ZN(bz);}break;default:G=undefined;continue;}if(typeof G!=='undefined'&&fp!==IPCC.Web.UI.MarkType.HighlightText&& !(fp===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bH!==undefined)&&fp!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fp!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fp!==IPCC.Web.UI.MarkType.Strikethrough){bb.cB[R.get_markID()]=G;Ig.push(G);}}for(var LT in EK){if(EK.hasOwnProperty(LT)&&xH[LT]){var FX=xH[LT];var afp=FX.R;if(FX.bS&&FX.bS.length>0){for(var NZ=0;NZ<FX.bS.length;NZ++){if(FX.bS[NZ].aW===C){afp=FX.bS[NZ];}}}var bK=EK[LT];for(var ZG=0;ZG<bK.length;ZG++){afp.bK.push(bK[ZG]);}}}}}for(var oM in xH){if(xH.hasOwnProperty(oM)){var xG=xH[oM];bb.cB[xG.R.get_markID()]=xG;Ig.push(xG);if(xG.bS&&xG.bS.length>0){xG.bS[xG.bS.length-1].kc=true;}else{xG.R.kc=true;}}}bi.resolve(Km);if(ir!==undefined){ir.addMarks(Ig);}else{bb.getActiveMarkupLayer().addMarks(Ig);}bb.aE.trigger('MarkupLoaded',{name:Km,loadedMarks:Ig});};function er(ax){bi.reject(new PCCViewer.Error("Error","Status Code "+ax.response.status+" "+ax.response.statusText));};Mg=IPCC.fU.su(Km);if(!(/^[\x00-\x7F]*$/.test(bb.aD.get_documentIdentifier()))){aK=bb.au.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bb.au.documentID+'&AnnotationID=e'+Mg;}else{aK=bb.au.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bb.au.documentID)+'&AnnotationID=u'+encodeURIComponent(Km);}PCCViewer.Ajax.fc({method:'GET',url:aK,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(eh,er);});return dH;};function ajB(context,message){var kq=document.createElement('div'),Cz=document.createElement('div'),mh=document.createElement('button'),VT=function(){kq.classList.add('open');},KU=function(){if(kq.parentNode!==null){kq.parentNode.removeChild(kq);}};mh.innerHTML='&#215;';mh.setAttribute('type','button');Cz.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';kq.className='pccPageListNagModal';kq.appendChild(mh);kq.appendChild(Cz);context.dk.appendChild(kq);VT();if(!mh.addEventListener){mh.attachEvent('onclick',KU);}else{mh.addEventListener('click',KU,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this;try{var C=0,Gz=0;var CI='';var aK=this.au.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.au.documentID)+'&AnnotationID=u'+encodeURIComponent(CI);var eh=function(aJ){var uc;if(typeof aJ.responseText!=='unknown'&&aJ.responseText.length>0){try{uc=JSON.parse(aJ.responseText);}catch(e){}}var Zk=[],Gz=0;for(var C=0,cf=uc.annotationFiles.length;C<cf;C++){if(uc.annotationFiles[C].annotationLabel){Zk[Gz]={};Zk[Gz].name=uc.annotationFiles[C].annotationLabel;Gz++;}}bi.resolve(Zk);};var er=function(ax){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(ax&&ax.response){var jq=ax.response.status;var pj;try{pj=JSON.parse(ax.response.responseText);}catch(e){}if(jq===480&&pj&&pj.errorCode==='LicenseCouldNotBeVerified'){ajB(F,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(pj.errorCode,"License error.");}}bi.reject(error);};PCCViewer.Ajax.fc({method:'GET',url:aK}).then(eh,er);}catch(e){bi.reject(new PCCViewer.Error("Error",e.message));}return dH;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.nj){this.nj=new PCCViewer.MarkupLayerCollection(this);}return this.nj;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bi=PCCViewer.Deferred(),dH=bi.getPromise(),aK,aqn=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aD.get_documentIdentifier()))){aK=this.au.imageHandlerUrl+'/MarkupLayers/e'+this.au.documentID+'/';}else{aK=this.au.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.au.documentID)+'/';}if(metadata){var aAz=aqn(metadata);aK+=aAz;}aK+='?nocache='+new Date().getTime();PCCViewer.Ajax.fc({url:aK,method:'GET'}).then(function eh(aJ){var azq=JSON.parse(aJ.responseText);bi.resolve(azq);},function er(ax){bi.reject(ax.error);});return dH;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.zP;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.nj.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.zP=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var Yi,F=this;Yi=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.Ug,options||{});function we(){setTimeout(function(){Yi.BW();},20);};function ps(){F.aE.off(PCCViewer.EventType.PageCountReady,ps);we();};if(this.mH===false){F.aE.on(PCCViewer.EventType.PageCountReady,ps);}else{we();}return Yi;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var bi=PCCViewer.Deferred();var dH=bi.getPromise();var F=this;if(typeof id!=='string'|| !id){bi.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dH;}var ec=this.nj?this.nj.getItem(id):undefined;if(!ec){bi.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dH;}function aww(oA){var QI=ec.getMarks();if(!QI.length){oA(undefined,[]);}else{F.serializeMarks(QI).then(function iQ(bd){oA(undefined,IPCC.h.map(bd,function(G){if(G.conversation&&G.conversation.comments){delete G.conversation.comments;}return G;}));},function _f(eK){oA(eK);});}};function avl(oA){var QI=ec.getMarks();var Yr=function(fu,fO,kU){var TE=IPCC.h.filter(fO,function(oR){return!oR.ir||oR.ir===ec;});IPCC.h.forEach(TE,function(dQ){var aU=ey.Comment(dQ);aU.markUid=kU;fu.push(aU);});return fu;};var Uz=IPCC.h.reduce(QI,function(fu,G){var ci=G.getConversation();var fO=ci.getComments();return fO.length?Yr(fu,fO,G.getUid()):fu;},[]);oA(undefined,Uz);};function awe(oA){var axn=IPCC.h.reduce(F.nj.getAll(),function(fu,ann){return fu.concat(ec===ann?[]:ann.getMarks());},[]);var Yr=function(fu,fO,kU){var TE=IPCC.h.filter(fO,function(oR){return oR.ir===ec;});IPCC.h.forEach(TE,function(oR){var aU=ey.Comment(oR);aU.markUid=kU;fu.push(aU);});return fu;};var Uz=IPCC.h.reduce(axn,function(fu,G){var ci=G.getConversation();var fO=ci.getComments();return fO.length?Yr(fu,fO,G.getUid()):fu;},[]);oA(undefined,Uz);};var acF=[],ayd=function(pL){if(pL.markupLayer===ec){acF.push({text:pL.text,data:pL.data,creationDateTime:pL.creationDateTime,markUid:pL.markUid});}};for(var adf in this.nj.jg){if(this.nj.jg.hasOwnProperty(adf)){IPCC.h.forEach(this.nj.jg[adf],ayd);}}var yW={layerRecordId:ec.getRecordId(),name:ec.getName(),originalXmlName:ec.getOriginalXmlName(),comments:acF,data:ey.Data(ec)};var vo;IPCC.h.Xy([function(mD){aww(function(ce,dI){if(ce&& !vo){vo=ce;}else{yW.marks=dI;}mD();});},function(mD){avl(function(ce,dI){if(ce&& !vo){vo=ce;}else{yW.comments=yW.comments.concat(dI);}mD();});},function(mD){awe(function(ce,dI){if(ce&& !vo){vo=ce;}else{yW.comments=yW.comments.concat(dI);}mD();});}],function(){if(!vo){awP(yW);}else{bi.reject(new PCCViewer.Error('SerializationError',vo.message));}});function awP(aIr){var xE,hD={method:'POST',body:JSON.stringify(yW),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(F.aD.get_documentIdentifier()))){xE=F.au.imageHandlerUrl+'/MarkupLayers/e'+F.au.documentID+'/';}else{xE=F.au.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(F.au.documentID)+'/';}if(ec.getRecordId()){hD.url=xE+ec.getRecordId();hD.headers['X-HTTP-Method-Override']='PUT';}else{hD.url=xE;}PCCViewer.Ajax.fc(hD).then(eh,er);};function eh(aJ){if(aJ.responseText&&typeof aJ.responseText==='string'){var pj;try{pj=JSON.parse(aJ.responseText);}catch(e){}if(pj&&pj.layerRecordId){ec.aan=pj.layerRecordId;}}bi.resolve({layerRecordId:ec.getRecordId()});};function er(ax){var error=new PCCViewer.Error("AjaxError",ax.error.message||'An unknown server error occurred.');if(ax&&ax.response){var jq=ax.response.status;var pj;try{pj=JSON.parse(ax.response.responseText);}catch(e){}if(jq===480&&pj&&pj.errorCode==='LicenseCouldNotBeVerified'){ajB(F,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(pj.errorCode,'License error.');}}bi.reject(error);};return dH;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var iS={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var II;var adK;var So;var aIe=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){II=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){II=burnOptions.marks;}iS={marks:II};}else{iS.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:iS.burnSignatures;iS.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:iS.burnRedactions;iS.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:iS.burnAnnotations;}if(typeof burnOptions.filename==='string'){iS.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var Nk,Jg=true;for(Nk=0;Nk<burnOptions.removeFormFields.length;Nk++){if(burnOptions.removeFormFields[Nk]!=='acroform'){Jg=false;}}if(Jg){iS.removeFormFields=['acroform'];}else{iS.lX={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{iS.lX={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{iS.lX={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){iS.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{iS.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{iS.lX={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){iS.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{iS.lX={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var zL=new PCCViewer.BurnRequest(iS),F=this;if(II){var eg=[];for(var C=0,cf=this.getPageCount();C<cf;C++){eg[C]=[];}eg=IPCC.h.reduce(II,function(bd,aa){var bO=aa.getPageNumber()-1;if(!(typeof aa==='object'&&aa instanceof PCCViewer.Mark&&aa.R)){zL.Xt(new Error('The burnOptions.marks parameter is an invalid object.'));return bd;}if(!F.getMarkById(aa.dO)){zL.Xt(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bd;}bd[bO].push(aa.R);if(aa.R.bK){for(var C=0,cf=aa.R.bK.length;C<cf;C++){if(aa.R.bK[C]instanceof IPCC.Web.UI.Mark){bd[bO].push(aa.R.bK[C]);}}}if(aa.bS){for(var bB=0,axL=aa.bS.length;bB<axL;bB++){bd[bO+1+bB].push(aa.bS[bB]);if(aa.bS[bB].bK){for(var da=0,aAH=aa.bS[bB].bK.length;da<aAH;da++){if(aa.bS[bB].bK[da]instanceof IPCC.Web.UI.Mark){bd[bO+1+bB].push(aa.bS[bB].bK[da]);}}}}}return bd;},eg);So={Bh:eg,tF:true};}else{So={includeAnnotations:iS.burnAnnotations,includeRedactions:iS.burnRedactions,includeSignatures:iS.burnSignatures,tF:true};}function aiN(){Uh(F,So,function(ce,adK){if(ce){setTimeout(function(){zL.Xt(ce);},20);}else{zL.Qn({aD:F.aD,au:F.au});zL.aBb(adK);setTimeout(function(){zL.BW();},20);}});};function ps(){F.aE.off(PCCViewer.EventType.PageCountReady,ps);aiN();};if(this.mH===false){F.aE.on(PCCViewer.EventType.PageCountReady,ps);}else{aiN();}return zL;};SingleSessionViewerControl.prototype.convertDocument=function(xA){var vW,F=this,zh={targetExtension:'pdf',filename:'document'},au={};rd.rI(au,zh,xA);au.xq=1;vW=new PCCViewer.ConversionRequest(au);function we(){vW.Qn({aD:F.aD,au:F.au});setTimeout(function(){vW.BW(au);},20);};function ps(){F.aE.off(PCCViewer.EventType.PageCountReady,ps);we();};if(this.mH===false){F.aE.on(PCCViewer.EventType.PageCountReady,ps);}else{we();}return vW;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(xA){var vW,F=this,zh={targetExtension:'pdf',filename:'document'},au={};rd.rI(au,zh,xA);au.xq=2;vW=new PCCViewer.ConversionRequest(au);function we(){vW.Qn({aD:F.aD,au:F.au});setTimeout(function(){vW.BW(au);},20);};function ps(){F.aE.off(PCCViewer.EventType.PageCountReady,ps);we();};if(this.mH===false){F.aE.on(PCCViewer.EventType.PageCountReady,ps);}else{we();}return vW;};SingleSessionViewerControl.prototype.loadAttachments=function(){var bi=PCCViewer.Deferred();var dH=bi.getPromise();try{var C=0,Gz=0;var CI='';var aK=this.au.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.au.documentID)+'/Attachments';var aBr=function(aJ){var Fe=JSON.parse(aJ.responseText);if(Fe===null||Fe.status!=='complete'){setTimeout(aiY,500);return;}bi.resolve(Fe.attachments||[]);};var er=function(ax){bi.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var aiY=function(){PCCViewer.Ajax.fc({method:'GET',url:aK}).then(aBr,er);};aiY();}catch(e){bi.reject(new PCCViewer.Error("Error",e.message));}return dH;};function qc(){return function(sender,eventArgs){var F=this;var G=F.cB[eventArgs.mark.get_markID()];if(F.xd){F.zP.addMarks(G);}setTimeout(function(){if(G){F.aE.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function auf(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setThickness(bC.getThickness());G.setColor(bC.getColor());G.setOpacity(bC.getOpacity());G.setEndHeadType(bC.getEndHeadType());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function aiG(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setBorderThickness(bC.getBorderThickness());G.setFillColor(bC.getFillColor());G.setBorderColor(bC.getBorderColor());G.setOpacity(bC.getOpacity());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function avq(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;},onAdded:qc()};};function avG(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;if(G.pp){G.setReasons(bC.getReasons());}else{G.setReason(bC.getReason());}G.setBorderThickness(bC.getBorderThickness());G.setFillColor(bC.getFillColor());G.setBorderColor(bC.getBorderColor());G.setFontColor(bC.getFontColor());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function avZ(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setBorderThickness(bC.getBorderThickness());G.setFillColor(bC.getFillColor());G.setBorderColor(bC.getBorderColor());G.setOpacity(bC.getOpacity());G.setFontName(bC.getFontName());G.setFontColor(bC.getFontColor());G.setFontSize(bC.getFontSize());G.setFontStyle(bC.getFontStyle());G.setHorizontalAlignment(bC.getHorizontalAlignment());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function TU(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setFontName(bC.getFontName());G.setFontColor(bC.getFontColor());G.setText(bC.getText());if(G.setFontSize){G.setFontSize(bC.getFontSize());}PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function awk(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;if(bC.getType()===PCCViewer.MouseTool.Type.StampAnnotation){G.setColor(bC.getColor());}G.setLabel(bC.getLabel());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};var aHl;function Op(bC){return{onCreating:function(bv,H){},onAdded:qc()};};function atD(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setThickness(bC.getThickness());G.setColor(bC.getColor());G.setOpacity(bC.getOpacity());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function ajN(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setImage(bC.getImage());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};function atE(bC){return{onCreating:function(bv,H){var G=new PCCViewer.Mark({type:bC.getType(),igMark:H.mark,pageNumber:H.pageIndex+1,enableMultipleRedactionReasons:this.au.enableMultipleRedactionReasons});this.cB[H.mark.get_markID()]=G;G.setThickness(bC.getThickness());G.setColor(bC.getColor());G.setOpacity(bC.getOpacity());PCCViewer.Data.oQ(bC,G);PCCViewer.Conversation.sV(bC.getConversation(),G.getConversation());},onAdded:qc()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var vQ;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:vQ=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:vQ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aI&&this.aI.set_markHandleMode){this.aI.set_markHandleMode(vQ);}else{this.au.markHandleMode=vQ;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var vQ;if(this.aI&&this.aI.get_markHandleMode){vQ=this.aI.get_markHandleMode();}else{vQ=this.au.markHandleMode;}if(vQ===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.nT=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.nT;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var Yw,adQ=(conversations===undefined);function ahY(ci,ai){throw new Error(ci+((ai!==undefined)?' (Array index '+ai+')':'')+' is not a valid PCCViewer.Conversation object.');};function avC(ci,ai){throw new Error(ci+((ai!==undefined)?' (Array index '+ai+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Yw=[conversations];}else if(conversations instanceof Array){Yw=conversations;}else if(!adQ){ahY(conversations);}var amP=IPCC.h.map(this.getAllMarks(),function(aa){return aa.getConversation();});var Tz=IPCC.h.map(Yw||amP,function(aa,C){if(!(aa instanceof PCCViewer.Conversation)){ahY(aa,C);}if(!adQ&& !IPCC.h.inArray(amP,aa)){avC(aa,C);}return aa.getMark().dO;});this.aI.refreshConversations(Tz);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.fz===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aI.openCommentsPanel();var F=this;setTimeout(function(){F.aE.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.fz===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aI.closeCommentsPanel();var F=this;setTimeout(function(){F.aE.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fz===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aI.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fz===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aI.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mo=conversation.getMark();if(mo){var yp=mo.R.get_conversation();this.aI.set_selectedConversation(yp);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.fz===false){return null;}var jC=this.aI.get_selectedConversation();if(jC){var mo=this.cB[jC.get_mark().get_markID()];if(mo){return mo.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var F=this,xy=F.bx;function ajK(aW,mu,cN){var Sp=[aW+1];var ak=F.cU.getPage(aW),en=ak.cA();if(en.nC()){var bQ=en.BQ(),aeR=bQ.substr(mu);if(aeR.length>cN){return Sp;}else{return Sp.concat(ajK(aW+1,0,cN-aeR.length));}}else{return Sp;}};this.aI.tm();function EB(Xn,bO){F.ahH(bO,Xn);};if(xy&&xy.getResults().length){var dM=ajK(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ee=xy.getResults(),afT=false,OM={};if(ee.length){IPCC.h.forEach(ee,function(aa){var asf=IPCC.h.contains(dM,aa.bO);if(asf){afT=true;OM[aa.bO]=OM[aa.bO]||[];OM[aa.bO].push(aa);}});}if(afT){IPCC.h.forEach(OM,function(Xn,bO){F.requestPageText(bO).then(EB.bind(null,Xn,bO));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fz===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var wY=function(n){return typeof n==='number'&& !isNaN(n);};var wB,aen=true;if(points&&points.constructor===Array){wB=points;}else{wB=[points];aen=false;}var adC=function(bn,ai,aB){throw new PCCViewer.Error('InvalidArgument',bn+' (Array index '+ai+') does not have a valid '+aB+' property');};if(wB.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.h.forEach(wB,function(bn,ai){if(!wY(bn.x)){adC(bn,ai,'x');}if(!wY(bn.y)){adC(bn,ai,'y');}});var Er=this.aI.azZ(pageNumber,wB);if(Er===null){return null;}else if(aen){return Er;}else{return Er[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.fz===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var F=this;var aI=F.aI;var VJ=aI.Cu();if(!VJ){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(VJ==='singleline'){aI.JZ();}else if(VJ==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return F;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var F=this;F.acK=amount;if(this.fz===false){this.pw.then(function(sy){var aI=F.aI;aI.Dx(amount);});}else{var aI=F.aI;aI.Dx(amount);}return F;};SingleSessionViewerControl.prototype.getSharpening=function(){var F=this;if(this.fz===false){return F.acK;}else{var aI=F.aI;return aI.aBH();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var F=this;F.afR=amount;if(this.fz===false){this.pw.then(function(sy){var aI=F.aI;aI.Ge(amount);});}else{var aI=F.aI;aI.Ge(amount);}return F;};SingleSessionViewerControl.prototype.getGamma=function(){var F=this;if(this.fz===false){return F.afR;}else{var aI=F.aI;return aI.aAN();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var F=this;F.lb=amount;if(this.fz===false){this.pw.then(function(sy){F.aI.Ew(amount);});}else{F.aI.Ew(amount);}return F;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var F=this;if(this.fz===false){return F.lb;}else{var aI=F.aI;return aI.aBl();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.bx;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var FY=function(){},jq={ajn:0,apj:1,Ix:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.h.uk(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var F=this;this.jq=jq.ajn;this.au=viewerControl.bA.au;this._debug= ! !this.au.debug;this.aHT="Single";this.LC=[];this.rY={};if(!this.cZ){this.cZ=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.aL=domElement;if(viewerControl.bA.mH){F.jq=jq.Ix;F.AX(viewerControl.getPageCount());F.Ur(F.aL);}else{F.jq=jq.apj;F.AX(1,0);var JM=function(){viewerControl.off('PageCountReady',JM);F.AX(viewerControl.getPageCount(),1);F.Ur(F.aL);};viewerControl.on('PageCountReady',JM);}viewerControl.on('PageRotated',function(aH){IPCC.h.forEach(F.rY,function(aR){if(aR.aW===(aH.pageNumber-1)){if(aR.wP===true){F.VI(aR);}}});});viewerControl.on('DocumentRotated',function(aH){IPCC.h.forEach(F.rY,function(aR){if(aR.wP===true){F.VI(aR);}});});viewerControl.on('ViewingSessionChanging',function(aH){F.ali();F.RG([]);});viewerControl.on('ViewingSessionChanged',function(aH){F.au=viewerControl.bA.au;if(viewerControl.bA.mH){F.AX(viewerControl.getPageCount());}else{F.AX(1,0);var JM=function(){viewerControl.off('PageCountReady',JM);F.AX(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',JM);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.cZ;};ThumbnailControl.prototype.AX=function(fe,hh){hh=hh||0;var F=this,JU=document.createDocumentFragment();for(var i=hh;i<fe;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var eR=document.createElement('div');eR.className='pccThumbnail';var rE=document.createElement('div');rE.className='pccThumbnailView';rE.id='pcc-thumbnailPage-'+i+'-'+IPCC.Ez();eR.appendChild(rE);_parent.appendChild(eR);JU.appendChild(_parent);F.rY[i]={UJ:_parent,cw:eR,rE:rE,aW:i,ac:{},wP:false,hL:0,jT:0,dY:0};}IPCC.h.forEach(F.rY,function(aR){var abJ=document.createElement('div'),ut=document.createElement('span'),aAc=document.createTextNode(aR.aW+1);abJ.className='pccThumbnailLabel';ut.appendChild(aAc);abJ.appendChild(ut);aR.cw.appendChild(abJ);aR.cw.onclick=function(){F.RG([aR.aW+1]);};});F.aL.appendChild(JU);this.ZU();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jq){return[];}return[].concat(this.LC);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jq){return this;}var fe=this.cZ.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.h.forEach(pageNumbers,function(hb,C){if(isNaN(hb)){throw new Error(hb+' (array index '+C+') is not a number');}if(hb<1||hb>fe){throw new Error(hb+' (array index '+C+') is out of range');}});this.RG([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var hb=Number(pageNumber);if(hb!==(hb|0)||hb<1||hb>this.cZ.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var nv=false,F=this,au=options||{};IPCC.h.forEach(this.rY,function(aR){if(nv){return;}if(aR.aW+1===hb){nv=true;F.Vw(aR,undefined,! !au.forceAlignTop);}});return this;};ThumbnailControl.prototype.Vw=function(aR,jV,anz){jV=jV||IPCC.h.WB(this.aL.getBoundingClientRect());var uF=IPCC.h.WB(aR.UJ.getBoundingClientRect());if(uF.top>jV.top&&uF.bottom<jV.bottom){return;}var alw=window.getComputedStyle?getComputedStyle(aR.UJ):aR.UJ.currentStyle,gw;if(uF.top<jV.top||anz){gw=uF.top-jV.top+this.aL.scrollTop-parseInt(alw.marginTop,10);}else if(uF.bottom>jV.bottom){gw=uF.bottom-jV.top-jV.height+this.aL.scrollTop+parseInt(alw.marginBottom,10);}if(gw!==undefined){this.aL.scrollTop=gw;}return this;};ThumbnailControl.prototype.RG=function(jt){if(IPCC.h.aqf(this.LC,jt)){return this;}var abe='pcc-thumbnail-selected',Iv=new RegExp(abe),aag=false,abn=[].concat(jt),acy=abn.shift(),abX=false,jV=IPCC.h.WB(this.aL.getBoundingClientRect()),F=this;IPCC.h.forEach(this.rY,function(aR){if(aR.aW===acy-1){IPCC.h.ajV(aR.cw,abe);aag=true;acy=abn.shift()||0;if(!abX){abX=true;F.Vw(aR,jV);}return;}if(Iv.test(aR.cw.className)){IPCC.h.ahQ(aR.cw,abe);aag=true;}});this.LC=jt;if(aag){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.LC)});}return this;};ThumbnailControl.prototype.aCy=function(){var dr=this.LW(),F=this,xF;IPCC.h.forEach(dr,function(aR){if(!xF&&IPCC.h.inArray(F.LC,aR.aW+1)){xF=aR;}});if(!xF){xF=dr[0];}return xF;};ThumbnailControl.prototype.reflow=function(){if(!this.jq){return this;}var Fa,Gh,aZ,ay,KG,MJ,dY,xF=this.aCy();IPCC.h.forEach(this.rY,function(aR){if(aR.wP){aR.cw.style.height=aR.rE.style.height='';aR.cw.style.width=aR.rE.style.width='';}});IPCC.h.forEach(this.rY,function(aR){if(aR.wP&&aR.ac.fE()){Fa=aR.cw.offsetWidth;Gh=aR.cw.offsetHeight;dY=aR.ac.ayN();if(Math.abs(dY)===90||Math.abs(dY)===270){ay=aR.ac.jY();aZ=aR.ac.hN();}else{aZ=aR.ac.jY();ay=aR.ac.hN();}KG=aZ/ay;MJ=Fa/Gh;var hL,jT;if(KG<MJ){jT=Gh;hL=Math.floor(jT*aZ/ay);}else{hL=Fa;jT=Math.floor(hL*ay/aZ);}aR.hL=hL;aR.jT=jT;}});IPCC.h.forEach(this.rY,function(aR){if(aR.wP&&aR.ac&&aR.ac.fE()){aR.rE.style.height=aR.jT+'px';aR.rE.style.width=aR.hL+'px';aR.ac.Zp(IPCC.Web.UI.FitType.FullImage);aR.ac.bW();}});if(xF){this.Vw(xF);}this.ZU();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.jq){return this;}this.jq=jq.ajn;this.ali();this.on=this.off=this.trigger=FY;this.hY={};};ThumbnailControl.prototype.ali=function(){IPCC.h.forEach(this.rY,function(aR){if(aR.ac&&aR.ac.dispose){aR.ac.dispose();}});while(this.aL.firstChild){this.aL.removeChild(this.aL.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jq){return[];}var dr=this.LW();return IPCC.h.map(dr,function(aR){return aR.aW+1;});};ThumbnailControl.prototype.LW=function LW(){var aws=this.aL.getBoundingClientRect(),uF;function To(jV,QX){return(!(QX.top>=jV.bottom||QX.left>=jV.right||QX.bottom<=jV.top||QX.right<=jV.left));};return IPCC.h.filter(this.rY,function(aR){uF=aR.cw.getBoundingClientRect();return To(aws,uF);});};ThumbnailControl.prototype.ZU=function(){var F=this,dr=F.LW();IPCC.h.forEach(dr,function(aR){if(!aR.wP){aR.ac=F.jl(aR);aR.wP=true;}});return this;};ThumbnailControl.prototype.Ur=function Ur(cw){var LD={},F=this;function awA(bq,vE,ra){if(LD[bq]){clearTimeout(LD[bq]);LD[bq]=undefined;}LD[bq]=setTimeout(vE,ra||0);};IPCC.Web.UI.bw.addHandler(cw,'scroll',function(ev){awA('scroll',function(){F.ZU();},300);});};ThumbnailControl.prototype.jl=function(aR,mD){var F=this;mD=mD||FY;var aq={documentIdentifier:F.au.documentID,pageNumber:aR.aW,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:F.au.imageHandlerUrl,encryption:F.au.encryption,handleTouchEvents:false};var ac=IPCC.initializePageViewPlugin(aR.rE,aq);ac.set_debug(F._debug);ac.set_mouseTool(IPCC.Web.UI.MouseTool.None);var yC=false;function FM(){mD();};ac.add_pageOpened(function(){F.VI(aR);});ac.add_pageDisplayed(function(){if(!yC){FM();}});ac.add_textPageReady(function(){if(yC){ac.bW();FM();}});ac.add_pageOpenFailed(function(){});ac.add_textExtractionFailed(function(){});var bA=F.cZ.bA;aq.artPage=bA.aI.hv(bA.cU.getPage(aR.aW));aq.artPage.CL(function(G){if(G.get_type()===608){yC=true;}});ac.awq(aq);ac.set_mouseTool(IPCC.Web.UI.MouseTool.None);return ac;};ThumbnailControl.prototype.VI=function(aR){var F=this;var bA=F.cZ.bA;var Fx=bA.aI.ZM(aR.aW);var dY=aR.dY;var aex=dY;if(Fx!==aR.dY){aex=Fx-dY;}var ac=aR.ac,jp=aR.rE,ay,aZ;if(!aR.wP|| !ac.fE()){return;}jp.style.height='';jp.style.width='';if(Math.abs(Fx)===90||Math.abs(Fx)===270){ay=ac.jY();aZ=ac.hN();}else{ay=ac.hN();aZ=ac.jY();}var Fa=jp.offsetWidth,Gh=jp.offsetHeight;if(aR.dY!==Fx){ac.rotate(aex);aR.dY=Fx;}var KG=aZ/ay,MJ=Fa/Gh;var hL,jT;if(KG<MJ){jT=Gh;hL=Math.floor(jT*aZ/ay);}else{hL=Fa;jT=Math.floor(hL*ay/aZ);}jp.style.height=jT+'px';jp.style.width=hL+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function ajx(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function ava(aBI){var aT=[];var apq=function(n){return!(isNaN(+n));};var aeN=aBI.split(',');var Nl,abI;var Pj=0;var wd=0;for(var C=0;C<aeN.length;C++){var Gk=aeN[C].split('-');var Dh=Gk[0].replace(/\s+/g,'');if(Dh.length===0){continue;}var EO=Dh;if(Gk[1]!==undefined&&Gk[1]!==""){EO=Gk[1].replace(/\s+/g,'');}Dh= +(Dh);EO= +(EO);if(apq(Dh)===true){Pj=parseInt(Dh);}if(apq(EO)===true){wd=parseInt(EO);}if(Pj<wd){Nl=Pj;abI=wd;}else{Nl=wd;abI=Pj;}if(Gk.length>1){for(var bf=Nl;bf<=abI;bf++){aT.push(bf);}}else{aT.push(Nl);}}aT.sort(function(a,b){return a-b;});for(C=aT.length-1;C>0;C--){if(aT[C-1]===aT[C]){aT.splice(C,1);}}return aT;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gQ;if(!(selections instanceof Array)){gQ=[selections];}else{gQ=selections;}IPCC.h.forEach(gQ,function(dm){IPCC.aO.lC(dm.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aO.lC(dm.length,'selection.length',1,Number.MAX_VALUE);IPCC.aO.dh(dm.color,'selection.color');IPCC.aO.lC(dm.opacity,'selection.opacity',0,255);});IPCC.aO.dh(backgroundColor,'backgroundColor');var aBC=IPCC.h.adS(gQ);return IPCC.h.map(aBC,function(aa){aa.length=aa.endIndex-aa.startIndex+1;return aa;});},layerColors:function(colors,backgroundColor){var QW;if(!(colors instanceof Array)){QW=[colors];}else{QW=colors;}IPCC.h.forEach(QW,function(dm){IPCC.aO.dh(dm.color,'selection.color');IPCC.aO.lC(dm.opacity,'selection.opacity',0,255);});IPCC.aO.dh(backgroundColor,'backgroundColor');return IPCC.h.alS(QW,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw ajx('Illegal page range value',pageRange);}var dM=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dM.unshift(upperLimit--);}}else{dM=ava(pageRange);if((dM.length===0&& !allowEmpty)||dM[0]<lowerLimit||dM[dM.length-1]>upperLimit){throw ajx('Pages are out of range',dM.join(', '));}}return dM;}};module.exports=Util;},{}],169:[function(require,module,exports){var Dk={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=Dk;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var aeL=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.Aj=IPCC.h.extend({},options);this.bA=new aeL(element,this,options);this.MZ={};return this;};ViewerControl.prototype.getPageCount=function(){return this.bA.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.bA.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.bA.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.bA.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.bA.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.bA.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.bA.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.bA.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.bA.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.bA.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.bA.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.bA.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.bA.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.bA.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.bA.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.bA.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.bA.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.bA.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.bA.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.bA.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.bA.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.bA.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.bA.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.bA.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.bA.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.bA.getPageRotation(pageNumber);}else{return this.bA.getPageRotation();}};ViewerControl.prototype.search=function(de){return this.bA.search(de);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.bA.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.bA.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.bA.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.bA.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(de){return this.bA.validateSearch(de);};ViewerControl.prototype.requestRevisions=function(){return this.bA.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.bA.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.bA.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.bA.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.bA.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.bA.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.bA.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.bA.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.bA.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.bA.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.bA.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.bA.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.bA.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.bA.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.bA.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.bA.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.bA.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.bA.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.bA.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.bA.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.bA){this.bA.destroy();}this.bA=null;this.oW=true;};ViewerControl.prototype.getMarkById=function(markId){return this.bA.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.bA.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.bA.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.bA.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.bA.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.bA.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.bA.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.bA.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.bA.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.bA.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.bA.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.bA.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.bA.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.bA.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.bA.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.bA.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.bA.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.bA.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(G){this.bA.enterTextMarkEditingMode(G);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.bA.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.bA.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.bA.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.bA.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.bA.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.bA.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.bA.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.bA.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.bA.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.bA.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.bA.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.bA.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.bA.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(xA){return this.bA.convertDocument(xA);};ViewerControl.prototype.requestDocumentConversion=function(xA){return this.bA.requestDocumentConversion(xA);};ViewerControl.prototype.loadAttachments=function(){return this.bA.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.bA.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.bA.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.bA.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.bA.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.bA.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.bA.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.bA.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.bA.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.bA.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.bA.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.bA.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.bA.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.bA.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.bA.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.bA.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.bA.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.bA.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.bA.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.bA.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var F=this;var HM=F.bA;var dk=HM.fK;var aeb=F.Aj.documentID;if(F.Wq){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(F.bA.fz===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(aeb===viewingSessionId){return F;}F.Wq=true;F.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){F.MZ[aeb]={control:HM,options:F.Aj};HM.aqk();HM.aEa();}else{HM.destroy();}if(F.MZ[viewingSessionId]){var amr=F.MZ[viewingSessionId];F.Aj=amr.options;F.bA=amr.control;F.bA.azf();F.bA.azM();F.Wq=false;F.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(F.bA.wN){F.trigger("PageCountReady",{pageCount:F.bA.fe});}delete F.MZ[viewingSessionId];}else{F.Aj=IPCC.h.extend({},F.Aj);F.Aj.documentID=viewingSessionId;F.bA=null;F.bA=new aeL(dk,F,F.Aj);F.bA.aDo(function(){F.Wq=false;F.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return F;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.bA.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.bA.getPageNumber();},set:function(value){return this.bA.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.bA.bx;}},"selectedSearchResult":{enumerable:true,get:function(){return this.bA.getSelectedSearchResult();},set:function(val){return this.bA.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.bA.getCurrentMouseTool();},set:function(value){return this.bA.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.bA.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.bA.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.bA.getScaleFactor();},set:function(value){return this.bA.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.bA.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.bA.getViewMode();},set:function(value){return this.bA.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.bA.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.bA.getSelectedConversation();},set:function(conversation){return this.bA.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.bA.getRedactionViewMode();},set:function(value){return this.bA.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.bA.getMarkHandleMode();},set:function(value){return this.bA.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),ue:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aEz:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),rd:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,YF:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,Lv:require('./PCCViewer.ClientSearch'),GY:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),Jv:require('./PCCViewer.RevisionsRequest').Jv,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(vt){this.hY={};this.de={};this.ee=[];this.uN=false;this.dZ=null;this.cC=null;this.SU=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !vt,enumerable:true,get:function(){return this.de;}},"results":{configurable: ! !vt,enumerable:true,get:function(){return this.ee;}},"isComplete":{configurable: ! !vt,enumerable:true,get:function(){return this.uN;}},"errorCode":{configurable: ! !vt,enumerable:true,get:function(){return this.dZ;}},"errorMessage":{configurable: ! !vt,enumerable:true,get:function(){return this.cC;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.de;};SearchRequest.prototype.getResults=function(){return this.ee;};SearchRequest.prototype.getIsComplete=function(){return this.uN;};SearchRequest.prototype.getErrorCode=function(){return this.dZ;};SearchRequest.prototype.getErrorMessage=function(){return this.cC;};SearchRequest.prototype.getPagesWithoutText=function(){return this.SU;};SearchRequest.prototype.cancel=function(){this.rR=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.dO=0;this.bO=0;this.ad=0;this.bQ='';this.rg='';this.qt=0;this.dn='';this.AK=0;this.bU='';this.Yv='';this.mc=null;};SearchResult.prototype.getId=function(){return this.dO;};SearchResult.prototype.getPageNumber=function(){return this.bO;};SearchResult.prototype.getText=function(){return this.bQ;};SearchResult.prototype.getHighlightColor=function(){return this.rg;};SearchResult.prototype.getStartIndexInPage=function(){return this.qt;};SearchResult.prototype.getContext=function(){return this.dn;};SearchResult.prototype.getStartIndexInContext=function(){return this.AK;};SearchResult.prototype.getSearchTerm=function(){return this.bU;};SearchResult.prototype.getBoundingRectangle=function(){return this.mc;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.bO;}},"id":{enumerable:true,get:function(){return this.dO;}},"text":{enumerable:true,get:function(){return this.bQ;}},"highlightColor":{enumerable:true,get:function(){return this.rg;}},"startIndexInPage":{enumerable:true,get:function(){return this.qt;}},"context":{enumerable:true,get:function(){return this.dn;}},"startIndexInContext":{enumerable:true,get:function(){return this.AK;}},"searchTerm":{enumerable:true,get:function(){return this.bU;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.dO=0;this.ad=0;this.bQ='';this.rg='';this.qt=0;this.dn='';this.AK=0;this.bU='';};SearchTaskResult.prototype.getId=function(){return this.dO;};SearchTaskResult.prototype.getText=function(){return this.bQ;};SearchTaskResult.prototype.getHighlightColor=function(){return this.rg;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qt;};SearchTaskResult.prototype.getContext=function(){return this.dn;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.AK;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bU;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.dO;}},"text":{enumerable:true,get:function(){return this.bQ;}},"highlightColor":{enumerable:true,get:function(){return this.rg;}},"startIndexInInput":{enumerable:true,get:function(){return this.qt;}},"context":{enumerable:true,get:function(){return this.dn;}},"startIndexInContext":{enumerable:true,get:function(){return this.AK;}},"searchTerm":{enumerable:true,get:function(){return this.bU;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 