// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.8.0
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var mI=function(){this.aC=false;this.F=false;this.aM=IPCC.aR.AddFreehandMark;};mI.prototype.nf=function(F){this.F=F;};mI.prototype.eN=function(){this.F=false;};mI.prototype.aQ=function(){if(this.aC){this.G=null;this.nR=null;this.F.nU(null);this.aC=false;this.F.cA();}};mI.prototype.qU=function(){this.aQ();};mI.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){this.aC=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.G.get_points().addPoint(T.imagePoint);this.nR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.F.nU(this.G,this.nR);this.G.set_lineWidth(this.nR.cf);this.G.set_lineColor(this.nR.ke);this.G.set_opacity(this.nR.cu);this.pJ=T.imagePoint;this.sB=T.windowPoint;this.F.cA();}};mI.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){this.G.get_points().addPoint(T.imagePoint);this.F.cA();}};mI.prototype.AF=function(T){if(this.aC){this.aQ();}};mI.prototype.kj=function(T){if(this.aC&&T.domEvent.button===0){this.G.get_points().addPoint(T.imagePoint);var amB=this.G.get_points();var ar=[];var hg=Number.MAX_VALUE,ju=0,_top=Number.MAX_VALUE,hT=0;var C=0;for(C=0;C<amB.get_length();C++){var sU=amB.getPoint(C);if(sU.x<hg){hg=sU.x;}if(sU.x>ju){ju=sU.x;}if(sU.y<_top){_top=sU.y;}if(sU.y>hT){hT=sU.y;}ar.push({x:sU.x,y:sU.y});}var ys=3;var ta;var qB=(ar.length<ys)?ar:IPCC.K.filter(ar,function(aO){if(ta){var aY=aO.x-ta.x,dc=aO.y-ta.y,eO=aY*aY+dc*dc;if(Math.sqrt(eO)<4){return false;}}aO.x=aO.x-hg;aO.y=aO.y-_top;ta=aO;return true;});if(qB.length<ys){qB=[ar[0],ar[ar.length-1]];}var bZ='';ta=undefined;if(qB.length<ys){bZ+=this.RZ(qB);}else{bZ='M'+IPCC.K.bspline(qB);bZ=bZ.replace(/\d*\.?\d*/g,function(bP){var Ih=bP.indexOf('.');if(bP.length&&Ih>0){return bP.substr(0,Ih+3);}else if(bP!==""){return bP;}else{return bP;}});}var bd=ju-hg;var bU=hT-_top;if(bU===0&&bd===0){this.aQ();return;}var pf={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.nR.set_rectangle({x:hg,y:_top,width:bd,height:bU});this.nR.set_pathString(bZ);this.nR.set_pathWidth(bd);this.nR.set_pathHeight(bU);this.F.nU(null);this.F.ea().addMark(this.nR,pf);this.F.cA();}this.aQ();};mI.prototype.RZ=function(gg,Fw){var Tk=(Fw&&IPCC.K.Cb)?'m':'M';var ZD=(Fw&&IPCC.K.Cb)?'l':'L';return IPCC.K.map(gg,function(aO,C){if(C===0){return Tk+aO.x+','+aO.y;}else{return ZD+aO.x+','+aO.y;}}).join('');};mI.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};mI.prototype.mL=function(){this.aQ();};module.exports=mI;},{}],13:[function(require,module,exports){var nz=function(){this.aC=false;this.F=false;this.aM=IPCC.aR.AddLineMark;};nz.prototype.nf=function(F){this.F=F;};nz.prototype.eN=function(){this.F=false;};nz.prototype.aQ=function(){if(this.aC){this.G=null;this.F.nU(null);this.aC=false;this.F.cA();}};nz.prototype.qU=function(){this.aQ();};nz.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){this.aC=true;this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.G.get_points().setPoint(0,T.imagePoint);this.G.get_points().setPoint(1,T.imagePoint);this.F.nU(this.G);this.pJ=T.imagePoint;this.sB=T.windowPoint;}};nz.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){this.G.get_points().setPoint(1,T.imagePoint);this.F.cA();}};nz.prototype.kj=function(T){if(this.aC&&T.domEvent.button===0){var fs=T.windowPoint.x-this.sB.x;var gM=fs*fs;fs=T.windowPoint.y-this.sB.y;gM+=fs*fs;if(gM>25){var F=this.F;var pf={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.G.get_points().setPoint(1,T.imagePoint);this.F.nU(null);this.F.ea().addMark(this.G,pf);F.cA();}}this.aQ();};nz.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};nz.prototype.mL=function(){this.aQ();};module.exports=nz;},{}],14:[function(require,module,exports){var kE=function(bN){this.aC=false;this.F=false;this.bN=bN;switch(this.bN){case IPCC.Web.UI.MarkType.Polygon:this.aM=IPCC.aR.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aM=IPCC.aR.AddPolylineMark;this.TO=false;break;}};kE.prototype.nf=function(F){this.F=F;};kE.prototype.eN=function(){this.F=false;};kE.prototype.aQ=function(){if(this.aC){if(arguments[0]){if(arguments[0]===true){if(this.G&&this.TO===false){this.F.ea().addMark(this.G);this.TO=true;this.F.cA();}}}this.G=null;this.F.nU(null);this.aC=false;this.F.cA();}};kE.prototype.qU=function(){this.aQ();};kE.prototype.lw=function(T){if(T.domEvent.button===0){if(!this.aC){this.aC=true;this.G=new IPCC.Web.UI.Mark(this.bN);this.G.get_points().addPoint(T.imagePoint);this.F.nU(this.G);}var ar=this.G.get_points();if(ar.get_length()>0){ar.setPoint(ar.get_length()-1,T.imagePoint);}ar.addPoint(T.imagePoint);this.pJ=T.imagePoint;this.sB=T.windowPoint;this.F.cA();}else{this.aQ();}};kE.prototype.AF=function(T){if(this.aC&&T.domEvent.button===0){var ar=this.G.get_points(),dv=ar.get_length(),Tw,Sn;if(dv>2){var adk=true;while(adk){dv=ar.get_length();Tw=ar.getPoint(dv-1);Sn=ar.getPoint(dv-2);if(Tw.x===Sn.x&&Tw.y===Sn.y){ar.removePoint(dv-1);}else{adk=false;}}}if(ar.get_length()>0){ar.setPoint(ar.get_length()-1,T.imagePoint);}this.F.nU(null);var pf={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.F.ea().addMark(this.G,pf);this.TO=true;this.F.cA();}this.aQ();};kE.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){var ar=this.G.get_points();if(ar.get_length()>0){ar.setPoint(ar.get_length()-1,T.imagePoint);}this.F.cA();}};kE.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};kE.prototype.mL=function(){this.aQ();};module.exports=kE;},{}],15:[function(require,module,exports){var fE=function(bN){this.aC=false;this.F=false;this.bN=bN;switch(this.bN){case IPCC.Web.UI.MarkType.Rectangle:this.aM=IPCC.aR.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aM=IPCC.aR.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aM=IPCC.aR.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aM=IPCC.aR.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aM=IPCC.aR.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aM=IPCC.aR.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aM=IPCC.aR.AddRectangleMark;break;}};fE.prototype.nf=function(F){this.F=F;};fE.prototype.eN=function(){this.F=false;};fE.prototype.aQ=function(){if(this.aC){this.G=null;this.F.nU(null);this.aC=false;this.F.cA();}};fE.prototype.qU=function(){this.aQ();};fE.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){this.aC=true;this.G=new IPCC.Web.UI.Mark(this.bN);this.G.set_rectangle({x:T.imagePoint.x,y:T.imagePoint.y,width:0,height:0});this.F.nU(this.G);this.pJ=T.imagePoint;this.sB=T.windowPoint;}};fE.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){var mY={x:Math.min(T.imagePoint.x,this.pJ.x),y:Math.min(T.imagePoint.y,this.pJ.y)};mY.width=Math.max(T.imagePoint.x,this.pJ.x)-mY.x;mY.height=Math.max(T.imagePoint.y,this.pJ.y)-mY.y;this.G.set_rectangle(mY);this.F.cA();}};fE.prototype.kj=function(T){if(this.aC&&T.domEvent.button===0){var fs=T.windowPoint.x-this.sB.x;var gM=fs*fs;fs=T.windowPoint.y-this.sB.y;gM+=fs*fs;if(gM>25){var mY={x:Math.min(T.imagePoint.x,this.pJ.x),y:Math.min(T.imagePoint.y,this.pJ.y)};mY.width=Math.max(T.imagePoint.x,this.pJ.x)-mY.x;mY.height=Math.max(T.imagePoint.y,this.pJ.y)-mY.y;this.F.nU(null);this.G.set_rectangle(mY);var aq=this.G;var F=this.F;var pf={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.F.ea().addMark(this.G,pf);if(aq.iq()===IPCC.Web.UI.MarkType.Text||aq.iq()===IPCC.Web.UI.MarkType.TextLine||aq.iq()===IPCC.Web.UI.MarkType.TextAreaSignature){F.xa(aq);}F.cA();}}this.aQ();};fE.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};fE.prototype.mL=function(){this.aQ();};module.exports=fE;},{}],16:[function(require,module,exports){var dK={};var atq=require('./ArtUIDirector');var PV=require('./ArtSVGUIDirector');dK.vA={Kj:function(){var vt=IPCC.dK.vA;if(vt.vd===null){
/*@cc_on@if(@_jscript)vt.vd=document.documentMode>8;@else@*/ vt.vd=true;/*@end@*/}return vt.vd;},vd:null};dK.Cc=1;dK.dI=atq;dK.PV=PV;module.exports=dK;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ajv=function(){};ajv.prototype={aoU:function(F,aN,aL){this.F=F;this.as=F.aa();this.aN=aN;this.et=aL.width;this.fB=aL.height;this.Fg=aL.hh;this.aIh=aL.hb;aN.Bd=this.cW('g');this.cz(aN.Bd,{'fill-opacity':1});aN.zv.appendChild(aN.Bd);},aov:function(J){var iW='',R,V=this;switch(J.G.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.bf=this.cW('rect');if(J.G.kM()&&J.G.get_opacity()===255){J.bf.addEventListener("mouseover",function(T){if(J.G.get_selected()===false&&J.bf&&(T.which===0||T.buttons===0)){J.bf.style.opacity=127/255;}},false);J.bf.addEventListener("mouseout",function(T){if(J.bf&&(T.which===0||T.buttons===0)){J.bf.style.opacity=J.G.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iW="highlighttextannotation-"+J.G.lA();J.bf=this.cW('g');J.ii=this.cW('g');J.bf.appendChild(J.ii);J.ld=this.cW('g');J.ld.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.ld);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iW="texthyperlinkannotation-"+J.G.lA();J.bf=this.cW('g');J.bf.style.cursor=IPCC.aR.fb(IPCC.aR.Link);J.ii=this.cW('g');J.bf.appendChild(J.ii);J.ld=this.cW('g');J.ld.style.opacity=IPCC.dK.dI.aii();J.ld.style.fill="blue";J.ld.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.ld);J.jM=this.cW('g');J.jM.style.stroke="blue";J.jM.style.opacity=IPCC.dK.dI.Gx(false);J.jM.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.jM);J.bf.addEventListener("mouseover",function(T){if(J.jM){J.jM.style.opacity=IPCC.dK.dI.Gx(true,J.G.get_selected());}},false);J.bf.addEventListener("mouseout",function(T){if(J.jM){J.jM.style.opacity=IPCC.dK.dI.Gx(false,J.G.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iW="documenthyperlink-"+J.G.lA();J.bf=this.cW('g');J.bf.style.cursor=IPCC.aR.fb(IPCC.aR.Link);J.R=this.cW('rect');J.R.style['fill-opacity']=IPCC.dK.dI.aii();if(J.G.Lg!=='Underline'){J.R.style.stroke=J.G.ke;J.R.style['stroke-width']=J.G.cf+'px';J.R.style['stroke-opacity']=(J.G.cf===0)?0:J.G.qK/255;if(J.G.Lg==='Dashed'){J.R.style['stroke-dasharray']=J.G.AH.join(', ');}J.R.setAttribute('rx',J.G.Kb);J.R.setAttribute('ry',J.G.Kg);}else{J.tM=this.cW('line');J.tM.style.stroke=J.G.ke;J.tM.style['stroke-opacity']=J.G.qK/255;J.tM.style['stroke-width']=J.G.cf+'px';J.bf.appendChild(J.tM);}J.R.style.fill='transparent';J.R.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.R);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iW="textmark-"+J.G.lA();J.bf=this.cW('g');J.eg=this.cW('rect');J.hq=this.cW('g');J.hq.setAttribute('data-pcc-mark',iW);if(IPCC.K.vz.aAa){J.hq.style.cursor='pointer';}J.zk=document.createTextNode('');if(document.documentMode>8||IPCC.K.vz.zL){J.dj=this.cW('text');J.dj.setAttribute('data-pcc-mark',iW);J.dj.appendChild(J.zk);J.AI=this.cW('clipPath');J.Bg=this.cW('rect');J.hq.appendChild(J.AI);J.AI.appendChild(J.Bg);J.hq.appendChild(J.dj);J.FJ="PCC"+IPCC.dK.Cc;IPCC.dK.Cc++;this.cz(J.AI,{id:J.FJ,clipPathUnits:"userSpaceOnUse"});R=J.G.get_rectangle();this.cz(J.Bg,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":iW});var adH=function(T){if(J.G.get_selected()===false&&J.eg&&(T.which===0||T.buttons===0)){if(V.F.lK()===false){J.bf.style.opacity=0.5;J.dj.style.opacity=0;}}};J.bf.addEventListener("mouseover",function(T){adH(T);},false);J.hq.addEventListener("mouseover",function(T){adH(T);},false);J.hq.addEventListener("mouseout",function(T){if(J.eg&&(T.which===0||T.buttons===0)){if(V.F.lK()===false){J.bf.style.opacity=1;J.dj.style.opacity=1;}}},false);J.bf.addEventListener("mouseout",function(T){if(J.eg&&(T.which===0||T.buttons===0)){if(V.F.lK()===false){J.bf.style.opacity=1;J.dj.style.opacity=1;}}},false);}else{J.oH=document.createElement('div');this.cz(J.oH,{"data-pcc-mark":iW});J.oH.appendChild(J.zk);J.Lc=document.createElement('div');this.cz(J.Lc,{"data-pcc-mark":iW});J.Lc.appendChild(J.oH);J.uh=document.createElement('body');this.cz(J.uh,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iW});J.uh.appendChild(J.Lc);J.DI=this.cW('foreignObject');J.DI.appendChild(J.uh);J.hq.appendChild(J.DI);J.uh.addEventListener("mouseover",function(T){if(J.G.get_selected()===false&&J.eg&&(T.which===0||T.buttons===0)){J.eg.style.opacity=0.5;J.oH.style.opacity=0;}},false);J.uh.addEventListener("mouseout",function(T){if(J.eg&&(T.which===0||T.buttons===0)){if(V.F.lK()===false){J.eg.style.opacity=1;J.oH.style.opacity=1;}}},false);}J.bf.appendChild(J.eg);break;case IPCC.Web.UI.MarkType.Ellipse:J.bf=this.cW('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:J.bf=this.cW('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.bf=this.cW('g');J.ii=J.bf;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.bf=this.cW('g');J.sf=this.cW('polyline');J.UN=this.cW('path');J.UT=this.cW('path');J.bf.appendChild(J.sf);J.bf.appendChild(J.UN);J.bf.appendChild(J.UT);J.sf.setAttribute('stroke-linejoin','miter');J.sf.setAttribute('stroke-linecap','butt');J.sf.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:J.bf=this.cW('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iW="textmark-"+J.G.lA();J.bf=this.cW('g');J.Fy=this.cW('polygon');J.sf=this.cW('path');J.XP=this.cW('path');J.hq=this.cW('g');J.bf.appendChild(J.Fy);J.bf.appendChild(J.sf);J.bf.appendChild(J.XP);this.cz(J.Fy,{style:'stroke:none;'});J.hq.setAttribute('data-pcc-mark',iW);J.zk=document.createTextNode('');if(document.documentMode>8||IPCC.K.vz.zL){J.dj=this.cW('text');J.dj.setAttribute('data-pcc-mark',iW);J.dj.appendChild(J.zk);J.AI=this.cW('clipPath');J.Bg=this.cW('rect');J.hq.appendChild(J.AI);J.AI.appendChild(J.Bg);J.ahZ=this.cW('g');J.hq.appendChild(J.ahZ);J.hq.appendChild(J.dj);J.FJ="PCC"+IPCC.dK.Cc;IPCC.dK.Cc++;this.cz(J.AI,{id:J.FJ,clipPathUnits:"userSpaceOnUse"});R=J.G.get_rectangle();this.cz(J.Bg,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":iW});}else{J.oH=document.createElement('div');J.oH.appendChild(J.zk);J.uh=document.createElement('body');this.cz(J.uh,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":iW});J.uh.appendChild(J.oH);J.DI=this.cW('foreignObject');J.DI.appendChild(J.uh);J.hq.appendChild(J.DI);}J.Fy.setAttribute('data-pcc-mark',iW);break;case IPCC.Web.UI.MarkType.Stamp:J.bf=this.cW('g');J.tX=this.cW('rect');J.tX.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.eg=this.cW('rect');J.Io=this.Wt(J);J.bf.appendChild(J.tX);J.bf.appendChild(J.eg);J.bf.appendChild(J.Io);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.bf=this.cW('g');J.tX=this.cW('rect');J.tX.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.eg=this.cW('rect');J.agT=this.aoN(J);J.agT.setAttribute('data-pcc-mark',"mark-"+J.G.lA());J.bf.appendChild(J.tX);J.bf.appendChild(J.eg);J.bf.appendChild(J.agT);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var G=J.G;var aeX=G.eB();var bd=aeX.width;var bU=aeX.height;var Hv=G.get_pathWidth();var GO=G.get_pathHeight();var tu=G.get_pathString();var hj=IPCC.K.zB.Path(tu,{width:bd,height:bU,multiplier:100,thickness:G.get_lineWidth(),color:G.get_lineColor()});var ee=IPCC.K.zB.SVG('0 0 '+Hv+' '+GO,100);var bB=IPCC.K.zB.Rect(Hv,GO,'fill:rgba(255, 255, 255, 0);stroke:none;');ee.appendChild(bB);ee.appendChild(hj);J.bf=ee;J.axR=hj;J.ado=bB;this.afu(J.bf,G.hY);break;case IPCC.Web.UI.MarkType.SignatureText:J.bf=this.cW('g');J.eg=this.cW('rect');J.eg.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Io=this.Wt(J);J.bf.appendChild(J.eg);J.bf.appendChild(J.Io);J.G.ib=false;break;case IPCC.Web.UI.MarkType.TextLine:J.bf=this.cW('g');J.eg=this.cW('rect');J.eg.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Io=this.Wt(J);J.bf.appendChild(J.eg);J.bf.appendChild(J.Io);break;case IPCC.Web.UI.MarkType.Strikethrough:iW="strikethroughannotation-"+J.G.lA();J.bf=this.cW('g');J.ii=this.cW('g');J.bf.appendChild(J.ii);J.ld=this.cW('g');J.ld.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.ld);J.wG=this.cW('g');J.wG.setAttribute('data-pcc-mark',iW);J.bf.appendChild(J.wG);break;}J.bf.ImGearMarkRelation=J;J.bf.setAttribute('data-pcc-mark',"mark-"+J.G.lA());this.aN.Bd.appendChild(J.bf);if(J.hq){J.hq.ImGearMarkRelation=J;this.aN.Bd.appendChild(J.hq);}this.aaK(J);},Wt:function(J){var G=J.G;var DY=G.bF;if(!DY){DY=G.dn[0];if(!DY){if(G.get_type()===IPCC.Web.UI.MarkType.Stamp){DY="APPROVED";}else{DY="";}}}var R=G.eB();J.dj=this.cW('text');J.FJ="PCC"+IPCC.dK.Cc;IPCC.dK.Cc++;var nl=document.createTextNode(DY);J.dj.setAttribute("font-size","22px");if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){J.dj.setAttribute("style",'white-space:pre;');}switch(J.G.hY){case IPCC.Web.UI.HorizontalAlignment.Left:J.dj.setAttribute('text-anchor','start');J.dj.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:J.dj.setAttribute('text-anchor','end');J.dj.setAttribute("x",R.x+R.width);break;default:J.dj.setAttribute('text-anchor','middle');J.dj.setAttribute("x",R.x+(R.width/2));break;}J.dj.setAttribute('y',R.y+(R.height/2));J.dj.appendChild(nl);return J.dj;},aoN:function(J){var G=J.G;J.agz=document.createElementNS('http://www.w3.org/2000/svg','svg');J.wB=document.createElementNS('http://www.w3.org/2000/svg','image');J.wB.setAttribute('id','childimg');J.wB.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());J.agz.appendChild(J.wB);return J.agz;},apm:function(J,hY){var G=J.G;var R=G.eB();var bF=G.bF;var Gt=bF.split('\n');var dj=J.dj;var Xf=0;var Xo=0;var Yc=0;var xU=0;var ali=0;var alM=this.Fg/72;var acJ=G.da*alM;var ww=[];var azQ=/(.*\s)(.*)/;var nl,jf,Ja,FM,_parent,aaQ,IE,Kk,afx,AT,ahI,Bo;aaQ=dj.childNodes.length;if(aaQ>=1){_parent=dj.parentNode;IE=this.cW('text');IE.setAttribute('data-pcc-mark',J.hq.getAttribute('data-pcc-mark'));IE.setAttribute('width',J.hq.getAttribute('width')-J.G.cf);_parent.replaceChild(IE,dj);J.dj=IE;J.dj.appendChild(J.zk);J.hq.appendChild(J.dj);dj={};dj=J.dj;}dj.style.fontSize=G.da*this.Fg/72+'px';dj.style.fontFamily=G.gk;dj.width-=4;Kk=(G.cf/2);if(hY){switch(hY){case IPCC.Web.UI.HorizontalAlignment.Center:Kk=(R.width/2)-(G.cf/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Kk=R.width-G.cf;break;}}for(var C=0;C<Gt.length;C++){AT='';ahI=1;if(Gt[C].length>0){Ja=Gt[C].split('');jf=this.cW('tspan');jf.setAttributeNS(null,"x",Kk);if(C>0){jf.setAttributeNS(null,"dy",acJ*(Yc+1));}nl=window.document.createTextNode(Ja[0]);jf.appendChild(nl);dj.appendChild(jf);for(var aV=1;aV<Ja.length;aV++){ali=jf.firstChild.data.length;FM=Ja[aV];jf.firstChild.data+=Ja[aV];AT+=FM;afx=AT.length*(G.da*alM);Xf=jf.getComputedTextLength();if(Xf===0){Xo=afx;}else{Xo=Xf;}if(Xo>=(R.width-G.cf-2)){ahI++;AT='';Bo=jf.firstChild.data.match(azQ);if(Bo){FM=Bo[2];}if(Bo&&Bo[1].length>0){jf.firstChild.data=Bo[1];AT+=FM;}else{jf.firstChild.data=jf.firstChild.data.slice(0,ali);AT+=FM;}if(AT.length>=1){ww.push({bQ:xU,acG:jf});jf=this.cW('tspan');jf.setAttributeNS(null,"x",Kk);jf.setAttributeNS(null,"dy",acJ);nl=window.document.createTextNode(FM);jf.appendChild(nl);dj.appendChild(jf);}}}if(jf.firstChild.data.length>0){ww.push({bQ:xU,acG:jf});}xU+=jf.firstChild.data.length+1;Yc=0;}else{Yc++;}}return ww;},avw:function(jQ,adR,ii,xU){if(jQ.length>0){var ajT=adR.getNumberOfChars();if(jQ[0].bQ>xU+ajT){return;}for(var C=Math.max(jQ[0].bQ-xU,0);C<ajT;C++){var R=adR.getExtentOfChar(C);var bB=this.cW('rect');this.cz(bB,{x:R.x,y:R.y,width:R.width,height:R.height,fill:jQ[0].Eq});ii.appendChild(bB);if(jQ[0].dz===C+xU){jQ.shift();if(jQ.length===0){return;}C=jQ[0].bQ-xU-1;}}}},Cu:function(cU,sl,rE){var hj='M',C;for(C=0;C<sl.length;C++){if(C>0){hj+=' L';}hj+=sl[C].x+','+sl[C].y;}if(rE){hj+='Z';}this.cz(cU,{d:hj});},Sp:function(cU,sl,rE){var Qj='',C;for(C=0;C<sl.length;C++){if(C>0){Qj+=' ';}Qj+=sl[C].x+','+sl[C].y;}if(rE&&sl.length>2){Qj+=' '+sl[0].x+','+sl[0].y;}this.cz(cU,{points:Qj});},abp:function(hz,ki,zO,rz,zz,aaT,Gz){var cB=this.apL(hz,ki,zO,rz,zz);var dY='';dY+='stroke:'+aaT+';';switch(zz){case IPCC.Web.UI.LineHeadType.None:dY='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Cu(Gz,[cB.Dh,hz,cB.DR],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Cu(Gz,[cB.Dh,hz,cB.DR],true);dY+='fill:'+aaT+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Cu(Gz,[cB.Dh,hz,cB.DR],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Cu(Gz,[cB.Dh,hz,cB.DR,cB.Ia],true);dY+='fill:'+aaT+';';break;}this.cz(Gz,{style:dY});return cB;},atN:function(J){var G=J.G;var ar,gC,C,afK,akQ,iP='',Dp;ar=G.get_points();gC=[];for(C=0;C<ar.get_length();C++){gC.push(ar.getPoint(C));}if(gC.length<2||G.rE){this.cz(J.UN,{style:'display:none;'});this.cz(J.UT,{style:'display:none;'});}else{G.zZ=G.ke;Dp=this.akl(gC,true);afK=this.abp(Dp.hz,Dp.ki,G.Hj,G.Ip,G.Ic,G.zZ,J.UN);Dp=this.akl(gC,false);akQ=this.abp(Dp.hz,Dp.ki,G.Hs,G.Ht,G.nc,G.zZ,J.UT);gC[0]=afK.Ia;gC[gC.length-1]=akQ.Ia;}this.Sp(J.sf,gC,G.rE);var vl=this.Yq(G.iP);if(vl!==''){iP+='stroke-dasharray:'+vl+';';}this.cz(J.sf,{style:iP});},abI:function(J){var Cv=this.aqA(J);this.Sp(J.Fy,Cv.ahM,false);var ahR='',iP='fill:none;',pN='fill:none;';if(Cv.ZH){ahR='stroke:none;';}if(Cv.Wa){this.Cu(J.sf,Cv.Wa,false);}else{iP+='display:none;';}if(Cv.QO){this.Cu(J.XP,Cv.QO,false);}else{pN+='display:none;';}var G=J.G;if(G.An){pN+='stroke:'+G.CD+';stroke-width:'+G.Bs+';';var vl=this.Yq(G.pN);if(vl!==''){pN+='stroke-dasharray:'+vl+';';}}this.cz(J.sf,{style:iP});this.cz(J.XP,{style:pN});this.cz(J.Fy,{style:ahR});},Sm:function(J){var G=J.G,Bk;if(!G){return;}var R=G.eB();var DX=G.da*this.Fg/72;G.DX=DX;var rh=R.width,pL=R.height,Hg=false,fs;var fY,dU=0,dW=0;var uM=1;if(G.ib){uM+=G.cf/2;}switch(G.AS){case IPCC.Web.UI.Orientation.TopLeft:fY='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:fY='-1,0,0,1';dU=rh-uM;break;case IPCC.Web.UI.Orientation.BottomRight:fY='-1,0,0,-1';dU=rh-uM;dW=pL-uM;break;case IPCC.Web.UI.Orientation.BottomLeft:fY='1,0,0,-1';dW=pL-uM;break;case IPCC.Web.UI.Orientation.LeftTop:fY='0,1,1,0';Hg=true;break;case IPCC.Web.UI.Orientation.RightTop:fY='0,1,-1,0';dU=rh-uM;Hg=true;break;case IPCC.Web.UI.Orientation.RightBottom:fY='0,-1,-1,0';dU=rh-uM;dW=pL-uM;Hg=true;break;case IPCC.Web.UI.Orientation.LeftBottom:fY='0,-1,1,0';dW=pL-uM;Hg=true;break;}if(G.eQ==="#c0c0c0"){G.eQ='#ffffff';}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.kM()===true){G.eQ='#ffffff';}else{G.set_opacity(G.cu);}}if(Hg){fs=rh;rh=pL;pL=fs;}if(rh<0){rh=0;}if(pL<0){pL=0;}var US='normal';var cc='normal';var mX='';var tg;mX+='word-wrap:break-word;background-color:transparent;line-height:1;';var yP=0;if(G.pV.length===7&&G.pV.charAt(0)==='#'){yP=parseInt(G.pV.slice(1),16);}var cu=Math.min(1,Math.max(0,G.zX/255));if(document.documentMode>8||IPCC.K.vz.zL){cc='normal';if(G.cc&IPCC.Web.UI.FontStyle.Italic){cc='italic';}US='normal';if(G.cc&IPCC.Web.UI.FontStyle.Bold){US='bold';}tg='none';if((G.cc&IPCC.Web.UI.FontStyle.Underline)&&(G.cc&IPCC.Web.UI.FontStyle.Strikeout)){tg='underline line-through';}else if(G.cc&IPCC.Web.UI.FontStyle.Underline){tg='underline';}else if(G.cc&IPCC.Web.UI.FontStyle.Strikeout){tg='line-through';}}else{mX+='color:rgba('+(yP>>16)+','+((yP>>8)&255)+','+(yP&255)+','+cu+');';mX+='font-family:'+G.gk+';';mX+='font-size:'+DX+'px;';if(G.cc&IPCC.Web.UI.FontStyle.Italic){mX+='font-style:italic;';}if(G.cc&IPCC.Web.UI.FontStyle.Bold){mX+='font-weight:bold;';}if((G.cc&IPCC.Web.UI.FontStyle.Underline)&&(G.cc&IPCC.Web.UI.FontStyle.Strikeout)){mX+='text-decoration:underline line-through;';}else if(G.cc&IPCC.Web.UI.FontStyle.Underline){mX+='text-decoration:underline;';}else if(G.cc&IPCC.Web.UI.FontStyle.Strikeout){mX+='text-decoration:line-through;';}}var BI={x:2,anchor:'start'};switch(G.hY){case IPCC.Web.UI.HorizontalAlignment.Left:mX+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:mX+='text-align:center;';BI.x=(R.width/2)-3;BI.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:mX+='text-align:right;';BI.x=R.width-8;BI.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.K.vz.zL){switch(G.yv){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cz(J.Lc,{style:'display:table; width: 100%;'});mX+='display: table-cell; white-space: normal; vertical-align: middle; height:'+pL+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cz(J.oH,{style:mX+'padding:2px;'});this.cz(J.hq,{transform:'matrix('+fY+','+(dU+R.x+(G.cf/2))+','+(dW+R.y+(G.cf/2))+')',});this.cz(J.DI,{x:0,y:0,width:rh>G.cf?rh-G.cf:rh,height:pL>G.cf?pL-G.cf:pL,});this.auc(J);}else{var ww=this.apm(J,G.hY);var akc=ww.length;switch(G.yv){case IPCC.Web.UI.VerticalAlignment.Center:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Bk=(R.height/2)+(G.da/4);if(akc>1){Bk-=(akc-1)*(G.da/2);}if(Bk<0){Bk=G.da;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cz(J.Bg,{x:0,y:0,width:R.width-G.cf,height:R.height-G.cf});var aoX="url(#"+J.FJ+")";var UC={x:BI.x,y:(this.Fg/72)*G.da,width:R.width-G.cf,height:R.height-G.cf,'font-family':G.gk,'font-size':DX,fill:'rgba('+(yP>>16)+', '+((yP>>8)&255)+', '+(yP&255)+', '+cu+')','font-weight':US,'font-style':cc,'text-decoration':tg,'text-anchor':BI.anchor};if(typeof Bk!=='undefined'){delete UC.y;UC.dy=Bk;}this.cz(J.dj,UC);J.dj.style.opacity=cu;this.cz(J.hq,{transform:'matrix('+fY+','+(dU+R.x+(G.cf/2))+','+(dW+R.y+(G.cf/2))+')','clip-path':aoX});var ii=J.ahZ;while(ii&&ii.firstChild){ii.removeChild(ii.firstChild);}if(G.ef){var jQ=this.aeD(G.ef);for(var C=0;C<ww.length;C++){this.avw(jQ,ww[C].acG,ii,ww[C].bQ);}}}},Wb:function(J){var G=J.G;if(G.bH===null||G.bH===undefined){return;}if(G.bH.length===0&&G.dr>0&&this.F.cF().nu()){G.bH=IPCC.K.XU(this.F.cF().hJ(),G.bQ,G.bQ+G.dr-1);}if(!J.bQ|| !J.dr||J.bQ!==G.bQ||J.dr!==G.dr||G.df===false||G.df===true){while(J.ld.firstChild){J.ld.removeChild(J.ld.firstChild);}if(J.jM){while(J.jM.firstChild){J.jM.removeChild(J.jM.firstChild);}}if(J.wG){while(J.wG.firstChild){J.wG.removeChild(J.wG.firstChild);}}if(G.df===false){return;}IPCC.K.forEach(J.G.bH,function(hA){var XG=this.cW('rect');J.ld.appendChild(XG);this.cz(XG,{x:hA.x,y:hA.y,width:hA.width,height:hA.height});if(J.jM){var tM=this.cW('line');this.cz(tM,{x1:hA.x,y1:hA.y+hA.height-1,x2:hA.x+hA.width,y2:hA.y+hA.height-1,"stroke-width":2});J.jM.appendChild(tM);}if(J.wG){XG.setAttribute('fill','transparent');var afn=this.cW('line');var strikethroughY=hA.y+(hA.height/2);this.cz(afn,{x1:hA.x,y1:strikethroughY,x2:hA.x+hA.width,y2:strikethroughY,stroke:J.G.ke,"stroke-width":J.G.cf});J.wG.appendChild(afn);}},this);J.bQ=G.bQ;J.dr=G.dr;}},aaK:function(J){var G=J.G;if(!G){return;}var bf=J.bf;var R,dY='',ar,ib=true,lE,wq,yW,We,ur,Gp;var lk=false;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:lk=true;this.atN(J);break;case IPCC.Web.UI.MarkType.Rectangle:R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Wb(J);J.ld.style.fill=G.eQ;J.ld.style.opacity=(G.cu/255);this.Ly(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Wb(J);J.ld.style.fill=G.eQ;J.jM.style.stroke=G.eQ;if(J.G.get_selected()){J.jM.style.opacity=IPCC.dK.dI.Gx(false,J.G.get_selected());}else{J.jM.style.opacity=IPCC.dK.dI.Gx(false,J.G.get_selected());}this.Ly(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=G.get_rectangle();this.cz(J.R,{x:R.x,y:R.y,width:R.width,height:R.height});if(J.tM){this.cz(J.tM,{x1:R.x,y1:R.y+R.height,x2:R.x+R.width,y2:R.y+R.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof J.eg!=='undefined'){if(this.F.lK()===true){J.eg.style.opacity=0.5;if(typeof J.oH!=='undefined'){J.oH.style.opacity=0;}else{J.dj.style.opacity=0;}}else{J.eg.style.opacity=1;if(typeof J.oH!=='undefined'){J.oH.style.opacity=1;}}}R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});this.cz(J.eg,{x:R.x,y:R.y,width:R.width,height:R.height});if(this.F.lK()===false){this.Sm(J);}break;case IPCC.Web.UI.MarkType.Ellipse:R=G.get_rectangle();this.cz(bf,{cx:R.x+R.width/2,cy:R.y+R.height/2,rx:R.width/2,ry:R.height/2});break;case IPCC.Web.UI.MarkType.Polygon:ar=this.Zl(G);this.Sp(bf,ar,false);dY+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.abI(J);this.Sm(J);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var de=IPCC.K.ahS();var pP=IPCC.K.aif();pP.nodeValue=G.get_text();var ij=G.ij;var aK=this.F.nq().ig();R=G.get_rectangle();de.style.width=(R.width-G.cf/2)+'px';de.style.height=(R.height-G.cf/2)+'px';de.style.fontFamily=G.gk;de.style.padding='2px';de.style.fontStyle=G.cc;G.da=IPCC.K.UV(de,ij,aK)*72/this.Fg;this.abI(J);this.Sm(J);break;case IPCC.Web.UI.MarkType.Stamp:R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});this.cz(J.tX,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.tX.style.opacity=1;this.cz(J.eg,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':G.eQ,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}lE=J.G.get_text();if(!lE){lE='APPROVED';}J.dj.childNodes[0].data=lE;var sO=lE.length*textFontSize;if(sO>R.width){textFontSize=((R.width/lE.length));}Gp=Math.round(textFontSize);G.stampSize=Gp.toString();this.cz(J.dj,{x:R.x+(R.width/2),y:R.y+(R.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':G.eQ,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});this.cz(J.tX,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.tX.style.opacity=1;this.cz(J.eg,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':G.eQ,'stroke-width':'0','fill':'none'});J.wB.setAttribute('height',R.height);J.wB.setAttribute('width',R.width);J.wB.setAttribute('x',R.x);J.wB.setAttribute('y',R.y);J.wB.setAttributeNS('http://www.w3.org/1999/xlink','href',G.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Ly(J);break;case IPCC.Web.UI.MarkType.Highlight:R=G.get_rectangle();if(R.x===0&&R.y===0){var hy=this.F.cF().hJ();if(hy.en()>0){var eP=hy.ln(G.bQ);R=eP.bh;}G.ks='y';}this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});var OV=J.axR;if(G.akU===true){G.akU=false;OV.setAttribute("d",G.get_pathString());var Hv=G.get_pathWidth();var GO=G.get_pathHeight();bf.setAttribute('viewBox','0 0 '+Hv+' '+GO);J.ado.setAttribute('width',Hv);J.ado.setAttribute('height',GO);}if(G.get_visible()){J.bf.style.display='block';}else{J.bf.style.display='none';}this.afu(J.bf,G.hY);OV.style.stroke=G.get_lineColor();OV.style.strokeWidth=G.get_lineWidth()+'px';OV.style.opacity=G.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});this.cz(J.eg,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.eg.style.opacity=1;var aoE=J.G.get_text()||"";J.dj.childNodes[0].data=aoE;wq=12*R.width/(G.Av||1);yW=12*R.height/(G.zI||1);ur=Math.min(wq,yW);var apf=Math.floor(ur);G.stampSize=apf.toString();switch(G.hY){case IPCC.Web.UI.HorizontalAlignment.Left:J.dj.setAttribute('text-anchor','start');J.dj.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:J.dj.setAttribute('text-anchor','end');J.dj.setAttribute("x",R.x+R.width);break;default:J.dj.setAttribute('text-anchor','middle');J.dj.setAttribute("x",R.x+(R.width/2));break;}this.cz(J.dj,{y:R.y+(R.height/2+(ur/3)),'font-size':ur,'stroke':"none",'fill':G.get_fillColor(),'font-family':G.get_fontName()});if(G.get_visible()){J.bf.style.display='block';}else{J.bf.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cz(bf,{style:'fill:none;opacity:1;'+G.df?'display:block;':'display:none;'});R=G.get_rectangle();this.cz(bf,{x:R.x,y:R.y,width:R.width,height:R.height});dY='stroke:'+(G.ib?'black':'none')+';stroke-width:1;';this.cz(J.eg,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':G.ib?'black':'none','fill':'rgba(255, 255, 255, 0)','style':dY});J.dj.style.opacity=1;lE=J.G.get_text()||"";J.dj.childNodes[0].data=lE;We=IPCC.K.ahT(lE,G.get_fontName(),R.width,R.height,{uR:"pre",ee:J.bf});ur=We.fontSize;G.DX=ur;G.stampSize=ur;G.JU=true;G.oz=We;switch(G.hY){case IPCC.Web.UI.HorizontalAlignment.Center:J.dj.setAttribute('text-anchor','middle');J.dj.setAttribute("x",R.x+(R.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:J.dj.setAttribute('text-anchor','end');J.dj.setAttribute("x",R.x+R.width);break;default:J.dj.setAttribute('text-anchor','start');J.dj.setAttribute('x',R.x);break;}this.cz(J.dj,{y:R.y+(R.height/2+(ur/3)),'font-size':ur,'stroke':"none",'fill':G.get_textColor(),'font-family':G.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Wb(J);this.Ly(J);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',G.get_type());}if(G.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&G.get_type()!==IPCC.Web.UI.MarkType.Freehand&&G.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&G.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&G.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&G.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&G.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&G.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(lk){dY+='fill:none;';}else{if(G.JD){dY+='fill:'+G.eQ+';';}else{dY+='fill:none;';}ib=G.ib;var vl=this.Yq(G.iP);if(vl!==''){dY+='stroke-dasharray:'+vl+';';}}if(ib){dY+='stroke:'+G.get_lineColor()+';';dY+='stroke-width:'+G.cf+';';}else{dY+='stroke:none;';}if(G.get_type()===IPCC.Web.UI.MarkType.SignatureText){dY+='opacity:'+1+';';}else{dY+='opacity:'+(G.cu/255)+';';}if(!G.df){dY+='display:none;';if(J.hq){J.hq.style.display='none';}}else{if(J.hq){J.hq.style.display='block';}}this.cz(bf,{style:dY});}if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!G.df){dY+='display:none;';}else{dY+='display:block;';}this.cz(bf,{style:dY});}var aM;if(!this.F.get_areMarksEditable()){aM=this.F.get_cursor();}else if(G.lW===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&G.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&G.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aM='default';}else if(G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aM=IPCC.aR.Link;}else if(G.get_type()!==IPCC.Web.UI.MarkType.Highlight&&G.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&G.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&G.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq)){aM=IPCC.aR.Move;}else{aM=IPCC.aR.Arrow;}bf.style.cursor=IPCC.aR.fb(aM);if(J.hq){J.hq.style.cursor=IPCC.aR.fb(aM);}},afu:function(bf,Iu){switch(Iu){case IPCC.Web.UI.HorizontalAlignment.Left:bf.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bf.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bf.setAttribute('preserveAspectRatio','xMaxYMid');break;}},Ly:function(J){var G=J.G,azd=G.get_visible();var R=G.get_rectangle();if(R.x===0&&R.y===0){return;}var ii=J.ii;while(ii.firstChild){ii.removeChild(ii.firstChild);}var js;for(var C=0;C<G.ef.length;C++){for(var aV=0;aV<G.ef[C].length;aV++){var acP=this.F.cF().hJ();if(acP.en()>0){var aqc=acP.ln(G.ef[C].startIndex+aV);js=aqc.bh;}var bB=this.cW('rect');this.cz(bB,{x:js.x,y:js.y,width:js.width,height:js.height,fill:G.ef[C].color,display:(azd)?'block':'none'});bB.style.opacity=(G.ef[C].opacity)?(G.ef[C].opacity)/255.0:0.5;ii.appendChild(bB);}}},Yq:function(iP){switch(iP){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Pl:function(J){if(J.bf){this.aN.Bd.removeChild(J.bf);}if(J.hq){this.aN.Bd.removeChild(J.hq);}delete J.bf;},aFg:function(){},amT:function(){this.aN=undefined;},cW:function(be){return document.createElementNS('http://www.w3.org/2000/svg',be);},cz:function(bf,aZ){var C;for(C in aZ){if(aZ.hasOwnProperty(C)){var attr=aZ[C];bf.setAttribute(C,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ajv;},{}],18:[function(require,module,exports){var PV=require('./ArtSVGUIDirector');var dI=PV;dI.Gx=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dI.aii=function(){return 39/255;};dI.aIz=function(isSelected){return isSelected?"purple":"blue";};dI.prototype.apL=function(hz,ki,zO,rz,zz){var cB={hz:hz,ki:ki,zO:zO,rz:rz,zz:zz};if(hz.x===ki.x&&hz.y===ki.y){cB.zz=IPCC.Web.UI.LineHeadType.None;}var QR=Math.atan2(hz.x-ki.x,-(hz.y-ki.y))+Math.PI/2;zO*=Math.PI/180;var il=QR+zO;cB.Dh={x:hz.x+Math.cos(il)*rz,y:hz.y+Math.sin(il)*rz};il=QR-zO;cB.DR={x:hz.x+Math.cos(il)*rz,y:hz.y+Math.sin(il)*rz};switch(cB.zz){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cB.Ia={x:(cB.Dh.x+cB.DR.x)/2,y:(cB.Dh.y+cB.DR.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cB.Ia={x:hz.x+Math.cos(QR)*rz/2,y:hz.y+Math.sin(QR)*rz/2};break;default:cB.Ia=hz;break;}return cB;};dI.prototype.aqA=function(J){var G=J.G;var R=G.get_rectangle();var HB={x:G.lN.x+R.x+0.00001,y:G.lN.y+R.y+0.00001};var ah={};var hn=[{x:R.x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}];if(!G.vw){ah.ahM=hn;ah.ZH= !G.ib;return ah;}var C,acR=[];for(C=0;C<4;C++){acR.push({x:(hn[C].x+hn[(C+3)%4].x)/2,y:(hn[C].y+hn[(C+3)%4].y)/2,avt:true});}for(C=3;C>=0;C--){hn.splice(C,0,acR[C]);}function afk(Ph){var vj,adS;vj=(HB.x-(hn[Ph].x+hn[(Ph+1)%8].x)/2)*R.height;adS=vj*vj;vj=(HB.y-(hn[Ph].y+hn[(Ph+1)%8].y)/2)*R.width;return adS+vj*vj;};var Qx=0,akR=afk(0),gM;for(C=1;C<8;C++){gM=afk(C);if(gM<akR){akR=gM;Qx=C;}}hn=hn.slice(Qx+1).concat(hn.slice(0,Qx+1));var BS=hn[0],Bv=hn[7];for(C=hn.length-1;C>=0;C--){if(hn[C].avt){hn.splice(C,1);}}switch(G.Bm){case IPCC.Web.UI.CalloutType.Triangle:hn.splice(0,0,{x:(BS.x*3+Bv.x)/4,y:(BS.y*3+Bv.y)/4});hn.push({x:(BS.x+Bv.x*3)/4,y:(BS.y+Bv.y*3)/4});if(G.An){ah.ZH=true;ah.Wa=[].concat(hn);ah.QO=[hn[0],HB,hn[hn.length-1]];}hn.push(HB);break;default:case IPCC.Web.UI.CalloutType.Line:ah.QO=[{x:(BS.x+Bv.x)/2,y:(BS.y+Bv.y)/2},HB];break;}ah.ahM=hn;if(!G.ib){ah.ZH=true;delete ah.Wa;delete ah.QO;}return ah;};dI.prototype.Zl=function(G){var ar=G.get_points();var gC=[],C;for(C=0;C<ar.get_length();C++){gC.push(ar.getPoint(C));}return gC;};dI.prototype.akl=function(gC,axB){var ba=0,IJ=1,adu=gC.length-2,hz,ki;if(!axB){ba=gC.length-1;IJ= -1;}hz=gC[ba];ba+=IJ;ki=gC[ba];ba+=IJ;while(hz.x===ki.x&&hz.y===ki.y&&adu>0){ki=gC[ba];ba+=IJ;adu--;}return{hz:hz,ki:ki};};dI.prototype.aco=function(F,aN,bx,kp){if(IPCC.K.ZS){return;}if(!aN.mT){aN.mT=[];}var mT=aN.mT;if(bx.length<1&&mT.length<1){if(aN.Ai.firstChild){aN.Ai.innerHTML='';}return;}var ap=F.ea();var eF=ap.yO();if(this.gE===undefined){this.gE=40;var Cx=document.createElement("div");Cx.className='pccMarkHandleTopLeft';Cx.visibility='hidden';document.body.appendChild(Cx);if(Cx.currentStyle){this.gE=parseInt(Cx.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var ayn=document.defaultView.getComputedStyle(Cx);this.gE=parseInt(ayn.width,10)||0;}document.body.removeChild(Cx);}var C,Jt=[];for(C=0;C<bx.length;C++){if(bx[C].get_visible()===true){if(eF.Fh(bx[C])>=0||(bx[C].get_selected()===true&&(bx[C].kB===true||bx[C].kF===true))||bx[C].xG===true){Jt.push(bx[C]);}}}for(C=0;C<mT.length;C++){while(C<mT.length&&(C>=Jt.length||mT[C].G!==Jt[C])){aN.Ai.removeChild(mT[C].he);mT.splice(C,1);}if(C<mT.length){this.aaJ(mT[C],kp);}}for(C=mT.length;C<Jt.length;C++){mT[C]={G:Jt[C]};this.aoR(aN.Ai,mT[C]);this.aaJ(mT[C],kp);}};dI.prototype.xc=function(he,anV,Dr,tU,azt,aM,dE){var bX=[],C,dM;if(dE===undefined){dE='handle';}for(C=0;C<anV;C++){dM={bf:document.createElement('div')};dM.bf.ImGearMarkHandle=dM;dM.aM=aM;dM.be=tU;dM.ba=azt+C;he.appendChild(dM.bf);dM.bf.setAttribute('data-pcc-mark',dE+'-'+he.ImGearMarkRelation.G.lA());bX.push(dM);}return bX;};dI.prototype.aux=function(bC){if(bC.bX===undefined||this.F.get_areMarksEditable()===false){return;}var C;for(C=0;C<bC.bX.length;C++){var dM=bC.bX[C];dM.bf.style.cursor=IPCC.aR.fb(dM.aM);}};dI.prototype.aoR=function(Ai,bC){bC.he=document.createElement('div');bC.he.style.width='0px';bC.he.style.height='0px';bC.he.style.left='0px';bC.he.style.top='0px';bC.he.style.zIndex='1';var C,G=bC.G,dM;bC.he.ImGearMarkRelation=bC;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bC.bX=this.xc(bC.he,2,this.gE,this.Ib,0,IPCC.aR.Move);bC.bX=bC.bX.concat(this.xc(bC.he,2,this.gE,this.GY,0,IPCC.aR.Move));break;case IPCC.Web.UI.MarkType.Polygon:bC.bX=[];break;case IPCC.Web.UI.MarkType.Freehand:bC.bX=[];bC.hO=document.createElement('div');bC.hO.style.border='1px solid gray';bC.hO.style.position='absolute';bC.he.appendChild(bC.hO);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq!==undefined){break;}bC.hO=document.createElement('div');bC.hO.style.border='1px solid gray';bC.hO.style.position='absolute';bC.he.appendChild(bC.hO);bC.bX=this.xc(bC.he,4,this.gE,this.YS,0,-1);bC.bX=bC.bX.concat(this.xc(bC.he,4,this.gE,this.Yf,0,-1));for(C=4;C<8;C++){dM=bC.bX[C];dM.aoe=bC.bX[C-4];dM.anX=bC.bX[(C+1)%4];}if(G.get_type()===IPCC.Web.UI.MarkType.Text){bC.bX=bC.bX.concat(this.xc(bC.he,1,this.gE,this.WT,0,IPCC.aR.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bC.bX=this.xc(bC.he,1,this.gE,this.Ib,0,IPCC.aR.Move,'texthandlestart');bC.bX=bC.bX.concat(this.xc(bC.he,1,this.gE,this.Ib,1,IPCC.aR.Move,'texthandleend'));break;}if(G.iq()===IPCC.Web.UI.MarkType.Text||G.iq()===IPCC.Web.UI.MarkType.TextLine||G.iq()===IPCC.Web.UI.MarkType.TextAreaSignature){var oi=document.createElement('div');oi.className='pccEditMarkButton';oi.setAttribute('data-pcc-mark','edit-'+G.lA());oi.onclick=function(bv){bv=bv||{};bv.stopPropagation?bv.stopPropagation():bv.cancelBubble=true;bv.preventDefault?bv.preventDefault():bv.returnValue=false;var qI;var vs=bC.he;while(vs&&(vs.parentNode||vs.ownerSVGElement)){if(vs.parentNode.id&&vs.parentNode.id.indexOf("__pViewId")!== -1){qI=vs.parentNode;}vs=vs.ownerSVGElement||vs.parentNode;}qI&&qI.am.ayF(bv,G);};bC.he.appendChild(oi);var aox={bf:oi};bC.bX.push(aox);}Ai.appendChild(bC.he);};dI.kI={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dI.prototype.YS=0;dI.prototype.Yf=1;dI.prototype.GY=2;dI.prototype.Ib=3;dI.prototype.WT=4;dI.prototype.aex=function(dM,axv){switch(axv){case IPCC.dK.dI.kI.TopLeft:dM.bf.className='pccMarkHandleTopLeft';break;case IPCC.dK.dI.kI.TopCenter:dM.bf.className='pccMarkHandleTopCenter';break;case IPCC.dK.dI.kI.TopRight:dM.bf.className='pccMarkHandleTopRight';break;case IPCC.dK.dI.kI.MidLeft:dM.bf.className='pccMarkHandleMidLeft';break;case IPCC.dK.dI.kI.MidRight:dM.bf.className='pccMarkHandleMidRight';break;case IPCC.dK.dI.kI.BottomLeft:dM.bf.className='pccMarkHandleBottomLeft';break;case IPCC.dK.dI.kI.BottomCenter:dM.bf.className='pccMarkHandleBottomCenter';break;case IPCC.dK.dI.kI.BottomRight:dM.bf.className='pccMarkHandleBottomRight';break;case IPCC.dK.dI.kI.Point:dM.bf.className='pccMarkHandlePoint';break;case IPCC.dK.dI.kI.TextSelectionStart:dM.bf.className='pccMarkHandleTextSelectionStart';break;case IPCC.dK.dI.kI.TextSelectionEnd:dM.bf.className='pccMarkHandleTextSelectionEnd';break;default:dM.bf.className='pccMarkHandlePoint';break;}};dI.prototype.AD=function(dM,aDc,kp,Dr,nX){dM.aT=kp.transform(aDc);dM.bf.style.left=(dM.aT.x-Dr/2)+'px';dM.bf.style.top=(dM.aT.y-Dr/2)+'px';dM.bf.style.display='block';dM.bf.style.zIndex='1';this.aex(dM,nX);};dI.prototype.aeK=function(dM,Dr,nX){dM.bf.style.left=(dM.aT.x-Dr/2)+'px';dM.bf.style.top=(dM.aT.y-Dr/2)+'px';dM.bf.style.display='block';dM.bf.style.zIndex='1';this.aex(dM,nX);};dI.prototype.rI=function(dM){dM.bf.style.display='none';};dI.prototype.aaJ=function(bC,kp){if(this.F.get_areMarksEditable()===true){bC.he.style.cursor='move';}var C,G=bC.G,bX=bC.bX,dM;var gC,R,oJ,kz,tU,eS;var gM,EG,dU,dW,RR;switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gC=this.Zl(G);EG=gC.length+2-bX.length;if(EG>0){bC.bX=bC.bX.concat(this.xc(bC.he,EG,this.gE,this.GY,bX.length-2,IPCC.aR.Move));bX=bC.bX;}for(C=0;C<gC.length;C++){this.AD(bX[C+2],gC[C],kp,this.gE,IPCC.dK.dI.kI.Point);}for(C=gC.length+2;C<bX.length;C++){this.rI(bX[C+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gC=this.Zl(G);EG=gC.length-bX.length;if(EG>0){bC.bX=bC.bX.concat(this.xc(bC.he,EG,this.gE,this.GY,bX.length,IPCC.aR.Move));bX=bC.bX;}for(C=0;C<gC.length;C++){this.AD(bX[C],gC[C],kp,this.gE,IPCC.dK.dI.kI.Point);}for(C=gC.length;C<bX.length;C++){this.rI(bX[C]);}break;case IPCC.Web.UI.MarkType.Freehand:R=G.eB();oJ=kp.transform({x:R.x,y:R.y});kz=kp.transform({x:R.x+R.width,y:R.y+R.height});eS={x:Math.min(oJ.x,kz.x),y:Math.min(oJ.y,kz.y)};eS.width=Math.max(oJ.x,kz.x)-eS.x;eS.height=Math.max(oJ.y,kz.y)-eS.y;bC.hO.style.left=eS.x+'px';bC.hO.style.top=eS.y+'px';bC.hO.style.width=eS.width+'px';bC.hO.style.height=eS.height+'px';bC.hO.setAttribute('data-pcc-mark','outline-'+G.lA());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq!==undefined){break;}R=G.eB();bX[0].aT=kp.transform({x:R.x,y:R.y});bX[1].aT=kp.transform({x:R.x+R.width,y:R.y});bX[2].aT=kp.transform({x:R.x+R.width,y:R.y+R.height});bX[3].aT=kp.transform({x:R.x,y:R.y+R.height});eS={x:Math.min(bX[0].aT.x,bX[2].aT.x),y:Math.min(bX[0].aT.y,bX[2].aT.y)};eS.width=Math.max(bX[0].aT.x,bX[2].aT.x)-eS.x;eS.height=Math.max(bX[0].aT.y,bX[2].aT.y)-eS.y;RR={x:eS.x+eS.width/2,y:eS.y+eS.height/2};for(C=0;C<4;C++){dM=bX[C];tU=(dM.aT.x<RR.x)?((dM.aT.y<RR.y)?0:2):((dM.aT.y<RR.y)?1:3);this.aeK(dM,this.gE,tU);switch(tU){case 0:dM.aM=IPCC.aR.ResizeNW;break;case 1:dM.aM=IPCC.aR.ResizeNE;break;case 2:dM.aM=IPCC.aR.ResizeSW;break;case 3:dM.aM=IPCC.aR.ResizeSE;break;}}bC.hO.style.left=eS.x+'px';bC.hO.style.top=eS.y+'px';bC.hO.style.width=eS.width+'px';bC.hO.style.height=eS.height+'px';bC.hO.setAttribute('data-pcc-mark','outline-'+G.lA());var axZ=eS.x+eS.width/4;var arY=eS.x+eS.width*3/4;var ayO=eS.y+eS.height/4;var ars=eS.y+eS.height*3/4;if(this.as.AO()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){oJ=bX[0].aT;kz=bX[1].aT;var avi=bX[2].aT;dU=oJ.x-kz.x;dW=kz.y-avi.y;var ara=dU*dU;var aos=dW*dW;if(Math.min(ara,aos)<this.gE*this.gE*5){this.rI(bX[0]);this.rI(bX[1]);this.rI(bX[2]);this.rI(bX[3]);}}for(C=4;C<8;C++){dM=bX[C];oJ=dM.aoe.aT;kz=dM.anX.aT;dU=oJ.x-kz.x;dW=oJ.y-kz.y;gM=dU*dU+dW*dW;if(this.as.AO()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gM<this.gE*this.gE*5){this.rI(dM);}else{dM.aT={x:(oJ.x+kz.x)/2,y:(oJ.y+kz.y)/2};this.aeK(dM,this.gE,C);if(dM.aT.x<axZ){dM.aM=IPCC.aR.ResizeW;}else if(dM.aT.x>arY){dM.aM=IPCC.aR.ResizeE;}else if(dM.aT.y<ayO){dM.aM=IPCC.aR.ResizeN;}else if(dM.aT.y>ars){dM.aM=IPCC.aR.ResizeS;}}}if(G.get_type()===IPCC.Web.UI.MarkType.Text){if(G.vw){this.AD(bX[8],{x:R.x+G.lN.x,y:R.y+G.lN.y},kp,this.gE,IPCC.dK.dI.kI.Callout);}else{this.rI(bX[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bC.he.style.cursor='move';var eP,js,Ao;var JP=this.F.cF();var hy=JP.hJ();if(G.kB===true){Ao=G.bQ;if(Ao>=hy.en()){eP=hy.ln(hy.en()-1);js=eP.vq();this.AD(bX[0],new IPCC.Web.UI.Point(js.x+js.width,js.y),kp,this.gE,IPCC.dK.dI.kI.TextSelectionStart);break;}eP=hy.ln(G.bQ);js=eP.vq();this.AD(bX[0],new IPCC.Web.UI.Point(js.x,js.y),kp,this.gE,IPCC.dK.dI.kI.TextSelectionStart);}else{this.rI(bX[0]);}if(G.kF===true){Ao=G.bQ+G.dr-1;if(Ao<0){eP=hy.ln(0);js=eP.vq();this.AD(bX[1],new IPCC.Web.UI.Point(js.x,js.y+js.height),kp,this.gE,IPCC.dK.dI.kI.TextSelectionEnd);break;}eP=hy.ln(Ao);js=eP.vq();this.AD(bX[1],new IPCC.Web.UI.Point(js.x+js.width,js.y+js.height),kp,this.gE,IPCC.dK.dI.kI.TextSelectionEnd);}else{this.rI(bX[1]);}break;}if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.TextLine||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var tz=bX[bX.length-1];if(tz.bf.className.match(/pcc/)){var TM=bC.hO.clientHeight;var TJ=bC.hO.clientWidth;var amh=bC.hO.offsetTop;var alX=bC.hO.offsetLeft;var ajf=tz.bf.clientHeight;var WY=tz.bf.clientWidth;tz.bf.style.position='absolute';tz.bf.style.zIndex='2';if(TM>ajf+10&&TJ>WY+10){tz.bf.style.top=(TM-ajf)/2+amh+'px';tz.bf.style.left=(TJ-WY)/2+alX+'px';}else{tz.bf.style.top=TM+amh+10+'px';tz.bf.style.left=(TJ-WY)/2+alX+'px';}}}this.aux(bC);};dI.prototype.aeD=function(hi,vN){var azV=IPCC.K.afm(hi,vN||'#ffffff'),ayg=IPCC.K.map(azV,function(aO){return{bQ:aO.startIndex,dz:aO.endIndex,Eq:aO.color};});return ayg;};dI.prototype.auc=function(J){var G=J.G;if(G.ef){var jQ=this.aeD(G.ef);var Dc=G.bF;var Az='';for(var C=jQ.length-1;C>=0;C--){var Wu=jQ[C];var bQ=Wu.bQ;var dz=Wu.dz;var dR=Wu.Eq;var cP=IPCC.K.Kw(Dc.substr(bQ,dz-bQ+1));var auV=IPCC.K.Kw(Dc.substr(dz+1,Dc.length-dz+1));Dc=Dc.substr(0,bQ);Az="<span style='background-color:"+dR+";'>"+cP+'</span>'+auV+Az;}Az=IPCC.K.Kw(Dc)+Az;Az=Az.replace(/\n/g,'<br/>');J.oH.innerHTML=Az;}else{J.zk.data=G.bF;}};module.exports=dI;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var ep={};ep.InternetExplorer={};ep.Firefox={};ep.Safari={};ep.Opera={};ep.agent=null;ep.hasDebuggerStatement=false;ep.name=navigator.appName;ep.version=parseFloat(navigator.appVersion);ep.documentMode=0;ep.getBrowserInfo=function getBrowserInfo(){if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.ep.agent=IPCC.ep.InternetExplorer;IPCC.ep.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.ep.version>=8){if(document.documentMode>=7){IPCC.ep.documentMode=document.documentMode;}}IPCC.ep.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.ep.agent=IPCC.ep.Firefox;IPCC.ep.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.ep.name='Firefox';IPCC.ep.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.ep.agent=IPCC.ep.Safari;IPCC.ep.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.ep.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.ep.agent=IPCC.ep.Opera;}};module.exports=ep;},{}],20:[function(require,module,exports){var vA={Kj:function(){var vt=IPCC.vA;if(vt.vd===null){
/*@cc_on@if(@_jscript)vt.vd=document.documentMode>8;@else@*/ vt.vd=true;/*@end@*/}return vt.vd;},vd:null};module.exports=vA;},{}],21:[function(require,module,exports){var gx=function(XB,axc){this.F=false;this.XB=XB;var mU=IPCC.Web.UI;var ay=axc;if(!ay||ay===null){ay=IPCC.aab;}this.ay=ay;var asP={bF:ay.zoomInMenuItem,eE:IPCC.fc.aaF,h:1.25};var atk={bF:ay.zoomOutMenuItem,eE:IPCC.fc.aaB,h:1.25};var aCj={bF:ay.fullImageMenuItem,h:mU.FitType.FullImage};var aBm={bF:ay.fullWidthMenuItem,h:mU.FitType.FullWidth};var aCg={bF:ay.fullHeightMenuItem,h:mU.FitType.FullHeight};var avx={bF:ay.oneToOneRatioMenuItem,h:mU.FitType.OneToOne};var asj={bF:ay.actualSizeMenuItem,h:mU.FitType.ActualSize};var axV={bF:ay.rotateRightMenuItem,eE:IPCC.fc.ZW,h:90};var ayR={bF:ay.rotateLeftMenuItem,eE:IPCC.fc.ZW,h: -90};var axI={bF:ay.mirrorHorizontalMenuItem,eE:IPCC.fc.ahv};var ayx={bF:ay.mirrorVerticalMenuItem,eE:IPCC.fc.alS};var TN={bF:ay.panToolMenuItem,h:mU.MouseTool.HandPan};var Xr={bF:ay.areaSelectionToolMenuItem,h:mU.MouseTool.Select};var YC={bF:ay.zoomRectangleToolMenuItem,h:mU.MouseTool.RectangleZoom};var Vc={bF:ay.flyingMagnifierToolMenuItem,h:mU.MouseTool.Magnifier};var apn={bF:ay.createTextMarkToolMenuItem,h:mU.MouseTool.CreateTextMark};var anA={bF:ay.createLineMarkToolMenuItem,h:mU.MouseTool.CreateLineMark};var aoQ={bF:ay.createRectangleMarkToolMenuItem,h:mU.MouseTool.CreateRectangleMark};var app={bF:ay.createEllipseMarkToolMenuItem,h:mU.MouseTool.CreateEllipseMark};var aCP={bF:ay.editMarksToolMenuItem,h:mU.MouseTool.EditMarks};var anS={bF:ay.createStampMarkToolMenuItem,h:mU.MouseTool.CreateStampMark};var aoL={bF:ay.createHighlightMarkToolMenuItem,h:mU.MouseTool.CreateHighlightTextMark};var aci={bd:55,dh:[{bF:ay.thicknessMenu.item1,h:1},{bF:ay.thicknessMenu.item2,h:2},{bF:ay.thicknessMenu.item3,h:3},{bF:ay.thicknessMenu.item4,h:4},{bF:ay.thicknessMenu.item5,h:5},{bF:ay.thicknessMenu.item6,h:6},{bF:ay.thicknessMenu.item7,h:7},{bF:ay.thicknessMenu.item8,h:8}]};var aDZ={bd:145,dh:[{bF:ay.opacityMenu.translucent,h:127},{bF:ay.opacityMenu.opaque,h:255}]};var KZ={bF:ay.borderThicknessMenuItem,eE:IPCC.fc.Fi,ao:'lineWidth',nn:aci};var Mr={bF:ay.borderColorMenuItem,eE:IPCC.fc.OZ,ao:'lineColor'};var Kh={bF:ay.fillColorMenuItem,eE:IPCC.fc.OZ,ao:'fillColor'};var ahb={bF:ay.lineThicknessMenuItem,eE:IPCC.fc.Fi,ao:'lineWidth',nn:aci};var age={bF:ay.lineColorMenuItem,eE:IPCC.fc.OZ,ao:'lineColor'};var aBc={bF:ay.fontMenuItem,eE:IPCC.fc.amq};var Ni={bF:ay.opacityMenuItem,eE:IPCC.fc.Fi,ao:'opacity',nn:aDZ};var axX={bF:ay.moveToBackMenuItem,eE:IPCC.fc.als};var axl={bF:ay.moveBackwardMenuItem,eE:IPCC.fc.akK};var ayB={bF:ay.moveForwardMenuItem,eE:IPCC.fc.akb};var ayb={bF:ay.moveToFrontMenuItem,eE:IPCC.fc.aly};var uV={bF:ay.deleteMarkMenuItem,eE:IPCC.fc.akP};var asv={bd:180,dh:[aCj,aBm,aCg,avx,asj]};var arw={bF:ay.zoomToFitMenuItem,eE:IPCC.fc.abg,nn:asv};var aDm={bd:200,dh:[axV,ayR,axI,ayx]};var aEu={bF:ay.orientationMenuItem,nn:aDm};var Pp;if(IPCC.dK){if(IPCC.hX===false){Pp={bd:180,dh:[TN,YC,Vc,Xr,null]};}else{Pp={bd:180,dh:[TN,YC,Vc,Xr,null,aCP,apn,anA,aoQ,app,anS,aoL]};}}else{Pp={bd:180,dh:[TN,YC,Vc,Xr]};}var ayq={bF:ay.mouseToolsMenuItem,eE:IPCC.fc.aeF,nn:Pp};var azx={bd:150,dh:[Kh,KZ,Mr,null,Ni]};var aDD={bd:150,dh:[Kh,KZ,Mr,null,null]};var aAz={bd:150,bF:ay.rectangleMarkPropertiesMenuItem,nn:azx};var aBk={bd:150,bF:ay.rectangleMarkPropertiesMenuItem,nn:aDD};var auW={bd:150,dh:[aBc,Kh,KZ,Mr,null,null,null,Ni]};var aur={bF:ay.textMarkPropertiesMenuItem,nn:auW};var ayV={bd:150,dh:[Kh,KZ,Mr,null,Ni]};var aza={bF:ay.polygonMarkPropertiesMenuItem,nn:ayV};var azX={bd:140,dh:[ahb,age,null,Ni]};var aAJ={bF:ay.polylineMarkPropertiesMenuItem,nn:azX};var azq={bd:140,dh:[ahb,age,null,null]};var aAv={bF:ay.lineMarkPropertiesMenuItem,nn:azq};var ays={bd:140,dh:[ayb,ayB,axl,axX]};var xN={bF:ay.markOrderingMenuItem,nn:ays};var apJ={bd:150,dh:[Kh]};var aeq={bF:ay.stampMarkPropertiesMenuItem,nn:apJ};this.aqL={bd:180,dh:[asP,atk,arw,aEu,ayq]};this.auE={bd:140,dh:[aur,xN,uV]};this.azf={bd:140,dh:[aAz,xN,uV]};this.aqB={bd:140,dh:[aeq,xN,uV]};this.aqO={bd:140,dh:[null,xN,uV]};this.aBf={bd:140,dh:[aBk,xN,uV]};this.axC={bd:140,dh:[aza,xN,uV]};this.azE={bd:140,dh:[aAJ,xN,uV]};this.azR={bd:140,dh:[aAv,xN,uV]};this.avK={bd:140,dh:[aeq,null,uV]};};gx.prototype.nf=function(F){this.F=F;};gx.prototype.eN=function(){this.F=false;};gx.prototype.aQ=function(){};gx.prototype.Ti=function(T){var jc;if(T.mark&&this.XB){var MD=T.mark.kM();switch(T.mark.get_type()){case IPCC.Web.UI.MarkType.Line:jc=this.azR;break;case IPCC.Web.UI.MarkType.Polyline:jc=this.azE;break;case IPCC.Web.UI.MarkType.Rectangle:jc=this.azf;break;case IPCC.Web.UI.MarkType.Ellipse:jc=this.aBf;break;case IPCC.Web.UI.MarkType.Polygon:jc=this.axC;break;case IPCC.Web.UI.MarkType.Text:jc=this.auE;break;case IPCC.Web.UI.MarkType.Stamp:if(MD===true){jc=this.aqO;}else{jc=this.aqB;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(T.mark.ks==='y'){jc=this.avK;}break;}}if(!jc){jc=this.aqL;}var vk=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vY=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aaP=new IPCC.Web.UI.Point(T.domEvent.clientX+vk,T.domEvent.clientY+vY);var V=this;function yu(aX){if(sV){var ae=aX.target;if(ae&&ae===null){return;}var BO,alP;while(ae&&ae!==document.body&&ae.parentNode!==null){if(ae&&ae!==null){if(ae===sV){alP=true;}if(!BO&&ae.ImGearCommand){BO=ae.ImGearCommand;}ae=ae.parentNode;}}if(!alP||BO){IPCC.Web.UI.af.removeHandler(document.body,'mousedown',yu);IPCC.Web.UI.af.removeHandler(document.body,'mousemove',ann);document.body.removeChild(sV);sV=null;if(BO){BO.To=T;V.aAU(BO);}}}};function Vv(HL,zS,za,FV){var df=false,C,ae;for(C=0;C<zS.length;C++){if(HL===zS[C]){df=true;}}if(!df&&HL.ImGearType==='menu'){HL.style.display='none';}else{HL.style.display='block';}ae=HL.firstChild;while(ae){if(ae.ImGearType==='menuItemHighlight'){if(ae===FV){ae.style.display='block';}else{ae.style.display='none';}}if(ae.firstChild){Vv(ae,zS,za,FV);}ae=ae.nextSibling;}};function ann(aX){if(sV){var ae=aX.target;if(ae&&ae===null){return;}var zS=[sV],za,FV;while(ae&&ae!==document.body&&ae.parentNode!==null){if(!za&&ae.ImGearType==='menuItem'){za=ae;}if(ae.ImGearType==='menu'){zS.push(ae);}ae=ae.parentNode;}if(za){ae=za.firstChild;while(ae){if(ae.ImGearType==='menuItemHighlight'){FV=ae;}else if(ae.ImGearType==='menu'){zS.push(ae);}ae=ae.nextSibling;}}Vv(sV,zS,za,FV);}};var bh;if(window.innerWidth){bh={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bh={x:vk,y:vY,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bh={x:vk,y:vY,width:document.body.clientWidth,height:document.body.clientHeight};}var sV=this.agO(jc,false,false,aaP,aaP,true,bh,document.body,T.mark);Vv(sV,[sV],null,null);document.body.appendChild(sV);IPCC.Web.UI.af.addHandler(document.body,'mousedown',yu);IPCC.Web.UI.af.addHandler(document.body,'mousemove',ann);};gx.prototype.agO=function(jc,eE,ao,Zx,ZZ,Ev,bh,aGj,G){var amr=24,ack=1;var C,SZ=0;for(C=0;C<jc.dh.length;C++){var ayk=jc.dh[C];if(ayk){SZ+=amr;}else{SZ+=ack;}}var Qa;if(Ev){Qa=ZZ.x+jc.bd;if(Qa>bh.x+bh.width){Ev=false;}}if(!Ev){Qa=Zx.x-jc.bd;if(Qa<bh.x){Ev=true;}}var qz={x:ZZ.x,y:ZZ.y};if(!Ev){qz={x:Zx.x-jc.bd-2,y:Zx.y-2};}var ahX=bh.y+bh.height-SZ-8;if(qz.y>ahX){qz.y=ahX;}if(qz.y<bh.y+2){qz.y=bh.y+2;}function hk(rk){var wE=document.createElement('div');var C;for(C in rk){if(rk.hasOwnProperty(C)){wE.style[C]=rk[C];}}return wE;};var OT=hk({zIndex:2,width:jc.bd+'px',left:qz.x+'px',top:qz.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});OT.ImGearType='menu';for(C=0;C<jc.dh.length;C++){var wK=jc.dh[C];var uE;if(wK){uE=hk({position:'relative',height:'24px'});uE.ImGearType='menuItem';var xL=hk({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});uE.appendChild(xL);var alE=hk({textOverflow:'ellipsis',whiteSpace:'nowrap',width:jc.bd-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});uE.appendChild(alE);var ang=hk({display:'none',position:'absolute',height:'24px',width:jc.bd+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});ang.ImGearType='menuItemHighlight';uE.appendChild(ang);alE.appendChild(document.createTextNode(wK.bF));var Mc=wK.eE||eE;var Fj=wK.ao||ao;if(Fj){if(Mc===IPCC.fc.Fi){var ath=G['get_'+Fj]();if(ath===wK.h){if(this.F.tG()){xL.style.backgroundImage='url(\''+this.F.tG()+'/MenuIcons.png'+'\')';}else{xL.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xL.style.backgroundPosition='0px';}}else if(Mc===IPCC.fc.anq){var arZ=G['get_'+Fj]();if(arZ){if(this.F.tG()){xL.style.backgroundImage='url(\''+this.F.tG()+'/MenuIcons.png'+'\')';}else{xL.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xL.style.backgroundPosition='24px 0px';}}}if(!wK.nn){uE.ImGearCommand={eE:Mc,ao:Fj,h:wK.h};}else{var ayd={x:bh.x-qz.x,y:bh.y-qz.y,width:bh.width,height:bh.height};this.agO(wK.nn,Mc,Fj,{x:0,y: -1},{x:jc.bd,y: -1},Ev,ayd,uE,G);}qz.y+=amr;}else{uE=hk({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qz.y+=ack;}OT.appendChild(uE);}aGj.appendChild(OT);return OT;};gx.prototype.aBE=function(G,cq,F){var vk=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vY=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bh;if(window.innerWidth){bh={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bh={x:vk,y:vY,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bh={x:vk,y:vY,width:document.body.clientWidth,height:document.body.clientHeight};}var nd=bh.x+bh.width/2;var ng=bh.y+bh.height/2;var hZ=document.createElement('div');hZ.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ng-85)+'px;left:'+(nd-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ay.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hZ);var YK=document.getElementById('ImGearColorRed');var aiC=document.getElementById('ImGearColorGreen');var air=document.getElementById('ImGearColorBlue');var He=document.getElementById('ImGearColorOKButton');var KB=document.getElementById('ImGearColorCancelButton');var TG=G['get_'+cq]();var MJ;if(TG.length===7&&TG.charAt(0)==='#'){MJ=parseInt(TG.slice(1),16);}YK.value=(MJ>>16);aiC.value=((MJ>>8)&255);air.value=(MJ&255);function SP(Zn){var h=Math.floor(+(Zn.value));if(!isFinite(h)){h=0;}if(h<0){h=0;}if(h>255){h=255;}return h;};function yq(){IPCC.Web.UI.af.removeHandler(He,'click',Jo);IPCC.Web.UI.af.removeHandler(KB,'click',Im);IPCC.Web.UI.af.removeHandler(document.body,'mousedown',yu);};function Jo(){var dR=SP(YK)*65536+SP(aiC)*256+SP(air);G['set_'+cq]('#'+(0x1000000+dR).toString(16).slice(1));yq();document.body.removeChild(hZ);hZ=null;F.cA();};function Im(){yq();document.body.removeChild(hZ);hZ=null;};function yu(aX){if(hZ){var ae=aX.target;var Ju;while(ae!==document.body){if(ae===hZ){Ju=true;}ae=ae.parentNode;}if(!Ju){yq();document.body.removeChild(hZ);hZ=null;}}};IPCC.Web.UI.af.addHandler(He,'click',Jo);IPCC.Web.UI.af.addHandler(KB,'click',Im);IPCC.Web.UI.af.addHandler(document.body,'mousedown',yu);YK.focus();};gx.prototype.aCb=function(G,F){var vk=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var vY=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bh;if(window.innerWidth){bh={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bh={x:vk,y:vY,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bh={x:vk,y:vY,width:document.body.clientWidth,height:document.body.clientHeight};}var nd=bh.x+bh.width/2;var ng=bh.y+bh.height/2;var hZ=document.createElement('div');hZ.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ng-85)+'px;left:'+(nd-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ay.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hZ);var UH=document.getElementById('ImGearFontFamily');var agL=document.getElementById('ImGearFontSize');var ahk=document.getElementById('ImGearFontItalic');var agg=document.getElementById('ImGearFontBold');var afU=document.getElementById('ImGearFontUnderline');var ahm=document.getElementById('ImGearFontStrikeout');var He=document.getElementById('ImGearFontOKButton');var KB=document.getElementById('ImGearFontCancelButton');var aCz=G.get_fontName();var aCd=G.get_fontSize();var sJ=G.get_fontStyle();UH.value=aCz;agL.value=aCd;ahk.checked=sJ&IPCC.Web.UI.FontStyle.Italic;agg.checked=sJ&IPCC.Web.UI.FontStyle.Bold;afU.checked=sJ&IPCC.Web.UI.FontStyle.Underline;ahm.checked=sJ&IPCC.Web.UI.FontStyle.Strikeout;function auF(Zn){var h=Math.floor(+(Zn.value));if(!isFinite(h)){h=12;}if(h<0.1){h=0.1;}if(h>288){h=288;}return h;};function yq(){IPCC.Web.UI.af.removeHandler(He,'click',Jo);IPCC.Web.UI.af.removeHandler(KB,'click',Im);IPCC.Web.UI.af.removeHandler(document.body,'mousedown',yu);};function Jo(){G.set_fontName(UH.value);var da=auF(agL);G.set_fontSize(da);var dY=0;if(ahk.checked){dY|=IPCC.Web.UI.FontStyle.Italic;}if(agg.checked){dY|=IPCC.Web.UI.FontStyle.Bold;}if(afU.checked){dY|=IPCC.Web.UI.FontStyle.Underline;}if(ahm.checked){dY|=IPCC.Web.UI.FontStyle.Strikeout;}G.set_fontStyle(dY);yq();document.body.removeChild(hZ);hZ=null;F.cA();};function Im(){yq();document.body.removeChild(hZ);hZ=null;};function yu(aX){if(hZ){var ae=aX.target;var Ju;while(ae!==document.body){if(ae===hZ){Ju=true;}ae=ae.parentNode;}if(!Ju){yq();document.body.removeChild(hZ);hZ=null;}}};IPCC.Web.UI.af.addHandler(He,'click',Jo);IPCC.Web.UI.af.addHandler(KB,'click',Im);IPCC.Web.UI.af.addHandler(document.body,'mousedown',yu);UH.focus();};gx.prototype.aAU=function(T){var G=T.To.mark;switch(T.eE){case IPCC.fc.Fi:G['set_'+T.ao](T.h);this.F.cA();break;case IPCC.fc.OZ:this.aBE(G,T.ao,this.F);break;case IPCC.fc.amq:this.aCb(G,this.F);break;case IPCC.fc.anq:G['set_'+T.ao](!G['get_'+T.ao]());this.F.cA();break;case IPCC.fc.als:G.moveToBack();this.F.cA();break;case IPCC.fc.akK:G.moveBackward();this.F.cA();break;case IPCC.fc.akb:G.moveForward();this.F.cA();break;case IPCC.fc.aly:G.moveToFront();this.F.cA();break;case IPCC.fc.akP:G.removeFromPage();this.F.cA();break;default:this.F.azM(T);break;}};module.exports=gx;},{}],22:[function(require,module,exports){var aR={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fb:function(aM){if(typeof aM==='string'){return aM;}switch(aM){case IPCC.aR.Default:case IPCC.aR.Magnifier:case IPCC.aR.None:case IPCC.aR.RunMarks:return 'auto';case IPCC.aR.Arrow:case IPCC.aR.EditMarks:return 'default';case IPCC.aR.Crosshair:case IPCC.aR.RectangleZoom:case IPCC.aR.AddRectangleMark:case IPCC.aR.AddEllipseMark:case IPCC.aR.AddLineMark:case IPCC.aR.AddFreehandLineMark:case IPCC.aR.AddPolygonMark:case IPCC.aR.AddPolylineMark:case IPCC.aR.AddTextMark:case IPCC.aR.AddRectangleRedactionMark:case IPCC.aR.AddImageStampMark:case IPCC.aR.AddStampMark:return 'crosshair';case IPCC.aR.Link:return 'pointer';case IPCC.aR.HandOpen:case IPCC.aR.HandClosed:case IPCC.aR.Move:return 'move';case IPCC.aR.ResizeN:return 'n-resize';case IPCC.aR.ResizeE:return 'e-resize';case IPCC.aR.ResizeS:return 's-resize';case IPCC.aR.ResizeW:return 'w-resize';case IPCC.aR.ResizeNW:return 'nw-resize';case IPCC.aR.ResizeNE:return 'ne-resize';case IPCC.aR.ResizeSE:return 'se-resize';case IPCC.aR.ResizeSW:return 'sw-resize';case IPCC.aR.Text:return 'text';}return 'auto';}};module.exports=aR;},{}],23:[function(require,module,exports){var ih={qc:function(io,NG){var be,bZ,fo;if(io===null){return 'null';}if(!NG){NG=0;}be=typeof(io);if(be==='undefined'){return 'undefined';}else if(be==='number'||be==='boolean'){return io.toString();}else if(be==='string'){return '\''+io+'\'';}else if(be==='function'){return 'function';}else{if(NG<0){return 'io';}bZ='{';for(fo in io){if(io.hasOwnProperty(fo)){if(bZ.length>2){bZ+=', ';}bZ+=fo;bZ+=': ';bZ+=IPCC.ih.qc(io[fo],NG-1);}}bZ+='}';return bZ;}},KJ:function(bF){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bF+'\n';}},aGJ:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},mn:function(kr,Jv,an,BH,AE){var bF="PCC Controls - ";bF+=(BH)?BH:" ";bF+=" parent Div id = ";bF+=(AE)?AE:" ";if(Jv){switch(Jv){case 0:bF+=" FunctionCall ";break;case 1:bF+=" Exception ";break;case 2:bF+=" Custom ";break;case 3:bF+=" UserAction ";break;case 4:bF+=" Warning ";break;default:bF+=" unknown ";}}bF+=" - "+kr;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bF);}if(window.console&&window.console.log){window.console.log(bF);}if(window.opera){window.opera.postError(bF);}if(window.debugService){window.debugService.trace(bF);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bF+'\n';}var Qq;try{Qq=onPCCItemLogged;}catch(ex){}if(Qq&&(typeof(Qq)).toLowerCase()==='function'){var ci=new IPCC.Web.UI.LogItemEventArgs();ci.message=kr;ci.cause=Jv;ci.level=an;ci.id=AE;Qq(ci);}}};module.exports=ih;},{}],24:[function(require,module,exports){var ma=function(){this.aC=false;this.F=false;};ma.prototype.nf=function(F){this.F=F;this.F.aej(true);this.as=F.aa();};ma.prototype.eN=function(){if(arguments[0]){if(arguments[0]===true){this.F=false;return;}}this.F.aej(false);this.F=false;};ma.prototype.aQ=function(){if(this.aC){this.F.Dq(true);this.as.nD();this.aC=false;this.F.cA();}};ma.prototype.AF=function(T){this.aQ();var G=T.mark;if(G&&G.iq()===IPCC.Web.UI.MarkType.Text){this.F.xa(G);this.F.cA();}};ma.prototype.lw=function(T){this.aQ();var ja=T.domEvent;if(ja.button===0){var cT=ja.target;this.dM=cT.ImGearMarkHandle;if(this.dM){this.tU=this.dM.be;this.nX=this.dM.ba;}else{this.tU=null;this.nX=null;}while(!(cT.ImGearMarkRelation)&&cT.parentNode&&cT!==document.body){cT=cT.parentNode;}this.J=cT.ImGearMarkRelation;if(this.J){this.G=this.J.G;}else{this.G=null;}this.aC=true;this.KG=T.imagePoint;this.BK=T.imagePoint;var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!ja.shiftKey){this.F.ea().yO().removeAllMarks();}this.as.Et(T.imagePoint);}else{var hC,R;switch(this.tU){case IPCC.dK.dI.prototype.YS:this.ik=G.eB();this.Ya=Math.abs(this.ik.width);this.FD=Math.abs(this.ik.height);hC={x:this.ik.x,y:this.ik.y};this.Ma={x:this.ik.x+this.ik.width,y:this.ik.y+this.ik.height};if(this.nX>0&&this.nX<3){hC.x+=this.ik.width;this.Ma.x-=this.ik.width;}if(this.nX>1){hC.y+=this.ik.height;this.Ma.y-=this.ik.height;}this.aHl=hC;break;case IPCC.dK.dI.prototype.Yf:R=G.eB();this.ik=R;hC={x:R.x+R.width/2,y:R.y+R.height/2};switch(this.nX){case 0:this.zE=R.y+R.height;hC.y=R.y;break;case 1:this.zE=R.x;hC.x=R.x+R.width;break;case 2:this.zE=R.y;hC.y=R.y+R.height;break;case 3:this.zE=R.x+R.width;hC.x=R.x;break;}break;case IPCC.dK.dI.prototype.GY:this.ar=G.ou();if(this.nX<0||this.nX>this.ar.en()){this.aQ();}hC=this.ar.getPoint(this.nX);break;case IPCC.dK.dI.prototype.Ib:break;case IPCC.dK.dI.prototype.WT:R=G.eB();hC={x:R.x+G.lN.x,y:R.y+G.lN.y};break;default:var wh=G.get_selected();if(ja.ctrlKey||ja.shiftKey){wh= !wh;G.set_selected(wh);}else{if(!wh){wh=true;this.F.ea().yO().removeAllMarks();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var C=0;C<this.F.ea().get_markCount();C++){var QG=this.F.ea().getMark(C);if(QG.iq()===608&&QG.bq===G.bq){QG.set_selected(wh);}}}else{G.set_selected(wh);}}}if(!wh){this.aQ();}break;}if(this.aC&&hC){this.apq=hC.x-this.KG.x;this.aoh=hC.y-this.KG.y;if(this.dM){this.as.aCt(this.dM.aM);}}}if(this.aC){this.F.Dq(false);}}this.F.cA();};ma.prototype.kL=function(T){var ja=T.domEvent;var BK;function apD(aEF){aEF.Jq(T.imagePoint.x-BK.x,T.imagePoint.y-BK.y);};if(ja.button!==0){this.aQ();}if(this.aC){var G=this.G;if(!G||G.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.as.zy(T.imagePoint);}else{var hC={x:T.imagePoint.x+this.apq,y:T.imagePoint.y+this.aoh};var R;switch(this.tU){case IPCC.dK.dI.prototype.YS:var qE={x:hC.x,y:hC.y};var kl={x:this.Ma.x,y:this.Ma.y};if(ja.ctrlKey){kl.x=this.ik.x+this.ik.width/2;kl.y=this.ik.y+this.ik.height/2;}if(ja.shiftKey){var rv=Math.abs(qE.x-kl.x);var rU=Math.abs(qE.y-kl.y);if(rv*this.FD<rU*this.Ya){if(this.FD>0.001){rv=rU*this.Ya/this.FD;}}else{if(this.FD>0.001){rU=rv*this.FD/this.Ya;}}if(qE.x<kl.x){rv= -rv;}if(qE.y<kl.y){rU= -rU;}qE.x=kl.x+rv;qE.y=kl.y+rU;}if(ja.ctrlKey){kl={x:kl.x-(qE.x-kl.x),y:kl.y-(qE.y-kl.y)};}R={};R.x=Math.min(kl.x,qE.x);R.width=Math.max(kl.x,qE.x)-R.x;R.y=Math.min(kl.y,qE.y);R.height=Math.max(kl.y,qE.y)-R.y;G.set_rectangle(R);break;case IPCC.dK.dI.prototype.Yf:R=G.eB();var Bf;if(this.nX&1){if(ja.ctrlKey){Bf=this.ik.x+this.ik.width/2;R.width=Math.abs(hC.x-Bf)*2;R.x=Bf-R.width/2;}else{R.x=Math.min(hC.x,this.zE);R.width=Math.max(hC.x,this.zE)-R.x;}}else{if(ja.ctrlKey){Bf=this.ik.y+this.ik.height/2;R.height=Math.abs(hC.y-Bf)*2;R.y=Bf-R.height/2;}else{R.y=Math.min(hC.y,this.zE);R.height=Math.max(hC.y,this.zE)-R.y;}}G.set_rectangle(R);break;case IPCC.dK.dI.prototype.GY:this.ar=G.ou();hC=this.ar.setPoint(this.nX,hC);break;case IPCC.dK.dI.prototype.Ib:break;case IPCC.dK.dI.prototype.WT:R=G.eB();G.set_calloutPoint({x:hC.x-R.x,y:hC.y-R.y});break;default:BK=this.BK;this.BK=T.imagePoint;this.F.ea().yO().jK(apD);break;}}this.F.cA();}};ma.prototype.kj=function(){function auf(G){var Fl=G.agW();if(adA.contains(Fl)&&adA.contains({x:Fl.x+Fl.width,y:Fl.y+Fl.height})){G.set_selected(true);}};if(this.aC){if(!this.G){var adA=this.as.vX();this.F.ea().Dn(auf);this.as.nD();}this.aQ();}};ma.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};ma.prototype.mL=function(){this.aQ();};module.exports=ma;},{}],25:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var Nd=function(){return this;};Nd.registerClass=cQ;Nd.prototype={};Nd.registerClass('IPCC.ExceptionEventArgs');module.exports=Nd;},{"./IPCC.Util":29}],26:[function(require,module,exports){var fl=require('./IPCC.Util').regEnum;var oW=function(){};oW.registerEnum=fl;oW.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};oW.registerEnum('IPCC.FitType',false);module.exports=oW;},{"./IPCC.Util":29}],27:[function(require,module,exports){var wt=function(){function CK(){return Math.floor((Math.random()*10)).toString();};var hI=new Date();return CK()+CK()+'_'+hI.getTime()+"_"+CK()+CK()+CK()+CK();};module.exports=wt;},{}],28:[function(require,module,exports){var oB=function(){this.aC=false;this.F=false;};oB.prototype.nf=function(F){this.F=F;};oB.prototype.eN=function(){this.F=false;};oB.prototype.aQ=function(){if(this.aC){this.aC=false;}};oB.prototype.qU=function(){this.aQ();};oB.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){this.aC=true;this.KG=T.imagePoint;}};oB.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){var F=this.F;var as=F.aa();var aW=as.eR();var bS=F.dV();aW.VA(this.KG,T.windowPoint);aW.lB(F.du(),bS);F.bg('userModifiedViewState',{});as.iF(aW);F.cA();}};oB.prototype.kj=function(){this.aQ();};oB.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};oB.prototype.mL=function(){this.aQ();};module.exports=oB;},{}],29:[function(require,module,exports){var K={};K.XY=(function(){var jT={};var zw=[];jT.get=function aFM(pR){if(zw.length===0){return;}for(var i=0;i<pR.length;i++){if(zw[i]&&zw[i].pR===pR){return zw[i].iS;}}};jT.set=function aHo(pR,iS){zw.push({pR:pR,iS:iS});if(zw.length>10){zw.shift();}};jT.contains=function jA(pR){return jT.get(pR)!==undefined;};jT.cacheReponse=function aGE(pR,iS){if(iS.readyState===4){jT.set(pR,iS);}else{var aAT=iS.onreadystatechange;iS.onreadystatechange=function(){if(iS.readyState===XMLHttpRequest.DONE&&iS.status===200){jT.set(pR,iS);}aAT();};}};return jT;})();K.ZS=false;K.aqF=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();K.MF=(function(){var MF=false;var sF=navigator.userAgent,Yj=((sF.indexOf('Mozilla/5.0')> -1&&sF.indexOf('Android ')> -1&&sF.indexOf('AppleWebKit')> -1)&& !(sF.indexOf('Chrome')> -1)),ady=new RegExp(/AppleWebKit\/([\d.]+)/),ayL=ady.exec(sF),ahW=(ayL===null?null:parseFloat(ady.exec(sF)[1]));MF=Yj&&ahW!==null&&ahW<537;return MF;})();K.azD=(function(){var ahl=false;var sF=navigator.userAgent,Yj=/Android/i.test(sF),aAV=/iPhone|iPad|iPod/i.test(sF),aAp=/IEMobile/i.test(sF);ahl=(Yj||aAV||aAp);return ahl;})();K.Dj=(function(){var Dj=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Dj=true;}return Dj;})();K.Xt=(function(){var auq=navigator.userAgent;if(document.documentMode===10||K.MF){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(auq)&& !K.azD){return 'svga';}else{return 'svgb';}})();K.Cb=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();K.BG=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();K.GN=K.BG||(function(){return('ontouchstart'in document.documentElement);})();K.azB=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();K.aiE=function(){return K.atJ.btoa((Math.random().toString(36).slice(-4))+'_'+K.vp(new Date())+'_'+(Math.random().toString(36).slice(-6)));};K.inArray=function(cS,dB){for(var i=0,l=cS.length;i<l;i++){if(cS[i]===dB){return true;}}return false;};K.forEach=function(by,bA,dA){var rc=[].forEach,ayE=Object.prototype.hasOwnProperty;if(rc&&by.forEach===rc){bA&&by.forEach(bA,dA);}else if(by.length=== +by.length){for(var i=0,length=by.length;i<length;i++){bA&&bA.call(dA,by[i],i,by);}}else{for(var ao in by){if(ayE.call(by,ao)){bA&&bA.call(dA,by[ao],ao,by);}}}};K.map=function(cS,bA,dA){var rc=[].map,ug=[];if(rc&&cS.map===rc){ug=cS.map(bA,dA);}else{K.forEach(cS,function(el,i){ug.push(bA.call(dA,el,i,cS));});}return ug;};K.filter=function(cS,bA,dA){var rc=[].filter,ug=[],aeE=false;if(rc&&cS.filter===rc){ug=cS.filter(bA,dA);}else{K.forEach(cS,function(aO,i){aeE=bA.call(dA,aO,i,cS);if(aeE){ug.push(aO);}});}return ug;};K.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};K.remove=function(cS,bA,dA){var ZI=[];var auB=K.filter(cS,bA,dA);K.forEach(auB,function(dB){var ba=K.indexOf(cS,dB);if(ba=== -1){return;}ZI=ZI.concat(cS.splice(ba,1));});return ZI;};K.keys=function(by){if(Object&&Object.keys){return Object.keys(by);}else{var mH=[];for(var C in by){if(by.hasOwnProperty&&by.hasOwnProperty(C)){mH.push(C);}}return mH;}};K.indexOf=function(cS,acs,ahD){if(Array.prototype.indexOf){return cS.indexOf(acs,ahD);}var k;if(cS==null){throw new TypeError('"cS" is null or not defined');}var O=Object(cS);var len=O.length>>>0;if(len===0){return-1;}var n= +ahD||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===acs){return k;}k++;}return-1;};K.reduce=function(cS,bA,ek,dA){var rc=[].reduce;var Gh=(arguments.length===2)?undefined:ek;if(rc&&typeof rc==='function'&&cS.reduce===rc&&dA===undefined){if(ek!==undefined){return cS.reduce(bA,ek,dA);}return cS.reduce(bA);}IPCC.K.forEach(cS,function(bP,ab){if(Gh===undefined){Gh=bP;return;}Gh=bA.call(dA,Gh,bP,ab,cS);});return Gh;};K.reduceLeft=function(cS,bA,ek,dA){var ug=cS.reverse();return K.reduce.call(undefined,ug,bA,ek,dA);};K.contains=function(cS,bP){var dQ=cS.length;while(dQ--){if(cS[dQ]===bP){return true;}}return false;};K.auv=function(VR,ahC){if(VR.length!==ahC.length){return false;}for(var i=0,l=VR.length;i<l;i++){if(VR[i]!==ahC[i]){return false;}}return true;};K.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};K.trim=function(bZ){if(String.prototype.trim){return bZ.trim();}return bZ.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};K.getPageFromPoint=function(aY,dc,dA){var aCN=function(gH){return gH.left<=aY&&aY<=gH.right&&gH.top<=dc&&dc<=gH.bottom;};var aBa=function(){return K.filter(dA.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iR){return aCN(iR.getBoundingClientRect());});};if(!dA){dA=document;}return aBa(aY,dc)[0];};K.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};K.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var PN in baseType.prototype){if(baseType.prototype.hasOwnProperty(PN)){var ayM=baseType.prototype[PN];if(!this.prototype[PN]){this.prototype[PN]=ayM;}}}}return this;};K.aeR=function(Xj,Xl,ajF){if(Xl){if(!ajF){Xl.apply(Xj);}else{Xl.apply(Xj,ajF);}}return Xj;};K.alK=function alK(vC,aqz,aeA){var ss;return function(){var dA=this,ci=arguments;var aAH=function(){ss=undefined;if(!aeA){vC.apply(dA,ci);}};var apd=aeA&& !ss;clearTimeout(ss);ss=setTimeout(aAH,aqz);if(apd){vC.apply(dA,ci);}};};K.amn=function amn(aJ,rV){if(aJ.classList){aJ.classList.add(rV);}else{aJ.className+=' '+rV;}};K.agZ=function agZ(aJ,rV){if(aJ.classList){aJ.classList.remove(rV);}else{aJ.className=aJ.className.replace(rV,'');}};K.Wc=function(iH){return{width:iH.width||(iH.right-iH.left),height:iH.height||(iH.bottom-iH.top),top:iH.top,bottom:iH.bottom,left:iH.left,right:iH.right};};K.afr=function(alphabet,size){var DM='';for(var C=0;C<size;C++){DM+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return DM;};K.aFZ=function(){var atS='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aAe='AQgw';return K.afr(atS,21)+K.afr(aAe,1);};K.aiR=function(){var gf={'Accusoft-Gid':K.aFZ(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return gf;};K.pG=function(aI){if(aI instanceof K.pG){return aI;}this.gf=K.reduce(aI.headers||{},function(oT,bP,al){al=al.toLowerCase();if(oT[al]){oT[al]+=', '+bP;}else{oT[al]=bP;}return oT;},{});this.status=aI.status;this.statusText=aI.statusText;this.responseText=aI.responseText;if(typeof aI.responseBody!=='undefined'){this.responseBody=aI.responseBody;}return this;};K.pG.prototype.getResponseHeader=function(Eg){var aI=this.gf[Eg.toLowerCase()];return aI!==undefined?aI:null;};K.nv=(function(){var Ae={};Ae.gf={};Ae.LW=undefined;function agD(aiD){var gf={};if(!aiD){return gf;}var ajB=aiD.split('\u000d\u000a');for(var C=0,dv=ajB.length;C<dv;C++){var abq=ajB[C];var ba=abq.indexOf('\u003a\u0020');if(ba>0){var al=abq.substring(0,ba);var bP=abq.substring(ba+2);if(gf[al]){gf[al]+=', '+bP;}else{gf[al]=bP;}}}return gf;};Ae.fK=function(aBY){var Aj={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},lb=PCCViewer.Deferred(),ck=lb.getPromise(),si;var aU=K.extend({},Aj,aBY);aU.headers=K.extend({},Ae.gf,aU.headers);if(typeof Ae.LW==='function'){si=Ae.LW(aU);if(typeof si==='object'&&typeof si.then==='function'){si.then(function(ah){lb.resolve(ah);},function(ah){lb.reject(ah);});return ck;}}if(aU.cache&&K.XY.contains(aU.url)){var iS=K.XY.get(aU.url);var aI,tQ={};tQ={status:iS.status,headers:agD(iS.getAllResponseHeaders())};try{tQ.responseText=iS.responseText;}catch(e){}if(typeof iS.responseBody!=='undefined'){tQ.responseBody=iS.responseBody;}aI=new K.pG(tQ);if(iS.status>=200&&iS.status<300||status===304){lb.resolve(aI);}else{lb.reject({response:aI,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iS.status+" "+iS.statusText)});}return ck;}var jz,ss;try{jz=new XMLHttpRequest();}catch(e){lb.reject(new PCCViewer.Error("Error",e.message));}if(jz){jz.open(aU.method,aU.url,true);if(aU.timeout){ss=window.setTimeout(function(){jz.abort();lb.reject({error:new PCCViewer.Error("Error","Request timed out")});},aU.timeout);}jz.onreadystatechange=function(){var aI,tQ={};if(jz.readyState===4){if(ss){window.clearTimeout(ss);}tQ={status:jz.status,headers:agD(jz.getAllResponseHeaders())};try{tQ.responseText=jz.responseText;}catch(e){}if(typeof jz.responseBody!=='undefined'){tQ.responseBody=jz.responseBody;}aI=new K.pG(tQ);if(jz.status>=200&&jz.status<300||status===304){lb.resolve(aI);}else{lb.reject({response:aI,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jz.status+" "+jz.statusText)});}}};var abc=K.extend({},aU.headers,K.aiR());for(var al in abc){if(abc.hasOwnProperty(al)){jz.setRequestHeader(al,abc[al]);}}if(typeof aU.mimeType==='string'&&typeof jz.overrideMimeType==='function'){jz.overrideMimeType(aU.mimeType);}if(aU.cache){K.XY.cacheReponse(aU.url,jz);}jz.send(aU.body);}return ck;};return Ae;})();K.XU=function(hy,iw,eN){var ho=[],rH=null,uq=null,aV;var azA=function(uq,rH){if(!rH){return false;}else{return Math.abs(uq.y-rH.y)<1&&Math.abs(uq.height-rH.height)<1&&uq.x+uq.width>=rH.x+rH.width;}};for(aV=iw;aV<eN+1;aV++){uq=hy.ln(aV).bh;if(azA(uq,rH)){rH.union(uq);}else{rH=uq.clone();ho.push(rH);}}return ho;};K.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};K.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};K.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(ar){var apc=K.map(ar,function(aO){return[aO.x,aO.y];});return d3_svg_lineBasis(apc);};})();K.aFS=function(bZ){if(bZ.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var axy=K.filter(bZ.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aoa=K.map(axy,function(el){var aqP=el.replace(/[a-zA-Z]/g,'|').split('|');return K.map(aqP,function(eE){var aik=eE.split(',');return{x: +aik[0],y: +aik[1]};});});return aoa;};K.ahT=function(bZ,jm,kx,jG,aU){aU.da="12px";var jb=K.um(bZ,jm,aU),wq=12*kx/(jb.width||1),yW=12*jG/(jb.height||1),aor=Math.min(wq,yW);aU.da=aor;return K.ajp(bZ,jm,kx,jG,aU);};K.ajp=function(bZ,jm,kx,jG,aU,Pg){Pg=Pg||1;var lZ={},jb=K.um(bZ,jm,aU),da=aU.da;lZ.width=jb.width;lZ.height=jb.height;lZ.fontSize=da;if(Pg>3){return lZ;}if((jb.width<kx+1)&&(jb.height<jG+1)){return lZ;}else{var wq=da*kx/(jb.width||1),yW=da*jG/(jb.height||1),Bz=Math.min(wq,yW);if(Bz>=aU.da){return lZ;}else{aU.da=Bz;return K.ajp(bZ,jm,kx,jG,aU,Pg+1);}}};K.um=function(bZ,jm,aU){aU=aU||{};if(document.createElementNS){return K.awr(bZ,jm,aU);}else{return K.aiw(bZ,jm,aU);}};K.awr=function(bZ,jm,aU){var svg,alz=false;if(aU.ee){svg=aU.ee;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');alz=true;document.body.appendChild(svg);}var da=aU.da||"12px";if(typeof da==="number"){da=da+"px";}var dj=document.createElementNS("http://www.w3.org/2000/svg","text");K.forEach({x:0,y:0,'font-size':da,'stroke':"none",'fill':"#000000",'font-family':jm},function(value,name){dj.setAttribute(name,value);});if(aU.uR){dj.setAttribute('style','white-space:'+aU.uR);}var nl=document.createTextNode(bZ);dj.appendChild(nl);svg.appendChild(dj);var vu=dj.getBBox(),HV=vu.width,Hy=vu.height;svg.removeChild(dj);if(alz){document.body.removeChild(svg);}if(HV===0&&Hy===0&&bZ!=="M"){return K.um("M",jm,aU);}else{return{width:HV,height:Hy};}};K.aiw=function(bZ,jm,aU){var nl=document.createTextNode(bZ),Ds=document.createElement('div');var da=aU.da||"12px";if(typeof da==="number"){da=da+"px";}K.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:da,fontFamily:jm},function(value,name){Ds.style[name]=value;});if(aU.uR){Ds.style.whiteSpace=aU.uR;}Ds.appendChild(nl);document.body.appendChild(Ds);var vu=Ds.getBoundingClientRect(),HV=vu.width||vu.right-vu.left,Hy=vu.height||vu.bottom-vu.top;document.body.removeChild(Ds);if(HV===0&&Hy===0&&bZ!=="M"){return K.aiw("M",jm,da);}else{return{width:HV,height:Hy};}};K.Zm=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};K.zB=(K.aqF)?{SVG:function SVG(abT){var ee=document.createElementNS("http://www.w3.org/2000/svg","svg");ee.setAttribute('viewBox',abT);return ee;},Path:function Path(pU,fP){var hj=document.createElementNS("http://www.w3.org/2000/svg","path");hj.style.fill='none';hj.style.stroke=fP.color||'#000000';hj.style.strokeWidth=fP.thickness||4;if(pU){hj.setAttribute('d',pU.toString().trim());}return hj;},Rect:function Rect(bd,bU,dY){var bB=document.createElementNS("http://www.w3.org/2000/svg","rect");bB.setAttribute('width',bd||0);bB.setAttribute('height',bU||0);if(dY){bB.setAttribute('style',dY);}return bB;}}:{SVG:function(abT,Nx){var aJ=document.createElement("div");aJ.style.left="0px";aJ.style.top="0px";aJ.style.position="relative";aJ.baseInit=false;aJ.baseX=0;aJ.baseY=0;var azn=aJ.setAttribute;aJ.setAttribute=function(al,h){if(al==="width"){this.style.width=h*(+Nx||1);}else if(al==="height"){this.style.height=h*(+Nx||1);}else if(al==="x"){this.style.left=h;}else if(al==="y"){this.style.top=h;}else if(al==="viewBox"){var ri=h.split(" ");this.style.height= +ri.pop()*(+Nx||1)+'px';this.style.width= +ri.pop()*(+Nx||1)+'px';}else{azn(al,h);}};aJ.setAttribute('viewBox',abT);aJ.setAttribute('data-pcc-mark','signature');return aJ;},Path:function(pU,fP){var aJ=document.createElement("v:shape");aJ.style.width=fP.width*(+fP.multiplier||1);aJ.style.height=fP.height*(+fP.multiplier||1);aJ.coordsize=[fP.width,fP.height].join(', ');aJ.style.position="absolute";aJ.setAttribute=function(al,h){if(al==="d"){var Fr=0;var Gs=0;h=h.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var Lt=h.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var ala="",gg=[];for(var i=0;i<Lt.length;i++){var eE=Lt[i].substring(0,1);var mo=Lt[i].substring(1,Lt[i].length);mo=mo.split(/[, ]/);for(var j=0;j<mo.length;j++){mo[j]=Math.round(mo[j]);}mo=mo.join();switch(eE){case "M":eE="m";gg=mo.split(/[, ]/);Fr=parseInt(gg[0],10);Gs=parseInt(gg[1],10);break;case "m":eE="t";gg=mo.split(/[, ]/);gg[0]=parseInt(gg[0],10)+parseInt(Fr,10);gg[1]=parseInt(gg[1],10)+parseInt(Gs,10);Fr=parseInt(gg[0],10);Gs=parseInt(gg[1],10);break;case "A":eE="ae";var ci=mo.split(/[, ]+/);ci[0]=parseInt(ci[0],10);ci[1]=parseInt(ci[1],10);ci[2]=parseInt(ci[2],10);ci[3]=parseInt(ci[3],10);ci[4]=parseInt(ci[4],10);ci[5]=parseInt(ci[5],10);mo=ci[4]+" "+ci[5]+" "+ci[2]*2+" "+ci[3]*2+" 0 360";break;case "L":eE="l";gg=mo.split(/[, ]+/);Fr=parseInt(gg[0],10);Gs=parseInt(gg[1],10);break;case "l":eE="r";gg=mo.split(/[, ]+/);gg[0]=parseInt(gg[0],10)+parseInt(Fr,10);gg[1]=parseInt(gg[1],10)+parseInt(Gs,10);Fr=parseInt(gg[0],10);Gs=parseInt(gg[1],10);break;case "c":eE="v";break;case "z":eE="xe";mo="";break;default:eE=eE.toLowerCase();}ala+=eE+mo;}this.path=ala;return;}else if(al==="stroke"){this.stroked=(h==="none"?0:1);this.strokecolor=h;return;}else if(al==="stroke-width"){this.strokeweight=parseFloat(h)/1.2+"pt";return;}else if(al==="fill"){this.filled=(h==="none"?0:1);this.fillcolor=h;return;}};if(pU){aJ.setAttribute('d',pU);}aJ.setAttribute('stroke-width',fP.thickness||4);aJ.setAttribute('stroke',fP.color||'#000000');aJ.filled=0;aJ.fillcolor='none';return aJ;},Rect:function(bd,bU){var aJ=document.createElement("v:roundrect");aJ.rxy=0;aJ.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};aJ.setAttribute=function(al,h,aol){if(this.svg2vmlStyle[al]){this.svg2vmlStyle[al]["value"]=h;this.svg2vmlStyle[al]["valueSource"]=(aol||"user");}if(al==="x"){this.style.left=parseInt(h,10)+'px';return;}else if(al==="y"){this.style.top=parseInt(h,10)+'px';return;}else if(al==="stroke"){this.stroked=(h==="none"?0:1);this.strokecolor=h;return;}else if(al==="stroke-width"){this.strokeweight=parseFloat(h)/1.2+"pt";return;}else if(al==="fill"){this.filled=(h==="none"?0:1);this.fillcolor=h;return;}else if(al==="width"||al==="height"||al==="rx"||al==="ry"){if(al==="width"){this.style.width=parseInt(h,10)+'px';}else if(al==="height"){this.style.height=parseInt(h,10)+'px';}else if(al==="rx"||al==="ry"){if(parseInt(h,10)){this.rxy=parseInt(h,10);}}if(this.rxy!==0){var Ir=parseInt(this.style.width,10);var Oo=parseInt(this.style.height,10);if(!Ir){Ir=0;}if(!Oo){Oo=0;}if(Oo<Ir){Ir=Oo;}var LC=this.rxy/Ir;this.arcsize=LC;}else{this.arcsize=0;}return;}};if(bd){aJ.setAttribute('width',bd);}if(bU){aJ.setAttribute('height',bU);}for(var al in aJ.svg2vmlStyle){if((aJ.svg2vmlStyle[al]["value"])&&(aJ.svg2vmlStyle[al]["valueSource"]==="default")){aJ.setAttribute(al,aJ.svg2vmlStyle[al]["value"],"default");}}return aJ;}};K.IZ=function IZ(lY){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(lY);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(lY+' cannot be parsed as an ISO 8601 date.');}};K.vp=function aEW(hI){if(hI.toISOString&&typeof hI.toISOString==='function'){return hI.toISOString();}else if(hI instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return hI.getUTCFullYear()+'-'+pad(hI.getUTCMonth()+1)+'-'+pad(hI.getUTCDate())+'T'+pad(hI.getUTCHours())+':'+pad(hI.getUTCMinutes())+':'+pad(hI.getUTCSeconds())+'.'+(hI.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(hI+' is not a Date object.');}};K.tE=function tE(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};K.Rd=function Rd(o){if(K.tE(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};K.WB=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};K.aiJ=function(bP){bP=String(bP).replace(/[^0-9a-f]/gi,"");if(bP.length<6){bP=bP[0]+bP[0]+bP[1]+bP[1]+bP[2]+bP[2];}var Wx=function(bZ){return parseInt(bZ,16);};var r=Wx(bP.substring(0,2));var g=Wx(bP.substring(2,4));var b=Wx(bP.substring(4,6));return{r:r,g:g,b:b};};K.awK=function(bP){var QW="";var KP=function(n){while(n.length<2){n='0'+n;}return n;};var XL=function(n){return KP(n.toString(16));};QW+=XL(Math.floor(bP.r));QW+=XL(Math.floor(bP.g));QW+=XL(Math.floor(bP.b));return '#'+QW;};K.anG=function(aBK,apG,aCa){var BW=aCa,Tn=K.aiJ(aBK),oU=K.aiJ(apG);oU.r=(1-BW)*oU.r+(Tn.r*BW);oU.g=(1-BW)*oU.g+(Tn.g*BW);oU.b=(1-BW)*oU.b+(Tn.b*BW);oU.r=Math.floor(oU.r);oU.g=Math.floor(oU.g);oU.b=Math.floor(oU.b);return K.awK(oU);};K.ahj=function(apT,vN){var azH=K.reduceLeft(apT,function(ek,dR){if(dR.opacity===undefined){dR.opacity=127;}var aEJ=dR.opacity/255;return K.anG(dR.color,ek,aEJ);},vN);return azH;};K.afm=function(hi){if(hi.length===0){return hi;}var ef=hi.slice(0);ef.sort(function(a,b){return a.startIndex-b.startIndex;});var Ta=null;var jQ=[];var Xg=0,Pe=[];var C=ef[0].startIndex;while(ef.length>0){Xg=0;Pe=null;Pe=[];var aV=0;while(aV<ef.length&&ef[aV].startIndex<=C){if(C<=ef[aV].startIndex+ef[aV].length-1){Xg++;Pe.push(ef[aV]);aV++;}else{ef.splice(aV,1);}}if(Xg>0){var Eq=K.ahj(Pe,'#ffffff');if(Eq===Ta){jQ[jQ.length-1].endIndex=C;}else{jQ.push({startIndex:C,endIndex:C,color:Eq});}Ta=Eq;C++;}else{if(ef.length>0){C=ef[0].startIndex;}Ta=null;}}return jQ;};K.Kw=function(UK){return UK.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};K.ahz=function(bw){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(bw);};K.KP=function(hx,dQ){var bZ=""+hx;while(bZ.length<dQ){bZ='0'+bZ;}return bZ;};K.aHY=function(eO){var hw=eO.getTimezoneOffset();hw=((hw<0?'+':'-')+K.KP(parseInt(Math.abs(hw/60),10),2)+K.KP(Math.abs(hw%60),2));return hw;};K.alj=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];K.Tq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];K.aer=function(VB){var avH=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,ah=avH.exec(VB),aky,Cz,akO,aig,amP,xq,aca;if(!ah){return null;}else{aky=ah[1].toLowerCase();akO=ah[2];aig=ah[3];amP=ah[4];xq=ah[5];aca=ah[6];for(Cz=0;Cz<12;Cz++){if(K.Tq[Cz].toLowerCase()===aky){break;}}if(Cz>=12){return null;}return new Date(Date.UTC(aca,Cz,akO,aig,amP,xq));}};K.ahL=function(eO){return(K.alj[eO.getUTCDay()]+" "+K.Tq[eO.getUTCMonth()]+" "+eO.getUTCDate()+" "+eO.getUTCHours()+':'+eO.getUTCMinutes()+':'+eO.getUTCSeconds()+" "+"GMT+0000 "+eO.getUTCFullYear());};K.axU=function(eO){return(K.alj[eO.getUTCDay()]+" "+K.Tq[eO.getUTCMonth()]+" "+eO.getUTCDate()+" "+eO.getUTCFullYear());};K.axo=function(eO){return(eO.getUTCHours()+':'+eO.getUTCMinutes()+':'+eO.getUTCSeconds()+" "+"GMT+0000");};K.qp=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};K.xv=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};K.atJ=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();K.nI=(function(){var nI=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var aeI={};nI.forEach(function(adY){aeI[adY]='pointer'+adY;});return aeI;}if(window.navigator.msPointerEnabled){var alc={};for(var C=0;C<nI.length;C++){var RU=nI[C];var axg='MSPointer'+RU.charAt(0).toUpperCase()+RU.slice(1);alc[RU]=axg;}return alc;}return{};})();K.vz=(function(){return{zL: ! !navigator.userAgent.match('Edge'),aGU:document.documentMode!==undefined,aHJ:document.documentMode===8,aIi:document.documentMode===9,aId:document.documentMode===10,aGS:document.documentMode===11,aAa:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i))};})();K.QD=(function(nF){if(!nF|| !IPCC.K.trim(nF)){return 'regular';}return IPCC.K.trim(nF).toLowerCase();});K.aGd=function(arg,value){return typeof arg!=='undefined'?arg:value;};K.LG=function(value){return Number(value.replace(/[a-z]+$/,''));};K.Qe=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};K.aif=function(){if(this.pP===undefined){this.pP=document.createTextNode('');}return this.pP;};K.ahS=function(){if(this.de===undefined){this.de=document.createElement('textarea');this.pP=document.createTextNode('');this.de.appendChild(K.pP);this.de.style.position='absolute';this.de.style.overflow='hidden';this.de.style.width='80px';this.de.style.height='80px';this.de.style.resize='none';this.de.style.top='-9999px';this.de.style.left='-9999px';this.de.style.whiteSpace='pre-wrap';this.de.style.border=0;this.de.style.padding='2px';document.body.appendChild(this.de);}return this.de;};K.UV=function(de,EI,aK){var Qz=0.1;var EZ;if(EI===0||EI>aK){EI=aK;}while(Qz<=EI){EZ=(Qz+EI)/2;de.style.fontSize=EZ+'px';if(de.scrollHeight<=de.offsetHeight){Qz=EZ+0.1;}else{EI=EZ-0.1;}}var aho=(EZ-0.5)*0.95;de.style.fontSize=aho+'px';return aho;};K.PE=function(vC,qe,Xp,si){if(vC(qe,Xp)!==Xp){return typeof(si)==='number'?si:Xp;}return qe;};K.OQ=function(qe,axr,si){return K.PE(Math.min,qe,axr,si);};K.Oi=function(qe,ayz,si){return K.PE(Math.max,qe,ayz,si);};module.exports=K;},{}],30:[function(require,module,exports){var xj=require('./Type');xj.registerNamespace('IPCC');module.exports={Pagecounter:1,hX:true,aab:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),pO:require('./predefinedContextMenu'),Xk:require('./indexOf'),NU:require('./setProperties'),aH:require('./PageItem'),wt:require('./GetUniqueID'),Yh:require('./ViewerState'),vA:require('./Configuration'),aR:require('./Cursor'),lc:require('./Res'),av:require('./Validate'),ih:require('./Debug'),fc:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:xj,K:require('./IPCC.Util'),dK:require('./Art'),ko:require('./SelectTextController'),fh:require('./Matrix'),aao:require('./ViewerModel'),gx:require('./ContextMenuController'),eZ:require('./SvgUIDirector'),pb:require('./PropertyChangedEventArgs'),dN:require('./JSON'),ep:require('./Browser'),vZ:require('./StringBuilder'),ct:require('./MultiTouchController'),sk:require('./ImagePyramid'),cv:require('./SingleTouchController'),kE:require('./AddPolyMarkController'),oO:require('./SelectController'),fE:require('./AddRectangularMarkController'),mI:require('./AddFreehandMarkController'),nz:require('./AddLineMarkController'),db:require('./MouseWheelController'),oB:require('./HandPanController'),mc:require('./RectangleZoomController'),qA:require('./MagnifierController'),ma:require('./EditMarksController'),yA:require('./RunMarksController'),EK:require('./Space'),fU:require('./Image'),Sh:require('./ImagePool'),DN:require('./PyramidLevel'),wd:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Browser":19,"./Configuration":20,"./ContextMenuController":21,"./Cursor":22,"./Debug":23,"./EditMarksController":24,"./ExceptionEventArgs":25,"./FitType":26,"./GetUniqueID":27,"./HandPanController":28,"./IPCC.Util":29,"./Image":31,"./ImagePool":32,"./ImagePyramid":33,"./JSON":34,"./MagnifierController":35,"./Matrix":36,"./MenuCommand":37,"./MouseWheelController":38,"./MultiTouchController":39,"./OpenPageEventArgs":40,"./PageEventArgs":41,"./PageItem":42,"./PageLayout":43,"./PageList":44,"./PropertyChangedEventArgs":45,"./PyramidLevel":46,"./PyramidTile":47,"./RectangleZoomController":48,"./Res":49,"./RunMarksController":50,"./ScaleTrigger":51,"./SelectController":52,"./SelectTextController":53,"./SingleTouchController":54,"./Space":55,"./StringBuilder":56,"./SvgUIDirector":57,"./Type":58,"./Validate":59,"./ViewMode":60,"./ViewerModel":61,"./ViewerState":62,"./Web/Web":126,"./indexOf":127,"./initializePageListPlugin":128,"./initializePageViewPlugin":129,"./predefinedContextMenu":130,"./setProperties":131}],31:[function(require,module,exports){var fU=function(mb,bi,bd,bU,hh,hb){IPCC.EK.call(this,0,0,0,0);this.width=bd;this.height=bU;this.hh=hh;this.hb=hb;this.bi=bi||0;this.es=0;this.sA=true;this.atD={};this.zJ=false;var V=this;this.bi=bi;this.get_url=function(gi,eA,ag){eA=eA||'Image';ag=ag||'';var EF=fU.HO(mb);var Ed=false;if(/^[\x00-\x7F]*$/.test(EF)){Ed=true;}if(ag===null||ag===''){if(eA==='Attributes'){var un='';if(!IPCC.vA.Kj()){un='&ContentType=png';}if(!Ed){return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=e'+mb+un;}else{return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=u'+encodeURIComponent(EF)+un;}}else{if(eA==='SvgImage'){if(!Ed){return gi+'/Page/q/'+bi.toString()+'?DocumentID=e'+mb+'&'+ag;}else{return gi+'/Page/q/'+bi.toString()+'?DocumentID=u'+encodeURIComponent(EF)+'&'+ag;}}if(!Ed){return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=e'+mb+'&'+ag;}else{return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=u'+encodeURIComponent(EF)+'&'+ag;}}}else{if(eA==='SvgImage'){if(!Ed){return gi+'/Page/q/'+bi.toString()+'?DocumentID=e'+mb+'&'+ag;}else{return gi+'/Page/q/'+bi.toString()+'?DocumentID=u'+encodeURIComponent(EF)+'&'+ag;}}if(!Ed){return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=e'+mb+'&'+ag;}else{return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=u'+encodeURIComponent(EF)+'&'+ag;}}};this.get_urlArt=function(gi,eA,ag){eA=eA||'Art';ag=ag||'';if(ag===null||ag===''){if(eA==='Art'){return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=e'+mb;}}else{return gi+'/Page/q/'+bi.toString()+'/'+eA+'?DocumentID=e'+mb+'&'+ag;}};this.get_identifier=function(){return IPCC.fU.HO(mb);};this.get_encodedIdentifier=function(){return mb;};this.toString=function(){return 'Image("'+mb+'", '+this.bi+', '+this.width+' x '+this.height+', '+this.hh+', '+this.hb+')';};function amf(aqS,F){if(F.aaa()){V.sA=true;V.zJ=false;return;}var Uk=aqS.split(',');var mB=false;for(var bu=0;bu<Uk.length;bu++){if(Uk[bu]==="SVG"||Uk[bu]==="svg"){if(IPCC.vA.Kj()){V.zJ=true;V.sA=false;}else{V.zJ=false;}mB=true;break;}}if(!mB){V.zJ=false;V.sA=true;}if(F){if(F.Pq){F.Pq(V.zJ);}}};this.TX=function(gi,F,zo){F.bi=this.bi;var mq=0;var nb=F.xh();if(nb){if(document.documentMode<9){nb=false;}}var rw=true;if(F.jJ()===0){rw=false;}var qH=function(fL,aI){try{if(fL===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fL.errorCode){if(fL.errorCode==='SvgNotAvailable'){nb=false;V.width= +(fL.pageAttributes.imageWidth);V.height= +(fL.pageAttributes.imageHeight);V.hh= +(fL.pageAttributes.imageXResolution);if(V.hh<=0){V.hh=72;}V.hb= +(fL.pageAttributes.imageYResolution);if(V.hb<=0){V.hb=72;}V.es= +(fL.pageAttributes.pageCount);V.sA=fL.pageAttributes.isRaster!=='false';amf(fL.pageAttributes.contentType,F);}}else{V.width= +(fL.imageWidth);V.height= +(fL.imageHeight);V.hh= +(fL.imageXResolution);if(V.hh<=0){V.hh=72;}V.hb= +(fL.imageYResolution);if(V.hb<=0){V.hb=72;}V.es= +(fL.pageCount);V.sA=fL.isRaster!=='false';amf(fL.contentType,F);}var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");var FF=false;if(pr==="true"){FF=true;}F.aeV(FF);if(zo){zo();}}catch(e){F.bz('openPage',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};function Le(){nb=false;if(mq<1){var gl={method:'GET',url:V.get_url(gi,'Attributes'),headers:{'Content-Type':'application/json'}};if(rw===true){gl.timeout=F.jJ();}IPCC.K.nv.fK(gl).then(dS,ew);mq++;}};var ayU=function(fp,aI){var bd;var bU;function asI(){var MH;try{if(typeof JSON!=='undefined'){MH=JSON.parse(fp);}else{MH=IPCC.dN.qb(fp);}}catch(aX){MH=undefined;nb=true;}return MH;};try{bd=fp.match(/width=\"([0-9.]+)\"/);bU=fp.match(/height=\"([0-9.]+)\"/);if(bd&&bU){bd=Number(bd[1]);bU=Number(bU[1]);}else{throw "error";}if(isNaN(bd)||isNaN(bU)){throw "error";}V.width=bd;V.height=bU;V.hh=72;V.hb=72;V.zJ=true;V.sA=false;if(F){if(typeof(F.Pq==='function')){F.Pq(V.zJ);}}if(zo){zo();}}catch(e){var ah=asI();if(ah){qH(ah,aI);return;}if(nb){if(mq<1){nb=false;setTimeout(Le,10);return;}}F.bz('openPage',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};function dS(aI){var ah=null,cG;try{if(!nb){if(typeof JSON!=='undefined'){ah=JSON.parse(aI.responseText);}else{ah=IPCC.dN.qb(aI.responseText);}qH(ah,aI);}else{var mZ;var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");if(pr==='true'&&F.jh()===true){var uk=IPCC.Web.gn.qL.vb(aI.getResponseHeader("Accusoft-Data-SK"));var al=IPCC.Web.GU(uk,jE);var fG=IPCC.Web.HH(aI);var uF=IPCC.Web.DZ(fG,al,jE);mZ=IPCC.Web.gn.Kd.oc(uF);}else{mZ=aI.responseText;}var Vq;if(mZ.length>=1000){Vq=mZ.substring(0,1000);}else{Vq=mZ.substring(0,mZ.length);}ayU(Vq,aI);}}catch(ex){if(nb){nb=false;if(mq<1){setTimeout(Le,10);return;}}cG="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cG);}};function ew(ah){try{var cG,me,mN;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Client timed out on load");}if(ah.response.status===403){mq++;if(ah.response.statusText&&ah.response.statusText!==""){cG="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{cG="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,cG);}if(nb){nb=false;if(mq<1){setTimeout(Le,10);return;}}mN=ah.response.getResponseHeader('Accusoft-Status-Message');if(mN){var rD;me=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vS(me)){rD=parseInt(me,10);}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,mN,rD);}else{if(ah.response.statusText&&ah.response.statusText!==""){cG="Error message from the service: "+ah.response.statusText;}else{cG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,cG);}}catch(e){if(nb){nb=false;if(mq<1){setTimeout(Le,10);return;}}F.bz('openPage',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};var jE=IPCC.Web.FP.ajq(4,IPCC.Web.OK());var qX=IPCC.Web.gn.HF.oc(jE);var gl={method:'GET',cache:true};if(!nb){gl.url=this.get_url(gi,'Attributes');gl.headers={'Content-Type':'application/json'};}else{var bw;if(F.jh()===true){jE=IPCC.Web.FP.Yt(4,IPCC.Web.OK());qX=IPCC.Web.gn.HF.oc(jE);bw=this.get_url(gi,'SvgImage','Scale=1&ContentType='+IPCC.K.Xt+'&iv='+qX);}else{bw=this.get_url(gi,'SvgImage','Scale=1&ContentType='+IPCC.K.Xt);}gl.url=bw;}IPCC.K.nv.fK(gl).then(dS,ew);};this.aFz=function(gi,F,zo){F.bi=this.bi;var mq=0;var rw=true;if(F.jJ()===0){rw=false;}var qH=function(fL,aI){try{if(fL===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}V.width= +(fL.imageWidth);V.height= +(fL.imageHeight);V.hh= +(fL.imageXResolution);if(V.hh<=0){V.hh=72;}V.hb= +(fL.imageYResolution);if(V.hb<=0){V.hb=72;}V.es= +(fL.pageCount);V.sA=true;var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");var FF=false;if(pr==="true"){FF=true;}F.aeV(FF);if(zo){zo();}}catch(e){F.bz('openPage',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};function dS(aI){try{var hc=aI.status,ah,cG;if(hc===200){ah=null;try{if(typeof JSON!=='undefined'){ah=JSON.parse(aI.responseText);}else{ah=IPCC.dN.qb(aI.responseText);}qH(ah,aI);}catch(ex){cG="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cG);}}}catch(e){F.bz('openPageForRaster',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};function ew(ah){try{var hc=ah.response.status,cG,mN,me;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(hc,"Client timed out on load");}if(hc===403){mq++;if(ah.response.statusText&&ah.response.statusText!==""){cG="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{cG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}mN=ah.response.getResponseHeader('Accusoft-Status-Message');if(mN){var rD;me=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vS(me)){rD=parseInt(me,10);}throw new IPCC.Web.UI.ImGearHttpException(hc,mN,rD);}else{if(ah.response.statusText&&ah.response.statusText!==""){cG="Error message from the service: "+ah.response.statusText;}else{cG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}}catch(e){F.bz('openPageForRaster',e);if(typeof(F.bg)==='function'){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};var adx={method:'GET',url:this.get_url(gi,'Attributes'),headers:{'Content-Type':'application/json'}};if(rw===true){adx.timeout=F.jJ();}IPCC.K.nv.fK(adx).then(dS,ew);};return this;};fU.prototype.clone=function(){var Rx=new fU(this.get_encodedIdentifier(),this.bi,this.width,this.height,this.hh,this.hb);Rx.es=this.es;Rx.sA=this.sA;return Rx;};fU.prototype.equals=function(h){if(this.get_encodedIdentifier()!==h.get_encodedIdentifier()){return false;}if(this.bi!==h.bi){return false;}return true;};fU.prototype.rO=8;fU.prototype.tw=0.000001;fU.akk=function(ag){var FK=ag.referenceDocumentIdentifier;var adP=fU.sD(FK);var gV=ag.encodedDocumentIdentifier;var kQ=ag.documentIdentifier;var fs;if(gV===''){gV=undefined;}if(kQ===''){kQ=undefined;}if(FK&&FK!==''){if(gV===adP){gV=undefined;}if(kQ===FK){kQ=undefined;}}if(kQ){fs=IPCC.fU.sD(kQ);if(gV){if(gV!==fs){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gV=fs;}}else{if(gV){kQ=IPCC.fU.HO(gV);}}if(!gV){kQ=FK;gV=adP;}var aw=ag.pageNumber;var abZ=ag.referencePageNumber;if(aw===abZ){aw=undefined;}if(aw!==0&& !aw){aw=abZ;}ag.encodedDocumentIdentifier=gV;ag.documentIdentifier=kQ;ag.pageNumber=aw;};fU.sD=function(je){if(!je||je===''){return '';}var mu=[];var C;for(C=0;C<je.length;C++){mu.push(je.charCodeAt(C)%256);mu.push(Math.floor(je.charCodeAt(C)/256));}mu.push(0);mu.push(0);var Ld='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var nS=[],sT;for(C=0;C<mu.length-1;C+=3){sT=mu[C]*0x10000+mu[C+1]*0x100+mu[C+2];nS.push(Ld.charAt(Math.floor(sT/0x40000)));nS.push(Ld.charAt(Math.floor(sT/0x1000)%0x40));nS.push(Ld.charAt(Math.floor(sT/0x40)%0x40));nS.push(Ld.charAt(sT%0x40));}var UQ=Math.ceil(je.length*16/6);while(nS.length>UQ){nS.pop();}if((nS.length%4)===3){nS.push('1');}else if((nS.length%4)===2){nS.push('2');}else if((nS.length%4)===0){nS.push('0');}return nS.join('');};fU.HO=function(mb){if(!mb||mb===''){return '';}var akf=mb.length-1;var Sa=[],sT;var pz,mu=[],ny=[];var C;for(C=0;C<akf;C++){pz=mb.charCodeAt(C);if(pz>64&&pz<91){ny.push(pz-65);}else if(pz>96&&pz<123){ny.push(pz-97+26);}else if(pz>47&&pz<58){ny.push(pz-48+52);}else if(pz===45){ny.push(62);}else if(pz===95){ny.push(63);}else{return '';}}ny.push(0);ny.push(0);ny.push(0);for(C=0;C<ny.length-3;C+=4){sT=ny[C]*0x40000+ny[C+1]*0x1000+ny[C+2]*0x40+ny[C+3];mu.push(Math.floor(sT/0x10000));mu.push(Math.floor(sT/0x100)%256);mu.push(sT%256);}for(C=0;C<mu.length-1;C+=2){Sa.push(String.fromCharCode(mu[C]+mu[C+1]*0x100));}var UQ=Math.floor(akf*6/16);while(Sa.length>UQ){Sa.pop();}return Sa.join('');};module.exports=fU;},{}],32:[function(require,module,exports){var Sh=function(){this.dh=[];this.parentElementID='';this.lockTile=function(ej){var dB,C,Wq,UG;if(this.WO(ej)){return;}Wq=0;for(C=this.dh.length-1;C>=0;C--){if(!(this.dh[C].locked)){Wq++;UG=C;}}if(Wq>4){dB=this.dh[UG];this.uiDirector.akH(dB);this.dh.splice(UG,1);}dB=new axb();dB.pool=this;this.uiDirector.atR(dB);this.dh.push(dB);dB.locked=true;dB.tile=ej;ej.poolItem=dB;return;};this.WO=function(ej){var dB,C;if(this.locked){return true;}for(C=0;C<this.dh.length;C++){if(this.dh[C].tile===ej){dB=this.dh[C];dB.locked=true;ej.poolItem=dB;return true;}}return false;};this.abA=function(ej){var iM,C;iM=ej.poolItem;if(iM!==undefined&&iM.locked){this.uiDirector.avB(iM);iM.locked=false;ej.poolItem=undefined;for(C=0;C<this.dh.length;C++){if(this.dh[C]===iM){this.dh.splice(C,1);this.dh.push(iM);return;}}}};return this;};Sh.prototype.anI=function(){var C;for(C=0;C<this.dh.length;C++){if(!this.dh[C].locked){this.uiDirector.akH(this.dh[C]);}}};var axb=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Sh;},{}],33:[function(require,module,exports){var sk=function(){this.fr=[];return this;};sk.prototype.aFc=function(dP,dJ){var cV=dP.nM();var C,nh,pe;var cu=1;var LC;var vy=[];var tq=[];var wU=[];var CQ,Ps;pe=this.fr.length;for(C=0;C<this.fr.length;C++){if(this.fr[C].cV>cV){pe=C;break;}}nh=pe-1;if(nh<0){nh=0;}if(pe>=this.fr.length){pe=this.fr.length-1;}if(nh!==pe){LC=(cV-this.fr[nh].cV)/(this.fr[pe].cV-this.fr[nh].cV);cu=LC*1.0;if(cu>=0.15){cu=1;nh=pe;}if(cu<=0.15){cu=1;pe=nh;}}tq=this.fr[nh].PS(dJ);wU=this.fr[pe].PS(dJ);var Lf=function(mt){var C;for(C=0;C<mt.length;C++){mt[C].level.pool.WO(mt[C]);}};var YJ=function(mt){var ajP=[];var C;for(C=0;C<mt.length;C++){if(!mt[C].get_isLockedAndLoaded()){ajP.push(mt[C]);}}return ajP;};var aiI=function(mt){var agw=[];var C;for(C=0;C<mt.length;C++){if(mt[C].get_isLockedAndLoaded()){agw.push(mt[C]);}}return agw;};if(nh>0&&nh===pe&&this.fr[pe].tiles.length>1){nh=pe-1;tq=this.fr[nh].PS(dJ);}Lf(tq);vy=YJ(tq);if(vy.length>0){for(CQ=nh-1;CQ>=0;CQ--){Ps=this.fr[CQ].PS(dJ);Lf(Ps);if(YJ(Ps).length<1){break;}}if(CQ<0){tq=aiI(tq);}else{nh=CQ;tq=Ps;cu=1;}}else{Lf(wU);vy=YJ(wU);}Lf(wU);wU=aiI(wU);if(vy.length>3){vy.splice(3,vy.length-3);}function arx(){var ah;function Yp(CL){var ah='',C,an;if(CL.length<1){return '';}an=CL[0].level;ah+='level '+an.id.toString()+' - ';for(C=0;C<CL.length;C++){if(C>0){ah+=', ';}ah+='('+(CL[C].x/an.lV).toString()+','+(CL[C].y/an.Bb).toString()+')';if(CL[C].get_isLockedAndLoaded()){ah+='*';}}return ah;};ah='tilesToRequest: '+Yp(vy)+'<br/>';ah+='opaqueTiles: '+Yp(tq)+'<br/>';ah+='translucentTiles: '+Yp(wU)+'<br/>';ah+='opacity: '+cu.toString()+'<br/>';ah+='anK: '+cV.toString()+'<br/>';ah+='dP: '+dP.toString()+'<br/>';return ah;};return{opaqueTiles:tq,translucentTiles:wU,opacity:cu,tilesToRequest:vy,toString:arx,anK:cV,dP:dP.toString()};};sk.prototype.axq=function(oC){var Er=[];var sz=[];var C,j;var an,tile;for(C=0;C<this.fr.length;C++){an=this.fr[C];for(j=0;j<an.tiles.length;j++){tile=an.tiles[j];if(tile.poolItem!==undefined){Er.push(tile);}}}var aiU=function(VH,ajR){var C,j,Xd,XT;for(C=0;C<ajR.length;C++){Xd=ajR[C];XT=true;for(j=0;j<VH.length;j++){if(Xd===VH[j]){XT=false;break;}}if(XT){VH.push(Xd);}}};sz=oC.tilesToRequest.concat();aiU(sz,oC.opaqueTiles);aiU(sz,oC.translucentTiles);for(C=Er.length-1;C>=0;C--){var aoJ=Er[C];for(j=0;j<sz.length;j++){if(sz[j]===aoJ){Er.splice(C,1);break;}}}for(C=0;C<Er.length;C++){Er[C].unlock();}for(C=0;C<sz.length;C++){sz[C].relock();}for(C=0;C<sz.length;C++){if(sz[C].poolItem===undefined){sz[C].lock();}}};sk.prototype.unlockAllItems=function(){var C,j,an;for(C=0;C<this.fr.length;C++){an=this.fr[C];for(j=0;j<an.tiles.length;j++){if(an.tiles[j].poolItem!==undefined){an.pool.abA(an.tiles[j]);}}}};sk.prototype.aFJ=function(){var C;for(C=0;C<this.fr.length;C++){this.fr[C].pool.anI();}};sk.prototype.toString=function(){var ah='',C,j,an;for(C=0;C<this.fr.length;C++){an=this.fr[C];ah+='Level '+C.toString()+':   scaleFactor='+an.cV.toString()+'  image='+an.width.toString()+'x'+an.height.toString()+'  tile='+an.lV.toString()+'x'+an.Bb.toString()+'\n';for(j=0;j<an.tiles.length;j++){if(j>0){ah+=', ';}ah+='('+an.tiles[j].x.toString()+', '+an.tiles[j].y.toString()+')';}ah+='\n';}return ah;};sk.prototype.expandTile=function(ej,XI,XD,afF,aeQ,an){ej.x=IPCC.K.OQ(XI-ej.wo,0,XI,XI-ej.wo);ej.y=IPCC.K.OQ(XD-ej.vQ,0,XD,XD-ej.vQ);ej.bd=IPCC.K.Oi(afF+(2*ej.wo),an.width,afF);ej.bU=IPCC.K.Oi(aeQ+(2*ej.vQ),an.height,aeQ);if(ej.x+ej.bd>an.width){ej.x=ej.x-ej.wo;ej.bd=an.width-ej.x;ej.wo=0;}if(ej.y+ej.bU>an.height){ej.y=ej.y-ej.vQ;ej.vQ=0;ej.bU=an.height-ej.y;}return ej;};sk.prototype.createPyramid=function(ka,F){var ayC=6000000;var alH=5000;var lV=1024;var ayr=lV*lV*3*150;var acj=0.5;var axk=2;var bM=F.du();var Co=bM.width*bM.height*3;var yT;var an;var cV;var C;var aY,dc;var tile;var FY,Fp;this.fr=[];if(bM.sA){cV=1.0;yT=Co*cV*cV;while(this.fr.length<axk||yT>alH){an=new IPCC.DN();an.cV=cV;this.fr.unshift(an);cV*=acj;yT=Co*cV*cV;}}else{if(F.od()===true){Co=bM.width*bM.height;}cV=Math.sqrt(alH/Co);var aDb=cV*bM.hh;cV=Math.ceil(aDb)/bM.hh;yT=Co*cV*cV;if(F.od()===false){while(yT<ayr){an=new IPCC.DN();an.cV=cV;this.fr.push(an);cV/=acj;yT=Co*cV*cV;}}else{an=new IPCC.DN();an.cV=1;this.fr.push(an);}}bM.rO=this.fr[this.fr.length-1].cV*8;for(C=0;C<this.fr.length;C++){an=this.fr[C];an.Rc=85;if(C===this.fr.length-1){an.Rc=100;}an.pyramid=this;an.id=C;an.pool=new IPCC.Sh();an.pool.uiDirector=ka;yT=Co*an.cV*an.cV;an.width=Math.round(bM.width*an.cV);an.height=Math.round(bM.height*an.cV);an.lV=an.width;an.Bb=an.height;if(C>2&&C>this.fr.length-2){an.lV=Math.min(lV/2,an.width);an.Bb=Math.min(lV/2,an.height);}if(yT>ayC){an.lV=Math.min(lV,an.width);an.Bb=Math.min(lV,an.height);}an.tiles=[];FY=an.lV;for(aY=0;aY<an.width;aY+=FY){FY=an.lV;if(aY+FY*1.25>an.width){FY=an.width-aY;}Fp=an.Bb;for(dc=0;dc<an.height;dc+=Fp){Fp=an.Bb;if(dc+Fp*1.25>an.height){Fp=an.height-dc;}tile=new IPCC.wd();tile.level=an;if(F.od()===false){var QP='jpeg';if(an.Rc>=100){QP='png';}tile.contentType=QP;tile.vQ=2;tile.wo=2;tile=this.expandTile(tile,aY,dc,FY,Fp,an);if(tile.bd!==an.width||tile.bU!==an.height){tile.url=F.aak('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bd.toString()+'/'+tile.bU.toString(),'Scale='+an.cV.toString()+'&Quality='+an.Rc+'&ContentType='+QP);}else{tile.url=F.aak('','Scale='+an.cV.toString()+'&Quality='+an.Rc+'&ContentType='+QP);}}else{tile.url=F.aak('','Scale='+an.cV.toString()+'&ContentType='+IPCC.K.Xt);tile.aHh=ka.alN();}tile.right=tile.x+tile.bd;tile.bottom=tile.y+tile.bU;an.tiles.push(tile);}}}};module.exports=sk;},{}],34:[function(require,module,exports){var dN={};dN.qb=function(bZ,aFD){if(bZ===""){bZ='""';}try{if(typeof YUI!=='undefined'){var agv;YUI().use('json-parse',function(Y){agv=Y.JSON.parse(bZ);});return agv;}else{var anb=bZ.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var azw=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var azL=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(aFD&&azw.test(anb.replace(azL,''))){throw null;}return eval('('+anb+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};dN.Qw=[];dN.JS=[];dN.DE={};dN.aBH=new RegExp('["\\\\\\x00-\\x1F]','i');dN.aBU=new RegExp('["\\\\\\x00-\\x1F]','g');dN.aBC='__type';dN.Ka=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.dN.JS[0]='\\';IPCC.dN.Qw['\\']=new RegExp('\\\\','g');IPCC.dN.DE['\\']='\\\\';IPCC.dN.JS[1]='"';IPCC.dN.Qw['"']=new RegExp('"','g');IPCC.dN.DE['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.dN.JS[i+2]=c;IPCC.dN.Qw[c]=new RegExp(c,'g');IPCC.dN.DE[c]=replaceChars[i];}};dN.acU=function(object,gp){gp.mE(object.toString());};dN.abW=function(object,gp){if(isFinite(object)){gp.mE(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};dN.acX=function(string,gp){gp.mE('"');if(IPCC.dN.aBH.test(string)){if(IPCC.dN.JS.length===0){IPCC.dN.Ka();}if(string.length<128){string=string.replace(IPCC.dN.aBU,function(x){return IPCC.dN.DE[x];});}else{for(var i=0;i<34;i++){var c=IPCC.dN.JS[i];if(string.indexOf(c)!== -1){if(IPCC.ep.agent===IPCC.ep.Opera||IPCC.ep.agent===IPCC.ep.FireFox){string=string.split(c).join(IPCC.dN.DE[c]);}else{string=string.replace(IPCC.dN.Qw[c],IPCC.dN.DE[c]);}}}}}gp.mE(string);gp.mE('"');};dN.Qm=function(object,gp,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.dN.abW(object,gp);}else if(typeof(object)==="boolean"){IPCC.dN.acU(object,gp);}else if(typeof(object)==="string"){IPCC.dN.acX(object,gp);}else if(object instanceof Array){gp.mE('[');for(i=0;i<object.length;++i){if(i>0){gp.mE(',');}IPCC.dN.Qm(object[i],gp,false,prevObjects);}gp.mE(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var fD=""+name;var ve='$';if((fD.substr(0,ve.length)===ve)){continue;}if(name===IPCC.dN.aBC&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}gp.mE('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){gp.mE(',');}else{needComma=true;}IPCC.dN.Qm(properties[i],gp,sort,prevObjects);gp.mE(':');IPCC.dN.Qm(value,gp,sort,prevObjects);}}gp.mE('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{gp.mE('null');}break;case 'number':IPCC.dN.abW(object,gp);break;case 'string':IPCC.dN.acX(object,gp);break;case 'boolean':IPCC.dN.acU(object,gp);break;default:gp.mE('null');break;}};dN.aeL=function(object){var gp=new IPCC.vZ();IPCC.dN.Qm(object,gp,false);return gp.auj();};module.exports=dN;},{}],35:[function(require,module,exports){var qA=function(){this.aC=false;this.F=false;};qA.prototype.nf=function(F){this.F=F;};qA.prototype.eN=function(){this.F=false;};qA.prototype.aQ=function(){if(this.aC){this.F.aa().hideMagnifier();this.aC=false;}};qA.prototype.qU=function(){this.aQ();};qA.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){this.aC=true;this.F.aa().showMagnifier(T.windowPoint);this.F.cA();}};qA.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){this.F.aa().showMagnifier(T.windowPoint);this.F.cA();}};qA.prototype.kj=function(){this.aQ();this.F.cA();};qA.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};module.exports=qA;},{}],36:[function(require,module,exports){var fh=function(hf,iv,iY,gJ,eu,fi){if(arguments.length===0){hf=gJ=1;iv=iY=eu=fi=0;}this.agi=function(){return hf*gJ-iv*iY;};this.aGG=function(){return hf===1&&iv===0&&iY===0&&gJ===1&&eu===0&&fi===0;};this.oa=function(){return hf;};this.ps=function(){return iv;};this.sm=function(){return iY;};this.sS=function(){return gJ;};this.vx=function(){return eu;};this.wO=function(){return fi;};this.append=function(dP){var FG=hf*dP.oa()+iv*dP.sm();var FO=hf*dP.ps()+iv*dP.sS();var EO=iY*dP.oa()+gJ*dP.sm();var Hm=iY*dP.ps()+gJ*dP.sS();var HQ=eu*dP.oa()+fi*dP.sm()+dP.vx();var GQ=eu*dP.ps()+fi*dP.sS()+dP.wO();hf=FG;iv=FO;iY=EO;gJ=Hm;eu=HQ;fi=GQ;};this.equals=function(h){if(hf!==h.oa()){return false;}if(iv!==h.ps()){return false;}if(iY!==h.sm()){return false;}if(gJ!==h.sS()){return false;}if(eu!==h.vx()){return false;}if(fi!==h.wO()){return false;}return true;};this.wg=function(){if(!this.aiz()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Dy=this.agi();var FG=gJ/Dy;var FO= -iv/Dy;var EO= -iY/Dy;var Hm=hf/Dy;var HQ=(iY*fi-gJ*eu)/Dy;var GQ=(iv*eu-hf*fi)/Dy;hf=FG;iv=FO;iY=EO;gJ=Hm;eu=HQ;fi=GQ;};this.Kq=function(dP){var FG=dP.oa()*hf+dP.ps()*iY;var FO=dP.oa()*iv+dP.ps()*gJ;var EO=dP.sm()*hf+dP.sS()*iY;var Hm=dP.sm()*iv+dP.sS()*gJ;var HQ=dP.vx()*hf+dP.wO()*iY+eu;var GQ=dP.vx()*iv+dP.wO()*gJ+fi;hf=FG;iv=FO;iY=EO;gJ=Hm;eu=HQ;fi=GQ;};this.wv=function(ll,rK,nd,ng){eu-=nd;fi-=ng;this.scale(ll,rK);eu+=nd;fi+=ng;};this.aBW=function(){hf=gJ=1;iv=iY=eu=fi=0;};this.transform=function(aT){var aY=aT.x*hf+aT.y*iY+eu;var dc=aT.y*gJ+aT.x*iv+fi;return new IPCC.Web.UI.Point(aY,dc);};this.mV=function(WK,WV){eu+=WK;fi+=WV;};this.ayZ=function(h){if(Math.abs(hf-h.oa())>1e-8){return false;}if(Math.abs(iv-h.ps())>1e-8){return false;}if(Math.abs(iY-h.sm())>1e-8){return false;}if(Math.abs(gJ-h.sS())>1e-8){return false;}if(Math.abs(eu-h.vx())>1e-8){return false;}if(Math.abs(fi-h.wO())>1e-8){return false;}return true;};this.toString=function(){return '{'+hf.toFixed(6)+', '+iv.toFixed(6)+', '+iY.toFixed(6)+', '+gJ.toFixed(6)+', '+eu.toFixed(3)+', '+fi.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fh(hf,iv,iY,gJ,eu,fi);};this.Lx=function(gL){hf=gL.oa();iv=gL.ps();iY=gL.sm();gJ=gL.sS();eu=gL.vx();fi=gL.wO();};this.aBQ=function(aL,bS){hf=1;gJ=bS.hb*aL.hh/(aL.hb*bS.hh);iv=iY=eu=fi=0;};this.Uz=function(be,aL,bS){switch(be){case IPCC.Web.UI.FitType.FullImage:this.apQ(aL,bS);break;case IPCC.Web.UI.FitType.FullWidth:this.abR(aL,bS);break;case IPCC.Web.UI.FitType.FullHeight:this.ach(aL,bS);break;case IPCC.Web.UI.FitType.ActualSize:this.aaI(aL,bS);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aL.sA)){this.aaI(aL,bS);}else{this.aqf(aL,bS);}break;}};this.abR=function(aL,bS){var lO=this.qR(aL);var AK=bS.width-2;if(AK<1){AK=1;}var au=AK/lO.width;this.scale(au,au);lO=this.qR(aL);if(lO.y<0){this.mV(0,-lO.y);}};this.ach=function(aL,bS){var lO=this.qR(aL);var AK=bS.height-2;if(AK<1){AK=1;}var au=AK/lO.height;this.scale(au,au);lO=this.qR(aL);if(lO.x<0){this.mV(-lO.x,0);}};this.apQ=function(aL,bS){var mD=this.clone();mD.abR(aL,bS);this.ach(aL,bS);if(Math.max(Math.abs(hf),Math.abs(iv))>Math.max(Math.abs(mD.oa()),Math.abs(mD.ps()))){this.Lx(mD);}};this.aaI=function(aL,bS){var lO=this.qR({x:0,y:0,width:aL.hh,height:aL.hb});var au=bS.hh/lO.width;this.scale(au,au);};this.aqf=function(aL,bS){var lO=this.qR({x:0,y:0,width:1,height:1});var au=1/Math.min(lO.width,lO.height);this.scale(au,au);if(Math.abs(hf-1)<0.0001){hf=1;}if(Math.abs(gJ-1)<0.0001){gJ=1;}};return this;};fh.prototype.aiz=function(){return Math.abs(this.agi())>1e-14;};fh.prototype.rotate=function(zh){this.adt(zh,0,0);};fh.prototype.adt=function(zh,nd,ng){var HT=zh*Math.PI*2/360;var gz=Math.sin(HT);var eK=Math.cos(HT);var dP=new IPCC.fh(eK,gz,-gz,eK,nd*(1-eK)+ng*gz,ng*(1-eK)-nd*gz);this.append(dP);};fh.prototype.avG=function(zh,nd,ng){var HT=zh*Math.PI*2/360;var gz=Math.sin(HT);var eK=Math.cos(HT);var dP=new IPCC.fh(eK,gz,-gz,eK,nd*(1-eK)+ng*gz,ng*(1-eK)-nd*gz);this.Kq(dP);};fh.prototype.aGQ=function(zh){this.avG(zh,0,0);};fh.prototype.scale=function(ll,rK){var dP=new IPCC.fh(ll,0,0,rK,0,0);this.append(dP);};fh.prototype.aIg=function(ll,rK,nd,ng){var dP=new IPCC.fh(ll,0,0,rK,nd*(1-ll),ng*(1-rK));this.Kq(dP);};fh.prototype.aIt=function(ll,rK){var dP=new IPCC.fh(ll,0,0,rK,0,0);this.Kq(dP);};fh.prototype.skew=function(nY,qD){var dP=new IPCC.fh(1,Math.tan(qD*Math.PI*2/360),Math.tan(nY*Math.PI*2/360),1,0,0);this.append(dP);};fh.prototype.aFC=function(nY,qD){var dP=new IPCC.fh(1,Math.tan(qD*Math.PI*2/360),Math.tan(nY*Math.PI*2/360),1,0,0);this.Kq(dP);};fh.prototype.aGM=function(WK,WV){var dP=new IPCC.fh(1,0,0,1,WK,WV);this.Kq(dP);};fh.prototype.BZ=function(R){var fo=this.transform({x:R.x,y:R.y});var kh=fo.x;var mx=fo.x;var mz=fo.y;var mP=fo.y;fo=this.transform({x:R.x+R.width,y:R.y});kh=Math.min(kh,fo.x);mx=Math.max(mx,fo.x);mz=Math.min(mz,fo.y);mP=Math.max(mP,fo.y);fo=this.transform({x:R.x+R.width,y:R.y+R.height});kh=Math.min(kh,fo.x);mx=Math.max(mx,fo.x);mz=Math.min(mz,fo.y);mP=Math.max(mP,fo.y);fo=this.transform({x:R.x,y:R.y+R.height});kh=Math.min(kh,fo.x);mx=Math.max(mx,fo.x);mz=Math.min(mz,fo.y);mP=Math.max(mP,fo.y);return new IPCC.Web.UI.Rectangle(kh,mz,mx-kh,mP-mz);};fh.prototype.aqq=function(aL,bS,eS){var aem=this.clone();aem.wg();var aBl=aem.transform({x:eS.x+eS.width/2,y:eS.y+eS.height/2});var au=Math.min(bS.width/eS.width,bS.height/eS.height);au-=1e-10;var kA=this.nM();if(kA*au>aL.rO){au=aL.rO/kA;}if(kA*au<aL.tw){au=aL.tw/kA;}this.scale(au,au);this.aaC(bS,aBl);};fh.prototype.Mq=function(aL,bS,dJ){this.aqq(aL,bS,this.BZ(dJ));};fh.prototype.aHT=function(bS){this.wv(1,-1,bS.width/2,bS.height/2);};fh.prototype.aqM=function(bS){this.wv(-1,1,bS.width/2,bS.height/2);};fh.prototype.VA=function(anz,aiH){var anl=this.transform(anz);this.mV(aiH.x-anl.x,aiH.y-anl.y);};fh.prototype.aaC=function(bS,cJ){var agE=this.transform(cJ);this.mV(bS.width/2-agE.x,bS.height/2-agE.y);};fh.prototype.lB=function(bM,bS){var aY=0,dc=0,end;var oD=this.qR(bM);if(oD.width<bS.width){aY=(bS.width-oD.width)/2-oD.x;}else{end=oD.x+oD.width;if(end<bS.width){aY=bS.width-end;}if(oD.x>0){aY= -oD.x;}}if(oD.height<bS.height){dc=(bS.height-oD.height)/2-oD.y;}else{end=oD.y+oD.height;if(end<bS.height){dc=bS.height-end;}if(oD.y>0){dc= -oD.y;}}this.mV(aY,dc);};fh.prototype.qR=function(bM){return this.BZ({x:0,y:0,width:bM.width,height:bM.height});};fh.prototype.aDB=function(){var gW,yF,ju,wA,adI,il;gW=this.transform({x:0,y:0});yF=this.transform({x:0,y:1});ju=this.transform({x:1,y:0});wA=Math.atan2(yF.y-gW.y,yF.x-gW.x);adI=Math.atan2(ju.y-gW.y,ju.x-gW.x);il=wA-adI;if(il>Math.PI){il=il-2*Math.PI;}if(il< -Math.PI){il=il+2*Math.PI;}return il<0;};fh.prototype.aiP=function(){var gW,yF,wA;gW=this.transform({x:0,y:0});yF=this.transform({x:0,y:1});wA=Math.atan2(yF.y-gW.y,yF.x-gW.x)-Math.PI/2;if(wA<0){wA=wA+2*Math.PI;}return wA*360/(Math.PI*2);};fh.prototype.nM=function(){var gM;var gW,qx;var dU,dW,cV;gW=this.transform({x:0,y:0});qx=this.transform({x:1,y:0});dU=qx.x-gW.x;dW=qx.y-gW.y;gM=dU*dU+dW*dW;qx=this.transform({x:0,y:1});dU=qx.x-gW.x;dW=qx.y-gW.y;cV=Math.min(gM,dU*dU+dW*dW);qx=this.transform({x:1,y:1});dU=qx.x-gW.x;dW=qx.y-gW.y;cV=Math.min(gM,dU*dU+dW*dW);qx=this.transform({x:1,y: -1});dU=qx.x-gW.x;dW=qx.y-gW.y;cV=Math.min(gM,dU*dU+dW*dW);return Math.sqrt(gM);};fh.aEQ=function(){return new IPCC.fh(1,0,0,1,0,0);};module.exports=fh;},{}],37:[function(require,module,exports){var fc={aaF:1,aaB:2,ZW:3,ahv:4,alS:5,Fi:6,OZ:7,amq:8,anq:9,als:10,akK:11,akb:12,aly:13,akP:14,abg:15,aeF:16};module.exports=fc;},{}],38:[function(require,module,exports){var db=function(){this.F=false;this.amm=1.5;};db.prototype.nf=function(F){this.F=F;};db.prototype.eN=function(){this.F=false;};db.prototype.aQ=function(){};db.prototype.mL=function(T){var as=this.F.aa();var aL=this.F.du();var bS=this.F.dV();var aW=as.eR();var Nf=T.wheelDelta/120;if(T.domEvent.ctrlKey){T.domEvent.preventDefault();var au=((this.amm-1)/2)+1;if(Nf<0){au=1/au;}var kA=aW.nM();if(kA*au>aL.rO){au=aL.rO/kA;}if(kA*au<aL.tw){au=aL.tw/kA;}aW.wv(au,au,T.windowPoint.x,T.windowPoint.y);aW.lB(aL,bS);this.F.bg('userModifiedViewState',{});as.iF(aW);}else{var aeg=aW.transform({x:0,y:0});aW.mV(0,Nf*bS.hb);aW.lB(aL,bS);var afq=aW.transform({x:0,y:0});if(Math.abs(aeg.x-afq.x)>0.001||Math.abs(aeg.y-afq.y)>0.001){T.domEvent.preventDefault();this.F.bg('userModifiedViewState',{});as.iF(aW);}}this.F.cA();};module.exports=db;},{}],39:[function(require,module,exports){var ct=function(ajn){this.ajn=ajn;this.QS=0;this.NV=1;this.Op=2;this.RA=3;this.Rq=4;this.cl=this.QS;this.F=false;this.tJ=0;};ct.prototype.nf=function(F){this.F=F;this.as=F.aa();};ct.prototype.eN=function(){this.F=false;};ct.prototype.aQ=function(){if(this.cl===this.Op){this.F.aa().hideMagnifier();}this.cl=this.QS;};ct.prototype.Nu=function(T){var aX=T.domEvent.rawEvent;switch(this.cl){case this.QS:if(aX.touches.length===1){this.aEI(T);}else if(aX.touches.length===2){this.amF(T);}else if(aX.touches.length===3){this.UB(T);}else{this.aQ();}break;case this.NV:if(aX.touches.length===2){this.amF(T);}else if(aX.touches.length===3){this.UB(T);}else{this.aQ();}break;case this.Rq:if(aX.touches.length!==3){this.aQ();}break;case this.Op:this.aQ();break;case this.RA:if(aX.touches.length===3){this.UB(T);}else if(aX.touches.length!==2){this.aQ();}break;}};ct.prototype.NI=function(T){switch(this.cl){case this.NV:this.tJ++;break;case this.Op:this.adh(T);break;case this.RA:this.awH(T);break;case this.Rq:this.aCk(T);break;}};ct.prototype.Nv=function(){this.aQ();};ct.prototype.HJ=function(){this.aQ();};ct.prototype.aEI=function(T){this.cl=this.NV;this.tJ++;var aAm=this.tJ;var V=this;function atK(){if(V.cl===this.NV&&aAm===V.tJ){V.aAX(T);}};setTimeout(atK,1000);};ct.prototype.aAX=function(T){this.F.gw('qU',T);this.adh(T);this.cl=this.Op;};ct.prototype.UB=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length!==3){this.aQ();return;}var jF=aX.touches[0];var cC={x:jF.screenX,y:jF.screenY};var dP=this.as.eR();dP.wg();this.KD=cC;this.axD=cC;this.XS=dP.transform(cC);this.cl=this.Rq;this.aIj=this.as.eR();this.amx=true;this.amK=true;};ct.prototype.aCk=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length!==3){this.aQ();return;}var jF=aX.touches[0];var cC={x:jF.screenX,y:jF.screenY};var atV=Math.abs(cC.x-this.KD.x);var atB=Math.abs(cC.y-this.KD.y);if(atV>35){this.amK=false;}if(atB>35){this.amx=false;}if(this.amx){cC.y=this.KD.y;}if(this.amK){cC.x=this.KD.x;}this.axD=cC;var aW=this.as.eR();var bS=this.F.dV();var aL=this.F.du();aW.VA(this.XS,cC);aW.lB(aL,bS);this.as.iF(aW);};ct.prototype.aIc=function(){};ct.prototype.aih=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length!==2){this.aQ();return{};}var KI=aX.touches[0];var Lp=aX.touches[1];var dU=KI.screenX-Lp.screenX;var dW=KI.screenY-Lp.screenY;var vT=Math.sqrt(dU*dU+dW*dW);var il=Math.atan2(dU,dW)*180/Math.PI;var aT={x:(KI.screenX+Lp.screenX)/2,y:(KI.screenY+Lp.screenY)/2};return{vT:vT,il:il,amo:aT};};ct.prototype.amF=function(T){this.cl=this.RA;this.awe=this.aih(T);this.Pf=this.awe;var dP=this.as.eR();dP.wg();this.XS=dP.transform(this.Pf.amo);this.FU=this.Pf.il;};ct.prototype.adh=function(T){var aX=T.domEvent.rawEvent;var jF=aX.touches[0];var cC={x:jF.screenX,y:jF.screenY};this.as.showMagnifier(cC);};ct.prototype.awH=function(T){var wZ=this.aih(T);var cV=wZ.vT/this.Pf.vT;var aW=this.as.eR();var bS=this.F.dV();var aL=this.F.du();aW.scale(cV,cV);var EC=this.FU-wZ.il;var alo=this.FU-wZ.il-360;var ajZ=this.FU-wZ.il+360;if(Math.abs(EC)>Math.abs(alo)){EC=alo;}if(Math.abs(EC)>Math.abs(ajZ)){EC=ajZ;}if(EC< -40){aW.rotate(-90);this.FU=wZ.il;}else if(EC>40){aW.rotate(90);this.FU=wZ.il;}aW.VA(this.XS,wZ.amo);aW.lB(aL,bS);this.as.iF(aW);this.Pf=wZ;};ct.prototype.aFX=function(T){var aW=this.as.eR();var bS=this.F.dV();var aL=this.F.du();aW.Uz(IPCC.Web.UI.FitType.FullImage,aL,bS);aW.lB(aL,bS);this.as.iF(aW);};ct.prototype.mL=function(){this.aQ();};module.exports=ct;},{}],40:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var Og=function(){return this;};Og.registerClass=cQ;Og.prototype={};Og.registerClass('IPCC.OpenPageEventArgs');module.exports=Og;},{"./IPCC.Util":29}],41:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var LF=function(){return this;};LF.registerClass=cQ;LF.prototype={};LF.registerClass('IPCC.PageEventArgs');module.exports=LF;},{"./IPCC.Util":29}],42:[function(require,module,exports){var aH=function(ag){this.fJ=ag.page;this.bV=0;this.aK=0;this.fS=0;this.gD=0;var aB=new IPCC.Web.UI.fZ();this.anf=undefined;this.ha=false;this.auo=false;this.Ki=0;this.aFP=undefined;this.zt=false;this.wM=false;this.CS=false;this.gu=0;this.Eh=0;this.Cn=false;this.Gb=false;this.ap=new IPCC.Web.UI.ArtPage();this.fg=new IPCC.Web.UI.ArtPage();this.co=this.fJ.get_pageNumber();this.aS=this.fJ.aP.MN+'_'+this.co+'__pViewId';this.aP=this.fJ.aP;this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};return this;};aH.prototype.kd=function(){if(this.fJ){return this.fJ.kq()||this.bV;}return this.bV;};aH.prototype.nQ=function(){if(this.fJ){return this.fJ.ig()||this.aK;}return this.aK;};aH.prototype.SJ=function(bool){bool= ! !bool;if(this.fJ){this.fJ.Cn=bool;}this.Cn=bool;};aH.prototype.ahY=function(){if(this.fJ){return this.fJ.Cn||this.Cn;}return this.Cn;};module.exports=aH;},{}],43:[function(require,module,exports){var fl=require('./IPCC.Util').regEnum;var Bi=function(){};Bi.registerEnum=fl;Bi.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};Bi.registerEnum('IPCC.PageLayout',false);module.exports=Bi;},{"./IPCC.Util":29}],44:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var aoP=function(){this.cE=undefined;return this;};var JM=function(element){var V=this;var HS=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var aoy=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var aB=new IPCC.Web.UI.fZ();var bE=[];var arB;var aD='';var AX='';var bG='';var lj='';var JK='';var If=0;this.Bu=new IPCC.Web.UI.ImGearDocumentCollection();var Ig=[];this.aGB=0;this.aGA={x:0,y:0};var lx=0;var pa=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var mW=false;var cO=0;var tp=false;var Pj=[];var Ga='';var dg=1;var qh=0;var jO=1;var pM=1;var bD=IPCC.Web.UI.MouseTool.None;var zR=false;var su=true;var aM=IPCC.aR.None;var jq;var fV=0;var jj=0;var agu=0;var fM=0;var hB=15;var ir=0;var gr=15;var oh=0;var oE=0;var qy=0;var oP=0;var aCi=0;var gZ=0;var gO=0;var nV=1;var fj=IPCC.PageLayout.VerticalScrollDirection;var dC=IPCC.ViewMode.Document;var lJ=null;var TL=null;var PB=0;var Qy=0;var wp=0;var BA=false;var jk=null;var JE=0;var Hf='';var BF='';var qj=[];var DS=0;var tI=3;var OG=0.5;var Iy=true;var NN=false;var Or=false;var Ws;var sR=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var tO=true;var jW;var cN={};var tk=false;var mr=function(){return null;};var iz=null;var ahF="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aCe=ahF+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aAZ=ahF+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var cw=96;var bL;function lM(Il){if(!_debug){return false;}return pa>=Il;};this.bz=function(jC,iK){if(!lM(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cK=jC+'() threw an exception ('+iK.name+'), "'+iK.message+'"';cK=cK.replace(/\n/g," ");IPCC.ih.mn(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mp().id);var pn=new IPCC.ExceptionEventArgs();pn.functionName=jC;pn.exception=iK;this.bg('exceptionThrown',pn);};this.az=function(jC,kT,qa){if(!lM(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],(qa?qa:0));}cK+=')';this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ct=function(jC,kT,lZ,qa){if(!lM(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],(qa?qa:0));}cK+=') = ';cK+=IPCC.ih.qc(lZ,1);this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.di=function(jC,kT,lZ){if(!lM(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],0);}cK+=') = ';cK+=IPCC.ih.qc(lZ,1);this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wN=function(kr,an){IPCC.ih.mn(kr,IPCC.Web.UI.DebugItemCause.FunctionCall,an,'PageList',this.mp().id);};this.mn=function(kr){IPCC.ih.mn(kr,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mp().id);};this.JW=function(){return _debug;};this.Vb=function(h){var Kx= ! !h;if(_debug===Kx){return;}_debug=Kx;var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C=0;for(C=0;C<dw.length;C++){var bK;if(bE[dw[C]].aS){bK=document.getElementById(bE[dw[C]].aS).am;}if(bK){bK.set_debug(_debug);}}this.cY('debug');};this.xu=function(){return pa;};this.Jf=function(h){IPCC.av.jD(h,'value',IPCC.Web.UI.DebugErrorLevel);if(pa===h){return;}pa=h;var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C=0;for(C=0;C<dw.length;C++){var bK;if(bE[dw[C]].aS){bK=document.getElementById(bE[dw[C]].aS).am;}if(bK){bK.set_debugErrorLevel(pa);}}this.cY('debugErrorLevel');};function cn(dH,L){aB.addHandler(dH,L);};function cs(dH,L){aB.removeHandler(dH,L);};this.Ns=function(L){cn('mouseDown',L);};this.ZP=function(L){cs('mouseDown',L);};this.Os=function(L){cn('mouseMove',L);};this.YO=function(L){cs('mouseMove',L);};this.MR=function(L){cn('mouseUp',L);};this.Yr=function(L){cs('mouseUp',L);};this.Wr=function(L){cn('selectTextMouseToolCompleted',L);};this.Zo=function(L){cs('selectTextMouseToolCompleted',L);};this.AP=function(L){cn('textPageReady',L);};this.CP=function(L){cs('textPageReady',L);};this.Wj=function(L){cn('hyperlinkPageReady',L);};this.acI=function(L){cs('hyperlinkPageReady',L);};this.asy=function(L){cn('allPagesAdded',L);};this.awh=function(L){cs('allPagesAdded',L);};this.XF=function(L){cn('pageOpening',L);};this.Yn=function(L){cs('pageOpening',L);};this.Wf=function(L){cn('pageOpened',L);};this.Yw=function(L){cs('pageOpened',L);};this.GS=function(L){cn('pageOpenFailed',L);};this.EW=function(L){cs('pageOpenFailed',L);};this.XJ=function(L){cn('pageDisplayed',L);};this.Ze=function(L){cs('pageDisplayed',L);};this.kH=function(L){cn('propertyChanged',L);};this.ml=function(L){cs('propertyChanged',L);};this.WD=function(L){cn('exceptionThrown',L);};this.YH=function(L){cs('exceptionThrown',L);};this.Aw=function(L){cn('textExtractionFailed',L);};this.Bn=function(L){cs('textExtractionFailed',L);};this.zq=function(L){cn('markAdded',L);};this.zM=function(L){cs('markAdded',L);};this.Ww=function(L){cn('markCreating',L);};this.YP=function(L){cs('markCreating',L);};this.Hd=function(L){cn('markChanged',L);};this.Fn=function(L){cs('markChanged',L);};this.Gg=function(L){cn('markReordered',L);};this.FE=function(L){cs('markReordered',L);};this.Hq=function(L){cn('markSelectionChanged',L);};this.Fe=function(L){cs('markSelectionChanged',L);};this.Fm=function(L){cn('markTextSelectionChanged',L);};this.Gm=function(L){cs('markTextSelectionChanged',L);};this.As=function(L){cn('markRemoved',L);};this.AJ=function(L){cs('markRemoved',L);};this.arS=function(L){cn('commentAdding',L);};this.aws=function(L){cs('commentAdding',L);};this.xd=function(L){cn('commentAdded',L);};this.Eb=function(L){cs('commentAdded',L);};this.vB=function(L){cn('commentRemoved',L);};this.Ew=function(L){cs('commentRemoved',L);};this.sN=function(L){cn('commentChanged',L);};this.vU=function(L){cs('commentChanged',L);};this.Wg=function(L){cn('scaleChanged',L);};this.Zw=function(L){cs('scaleChanged',L);};this.PJ=function(){var am=document.getElementById(bE[cO].aS).am;if(am){return am.get_currentState();}else{return null;}};this.ahi=function(){var bI=IPCC.K.find(bE,function(fo){return fo.co===cO;});if(!bI){return;}return bI.fJ;};this.aDu=function(bi){var bI=IPCC.K.find(bE,function(fo){return fo.co===cO;});if(!bI){return;}return bI.aS;};this.nM=function(){return dg;};this.aCx=function(cV){jv(cV,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Pm=function(au,qF,SX,eo){eo=eo||IPCC.ScaleTrigger.Zoom;jv(dg*au,SX,undefined,undefined,undefined,qF,eo);};this.asr=function(au,aY,dc,CB,eo){eo=eo||IPCC.ScaleTrigger.Zoom;if(dg*au<8){jv(dg*au,false,aY,dc,CB,undefined,eo);}else{jv(8,false,aY,dc,CB);}};this.YX=function(au,eo){eo=eo||IPCC.ScaleTrigger.Zoom;jv(dg/au,false,undefined,undefined,undefined,undefined,eo);};this.aEt=function(){return ZY();};this.acT=function(eo,eJ,WH){var Jw,JI,bV,aK;var aap=0;var C=0;for(C=0;C<bE.length;C++){bV=bE[C].kd();aK=bE[C].nQ();if(hV(bE[C].gu)===true){var Jn=bV;bV=aK;aK=Jn;}if(bV>0&&aK>0){var HM=bV/aK;if(HM>aap){aap=HM;Jw=aK;JI=bV;}}}if(aap>0){var apE=(aD.offsetWidth-IPCC.Web.oZ()-wj()-(hB+gr+oE+oP));var aqw=apE/(JI*cw/bE[0].fS);var er=fV;var eY=jj;if(hV(bE[0].gu)===true){er=jj;eY=fV;}var ajx=Jw/eY*aqw;var jN=(aD.clientHeight-(fM+ir+oh+qy))/(eY*cw/bE[0].gD);var GT=ajx;if(WH===true&&ajx>jN){GT=jN;}jv(GT,true,undefined,undefined,undefined,undefined,eo,eJ);}};this.acg=function(eo,eJ,WH){var Jw,JI,bV,aK;var aaf=0;var C=0;for(C=0;C<bE.length;C++){bV=bE[C].kd();aK=bE[C].nQ();if(hV(bE[C].gu)===true){var Jn=bV;bV=aK;aK=Jn;}if(bV>0&&aK>0){var HM=aK/bV;if(HM>aaf){aaf=HM;Jw=aK;JI=bV;}}}if(aaf>0){var ari=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy));var aqg=ari/(Jw*cw/bE[0].gD);var er=fV;var eY=jj;if(hV(bE[0].gu)===true){er=jj;eY=fV;}var ajw=JI/er*aqg;var jN=(aD.clientWidth-wj()-(hB+gr+oE+oP))/(er*cw/bE[0].fS);var GT=ajw;if(WH===true&&ajw>jN){GT=jN;}jv(GT,true,undefined,undefined,undefined,undefined,eo,eJ);}};this.azl=function(eJ,eo){if(V.xb&&typeof V.xb==='function'){V.xb();}var bV;var aK;var ft;var kf=1;eo=eo||IPCC.ScaleTrigger.Fit;if(eJ===IPCC.FitType.FitToWidth){if(dC===IPCC.ViewMode.Document){kf=(aD.offsetWidth-IPCC.Web.oZ()-wj()-(hB+gr+oE+oP))/(gZ/dg);jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else if(dC===IPCC.ViewMode.SinglePage){if(hV(bE[cO].gu)===true){bV=bE[cO].nQ();ft=cw/bE[cO].gD;}else{bV=bE[cO].kd();ft=cw/bE[cO].fS;}kf=(aD.offsetWidth-IPCC.Web.oZ()-wj()-(hB+gr+oE+oP))/(bV*ft);jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else{if(fj===IPCC.PageLayout.VerticalScrollDirection){abO(eo,eJ);}else{V.acT(eo,eJ);}}}else if(eJ===IPCC.FitType.ShrinkToWidth){var asX=aD.clientWidth-wj();var atn=20;var SL=asX-atn;if(dC===IPCC.ViewMode.SinglePage){if(hV(bE[cO].gu)===true){bV=bE[cO].nQ();ft=cw/bE[cO].gD;}else{bV=bE[cO].kd();ft=cw/bE[cO].fS;}if(SL<dg*bV*ft){kf=(aD.offsetWidth-IPCC.Web.oZ()-wj()-(hB+gr+oE+oP))/(bV*ft);jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}}else{if(SL<gZ){jv(dg*SL/gZ,true,undefined,undefined,undefined,undefined,eo,eJ);}}}else if(eJ===IPCC.FitType.ActualSize){if(dC===IPCC.ViewMode.Document||dC===IPCC.ViewMode.SinglePage){jv(1,true,undefined,undefined,undefined,undefined,eo,eJ);}}else if(eJ===IPCC.FitType.FitToHeight){if(dC===IPCC.ViewMode.Document){kf=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy))/(gO/dg);jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else if(dC===IPCC.ViewMode.SinglePage){if(hV(bE[cO].gu)===true){aK=bE[cO].kd();ft=cw/bE[cO].fS;}else{aK=bE[cO].nQ();ft=cw/bE[cO].gD;}kf=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy))/(aK*ft);jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else{if(fj===IPCC.PageLayout.HorizontalScrollDirection){abO(eo,eJ);}else{V.acg(eo,eJ);}}}else if(eJ===IPCC.FitType.BestFit){var FB;if(dC===IPCC.ViewMode.Document){kf=(aD.offsetWidth-IPCC.Web.oZ()-(hB+gr+oE+oP))/(gZ/dg);FB=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy))/(gO/dg);if(FB<kf){kf=FB;}jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else if(dC===IPCC.ViewMode.SinglePage){if(hV(bE[cO].gu)===true){bV=bE[cO].nQ();aK=bE[cO].kd();ft=cw/bE[cO].fS;}else{bV=bE[cO].kd();aK=bE[cO].nQ();ft=cw/bE[cO].gD;}kf=(aD.offsetWidth-IPCC.Web.oZ()-wj()-(hB+gr+oE+oP))/(bV*ft);FB=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy))/(aK*ft);if(FB<kf){kf=FB;}jv(kf,true,undefined,undefined,undefined,undefined,eo,eJ);}else{if(fj===IPCC.PageLayout.HorizontalScrollDirection){V.acT(eo,eJ,true);}else{V.acg(eo,eJ,true);}}}};this.avk=function(aw,ar){var bI=bE[aw-1];var aF=document.getElementById(bI.aS);var Ca=[];if(aF){var fI,Cg,aT;try{fI=YN(aF);}catch(e){return null;}Ca=IPCC.K.map(ar,function(fo){Cg=aF.am.transformPagePointToWindow(new IPCC.Web.UI.Point(fo.x,fo.y),true);aT=akJ(aF,Cg.x,Cg.y,fI);return{clientX:aT.x,clientY:aT.y};});return Ca;}else{return null;}};this.aoD=function(){var C=0;for(C=0;C<bE.length;C++){V.cA(C);}jo();oA();};this.cA=function(bi){var aj;if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}V.vv(aj,bi);};this.FT=function(bi){var aj;if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}if(aj){var bK=aj.am;bK.FT();}};this.vv=function(aj,bi){if(aj&&aj.am&&aj.am.fH()===true){var bK=aj.am;bK.display();bE[bi].ha=true;if(dC===IPCC.ViewMode.SinglePage){var lX= -1;if(Array.prototype.indexOf){lX=qj.indexOf(bi);}else{lX=IPCC.Web.kP(qj,bi);}if(lX!== -1){qj.splice(lX,1);}}}};function akA(dw){var aj;for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);var bi=bI.get_pageNumber();if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}if(aj&&aj.am&&aj.am.CJ()!==null){return aj.am;}}return null;};this.Ks=function(){var dw=this.get_displayedPages();var Na=akA(dw);Na.Ks();};this.EV=function(au){var gA=0;var fX=bE.length-1;for(var bu=gA;bu<=fX;bu++){var bK;var aj=document.getElementById(bE[bu].aS);if(aj){bK=aj.am;}else{continue;}bK.set_sharpening(au);if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.display();}}qh=au;};this.avz=function(){return qh;};this.CT=function(au){var gA=0;var fX=bE.length-1;for(var bu=gA;bu<=fX;bu++){var bK;var aj=document.getElementById(bE[bu].aS);if(aj){bK=aj.am;}else{continue;}bK.set_gamma(au);if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.display();}}pM=au;};this.aDN=function(){return pM;};this.By=function(au){var gA=0;var fX=bE.length-1;for(var bu=gA;bu<=fX;bu++){var bK;var aj=document.getElementById(bE[bu].aS);if(aj){bK=aj.am;}else{continue;}bK.set_svgLineWidthMultiplier(au);if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.display();}}jO=au;};this.avT=function(){return jO;};this.CJ=function(){var dw=this.get_displayedPages();var Na=akA(dw);if(Na){return Na.CJ();}return null;};this.xa=function(bi,G){var aj;if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}if(aj&&aj.am){aj.am.xa(G);}};this.pD=function(bi){var aj;if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}if(aj&&aj.am){aj.am.pD();}};var uB='';this.tF=function(h){uB=h;};this.mp=function(){return uB;};this.bg=function(dH,T){try{var L=aB.getHandler(dH);if(L!==null){L(V,T);}}catch(e){V.bz(dH+'Event',e);}};this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};this.aua=function(L){aB.addHandler('currentPageChanged',L);};this.awN=function(L){aB.removeHandler('currentPageChanged',L);};this.yn=function(cU,h){cU.style.cursor='move';cU.style.cursor='-webkit-'+h;cU.style.cursor='-moz-'+h;cU.style.cursor=h;};this.aiT=function(){return bG.style.cursor||'auto';};this.azK=function(h){bG.style.cursor=h||'auto';var C=0;for(C=0;C<bE.length;C++){if(bE[C].aS){var aj=document.getElementById(bE[C].aS);if(aj){var bK=aj.am;aj.style.cursor=h;if(bK){bK.set_cursor(h);if(bE[C].ha===true&&bK.fH()===true){bK.display();}}}}}};this.abE=function(){return bD;};this.JZ=function(h){IPCC.av.jD(h,'value',IPCC.Web.UI.MouseTool);var mh=false;if(bD!==h){jq=null;bD=h;switch(bD){case IPCC.Web.UI.MouseTool.HandPan:aM='grab';V.yn(bG,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:V.tn();aM=IPCC.aR.Text;bG.style.cursor=IPCC.aR.fb(aM);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:V.tn();aM=IPCC.aR.Text;bG.style.cursor=IPCC.aR.fb(aM);break;case IPCC.Web.UI.MouseTool.None:aM=IPCC.aR.None;bG.style.cursor=IPCC.aR.fb(aM);break;case IPCC.Web.UI.MouseTool.Magnifier:aM=IPCC.aR.Magnifier;bG.style.cursor=IPCC.aR.fb(aM);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aM=IPCC.aR.RectangleZoom;bG.style.cursor=IPCC.aR.fb(aM);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aM=IPCC.aR.AddRectangleMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aM=IPCC.aR.AddRectangleRedactionMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aM=IPCC.aR.AddEllipseMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aM=IPCC.aR.AddLineMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.nz()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aM=IPCC.aR.AddStampMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aM=IPCC.aR.AddImageStampMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aM=IPCC.aR.AddImageStampMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aM=IPCC.aR.AddTextMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aM=IPCC.aR.AddTextMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aM=IPCC.aR.AddTextMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.fE(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aM=IPCC.aR.AddFreehandLineMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.mI()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aM=IPCC.aR.AddPolylineMark;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.kE(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aM=IPCC.aR.EditMarks;bG.style.cursor=IPCC.aR.fb(aM);mh=true;jq=function(){return[new IPCC.ma(IPCC.Web.UI.MarkType.Text)];};break;default:aM=IPCC.aR.None;bG.style.cursor=IPCC.aR.fb(aM);break;}var C=0;for(C=0;C<bE.length;C++){if(bE[C].aS){var aj=document.getElementById(bE[C].aS);if(aj){var bK=aj.am;if(aM==='grab'){V.yn(aj,'grab');}else{aj.style.cursor=IPCC.aR.fb(aM);}if(bK){bK.set_cursor(aM);bK.Py(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);if(mh===true){bK.Hl(jq());}else{bK.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(bE[C].ha===true&&bK.fH()===true){bK.display();}}}}}this.cY('mouseTool');}};this.aGt=function(){return zR;};this.aBI=function(bool){zR= ! !bool;};this.AO=function(){return sR;};this.IQ=function(h){if(sR!==h){sR=h;var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C=0;for(C=0;C<dw.length;C++){var aj;var bK;aj=document.getElementById(bE[dw[C]].aS);bK=aj.am;if(bK){bK.set_markHandleMode(sR);this.vv(aj,C);}}this.cY('markHandleMode');}};this.jL=function(){return su;};this.Je=function(h){if(su!==h){su=h;var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C=0;for(C=0;C<dw.length;C++){var bK;if(bE[dw[C]].aS){bK=document.getElementById(bE[dw[C]].aS).am;}if(bK){bK.set_textRequired(su);}}this.cY('textRequired');}};this.aDO=function(){return tI;};this.azv=function(h){if(h<0){h=0;}if(tI!==h){tI=h;this.cY('maxPrefetch');}};this.aEc=function(){return Iy;};this.aAn=function(h){if(Iy!==h){Iy=h;this.cY('displayPagesWhenScrolling');}};this.aDo=function(){return DS;};this.aAD=function(h){if(h<0){h=0;}if(DS!==h){DS=h;this.cY('maxOutOfViewDisplay');}};this.aDf=function(){return NN;};this.aBg=function(h){if(NN!==h){NN= ! !h;this.cY('discardOutOfViewText');}};this.aEa=function(){return Or;};this.aCA=function(h){if(Or!==h){Or= ! !h;this.cY('retainPageText');}};this.aEd=function(){return OG;};this.aCC=function(h){if(h<0){h=0;}if(OG!==h){OG=h;this.cY('scrollDisplayThreshold');}};this.aEm=function(){return fj;};this.aCF=function(h){if(fj===h){return;}fj=h;if(aD===''||aD.clientHeight<=0||dC===IPCC.ViewMode.SinglePage){this.cY('pageLayout');return;}var wu=cO;var IL=dC;if(dC===IPCC.ViewMode.EqualWidthPages||dC===IPCC.ViewMode.EqualFitPages){V.Nh(IPCC.ViewMode.Document);}aD.scrollLeft=0;aD.scrollTop=0;var C=0;var aj;if(fj===IPCC.PageLayout.VerticalScrollDirection){if(JK){JK.setAttribute('style',aCe);}AX.insertBefore(lj,JK);for(C=0;C<bE.length;C++){aj=document.getElementById(bE[C].aS);aj.style.display='block';if(fV>0){aj.style.margin=fM+'px auto '+ir+'px auto';}}bG.style.margin='0px '+hB+'px 0px '+gr+'px';aD.scrollLeft=(gZ-aD.clientWidth)/2+hB+oE;}else{if(JK){JK.setAttribute('style',aAZ);}AX.removeChild(lj);for(C=0;C<bE.length;C++){aj=document.getElementById(bE[C].aS);if(aj){aj.style.display='inline-block';if(fV>0){aj.style.margin=fM+'px '+hB+'px '+ir+'px '+gr+'px';}}}bG.style.margin='0px';aD.scrollTop=(gO-aD.clientHeight)/2+fM+oh;}if(IL===IPCC.ViewMode.EqualWidthPages){V.Nh(IPCC.ViewMode.EqualWidthPages);}else if(IL===IPCC.ViewMode.EqualFitPages){V.Nh(IPCC.ViewMode.EqualFitPages);}this.qt(wu);oA();this.cY('layout');};this.aEC=function(){return dC;};this.Nh=function(h,eo){eo=eo||IPCC.ScaleTrigger.ViewMode;if(dC===h){return;}dC=h;if(aD===''||aD.clientHeight<=0){this.cY('viewMode');return;}var wu=cO;this.qt(wu);if(dC===IPCC.ViewMode.Document){var jN=1;var bV=fV;var aK=jj;if(hV(pH)===true){bV=jj;aK=fV;}if(fj===IPCC.PageLayout.VerticalScrollDirection){jN=(aD.clientWidth-(hB+gr+oE+oP))/bV;}else{jN=(aD.clientHeight-(fM+ir+oh+qy))/aK;}jv(jN,true,undefined,undefined,undefined,undefined,eo);}else{abO(eo);}this.qt(wu);this.cY('viewMode');zT(cN,true);lo(cN,true);};var pH=0;this.aDX=function(){return pH;};this.aCu=function(h){if(pH!==h){pH=h;var C=0;for(C=0;C<bE.length;C++){if(bE[C].Eh===0){bE[C].gu=pH;}}this.cY('pageRotation');}};this.abl=function(aw){var co;if(arguments.length>0){if(!isNaN(aw)){co=aw;}else{co=cO;}}else{co=cO;}for(var C=0;C<bE.length;C++){if(co===C){return bE[C].gu;}}return 0;};var ox=false;this.jh=function(){return ox;};this.lF=function(h){if(typeof h!=="boolean"){return;}if(h===ox){return;}ox=h;};this.aFk=function(){return Ws;};this.aBw=function(h,op,yz,uN){if(Ws!==h){Ws=h;for(var C=0;C<bE.length;C++){bE[C].ap.aAO(h,C,bE[C].kd(),bE[C].nQ(),bE[C].fJ,op,yz,uN);var aEl= !bE[C].kd();bE[C].SJ(aEl);}this.cY('annotationXmlDom');}};var qQ;this.Kn=function(h){qQ=h;};this.tG=function(){return qQ;};var re=false;this.lK=function(){return re;};this.qW=function(h){if(typeof h!=="boolean"){return;}if(h===re){return;}re=h;IPCC.K.forEach(bE,function(aH,C){var bK;if(bE[C].aS){var aj=document.getElementById(bE[C].aS);if(aj){bK=aj.am;}}if(bK){bK.qW(re);bK=undefined;}});};this.aBG=function(h){if(Ga!==h){Ga=h;this.cY('loadingContent');}};this.aEh=function(){return Ga;};this.aDk=function(){var cI=jo();var dw=[];if(cI){dw=qn(cI);}var aes=new IPCC.Web.UI.ImGearPageCollection();var C=0;for(C=0;C<dw.length;C++){aes.akn(bE[dw[C]].fJ);}return aes;};this.awl=function(bi){if(bE[bi]){return bE[bi].aS;}};this.xh=function(){return tO;};this.JR=function(h){tO=h;};this.jJ=function(){return jW;};this.wi=function(h){jW=h;};this.MZ=function(bI,AR,zc){var V=this;if(bI.kq()>0||bI.ig()>0){AR(bI.kq(),bI.ig());return;}bI.requestPageAttributes(function(bd,bU){if(bE[bI.get_pageNumber()].ahY()===true){var hD=bd/bI.aji();if(hD!==1){var ap=V.hu(bI);if(ap){agK(ap,hD);}}}bE[bI.get_pageNumber()].SJ(false);AR(bd,bU);},function(ed){zc(ed);});};this.aFF=function(){if(tk===true){return;}tk=true;this.eG(lj,'pccHidden');zT(cN,true);lo(cN,true);};this.aoT=function(){if(tk===false){return;}tk=false;this.kb(lj,'pccHidden');};this.aGx=function(){return tk;};this.kb=function(cU,rV){var EY=new RegExp('(?:^|\\s)'+rV+'(?!\\S)','g');if(cU.className.match(EY)===null){cU.className=cU.className+' '+rV;}};this.eG=function(cU,rV){var EY=new RegExp('(?:^|\\s)'+rV+'(?!\\S)','g');cU.className=cU.className.replace(EY,'');};this.aDq=function(){return mr;};this.aCH=function(h){mr=h;};this.aEN=function(){return iz;};this.aBe=function(h){if(iz===h){return;}var G,cE,uO;if(iz){G=iz.get_mark();uO=cN[G.get_markID()];cE=mr(G,{isSelected:true},(uO)?uO.cE:undefined);if(uO){EN(G,cN,cE);}}G=cE=uO=undefined;iz=h;if(iz){G=iz.get_mark();uO=cN[G.get_markID()];cE=mr(G,{isSelected:true},(uO)?uO.cE:undefined);if(uO){EN(G,cN,cE);}}lo(cN,true);};this.avZ=function(SY){var jg=vK();IPCC.K.forEach(SY,function(Lb){var dB=cN[Lb];if(dB){var km=mr(dB.G,{isSelected:(dB.G.get_conversation()===iz)},dB.cE);if(!IPCC.K.tE(km)){throw new Error(km+' is not a valid HTMLElement');}if(km!==dB.cE){EN(dB.G,cN,km);}}});lo(cN,false,jg);};this.initialize=function(){var dm=this.mp();var C;for(C=dm.childNodes.length-1;C>=0;C--){if(dm.childNodes[C].tagName!=='INPUT'){dm.removeChild(dm.childNodes[C]);}}this.Bu.add_documentAdded(apY);this.Bu.add_pageAdded(Uq);this.Bu.add_pageRemoved(Um);this.afl(true);dm.am=this;ale();var TZ='webkit moz o'.split(' '),ve='';if(bG.style.animationName!==undefined){Hf='animationend';BF='transitionend';return;}for(C=0;C<TZ.length;C++){if(bG.style[TZ[C]+'Animation']!==undefined){ve=TZ[C];Hf=ve+'AnimationEnd';BF=ve+'TransitionEnd';break;}}};this.aGo=function(){return mW;};this.afl=function(h){mW=h;this.cY('enabled');};this.aDP=function(){if(cO+1<bE.length){V.qt(cO+1);}};this.aDL=function(){var Te=cO-1;if(Te<0){Te=0;}V.qt(Te);};function EE(T){IPCC.Web.UI.af.removeHandler(T.target,Hf,EE);IPCC.Web.UI.af.removeHandler(T.target,BF,EE);if(JE>cO){V.eG(T.target,'pccNextPageIn');V.eG(T.target,'pccPreviousPageIn');V.eG(T.target,'pccCurrentPage');V.eG(T.target,'pccPageBack');V.eG(T.target,'pccPageForward');V.kb(T.target,'pccNextPage');}else if(JE<cO){V.eG(T.target,'pccNextPageIn');V.eG(T.target,'pccPreviousPageIn');V.eG(T.target,'pccCurrentPage');V.eG(T.target,'pccPageBack');V.eG(T.target,'pccPageForward');V.kb(T.target,'pccPreviousPage');}V.eG(bG,'pccPageListContainerPageChanging');aD.style.overflow='auto';jk=null;bG.style.overflow='hidden';var nt=IPCC.K.filter(cN,function(aO){return aO.aw===cO+1;});Ml(nt);setTimeout(function(){oA();},60);};this.qt=function aHs(bi){var Jc=cO;var nt;if(dC===IPCC.ViewMode.SinglePage){nt=IPCC.K.filter(cN,function(aO){return aO.aw!==bi+1;});GK(nt);}else{tp=true;var acd=akC(bi);if(fj===IPCC.PageLayout.VerticalScrollDirection){aD.scrollTop=acd;}else{aD.scrollLeft=acd;}}var zN=[];if(cO!==bi){cO=bi;var aH=bE[cO];var T=new IPCC.PageEventArgs();T.imGearPage=V.get_currentPage();T.pageIndex=cO;T.pageNodeID=aH.aS;V.bg('currentPageChanged',T);if(dC===IPCC.ViewMode.SinglePage){var gq=document.getElementById(bE[cO].aS);var qg=document.getElementById(bE[Jc].aS);if(gq===null){gq=HI(bE[cO].fJ);zN.push(bE[cO]);gq.className='pccPageListItem pccCurrentPage';qj.push(cO);if(fV>0){var fP=ZO(bE[cO]);gq.style.width=fP.bd+'px';gq.style.height=fP.bU+'px';}else{gq.style.width=bG.clientWidth-hB-gr+'px';gq.style.height=bG.clientWidth*0.8+'px';}gq.style.display='block';gq.setAttribute('id',bE[cO].aS);bG.appendChild(gq);}if(BF.length>0){aD.style.overflow='hidden';bG.style.width=gq.style.width;bG.style.height=gq.style.height;bG.style.overflow='visible';if(jk!==null){IPCC.Web.UI.af.removeHandler(jk,Hf,EE);IPCC.Web.UI.af.removeHandler(jk,BF,EE);if(JE>cO){this.eG(jk,'pccNextPageIn');this.eG(jk,'pccPreviousPageIn');this.eG(jk,'pccCurrentPage');this.eG(jk,'pccPageForward');this.eG(jk,'pccPageBack');this.kb(jk,'pccNextPage');}else if(JE<cO){this.eG(jk,'pccNextPageIn');this.eG(jk,'pccPreviousPageIn');this.eG(jk,'pccCurrentPage');this.eG(jk,'pccPageForward');this.eG(jk,'pccPageBack');this.kb(jk,'pccPreviousPage');}}IPCC.Web.UI.af.addHandler(qg,Hf,EE);IPCC.Web.UI.af.addHandler(qg,BF,EE);jk=qg;JE=Jc;this.kb(bG,'pccPageListContainerPageChanging');if(cO>Jc){this.kb(qg,'pccPageForward');this.eG(gq,'pccPageBack');this.eG(gq,'pccPreviousPage');this.eG(gq,'pccPreviousPageIn');this.eG(gq,'pccNextPage');this.kb(gq,'pccCurrentPage');this.kb(gq,'pccNextPageIn');}else{this.kb(qg,'pccPageBack');this.eG(gq,'pccPageForward');this.eG(gq,'pccPreviousPage');this.eG(gq,'pccNextPage');this.eG(gq,'pccNextPageIn');this.kb(gq,'pccCurrentPage');this.kb(gq,'pccPreviousPageIn');}}else{bG.style.width=gq.style.width;bG.style.height=gq.style.height;if(cO>Jc){this.eG(qg,'pccNextPage');this.eG(qg,'pccCurrentPage');this.kb(qg,'pccPreviousPage');}else{this.eG(qg,'pccPreviousPage');this.eG(qg,'pccCurrentPage');this.kb(qg,'pccNextPage');}this.eG(gq,'pccPreviousPage');this.eG(gq,'pccNextPage');this.kb(gq,'pccCurrentPage');nt=IPCC.K.filter(cN,function(el){return el.aw===bi+1;});Ml(nt);setTimeout(function(){oA();},60);}IPCC.K.forEach(zN,amI);}}};this.aDV=function(){if(bE.length>0){V.qt(0);}};this.aEB=function(){if(cO<bE.length-1){V.qt(bE.length-1);}};this.aEz=function(ca){if(tk===false){return "CommentsPanelClosed";}var fa=cN[ca.get_mark().get_markID()];if(!fa){return "ConversationDivDoesNotExist";}if(dC===IPCC.ViewMode.SinglePage&&fa.aw-1!==cO){return "SinglePageModePageNotShown";}var bI=document.getElementById(bE[fa.aw-1].aS);if(bE[fa.aw-1].ha===false||bI===undefined||bI.am===undefined||bI.am===null||bI.am.fH()===false){return "PageOutOfView";}var R=ca.get_mark().get_boundingRectangle();var qJ=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var yR=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y),true);qJ.x=bG.offsetWidth;yR.x=bG.offsetWidth+wj();V.adg(bI.offsetTop,bI.offsetLeft,qJ,yR);return "Success";};this.aDT=function(bi,R){if(dC===IPCC.ViewMode.SinglePage&&bi!==cO){return true;}var bI=document.getElementById(bE[bi].aS);if(bE[bi].ha===false||bI===undefined||bI.am===undefined||bI.am===null||bI.am.fH()===false){return false;}var qJ=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var yR=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y+R.height),true);V.adg(bI.offsetTop,bI.offsetLeft,qJ,yR);return true;};this.aEq=function(asU,asu){aD.scrollTop+=Math.round(asu);aD.scrollLeft+=Math.round(asU);};this.adg=function(aBo,aAW,qJ,yR){var abw=yR.x-qJ.x;var abd=yR.y-qJ.y;var cC=new IPCC.Web.UI.Point(0,0);if(abw>aD.clientWidth){cC.x=qJ.x;}else{cC.x=qJ.x+(abw/2);}if(abd>aD.clientHeight){cC.y=qJ.y;}else{cC.y=qJ.y+(abd/2);}if(fj===IPCC.PageLayout.VerticalScrollDirection){aD.scrollTop=aBo+cC.y-aD.clientHeight/2;aD.scrollLeft=cC.x-aD.clientWidth/2;}else{aD.scrollLeft=aAW+cC.x-aD.clientWidth/2;aD.scrollTop=cC.y-aD.clientHeight/2;}};this.anC=function(){var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C=0;for(C=0;C<dw.length;C++){IO(dw[C]);}if(V.Bu.get_length()>0){V.Bu.removeAllDocuments();}};this.VJ=function(bi,bQ,dz,dR){if(bE[bi]&&bE[bi].ha===true){var aj=document.getElementById(bE[bi].aS);if(aj&&aj.am&&aj.am.fH()===true){if(dR){IPCC.av.dR(dR,"selectText");var gU=aj.am.Df();var azh=gU.ke;var aDW=gU.eQ;gU.ke=dR;gU.eQ=dR;aj.am.showTextSelection(bQ,dz);gU.ke=azh;gU.eQ=aDW;}else{aj.am.showTextSelection(bQ,dz);}}}};this.aok=function(){var cI=jo();var dw=[];if(cI){dw=qn(cI);}var C;for(C=0;C<dw.length;C++){if(bE[dw[C]].ha===true){var dZ=document.getElementById(bE[dw[C]].aS),am=dZ?dZ.am:undefined;if(am&&am.fH()===true){am.showEmptyTextSelection(0);am.extendTextSelection(undefined);am.display();}}}};this.aom=function(bi){if(bE[bi]&&bE[bi].ha===true){var dZ=document.getElementById(bE[bi].aS),am=dZ?dZ.am:undefined;if(am&&am.fH()===true){am.showEmptyTextSelection(0);am.extendTextSelection(undefined);am.display();}}};this.tn=function(){var bI,aJ,am;bL=null;IPCC.K.forEach(Pj,function(C){bI=bE[C];aJ=document.getElementById(bI.aS);if(aJ){am=aJ.am;}if(am){if(am.fH()&&am.Dg()){am.showEmptyTextSelection(0);am.extendTextSelection(undefined);if(bI.ha){am.display();}}}bI=aJ=am=undefined;});};this.wr=function(bi,sd){var aj;var bK;var abY=function(apH,aya){return(apH+aya)%360;};bE[bi].gu=abY(bE[bi].gu,sd);if(bE[bi].aS){aj=document.getElementById(bE[bi].aS);}if(aj===undefined||aj===null){return;}bK=aj.am;if(bK&&bK.fH()===false){bE[bi].Eh=abY(bE[bi].Eh,sd);return;}tp=true;if(bK&&bK.fH()===true){bK.rotate(sd);}var bV=0;var aK=0;var er=fV;var eY=jj;if(hV(pH)===true){er=jj;eY=fV;}if(hV(bE[bi].gu)===true){if(bK&&bK.fH()===true){bV=bK.get_pageHeight();aK=bK.get_pageWidth();}else{bV=jj;aK=fV;}}else{if(bK&&bK.fH()===true){bV=bK.get_pageWidth();aK=bK.get_pageHeight();}else{bV=fV;aK=jj;}}tp=true;if(dC===IPCC.ViewMode.SinglePage){aj.style.width=bV*dg*cw/bE[bi].fS+'px';aj.style.height=aK*dg*cw/bE[bi].gD+'px';if(bi===cO){bG.style.width=bV*dg*cw/bE[bi].fS+'px';bG.style.height=aK*dg*cw/bE[bi].gD+'px';}}else if(dC===IPCC.ViewMode.Document){aj.style.width=bV*dg*cw/bE[bi].fS+'px';aj.style.height=aK*dg*cw/bE[bi].gD+'px';var C=0;if(fj===IPCC.PageLayout.VerticalScrollDirection){if(bV*dg*cw/bE[bi].fS>gZ){gZ=bV*dg*cw/bE[bi].fS;}else if(aj.clientHeight>=gZ-10){gZ=0;for(C=0;C<bE.length;C++){aj=document.getElementById(bE[C].aS);if(aj&&aj.clientWidth>gZ){gZ=aj.clientWidth;}}}if(aK*dg*cw/bE[bi].gD>gO){gO=aK*dg*cw/bE[bi].gD;}}else{if(aK*dg*cw/bE[bi].gD>gO){gO=aK*dg*cw/bE[bi].gD;}else if(aj.clientWidth>=gO-10){gO=0;for(C=0;C<bE.length;C++){aj=document.getElementById(bE[C].aS);if(aj&&aj.clientHeight>gO){gO=aj.clientHeight;}}}if(bV*dg*cw/bE[bi].fS>gZ){gZ=bV*dg*cw/bE[bi].fS;}}}else{var fR;if(fj===IPCC.PageLayout.VerticalScrollDirection){fR=er/bV*dg*cw/bE[bi].gD;if(bK&&bK.fH()===true){bK.zoom(fR);}tp=true;aj.style.width=er*dg*cw/bE[bi].fS+'px';aj.style.height=fR*aK+'px';}else{fR=eY/aK*dg*cw/bE[bi].gD;if(bK&&bK.fH()===true){bK.zoom(fR);}tp=true;aj.style.height=eY*dg*cw/bE[bi].gD+'px';aj.style.width=fR*bV+'px';}if(er*dg*cw/bE[bi].fS>gZ){gZ=er*dg*cw/bE[bi].fS;}if(eY*dg*cw/bE[bi].gD>gO){gO=eY*dg*cw/bE[bi].gD;}}if(bK&&bK.fH()===true){tp=true;this.vv(aj,bi);setTimeout(function(){if(tk===false){return;}var jg=vK();var nt=IPCC.K.filter(cN,function(el){return bi===el.aw-1;});zT(nt);lo(nt,true,jg);},0);}};this.axx=function(sd){var wu=cO;this.wr(cO,sd);if(dC!==IPCC.ViewMode.SinglePage){var V=this;setTimeout(function(){V.qt(wu);},10);}};this.acq=function(sd){var wu=cO;var cI=jo();if(dC!==IPCC.ViewMode.SinglePage){this.qt(wu);}var gA=0;var fX=bE.length-1;var C;for(C=gA;C<=fX;C++){this.wr(C,sd);}if(dC!==IPCC.ViewMode.SinglePage){var V=this;setTimeout(function(){afR(cI);V.qt(wu);},10);}};function akv(AQ,nr){var mK=0;var oK=0;var Eo=false;tp=true;var cI=jo();if(cI){IPCC.K.forEach(cI.Jg,function(bP){var hw=fj===IPCC.PageLayout.VerticalScrollDirection?bP.bU+fM:bP.bd+hB+gr;var axm=AQ.Jg[bP.ab];if(axm.xR){Eo=true;return;}if(nr&&bP.ab>=nr.iT&&bP.ab<=nr.iU){var aj=document.getElementById(bE[bP.ab].aS);if(aj){return;}}if(Eo){oK+=hw;}else{mK+=hw;}});}return{oK:oK,mK:mK};};function afR(AQ){if(dC===IPCC.ViewMode.SinglePage){return;}var nr=MI(AQ);var rj=akv(AQ,nr);if(fj===IPCC.PageLayout.VerticalScrollDirection){bG.style.paddingTop=rj.mK+'px';bG.style.paddingBottom=rj.oK+'px';}else{bG.style.paddingLeft=rj.mK+'px';bG.style.paddingRight=rj.oK+'px';}};function atv(AQ){if(dC===IPCC.ViewMode.SinglePage){return;}var PY;var nr;if(fj===IPCC.PageLayout.VerticalScrollDirection){PY=parseInt(window.getComputedStyle(bG,null).getPropertyValue('padding-top'),10);}else{PY=parseInt(window.getComputedStyle(bG,null).getPropertyValue('padding-left'),10);}nr=MI(AQ);var rj=akv(AQ,nr);if(fj===IPCC.PageLayout.VerticalScrollDirection){bG.style.paddingTop=rj.mK+'px';bG.style.paddingBottom=rj.oK+'px';aD.scrollTop=aD.scrollTop+rj.mK-PY;}else{bG.style.paddingLeft=rj.mK+'px';bG.style.paddingRight=rj.oK+'px';aD.scrollLeft=aD.scrollLeft+rj.mK-PY;}};this.MK=function(bi){IPCC.av.jP(bi,'pageIndex',0,bE.length-1);var bI=bE[bi];if(bI&&bI.aS&&(bI.CS===true||bI.wM===false)){var aG;var aj=document.getElementById(bI.aS);if(aj.am){aj.am.dispose();}agh(aj);aG=new IPCC.Web.UI.PageView(aj,false,aD);if(aG){aG.set_autoUpdate(false);aG.tF(aj);aG.initialize();aG.set_imageHandlerUrl(bI.aP.rQ);aG.set_requireRequestsOptimize(tO);if(jW!==undefined){aG.set_serviceResponseTimeout(jW);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.Py(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);ZG(aG,bI);Zf(aG);ZT(aG);Yi(aG);YW(aG);}aG.set_textRequired(su);aG.set_markHandleMode(sR);aG.set_debug(_debug);aG.set_gamma(pM);aG.set_sharpening(qh);aG.set_svgLineWidthMultiplier(jO);aG.set_debugErrorLevel(pa);aG.lF(V.jh());if(qQ){aG.set_resourcePath(qQ);}if(jq){aG.Hl(jq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.qW(V.lK());bI.CS=false;bI.zt=false;var Aa={encodedDocumentIdentifier:bI.aP.get_encodedDocumentIdentifier(),pageNumber:bi,artServiceOption:0,documentArtPage:bI.fg,viewRotationDegreesClockwise:bI.gu};if(bI.ap){Aa.artPage=bI.ap;}if(bI.fg){Aa.documentArtPage=bI.fg;}aG.openPage(Aa);bI.wM=true;lx++;}};function abO(eo,eJ){if(fV<=0){return;}var er=fV;var eY=jj;var ft=cw/bE[0].fS;if(hV(pH)===true){er=jj;eY=fV;ft=cw/bE[0].gD;}var jN=1;if(fj===IPCC.PageLayout.VerticalScrollDirection){jN=(aD.clientWidth-wj()-(hB+gr+oE+oP))/(er*ft);}else{jN=(aD.clientHeight-(fM+ir+oh+qy))/(eY*ft);}var uo;if(dg<=jN){uo=false;}else if(dg>jN){uo=true;}if(isNaN(jN)||jN<=0||Math.abs(jN)===Infinity){return;}dg=jN;gZ=0;gO=0;var gA=0;var fX=bE.length-1;var bu=0;var bK;for(bu=gA;bu<=fX;bu++,bK=undefined){var aj=document.getElementById(bE[bu].aS);if(aj){bK=aj.am;}if(bK===undefined){continue;}var bV=er;var aK=eY;if(bE[bu].kd()>0){if(hV(bE[bu].gu)===true){bV=bE[bu].nQ();aK=bE[bu].kd();}else{bV=bE[bu].kd();aK=bE[bu].nQ();}}var fR=1;if(fj===IPCC.PageLayout.VerticalScrollDirection){fR=er/bV*dg*ft;aj.style.width=er*dg*ft+'px';aj.style.height=aK*fR+'px';if(er*dg*ft>gZ){gZ=er*dg*ft;}if(aK*fR*cw/bE[bu].gD>gO){gO=aK*fR*ft;}}else{fR=eY/aK*dg;aj.style.height=eY*dg*ft+'px';aj.style.width=bV*fR*ft+'px';if(bV*dg*cw/bE[bu].fS>gZ){gZ=bV*dg*ft;}if(eY*fR*ft>gO){gO=eY*fR*ft;}}if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.zoom(fR);}if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.display();}bK=undefined;}jo();oA();setTimeout(function(){zT(cN);lo(cN);},0);V.bg('scaleChanged',{scaleType:(uo)?"scaledDown":"scaledUp",scaleTrigger:eo,fitType:eJ,scaleFactor:dg});};function hV(hE){switch(hE){case 90:case 270:case-90:case-270:return true;default:return false;}};function hk(rk){var wE=document.createElement('div');var C;for(C in rk){if(rk.hasOwnProperty(C)){wE.style[C]=rk[C];}}return wE;};this.anZ=function(){if(If===undefined||If===null){If=1;}var dE=this.mp().id.toString()+'_'+If.toString();If++;return dE;};this.abB=function(){return this.Bu;};this.hu=function(awn){for(var rd=0;rd<bE.length;rd++){var aud=bE[rd];if(awn===aud.fJ){return bE[rd].ap;}}return null;};this.aIA=function(jy){var aj=document.getElementById(bE[jy.get_pageNumber()].aS);if(aj){return aj.am.mO();}return null;};function apY(bn,T){YI(T);};function YI(ag){var hG=ag.imGearDocument;var awS=V.anZ();hG.MN=awS;var cZ=hG.get_pages();var dv=cZ.get_length();if(dv>0){var Ou=document.createDocumentFragment();for(var bu=0;bu<dv;bu++){var bI=cZ.getPage(bu);if(!bI.aP){bI.aP=hG;}HI(bI,bI.get_pageNumber()===0?null:Ou);}bG.appendChild(Ou);}};var apb=IPCC.K.alK(function(){if(Ig.length>0&&mW){var co;var IM;var Jp=0;IPCC.K.forEach(Ig,akE);var aaR=jo();if(!aaR){return;}var fP=aaR.Jg;IPCC.K.forEach(Ig,function(bI,ab){co=bI.nJ();IM=fP[co];if(fj===IPCC.PageLayout.VerticalScrollDirection){Jp+=IM.bU+fM;}else{Jp+=IM.bd+hB;}});if(Jp&&dC!==IPCC.ViewMode.SinglePage){if(fj===IPCC.PageLayout.VerticalScrollDirection){bG.style.paddingBottom=Jp+'px';}else{bG.style.paddingRight=Jp+'px';}}zT(cN,true);lo(cN,true);if(V.Bu.Pn(0).es===bE.length){V.bg('allPagesAdded');}oA();}Ig=[];},10);function Uq(bn,T){if(T.imGearPage.get_pageNumber()===0){HI(T.imGearPage);return;}Ig.push(T.imGearPage);apb();};function Um(bn,T){var co=T.imGearPage.get_pageNumber();var SM=T.imGearPage.aP.get_documentIdentifier();for(var bu=0;bu<bE.length;bu++){if(bE[bu].fJ.get_pageNumber()===co&&bE[bu].fJ.aP.get_documentIdentifier()===SM){var aj=document.getElementById(bE[bu].aS);if(aj){bG.removeChild(aj);if(aj.am){aj.am.dispose();var nt=IPCC.K.filter(cN,function(el){return el.aw===bE[bu].co+1;});GK(nt);}}bE.splice(bu,1);}}};function akE(jy){if(!IPCC.K.contains(bE,jy)){var aH=new IPCC.aH({page:jy});if(pH){aH.gu=pH;}if(!aH.aP){aH.aP=jy.aP;}bE.push(aH);IPCC.Pagecounter++;bE=bE.sort(function(cR,fk){return cR.co-fk.co;});asp(jy);asZ(jy);atl(jy);aH.auo=false;aH.zt=false;asM(aH);asg(aH);Zv(aH);arP(aH);asf(aH);aso(aH);arR(aH);asm(aH);ati(aH);arE(aH);return aH;}};function HI(bI,Ou){var MV=bI.get_pageNumber();var dm=V.mp();var hG=null;var UO;var dv=V.get_documents().get_length();for(var aV=0;aV<dv;aV++){hG=V.get_documents().getDocument(aV);if(hG!==null){UO=hG.MN;if(UO===bI.aP.MN){break;}}}var hd=IPCC.K.find(bE,function(aH){return aH.fJ&&aH.fJ===bI;});if(!hd){hd=akE(bI);}hd.Gb=true;var adl=hd.aS;if(hd.Ki===1){return document.getElementById(adl);}hd.Ki=1;if(bG===''){ale();}var ni=(function(){var ae;if(dC!==IPCC.ViewMode.SinglePage){ae=hk({overflow:'hidden',position:'relative'});}else{ae=hk({overflow:'hidden',position:'absolute',margin:'0px'});if(hd.co>cO){V.kb(ae,'pccNextPage');}else if(hd.co<cO){V.kb(ae,'pccPreviousPage');}else{V.kb(ae,'pccCurrentPage');}}qj.push(bI.co);V.kb(ae,'pccPageListItem');agh(ae);var DA=ZO(hd);ae.style.width=DA.bd+'px';ae.style.height=DA.bU+'px';var cI=jo();var OC;if(fj===IPCC.PageLayout.VerticalScrollDirection||dC===IPCC.ViewMode.SinglePage){ae.style.display='block';if(fV>0){ae.style.margin=fM+'px auto '+ir+'px auto';}if(cI.df.length>0&&dC!==IPCC.ViewMode.SinglePage){OC=cI.df[0];if(MV<OC.ab){var aqu=IPCC.K.Qe(bG,'padding-top');var aqn=IPCC.K.LG(aqu);var VL=aqn-DA.bU-fM;if(VL<0){VL=0;}bG.style.paddingTop=VL+'px';}else{var aoI=IPCC.K.Qe(bG,'padding-bottom');var apa=IPCC.K.LG(aoI);var Wd=apa-DA.bU-fM;if(Wd<0){Wd=0;}bG.style.paddingBottom=Wd+'px';}}}else{ae.style.display='inline-block';if(fV>0){ae.style.margin=fM+'px '+hB+'px '+ir+'px '+gr+'px';}if(cI.df.length>0&&dC!==IPCC.ViewMode.SinglePage){OC=cI.df[0];if(MV<OC.ab){var anU=IPCC.K.Qe(bG,'padding-left');var aoO=IPCC.K.LG(anU);var VT=aoO-DA.bd-hB;if(VT<0){VT=0;}bG.style.paddingLeft=VT+'px';}else{var anH=IPCC.K.Qe(bG,'padding-right');var anE=IPCC.K.LG(anH);var VO=anE-DA.bd-hB;if(VO<0){VO=0;}bG.style.paddingRight=VO+'px';}}}ae.setAttribute('id',adl);return ae;}());hd.fJ=hd.fJ||bI;hd.anf=hd.anf||UO;hd.gu=hd.gu!==undefined?hd.gu:pH;hd.ha=false;function apw(dZ){var Wv=dZ.childNodes;var awG=IPCC.K.find(bE,function(aH){if(aH.co<=MV){return;}var iR=IPCC.K.find(Wv,function(iR){return iR.id&&iR.id===aH.aS;});if(!iR){return;}if(aH.co>MV){iR.parentElement.insertBefore(ni,iR);return true;}});if(!awG){dZ.appendChild(ni);}}(function aFa(){if(bE.length===1){bG.appendChild(ni);}else{return apw(Ou||bG);}}());var avb=false;if(ni&&dm.clientWidth>0){var arf=dm.clientWidth/(ni.clientWidth+(ni.clientLeft*2));var avn=dm.clientHeight/(ni.clientHeight+(ni.clientTop*2));if(bE.length<(arf*avn)){avb=true;}}if(bE.length<2){var aG=new IPCC.Web.UI.PageView(ni,false,aD);if(aG){aG.set_autoUpdate(false);aG.tF(ni);aG.initialize();aG.set_imageHandlerUrl(bI.aP.rQ);aG.set_imGearPage(hd.fJ);aG.set_artPage(hd.ap);aG.set_documentArtPage(hd.fg);aG.set_requireRequestsOptimize(tO);if(jW!==undefined){aG.set_serviceResponseTimeout(jW);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.set_textRequired(su);aG.set_markHandleMode(sR);aG.set_debug(_debug);aG.set_gamma(pM);aG.set_sharpening(qh);aG.set_svgLineWidthMultiplier(jO);aG.set_debugErrorLevel(pa);aG.lF(V.jh());if(qQ){aG.set_resourcePath(qQ);}if(jq){aG.Hl(jq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.qW(V.lK());aG.Py(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);}ZG(aG,hd);ZT(aG);Yi(aG);Zf(aG);YW(aG);aG.openPage({encodedDocumentIdentifier:bI.aP.get_encodedDocumentIdentifier(),pageNumber:bI.get_pageNumber(),artServiceOption:0,imGearPage:hd.fJ,artPage:hd.ap,documentArtPage:hd.fg,viewRotationDegreesClockwise:hd.gu});hd.wM=true;lx++;}return ni;};function amV(aH){return aH.Gb;};function oA(){if(lx>0||mW===false||jk!==null){return;}if(BA){return;}var cI=jo();if(!cI){return;}bE.forEach(function(bI,ab){if(!bI.ha){return;}V.FT(ab);});var zN=apZ(cI);IPCC.K.forEach(zN||[],function(ab){var bI=bE[ab];if(bI){amI(bI);}});IPCC.K.forEach(cI.df,function(IM){var aH=bE[IM.ab];if(amV(aH)&& !aH.ha&&aH.Ki){Lo(aH);}});var nr=MI(cI);for(var ab=nr.iT;ab<=nr.iU;ab++){var aH=bE[ab];if(!amV(aH)){aH.Gb=true;var Tg=V.abB();var hG=Tg.Pn(0);var jy=hG.cZ.iJ(ab);HI(jy);amE(aH,false);}}arK();};function apZ(cI){var avu=qn(cI);var zN=[];IPCC.K.forEach(avu,function(ab){var bI=bE[ab];if(bI&&bI.Ki===0){var Tg=V.abB();var hG=Tg.Pn(0);var jy=hG.cZ.iJ(ab);HI(jy);zN.push(ab);}});return zN;};function arK(){var uc=aD.scrollTop;var uS=aD.scrollLeft;var uZ=aD.clientHeight;var ud=aD.clientWidth;var uu=aD.scrollWidth;var ty=aD.scrollHeight;var cI=YY({uc:uc,uS:uS,uZ:uZ,ud:ud,uu:uu,ty:ty});var nr=MI(cI);var ant=atb(cI);var mK=0;var oK=0;var Eo=false;IPCC.K.forEach(cI.Jg,function(bP){var hw=fj===IPCC.PageLayout.VerticalScrollDirection?bP.bU+fM:bP.bd+hB+gr;var ab= +bP.ab;if(bP.xR||(dC===IPCC.ViewMode.SinglePage&&ab===cO)){Eo=true;return;}if(ab>=nr.iT&&ab<=nr.iU){if(ab>=ant.iT&&ab<=ant.iU){return;}if(Eo){if(IO(ab,true)> -1){oK+=hw;}}else{if(IO(ab,true)> -1){mK+=hw;}}return;}if(Eo){oK+=hw;IO(ab);}else{mK+=hw;IO(ab);}});if(dC===IPCC.ViewMode.SinglePage){return;}if(fj===IPCC.PageLayout.VerticalScrollDirection){bG.style.paddingTop=mK+'px';bG.style.paddingBottom=oK+'px';}else{bG.style.paddingLeft=mK+'px';bG.style.paddingRight=oK+'px';}};function IO(bu,aCX){var bI=bE[bu];if(!bI){return-1;}var co=bI.co;if(aCX===true&& !bI.ha){return-1;}bI.zt=false;bI.wM=false;bI.ha=false;bI.Ki=0;bI.Gb=false;if(NN&& !bI.fJ.cF().aCT()&&Or!==true){bI.fJ.alZ();}var ym=document.getElementById(bI.aS);if(!ym){return-1;}if(ym.am){ym.am.dispose();var nt=IPCC.K.filter(cN,function(el){return el.aw===co+1;});GK(nt);ym.parentElement.removeChild(ym);return bu;}else{ym.parentElement.removeChild(ym);}return-1;};function Lo(aH){var ae=document.getElementById(aH.aS);V.vv(ae,aH.co);};function amI(aH){amE(aH,true);Lo(aH);};function amE(bI,atg){var ae=document.getElementById(bI.aS);if(ae===null){return;}var aG=new IPCC.Web.UI.PageView(ae,false,aD);aG.set_autoUpdate(false);aG.tF(document.getElementById(bI.aS));aG.initialize();aG.set_imageHandlerUrl(bI.aP.rQ);aG.set_imGearPage(bI.fJ);aG.set_artPage(bI.ap);aG.set_requireRequestsOptimize(tO);if(jW!==undefined){aG.set_serviceResponseTimeout(jW);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.set_textRequired(su);aG.set_markHandleMode(sR);aG.set_debug(_debug);aG.set_gamma(pM);aG.set_sharpening(qh);aG.set_svgLineWidthMultiplier(jO);aG.set_debugErrorLevel(pa);aG.lF(V.jh());if(qQ){aG.set_resourcePath(qQ);}if(jq){aG.Hl(jq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.qW(V.lK());aG.Py(bD===IPCC.Web.UI.MouseTool.HandPan||bD===IPCC.Web.UI.MouseTool.EditMarks);ZG(aG,bI);ZT(aG);Yi(aG);Zf(aG);YW(aG);if(atg===true){aG.add_pageOpened(function aEO(bv){V.vv(ae,bI.co);});}if(bI.zt===false&&bI.fJ){bI.Gb=true;var Aa={encodedDocumentIdentifier:bI.fJ.aP.get_encodedDocumentIdentifier(),pageNumber:bI.fJ.get_pageNumber(),imGearPage:bI.fJ,viewRotationDegreesClockwise:bI.gu};if(bI.ap){Aa.artPage=bI.ap;}if(bI.fg){Aa.documentArtPage=bI.fg;}aG.openPage(Aa);bI.wM=true;lx++;}};function agK(ap,hD){var bB;ap.forEachMark(function(G){switch(G.get_type()){case IPCC.Web.UI.MarkType.Line:var ar=G.get_points();var aT=ar.Ac(0);var kz=ar.Ac(1);ar.setPoint(0,new IPCC.Web.UI.Point(aT.x*hD,aT.y*hD));ar.setPoint(1,new IPCC.Web.UI.Point(kz.x*hD,kz.y*hD));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bB=G.get_rectangle();G.set_rectangle({x:bB.x*hD,y:bB.y*hD,width:bB.width*hD,height:bB.height*hD});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:bB=G.get_rectangle();G.set_rectangle({x:bB.x*hD,y:bB.y*hD,width:bB.width*hD,height:bB.height*hD});var bH=G.bH,hA;for(var i=0;i<bH.length;i++){hA=bH[i];hA.x=hA.x*hD;hA.y=hA.y*hD;hA.width=hA.width*hD;hA.height=hA.height*hD;}break;default:break;}});};function ZG(aG,bI){function apB(sender,evnt){var acC=function(bd,bU,aw){var RS={'width':bd,'height':bU,'pageNumber':aw};V.bg('pageOpening',RS);};var co=evnt.pageNumber;var SM=evnt.documentIdentifier;bI.bV=aG.get_pageWidth();bI.aK=aG.get_pageHeight();var hh=aG.get_pageXResolution();var hb=aG.get_pageYResolution();if(!isNaN(parseFloat(hh))&&isFinite(hh)){bI.fS=hh;}if(!isNaN(parseFloat(hb))&&isFinite(hb)){bI.gD=hb;}aG=null;for(var bu=0;bu<bE.length;bu++){if(mW&&bE[bu].fJ.get_pageNumber()===co&&bE[bu].fJ.aP.get_documentIdentifier()===SM){bE[bu].wM=false;bE[bu].zt=true;bE[bu].CS=false;if(dC===IPCC.ViewMode.SinglePage){var lX= -1;if(Array.prototype.indexOf){lX=qj.indexOf(bu);}else{lX=IPCC.Web.kP(qj,bu);}if(lX!== -1){qj.splice(lX,1);}}var aiq=false;for(var aV=0;aV<Pj.length;aV++){if(Pj[aV]===bu){aiq=true;}}if(aiq===false){Pj.push(bu);}var lf=0;var kR=0;var aj=document.getElementById(bE[bu].aS);var bK=aj.am;var er;var eY;var Yv;if(fV===0&&(bu===0||bE[0].CS===true)){if(aj.currentStyle){oh=parseInt(aj.currentStyle.borderTopWidth,10)||0;fM=parseInt(aj.currentStyle.marginTop,10)||0;oE=parseInt(aj.currentStyle.borderLeftWidth,10)||0;hB=parseInt(aj.currentStyle.marginLeft,10)||0;qy=parseInt(aj.currentStyle.borderBottomWidth,10)||0;ir=parseInt(aj.currentStyle.marginBottom,10)||0;oP=parseInt(aj.currentStyle.borderRightWidth,10)||0;gr=parseInt(aj.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var yU=document.defaultView.getComputedStyle(aj);oh=parseInt(yU.borderTopWidth,10)||0;fM=parseInt(yU.marginTop,10)||0;oE=parseInt(yU.borderLeftWidth,10)||0;hB=parseInt(yU.marginLeft,10)||0;qy=parseInt(yU.borderBottomWidth,10)||0;ir=parseInt(yU.marginBottom,10)||0;oP=parseInt(yU.borderRightWidth,10)||0;gr=parseInt(yU.marginRight,10)||0;}if(dC===IPCC.ViewMode.SinglePage){aj.style.margin=fM+'px 0px '+ir+'px 0px';bG.style.margin="0px auto";}else{if(fj===IPCC.PageLayout.VerticalScrollDirection){aj.style.margin=fM+'px auto '+ir+'px auto';}else{aj.style.margin=fM+'px '+gr+'px '+ir+'px '+hB+'px';bG.style.margin='0px '+gr+'px 0px '+hB+'px';}}fV=bK.get_pageWidth();jj=bK.get_pageHeight();agu=hh;er=fV;eY=jj;var ft=cw/bE[bu].fS;if(hV(bE[bu].gu)===true){eY=fV;er=jj;ft=cw/bE[bu].gD;}if(dC===IPCC.ViewMode.SinglePage){var aqr=(aD.offsetWidth-(hB+gr+oE+oP));var apS=(aD.offsetHeight-(fM+ir+oh+qy+aCi));nV=aqr/(er*ft);Yv=apS/(eY*ft);if(Yv<nV){nV=Yv;}bK.zoom(nV*ft);}else if(fj===IPCC.PageLayout.VerticalScrollDirection){nV=(aD.offsetWidth-IPCC.Web.oZ()-(hB+gr+oE+oP))/(er*ft);bK.zoom(nV*ft);}else{nV=(aD.offsetHeight-IPCC.Web.oZ()-(fM+ir+oh+qy))/(eY*ft);bK.zoom(nV*ft);}lf=er*nV*ft;kR=eY*nV*ft;aj.style.width=lf+'px';aj.style.height=kR+'px';if(dC===IPCC.ViewMode.SinglePage){bG.style.width=lf+'px';bG.style.height=kR+'px';}if(dC!==IPCC.ViewMode.SinglePage){for(var rd=0;rd<bE.length;rd++){if(bE[rd].ha===false&&rd!==bu){if(bE[rd].aS){aj=document.getElementById(bE[rd].aS);aj.style.width=er*nV+'px';aj.style.height=eY*nV+'px';if(fj===IPCC.PageLayout.VerticalScrollDirection){aj.style.margin=fM+'px auto '+ir+'px auto';}else{aj.style.margin=fM+'px '+gr+'px '+ir+'px '+hB+'px';}}}}}dg=nV;acC(bI.bV,bI.aK,co+1);aj.am.display();}else{if(dC===IPCC.ViewMode.Document||dC===IPCC.ViewMode.SinglePage){if(hV(bE[bu].gu)===true){lf=bK.get_pageHeight()*dg*cw/bE[bu].fS;kR=bK.get_pageWidth()*dg*cw/bE[bu].gD;}else{lf=bK.get_pageWidth()*dg*cw/bE[bu].fS;kR=bK.get_pageHeight()*dg*cw/bE[bu].gD;}}else{var fR;var bV=bK.get_pageWidth();var aK=bK.get_pageHeight();er=fV;eY=jj;if(hV(pH)===true){er=jj;eY=fV;}if(hV(bE[bu].gu)===true){bV=bK.get_pageHeight();aK=bK.get_pageWidth();}if(fj===IPCC.PageLayout.VerticalScrollDirection){fR=er/bV*dg*cw/bE[0].gD;lf=er*dg*cw/bE[0].fS;kR=aK*fR;}else{fR=eY/aK*dg*cw/bE[0].fS;kR=eY*dg*cw/bE[0].gD;lf=bV*fR;}}if(lf!==Math.round(lf)){lf=Math.floor(lf*100)/100;}if(kR!==Math.round(kR)){kR=Math.floor(kR*100)/100;}if(aj.style.width!==lf+'px'||aj.style.height!==kR+'px'){if(fj===IPCC.PageLayout.VerticalScrollDirection){aj.style.width=lf+'px';aj.style.height=kR+'px';}else{aj.style.width=lf+'px';aj.style.height=kR+'px';}zT(cN,true);lo(cN,true);}acC(bI.bV,bI.aK,co+1);}if(lf>gZ){gZ=lf;if(fj===IPCC.PageLayout.VerticalScrollDirection){aD.scrollLeft=(gZ-aD.clientWidth)/2;}}if(kR>gO){gO=kR;if(fj===IPCC.PageLayout.HorizontalScrollDirection){aD.scrollTop=(gO-aD.clientHeight)/2;}}if(bE[bu].Eh>0){var YL=document.getElementById(bE[bu].aS).am;if(YL){YL.rotate(bE[bu].Eh);YL.display();bE[bu].Eh=0;}}if(lx>0){lx=lx-1;}if(bE[bu].ahY()===true){var jy=bE[bu].fJ;var hD=bE[bu].kd()/jy.aji();if(hD!==1){var ap=V.hu(jy);if(ap){agK(ap,hD);}}}bE[bu].SJ(false);jo();var Hz=new IPCC.OpenPageEventArgs();Hz.pageIndex=evnt.pageNumber;Hz.imGearPage=evnt.imGearPage;Hz.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Hz.pageNodeID=bE[bu].aS;V.bg('pageOpened',Hz);break;}}if(lx===0&&lJ===null&&jk===null){setTimeout(function(){oA();},60);}};aG.add_pageOpened(apB);};function ZT(aG){function aqv(bn,aA){if(mW===false){return;}var wJ;if(aA.pageNumber>=0){if(bE[aA.pageNumber].aS){wJ=bE[aA.pageNumber].aS;}}bE[aA.pageNumber].CS=true;bE[aA.pageNumber].wM=false;bE[aA.pageNumber].zt=false;bE[aA.pageNumber].ha=false;var pn=new IPCC.ExceptionEventArgs();pn.exception=aA.exception;pn.pageIndex=aA.pageNumber;pn.pageNodeID=wJ;V.bg('pageOpenFailed',pn);if(lx>0){lx=lx-1;if(lx===0){setTimeout(function(){oA();},60);}}};aG.add_pageOpenFailed(aqv);};function Yi(aG){function arm(bn,aA){if(mW===false){return;}var T=new IPCC.PageEventArgs();T.pageIndex=aA.aw;T.imGearPage=bE[aA.aw].fJ;T.pageNodeID=bE[aA.aw].aS;bE[aA.aw].ha=true;if(dC===IPCC.ViewMode.SinglePage){var lX= -1;if(Array.prototype.indexOf){lX=qj.indexOf(aA.aw);}else{lX=IPCC.Web.kP(qj,aA.aw);}if(lX!== -1){qj.splice(lX,1);}}V.bg('pageDisplayed',T);setTimeout(function(){var nt=IPCC.K.filter(cN,function(el){if(dC===IPCC.ViewMode.SinglePage){return aA.aw===el.aw-1&&el.aw-1===cO;}else{return aA.aw===el.aw-1;}});zT(nt);lo(nt);},0);};aG.add_pageDisplayed(arm);};function asZ(bI){function JX(bn,aA){if(mW===false){return;}V.bg('textPageReady',{pageIndex:aA.pageNumber,containsText:aA.containsText});var cI=jo();var dw=[];if(cI){dw=qn(cI);}if(aA.containsText===true&&aA.pageNumber>=dw[0]&&aA.pageNumber<=dw[dw.length-1]){if(bE[aA.pageNumber].ap&&bE[aA.pageNumber].ap.get_markCount()>0){var aj=document.getElementById(bE[aA.pageNumber].aS);V.vv(aj,aA.pageNumber);}}};bI.AP(JX);};function atl(bI){function asY(bn,aA){if(mW===false){return;}var fg=bE[aA.pageNumber].fg;bI.ajk().Jz().jK(function(hU){var G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bB=hU.eB();G.set_rectangle(new IPCC.Web.UI.Rectangle(bB.x,bB.y,bB.width,bB.height));G.set_href(hU.ain());G.set_lineColor(hU.aDn());G.set_lineWidth(hU.aGH());G.set_borderPattern(hU.aFu());G.set_borderType(hU.aGf());G.set_borderHorizontalRadius(hU.aFI());G.set_borderVerticalRadius(hU.aGi());G.set_borderOpacity(hU.aFo());fg.addMark(G);hU.aBR(G);});V.bg('hyperlinkPageReady',{pageIndex:aA.pageNumber});var cI=jo();var dw=[];if(cI){dw=qn(cI);}if(aA.pageNumber>=dw[0]&&aA.pageNumber<=dw[dw.length-1]){var aj=document.getElementById(bE[aA.pageNumber].aS);V.vv(aj,aA.pageNumber);}};bI.Wj(asY);};function asp(bI){function Jl(bn,aA){if(mW===false){return;}var wJ;if(aA.pageNumber>=0){if(bE[aA.pageNumber].aS){wJ=bE[aA.pageNumber].aS;}}V.bg('textExtractionFailed',{'exception':aA.exception,'pageIndex':aA.pageNumber,'pageNodeID':wJ});};bI.Aw(Jl);};function Zf(aG){function apP(bn,aA){if(mW===false){return;}var wJ;if(isNaN(aA.pageNumber)===false){if(aA.pageNumber>=0){if(bE[aA.pageNumber].aS){wJ=bE[aA.pageNumber].aS;}}bE[aA.pageNumber].CS=true;bE[aA.pageNumber].wM=false;bE[aA.pageNumber].zt=false;bE[aA.pageNumber].ha=false;}var pn=new IPCC.ExceptionEventArgs();pn.functionName=aA.function_name;pn.exception=aA.exception;pn.pageIndex=aA.pageNumber;pn.pageNodeID=wJ;V.bg('exceptionThrown',pn);if(lx>0){lx=lx-1;if(lx===0){setTimeout(function(){oA();},60);}}};aG.add_exceptionThrown(apP);};function YW(aG){function Jy(bn,aA){V.bg('markCreating',aA);};aG.add_markCreating(Jy);};function asM(aH){function amN(){if(mW===false){return;}var cI=jo();var dw=[];if(cI){dw=qn(cI);}if(aH.co>=dw[0]&&aH.co<=dw[dw.length-1]){var aj=document.getElementById(aH.aS);V.vv(aj,aH.co);}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;V.bg('marksLoaded',T);};aH.ap.add_marksLoaded(amN);};function asg(aH){function hN(bn,aA){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;T.clientX=aA.clientX;T.clientY=aA.clientY;V.bg('markAdded',T);};aH.ap.add_markAdded(hN);};function Zv(aH){var Vd,qM=false,Ys,Zq;function Js(H,fa){if(tk===false){return;}var jg=vK();ahg(H,fa,jg);lo(cN,true,jg);};function avc(H,fa){Ys=H;Zq=fa;if(qM&& !Vd){Vd=HS(function(){qM=false;Vd=undefined;if(Ys&&Zq){Js(Ys,Zq);}else{Js(H,fa);}});}};function mG(bn,aA){if(aA.mark.xG===true){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;T.propertyName=aA.propertyName;V.bg('markChanged',T);var fa=cN[aA.mark.get_markID()];if(fa&&(aA.propertyName==='rectangle'||aA.propertyName==='points'||aA.propertyName==='startPoint'||aA.propertyName==='endPoint')){qM=true;avc(aA.mark,fa);}else if(fa&&aA.propertyName==='visible'){var azj=aA.mark.get_visible();var aad=(function(dB){return IPCC.K.inArray(Nl(),dB.aw-1);})(fa);if(azj&&aad){Ml([fa]);lo(cN,true,vK());}else{GK([fa]);}}};aH.ap.add_markChanged(mG);};function arP(aH){function amy(bn,aA){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;T.oldZIndex=aA.oldZIndex;V.bg('markReordered',T);};aH.ap.add_markReordered(amy);};function asf(aH){function Dm(bn,aA){if(aA.mark.xG===true){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;V.bg('markSelectionChanged',T);};aH.ap.add_markSelectionChanged(Dm);};function arR(aH){function DJ(bn,aA){if(aA.mark){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;V.bg('markRemoved',T);var fa=cN[aA.mark.get_markID()];if(fa){if(aA.mark.get_conversation()===iz){iz=null;}fa.cE.parentElement.removeChild(fa.cE);delete cN[aA.mark.get_markID()];lo(cN,true);}}};aH.ap.add_markRemoved(DJ);};function aso(aH){function zQ(bn,aA){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.zIndex=aA.zIndex;V.bg('markTextSelectionChanged',T);};aH.ap.add_markTextSelectionChanged(zQ);};function ahg(H,fa,Ro){var aH=bE[fa.aw-1],bI=document.getElementById(aH.aS),AY=Xe(H,aH.co+1);if(bI.am){var cC=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(AY.x,AY.y),true);var qd=(fM*aH.co);var IK=(bI.offsetTop-qd+cC.y)/(Ro-(fM*bE.length));fa.bB=AY;fa.SU=IK;}};function GK(im,aw){var axz=typeof aw==='undefined';IPCC.K.forEach(im,function(aO){if(aO&&(axz||aO.pageNumber===aw)){aO.cE.style.display='none';aO.xR=false;}});};function wj(){if(lj.currentStyle&&lj.currentStyle.display==='none'){return 0;}return lj.clientWidth;};function vK(){if(lj.currentStyle&&lj.currentStyle.display==='none'){return 0;}return lj.offsetHeight;};function Ml(im,aw){var aBq=typeof aw==='undefined';IPCC.K.forEach(im,function(el){if(aBq||el.pageNumber===aw){el.cE.style.display='';el.xR=true;if(el&&el.G&&el.G.get_visible()===false){el.cE.style.display='none';el.xR=false;}}});};function zT(im,Vm){if(tk===false){return;}var Pv=(! !Vm)?IPCC.K.filter(cN,function(dB){return IPCC.K.contains(Nl(),dB.aw-1);}):im;var jg=vK();IPCC.K.forEach(Pv,function(el){ahg(el.G,el,jg);});};function aug(a,b){return(a.bB.y!==b.bB.y)?(a.bB.y-b.bB.y):(a.bB.x!==b.bB.x)?(a.bB.x-b.bB.x):(a.xA-b.xA);};function atC(a,b){return(a.bB.x!==b.bB.x)?(a.bB.x-b.bB.x):(a.bB.y!==b.bB.y)?(b.bB.y-a.bB.y):(a.xA-b.xA);};function atY(a,b){return(a.bB.y!==b.bB.y)?(b.bB.y-a.bB.y):(a.bB.x!==b.bB.x)?(b.bB.x-a.bB.x):(a.xA-b.xA);};function auy(a,b){return(a.bB.x!==b.bB.x)?(b.bB.x-a.bB.x):(a.bB.y!==b.bB.y)?(a.bB.y-b.bB.y):(a.xA-b.xA);};function aqy(Vp,jg,xw){xw=xw||0;var _top,alC,IA,Xv=(fM*bE.length),TU=jg-Xv;IPCC.K.forEach(Vp,function(dB){IA=(fM*(dB.aw-1));alC=(dB.SU*TU)+IA;_top=Math.max(xw+5,alC);if(dB.cE.style.top!==_top+'px'){dB.cE.style.top=_top+'px';}xw=_top+dB.Zz;});};function asq(Vp,jg){var PL,_top,PZ,IA,ahp,Xv=(fM*bE.length),TU=jg-Xv;IPCC.K.forEach(Vp,function(dB){IA=(fM*(dB.aw-1));PZ=(dB.SU*TU)+IA;if(PL===undefined){PL=PZ;}if(dB.G.get_conversation()===iz){_top=PZ;ahp=_top+dB.Zz;}else{_top=Math.min(PL-5-dB.Zz,PZ);}if(dB.cE.style.top!==_top+'px'){dB.cE.style.top=_top+'px';}PL=_top;});return ahp;};function lo(im,Vm,jg){if(tk===false){return;}if(!jg){jg=vK();}var aoC=function(a,b){if(a.aw!==b.aw){return(a.aw-b.aw);}var bI=bE[a.aw-1],hE=bI.gu;switch(hE){case 90:return atC(a,b);case 180:return atY(a,b);case 270:return auy(a,b);default:return aug(a,b);}};var Pv=(! !Vm)?IPCC.K.filter(cN,function(dB){return IPCC.K.inArray(Nl(),dB.aw-1);}):im;Ml(Pv);var aty=IPCC.K.map(Pv,function(dB,al){dB.Zz=dB.cE.offsetHeight;return dB;});var Vt=aty.sort(aoC);var Pk=[],XE=[],aaq=false;if(iz){var aFv=cN[iz.get_mark().get_markID()];if(!IPCC.K.inArray(Vt,aFv)){aaq=true;}IPCC.K.forEach(Vt,function(dB){if(aaq){XE.push(dB);}else if(dB.G.get_conversation()===iz){Pk.unshift(dB);aaq=true;}else{Pk.unshift(dB);}});}else{XE=Vt;}var xw=0;if(Pk.length){xw=asq(Pk,jg);}aqy(XE,jg,xw);};function att(im,H,co){var dB=im[H.lA()];dB.aw=co;dB.G=H;dB.bB=Xe(H,co);dB.xA=H.ea().nK(H);};function EN(H,im,km){var fa=im[H.get_markID()];if(fa){fa.cE.parentElement.replaceChild(km,fa.cE);fa.cE=km;}return fa;};function arH(H,im,km,aCE,aGC,IK,co){var fa=new aoP();fa.cE=km;cN[H.get_markID()]=fa;att(cN,H,co);fa.SU=IK;aCE.appendChild(km);return fa;};function Xe(H,aw){var bB=(H.get_boundingRectangle)?H.get_boundingRectangle():{},hE=bE[aw-1].gu;switch(hE){case 90:return{x:bB.x,y:bB.y+(bB.height||0)};case 180:return{x:bB.x+(bB.width||0),y:bB.y+(bB.height||0)};case 270:return{x:bB.x+(bB.width||0),y:bB.y};default:return{x:bB.x,y:bB.y};}};function asm(aH){function LV(bn,aA){var T=new IPCC.Web.UI.CommentEventArgs();T.pageIndex=aH.co;T.mark=aA.mark;T.index=aA.index;T.comment=aA.comment;var bI=document.getElementById(aH.aS);V.bg('commentAdding',T);setTimeout(function(){var Ro=vK(),fa,cE;if(aA.index===0){cE=mr(aA.mark,{isSelected:false},null);if(!cE){return;}else if(!IPCC.K.tE(cE)){throw new Error(cE+' is not a valid HTMLElement');}var AY=Xe(aA.mark,aH.co+1),aDy=AY.x,aAb=AY.y;var cC;if(bI&&bI.am){cC=bI.am.transformPagePointToWindow(new IPCC.Web.UI.Point(aDy,aAb),true);}else{cC=new IPCC.Web.UI.Point(0,0);}var qd=(fM*(aH.co));var IK=(akC(aH.co)-qd+cC.y)/(Ro-(fM*bE.length));fa=arH(aA.mark,cN,cE,lj,cC,IK,aH.co+1);}else{var EQ=aA.mark.get_conversation()===iz;var currentConversationDiv=cN[aA.mark.get_markID()];if(!currentConversationDiv){return;}cE=mr(aA.mark,{isSelected:EQ},currentConversationDiv.cE);if(!cE){return;}else if(!IPCC.K.tE(cE)){throw new Error(cE+' is not a valid HTMLElement');}fa=EN(aA.mark,cN,cE);}if(IPCC.K.contains(Nl(),aH.co)){lo(cN,true,Ro);}else{GK([fa]);}V.bg('commentAdded',T);},0);};aH.ap.add_commentAdded(LV);};function ati(aH){function LH(bn,aA){var cE=null;if(cN[aA.mark.get_markID()]){cE=cN[aA.mark.get_markID()].cE;var EQ=aA.mark.get_conversation()===iz;cE=mr(aA.mark,{isSelected:EQ},cE);}if(!cE){V.bg('commentChanged',aA);return;}else if(!IPCC.K.tE(cE)){throw new Error(cE+' is not a valid HTMLElement');}if(cE){var jg=vK();EN(aA.mark,cN,cE);lo(cN,true,jg);}V.bg('commentChanged',aA);};aH.ap.add_commentChanged(LH);};function arE(aH){function Mt(bn,aA){var cE=null;if(cN[aA.mark.get_markID()]){cE=cN[aA.mark.get_markID()].cE;}var EQ=aA.mark.get_conversation()===iz;cE=mr(aA.mark,{isSelected:EQ},cE);if(IPCC.K.tE(cE)){EN(aA.mark,cN,cE);}else{var fa=cN[aA.mark.get_markID()];if(fa){if(aA.mark.get_conversation()===iz){iz=null;}fa.cE.parentElement.removeChild(fa.cE);delete cN[aA.mark.get_markID()];}}lo(cN,true);V.bg('commentRemoved',aA);};aH.ap.add_commentRemoved(Mt);};function ZY(){var bU=jj;var bd=fV;var arj=function(iH){return{width:iH.width||(iH.right-iH.left),height:iH.height||(iH.bottom-iH.top),top:iH.top,bottom:iH.bottom,left:iH.left,right:iH.right};};var aal=arj(aD.getBoundingClientRect());var na={height:aal.height/2};na.width=na.height*bd/bU;if(na.width>bd/2){na.width=bd/2;}if(na.height>bU/2){na.height=bU/2;}var Yy=8;var amc={height:bU*Yy,width:bd*Yy};var auA=bd*dg<na.width+5;var auT=bd*dg>amc.width-5;return{min:na,max:amc,page:{width:bd,height:bU},viewport:aal,atMin:auA,atMax:auT,maxFactor:Yy,minFactor:na.width/bd};};function jv(au,SX){if(SX){agc.apply(this,arguments);return;}var uo=(au<dg)?true:false;var ow=ZY();if((ow.atMin&&uo)||(ow.atMax&& !uo)){return;}if(au>ow.maxFactor){au=ow.maxFactor;}else if(au<ow.minFactor){au=ow.minFactor;}if(!ow.atMax|| !ow.atMin){agc.apply(this,arguments);}};function agc(au,aFG,aY,dc,CB,qF,eo,eJ){if(isNaN(au)||au<=0||Math.abs(au)===Infinity){return;}var Sy=cO;var cI=jo();var uo=(au<dg)?true:false;var gA=0;var fX=bE.length-1;if(dC===IPCC.ViewMode.SinglePage){if(cO-tI>=0){gA=cO-tI;}if(cO+tI<bE.length-1){fX=cO+tI;}}var OE=au/dg;dg=au;var Bj=aD.getBoundingClientRect();var abD=(qF&&qF.x!==undefined)?qF.x:aD.scrollLeft+(Bj.width/2);var acN=(qF&&qF.y!==undefined)?qF.y:aD.scrollTop+(Bj.height/2);var ayY=qF&&qF.x!==undefined&&qF.y!==undefined;gZ=0;gO=0;for(var bu=gA;bu<=fX;bu++){var bK;var aj=document.getElementById(bE[bu].aS);if(aj){bK=aj.am;}else{continue;}if(bu===Sy){var Ri=aj.getBoundingClientRect();if(!ayY){if(fj===IPCC.PageLayout.HorizontalScrollDirection&&Bj.height>Ri.height){acN-=((Bj.height-Ri.height)/2);}else if(fj===IPCC.PageLayout.VerticalScrollDirection&&Bj.width>Ri.width){abD-=((Bj.width-Ri.width)/2);}}}var gS=au*cw/bE[bu].fS;var bV=fV;var aK=jj;var er=fV;var eY=jj;if(hV(pH)===true){er=jj;eY=fV;}if(bE[bu].kd()>0){if(hV(bE[bu].gu)===true){bV=bE[bu].nQ();aK=bE[bu].kd();}else{bV=bE[bu].kd();aK=bE[bu].nQ();}}else{gS=au*cw/bE[0].fS;if(hV(bE[bu].gu)===true){var Jn=bV;bV=aK;aK=Jn;gS=au*cw/bE[0].gD;}}var Ku,IS,fR;if(dC===IPCC.ViewMode.SinglePage){IS=bV*gS;Ku=aK*gS;aj.style.width=IS+'px';aj.style.height=Ku+'px';if(bu===cO){bG.style.width=IS+'px';bG.style.height=Ku+'px';}if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.zoom(gS);}}else if(dC===IPCC.ViewMode.Document){IS=bV*gS;Ku=aK*gS;aj.style.width=IS+'px';aj.style.height=Ku+'px';if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.zoom(gS);}if(bV*gS>gZ){gZ=bV*gS;}if(aK*gS>gO){gO=aK*gS;}}else{gS=au*cw/bE[0].fS;if(fj===IPCC.PageLayout.VerticalScrollDirection){fR=er/bV*gS;aj.style.width=er*gS+'px';aj.style.height=aK*fR+'px';if(er*gS>gZ){gZ=er*gS;}if(aK*gS>gO){gO=aK*gS;}}else{fR=eY/aK*gS;aj.style.height=eY*gS+'px';aj.style.width=bV*fR+'px';if(bV*gS>gZ){gZ=bV*gS;}if(eY*gS>gO){gO=eY*gS;}}if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.zoom(fR);}}if(bK&&bE[bu].ha===true&&bK.fH()===true){bK.display();if(IPCC.K.vz.zL){var aCM=aD.style.display;aD.style.display='none';aD.style.display=aCM;asc();}}}if(fj===IPCC.PageLayout.VerticalScrollDirection){PB=aD.scrollTop;}else{PB=aD.scrollLeft;}var Pw,MU,NX=0,ND=0;if(CB){Pw=CB.offsetLeft+OE*aY;MU=CB.offsetTop+OE*dc;aD.scrollLeft=Pw-(aD.clientWidth/2)+NX;aD.scrollTop=MU-(aD.clientHeight/2)+ND;atv(cI);}else{if(fj===IPCC.PageLayout.VerticalScrollDirection){ND=fM*(Sy+1);}else{NX=gr+((hB+gr)*(Sy+1));}Pw=OE*(abD-NX);MU=OE*(acN-ND);afR(cI);aD.scrollLeft=Pw-(aD.clientWidth/2)+NX;aD.scrollTop=MU-(aD.clientHeight/2)+ND;}if(dC!==IPCC.ViewMode.SinglePage&&(eo===IPCC.ScaleTrigger.Pinch||uo===true)){oA();}lo(cN,true);V.bg('scaleChanged',{scaleType:(uo)?"scaledDown":"scaledUp",scaleTrigger:eo,fitType:eJ,scaleFactor:dg});};function asc(){var dummy=document.createElement('div');setTimeout(function(){aD.appendChild(dummy);aD.removeChild(dummy);},0);};function akJ(aF,fF,eT,fI){var ge=aF.igElements;fI=fI||YN(aF);if(fI&&(fI.right-fI.left)>0&&(fI.bottom-fI.top)>0){return new IPCC.Web.UI.Point(fF+fI.left+ge.mf.scrollLeft,eT+fI.top+ge.mf.scrollTop);}else{return;}};function YN(aF){var ge=aF.igElements;var fI=null;if(!aF|| !ge|| !ge.nj){return null;}if(ge.nj.getBoundingClientRect){try{fI=ge.nj.getBoundingClientRect();}catch(aX){return;}}else{var dZ=ge.nj;var wI=document.documentElement;fI={left:wI.clientLeft-wI.scrollLeft,top:wI.clientTop-wI.scrollTop};dZ=dZ.offsetParent;while(dZ){fI.top+=dZ.offsetTop-dZ.scrollTop;fI.left+=dZ.offsetLeft-dZ.scrollLeft;dZ=dZ.offsetParent;}}return fI;};function ale(){var dm=V.mp();var Rv=dm.id;var wa;var wH;var mJ;var aaW;var abM;var aC=false;var aF;var nT=[];var wL= -1;var gG=0;var nH;var DK;var zA;var kt=0;var cL=0;var rR=null;var vO=null;if(bG===''){aD=hk({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});aD.className='pccPageListContainerWrapper';aD.tabIndex=2;var Yu=function(fF,eT){return IPCC.K.getPageFromPoint(fF,eT,aD)||false;};var aah=function(aF,fF,eT){var ge=aF.igElements;var fI=YN(aF);if(fI&&(fI.right-fI.left)>0&&(fI.bottom-fI.top)>0){return new IPCC.Web.UI.Point(fF-fI.left-ge.mf.scrollLeft,eT-fI.top-ge.mf.scrollTop);}else{return;}};var aBv=function(qI){qI.Hl([new IPCC.ma(IPCC.Web.UI.MarkType.Text)]);};var aCL=function(qI){qI.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var NL=false,axt="";var alf=function aHy(aX,ip,bI){if(ip.match(/edit/)){NL=true;return;}aBv(bI.am);NL=true;axt=ip;bI.am.FX("touchstart",aX);};var ajJ=function(bI){NL=false;aCL(bI.am);};var ZN=function(aX){if(aX.target&&aX.target.attributes&&aX.target.getAttribute('data-pcc-mark')){return aX.target;}else if(aX.target.parentElement&&aX.target.parentElement.attributes&&aX.target.parentElement.getAttribute('data-pcc-mark')){return aX.target.parentElement;}else if(aX.target.parentNode&&aX.target.parentNode.attributes&&aX.target.parentNode.getAttribute('data-pcc-mark')){return aX.target.parentNode;}else{return undefined;}};var ZL=function(aX){var cU=ZN(aX);if(cU){return cU.getAttribute('data-pcc-mark');}return undefined;};var ake=function(qI){if(qI&&qI.ea()){qI.ea().Dn(function(G){G.set_selected(false);});qI.display();}};var PH,abv=false;var Pd=function(aX,T){var mv={cT:undefined,G:undefined,bi:null};var lh=ZN(aX);if(lh){if(typeof aF!=='undefined'&&aF!==false&&aF.am&&aF.igElements&&aF.am.fH()===true){mv.bi=aF.am.nJ();}if(lh.ImGearMarkRelation){mv.cT='mark';mv.G=lh.ImGearMarkRelation.G;mv.WX=mv.G.get_selected();return mv;}else{while(!(lh.ImGearMarkRelation)&&lh.parentNode&&lh!==document.body){lh=lh.parentNode;if(lh.ImGearMarkRelation){mv.cT='mark';mv.G=lh.ImGearMarkRelation.G;mv.WX=mv.G.get_selected();return mv;}}}}if(typeof aF!=='undefined'&&aF!==false&&aF.am&&aF.igElements&&aF.am.fH()===true){mv.bi=aF.am.nJ();var bi=0;for(bi=0;bi<bE.length;bi++){if(bE[bi].aS===aF.id){if(typeof T.targetType==='undefined'||T.targetType===null){mv.cT='page';return mv;}break;}}}return mv;};var Oj=function(bi,sh,jS,awM){if(bL===null||bL===undefined){return;}var TP=false;if(sh===undefined){sh=bL.sh;TP=true;}if(jS===undefined){jS=bL.jS;TP=true;}var G;var bI=document.getElementById(bE[bi].aS);if(awM===true){G=bL.wc;}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);G.set_rectangle({x:0,y:0,width:0,height:0});G.cu=127;G.eQ='#3366CC';G.bH=null;bI.am.mO().addMark(G);}G.set_selected(true);if(TP===true){if(bL.gA===bL.fX){G.bQ=gG;G.dr=jS-gG+1;G.kB=true;G.kF=true;bI.am.display();}else if(bi===bL.gA){G.bQ=gG;G.dr=bI.am.cF().hJ().en()-1-sh;G.kB=true;G.kF=false;bI.am.display();}else if(bi===bL.fX){G.bQ=0;G.dr=jS+1;G.kB=false;G.kF=true;bI.am.display();}else{G.bQ=0;G.dr=bI.am.cF().hJ().en()-1-gG;G.kB=false;G.kF=false;}}else{if(bL.gA===bL.fX){G.kB=true;G.kF=true;}else if(bi===bL.gA){G.kB=true;G.kF=false;}else if(bi===bL.fX){G.kB=false;G.kF=true;}else{G.kB=false;G.kF=false;}}bL.fw[bi]=G;};var ajt=function(cU,aY,dc,Od){if(cU){var Nm=cU.getBoundingClientRect();aY=IPCC.K.OQ(aY,Nm.left+Od);aY=IPCC.K.Oi(aY,Nm.right-Od);dc=IPCC.K.OQ(dc,Nm.top+Od);dc=IPCC.K.Oi(dc,Nm.bottom-Od);}return{x:aY,y:dc};};var lw=function(aX){if(zA){if(zA.clientX===aX.clientX&&zA.clientY===aX.clientY){if(aX.rawEvent.preventDefault){aX.rawEvent.preventDefault();}else if(aX.preventDefault){aX.preventDefault();}if(aX.rawEvent.stopPropagation){aX.rawEvent.stopPropagation();}else if(aX.stopPropagation){aX.stopPropagation();}abv=true;zA=undefined;return false;}}PH=aX;akD(aX,aX.clientX,aX.clientY,aX.button);};var alk=function(aX,T){mJ=Pd(aX,T);};var akD=function(aX,fF,eT,oi){var T=new IPCC.Web.UI.MouseEventArgs();aF=Yu(fF,eT);alk(aX,T);var ip;var lh=ZN(aX);if(lh){ip=lh.getAttribute('data-pcc-mark');}var Wi=false;var KR=ip&&ip.substring(0,10);if(ip&&KR==='texthandle'){DK=true;Wi=true;KR=ip.substring(10,13);var G=lh.parentNode.ImGearMarkRelation.G;if(bL&&G.bH===null){nT=bL.ra.slice();nT[T.pageIndex]=undefined;}else{bL=null;nT=[];V.tn();}var adG=function(ayX){gG=bL.sh;var C;for(C=bL.fX;C>=bL.gA;C--){var bI=document.getElementById(bE[C].aS);if(bI.am===undefined||bI.am===null){continue;}var zx=gG;if(C!==bL.gA){zx=0;}var rA;if(C===bL.fX){rA=bL.jS;}else{rA=bI.am.get_textPage().hJ().en()-1;}ayX(bI,zx,rA);if(C!==bL.qP){Oj(C);}}rR=bD;bD=IPCC.Web.UI.MouseTool.SelectText;aC=true;};var C,bi,ap,NM,eC,rN,cP;if(KR==='sta'){if(bL===null||bL===undefined){bi=G.bi;bL={};bL.fw=[];bL.gA=bi;bL.sh=G.bQ;gG=G.bQ;while(bi<bE.length){ap=bE[bi].ap;NM=ap.get_markCount();for(C=0;C<NM;C++){eC=ap.getMark(C);if(G.bq===eC.bq&&eC.get_type()===G.get_type()){bL.fw[bi]=eC;for(rN=eC.bH.length-1;rN>=0;rN--){if(eC.bH[rN].set_visible){eC.bH[rN].set_visible(false);}else{eC.set_visible(false);break;}}if(bi===G.bi){vO=eC;}else{nT[bi]=cP.substring(eC.bQ,eC.dr);eC.set_selected(false);}cP=eC.cP.substring(eC.dr);if(eC.kF===true){bL.jS=eC.bQ+eC.dr-1;bL.fX=bi;break;}}}bi++;}}nH=bL.jS+1;kt=bL.fX;var aGb=function(bI,zx,rA){bI.am.showEmptyTextSelection(rA+1);bI.am.extendTextSelection(undefined);bI.am.extendTextSelection(rA);bI.am.extendTextSelection(zx);};bL.fw[bL.gA].xG=true;bL.qP=bL.gA;bL.wc=bL.fw[bL.gA];adG(aGb);}else if(KR==='end'){if(bL===null||bL===undefined){bi=G.bi;bL={};bL.fw=[];bL.fX=bi;bL.jS=G.bQ+G.dr-1;while(bi>=0){ap=bE[bi].ap;NM=ap.get_markCount();for(C=0;C<NM;C++){eC=ap.getMark(C);if(G.bq===eC.bq&&eC.get_type()===G.get_type()){bL.fw[bi]=eC;for(rN=eC.bH.length-1;rN>=0;rN--){if(eC.bH[rN].set_visible){eC.bH[rN].set_visible(false);}else{eC.set_visible(false);break;}}if(bi===G.bi){cP=eC.cP;}else{nT[bi]=cP.substring(cP.length-eC.dr);eC.set_selected(false);}cP=eC.cP.substring(0,cP.length-eC.dr);if(eC.kB===true){bL.sh=eC.bQ;gG=eC.bQ;bL.gA=bi;vO=eC;break;}}}bi--;}}nH=bL.sh;kt=bL.gA;var aGg=function(bI,zx,rA){bI.am.showEmptyTextSelection(zx);bI.am.extendTextSelection(undefined);bI.am.extendTextSelection(zx);bI.am.extendTextSelection(rA);};bL.fw[bL.fX].xG=true;bL.qP=bL.fX;bL.wc=bL.fw[bL.fX];adG(aGg);}if(vO){aF.am.display();}}var AN=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';if(AN){return;}var zf=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';if(zf){return;}if(bD===IPCC.Web.UI.MouseTool.HandPan&&zR&&ip&&Wi===false){if(!mJ||mJ.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){alf(aX,ip,aF);return;}}var cJ;var fu;if(aF!==false&&aF.am&&aF.igElements&&aF.am.fH()===true){var ba=0;for(ba=0;ba<bE.length;ba++){if(bE[ba].aS===aF.id){T.pageIndex=ba;break;}}T.pointLiesWithinImage=true;fu=aah(aF,fF,eT);if(fu){cJ=aF.am.Lh(fu,false);T.imagePoint=cJ;T.constrainedImagePoint=cJ;}else{T.pointLiesWithinImage=false;}}else{T.pointLiesWithinImage=false;}T.domEvent=aX;T.windowPoint=new IPCC.Web.UI.Point(fF,eT);if(Wi===true){wL= -1;cL=T.pageIndex;aX.preventDefault();V.bg('mouseDown',T);return;}switch(bD){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();wa=eT;wH=fF;aaW=aD.scrollTop;abM=aD.scrollLeft;aC=true;V.yn(bG,'grabbing');if(aF&&aF.am){V.yn(aF,'grabbing');aF.am.set_cursor('grabbing');aF.am.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aX.preventDefault();if(oi===0&&aF&&aF.am&&cJ){V.tn();nT=[];wL= -1;DK=undefined;var dO=aF.am.transformPagePointToTextIndex(cJ);gG=dO;nH=dO;aC=true;if(dO===undefined){V.bg('mouseDown',T);return;}aF.am.showEmptyTextSelection(dO);aF.am.extendTextSelection(undefined);aF.am.extendTextSelection(dO);aF.am.display();kt=T.pageIndex;cL=T.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(oi===0&&aF&&aF.am&&fu){var lg=IPCC.aR.fb(IPCC.aR.None);bG.style.cursor=lg;aF.am.showMagnifier(fu);aF.am.display();}aC=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();if(oi===0&&aF&&aF.am&&cJ){aC=true;wa=fu.y;wH=fu.x;aF.am.showEmptySelection(cJ);aF.am.display();}break;}V.bg('mouseDown',T);};var kL=function(aX){akj(aX,aX.clientX,aX.clientY,aX.button);};var aiA=function(T,fF,eT,cg){T.windowPoint=new IPCC.Web.UI.Point(fF,eT);cg=Yu(fF,eT);var cJ,fu;if(cg!==false&&cg.am&&cg.igElements&&cg.am.fH()===true){T.pointLiesWithinImage=true;fu=aah(cg,fF,eT);if(fu){cJ=cg.am.Lh(fu,false);T.imagePoint=cJ;T.constrainedImagePoint=cJ;}else{T.pointLiesWithinImage=false;}}else{T.pointLiesWithinImage=false;}return{T:T,fF:fF,eT:eT,cg:cg,cJ:cJ,fu:fu};};var akj=function(aX,fF,eT,oi){var AN=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';if(AN){return;}var zf=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';if(zf){return;}var T=new IPCC.Web.UI.MouseEventArgs();var cJ,fu,cg;var HD=function(fF,eT){var oy=aiA(T,fF,eT,cg);T=oy.T;T.domEvent=aX;fF=oy.fF;eT=oy.eT;cg=oy.cg;cJ=oy.cJ;fu=oy.fu;};HD(fF,eT);var lh=Pd(aX,T);if(lh&&lh.G){T.mark=lh.G;}var lg;switch(bD){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();if(aC){var api=eT;var aps=fF;var aFN=wa-api;var aBz=wH-aps;aD.scrollTop=aaW+aFN;aD.scrollLeft=abM+aBz;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aX.preventDefault();if(aC){if(oi!==0){Bp();}var jt;if(!cg){V.bg('mouseMove',T);return;}if(gG===undefined){aF=cg;}else if(cg!==aF&&cg.am&&fu){wL= -1;var ic=0;var C=0;for(C=0;C<bE.length;C++){if(bE[C].aS===cg.id){ic=C;break;}}if(ic>cL){if(ic>kt){jt=aF.am.get_textPage().hJ().en()-1;if(jt<0){Bp();V.bg('mouseMove',T);return;}aF.am.extendTextSelection(jt);if(bL){jt=aF.am.get_textPage().hJ().en()-1;bL.fw[cL].set_startIndex(aF.am.Qk());bL.fw[cL].set_textLength(aF.am.BJ());bL.fX=ic;gG=aF.am.Qk();}nT[cL]=aF.am.getSelectedText();cg.am.showEmptyTextSelection(0);cg.am.extendTextSelection(undefined);wL=0;aF.am.display();aF=cg;}else{gG=0;nT[cL]=undefined;nT[ic]=undefined;aF.am.showEmptyTextSelection(0);aF.am.extendTextSelection(undefined);if(bL&&bL.fw[cL]){bL.fw[cL].kB=false;}aF.am.display();aF=cg;if(bL&&bL.fw[cL]){bL.fw[cL]=undefined;bL.gA=ic;bL.fw[ic].set_startIndex(0);bL.fw[ic].set_textLength(bL.fw[ic].get_startIndex()+bL.fw[ic].get_textLength());bL.fw[ic].kB=true;aF.am.display();}}}else if(ic<cL){if(ic<kt){jt=aF.am.get_currentTextIndex();if(jt!==0){aF.am.extendTextSelection(0);}if(bL){bL.fw[cL].set_startIndex(aF.am.Qk());bL.fw[cL].set_textLength(aF.am.BJ());bL.gA=ic;}nT[cL]=aF.am.getSelectedText();aF.am.display();jt=cg.am.cF().hJ().en()-1;wL=jt;gG=0;cg.am.showEmptyTextSelection(jt+1);cg.am.extendTextSelection(undefined);aF=cg;aF.am.display();}else{nT[cL]=undefined;nT[ic]=undefined;aF.am.showEmptyTextSelection(0);aF.am.extendTextSelection(undefined);if(bL&&bL.fw[cL]){bL.fw[cL].kF=false;}aF.am.display();aF=cg;if(bL&&bL.fw[cL]){bL.fw[cL]=undefined;bL.fX=ic;jt=aF.am.cF().hJ().en()-1;bL.fw[ic].set_textLength(cg.am.BJ());bL.fw[ic].kF=true;aF.am.display();}}}cL=ic;}var aoo=(cL<kt),amX=(cL>kt);if(aF&&aF.am&&aF.am.fH()===true&&fu){fu=aah(aF,fF,eT);cJ=aF.am.Lh(fu,false);var dO=aF.am.transformPagePointToTextIndex(cJ);if(gG===undefined){gG=dO;nH=dO;if(dO===undefined){V.bg('mouseMove',T);return;}aF.am.showEmptyTextSelection(dO);aF.am.extendTextSelection(undefined);aF.am.extendTextSelection(dO);aF.am.display();var aV=0;for(aV=0;aV<bE.length;aV++){if(bE[aV].aS===aF.id){kt=aV;cL=aV;break;}}}else{if(gG=== +gG&&dO=== +dO){if(aoo){gG=dO;}else if(!amX){gG=Math.min(nH,dO);}}}jt=aF.am.get_currentTextIndex();if(jt===dO||dO===undefined){V.bg('mouseMove',T);return;}if(wL!== -1){if(dO!==wL){aF.am.extendTextSelection(wL);}wL= -1;}if((dO>nH&&cL===kt)||cL>kt){if(bL){if(bL.fw[cL]===undefined||bL.fw[cL]===null){Oj(cL,0,0,cL===bL.qP);if(cL-1>=0&&bL.fw[cL-1]){bL.fw[cL-1].kF=false;document.getElementById(bE[cL-1].aS).am.display();}}bL.fw[cL].kF=true;}if(DK===undefined){DK=false;}}else if(dO<nH||cL<kt){if(bL){if(bL.fw[cL]===undefined||bL.fw[cL]===null){Oj(cL,aF.am.cF().hJ().en()-1,0,cL===bL.qP);if(bL.fw[cL+1]){bL.fw[cL+1].kB=false;document.getElementById(bE[cL+1].aS).am.display();}}bL.fw[cL].kB=true;}if(DK===undefined){DK=true;nH++;aF.am.showEmptyTextSelection(nH);aF.am.extendTextSelection(undefined);var rA=aF.am.cF().hJ().en();if(nH>=rA){aF.am.extendTextSelection(rA-1);}else{aF.am.extendTextSelection(nH);}}}aF.am.extendTextSelection(dO);if(bL&&bL.fw[cL]){bL.fw[cL].set_startIndex(aF.am.Qk());bL.fw[cL].set_textLength(aF.am.BJ());}aF.am.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(aC){if(oi!==0||(aF&&aF.am&&aF!==cg)){aF.am.hideMagnifier();lg=IPCC.aR.fb(IPCC.aR.Magnifier);bG.style.cursor=lg;aF.am.display();}if(cg&&cg.am&&fu){aF=cg;lg=IPCC.aR.fb(IPCC.aR.None);bG.style.cursor=lg;cg.am.showMagnifier(fu);cg.am.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();if(aC){var GM=ajt(aF,fF,eT,1);HD(GM.x,GM.y);if(cg&&cg.am&&cJ&&cg===aF){if(oi!==0){cg.am.hideSelection();cg.am.display();aC=false;}else{cg.am.extendSelection(cJ);cg.am.display();}}}break;}V.bg('mouseMove',T);};var kj=function(aX){if(abv!==true){abu(aX,aX.clientX,aX.clientY);}else{abv=false;}};var aiZ=function(aX,T){T.upTargetType=null;var FA=Pd(aX,T);T.originalEvent=aX.rawEvent;T.clientX=aX.clientX;T.clientY=aX.clientY;T.downTarget={type:undefined,pageIndex:undefined};if(typeof mJ!=='undefined'&&typeof mJ.cT!=='undefined'){T.downTarget.type=mJ.cT;}if(typeof mJ!=='undefined'&&typeof mJ.bi!=='undefined'){T.downTarget.pageIndex=mJ.bi;}if(typeof mJ!=='undefined'&&typeof mJ.WX!=='undefined'){T.downTarget.alreadySelected=mJ.WX;}T.downMark=(typeof mJ!=='undefined')?mJ.G:undefined;T.upMark=FA.G;switch(FA.cT){case 'page':case 'mark':T.upTarget={type:FA.cT,pageIndex:FA.bi};break;}if(T.pointLiesWithinImage===false&&FA.cT==='page'){FA.bi= -1;}};var abu=function(aX,fF,eT){var T=new IPCC.Web.UI.MouseEventArgs();var cg;var cJ;var fu;var HD=function(fF,eT){var oy=aiA(T,fF,eT,cg);T=oy.T;T.domEvent=aX;fF=oy.fF;eT=oy.eT;cg=oy.cg;cJ=oy.cJ;fu=oy.fu;};HD(fF,eT);if(aX){aiZ(aX,T);V.bg('mouseUp',T);}mJ=undefined;var lg;switch(bD){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();if(aC){wH=undefined;wa=undefined;aaW=undefined;abM=undefined;aC=false;lg='move';V.yn(bG,'grab');if(aF&&aF.am){V.yn(aF,'grab');aF.am.set_cursor('grab');aF.am.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(aX){aX.preventDefault();}if(aC){var or=new IPCC.Web.UI.TextSelectedEventArgs(),lq=[],C,yL,yi;var jS;var HK=aF.am.getSelectedText();var ra=nT.slice();if(HK.length>0){ra[cL]=aF.am.getSelectedText();}else{if(cL>kt){cL--;aF=document.getElementById(bE[cL].aS);if(ra[cL]){HK=ra[cL];}}else if(cL<kt){cL++;aF=document.getElementById(bE[cL].aS);if(ra[cL]){HK=ra[cL];}}}or.text=ra.join('');var TI=true;if(cL>=kt){if(cL===kt){if(aF.am.get_currentTextIndex()>=nH){TI=false;}jS=gG+HK.length-1;}else{jS=HK.length-1;}if(jS<0){jS=0;}yL=kt;yi=cL;}else{TI=false;jS=nH-1;yL=cL;yi=kt;}for(C=yL;C<=yi;C++){lq.push(C);}if(or.text.length===0){Bp();lq=[];}or.pageNumbers=lq;or.clientX=fF;or.clientY=eT;if(gG!==undefined){if(bD===IPCC.Web.UI.MouseTool.SelectText){var avO=function(bI,Ao){var JP=bI.am.cF();var hy=JP.hJ();var eP=hy.ln(Ao);return eP.vq();};var jt=aF.am.get_currentTextIndex();var QA=avO(aF,jt);var eu=0,fi=0;if(TI===false){eu=QA.width;fi=QA.height;}var Cg=aF.am.transformPagePointToWindow(new IPCC.Web.UI.Point(QA.x+eu,QA.y+fi),true);var cC=akJ(aF,Cg.x,Cg.y);or.handleClientX=cC.x;or.handleClientY=cC.y;}var asa=bL===undefined||bL===null;if(vO){or.previousFirstMark=vO;or.firstMark=bL.fw[yL];if(bL.qP<yL||bL.qP>yi){var Gd=document.getElementById(bE[bL.qP].aS);if(Gd.am){Gd.am.mO().removeMark(bL.wc);}}bL.wc.xG=false;V.tn();if(rR!==null){bD=rR;}rR=null;}else if(asa===true){if(bD===IPCC.Web.UI.MouseTool.SelectText){bL={gA:yL,sh:gG,fX:yi,jS:jS,ra:ra.slice(),fw:[]};for(C=0;C<lq.length;C++){Oj(lq[C]);}}else{V.tn();}}else{if(bL.qP<yL||bL.qP>yi){var afG=document.getElementById(bE[bL.qP].aS);if(afG.am){afG.am.mO().removeMark(bL.wc);}}bL.wc.xG=false;bL.gA=yL;bL.sh=gG;bL.fX=yi;bL.jS=jS;bL.ra=ra.slice();if(rR!==null){bD=rR;}rR=null;}or.mouseTool=bD;or.startIndex=gG;V.bg('selectTextMouseToolCompleted',or);if(vO){vO=null;bL=null;}}aC=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(cg&&cg.am){cg.am.hideMagnifier();lg=IPCC.aR.fb(IPCC.aR.Magnifier);bG.style.cursor=lg;cg.am.display();}aC=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();var GM=ajt(aF,fF,eT,1);HD(GM.x,GM.y);if(aC&&fu){var AZ=0;var BE=0;var Xc=0;var Vg=0;if(fu.x<wH){AZ=wH-fu.x;Xc=fu.x+AZ/2;}else{AZ=fu.x-wH;Xc=wH+AZ/2;}if(fu.y<wa){BE=wa-fu.y;Vg=fu.y+BE/2;}else{BE=fu.y-wa;Vg=wa+BE/2;}var aaE=aD.clientWidth/AZ;var adB=aD.clientHeight/BE;var pQ=aaE;if(aaE>adB){pQ=adB;}if(cg&&cg.am){cg.am.nD();cg.am.display();}aC=false;if(AZ*2+BE*2>25){V.asr(pQ,Xc,Vg,cg);}}break;}var AN=false;var zf=false;if(aX){AN=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';zf=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';}if(NL&& !AN&& !zf){ajJ(aF);}else if(bD===IPCC.Web.UI.MouseTool.HandPan&&PH&& !AN&& !zf&&aX&&PH.clientX===aX.clientX&&PH.clientY===aX.clientY&&aX.shiftKey!==true&&aX.ctrlKey!==true){ake(aF.am);}};var axM=function(){var lg;switch(bD){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:V.yn(bG,'grab');aC=false;break;case IPCC.Web.UI.MouseTool.SelectText:Bp();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aF&&aF.am){aF.am.hideMagnifier();lg=IPCC.aR.fb(IPCC.aR.Magnifier);bG.style.cursor=lg;aF.am.display();}aC=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aF&&aF.am){aF.am.hideSelection();aF.am.display();aC=false;}break;}};var aDK=function(){axM();};var awA=function(){if(bD===IPCC.Web.UI.MouseTool.Magnifier){if(aF&&aF.am){aF.am.hideMagnifier();var lg=IPCC.aR.fb(IPCC.aR.Magnifier);bG.style.cursor=lg;aF.am.display();}aC=false;}else if(bD===IPCC.Web.UI.MouseTool.RectangleZoom){if(aF&&aF.am){aF.am.hideSelection();aF.am.display();aC=false;}}else if(bD===IPCC.Web.UI.MouseTool.SelectText){Bp();}};var mL=function(aX){if(aX.ctrlKey){switch(bD){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var Nf=aX.rawEvent.wheelDelta;aX.preventDefault();if(Nf<0){V.zoomOut(1.5);}else{V.zoomIn(1.5);}break;}}else{aX.preventDefault();aD.scrollTop-=aX.rawEvent.wheelDelta*0.72;}if(bD===IPCC.Web.UI.MouseTool.Magnifier){if(aF&&aF.am){aF.am.hideMagnifier();var lg=IPCC.aR.fb(IPCC.aR.Magnifier);bG.style.cursor=lg;aF.am.display();}aC=false;}else if(bD===IPCC.Web.UI.MouseTool.RectangleZoom){if(aF&&aF.am){aF.am.hideSelection();aF.am.display();aC=false;}}else if(bD===IPCC.Web.UI.MouseTool.SelectText){Bp();}};var ayw=function(bv){var T=new IPCC.Web.UI.MouseEventArgs();T.upTarget={type:'comments',element:bv.target};T.downTarget={type:'comments',element:bv.target};T.originalEvent=bv.rawEvent;T.clientX=bv.clientX;T.clientY=bv.clientY;T.pageIndex=undefined;V.bg('mouseUp',T);};var Bp=function(){if(aC===true){if(bL&&bL.qP!==undefined){if(vO){abu(null,0,0);return;}else{var Gd=document.getElementById(bE[bL.qP].aS);if(Gd.am){Gd.am.mO().removeMark(bL.wc);}bL.wc.xG=false;}}V.tn();vO=null;aC=false;if(rR!==null){bD=rR;}rR=null;}};AX=hk({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dC===IPCC.ViewMode.SinglePage){bG=hk({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bG.className='pccPageListContainer pccSinglePageView';}else{bG=hk({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bG.className='pccPageListContainer';}IPCC.Web.UI.af.addHandler(aD,"mousedown",lw);IPCC.Web.UI.af.addHandler(aD,"mouseup",kj);IPCC.Web.UI.af.addHandler(aD,"mousemove",kL);IPCC.Web.UI.af.addHandler(aD,"mouseleave",aDK);IPCC.Web.UI.af.addHandler(aD,"mousewheel",mL);IPCC.Web.UI.af.addHandler(aD,"DOMMouseScroll",awA);aD.onscroll=(! !HS)?apU:apW;bG.setAttribute('id',Rv+'_ListContainer');aD.setAttribute('id',Rv+'_ListWrapper');arB=Rv+'_ListWrapper';lj=hk();lj.className='pccPageListComments pccHidden';lj.setAttribute('id',Rv+'_CommentsPanel');var Uh=[];if(IPCC.K.azB){Uh.push('touchend');}else{Uh.push('click');}IPCC.K.forEach(Uh,function(evName){IPCC.Web.UI.af.addHandler(lj,evName,ayw);});AX.appendChild(bG);AX.appendChild(lj);aD.appendChild(AX);dm.appendChild(aD);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bd='',bU='',rv='',rU='',oq;var xb=function(){oq=getComputedStyle(dm);rv=oq.getPropertyValue('width');rU=oq.getPropertyValue('height');if(rv!==bd||rU!==bU){bd=rv;bU=rU;aD.style.width=bd;aD.style.height=bU;}};setInterval(xb,1000);window.addEventListener('resize',xb);xb();V.xb=xb;}var ayN=IPCC.K.GN;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&ayN&&window.addEventListener&&document.querySelector){aqs(aD);}var ayH=function(bG,aFV){var kv;var UZ=function(bv){var dH=bv.rawEvent,jF=dH.touches[0]||dH.changedTouches[0];bv.clientX=jF.clientX;bv.clientY=jF.clientY;bv.preventDefault=function(){dH.preventDefault();};bv.stopPropagation=function(){dH.stopPropagation();};return bv;};var ED=function(iu,bv){var T=new IPCC.Web.UI.MouseEventArgs(),FS=(iu==='touchstart')?'mouseDown':(iu==='touchend')?'mouseUp':null;var Di=(iu==='touchstart')?akD:(iu==='touchmove')?akj:(iu==='touchend')?abu:null;kv=Yu(bv.clientX,bv.clientY);if(iu==='doubleTap'){kv&&kv.am&&kv.am.FX(iu,bv);}var ip;ip=ZL(bv);if(ip){if(ip.substring(0,5)==='texth'){bv.preventDefault();bv.stopPropagation();if(iu==='touchstart'){zA=bv;}Di&&Di(bv,bv.clientX,bv.clientY,0);return;}}switch(bD){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:kv&&kv.am&&kv.am.FX(iu,bv);if(FS==='mouseUp'){aiZ(bv,T);}else if(FS==='mouseDown'){alk(bv,T);}V.bg(iu,T);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bv.preventDefault();bv.stopPropagation();if(iu==='touchstart'){zA=bv;if(ip){V.tn();break;}}Di&&Di(bv,bv.clientX,bv.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bv.preventDefault();bv.stopPropagation();if(iu==='touchstart'){zA=bv;}Di&&Di(bv,bv.clientX,bv.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(ip===undefined){ip=ZL(bv);}var J=Pd(bv,{});if(ip&&zR){if(!J||J.G.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(iu==='touchstart'){alf(bv,ip,kv);}else if(iu==='touchmove'){kv&&kv.am&&kv.am.FX(iu,bv);}else if(iu==='touchend'){kv&&kv.am&&kv.am.FX(iu,bv);ajJ(kv);}}}break;}};var DP,zi,we;var axA=function(bv){if(bv.rawEvent.touches.length>1){clearTimeout(we);we=zi=DP=undefined;return;}bv=UZ(bv);DP=bv;if(bD===IPCC.Web.UI.MouseTool.CreatePolylineMark){bv.preventDefault();}zi=function(){ED('touchstart',bv);we=zi=DP=undefined;};we=setTimeout(function(){zi();},200);};var Jd,CY;var ayT=function(bv){bv=UZ(bv);qM=false;var aqH=function(){if(!CY){return false;}var dU=CY.clientX-bv.clientX;var dW=CY.clientY-bv.clientY;var gM=dU*dU+dW*dW;return gM<2500;};var afJ=function(){Jd=CY=undefined;var ip=ZL(bv);if(!ip&&bD===IPCC.Web.UI.MouseTool.HandPan&&zR&&kv){ake(kv.am);}};var arA=function(){var afg=zi;if(Jd&&aqH()){clearTimeout(Jd);CY=Jd=undefined;afg();ED('touchend',bv);ED('doubleTap',bv);}else{Jd=setTimeout(function(){afg();ED('touchend',bv);afJ();},300);CY=bv;}};if(DP&&we){clearTimeout(we);if(bD===IPCC.Web.UI.MouseTool.CreatePolylineMark){arA();}else{afJ();}we=zi=DP=undefined;return;}ED('touchend',bv);};var agJ,qM=false;var axT=function(bv){if(bv.rawEvent.touches.length>1){return;}agJ=bv;if(DP&&we){clearTimeout(we);zi();}aqN();};function aqN(){var bv=UZ(agJ);ED('touchmove',bv);};IPCC.Web.UI.af.addHandler(bG,"touchstart",axA);IPCC.Web.UI.af.addHandler(bG,"touchmove",axT);IPCC.Web.UI.af.addHandler(bG,"touchend",ayT);};ayH(bG,lj);}};function aqs(gs){var afb=function(){},cV=1;function agV(adw,acQ,gW,aBp){gs.style['-ms-transform']=adw;gs.style['-moz-transform']=adw;gs.style['-webkit-transform']=acQ;gs.style['transform']=acQ;gs.style['-ms-transform-origin']=gW;gs.style['-moz-transform-origin']=gW;gs.style['-webkit-transform-origin']=gW;gs.style['transform-origin']=gW;gs.style.overflow=aBp||'';};function afT(){agV('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};afT();function aqW(pQ,hw,Sj,vP,afD){var eu=(-hw.x/pQ)-Sj.x,fi=(-hw.y/pQ)-Sj.y,aDU="scale3d("+pQ+","+pQ+",1) translate3d("+eu+"px,"+fi+"px,0px)",aEb="scale("+pQ+", "+pQ+") translate("+eu+"px,"+fi+"px)";var avm=afD.x+'px '+afD.y+'px';agV(aEb,aDU,avm,'visible');afb=function(){var bh=gs.getBoundingClientRect();var Tf={x:(gs.clientWidth/2+ -bh.left+vP.left)/pQ,y:(gs.clientHeight/2+ -bh.top+vP.top)/pQ};if(fj===IPCC.PageLayout.VerticalScrollDirection&&vP.anu){Tf.x=Tf.x-(vP.anu/2);}afT();V.Pm(pQ,Tf,undefined,IPCC.ScaleTrigger.Pinch);BA=false;};return gs;};function akW(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aku(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aru(ako,Jq){return{x:ako.x-Jq.x,y:ako.y-Jq.y};};var SV=false;gs.addEventListener('touchstart',function(ev){if(BA){return;}if(!SV&&ev.touches.length===2){agk(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var xP,Zr=false,Ap={};PCCViewer.EventEmitter.extend(Ap);gs.addEventListener(IPCC.K.nI['down'],function(bv){Zr=true;bv=standardizeMSTouch(bv);if(xP){var dH={};dH.touches=[xP,bv];dH.changedTouches=[xP,bv];dH.preventDefault=function(){xP.rawEvent.preventDefault();bv.rawEvent.preventDefault();};dH.stopPropagation=function(){xP.rawEvent.stopPropagation();bv.rawEvent.stopPropagation();};agk(dH);}else{xP=bv;}});gs.addEventListener(IPCC.K.nI['move'],function(bv){Ap.trigger('touchmove',{rawEvent:bv});});gs.addEventListener(IPCC.K.nI['up'],function(bv){Ap.trigger('touchend',{rawEvent:bv});xP=undefined;});function agk(ev){BA=true;var Sj={x:gs.scrollLeft,y:gs.scrollTop};var vP=gs.getBoundingClientRect();var ow=ZY();var IW=gs.querySelector('.pccPageListItem');if(fj===IPCC.PageLayout.VerticalScrollDirection&&IW.clientWidth<vP.width-30){vP.anu=vP.width-IW.clientWidth;}var hw={x:0,y:0,set:function(amD){this.x=amD.x;this.y=amD.y;return this;}};var qM=false;SV=true;ev.preventDefault();ev.stopPropagation();function MG(jF){jF.x=jF.clientX||jF.pageX||jF.screenX;jF.y=jF.clientY||jF.pageY||jF.screenY;return jF;};var iT=MG(ev.touches[0]);var xq=MG(ev.touches[1]);var vT=akW(iT.x,iT.y,xq.x,xq.y);var amO=aku(iT.x,iT.y,xq.x,xq.y);var yp,xS;function WG(bv){bv.preventDefault();[].forEach.call(bv.changedTouches,function(t){if(t.identifier===iT.identifier){yp=MG(t);}else if(t.identifier===xq.identifier){xS=MG(t);}});if(!yp|| !xS){return;}var ayW=akW(yp.x,yp.y,xS.x,xS.y);var aym=aku(yp.x,yp.y,xS.x,xS.y);cV=ayW/vT;if((dg*cV)<ow.minFactor){cV=ow.minFactor/dg;}else if((dg*cV)>ow.maxFactor){cV=ow.maxFactor/dg;}hw.set(aru(amO,aym));if(!qM){qM=true;Js();}};function Xa(){SV=false;qM=false;gs.removeEventListener('touchmove',WG);gs.removeEventListener('touchend',Xa);if(Zr){Ap.off('touchmove',aki);Ap.off('touchend',alA);}if(!yp|| !xS){BA=false;return;}HS(afb);};var aki=function(bv){var afi=standardizeMSTouch(bv.rawEvent);afi.preventDefault=function(){};WG(afi);};var alA=function(bv){Xa(standardizeMSTouch(bv.rawEvent));};gs.addEventListener('touchmove',WG);gs.addEventListener('touchend',Xa);if(Zr){Ap.on('touchmove',aki);Ap.on('touchend',alA);}function Js(){if(qM){HS(function(){if(!qM){return;}aqW(cV,hw,Sj,vP,amO);Js();});}}}};function apU(){if(dC===IPCC.ViewMode.SinglePage){return;}if(BA){return;}if(lJ){clearTimeout(lJ);}if(TL){aoy(TL);}aub();lJ=setTimeout(function(){lJ=null;TL=HS(function aHH(){if(BA){return;}oA();});},40);};function apW(){if(mW===false||dC===IPCC.ViewMode.SinglePage){return;}jo(true);if(lJ!==null){clearTimeout(lJ);}var atG=aD.scrollHeight/bE.length;var RV=0;if(fj===IPCC.PageLayout.VerticalScrollDirection){RV=aD.scrollTop;}else{RV=aD.scrollLeft;}var aEf=RV-PB;PB=RV;var apC=new Date().getTime();var VQ=apC-wp;if(VQ>1000){VQ=1000;}Qy=aEf/atG*1000/VQ;lJ=setTimeout(function(){lJ=null;wp=0;wp=new Date().getTime();oA();},1000);wp=new Date().getTime();if(Qy!==0&&Math.abs(Qy)<OG){if(Iy&&lJ!==null){clearTimeout(lJ);lJ=null;}wp=0;wp=new Date().getTime();setTimeout(function(){if(Iy&&lJ!==null){clearTimeout(lJ);lJ=null;}wp=0;wp=new Date().getTime();oA();},40);}};function asE(){function xC(aqQ,aqb,bp,cu){var Ho=document.createElementNS('http://www.w3.org/2000/svg','circle');Ho.setAttribute('cx',aqQ);Ho.setAttribute('cy',aqb);Ho.setAttribute('r',bp);Ho.setAttribute('opacity',cu);return Ho;};var qs=document.createElementNS('http://www.w3.org/2000/svg','svg');qs.setAttribute('viewBox','0 0 52 52');qs.appendChild(xC(26,13.813,2.813,1));qs.appendChild(xC(24,38.188,2.813,0.4));qs.appendChild(xC(13.813,26,2.813,0.1));qs.appendChild(xC(38.188,26,2.813,0.7));qs.appendChild(xC(34.618,34.618,2.813,0.55));qs.appendChild(xC(17.382,34.618,2.813,0.25));qs.appendChild(xC(34.618,17.382,2.813,0.85));return qs;};function agh(ni){var aV=0;var ahU=false;var Qg;var FQ;var qs;for(aV=0;aV<ni.childNodes.length;aV++){if(ni.childNodes[aV].className==="pccPageListItemLoading"){ahU=true;}}if(ahU===false){FQ=document.createElement('div');FQ.className='pccPageListItemLoading';qs=asE();ni.innerHTML="";ni.appendChild(FQ);FQ.appendChild(qs);if(Ga.length>0){Qg=document.createElement('div');Qg.className='pccPageListItemLoadingContent';Qg.innerHTML=Ga;FQ.appendChild(Qg);}}};function aub(){var uc=aD.scrollTop;var uS=aD.scrollLeft;var uZ=aD.clientHeight;var ud=aD.clientWidth;var uu=aD.scrollWidth;var ty=aD.scrollHeight;var cI=YY({uc:uc,uS:uS,uZ:uZ,ud:ud,uu:uu,ty:ty});var C=cI.amH;if(mW&&tp===false&&cO!==C&&C>=0){cO=C;var T=new IPCC.PageEventArgs();T.imGearPage=V.get_currentPage();T.pageIndex=cO;T.pageNodeID=bE[cO].aS;V.bg('currentPageChanged',T);}};function ZO(aH){var bd=aH.bV||fV;var bU=aH.aK||jj;if(aH.gu%180){var qo=bd;bd=bU;bU=qo;}var DM=aH.fS||agu;return{bd:bd*(dg*cw/DM),bU:bU*(dg*cw/DM),aIE:DM,ab:aH.co};};function Zj(aBX){return IPCC.K.reduce(aBX,function(ek,bP,ab){ek[ab]=ZO(bP);return ek;},{});};function akC(bi){var tZ,BV,zG,yM,qd;if(fj===IPCC.PageLayout.VerticalScrollDirection){tZ=aD.scrollTop;BV=aD.scrollHeight;zG=aD.clientHeight;yM='bU';qd=fM;}else{tZ=aD.scrollLeft;BV=aD.scrollWidth;zG=aD.clientWidth;yM='bd';qd=hB+gr;}var fP=Zj(bE);var Hk=fj===IPCC.PageLayout.VerticalScrollDirection?fM:hB;var anv=false;IPCC.K.forEach(fP,function(bP,ab){if(bP.ab===bi){anv=true;}if(anv){return;}Hk+=bP[yM]+qd;});return Hk-(qd/2);};function qn(cI){var Bh=IPCC.K.map(cI.df,function(bP){return+bP.ab;}).sort();var iT=Bh[0];var iU=Bh[Bh.length-1];var es=bE.length;for(var C=DS;C;C--){iT-=1;iU+=1;if(iT>=0){Bh.unshift(iT);}if(iU<es){Bh.push(iU);}}return Bh.sort();};function MI(cI){var iT=Math.max(cI.df[0].ab-tI,0);var iU=Math.min(cI.df[cI.df.length-1].ab+tI,bE.length-1);return{iT:iT,iU:iU};};function atb(cI){var iT=Math.max(cI.df[0].ab-DS,0);var iU=Math.min(cI.df[cI.df.length-1].ab+DS,bE.length-1);return{iT:iT,iU:iU};};function YY(bJ){if(dC===IPCC.ViewMode.SinglePage){return akd();}var tZ,BV,zG,yM,qd;if(fj===IPCC.PageLayout.VerticalScrollDirection){tZ=bJ.uc;BV=bJ.ty;zG=bJ.uZ;yM='bU';qd=fM;}else{tZ=bJ.uS;BV=bJ.uu;zG=bJ.ud;yM='bd';qd=hB+gr;}var arn=tZ;var are=tZ+zG;var fP=Zj(bE);var Hk=fj===IPCC.PageLayout.VerticalScrollDirection?fM:hB;var aDF=tZ/BV;var Qi=(aDF*zG)+tZ;var Ur=Number.MAX_VALUE;var ru= -1;var df=[];IPCC.K.forEach(fP,function(bP,ab){var iw=Hk;var eN=iw+bP[yM];if(iw<are&&eN>arn){bP.xR=true;df.push(bP);}var ajV=Math.min(Math.abs(iw-Qi),Math.abs(eN-Qi));if(iw<Qi&&eN>Qi){Ur=0;ru=ab;}else if(ajV<Ur){ru=ab;Ur=ajV;}Hk+=bP[yM]+qd;});if(df.length===0&&fP[ru]!==undefined){df.push(fP[ru]);}return{df:df,amH:Number(ru)||0,Jg:fP};};function akd(){var fP=Zj(bE);var aqh=[cO];var df=IPCC.K.filter(fP,function(bP){return IPCC.K.contains(aqh,+bP.ab);});return{df:df,amH:cO,Jg:fP};};function Nl(){var cI=jo();if(!cI){return[];}return IPCC.K.map(cI.df,function(bP){return bP.ab;});};function jo(){if(dC===IPCC.ViewMode.SinglePage){return akd();}if(aD===''||aD.clientHeight<=0){return;}var uc=aD.scrollTop;var uS=aD.scrollLeft;var uZ=aD.clientHeight;var ud=aD.clientWidth;var uu=aD.scrollWidth;var ty=aD.scrollHeight;var apI=YY({uc:uc,uS:uS,uZ:uZ,ud:ud,uu:uu,ty:ty});tp=false;return apI;}};JM.prototype={dispose:function(){this.az('dispose',arguments);this.afl(false);this.anC();},get_debug:function(){try{var bp=this.JW();this.di('get_debug',arguments,bp);return bp;}catch(e){this.bz('get_debug',e);throw e;}},set_debug:function(value){try{this.az('set_debug',arguments);var Au=this.JW();this.Vb(value);if(!Au){this.az('set_debug',arguments);}}catch(e){this.bz('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bp=this.xu();this.di('get_debugErrorLevel',arguments,bp);return bp;}catch(e){this.bz('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.az('set_debugErrorLevel',arguments);var Au=this.xu();this.Jf(value);if(Au<IPCC.Web.UI.DebugErrorLevel.Development){this.az('set_debugErrorLevel',arguments);}}catch(e){this.bz('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Ns(handler);}catch(e){this.bz('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.ZP(handler);}catch(e){this.bz('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Os(handler);}catch(e){this.bz('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.YO(handler);}catch(e){this.bz('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.MR(handler);}catch(e){this.bz('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yr(handler);}catch(e){this.bz('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wr(handler);}catch(e){this.bz('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Zo(handler);}catch(e){this.bz('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.aua(handler);}catch(e){this.bz('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.awN(handler);}catch(e){this.bz('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.AP(handler);}catch(e){this.bz('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.CP(handler);}catch(e){this.bz('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.Wj(handler);}catch(e){this.bz('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.acI(handler);}catch(e){this.bz('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.Aw(handler);},remove_textExtractionFailed:function(handler){this.Bn(handler);},add_allPagesAdded:function(handler){try{this.asy(handler);}catch(e){this.bz('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.awh(handler);}catch(e){this.bz('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.XF(handler);}catch(e){this.bz('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Yn(handler);}catch(e){this.bz('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Wf(handler);}catch(e){this.bz('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Yw(handler);}catch(e){this.bz('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GS(handler);}catch(e){this.bz('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.EW(handler);}catch(e){this.bz('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XJ(handler);}catch(e){this.bz('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ze(handler);}catch(e){this.bz('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.kH(handler);}catch(e){this.bz('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.ml(handler);}catch(e){this.bz('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.zq(handler);}catch(e){this.bz('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zM(handler);}catch(e){this.bz('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Ww(handler);}catch(e){this.bz('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.YP(handler);}catch(e){this.bz('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Hd(handler);}catch(e){this.bz('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fn(handler);}catch(e){this.bz('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Gg(handler);}catch(e){this.bz('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.FE(handler);}catch(e){this.bz('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Hq(handler);}catch(e){this.bz('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fe(handler);}catch(e){this.bz('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Fm(handler);}catch(e){this.bz('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Gm(handler);}catch(e){this.bz('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.As(handler);}catch(e){this.bz('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.AJ(handler);}catch(e){this.bz('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.arS(handler);}catch(e){this.bz('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aws(handler);}catch(e){this.bz('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.xd(handler);}catch(e){this.bz('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Eb(handler);}catch(e){this.bz('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vB(handler);}catch(e){this.bz('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Ew(handler);}catch(e){this.bz('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sN(handler);}catch(e){this.bz('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.vU(handler);}catch(e){this.bz('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Wg(handler);}catch(e){this.bz('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Zw(handler);}catch(e){this.bz('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.WD(handler);},remove_exceptionThrown:function(handler){this.YH(handler);},writeToLog:function(message){try{this.mn(message);}catch(e){this.bz('writeToLog',e);throw e;}},get_currentState:function(){try{var bp=this.PJ();this.di('get_currentState',arguments,bp);return bp;}catch(e){this.bz('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bp=this.nM();this.di('get_scaleFactor',arguments,bp);return bp;}catch(e){this.bz('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.az('set_scaleFactor',arguments);this.aCx(scaleFactor);}catch(e){this.bz('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.az('zoomIn',arguments);this.Pm(factor);}catch(e){this.bz('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.az('zoomOut',arguments);this.YX(factor);}catch(e){this.bz('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aEt();},displayAll:function(){try{this.az('displayAll',arguments,1);this.aoD();}catch(e){this.bz('displayAll',e);throw e;}},display:function(pageIndex){try{this.az('display',arguments);this.cA(pageIndex);}catch(e){this.bz('display',e);throw e;}},get_textRequired:function(){try{var bp=this.jL();this.di('get_textRequired',arguments,bp);return bp;}catch(e){this.bz('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.az('set_textRequired',arguments);this.Je(value);}catch(e){this.bz('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.az('selectText',arguments,1);this.VJ(pageIndex,startIndex,endIndex,color);}catch(e){this.bz('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.az('clearSelectedText',arguments,1);this.aom(pageIndex);}catch(e){this.bz('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.az('clearAllSelectedText',arguments);this.aok();}catch(e){this.bz('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bp=this.aDO();this.di('get_maxPrefetch',arguments,bp);return bp;}catch(e){this.bz('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.az('set_maxPrefetch',arguments);this.azv(value);}catch(e){this.bz('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bp=this.aEc();this.di('get_displayPagesWhenScrolling',arguments,bp);return bp;}catch(e){this.bz('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.az('set_displayPagesWhenScrolling',arguments);this.aAn(value);}catch(e){this.bz('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bp=this.aDo();this.di('get_maxOutOfViewDisplay',arguments,bp);return bp;}catch(e){this.bz('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.az('set_maxOutOfViewDisplay',arguments);this.aAD(value);}catch(e){this.bz('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bp=this.aDf();this.di('get_discardOutOfViewText',arguments,bp);return bp;}catch(e){this.bz('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.az('set_discardOutOfViewText',arguments);this.aBg(value);}catch(e){this.bz('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bp=this.aEd();this.di('get_scrollDisplayThreshold',arguments,bp);return bp;}catch(e){this.bz('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.az('set_scrollDisplayThreshold',arguments);this.aCC(value);}catch(e){this.bz('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bp=this.aiT();this.di('get_mouseCursor',arguments,bp);return bp;}catch(e){this.bz('aiT',e);throw e;}},set_mouseCursor:function(value){try{this.az('set_mouseCursor',arguments);this.azK(value);}catch(e){this.bz('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bp=this.abE();this.di('get_mouseTool',arguments,bp);return bp;}catch(e){this.bz('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.az('set_mouseTool',arguments);this.JZ(value);}catch(e){this.bz('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bp=this.AO();this.az('get_markHandleMode',arguments);return bp;}catch(e){this.bz('get_markHandleMode',e);throw e;}},set_markHandleMode:function(h){try{this.az('set_markHandleMode',arguments);this.IQ(h);}catch(e){this.bz('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bp=this.aEa();this.az('get_retainPageText',arguments);return bp;}catch(e){this.bz('get_retainPageText',e);throw e;}},set_retainPageText:function(h){try{this.az('set_retainPageText',arguments);this.aCA(h);}catch(e){this.bz('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bp=this.aGt();this.az('get_allowMarkEdits',arguments);return bp;}catch(e){this.bz('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.az('set_allowMarkEdits',arguments);this.aBI(! !bool);}catch(e){this.bz('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bp=this.ahi();this.di('get_currentPage',arguments,bp);return bp;}catch(e){this.bz('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var amQ=this.aDu(pageIndex);this.di('get_pageNodeId',arguments,amQ);return amQ;}catch(e){this.bz('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.az('scrollToNextPage',arguments);this.aDP();}catch(e){this.bz('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.az('scrollToPreviousPage',arguments);this.aDL();}catch(e){this.bz('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.az('scrollToFirstPage',arguments);this.aDV();}catch(e){this.bz('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.az('scrollToLastPage',arguments);this.aEB();}catch(e){this.bz('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.az('scrollToPage',arguments,1);this.qt(pageIndex);}catch(e){this.bz('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.az('rotate',arguments,1);this.axx(degreesClockwise);}catch(e){this.bz('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.az('rotateAll',arguments,1);this.acq(degreesClockwise,true);}catch(e){this.bz('rotateAll',e);throw e;}},get_enabled:function(){try{var bp=this.aGo();this.di('get_enabled',arguments,bp);return bp;}catch(e){this.bz('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bp=this.aEm();this.di('get_pageLayout',arguments,bp);return bp;}catch(e){this.bz('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.az('set_pageLayout',arguments);this.aCF(value);}catch(e){this.bz('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bp=this.aEC();this.di('get_viewMode',arguments,bp);return bp;}catch(e){this.bz('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.az('set_viewMode',arguments);this.Nh(value);}catch(e){this.bz('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bp=this.aEh();this.di('get_loadingContent',arguments,bp);return bp;}catch(e){this.bz('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.az('set_loadingContent',arguments);this.aBG(value);}catch(e){this.bz('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.az('fitPages',arguments,1);this.azl(fitType);}catch(e){this.bz('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.az('openPage',arguments,1);this.MK(pageIndex);}catch(e){this.bz('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.az('requestPageAttributes',arguments,1);this.MZ(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bz('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.az('scrollRegionIntoView',arguments,1);return this.aDT(pageIndex,rectangle);}catch(e){this.bz('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.az('scrollBy',arguments,1);return this.aEq(xVal,yVal);}catch(e){this.bz('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.az('scrollConversationIntoView',arguments,1);return this.aEz(conversation);}catch(e){this.bz('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.abB();},get_encryption:function(){try{var bp=this.jh();this.di('get_encryption',arguments,bp);return bp;}catch(e){this.bz('get_encryption',e);throw e;}},set_encryption:function(value){try{this.az('set_encryption',arguments);this.lF(value);}catch(e){this.bz('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bp=this.aFk();return bp;}catch(e){this.bz('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aBw(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bz('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bp=this.tG();this.di('get_resourcePath',arguments,bp);return bp;}catch(e){this.bz('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.az('set_resourcePath',arguments);this.Kn(h);}catch(e){this.bz('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bp=this.lK();this.di('get_redactionDraftMode',arguments,bp);return bp;}catch(e){this.bz('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.az('set_redactionDraftMode',arguments);this.qW(value);}catch(e){this.bz('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bp=this.aDk();this.di('get_displayedPages',arguments,bp);return bp;}catch(e){this.bz('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bp=this.xh();this.di('get_requireRequestsOptimize',arguments,bp);return bp;}catch(e){this.bz('xh',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.az('set_requireRequestsOptimize',arguments);this.JR(value);}catch(e){this.bz('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bp=this.jJ();this.di('get_serviceResponseTimeout',arguments,bp);return bp;}catch(e){this.bz('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.az('set_serviceResponseTimeout',arguments);this.wi(value);}catch(e){this.bz('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bp=this.aDX();this.di('get_pageRotation',arguments,bp);return bp;}catch(e){this.bz('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.az('set_pageRotation',arguments);this.aCu(value);}catch(e){this.bz('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.az('getNodeID',arguments,1);return this.awl(pageIndex);}catch(e){this.bz('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bp=this.aGx();this.di('get_isCommentsPanelOpen',arguments,bp);return bp;}catch(e){this.bz('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.az('openCommentsPanel',arguments);this.aFF();}catch(e){this.bz('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.az('closeCommentsPanel',arguments);this.aoT();}catch(e){this.bz('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bp=this.aDq();this.di('get_conversationDOMFactory',arguments,bp);return bp;}catch(e){this.bz('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.az('set_conversationDOMFactory',arguments);this.aCH(value);}catch(e){this.bz('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bp=this.aEN();this.di('get_selectedConversation',arguments,bp);return bp;}catch(e){this.bz('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.az('set_selectedConversation',arguments);this.aBe(value);}catch(e){this.bz('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.az('refreshConversations',arguments);this.avZ(markIDs);}catch(e){this.bz('refreshConversations',e);throw e;}}};JM.registerClass=cQ;JM.registerClass('IPCC.PageList',{});module.exports=JM;},{"./IPCC.Util":29}],45:[function(require,module,exports){var pb=function(cq,yB){var V=this;this.cq=cq;this.yB=yB;this.aDl=function(){return V.cq;};this.aFe=function(){return V.yB;};};pb.prototype.get_propertyName=function(){return this.cq;};pb.prototype.get_propertyInfo=function(){return this.yB;};module.exports=pb;},{}],46:[function(require,module,exports){var DN=function(){this.cV=1;this.width=0;this.height=0;this.lV=0;this.Bb=0;this.pool=undefined;return this;};DN.prototype.PS=function(dJ){if(dJ.width<1||dJ.height<1){return[];}var kh=Math.floor(dJ.x*this.cV);var mz=Math.floor(dJ.y*this.cV);var mx=Math.ceil((dJ.x+dJ.width)*this.cV);var mP=Math.ceil((dJ.y+dJ.height)*this.cV);var mt=[];var C,ej;var dv=this.tiles.length;for(C=0;C<dv;C++){ej=this.tiles[C];if(ej.x<=mx&&ej.right>=kh&&ej.y<=mP&&ej.bottom>=mz){mt.push(ej);}}return mt;};module.exports=DN;},{}],47:[function(require,module,exports){var wd=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bd=0;this.bU=0;this.wo=0;this.vQ=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};wd.prototype.unlock=function(){this.level.pool.abA(this);};wd.prototype.lock=function(){this.level.pool.lockTile(this);};wd.prototype.relock=function(){return this.level.pool.WO(this);};wd.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};wd.prototype.toString=function(){var ah='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){ah='scale:'+this.level.cV.toString()+', '+ah;}return ah;};module.exports=wd;},{}],48:[function(require,module,exports){var mc=function(){this.aC=false;this.F=false;};mc.prototype.nf=function(F){this.F=F;};mc.prototype.eN=function(){this.F=false;};mc.prototype.aQ=function(){if(this.aC){this.F.aa().nD();this.aC=false;this.F.cA();}};mc.prototype.qU=function(){this.aQ();this.F.cA();};mc.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){var as=this.F.aa();this.aC=true;as.Et(T.constrainedImagePoint);this.sB=T.windowPoint;this.F.cA();}};mc.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){var as=this.F.aa();as.zy(T.constrainedImagePoint);this.F.cA();}};mc.prototype.kj=function(T){if(this.aC&&T.domEvent.button===0){var fs=T.windowPoint.x-this.sB.x;var gM=fs*fs;fs=T.windowPoint.y-this.sB.y;gM+=fs*fs;if(gM>25){var F=this.F;var as=F.aa();var aW=as.eR();var bS=F.dV();var aAy=bS.width;var aAt=bS.height;var aL=F.du();as.zy(T.constrainedImagePoint);var jH=as.vX();as.nD();F.bg('userModifiedViewState',{});aW.Mq(aL,bS,jH);aW.lB(aL,bS);as.iF(aW);F.cA();if(aAy!==bS.width||aAt!==bS.height){aW=as.eR();aW.Mq(aL,bS,jH);aW.lB(aL,bS);as.iF(aW);}}}this.aQ();};mc.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};mc.prototype.mL=function(){this.aQ();};module.exports=mc;},{}],49:[function(require,module,exports){var lc={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=lc;},{}],50:[function(require,module,exports){var yA=function(){};yA.prototype.nf=function(F){this.F=F;this.as=F.aa();};yA.prototype.eN=function(){this.F=false;};yA.prototype.aQ=function(){};module.exports=yA;},{}],51:[function(require,module,exports){var fl=require('./IPCC.Util').regEnum;var DC=function(){};DC.registerEnum=fl;DC.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};DC.registerEnum('IPCC.ScaleTrigger',false);module.exports=DC;},{"./IPCC.Util":29}],52:[function(require,module,exports){var oO=function(){this.aC=false;this.F=false;};oO.prototype.nf=function(F){this.F=F;};oO.prototype.eN=function(){this.F=false;};oO.prototype.aQ=function(){if(this.aC){this.F.nD();this.aC=false;this.F.cA();}};oO.prototype.qU=function(){this.aQ();};oO.prototype.lw=function(T){this.aQ();if(T.domEvent.button===0){var as=this.F.aa();this.aC=true;as.Et(T.constrainedImagePoint);this.F.cA();}};oO.prototype.kL=function(T){if(T.domEvent.button!==0){this.aQ();}if(this.aC){var as=this.F.aa();as.zy(T.constrainedImagePoint);this.F.cA();}};oO.prototype.kj=function(T){if(T.domEvent.button===0){this.aC=false;}this.aQ();};oO.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};oO.prototype.mL=function(){this.aQ();};module.exports=oO;},{}],53:[function(require,module,exports){var ko=function(){this.aC=false;this.F=false;};ko.prototype.nf=function(F){this.F=F;};ko.prototype.eN=function(){this.F=false;};ko.prototype.aQ=function(){if(this.aC){this.F.aa().Zh();this.aC=false;}};ko.prototype.qU=function(){this.aQ();};ko.prototype.lw=function(T){if(T.domEvent.button===0){var as=this.F.aa();this.aC=true;var dO=this.F.JV(T.constrainedImagePoint);this.F.gG=dO;if(!dO){return;}this.F.Aq(dO);as.Aq(dO);as.tA(undefined);this.F.cA();}};ko.prototype.kL=function(T){var F=this.F;F.aAj=true;if(T.domEvent.button!==0){this.aQ();}if(this.aC){var as=F.aa();var dO=F.JV(T.constrainedImagePoint);var jt=as.AW();if(jt===dO){return;}F.tA(dO);F.cA();}};ko.prototype.kj=function(T){if(T.domEvent.button===0){this.aC=false;}var F=this.F;var as=this.F.aa();var dQ=as.jl.length;if(dQ===0){this.aQ();return;}var bQ=as.jl[0].dO;var dz=as.jl[dQ-1].dO;if(F.Gl===true){if(bQ>dz){bQ=dz;}var C;var kk=IPCC.wt();this.G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.G.bQ=bQ;this.G.cP=F.Dg();this.G.dr=dQ;this.G.set_fillColor(F.ro);this.G.ks='y';this.G.bq=kk;for(C=0;C<as.jl.length;C++){var by=as.jl[C];var DG=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var zl=by.G.eB();DG.set_fillColor(F.ro);DG.set_opacity(by.G.get_opacity());DG.set_rectangle(zl);DG.bq=kk;DG.ks='y';this.F.ea().addMark(DG);}as.jl=[];if(dQ>0){this.F.ea().addMark(this.G);}F.mO().removeAllMarks();}dQ=as.jl.length;var afH=new IPCC.Web.UI.TextSelectedEventArgs();afH.text=F.Dg();F.bg('selectTextMouseToolCompleted',afH);F.cA();this.aQ();};ko.prototype.oI=function(T){var bS=this.F.dV();if(T.windowPoint.x<=0||T.windowPoint.x>=bS.width-2){this.aQ();}if(T.windowPoint.y<=0||T.windowPoint.y>=bS.height-2){this.aQ();}};ko.prototype.mL=function(){this.aQ();};module.exports=ko;},{}],54:[function(require,module,exports){var cv=function(){this.F=false;this.IC=0;this.avq=1;this.afL=2;this.adZ=3;};cv.prototype.nf=function(F){this.F=F;this.cl=this.IC;};cv.prototype.eN=function(){this.F=false;};cv.prototype.aQ=function(){this.cl=this.IC;};cv.prototype.alp=function(T){var aBb=new Date()-this.awE;if(aBb<750){var dU=this.aaw.x-T.windowPoint.x;var dW=this.aaw.y-T.windowPoint.y;var gM=dU*dU+dW*dW;if(gM<2500){return true;}}return false;};cv.prototype.acf=function(T){this.awE=new Date();this.aaw=new IPCC.Web.UI.Point(T.windowPoint.x,T.windowPoint.y);};cv.prototype.Nu=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length===1){if(this.cl===this.afL&&this.alp(T)){this.cl=this.adZ;}else{this.cl=this.avq;}this.acf(T);this.F.gw('lw',T);}else{this.cl=this.IC;this.F.gw('qU',T);}};cv.prototype.NI=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length===1){this.F.gw('kL',T);}};cv.prototype.Nv=function(T){var aX=T.domEvent.rawEvent;if(aX.touches.length===0){if(this.alp(T)){if(this.cl===this.adZ){this.cl=this.IC;this.F.gw('kj',T);this.F.gw('AF',T);}else{this.acf(T);this.cl=this.afL;this.F.gw('kj',T);}}else{this.cl=this.IC;this.F.gw('kj',T);}}};cv.prototype.HJ=function(T){this.F.gw('qU',T);};module.exports=cv;},{}],55:[function(require,module,exports){var EK=function(bd,bU,hh,hb){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bd;this.height=bU;this.hh=hh;this.hb=hb;return this;};EK.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hh+', '+this.hb+')';};module.exports=EK;},{}],56:[function(require,module,exports){var vZ=function(Lu){this.ri=(typeof(Lu)!=='undefined'&&Lu!==null&&Lu!=='')?[Lu.toString()]:[];this.h={};this.dv=0;};vZ.prototype.mE=function(bF){this.ri[this.ri.length]=bF;};vZ.prototype.aIb=function(bF){this.ri[this.ri.length]=((typeof(bF)==='undefined')||(bF===null)||(bF===''))?'\r\n':bF+'\r\n';};vZ.prototype.aGr=function(){this.ri=[];this.h={};this.dv=0;};vZ.prototype.aHf=function(){if(this.ri.length===0){return true;}return this.toString()==='';};vZ.prototype.auj=function(zn){zn=zn||'';var parts=this.ri;if(this.dv!==parts.length){this.h={};this.dv=parts.length;}var val=this.h;if(typeof(val[zn])==='undefined'){if(zn!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zn]=this.ri.join(zn);}return val[zn];};module.exports=vZ;},{}],57:[function(require,module,exports){var eZ=function(F,rg){this.NT=false;this.aas=false;this.BD=true;this.Ss=false;this.Mu=false;this.yw=0;this.xk=0;var ai=this;this.aEp='opacity';this.aEs=function(cu){return cu.toString();};var agl=function agl(aN,fe,pj,aL,lT,lU){var fY;if(this.F.od()===true){aN.vW.setAttribute('width',pj.width);aN.vW.setAttribute('height',pj.height);aN.vN.setAttribute('width',pj.width);aN.vN.setAttribute('height',pj.height);fY=fe.oa().toString()+','+fe.ps().toString()+','+fe.sm().toString()+','+fe.sS().toString()+','+(fe.vx()+lT).toString()+','+(fe.wO()+lU).toString();this.gR(aN.zv,'transform','matrix('+fY+')');}else{aN.vW.setAttribute('width',pj.width);aN.vW.setAttribute('height',pj.height);aN.vN.setAttribute('width',pj.width);aN.vN.setAttribute('height',pj.height);fY=fe.oa().toString()+','+fe.ps().toString()+','+fe.sm().toString()+','+fe.sS().toString()+','+(fe.vx()+lT).toString()+','+(fe.wO()+lU).toString();this.gR(aN.zv,'transform','matrix('+fY+')');}};function atI(aN){var pathList=aN.vW.getElementsByTagName('path');var gList=aN.vW.getElementsByTagName('g');aN.MX=[];function adW(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aN.MX.push(pathItem);}}};IPCC.K.forEach(pathList,adW);IPCC.K.forEach(gList,adW);};this.aaL=function(aN){var as=F.aa();var aoz=1;var jO=as.aDS();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*jO));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*jO;}};if(aN.MX===undefined){atI(aN);}if(jO===aoz){IPCC.K.forEach(aN.MX,setStrokeWidthToOriginalValue);}else{IPCC.K.forEach(aN.MX,updateStrokeWidthByLineWidthMultiplier);}as.aAi(false);};function auz(aN,au){aN.rJ.setAttribute('exponent',au);aN.sv.setAttribute('exponent',au);aN.sb.setAttribute('exponent',au);};function auC(aN,au){var aoK=841;var le=(au/aoK)* -1;var fY;if(IPCC.K.Dj){fY='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';fY=fY.replace('{00}',le).replace('{01}',le).replace('{02}',le).replace('{10}',le).replace('{11}',1).replace('{12}',le).replace('{20}',le).replace('{21}',le).replace('{22}',le);}else{fY='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';fY=fY.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',le).replace('{12}',le).replace('{13}',le).replace('{14}',0).replace('{20}',0).replace('{21}',le).replace('{22}',1).replace('{23}',le).replace('{24}',0).replace('{30}',0).replace('{31}',le).replace('{32}',le).replace('{33}',le).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aN.mF.setAttribute('kernelMatrix',fY);};this.auQ=function(aN){var as=F.aa();var pM=as.aFR();var qh=as.aDM();if(qh===0&&pM===1){aN.zv.removeAttribute('filter','url(#'+aN.IT+')');}else{aN.zv.setAttribute('filter','url(#'+aN.IT+')');}auz(aN,pM);auC(aN,qh);};var Ye,Zg;this.aav=function(aN,fe,pj,aL,lT,lU){if(aN.Zi.match('maglevel')){agl.apply(this,arguments);return;}var bh=aN.gQ.parentElement.getBoundingClientRect();var ll=bh.width/aL.width;var agC=function(val){return Math.abs(val)<1.0e-14;};var eu=0,fi=0;var awT=function(){var nY=fe.ps();if(agC(nY)){nY=0;}var qD=fe.sm();if(agC(qD)){qD=0;}var aBs=fe.oa();var hE=(nY>=0&&qD<0)?90:(nY<0&&qD>=0)?270:(aBs<0)?180:(nY>=0&&qD>=0)?0:0;switch(hE){case 90:eu=bh.width;break;case 180:eu=bh.width;fi=bh.height;break;case 270:fi=bh.height;break;}return hE*(Math.PI/180);};var hE=awT();if(parseInt(hE,10)===1||parseInt(hE,10)===4){ll=bh.height/aL.width;}if(ll===Ye&&hE===Zg){return;}else{Ye=ll;Zg=hE;}var eK=1,gz=0;if(hE!==0){eK=Math.cos(hE);gz=Math.sin(hE);}var aW={ll:eK*ll,rK:eK*ll,nY:gz*ll,qD:gz* -1*ll,eu:eu,fi:fi};var awp=new IPCC.fh(aW.ll,aW.nY,aW.qD,aW.rK,aW.eu,aW.fi);fe.Lx(awp);F.aa().iF(fe);var fY='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';fY=fY.replace('{scaleX}',aW.ll).replace('{scaleY}',aW.rK).replace('{skewX}',aW.nY).replace('{skewY}',aW.qD).replace('{moveX}',aW.eu).replace('{moveY}',aW.fi);this.gR(aN.zv,'transform',fY);};this.aoA=function(){Ye=undefined;Zg=undefined;};this.awU(F);this.aot=function(cU){var bS=new IPCC.EK(cU.clientWidth,cU.clientHeight,96,96);return bS;};this.abk=function(aX){aX.preventDefault();ai.lw(aX);};this.aay=function(aX){aX.preventDefault();ai.kL(aX);};this.acx=function(aX){aX.preventDefault();ai.kj(aX);};this.akB=function(aX){ai.lw(aX);};this.adQ=function(aX){ai.AF(aX);};this.aka=function(aX){ai.kL(aX);};this.Uc=function(aX){ai.mL(aX);};this.akL=function(aX){ai.kj(aX);};this.alY=function(aX){ai.AF(aX);};this.aea=function(aX){ai.Ti(aX);};this.Me=function(aX){if(aX.target!==document.activeElement){ai.aCU(aX);}};this.afc=function(aX){if(aX.target!==document.activeElement){ai.aEr(aX);}};this.oI=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;ai.te(T);F.aAM(T);}catch(ex){F.bz('mouseOut',ex);}};this.Nu=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;ai.te(T);F.azU(T);}catch(ex){F.bz('touchStart',ex);}};this.NI=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;ai.te(T);F.aAB(T);}catch(ex){F.bz('touchMove',ex);}};this.Nv=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;ai.te(T);F.azZ(T);}catch(ex){F.bz('touchEnd',ex);}};this.HJ=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;ai.te(T);F.aAs(T);}catch(ex){F.bz('touchCancel',ex);}};this.amY=function(aX){try{aX.preventDefault();}catch(ex){F.bz('dragStart',ex);}};this.atZ=function(){var eb=F.mi().igElements.nj;IPCC.Web.UI.af.addHandler(eb,"mousewheel",this.Uc);IPCC.Web.UI.af.addHandler(eb,"DOMMouseScroll",this.Uc);if(rg){IPCC.Web.UI.af.addHandler(eb,"touchstart",this.Nu);IPCC.Web.UI.af.addHandler(eb,"touchmove",this.NI);IPCC.Web.UI.af.addHandler(eb,"touchend",this.Nv);IPCC.Web.UI.af.addHandler(eb,"touchcancel",this.HJ);}IPCC.Web.UI.af.addHandler(eb,"mouseout",this.oI);IPCC.Web.UI.af.addHandler(eb,"dragstart",this.amY);};this.anT=function(){var eb=F.mi().igElements.nj;IPCC.Web.UI.af.removeHandler(eb,"DOMMouseScroll",this.Uc);IPCC.Web.UI.af.removeHandler(eb,"mouseout",this.oI);if(rg){IPCC.Web.UI.af.removeHandler(eb,"touchstart",this.Nu);IPCC.Web.UI.af.removeHandler(eb,"touchmove",this.NI);IPCC.Web.UI.af.removeHandler(eb,"touchend",this.Nv);IPCC.Web.UI.af.removeHandler(eb,"touchcancel",this.HJ);}IPCC.Web.UI.af.removeHandler(eb,"dragstart",this.amY);};function arz(aN,iL){var nA=document.createElementNS('http://www.w3.org/2000/svg','filter');var IT='filter'+iL;aN.IT=IT;nA.setAttribute('id',IT);nA.setAttribute('x','0');nA.setAttribute('y','0');nA.setAttribute('filterUnits','objectBoundingBox');nA.setAttribute('color-interpolation-filters','sRGB');return nA;};function arL(iL){var mF=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');mF.setAttribute('in','SourceGraphic');mF.setAttribute('result',iL+'mF');mF.setAttribute('preserveAlpha','true');if(IPCC.K.Dj){mF.setAttribute('order','3 3');mF.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{mF.setAttribute('order','5 5');mF.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return mF;};function asd(iL){var qC=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');qC.setAttribute('in',iL+'mF');qC.setAttribute('result',iL+'qC');return qC;};function asn(iL){var rJ=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');rJ.setAttribute('type','gamma');rJ.setAttribute('amplitude','1');rJ.setAttribute('exponent','1');rJ.setAttribute('offset','0');var sv=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sv.setAttribute('type','gamma');sv.setAttribute('amplitude','1');sv.setAttribute('exponent','1');sv.setAttribute('offset','0');var sb=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sb.setAttribute('type','gamma');sb.setAttribute('amplitude','1');sb.setAttribute('exponent','1');sb.setAttribute('offset','0');return{rJ:rJ,sv:sv,sb:sb};};function aqa(aN,iL){var JA=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var amC=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var alF=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');amC.setAttribute('in',iL+'mF');alF.setAttribute('in',iL+'qC');JA.appendChild(amC);JA.appendChild(alF);return JA;};this.aof=function(aN,gQ,sn,iL){var C,an,cU,Zu;var Rr=function(be,dE,aZ){var cU=document.createElementNS('http://www.w3.org/2000/svg',be);var C;if(dE){cU.setAttribute('id',dE);}for(C in aZ){if(aZ.hasOwnProperty(C)){cU.setAttribute(C,aZ[C]);}}return cU;};var ee=Rr('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var nA=arz(aN,iL);aN.aGD=nA;var mF=arL(iL);aN.mF=mF;nA.appendChild(mF);var qC=asd(iL);aN.qC=qC;nA.appendChild(qC);var DF=asn();qC.appendChild(DF.rJ);qC.appendChild(DF.sv);qC.appendChild(DF.sb);aN.rJ=DF.rJ;aN.sv=DF.sv;aN.sb=DF.sb;var JA=aqa(aN,iL);nA.appendChild(JA);ee.appendChild(nA);aN.vN=Rr('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});ee.appendChild(aN.vN);var Xu=Rr('g',null,{});aN.zv=Xu;ee.appendChild(Xu);var dv;if(F.od()===false){dv=sn.fr.length;}else{dv=1;}for(C=0;C<dv;C++){an=sn.fr[C];an.pool.parentElementID=iL+C.toString();Zu=1/an.cV;cU=Rr('g',an.pool.parentElementID,{transform:'matrix('+Zu.toString()+',0,0,'+Zu.toString()+',0,0)'});Xu.appendChild(cU);}aN.vW=ee;gQ.appendChild(ee);};this.atR=function(iM){var atO=this.alN();iM.elementID=atO;};this.avB=function(iM){var cU=document.getElementById(iM.elementID);this.gR(cU,'display','none');};this.akH=function(iM){var cU=document.getElementById(iM.elementID);if(cU===null){iM.elementID='';return;}cU.setAttributeNS('http://www.w3.org/1999/xlink','href','');cU.parentNode.removeChild(cU);iM.elementID='';};var avV=function(aX){try{aX.target.onload=undefined;aX.target.onerror=undefined;aX.target.onabort=undefined;var iM=aX.target.poolItem;iM.loaded=true;ai.At();}catch(ex){F.bz('downloadImage',ex);}};var anw=function(aX){try{aX.target.onload=undefined;aX.target.onerror=undefined;aX.target.onabort=undefined;aX.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aX.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){F.bz('downloadImage',ex);var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}};this.aAS=function(xl){var C;var dv=xl.length;if(F.od()===false){dv=xl.length;}else{dv=1;}for(C=0;C<dv;C++){var fA=xl[C];var cU=document.getElementById(fA.poolItem.elementID);if(cU===null){var iM=fA.poolItem;var NP=iM.pool;var gQ=document.getElementById(NP.parentElementID);cU=document.createElementNS('http://www.w3.org/2000/svg','image');this.gR(cU,'id',iM.elementID);this.gR(cU,'externalResourcesRequired','true');cU.poolItem=iM;cU.onload=avV;cU.onerror=anw;cU.onabort=anw;if(document.documentMode>8||IPCC.K.vz.zL){iM.loaded=true;}cU.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.avj(cU,fA.url,'image/'+fA.contentType);gQ.appendChild(cU);this.gR(cU,'display','block');var bd=fA.right-fA.x;var bU=fA.bottom-fA.y;this.gR(cU,'x',fA.x);this.gR(cU,'y',fA.y);this.gR(cU,'width',bd);this.gR(cU,'height',bU);if(dv>1){var aoB=bd-fA.wo;var apg=bU-fA.vQ;var OX=document.createElementNS('http://www.w3.org/2000/svg','clipPath');OX.id=cU.id+'_clip';var eg=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gR(eg,'x',fA.x-fA.wo);this.gR(eg,'y',fA.y-fA.vQ);this.gR(eg,'width',aoB);this.gR(eg,'height',apg);this.gR(eg,'class','expand-on-print');OX.appendChild(eg);var insertBeforeElement=null;for(var i=0;i<gQ.childNodes.length;i++){if(gQ.childNodes.item(i).getAttribute('x')<fA.x||gQ.childNodes.item(i).getAttribute('y')<fA.y){insertBeforeElement=gQ.childNodes.item(i);break;}}gQ.insertBefore(cU,insertBeforeElement);gQ.appendChild(OX);this.gR(cU,'style','clip-path: url(#'+OX.id+')');this.gR(cU,'class','no-clip-on-print');}}this.gR(cU,'display','block');}if((document.documentMode>8||IPCC.K.vz.zL)&&xl.length>0){ai.At();}};this.avj=function(cU,bw,un){var rw=true;var mq=0;if(F.jJ()===0){rw=false;}function dS(aI){var cG,bW;try{var fG=IPCC.Web.HH(aI),Wn;var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");if(pr==='true'&&F.jh()===true){var uk=IPCC.Web.gn.qL.vb(aI.getResponseHeader("Accusoft-Data-SK"));var al=IPCC.Web.GU(uk,jE);var uF=IPCC.Web.DZ(fG,al,jE);Wn=IPCC.Web.gn.qL.oc(uF,0,0);}else{Wn=IPCC.Web.gn.qL.oc(fG,0,0);}cU.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+un+';base64,'+Wn);}catch(ex){cG="Image error, Error message = "+ex.message;bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);throw new IPCC.Web.UI.ImGearArgumentException(null,cG);}};function ew(ah){var hc=ah.response.status,cG,mN,me;if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(hc,"Client Image load timeout");}if(hc===403){mq++;if(ah.response.statusText&&ah.response.statusText!==""){cG="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{cG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}mN=ah.response.getResponseHeader('Accusoft-Status-Message');if(mN){var rD;me=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vS(me)){rD=parseInt(me,10);}throw new IPCC.Web.UI.ImGearHttpException(hc,mN,rD);}else{if(ah.response.statusText&&ah.response.statusText!==""){cG=ah.response.statusText;}else{cG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}};var gl={method:'GET'};if(rw===true){gl.timeout=F.jJ();}if(F.aGn()&&F.jh()===true){var jE=IPCC.Web.FP.ajq(4);var qX=IPCC.Web.gn.HF.oc(jE);var aDp=bw+'&iv='+qX;gl.url=aDp;}else{gl.mimeType='text/plain; charset=x-user-defined';gl.url=bw;}IPCC.K.nv.fK(gl).then(dS,ew);};this.axj=function(aN){var V=this;if(aN.SK){return;}var mq=0;var fA=aN.sn.fr[0].tiles[0];if(!fA){return;}var NP=fA.level.pool;var gQ=document.getElementById(NP.parentElementID);var rw=true;if(F.jJ()===0){rw=false;}var vJ=F.abn();if(aN.Iw){if(vJ===2){delete aN.Iw;if(gQ.childNodes.length>0){gQ.removeChild(gQ.childNodes[0]);}}else if(vJ===1){if(gQ.childNodes.length>0){gQ.removeChild(gQ.childNodes[0]);}}else{if(gQ.childNodes.length===0){gQ.appendChild(aN.arh);}}F.xt=true;return;}if(vJ>0){return;}function dS(aI){var bW,cG;aN.SK=false;try{try{var mZ;var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");if(pr==='true'&&F.jh()===true){var uk=IPCC.Web.gn.qL.vb(aI.getResponseHeader("Accusoft-Data-SK"));var al=IPCC.Web.GU(uk,jE);var fG=IPCC.Web.HH(aI);var uF=IPCC.Web.DZ(fG,al,jE);mZ=IPCC.Web.gn.Kd.oc(uF);}else{mZ=aI.responseText;}ayo(mZ);}catch(ex){cG="SVG image error, Error message = "+ex.message;bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=ex;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);throw new IPCC.Web.UI.ImGearArgumentException(null,cG);}}catch(e){F.bz('openPage',e);if(typeof(F.bg)==='function'){bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};function ew(ah){var bW,cG,mN,me;aN.SK=false;try{if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var hc=ah.response.status;if(hc===480){mq++;if(ah.response.statusText&&ah.response.statusText!==""){cG=cG="PDF file password required, error message from the server: "+ah.response.statusText;}else{cG="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}if(hc===403){mq++;if(ah.response.statusText&&ah.response.statusText!==""){cG="Expired viewer session ID, error message from the server: "+ah.response.statusText;}else{cG="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}mN=ah.response.getResponseHeader('Accusoft-Status-Message');if(mN){var rD;me=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vS(me)){rD=parseInt(me,10);}throw new IPCC.Web.UI.ImGearHttpException(hc,mN,rD);}else{if(ah.response.statusText&&ah.response.statusText!==""){cG=ah.response.statusText;}else{cG="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hc,cG);}}catch(e){F.bz('openPage',e);if(typeof(F.bg)==='function'){bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=F.bi;F.bg('pageOpenFailed',bW);}}};var asG=function(){var as=F.aa();var Ar=as.ahQ();F.xt=true;F.bg('pageDisplayed',{aw:F.bi});if(Ar){V.aaL(aN);}};var ayo=function(fp){var tJ=NP.parentElementID.toString();var GH=(IPCC.K.Dj||IPCC.K.ZS)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var avU=GH.replace(/"/g,'\\$&');var anr=GH.replace(/[()]/g,'\\$&');fp=fp.replace(/href="#/g,'href="'+avU+'#'+tJ);fp=fp.replace(/="url\(#/g,'="url('+anr+'#'+tJ);fp=fp.replace(/fill:url\(#/g,'fill:url('+anr+'#'+tJ);fp=fp.replace(/ id="/g,' id="'+tJ);fp=fp.replace(/<use([^>]+)\/>/g,' <use$1></use>');var Wl=document.createElement('div');Wl.innerHTML=fp;var oq=Wl.querySelectorAll('style');IPCC.K.forEach(oq,function(aO){var amj=(aO.styleSheet)?aO.styleSheet.cssText:aO.textContent;if(aO.styleSheet){aO.styleSheet.cssText=amj;}else{aO.appendChild(document.createTextNode(amj));}});var jR=null;var Kt=Wl.firstChild;while(Kt!==null){if(Kt.nodeName==='svg'){jR=Kt;break;}Kt=Kt.nextSibling;}if(jR===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aN.Iw){aN.arh=jR;gQ.appendChild(jR);aN.Iw=true;if(!F.xt&&aN.Iw){setTimeout(asG,1);}}};var bw;var jE,qX;F.xt=false;if(F.jh()===true){jE=IPCC.Web.FP.Yt(4,IPCC.Web.OK());qX=IPCC.Web.gn.HF.oc(jE);bw=fA.url+'&iv='+qX;}else{bw=fA.url;}var gl={method:'GET',url:bw,cache:true};if(rw===true){gl.timeout=F.jJ();}aN.SK=true;IPCC.K.nv.fK(gl).then(dS,ew);};this.amb=function(fA,cu){if(!fA){return;}var Dw=document.getElementById(fA.poolItem.elementID);this.gR(Dw,'x',fA.x);this.gR(Dw,'y',fA.y);this.gR(Dw,'width',fA.right-fA.x);this.gR(Dw,'height',fA.bottom-fA.y);this.gR(Dw,'opacity',cu);this.gR(Dw,'display','block');};this.aet=function(xl,cu,fe){var C;if(F.od()===false){for(C=0;C<xl.length;C++){this.amb(xl[C],cu);}}};return this;};eZ.viewerCounter=0;eZ.tileCounter=0;eZ.imageIDCounter=0;eZ.prototype.awU=function(F){this.iL=IPCC.eZ.viewerCounter.toString();IPCC.eZ.viewerCounter++;this.F=F;if(IPCC.dK){this.pq=new IPCC.Web.UI.MarkCollection();}var V=this;function atF(bn,T){V.aED(T);};function ya(bn,T){V.awo(T);};F.kH(atF);F.add_markAdded(ya);F.add_markChanged(ya);F.add_inProgressMarkChanged(ya);F.add_markRemoved(ya);F.add_markReordered(ya);F.add_marksLoaded(ya);F.add_markSelectionChanged(ya);F.add_markTextSelectionChanged(ya);};eZ.prototype.alN=function(){var dE='igtile'+IPCC.eZ.tileCounter.toString();IPCC.eZ.tileCounter++;return dE;};eZ.prototype.At=function(){this.NT=true;this.BD=this.BD&&this.aas;var V=this;var awC=function(){if(!V.NT){return;}V.cA(V.F.du(),V.F.aa(),V.F.dV());V.BD=true;};window.setTimeout(awC,0);};eZ.prototype.aED=function(T){var uD=T.get_propertyName();switch(uD){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.F.aa().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.IF=true;if(this.F.yd()===true){this.At();}return;case 'displayedPageRectangle':if(this.F.xt===true){this.At();return;}break;case 'redactionDraftMode':this.IF=true;this.At();return;}if(this.F.yd()===true){this.At();}};eZ.prototype.awo=function(T){if(T.mark&& !this.IF){this.pq.addMark(T.mark);}else{this.IF=true;}if(this.F.yd()===true){this.At();}};eZ.prototype.Ty=function(){this.jU=this.fe.clone();this.jU.mV(this.aae,this.aaU);this.jU.lB(this.F.du(),this.F.dV());this.qV=this.jU.clone();this.qV.wg();};eZ.prototype.cA=function(bM,as,bS){try{this.NT=false;if(this.Ln===true){return;}var dm=this.F.mi();if(dm===null){return;}var cd=dm.igElements;try{this.Ln=true;if(this.GB===undefined||bM===undefined|| !(this.GB.equals(bM))){if(this.Ss){if(this.jZ){this.anT(this.jZ);var eb=cd.nj;IPCC.Web.UI.af.removeHandler(eb,"mousedown",this.akB);IPCC.Web.UI.af.removeHandler(eb,"mousemove",this.aka);IPCC.Web.UI.af.removeHandler(eb,"mouseup",this.akL);IPCC.Web.UI.af.removeHandler(eb,"dblclick",this.alY);IPCC.Web.UI.af.removeHandler(eb,"contextmenu",this.aea);IPCC.Web.UI.af.removeHandler(cd.fN,"blur",this.Me);IPCC.Web.UI.af.removeHandler(cd.fT,"blur",this.afc);IPCC.Web.UI.af.removeHandler(cd.de,"blur",this.Me);}delete this.jZ;this.ajN(cd.pW);this.ajN(cd.Ef);this.Ss=false;if(this.Gq!==undefined){this.Gq.unlockAllItems();}if(this.FC!==undefined){this.FC.unlockAllItems();}this.Gq=undefined;this.FC=undefined;dm.igElements.mf.onscroll=null;dm.igElements.mf.onresize=null;}if(dm.querySelectorAll){if(dm.querySelectorAll(".pccPageLoadFail").length===0){dm.innerHTML='';}}this.F.pD(true);if(bM===undefined){this.Ln=false;this.GB=undefined;this.aoA();return;}this.GB=bM.clone();this.Gq=new IPCC.sk();this.Gq.createPyramid(this,this.F);this.FC=new IPCC.sk();this.FC.createPyramid(this,this.F);this.Ss=true;this.anJ(this.iL);}this.fe=as.eR();var PQ=this.fe.qR(bM);this.fe.mV(-PQ.x,-PQ.y);this.auL=this.fe.clone();this.auL.wg();this.aae=Math.round(PQ.x);this.aaU=Math.round(PQ.y);this.Ty();this.atp(bM,as,bS);if(bM.bi===0){this.Ty();}}finally{this.Ln=false;this.IF=false;if(this.pq){this.pq.removeAllMarks();}}this.adp(true);}catch(e){this.F.bz('display',e);throw e;}};eZ.prototype.aCy=function(vm,yJ,wz){if(vm[yJ]===wz){return;}vm[yJ]=wz;};eZ.prototype.gR=function(vm,yJ,wz){if(vm.getAttribute(yJ)===wz){return;}vm.setAttribute(yJ,wz);};eZ.prototype.Am=function(vm,yJ,wz){if(vm.style[yJ]===wz){return;}vm.style[yJ]=wz;};eZ.prototype.adp=function(alJ){if(this.Ln){return;}if(this.NT&& !this.BD){return;}if(!alJ){try{this.aas=true;var dm=this.F.mi();if(dm){this.yw=dm.igElements.mf.scrollLeft;this.xk=dm.igElements.mf.scrollTop;}this.apO();this.Ty();this.F.aa().iF(this.jU);this.F.bg('userModifiedViewState',{});this.F.pD(false);}finally{this.aas=false;}}};eZ.prototype.aFr=function(aN,fe,anF){var sn=aN.sn;var oC=sn.aFc(fe,anF);if(!this.F.xt&&oC.tilesToRequest.length===0&&(oC.opaqueTiles.length+oC.translucentTiles.length)>0){this.F.xt=true;this.F.bg('pageDisplayed',{aw:this.F.bi});}sn.axq(oC);if(this.F.od()===false){this.aAS(oC.tilesToRequest);this.aet(oC.opaqueTiles,1,fe);this.aet(oC.translucentTiles,oC.opacity,fe);}};eZ.prototype.anJ=function(iL){var F=this.F;var dm=F.mi();var as=F.aa();var ai=this;function hk(rk){var wE=document.createElement('div');var C;for(C in rk){if(rk.hasOwnProperty(C)){wE.style[C]=rk[C];}}return wE;};var cd={};dm.igElements=cd;var ia=hk({width:'100%',height:'100%',position:'relative',overflow:as.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cd.mf=ia;ia.setAttribute('class','igViewerScroller');ia.onscroll=function(){ai.adp(false);};ia.onresize=function(){var bS=F.dV();bS.width=ia.clientWidth;bS.height=ia.clientHeight;F.bg('resize',{});};var eb=hk({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});ia.appendChild(eb);cd.nj=eb;eb.setAttribute('class','igViewerGraphics');this.xi=2;this.xB=2;this.yw=0;this.xk=0;var aN={};aN.sn=this.Gq;aN.Zi='ig'+iL+'level';cd.pW=aN;this.agP(aN,eb,hk);aN.qS=this.qS;var md;if(F.od()===false){md=hk({position:'absolute',display:'none',width:(as.uW().width+4)+'px',height:(as.uW().height+4)+'px',backgroundColor:'#000000'});}else{md=hk({position:'absolute',display:'none',width:(as.uW().width+4)+'px',height:(as.uW().height+4)+'px',backgroundColor:'#cccccc'});}eb.appendChild(md);cd.md=md;md.setAttribute('class','igMagnifierFrame');var qv=hk({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cd.qv=qv;md.appendChild(qv);aN={};aN.sn=this.FC;aN.Zi='ig'+iL+'maglevel';cd.Ef=aN;this.agP(aN,qv,hk);aN.qS=this.auY;var Mn=document.createTextNode('');cd.Mn=Mn;var fN=document.createElement('textarea');fN.appendChild(Mn);fN.style.position='absolute';fN.style.overflow='auto';fN.style.width='80px';fN.style.height='80px';fN.style.resize='none';fN.style.display='none';ia.appendChild(fN);cd.fN=fN;var VC=document.createTextNode('');cd.VC=VC;var fT=document.createElement('input');fT.type="text";fT.style.position='absolute';fT.style.overflow='hidden';fT.style.width='80px';fT.style.height='80px';fT.style.resize='none';fT.style.display='none';fT.style.padding='0px';fT.style.margin='0px';fT.style.lineHeight='normal';fT.className="no-ms-clear";var ami=function(ev){var wm=fT,bd=parseFloat(wm.style['width']),bU=parseFloat(wm.style['height']),jm=wm.style['fontFamily'];var ayA=wm.value.length>wm.placeholder.length?wm.value:wm.placeholder;var jb=IPCC.K.um(ayA,jm,{uR:'pre',ee:cd.pW.vW}),wq=12*bd/(jb.width||1),yW=12*bU/(jb.height||1),Bz=Math.floor(Math.min(wq,yW))*0.9;wm.style.fontSize=Bz+'px';};fT.onkeyup=ami;fT.onfocus=function(ev){ami(ev);if(fT.setSelectionRange){var gH=fT.value.length*2;fT.setSelectionRange(gH,gH);}};ia.appendChild(fT);cd.fT=fT;var pP=document.createTextNode('');cd.pP=pP;var de=document.createElement('textarea');de.appendChild(pP);de.style.position='absolute';de.style.overflow='hidden';de.style.width='80px';de.style.height='80px';de.style.resize='none';de.style.display='none';de.style.whiteSpace='pre-wrap';de.style.border=0;de.style.padding='2px';de.style.fontStyle='normal';var aEK=function(bv){var aoj=F.Ge();var cV=F.aa().eR().nM();var ij=aoj.ij*cV;var aK=F.nq().ig()*cV;IPCC.K.UV(de,ij,aK);};de.onkeyup=aEK;ia.appendChild(de);cd.de=de;this.jZ={};this.atZ(this.jZ);IPCC.Web.UI.af.addHandler(eb,"mousedown",this.akB);IPCC.Web.UI.af.addHandler(eb,"mousemove",this.aka);IPCC.Web.UI.af.addHandler(eb,"mouseup",this.akL);IPCC.Web.UI.af.addHandler(eb,"dblclick",this.alY);IPCC.Web.UI.af.addHandler(eb,"contextmenu",this.aea);IPCC.Web.UI.af.addHandler(fN,"blur",this.Me);IPCC.Web.UI.af.addHandler(fT,"blur",this.afc);IPCC.Web.UI.af.addHandler(de,"blur",this.Me);dm.appendChild(ia);};eZ.prototype.agP=function(aN,gQ,hk){var sP=hk({width:'2px',height:'2px',position:'absolute'});aN.gQ=gQ;gQ.appendChild(sP);aN.ajm=sP;sP.setAttribute('class','igAnchor');this.aof(aN,sP,aN.sn,aN.Zi);aN.Ai=hk({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});sP.appendChild(aN.Ai);var jH=hk({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jH.style[this.aEp]=this.aEs(0.5);sP.appendChild(jH);aN.jH=jH;};eZ.prototype.ajN=function(aN){if(aN&&aN.Mu){aN.qS.amT();aN.Mu=false;}aN.gQ=null;};eZ.prototype.atp=function(bM,as,bS){var F=this.F;var mk=this.jU.qR(bM);var dm=F.mi();var aqY=F.aCZ();var BB=F.aEY();var cd=dm.igElements;var pW=cd.pW;var Ef=cd.Ef;var ia=cd.mf;var eb=cd.nj;var sP=pW.ajm;var md=cd.md;var qv=cd.qv;var alU=Ef.ajm;var Kf=Math.max(0,-mk.x);var Jx=Math.max(0,-mk.y);var avL=Math.max(mk.width,bS.width);var avp=Math.max(mk.height,bS.height);var lT=Math.max(0,mk.x);var lU=Math.max(0,mk.y);var aax=false;var BP=false;if(as.zK()){BP=as.vX();}var ayJ=this.xi;this.xi=Math.floor(avL-1);if(this.xi<0){this.xi=0;}var axO=this.xB;this.xB=Math.floor(avp-1);if(this.xB<0){this.xB=0;}if(F.od()===true){if(this.xB===0){this.xB=2;}if(this.xi===0){this.xi=2;}}var ayi=this.yw;var axG=this.xk;if(!this.BD){this.yw=Math.floor(Kf);this.xk=Math.floor(Jx);}if(this.aep){this.Am(sP,'left',lT+'px');this.Am(sP,'top',lU+'px');}var fe=as.eR();fe.mV(Kf-lT,Jx-lU);this.acV(pW,as.eR(),fe,bM,bS,BP,lT,lU);this.Am(ia,'overflow',as.get_overflow());if(bS.width!==ia.clientWidth||bS.height!==ia.clientHeight){bS.width=ia.clientWidth;bS.height=ia.clientHeight;aax=true;}this.aCy(sP.style,'visibility','visible');if(as.get_magnifierIsVisible()){var ts=as.get_magnifierWindowPosition();var zF=as.uW();var MQ=as.Qb();var Nb=as.Qn();var SS=as.aEw();var ayG=Math.round(ts.x-zF.width/2+Kf+MQ);var axh=Math.round(ts.y-zF.height/2+Jx+Nb);var LZ=SS.qR(bM);var axJ=Math.max(0,-LZ.x);var axs=Math.max(0,-LZ.y);this.Am(alU,'left',LZ.x+'px');this.Am(alU,'top',LZ.y+'px');var KM=2;md.style.width=(zF.width+KM*2)+'px';md.style.height=(zF.height+KM*2)+'px';qv.style.width=zF.width+'px';qv.style.height=zF.height+'px';qv.style.left=KM+'px';qv.style.top=KM+'px';md.style.left=ayG+'px';md.style.top=axh+'px';var abU=SS.clone();abU.mV(axJ,axs);this.acV(Ef,SS,abU,bM,zF,BP,0,0);md.style.display='block';}else{md.style.display='none';}if(F.aiX()){var jw=F.Ge();var apo=jw.eB();var iX=this.jU.BZ(apo);var na=(jw.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aaj=jw.cf* -1,aib=jw.cf* -1;if(iX.width<na){iX.width=na;}if(iX.height<na){iX.height=na;}if(iX.width>bS.width){iX.width=bS.width;}if(iX.height>bS.height){iX.height=bS.height;}if(iX.x<0){iX.x=0;}if(iX.y<0){iX.y=0;}if(iX.x+iX.width+1>=bS.width){iX.x=bS.width-iX.width;aaj= -8;}if(iX.y+iX.height+1>=bS.height){iX.y=bS.height-iX.height;aib= -8;}var iC=this.ES(jw);iC.style.left=this.yw+iX.x+1+(jw.cf/2)+'px';iC.style.top=this.xk+iX.y+1+(jw.cf/2)+'px';iC.style.width=iX.width+aaj-1+'px';iC.style.height=iX.height+aib-1+'px';if(iC.style.display!=='block'){iC.style.display='block';iC.style.whiteSpace='pre-wrap';var sJ=jw.cc;var tg='';if(sJ&IPCC.Web.UI.FontStyle.Italic){iC.style.fontStyle="italic";}if(sJ&IPCC.Web.UI.FontStyle.Bold){iC.style.fontWeight="bold";}if(sJ&IPCC.Web.UI.FontStyle.Underline){tg+="underline";}if(sJ&IPCC.Web.UI.FontStyle.Strikeout){if(sJ&IPCC.Web.UI.FontStyle.Underline){tg+=" line-through";}else{tg="line-through";}}iC.style.textDecoration=tg;iC.style.color=jw.pV;iC.style.backgroundColor=jw.eQ;iC.style.fontFamily=jw.gk;iC.style['z-index']=100;var Bz=jw.DX*this.jU.nM();if(Bz){iC.style.fontSize=Bz+"px";}switch(jw.hY){case IPCC.Web.UI.HorizontalAlignment.Center:iC.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:iC.style.textAlign='right';break;default:iC.style.textAlign='left';break;}if(jw.gN){setTimeout(function(){cd.fN.maxLength=jw.gN;cd.fT.maxLength=jw.gN;cd.de.maxLength=jw.gN;},0);}if(jw.iO){if(BB){BB.destroy();F.Ve(null);}F.Ve(new PCCViewer.awQ(iC,jw.iO));}if(jw.iq()===IPCC.Web.UI.MarkType.TextAreaSignature){var de=IPCC.K.ahS();de.style.width=cd.de.style.width;de.style.height=cd.de.style.height;de.style.fontFamily=cd.de.style.fontFamily;de.style.fontStyle=cd.de.style.fontStyle;de.style.fontWeight=cd.de.style.fontWeight;var cV=F.aa().eR().nM();var ij=jw.ij*cV;var aK=F.nq().ig()*cV;IPCC.K.aif().nodeValue=jw.bF||'m';cd.de.style.fontSize=IPCC.K.UV(de,ij,aK)+'px';}iC.focus();}}else{cd.fN.style.display='none';cd.fT.style.display='none';cd.de.style.display='none';cd.fN.removeAttribute('maxlength');cd.fT.removeAttribute('maxlength');cd.de.removeAttribute('maxlength');if(BB){BB.destroy();F.Ve(null);}if(document.activeElement===cd.fN){cd.fN.blur();}if(document.activeElement===cd.fT){cd.fT.blur();}if(document.activeElement===cd.de){cd.de.blur();}}if(aax){F.bg('resize',{});}if(this.xi!==ayJ){this.Am(eb,'width','100%');}if(this.xB!==axO){this.Am(eb,'height','100%');}if(this.yw!==ayi){ia.scrollLeft=this.yw;}if(this.xk!==axG){ia.scrollTop=this.xk;}if(aqY==="PageView"&& !this.BD){as=F.aa();var aW=as.eR();var yY=(+aW.nM().toFixed(6));if(F.Qd!==yY){F.Qd=yY;setTimeout(function(){F.bg('scaleChanged',{scaleFactor:yY,pageNumber:F.bi});},1);F.bg('scaleChanged',{scaleFactor:yY,pageNumber:F.bi});}}};eZ.prototype.acV=function(aN,jU,fe,aL,bS,BP,lT,lU){var mk=jU.qR(aL);var pj={};pj.width=Math.max(mk.width,bS.width);pj.height=Math.max(mk.height,bS.height);this.atP(aN,jU,fe,aL,bS,lT,lU);this.aav(aN,fe,pj,aL,lT,lU);if(this.F.od()===false){this.anm(aN,bS,jU,fe);}else{this.axj(aN);var as=this.F.aa();var Ar=as.ahQ();if(this.F.xt&&Ar){this.aaL(aN);}}this.auQ(aN);if(BP){var BM=fe.BZ(BP);if(this.aep){aN.jH.style.left=(BM.x-2)+'px';aN.jH.style.top=(BM.y-2)+'px';}else{aN.jH.style.left=(BM.x-2+lT)+'px';aN.jH.style.top=(BM.y-2+lU)+'px';}aN.jH.style.width=BM.width+'px';aN.jH.style.height=BM.height+'px';aN.jH.style.display='block';}else{aN.jH.style.display='none';}};eZ.prototype.anm=function(aN,bS,jU,fe){var aft=this.F.aDR();var Jm={x:0,y:0,width:bS.width,height:bS.height};if(aft){var xs=aft.getBoundingClientRect();var gm=aN.gQ.getBoundingClientRect();var RO;if(gm.left<xs.left){RO=xs.left-gm.left;Jm.x=(RO/gm.width)*bS.width;}if(gm.right>xs.right){Jm.width=xs.width;}if(gm.top<xs.top){RO=xs.top-gm.top;Jm.y=(RO/gm.height)*bS.height;}if(gm.bottom>xs.bottom){Jm.height=xs.height;}}var qV=jU.clone();qV.wg();var aqx=qV.BZ(Jm);this.aFr(aN,fe,aqx);};eZ.prototype.atP=function(aN,jU,fe,aL,bS,lT,lU){var ap=this.F.ea();var fW=this.F.mO();var fg=this.F.OB();var ags=0;var V=this;if(aN.kV){ags=aN.kV.length;}if(!aN.qS|| !ap){return;}var ob=this.F.aFj();if(ap.get_markCount()<=0&&fW.get_markCount()<=0&&fg.get_markCount()<=0&&ags<=0&& !ob){return;}if(!aN.Mu){aN.qS.aoU(this.F,aN,aL);aN.kV=[];aN.Mu=true;}fW=this.F.mO();var bx=[];function apR(G){if((V.F.jL()&&V.F.cF().nu()===true)||G.get_type()!==IPCC.Web.UI.MarkType.Highlight){bx.push(G);}};function agd(G){bx.push(G);};fg.forEachMark(agd);fW.forEachMark(agd);ap.forEachMark(apR);if(ob){bx.push(ob);}var C,kV=aN.kV;for(C=0;C<kV.length;C++){while(C<kV.length&&(C>=bx.length||kV[C].G!==bx[C])){aN.qS.Pl(kV[C]);kV.splice(C,1);}if(C<kV.length&&(this.IF||this.pq.contains(kV[C].G))){aN.qS.aaK(kV[C]);}}for(C=kV.length;C<bx.length;C++){kV[C]={G:bx[C]};var J=kV[C];if(!J){continue;}aN.qS.aov(kV[C]);}if(this.aep){aN.qS.aco(this.F,aN,bx,fe,this.F.ahV());}else{var aez=fe.clone();aez.mV(lT,lU);aN.qS.aco(this.F,aN,bx,aez,this.F.ahV());}};eZ.prototype.aav=function(){};eZ.prototype.apO=function(){var dm=this.F.mi();if(dm){this.aae=dm.igElements.nj.offsetLeft-this.yw;this.aaU=dm.igElements.nj.offsetTop-this.xk;}};eZ.prototype.te=function(T,cA){var ge=this.F.mi().igElements;var ja=T.domEvent;var fI;if(ge.nj.getBoundingClientRect){fI=ge.nj.getBoundingClientRect();}else{var dZ=ge.nj;var wI=document.documentElement;fI={left:wI.clientLeft-wI.scrollLeft,top:wI.clientTop-wI.scrollTop};dZ=dZ.offsetParent;while(dZ){fI.top+=dZ.offsetTop-dZ.scrollTop;fI.left+=dZ.offsetLeft-dZ.scrollLeft;dZ=dZ.offsetParent;}}if(ja.rawEvent.touches){if(ja.rawEvent.touches.length>0){this.LY=new IPCC.Web.UI.Point(ja.rawEvent.touches[0].clientX-ge.mf.scrollLeft-fI.left,ja.rawEvent.touches[0].clientY-ge.mf.scrollTop-fI.top);}if(!this.LY){this.LY=new IPCC.Web.UI.Point(0,0);}T.windowPoint=new IPCC.Web.UI.Point(this.LY.x,this.LY.y);ja.button=0;}else{T.windowPoint=new IPCC.Web.UI.Point(ja.clientX-fI.left-ge.mf.scrollLeft,ja.clientY-fI.top-ge.mf.scrollTop);}var Sd=this.qV.transform(T.windowPoint);T.imagePoint=new IPCC.Web.UI.Point(Sd.x,Sd.y);T.constrainedImagePoint=new IPCC.Web.UI.Point(Sd.x,Sd.y);T.constrainedImagePoint.x=Math.min(Math.max(T.constrainedImagePoint.x,0),this.GB.width);T.constrainedImagePoint.y=Math.min(Math.max(T.constrainedImagePoint.y,0),this.GB.height);T.pointLiesWithinImage=(T.constrainedImagePoint.x===T.imagePoint.x&&T.constrainedImagePoint.y===T.imagePoint.y);T.mark=null;try{var cT=ja.target;while(!(cT.ImGearMarkRelation)&&cT.parentNode&&cT!==document.body){cT=cT.parentNode;}if(cT.ImGearMarkRelation){T.mark=cT.ImGearMarkRelation.G;}}catch(aX){}};eZ.prototype.lw=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);this.F.aAq(T);}catch(ex){this.F.bz('mouseDown',ex);}};eZ.prototype.kL=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);this.F.aAN(T);}catch(ex){this.F.bz('mouseMove',ex);}};eZ.prototype.mL=function(aX){try{var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);if(!aX.rawEvent.wheelDelta){T.wheelDelta= -aX.rawEvent.detail*120;}else{T.wheelDelta=aX.rawEvent.wheelDelta;}this.F.azz(T);}catch(ex){this.F.bz('mouseWheel',ex);}};eZ.prototype.AF=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);this.F.aAG(T);}catch(ex){this.F.bz('mouseDoubleClick',ex);}};eZ.prototype.kj=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);this.F.aAr(T);}catch(ex){this.F.bz('mouseUp',ex);}};eZ.prototype.Ti=function(aX){try{aX.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aX;this.te(T);this.F.azS(T);}catch(ex){this.F.bz('contextMenu',ex);}};eZ.prototype.aCU=function(aX){try{this.F.pD(true);}catch(ex){this.F.bz('textAreaBlur',ex);}};eZ.prototype.aEr=function(aX){try{this.F.pD(true);}catch(ex){this.F.bz('textInputBlur',ex);}};eZ.prototype.aAF=function(G){var fN=this.ES(G);fN.value=G.bF||"";};eZ.prototype.azP=function(){var F=this.F;var G=F.Ge();if(!G|| !F.aiX()){return;}var SD=this.ES(G);if(document.activeElement===SD){SD.blur();}var bF=SD.value;bF=bF.replace(/(\n|\n\r|\r\n|\r)/g,'\n');G.set_text(bF);};eZ.prototype.ES=function(G){var ge=this.F.mi().igElements,fN=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){fN=ge.fT;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fN=ge.de;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){fN=ge.fN;}return fN;};module.exports=eZ;},{}],58:[function(require,module,exports){var xj={};xj.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=xj;},{}],59:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var av={be:function(h,ao,be){if(typeof(h)!==be){throw new ImGearExceptions.zm(ao,typeof(h),be);}},lY:function(h,ao){av.be(h,ao,'string');},hI:function(h,ao){if(!(h instanceof Date)){throw new ImGearExceptions.zm(ao,typeof(h),"Date");}},hx:function(h,ao){av.be(h,ao,'number');if(!isFinite(h)){throw new ImGearExceptions.rF(ao,h,'The value must be a number.');}},jP:function(h,ao,wD,vF){av.be(h,ao,'number');if(h<wD||h>vF|| !isFinite(h)){throw new ImGearExceptions.rF(ao,h,'The value must be a number between '+wD+' and '+vF+' inclusive.');}},Sx:function(h,ao,HG){av.be(h,ao,'number');var C;for(C=0;C<HG.length;C++){if(h===HG[C]){return;}}var QU='';for(C=0;C<HG.length;C++){if(C>0){if(C===HG.length-1){QU+=' or ';}else{QU+=', ';}}QU+=HG[C];}throw new ImGearExceptions.rF(ao,h,'The value must be '+QU+'.');},nL:function(h,ao,wD,vF){av.jP(h,ao,wD,vF);if(h!==Math.floor(h)){throw new ImGearExceptions.uY(ao,'The value must be an integer.');}},dR:function(h,ao){av.be(h,ao,'string');if(!h.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.uY(ao,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},XW:function(h,ao){av.be(h,ao,'string');if(!h.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.uY(ao,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},jD:function(h,ao,jD,ahn){av.be(h,ao,'number');var cq;var VN=0;for(cq in jD){if(jD.hasOwnProperty(cq)){if(ahn){VN|=jD[cq];}else{if(h===jD[cq]){return;}}}}var bZ="";if(ahn){if((h|VN)===VN){return;}else{throw new ImGearExceptions.rF(ao,h,'The value must be zero or more members of the '+bZ+' enumeration.');}}throw new ImGearExceptions.rF(ao,h,'The value must be a member of the '+bZ+' enumeration.');},aT:function(h,ao){av.hx(h.x,ao+'.x');av.hx(h.y,ao+'.y');},R:function(h,ao){av.hx(h.x,ao+'.x');av.hx(h.y,ao+'.y');av.hx(h.width,ao+'.width');av.hx(h.height,ao+'.height');}};module.exports=av;},{"./Web/UI/ImGearExceptions":87}],60:[function(require,module,exports){var fl=require('./IPCC.Util').regEnum;var Cd=function(){};Cd.registerEnum=fl;Cd.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};Cd.registerEnum('IPCC.ViewMode',false);module.exports=Cd;},{"./IPCC.Util":29}],61:[function(require,module,exports){var aao=function(rg){var as;var bM;var ka;var bS;var ai=this;var AE;var BH='';var _debug=false;var pa=IPCC.Web.UI.DebugErrorLevel.Production;var nk=[];var aB=new IPCC.Web.UI.fZ();var ap;var fg;var ob=null;var Hx=false;var vi=false;var vR;var ajb=IPCC.Web.UI.ImGearArtDataServices.None;var Ix=false;var uB='';var qQ;var ahJ=false;var afh=false;var vJ=0;var su=true;var jy;var fW;var tO=false;var aiu=true,ox=false;var agQ=false;var BB=null;var KA;var VG=false;var aM=null;this.Qd=0.0;this.lM=function(Il){if(!_debug){return false;}return pa>=Il;};this.mn=function(kr,Jv,an){IPCC.ih.mn(kr,Jv,an,BH,AE);};this.bz=function(jC,iK){if(!this.lM(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cK=jC+'() threw an exception ('+iK.name+'), "'+iK.message+'"';cK=cK.replace(/\n/g," ");this.mn(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);ai.bg('exceptionThrown',{"function_name":jC,"exception":iK,"pageNumber":ai.bi});};this.ES=function(G){var ge=this.mi().igElements,fN=null;if(G.get_type()===IPCC.Web.UI.MarkType.TextLine){fN=ge.fT;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fN=ge.de;}else if(G.get_type()===IPCC.Web.UI.MarkType.Text){fN=ge.fN;}return fN;};this.get_debug=function(){return _debug;};this.set_debug=function(h){var Kx= ! !h;if(_debug===Kx){return;}_debug=Kx;this.cY('debug');};this.xu=function(){return pa;};this.Jf=function(h){if(pa===h){return;}pa=h;this.cY('debugErrorLevel');};this.get_areMarksEditable=function(){return VG;};this.set_areMarksEditable=function(h){if(VG===h){return;}VG=h;this.cY('areMarksEditable');};this.get_cursor=function(){return aM;};this.set_cursor=function(h){if(aM===h){return;}aM=h;this.cY('cursor');};this.aCD=function(h){BH=h;};this.aCZ=function(){return BH;};this.aAP=function(h){AE=h;};this.aCW=function(h){KA=h;};this.aDR=function(){return KA;};this.ec=function(axi){this.pD(false);var C;for(C=nk.length-1;C>=0;C--){if(nk[C]instanceof IPCC.kE){nk[C].aQ(true);}else{nk[C].aQ();}if(nk[C]instanceof IPCC.ma){nk[C].eN(true);}else{nk[C].eN();}}nk=axi;for(C=0;C<nk.length;C++){nk[C].nf(this);}};this.aGu=function(){var C;for(C=0;C<nk.length;C++){nk[C].aQ();}};this.gw=function(amR,T){var C;for(C=0;C<nk.length;C++){if(T&&T.aiB&&T.aiB()){return;}if(nk[C][amR]){nk[C][amR](T);}}};this.ayt=function(iu,ci){switch(iu){case 'touchstart':ka.abk&&ka.abk(ci);break;case 'touchmove':ka.aay&&ka.aay(ci);break;case 'touchend':ka.acx&&ka.acx(ci);break;case 'doubleTap':ka.adQ&&ka.adQ(ci);break;}};this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.add_mouseDown=function(L){aB.addHandler('mouseDown',L);};this.remove_mouseDown=function(L){aB.removeHandler('mouseDown',L);};this.add_mouseMove=function(L){aB.addHandler('mouseMove',L);};this.remove_mouseMove=function(L){aB.removeHandler('mouseMove',L);};this.add_mouseUp=function(L){aB.addHandler('mouseUp',L);};this.remove_mouseUp=function(L){aB.removeHandler('mouseUp',L);};this.add_contextMenu=function(L){aB.addHandler('contextMenu',L);};this.remove_contextMenu=function(L){aB.removeHandler('contextMenu',L);};this.ato=function(L){aB.addHandler('contextMenuCommand',L);};this.aGR=function(L){aB.removeHandler('contextMenuCommand',L);};this.add_mouseWheel=function(L){aB.addHandler('mouseWheel',L);};this.remove_mouseWheel=function(L){aB.removeHandler('mouseWheel',L);};this.add_mouseOut=function(L){aB.addHandler('mouseOut',L);};this.remove_mouseOut=function(L){aB.removeHandler('mouseOut',L);};this.asx=function(L){aB.addHandler('resize',L);};this.aHA=function(L){aB.removeHandler('resize',L);};this.arQ=function(L){aB.addHandler('userModifiedViewState',L);};this.aGL=function(L){aB.removeHandler('userModifiedViewState',L);};this.add_scaleChanged=function(L){aB.addHandler('scaleChanged',L);};this.remove_scaleChanged=function(L){aB.removeHandler('scaleChanged',L);};this.add_markAdded=function(L){aB.addHandler('markAdded',L);};this.remove_markAdded=function(L){aB.removeHandler('markAdded',L);};this.add_markCreating=function(L){aB.addHandler('markCreating',L);};this.remove_markCreating=function(L){aB.removeHandler('markCreating',L);};this.add_markChanged=function(L){aB.addHandler('markChanged',L);};this.remove_markChanged=function(L){aB.removeHandler('markChanged',L);};this.add_inProgressMarkChanged=function(L){aB.addHandler('inProgressMarkChanged',L);};this.remove_inProgressMarkChanged=function(L){aB.removeHandler('inProgressMarkChanged',L);};this.add_markRemoved=function(L){aB.addHandler('markRemoved',L);};this.remove_markRemoved=function(L){aB.removeHandler('markRemoved',L);};this.add_markReordered=function(L){aB.addHandler('markReordered',L);};this.remove_markReordered=function(L){aB.removeHandler('markReordered',L);};this.add_marksLoaded=function(L){aB.addHandler('marksLoaded',L);};this.remove_marksLoaded=function(L){aB.removeHandler('marksLoaded',L);};this.add_marksSaved=function(L){aB.addHandler('marksSaved',L);};this.remove_marksSaved=function(L){aB.removeHandler('marksSaved',L);};this.add_markSelectionChanged=function(L){aB.addHandler('markSelectionChanged',L);};this.remove_markSelectionChanged=function(L){aB.removeHandler('markSelectionChanged',L);};this.add_markTextSelectionChanged=function(L){aB.addHandler('markTextSelectionChanged',L);};this.remove_markTextSelectionChanged=function(L){aB.removeHandler('markTextSelectionChanged',L);};this.add_pageOpenFailed=function(L){aB.addHandler('pageOpenFailed',L);};this.add_pageDisplayed=function(L){aB.addHandler('pageDisplayed',L);};this.remove_pageOpenFailed=function(L){aB.removeHandler('pageOpenFailed',L);};this.add_textPageReady=function(L){aB.addHandler('textPageReady',L);};this.remove_textPageReady=function(L){aB.removeHandler('textPageReady',L);};this.add_selectTextMouseToolCompleted=function(L){aB.addHandler('selectTextMouseToolCompleted',L);};this.remove_selectTextMouseToolCompleted=function(L){aB.removeHandler('selectTextMouseToolCompleted',L);};this.add_exceptionThrown=function(L){aB.cn('exceptionThrown',L);};this.remove_exceptionThrown=function(L){aB.cs('exceptionThrown',L);};this.add_textExtractionFailed=function(L){aB.cn('textExtractionFailed',L);};this.remove_textExtractionFailed=function(L){aB.cs('textExtractionFailed',L);};this.cY=function(cq,yB){var L=aB.getHandler("propertyChanged");if(L){L(this,new IPCC.pb(cq,yB));}};this.mi=function(){var _parent=document.getElementById(AE);return _parent;};this.aa=function(){return as;};this.aGl=function(){return aB;};function Es(bn,T){Ix=true;T.pageIndex=ai.bi;ai.bg('markAdded',T);ai.gw('hN',T);};function EA(bn,T){Ix=true;T.pageIndex=ai.bi;ai.bg('markChanged',T);ai.gw('mG',T);};function akr(bn,T){T=new IPCC.Web.UI.MarkEventArgs();T.mark=ob;T.pageIndex=ai.bi;ai.bg('inProgressMarkChanged',T);ai.gw('_onInProgressMarkChanged',T);};function EJ(bn,T){Ix=true;T.pageIndex=ai.bi;ai.bg('markRemoved',T);ai.gw('DJ',T);};function avs(bn,T){ai.bg('textPageReady',T);};function avy(bn,T){ai.bg('textExtractionFailed',T);};function Ey(bn,T){Ix=true;T.pageIndex=ai.bi;ai.bg('markReordered',T);ai.gw('amy',T);};function DU(bn,T){T.pageIndex=ai.bi;ai.bg('marksLoaded',T);ai.gw('amN',T);};function DB(bn,T){T.pageIndex=ai.bi;ai.bg('markSelectionChanged',T);ai.gw('Dm',T);};function amt(bn,T){T.pageIndex=ai.bi;ai.bg('markTextSelectionChanged',T);};this.azG=function(bn,T){this.gw('_onTextMarkEditCompleted',T);};function CX(bn,T){T.pageIndex=ai.bi;ai.bg('propertyChanged',T);};this.nx=function(h){if(h===ap){return;}if(ap){ap.remove_markAdded(Es);ap.remove_markChanged(EA);ap.remove_markRemoved(EJ);ap.remove_markReordered(Ey);ap.remove_marksLoaded(DU);ap.remove_markSelectionChanged(DB);ap.ml(CX);ap.Dq(true);}ap=h;if(ap){ap.add_markAdded(Es);ap.add_markChanged(EA);ap.add_markRemoved(EJ);ap.add_markReordered(Ey);ap.add_marksLoaded(DU);ap.add_markSelectionChanged(DB);ap.add_markTextSelectionChanged(amt);ap.kH(CX);}this.cY('artPage');};this.ea=function(){return ap;};this.IR=function(h){if(h===fg){return;}if(fg){fg.remove_markAdded(Es);fg.remove_markChanged(EA);fg.remove_markRemoved(EJ);fg.remove_markReordered(Ey);fg.remove_marksLoaded(DU);fg.remove_markSelectionChanged(DB);fg.ml(CX);fg.Dq(true);}fg=h;if(fg){fg.add_markAdded(Es);fg.add_markChanged(EA);fg.add_markRemoved(EJ);fg.add_markReordered(Ey);fg.add_marksLoaded(DU);fg.add_markSelectionChanged(DB);fg.add_markTextSelectionChanged(amt);fg.kH(CX);}this.cY('documentArtPage');};this.OB=function(){return fg;};this.mO=function(){return fW;};this.Cq=function(h){if(h===fW){return;}if(fW){fW.remove_markAdded(Es);fW.remove_markChanged(EA);fW.remove_markRemoved(EJ);fW.remove_markReordered(Ey);fW.remove_marksLoaded(DU);fW.remove_markSelectionChanged(DB);fW.ml(CX);}fW=h;if(fW){fW.add_markAdded(Es);fW.add_markChanged(EA);fW.add_markRemoved(EJ);fW.add_markReordered(Ey);fW.add_marksLoaded(DU);fW.add_markSelectionChanged(DB);fW.kH(CX);}this.cY('transientArtPage');};var gU;this.Df=function(){if(!gU){if(IPCC.Web.UI.Mark){gU=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gU.set_opacity(100);gU.set_fillColor('#3366CC');gU.set_fillVisible(true);}}return gU;};this.Uy=function(h){ajb=h;this.cY('artServiceOption');};this.Ui=function(){return ajb;};this.nU=function(G,nR){if(ob===G){return;}if(ob){ob.remove_propertyChanged(akr);}if(G&& !ob){var T=new IPCC.Web.UI.MarkEventArgs();T.mark=nR?nR:G;T.pageIndex=this.bi;this.bg('markCreating',T);}ob=G;if(ob){ob.add_propertyChanged(akr);}this.cY('inProgressMark');};this.aFj=function(){return ob;};this.xO=function(h){if(h===bM){return;}bM=h;this.xt=false;as.nD();this.cY('image');};this.du=function(){return bM;};this.aej=function(h){if(h===Hx){return;}Hx=h;this.cY('Hx');};this.ahV=function(){return Hx;};this.Ks=function(){var vR=this.Ge();var aeu=this.ES(vR);var ava=aeu.value;setTimeout(function(){aeu.setSelectionRange(0,ava.length);},1);};this.xa=function(G){this.pD(false);ka.aAF(G);vi=true;vR=G;this.cY('vi');};this.akp=function(bQ,dQ){if(this.jL()&&this.cF().nu()===true){var hy=this.cF().hJ();var C=bQ;for(;C<bQ+dQ;C++){var eP=hy.ln(C);var uT='#3366CC';var Fo='#3366CC';fW.UE(eP.bh,Fo,uT,false,C);}}};this.aGm=function(bB){var C;try{var aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gU){gU=ai.Df();}for(C in gU){if(gU.hasOwnProperty(C)){aq[C]=gU[C];}}aq.set_rectangle({x:bB.x,y:bB.y,width:bB.width,height:bB.height});ai.nU(aq);fW.addMark(aq);return aq;}catch(azk){var ayK=azk.message;window.console.log(ayK);}};this.JV=function(cJ){var JP;var hy;var QE;JP=ai.cF();hy=ai.cF().hJ();function apM(XO){var uH=XO.vq();if((cJ.x>=uH.x-10&&cJ.x<=uH.x+uH.width+1)&&(cJ.y>=uH.y-1&&cJ.y<=uH.y+uH.height+1)){return true;}uH=undefined;};if(!QE){for(var C=0;C<hy.en();C++){if(apM(hy.ln(C))){QE=C;break;}}}return QE;};this.aAj=false;this.Aq=function(dO){if(dO===undefined){return;}if(ai.jL()&&ai.cF().nu()===true){var IU=ai.cF().hJ().en();IPCC.av.nL(dO,'textIndex',0,IU);ai.aa().Aq(dO);ai.mO().Dn(function(G){if(G.xG!==true&&G.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){ai.mO().tx(G);}});if(ai.yd()===true){ai.cA();}}};this.Za=function(){var Ci=ai.aa().get_transientHighlightMarks();while(Ci.length>0){ai.mO().removeMark(Ci.pop());}};this.Ok=function(wX,dQ){if(ai.jL()&&ai.cF().nu()===true){var C=wX;var hy=this.cF().hJ();var dz=wX+dQ;if(!gU){gU=ai.Df();}var Ci=ai.aa().get_transientHighlightMarks();for(;C<dz;C++){var eP=hy.ln(C);Ci.push(fW.aCf(eP.bh,gU,C));}}};this.aGK=function(aHZ,dQ){var as=ai.aa();for(var aV=dQ-1;aV>dQ;aV--){var by=as.jl[aV];fW.removeMark(by.G);}};this.tA=function(dO){if(dO===undefined){return;}var eP;var as=ai.aa();var jt=as.AW();var uT='#3366CC';var Fo='#3366CC';var cu=100;if(!gU){gU=ai.Df();}cu=gU.get_opacity();if(!cu){cu=100;}uT=gU.get_fillColor();if(uT===undefined){uT='#3366CC';}var hy=ai.cF().hJ();if(jt===undefined){eP=hy.ln(dO);var G=fW.UE(eP.bh,Fo,uT,false,cu,dO);as.tA(dO,G,eP.ly);return;}var aV;function agr(ba,anQ){for(aV=as.jl.length-1;aV>=0;aV--){var by=as.jl[aV];if(by.dO===ba){as.jl.splice(aV,1);fW.removeMark(by.G);as.aCB(anQ);as.aCq(ba);return aV;}}return-1;};function PA(ba){eP=hy.ln(ba);var alQ=fW.UE(eP.bh,Fo,uT,false,cu,ba);if(as.tA(ba,alQ,eP.ly)===false){fW.removeMark(alQ);}};var Ll=as.aiL();var C;if(dO>jt){for(C=jt;C<=dO;C++){if(C===dO){if(C<Ll){continue;}PA(C);}else if(C>=Ll){if(C===jt){continue;}PA(C);}else{agr(C,dO);}}}else if(dO<jt){for(C=jt;C>=dO;C--){if(C===dO){if(C>=Ll){continue;}PA(C);}else if(C<Ll){if(C===jt){continue;}PA(C);}else{agr(C,dO);}}}};this.Dg=function(){var ada="";try{var as=ai.aa();if(ai.aa().Fb()){var auM=ai.cF().hJ();if(as.jl.length>0){var Cp=[];for(var C=0;C<as.jl.length;C++){Cp.push(as.jl[C].dO);}if(Cp[0]>Cp[1]){Cp.reverse();}for(C=0;C<Cp.length;C++){ada+=auM.ln(Cp[C]).aDg();}}}return ada;}catch(e){window.console.log(e.message);}};this.pD=function(aDJ){if(vi){if(aDJ){ka.azP();}vi=false;vR=null;this.azG();this.cY('vi');ai.cA();}};this.aiX=function(){return vi;};this.Ge=function(){return vR;};this.CJ=function(){var vR=this.Ge();if(!vR){return null;}var Uo=vR.iq();if(Uo===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Uo===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Uo===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aeH=function(h){afh=h;};this.aaa=function(){return afh;};this.Ve=function(h){BB=h;};this.aEY=function(){return BB;};this.adM=function(h){if(h===vJ){return;}vJ=h;this.cY('vJ');};this.abn=function(){return vJ;};this.Dq=function(h){if(ap){ap.Dq(h);}};this.Oz=function(){if(ap){return ap.Oz();}return true;};this.awx=function(aFA){var bS=ka.aot(this.mi());this.aEL(bS);};this.aEL=function(h){if(h===bS){return;}bS=h;this.cY('windowSpace');};this.dV=function(){return bS;};this.cA=function(){ka.cA(bM,as,bS);};this.FT=function(){if(this.od()===false){var jU=as.eR();var F=this;var mk=jU.qR(bM);var dm=F.mi();var cd=dm.igElements;var aN=cd.pW;var Kf=Math.max(0,-mk.x);var Jx=Math.max(0,-mk.y);var lT=Math.max(0,mk.x);var lU=Math.max(0,mk.y);var fe=as.eR();fe.mV(Kf-lT,Jx-lU);ka.anm(aN,bS,jU,fe);}};this.Kn=function(h){qQ=h;};this.tG=function(){return qQ;};this.cF=function(){return jy.cF();};var jW=0;this.nq=function(){return jy;};this.DH=function(h){if(h===this.nq()){return;}jy=h;if(jy){jy.AP(avs);jy.Aw(avy);}};this.jL=function(){return su;};this.Je=function(h){su=h;this.cY('textRequired');};this.xh=function(){return tO;};this.JR=function(h){if(tO===h){return;}tO=h;this.cY('requireRequestsOptimize');};this.yd=function(){return aiu;};this.Vs=function(h){aiu=h;this.cY('autoUpdate');};var re=false;this.lK=function(){return re;};this.qW=function(h){if(typeof h!=="boolean"){return;}if(h===re){return;}re=h;if(ap){var aeZ=false;ap.forEachMark(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aeZ=true;}});if(aeZ===true){ap.qW(re);}}};this.jJ=function(){return jW;};this.wi=function(h){if(jW===h){return;}if(isNaN(h)){return;}jW=h;this.cY('serviceResponseTimeout');};var pu='';this.aak=function(eA,ag){if(eA!==''){eA='/'+eA;}ag=ag||'';if(ag===null||ag===''){if(eA==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bM.get_identifier())){return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=u'+encodeURIComponent(bM.get_identifier());}else{return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=e'+bM.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bM.get_identifier())){return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=u'+encodeURIComponent(bM.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=e'+bM.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bM.get_identifier())){return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=u'+encodeURIComponent(bM.get_identifier())+'&'+ag;}else{return pu+'/Page/q/'+bM.bi.toString()+eA+'?DocumentID=e'+bM.get_encodedIdentifier()+'&'+ag;}}};this.aDe=function(eA,ag){eA=eA||'Art';ag=ag||'';if(ag===null||ag===''){if(eA==='Art'){return pu+'/Page/q/'+bM.bi.toString()+'/'+eA+'?DocumentID=e'+bM.get_encodedIdentifier();}}else{return pu+'/Page/q/'+bM.bi.toString()+'/'+eA+'?DocumentID=e'+bM.get_encodedIdentifier()+'&'+ag;}};this.ZX=function(De){if(Ix===false){if(De){De();}return;}IPCC.K.nv.fK({method:'POST',url:this.aDe('Art'),headers:{'Content-Type':'application/json'},body:ap.saveToJson()}).then(function(){if(De){De();}});};this.uJ=function(){return pu;};this.VV=function(h){pu=h;this.cY('imageHandlerUrl');};this.od=function(){return ahJ;};this.Pq=function(h){ahJ=h;};this.aGn=function(){return agQ;};this.aeV=function(h){agQ=h;};this.mp=function(){return uB;};this.tF=function(h){uB=h;uB.tabIndex= -1;};this.jh=function(){return ox;};this.lF=function(h){if(typeof h!=="boolean"){return;}if(h===ox){return;}ox=h;};this.aAq=function(T){if(vi){this.pD(true);}else{this.bg('mouseDown',T);this.gw('lw',T);}};this.aAN=function(T){this.bg('mouseMove',T);this.gw('kL',T);};this.aAr=function(T){this.bg('mouseUp',T);this.gw('kj',T);};this.azz=function(T){this.bg('mouseWheel',T);this.gw('mL',T);};this.aAG=function(T){this.bg('mouseDoubleClick',T);this.gw('AF',T);};this.azS=function(T){this.bg('contextMenu',T);this.gw('Ti',T);};this.azM=function(T){this.bg('contextMenuCommand',T);};this.aAM=function(T){this.bg('mouseOut',T);this.gw('oI',T);};this.azU=function(T){this.bg('touchStart',T);this.gw('lw',T);};this.aAB=function(T){this.bg('touchMove',T);this.gw('kL',T);};this.azZ=function(T){this.bg('touchEnd',T);this.gw('kj',T);};this.aAs=function(T){this.bg('touchCancel',T);this.gw('HJ',T);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(ai,T);}};var afo=function(F,rg){as=new IPCC.Yh();function yk(bn,T){ai.bg('propertyChanged',T);};as.kH(yk);ka=new IPCC.eZ(F,rg);if(IPCC.dK){ka.qS=new IPCC.dK.dI(F);ka.auY=new IPCC.dK.dI(F);}};if(rg===false){afo(this,false);}else{afo(this,true);}return this;};module.exports=aao;},{}],62:[function(require,module,exports){var Yh=function(){var qh=0;var pM=1;var jO=1;var Ar=false;var dP=new IPCC.fh();var BC=false;var vE;var qZ;var Mx=false;var Bq=new IPCC.EK(200,150,96,96);var ts={x:0,y:0};var LX=3;var MQ=0,Nb=0;var gE=0.2;var sR=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Ck=new IPCC.fh();var HX=0;var GW=0;var CF=false;var UJ;this.jl=[];var abr=IPCC.Web.UI.ScrollBars.Auto;var Ci=[];this.get_transientHighlightMarks=function(){return Ci;};this.get_scrollBars=function(){return abr;};this.get_overflow=function(){switch(abr){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(h){abr=h;this.cY('scrollBars');};var aB=new IPCC.Web.UI.fZ();this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};var onSelectionChanged=function(as){var T={};T.selectionIsVisible=BC;T.selectionRectangle=as.vX();as.cY('selection');};this.nD=function(){vE={x:0,y:0};qZ={x:0,y:0};if(!BC){return;}BC=false;onSelectionChanged(this);};this.showSelection=function(dJ){vE.x=dJ.x;vE.y=dJ.y;qZ.x=dJ.x+dJ.width;qZ.y=dJ.y+dJ.height;BC=true;onSelectionChanged(this);};this.Et=function(cJ){vE.x=cJ.x;vE.y=cJ.y;qZ.x=cJ.x;qZ.y=cJ.y;BC=true;onSelectionChanged(this);};this.zy=function(cJ){qZ.x=cJ.x;qZ.y=cJ.y;onSelectionChanged(this);};this.zK=function(){return BC;};this.vX=function(){var R=new IPCC.Web.UI.Rectangle(Math.min(vE.x,qZ.x),Math.min(vE.y,qZ.y),0,0);R.width=Math.max(vE.x,qZ.x)-R.x;R.height=Math.max(vE.y,qZ.y)-R.y;return R;};var JQ=function(){if(!Mx){Ck.aBW();return;}Ck.Lx(dP);Ck.mV(-ts.x,-ts.y);Ck.scale(LX,LX);Ck.mV(Bq.width/2,Bq.height/2);};this.hideMagnifier=function(){Mx=false;JQ();this.cY('magnifierIsVisible');};this.showMagnifier=function(cC){ts.x=cC.x;ts.y=cC.y;Mx=true;JQ();this.cY('magnifierWindowPosition');this.cY('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Mx;};this.get_magnifierWindowPosition=function(){return{x:ts.x,y:ts.y};};this.get_magnifierMagnification=function(){return LX;};this.set_magnifierMagnification=function(h){LX=h;JQ();this.cY('magnifierMagnification');};this.Qb=function(){return MQ;};this.UU=function(h){MQ=h;this.cY('magnifierXOffset');};this.Qn=function(){return Nb;};this.Uj=function(h){Nb=h;this.cY('magnifierYOffset');};this.uW=function(){return{width:Bq.width,height:Bq.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Bq.width=newMagnifierSize.width;Bq.height=newMagnifierSize.height;JQ();this.cY('magnifierWindowSize');};this.aEw=function(){return Ck.clone();};this.eR=function(){return dP.clone();};this.abH=function(){return gE;};this.Vj=function(h){gE=h;this.cY('markHandleSize');};this.AO=function(){return sR;};this.IQ=function(h){sR=h;this.cY('markHandleMode');};this.iF=function(h){if(h===dP||h.ayZ(dP)){return;}if(!h.aiz()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dP.Lx(h);JQ();this.cY('displayedPageRectangle');};var afN='0';this.get_presentationQuality=function(){return afN;};this.set_presentationQuality=function(h){afN=h;this.cY('presentationQuality');};this.aFR=function(){return pM;};this.CT=function(h){pM=h;};this.aDM=function(){return qh;};this.EV=function(h){qh=h;};this.aDS=function(){return jO;};this.By=function(h){if(h!==jO){Ar=true;}jO=h;};this.aAi=function(h){Ar=h;};this.ahQ=function(){return Ar;};var Tz=IPCC.aR.Default;this.aES=function(){return Tz;};this.aCt=function(h){if(Tz!==h){Tz=h;this.cY('markCursor');}};this.Aq=function(dO){HX=dO;CF=false;GW=0;};this.Ok=function(wX,dQ){if(wX!==HX){HX=wX;}GW=dQ;CF=true;};this.Zh=function(){if(CF===true){for(var C=0;C<this.jl.length;C++){this.jl[C].G.set_visible(false);}CF=false;}};this.Fb=function(){return CF;};this.tA=function(dO,G,ly){UJ=dO;if(dO!==undefined){if(this.jl.length>0&&this.jl[this.jl.length-1].dO===dO){return false;}this.jl.push({dO:dO,G:G,ly:ly});CF=true;GW++;}else{this.jl=[];GW=0;}return true;};this.AW=function(){return UJ;};this.aCB=function(h){if(h===undefined){return;}UJ=h;};var agb;this.aGI=function(){return agb;};this.aCq=function(h){if(h===undefined){return;}agb=h;};this.aiL=function(){return HX;};this.aFb=function(){return HX+GW;};this.BJ=function(){return this.jl.length;};this.nD();this.hideMagnifier();return this;};module.exports=Yh;},{}],63:[function(require,module,exports){var AB={};AB.ajl=function(al){if(!this.CZ[0][0][0]){this.TY();}var C,aV,fD,Hw,Vx,kn=this.CZ[0][4],vg=this.CZ[1],sc=al.length,LP=1;if(sc!==4&&sc!==6&&sc!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.al=[Hw=al.slice(0),Vx=[]];for(C=sc;C<4*sc+28;C++){fD=Hw[C-1];if(C%sc===0||(sc===8&&C%sc===4)){fD=kn[fD>>>24]<<24^kn[fD>>16&255]<<16^kn[fD>>8&255]<<8^kn[fD&255];if(C%sc===0){fD=fD<<8^fD>>>24^LP<<24;LP=LP<<1^(LP>>7)*283;}}Hw[C]=Hw[C-sc]^fD;}for(aV=0;C;aV++,C--){fD=Hw[aV&3?C:C-4];if(C<=4||aV<4){Vx[aV]=fD;}else{Vx[aV]=vg[0][kn[fD>>>24]]^vg[1][kn[fD>>16&255]]^vg[2][kn[fD>>8&255]]^vg[3][kn[fD&255]];}}};AB.ajl.prototype={VM:function(dG){return this.aoc(dG,1);},CZ:[[[],[],[],[],[]],[[],[],[],[],[]]],TY:function(){var NY=this.CZ[0],vg=this.CZ[1],kn=NY[4],aEn=vg[4],C,aY,vV,eO=[],aeU=[],aam,aag,abN,gz,Qv,RK;for(C=0;C<256;C++){aeU[(eO[C]=C<<1^(C>>7)*283)^C]=C;}for(aY=vV=0;!kn[aY];aY^=aam||1,vV=aeU[vV]||1){gz=vV^vV<<1^vV<<2^vV<<3^vV<<4;gz=gz>>8^gz&255^99;kn[aY]=gz;aEn[gz]=aY;abN=eO[aag=eO[aam=eO[aY]]];RK=abN*0x1010101^aag*0x10001^aam*0x101^aY*0x1010100;Qv=eO[gz]*0x101^gz*0x1010100;for(C=0;C<4;C++){NY[C][aY]=Qv=Qv<<24^Qv>>>8;vg[C][gz]=RK=RK<<24^RK>>>8;}}for(C=0;C<5;C++){NY[C]=NY[C].slice(0);vg[C]=vg[C].slice(0);}},aoc:function(qe,HE){if(qe.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var al=this.al[HE],cR=qe[0]^al[0],fk=qe[HE?3:1]^al[1],eK=qe[2]^al[2],eO=qe[HE?1:3]^al[3],ut,aio,aiQ,azJ=al.length/4-2,C,Da=4,eV=[0,0,0,0],Hu=this.CZ[HE],Qh=Hu[0],Ox=Hu[1],Pz=Hu[2],PP=Hu[3],kn=Hu[4];for(C=0;C<azJ;C++){ut=Qh[cR>>>24]^Ox[fk>>16&255]^Pz[eK>>8&255]^PP[eO&255]^al[Da];aio=Qh[fk>>>24]^Ox[eK>>16&255]^Pz[eO>>8&255]^PP[cR&255]^al[Da+1];aiQ=Qh[eK>>>24]^Ox[eO>>16&255]^Pz[cR>>8&255]^PP[fk&255]^al[Da+2];eO=Qh[eO>>>24]^Ox[cR>>16&255]^Pz[fk>>8&255]^PP[eK&255]^al[Da+3];Da+=4;cR=ut;fk=aio;eK=aiQ;}for(C=0;C<4;C++){eV[HE?3& -C:C]=kn[cR>>>24]<<24^kn[fk>>16&255]<<16^kn[eK>>8&255]<<8^kn[eO&255]^al[Da++];ut=cR;cR=fk;fk=eK;eK=eO;eO=ut;}return eV;}};module.exports=AB;},{}],64:[function(require,module,exports){var gn={};gn.Kd={oc:function(cS){var eV="",pw=IPCC.Web.gB.vG(cS),C,fD;for(C=0;C<pw/8;C++){if((C&3)===0){fD=cS[C/4];}eV+=String.fromCharCode(fD>>>24);fD<<=8;}return decodeURIComponent(escape(eV));},vb:function(bZ){bZ=unescape(encodeURIComponent(bZ));var eV=[],C,fD=0;for(C=0;C<bZ.length;C++){fD=fD<<8|bZ.charCodeAt(C);if((C&3)===3){eV.push(fD);fD=0;}}if(C&3){eV.push(IPCC.Web.gB.HC(8*(C&3),fD));}return eV;}};gn.qL={wR:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oc:function(cS,aAK,bw){var eV="",C,fG=0,eK=IPCC.Web.gn.qL.wR,yD=0,pw=IPCC.Web.gB.vG(cS);if(bw){eK=eK.substr(0,62)+'-_';}for(C=0;eV.length*6<pw;){eV+=eK.charAt((yD^cS[C]>>>fG)>>>26);if(fG<6){yD=cS[C]<<(6-fG);fG+=26;C++;}else{yD<<=6;fG-=6;}}while((eV.length&3)&& !aAK){eV+="=";}return eV;},vb:function(bZ,bw){bZ=bZ.replace(/\s|=/g,'');var eV=[],C,fG=0,eK=IPCC.Web.gn.qL.wR,yD=0,aY;if(bw){eK=eK.substr(0,62)+'-_';}for(C=0;C<bZ.length;C++){aY=eK.indexOf(bZ.charAt(C));if(aY<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fG>26){fG-=26;eV.push(yD^aY>>>fG);yD=aY<<(32-fG);}else{fG+=6;yD^=aY<<(32-fG);}}if(fG&56){eV.push(IPCC.Web.gB.HC(fG&56,yD,1));}return eV;}};gn.HF={oc:function(cS){return IPCC.Web.gn.qL.oc(cS,1,1);},vb:function(bZ){return IPCC.Web.gn.qL.vb(bZ,1);}};module.exports=gn;},{}],65:[function(require,module,exports){var nP={};nP.TK=function(nP){if(!this.al[0]){this.TY();}if(nP){this.fv=nP.fv.slice(0);this.AU=nP.AU.slice(0);this.dQ=nP.dQ;}else{this.acz();}};nP.TK.nP=function(dG){return(new IPCC.Web.nP.TK()).auS(dG).azy();};nP.TK.prototype={aFt:512,acz:function(){this.fv=this.Ka.slice(0);this.AU=[];this.dQ=0;return this;},auS:function(dG){if(typeof dG==="string"){dG=IPCC.Web.Codec.Kd.vb(dG);}var C,fk=this.AU=IPCC.Web.gB.XA(this.AU,dG),akz=this.dQ,aAA=this.dQ=akz+IPCC.Web.gB.vG(dG);for(C=512+akz& -512;C<=aAA;C+=512){this.JF(fk.splice(0,16));}return this;},azy:function(){var C,fk=this.AU,fv=this.fv;fk=IPCC.Web.gB.XA(fk,[IPCC.Web.gB.HC(1,1)]);for(C=fk.length+2;C&15;C++){fk.push(0);}fk.push(Math.floor(this.dQ/0x100000000));fk.push(this.dQ|0);while(fk.length){this.JF(fk.splice(0,16));}this.acz();return fv;},Ka:[],al:[],TY:function(){var C=0,FZ=2,au;function alg(aY){return(aY-Math.floor(aY))*0x100000000|0;};aBr:for(;C<64;FZ++){for(au=2;au*au<=FZ;au++){if(FZ%au===0){continue aBr;}}if(C<8){this.Ka[C]=alg(Math.pow(FZ,1/2));}this.al[C]=alg(Math.pow(FZ,1/3));C++;}},JF:function(atc){var C,fD,cR,fk,hQ=atc.slice(0),fv=this.fv,bY=this.al,aaH=fv[0],rY=fv[1],Fq=fv[2],Nr=fv[3],sp=fv[4],Np=fv[5],Fa=fv[6],aaM=fv[7];for(C=0;C<64;C++){if(C<16){fD=hQ[C];}else{cR=hQ[(C+1)&15];fk=hQ[(C+14)&15];fD=hQ[C&15]=((cR>>>7^cR>>>18^cR>>>3^cR<<25^cR<<14)+(fk>>>17^fk>>>19^fk>>>10^fk<<15^fk<<13)+hQ[C&15]+hQ[(C+9)&15])|0;}fD=(fD+aaM+(sp>>>6^sp>>>11^sp>>>25^sp<<26^sp<<21^sp<<7)+(Fa^sp&(Np^Fa))+bY[C]);aaM=Fa;Fa=Np;Np=sp;sp=Nr+fD|0;Nr=Fq;Fq=rY;rY=aaH;aaH=(fD+((rY&Fq)^(Nr&(rY^Fq)))+(rY>>>2^rY>>>13^rY>>>22^rY<<30^rY<<19^rY<<10))|0;}fv[0]=fv[0]+aaH|0;fv[1]=fv[1]+rY|0;fv[2]=fv[2]+Fq|0;fv[3]=fv[3]+Nr|0;fv[4]=fv[4]+sp|0;fv[5]=fv[5]+Np|0;fv[6]=fv[6]+Fa|0;fv[7]=fv[7]+aaM|0;}};module.exports=nP;},{}],66:[function(require,module,exports){var CG={};CG.aml={ao:"cbc",ajW:function(Ot,SH,hS,wC){if(wC&&wC.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gB.vG(hS)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var C,hQ=IPCC.Web.gB,MA=hQ.aaA,pw=hQ.vG(SH),ajd=0,qY=[];if(pw&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(C=0;ajd+128<=pw;C+=4,ajd+=128){hS=Ot.ajW(MA(hS,SH.slice(C,C+4)));qY.splice(C,0,hS[0],hS[1],hS[2],hS[3]);}pw=(16-((pw>>3)&15))*0x1010101;hS=Ot.ajW(MA(hS,hQ.XA(SH,[pw,pw,pw,pw]).slice(C,C+4)));qY.splice(C,0,hS[0],hS[1],hS[2],hS[3]);return qY;},VM:function(Ot,PO,hS,wC){if(wC&&wC.length){throw new IPCC.Web.UI.ImGearArgumentException(wC,"cbc can't authenticate data");}if(IPCC.Web.gB.vG(hS)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gB.vG(PO)&127)|| !PO.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var C,hQ=IPCC.Web.gB,MA=hQ.aaA,sx,rq,qY=[];wC=wC||[];for(C=0;C<PO.length;C+=4){sx=PO.slice(C,C+4);rq=MA(hS,Ot.VM(sx));qY.splice(C,0,rq[0],rq[1],rq[2],rq[3]);hS=sx;}sx=qY[C-1]&255;if(sx===0||sx>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}rq=sx*0x1010101;if(!hQ.aDh(hQ.Wz([rq,rq,rq,rq],0,sx*8),hQ.Wz(qY,qY.length*32-sx*8,qY.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return hQ.Wz(qY,0,qY.length*32-sx*8);}};module.exports=CG;},{}],67:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Mh=function(){var bx=[];var aB=new IPCC.Web.UI.fZ();var eF=new IPCC.Web.UI.MarkCollection();var V=this;var HY=true;this.awI=[];function onMarkSelectionChanged(bn,T){var G=T.mark;if(G.bH&&G.bH[0]&&G.bH[0].df===false){return;}var cD;var aGv=T.mark.get_selected();if(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq!==undefined){eF.remove_markAdded(onMarkSelectionChanged);eF.remove_markRemoved(onMarkSelectionChanged);for(var C=0;C<bx.length;C++){if(bx[C].bq===G.bq){if(bx[C].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){cD=bx[C];}else{bx[C].set_selected(T.mark.get_selected());}}}eF.add_markAdded(onMarkSelectionChanged);eF.add_markRemoved(onMarkSelectionChanged);if(cD){cD.set_selected(aGv);}return;}else if(G.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eF.remove_markAdded(onMarkSelectionChanged);eF.remove_markRemoved(onMarkSelectionChanged);for(var bu=0;bu<G.bH.length;bu++){G.bH[bu].set_selected(T.mark.get_selected());}eF.add_markAdded(onMarkSelectionChanged);eF.add_markRemoved(onMarkSelectionChanged);}var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=G;dX.zIndex=V.nK(G);dX.length=1;V.bg('markSelectionChanged',dX);};eF.add_markAdded(onMarkSelectionChanged);eF.add_markRemoved(onMarkSelectionChanged);var aBA=eF.addMark;eF.addMark=function(G){if(V.nK(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eF.contains(G)){aBA.call(eF,G);G.cY('selected');}};var aCQ=eF.addMarks;eF.addMarks=function(zC){var pq=[];function XN(G){if(V.nK(G)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eF.contains(G)){pq.push(G);}};zC.forEach(XN,{});aCQ.call(eF,zC);var C;for(C=0;C<pq.length;C++){pq[C].cY('selected');}};var aCs=eF.removeMark;eF.removeMark=function(G){if(eF.contains(G)){aCs.call(eF,G);G.cY('selected');}};var aBh=eF.removeAllMarks;eF.removeAllMarks=function(){var pq=[];function XN(G){if(eF.contains(G)){pq.push(G);}};eF.forEach(XN,{});aBh.call(eF);var C;for(C=0;C<pq.length;C++){pq[C].cY('selected');}};function aiy(kN){IPCC.av.nL(kN,'zIndex',0,bx.length-1);};this.aaN=function(){return bx.length;};this.ajE=function(){var C=0;for(;C<bx.length;C++){if(bx[C].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bx[C].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bx[C].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bx[C].bq!==undefined)){break;}}return C;};this.yO=function(){return eF;};this.Dq=function(h){if(h===HY){return;}HY=h;this.cY('HY');};this.Oz=function(){return HY;};var re=false;this.lK=function(){return re;};this.qW=function(h){if(typeof h!=="boolean"){return;}re=h;this.cY('redactionDraftMode');};function mG(bn,T){if(T.get_propertyName()==='selected'){return;}var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=bn;dX.zIndex=V.nK(bn);dX.propertyName=T.cq;dX.length=1;if(dX.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(dX.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&dX.mark.bq!=='undefined')){V.aue(bn);}V.bg('markChanged',dX);};function zQ(bn){var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=bn;dX.zIndex=V.nK(bn);dX.length=1;V.bg('markTextSelectionChanged',dX);};function LV(bn,T){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=bn;dX.comment=T.comment;dX.index=T.index;V.bg('commentAdded',dX);};function Mt(bn,T){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=bn;dX.comment=T.comment;dX.index=T.index;V.bg('commentRemoved',dX);};function LH(bn,T){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=bn;dX.comment=T.comment;dX.index=T.index;V.bg('commentChanged',dX);};this.NR=function(G,pf){pf=pf||{};var kN=this.nK(G);if(kN>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(G.ea()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bx.push(G);G.nx(this);G.add_propertyChanged(mG);G.add_markTextSelectionChanged(zQ);G.xd(LV);G.vB(Mt);G.sN(LH);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq!==undefined)){this.adq(G,0);}else{T.zIndex=bx.length-1;}T.clientX=pf.clientX;T.clientY=pf.clientY;T.length=1;V.bg('markAdded',T);};this.Dn=function(iA,dA){var Kz=[].concat(bx);var C;for(C=0;C<Kz.length;C++){iA.call(dA,Kz[C],C,this);}};this.LB=function(kN){aiy(kN);return bx[kN];};this.nK=function(G){var C;for(C=0;C<bx.length;C++){if(bx[C]===G){return C;}}return-1;};this.aAg=function(fL){var fz;if(typeof JSON!=='undefined'){fz=JSON.parse(fL);}else{fz=IPCC.dN.qb(fL,true);}this.Zc();var It=[];var C;var LM=fz.m;if(LM){for(C=0;C<LM.length;C++){var aq=new IPCC.Web.UI.Mark(LM[C].t);aq.azb(LM[C]);aq.nx(this);aq.add_propertyChanged(mG);aq.add_markTextSelectionChanged(zQ);It.push(aq);}}bx=It;V.bg('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aoF=function(){var kw=new Array(36);var ba=0;var C;var aV;for(C=0;C<8;C++){kw[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(C=0;C<3;C++){kw[ba++]=45;for(aV=0;aV<4;aV++){kw[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kw[ba++]=45;var asl=new Date().getTime();var auu=("0000000"+asl.toString(16).toUpperCase()).substr(-8);for(C=0;C<8;C++){kw[ba++]=auu.charCodeAt(C);}for(C=0;C<4;C++){kw[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kw);};function Yo(jR){var aY=jR.firstChild;while(aY.nodeType!==1){aY=aY.nextSibling;}return aY;};function Sl(tW,aiK,apu){var awF=parseFloat(tW.getAttribute(aiK));var ayh=parseFloat(tW.getAttribute(aiK+'ST'));return apu/(awF/ayh);};function arr(LQ,bV,aK){if(bV<=0&&aK<=0){return 1;}var alv=LQ.getAttribute('pageWidth');var akm=LQ.getAttribute('pageHeight');var KC,Tx,au,tW,C;if(alv&&akm){KC=parseFloat(alv);Tx=parseFloat(akm);if(isFinite(KC)&&isFinite(Tx)&&KC>0&&Tx>0){return bV/KC;}}for(C=0;C<LQ.childNodes.length;C++){tW=LQ.childNodes[C];if(tW.nodeName!=='annotation'){continue;}au=Sl(tW,'width',bV);if(isFinite(au)&&au>0){return au;}au=Sl(tW,'height',aK);if(isFinite(au)&&au>0){return au;}au=Sl(tW,'x',bV);if(isFinite(au)&&au>0){return au;}au=Sl(tW,'y',aK);if(isFinite(au)&&au>0){return au;}}return 1;};this.aAO=function(lp,aw,bV,aK,Zk,stampImages,yz,uN){var V=this;if(yz!==true){this.Zc();}if(lp){var iV;if(IPCC.vA.Kj()){iV=lp.firstChild;}else{var So=lp.firstChild.nodeName;if(So.toLowerCase()==='xml'){iV=lp.firstChild.nextSibling;}else{iV=lp.firstChild;}}var cZ=Yo(iV);if(cZ.nodeName!=='pages'){throw 'ERROR: pages';}if(cZ.hasChildNodes()){var C;for(C=0;C<cZ.childNodes.length;C++){var bI=cZ.childNodes[C];if(bI.nodeName!=='page'){continue;}var yI=bI.getAttribute('id');var mB=false;var tC;var pI='';var GZ=[];var iB;var ot,bu=0;var dr,cP,bQ;if(Zk){var abX=bI.getAttribute('pageWidth'),aaY=bI.getAttribute('pageHeight');if(abX){Zk.adU(abX);}if(aaY){Zk.aeb(aaY);}}var pl=[],Mz={},bH;if((yI&&parseInt(yI,10))===(aw+1)){mB=true;var It=[];var aV;var aq;var kU,gY,og,tf,tj,gN;var lQ=1;var agY=arr(bI,bV,aK);if(agY>0){lQ=agY;}for(aV=0;aV<bI.childNodes.length;aV++){var ak=bI.childNodes[aV];if(ak.nodeName!=='annotation'){continue;}var jx=parseFloat(ak.getAttribute('width'))*lQ;var iG=parseFloat(ak.getAttribute('height'))*lQ;var hv=parseFloat(ak.getAttribute('x'))*lQ;var gy=parseFloat(ak.getAttribute('y'))*lQ;var YZ=ak.getAttribute('fillColor'),WF,pK,ZE=ak.getAttribute('lineColor'),ajo,ji,acr=ak.getAttribute('fontColor'),aiO,zr;if(YZ==='transparent'){WF=pK=YZ;}else{WF=parseInt(YZ||0,10);pK=parseInt(WF,10).toString(16);while(pK.length<6){pK='0'+pK;}pK='#'+pK;}if(ZE==='transparent'){ji=ZE;}else{ajo=parseInt(ZE||0,10);ji=parseInt(ajo,10).toString(16);while(ji.length<6){ji='0'+ji;}ji='#'+ji;}if(acr){aiO=parseInt(acr||0,10);zr=parseInt(aiO,10).toString(16);while(zr.length<6){zr='0'+zr;}zr='#'+zr;}var atz=ak.getAttribute('stampSize');var NQ=ak.getAttribute('dragDirection');var HA=parseInt(ak.getAttribute('opacity'),10);if(isNaN(HA)){HA=255;}if(ak.nodeName==='annotation'){var aju=ak.getAttribute('label');if(!aju){aju='';}var la=ak.getAttribute('drawType');var kZ;switch(la){case 'imagestamp':case 'imagestamp_redact':var oR=ak.getAttribute('imageStampId');var bN=(la==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;aq=new IPCC.Web.UI.Mark(bN);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_image(stampImages[oR].base64format);aq.oR=oR;kU=true;if(la==='imagestamp_redact'){aq.kJ(true);}break;case 'circle':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});kU=true;aq.set_lineColor(ji);aq.set_fillVisible(false);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});kU=true;aq.set_fillColor(pK);aq.set_lineColor(ji);aq.set_fillVisible(true);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));break;case 'text':case 'text_redact':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fontName('verdana');aq.set_fontSize(10);aq.set_opacity(0);tC=undefined;aq.set_fillColor('#000000');if(la==='text_redact'){aq.kJ(true);}if(la==='text'){aq.set_fillColor(pK);aq.set_lineColor(ji);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));aq.set_fillVisible(true);aq.set_opacity(HA);}gN=parseInt(ak.getAttribute('maxLength'));if(!isNaN(gN)){aq.set_maxLength(gN);}pl=[];gY=ak.firstChild;while((gY)&&(gY.nodeType!==4)){gY=gY.nextSibling;}if((gY)&&(gY.nodeType===4)){kZ=gY.innerText||gY.textContent||gY.data;aq.aZ.bF=kZ;ot=kZ.split("</TEXTFORMAT>");pI='';GZ=[];for(bu=0;bu<ot.length;bu++){if(ot[bu].match(/<TEXTFORMAT/)){ot[bu]=ot[bu]+"</TEXTFORMAT>";pl.push(ot[bu]);}}for(bu=0;bu<pl.length;bu++){if(pl[bu].match(/<P/)){tC=this.ajC(pl[bu]);GZ.push(tC);pI+=tC+" ";if(bu===0){iB=this.aiY(pl[bu]);afv(iB,aq);}}pI=pI.replace(/\s+$/g,"");aq.set_text(pI);var Iu=this.aij(pl[bu]);switch(Iu){case 'CENTER':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var ar=aq.ou();if(NQ==='br'){ar.setPoint(1,new IPCC.Web.UI.Point(hv+jx,gy+iG));ar.setPoint(0,new IPCC.Web.UI.Point(hv,gy));}else if(NQ==='bl'){ar.setPoint(1,new IPCC.Web.UI.Point(hv,gy+iG));ar.setPoint(0,new IPCC.Web.UI.Point(hv+jx,gy));}else if(NQ==='tr'){ar.setPoint(1,new IPCC.Web.UI.Point(hv+jx,gy));ar.setPoint(0,new IPCC.Web.UI.Point(hv,gy+iG));}else if(NQ==='tl'){ar.setPoint(1,new IPCC.Web.UI.Point(hv,gy));ar.setPoint(0,new IPCC.Web.UI.Point(hv+jx,gy+iG));}aq.set_lineColor(ji);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));if(la==='arrow'){aq.set_headFillColor(ji);aq.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);aq.set_startHeadAngle(30);aq.set_startHeadLength(35);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fillColor(ji);if(la==='stamp_redact'){aq.kJ(true);aq.set_fillColor('#000000');}gY=ak.firstChild;while((gY)&&(gY.nodeType!==4)){gY=gY.nextSibling;}if((gY)&&(gY.nodeType===4)){kZ=gY.innerText||gY.textContent||gY.data;aq.aZ.bF=kZ;aq.set_text(kZ);}break;case 'highlightText':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fillColor(ji);aq.bq=ak.getAttribute('highlightGroupID');if(ak.getAttribute('textLength')){aq.dr=parseInt(ak.getAttribute('textLength'),10);}aq.cP=ak.getAttribute('selectedText');if(ak.getAttribute('startIndex')){aq.bQ=parseInt(ak.getAttribute('startIndex'),10);}aq.ks=ak.getAttribute('isHighlight');aq.set_opacity(127);bH=aaG(ak,lQ);if(bH){aq.bH=bH;}break;case 'rectangle_filled_redact':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fillColor(pK||'#000000');aq.set_lineColor(ji);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));aq.set_textColor(zr||'#ffffff');aq.set_fillVisible(true);aq.kJ(true);og=ak.getAttribute('highlightGroupID');aq.set_text(IPCC.K.xv(ak.getAttribute('meta')));if(og){aq.set_lineWidth(0);aq.bq=og;var cD=Mz[og];if(!cD){cD=Mz[og]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cD.bq=og;cD.set_rectangle(aq.get_rectangle());cD.kJ(true);cD.set_text(IPCC.K.xv(ak.getAttribute('meta')));}else{var Jj=false;var qk=cD.get_rectangle();var hg=qk.x,ju=qk.x+qk.width,_top=qk.y,hT=qk.y+qk.height;if(qk.x>hv){Jj=true;hg=hv;}if(qk.y>gy){Jj=true;_top=gy;}if(qk.x+qk.width<hv+jx){Jj=true;ju=hv+jx;}if(qk.y+qk.height<gy+iG){Jj=true;hT=gy+iG;}if(Jj===true){cD.set_rectangle({x:hg,y:_top,width:ju-hg,height:hT-_top});}}}break;case 'text_selection_redaction':og=ak.getAttribute('highlightGroupID');aq=Mz[og];if(!aq){aq=Mz[og]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);aq.bq=og;aq.set_rectangle({x:0,y:0,width:0,height:0});aq.kJ(true);aq.set_text(ak.getAttribute('meta'));}dr=ak.getAttribute('textLength');if(dr){aq.dr=parseInt(dr,10);}cP=ak.getAttribute('selectedText');if(cP){aq.cP=cP;}bQ=ak.getAttribute('startIndex');if(bQ){aq.bQ=parseInt(bQ,10);}break;case 'text_hyperlink_annotation':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);aq.set_fillColor(ji);og=ak.getAttribute('highlightGroupID');aq.bq=og;var kY=ak.getAttribute('href');if(kY){aq.set_href(IPCC.K.xv(kY));}dr=ak.getAttribute('textLength');if(dr){aq.dr=parseInt(dr,10);}cP=ak.getAttribute('selectedText');if(cP){aq.cP=cP;}bQ=ak.getAttribute('startIndex');if(bQ){aq.bQ=parseInt(bQ,10);}var ks=ak.getAttribute('isHighlight');aq.ks=ks?ks:'n';aq.bH=aaG(ak,lQ);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});break;case 'rectangle':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_lineVisible(true);aq.set_lineColor(ji);aq.set_fillVisible(false);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));break;case 'rectangle_filled':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fillColor(pK);aq.set_lineColor(ji);aq.set_fillVisible(true);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fillColor(pK);aq.set_lineColor(ji);aq.set_fillVisible(true);if(la==='rectangle_trans_redact'){aq.kJ(true);}aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(la==='freehand'){aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(ak.getAttribute('align').toUpperCase()){case 'LEFT':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_pathWidth(parseFloat(ak.getAttribute('pathWidth')));aq.set_pathHeight(parseFloat(ak.getAttribute('pathHeight')));aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));aq.set_lineColor(ji);var uz=ak.firstChild;while((uz)&&(uz.nodeType!==4)){uz=uz.nextSibling;}if((uz)&&(uz.nodeType===4)){kZ=uz.innerText||uz.textContent||uz.data;aq.aZ.bF=kZ;aq.set_pathString(kZ);}break;case 'signature_text':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fontSize(10);aq.set_lineWidth=0;aq.set_fillVisible(true);aq.set_opacity(1);gY=ak.firstChild;this.Su(gY,aq);aq.Av=parseFloat(ak.getAttribute('fontWidth'));aq.zI=parseFloat(ak.getAttribute('fontHeight'));break;case 'text_area_signature':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_fontName('verdana');tC=undefined;gN=parseInt(ak.getAttribute('maxLength'));if(!isNaN(gN)){aq.set_maxLength(gN);}var ij=parseInt(ak.getAttribute('maxFontSize'));if(!isNaN(ij)){aq.set_maxFontSize(ij);}gY=ak.firstChild;this.Su(gY,aq);break;case 'text_input_signature':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});gY=ak.firstChild;this.Su(gY,aq);aq.Av=parseFloat(ak.getAttribute('fontWidth'));aq.zI=parseFloat(ak.getAttribute('fontHeight'));aq.set_lineVisible(false);gN=parseInt(ak.getAttribute('maxLength'));if(!isNaN(gN)){aq.set_maxLength(gN);}aqT(ak,aq);break;case 'polyline':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));aq.set_lineColor(ji);var uG=ak.firstChild;while((uG)&&(uG.nodeType!==4)){uG=uG.nextSibling;}var Gj;if((uG)&&(uG.nodeType===4)){kZ=uG.innerText||uG.textContent||uG.data;if(kZ&&kZ!=='undefined'){if(typeof JSON!=='undefined'){Gj=JSON.parse(kZ);}else{Gj=IPCC.dN.qb(kZ,true);}ar=aq.ou();if(Gj){for(C=0;C<Gj.length;C++){ar.addPoint(new IPCC.Web.UI.Point(Gj[C].x*lQ,Gj[C].y*lQ));}}}}break;case 'strikethrough':aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);aq.set_rectangle({x:hv,y:gy,width:jx,height:iG});aq.set_lineWidth(parseFloat(ak.getAttribute('lineWidth')));aq.set_lineColor(ji);aq.bq=ak.getAttribute('highlightGroupID');var textLength=ak.getAttribute('textLength');if(textLength){aq.dr=parseInt(textLength,10);}aq.cP=ak.getAttribute('selectedText');var startIndex=ak.getAttribute('startIndex');if(startIndex){aq.bQ=parseInt(startIndex,10);}aq.ks=ak.getAttribute('isHighlight');bH=aaG(ak,lQ);if(bH){aq.bH=bH;}break;default:}if(aq){aq.aZ.jB=ak.getAttribute('nodeId');if(HA>=0&&(la==='rectangle_trans_redact'|| !aq.kM())&&la!=='stamp'&&la!=='imagestamp'&&la!=='imagestamp_redact'&&la!=='text_hyperlink_annotation'&&la!=='text_input_signature'&&la!=='text_area_signature'&&la!=='strikethrough'){aq.set_opacity(HA);}aq.aZ.Gp=atz;aq.aZ.aEP=la;aq.aZ.cf=ak.getAttribute('lineWidth');aq.aZ.eQ=ak.getAttribute('fillColor');aq.aZ.ke=ak.getAttribute('lineColor');aq.aZ.aGz=ak.getAttribute('dragDirection');aq.aZ.yI=yI;aq.aZ.aY=ak.getAttribute('x');aq.aZ.dc=ak.getAttribute('y');aq.aZ.bU=ak.getAttribute('height');aq.aZ.bd=ak.getAttribute('width');aq.aZ.aFQ=ak.getAttribute('x_percent');aq.aZ.aGF=ak.getAttribute('y_percent');aq.aZ.aIf=ak.getAttribute('height_percent');aq.aZ.aFy=ak.getAttribute('width_percent');aq.aZ.aIw=ak.getAttribute('formUser');aq.aZ.aHx=ak.getAttribute('created');aq.aZ.aGZ=ak.getAttribute('modified');aq.aZ.aHc=ak.getAttribute('saveDate');aq.aZ.aHb=ak.getAttribute('saveTime');aq.aZ.fP=ak.getAttribute('meta');var zD=ak.firstChild;while((zD)&&(zD.nodeType!==4)){zD=zD.nextSibling;}if((zD)&&(zD.nodeType===4)){aq.dn.push(zD.data);}else{aq.dn.push('');}var lW=parseInt(ak.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;aq.set_interactionMode(lW);aq.nx(this);aq.add_propertyChanged(mG);aq.add_markTextSelectionChanged(zQ);aq.xd(LV);aq.vB(Mt);aq.sN(LH);It.push(aq);aqo(ak,aq);tf=IPCC.K.aer(ak.getAttribute('created'));tj=IPCC.K.aer(ak.getAttribute('modified'));tf=tf||new Date();tj=tj||new Date();aq.initializeDates(tf,tj);if(uN){aq.set_visible(false);}}}}bx=bx.concat(It);V.bg('marksLoaded',{});}if(mB){ard(lp,aw);break;}}}}};this.Su=function(uy,aq){var C,kZ,ot,pI,GZ,tC,pl=[],BY=aq.get_type()===IPCC.Web.UI.MarkType.SignatureText,arb=BY?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,iB;while((uy)&&(uy.nodeType!==4)){uy=uy.nextSibling;}if((uy)&&(uy.nodeType===4)){kZ=uy.innerText||uy.textContent||uy.data;aq.aZ.bF=kZ;ot=kZ.split("</TEXTFORMAT>");for(C=0;C<ot.length;C++){if(ot[C].match(/<TEXTFORMAT/)){ot[C]=ot[C]+"</TEXTFORMAT>";pl.push(ot[C]);}}pI='';GZ=[];for(C=0;C<pl.length;C++){if(pl[C].match(/<P/)){tC=this.ajC(pl[C]);GZ.push(tC);pI+=tC+" ";if(C===0){iB=this.aiY(pl[C]);afv(iB,aq);}}pI=pI.replace(/\s+$/g,"");aq.set_text(pI);var Iu=this.aij(pl[C]);switch(Iu){case 'LEFT':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aq.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aq.set_textHorizontalAlignment(arb);break;}}}};function aaZ(akX,dG){for(var i=0;i<akX.childNodes.length;i++){var YU=akX.childNodes[i];if(YU.nodeName==='kvp'){var al=YU.getAttribute("key");var h=YU.getAttribute("value");dG.set_data(al,h);}}};function aqk(Pi,ca){var cj=new IPCC.Web.UI.Comment(IPCC.K.xv(Pi.getAttribute("text")));cj.set_creationTime(Pi.getAttribute("created"));ca.addComment(cj);for(var i=0;i<Pi.childNodes.length;i++){var aga=Pi.childNodes[i];if(aga.nodeName==='data'){aaZ(aga,cj.get_data());}}};function aqJ(ahB,ca){for(var i=0;i<ahB.childNodes.length;i++){var RC=ahB.childNodes[i];if(RC.nodeName==='comments'){var gX=RC;for(var j=0;j<gX.childNodes.length;j++){var agn=gX.childNodes[j];if(agn.nodeName==='comment'){aqk(agn,ca);}}}else if(RC.nodeName==='data'){aaZ(RC,ca.get_data());}}};function aqo(Ik,G){for(var i=0;i<Ik.childNodes.length;i++){var tS=Ik.childNodes[i];if(tS.nodeName==='conversation'){aqJ(tS,G.get_conversation());}else if(tS.nodeName==='data'){aaZ(tS,G.get_data());}}};function aqT(Ik,G){var h=null,Kr={};for(var i=0;i<Ik.childNodes.length;i++){var tS=Ik.childNodes[i];if(tS.nodeName==='inputMask'){h=IPCC.K.xv(tS.getAttribute('value'));for(var j=0;j<tS.childNodes.length;j++){var Ym=tS.childNodes[j];if(Ym.nodeName==='translation'){Kr[IPCC.K.xv(Ym.getAttribute('key'))]=new RegExp(IPCC.K.xv(Ym.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(h!==null){G.set_mask({value:h,translations:Kr});}};function aaG(rW,ws){var ho=null,iR;for(var i=0;i<rW.childNodes.length;i++){iR=rW.childNodes[i];if(iR.nodeName==='line-rectangles'){if(!ho){ho=aqj(iR,ws);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return ho;};function aqj(rW,ws){var ho=[],iR;for(var i=0;i<rW.childNodes.length;i++){iR=rW.childNodes[i];if(iR.nodeName==='rectangle'){ho.push(apK(iR,ws));}}return ho;};function apK(rW,ws){var aY=parseFloat(rW.getAttribute("x"))*ws;var dc=parseFloat(rW.getAttribute("y"))*ws;var bd=parseFloat(rW.getAttribute("width"))*ws;var bU=parseFloat(rW.getAttribute("height"))*ws;return new IPCC.Web.UI.Rectangle(aY,dc,bd,bU);};this.UE=function(bB,Fo,uT,ib,cu,ba){var aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aq.set_rectangle({x:bB.x,y:bB.y,width:bB.width,height:bB.height});aq.set_fillColor(uT);aq.set_fillVisible(true);aq.bQ=ba;aq.dr=1;if(cu){aq.set_opacity(cu);}else{aq.set_opacity(127);}V.addMark(aq);return aq;};this.aCf=function(bB,Va,ba){var aq=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aq.set_rectangle({x:bB.x,y:bB.y,width:bB.width,height:bB.height});aq.set_fillColor(Va.get_fillColor());aq.set_fillVisible(true);aq.bQ=ba;aq.dr=1;if(Va.get_opacity()){aq.set_opacity(Va.get_opacity());}else{aq.set_opacity(127);}V.addMark(aq);return aq;};function afv(iB,aq){for(var bY=0;bY<iB.length;bY++){var dh=iB[bY].attribs;var mB=false;if(iB[bY].attribs.length>1&& !mB&&iB[bY].GX==='font'){mB=true;for(var aV=0;aV<dh.length;aV++){if(dh[aV].ao==="FACE"){aq.set_fontName(dh[aV].h);}else if(dh[aV].ao==="SIZE"&&aq.get_type()!==IPCC.Web.UI.MarkType.TextLine&&aq.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rZ=parseFloat(dh[aV].h);aq.set_fontSize(rZ);}else if(dh[aV].ao==="COLOR"){var aia=dh[aV].h;if(aq.get_type()===IPCC.Web.UI.MarkType.SignatureText){aq.set_fillColor(aia);}else{aq.set_textColor(aia);}}}var lu=false;if(iB[bY+1]&&aq.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(iB[bY+1].tagName==='font'){break;}else{var yE=iB[bY+1].GX;if(yE==='b'||yE==='i'||yE==='u'||yE==='s'){if(yE==='b'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(yE==='i'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(yE==='u'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(yE==='s'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lu=true;}}if(iB[bY+2]){var aoS=iB[bY+2].GX;lu=WJ(aq,lu,aoS);}if(iB[bY+3]){var aoG=iB[bY+3].GX;lu=WJ(aq,lu,aoG);}if(iB[bY+4]){var aon=iB[bY+4].GX;lu=WJ(aq,lu,aon);}if(mB){break;}}}}};function WJ(G,ahd,wx){var lu=ahd;var aq=G;if(ahd){if(wx==='b'){aq.set_fontStyle(aq.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lu=true;}else if(wx==='i'){aq.set_fontStyle(aq.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lu=true;}else if(wx==='u'){aq.set_fontStyle(aq.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lu=true;}else if(wx==='s'){aq.set_fontStyle(aq.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lu=true;}}else{if(wx==='b'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lu=true;}else if(wx==='i'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lu=true;}else if(wx==='u'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lu=true;}else if(wx==='s'){aq.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lu=true;}}return lu;};function CU(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aeW=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ajU=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,atU=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aEo=CU("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var JF=CU("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var avI=CU("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var aoM=CU("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aAL=CU("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var anp=CU("script,style");this.agx=function(html,handler){var ba,wR,uf,lC=[],iU=html;function parseEndTag(tag,tagName){var gH;if(!tagName){gH=0;}else{for(gH=lC.length-1;gH>=0;gH--){if(lC[gH]===tagName){break;}}}if(gH>=0){for(var i=lC.length-1;i>=gH;i--){if(handler.end){handler.end(lC[i]);}}lC.length=gH;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(JF[tagName]){while(lC.last()&&avI[lC.last()]){parseEndTag("",lC.last());}}if(aoM[tagName]&&lC.last()===tagName){parseEndTag("",tagName);}unary=aEo[tagName]|| ! !unary;if(!unary){lC.push(tagName);}if(handler.start){var attrs=[];rest.replace(atU,function(uf,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aAL[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lC.last=function(){return this[this.length-1];};function auN(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){wR=true;if(!lC.last()|| !anp[lC.last()]){if(html.indexOf("<!--")===0){ba=html.indexOf("-->");if(ba>=0){if(handler.comment){handler.comment(html.substring(4,ba));}html=html.substring(ba+3);wR=false;}}else if(html.indexOf("</")===0){uf=html.match(ajU);if(uf){html=html.substring(uf[0].length);uf[0].replace(ajU,parseEndTag);wR=false;}}else if(html.indexOf("<")===0){uf=html.match(aeW);if(uf){html=html.substring(uf[0].length);uf[0].replace(aeW,parseStartTag);wR=false;}}if(wR){ba=html.indexOf("<");var text=ba<0?html:html.substring(0,ba);text=IPCC.K.xv(text);html=ba<0?"":html.substring(ba);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lC.last()+"[^>]*>"),auN);parseEndTag("",lC.last());}if(html===iU){throw " Parse Error in annotation Html Text: "+html;}iU=html;}parseEndTag();};this.ajC=function(html){var results="";this.agx(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aiY=function(html){var fq=[];this.agx(html,{start:function(tag,attrs){var fs;fs=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xE={};xE.GX=tag;xE.attribs=[];if(tag==='b'){xE.aFL=true;}else if(tag==='i'){xE.aEV=true;}else if(tag==='u'){xE.aGk=true;}else if(tag==='s'){xE.aFU=true;}else{for(var i=0;i<attrs.length;i++){var Ay={};Ay.ao=attrs[i].name;Ay.h=attrs[i].value;xE.attribs.push(Ay);}}fq.push(xE);}},end:function(){},chars:function(){},comment:function(){}});return fq;};this.aij=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function ard(lp,aCp){var kD=lp.getElementsByTagName("highlights")[0];if(kD.hasChildNodes()){var ku;var co;for(var C=0;C<kD.childNodes.length;C++){ku=kD.childNodes[C];if(ku.nodeType===1){co=ku.getAttribute('page');if(co&&parseInt(co,10)===aCp+1){var iy=new IPCC.Web.UI.ZR();iy.awk=ku.nodeName;switch(iy.awk){case 'tag':iy.Gu=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':iy.Gu=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':iy.Gu=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':iy.Gu=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':iy.Gu=IPCC.Web.UI.HighLightType.Strikethrough;break;default:iy.Gu=undefined;}if(ku.childNodes[0].data){iy.dn.push(ku.childNodes[0].data);}iy.aZ.dE=ku.getAttribute('id');iy.aZ.aHQ=ku.getAttribute('userid');iy.aZ.aIo=ku.getAttribute('mode');iy.aZ.dR=ku.getAttribute('color');iy.aZ.aFw=ku.getAttribute('occurence');iy.aZ.ak=ku.getAttribute('annotation');iy.aZ.bI=ku.getAttribute('page');iy.aZ.aFs=ku.getAttribute('documentname');iy.aZ.aHt=ku.getAttribute('tooltip');iy.aZ.aIq=ku.getAttribute('allowdelete');iy.aZ.iw=ku.getAttribute('start');iy.aZ.aFT=ku.getAttribute('end');V.awI.push(iy);}}}}};this.Zc=function(){var T;if(bx.length<1){return;}eF.removeAllMarks();var C;for(C=bx.length-1;C>=0;C--){bx[C].remove_propertyChanged(mG);bx[C].remove_markTextSelectionChanged(zQ);bx[C].nx(null);T=new IPCC.Web.UI.MarkEventArgs();T.length=bx.length;T.zIndex=0;T.mark=bx.pop();V.bg('markRemoved',T);}T=new IPCC.Web.UI.MarkEventArgs();T.length=bx.length;T.zIndex=0;V.bg('markRemoved',T);};this.tx=function(G){var kN=this.nK(G);var vh=G.bq;if(kN>=0){G.remove_propertyChanged(mG);G.remove_markTextSelectionChanged(zQ);G.nx(null);bx.splice(kN,1);eF.removeMark(G);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;T.zIndex=kN;T.length=1;V.bg('markRemoved',T);if(vh){this.aoH(vh);}}};this.aIl=function(qO){var vr=bx.length;var vh=qO.bq;while(vr--){var G=bx[vr];if(G.bq===vh){G.set_fillColor(qO.get_fillColor());}}};this.aue=function(qO){var vr=bx.length;var vh=qO.bq;if(!vh){qO.set_text(qO.get_text());return;}while(vr--){var G=bx[vr];if(G.bq===vh){if(G.get_text()!==qO.get_text()){G.set_text(qO.get_text());}if(G.get_fontName()!==qO.get_fontName()){G.set_fontName(qO.get_fontName());}if(G.get_fontSize()!==qO.get_fontSize()){G.set_fontSize(qO.get_fontSize());}}}};this.aoH=function(vh){var vr=bx.length;while(vr--){var G=bx[vr];if(G.bq===vh){var kN=this.nK(G);eF.removeMark(G);bx.splice(vr,1);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;T.zIndex=kN;T.length=1;}}};this.adq=function(G,kN){var QC=this.nK(G);if(QC<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(QC===kN){return;}aiy(kN);bx.splice(QC,1);bx.splice(kN,0,G);if(G.get_type()===IPCC.Web.UI.MarkType.Highlight||G.get_type()===IPCC.Web.UI.MarkType.HighlightText||G.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||G.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||G.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(G.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&G.bq!==undefined)){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;T.zIndex=kN;T.oldZIndex=QC;T.length=1;V.bg('markReordered',T);};function UD(ho,et,fB){if(!ho){return undefined;}var hM={hs:'line-rectangles',dn:[],aZ:{}};IPCC.K.forEach(ho,function(R){hM.dn.push({hs:'rectangle',dn:[],aZ:{x:R.x,y:R.y,height:R.height,width:R.width}});});return hM;};function apv(iO){if(!iO){return undefined;}var hM={hs:'inputMask',dn:[],aZ:{value:IPCC.K.qp(iO.value)}};IPCC.K.forEach(iO.translations,function(h,al){hM.dn.push({hs:'translation',dn:[],aZ:{key:IPCC.K.qp(al),value:IPCC.K.qp(h.toString())}});});return hM;};function abV(dG){if(!dG){return undefined;}var mH=dG.get_dataKeys();if(mH.length===0){return undefined;}var hM={hs:'data',dn:[],aZ:{}};IPCC.K.forEach(mH,function(al){var h=dG.get_data(al);hM.dn.push({hs:'kvp',dn:[],aZ:{key:al,value:h}});});return hM;};function asH(cj){if(!cj){return undefined;}var xZ={hs:'comment',dn:[],aZ:{}};xZ.aZ.text=IPCC.K.qp(cj.get_text());xZ.aZ.created=cj.get_creationTime();var hM=abV(cj.get_data());if(hM){xZ.dn.push(hM);}return xZ;};function arT(ca){if(!ca||ca.get_length()===0){return undefined;}var ZU={hs:'conversation',dn:[],aZ:{}};var abi={hs:'comments',dn:[],aZ:{}};ZU.dn.push(abi);ca.forEach(function(cj){var xZ=asH(cj);if(xZ){abi.dn.push(xZ);}});var hM=abV(ca.get_data());if(hM){ZU.dn.push(hM);}return ZU;};this.aow=function(G,et,fB,uv){var bN=G.get_type();var lk=false;var iE;var hm;var ahe;var VS;var hl,sM,qw,bF;var bj={hs:'annotation',dn:[],aZ:{}};if(!G.aZ.jB){bj.aZ.nodeId=V.aoF();}else{bj.aZ.nodeId=G.aZ.jB;}var Gc,Ea="",oe="";if(G.get_lineColor()){var ZK=G.get_lineColor();if(ZK==='transparent'){bj.aZ.lineColor=ZK;}else{Gc=ZK.replace(/#/,"");Ea=parseInt(Gc,16);oe=Ea.toString();bj.aZ.lineColor=oe;}}bj.aZ.interactionMode=G.get_interactionMode();bj.aZ.stampSize='122';var Ru={};Ru[IPCC.Web.UI.MarkType.Stamp]=true;Ru[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Ru[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bN===IPCC.Web.UI.MarkType.Rectangle&&G.get_opacity()<255|| !G.kM())&&Ru[bN]!==true){bj.aZ.opacity=G.get_opacity();}if(G.get_conversation().get_length()>0){bj.dn.push(arT(G.get_conversation()));}var hM=abV(G.get_data());if(hM){bj.dn.push(hM);}lk=false;switch(bN){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:hm=G.get_fillColor();if(hm==='transparent'){bj.aZ.fillColor=hm;}else if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}if(G.get_fillVisible()){if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(G.get_opacity()===255){if(G.kM()===true){bj.aZ.drawType='rectangle_filled_redact';if(G.bq){bj.aZ.highlightGroupID=G.bq;}}else{bj.aZ.drawType='rectangle_filled';}}else{if(G.kM()===true){bj.aZ.drawType='rectangle_trans_redact';}else{bj.aZ.drawType='rectangle_trans';}}}else{if(G.get_opacity()===255){bj.aZ.drawType='circle_filled';if(G.kM()){bj.aZ.drawType='circle_filled_redact';}}else{bj.aZ.drawType='circle_trans';if(G.kM()){bj.aZ.drawType='circle_trans_redact';}}}}else{if(G.get_type()===IPCC.Web.UI.MarkType.Rectangle){bj.aZ.drawType='rectangle';bj.aZ.fillColor=oe;}else{bj.aZ.drawType='circle';bj.aZ.fillColor=oe;}}bj.aZ.dragDirection='br';var R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bj.aZ.lineWidth=G.get_lineWidth();lk=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bj.aZ.highlightGroupID=G.bq;bj.aZ.drawType='text_selection_redaction';if(G.cP&&G.cP.length>0){bj.aZ.startIndex=G.bQ;bj.aZ.selectedText=G.cP;bj.aZ.textLength=G.dr;}break;case IPCC.Web.UI.MarkType.Text:var kC=G.get_rectangle();bj.aZ.x=kC.x;bj.aZ.y=kC.y;bj.aZ.x_percent=kC.x/et;bj.aZ.y_percent=kC.y/fB;bj.aZ.height_percent=kC.height/fB;bj.aZ.width_percent=kC.width/et;bj.aZ.height=kC.height;bj.aZ.width=kC.width;bj.aZ.maxLength=G.get_maxLength();hm=G.get_fillColor();if(G.kM()===true){bj.aZ.drawType='text_redact';}else{bj.aZ.drawType='text';bj.aZ.opacity=G.get_opacity();}if(hm==='transparent'){bj.aZ.fillColor=hm;}else if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor='16776960';}var bO='';bO="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bO+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bO+="<P ALIGN=\"right\" ";break;}bO+=">";bO+="<FONT ";sM=G.get_fontName();bO+="FACE="+"\""+sM+"\" ";qw=G.get_fontSize().toString();bO+="SIZE= \""+qw+"\" ";hl="\""+G.get_textColor()+"\" ";bO+="COLOR="+hl+" ";bO+="LETTERSPACING=\"0\" ";bO+="KERNING=\"0\" ";bO+=">";var cc=G.get_fontStyle();if(cc&IPCC.Web.UI.FontStyle.Bold){bO+="<B>";}if(cc&IPCC.Web.UI.FontStyle.Italic){bO+="<I>";}if(cc&IPCC.Web.UI.FontStyle.Underline){bO+="<U>";}if(cc&IPCC.Web.UI.FontStyle.Strikeout){bO+="<S>";}bF=G.get_text();bF=IPCC.K.qp(bF);bO+=bF;if(cc&IPCC.Web.UI.FontStyle.Strikeout){bO+="</S>";}if(cc&IPCC.Web.UI.FontStyle.Underline){bO+="</U>";}if(cc&IPCC.Web.UI.FontStyle.Italic){bO+="</I>";}if(cc&IPCC.Web.UI.FontStyle.Bold){bO+="</B>";}bO+="</FONT>";bO+="</P>";bO+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.drawType='highlight';bj.aZ.highlightGroupID=G.bq;bj.aZ.isHighlight=G.ks;hm=G.get_fillColor();if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();bj.aZ.lineColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.drawType='text_hyperlink_annotation';bj.aZ.href=IPCC.K.qp(G.kY);bj.aZ.startIndex=G.bQ;bj.aZ.selectedText=G.cP;bj.aZ.textLength=G.dr;bj.aZ.highlightGroupID=G.bq;bj.aZ.isHighlight=G.ks;hm=G.get_fillColor();if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();bj.aZ.lineColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}bj.dn.push(UD(G.bH,et,fB));break;case IPCC.Web.UI.MarkType.HighlightText:R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.drawType='highlightText';bj.aZ.startIndex=G.bQ;bj.aZ.selectedText=G.cP;bj.aZ.textLength=G.dr;bj.aZ.highlightGroupID=G.bq;bj.aZ.isHighlight=G.ks;hm=G.get_fillColor();if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();bj.aZ.lineColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}bj.dn.push(UD(G.bH,et,fB));break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=G.get_rectangle();bj.aZ.drawType='rectangle_filled_redact';bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.meta=IPCC.K.qp(G.get_text());bj.aZ.stampSize=G.get_fontSize();bj.aZ.lineWidth=G.get_lineWidth();hm=G.get_fillColor();if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}Gc=G.get_lineColor();if(Gc){Ea=Gc.replace(/#/,"");bj.aZ.lineColor=parseInt(Ea,16).toString();}else{bj.aZ.lineColor=oe;}VS=G.get_textColor();if(VS){ahe=VS.replace(/#/,"");bj.aZ.fontColor=parseInt(ahe,16).toString();}else{bj.aZ.fontColor=oe;}if(G.bq){bj.aZ.highlightGroupID=G.bq;}break;case IPCC.Web.UI.MarkType.Stamp:hm=G.get_fillColor();if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor=parseInt(iE,16).toString();bj.aZ.lineColor=parseInt(iE,16).toString();}else{bj.aZ.fillColor=oe;}R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;if(G.kM()===true){bj.aZ.drawType='stamp_redact';}else{bj.aZ.drawType='stamp';}bF=G.get_text();bj.aZ.stampSize=G.stampSize;bj.dn.push('<![CDATA['+bF+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(G.get_type()===IPCC.Web.UI.MarkType.Freehand){bj.aZ.drawType='freehand';}else{bj.aZ.drawType='signature_path';switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bj.aZ.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bj.aZ.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bj.aZ.align='right';break;}}bO=G.get_pathString();bj.aZ.pathWidth=G.get_pathWidth();bj.aZ.pathHeight=G.get_pathHeight();R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;break;case IPCC.Web.UI.MarkType.SignatureText:hm=G.get_fillColor();var eQ;if(hm){iE=hm.replace(/#/,"");bj.aZ.fillColor="";bj.aZ.lineColor="";eQ=parseInt(iE,16).toString();}else{bj.aZ.fillColor="";eQ=oe;}R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.opacity=0;bj.aZ.drawType='signature_text';bj.aZ.stampSize=G.stampSize;bj.aZ.fontWidth=G.Av;bj.aZ.fontHeight=G.zI;bO='';bO="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bO+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bO+="<P ALIGN=\"right\" ";break;}bO+=">";bO+="<FONT ";sM=G.get_fontName();bO+="FACE="+"\""+sM+"\" ";qw=G.stampSize.toString();bO+="SIZE= \""+qw+"\" ";hl="\""+G.get_fillColor()+"\" ";bO+="COLOR="+hl+" ";bO+="LETTERSPACING=\"0\" ";bO+="KERNING=\"0\" ";bO+=">";bF=IPCC.K.qp(G.get_text());bO+=bF;bO+="</FONT>";bO+="</P>";bO+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:kC=G.get_rectangle();bj.aZ.x=kC.x;bj.aZ.y=kC.y;bj.aZ.x_percent=kC.x/et;bj.aZ.y_percent=kC.y/fB;bj.aZ.height_percent=kC.height/fB;bj.aZ.width_percent=kC.width/et;bj.aZ.height=kC.height;bj.aZ.width=kC.width;bj.aZ.maxLength=G.gN;bj.aZ.maxFontSize=G.ij;if(uv){bj.aZ.drawType='text';}else{bj.aZ.drawType='text_area_signature';}bj.aZ.fillColor='transparent';bO='';bO="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bO+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bO+="<P ALIGN=\"right\" ";break;}bO+=">";bO+="<FONT ";sM=G.get_fontName();bO+="FACE="+"\""+sM+"\" ";qw=G.da.toString();bO+="SIZE= \""+qw+"\" ";hl="\""+G.get_textColor()+"\" ";bO+="COLOR="+hl+" ";bO+="LETTERSPACING=\"0\" ";bO+="KERNING=\"0\" ";bO+=">";cc=G.get_fontStyle();if(cc&IPCC.Web.UI.FontStyle.Bold){bO+="<B>";}if(cc&IPCC.Web.UI.FontStyle.Italic){bO+="<I>";}if(cc&IPCC.Web.UI.FontStyle.Underline){bO+="<U>";}if(cc&IPCC.Web.UI.FontStyle.Strikeout){bO+="<S>";}bF=G.get_text();bF=IPCC.K.qp(bF);bO+=bF;if(cc&IPCC.Web.UI.FontStyle.Strikeout){bO+="</S>";}if(cc&IPCC.Web.UI.FontStyle.Underline){bO+="</U>";}if(cc&IPCC.Web.UI.FontStyle.Italic){bO+="</I>";}if(cc&IPCC.Web.UI.FontStyle.Bold){bO+="</B>";}bO+="</FONT>";bO+="</P>";bO+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!uv){R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.maxLength=G.get_maxLength();bj.aZ.width_percent=R.width/et;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.opacity=0;bj.aZ.drawType='text_input_signature';bj.aZ.stampSize=G.stampSize;bj.aZ.fontWidth=G.Av;bj.aZ.fontHeight=G.zI;bO='';bO="<TEXTFORMAT LEADING=\"2\">";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bO+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bO+="<P ALIGN=\"right\" ";break;}bO+=">";bO+="<FONT ";sM=G.get_fontName();bO+="FACE="+"\""+sM+"\" ";qw=G.stampSize.toString();bO+="SIZE= \""+qw+"\" ";hl="\""+G.get_textColor()+"\" ";bO+="COLOR="+hl+" ";bO+="LETTERSPACING=\"0\" ";bO+="KERNING=\"0\" ";bO+=">";bF=IPCC.K.qp(G.get_text());bO+=bF;bO+="</FONT>";bO+="</P>";bO+="</TEXTFORMAT>";var aaO=apv(G.get_mask());if(aaO){bj.dn.push(aaO);}}else{R=G.get_rectangle();var DW=G.stampSize;var oz;if(!G.JU|| !G.oz){var avd=IPCC.K.ahT(G.get_text(),G.get_fontName(),R.width,R.height,{uR:"pre",da:DW+"px"});oz=avd;G.JU=true;G.oz=oz;}else{oz=G.oz;}DW=oz.fontSize;var hD=oz.width/R.width,cV=1.0,MIN_BUFFER=0.85;if(/mono/i.test(G.get_fontName())){MIN_BUFFER=0.75;}if(hD>MIN_BUFFER){cV=MIN_BUFFER*R.width/oz.width;DW=DW*cV;}var ajh=R.width,aAd=oz.height*cV,aiF=R.height-(R.height-aAd)/2,ajD=R.x,ajc=R.y+(R.height-oz.height)/2+(oz.height*(1-cV));bj.aZ.x=ajD;bj.aZ.y=ajc;bj.aZ.x_percent=ajD/et;bj.aZ.y_percent=ajc/fB;bj.aZ.height_percent=aiF/fB;bj.aZ.width_percent=ajh/et;bj.aZ.height=aiF;bj.aZ.width=ajh;bj.aZ.opacity=0;bj.aZ.drawType='text_redact';bO='';bO="<TEXTFORMAT>";switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bO+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bO+="<P ALIGN=\"right\" ";break;}bO+=">";bO+="<FONT ";sM=G.get_fontName();bO+="FACE="+"\""+sM+"\" ";if(G.aBd){qw=(DW/G.aBd).toString();}else{qw=DW.toString();}bO+="SIZE= \""+qw+"\" ";hl="\""+G.get_textColor()+"\" ";bO+="COLOR="+hl+" ";bO+="LETTERSPACING=\"0\" ";bO+="KERNING=\"0\" ";bO+=">";bF=IPCC.K.qp(G.get_text());bO+=bF;bO+="</FONT>";bO+="</P>";bO+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bj.aZ.drawType=(bN===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.lineWidth=G.get_lineWidth();bj.aZ.x_percent=R.x/et;bj.aZ.y_percent=R.y/fB;bj.aZ.height_percent=R.height/fB;bj.aZ.width_percent=R.width/et;bj.aZ.imageStampId=G.oR;break;case IPCC.Web.UI.MarkType.Strikethrough:R=G.get_rectangle();bj.aZ.x=R.x;bj.aZ.y=R.y;bj.aZ.height=R.height;bj.aZ.width=R.width;bj.aZ.drawType='strikethrough';bj.aZ.startIndex=G.bQ;bj.aZ.selectedText=G.cP;bj.aZ.textLength=G.dr;bj.aZ.highlightGroupID=G.bq;bj.aZ.isHighlight=G.ks;bj.dn.push(UD(G.bH,et,fB));break;}if(lk){bj.aZ.lineWidth=G.get_lineWidth();var bB=G.get_boundingRectangle();bj.aZ.x=bB.x;bj.aZ.y=bB.y;bj.aZ.x_percent=bB.x/et;bj.aZ.y_percent=bB.y/fB;bj.aZ.height_percent=bB.height/fB;bj.aZ.width_percent=bB.width/et;bj.aZ.height=bB.height;bj.aZ.width=bB.width;if(bN===IPCC.Web.UI.MarkType.Line){if(G.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bj.aZ.drawType='line';}else{bj.aZ.drawType='arrow';}}else{bj.aZ.drawType='polyline';}bj.aZ.lineWidth=G.get_lineWidth();var ar=G.get_points();if(bN===IPCC.Web.UI.MarkType.Line){if((ar.getPoint(0).x<ar.getPoint(1).x)&&(ar.getPoint(0).y>ar.getPoint(1).y)){bj.aZ.dragDirection='tr';}else if((ar.getPoint(0).x>ar.getPoint(1).x)&&(ar.getPoint(0).y>ar.getPoint(1).y)){bj.aZ.dragDirection='tl';}else if((ar.getPoint(0).x>ar.getPoint(1).x)&&(ar.getPoint(0).y<ar.getPoint(1).y)){bj.aZ.dragDirection='bl';}else if((ar.getPoint(0).x<ar.getPoint(1).x)&&(ar.getPoint(0).y<ar.getPoint(1).y)){bj.aZ.dragDirection='br';}else{bj.aZ.dragDirection='br';}}else{var yb=[];var dv=ar.get_length(),aT;if(dv>1){for(var aV=0;aV<ar.get_length();aV++){aT=ar.getPoint(aV);yb.push({x:aT.x,y:aT.y});}bO=IPCC.dN.aeL(yb);}}if(Ea){bj.aZ.fillColor=Ea;}else{bj.aZ.fillColor="";}}else{bj.aZ.lineWidth=G.get_lineWidth();bj.aZ.dragDirection='br';}if(G.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bj.aZ.meta='';}bj.aZ.label='';var eO=new Date();bj.aZ.saveDate=IPCC.K.axU(eO);bj.aZ.saveTime=IPCC.K.axo(eO);bj.aZ.uuid='';bj.aZ.formUser='';bj.aZ.created=IPCC.K.ahL(G.get_dateCreated());bj.aZ.modified=IPCC.K.ahL(G.get_dateModified());if(G.get_type()===IPCC.Web.UI.MarkType.Text||G.get_type()===IPCC.Web.UI.MarkType.Freehand||G.get_type()===IPCC.Web.UI.MarkType.SignaturePath||G.get_type()===IPCC.Web.UI.MarkType.SignatureText||G.get_type()===IPCC.Web.UI.MarkType.Polyline||G.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||G.get_type()===IPCC.Web.UI.MarkType.TextLine){bj.dn.push('<![CDATA['+bO+']]>');}else{bj.dn.push('');}return bj;};this.aDH=function(aw,et,fB,aU){var iV={hs:'documentAnnotations',dn:[],aZ:{}};var cZ={hs:'pages',dn:[],aZ:{}};iV.dn.push(cZ);var kD={hs:'highlights',dn:[],aZ:{}};iV.dn.push(kD);var tm={},op=[];var bI={hs:'page',dn:[],aZ:{id:(aw+1).toString(),pageWidth:et,pageHeight:fB}};cZ.dn.push(bI);aU=aU||{};var aeO=(aU.includeAnnotations!==undefined)? ! !aU.includeAnnotations:true,aeB=(aU.includeRedactions!==undefined)? ! !aU.includeRedactions:true,aeT=(aU.includeSignatures!==undefined)? ! !aU.includeSignatures:false,uv=(aU.uv!==undefined)? ! !aU.uv:false,YF=(aU.Gf!==undefined)?aU.Gf:false,aze= ! !uv,ani=YF?YF:bx;for(var C=0;C<ani.length;C++){var G=ani[C];var bN=G.get_type();if(G.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aze&& !G.get_visible()){continue;}if(!YF){if(aeO===false&&aeB===false&&aeT===false){break;}if(aeO===false){if(bN===IPCC.Web.UI.MarkType.Rectangle||bN===IPCC.Web.UI.MarkType.Ellipse||bN===IPCC.Web.UI.MarkType.Line||bN===IPCC.Web.UI.MarkType.Text||bN===IPCC.Web.UI.MarkType.Stamp||bN===IPCC.Web.UI.MarkType.Highlight||bN===IPCC.Web.UI.MarkType.Strikethrough||bN===IPCC.Web.UI.MarkType.HighlightText||bN===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bN===IPCC.Web.UI.MarkType.Freehand||bN===IPCC.Web.UI.MarkType.ImageStampAnnotation||bN===IPCC.Web.UI.MarkType.Polyline){if(G.kM()===false){continue;}}}if(aeB===false){if(G.kM()===true){continue;}if(bN===IPCC.Web.UI.MarkType.RectangleRedaction||bN===IPCC.Web.UI.MarkType.TextSelectionRedaction||bN===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aeT===false){if(bN===IPCC.Web.UI.MarkType.SignaturePath||bN===IPCC.Web.UI.MarkType.SignatureText||bN===IPCC.Web.UI.MarkType.SignatureImage||bN===IPCC.Web.UI.MarkType.TextAreaSignature||bN===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bN){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:tm[G.oR]={hs:'stampImage',dn:[],aZ:{imageStampId:G.oR,base64format:G.du()}};break;}bI.dn.push(this.aow(G,et,fB,uv));}for(var Ky in tm){if(tm.hasOwnProperty(Ky)){op.push(tm[Ky]);}}return{iV:iV,op:op};};this.aDr=function(){var fz={m:[]};var C;for(C=0;C<bx.length;C++){fz.m.push(bx[C].aCV());}V.bg('marksSaved',{});var ahG="";ahG=IPCC.dN.aeL(fz);return ahG;};this.zq=function(L){aB.addHandler('markAdded',L);};this.zM=function(L){aB.removeHandler('markAdded',L);};this.Hd=function(L){aB.addHandler('markChanged',L);};this.Fn=function(L){aB.removeHandler('markChanged',L);};this.As=function(L){aB.addHandler('markRemoved',L);};this.AJ=function(L){aB.removeHandler('markRemoved',L);};this.Gg=function(L){aB.addHandler('markReordered',L);};this.FE=function(L){aB.removeHandler('markReordered',L);};this.Xz=function(L){aB.addHandler('marksLoaded',L);};this.Zy=function(L){aB.removeHandler('marksLoaded',L);};this.aIF=function(L){aB.addHandler('marksSaved',L);};this.aGY=function(L){aB.removeHandler('marksSaved',L);};this.Hq=function(L){aB.addHandler('markSelectionChanged',L);};this.Fe=function(L){aB.removeHandler('markSelectionChanged',L);};this.Fm=function(L){aB.addHandler('markTextSelectionChanged',L);};this.Gm=function(L){aB.removeHandler('markTextSelectionChanged',L);};this.xd=function(L){aB.addHandler('commentAdded',L);};this.Eb=function(L){aB.removeHandler('commentAdded',L);};this.vB=function(L){aB.addHandler('commentRemoved',L);};this.Ew=function(L){aB.removeHandler('commentRemoved',L);};this.sN=function(L){aB.addHandler('commentChanged',L);};this.vU=function(L){aB.removeHandler('commentChanged',L);};this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};this.cY=function(cq){var L=aB.getHandler("propertyChanged");if(L){L(this,new IPCC.pb(cq));}};return this;};Mh.prototype={get_markCount:function(){return this.aaN();},get_selectedMarks:function(){return this.yO();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.NR(mark,mouseLocation);},forEachMark:function(method,context){this.Dn(method,context);},getMark:function(zIndex){return this.LB(zIndex);},getZIndexOfMark:function(mark){return this.nK(mark);},loadFromJson:function(json){this.aAg(json);},removeAllMarks:function(){this.Zc();},removeMark:function(mark){this.tx(mark);},reorderMark:function(mark,zIndex){this.adq(mark,zIndex);},saveToJson:function(){return this.aDr();},add_markAdded:function(handler){this.zq(handler);},remove_markAdded:function(handler){this.zM(handler);},add_markChanged:function(handler){this.Hd(handler);},remove_markChanged:function(handler){this.Fn(handler);},add_markRemoved:function(handler){this.As(handler);},remove_markRemoved:function(handler){this.AJ(handler);},add_markReordered:function(handler){this.Gg(handler);},remove_markReordered:function(handler){this.FE(handler);},add_marksLoaded:function(handler){this.Xz(handler);},remove_marksLoaded:function(handler){this.Zy(handler);},add_markSelectionChanged:function(handler){this.Hq(handler);},remove_markSelectionChanged:function(handler){this.Fe(handler);},add_markTextSelectionChanged:function(handler){this.Fm(handler);},remove_markTextSelectionChanged:function(handler){this.Gm(handler);},add_commentAdded:function(handler){this.xd(handler);},remove_commentAdded:function(handler){this.Eb(handler);},add_commentRemoved:function(handler){this.vB(handler);},remove_commentRemoved:function(handler){this.Ew(handler);},add_commentChanged:function(handler){this.sN(handler);},remove_commentChanged:function(handler){this.vU(handler);}};Mh.registerClass=cQ;Mh.registerClass('IPCC.Web.UI.ArtPage');module.exports=Mh;},{"../../IPCC.Util":29}],68:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var QQ=function(){};QQ.registerEnum=fl;QQ.prototype={Line:0,Triangle:1};QQ.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=QQ;},{"../../IPCC.Util":29}],69:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Pr=function(text){var aB=new IPCC.Web.UI.fZ();var dG=new IPCC.Web.UI.Data();this.YR=IPCC.K.vp(new Date());this.bF=text;this.aBB=function(bF){if(bF===this.bF){return;}this.bF=bF;var T=new IPCC.Web.UI.CommentEventArgs();T.comment=this;T.length=1;this.bg('commentChanged',T);};this.aEv=function(){return this.bF;};this.aBi=function(aAl){this.YR=aAl;};this.aDI=function(){return this.YR;};this.sN=function(L){aB.addHandler('commentChanged',L);};this.vU=function(L){aB.removeHandler('commentChanged',L);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};this.yZ=function(){return dG;};return this;};Pr.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sN(handler);},remove_commentChanged:function(handler){this.vU(handler);},get_text:function(){return this.aEv();},set_text:function(text){this.aBB(text);},get_creationTime:function(){return this.aDI();},set_creationTime:function(isoTimeString){this.aBi(isoTimeString);},get_data:function(){return this.yZ();}};Pr.registerClass=cQ;Pr.registerClass('IPCC.Web.UI.Comment');module.exports=Pr;},{"../../IPCC.Util":29}],70:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var PU=function(){return this;};PU.registerClass=cQ;PU.prototype={};PU.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=PU;},{"../../IPCC.Util":29}],71:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var RI=function(atx){var gX=[];var aB=new IPCC.Web.UI.fZ();var dG=new IPCC.Web.UI.Data();var G=atx;var V=this;function QX(bn,T){V.bg('commentChanged',T);};this.IG=function(cj){cj.add_commentChanged(QX);gX.push(cj);var T=new IPCC.Web.UI.CommentEventArgs();T.comment=cj;T.length=1;T.index=gX.length-1;this.bg('commentAdded',T);};this.avN=function(cj){var Xb= -1;IPCC.K.forEach(gX,function(el,idx){if(el===cj){Xb=idx;}});if(Xb=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var ade=gX.splice(Xb,1)[0];ade.vU(QX);var T=new IPCC.Web.UI.CommentEventArgs();T.comment=ade;T.length=1;this.bg('commentRemoved',T);};this.jK=function(iA,dA){var C;for(C=0;C<gX.length;C++){iA.call(dA,gX[C],C,this);}};this.en=function(){return gX.length;};this.xd=function(L){aB.addHandler('commentAdded',L);};this.Eb=function(L){aB.removeHandler('commentAdded',L);};this.sN=function(L){aB.addHandler('commentChanged',L);};this.vU=function(L){aB.removeHandler('commentChanged',L);};this.vB=function(L){aB.addHandler('commentRemoved',L);};this.Ew=function(L){aB.removeHandler('commentRemoved',L);};this.yZ=function(){return dG;};this.PR=function(){return G;};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};return this;};RI.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.IG(comment);},removeCommentInstance:function(comment){this.avN(comment);},forEach:function(method,context){this.jK(method,context);},get_length:function(){return this.en();},add_commentAdded:function(handler){this.xd(handler);},remove_commentAdded:function(handler){this.Eb(handler);},add_commentChanged:function(handler){this.sN(handler);},remove_commentChanged:function(handler){this.vU(handler);},add_commentRemoved:function(handler){this.vB(handler);},remove_commentRemoved:function(handler){this.Ew(handler);},get_data:function(){return this.yZ();},get_mark:function(){return this.PR();}};RI.registerClass=cQ;RI.registerClass('IPCC.Web.UI.Conversation');module.exports=RI;},{"../../IPCC.Util":29}],72:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Rs=function(){this.dG={};this.yZ=function(key){if(typeof key==='undefined'){return IPCC.K.extend({},this.dG);}else if(typeof key==='string'){return this.dG[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aBt=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dG[key]=value;}else if(typeof value==='undefined'){delete this.dG[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.aEi=function(){var keys=[];IPCC.K.forEach(this.dG,function(value,key){keys.push(key);});return keys;};return this;};Rs.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.yZ(key);},set_data:function(key,value){return this.aBt(key,value);},get_dataKeys:function(){return this.aEi();}};Rs.registerClass=cQ;Rs.registerClass('IPCC.Web.UI.Data');module.exports=Rs;},{"../../IPCC.Util":29}],73:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var QB=function(){};QB.prototype={Production:0,Development:1,Detailed:2};QB.registerEnum=fl;QB.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=QB;},{"./../../IPCC.Util":29}],74:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var Rm=function(){};Rm.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Rm.registerEnum=fl;Rm.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Rm;},{"./../../IPCC.Util":29}],75:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var af=function(aCo){var bv=aCo;var alb=this.type=bv.type.toLowerCase();var LN=typeof bv.changedTouches!=='undefined';this.rawEvent=bv;this.altKey=bv.altKey;if(typeof(bv.button)!=='undefined'){this.button=(typeof(bv.which)!=='undefined')?bv.button:(bv.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bv.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(alb==='keypress'){this.charCode=bv.charCode||bv.keyCode;}else if(bv.keyCode&&(bv.keyCode===46)){this.keyCode=127;}else{this.keyCode=bv.keyCode;}this.clientX=(LN)?bv.changedTouches[0].clientX:bv.clientX;this.clientY=(LN)?bv.changedTouches[0].clientY:bv.clientY;this.ctrlKey=bv.ctrlKey;this.target=bv.target?bv.target:bv.srcElement;function arU(aO){var aY=0;var dc=0;while(aO&& !isNaN(aO.offsetLeft)&& !isNaN(aO.offsetTop)){aY+=aO.offsetLeft-aO.scrollLeft;dc+=aO.offsetTop-aO.scrollTop;if(aO.offsetparent){aO=aO.offsetParent;}else{aO=aO.parentNode;}}return{top:dc,left:aY};};var fD=""+alb;var ve='key';if(fD.substr(0,ve.length)!==ve){if((typeof(bv.offsetX)!=='undefined')&&(typeof(bv.offsetY)!=='undefined')){this.offsetX=bv.offsetX;this.offsetY=bv.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bv.clientX)==='number')){var GH=arU(this.target);var dZ=this.target;var hG=dZ.ownerDocument||dZ.document||dZ;var hQ=hG.defaultView||hG.parentWindow;this.offsetX=(hQ.pageXOffset||0)+bv.clientX-GH.left;this.offsetY=(hQ.pageYOffset||0)+bv.clientY-GH.top;}}this.screenX=(LN)?bv.changedTouches[0].screenX:bv.screenX;this.screenY=(LN)?bv.changedTouches[0].screenY:bv.screenY;this.shiftKey=bv.shiftKey;};af.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};af.registerClass=cQ;af.registerClass('IPCC.Web.UI.af');af.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.af.VI(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.lc.addHandlerCantBeUsedForError);}if(!element.aB){element.aB={};}var eventCache=element.aB[eventName];if(!eventCache){element.aB[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.af(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var dZ=doc.defaultView||doc.parentWindow;e=dZ.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.af(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.af.ane){element.dispose=IPCC.Web.UI.af.ane;if(typeof(d)!=="undefined"){element.aln=d;}}}};af.clearHandlers=function(element){IPCC.Web.UI.af.VI(element);IPCC.Web.UI.af.aip(element,false);};af.aip=function(element,autoRemoving){if(element.aB){var cache=element.aB;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.af.removeHandler(element,name,entry.handler);}}}}element.aB=null;}};af.ane=function(){IPCC.Web.UI.af.aip(this,true);var d=this.aln,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.aln=null;if(type==="function"){this.dispose();}}};af.removeHandler=function(element,eventName,handler){IPCC.Web.UI.af.cs(element,eventName,handler);};af.cs=function(element,eventName,handler){IPCC.Web.UI.af.VI(element);var browserHandler=null;if((typeof(element.aB)!=='object')|| !element.aB){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.aB[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.af.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};af.VI=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.lc.argumentDomNode);}};module.exports=af;},{"./../../IPCC.Util":29}],76:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var oW=function(){};oW.registerEnum=fl;oW.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};oW.registerEnum('IPCC.Web.UI.FitType',false);module.exports=oW;},{"../../IPCC.Util":29}],77:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var OM=function(){};OM.registerEnum=fl;OM.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};OM.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=OM;},{"../../IPCC.Util":29}],78:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var QK=function(){};QK.registerEnum=fl;QK.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};QK.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=QK;},{"../../IPCC.Util":29}],79:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var RD=function(){};RD.registerEnum=fl;RD.prototype={Left:0,Center:16,Right:32};RD.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=RD;},{"../../IPCC.Util":29}],80:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var PD=function(){};PD.registerEnum=fl;PD.prototype={None:0,ArtDataService:1};PD.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=PD;},{"./../../IPCC.Util":29}],81:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Cj=function(ag){var kQ='';var gV='';var V=this;this.cZ=new IPCC.Web.UI.ImGearPageCollection();this.MN=undefined;this.cZ.aP=this;var KU=false;this.rQ=undefined;var es=0;var KQ=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var aB=new IPCC.Web.UI.fZ();this.jE=IPCC.Web.FP.Yt(4,IPCC.Web.OK());this.qX=IPCC.Web.gn.HF.oc(this.jE);var zd=[];var mC=0;var mg=[];var Bx=[];var gP={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var WZ=false;this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){try{L(V,T);}catch(e){IPCC.ih.KJ('raise event error in ImGearDocument, error: '+e.message);IPCC.ih.mn(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Uq(bn,T){if(T.length>0){V.bg('pageAdded',T);}};function Um(bn,T){if(T.length>0){V.bg('pageRemoved',T);}};function JN(bn,T){V.bg('pageChanged',T);};this.cZ.add_pageAdded(Uq);this.cZ.add_pageRemoved(Um);this.cZ.add_pageChanged(JN);function apF(){function apN(jC,iK){var cK=jC+'() threw an exception ';if(iK.name){cK+='( '+iK.name+" ";}else{cK+=".";}if(iK.message){cK+="  exception message = "+iK.message;}if(iK.statusCode){cK+="  exception statusCode = "+iK.statusCode;}cK=cK.replace(/\n/g," ");IPCC.ih.mn(cK,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bz=apN;this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(V,T);}};};if(arguments.length===0){var cK="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cK);}if(arguments.length>0){if(ag.documentIdentifier!==undefined){kQ=ag.documentIdentifier;gV=IPCC.fU.sD(kQ);}if(ag.encodedDocumentIdentifier!==undefined){var vj=ag.encodedDocumentIdentifier;if(ag.documentIdentifier!==undefined){gV=IPCC.fU.sD(kQ);if(vj!==gV){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{kQ=IPCC.fU.HO(ag.encodedDocumentIdentifier);}}if(ag.imageServicePath!==undefined){this.rQ=ag.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var rC;if(ag.includeAllPages!==undefined){KU=ag.includeAllPages;if(KU===true){var awV=new apF();var YQ=0;V.bM=new IPCC.fU(gV,0,0,0,0,0);var qH=function(){es=V.bM.es;KQ=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;YQ<es;YQ++){var abL=new IPCC.Web.UI.ImGearPage({pageNumber:YQ,aP:V});abL.aP=V;V.cZ.addPage(abL);}};KQ=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bM.TX(this.rQ,awV,qH);}catch(e){KQ=IPCC.Web.UI.ImGearPageCountStatus.Failed;var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;V.bg('pageOpenFailed',bW);throw e;}}}else if(ag.pages!==undefined){if(ag.pages.length>0){var C=0;for(C=0;C<ag.pages.length;C++){var aH=ag.pages[C];aH.document=this;this.cZ.addPage(aH);}}}else if(ag.pageNumber!==undefined){if(ag.pageRangeCount!==undefined){var rm=ag.pageRangeCount;if(rm>0){var bu;for(bu=ag.pageNumber;bu<=rm;bu++){rC=new IPCC.Web.UI.ImGearPage(bu);rC.aP=V;this.cZ.addPage(rC);}}else if(rm===0){rC=new IPCC.Web.UI.ImgearPage({pageNumber:ag.pageNumber,aP:V});rC.aP=V;V.cZ.addPage(rC);}}else{if(ag.selected){rC=new IPCC.Web.UI.ImGearPage({pageNumber:ag.pageNumber,aP:V,selected:true});}else{rC=new IPCC.Web.UI.ImGearPage({pageNumber:ag.pageNumber,aP:V});}rC.aP=V;V.cZ.addPage(rC);}}}this.Kv=function(){return kQ;};this.OI=function(){return gV;};this.ajA=function(){return this.cZ;};this.aEG=function(){return es;};this.aDa=function(){return KQ;};this.aER=function(){return KU;};this.aAR=function(h){KU=h;this.cY('includeAllPages');};var ox=false;this.jh=function(){return ox;};this.lF=function(h){ox=h;};this.Hn=function(L){aB.addHandler('pageAdded',L);};this.GC=function(L){aB.removeHandler('pageAdded',L);};this.Hi=function(L){aB.addHandler('pageRemoved',L);};this.EU=function(L){aB.removeHandler('pageRemoved',L);};this.GS=function(L){aB.addHandler('pageOpenFailed',L);};this.EW=function(L){aB.removeHandler('pageOpenFailed',L);};this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.Ij=function(L){aB.addHandler('pageChanged',L);};this.Fz=function(L){aB.removeHandler('pageChanged',L);};this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};this.arO=function(L){aB.addHandler('textPagesReceived',L);};this.awj=function(L){aB.removeHandler('textPagesReceived',L);};this.aEx=function(){return Bx.length;};this.aCY=function(){return zd;};this.aDE=function(){return zd.length;};this.aDA=function(){return gP;};this.aDG=function(){return WZ;};this.aGe=function(h){WZ=h;};this.aqE=function(gd){if(gP.stopRequests===true){var T={};T.error=0;T.textPagesReceived=RF(gd);if(T.textPagesReceived.length===0){if(mC>0&&mC<gd){for(var bY=mC;bY<gd;bY++){T.textPagesReceived.push(bY);}}}T.length=2;V.bg('textPagesReceived',T);return;}var jA=true;var JH=false;for(var C=0;C<mC;C++){if(Array.prototype.indexOf){if(zd.indexOf(C)<0){jA=false;JH=true;break;}}else{if(IPCC.Web.kP(zd,C)<0){JH=true;break;}}}if(JH){V.OU(C,undefined,gd);}else if(mC<gd){for(var aV=0;aV<gd;aV++){if(Array.prototype.indexOf){if(mg.indexOf(aV)<0){jA=false;break;}}else{if(IPCC.Web.kP(mg,aV)<0){jA=false;break;}}}if(!jA){JH=true;V.OU(aV,undefined,gd);}else{V.OU(mC,undefined,gd);}}else{JH=false;}};function RF(gd){var Rh=[],bY;if(mg.length>0){var jA=true;for(bY=0;bY<gd;bY++){jA=true;if(Array.prototype.indexOf){if(mg.indexOf(bY)<0){jA=false;}}else{if(IPCC.Web.kP(mg,bY)<0){jA=false;}}if(!jA){mg.push(bY);Bx.push(bY);Rh.push(bY);}}}else{for(bY=0;bY<gd;bY++){mg.push(bY);Bx.push(bY);Rh.push(bY);}}return Rh;};this.OU=function(ael,ajH,gd){WZ=true;var bQ;if(!isNaN(ael)){bQ=ael;}else{bQ=0;}var Be;if(!isNaN(gd)){Be=gd;}var dz;if(!isNaN(ajH)){dz=ajH;}else if(!isNaN(Be)){dz=Be-1;}else{Be=gd;if(!isNaN(Be)){dz=Be-1;}}if(isNaN(dz)){dz=bQ+1;}if(dz-bQ>9){dz=bQ+9;}function KW(bF){var SI=mC;var Xm=[];var jA=true;var aE;for(var bI=0;bI<bF.pages.length;bI++){if(Array.prototype.indexOf){if(zd.indexOf(bF.pages[bI].number)<0){jA=false;}}else{if(IPCC.Web.kP(zd,bF.pages[bI].number)<0){jA=false;}}if(!jA){zd.push(bF.pages[bI].number);if(V.cZ.iJ(bF.pages[bI].number).cF().xm()===false){aE=V.cZ.iJ(bF.pages[bI].number);aE.aew(bF.pages[bI]);aE.abt(bF.pages[bI]);aE.abx(bF.pages[bI].markup,bF.pages[bI].height,bF.pages[bI].width);}mC++;Xm.push(bF.pages[bI].number);mg.push(bF.pages[bI].number);if(!bF.pages[bI].text){Bx.push(bF.pages[bI].number);}}}var T={};if(bF.hasOwnProperty("errorCode")){T.error=0;V.pageExtractionFailed=true;T.textPagesReceived=Xm;T.length=2;for(var Af=gP.startPage;Af<gP.lastPage+1;Af++){jA=true;if(Array.prototype.indexOf){if(mg.indexOf(Af)<0){jA=false;}}else{if(IPCC.Web.kP(mg,Af)<0){jA=false;}}if(!jA){mg.push(Af);Bx.push(Af);T.textPagesReceived.push(Af);}}V.bg('textPagesReceived',T);gP.stopRequests=true;return;}if(mC>SI){T.textPagesReceived=Xm;T.length=2;T.error=0;}var rn=gP.lastTimeout;if(gP.startPage===bQ&&gP.lastPage===dz&&mC===SI){if(gP.requestCount<25){rn=rn+1000;gP.requestCount++;}else{T.error=0;T.textPagesReceived=[];T.length=2;jA=true;var bY;for(bY=gP.startPage;bY<gP.lastPage+1;bY++){jA=true;if(Array.prototype.indexOf){if(mg.indexOf(bY)<0){jA=false;}}else{if(IPCC.Web.kP(mg,bY)<0){jA=false;}}if(!jA){mg.push(bY);Bx.push(bY);T.textPagesReceived.push(bY);}}if(T.textPagesReceived.length===0){if(mC>0&&mC<gd){for(bY=mC;bY<gd;bY++){T.textPagesReceived.push(bY);}}}gP.stopRequests=true;V.bg('textPagesReceived',T);return;}}else{rn=1000;gP.requestCount=0;}gP.lastTimeout=rn;gP.startPage=bQ;gP.lastPage=dz;setTimeout(function(){V.aqE(gd);},rn);if(mC>SI){V.bg('textPagesReceived',T);}};function dS(aI){var T={},fp,ah;try{var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");if(pr==='true'){var uk=IPCC.Web.gn.qL.vb(aI.getResponseHeader("Accusoft-Data-SK"));var al=IPCC.Web.GU(uk,V.jE);var fG=IPCC.Web.HH(aI);var uF=IPCC.Web.DZ(fG,al,V.jE);fp=IPCC.Web.gn.Kd.oc(uF);}else{fp=aI.responseText;}if(typeof JSON!=='undefined'){ah=JSON.parse(fp);}else{ah=IPCC.dN.qb(fp);}KW(ah);}catch(e){T.error= -1;RF(gd);T.textPagesReceived=[];T.length=2;V.bg('textPagesReceived',T);return;}};function ew(ah){var T={},hc;try{hc=ah.response.status;if(ah.response.responseText){if(typeof JSON!=='undefined'){ah=JSON.parse(ah.response.responseText);}else{ah=IPCC.dN.qb(ah.response.responseText);}if(ah.hasOwnProperty("errorCode")){T.error=0;if(mC>0){if(ah.pages){if(ah.pages.length>0){KW(ah);return;}}}else{T.error= -1;}if(mg.length===0){T.error= -1;}V.pageExtractionFailed=true;T.textPagesReceived=[];T.length=2;T.textPagesReceived=RF(gd);V.bg('textPagesReceived',T);return;}else{throw new IPCC.Web.UI.ImGearHttpException(hc,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(hc,"Unable to obtain text");}}catch(e){T.error= -1;RF(gd);T.textPagesReceived=[];T.length=2;V.bg('textPagesReceived',T);return;}};var je=kQ;var gi=V.rQ;if(!(/^[\x00-\x7F]*$/.test(je))){je='e'+gV;}else{je='u'+je;}var bw;if(V.jh()){bw=gi+'/Document/q/'+bQ.toString()+'-'+dz.toString()+'/Text?DocumentID='+je+'&iv='+V.qX;}else{bw=gi+'/Document/q/'+bQ.toString()+'-'+dz.toString()+'/Text?DocumentID='+je;}IPCC.K.nv.fK({method:'GET',url:bw,headers:{'accept':'application/json'}}).then(dS,ew);};return this;};Cj.encodeDocumentIdentifier=function(kQ){var gV;if(kQ!==undefined){gV=IPCC.fU.sD(kQ);}return gV;};Cj.decodeDocumentIdentifier=function(gV){var akV;if(gV!==undefined){akV=IPCC.fU.HO(gV);}return akV;};Cj.prototype={get_documentIdentifier:function(){var bp=this.Kv();return bp;},get_encodedDocumentIdentifier:function(){var bp=this.OI();return bp;},get_pages:function(){return this.ajA();},get_pageCountStatus:function(){var r=this.aDa();return r;},set_pageCountStatus:function(value){this.aHe(value);},get_pageCount:function(){var r=this.aEG();return r;},get_includeAllPages:function(){try{var bp=this.aER();return bp;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aAR(value);}catch(e){throw e;}},get_encryption:function(){var bp=this.jh();return bp;},set_encryption:function(value){this.lF(value);},add_pageChanged:function(handler){this.Ij(handler);},remove_pageChanged:function(handler){this.Fz(handler);},add_pageRemoved:function(handler){this.Hi(handler);},remove_pageRemoved:function(handler){this.EU(handler);},add_pageAdded:function(handler){this.Hn(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageOpenFailed:function(handler){this.GS(handler);},remove_pageOpenFailed:function(handler){this.EW(handler);},get_textRequestInfo:function(){try{var bp=this.aDA();return bp;}catch(e){throw e;}},get_pagesWithText:function(){try{var bp=this.aCY();return bp;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bp=this.aDE();return bp;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bp=this.aEx();return bp;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.arO(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.awj(handler);}catch(e){this.bz('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.kH(handler);},remove_propertyChanged:function(handler){this.ml(handler);}};Cj.registerClass=cQ;Cj.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Cj;},{"./../../IPCC.Util":29}],82:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Qp=function(){var lm=[];var aB=new IPCC.Web.UI.fZ();var V=this;function atd(bn,T){if(T){var Oa=new IPCC.Web.UI.ImGearDocumentEventArgs();Oa.document=bn;Oa.propertyName=T.get_propertyName();Oa.length=2;V.bg('documentChanged',Oa);}};this.YI=function(aBZ){this.agF(lm.length,aBZ);};this.agF=function(ba,aP){var aV;var dv=lm.length;if(ba>lm.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'document index is out of range');}for(aV=0;aV<dv;aV++){if(lm[aV]===aP){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ait=aB.getHandler('pageAdded');if(ait){aP.add_pageAdded(ait);}var ahP=aB.getHandler('pageRemoved');if(ahP){aP.add_pageRemoved(ahP);}var ail=aB.getHandler('pageChanged');if(ail){aP.add_pageChanged(ail);}aP.add_propertyChanged(atd);lm.splice(ba,0,aP);var T=new IPCC.Web.UI.ImGearDocumentEventArgs();T.imGearDocument=aP;T.index=ba;T.length=1;this.bg('documentAdded',T);};function kg(ba){if(ba>lm.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'document index is out of range');}};this.Pn=function(ba){kg(ba);return lm[ba];};this.en=function(){return lm.length;};this.aGN=function(iA,dA){var afC=[].concat(lm);var C;for(C=0;C<afC.length;C++){iA.call(dA,afC[C],C,this);}};this.acn=function(ba){kg(ba);var T=new IPCC.Web.UI.ImGearDocumentEventArgs();T.imGearDocument=lm[ba];T.length=1;lm[ba].get_pages().removeAllPages();lm.splice(ba,1);this.bg('documentRemoved',T);};this.awf=function(){var C=0;while(lm.length>0){this.acn(C);}};this.auh=function(L){aB.addHandler('documentAdded',L);};this.avJ=function(L){aB.removeHandler('documentAdded',L);};this.asR=function(L){aB.addHandler('documentRemoved',L);};this.awc=function(L){aB.removeHandler('documentRemoved',L);};this.ata=function(L){aB.addHandler('documentChanged',L);};this.avC=function(L){aB.removeHandler('documentChanged',L);};this.Hn=function(L){aB.addHandler('pageAdded',L);};this.GC=function(L){aB.removeHandler('pageAdded',L);for(var aV=0;aV<lm.length;aV++){lm[aV].remove_pageAdded(L);}};this.Ij=function(L){aB.addHandler('pageChanged',L);};this.Fz=function(L){aB.removeHandler('pageChanged',L);for(var aV=0;aV<lm.length;aV++){lm[aV].remove_pageChanged(L);}};this.Hi=function(L){aB.addHandler('pageRemoved',L);};this.EU=function(L){aB.removeHandler('pageRemoved',L);for(var aV=0;aV<lm.length;aV++){lm[aV].remove_pageRemoved(L);}};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){try{L(V,T);}catch(e){IPCC.ih.KJ('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};Qp.prototype={addDocument:function(imGearDocument){this.YI(imGearDocument);},insertDocument:function(index,imGearDocument){this.agF(index,imGearDocument);},forEach:function(method,context){this.jK(method,context);},getDocument:function(index){return this.Pn(index);},get_length:function(){return this.en();},removeDocument:function(imGearDocument){this.acn(imGearDocument);},removeAllDocuments:function(){this.awf();},add_documentAdded:function(handler){this.auh(handler);},remove_documentAdded:function(handler){this.avJ(handler);},add_documentRemoved:function(handler){this.asR(handler);},remove_documentRemoved:function(handler){this.awc(handler);},add_documentChanged:function(handler){this.ata(handler);},remove_documentChanged:function(handler){this.avC(handler);},add_pageAdded:function(handler){this.Hn(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageRemoved:function(handler){this.Hi(handler);},remove_pageRemoved:function(handler){this.EU(handler);},add_pageChanged:function(handler){this.Ij(handler);},remove_pageChanged:function(handler){this.Fz(handler);}};Qp.registerClass=cQ;Qp.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=Qp;},{"./../../IPCC.Util":29}],83:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var OH=function(){return this;};OH.registerClass=cQ;OH.prototype={};OH.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=OH;},{"./../../IPCC.Util":29}],84:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Oy=function(){return this;};Oy.registerClass=cQ;Oy.prototype={};Oy.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=Oy;},{"./../../IPCC.Util":29}],85:[function(require,module,exports){var avE=function(kX){var aY=0,dc=0,bd=0,bU=0,kY=kX.href||"",apl=kX.borderStyle||"Solid",np=kX.borderThickness||0,AH=kX.borderPattern||[1],Kb=kX.borderHorizontalRadius||0,Kg=kX.borderHorizontalRadius||0,oV=kX.borderColor||"#0000FF",qK=kX.borderOpacity||255,R,G;if(typeof qK==='string'){qK=parseInt(qK,10);}if(kX.rectangle){aY=kX.rectangle.x;dc=kX.rectangle.y;bd=kX.rectangle.width;bU=kX.rectangle.height;}R=new IPCC.Web.UI.Rectangle(aY,dc,bd,bU);this.eB=function(){var XH=new IPCC.Web.UI.Rectangle(R.x,R.y,R.width,R.height);return XH;};this.Dk=function(mY){R.x=mY.x;R.y=mY.y;R.width=mY.width;R.height=mY.height;};this.ain=function(){return kY;};this.aGf=function(){return apl;};this.aGH=function(){return np;};this.aFu=function(){return AH;};this.aFI=function(){return Kb;};this.aGi=function(){return Kg;};this.aDn=function(){return oV;};this.aFo=function(){return qK;};this.PR=function(){return G;};this.aBR=function(azO){G=azO;};this.aAx=function(){return IPCC.K.ahz(kY);};};module.exports=avE;},{}],86:[function(require,module,exports){var fZ=function fZ(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.FI={};};fZ.prototype.cn=function(dE,L){var cS=this.YG(dE,true);cS[cS.length]=L;};fZ.prototype.addHandler=function(dE,L){this.cn(dE,L);};fZ.prototype.cs=function(dE,L){var sG=this.YG(dE);if(!sG){return;}var ba=IPCC.Xk(sG,L);if(ba>=0){sG.splice(ba,1);}};fZ.prototype.removeHandler=function(dE,L){this.cs(dE,L);};fZ.prototype.getHandler=function(dE){var sG=this.YG(dE);if(!sG||(sG.length===0)){return null;}var cS=sG.slice();sG=cS;return function(source,args){for(var C=0,qi=sG.length;C<qi;C++){sG[C](source,args);}};};fZ.prototype.YG=function(dE,anB){if(!this.FI[dE]){if(!anB){return null;}this.FI[dE]=[];}return this.FI[dE];};module.exports=fZ;},{}],87:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Bc=function(message,errorInfo){this.message=message;var V=this;if(errorInfo){for(var VD in errorInfo){if(errorInfo.hasOwnProperty(VD)){V[VD]=errorInfo[VD];}}}};Bc.prototype=new Error();Bc.registerClass=cQ;Bc.registerClass('IPCC.Web.UI.ImGearException');var BU=function(statusCode,message,customErrorCode){var ga="IPCC.Web.UI.ImGearHttpException: ";if(message){ga+=message;}this.message=ga;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};BU.prototype=new Error();BU.registerClass=cQ;BU.registerClass('IPCC.Web.UI.ImGearHttpException');var uY=function(paramName,message){var ga="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.lc.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ga+="\n"+IPCC.Web.xp(IPCC.lc.paramName,paramName);}}this.message=ga;this.paramName=paramName;};uY.prototype=new Error();uY.registerClass=cQ;uY.registerClass('IPCC.Web.UI.ImGearArgumentException');var Cl=function(paramName,message){var ga="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.lc.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ga+="\n"+IPCC.Web.xp(IPCC.Res.paramName,paramName);}}this.message=ga;this.paramName=paramName;};Cl.prototype=new Error();Cl.registerClass=cQ;Cl.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var rF=function(paramName,actualValue,message){var ga="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.lc.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ga+="\n"+IPCC.Web.xp(IPCC.lc.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){ga+="\n"+IPCC.Web.xp(IPCC.lc.actualValue,actualValue);}this.message=ga;this.paramName=paramName;this.actualValue=actualValue;};rF.prototype=new Error();rF.registerClass=cQ;rF.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var zm=function(paramName,actualType,expectedType,message){var ga="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){ga+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){ga+=IPCC.Web.xp(IPCC.lc.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{ga+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{ga+=IPCC.lc.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ga+="\n"+IPCC.Web.xp(IPCC.lc.paramName,paramName);}}this.message=ga;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};zm.prototype=new Error();zm.registerClass=cQ;zm.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var CA=function(paramName,message){var ga="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.lc.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){ga+="\n"+IPCC.Web.xp(IPCC.Res.paramName,paramName);}}this.message=ga;this.paramName=paramName;};CA.prototype=new Error();CA.registerClass=cQ;CA.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Ee=function(message){var ga="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.lc.invalidOperation);this.message=ga;};Ee.prototype=new Error();Ee.registerClass=cQ;Ee.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Db=function(message){var ga="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.lc.notImplemented);this.message=ga;};Db.prototype=new Error();Db.registerClass=cQ;Db.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Dv=function(message){var ga="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.lc.parameterCount);this.message=ga;};Dv.prototype=new Error();Dv.registerClass=cQ;Dv.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={Bc:Bc,BU:BU,uY:uY,Cl:Cl,rF:rF,zm:zm,CA:CA,Ee:Ee,Db:Db,Dv:Dv};},{"./../../IPCC.Util":29}],88:[function(require,module,exports){var awm=function(){var GE=[];this.asK=function(awq){GE.push(awq);};this.dQ=function(){return GE.length;};this.jK=function(iA,dA){IPCC.K.forEach(GE,iA,dA);};this.awO=function(){if(GE.length<1){return;}GE=[];};return this;};module.exports=awm;},{}],89:[function(require,module,exports){var avF=function(){var ER=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Jz=function(){return ER;};};module.exports=avF;},{}],90:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Lz=function(ag){this.aP=undefined;var aw=0;var bV=0,abe=0,aby=0;var aK=0,alO=0,amZ=0;var V=this;var aB=new IPCC.Web.UI.fZ();this.aHv=undefined;this.gP={pZ:0,afB:false,sH:1000,NK:false};var eH=new IPCC.Web.UI.ImGearTextPage();var Sf=new IPCC.Web.UI.ImGearHyperlinkPage();var jW=0;var ox=false;var Cs=false,GF=0,Fu=0;function afZ(o){return!isNaN(o-0);};if(ag.pageNumber!==undefined){if(afZ(ag.pageNumber)){aw=ag.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.nJ=function(){return aw;};this.aHk=function(h){if(afZ(ag.pageNumber)){aw=h;}};this.kq=function(){return bV;};function afQ(){if(!eH){eH=new IPCC.Web.UI.ImGearTextPage();}var atm=eH.hJ();var pE=bV/GF,pg=aK/Fu;atm.aDx(pE,pg);};function ahx(){var ER=Sf.Jz();var pE=bV/GF,pg=aK/Fu;ER.jK(function(hU){hU.Dk(hU.eB().scale(pE,pg));var aiS=hU.PR();aiS.set_rectangle(aiS.get_rectangle().scale(pE,pg));});};this.MT=function(h){bV=h;if(Cs&&bV&&bV!==GF&&aK&&aK!==Fu){afQ();ahx();Cs=false;}};this.ig=function(){return aK;};this.Oh=function(h){aK=h;if(Cs&&bV&&bV!==GF&&aK&&aK!==Fu){afQ();ahx();Cs=false;}};this.aji=function(){return abe;};this.adU=function(h){abe=h;};this.aGa=function(){return alO;};this.aeb=function(h){alO=h;};this.aEX=function(){return aby;};this.aGX=function(h){aby=h;};this.aET=function(){return amZ;};this.aHr=function(h){amZ=h;};this.aDw=function(){return this.aP;};this.cF=function(){if(!eH){eH=new IPCC.Web.UI.ImGearTextPage();}return eH;};this.jJ=function(){return jW;};this.wi=function(h){if(jW===h){return;}if(isNaN(h)){return;}jW=h;this.cY('serviceResponseTimeout');};this.jh=function(){return ox;};this.lF=function(h){ox=h;};this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.AP=function(L){aB.addHandler('textPageReady',L);};this.CP=function(L){aB.removeHandler('textPageReady',L);};this.ajk=function(){return Sf;};this.Wj=function(L){aB.addHandler('hyperlinkPageReady',L);};this.acI=function(L){aB.removeHandler('hyperlinkPageReady',L);};this.Aw=function(L){aB.cn('textExtractionFailed',L);};this.Bn=function(L){aB.cs('textExtractionFailed',L);};this.aew=function(gK){if(bV===0&&aK===0){Cs=true;GF=gK.width;Fu=gK.height;}};this.abt=function(gK){if(!eH){eH=new IPCC.Web.UI.ImGearTextPage();}if(eH.hJ().en()>0){return;}else if(gK.errorCode){var oS=new IPCC.Web.UI.ImGearException(gK.errorDescription,{name:'Text Extraction'});var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=oS;bW.pageNumber=V.get_pageNumber();V.bg('textExtractionFailed',bW);return;}var ave=eH.hJ();var LL=false;var adj;function Kw(UK){return UK;};var pg=1;var pE=1;if(gK.height&&gK.height>0&&aK>0){if(gK.height!==aK){pg=aK/gK.height;}}if(gK.width&&gK.width>0&&bV>0){if(gK.width!==bV){pE=bV/gK.width;}}var iI;var acc= -1;var LD;var hK,zP;for(var C=0;C<gK.rectangles.length;C++){hK=gK.rectangles[C];zP=Kw(gK.text[C]);LL=false;if(hK[2]===0){zP="\n";LL=true;if(C>0){adj=gK.rectangles[C-1];hK[2]=adj[2];}}if(pE===1&&pg===1){LD=new IPCC.Web.UI.ImGearTextCharacter(hK[0],hK[1],hK[2],hK[3],zP,LL);}else{LD=new IPCC.Web.UI.ImGearTextCharacter(hK[0]*pE,hK[1]*pg,hK[2]*pE,hK[3]*pg,zP,LL);}if(LD){ave.arv(LD);}if(iI===undefined||acc!==hK[1]||hK[0]<iI.eB().x){if(iI){eH.abj().ajI(iI);}iI=new IPCC.Web.UI.ImGearTextSection();iI.Dk(new IPCC.Web.UI.Rectangle(hK[0],hK[1],hK[2],hK[3]));iI.aCh(C);}else{if(hK[0]+hK[2]-iI.eB().x>iI.eB().width){iI.eB().width=hK[0]+hK[2]-iI.eB().x;}}iI.aAE(C);acc=hK[1];}if(iI){eH.abj().ajI(iI);}eH.aCw(gK.text);if(gK.text.length>0){eH.Pa(true);V.bg('textPageReady',{pageNumber:V.nJ(),containsText:true});}else{eH.Pa(false);V.bg('textPageReady',{pageNumber:V.nJ(),containsText:false});}};this.abx=function(amv,NA,NH){if(!amv){return;}Sf.Jz().awO();var pg=1;var pE=1;if(NA&&NA>0&&aK>0){if(NA!==aK){pg=aK/NA;}}if(NH&&NH>0&&bV>0){if(NH!==bV){pE=bV/NH;}}IPCC.K.forEach(amv,function(amg){var hU;switch(amg.markType){case "DocumentHyperlink":hU=new IPCC.Web.UI.ImGearDocumentHyperlink(amg.properties);hU.Dk(hU.eB().scale(pE,pg));if(!hU.aAx()){Sf.Jz().asK(hU);}break;default:break;}});V.bg('hyperlinkPageReady',{pageNumber:V.nJ()});};this.avW=function(){V.yQ();};this.yQ=function(){if(!eH){eH=new IPCC.Web.UI.ImGearTextPage();}if(!V.aP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(eH.xm()){return;}var aai=true;if(V.jJ()===0){aai=false;}function KW(bF){if(bF.pages){var bi;if(bF.pages.length>0){if(bF.pages[0].number!==V.nJ()){for(var C=0;C<bF.pages.length;C++){if(bF.pages[C].number===V.nJ()){bi=C;break;}}if(!bi){V.gP.NK=false;return;}}else{bi=0;}var gK=bF.pages[bi];V.gP.NK=true;if(bF.pages[bi].text&&bF.pages[bi].text.length>0){eH.Pa(true);}else{eH.Pa(false);}V.gP.sH=1000;V.aew(gK);V.abt(gK);V.abx(gK.markup,gK.height,gK.width);return;}}var rn=V.gP.sH;if(!V.gP.NK){if(V.gP.pZ<6){if(V.gP.pZ<2){rn=rn+1000;}else{rn=rn+3000;}V.gP.pZ++;V.gP.sH=rn;setTimeout(V.avW,rn);}else{V.gP.afB=true;}}};function dS(aI){var jE=V.aP.jE,ah;try{var fp;var pr=aI.getResponseHeader("Accusoft-Data-Encrypted");if(pr==='true'){var uk=IPCC.Web.gn.qL.vb(aI.getResponseHeader("Accusoft-Data-SK"));var al=IPCC.Web.GU(uk,jE);var fG=IPCC.Web.HH(aI);var uF=IPCC.Web.DZ(fG,al,jE);fp=IPCC.Web.gn.Kd.oc(uF);}else{fp=aI.responseText;}if(typeof JSON!=='undefined'){ah=JSON.parse(fp);}else{ah=IPCC.dN.qb(fp);}KW(ah);}catch(e){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=V.get_pageNumber();V.bg('textExtractionFailed',bW);return;}};function ew(ah){try{if(!ah.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(ah.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Unable to obtain text, Error from the service = "+ah.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(ah.response.status,"Unable to obtain text from the service");}}}catch(e){var bW=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();bW.exception=e;bW.pageNumber=V.get_pageNumber();V.bg('textExtractionFailed',bW);return;}};var bQ=V.get_pageNumber();var je=V.aP.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(je))){je='e'+V.aP.get_encodedDocumentIdentifier();}else{je='u'+encodeURIComponent(je);}var gi=V.aP.rQ;var qX=V.aP.qX;var bw;if(V.jh()){bw=gi+'/Document/q/'+bQ.toString()+'-'+bQ.toString()+'/Text?DocumentID='+je+'&iv='+qX;}else{bw=gi+'/Document/q/'+bQ.toString()+'-'+bQ.toString()+'/Text?DocumentID='+je;}var gl={method:'GET',url:bw,headers:{'accept':'application/json'}};if(aai===true){gl.timeout=V.jJ();}IPCC.K.nv.fK(gl).then(dS,ew);};this.cF=function(){if(!eH){eH=new IPCC.Web.UI.ImGearTextPage();}return eH;};this.aFf=function(h){if(typeof h.nu!=='function'){return;}eH=h;};this.alZ=function(){eH=undefined;V.gP={pZ:0,afB:false,sH:1000,NK:false};Cs=false;GF=0;Fu=0;};this.MZ=function(AR,zc){var V=this;function dS(aI){var ah;if(typeof JSON!=='undefined'){ah=JSON.parse(aI.responseText);}else{ah=IPCC.dN.qb(aI.responseText);}if(ah.imageWidth&&ah.imageHeight){V.MT(ah.imageWidth);V.Oh(ah.imageHeight);AR(ah.imageWidth,ah.imageHeight);}else{zc("Unable to obtain document information from the server");}};function ew(ah){zc("Unable to obtain document information from the server");};if(V.kq()>0||V.ig()>0){AR(V.kq(),V.ig());}else{var sL=IPCC.fU.sD(V.aP.get_documentIdentifier());if(!sL||sL===""){zc("Invalid encoded Identifier");}var un='';if(!IPCC.vA.Kj()){un='&ContentType=png';}var bw;if(!(/^[\x00-\x7F]*$/.test(sL))){bw=V.aP.rQ+'/Page/q/'+(V.get_pageNumber())+'/Attributes?DocumentID=e'+sL+un;}else{bw=V.aP.rQ+'/Page/q/'+(V.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(V.aP.get_documentIdentifier())+un;}IPCC.K.nv.fK({method:'GET',url:bw,headers:{'Content-Type':'application/json'}}).then(dS,ew);}};this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){try{L(V,T);}catch(e){IPCC.ih.KJ('event raise, ImGearPage, error: '+e.message);}}};return this;};Lz.prototype={get_pageNumber:function(){var bp=this.nJ();return bp;},get_pageWidth:function(){var bp=this.kq();return bp;},get_pageHeight:function(){var bp=this.ig();return bp;},get_textPage:function(){var bp=this.cF();return bp;},get_encryption:function(){var bp=this.jh();return bp;},set_encryption:function(value){this.lF(value);},get_hyperlinkPage:function(){return this.ajk();},get_document:function(){var bp=this.aDw();return bp;},add_propertyChanged:function(handler){this.kH(handler);},remove_propertyChanged:function(handler){this.ml(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.MZ(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Lz.registerClass=cQ;Lz.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Lz;},{"./../../IPCC.Util":29}],91:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Mg=function(){var V=this;var cZ=[];var aB=new IPCC.Web.UI.fZ();this.aCr=false;this.aBT=true;this.aP=undefined;this.akn=function(bI){this.aeY(cZ.length,bI);};function kg(ba){if(ba>cZ.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'page index is out of range in the page collection');}};this.aeY=function(ba,bI){var aV;var dv=cZ.length;if(ba>cZ.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'index of the page Collection is out of range');}if(V.aBT&&V.aCr){if(dv>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aV=0;aV<dv;aV++){if(cZ[aV]===bI){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(V.aP){if(!bI.aP){bI.aP=V.aP;}}bI.add_propertyChanged(JN);cZ.splice(ba,0,bI);var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=bI;T.length=1;V.bg('pageAdded',T);};this.iJ=function(ba){kg(ba);var fo=cZ[ba];return fo;};this.aCm=function(ba,bI){kg(ba);var Sv=cZ[ba];if(Sv===bI){return;}cZ[ba]=bI;var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=bI;T.length=1;this.bg('pageAdded',T);Sv.remove_propertyChanged(JN);var zU=new IPCC.Web.UI.ImGearPageEventArgs();zU.imGearPage=Sv;zU.length=1;this.bg('pageRemoved',zU);};this.en=function(){return cZ.length;};this.jK=function(iA,dA){var afA=[].concat(cZ);var C;for(C=0;C<afA.length;C++){iA.call(dA,afA[C],C,this);}};this.acE=function(ba){kg(ba);var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=cZ[ba];cZ[ba].remove_propertyChanged(JN);T.length=1;cZ.splice(ba,1);V.bg('pageRemoved',T);};this.aGO=function(bI){var dQ=cZ.length;for(var C=0;C<dQ;C++){if(bI===cZ[C]){return C;}}return-1;};this.awB=function(){var C=0;while(cZ.length>0){this.acE(C);}};function JN(bn,T){var zU=new IPCC.Web.UI.ImGearPageEventArgs();zU.imGearPage=bn;zU.length=1;V.bg('pageChanged',zU);};this.Hn=function(L){aB.addHandler('pageAdded',L);};this.GC=function(L){aB.removeHandler('pageAdded',L);};this.Ij=function(L){aB.addHandler('pageChanged',L);};this.Fz=function(L){aB.removeHandler('pageChanged',L);};this.Hi=function(L){aB.addHandler('pageRemoved',L);};this.EU=function(L){aB.removeHandler('pageRemoved',L);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){try{L(V,T);}catch(e){IPCC.ih.KJ('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Mg.prototype={addPage:function(page){this.akn(page);},insertPage:function(index,page){this.aeY(index,page);},forEach:function(method,context){this.jK(method,context);},getPage:function(index){return this.iJ(index);},setPage:function(index,page){this.aCm(index,page);},get_length:function(){return this.en();},removePage:function(index){this.acE(index);},removeAllPages:function(){this.awB();},add_pageAdded:function(handler){this.Hn(handler);},remove_pageAdded:function(handler){this.GC(handler);},add_pageChanged:function(handler){this.Ij(handler);},remove_pageChanged:function(handler){this.Fz(handler);},add_pageRemoved:function(handler){this.Hi(handler);},remove_pageRemoved:function(handler){this.EU(handler);}};Mg.registerClass=cQ;Mg.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Mg;},{"./../../IPCC.Util":29}],92:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var IV=function(){};IV.registerEnum=fl;IV.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IV.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=IV;},{"./../../IPCC.Util":29}],93:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var LA=function(){};LA.registerClass=cQ;LA.prototype={};LA.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=LA;},{"./../../IPCC.Util":29}],94:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var KO=function(){return this;};KO.prototype={};KO.registerClass=cQ;KO.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=KO;},{"./../../IPCC.Util":29}],95:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var KS=function(){return this;};KS.registerClass=cQ;KS.prototype={};KS.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=KS;},{"../../IPCC.Util":29}],96:[function(require,module,exports){var awL=function(aY,dc,bd,bU,zP,azT){this.bh=new IPCC.Web.UI.Rectangle(aY,dc,bd,bU);this.ly=zP;this.Gk=azT;this.aDg=function(){return zP;};this.vq=function(){var XH=new IPCC.Web.UI.Rectangle(this.bh.x,this.bh.y,this.bh.width,this.bh.height);return XH;};this.aFB=function(){return this.Gk;};};module.exports=awL;},{}],97:[function(require,module,exports){var avX=function(){var iZ=[];this.arv=function(kG){iZ.push(new IPCC.Web.UI.ImGearTextCharacter(kG.bh.x,kG.bh.y,kG.bh.width,kG.bh.height,kG.ly,kG.Gk));};this.aGW=function(auX){function nN(kG){iZ.push(kG);};auX.forEach(nN,{});};this.avv=function(){var acL=[];for(var aV=0;aV<this.en();aV++){var Sg=this.ln(aV).bh;var R=[];R.push(Sg.x);R.push(Sg.y);R.push(Sg.width);R.push(Sg.height);acL.push(R);}return acL;};this.aIB=function(ba,aeP){var aV;var dv=iZ.length;if(ba>iZ.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'index of theText Character Collection is out of range');}for(aV=0;aV<dv;aV++){if(iZ[aV]===aeP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bF Character instance in a kG collection).');}}iZ.splice(ba,0,aeP);};this.aDx=function(acD,acb){IPCC.K.forEach(iZ,function(ly){ly.bh.width=ly.bh.width*acD;ly.bh.height=ly.bh.height*acb;ly.bh.x=ly.bh.x*acD;ly.bh.y=ly.bh.y*acb;});};this.jK=function(iA,dA){var XM=[].concat(iZ);var C;for(C=0;C<XM.length;C++){iA.call(dA,new IPCC.Web.UI.ImGearTextCharacter(XM[C].x,XM[C].y),C,this);}};function kg(ba){if(ba>iZ.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.ln=function(ba){kg(ba);var qo=iZ[ba];return new IPCC.Web.UI.ImGearTextCharacter(qo.bh.x,qo.bh.y,qo.bh.width,qo.bh.height,qo.ly,qo.Gk);};this.aGs=function(ba,kG){kg(ba);var BL=iZ[ba];if(BL.bh.x===kG.bh.x&&BL.bh.y===kG.y&&BL.bh.width===kG.bh.width&&BL.bh.height===kG.bh.height&&BL.ly===kG.ly&&BL.Gk===kG.Gk){return;}iZ[ba]=kG;};this.en=function(){return iZ.length;};this.aID=function(ba){kg(ba);iZ.splice(ba,1);};this.aIs=function(){if(iZ.length<1){return;}iZ=[];};return this;};module.exports=avX;},{}],98:[function(require,module,exports){var awd=function(){var atr=new IPCC.Web.UI.ImGearTextCharacterCollection();var aar=false;var adX=false;var Xi="";var tK=new IPCC.Web.UI.ImGearTextSectionCollection();var YE=false;this.hJ=function(){return atr;};this.nu=function(){return aar;};this.Pa=function(h){adX=true;if(h===aar){return;}if((h===true)||(h===false)){aar=h;}};this.xm=function(){return adX;};this.CR=function(){return Xi;};this.aCw=function(h){if(h===Xi){return;}Xi=h;};this.abj=function(){return tK;};this.aCT=function(){return YE;};this.aev=function(h){if(h===YE){return;}if((h===true)||(h===false)){YE=h;}};};module.exports=awd;},{}],99:[function(require,module,exports){var awR=function(){var R=null;var bQ=0;var dz=0;this.eB=function(){return R;};this.Dk=function(h){R=h;};this.ajj=function(){return bQ;};this.aCh=function(h){bQ=h;};this.ahK=function(){return dz;};this.aAE=function(h){dz=h;};};module.exports=awR;},{}],100:[function(require,module,exports){var awy=function(){var tK=[];this.ajI=function(iI){tK.push(iI);};function kg(ba){if(ba>tK.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.awP=function(ba){kg(ba);return tK[ba];};this.en=function(){return tK.length;};return this;};module.exports=awy;},{}],101:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var KF=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};KF.registerEnum=fl;KF.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};KF.registerEnum("IPCC.Web.UI.Key");module.exports=KF;},{"./../../IPCC.Util":29}],102:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Nt=function(){};Nt.registerEnum=fl;Nt.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Nt.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Nt;},{"../../IPCC.Util":29}],103:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var MW=function(){};MW.registerEnum=fl;MW.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};MW.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=MW;},{"../../IPCC.Util":29}],104:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var NC=function(){return this;};NC.registerClass=cQ;NC.prototype={};NC.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=NC;},{"../../IPCC.Util":29}],105:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var MC=function(type){var be=type;type=undefined;var tf=new Date();var tj=new Date();var ap=null;var R;var ar;var ca;var dG=new IPCC.Web.UI.Data();var aB=new IPCC.Web.UI.fZ();var V=this;var ie;this.ff=function(ix,cq){if((ie&ix)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cq+' is not a valid property for this type of Mark.');}};if(be===IPCC.Web.UI.MarkType.SignatureText){this.ke='#000000';this.iP=IPCC.Web.UI.LineStyle.Solid;this.cf=0;}else{this.ke='#000000';this.iP=IPCC.Web.UI.LineStyle.Solid;this.cf=1;}this.cu=255;this.lW=IPCC.Web.UI.MarkInteractionMode.Full;var lk=false;switch(be){case IPCC.Web.UI.MarkType.Line:lk=true;ar=new IPCC.Web.UI.PointCollection();ar.addPoint({x:0,y:0});ar.addPoint({x:0,y:0});ie=1;this.ke='#18385F';this.cf=6;break;case IPCC.Web.UI.MarkType.Polyline:lk=true;this.rE=false;ar=new IPCC.Web.UI.PointCollection();ie=2;this.cf=2;break;case IPCC.Web.UI.MarkType.Rectangle:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=4;this.eQ='#FB0404';this.cf=4;break;case IPCC.Web.UI.MarkType.Ellipse:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=8;this.eQ='#FB0404';this.cf=4;break;case IPCC.Web.UI.MarkType.Polygon:ar=new IPCC.Web.UI.PointCollection();ie=16;break;case IPCC.Web.UI.MarkType.Text:this.CD='#000000';this.An=false;this.pN=IPCC.Web.UI.LineStyle.Solid;this.Bs=1;this.lN=new IPCC.Web.UI.Point(0,0);this.Bm=IPCC.Web.UI.CalloutType.Triangle;this.vw=false;this.gk='Arial';this.da=12;this.cc=IPCC.Web.UI.FontStyle.Regular;this.iP=IPCC.Web.UI.LineStyle.Solid;this.gN=0;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bF='';this.hY=IPCC.Web.UI.HorizontalAlignment.Left;this.yv=IPCC.Web.UI.VerticalAlignment.Top;this.pV='#000000';this.zX=255;this.AS=IPCC.Web.UI.Orientation.TopLeft;this.ef=[];this.cf=4;this.cu=127;this.eQ='#FFFFFF';ie=32;break;case IPCC.Web.UI.MarkType.Stamp:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=128;break;case IPCC.Web.UI.MarkType.Highlight:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bq='';this.ks='n';this.bQ=0;this.cP='';this.dr=0;this.cu=127;ie=256;break;case IPCC.Web.UI.MarkType.HighlightText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bq='';this.ks='n';this.bQ=0;this.cP='';this.dr=0;this.cu=127;this.eQ='#FFFF00';ie=512;this.ef=[];this.bH=[];break;case IPCC.Web.UI.MarkType.Freehand:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=64;this.cf=4;this.ke='#000000';this.ib=false;this.Ue=1;this.Tc=1;this.tu='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=1024;this.hY=IPCC.Web.UI.HorizontalAlignment.Center;this.cf=4;this.ke='#000000';this.ib=false;this.Ue=1;this.Tc=1;this.tu='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=2048;this.hY=IPCC.Web.UI.HorizontalAlignment.Center;this.bF='John Doe';this.pV='#000000';this.eQ='#000000';this.gk="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=4096;this.gk='Arial';this.da=8;this.cc=IPCC.Web.UI.FontStyle.Regular;this.bF='';this.hY=IPCC.Web.UI.HorizontalAlignment.Center;this.yv=IPCC.Web.UI.VerticalAlignment.Center;this.eQ='#000000';this.pV='#FFFFFF';this.zX=255;this.AS=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bH=[];this.bq='';this.ed='';this.bF='';this.gk='Arial';this.da=8;this.bQ=0;this.dr=0;ie=8192;this.ef=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kY='';this.cf=2;this.cP='';this.bq='';this.ks='n';this.bQ=0;this.dr=0;this.eQ='#3B00FF';ie=1<<14;this.ef=[];this.bH=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);ie=16384;this.bM='';this.oR='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kY='';this.Lg='';this.AH='';this.Kb=0;this.Kg=0;this.qK=255;ie=32768;break;case IPCC.Web.UI.MarkType.TextLine:ie=65536;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.hY=IPCC.Web.UI.HorizontalAlignment.Left;this.bF='';this.pV='#000000';this.gk="Courier New";this.cf=1;this.ib=true;this.gN=0;this.Gp=0;this.JU=false;var jb=IPCC.K.um("M",this.gk,{uR:'pre'});this.Av=jb.width;this.zI=jb.height;this.iO=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.CD='#000000';this.An=false;this.pN=IPCC.Web.UI.LineStyle.Solid;this.Bs=1;this.lN=new IPCC.Web.UI.Point(0,0);this.Bm=IPCC.Web.UI.CalloutType.Triangle;this.vw=false;this.gk='Courier New';this.ij=0;this.gN=0;this.da=12;this.cc=IPCC.Web.UI.FontStyle.Regular;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bF='';this.hY=IPCC.Web.UI.HorizontalAlignment.Left;this.yv=IPCC.Web.UI.VerticalAlignment.Top;this.pV='#000000';this.zX=255;this.AS=IPCC.Web.UI.Orientation.TopLeft;this.ef=[];this.cf=1;this.ib=false;this.eQ='#FFFFFF';this.cu=0;ie=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bq='';this.ke='#000000';this.cf=2;this.ks='n';this.bQ=0;this.cP='';this.dr=0;ie=1<<17;this.ef=[];this.bH=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',be);}if(be!==IPCC.Web.UI.MarkType.SignaturePath&&be!==IPCC.Web.UI.MarkType.Freehand&&be!==IPCC.Web.UI.MarkType.SignatureText&&be!==IPCC.Web.UI.MarkType.DocumentHyperlink&&be!==IPCC.Web.UI.MarkType.HighlightText&&be!==IPCC.Web.UI.MarkType.Strikethrough&&be!==IPCC.Web.UI.MarkType.TextLine){if(lk){this.Hs=15;this.Ht=25;this.nc=IPCC.Web.UI.LineHeadType.None;this.zZ='#000000';this.Hj=15;this.Ip=25;this.Ic=IPCC.Web.UI.LineHeadType.None;}else{this.JD=true;this.ib=true;if(be===IPCC.Web.UI.MarkType.Highlight){this.ib=false;this.cu=100;}}}this.TF=IPCC.Web.UI.ayf++;this.df=true;this.aZ={};this.dn=[];var MD=false;function atj(bn,T){V.bg('commentAdded',T);};function ast(bn,T){V.bg('commentRemoved',T);};function QX(bn,T){V.bg('commentChanged',T);};ca=new IPCC.Web.UI.Conversation(V);ca.add_commentAdded(atj);ca.add_commentChanged(QX);ca.add_commentRemoved(ast);this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};function VZ(bn,T){var aeM='points';if(be===IPCC.Web.UI.MarkType.Line){aeM=T.index===0?'startPoint':'endPoint';}V.cY(aeM,T);};if(ar){ar.add_pointAdded(VZ);ar.add_pointChanged(VZ);ar.add_pointRemoved(VZ);}this.iq=function(){return be;};this.ahu=function(){return tf;};this.acl=function(h){tf=h;};this.aht=function(){return tj;};this.VF=function(h){tj=h;};this.ea=function(){return ap;};this.nx=function(value){if(ap!==value){ap=value;this.cY('artPage');}};this.kM=function(){return MD;};this.kJ=function(h){MD=h;};this.agW=function(){var mA=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(be){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return ar.vq();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return R.clone();case IPCC.Web.UI.MarkType.Text:var ju=R.x+R.width,hT=R.y+R.height;var afY=R.x+this.lN.x,aiG=R.y+this.lN.y;mA.x=Math.min(R.x,Math.min(ju,afY));mA.y=Math.min(R.y,Math.min(hT,aiG));mA.width=Math.max(R.x,Math.max(ju,afY))-mA.x;mA.height=Math.max(R.y,Math.max(hT,aiG))-mA.y;break;}return mA;};this.eB=function(){return R.clone();};this.xO=function(h){this.Cw(16384,'image','bM',h);};this.du=function(){return this.bM;};this.ou=function(){return ar;};this.aDj=function(){return ca;};this.yZ=function(){return dG;};this.Dk=function(h){var sO;if(!R.equals(h)){R=new IPCC.Web.UI.Rectangle(h.x,h.y,h.width,h.height);if(be===IPCC.Web.UI.MarkType.Stamp||be===IPCC.Web.UI.MarkType.SignatureText||be===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sO=0;if(R.width>=R.height){sO=(R.width/14)/2;}else{sO=R.width/15;}if(sO*15>=R.width){sO=(R.width/15)/2;}this.stampSize=Math.round(sO);}else{var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}var lE=this.get_text();if(!lE){lE=(be===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sO=lE.length*textFontSize;if(sO>R.width){textFontSize=((R.width/lE.length));}var Gp=Math.round(textFontSize);this.stampSize=Gp.toString();}}this.cY('rectangle');}};this.lA=function(){return this.TF;};this.Jq=function(dU,dW){if(dU!==0||dW!==0){switch(be){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:ar.akw(dU,dW);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(be===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bq!==undefined){break;}R.x+=dU;R.y+=dW;this.cY('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.VJ=function(WM){if(this.ef&&WM!==this.ef){while(this.ef.length>0){this.ef.pop();}if(WM){this.ef=WM.slice(0);}this.bg('markTextSelectionChanged',{});}};this.Fm=function(L){if(this.ef){aB.addHandler('markTextSelectionChanged',L);}};this.Gm=function(L){if(this.ef){aB.removeHandler('markTextSelectionChanged',L);}};this.xd=function(L){aB.addHandler('commentAdded',L);};this.Eb=function(L){aB.removeHandler('commentAdded',L);};this.vB=function(L){aB.addHandler('commentRemoved',L);};this.Ew=function(L){aB.removeHandler('commentRemoved',L);};this.sN=function(L){aB.addHandler('commentChanged',L);};this.vU=function(L){aB.removeHandler('commentChanged',L);};this.kH=function(L){aB.addHandler('propertyChanged',L);};this.ml=function(L){aB.removeHandler('propertyChanged',L);};this.cY=function(cq){var L=aB.getHandler('propertyChanged');if(L){L(this,new IPCC.pb(cq));}};this.kH(function(G){G.VF(new Date());});return this;};MC.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.ou().getPoint(0)+' to '+this.ou().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.ou().en()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.eB();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.eB();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.eB();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.ou().en()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bF+'", at '+this.eB();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.eB();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.eB();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.eB();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.eB();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.eB();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.eB();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.tu+'", at '+this.eB();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.tu+'", at '+this.eB();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.eB();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.eB();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.eB();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.eB();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.eB();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.eB();}return 'Mark';},initializeDates:function(tf,tj){IPCC.av.hI(tf,"dateCreated");IPCC.av.hI(tj,"dateModified");this.acl(tf);this.VF(tj);},get_dateCreated:function(){return this.ahu();},get_dateModified:function(){return this.aht();},lP:function(ix,cq,jX,h){this.ff(ix,cq);if(this[jX]!==h){this[jX]=h;this.cY(cq);}},GR:function(ix,cq,jX,h){IPCC.av.XW(h,cq);this.lP(ix,cq,jX,h);},yh:function(ix,cq,jX,h){IPCC.av.hx(h,cq);this.lP(ix,cq,jX,h);},Ah:function(ix,cq,jX,h,wD,vF){IPCC.av.jP(h,cq,wD,vF);this.lP(ix,cq,jX,h);},Uf:function(ix,cq,jX,h,wD,vF){IPCC.av.nL(h,cq,wD,vF);this.lP(ix,cq,jX,h);},Cw:function(ix,cq,jX,h){IPCC.av.be(h,cq,'string');this.lP(ix,cq,jX,h);},uI:function(ix,cq,jX,h,jD){IPCC.av.jD(h,cq,jD);this.lP(ix,cq,jX,h);},aBP:function(ix,cq,jX,h,jD){IPCC.av.jD(h,cq,jD,true);this.lP(ix,cq,jX,h);},aCI:function(ix,cq,jX,h){IPCC.av.aT(h,cq);this.lP(ix,cq,jX,h);},get_artPage:function(){return this.ea();},get_boundingRectangle:function(){return this.agW();},get_selected:function(){var ap=this.ea();if(!ap){return false;}var eF=ap.yO();return eF.contains(this);},set_selected:function(value){var ap=this.ea();if(ap){if(this.lW!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eF=ap.yO();if(value!==eF.contains(this)){if(value){eF.NR(this);}else{eF.tx(this);}this.cY('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.ff(32,'calloutLineColor');return this.CD;},set_calloutLineColor:function(value){this.GR(32,'calloutLineColor','CD',value);},get_calloutLineIsDistinct:function(){this.ff(32,'calloutLineIsDistinct');return this.An;},set_calloutLineIsDistinct:function(value){this.lP(32,'calloutLineIsDistinct','An',value);},get_calloutLineStyle:function(){this.ff(32,'calloutLineStyle');return this.pN;},set_calloutLineStyle:function(value){this.uI(32,'calloutLineStyle','pN',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.ff(32,'calloutLineWidth');return this.Bs;},set_calloutLineWidth:function(value){this.Ah(32,'calloutLineWidth','Bs',value,0,50);},get_calloutPoint:function(){this.ff(32,'calloutPoint');return this.lN;},set_calloutPoint:function(value){this.aCI(32,'calloutPoint','lN',value);},get_calloutType:function(){this.ff(32,'calloutType');return this.Bm;},set_calloutType:function(value){this.uI(32,'calloutType','Bm',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.ff(32,'calloutVisible');return this.vw;},set_calloutVisible:function(value){if(!this.vw&&value&&this.iq()===IPCC.Web.UI.MarkType.Text){if(this.lN.x===0&&this.lN.y===0){var R=this.eB();this.set_calloutPoint({x:R.width,y:R.height*1.5});}}this.lP(32,'calloutVisible','vw',value);},get_endHeadAngle:function(){this.ff(3,'endHeadAngle');return this.Hs;},set_endHeadAngle:function(value){this.Ah(3,'endHeadAngle','Hs',value,0,180);},get_endHeadLength:function(){this.ff(3,'endHeadLength');return this.Ht;},set_endHeadLength:function(value){this.Ah(3,'endHeadLength','Ht',value,0,100);},get_endHeadType:function(){this.ff(3,'endHeadType');return this.nc;},set_endHeadType:function(value){this.uI(3,'endHeadType','nc',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.ff(1<<14|1<<15,'href');return this.kY;},set_href:function(value){this.Cw(1<<14|1<<15,'href','kY',value);},has_unsafe_href:function(){return(! !this.kY&&IPCC.K.ahz(this.kY));},get_mask:function(){this.ff(65536,'mask');return this.iO;},set_mask:function(value){this.lP(65536,'mask','iO',value);},get_borderType:function(){this.ff(32768,'borderType');return this.Lg;},set_borderType:function(value){this.Cw(32768,'borderType','Lg',value);},get_borderHorizontalRadius:function(){this.ff(32768,'borderHorizontalRadius');return this.Kb;},set_borderHorizontalRadius:function(value){this.yh(32768,'borderHorizontalRadius','Kb',value);},get_borderVerticalRadius:function(){this.ff(1<<15,'borderVerticalRadius');return this.Kg;},set_borderVerticalRadius:function(value){this.yh(32768,'borderVerticalRadius','Kg',value);},get_borderOpacity:function(){this.ff(32768,'qK');return this.qK;},set_borderOpacity:function(value){this.Uf(32768,'qK','qK',value,0,255);},get_borderPattern:function(){this.ff(32768,'AH');return this.AH;},set_borderPattern:function(value){this.lP(32768,'AH','AH',value,0,255);},get_fillColor:function(){this.ff(16380+(1<<14),'fillColor');return this.eQ;},set_fillColor:function(value){this.GR(16380+(1<<14),'fillColor','eQ',value);},get_fillVisible:function(){this.ff(16380,'fillVisible');return this.JD;},set_fillVisible:function(value){this.lP(16380,'fillVisible','JD',value);},get_fontName:function(){this.ff(6176+8192+65536+(1<<18),'fontName');return this.gk;},set_fontName:function(value){this.Cw(6176+8192+65536+(1<<18),'fontName','gk',value);if(this.iq()===IPCC.Web.UI.MarkType.SignatureText||this.iq()===IPCC.Web.UI.MarkType.TextLine){var aU=(this.iq()===IPCC.Web.UI.MarkType.TextLine)?{uR:'pre'}:{};var jb=IPCC.K.um(this.bF,this.gk,aU);this.Av=jb.width;this.zI=jb.height;}if(this.iq()===IPCC.Web.UI.MarkType.TextLine){this.JU=false;}},get_fontSize:function(){this.ff(32+2048+4096+8192,'fontSize');return this.da;},set_fontSize:function(value){this.Ah(32+2048+4096+8192,'fontSize','da',value,0.1,288);},get_fontStyle:function(){this.ff(6176+(1<<18),'fontStyle');return this.cc;},set_fontStyle:function(value){this.aBP(6176+(1<<18),'fontStyle','cc',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.ff(3,'headFillColor');return this.zZ;},set_headFillColor:function(value){this.GR(3,'headFillColor','zZ',value);},get_interactionMode:function(){this.ff(~0,'interactionMode');return this.lW;},set_interactionMode:function(value){this.uI(~0,'interactionMode','lW',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.ff(32+65536+(1<<18),'maxLength');return this.gN;},set_maxLength:function(value){this.yh(32+65536+(1<<18),'maxLength','gN',value);},get_maxFontSize:function(){this.ff(1<<18,'maxFontSize');return this.ij;},set_maxFontSize:function(value){this.yh(1<<18,'maxFontSize','ij',value);},get_isClosed:function(){this.ff(2,'isClosed');return this.rE;},set_isClosed:function(value){this.lP(2,'isClosed','rE',value);},get_lineColor:function(){return this.ke;},set_lineColor:function(value){this.GR(13567+32768+(1<<17),'lineColor','ke',value);},get_lineStyle:function(){return this.iP;},set_lineStyle:function(value){this.uI(63+32768,'lineStyle','iP',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.cf;},set_lineWidth:function(value){this.Ah(13567+32768+(1<<17),'lineWidth','cf',value,0,50);},get_lineVisible:function(){this.ff(172+65536,'lineVisible');return this.ib;},set_lineVisible:function(value){this.lP(172+65536,'lineVisible','ib',value);},get_opacity:function(){return this.cu;},set_opacity:function(value){this.Uf(895+2048+1024,'opacity','cu',value,0,255);},get_points:function(){this.ff(19,'points');return this.ou();},get_conversation:function(){return this.aDj();},get_data:function(){return this.yZ();},get_image:function(){this.ff(16384,'image');return this.du();},set_image:function(value){this.ff(16384,'image');this.xO(value);},get_rectangle:function(){this.ff((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.eB();},set_rectangle:function(value){this.ff((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.av.R(value,'rectangle');this.Dk(value);if(this.iq()===IPCC.Web.UI.MarkType.TextLine){this.JU=false;}},get_startHeadAngle:function(){this.ff(3,'startHeadAngle');return this.Hj;},set_startHeadAngle:function(value){this.Ah(3,'startHeadAngle','Hj',value,0,180);},get_startHeadLength:function(){this.ff(3,'startHeadLength');return this.Ip;},set_startHeadLength:function(value){this.Ah(3,'startHeadLength','Ip',value,0,100);},get_startHeadType:function(){this.ff(3,'startHeadType');return this.Ic;},set_startHeadType:function(value){this.uI(3,'startHeadType','Ic',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.ff(14496+65536+(1<<17)+(1<<18),'text');return this.bF;},set_text:function(value){if(this.bF===value){return;}this.Cw(14496+65536+(1<<17)+(1<<18),'text','bF',value);if(this.iq()===IPCC.Web.UI.MarkType.SignatureText||this.iq()===IPCC.Web.UI.MarkType.TextLine){var aU=(this.iq()===IPCC.Web.UI.MarkType.TextLine)?{uR:'pre'}:{};var jb=IPCC.K.um(this.bF,this.gk,aU);this.Av=jb.width;this.zI=jb.height;}if(this.ef){while(this.ef.length>0){this.ef.pop();}}},get_textHorizontalAlignment:function(){this.ff(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.hY;},set_textHorizontalAlignment:function(value){this.uI(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','hY',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.ff(32,'textVerticalAlignment');return this.yv;},set_textVerticalAlignment:function(value){this.uI(32,'textVerticalAlignment','yv',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.ff(6176+65536+(1<<18),'textColor');return this.pV;},set_textColor:function(value){this.GR(6176+65536+(1<<18),'textColor','pV',value);},get_textOpacity:function(){this.ff(32,'textOpacity');return this.zX;},set_textOpacity:function(value){this.Uf(32,'textOpacity','zX',value,0,255);},get_textOrientation:function(){this.ff(32,'textOrientation');return this.AS;},set_textOrientation:function(value){this.uI(32,'textOrientation','AS',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.iq();},get_visible:function(){return this.df;},set_visible:function(value){this.lP((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','df',value);},get_markID:function(){return this.lA();},get_pathString:function(){return this.tu;},set_pathString:function(value){var tu=this.get_pathString();if(tu!==value){this.akU=true;}this.Cw(1088,'pathString','tu',value);},get_pathWidth:function(){return this.Ue;},set_pathWidth:function(value){this.yh(1088,'pathWidth','Ue',value);},get_pathHeight:function(){return this.Tc;},set_pathHeight:function(value){this.yh(1088,'pathHeight','Tc',value);},get_startIndex:function(){this.ff((1<<17)+(1<<14)+8192+512,'startIndex');return this.bQ;},set_startIndex:function(value){this.yh((1<<17)+(1<<14)+8192+512,'startIndex','bQ',value);},get_textLength:function(){this.ff((1<<17)+(1<<14)+8192+512,'textLength');return this.dr;},set_textLength:function(value){this.yh((1<<17)+(1<<14)+8192+512,'textLength','dr',value);},add_propertyChanged:function(handler){this.kH(handler);},remove_propertyChanged:function(handler){this.ml(handler);},add_markTextSelectionChanged:function(handler){this.Fm(handler);},remove_markTextSelectionChanged:function(handler){this.Gm(handler);},move:function(deltaX,deltaY){IPCC.av.hx(deltaX,'deltaX');IPCC.av.hx(deltaY,'deltaY');this.Jq(deltaX,deltaY);},moveBackward:function(){if(this.ea()){var index=this.ea().nK(this);var cB=this.ea().ajE();if(index>cB){this.ea().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.ea()){var index=this.ea().nK(this);if(index<this.ea().aaN()-1){this.ea().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.ea()){var cB=0;cB=this.ea().ajE();this.ea().reorderMark(this,cB);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.ea()){this.ea().reorderMark(this,this.ea().aaN()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.ea()){this.ea().removeMark(this);}},selectText:function(textRanges){this.VJ(textRanges);},aCV:function(){var fz={};var V=this;var ar,Yl,aT,R,C;function ce(cq,LO){fz[LO]=V[cq];};var lk=false;var kU=false;var wf=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:lk=true;wf=true;fz.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:lk=true;wf=true;fz.__type='PolyLineMark:#IPCC.Web';ce('rE','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kU=true;fz.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:kU=true;fz.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:kU=true;fz.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:wf=true;fz.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:kU=true;fz.__type='TextMark:#IPCC.Web';ce('CD','clc');ce('An','clid');ce('pN','cls');ce('Bs','clw');ce('Bm','ct');ce('vw','cv');ce('gk','fn');ce('da','fs');ce('cc','fst');ce('iP','ls');ce('bF','te');ce('hY','tha');ce('yv','tva');ce('pV','tc');ce('zX','to');ce('AS','tor');aT=this.lN;if(aT.x!==0||aT.y!==0){fz.cp={x:aT.x,y:aT.y};}break;case IPCC.Web.UI.MarkType.Stamp:kU=true;fz.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:kU=true;fz.__type='HighlightText:#IPCC.Web';break;}if(lk){ce('Hs','eha');ce('Ht','ehl');ce('nc','eht');ce('zZ','hfc');ce('Hj','sha');ce('Ip','shl');ce('Ic','sht');}else{ce('eQ','fc');ce('JD','fv');ce('ib','lv');}if(kU){R=this.get_rectangle();fz.r={x:R.x,y:R.y,width:R.width,height:R.height};}fz.t=this.get_type();ce('ke','lc');ce('iP','ls');ce('cf','lw');ce('cu','o');ce('df','v');if(wf){ar=this.ou();Yl=[];for(C=0;C<ar.get_length();C++){aT=ar.getPoint(C);Yl.push({x:aT.x,y:aT.y});}fz.p=Yl;}return fz;},azb:function(fz){var V=this;var ar,C;function ce(cq,LO){if(fz.hasOwnProperty(LO)){V[cq]=fz[LO];}};var lk=false;var kU=false;var wf=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:lk=true;if(fz.p&&fz.p.length===2){ar=this.ou();ar.setPoint(0,new IPCC.Web.UI.Point(fz.p[0].x,fz.p[0].y));ar.setPoint(1,new IPCC.Web.UI.Point(fz.p[1].x,fz.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:lk=true;wf=true;ce('rE','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kU=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:kU=true;break;case IPCC.Web.UI.MarkType.Ellipse:kU=true;break;case IPCC.Web.UI.MarkType.Polygon:wf=true;break;case IPCC.Web.UI.MarkType.Text:kU=true;ce('CD','clc');ce('An','clid');ce('pN','cls');ce('Bs','clw');ce('Bm','ct');ce('vw','cv');ce('gk','fn');ce('da','fs');ce('cc','fst');ce('iP','ls');ce('bF','te');ce('hY','tha');ce('yv','tva');ce('pV','tc');ce('zX','to');ce('AS','tor');if(fz.cp){this.lN=new IPCC.Web.UI.Point(fz.cp.x,fz.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:kU=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:kU=true;break;}if(lk){ce('Hs','eha');ce('Ht','ehl');ce('nc','eht');ce('zZ','hfc');ce('Hj','sha');ce('Ip','shl');ce('Ic','sht');}else{ce('eQ','fc');ce('JD','fv');ce('ib','lv');}if(kU){if(fz.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fz.r.x,fz.r.y,fz.r.width,fz.r.height));}}fz.t=this.get_type();ce('ke','lc');ce('iP','ls');ce('cf','lw');ce('cu','o');ce('df','v');if(fz.p&&wf){ar=this.ou();for(C=0;C<fz.p.length;C++){ar.addPoint(new IPCC.Web.UI.Point(fz.p[C].x,fz.p[C].y));}}return fz;}};MC.registerClass=cQ;MC.registerClass('IPCC.Web.UI.Mark');module.exports=MC;},{"../../IPCC.Util":29}],106:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var ML=function(){var bx=[];var aB=new IPCC.Web.UI.fZ();this.NR=function(G){if(this.Fh(G)=== -1){bx.push(G);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;this.bg('markAdded',T);}};this.asD=function(zC){var T=new IPCC.Web.UI.MarkEventArgs();T.length=zC.get_length();var V=this;function nN(G){if(V.Fh(G)=== -1){bx.push(G);}};zC.forEach(nN,{});if(T.length>0){this.bg('markAdded',T);}};this.jK=function(iA,dA){var Kz=[].concat(bx);var C;for(C=0;C<Kz.length;C++){iA.call(dA,Kz[C],C,this);}};this.en=function(){return bx.length;};this.tx=function(G){var C=this.Fh(G);if(C> -1){bx.splice(C,1);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=G;this.bg('markRemoved',T);}};this.Fh=function(G){var C;for(C=0;C<bx.length;C++){if(bx[C]===G){return C;}}return-1;};this.zq=function(L){aB.addHandler('markAdded',L);};this.zM=function(L){aB.removeHandler('markAdded',L);};this.As=function(L){aB.addHandler('markRemoved',L);};this.AJ=function(L){aB.removeHandler('markRemoved',L);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};return this;};ML.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.NR(mark);},addMarks:function(markCollection){this.asD(markCollection);},forEach:function(method,context){this.jK(method,context);},get_length:function(){return this.en();},contains:function(mark){return this.Fh(mark)> -1;},removeMark:function(mark){this.tx(mark);},removeAllMarks:function(){this.jK(function(G,ba,zC){zC.tx(G);});},add_markAdded:function(handler){this.zq(handler);},remove_markAdded:function(handler){this.zM(handler);},add_markRemoved:function(handler){this.As(handler);},remove_markRemoved:function(handler){this.AJ(handler);}};ML.registerClass=cQ;ML.registerClass('IPCC.Web.UI.MarkCollection');module.exports=ML;},{"../../IPCC.Util":29}],107:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Lm=function(){return this;};Lm.registerClass=cQ;Lm.prototype={};Lm.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Lm;},{"../../IPCC.Util":29}],108:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Bl=function(){};Bl.registerEnum=fl;Bl.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Bl.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Bl;},{"../../IPCC.Util":29}],109:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Mv=function(){};Mv.registerEnum=fl;Mv.prototype={Full:0,SelectionDisabled:1};Mv.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=Mv;},{"../../IPCC.Util":29}],110:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Qs=function(){};Qs.registerEnum=fl;Qs.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};Qs.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=Qs;},{"../../IPCC.Util":29}],111:[function(require,module,exports){var fl=require('./../../IPCC.Util').regEnum;var TW=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};TW.registerEnum=fl;TW.prototype={leftButton:0,middleButton:1,rightButton:2};TW.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":29}],112:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var OA=function(){var aim=false;this.axE=function(){aim=true;};this.aiB=function(){return aim;};return this;};OA.prototype={preventDefault:function(){this.axE();}};OA.registerClass=cQ;OA.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=OA;},{"../../IPCC.Util":29}],113:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Ow=function(){};Ow.registerEnum=fl;Ow.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Ow.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Ow;},{"../../IPCC.Util":29}],114:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var NS=function(){};NS.registerEnum=fl;NS.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};NS.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=NS;},{"../../IPCC.Util":29}],115:[function(require,module,exports){var acm=function(element,rg,KA){var ht=this;var ad;var F;var yH=0;var RY='';var Mf=false;var aB=new IPCC.Web.UI.fZ();var eD=null;var pO=IPCC.pO;var agS=IPCC.pO;var IP=0.0;var Gl=false;var KV=0;var adJ= -1;var adO= -1;var acM= -1;function lM(Il){if(!F){return false;}return F.lM(Il);};this.bz=function(jC,iK){if(lM(IPCC.Web.UI.DebugErrorLevel.Production)){F.bz(jC,iK);}};this.az=function(jC,kT,qa){if(!lM(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],(qa?qa:0));}cK+=')';this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ct=function(jC,kT,lZ,qa){if(!lM(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],(qa?qa:0));}cK+=') = ';cK+=IPCC.ih.qc(lZ,1);this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);};this.di=function(jC,kT,lZ){if(!lM(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cK=jC+'(';var C;for(C=0;C<kT.length;C++){if(C>0){cK+=', ';}cK+=IPCC.ih.qc(kT[C],0);}cK+=') = ';cK+=IPCC.ih.qc(lZ,1);this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wN=function(kr,an){if(F){F.mn(kr,IPCC.Web.UI.DebugItemCause.FunctionCall,an);}};this.mn=function(kr){if(F){F.mn(kr,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JW=function(){return F.get_debug();};this.Vb=function(h){F.set_debug(h);};this.xu=function(){return F.xu();};this.Jf=function(h){IPCC.av.jD(h,'value',IPCC.Web.UI.DebugErrorLevel);F.Jf(h);};this.aHR=function(h){Gl=h;};this.aFd=function(){return Gl;};var pp=function(){if(F.du()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cn(dH,L){aB.addHandler(dH,L);};function cs(dH,L){aB.removeHandler(dH,L);};this.FX=function(iu,ci){F.ayt(iu,ci);};this.ayF=function(ci,G){F.xa(G);F.cA();};this.XF=function(L){cn('pageOpening',L);};this.Yn=function(L){cs('pageOpening',L);};this.Wf=function(L){cn('pageOpened',L);};this.Yw=function(L){cs('pageOpened',L);};this.ats=function(L){cn('pageClosed',L);};this.awv=function(L){cs('pageClosed',L);};this.GS=function(L){cn('pageOpenFailed',L);};this.EW=function(L){cs('pageOpenFailed',L);};this.XJ=function(L){cn('pageDisplayed',L);};this.Ze=function(L){cs('pageDisplayed',L);};this.Ns=function(L){cn('mouseDown',L);};this.ZP=function(L){cs('mouseDown',L);};this.Os=function(L){cn('mouseMove',L);};this.YO=function(L){cs('mouseMove',L);};this.MR=function(L){cn('mouseUp',L);};this.Yr=function(L){cs('mouseUp',L);};this.ash=function(L){cn('contextMenu',L);};this.axd=function(L){cs('contextMenu',L);};this.zq=function(L){cn('markAdded',L);};this.zM=function(L){cs('markAdded',L);};this.Ww=function(L){cn('markCreating',L);};this.YP=function(L){cs('markCreating',L);};this.Hd=function(L){cn('markChanged',L);};this.Fn=function(L){cs('markChanged',L);};this.As=function(L){cn('markRemoved',L);};this.AJ=function(L){cs('markRemoved',L);};this.Gg=function(L){cn('markReordered',L);};this.FE=function(L){cs('markReordered',L);};this.Xz=function(L){cn('marksLoaded',L);};this.Zy=function(L){cs('marksLoaded',L);};this.Hq=function(L){cn('markSelectionChanged',L);};this.Fe=function(L){cs('markSelectionChanged',L);};this.AP=function(L){cn('textPageReady',L);};this.CP=function(L){cs('textPageReady',L);};this.Wr=function(L){cn('selectTextMouseToolCompleted',L);};this.Zo=function(L){cs('selectTextMouseToolCompleted',L);};this.WD=function(L){cn('exceptionThrown',L);};this.Wg=function(L){cn('scaleChanged',L);};this.Zw=function(L){cs('scaleChanged',L);};this.YH=function(L){cs('exceptionThrown',L);};this.Aw=function(L){cn('textExtractionFailed',L);};this.Bn=function(L){cs('textExtractionFailed',L);};this.kH=function(L){cn('propertyChanged',L);};this.ml=function(L){cs('propertyChanged',L);};var bg=function(dH,T){try{var L;L=aB.getHandler(dH);if(L){L(ht,T);}}catch(e){ht.bz(dH+'Event',e);}};var oY=function(dH){function yk(bn,T){bg(dH,T);};F['add_'+dH](yk);};var Ko=function(dH){function yk(bn,T){if(Mf&&F.Oz()){Cr();}bg(dH,T);};F['add_'+dH](yk);};function Cr(){var eL,oG,Zp;if(RY!==''){Zp=document.getElementById(RY);if(Zp){eL=ht.PJ();oG='{encodedDocumentIdentifier:"'+eL.encodedDocumentIdentifier;oG+='",pageNumber:'+eL.pageNumber.toString();oG+=',viewFitType:'+eL.viewFitType.toString();if(eL.viewRectangle&&eL.viewFitType===IPCC.Web.UI.FitType.Rectangle){oG+=',viewRectangle:{x:'+eL.viewRectangle.x.toFixed(5);oG+=',y:'+eL.viewRectangle.y.toFixed(5);oG+=',width:'+eL.viewRectangle.width.toFixed(5);oG+=',height:'+eL.viewRectangle.height.toFixed(5);oG+='}';}if(eL.viewRotationDegreesClockwise){oG+=',viewRotationDegreesClockwise:'+eL.viewRotationDegreesClockwise.toString();}if(eL.viewMirror){oG+=',viewMirror:'+eL.viewMirror.toString();}if(eL.viewZoomFactor){oG+=',viewZoomFactor:'+eL.viewZoomFactor.toString();}if(Mf){var ap=F.ea();if(ap){oG+=',artPageJson:"'+IPCC.fU.sD(ap.saveToJson())+'"';}}oG+='}';Zp.value=oG;}}};var aAY=function(){function yk(bn,T){var Vr=true;switch(T.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Cr();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Hx':case 'vi':Vr=false;break;case 'HY':if(F.Oz()){Cr();}Vr=false;break;}if(Vr){bg('propertyChanged',T);}};F.kH(yk);};this.Vz=function(be){IPCC.av.jD(be,'type',IPCC.Web.UI.FitType);if(be===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}pp();eD={axp:true,viewFitType:be};ZV();};this.fH=function(){return F.du()!==undefined;};this.kq=function(){pp();return F.du().width;};this.ig=function(){pp();return F.du().height;};this.aEA=function(){pp();return F.du().hh;};this.aDd=function(){return F.aa().eR().aiP();};this.aEy=function(){pp();return F.du().hb;};this.Kv=function(){if(!F|| !(F.du())){return '';}return F.du().get_identifier();};this.OI=function(){if(!F|| !(F.du())){return '';}return F.du().get_encodedIdentifier();};this.nJ=function(){if(!F|| !(F.du())){return-1;}return F.du().bi;};this.aEU=function(){if(!F|| !(F.du())){return 0;}return F.du().es;};this.aja=function(){var bM=F.du();if(!bM){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bS=F.dV();bS.x=bS.y=0;var qV=F.aa().eR();qV.wg();var dJ=qV.BZ(bS);if(dJ.x<0){dJ.width+=dJ.x;dJ.x=0;}if(dJ.y<0){dJ.height+=dJ.y;dJ.y=0;}if(dJ.x+dJ.width>bM.width){dJ.width=bM.width-dJ.x;}if(dJ.y+dJ.height>bM.height){dJ.height=bM.height-dJ.y;}return dJ;};function Mw(){var cl={},dP=F.aa().eR();cl.documentIdentifier=ht.Kv();cl.encodedDocumentIdentifier=ht.OI();cl.pageNumber=ht.nJ();cl.artPage=ht.ea();cl.referenceDocumentIdentifier=ht.Kv();cl.referencePageNumber=ht.nJ();cl.viewFitType=IPCC.Web.UI.FitType.Rectangle;cl.viewRectangle=ht.aja();cl.imGearPage=ht.nq();cl.transientArtPage=ht.mO();var hE=dP.aiP();if(hE!==0){cl.viewRotationDegreesClockwise=hE;}if(dP.aDB()){cl.viewMirror=true;}return cl;};this.akp=function(bQ,dQ){F.akp(bQ,dQ);};this.PJ=function(){var cl;if(ad){cl=new IPCC.Web.UI.PageViewState();cl.documentIdentifier=ad.documentIdentifier;cl.encodedDocumentIdentifier=ad.encodedDocumentIdentifier;cl.pageNumber=ad.pageNumber;cl.artPage=ad.artPage;cl.artPageJson=ad.artPageJson;cl.referenceDocumentIdentifier=ad.documentIdentifier;cl.referencePageNumber=ad.pageNumber;cl.viewFitType=ad.viewFitType;cl.viewRectangle=ad.viewRectangle;cl.viewRotationDegreesClockwise=ad.viewRotationDegreesClockwise;cl.viewMirror=ad.viewMirror;cl.viewZoomFactor=ad.viewZoomFactor;cl.transientArtPage=ad.transientArtPage;}else{cl=Mw();}return cl;};this.Pm=function(au){var bS=F.dV();this.abC(au,{x:bS.width/2,y:bS.height/2});};this.abC=function(au,cC){IPCC.av.jP(au,'factor',1.01,20);IPCC.av.aT(cC,'point');pp();var as=F.aa();var aW=as.eR();var aL=F.du();var kA=aW.nM();if(kA*au>aL.rO){au=aL.rO/kA;}aW.wv(au,au,cC.x,cC.y);aW.lB(aL,F.dV());eD=null;as.iF(aW);};this.YX=function(au){var bS=F.dV();this.abG(au,{x:bS.width/2,y:bS.height/2});};this.abG=function(au,cC){IPCC.av.jP(au,'factor',1.01,20);IPCC.av.aT(cC,'point');pp();var as=F.aa();var aW=as.eR();var aL=F.du();var kA=aW.nM();if(kA/au<aL.tw){au=kA/aL.tw;}aW.wv(1/au,1/au,cC.x,cC.y);aW.lB(aL,F.dV());eD=null;as.iF(aW);};this.jv=function(au){var bS=F.dV();this.asA(au,{x:bS.width/2,y:bS.height/2});};this.EV=function(au){var as=F.aa();eD=null;as.EV(au);};this.CT=function(au){var as=F.aa();eD=null;as.CT(au);};this.By=function(au){var as=F.aa();eD=null;as.By(au);};this.asA=function(au,cC){IPCC.av.aT(cC,'point');pp();var as=F.aa();var aW=as.eR();var aL=F.du();var kA=aW.nM();if(au>aL.rO){au=aL.rO;}else if(au<aL.tw){au=aL.tw;}aW.wv(au/kA,au/kA,cC.x,cC.y);aW.lB(aL,F.dV());eD=null;as.iF(aW);};this.wr=function(sd){IPCC.av.Sx(sd,'degreesClockwise',[90,180,270,-90,-180,-270]);pp();var as=F.aa();var aW=as.eR();var bS=F.dV();aW.adt(sd,bS.width/2,bS.height/2);aW.lB(F.du(),F.dV());eD=null;as.iF(aW);};this.alI=function(){pp();var as=F.aa();var aW=as.eR();var bS=F.dV();aW.wv(-1,1,bS.width/2,bS.height/2);aW.lB(F.du(),F.dV());eD=null;as.iF(aW);};this.anL=function(dJ){IPCC.av.R(dJ,'pageRectangle');pp();var as=F.aa();var aW=as.eR();var bS=F.dV();var aL=F.du();aW.Mq(aL,bS,dJ);aW.lB(aL,F.dV());eD=null;as.iF(aW);};this.apr=function(cJ){IPCC.av.aT(cJ,'imagePoint');pp();var as=F.aa();var aW=as.eR();var bS=F.dV();aW.aaC(bS,cJ);aW.lB(F.du(),F.dV());eD=null;as.iF(aW);};this.agN=function(){pp();eD=null;var as=F.aa();var aW=as.eR();var bS=F.dV();aW.wv(1,-1,bS.width/2,bS.height/2);aW.lB(F.du(),F.dV());eD=null;as.iF(aW);};this.cA=function(){F.cA();};this.FT=function(){F.FT();};var ZV=function(){var aL=F.du();var bS=F.dV();var aW;if(!eD){aW=F.aa().eR();aW.lB(aL,bS);F.aa().iF(aW);return;}if(eD.axp){aW=F.aa().eR();}else{aW=new IPCC.fh();aW.aBQ(aL,bS);if(eD.viewRotationDegreesClockwise){aW.rotate(eD.viewRotationDegreesClockwise);}if(eD.viewMirror){aW.aqM(bS);}}if(eD.viewZoomFactor){if(eD.viewZoomFactor>aL.rO){eD.viewZoomFactor=aL.rO;}else if(eD.viewZoomFactor<aL.tw){eD.viewZoomFactor=aL.tw;}eD.viewFitType=IPCC.Web.UI.FitType.ActualSize;aW.Uz(eD.viewFitType,aL,bS);aW.scale(eD.viewZoomFactor,eD.viewZoomFactor);}else{if(!eD.viewFitType&&eD.viewFitType!==0){eD.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eD.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eD.viewRectangle){eD.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eD.viewFitType!==IPCC.Web.UI.FitType.Rectangle){aW.Uz(eD.viewFitType,aL,bS);}else{aW.Mq(aL,bS,eD.viewRectangle);}}aW.lB(aL,bS);F.aa().iF(aW);};var ajg=function(Iz){eD=Iz;KV=0;ZV();};this.MK=function(ag){yH++;var Vn=yH;var auU={};IP=0.0;F.Qd=0.0;IPCC.fU.akk(ag);if(lM(IPCC.Web.UI.DebugErrorLevel.Development)){var cK='opening documentIdentifier "'+ag.documentIdentifier+'", pageNumber '+ag.pageNumber;this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);}ad=new IPCC.Web.UI.PageViewState();var C;for(C in ag){if(ag.hasOwnProperty(C)){ad[C]=ag[C];}}if(ag.documentIdentifier===''){this.PG();return;}if(IPCC.Web.UI.ArtPage){if(ad){if(!ad.artPage){var ap=new IPCC.Web.UI.ArtPage();if(ad.artPageJson){ap.loadFromJson(ad.artPageJson);}ad.artPage=ap;}if(!ad.documentArtPage){var fg=new IPCC.Web.UI.ArtPage();ad.documentArtPage=fg;}if(this.jL()===true){if(!ad.imGearPage){var hG=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ag.documentIdentifier,imageServicePath:this.uJ()});ad.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ag.pageNumber,aP:hG});hG.get_pages().addPage(ad.imGearPage);}if(!ad.transientArtPage){ad.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ad.viewRotationDegreesClockwise){IPCC.av.Sx(ad.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ad.viewFitType){IPCC.av.jD(ad.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ad.viewZoomFactor){IPCC.av.jP(ad.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bg('pageOpening',ag);var bM=new IPCC.fU(ag.encodedDocumentIdentifier,ag.pageNumber,0,0,0,0);var qH=function(){if(Vn!==yH){return;}var sQ=null;if(F.du()){sQ=Mw();}F.aa().nD();F.xO(bM);ajg(ad);if(ag.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ad){if(ad.artPage){F.nx(ad.artPage);F.ea().loadFromJson(bM.atD);}}}else{if(ad){if(ad.artPage){F.nx(ad.artPage);}if(ad.documentArtPage){F.IR(ad.documentArtPage);}if(F.jL()===true){if(ad.imGearPage){var Tp=ad.imGearPage.get_pageWidth();var Rn=ad.imGearPage.get_pageHeight();ad.imGearPage.lF(ht.jh());if(!Tp){ad.imGearPage.MT(ht.get_pageWidth());}if(!Rn){ad.imGearPage.Oh(ht.get_pageHeight());}F.DH(ad.imGearPage);if(typeof(F.nq().yQ==='function')){if(!F.nq().cF().xm()){ad.imGearPage.wi(ht.jJ());setTimeout(F.nq().yQ,1000);}}}if(ad.transientArtPage){F.Cq(ad.transientArtPage);}}}}ad=null;if(sQ){bg('pageClosed',sQ);}Cr();bg('pageOpened',ag);};if(ag.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ad){if(!ad.artPageJson){bM.aFm(F.uJ(),F,qH,auU);}else{bM.TX(F.uJ(),F,qH);}}}else{bM.TX(F.uJ(),F,qH);}};this.PG=function(){yH++;if(!(F.du())){return;}var sQ=Mw();F.xO(undefined);F.nx(undefined);F.DH(undefined);F.Cq(undefined);this.cA();Cr();sQ=undefined;ad=undefined;eD=undefined;var dm;dm=ht.mp();if(dm.igElements){if(dm.igElements.pW){dm.igElements.pW.zv=null;dm.igElements.pW.vW=null;dm.igElements.pW.Iw=null;dm.igElements.pW=null;}dm.igElements.Ef=null;dm.igElements.fN=null;dm.igElements.fT=null;dm.igElements.de=null;dm.igElements.mf=null;dm.igElements.nj=null;dm.igElements.md=null;dm.igElements.qv=null;dm.igElements.Mn=null;dm.igElements.VC=null;dm.igElements.pP=null;}ht=null;dm.am=null;bg('pageClosed',sQ);};this.aFx=function(ag){yH++;var Vn=yH;IP=0.0;F.Qd=0.0;IPCC.fU.akk(ag);if(lM(IPCC.Web.UI.DebugErrorLevel.Development)){var cK='opening documentIdentifier "'+ag.documentIdentifier+'", pageNumber '+ag.pageNumber;this.wN(cK,IPCC.Web.UI.DebugErrorLevel.Development);}ad=new IPCC.Web.UI.PageViewState();var C;for(C in ag){if(ag.hasOwnProperty(C)){ad[C]=ag[C];}}if(ag.documentIdentifier===''){this.PG();return;}if(IPCC.Web.UI.ArtPage){if(ad){if(!ad.artPage){var ap=new IPCC.Web.UI.ArtPage();ad.artPage=ap;}if(!ad.documentArtPage){var fg=new IPCC.Web.UI.ArtPage();ad.documentArtPage=fg;}if(this.jL()===true){if(!ad.imGearPage){var hG=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ag.documentIdentifier,imageServicePath:this.uJ()});ad.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ag.pageNumber,aP:hG});hG.get_pages().addPage(ad.imGearPage);}if(!ad.transientArtPage){ad.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ad.viewRotationDegreesClockwise){IPCC.av.Sx(ad.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ad.viewFitType){IPCC.av.jD(ad.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ad.viewZoomFactor){IPCC.av.jP(ad.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bg('pageOpening',ag);var bM=new IPCC.fU(ag.encodedDocumentIdentifier,ag.pageNumber,0,0,0,0);var qH=function(){if(Vn!==yH){return;}var sQ=null;if(F.du()){sQ=Mw();}F.aa().nD();F.xO(bM);ajg(ad);if(ad){if(ad.artPage){F.nx(ad.artPage);}if(ad.documentArtPage){F.IR(ad.documentArtPage);}if(F.jL()===true){if(ad.imGearPage){var Tp=ad.imGearPage.get_pageWidth();var Rn=ad.imGearPage.get_pageHeight();ad.imGearPage.lF(ht.jh());if(!Tp){ad.imGearPage.MT(ht.get_pageWidth());}if(!Rn){ad.imGearPage.Oh(ht.get_pageHeight());}F.DH(ad.imGearPage);if(typeof(F.nq().yQ==='function')){if(!F.nq().cF().xm()){ad.imGearPage.wi(ht.jJ());setTimeout(F.nq().yQ,1000);}}}if(ad.transientArtPage){F.Cq(ad.transientArtPage);}}}ad=null;if(sQ){bg('pageClosed',sQ);}Cr();bg('pageOpened',ag);};bM.aFz(F.uJ(),F,qH);};this.aFn=function(){yH++;if(!(F.du())){return;}var bM=F.du();F.xO(undefined);this.cA();F.xO(bM);};this.ZX=function(De){F.ZX(De);};this.nx=function(h){F.nx(h);};this.ea=function(){return F.ea();};this.IR=function(h){F.IR(h);};this.OB=function(){return F.OB();};this.mO=function(){return F.mO();};this.Cq=function(h){F.Cq(h);};this.Df=function(){return F.Df();};this.aEH=function(h){F.aEH(h);};this.Kn=function(h){F.Kn(h);};this.tG=function(){return F.tG();};this.aCK=function(h){agS=this.aqU(h);};this.it=function(){return agS;};this.aeH=function(h){F.aeH(h);};this.aaa=function(){return F.aaa();};this.lK=function(){return F.lK();};this.qW=function(h){F.qW(h);};this.adM=function(h){F.adM(h);};this.abn=function(){return F.abn();};this.Uy=function(aDs){F.Uy(aDs);};this.Ui=function(){return F.Ui();};this.aqU=function(ay){var al='',QT='',SA=function(by){var rZ=0,al;for(al in by){if(by.hasOwnProperty(al)){rZ+=1;}}return rZ;};for(al in pO){if(pO.hasOwnProperty(al)){if(typeof ay[al]==='undefined'){ay[al]=pO[al];}if(typeof ay[al]==='object'){if(!SA(ay[al])){ay[al]=pO[al];}else if(SA(ay[al])!==SA(pO[al])){for(QT in pO[al]){if(typeof ay[al][QT]==='undefined'){ay[al][QT]=pO[al][QT];}}}}}}return ay;};this.aBn=function(aBS){if(aBS===false){IPCC.hX=false;F.ec([new IPCC.mc(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}else{IPCC.hX=true;IPCC.aab=this.it();F.ec([new IPCC.mc(),new IPCC.db(),new IPCC.gx(),new IPCC.cv(),new IPCC.ct(false)]);}};this.nD=function(){var as=F.aa();if(!as.zK()){return;}F.aa().nD();};this.apt=function(dJ){IPCC.av.R(dJ,'pageRectangle');var bM=F.du();if(bM){F.aa().showSelection(dJ);}};this.Et=function(cJ){IPCC.av.aT(cJ,'imagePoint');if(F.du()){F.aa().Et(new IPCC.Web.UI.Point(cJ.x,cJ.y));}};this.zy=function(cJ){IPCC.av.aT(cJ,'imagePoint');if(F.du()){F.aa().zy(new IPCC.Web.UI.Point(cJ.x,cJ.y));}};this.vX=function(){if(F.du()&&F.aa().zK()){return F.aa().vX();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aDC=function(){if(F.du()&&F.aa().zK()){var dJ=F.aa().vX();return F.aa().eR().BZ(dJ);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.zK=function(){return! !(F.du()&&F.aa().zK());};this.uJ=function(){return F.uJ();};this.VV=function(h){IPCC.av.lY(h,'value');F.VV(h);};this.aEk=function(){return RY;};this.aBj=function(h){IPCC.av.lY(h,'value');RY=h;};this.aGp=function(){return Mf;};this.azr=function(h){Mf=h;};var uB='';this.tF=function(h){F.tF(h);uB=h;};this.mp=function(){return uB;};this.aDt=function(){return F.aa().get_magnifierMagnification();};this.aBM=function(h){IPCC.av.jP(h,'value',1.5,8);F.aa().set_magnifierMagnification(h);};this.aDv=function(){return F.aa().uW().width;};this.aBJ=function(h){IPCC.av.jP(h,'value',25,500);var rZ=F.aa().uW();rZ.width=h;F.aa().set_magnifierWindowSize(rZ);};this.aDi=function(){return F.aa().uW().height;};this.aBN=function(h){IPCC.av.jP(h,'value',25,500);var rZ=F.aa().uW();rZ.height=h;F.aa().set_magnifierWindowSize(rZ);};this.Qb=function(){return F.aa().Qb();};this.UU=function(h){IPCC.av.jP(h,'value',-500,500);F.aa().UU(h);};this.Qn=function(){return F.aa().Qn();};this.Uj=function(h){IPCC.av.jP(h,'value',-500,500);F.aa().Uj(h);};this.abH=function(){return F.aa().abH();};this.Vj=function(h){IPCC.av.jP(h,'value',0.1,0.5);F.aa().Vj(h);};this.AO=function(){return F.aa().AO();};this.IQ=function(h){F.aa().IQ(h);};this.raisePropertyChanged=function(cq,yB){if(F){F.cY(cq,yB);}};var bD= -1;this.abE=function(){return bD;};this.aHg=function(h){F.ro=h;};this.Py=function(h){F.set_areMarksEditable(h);};this.aFW=function(){return F.set_areMarksEditable();};this.JZ=function(h){IPCC.av.jD(h,'value',IPCC.Web.UI.MouseTool);if(bD!==h){bD=h;var hL="None";switch(bD){case IPCC.Web.UI.MouseTool.None:F.ec([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.hX===true){F.ec([new IPCC.qA(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.qA(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);hL="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.hX===true){F.ec([new IPCC.mc(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.mc(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.hX===true){F.ec([new IPCC.oB(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(true)]);}else{F.ec([new IPCC.oB(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(true)]);}hL="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.hX===true){F.ec([new IPCC.oO(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.oO(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Rectangle),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Rectangle),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Ellipse),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Ellipse),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.hX===true){F.ec([new IPCC.nz(),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.nz(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.hX===true){F.ec([new IPCC.kE(IPCC.Web.UI.MarkType.Polyline),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.kE(IPCC.Web.UI.MarkType.Polyline),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.hX===true){F.ec([new IPCC.mI(),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.mI(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.hX===true){F.ec([new IPCC.kE(IPCC.Web.UI.MarkType.Polygon),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.kE(IPCC.Web.UI.MarkType.Polygon),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.TextLine),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.TextLine),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);hL="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.hX===true){F.ec([new IPCC.ma(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.ma(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.hX===true){F.ec([new IPCC.yA(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.yA(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Stamp),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.Stamp),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.hX===true){F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.fE(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:F.Gl=true;if(IPCC.hX===true){F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:F.Gl=false;if(IPCC.hX===true){F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.gx(false,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.hX===true){F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.gx(true,this.it()),new IPCC.cv(),new IPCC.ct(false)]);}else{F.ec([new IPCC.ko(),new IPCC.db(),new IPCC.cv(),new IPCC.ct(false)]);}hL="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:hL});}};this.Hl=function(aph){bD= -1;F.ec(aph);};this.aDY=function(){return F.aa().get_presentationQuality();};this.aCR=function(h){IPCC.av.jP(h,'value',0,100);F.aa().set_presentationQuality(h);};this.aEg=function(){return F.aa().get_scrollBars();};this.aBO=function(h){IPCC.av.jD(h,'value',IPCC.Web.UI.ScrollBars);F.aa().set_scrollBars(h);};this.avR=function(cJ,apV){IPCC.av.aT(cJ,'imagePoint');if(!(F.du())){return new IPCC.Web.UI.Point(0,0);}var cC=F.aa().eR().transform(cJ);if(apV){cC.constrain(F.dV());}return cC;};this.Lh=function(cC,aqd){IPCC.av.aT(cC,'windowPoint');var bM=F.du();if(!bM){return new IPCC.Web.UI.Point(0,0);}var qV=F.aa().eR();qV.wg();var cJ=qV.transform(cC);if(aqd){cJ.constrain(bM);}return cJ;};function atQ(){var dm;dm=ht.mp();var agI=dm.clientWidth;var afy=dm.clientHeight;var ayc=(eD&&eD.viewFitType===adJ&&agI===adO&&afy===acM);if(ayc){if(KV>2){return;}KV++;}else{adJ=eD?eD.viewFitType: -1;adO=agI;acM=afy;KV=0;}ZV();};function auR(){eD=null;};function arF(bn,T){switch(T.eE){case IPCC.fc.aaF:ht.abC(1.25,T.To.windowPoint);break;case IPCC.fc.aaB:ht.abG(1.25,T.To.windowPoint);break;case IPCC.fc.ZW:ht.wr(T.h);break;case IPCC.fc.ahv:ht.agN();break;case IPCC.fc.alS:ht.alI();break;case IPCC.fc.abg:ht.Vz(T.h);break;case IPCC.fc.aeF:ht.JZ(T.h);break;}};this.jL=function(){return F.jL();};this.Je=function(h){F.Je(h);};this.cF=function(){return F.cF();};this.nq=function(){return F.nq();};this.DH=function(h){F.DH(h);};this.xh=function(){return F.get_requireRequestsOptimize();};this.JR=function(h){F.JR(h);};this.jJ=function(){return F.jJ();};this.wi=function(h){F.wi(h);};this.JV=function(cJ){IPCC.av.aT(cJ,'imagePoint');return F.JV(cJ);};this.Aq=function(dO){F.Aq(dO);};this.Za=function(){F.Za();};this.Ok=function(wX,dQ){var IU=F.cF().hJ().en();IPCC.av.nL(wX,'wX',0,IU-1);F.Ok(wX,dQ);};this.tA=function(dO){if(dO===undefined){F.aa().tA(dO);return false;}var IU=F.cF().hJ().en();IPCC.av.nL(dO,'textIndex',0,IU-1);F.tA(dO);return true;};this.Fb=function(){return! !(F.du()&&F.jL()&&F.cF().nu()===true&&F.aa().Fb());};this.Zh=function(){var as=F.aa();as.Zh();};this.Qk=function(){if(F.jL()&&F.cF().nu()===true){return Math.min(F.aa().aiL(),F.aa().AW());}};this.BJ=function(){if(F.jL()&&F.cF().nu()===true){return F.aa().BJ();}};this.Dg=function(){if(F.jL()&&F.cF().nu()===true&&F.aa().Fb()){return F.Dg();}else{return "";}};this.AW=function(){return F.aa().AW();};this.aEe=function(){return F.get_cursor();};this.aBL=function(h){F.set_cursor(h);};this.yd=function(){return F.yd();};this.Vs=function(h){F.Vs(h);};this.jh=function(){return F.jh();};this.lF=function(h){F.lF(h);};this.ayu=function(){F.aa().hideMagnifier();};this.aoi=function(cC){F.aa().showMagnifier(cC);};this.xa=function(G){if(F.mi().igElements){F.xa(G);F.cA();}};this.Ks=function(){F.Ks();};this.CJ=function(){return F.CJ();};this.pD=function(){if(F.mi().igElements){F.pD(true);}};function auk(bn,T){var yY=T.scaleFactor;var aA={scaleType:"scaledDown",pageNumber:T.pageNumber};if(IP!==yY){if(yY>IP){aA.scaleType="scaledUp";}IP=yY;bg('scaleChanged',aA);}};this.initialize=function(){F.aAP(this.mp().id);F.tF(this.mp().id);if(bD=== -1){this.JZ(IPCC.Web.UI.MouseTool.RectangleZoom);}oY('mouseDown');oY('mouseMove');oY('mouseUp');oY('contextMenu');oY('markCreating');oY('pageOpenFailed');oY('textPageReady');oY('pageDisplayed');oY('exceptionThrown');oY('selectTextMouseToolCompleted');Ko('markAdded');Ko('markChanged');Ko('markRemoved');oY('textExtractionFailed');Ko('markReordered');Ko('marksLoaded');oY('markSelectionChanged');aAY();F.asx(atQ);F.arQ(auR);F.ato(arF);F.add_scaleChanged(auk);F.awx();var dm=this.mp();dm.am=this;};rg=(rg!==false);F=new IPCC.aao(rg);F.aCD('PageView');F.aCW(KA);};acm.prototype={dispose:function(){this.az('dispose',arguments);this.PG();},get_debug:function(){try{var bp=this.JW();this.di('get_debug',arguments,bp);return bp;}catch(e){this.bz('get_debug',e);throw e;}},set_debug:function(value){try{this.az('set_debug',arguments);var Au=this.JW();this.Vb(value);if(!Au){this.az('set_debug',arguments);}}catch(e){this.bz('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bp=this.xu();this.di('get_debugErrorLevel',arguments,bp);return bp;}catch(e){this.bz('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.az('set_debugErrorLevel',arguments);var Au=this.xu();this.Jf(value);if(Au<IPCC.Web.UI.DebugErrorLevel.Development){this.az('set_debugErrorLevel',arguments);}}catch(e){this.bz('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bp=this.Ui();this.di('get_artServiceOption',arguments,bp);return bp;}catch(e){this.bz('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.az('set_artServiceOption',arguments);this.Uy(value);}catch(e){this.bz('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.XF(handler);}catch(e){this.bz('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Yn(handler);}catch(e){this.bz('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Wf(handler);}catch(e){this.bz('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Yw(handler);}catch(e){this.bz('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.ats(handler);}catch(e){this.bz('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.awv(handler);}catch(e){this.bz('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GS(handler);}catch(e){this.bz('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.EW(handler);}catch(e){this.bz('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XJ(handler);}catch(e){this.bz('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ze(handler);}catch(e){this.bz('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Ns(handler);}catch(e){this.bz('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.ZP(handler);}catch(e){this.bz('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Os(handler);}catch(e){this.bz('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.YO(handler);}catch(e){this.bz('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.MR(handler);}catch(e){this.bz('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yr(handler);}catch(e){this.bz('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.ash(handler);}catch(e){this.bz('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.axd(handler);}catch(e){this.bz('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.zq(handler);}catch(e){this.bz('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zM(handler);}catch(e){this.bz('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Ww(handler);}catch(e){this.bz('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.YP(handler);}catch(e){this.bz('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Hd(handler);}catch(e){this.bz('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fn(handler);}catch(e){this.bz('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.As(handler);}catch(e){this.bz('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.AJ(handler);}catch(e){this.bz('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Gg(handler);}catch(e){this.bz('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.FE(handler);}catch(e){this.bz('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Xz(handler);}catch(e){this.bz('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Zy(handler);}catch(e){this.bz('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.Hq(handler);}catch(e){this.bz('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fe(handler);}catch(e){this.bz('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wr(handler);}catch(e){this.bz('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Zo(handler);}catch(e){this.bz('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.AP(handler);}catch(e){this.bz('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.CP(handler);}catch(e){this.bz('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.WD(handler);},remove_exceptionThrown:function(handler){this.YH(handler);},add_scaleChanged:function(handler){try{this.Wg(handler);}catch(e){this.bz('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Zw(handler);}catch(e){this.bz('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.kH(handler);}catch(e){this.bz('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.ml(handler);}catch(e){this.bz('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.Aw(handler);},remove_textExtractionFailed:function(handler){this.Bn(handler);},writeToLog:function(message){try{this.mn(message);}catch(e){this.bz('writeToLog',e);throw e;}},fitPage:function(type){try{this.az('fitPage',arguments);this.Vz(type);}catch(e){this.bz('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bp=this.fH();this.di('get_pageIsOpen',arguments,bp);return bp;}catch(e){this.bz('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bp=this.kq();this.di('get_pageWidth',arguments,bp);return bp;}catch(e){this.bz('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bp=this.ig();this.di('get_pageHeight',arguments,bp);return bp;}catch(e){this.bz('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bp=this.aEA();this.di('get_pageXResolution',arguments,bp);return bp;}catch(e){this.bz('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bp=this.aEy();this.di('get_pageYResolution',arguments,bp);return bp;}catch(e){this.bz('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bp=this.Kv();this.di('get_documentIdentifier',arguments,bp);return bp;}catch(e){this.bz('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bp=this.OI();this.di('get_encodedDocumentIdentifier',arguments,bp);return bp;}catch(e){this.bz('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bp=this.nJ();this.di('get_pageNumber',arguments,bp);return bp;}catch(e){this.bz('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bp=this.aEU();this.di('get_documentPageCount',arguments,bp);return bp;}catch(e){this.bz('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bp=this.aja();this.di('get_displayedPageRectangle',arguments,bp);return bp;}catch(e){this.bz('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bp=this.PJ();this.di('get_currentState',arguments,bp);return bp;}catch(e){this.bz('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.az('zoomIn',arguments);this.Pm(factor);}catch(e){this.bz('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.az('zoomOut',arguments);this.YX(factor);}catch(e){this.bz('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.az('set_sharpening',arguments);this.EV(factor);}catch(e){this.bz('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.az('set_gamma',arguments);this.CT(factor);}catch(e){this.bz('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.az('set_svgLineWidthMultiplier',arguments);this.By(factor);}catch(e){this.bz('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.az('zoom',arguments);this.jv(factor);}catch(e){this.bz('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.az('rotate',arguments);this.wr(degreesClockwise);}catch(e){this.bz('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.az('showPageRectangle',arguments,1);this.anL(imageRectangle);}catch(e){this.bz('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.az('showPagePointAtCenter',arguments,1);this.apr(imagePoint);}catch(e){this.bz('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.az('mirror',arguments);this.alI();}catch(e){this.bz('mirror',e);throw e;}},flip:function(){try{this.az('flip',arguments);this.agN();}catch(e){this.bz('flip',e);throw e;}},display:function(){try{this.az('display',arguments);this.cA();}catch(e){this.bz('display',e);throw e;}},openPage:function(parameters){try{this.az('openPage',arguments,1);this.MK(parameters);}catch(e){this.bz('openPage',e);throw e;}},closePage:function(){try{this.az('closePage',arguments);this.PG();}catch(e){this.bz('closePage',e);throw e;}},hideSelection:function(){try{this.az('hideSelection',arguments);this.nD();}catch(e){this.bz('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.az('showSelection',arguments);this.apt(imageRectangle);}catch(e){this.bz('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.az('showEmptySelection',arguments);this.Et(imagePoint);}catch(e){this.bz('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.az('extendSelection',arguments);this.zy(imagePoint);}catch(e){this.bz('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.az('saveArtPage',arguments);this.ZX(onSave);}catch(e){this.bz('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bp=this.vX();this.di('get_selectionPageRectangle',arguments,bp);return bp;}catch(e){this.bz('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bp=this.aDC();this.di('get_selectionWindowRectangle',arguments,bp);return bp;}catch(e){this.bz('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bp=this.zK();this.di('get_selectionIsVisible',arguments,bp);return bp;}catch(e){this.bz('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bp=this.aEk();this.di('get_controlStateElementId',arguments,bp);return bp;}catch(e){this.bz('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.az('set_controlStateElementId',arguments);this.aBj(value);}catch(e){this.bz('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bp=this.aGp();this.di('get_includeArtInPostBack',arguments,bp);return bp;}catch(e){this.bz('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.az('set_includeArtInPostBack',arguments);this.azr(value);}catch(e){this.bz('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bp=this.ea();this.di('get_artPage',arguments,bp);return bp;}catch(e){this.bz('get_artPage',e);throw e;}},set_artPage:function(value){try{this.az('set_artPage',arguments);this.nx(value);}catch(e){this.bz('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bp=this.OB();this.di('get_documentArtPage',arguments,bp);return bp;}catch(e){this.bz('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.az('set_documentArtPage',arguments);this.IR(value);}catch(e){this.bz('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bp=this.mO();this.di('get_transientArtPage',arguments,bp);return bp;}catch(e){this.bz('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.az('set_transientArtPage',arguments);this.Cq(value);}catch(e){this.bz('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bp=this.uJ();this.di('get_imageHandlerUrl',arguments,bp);return bp;}catch(e){this.bz('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.az('set_imageHandlerUrl',arguments);this.VV(value);}catch(e){this.bz('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bp=this.tG();this.di('get_resourcePath',arguments,bp);return bp;}catch(e){this.bz('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.az('set_resourcePath',arguments);this.Kn(h);}catch(e){this.bz('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bp=this.it();this.di('get_contextMenuLanguageDictionary',arguments,bp);return bp;}catch(e){this.bz('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(h){try{this.az('set_contextMenuLanguageDictionary',arguments);this.aCK(h);}catch(e){this.bz('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bp=this.jL();this.di('get_textRequired',arguments,bp);return bp;}catch(e){this.bz('get_textRequired',e);throw e;}},set_textRequired:function(h){try{this.az('set_textRequired',arguments);this.Je(h);}catch(e){this.bz('set_textRequired',e);throw e;}},get_textPage:function(){try{var bp=this.cF();this.di('get_textPage',arguments,bp);return bp;}catch(e){this.bz('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bp=this.Fb();this.Ct('textSelectionIsVisible',arguments,bp,1);return bp;}catch(e){this.bz('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bp=this.Dg();this.Ct('getSelectedText',arguments,bp,1);return bp;}catch(e){this.bz('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bp=this.xh();this.di('get_requireRequestsOptimize',arguments,bp);return bp;}catch(e){this.bz('xh',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.az('set_requireRequestsOptimize',arguments);this.JR(value);}catch(e){this.bz('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bp=this.aDt();this.di('get_magnifierMagnification',arguments,bp);return bp;}catch(e){this.bz('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.az('set_magnifierMagnification',arguments);this.aBM(value);}catch(e){this.bz('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bp=this.aDv();this.di('get_magnifierWidth',arguments,bp);return bp;}catch(e){this.bz('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.az('set_magnifierWidth',arguments);this.aBJ(value);}catch(e){this.bz('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bp=this.aDi();this.di('get_magnifierHeight',arguments,bp);return bp;}catch(e){this.bz('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.az('set_magnifierHeight',arguments);this.aBN(value);}catch(e){this.bz('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bp=this.Qb();this.di('get_magnifierXOffset',arguments,bp);return bp;}catch(e){this.bz('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.az('set_magnifierXOffset',arguments);this.UU(value);}catch(e){this.bz('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bp=this.Qn();this.di('get_magnifierYOffset',arguments,bp);return bp;}catch(e){this.bz('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.az('set_magnifierYOffset',arguments);this.Uj(value);}catch(e){this.bz('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.az('showMagnifier',arguments,1);this.aoi(windowPoint);}catch(e){this.bz('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.az('hideMagnifier',arguments);this.ayu();}catch(e){this.bz('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bp=this.abH();this.di('get_markHandleSize',arguments,bp);return bp;}catch(e){this.bz('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.az('set_markHandleSize',arguments);this.Vj(value);}catch(e){this.bz('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bp=this.AO();this.di('get_markHandleMode',arguments,bp);return bp;}catch(e){this.bz('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.az('set_markHandleMode',arguments);this.IQ(value);}catch(e){this.bz('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bp=this.abE();this.di('get_mouseTool',arguments,bp);return bp;}catch(e){this.bz('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.az('set_mouseTool',arguments);this.JZ(value);}catch(e){this.bz('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bp=this.aDY();this.di('get_presentationQuality',arguments,bp);return bp;}catch(e){this.bz('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.az('set_presentationQuality',arguments);this.aCR(value);}catch(e){this.bz('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bp=this.aEg();this.di('get_scrollBars',arguments,bp);return bp;}catch(e){this.bz('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.az('set_scrollBars',arguments);this.aBO(value);}catch(e){this.bz('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bp=this.nq();this.di('get_imGearPage',arguments,bp);return bp;}catch(e){this.bz('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.az('set_imGearPage',arguments);this.DH(value);}catch(e){this.bz('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bp=this.jJ();this.di('get_serviceResponseTimeout',arguments,bp);return bp;}catch(e){this.bz('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.az('set_serviceResponseTimeout',arguments);this.wi(value);}catch(e){this.bz('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bp=this.AW();this.di('get_currentTextIndex',arguments,bp);return bp;}catch(e){this.bz('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bp=this.aEe();this.di('get_cursor',arguments,bp);return bp;}catch(e){this.bz('get_cursor',e);throw e;}},set_cursor:function(value){try{this.az('set_cursor',arguments);this.aBL(value);}catch(e){this.bz('set_cursor',e);throw e;}},get_encryption:function(){try{var bp=this.jh();this.di('get_encryption',arguments,bp);return bp;}catch(e){this.bz('get_encryption',e);throw e;}},set_encryption:function(value){try{this.az('set_encryption',arguments);this.lF(value);}catch(e){this.bz('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bp=this.avR(imagePoint,constrainResultToWindow);this.Ct('transformPagePointToWindow',arguments,bp,1);return bp;}catch(e){this.bz('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bp=this.Lh(windowPoint,constrainResultToImage);this.Ct('transformWindowPointToPage',arguments,bp,1);return bp;}catch(e){this.bz('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bp=this.JV(pagePoint);this.Ct('transformPagePointToTextIndex',arguments,bp,1);return bp;}catch(e){this.bz('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.az('removeAllHighlights',arguments);this.Za();}catch(e){this.bz('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.az('showTextSelection',arguments);this.Ok(indexOfFirstCharacter,length);}catch(e){this.bz('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.az('showEmptyTextSelection',arguments);this.Aq(textIndex);}catch(e){this.bz('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.az('extendTextSelection',arguments);this.tA(textIndex);}catch(e){this.bz('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.az('initializeViewControllers',arguments);this.aBn(showArtContextMenu);}catch(e){this.bz('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bp=this.yd();this.di('get_autoUpdate',arguments,bp);return bp;}catch(e){this.bz('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.az('set_autoUpdate',arguments);this.Vs(value);}catch(e){this.bz('set_autoUpdate',e);throw e;}}};module.exports=acm;},{}],116:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var oW=require('./FitType');var Mj=function(){return this;};Mj.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:oW.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Mj.registerClass=cQ;Mj.registerClass('IPCC.Web.UI.PageViewState');module.exports=Mj;},{"../../IPCC.Util":29,"./FitType":76}],117:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var wn=function(x,y){this.x=x;this.y=y;return this;};wn.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};wn.registerClass=cQ;wn.registerClass('IPCC.Web.UI.Point');module.exports=wn;},{"../../IPCC.Util":29}],118:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var QY=function(){var ar=[];var aB=new IPCC.Web.UI.fZ();this.asb=function(aT){var T=new IPCC.Web.UI.PointEventArgs();T.point=aT;T.length=1;ar.push(new IPCC.Web.UI.Point(aT.x,aT.y));T.index=ar.length-1;this.bg('pointAdded',T);};this.asF=function(aey){var T=new IPCC.Web.UI.PointEventArgs();T.index=ar.length;T.length=aey.get_length();function nN(aT){ar.push(aT);};aey.forEach(nN,{});if(T.length>0){this.bg('pointAdded',T);}};this.jK=function(iA,dA){var XR=[].concat(ar);var C;for(C=0;C<XR.length;C++){iA.call(dA,new IPCC.Web.UI.Point(XR[C].x,XR[C].y),C,this);}};this.Ac=function(ba){kg(ba);var fo=ar[ba];return new IPCC.Web.UI.Point(fo.x,fo.y);};this.aCc=function(ba,aT){kg(ba);IPCC.av.aT(aT,'point');var QV=ar[ba];if(QV.x===aT.x&&QV.y===aT.y){return;}QV.x=aT.x;QV.y=aT.y;var T=new IPCC.Web.UI.PointEventArgs();T.point=aT;T.index=ba;T.length=1;this.bg('pointChanged',T);};this.en=function(){return ar.length;};this.avo=function(ba){kg(ba);var T=new IPCC.Web.UI.PointEventArgs();T.point=ar[ba];T.index=ba;T.length=1;ar.splice(ba,1);this.bg('pointRemoved',T);};this.avA=function(){if(ar.length<1){return;}var T=new IPCC.Web.UI.PointEventArgs();T.index=0;T.length=ar.length;ar=[];this.bg('pointRemoved',T);};this.akw=function(dU,dW){if(dU===0&&dW===0){return;}IPCC.av.hx(dU,'deltaX');IPCC.av.hx(dW,'deltaY');var C;for(C=0;C<ar.length;C++){ar[C].x+=dU;ar[C].y+=dW;}var T=new IPCC.Web.UI.PointEventArgs();T.index=0;T.length=ar.length;this.bg('pointChanged',T);};this.vq=function(){if(ar.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var C,hg=ar[0].x,ju=ar[0].x,_top=ar[0].y,hT=ar[0].y;for(C=1;C<ar.length;C++){var aT=ar[C];hg=Math.min(hg,aT.x);ju=Math.max(ju,aT.x);_top=Math.min(_top,aT.y);hT=Math.max(hT,aT.y);}return new IPCC.Web.UI.Rectangle(hg,_top,ju-hg,hT-_top);};function kg(ba){if(ba>ar.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.art=function(L){aB.addHandler('pointAdded',L);};this.awg=function(L){aB.removeHandler('pointAdded',L);};this.arW=function(L){aB.addHandler('pointChanged',L);};this.awu=function(L){aB.removeHandler('pointChanged',L);};this.asS=function(L){aB.addHandler('pointRemoved',L);};this.avP=function(L){aB.removeHandler('pointRemoved',L);};this.bg=function(dH,T){var L=aB.getHandler(dH);if(L!==null){L(this,T);}};return this;};QY.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.asb(point);},addPoints:function(pointCollection){this.asF(pointCollection);},forEach:function(method,context){this.jK(method,context);},getPoint:function(index){return this.Ac(index);},setPoint:function(index,point){this.aCc(index,point);},get_length:function(){return this.en();},removePoint:function(index){this.avo(index);},removeAllPoints:function(){this.avA();},moveAllPoints:function(deltaX,deltaY){this.akw(deltaX,deltaY);},add_pointAdded:function(handler){this.art(handler);},remove_pointAdded:function(handler){this.awg(handler);},add_pointChanged:function(handler){this.arW(handler);},remove_pointChanged:function(handler){this.awu(handler);},add_pointRemoved:function(handler){this.asS(handler);},remove_pointRemoved:function(handler){this.avP(handler);}};QY.registerClass=cQ;QY.registerClass('IPCC.Web.UI.PointCollection');module.exports=QY;},{"../../IPCC.Util":29}],119:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Sk=function(){return this;};Sk.registerClass=cQ;Sk.prototype={};Sk.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=Sk;},{"../../IPCC.Util":29}],120:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Om=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};Om.prototype={intersect:function(rectangle){var aY=Math.max(this.x,rectangle.x);var bd=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aY;var dc=Math.max(this.y,rectangle.y);var bU=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dc;if(bd<=0||bU<=0){aY=dc=bd=bU=0;}this.x=aY;this.y=dc;this.width=bd;this.height=bU;},union:function(rectangle){var hg=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var ju=Math.max(this.x+this.width,rectangle.x+rectangle.width);var hT=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=hg;this.y=_top;this.width=ju-hg;this.height=hT-_top;return this;},scale:function(Yz,Ny){Ny=Ny||Yz;var hg=this.x*Yz;var _top=this.y*Ny;var bd=this.width*Yz;var bU=this.height*Ny;this.x=hg;this.y=_top;this.width=bd;this.height=bU;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};Om.registerClass=cQ;Om.registerClass('IPCC.Web.UI.Rectangle');module.exports=Om;},{"../../IPCC.Util":29}],121:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Ql=function(){};Ql.registerEnum=fl;Ql.prototype={None:0,Both:3,Auto:4};Ql.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=Ql;},{"../../IPCC.Util":29}],122:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Lv=function(){return this;};Lv.registerClass=cQ;Lv.prototype={};Lv.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Lv;},{"../../IPCC.Util":29}],123:[function(require,module,exports){var xj=require('./../../Type');var Wm={ayf:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').Bc,ImGearHttpException:require('./ImGearExceptions').BU,ImGearArgumentException:require('./ImGearExceptions').uY,ImGearArgumentNullException:require('./ImGearExceptions').Cl,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').rF,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').CA,ImGearInvalidOperationException:require('./ImGearExceptions').Ee,ImGearNotImplementedException:require('./ImGearExceptions').Db,ImGearParameterCountException:require('./ImGearExceptions').Dv,fZ:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),af:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighLightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),ZR:require('./highlightItem')};xj.registerNamespace('IPCC.Web.UI');module.exports=Wm;},{"./../../Type":58,"./ArtPage":67,"./CalloutType":68,"./Comment":69,"./CommentEventArgs":70,"./Conversation":71,"./Data":72,"./DebugErrorLevel":73,"./DebugItemCause":74,"./DomEvent":75,"./FitType":76,"./FontStyle":77,"./HighLightType":78,"./HorizontalAlignment":79,"./ImGearArtDataServices":80,"./ImGearDocument":81,"./ImGearDocumentCollection":82,"./ImGearDocumentCreateArgs":83,"./ImGearDocumentEventArgs":84,"./ImGearDocumentHyperlink":85,"./ImGearEventHandlerList":86,"./ImGearExceptions":87,"./ImGearHyperlinkCollection":88,"./ImGearHyperlinkPage":89,"./ImGearPage":90,"./ImGearPageCollection":91,"./ImGearPageCountStatus":92,"./ImGearPageCreateArgs":93,"./ImGearPageEventArgs":94,"./ImGearPageOpenFailedEventArgs":95,"./ImGearTextCharacter":96,"./ImGearTextCharacterCollection":97,"./ImGearTextPage":98,"./ImGearTextSection":99,"./ImGearTextSectionCollection":100,"./Key":101,"./LineHeadType":102,"./LineStyle":103,"./LogItemEventArgs":104,"./Mark":105,"./MarkCollection":106,"./MarkEventArgs":107,"./MarkHandleMode":108,"./MarkInteractionMode":109,"./MarkType":110,"./MouseButton":111,"./MouseEventArgs":112,"./MouseTool":113,"./Orientation":114,"./PageView":115,"./PageViewState":116,"./Point":117,"./PointCollection":118,"./PointEventArgs":119,"./Rectangle":120,"./ScrollBars":121,"./TextSelectedEventArgs":122,"./VerticalAlignment":124,"./highlightItem":125}],124:[function(require,module,exports){var fl=require('../../IPCC.Util').regEnum;var Mi=function(){};Mi.registerEnum=fl;Mi.prototype={Top:0,Center:1,Bottom:2};Mi.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Mi;},{"../../IPCC.Util":29}],125:[function(require,module,exports){var ZR=function(){this.hs=undefined;this.dn=[];this.aZ={};};module.exports=ZR;},{}],126:[function(require,module,exports){var Wm=require('././UI/UI');var K=require('./../IPCC.Util');var AB=require('./Cipher');var axQ=require('./Hash');var gn=require('./Codec');var CG=require('./Mode');var gv={};gv.aAQ=[];gv.vS=function(aY){return!isNaN(aY-0)&&aY!==null;};gv.xp=function(sr,ci){return IPCC.Web.adc(false,arguments);};gv.ank=function(sr,ci){return IPCC.Web.adc(true,arguments);};gv.adc=function(useLocale,ci){var ah='';var sr=ci[0];for(var C=0;;){var fK=sr.indexOf('{',C);var xn=sr.indexOf('}',C);if((fK<0)&&(xn<0)){ah+=sr.slice(C);break;}if((xn>0)&&((xn<fK)||(fK<0))){if(sr.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}ah+=sr.slice(C,xn+1);C=xn+2;continue;}ah+=sr.slice(C,fK);C=fK+1;if(sr.charAt(C)==='{'){ah+='{';C++;continue;}if(xn<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var Lq=sr.substring(C,xn);var OJ=Lq.indexOf(':');var aje=parseInt((OJ<0)?Lq:Lq.substring(0,OJ),10)+1;if(isNaN(aje)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Vl=(OJ<0)?'':Lq.substring(OJ+1);var sC=ci[aje];if(typeof(sC)==="undefined"||sC===null){sC='';}if(sC.toFormattedString){ah+=sC.toFormattedString(Vl);}else if(useLocale&&sC.ank){ah+=sC.ank(Vl);}else if(sC.format){ah+=sC.format(Vl);}else{ah+=sC.toString();}C=xn+1;}return ah;};gv.aIv=function(Bw){var sj=Bw.length;var xV=Math.ceil(sj/4),NB;var fG=[];fG.length=xV;for(var ky=0,hH=0;ky<xV;ky++,hH+=4){fG[ky]=((Bw[hH]&0xff)<<24)+((Bw[hH+1]&0xff)<<16)+((Bw[hH+2]&0xff)<<8)+(Bw[hH+3]&0xff);}if(hH<sj){NB[ky]=0;for(var xg=0;hH<sj;hH++,xg++){NB[ky]+=(Bw[hH++]&0xff)<<(3-xg);}}return fG;};gv.asC=function(bF){var sj=bF.length;var xV=Math.ceil(sj/4);var fG=[];fG.length=xV;for(var ky=0,hH=0;ky<xV;ky++,hH+=4){fG[ky]=((bF.charCodeAt(hH)&0xff)<<24)+((bF.charCodeAt(hH+1)&0xff)<<16)+((bF.charCodeAt(hH+2)&0xff)<<8)+((bF.charCodeAt(hH+3)&0xff));}if(hH<sj){fG[ky]=0;for(var xg=0;hH<sj;hH++,xg++){fG[ky]+=(bF.charCodeAt(hH++)&0xff)<<(3-xg);}}return fG;};gv.aIx=function(AU){var Cy=new Uint8Array(AU);var sj=Cy.length;var xV=Math.ceil(sj/4),NB;var fG=[];fG.length=xV;for(var ky=0,hH=0;ky<xV;ky++,hH+=4){fG[ky]=(Cy[hH]<<24)+(Cy[hH+1]<<16)+(Cy[hH+2]<<8)+Cy[hH+3];}if(hH<sj){fG[ky]=0;for(var xg=0;hH<sj;hH++,xg++){NB[ky]+=Cy[hH++]<<(3-xg);}}return fG;};gv.GU=function(fG,hS){var al=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.DZ(fG,al,hS);};gv.DZ=function(fG,al,hS){try{var auI=new IPCC.Web.AB.ajl(al);var dG=IPCC.Web.CG.aml.VM(auI,fG,hS);return dG;}catch(aX){return;}};gv.HH=function(Fx){return IPCC.Web.asC(Fx.responseText);};gv.OK=function(){var DQ=new Date();var azi=new Date(DQ.getYear(),DQ.getMonth(),DQ.getDate(),DQ.getHours(),DQ.getMinutes(),DQ.getSeconds());return(+azi);};gv.kP=function(cS,elt){var len=cS.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in cS&&cS[from]===elt){return from;}}return-1;};gv.axn=function aIn(){var jR=0xefc8249d;var sI=function(dG){dG=dG.toString();for(var C=0;C<dG.length;C++){jR+=dG.charCodeAt(C);var fv=0.02519603282416938*jR;jR=fv>>>0;fv-=jR;fv*=jR;jR=fv>>>0;fv-=jR;jR+=fv*0x100000000;}return(jR>>>0)*2.3283064365386963e-10;};sI.yX='Mash 0.9';return sI;};gv.aiv=function aHM(){return(function(ci){var DO=0;var Dx=0;var xf=0;var eK=1;if(ci.length===0){ci=[+new Date()];}var sI=IPCC.Web.axn();DO=sI(' ');Dx=sI(' ');xf=sI(' ');for(var C=0;C<ci.length;C++){DO-=sI(ci[C]);if(DO<0){DO+=1;}Dx-=sI(ci[C]);if(Dx<0){Dx+=1;}xf-=sI(ci[C]);if(xf<0){xf+=1;}}sI=null;var wl=function(){var qo=2091639*DO+eK*2.3283064365386963e-10;DO=Dx;Dx=xf;xf=qo-(eK=qo|0);return xf;};wl.abQ=function(){return wl()*0x100000000;};wl.aGc=function(){return wl()+(wl()*0x200000|0)*1.1102230246251565e-16;};wl.yX='Alea 0.9';wl.ci=ci;return wl;}(Array.prototype.slice.call(arguments)));};gv.oZ=function(){if(this.adm===undefined){var yN=document.createElement("div");yN.style.overflow='scroll';yN.style.position='absolute';yN.style.top='-9999px';document.body.appendChild(yN);this.adm=yN.offsetWidth-yN.clientWidth;document.body.removeChild(yN);}return this.adm;};gv.FP={ajq:function(gc){var GP=[];var YT=IPCC.Web.aiv().abQ;for(var C=0;C<gc;C++){GP.push(YT());}return GP;},Yt:function(gc,ek){var GP=[];var YT=IPCC.Web.aiv(ek).abQ;for(var C=0;C<gc;C++){GP.push(YT());}return GP;},aIa:function(hS,ayl){var gc,iw=true,eV="",JY,SF,XK,Qu,Qf,alm;for(gc=0;gc<4;gc++){if(!iw){eV+='-';}else{iw=false;}Qf=0;for(JY=0;JY<4;JY++){Qu=gc*32+JY*8;SF=IPCC.Web.gB.Vw(hS,Qu,4);eV+=SF.toString(16).toUpperCase();XK=IPCC.Web.gB.Vw(hS,Qu+4,4);eV+=XK.toString(16).toUpperCase();alm=(SF*16+XK+IPCC.Web.gB.Vw(IPCC.Web.al,Qu,8))%256;Qf=Qf|(alm<<(24-(JY*8)));}ayl.aAQ[gc]=Qf;}return eV;}};gv.al=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];gv.gB={Wz:function(cR,sK,ais){cR=IPCC.Web.gB.aen(cR.slice(sK/32),32-(sK&31)).slice(1);return(ais===undefined)?cR:IPCC.Web.gB.PE(cR,ais-sK);},Vw:function(cR,sK,Xn){var aY,SR=Math.floor((-sK-Xn)&31);if((sK+Xn-1^sK)& -32){aY=(cR[sK/32|0]<<(32-SR))^(cR[sK/32+1|0]>>>SR);}else{aY=cR[sK/32|0]>>>SR;}return aY&((1<<Xn)-1);},XA:function(zW,ut){if(zW.length===0||ut.length===0){return zW.concat(ut);}var iU=zW[zW.length-1],ti=IPCC.Web.gB.aan(iU);if(ti===32){return zW.concat(ut);}else{return IPCC.Web.gB.aen(ut,ti,iU|0,zW.slice(0,zW.length-1));}},vG:function(cR){var qi=cR.length,aY;if(qi===0){return 0;}aY=cR[qi-1];return(qi-1)*32+IPCC.Web.gB.aan(aY);},PE:function(cR,dv){if(cR.length*32<dv){return cR;}cR=cR.slice(0,Math.ceil(dv/32));var qi=cR.length;dv=dv&31;if(qi>0&&dv){cR[qi-1]=IPCC.Web.gB.HC(dv,cR[qi-1]&0x80000000>>(dv-1),1);}return cR;},HC:function(dv,aY,eN){if(dv===32){return aY;}return(eN?aY|0:aY<<(32-dv))+dv*0x10000000000;},aan:function(aY){return Math.round(aY/0x10000000000)||32;},aDh:function(cR,fk){if(IPCC.Web.gB.vG(cR)!==IPCC.Web.gB.vG(fk)){return false;}var aY=0,C;for(C=0;C<cR.length;C++){aY|=cR[C]^fk[C];}return(aY===0);},aen:function(cR,ti,Ke,eV){var C,ahA=0,Ub;if(eV===undefined){eV=[];}for(;ti>=32;ti-=32){eV.push(Ke);Ke=0;}if(ti===0){return eV.concat(cR);}for(C=0;C<cR.length;C++){eV.push(Ke|cR[C]>>>ti);Ke=cR[C]<<(32-ti);}ahA=cR.length?cR[cR.length-1]:0;Ub=IPCC.Web.gB.aan(ahA);eV.push(IPCC.Web.gB.HC(ti+Ub&31,(ti+Ub>32)?Ke:eV.pop(),1));return eV;},aaA:function(aY,dc){return[aY[0]^dc[0],aY[1]^dc[1],aY[2]^dc[2],aY[3]^dc[3]];}};gv.AB=AB;gv.nP=axQ;gv.gn=gn;gv.CG=CG;gv.aeR=K.aeR;gv.UI=Wm;gv.regEnum=K.regEnum;gv.regClass=K.regClass;module.exports=gv;},{"./../IPCC.Util":29,"././UI/UI":123,"./Cipher":63,"./Codec":64,"./Hash":65,"./Mode":66}],127:[function(require,module,exports){var Xk=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Xk;},{}],128:[function(require,module,exports){var awZ=function(HN,aU){var Nj=new IPCC.PageList(HN);if(aU){IPCC.NU(Nj,aU);}Nj.tF(HN);Nj.initialize();return Nj;};module.exports=awZ;},{}],129:[function(require,module,exports){var awW=function(HN,Tu){var rg=Tu.handleTouchEvents!==false;var Qc=new IPCC.Web.UI.PageView(HN,rg);if(Tu){IPCC.NU(Qc,Tu);}Qc.tF(HN);Qc.initialize();return Qc;};module.exports=awW;},{}],130:[function(require,module,exports){var pO={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=pO;},{}],131:[function(require,module,exports){var NU=function(cT,kX){var ru;for(var ao in kX){if(kX.hasOwnProperty(ao)){var bP=kX[ao];var avS=cT["get_"+ao];var afd=cT["set_"+ao];if(typeof(afd)==='function'){afd.apply(cT,[bP]);}else if(bP instanceof Array){ru=avS.apply(cT);if(!(ru instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(ao+" is not an Array property");}for(var C=0,aV=ru.length,qi=bP.length;C<qi;C++,aV++){ru[aV]=bP[C];}}}}};module.exports=NU;},{}],132:[function(require,module,exports){"use strict";var aiN=function(aI){if(aI instanceof PCCViewer.AjaxResponse){return aI;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(aI);}this.pG=new IPCC.K.pG(aI);this.status=this.pG.status;this.statusText=this.pG.statusText;this.responseText=this.pG.responseText;if(typeof this.pG.responseBody!=='undefined'){this.responseBody=this.pG.responseBody;}return this;};aiN.prototype.getResponseHeader=function(Eg){return this.pG.getResponseHeader(Eg);};var CV=(function(){function asB(){return IPCC.K.extend({},IPCC.K.nv.gf);};function avf(gf){if(!(typeof gf==='undefined'||(typeof gf==='object'&&gf!==null&& !(gf instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof gf==='object'){var aou=Object.keys(IPCC.K.aiR());Object.keys(gf).forEach(function(Eg){if(aou.indexOf(Eg)!== -1){throw new Error('Cannot overwrite the header "'+Eg+'".');}});}IPCC.K.nv.gf=IPCC.K.extend({},gf);return PCCViewer.Ajax;};function aqR(){return IPCC.K.nv.LW;};function atu(iA){if(typeof iA!=='undefined'&&typeof iA!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.K.nv.LW=iA;return PCCViewer.Ajax;};function fK(aU){var bm=PCCViewer.Deferred();if(!(typeof aU==='undefined'||(typeof aU==='object'&&aU!==null&& !(aU instanceof Array)))){throw new Error('Options should be an object or undefined.');}function dS(aI){if(!(aI instanceof PCCViewer.AjaxResponse)){aI=new PCCViewer.AjaxResponse(aI);}bm.resolve(aI);};function ew(ah){if(ah.response){ah.response=new PCCViewer.AjaxResponse(ah.response);}bm.reject(ah);};IPCC.K.nv.fK(aU).then(dS,ew);return bm.getPromise();};return{getHeaders:asB,setHeaders:avf,getOverrideMethod:aqR,setOverrideMethod:atu,fK:fK,};})();if(Object.defineProperties){Object.defineProperties(CV,{"headers":{enumerable:true,get:function(){return CV.getHeaders();},set:function(gf){return CV.setHeaders(gf);}},"overrideMethod":{enumerable:true,get:function(){return CV.getOverrideMethod();},set:function(iA){return CV.setOverrideMethod(iA);}}});}module.exports={AjaxResponse:aiN,Ajax:CV};},{}],133:[function(require,module,exports){var BurnRequest=function(aU){this.oX="";this.eL="";this.mj=0;this.qY="";this.ez="";this.pZ=0;this.hF=false;this.sH=0;this.YD="";this.rG=false;this.bm=PCCViewer.Deferred();this.ck=this.bm.getPromise();this.then=this.ck.then;this.aU=aU;this.ez=null;this.fC=undefined;this.sy=false;this.PM=null;PCCViewer.EventEmitter.extend(this);var V=this;if(aU.oS){var oS=new PCCViewer.Error(aU.oS.code,aU.oS.message);delete V.aU.oS;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.ez=oS.code;V.bm.reject(oS);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var V=this;this.rG=true;this.ez="User Cancelled";setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.mj;};BurnRequest.prototype.getWorkerID=function(){return this.oX;};BurnRequest.prototype.getOptions=function(){return this.aU;};BurnRequest.prototype.getErrorCode=function(){return this.ez;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.PM;};BurnRequest.prototype.aCl=function(hM){this.YD=hM;};BurnRequest.prototype.Ng=function(fC){this.fC=fC;};BurnRequest.prototype.VX=function(){var V=this;this.ez="Failure to generate Markup XML";setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("MarkupXMLFail",V.ez));},0);return this;};BurnRequest.prototype.Do=function(){function dS(aI){var fp,ah;try{fp=aI.responseText;if(!fp){setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);V.sy=true;return;}else{if(typeof JSON!=='undefined'){ah=JSON.parse(fp);}else{ah=IPCC.dN.qb(fp);}setTimeout(function(){axf(ah);},0);}}catch(e){setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);V.sy=true;return;}};function ew(ah){V.hF=false;var cK=ah.response.status+" "+ah.response.statusText;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("StatusCode","Status Code "+cK));},0);V.sy=true;return;};try{if(!this.YD){throw new Error("XMl Markup data for burn is missing");}var V=this;var aie=function(){var Uw;if(!(/^[\x00-\x7F]*$/.test(V.fC.aP.get_documentIdentifier()))){Uw=V.fC.aU.imageHandlerUrl+'/ViewingSession/e'+V.fC.aU.documentID+'/MarkupBurner/'+V.oX;}else{Uw=V.fC.aU.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(V.fC.aU.documentID)+'/MarkupBurner/'+V.oX;}PCCViewer.Ajax.fK({method:'GET',url:Uw,headers:{'Content-Type':'application/json'}}).then(dS,ew);};var axf=function(gj){if(gj){if(V.rG===true){V.hF=false;return;}if(gj.percentComplete>=0&&V.hF===true){if(gj.percentComplete===100&&gj.state==='complete'){if(gj.processId){V.hF=false;V.oX=gj.processId;V.eL=gj.state;V.pZ+=1;V.sH=1000;V.mj= +(gj.percentComplete);var Kc;if(!(/^[\x00-\x7F]*$/.test(V.fC.aP.get_documentIdentifier()))){Kc=V.fC.aU.imageHandlerUrl+'/ViewingSession/e'+V.fC.aU.documentID+'/MarkupBurner/'+V.oX+"/Document";}else{Kc=V.fC.aU.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(V.fC.aU.documentID)+'/MarkupBurner/'+V.oX+"/Document";}if(V.aU.filename){Kc+="?ContentDispositionFilename="+V.aU.filename;}V.PM=Kc;V.sy=true;var axN= +(gj.percentComplete);setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});V.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:axN});V.bm.resolve(Kc);},10);return;}}else{if(gj.state==='error'){V.hF=false;V.ez=gj.errorCode;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+V.ez));},0);V.hF=false;V.sy=true;return;}if(gj.processId){var ST= +(gj.percentComplete);if(V.mj!==ST){setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:ST});},10);}if(!V.oX){V.oX=gj.processId;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);V.eL=gj.state;V.pZ=1;V.hF=true;V.sH=1000;V.mj= +(gj.percentComplete);}if(gj.percentComplete<100){if(V.pZ>1){V.sH+=1000;}V.pZ+=1;V.eL=gj.state;V.mj= +(gj.percentComplete);if(V.hF===true&&V.rG===false&&V.sy===false){setTimeout(aie,V.sH);}}}}}else{if(V.sy===false){var YB=false;if(V.hF===false){if(gj.state==='complete'){if(!V.PM){YB=true;}else{V.sy=true;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});V.bm.resolve(V.PM);},10);return;}}if(gj.state==='processing'&&gj.errorCode===null){if(gj.percentComplete>=0&&gj.percentComplete<100){if(V.pZ>1){V.sH+=1000;}V.pZ+=1;V.hF=true;V.eL=gj.state;V.mj= +(gj.percentComplete);if(V.hF===true&&V.rG===false){setTimeout(aie,V.sH);}}else{YB=true;}}if(gj.state==='error'||YB===true){V.hF=false;V.ez=gj.errorCode;setTimeout(function(){V.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});V.bm.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gj.errorCode));},0);V.hF=false;V.sy=true;return;}}}}}};var bw;if(!(/^[\x00-\x7F]*$/.test(V.fC.aP.get_documentIdentifier()))){bw=V.fC.aU.imageHandlerUrl+'/ViewingSession/e'+V.fC.aU.documentID+'/MarkupBurner';}else{bw=V.fC.aU.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(V.fC.aU.documentID)+'/MarkupBurner';}if(V.aU.removeFormFields){bw+='?RemoveFormFields=acroform';}PCCViewer.Ajax.fK({method:'POST',url:bw,headers:{'Content-Type':'application/xml'},body:V.YD}).then(dS,ew);V.hF=true;}catch(e){this.hF=false;var ai=this,kr=e.message;setTimeout(function(){ai.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});ai.bm.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+kr));},0);this.sy=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],134:[function(require,module,exports){function aqV(aP,bi){var bI=aP.cZ.iJ(bi);var eH=bI.cF();return eH.CR();};function arl(aP,bi){var bI=aP.cZ.iJ(bi);var eH=bI.cF();var FI=eH.hJ();return FI.avv();};function asz(xJ,aCG){var dv=xJ.length;if(dv===0){return false;}if(dv!==aCG){return false;}for(var C=0;C<dv;C++){if(xJ[C]!==true){return false;}}return true;};var OS=function(){var V=this;this.Gv=false;this.xJ=[];this.sa=[];this.xo=[];this.abh=0;this.ab=0;this.iK=false;function sY(Iz,Sr){switch(Iz){case 'failed':setTimeout(function(){V.bk.trigger('SearchFailed',Sr);},10);break;case 'complete':V.bk.fq=V.sa;V.bk.Ry=V.xo;V.bk.uU=true;setTimeout(function(){V.bk.trigger('SearchResultsAvailable',{completedSearchResults:(V.sa)});},10);break;case 'cancelled':break;}setTimeout(function(){V.bk.trigger('SearchCompleted',{completedSearchResults:(V.sa)});},10);};function aum(){V.bk.cG='Unable to communicate with server, please retry loading the document.';V.bk.ez='1011';V.bk.uU=true;sY('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});V.iK=true;};function amA(aU,ayy){var ayS=IPCC.K.trim(aU.type||'').toLowerCase();var ah;switch(ayS){case 'taskresult':ah=new PCCViewer.SearchTaskResult();break;default:ah=new PCCViewer.SearchResult();break;}IPCC.K.extend(ah,ayy);var adC=ah.qr+ah.text.length-1;var dA=PCCViewer.Gw.formatter.getContext({text:aU.searchText,startIndex:ah.qr,endIndex:adC,padding:ah.bo.contextPadding});ah.dA=dA.context;ah.Ag=dA.startIndex;if(aU.rectangles){var acZ={rectangles:aU.rectangles,startIndex:ah.qr,endIndex:adC};ah.mA=PCCViewer.Gw.formatter.getBoundingRectangle(acZ);ah.bH=PCCViewer.Gw.formatter.getLineRectangles(acZ);}return ah;};function alh(nm,yG,JG,ho,gb){var II=[];var Yg= !ho;var vT=yG.distance;var yo=[];IPCC.K.forEach(yG.cX,function(cX){yo.push(cX.searchTerm);});var axP=PCCViewer.Gw.proximity.getResults(JG,yo,vT);IPCC.K.forEach(axP,function(ah){var fd=amA({type:Yg?'TaskResult':'Result',searchText:JG,rectangles:ho},{gb:gb,bo:yG.va,nm:nm,ro:yG.highlightColor,qr:ah.startIndex,bF:ah.text});II.push(fd);});return II;};function LK(nm,cX,JG,ho,gb){var Yg= !ho;var II=[];var Rk=[cX.searchTerm];var fq=PCCViewer.Gw.regex.getResults(JG,Rk);IPCC.K.forEach(fq,function(ah){if(cX.va.matchingOptions.wildcard&&(ah.text[0]===" "||ah.text[0]==="\n")){ah.text=ah.text.substring(1);ah.startIndex+=1;}var fd=amA({type:Yg?'TaskResult':'Result',searchText:JG,rectangles:ho},{gb:gb,nm:nm,cX:cX,bo:cX.va,qr:ah.startIndex,bF:ah.text,ro:cX.highlightColor});II.push(fd);});return II;};function arM(abS,bi,aP,ho){var TS=[];var nm=Date.now();IPCC.K.forEach(V.cX,function(cX,C){var fq;var nF=IPCC.K.QD(cX.type);var bI=aP.cZ.iJ(bi);var gb={width:bI.kq(),height:bI.ig()};switch(nF){case 'proximity':fq=alh(nm,cX,abS,ho,gb);break;default:fq=LK(nm,cX,abS,ho,gb);break;}IPCC.K.forEach(fq,function(ah){ah.dE=V.ab;ah.aw=bi+1;ah.GV=aP.get_documentIdentifier();V.sa[V.ab]=ah;V.ab++;TS.push(ah);});});V.bk.fq=V.sa;if(TS.length){setTimeout(function(){V.bk.trigger('PartialSearchResultsAvailable',{partialSearchResults:(TS),pagesWithoutText:(V.xo)});},10);}};function asW(bF){var nm=Date.now();IPCC.K.forEach(V.cX,function(cX,C){var nF=IPCC.K.QD(cX.type);var fq;switch(nF){case 'proximity':fq=alh(nm,cX,bF);break;default:fq=LK(nm,cX,bF);break;}IPCC.K.forEach(fq,function(ah){ah.dE=V.ab;V.sa[V.ab]=ah;V.ab++;});});V.bk.fq=V.sa;};function ahw(xH,aP){for(var C=0;C<xH.length;C++){if(V.xJ[xH[C]]===false){V.xJ[xH[C]]=true;var bF=aqV(aP,xH[C]);var ho=arl(aP,xH[C]);if(!bF&&bF!==null){V.xo[V.abh]=xH[C];V.abh++;continue;}arM(bF,xH[C],aP,ho);if(V.bk.rG){if(V.Gv){sY('cancelled');V.Gv=false;aP.remove_textPagesReceived(KL);return;}break;}}}if(asz(V.xJ,aP.es)&& !V.bk.uU){sY('complete');V.Gv=false;aP.remove_textPagesReceived(KL);}};function KL(sender,T){if(T.error=== -1){aum();return V.bk;}try{if(V.iK===false){ahw(T.textPagesReceived,sender);}}catch(e){V.bk.cG=e.message;V.bk.ez='1010';V.bk.uU=true;sY('failed',{errorMessage:(e.message)});V.iK=true;return V.bk;}};this.Vh=function(aP,cX,ey,bk){V.cX=cX;V.bk=bk;V.bk.ey=ey;V.bk.on('SearchCancelled',function(){sY('cancelled');V.Gv=false;aP.remove_textPagesReceived(KL);});for(var C=0;C<aP.es;C++){V.xJ[C]=false;}if(aP.ajA().en()>aP.get_numberOfPagesWithText()){V.Gv=true;aP.add_textPagesReceived(KL);}if(aP.get_numberOfPagesWithText()>0){ahw(aP.get_pagesWithText(),aP);}return V.bk;};this.aCJ=function(bF){this.bk=new PCCViewer.SearchRequest();try{asW(bF);}catch(e){V.bk.cG=e.message;V.bk.ez='1010';return;}};};module.exports=OS;},{}],135:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aFH(){return conversation;};if(typeof comment==='string'){this.oj=new IPCC.Web.UI.Comment(comment);}else{this.oj=comment;}this.oj.IH=this;this.dG=this.oj.get_data();PCCViewer.Data.extend(this);this.Ez=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aFK(){return this.jp;};Comment.prototype.getText=function aHq(){return this.oj.get_text();};Comment.prototype.setText=function aHG(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.oj.set_text(text);return this;};Comment.prototype.getCreationTime=function aFp(){var apx=IPCC.K.IZ(this.oj.get_creationTime());return new Date(apx);};Comment.prototype.setCreationTime=function aHC(time){function afV(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ajX=IPCC.K.IZ(time);if(ajX instanceof Error){afV();}time=new Date(ajX);}if(!(time instanceof Date)){afV();}this.oj.set_creationTime(IPCC.K.vp(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function LB(){return mark;};this.im=new PCCViewer.ObservableCollection();if(typeof mark.H!=="undefined"){this.xM=mark.H.get_conversation();this.xM.forEach(function(oj){var cj=new PCCViewer.Comment(oj,this);this.im.add(cj);},this);}else{this.xM=new IPCC.Web.UI.Conversation();}this.dG=this.xM.get_data();PCCViewer.Data.extend(this);this.Ez=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function IG(commentText){var cj=new PCCViewer.Comment(commentText,this);this.im.add(cj);this.xM.addComment(cj.oj);return cj;};Conversation.prototype.deleteComments=function(comments){var V=this;var aeS=this.im.toArray();var agt=function(cj){for(var i=0,length=aeS.length;i<length;i++){if(aeS[i]===cj){return true;}}return false;};function agR(cj,ab){throw new Error(cj+((ab!==undefined)?' (Array index '+ab+')':'')+' is not a PCCViewer.Comment object.');};function ahc(cj,ab){throw new Error(((ab!==undefined)?' (Array index '+ab+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!agt(comments)){ahc(comments);}V.im.remove(comments);V.xM.removeCommentInstance(comments.oj);}else if(comments instanceof Array){IPCC.K.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){agR(el,idx);}if(!agt(el)){ahc(el,idx);}});IPCC.K.forEach(comments,function(el){V.im.remove(el);V.xM.removeCommentInstance(el.oj);});}else{agR(comments);}return this;};Conversation.prototype.getComments=function(){return this.im.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.qT=function(gL,oQ){if(typeof gL.getComments!=="function"||typeof oQ.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.nC(gL,oQ);var gX=gL.getComments(),i,length=gX.length;for(i=0;i<length;i++){var aeh=gX[i];var aod=oQ.addComment(aeh.getText());PCCViewer.Data.nC(aeh,aod);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],136:[function(require,module,exports){var ConversionRequest=function(aU){this.oX="";this.eL="";this.mj=0;this.ez="";this.hF=false;this.rG=false;this.aU=aU;this.Ad=null;this.BN=null;this.fC=undefined;this.bm=PCCViewer.Deferred();this.ck=this.bm.getPromise();this.then=this.ck.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var V=this;this.rG=true;this.ez="User Cancelled";setTimeout(function(){V.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});V.bm.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.mj;};ConversionRequest.prototype.getWorkerID=function(){return this.oX;};ConversionRequest.prototype.getOptions=function(){return this.aU;};ConversionRequest.prototype.getErrorCode=function(){return this.ez;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Ad;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.BN){return this.BN.slice();}return null;};ConversionRequest.prototype.Ng=function(fC){this.fC=fC;};ConversionRequest.prototype.Do=function(){var V=this;V.hF=true;V.aAh().then(function onResolve(qq){V.oX=qq.processId;V.mj=qq.percentComplete;V.eL=qq.state;V.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});V.axL(qq).then(function onResolve(aAf){V.hF=false;V.BN=[];if(V.aU.yX>1){for(var C=0;C<V.ayQ;C++){var Ad=V.fC.aU.imageHandlerUrl+'/v2/viewingSessions/'+V.fC.aU.documentID+'/contentConverters/'+V.oX+'/results/'+C+'/file?ContentDispositionFilename='+encodeURIComponent(V.aU.filename);V.BN.push(Ad);}V.bm.resolve(V.BN);}else{V.Ad=V.fC.aU.imageHandlerUrl+'/WorkFile/'+aAf+"?ContentDispositionFilename="+encodeURIComponent(V.aU.filename);if(qq.affinityToken){V.Ad+="&affinityToken="+encodeURIComponent(qq.affinityToken);}V.BN.push(V.Ad);V.bm.resolve(V.Ad);}V.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){V.hF=false;V.ez=reason.error.code;V.bm.reject(reason);V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){V.hF=false;V.bm.reject(reason);V.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aAh=function(){var bw,lb=PCCViewer.Deferred();var XC;if(this.aU.yX>1){bw=this.fC.aU.imageHandlerUrl+'/v2/viewingSessions/'+this.fC.aU.documentID+'/contentConverters/';XC={url:bw,method:'POST',headers:{"Content-Type":"application/json"}};}else{bw=this.fC.aU.imageHandlerUrl+'/contentConverters/';XC={url:bw,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fC.aU.documentID})};}PCCViewer.Ajax.fK(XC).then(function dS(aI){var ah=JSON.parse(aI.responseText);lb.resolve(ah);},function ew(ah){lb.reject(ah.error);});return lb.getPromise();};ConversionRequest.prototype.axL=function(qq){var bw,lb=PCCViewer.Deferred(),V=this,gf;if(V.aU.yX>1){bw=this.fC.aU.imageHandlerUrl+'/v2/viewingSessions/'+this.fC.aU.documentID+'/contentConverters/'+qq.processId;}else{bw=this.fC.aU.imageHandlerUrl+'/contentConverters/'+qq.processId;}if(qq.affinityToken){gf={"Accusoft-Affinity-Token":qq.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fK({method:'GET',url:bw,headers:gf}).then(function dS(aI){var ah=JSON.parse(aI.responseText);V.oX=ah.processId;V.mj=ah.percentComplete;V.eL=ah.state;if(V.aU.yX>1&&ah.output){V.ayQ=ah.output.results.length;}V.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:V.mj});if(ah.percentComplete===100){if(ah.state==="error"){lb.reject({response:aI,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{lb.resolve(ah.output.results[0].fileId);}}else{poll();}},function ew(ah){lb.reject(ah.error);});},3000);})();return lb.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],137:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.dG.get_data(key);};function setData(key,value){this.dG.set_data(key,value);return this;};function getDataKeys(){return this.dG.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},nC:function(gL,oQ){if(typeof gL.getData!=="function"||typeof gL.setData!=="function"||typeof gL.getDataKeys!=="function"||typeof oQ.getData!=="function"||typeof oQ.setData!=="function"||typeof oQ.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var mH=gL.getDataKeys(),i,length=mH.length;for(i=0;i<length;i++){var al=mH[i];oQ.setData(al,gL.getData(al));}}};})();var SessionData=(function(){function getSessionData(key){return this.Ez.get_data(key);};function setSessionData(key,value){this.Ez.set_data(key,value);return this;};function getSessionDataKeys(){return this.Ez.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHp:function(gL,oQ){if(typeof gL.getSessionData!=="function"||typeof gL.setSessionData!=="function"||typeof gL.getSessionDataKeys!=="function"||typeof oQ.getSessionData!=="function"||typeof oQ.setSessionData!=="function"||typeof oQ.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var mH=gL.getSessionDataKeys(),i,length=mH.length;for(i=0;i<length;i++){var al=mH[i];oQ.setSessionData(al,gL.getSessionData(al));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],138:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eL=PromiseDeferred.States.Pending;this.h=null;this.ed=null;this.fQ=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var AM=new PromiseDeferred();var UF,WC;if(onFulfilled&&typeof onFulfilled==='function'){var axY=function(h){try{var bp=onFulfilled(h);AM.resolve(bp);}catch(e){AM.reject(e);}};UF=axY;}else{var ayp=function(h){AM.resolve(h);};UF=ayp;}if(onRejected&&typeof onRejected==='function'){var aEj=function(ed){try{var bp=onRejected(ed);VY(AM,bp);}catch(e){AM.reject(e);}};WC=aEj;}else{var aEM=function(ed){AM.reject(ed);};WC=aEM;}this.fQ.push({aCv:UF,awz:WC});if(this.eL===PromiseDeferred.States.Fulfilled){this.agm();}if(this.eL===PromiseDeferred.States.Rejected){this.ahh();}return AM;};PromiseDeferred.prototype.resolve=function(x){if(!this.ahO()){return;}VY(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.ahO()){return;}this.yg(reason);};PromiseDeferred.prototype.WI=function(aY){this.eL=PromiseDeferred.States.Fulfilled;this.h=aY;this.agm();};PromiseDeferred.prototype.agm=function(){var callback;while(this.fQ.length>0){callback=this.fQ.shift().aCv;(function(nN,h){setTimeout(function(){nN(h);},0);})(callback,this.h);}};PromiseDeferred.prototype.ahh=function(){var callback;while(this.fQ.length>0){callback=this.fQ.shift().awz;(function(nN,h){setTimeout(function(){nN(h);},0);})(callback,this.ed);}};function VY(ck,aY){if(ck===aY){ck.yg(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aY&&aY.Wp&&ck.acO&&ck.acO===aY){ck.yg(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aY&&aY.Wp&&aY.Wp==="PCCViewer.Promise"){aY.then(function(arD){ck.WI(arD);},function(asi){ck.yg(asi);});}else if(aY!==null&&(typeof aY==='object'||typeof aY==='function')){var YV;try{YV=aY.then;}catch(e){ck.yg(e);return;}if(typeof YV==='function'){var GL=true;var arV=function(dc){if(GL){VY(ck,dc);GL=false;}};var asN=function(bp){if(GL){ck.yg(bp);GL=false;}};try{YV.call(aY,arV,asN);}catch(e){if(GL){ck.yg(e);}}}else{ck.WI(aY);}}else{ck.WI(aY);}};PromiseDeferred.prototype.yg=function(reason){this.eL=PromiseDeferred.States.Rejected;this.ed=reason;this.ahh();};PromiseDeferred.prototype.ahO=function(){return this.eL===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var QN=new PromiseDeferred();function Promise(ck){this.then=function(onFulfilled,onRejected){return new Promise(ck.then(onFulfilled,onRejected));};this.Wp="PCCViewer.Promise";ck.acO=this;};var promise=new Promise(QN);return{getPromise:function(){return promise;},resolve:function(value){QN.resolve(value);},reject:function(reason){QN.reject(reason);}};};var Promise={all:function(promises){var i,bm=new PCCViewer.Deferred(),WP=bm.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bm=new PCCViewer.Deferred();bm.resolve(value);return bm.getPromise();};bm.resolve([]);for(i=0;i<promises.length;i++){WP=WP.then(createPushFunction(promises[i]));}return WP;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],139:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.zH=parameters.zH;this.aw=parameters.aw;};DocumentHyperlink.prototype.getHref=function(){return this.zH.ain();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aw;};DocumentHyperlink.prototype.getRectangle=function(){return this.zH.eB();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],140:[function(require,module,exports){var Jk=function(code,message){var acW=Error.call(null,message);this.code=code;function asQ(cT,gL){Object.getOwnPropertyNames(gL).forEach(function(propName){Object.defineProperty(cT,propName,Object.getOwnPropertyDescriptor(gL,propName));});return cT;};function asJ(cT,gL){for(var i in gL){if(gL.hasOwnProperty(i)){cT[i]=gL[i];}}return cT;};if(typeof Object.create==='function'){asQ(this,acW);}else{asJ(this,acW);}};var avr=(function(){var fs=function(){};return function(acu){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acu!=='object'){throw TypeError('Argument must be an object');}fs.prototype=acu;var ah=new fs();fs.prototype=null;return ah;};})();if(typeof Object.create==='function'){Jk.prototype=Object.create(Error.prototype);}else{Jk.prototype=avr(Error.prototype);}Jk.prototype.constructor=Jk;module.exports=Jk;},{}],141:[function(require,module,exports){"use strict";function Event(target,type){this.cT=target;this.be=type;};Event.prototype.getTarget=function(){return this.cT;};Event.prototype.getType=function(){return this.be;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],142:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jZ[lowerCaseEventType];if(!handlers){handlers=this.jZ[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jZ[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jZ){this.jZ={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jZ[lowerCaseEventType],i,length=0;if(properties){PCCViewer.tc.sg(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],143:[function(require,module,exports){var aBF={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening"};module.exports=aBF;},{}],144:[function(require,module,exports){var oW={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=oW;},{}],145:[function(require,module,exports){var tc={};tc.sg=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=tc;},{}],146:[function(require,module,exports){var ImageStamps=function(Options){this.aU=PCCViewer.tc.sg({},Options);};ImageStamps.prototype.requestImageStampList=function(){var bm=PCCViewer.Deferred();var ck=bm.getPromise();try{var bw=this.aU.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fK({method:'GET',url:bw}).then(function dS(aI){var rM;if(aI.responseText.length>0){rM=JSON.parse(aI.responseText);if(aI.status===200){bm.resolve(rM);}else{bm.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function ew(ah){bm.reject(ah.error);});}catch(e){bm.reject(new PCCViewer.Error("Error",e.message));}return ck;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bm=PCCViewer.Deferred();var ck=bm.getPromise();try{var bw=this.aU.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fK({method:'GET',url:bw,}).then(function dS(aI){var rM;if(aI.responseText.length>0){rM=JSON.parse(aI.responseText);if(aI.status===200){bm.resolve(rM);}else{bm.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function ew(ah){bm.reject(ah.error);});}catch(e){bm.reject(new PCCViewer.Error("Error",e.message));}return ck;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.aU.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],147:[function(require,module,exports){var azN={data:{},initializeData:function(aAk){PCCViewer.Language.data=IPCC.K.extend({},aAk);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(aha){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var mH=aha.split('.'),by=PCCViewer.Language.data,al;while(mH.length){al=mH.shift();by=by[al];if(typeof by==='undefined'){by=aha;break;}}return by;}};module.exports=azN;},{}],148:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.wy=layerRecordIds;this.ax=viewerControl;this.ez="";this.hF=false;this.rG=false;this.mj=0;this.bm=PCCViewer.Deferred();this.ck=this.bm.getPromise();this.then=this.ck.then;this.uN=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mj;};LoadMarkupLayersRequest.prototype.cancel=function(){var V=this;this.rG=true;this.ez="User Cancelled";setTimeout(function(){V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});V.bm.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.ax;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.ez;};LoadMarkupLayersRequest.prototype.Do=function(){var V=this,Zt=1,Vk,Tm=[];var uN=this.uN;var sX=function(agU){function dS(aI){var qu=JSON.parse(aI.responseText),Mp=V.axe(qu),eh,rs=[],bx,gI=[],amS={},NZ=0,KT;for(var lH in Mp.gI){if(Mp.gI.hasOwnProperty(lH)){gI=gI.concat(Mp.gI[lH]);}}eh=new PCCViewer.MarkupLayer(V.ax,gI);eh.aGy={bw:bw};IPCC.K.forEach(Mp.rs,function(adb){rs.push(adb);NZ++;amS[adb.uid]=true;});if(qu.name){eh.setName(qu.name);}if(qu.originalXmlName){eh.setOriginalXmlName(qu.originalXmlName);}if(NZ>0){KT=function(ev){if(amS[ev.mark.getUid()]){NZ--;}if(!NZ){V.ax.off(PCCViewer.EventType.MarkCreated,KT);V.ax.sZ=true;}};V.ax.on(PCCViewer.EventType.MarkCreated,KT);V.ax.sZ=false;try{bx=V.ax.deserializeMarks(rs);}catch(ds){V.hF=false;V.ax.off(PCCViewer.EventType.MarkCreated,KT);V.ax.sZ=true;V.bm.reject(new PCCViewer.Error('Error',ds.message));V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uN){IPCC.K.forEach(bx,function(G){G.setVisible(false);});}eh.addMarks(bx);}eh.ZB=agU;for(var uD in qu.data){if(qu.data.hasOwnProperty(uD)){eh.setData(uD,qu.data[uD]);}}V.ax.getMarkupLayerCollection().addItem(eh);Tm.push(eh);Zt--;V.mj=(V.wy.length-Zt)/V.wy.length;V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:V.mj});if(V.mj===1){V.hF=false;V.bm.resolve(Tm);V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:Tm});}};function ew(ah){V.hF=false;V.bm.reject(ah.error);V.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var bw=Vk+agU+'?'+new Date().getTime();PCCViewer.Ajax.fK({url:bw,method:'GET'}).then(dS,ew);};if(!(/^[\x00-\x7F]*$/.test(this.ax.aP.get_documentIdentifier()))){Vk=this.ax.aU.imageHandlerUrl+'/MarkupLayers/e'+this.ax.aU.documentID+'/';}else{Vk=this.ax.aU.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.ax.aU.documentID)+'/';}if(this.rG){return;}if(Object.prototype.toString.call(this.wy)==='[object Array]'&&this.wy.length>0){Zt=this.wy.length;this.hF=true;IPCC.K.forEach(this.wy,sX,this);}else if(typeof this.wy==="string"){this.hF=true;sX(this.wy);}else{this.hF=false;this.bm.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.axe=function(qu){var Re={},Mo={};IPCC.K.forEach(qu.marks,function(ZJ){ZJ.conversation.comments=[];Re[ZJ.uid]=ZJ;},this);IPCC.K.forEach(qu.comments,function(vL){if(Re[vL.markUid]){Re[vL.markUid].conversation.comments.push(vL);}else if(Mo[vL.markUid]){Mo[vL.markUid].push(vL);}else{Mo[vL.markUid]=[vL];}},this);return{rs:Re,gI:Mo};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],149:[function(require,module,exports){var cr={setMask:function(G,iO){var Kr={};IPCC.K.forEach(iO.translations,function(bP,al){Kr[al]=new RegExp(bP.replace(/^\/|\/$/g,''));});G.setMask({value:iO.value,translations:Kr});},calculateRectangle:function(by,aU){if(by.pageData===undefined||(by.pageData.width===aU.bV&&by.pageData.height===aU.aK)){return by.rectangle;}else{var lQ=aU.bV/by.pageData.width;return{x:by.rectangle.x*lQ,y:by.rectangle.y*lQ,width:by.rectangle.width*lQ,height:by.rectangle.height*lQ};}},setRectangle:function(G,by,aU){G.setRectangle(cr.calculateRectangle(by,aU));},setLines:function(G,by,aU){var adr,om,dz=by.textLength+by.startIndex-1,cP=by.selectedText,cB={startIndex:by.startIndex,length:by.textLength};om=[];var bi,zl;adr=IPCC.K.reduce(by.lineGroups,function(ek,pm){bi=pm.pageNumber-1;ek[bi]=IPCC.K.map(pm.lines,function(gH){if(pm.pageData!==undefined){zl=cr.calculateRectangle({rectangle:gH,pageData:pm.pageData},aU);return new IPCC.Web.UI.Rectangle(zl.x,zl.y,zl.width,zl.height);}else{return new IPCC.Web.UI.Rectangle(gH.x,gH.y,gH.width,gH.height);}});om.push({pageIndex:bi,endIndex:pm.startIndex+pm.textLength-1});return ek;},{});G.JT(om,dz,cP,cB,adr);},postCreate:function(G,by){G.H.acl(new Date(IPCC.K.IZ(by.creationDateTime)));G.H.VF(new Date(IPCC.K.IZ(by.modificationDateTime)));return G;},calculatePoint:function(aT,gb,aU){if(gb===undefined||(gb.width===aU.bV&&gb.height===aU.aK)){return aT;}else{return{x:aT.x*aU.bV/gb.width,y:aT.y*aU.aK/gb.height};}},Data:function(by,dG){IPCC.K.forEach(dG,function(bP,al){by.setData(al,bP);});},Comment:function(ca,cj){var os=ca.addComment(cj.text);os.setCreationTime(cj.creationDateTime);cr.Data(os,cj.data);},Conversation:function(G,ca){var afM=G.getConversation();IPCC.K.forEach(ca.comments?ca.comments:[],function(os){cr.Comment(afM,os);});cr.Data(afM,ca.data);},Common:function(by,aU){if(by.uid===undefined){by.uid=IPCC.K.aiE();}var G=this.anj(by.pageNumber,by.type,{uid:by.uid});if(by.rectangle&&G.setRectangle){cr.setRectangle(G,by,aU);}if(by.startPoint&&G.setStartPoint){G.setStartPoint(cr.calculatePoint(by.startPoint,by.pageData,aU));}if(by.endPoint&&G.setEndPoint){G.setEndPoint(cr.calculatePoint(by.endPoint,by.pageData,aU));}if(by.points&&G.setPoints){G.setPoints(IPCC.K.map(by.points,function(aT){return cr.calculatePoint(aT,by.pageData,aU);}));}if(by.lineGroups&&G.JT){G.bq=by.uid;cr.setLines(G,by,aU);}if(by.interactionMode){G.setInteractionMode(by.interactionMode);}G=this.ajz(G);cr.Data(G,by.data);cr.Conversation(G,by.conversation);return G;},EllipseAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.borderColor){G.setBorderColor(by.borderColor);}if(by.borderThickness){G.setBorderThickness(by.borderThickness);}if(by.fillColor){G.setFillColor(by.fillColor);}if(by.opacity){G.setOpacity(by.opacity);}return cr.postCreate(G,by);},FreehandAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.opacity){G.setOpacity(by.opacity);}if(by.path){G.setPath(by.path);}if(by.thickness){G.setThickness(by.thickness);}return cr.postCreate(G,by);},FreehandSignature:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.path){G.setPath(by.path);}if(by.thickness){G.setThickness(by.thickness);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}return cr.postCreate(G,by);},HighlightAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.fillColor){G.setFillColor(by.fillColor);}return cr.postCreate(G,by);},ImageStampAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.imageDataUrl&&by.imageId){G.setImage({id:by.imageId,dataUrl:by.imageDataUrl});}return cr.postCreate(G,by);},ImageStampRedaction:function(by,aU){return cr.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.endHeadType){G.setEndHeadType(by.endHeadType);}if(by.opacity){G.setOpacity(by.opacity);}if(by.thickness){G.setThickness(by.thickness);}return cr.postCreate(G,by);},PolylineAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.opacity){G.setOpacity(by.opacity);}if(by.thickness){G.setThickness(by.thickness);}return cr.postCreate(G,by);},RectangleAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.borderColor){G.setBorderColor(by.borderColor);}if(by.borderThickness){G.setBorderThickness(by.borderThickness);}if(by.fillColor){G.setFillColor(by.fillColor);}if(by.opacity){G.setOpacity(by.opacity);}return cr.postCreate(G,by);},RectangleRedaction:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.reason){G.setReason(by.reason);}if(by.fillColor){G.setFillColor(by.fillColor);}if(by.borderColor){G.setBorderColor(by.borderColor);}if(by.borderThickness){G.setBorderThickness(by.borderThickness);}if(by.fontColor){G.setFontColor(by.fontColor);}return cr.postCreate(G,by);},StampAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.label){G.setLabel(by.label);}if(by.color){G.setColor(by.color);}return cr.postCreate(G,by);},StampRedaction:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.label){G.setLabel(by.label);}return cr.postCreate(G,by);},StrikethroughAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.thickness){G.setThickness(by.thickness);}return cr.postCreate(G,by);},TextAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.borderColor){G.setBorderColor(by.borderColor);}if(by.borderThickness){G.setBorderThickness(by.borderThickness);}if(by.fillColor){G.setFillColor(by.fillColor);}if(by.fontColor){G.setFontColor(by.fontColor);}if(by.fontName){G.setFontName(by.fontName);}if(by.fontSize){G.setFontSize(by.fontSize);}if(by.fontStyle){G.setFontStyle(by.fontStyle);}if(by.maxLength){G.setMaxLength(by.maxLength);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}if(by.opacity){G.setOpacity(by.opacity);}if(by.text){G.setText(by.text);}return cr.postCreate(G,by);},TextAreaSignature:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.text){G.setText(by.text);}if(by.fontColor){G.setFontColor(by.fontColor);}if(by.fontName){G.setFontName(by.fontName);}if(by.maxFontSize){G.setMaxFontSize(by.maxFontSize);}if(by.fontStyle){G.setFontStyle(by.fontStyle);}if(by.maxLength){G.setMaxLength(by.maxLength);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}return cr.postCreate(G,by);},TextHyperlinkAnnotation:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.fillColor){G.setFillColor(by.fillColor);}if(by.href){G.setHref(by.href);}return cr.postCreate(G,by);},TextInputSignature:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.fontColor){G.setFontColor(by.fontColor);}if(by.fontName){G.setFontName(by.fontName);}if(by.text){G.setText(by.text);}if(by.maxLength){G.setMaxLength(by.maxLength);}if(by.mask){cr.setMask(G,by.mask);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}return cr.postCreate(G,by);},TextRedaction:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.fontColor){G.setFontColor(by.fontColor);}if(by.fontName){G.setFontName(by.fontName);}if(by.fontSize){G.setFontSize(by.fontSize);}if(by.maxLength){G.setMaxLength(by.maxLength);}if(by.text){G.setText(by.text);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}return cr.postCreate(G,by);},TextSelectionRedaction:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.reason){G.setReason(by.reason);}return cr.postCreate(G,by);},TextSignature:function(by,aU){var G=cr.Common.apply(this,arguments);if(by.color){G.setColor(by.color);}if(by.fontName){G.setFontName(by.fontName);}if(by.text){G.setText(by.text);}if(by.horizontalAlignment){G.setHorizontalAlignment(by.horizontalAlignment);}return cr.postCreate(G,by);},TransparentRectangleRedaction:function(by,aU){var G=cr.Common.apply(this,arguments);return cr.postCreate(G,by);}};module.exports=cr;},{}],150:[function(require,module,exports){var Bl={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Bl;},{}],151:[function(require,module,exports){var ei={serializeMask:function(iO){var acH={value:iO.value,translations:{}};IPCC.K.forEach(iO.translations,function(bP,al){acH.translations[al]=bP.toString();});return acH;},copyRectangle:function(R){return{x:R.x,y:R.y,width:R.width,height:R.height};},Common:function(bJ,bA){var aK;var bV;if(bJ.page){aK=bJ.page.get_pageHeight();bV=bJ.page.get_pageWidth();}else{aK=null;bV=null;}var aw=bJ.mark.getPageNumber();var by={uid:bJ.mark.getUid(),interactionMode:bJ.mark.getInteractionMode(),pageNumber:aw,type:bJ.mark.getType(),creationDateTime:IPCC.K.vp(bJ.mark.H.ahu()),modificationDateTime:IPCC.K.vp(bJ.mark.H.aht()),data:ei.Data(bJ.mark),conversation:ei.Conversation(bJ.mark.getConversation())};function Ac(aT){return{x:aT.x,y:aT.y};};function arI(){var Gt=IPCC.K.map([].concat(bJ.mark.H,bJ.mark.dq),function(H){if(bV!==null){return{pageNumber:H.bi+1,pageData:{width:bV,height:aK},startIndex:H.get_startIndex(),textLength:H.get_textLength(),lines:IPCC.K.map(H.bH,function(bB){if(bB.get_rectangle){return ei.copyRectangle(bB.get_rectangle());}else{return ei.copyRectangle(bB);}})};}else{return{pageNumber:H.bi+1,startIndex:H.get_startIndex(),textLength:H.get_textLength(),lines:IPCC.K.map(H.bH,function(bB){if(bB.get_rectangle){return ei.copyRectangle(bB.get_rectangle());}else{return ei.copyRectangle(bB);}})};}});by.lineGroups=Gt;};function anh(){if(bJ.mark.getRectangle){by.rectangle=ei.copyRectangle(bJ.mark.getRectangle());if(bV!==null){by.pageData={width:bV,height:aK};}}if(bJ.mark.getStartPoint){by.startPoint=Ac(bJ.mark.getStartPoint());if(bV!==null){by.pageData=by.pageData||{width:bV,height:aK};}}if(bJ.mark.getEndPoint){by.endPoint=Ac(bJ.mark.getEndPoint());if(bV!==null){by.pageData=by.pageData||{width:bV,height:aK};}}if(bJ.mark.getPoints){var ar=bJ.mark.getPoints();by.points=IPCC.K.map(ar,Ac);if(bV!==null){by.pageData={width:bV,height:aK};}}if(bJ.mark.H.bH){arI();}};if(bV!==undefined&&aK!==undefined&&bV!==0&&aK!==0){anh();bA(undefined,by);}else{bJ.vc.requestPageAttributes(aw).then(function aGP(ajs){aK=ajs.height;bV=ajs.width;anh();bA(undefined,by);},function aGw(ed){bA(ed);});}},Data:function(by){return IPCC.K.reduce(by.getDataKeys(),function(ek,al){ek[al]=by.getData(al);return ek;},{});},Comment:function(cj){return{text:cj.getText(),data:ei.Data(cj),creationDateTime:IPCC.K.vp(cj.getCreationTime())};},Conversation:function(ca){return{comments:IPCC.K.map(ca.getComments(),function(cj){return ei.Comment(cj);}),data:ei.Data(ca)};},EllipseAnnotation:function(bJ,bA){ei.RectangleAnnotation(bJ,bA);},FreehandAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{color:bJ.mark.getColor(),opacity:bJ.mark.getOpacity(),path:bJ.mark.getPath(),thickness:bJ.mark.getThickness()});bA(undefined,by);});},FreehandSignature:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{color:bJ.mark.getColor(),path:bJ.mark.getPath(),thickness:bJ.mark.getThickness(),horizontalAlignment:bJ.mark.getHorizontalAlignment()});bA(undefined,by);});},HighlightAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}var cB=bJ.mark.getPosition();by=IPCC.K.extend(by,{fillColor:bJ.mark.getFillColor(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bJ.mark.getText()});bA(undefined,by);});},ImageStampAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}var bM=bJ.mark.getImage();by=IPCC.K.extend(by,{imageDataUrl:bM.dataUrl,imageId:bM.id});bA(undefined,by);});},ImageStampRedaction:function(bJ,bA){ei.ImageStampAnnotation(bJ,bA);},LineAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{color:bJ.mark.getColor(),endHeadType:bJ.mark.getEndHeadType(),opacity:bJ.mark.getOpacity(),thickness:bJ.mark.getThickness()});bA(undefined,by);});},PolylineAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{color:bJ.mark.getColor(),opacity:bJ.mark.getOpacity(),thickness:bJ.mark.getThickness()});bA(undefined,by);});},RectangleAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{borderColor:bJ.mark.getBorderColor(),borderThickness:bJ.mark.getBorderThickness(),fillColor:bJ.mark.getFillColor(),opacity:bJ.mark.getOpacity()});bA(undefined,by);});},RectangleRedaction:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{reason:bJ.mark.getReason(),fillColor:bJ.mark.getFillColor(),borderColor:bJ.mark.getBorderColor(),borderThickness:bJ.mark.getBorderThickness(),fontColor:bJ.mark.getFontColor()});bA(undefined,by);});},StampAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{label:bJ.mark.getLabel(),color:bJ.mark.getColor()});bA(undefined,by);});},StampRedaction:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{label:bJ.mark.getLabel()});bA(undefined,by);});},StrikethroughAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}var cB=bJ.mark.getPosition();by=IPCC.K.extend(by,{color:bJ.mark.getColor(),thickness:bJ.mark.getThickness(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bJ.mark.getText()});bA(undefined,by);});},TextAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{borderColor:bJ.mark.getBorderColor(),borderThickness:bJ.mark.getBorderThickness(),fillColor:bJ.mark.getFillColor(),fontColor:bJ.mark.getFontColor(),fontName:bJ.mark.getFontName(),fontSize:bJ.mark.getFontSize(),fontStyle:bJ.mark.getFontStyle(),maxLength:bJ.mark.getMaxLength(),horizontalAlignment:bJ.mark.getHorizontalAlignment(),opacity:bJ.mark.getOpacity(),text:bJ.mark.getText()});bA(undefined,by);});},TextAreaSignature:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{text:bJ.mark.getText(),fontColor:bJ.mark.getFontColor(),fontName:bJ.mark.getFontName(),fontStyle:bJ.mark.getFontStyle(),maxFontSize:bJ.mark.getMaxFontSize(),maxLength:bJ.mark.getMaxLength(),horizontalAlignment:bJ.mark.getHorizontalAlignment(),});bA(undefined,by);});},TextHyperlinkAnnotation:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}var cB=bJ.mark.getPosition();by=IPCC.K.extend(by,{href:bJ.mark.getHref(),fillColor:bJ.mark.getFillColor(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bJ.mark.getText()});bA(undefined,by);});},TextInputSignature:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{fontColor:bJ.mark.getFontColor(),fontName:bJ.mark.getFontName(),text:bJ.mark.getText(),mask:bJ.mark.getMask(),maxLength:bJ.mark.getMaxLength(),horizontalAlignment:bJ.mark.getHorizontalAlignment()});if(bJ.mark.getMask()){by.mask=ei.serializeMask(bJ.mark.getMask());}bA(undefined,by);});},TextRedaction:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{fontColor:bJ.mark.getFontColor(),fontName:bJ.mark.getFontName(),fontSize:bJ.mark.getFontSize(),text:bJ.mark.getText(),maxLength:bJ.mark.getMaxLength(),horizontalAlignment:bJ.mark.getHorizontalAlignment()});bA(undefined,by);});},TextSelectionRedaction:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}var cB=bJ.mark.getPosition();by=IPCC.K.extend(by,{reason:bJ.mark.getReason(),textLength:cB.length,startIndex:cB.startIndex,selectedText:bJ.mark.getText()});bA(undefined,by);});},TextSignature:function(bJ,bA){ei.Common(bJ,function(ds,by){if(ds){bA(ds);return;}by=IPCC.K.extend(by,{color:bJ.mark.getColor(),fontName:bJ.mark.getFontName(),text:bJ.mark.getText(),horizontalAlignment:bJ.mark.getHorizontalAlignment()});bA(undefined,by);});},TransparentRectangleRedaction:function(bJ,bA){ei.Common(bJ,bA);}};module.exports=ei;},{}],152:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aw=0;this.dE=undefined;this.BY=false;this.lW=Mark.InteractionMode.Full;this.df=true;if(parameters.uid&&parameters.viewerControl){(function(bx,kw){IPCC.K.forEach(bx,function validateMark(mD){if(mD.getUid()===kw){throw new Error('Uid '+kw+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kw=parameters.uid||IPCC.K.aiE();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.H=parameters.igMark;this.dE=this.H.get_markID().toString();this.dG=this.H.get_data();}else{this.dG=new IPCC.Web.UI.Data();}Data.extend(this);this.Ez=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.av.hx(parameters.pageNumber,'pageNumber');this.aw=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.av.lY(parameters.id,'id');this.dE=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.BY){this.be=parameters.type;this.BY=true;}else if(parameters.type!==undefined){IPCC.av.lY(parameters.type,'type');var Hh=My(parameters.type,Mark.Type);if(Hh===null){throw new RangeError("The value of mark type was invalid.");}this.be=Hh;}if('dF'in parameters){this.dF=parameters.dF;}if('bb'in parameters){this.bb=parameters.bb;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kw;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kw,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.be;};Mark.prototype.getId=function(){return this.dE;};Mark.prototype.getPageNumber=function(){return this.aw;};Mark.prototype.getConversation=function(){if(!this.ca){this.ca=new PCCViewer.Conversation(this);}return this.ca;};Mark.prototype.getBoundingRectangle=function(){if(this.H){var bB=this.H.get_boundingRectangle();if(bB instanceof IPCC.Web.UI.Rectangle){this.mA={width:bB.width,height:bB.height,x:bB.x,y:bB.y};}}return this.mA;};Mark.prototype.getInteractionMode=function(){if(this.H){switch(this.H.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.lW;};Mark.prototype.setInteractionMode=function(interactionMode){var lW=My(interactionMode,PCCViewer.Mark.InteractionMode),Zs;switch(lW){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Zs=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Zs=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.H){this.H.set_interactionMode(Zs);}this.lW=lW;return this;};Mark.prototype.reset=function(){var dk=new Mark({type:this.be,BY:this.BY});this.dG={};if(this.setBorderColor&&dk.getBorderColor){this.setBorderColor(dk.getBorderColor());}if(this.setBorderThickness&&dk.getBorderThickness){this.setBorderThickness(dk.getBorderThickness());}if(this.setColor&&dk.getColor){this.setColor(dk.getColor());}if(this.setEndHeadType&&dk.getEndHeadType){this.setEndHeadType(dk.getEndHeadType());}if(this.setEndPoint&&dk.getEndPoint){this.setEndPoint(dk.getEndPoint());}if(this.setFillColor&&dk.getFillColor){this.setFillColor(dk.getFillColor());}if(this.setFontColor&&dk.getFontColor){this.setFontColor(dk.getFontColor());}if(this.setFontName&&dk.getFontName){this.setFontName(dk.getFontName());}if(this.setFontSize&&dk.getFontSize){this.setFontSize(dk.getFontSize());}if(this.setFontStyle&&dk.getFontStyle){this.setFontStyle(dk.getFontStyle());}if(this.setHorizontalAlignment&&dk.getHorizontalAlignment){this.setHorizontalAlignment(dk.getHorizontalAlignment());}if(this.setLabel&&dk.getLabel){this.setLabel(dk.getLabel());}if(this.setPosition&&this.H&&dk.getPosition){this.setPosition(dk.getPosition());}if(this.setReason&&dk.setReason){this.setReason(dk.getReason());}if(this.setOpacity&&dk.getOpacity){this.setOpacity(dk.getOpacity());}if(this.setRectangle&&dk.getRectangle){this.setRectangle(dk.getRectangle());}if(this.setStartPoint&&dk.getStartPoint){this.setStartPoint(dk.getStartPoint());}if(this.setText&&dk.getText){this.setText(dk.getText());}if(this.setThickness&&dk.getThickness){this.setThickness(dk.getThickness());}if(this.setPath&&dk.getPath){this.setPath(dk.getPath());}if(this.setHref&&dk.getHref){this.setHref(dk.getHref());}if(this.setImage&&dk.getImage){this.setImage(dk.getImage());}if(this.setInteractionMode&&dk.getInteractionMode){this.setInteractionMode(dk.getInteractionMode());}if(this.setPoints&&dk.getPoints){this.setPoints(dk.getPoints());}if(this.setMask&&dk.getMask){this.setMask(dk.getMask());}if(this.setMaxLength&&dk.getMaxLength){this.setMaxLength(dk.getMaxLength());}if(this.setMaxFontSize&&dk.getMaxFontSize){this.setMaxFontSize(dk.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function My(Xq,be){var QZ=Xq.toLowerCase();for(var standardType in be){if(be.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===QZ){return standardType;}}return null;};function addMethodsToMark(G){function ate(G){G.highlightText=function(highlights){if(!this.H){throw new Error("It is invalid to highlight text on this mark.");}var kD;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){kD=[highlights];}else{kD=highlights;}for(var i=0;i<kD.length;i++){aun(kD[i]);}}else{kD=[];}var be=G.getType();switch(be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:G.H.selectText(kD);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var V=this;var RE=[];var sg=false,Qr=0,RH,Ce;var acB=function(Fk,aoq,hi){var xe;var TA= -1,RJ=[];var xD=(Fk.bQ+Fk.dr);if(sg===true&&RH>=0&&Ce>=0){if(Fk.bi-1===RH){xe=0;if(Qr<=xD){RJ.push({startIndex:xe,length:Qr,color:hi[Ce].color,opacity:(hi[Ce].opacity)?hi[Ce].opacity:127});sg=false;Qr=0;RH= -1;Ce= -1;}}}for(var aV=0;aV<hi.length;aV++){xe=Fk.bQ+hi[aV].startIndex-aoq;if(xe<0){continue;}if(Array.prototype.indexOf){TA=RE.indexOf(aV);}else{TA=IPCC.Web.kP(RE,aV);}var cu=127;if(TA=== -1){if(xe+hi[aV].length<=xD){if(hi[aV].opacity){cu=hi[aV].opacity;}RJ.push({startIndex:xe,length:hi[aV].length,color:hi[aV].color,opacity:cu});RE.push(aV);V.CI.push(hi[aV]);}else{var VK=xD-xe;if(VK>0){Qr=hi[aV].length-VK;cu=127;if(hi[aV].opacity){cu=hi[aV].opacity;}RJ.push({startIndex:xe,length:VK,color:hi[aV].color,opacity:cu});RE.push(aV);V.CI.push(hi[aV]);sg=true;Ce=aV;RH=Fk.bi;}}}}return RJ;};this.CI=[];var ef=acB(this.H,0,kD);G.clearHighlights();if(ef.length>0){V.H.selectText(ef);}ef=[];var hw=this.H.dr;if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){ef=[];ef=acB(this.dq[C],hw,kD);hw+=this.dq[C].dr;if(ef.length>0){this.dq[C].selectText(ef);}}}break;}return this;};function aun(FR){IPCC.av.nL(FR.startIndex,'highlight.startIndex',0,G.getText().length);IPCC.av.nL(FR.length,'highlight.length',1,Number.MAX_VALUE);IPCC.av.dR(FR.color,'highlight.color');if(FR.opacity){IPCC.av.nL(FR.opacity,"highlight.opacity",0,255);}};G.clearHighlights=function(){if(this.H){if(!this.H){throw new Error("It is invalid to clear highlights on this mark.");}}var be=G.getType();switch(be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:G.H.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.H.selectText();if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){this.dq[C].selectText();}}break;}return this;};};var be=G.getType();switch(be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:ate(G);break;default:break;}};function addPropertiesToMark(G){G.mA={x:0,y:0,width:0,height:0};var be=G.getType();switch(be){case Mark.Type.LineAnnotation:G.dR='#18385F';G.iP=IPCC.Web.UI.LineStyle.Solid;G.ph=6;G.cu=255;G.RM={x:0,y:0};G.xD={x:0,y:0};G.nc="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:G.eQ='#FB0404';G.cu=255;G.oV='#000000';G.np=4;G.R={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:G.ed="";G.eQ='#000000';G.oV='#000000';G.np=1;G.hl='#FFFFFF';G.R={x:0,y:0,width:0,height:0};G.nG=true;if(G.H){G.H.kJ(G.nG);}break;case Mark.Type.TransparentRectangleRedaction:G.R={x:0,y:0,width:0,height:0};G.nG=true;if(G.H){G.H.kJ(G.nG);G.H.set_fillColor('#FFFF00');G.H.set_opacity(127);G.H.set_lineWidth(1);G.H.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:G.bF='';G.eQ='#FFFFFF';G.cu=127;G.oV='#000000';G.np=4;G.hl='#000000';G.gk="Arial";G.da=12;G.cc=[];G.lL="Left";G.gN=0;G.R={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:G.tN="Approved";G.R={x:0,y:0,width:0,height:0};if(be===Mark.Type.StampRedaction){G.nG=true;if(G.H){G.H.kJ(G.nG);G.H.set_fillColor('#000000');}}else{G.dR="#000000";}break;case Mark.Type.HighlightAnnotation:G.eQ="#FFFF00";G.bF='';G.cP='';if(G.H){if(G.H.cP){G.bF=G.H.cP;}}G.cB={startIndex:0,length:0};G.CI=[];G.dq=[];break;case Mark.Type.TextSelectionRedaction:G.ed="";G.bF='';G.cB={startIndex:0,length:0};if(G.H){G.H.set_fillColor('#000000');if(G.H.cP){G.bF=G.H.cP;}}G.CI=[];G.dq=[];break;case Mark.Type.TextHyperlinkAnnotation:G.kY='';G.eQ="#3B00FF";G.bF='';if(G.H){if(G.H.cP){G.bF=G.H.cP;}}G.cB={startIndex:0,length:0};G.CI=[];G.dq=[];break;case Mark.Type.TextRedaction:G.bF='';G.hl='#000000';G.gk="Arial";G.da=12;G.R={x:0,y:0,width:0,height:0};G.nG=true;G.gN=0;if(G.H){G.H.kJ(G.nG);G.H.set_fillColor('#FFFFFF');}G.lL="Left";break;case Mark.Type.FreehandAnnotation:G.cu=255;G.R={x:0,y:0,width:0,height:0};G.ph=4;G.dR='#000000';G.hj='M0,0';break;case Mark.Type.FreehandSignature:G.R={x:0,y:0,width:0,height:0};G.ph=4;G.dR='#000000';G.lL="Center";G.hj='M0,0';break;case Mark.Type.TextSignature:G.bF="John Doe";G.R={x:0,y:0,width:0,height:0};G.dR="#000000";if(G.H){G.dR=G.H.eQ||'#000000';G.H.kJ(G.nG);G.H.set_fillColor(G.dR);}G.lL="Center";G.gk="";break;case Mark.Type.TextInputSignature:G.bF="";G.R={x:0,y:0,width:0,height:0};G.hl="#000000";G.gN=0;if(G.H){G.hl=G.H.get_textColor()||'#000000';G.H.kJ(false);}G.lL="Left";G.gk="Courier New";G.iO=null;break;case Mark.Type.TextAreaSignature:G.bF="";G.R={x:0,y:0,width:0,height:0};G.hl="#000000";if(G.H){G.hl=G.H.get_textColor()||'#000000';G.H.kJ(false);}G.lL="Left";G.gk="Courier New";G.cc=[];G.gN=0;G.ij=0;break;case 'PlaceSignature':G.lz=undefined;G.R={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:G.bM="";G.oR="";G.R={x:0,y:0,width:0,height:0};if(G.H&&be===Mark.Type.ImageStampRedaction){G.nG=true;G.H.kJ(G.nG);}break;case Mark.Type.PolylineAnnotation:G.dR='#000000';G.iP=IPCC.Web.UI.LineStyle.Solid;G.ph=2;G.cu=255;G.ar=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:G.dR='#000000';G.iP=IPCC.Web.UI.LineStyle.Solid;G.ph=2;G.bF='';G.cP='';if(G.H){if(G.H.cP){G.bF=G.H.cP;}}G.cB={startIndex:0,length:0};G.CI=[];G.dq=[];break;}function getSignature(){return this.lz||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.lz=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.lz=signature;return this;};if(G.lz||G.be==='PlaceSignature'){G.getSignature=getSignature;G.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(G,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dR=this.H.get_lineColor()||this.dR;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dR=this.H.get_fillColor()||this.dR;break;}}return this.dR;};function setColor(value){IPCC.av.dR(value,'color');this.dR=value;if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.H.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.H.set_fillColor(value);break;case Mark.Type.TextSignature:this.H.set_textColor(value);this.H.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.H.set_lineColor(value);if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){this.dq[C].set_lineColor(value);}}break;}}return this;};if(G.dR!==undefined){G.getColor=getColor;G.setColor=setColor;if(Object.defineProperties){Object.defineProperties(G,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.eQ=this.H.get_fillColor()||this.eQ;break;}}return this.eQ;};function setFillColor(value){if(this.be===PCCViewer.Mark.Type.HighlightAnnotation||this.be===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.av.dR(value,'fillColor');}else{IPCC.av.XW(value,'fillColor');}this.eQ=value;if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.H.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.H.set_fillColor(value);if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){this.dq[C].set_fillColor(value);}}break;}}return this;};if(G.eQ!==undefined){G.getFillColor=getFillColor;G.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(G,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bM,id:this.oR};return retVal;};function setImage(params){IPCC.av.lY(params.dataUrl,'string');IPCC.av.lY(params.id,'string');this.bM=params.dataUrl;this.oR=params.id;if(this.H){switch(this.be){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.H.set_image(params.dataUrl);this.H.oR=params.id;break;}}return this;};if(G.bM!==undefined){G.getImage=getImage;G.setImage=setImage;if(Object.defineProperties){Object.defineProperties(G,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oV=this.H.get_lineColor()||this.oV;break;}}return this.oV;};function setBorderColor(value){IPCC.av.XW(value,'borderColor');this.oV=value;if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.H.set_lineColor(value);break;}}return this;};if(G.oV!==undefined){G.getBorderColor=getBorderColor;G.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(G,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cu=this.H.get_opacity()||this.cu;break;}}return this.cu;};function setOpacity(value){IPCC.av.nL(value,'opacity',0,255);this.cu=value;if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.H.set_opacity(value);break;}}return this;};if(G.cu!==undefined&&G.cu>=0){G.getOpacity=getOpacity;G.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(G,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.ph=this.H.get_lineWidth()||this.ph;break;}}return this.ph;};function setThickness(value){IPCC.av.jP(value,'thickness',1,50);this.ph=value;if(this.H){switch(this.be){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.H.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.H.set_lineWidth(value);if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){this.dq[C].set_lineWidth(value);}}break;}}return this;};if(G.ph){G.getThickness=getThickness;G.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(G,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.np=this.H.get_lineWidth()||this.np;break;}}return this.np;};function setBorderThickness(value){IPCC.av.jP(value,'borderThickness',1,50);this.np=value;if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.H.set_lineWidth(value);break;}}return this;};if(G.np!==undefined){G.getBorderThickness=getBorderThickness;G.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(G,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.H){this.df=this.H.get_visible();}return this.df;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.df=value;if(this.H){this.H.set_visible(value);}var C;switch(this.be){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.dq&&this.dq.length){for(C=0;C<this.dq.length;C++){this.dq[C].set_visible(value);}}if(this.be===PCCViewer.Mark.Type.TextSelectionRedaction){var cD=this.H;for(C=0;C<this.H.bH.length;C++){cD.bH[C].set_visible(value);}if(cD.bq){IPCC.K.forEach(this.dq,function(H){for(C=0;C<H.bH.length;C++){H.bH[C].set_visible(value);}});}}break;}return this;};if(G.df!==undefined){G.getVisible=getVisible;G.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(G,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.H&&this.H!==null){var ar=this.H.get_points();if(ar.get_length()>0){switch(this.be){case Mark.Type.LineAnnotation:var aT=ar.getPoint(0);if(aT){this.RM={x:aT.x,y:aT.y};}break;}}}return this.RM;};function setStartPoint(value){IPCC.av.hx(value.x,'startPoint'+'.x');IPCC.av.hx(value.y,'startPoint'+'.y');if(this.H&&this.H!==null){var ar=this.H.get_points();switch(this.be){case Mark.Type.LineAnnotation:ar.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.RM=value;return this;};if(G.RM){G.getStartPoint=getStartPoint;G.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(G,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.H&&this.H!==null){var ar=this.H.get_points();if(ar.get_length()>0){switch(this.be){case Mark.Type.LineAnnotation:var aT=ar.getPoint(1);if(aT){this.xD={x:aT.x,y:aT.y};}break;}}}return this.xD;};function setEndPoint(value){IPCC.av.hx(value.x,'endPoint'+'.x');IPCC.av.hx(value.y,'endPoint'+'.y');if(this.H&&this.H!==null){var ar=this.H.get_points();switch(this.be){case Mark.Type.LineAnnotation:ar.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.xD=value;return this;};if(G.xD){G.getEndPoint=getEndPoint;G.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(G,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.H&&this.H!==null){var En;switch(this.be){case Mark.Type.LineAnnotation:En=this.H.get_endHeadType();switch(En){case IPCC.Web.UI.LineHeadType.None:this.nc=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.nc=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.nc;};function setEndHeadType(value){var En;switch(value){case Mark.LineHeadType.None:En=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:En=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.H&&this.H!==null){switch(this.be){case Mark.Type.LineAnnotation:this.H.set_endHeadType(En);break;}}this.nc=value;return this;};if(G.nc){G.getEndHeadType=getEndHeadType;G.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(G,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.H&&this.H!==null){var GA=this.H.get_points();var dv=GA.get_length();var aiM=[];var Yd=function(avl,ba){aiM.push(avl.getPoint(ba));};if(dv>1){switch(this.be){case Mark.Type.PolylineAnnotation:for(var C=0;C<dv;C++){Yd(GA,C);}this.ar=aiM;break;}}}return this.ar.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aV=0;aV<value.length;aV++){IPCC.av.aT(value[aV],'PolylinePoint');}if(this.H&&this.H!==null){var GA=this.H.get_points();var aBx=function(ba){GA.addPoint(new IPCC.Web.UI.Point(value[ba].x,value[ba].y));};switch(this.be){case Mark.Type.PolylineAnnotation:GA.removeAllPoints();for(var C=0;C<value.length;C++){aBx(C);}}}this.ar=value;return this;};if(G.ar){G.getPoints=getPoints;G.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(G,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.H){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bB=this.H.get_rectangle();if(bB instanceof IPCC.Web.UI.Rectangle){this.R={width:bB.width,height:bB.height,x:bB.x,y:bB.y};}break;}}return this.R;};function setRectangle(value){IPCC.av.hx(value.x,'rectangle'+'.x');IPCC.av.hx(value.y,'rectangle'+'.y');IPCC.av.hx(value.width,'rectangle'+'.width');IPCC.av.hx(value.height,'rectangle'+'.height');if(this.H&&this.H!==null){switch(this.be){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bB=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.H.set_rectangle(bB);break;}}this.R=value;return this;};if(G.R){G.getRectangle=getRectangle;G.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(G,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dQ=0;if(this.H&&this.H.cP){dQ=this.H.cP.length;}else if(this.H){dQ=IPCC.K.reduce([this.H].concat(this.dq||[]),function(dv,H){return dv+H.get_textLength();},0);}return this.H?{startIndex:this.H.bQ,length:dQ}:this.cB;};function setPosition(value){IPCC.av.hx(value.startIndex,'position.startIndex');IPCC.av.hx(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.H===undefined||this.H===null){throw new Error("The mark must be on a page.");}var bI;var ap;var bi=this.aw-1;var ub= -value.startIndex;var om=[];var cP="";var dz;while(true){if(bi>=this.dF.get_length()){throw new Error("The specified length is out of range.");}bI=this.dF.getPage(bi);if(bI.cF()&&bI.cF().xm()&&bI.cF().nu()===true){var ace=ub;var Ut=bI.cF().CR();ub+=Ut.length;if(ub<0||(ub===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var RN=0;if(bi===this.aw-1){RN=value.startIndex;}if(ub>=value.length){dz=value.startIndex+value.length-1;if(ace>=0){dz=value.length-1-ace;}om.push({pageIndex:bi,endIndex:dz});cP+=Ut.substring(RN,dz+1);break;}else{dz=bI.cF().CR().length-1;om.push({pageIndex:bi,endIndex:dz});cP+=Ut.substring(RN,dz+1);}}else{throw new Error("The text has not been retrieved for this page.");}bi++;}this.bq=IPCC.wt();var C=0;if(this.dq){if(this.H){this.H.bq=this.bq;ap=this.bb.hu(this.dF.getPage(this.H.bi));if(this.H.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Xy=this.H.bH.length-1;Xy>=0;Xy--){ap.removeMark(this.H.bH[Xy]);this.H.bH.pop();}}}for(C=this.dq.length-1;C>=0;C--){var kS=this.dq[C];ap=this.bb.hu(this.dF.getPage(kS.bi));ap.removeMark(kS);this.dq.splice(C,1);}}else{this.dq=[];}JT.call(this,om,dz,cP,value);this.cB=value;return this;};function JT(om,dz,cP,value,Yx){var C,bi,bI,ap;Yx=Yx||{};var bH;this.dq=this.dq||[];var aat=(this.H.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?auD:auw;for(C=0;C<om.length;C++){bi=om[C].pageIndex;bI=this.dF.getPage(bi);var atX=bI.cF().hJ();ap=this.bb.hu(bI);var cD;var bQ=0;dz=om[C].endIndex;if(C===0){bQ=value.startIndex;}bi=om[C].pageIndex;bH=Yx[bi]||IPCC.K.XU(atX,bQ,dz);if(C===0){cD=aat(this.H,bQ,dz-bQ+1,cP,bH,bi,this.bq,this.H.get_type(),ap);this.H.kB=true;}else{cD=aat(null,bQ,dz-bQ+1,cP,bH,bi,this.bq,this.H.get_type(),ap);this.dq.push(cD);ap.addMark(cD);cD.set_selected(this.H.get_selected());if(this.getFillColor){cD.set_fillColor(this.H.get_fillColor());}if(this.getColor){cD.set_lineColor(this.H.get_lineColor());}if(this.getThickness){cD.set_lineWidth(this.H.get_lineWidth());}if(this.getHref){cD.set_href(this.H.get_href());}if(this.getReason){cD.set_text(this.H.get_text());}}if(C===om.length-1){cD.kF=true;}}};if(G.cB){G.getPosition=getPosition;G.setPosition=setPosition;G.JT=JT;if(Object.defineProperties){Object.defineProperties(G,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function auw(G,bQ,dQ,cP,bH,bi,kk,bN,ap){if(!G){G=new IPCC.Web.UI.Mark(bN);}G.bQ=bQ;G.dr=dQ;G.ks='y';G.bq=kk;G.cP=cP;G.bH=bH||[];G.bi=bi;var Un=IPCC.K.reduce(G.bH,function(Jh,bB){if(!Jh){return bB.clone();}else{return Jh.union(bB);}},null);G.set_rectangle(Un);return G;};function auD(G,bQ,dQ,cP,bH,bi,kk,bN,ap){if(!G){G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}G.bQ=bQ;G.dr=dQ;G.bq=kk;G.cP=cP;G.bi=bi;G.bH=IPCC.K.map(bH,function(bB){var xy=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);xy.set_rectangle(bB);xy.kJ(true);xy.set_fillColor('#000000');xy.set_text(G.bF);xy.set_lineWidth(0);xy.bq=kk;ap.addMark(xy);return xy;});var Un=IPCC.K.reduce(bH,function(Jh,bB){if(!Jh){return bB.clone();}else{return Jh.union(bB);}},null);G.set_rectangle(Un);return G;};function getText(){if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bF=(typeof this.H.get_text()==="string")?this.H.get_text():this.bF;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(G.H.cP){this.bF=G.H.cP;}break;}}return this.bF;};function setText(value){IPCC.av.lY(value,'text');this.bF=value;if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.H.set_text(value);break;}}return this;};if(G.bF!==undefined){G.getText=getText;var bN=G.getType();if(bN!==Mark.Type.HighlightAnnotation&&bN!==Mark.Type.TextSelectionRedaction&&bN!==Mark.Type.TextHyperlinkAnnotation&&bN!==Mark.Type.StrikethroughAnnotation){G.setText=setText;}if(Object.defineProperties){var alx={enumerable:true,get:function(){return this.getText();}};if(G.setText!==undefined){alx.set=function(value){return this.setText(value);};}Object.defineProperties(G,{"text":alx});}}function getFontColor(){if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.hl=this.H.get_textColor()||this.hl;break;}}return this.hl;};function setFontColor(value){IPCC.av.dR(value,'fontColor');this.hl=value;if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.H.set_textColor(value);break;}}return this;};if(G.hl){G.getFontColor=getFontColor;G.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(G,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gk=this.H.get_fontName()||this.gk;break;}}return this.gk;};function setFontName(value){IPCC.av.lY(value,'fontName');this.gk=value;if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.H.set_fontName(value);break;}}return this;};if(G.gk!==undefined){G.getFontName=getFontName;G.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(G,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.da=this.H.get_fontSize()||this.da;break;}}return this.da;};function setFontSize(value){IPCC.av.jP(value,'fontSize',0.1,288);this.da=value;if(this.H){switch(this.be){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.H.set_fontSize(value);break;}}return this;};if(G.da){G.getFontSize=getFontSize;G.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(G,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.H){var Ab=this.H.get_textHorizontalAlignment();switch(Ab){case IPCC.Web.UI.HorizontalAlignment.Center:this.lL="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.lL="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.lL="Right";break;}}return this.lL;};function setHorizontalAlignment(value){IPCC.av.lY(value,'horizontalAlignment');var rf=My(value,PCCViewer.Mark.HorizontalAlignment);var Ab;switch(rf){case 'Center':Ab=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':Ab=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':Ab=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}G.lL=rf;if(this.H&&Ab!==undefined){this.H.set_textHorizontalAlignment(Ab);this.lL=rf;}return this;};if(G.lL){G.getHorizontalAlignment=getHorizontalAlignment;G.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(G,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function ase(VU){var yj=[];for(var C=0;C<VU.length;C++){switch(VU[C]){case "Bold":yj.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":yj.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":yj.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":yj.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+VU[C]);}}if(yj.length===0){yj.push(IPCC.Web.UI.FontStyle.Regular);}return yj;};function getFontStyle(){if(this.H){var oq=[];switch(this.be){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var wW=this.H.get_fontStyle();if(wW&IPCC.Web.UI.FontStyle.Bold){oq.push("Bold");}if(wW&IPCC.Web.UI.FontStyle.Italic){oq.push("Italic");}if(wW&IPCC.Web.UI.FontStyle.Strikeout){oq.push("Strikeout");}if(wW&IPCC.Web.UI.FontStyle.Underline){oq.push("Underline");}if(oq.length>0){this.cc=oq;}break;}}return this.cc;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var QM,C,aee=[];for(C=0;C<value.length;C++){QM=My(value[C],PCCViewer.Mark.FontStyles);if(QM===null){throw new RangeError("The value of font styles "+value[C]+" is invalid.");}else{IPCC.av.lY(QM,'fontStyle');aee.push(QM);}}this.cc=aee;var wW=[];wW=ase(this.cc);var ai=this;function auP(bP){setTimeout(function(){ai.H.set_fontStyle(bP);},2);};if(this.H){switch(this.be){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ahq=wW[0];for(C=1;C<wW.length;C++){ahq|=wW[C];}auP(ahq);break;}}return this;};if(G.cc){G.getFontStyle=getFontStyle;G.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(G,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.H){switch(this.be){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.tN=this.H.get_text()||this.tN;break;}}return this.tN;};function setLabel(value){IPCC.av.lY(value,'label');this.tN=value;if(this.H){switch(this.be){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.H.set_text(value);break;}}return this;};if(typeof G.tN!=='undefined'){G.getLabel=getLabel;G.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(G,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.H){switch(this.be){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.ed=this.H.get_text()||this.ed;break;}}return this.ed;};function setReason(value){IPCC.av.lY(value,'text');this.ed=value;if(this.H){switch(this.be){case Mark.Type.RectangleRedaction:this.H.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.H.set_text(value);if(this.dq&&this.dq.length){for(var C=0;C<this.dq.length;C++){this.dq[C].set_text(value);}}break;}}return this;};if(typeof G.ed!=='undefined'){G.getReason=getReason;G.setReason=setReason;if(Object.defineProperties){Object.defineProperties(G,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.H){return this.H.get_pathString();}else{return this.hj;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vn=IPCC.K.Zm(path);this.hj=path;if(this.H){this.H.set_pathString(path);this.H.set_pathWidth(vn.width);this.H.set_pathHeight(vn.height);}return this;};if(G.hj){G.setPath=setPath;G.getPath=getPath;if(Object.defineProperties){Object.defineProperties(G,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.H){return this.H.get_href();}else{return this.kY;}};function setHref(href){if(href!==null){var be=typeof href;if(be!=="undefined"&&be!=="number"&&be!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.kY=href;if(this.H){this.H.set_href(href);}if(this.dq){IPCC.K.forEach(this.dq,function(H){H.set_href(href);});}return this;};if(typeof G.kY!=='undefined'){G.setHref=setHref;G.getHref=getHref;if(Object.defineProperties){Object.defineProperties(G,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gN=maxLength;if(this.H){this.H.set_maxLength(this.gN);}return this;};function getMaxLength(){if(this.H){this.gN=this.H.get_maxLength();}return this.gN;};if(typeof G.gN!=='undefined'){G.getMaxLength=getMaxLength;G.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(G,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.ij=maxFontSize;if(this.H){this.H.set_maxFontSize(this.ij);}return this;};function getMaxFontSize(){if(this.H){this.ij=this.H.get_maxFontSize();}return this.ij;};if(typeof G.ij!=='undefined'){G.getMaxFontSize=getMaxFontSize;G.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(G,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.iO;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.iO=null;if(this.H){this.H.set_mask(this.iO);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var aid=false;IPCC.K.forEach(mask.translations,function(val,key){aid=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!aid){throw new Error('`mask.translations` must have at least one translation.');}this.iO=mask;if(this.H){this.H.set_mask(this.iO);}return this;};if(typeof G.iO!=='undefined'){G.getMask=getMask;G.setMask=setMask;if(Object.defineProperties){Object.defineProperties(G,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":30,"./PCCViewer.Data":137}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var hW=function(viewerControl,markReferences){var V=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dE=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.ax=viewerControl;this.ao=undefined;this.ZB=undefined;this.ams=undefined;this.bx=[];this.gI={};this.lW=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.K.forEach(markReferences,function(qm){var Rg=qm.markUid;qm.markupLayer=V;if(V.gI[Rg]){V.gI[Rg]=V.gI[Rg].concat(qm);}else{V.gI[Rg]=[qm];}});}var pF={};EventEmitter.extend(pF);pF.La=function(FS,ci){var V=this;return setTimeout(function(){V.trigger(FS,ci);},0);};EventEmitter.extend(this);this.dG=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Ez=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){V.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};hW.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};hW.prototype.getViewerControl=function(){return this.ax;};hW.prototype.addMarks=function(marks){var V=this,arq=function(cj){cj.jp=V;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<marks.length;C++){if(!(marks[C]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[C].getId())){marks.splice(C,1);continue;}IPCC.K.forEach(marks[C].getConversation().getComments(),arq);}if(marks.length){this.bx=this.bx.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};hW.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var C=0;C<this.bx.length;C++){for(var aV=0;aV<marks.length;aV++){if(this.bx[C].getUid()===marks[aV].getUid()){this.bx.splice(C,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aV]]});break;}}}};hW.prototype.getMarks=function(){var ahE=[];IPCC.K.forEach(this.bx,function(G){ahE.push(G);});return ahE;};hW.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var C=0,adE=false,G;for(C;C<this.bx.length;C++){G=this.bx[C];if(G.getId()===markId){adE=true;break;}}return adE;};hW.prototype.getMarkReferences=function(){var gI=[];for(var lH in this.gI){if(this.gI.hasOwnProperty(lH)){gI=gI.concat(this.gI[lH]);}}return gI;};hW.prototype.hide=function(){var ax=this.ax;ax.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};hW.prototype.show=function(){var ax=this.ax;ax.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};hW.prototype.copyLayers=function(markupLayers){var ax=this.ax,V=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bx=[];IPCC.K.forEach(markupLayers,function(jp){ax.getMarkupLayerCollection().getItem(jp.getId());bx=bx.concat(jp.getMarks());});var copiedMarks=ax.copyMarks(bx);this.addMarks(copiedMarks);IPCC.K.forEach(this.bx,function(G){IPCC.K.forEach(G.getConversation().getComments(),function(cj){cj.jp=V;});});return this;};hW.prototype.getId=function(){return this.dE;};hW.prototype.getName=function(){return this.ao;};hW.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ao=name;return this;};hW.prototype.getRecordId=function(){return this.ZB;};hW.prototype.destroy=function(){this.ax.getMarkupLayerCollection().removeItem(this.dE);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};hW.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.lW=interactionMode;IPCC.K.forEach(this.bx,function(G){G.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};hW.prototype.getOriginalXmlName=function(){return this.ams;};hW.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ams=name;return this;};if(Object.defineProperties){Object.defineProperties(hW.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=hW;},{"./PCCViewer.EventEmitter":142}],154:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.ax=viewerControl;this.sq={};this.bx={};this.jd={};this.rm=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.ax;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.K.forEach(this.sq,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.sq[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.rm;};MarkupLayerCollection.prototype.getAll=function(){var agp=[],Yk;for(Yk in this.sq){if(this.sq.hasOwnProperty(Yk)){agp.push(this.sq[Yk]);}}return agp;};MarkupLayerCollection.prototype.addItem=function(layer){var V=this,gI,Zd=layer.gI,IG=function(G,qm){var cj=G.getConversation().addComment(qm.text);cj.creationTime=new Date(qm.creationDateTime);cj.jp=qm.markupLayer;for(var uD in qm.data){if(qm.data.hasOwnProperty(uD)){cj.setData(uD,qm.data[uD]);}}},aye=function(aAu){IG(V.bx[xW],aAu);},aiW=function(G){var lH=G.getUid();V.bx[G.getUid()]=G;if(V.jd[lH]){IPCC.K.forEach(V.jd[lH],function(pS){IG(G,pS);});delete V.jd[lH];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.sq[layer.getId()]=layer;for(var xW in Zd){if(Zd.hasOwnProperty(xW)){gI=Zd[xW];if(V.bx[xW]){IPCC.K.forEach(gI,aye);}else if(V.jd[xW]){V.jd[xW]=V.jd[xW].concat(gI);}else{V.jd[xW]=gI;}}}IPCC.K.forEach(layer.getMarks(),function(G){aiW(G);});this.rm++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.K.forEach(ev.marks,function(G){aiW(G);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var aFE=ev.cT;IPCC.K.forEach(ev.marks,function(G){var lH=G.getUid();IPCC.K.forEach(V.bx[lH].getConversation().getComments(),function(FH){if(aFE.id!==FH.jp.id){var pS={creationDateTime:IPCC.K.vp(FH.creationTime),data:FH.dG.yZ(),markUid:G.getUid(),markupLayer:FH.jp,text:FH.text};if(V.jd[lH]){V.jd[lH]=V.jd[lH].concat([pS]);}else{V.jd[lH]=[pS];}}});V.tx(G);});});return this;};MarkupLayerCollection.prototype.tx=function(G){var LE;IPCC.K.forEach(this.sq,function(eh){var agM=eh.hasMark(G.getId());LE=(typeof LE!=='undefined')? +agM^LE: +agM;});if(LE===0){delete this.bx[G.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var eh=this.sq[layerId],V=this,awD=function(pS,ba){if(pS.markupLayer.getId()===layerId){V.jd[dE].splice(ba);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.K.forEach(this.bx,function(G){var gX=G.getConversation().getComments();var MB=eh.hasMark(G.getId());IPCC.K.forEach(gX,function(cj){if(MB&&cj.jp.getId()!==layerId){var adL={"markUid":G.getUid(),"markupLayer":cj.jp,"text":cj.getText(),"data":cj.dG.dG,"creationDateTime":IPCC.K.vp(cj.getCreationTime())};if(V.jd[G.getUid()]){V.jd[G.getUid()].push(adL);}else{V.jd[G.getUid()]=[adL];}G.getConversation().deleteComments(cj);}else if(MB&&cj.jp.getId()===layerId){G.getConversation().deleteComments(cj);}else if(!MB&&cj.jp.getId()===layerId){G.getConversation().deleteComments(cj);}});if(MB&&V.bx[G.getUid()]){V.tx(G);}});for(var dE in this.jd){if(this.jd.hasOwnProperty(dE)){IPCC.K.forEach(this.jd[dE],awD);}}delete this.sq[layerId];this.rm--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.sq={};this.rm=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":142}],155:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.ao=name;var Hh=apy(type);if(Hh===null){throw new RangeError("The value of type was invalid.");}this.be=Hh;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.ao;};MouseTool.prototype.getType=function(){return this.be;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function apy(Xq){var QZ=Xq.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===QZ){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var be=mouseTool.getType();switch(be){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.zR=false;break;case MouseTool.Type.PanAndEdit:mouseTool.zR=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.ac=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.ac=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.ac=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.ac=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.ac=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.ac=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.ac=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.ac=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.ac=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.ac=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.ac=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.ac=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.ac=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.ac=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.ac=new Mark({type:'PlaceSignature',BY:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.ac=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.ac=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.ac=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.ac=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.ac=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.ac){mouseTool.getTemplateMark=function(){return this.ac;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.ac){this.ac.reset();}};var MouseTools={st:{},createMouseTool:function(name,type){if(!this.st){this.st={};createDefaultMouseTools();}var yt=name.toLowerCase();var existingTool=this.st[yt];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.st[yt]=new MouseTool(name,type);}return this.st[yt];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.st){this.st={};createDefaultMouseTools();}var yt=name.toLowerCase();return this.st[yt];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.st;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":152}],156:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var AA=[];var pF={};EventEmitter.extend(pF);pF.La=function(FS,ci){var V=this;return setTimeout(function(){V.trigger(FS,ci);},0);};this.add=function(item){AA.push(item);pF.La(this.EventType.ItemAdded,{item:item,count:AA.length});return this;};this.remove=function(item){var V=this;this.forEach(function(e,idx){if(e===item){AA.splice(idx,1);pF.La(V.EventType.ItemRemoved,{item:item,count:AA.length});}});return this;};this.removeAll=function(){AA=[];pF.La(this.EventType.ItemRemoved,{count:AA.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.K.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(AA);};this.on=function(eventType,handler){pF.on.apply(pF,arguments);return this;};this.off=function(eventType,handler){pF.off.apply(pF,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":142}],157:[function(require,module,exports){var Bi={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=Bi;},{}],158:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(WU){this.WU=WU;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.WU(password);};module.exports=PasswordProtectedDocumentLoader;},{}],159:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var ZQ=function ZQ(by,dH,L){if(by.addEventListener){by.addEventListener(dH,L,false);}else if(by.attachEvent){by.attachEvent('on'+dH,L);}};var Us=function Us(by,dH,L){if(by.removeEventListener){by.removeEventListener(dH,L,false);}else if(by.detachEvent){by.detachEvent('on'+dH,L);}};function aqG(fs){var adf={};fs=fs.split('&');for(var i=fs.length;i--;){var q=fs[i].split('=');adf[q.shift()]=q.join('=');}return adf;};function atA(){var Ax=document.getElementById('pccPrintFrame');if(Ax){if(Ax.contentWindow&&Ax.contentWindow.destroy){Ax.contentWindow.destroy();}if(Ax.parentElement){Ax.parentElement.removeChild(Ax);}}};function aqp(aU){aU.alG();atA();aU.amW();if(!aU.algorithm){aU.algorithm=printAlgorithm.standard;}var hG;var gF=document.createElement('iframe');gF.id='pccPrintFrame';gF.className='pccPrintFrame';gF.style.position='absolute';gF.style.bottom=gF.style.right='0px';gF.style.width=gF.style.height='1px';gF.style.zIndex='0';gF.style.border='none';if(aU.algorithm!==printAlgorithm.contentWindowContents){gF.style.visibility='0';}function RG(){Us(window,'message',amG);};function ana(){Us(gF,'load',ana);if(gF.contentDocument){hG=gF.contentDocument;}else if(gF.contentWindow){hG=gF.contentWindow.document;}else{hG=gF.document;}if(aU.algorithm===printAlgorithm.contentWindowContents){gF.contentWindow.contents=aU.template;gF.src='javascript:window["contents"]';}else{hG.open();hG.write(aU.template);hG.close();}};var amG=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var aic=JSON.parse(message.data);var ap=aU.alq(aic.pageIndex);aU.alG();gF.contentWindow[aic.callbackName](ap);aU.amW();}else if(message.data==='extra'){var GG=aU.amk(aU);gF.contentWindow['extra'](aU.encryption,GG);}else if(message.data==='done'){if(aU.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){gF.contentWindow.focus();gF.contentWindow.document.execCommand('print',false,null);window.focus();RG();aU.vM.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){gF.contentWindow.focus();gF.contentWindow.print();window.focus();RG();aU.vM.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){RG();aU.vM.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rS=aqG(message.data);rS.index= +rS.index;rS.pageNumber= +rS.pageNumber;rS.totalPages= +rS.totalPages;aU.vM.aed= +rS.index+1;aU.vM.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rS);}};ZQ(window,'message',amG);ZQ(gF,'load',ana);document.body.appendChild(gF);return RG;};function asL(ax){return function alq(bi){return ax.bb.hu(ax.dF.getPage(bi));};};function ask(ax){return function amk(options){var bx,G,tP=[],AC=[],Ff={},Kp={},ye={},ed={},CN='',akF,ca,ba,IX,bB,ET,aw,alR={},EB={},C=0,bY=0,aV=0,anN=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bx=ax.getAllMarks();for(C=0;C<options.pages.length;C++){alR[options.pages[C]]=true;}for(bY=0;bY<bx.length;bY++){G=bx[bY];aw=G.aw;if(options.includeReasons!=='none'&&G.getReason){CN=G.getReason();if(CN){if(!ye[aw]){ed[CN]=1;ye[aw]=ed;ed={};}else{if(ye[aw][CN]){ye[aw][CN]+=1;}else{ye[aw][CN]=1;}}}}if(G.nG||G.be.search("Redaction")!== -1){if(EB[aw]){EB[aw]+=1;}else{EB[aw]=1;}}if(options.range.length&&alR[aw]!==true|| !options.includeRedactions&&G.nG|| !options.includeAnnotations&& !G.nG){continue;}ca=G.getConversation();if(ca&&ca.getComments().length){if(!IX){IX=aw;}else if(aw!==IX){tP.sort(anN);for(aV=0;aV<tP.length;aV++){AC=AC.concat(Ff[tP[aV]]);}Kp[IX]=AC;IX=aw;tP=[];Ff={};AC=[];}ba=ax.getCharacterIndex(G);akF=aw;bB=G.H.get_boundingRectangle();ET=(ba>0)?ba*10000+bB.y:bB.y;tP.push(ET);if(!Ff[ET]){Ff[ET]=[ca];}else{Ff[ET].push(ca);}}}if(tP.length){tP.sort(function(a,b){return a-b;});for(C=0;C<tP.length;C++){AC=AC.concat(Ff[tP[C]]);}Kp[akF]=AC;}}return{Kp:Kp,ye:ye,EB:EB};};};function atM(ax){return function(){if(ax&&ax.bb){ax.bb.remove_markChanged(ax.mG);}};};function Zv(ax){return function(){if(ax&&ax.bb){ax.bb.add_markChanged(ax.mG);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cZ=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var pu=this.aU.imageHandlerUrl;var aql=this.aU.documentID;var apj=this.axS;options.vsID=aql;options.handler=pu;options.pages=cZ;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=apj.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.aU.viewerAssetsPath);options.encryption= ! !this.aU.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var TQ;function aQ(){if(! !TQ){TQ();}};var vM=new PCCViewer.PrintRequest(options,cZ.length,aQ,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vM});options.vM=vM;options.alq=asL(this);options.amk=ask(this);options.alG=atM(this);options.amW=Zv(this);TQ=aqp(options);return vM;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.aU=options;this.aQ=cancelFunc;this.aed=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.aQ();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.aU.pages.toString(),orientation:this.aU.orientation,paperSize:this.aU.paperSize,margins:this.aU.margins,includeMarks:this.aU.includeMarks,includeAnnotations:this.aU.includeAnnotations,includeRedactions:this.aU.includeRedactions,includeComments:this.aU.includeComments,includeReasons:this.aU.includeReasons,redactionViewMode:this.aU.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.aU.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.aed;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var adF=[];IPCC.K.ZS=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function Ak(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function avh(aw,JB){var kr=[];kr.push("pageNumber="+(1+aw));kr.push("index="+JB);kr.push("totalPages="+options.pages.length);return kr.join('&');};function iJ(aw,JB,next){var bJ={documentIdentifier:options.vsID,pageNumber:aw,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jr=document.createElement('div');jr.className=options.paperSize+" ";jr.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jr.id='printpage'+aw;if(options.margins==='none'){jr.className+=' nomargins';}domElement.appendChild(jr);var pv=IPCC.initializePageViewPlugin(jr,bJ);pv.set_debug(false);pv.set_requireRequestsOptimize(true);adF.push(pv);var wV=false;function JJ(){Ak(avh(aw,JB));next();};pv.add_pageOpened(function(){var bV=pv.kq(),aK=pv.ig();var wr=(options.orientation==='portrait'&&bV>aK)||(options.orientation==='landscape'&&aK>bV);if(wr){pv.wr(90);}});pv.add_pageDisplayed(function(){if(!wV){JJ();}});pv.add_textPageReady(function(){if(wV){pv.cA();JJ();}});pv.add_pageOpenFailed(function(){Ak('fail');});pv.add_textExtractionFailed(function(){if(wV){Ak('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qW(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qW(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var agq='loadArt'+aw;var rS={pageIndex:aw,callbackName:agq};window[agq]=function(ap){var mR,Lw,C,ca={},Sb={},zg='',oM,GD,ed,CC='';var KH=[];ap.Dn(function(G){if(G.get_type()===IPCC.Web.UI.MarkType.HighlightText){wV=true;}if(options.includeRedactions&&G.kM()){KH.push(G);}if(options.includeAnnotations&& !G.kM()){KH.push(G);}});var adv=new IPCC.Web.UI.ArtPage();IPCC.K.forEach(KH,function(G){G.nx(undefined);adv.addMark(G);});bJ.artPage=adv;Sb=options.pagedConversations[aw+1];if(options.pagedConversations&&Sb&&options.includeComments==='followingPage'){mR=document.createElement('div');mR.className+='commentPage';mR.id='printcommentpage'+aw;if(options.margins==='none'){mR.className+=' nomargins';}Lw='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(C=0;C<Sb.length;C++){ca=Sb[C];zg+=ame(ca,aw+1);}mR.innerHTML=Lw.replace('{{pageNumber}}',aw+1).replace('{{conversationList}}',zg);domElement.appendChild(mR);}GD=options.pagedReasons[aw+1];if(options.pagedReasons&&GD&&options.includeReasons==='followingPage'){oM=document.createElement('div');oM.className+='reasonPage';oM.id='printreasonpage'+aw;if(options.margins==='none'){oM.className+=' nomargins';}Lw='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(ed in GD){if(GD.hasOwnProperty(ed)){CC+=alD(ed,GD[ed]);}}oM.innerHTML=Lw.replace('{{pageNumber}}',aw+1).replace('{{reasonList}}',CC).replace('{{date}}',alr()).replace('{{count}}',options.pagedRedactionCount[aw+1]);domElement.appendChild(oM);}pv.openPage(bJ);IPCC.K.forEach(KH,function(G){G.nx(ap);});};Ak(JSON.stringify(rS));}else{pv.openPage(bJ);}};function ame(ca,aw){var ahf='',jn='',G=ca.getMark(),gX,cj,C;switch(G.H.iq()){case IPCC.Web.UI.MarkType.Rectangle:jn=(G.H.kM())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:jn='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jn='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:jn=(G.nc==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:jn='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:jn='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:jn='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:jn='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:jn='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:jn='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:jn='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:jn='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:jn='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:jn='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:jn='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:jn='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:jn='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:jn='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:jn='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:jn='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:jn='Strikethrough Annotation';break;default:break;}gX=ca.getComments();for(C=0;C<gX.length;C++){cj=gX[C];ahf+='<li>'+aqt({text:cj.getText(),createDate:cj.oj.YR,pageNumber:aw+1})+'</li>';}return '<h3>'+jn+'</h3><ul>'+ahf+'</ul>';};function aqt(cj){var hI=new Date(cj.createDate),VB='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',hI.getMonth()+1).replace('{{day}}',hI.getDate()).replace('{{year}}',hI.getFullYear()).replace('{{hour}}',(hI.getHours()<10?'0':'')+hI.getHours()).replace('{{minutes}}',(hI.getMinutes()<10?'0':'')+hI.getMinutes()).replace('{{period}}',hI.getHours()<12?'am':'pm');var bF=cj.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bF).replace('{{date}}',VB);};function alr(){var hI=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',hI.getMonth()+1).replace('{{day}}',hI.getDate()).replace('{{year}}',hI.getFullYear());};function alD(ed,rm){ed=ed.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var aup=(rm>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',ed).replace('{{count}}',rm).replace('{{times}}',aup);};function auG(){window.onerror=function(ev){Ak('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function aqX(aw,JB){return function(next){iJ(aw,JB,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var bI= +options.pages[i]-1;funcs.push(aqX(bI,i));}sync(funcs,function(){var mR,OY='',bI,Du='',zg='',ca,G,afW='<h1>Comments</h1><hr>{{pageSections}}',oM,CC='',azm='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(bI in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(bI)){if(!mR){mR=document.createElement('div');mR.className+=' commentPage';mR.id='printpage_comments';if(options.margins==='none'){mR.className+=' nomargins';}}OY='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';zg='';for(var C=0;C<options.pagedConversations[bI].length;C++){ca=options.pagedConversations[bI][C];G=ca.getMark();zg+=ame(ca,G.pageNumber);}Du+=OY.replace('{{pageNumber}}',G.pageNumber).replace('{{conversationList}}',zg);if(zg.length){mR.innerHTML=afW.replace('{{pageSections}}',Du);domElement.appendChild(mR);}}}}if(options.includeReasons==='documentEnd'){Du='';afW='';OY='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(bI in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(bI)){if(!oM){oM=document.createElement('div');oM.className+='reasonPage';oM.id='printpage_reason';if(options.margins==='none'){oM.className+=' nomargins';}}CC='';for(var ed in options.pagedReasons[bI]){if(options.pagedReasons[bI].hasOwnProperty(ed)){CC+=alD(ed,options.pagedReasons[bI][ed]);}}Du+=OY.replace('{{pageNumber}}',bI).replace('{{reasonList}}',CC).replace('{{date}}',alr()).replace('{{count}}',options.pagedRedactionCount[bI]);}}if(Du.length){oM.innerHTML=azm.replace('{{pageSections}}',Du);domElement.appendChild(oM);}}Ak('done');});};function arJ(){window['extra']=function(bool,GG){options.encryption= ! !bool;options.pagedConversations=GG.Kp;options.pagedReasons=GG.ye;options.pagedRedactionCount=GG.EB;auG();window['extra']=function(){};};Ak('extra');};function asT(){var ap;IPCC.K.forEach(adF,function(bK){ap=bK.get_artPage();if(ap){ap.removeAllMarks();}bK.dispose();ap=undefined;});};window['destroy']=asT;arJ();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],160:[function(require,module,exports){var awY={Draft:"Draft",Normal:"Normal"};module.exports=awY;},{}],161:[function(require,module,exports){var Revision=function(){this.dE=0;this.xY=0;this.be='';};Revision.prototype.getId=function(){return this.dE;};Revision.prototype.getEndPageNumber=function(){return this.xY;};Revision.prototype.getType=function(){return this.be;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.xY;}},"id":{enumerable:true,get:function(){return this.dE;}},"type":{enumerable:true,get:function(){return this.be;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],162:[function(require,module,exports){var GI=function(aU){var jV=new PCCViewer.RevisionsRequest(true);function auK(be){for(var UW in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(UW)){if(UW.toLowerCase()===be.toLowerCase()){return PCCViewer.Revision.Type[UW];}}}return PCCViewer.Revision.Type.Unknown;};function apz(fp,bQ){var xQ=[];if(fp.changes&&fp.changes.length){xQ=fp.changes.map(function(Wk){var NJ=new PCCViewer.Revision();NJ.dE=Wk.id;NJ.xY=Wk.endPageIndex+1;NJ.be=auK(Wk.type);return NJ;});}return xQ;};function aqi(Nc){var Xh=Nc?'&continueToken='+Nc:'';var aqZ=aU.imageHandlerUrl+'/v2/viewingSessions/'+aU.documentID;return aqZ+'/revisionData?limit=100'+Xh;};function akI(Nc){var bm=PCCViewer.Deferred();var bw=aqi(Nc);PCCViewer.Ajax.fK({url:bw,method:'GET'}).then(function dS(aI){var dG=JSON.parse(aI.responseText);var CO=dG.continueToken;var xQ=apz(dG,jV.Gr.length);jV.Gr=jV.Gr.concat(xQ);if(CO){if(xQ.length){jV.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xQ});}setTimeout(function(){akI(CO);},dG.continueAfter||0);}else{if(xQ.length){jV.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xQ});}jV.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:jV.getRevisions()});jV.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jV.getRevisions()});}bm.resolve();},function ew(ah){var ez='RequestFailed';var cG='The request to get revisions failed.';var mZ=ah.response.responseText?JSON.parse(ah.response.responseText):'';var jI=ah.response.status;if(mZ&&(jI===580||(jI===480&&mZ.errorCode==='DocumentNotProvidedYet'))){ez=mZ.errorCode;}jV.ez=ez;jV.cG=cG;jV.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:jV.getErrorMessage()});jV.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jV.getRevisions()});bm.reject(ah.error);});};this.axH=function(){setTimeout(function(){akI();},0);return jV;};};var RevisionsRequest=function(vI){this.Gr=[];this.ez=null;this.cG=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !vI,enumerable:true,get:function(){return this.Gr;}},"errorCode":{configurable: ! !vI,enumerable:true,get:function(){return this.ez;}},"errorMessage":{configurable: ! !vI,enumerable:true,get:function(){return this.cG;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Gr;};RevisionsRequest.prototype.getErrorCode=function(){return this.ez;};RevisionsRequest.prototype.getErrorMessage=function(){return this.cG;};module.exports={RevisionsRequest:RevisionsRequest,GI:GI};},{}],163:[function(require,module,exports){var DC={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=DC;},{}],164:[function(require,module,exports){var _Search=function(){this.bo='';this.Iq={};this.cX={};this.Pu=0;this.bk=new PCCViewer.SearchRequest();var V=this;this.VW=function(){var PF=[];for(var C=0;C<V.Iq.searchTerms.length;C++){var bo=V.Iq.searchTerms[C];var nF=IPCC.K.QD(bo.type);var OD;switch(nF){case 'proximity':var yG={va:bo,cX:[],type:bo.type,highlightColor:this.ZA(bo.highlightColor),distance:bo.distance,contextPadding:bo.contextPadding};for(var x=0;x<bo.terms.length;x++){var SG=bo.terms[x];OD=this.afP(SG);yG.cX=yG.cX.concat(OD);}PF.push(yG);break;default:OD=this.afP(bo);PF=PF.concat(OD);break;}}return PF;};this.afP=function(bo){var fq=[];var cX={};if(bo.matchingOptions.exactPhrase===false&&bo.searchTermIsRegex===false){var zp=bo.searchTerm.split(' ');for(var aV=0;aV<zp.length;aV++){cX={};if(zp[aV].length<0){continue;}cX.searchText=zp[aV];cX.va=bo;if(bo.matchingOptions.matchWholeWord){cX.searchTerm=this.amz(this.Gn(zp[aV]),bo.matchingOptions);}else{if(bo.matchingOptions.wildcard===true){cX.searchTerm=this.afX(this.Gn(zp[aV]),bo.matchingOptions);}else if(bo.matchingOptions.beginsWith===true||bo.matchingOptions.endsWith===true){cX.searchTerm=this.ama(this.Gn(zp[aV]),bo.matchingOptions);}else{cX.searchTerm=this.aei(zp[aV],bo.matchingOptions,false);}}cX.highlightColor=this.ZA(bo.highlightColor);fq.push(cX);}}else{cX={};cX.searchText=bo.searchTerm;cX.va=bo;if(bo.matchingOptions.matchWholeWord){cX.searchTerm=this.amz(this.Gn(bo.searchTerm),bo.matchingOptions);}else{if(bo.matchingOptions.wildcard===true){cX.searchTerm=this.afX(this.Gn(bo.searchTerm),bo.matchingOptions);}else if(bo.matchingOptions.beginsWith===true||bo.matchingOptions.endsWith===true){cX.searchTerm=this.ama(this.Gn(bo.searchTerm),bo.matchingOptions);}else{cX.searchTerm=this.aei(bo.searchTerm,bo.matchingOptions,bo.searchTermIsRegex);}}cX.highlightColor=this.ZA(bo.highlightColor);fq.push(cX);}return fq;};this.amz=function(rr,vo){var Km=new RegExp('\\b'+rr+'\\b',this.Kl(vo.matchCase));return Km;};this.ama=function(rr,vo){if(vo.beginsWith){return new RegExp("\\b"+rr+'(\\w+)',this.Kl(vo.matchCase));}if(vo.endsWith){rr=rr.replace("*","");return new RegExp('(\\w+)'+rr+"\\b",this.Kl(vo.matchCase));}};this.Gn=function(rr){return rr.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.afX=function(rX,vo){rX=rX.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rX==='\\*'){var ds=new Error('The search term must contain one or more non-wildcard characters.');ds.azo=true;throw ds;}var regexFlags='gim';if(vo.matchCase){regexFlags='gm';}rX=rX.replace(/\*/g,'\S*');rX=rX.replace(/\?/g,'\S');var Km=new RegExp('(\\s|^)'+rX+'(?=\\s|$)',regexFlags);return Km;};this.SB=function(rr){return rr.replace(/\ /g,'\\s+');};this.aei=function(PW,matchingOptions,isRegex){var uQ='';if(isRegex===true){uQ=this.SB(PW);}else if(matchingOptions.wildcard===true){uQ=PW.replace(/[-[\]{}()+,^$|#]/g,"\\$&");uQ=this.SB(uQ);}else if(matchingOptions.exactPhrase){uQ=PW.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");uQ=this.SB(uQ);}else{uQ=PW.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var azu=uQ.replace(/'/g,'[\'||]').replace(/"/g,'["||]');return new RegExp(azu,this.Kl(matchingOptions.matchCase));};this.Kl=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHn=function(rX){var Km=new RegExp('\\b'+rX+'\\b',V.Kl());return Km;};var ajy=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.ZA=function(dR){if(!dR){return ajy[V.Pu++ %ajy.length];}else{return dR;}};this.RW=function(ey){if(typeof ey==='string'){ey={searchTerms:[{searchTerm:ey,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return ey;}IPCC.K.forEach(ey.searchTerms,function(bo){if(!bo.matchingOptions){bo.matchingOptions={};}var nF=IPCC.K.QD(bo.type);switch(nF){case 'proximity':IPCC.K.forEach(bo.terms,function(SG){V.ajK(SG);});break;default:V.ajK(bo);break;}});return ey;};this.ajK=function(bo){if(typeof bo.contextPadding==="undefined"){bo.contextPadding=25;}if(typeof bo.searchTermIsRegex==="undefined"){bo.searchTermIsRegex=false;}if(typeof bo.matchingOptions==="undefined"){bo.matchingOptions={};}if(!bo.matchingOptions.hasOwnProperty('matchCase')){bo.matchingOptions.matchCase=false;}if(!bo.matchingOptions.hasOwnProperty('exactPhrase')){bo.matchingOptions.exactPhrase=true;}if(!bo.matchingOptions.hasOwnProperty('matchWholeWord')){bo.matchingOptions.matchWholeWord=false;}if(!bo.matchingOptions.hasOwnProperty('beginsWith')){bo.matchingOptions.beginsWith=false;}if(!bo.matchingOptions.hasOwnProperty('endsWith')){bo.matchingOptions.endsWith=false;}if(!bo.matchingOptions.hasOwnProperty('wildcard')){bo.matchingOptions.wildcard=false;}if(typeof bo.highlightColor!=='undefined'){try{IPCC.av.dR(bo.highlightColor,"selectText");}catch(e){bo.highlightColor=undefined;}}};this.avM=function(){return V.cX;};this.alu=function(e){V.bk.cG=e.message;V.bk.ez="1010";V.bk.uU=true;setTimeout(function(){V.bk.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){V.bk.trigger("SearchCompleted",{completedSearchResults:(V.sa)});},10);return V.bk;};this.uC=function(ey,aP){this.cX={};this.Iq=ey;this.bo=ey;this.Pu=0;var uC=new PCCViewer.OS();try{V.cX=this.VW();return uC.Vh(aP,V.cX,ey,V.bk);}catch(e){return V.alu(e);}};this.Fs=function(ey,aP){this.cX={};this.Iq=ey;this.bo=ey;this.Pu=0;var Fs=new PCCViewer.Vu();try{V.cX=this.VW();return Fs.Vh(aP,V.cX,ey,V.bk);}catch(e){return V.alu(e);}};};_Search.prototype.xr=function(searchQuery){this.cX={};this.bk=new PCCViewer.SearchRequest();this.Iq=searchQuery;this.bk.ey=searchQuery;this.bo=searchQuery;this.Pu=0;return this.bk;};var SearchTask=function(searchQuery){this.aaS(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.RW(searchQuery);this.bk=_search.xr(searchQuery);try{_search.cX=_search.VW();}catch(e){if(e.azo){throw new Error(e.message);}else{throw new Error(e.message);}}var uC=new PCCViewer.OS();this.search=function(text){uC.sa=[];uC.ab=0;uC.cX=_search.cX;uC.aCJ(text);return uC.sa;};};SearchTask.prototype.aaS=function(searchQuery){if(typeof searchQuery==='string'){return;}var yo;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){yo=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.K.forEach(yo,function(uw,C){var nF=uw.type?IPCC.K.trim(uw.type).toLowerCase():undefined;switch(nF){case 'proximity':IPCC.K.forEach(uw.terms,function(axK,aY){if(!afS(axK)){throw new Error("Search term index "+aY+" under Proximity search term index "+C+" does not have a valid `searchTerm` string property.");}});break;default:if(!afS(uw)){throw new Error("Search term index "+C+" does not have a valid `searchTerm` string property.");}break;}});function afS(uw){return(typeof uw.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],165:[function(require,module,exports){function arp(ey){var yo=ey.map(function(bo,afw){if(bo.type==='proximity'){return{type:'proximity',distance:bo.distance,subTerms:bo.cX.map(function(aeG){return{pattern:aeG.searchTerm.source,caseSensitive:aeG.va.matchingOptions.matchCase};}),termId:afw.toString(),contextPadding:bo.contextPadding};}return{type:'simple',pattern:bo.searchTerm.source,caseSensitive:bo.va.matchingOptions.matchCase,termId:afw.toString(),contextPadding:bo.contextPadding};});return{input:{searchTerms:yo}};};var Vu=function(){var V=this;var xr,CO,afz;var KN=[];this.zb=false;this.xF={};this.xo=[];function aqD(){var Xh=CO?'&continueToken='+CO:'';return V.aP.rQ+'/v2/searchTasks/'+xr.processId+'/results?limit=100'+Xh;};function asw(fq){var Rk=V.xF.input.searchTerms.reduce(function(oT,uw){oT[uw.termId]=V.cX[uw.termId];return oT;},{});return fq.map(function(ah){var fd=new PCCViewer.SearchResult();if(V.cX[0].va.matchingOptions.wildcard&&(ah.text[0]===" "||ah.text[0]==="\n")){ah.text=ah.text.substring(1);ah.startIndex+=1;ah.startIndexInContext+=1;}fd.mA=ah.boundingRectangle;fd.dA=ah.context;fd.Ag=ah.startIndexInContext;fd.nm=ah.id;fd.cX=V.cX;fd.bH=ah.lineRectangles;fd.gb=ah.pageData;fd.qr=ah.startIndex;fd.bF=ah.text;fd.aw=ah.pageIndex+1;fd.dE=ah.id;fd.GV=V.aP.get_documentIdentifier();fd.bo=Rk[ah.searchTerm.termId].va;fd.ro=Rk[ah.searchTerm.termId].highlightColor;return fd;});};function sY(Iz,Sr){switch(Iz){case 'failed':setTimeout(function(){V.bk.trigger(PCCViewer.EventType.SearchFailed,Sr);},10);break;case 'complete':V.bk.Ry=V.xo;V.bk.uU=true;setTimeout(function(){V.bk.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(V.bk.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){V.bk.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(V.bk.getResults())});},10);};function ass(lD){var bw=V.aP.rQ+'/v2/viewingSessions/'+encodeURIComponent(V.aP.get_documentIdentifier())+'/searchTasks';function dS(aI){var ah=JSON.parse(aI.responseText);xr=ah;if(KN.length){KN.forEach(function(vC){vC();});}KN=[];lD();};function ew(bv){V.bk.off('SearchCancelled',V.akT);V.bk.cG='The request to create a search task failed.';var aEE=bv&&bv.response&&bv.response.status===501;var ayD=bv&&bv.response&&bv.response.status===480&&(function(anW){try{return JSON.parse(anW).errorCode==='FeatureDisabled';}catch(e){return false;}}(bv.response.responseText));if(aEE||ayD){V.bk.ez='ServerSearchUnavailable';V.bk.cG='Server-side search is not available.';sY('failed',{errorMessage:V.bk.cG});return;}sY('failed',{errorMessage:V.bk.cG});};PCCViewer.Ajax.fK({url:bw,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(V.xF)}).then(dS,ew);};function LK(lD){var bw=aqD();var gf={};if(xr.affinityToken){gf['Accusoft-Affinity-Token']=xr.affinityToken;}if(!V.zb){return;}function dS(aI){if(!V.zb){return;}var ah=JSON.parse(aI.responseText);var SC=asw(ah.results);V.xo=ah.pagesWithoutText;V.bk.fq.push.apply(V.bk.fq,SC);if(SC.length){setTimeout(function(){IPCC.K.forEach(SC.reduce(function(oT,ah){var co=ah.aw;if(!oT[co]){oT[co]=[];}oT[co].push(ah);return oT;},{}),function(fq,co){V.bk.trigger('PartialSearchResultsAvailable',{partialSearchResults:fq,pagesWithoutText:V.xo});});},10);}if(ah.continueToken){CO=ah.continueToken;afz=ah.continueAfter;lD();}else if(V.zb){sY('complete');}};function ew(ah){if(!V.zb){return;}V.zb=false;V.bk.cG='The request to poll the search task failed.';V.bk.uU=true;sY('failed',{errorMessage:V.bk.cG});};PCCViewer.Ajax.fK({method:'GET',url:bw,headers:gf}).then(dS,ew);};function apA(){(function aro(){setTimeout(function(){LK(aro);},afz||0);}());};function akT(){sY('cancelled');V.zb=false;function akq(){};if(!xr){KN.push(akq);return;}akq();};this.Vh=function(aP,cX,ey,bk){V.aP=aP;V.cX=cX;V.bk=bk;V.bk.ey=ey;V.xF=arp(V.cX);V.zb=true;V.bk.on('SearchCancelled',akT);ass(function(){apA();});return V.bk;};};module.exports=Vu;},{}],166:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function ajY(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function wn(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new wn(this.x,this.y);};};function abJ(aO){return(aO&&aO.nodeType===1);};function RZ(gg,Fw){var Tk=(Fw&&IPCC.K.Cb)?'m':'M';var ZD=(Fw&&IPCC.K.Cb)?'l':'L';return IPCC.K.map(gg,function(el,i){if(i===0){return Tk+el.x+','+el.y;}else{return ZD+el.x+','+el.y;}}).join('');};function afO(dA,pd,eN){return function(bv){if(IPCC.K.BG&&bv.type.match('mouse')){bv.preventDefault();bv.stopPropagation();return false;}if(bv.preventDefault){bv.preventDefault();}else{bv.returnValue=false;}var x,y;if(bv.changedTouches){var jF=bv.changedTouches[0];if(bv.type==='touchstart'){pd=bv.target.getBoundingClientRect();}else if(bv.type==='touchend'){eN&&eN();return;}x=jF.clientX-pd.left;y=jF.clientY-pd.top;}else{x=bv.clientX-pd.left;y=bv.clientY-pd.top;}var aT=new wn(x,y);dA.gg.push(aT);var pU=RZ(dA.gg);if(IPCC.K.Cb){dA.hj.path=pU.toLowerCase();}else{dA.hj.setAttribute('d',pU);}eN&&eN();};};function asO(points){var ys=3,bZ='',ta;var qB=(points.length<ys)?points:IPCC.K.filter(points,function(el){if(ta&&ta.close(el)){return false;}else{ta=el;return true;}});if(qB.length<ys){qB=[points[0],points[points.length-1]];}ta=undefined;if(qB.length<ys){bZ+=RZ(qB);}else{bZ='M'+IPCC.K.bspline(qB);bZ=bZ.replace(/\d*\.?\d*/g,function(bP){var Ih=bP.indexOf('.');if(bP.length&&Ih>0){return bP.substr(0,Ih+3);}else if(bP!==""){return bP;}else{return bP;}});}return bZ;};function SignatureControl(dom){var V=this;if(typeof dom==='string'){this.aJ=document.querySelector(dom);if(!(abJ(this.aJ))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(abJ(dom)){this.aJ=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.HZ=[];this.pd=new ajY(this.aJ.getBoundingClientRect());this.ee=IPCC.K.zB.SVG([0,0,this.pd.width,this.pd.height].join(' '));this.aJ.appendChild(this.ee);function Ec(ev){var hj=IPCC.K.zB.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});V.ee.appendChild(hj);var dA={gg:[],hj:hj,eN:function(){V.HZ.push(dA.gg);IPCC.K.removeEvent(V.aJ,'mousemove',zV);IPCC.K.removeEvent(V.aJ,'mouseup',Ft);if(IPCC.K.BG){IPCC.K.removeEvent(V.aJ,IPCC.K.nI['move'],zV);IPCC.K.removeEvent(V.aJ,IPCC.K.nI['up'],Ft);}if(IPCC.K.GN){IPCC.K.removeEvent(V.aJ,'touchmove',zV);IPCC.K.removeEvent(V.aJ,'touchend',Ft);}}};var zV=afO(dA,V.pd);var Ft=afO(dA,V.pd,dA.eN);zV(ev);IPCC.K.addEvent(V.aJ,'mousemove',zV);IPCC.K.addEvent(V.aJ,'mouseup',Ft);if(IPCC.K.BG){IPCC.K.addEvent(V.aJ,IPCC.K.nI['move'],zV);IPCC.K.addEvent(V.aJ,IPCC.K.nI['up'],Ft);}if(IPCC.K.GN){IPCC.K.addEvent(V.aJ,'touchmove',zV);IPCC.K.addEvent(V.aJ,'touchend',Ft);}};IPCC.K.addEvent(V.aJ,'mousedown',Ec);if(IPCC.K.BG){this.aJ.style['-ms-touch-action']='none';this.aJ.style['touch-action']='none';IPCC.K.addEvent(V.aJ,IPCC.K.nI['down'],Ec);}if(IPCC.K.GN){IPCC.K.addEvent(V.aJ,'touchstart',Ec);}this.SQ=function(){V.pd=new ajY(V.aJ.getBoundingClientRect());V.ee.setAttribute('viewBox',[0,0,V.pd.width,V.pd.height].join(' '));};IPCC.K.addEvent(window,'resize',this.SQ);this.aix=function(){IPCC.K.removeEvent(window,'resize',V.SQ);IPCC.K.removeEvent(V.aJ,'mousedown',Ec);if(IPCC.K.BG){IPCC.K.removeEvent(V.aJ,IPCC.K.nI['down'],Ec);}if(IPCC.K.GN){IPCC.K.removeEvent(V.aJ,'touchstart',Ec);}while(V.aJ.firstChild){V.aJ.removeChild(V.aJ.firstChild);}};};SignatureControl.prototype.done=function(){var kh,mz,mx,mP,pU='M0,0',afe=this;IPCC.K.forEach(afe.HZ,function(pm){IPCC.K.forEach(pm,function(p){if(kh===undefined||kh>p.x){kh=p.x;}if(mz===undefined||mz>p.y){mz=p.y;}if(mx===undefined||mx<p.x){mx=p.x;}if(mP===undefined||mP<p.y){mP=p.y;}});});IPCC.K.forEach(afe.HZ,function(pm){var avD=IPCC.K.map(pm,function(p){return new wn(p.x-kh,p.y-mz);});pU+=asO(avD);});this.aix();return{type:'path',path:pU,width:(mx-kh)||0,height:(mP-mz)||0};};SignatureControl.prototype.resize=function(){this.SQ();return this;};SignatureControl.prototype.clear=function(){var svg=this.ee;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.HZ=[];return this;};SignatureControl.prototype.undo=function(){if(this.ee.lastChild){this.ee.removeChild(this.ee.lastChild);}this.HZ.pop();return this;};SignatureControl.prototype.cancel=function(){this.aix();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qN=IPCC.K.Zm(signature.path);var ee=IPCC.K.zB.SVG([0,0,qN.width,qN.height].join(' '));var hj=IPCC.K.zB.Path(signature.path,{width:qN.width,height:qN.height,color:'black',thickness:4});if(IPCC.K.Cb){var axW=(qN.height/qN.width)*100;ee.style.width=hj.style.width='100%';ee.style.height=hj.style.height='0px';ee.style.paddingBottom=hj.style.paddingBottom=axW+'%';}else{ee.style.width='100%';ee.style.maxHeight='100%';ee.setAttribute('preserveAspectRatio','xMinYMin meet');}ee.appendChild(hj);domElement.appendChild(ee);return{width:qN.width,height:qN.height,clear:function(){domElement.removeChild(ee);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jr=document.createElement('div');var nl=document.createTextNode(signature.text);var jm=(typeof signature.fontName==='string')?signature.fontName:'serif';jr.appendChild(nl);jr.style.textAlign='center';jr.style.fontFamily='"'+jm+'", cursive';jr.style.fontSize='2.5em';jr.style.overflow='hidden';domElement.appendChild(jr);var qN=IPCC.K.um(signature.text,jm);return{width:qN.width,height:qN.height,clear:function(){domElement.removeChild(jr);}};};if(!abJ(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":156}],167:[function(require,module,exports){var VP=function(){},jI={afI:0,awt:1,atT:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.K.tE(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var V=this;this.jI=jI.afI;this.aU=viewerControl.aU;this._debug= ! !this.aU.debug;this.aEZ="Single";this.JC=[];this.pB={};if(!this.ax){this.ax=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bf=domElement;if(viewerControl.po){V.jI=jI.atT;V.Rj(viewerControl.getPageCount());V.XZ(V.bf);}else{V.jI=jI.awt;V.Rj(1,0);viewerControl.on('PageCountReady',function(){V.Rj(viewerControl.getPageCount(),1);V.XZ(V.bf);});}viewerControl.on('PageRotated',function(bv){IPCC.K.forEach(V.pB,function(aE){if(aE.bi===(bv.pageNumber-1)){if(aE.wP===true){V.Xw(aE);}}});});viewerControl.on('DocumentRotated',function(bv){IPCC.K.forEach(V.pB,function(aE){if(aE.wP===true){V.Xw(aE);}});});};ThumbnailControl.prototype.getViewerControl=function(){return this.ax;};ThumbnailControl.prototype.Rj=function(es,hw){hw=hw||0;var V=this,Jb=document.createDocumentFragment();for(var i=hw;i<es;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var dZ=document.createElement('div');dZ.className='pccThumbnail';var pY=document.createElement('div');pY.className='pccThumbnailView';pY.id='pcc-thumbnailPage-'+i+'-'+IPCC.wt();dZ.appendChild(pY);_parent.appendChild(dZ);Jb.appendChild(_parent);V.pB[i]={abm:_parent,aJ:dZ,pY:pY,bi:i,bK:{},wP:false,kx:0,jG:0,hE:0};}IPCC.K.forEach(V.pB,function(aE){var YA=document.createElement('div'),tN=document.createElement('span'),aAC=document.createTextNode(aE.bi+1);YA.className='pccThumbnailLabel';tN.appendChild(aAC);YA.appendChild(tN);aE.aJ.appendChild(YA);aE.aJ.onclick=function(){V.abF([aE.bi+1]);};});V.bf.appendChild(Jb);this.Ug();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jI){return[];}return[].concat(this.JC);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jI){return this;}var es=this.ax.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.K.forEach(pageNumbers,function(gc,C){if(isNaN(gc)){throw new Error(gc+' (array index '+C+') is not a number');}if(gc<1||gc>es){throw new Error(gc+' (array index '+C+') is out of range');}});this.abF([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var gc=Number(pageNumber);if(gc!==(gc|0)||gc<1||gc>this.ax.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mB=false,V=this,aU=options||{};IPCC.K.forEach(this.pB,function(aE){if(mB){return;}if(aE.bi+1===gc){mB=true;V.abP(aE,undefined,! !aU.forceAlignTop);}});return this;};ThumbnailControl.prototype.abP=function(aE,jY,auO){jY=jY||IPCC.K.Wc(this.bf.getBoundingClientRect());var us=IPCC.K.Wc(aE.abm.getBoundingClientRect());if(us.top>jY.top&&us.bottom<jY.bottom){return;}var agG=window.getComputedStyle?getComputedStyle(aE.abm):aE.abm.currentStyle,gH;if(us.top<jY.top||auO){gH=us.top-jY.top+this.bf.scrollTop-parseInt(agG.marginTop,10);}else if(us.bottom>jY.bottom){gH=us.bottom-jY.top-jY.height+this.bf.scrollTop+parseInt(agG.marginBottom,10);}if(gH!==undefined){this.bf.scrollTop=gH;}return this;};ThumbnailControl.prototype.abF=function(lq){if(IPCC.K.auv(this.JC,lq)){return this;}var abK='pcc-thumbnail-selected',EY=new RegExp(abK),Vi=false,aaX=[].concat(lq),aaV=aaX.shift(),adi=false,jY=IPCC.K.Wc(this.bf.getBoundingClientRect()),V=this;IPCC.K.forEach(this.pB,function(aE){if(aE.bi===aaV-1){IPCC.K.amn(aE.aJ,abK);Vi=true;aaV=aaX.shift()||0;if(!adi){adi=true;V.abP(aE,jY);}return;}if(EY.test(aE.aJ.className)){IPCC.K.agZ(aE.aJ,abK);Vi=true;}});this.JC=lq;if(Vi){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.JC)});}return this;};ThumbnailControl.prototype.awb=function(){var df=this.MY(),V=this,wT;IPCC.K.forEach(df,function(aE){if(!wT&&IPCC.K.inArray(V.JC,aE.bi+1)){wT=aE;}});if(!wT){wT=df[0];}return wT;};ThumbnailControl.prototype.reflow=function(){if(!this.jI){return this;}var Dz,DV,bV,aK,KX,Nq,hE,wT=this.awb();IPCC.K.forEach(this.pB,function(aE){if(aE.wP){aE.aJ.style.height=aE.pY.style.height='';aE.aJ.style.width=aE.pY.style.width='';}});IPCC.K.forEach(this.pB,function(aE){if(aE.wP&&aE.bK.fH()){Dz=aE.aJ.offsetWidth;DV=aE.aJ.offsetHeight;hE=aE.bK.aDd();if(Math.abs(hE)===90||Math.abs(hE)===270){aK=aE.bK.kq();bV=aE.bK.ig();}else{bV=aE.bK.kq();aK=aE.bK.ig();}KX=bV/aK;Nq=Dz/DV;var kx,jG;if(KX<Nq){jG=DV;kx=Math.floor(jG*bV/aK);}else{kx=Dz;jG=Math.floor(kx*aK/bV);}aE.kx=kx;aE.jG=jG;}});IPCC.K.forEach(this.pB,function(aE){if(aE.wP&&aE.bK&&aE.bK.fH()){aE.pY.style.height=aE.jG+'px';aE.pY.style.width=aE.kx+'px';aE.bK.Vz(IPCC.Web.UI.FitType.FullImage);aE.bK.cA();}});if(wT){this.abP(wT);}this.Ug();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.jI){return this;}this.jI=jI.afI;IPCC.K.forEach(this.pB,function(aE){if(aE.bK&&aE.bK.dispose){aE.bK.dispose();}});while(this.bf.firstChild){this.bf.removeChild(this.bf.firstChild);}this.on=this.off=this.trigger=VP;this.jZ={};};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jI){return[];}var df=this.MY();return IPCC.K.map(df,function(aE){return aE.bi+1;});};ThumbnailControl.prototype.MY=function MY(){var aFi=this.bf.getBoundingClientRect(),us;function aad(jY,MP){return(!(MP.top>=jY.bottom||MP.left>=jY.right||MP.bottom<=jY.top||MP.right<=jY.left));};return IPCC.K.filter(this.pB,function(aE){us=aE.aJ.getBoundingClientRect();return aad(aFi,us);});};ThumbnailControl.prototype.Ug=function(){var V=this,df=V.MY();IPCC.K.forEach(df,function(aE){if(!aE.wP){aE.bK=V.iJ(aE);aE.wP=true;}});return this;};ThumbnailControl.prototype.XZ=function XZ(aJ){var Lk={},V=this;function awJ(ao,vC,ss){if(Lk[ao]){clearTimeout(Lk[ao]);Lk[ao]=undefined;}Lk[ao]=setTimeout(vC,ss||0);};IPCC.Web.UI.af.addHandler(aJ,'scroll',function(ev){awJ('scroll',function(){V.Ug();},300);});};ThumbnailControl.prototype.iJ=function(aE,lD){var V=this;lD=lD||VP;var bJ={documentIdentifier:V.aU.documentID,pageNumber:aE.bi,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:V.aU.imageHandlerUrl,encryption:V.aU.encryption,handleTouchEvents:false};var bK=IPCC.initializePageViewPlugin(aE.pY,bJ);bK.set_debug(V._debug);bK.set_mouseTool(IPCC.Web.UI.MouseTool.None);var wV=false;function JJ(){lD();};bK.add_pageOpened(function(){V.Xw(aE);});bK.add_pageDisplayed(function(){if(!wV){JJ();}});bK.add_textPageReady(function(){if(wV){bK.cA();JJ();}});bK.add_pageOpenFailed(function(){});bK.add_textExtractionFailed(function(){});bJ.artPage=V.ax.bb.hu(V.ax.dF.getPage(aE.bi));bJ.artPage.Dn(function(G){if(G.get_type()===608){wV=true;}});bK.aFx(bJ);bK.set_mouseTool(IPCC.Web.UI.MouseTool.None);return bK;};ThumbnailControl.prototype.Xw=function(aE){var V=this;var Ek=V.ax.bb.abl(aE.bi);var hE=aE.hE;var acS=hE;if(Ek!==aE.hE){acS=Ek-hE;}var bK=aE.bK,jr=aE.pY,aK,bV;if(!aE.wP|| !bK.fH()){return;}jr.style.height='';jr.style.width='';if(Math.abs(Ek)===90||Math.abs(Ek)===270){aK=bK.kq();bV=bK.ig();}else{aK=bK.ig();bV=bK.kq();}var Dz=jr.offsetWidth,DV=jr.offsetHeight;if(aE.hE!==Ek){bK.rotate(acS);aE.hE=Ek;}var KX=bV/aK,Nq=Dz/DV;var kx,jG;if(KX<Nq){jG=DV;kx=Math.floor(jG*bV/aK);}else{kx=Dz;jG=Math.floor(kx*aK/bV);}jr.style.height=jG+'px';jr.style.width=kx+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function agH(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function aqe(axw){var bE=[];var agy=function(n){return!(isNaN(+n));};var act=axw.split(',');var Mk,YM;var QL=0;var xY=0;for(var C=0;C<act.length;C++){var Ha=act[C].split('-');var Cf=Ha[0].replace(/\s+/g,'');if(Cf.length===0){continue;}var Hc=Cf;if(Ha[1]!==undefined&&Ha[1]!==""){Hc=Ha[1].replace(/\s+/g,'');}Cf= +(Cf);Hc= +(Hc);if(agy(Cf)===true){QL=parseInt(Cf);}if(agy(Hc)===true){xY=parseInt(Hc);}if(QL<xY){Mk=QL;YM=xY;}else{Mk=xY;YM=QL;}if(Ha.length>1){for(var ba=Mk;ba<=YM;ba++){bE.push(ba);}}else{bE.push(Mk);}}bE.sort(function(a,b){return a-b;});for(C=bE.length-1;C>0;C--){if(bE[C-1]===bE[C]){bE.splice(C,1);}}return bE;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hi;if(!(selections instanceof Array)){hi=[selections];}else{hi=selections;}IPCC.K.forEach(hi,function(dB){IPCC.av.nL(dB.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.av.nL(dB.length,'selection.length',1,Number.MAX_VALUE);IPCC.av.dR(dB.color,'selection.color');IPCC.av.nL(dB.opacity,'selection.opacity',0,255);});IPCC.av.dR(backgroundColor,'backgroundColor');var anR=IPCC.K.afm(hi);return IPCC.K.map(anR,function(aO){aO.length=aO.endIndex-aO.startIndex+1;return aO;});},layerColors:function(colors,backgroundColor){var OO;if(!(colors instanceof Array)){OO=[colors];}else{OO=colors;}IPCC.K.forEach(OO,function(dB){IPCC.av.dR(dB.color,'selection.color');IPCC.av.nL(dB.opacity,'selection.opacity',0,255);});IPCC.av.dR(backgroundColor,'backgroundColor');return IPCC.K.ahj(OO,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw agH('Illegal page range value',pageRange);}var cZ=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cZ.unshift(upperLimit--);}}else{cZ=aqe(pageRange);if((cZ.length===0&& !allowEmpty)||cZ[0]<lowerLimit||cZ[cZ.length-1]>upperLimit){throw agH('Pages are out of range',cZ.join(', '));}}return cZ;}};module.exports=Util;},{}],169:[function(require,module,exports){var Cd={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=Cd;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var tc=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var EventEmitter=require('./PCCViewer.EventEmitter');var cr=require('./PCCViewer.MarkDeserializer');var ei=require('./PCCViewer.MarkSerializer');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.K.tE(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var V=this;IPCC.K.Rd(element);var km=document.createElement('div');km.className='pccViewerControl';km.id='pccViewerControl-'+IPCC.wt();element.appendChild(km);this.cU=km;this.gQ=element;var sX=document.createElement('div');sX.className='pccPageListLoading';km.appendChild(sX);this.sX=sX;EventEmitter.extend(this);this.vD=false;this.aU=tc.sg({},ViewerControl.Aj,options);this.aU.language=tc.sg({},ViewerControl.aoV,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.aU.pageLayout.toLowerCase()==="vertical"){this.aU.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.aU.pageLayout.toLowerCase()==="horizontal"){this.aU.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.aU.viewMode.toLowerCase()==="document"){this.aU.viewMode=IPCC.ViewMode.Document;}else if(this.aU.viewMode.toLowerCase()==="equalwidthpages"){this.aU.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.aU.viewMode.toLowerCase()==="equalfitpages"){this.aU.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.aU.viewMode.toLowerCase()==="singlepage"){this.aU.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(V.aU.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.aU.searchMethodPageCountThreshold)&&(typeof this.aU.searchMethodPageCountThreshold!=='number')&&this.aU.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.aU.redactionViewMode){if(this.aU.redactionViewMode.toLowerCase()==="draft"){this.aU.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.aU.redactionViewMode.toLowerCase()==="normal"){this.aU.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.aU.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var iQ=this.aU.pageRotation%360;if(iQ!==0){var yc=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iQ||yc.indexOf(iQ)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!iQ||IPCC.Web.kP(yc,iQ)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.aU.pageRotation=iQ;if(this.aU.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.aU.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.aU.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.aU.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.aU.serviceResponseTimeout)||typeof this.aU.serviceResponseTimeout!=='number'||this.aU.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.aU.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.aU.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}this.jZ={};this.bw="";this.es=1;this.adT=1;this.afa=0;this.jO=1;this.bb=undefined;this.Rw=new PCCViewer.Deferred();this.qG=this.Rw.getPromise();this.eI=false;this.aP=undefined;this.Pb=0;this.dF=undefined;this.bD=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.po=false;this.yx=false;this.Fv=false;this.CE=[];this.Nz=new PCCViewer.Deferred();this.aCO=this.Nz.getPromise();this.wQ=[];this.dp={};this.EH=[];this.Eu=[];this.bL=null;this.IY={};this.gT=null;this.mw=new PCCViewer.MarkupLayerCollection(this);this.vf=new PCCViewer.MarkupLayer(this);this.mw.addItem(this.vf);this.sZ=true;setTimeout(function(){V.aeo(km,V.aU);},0);this.yS=null;this.bk=null;this.Al=false;this.IB= -1;this.Fc={};this.ald=false;this.axS=this.aU.printTemplate||(this.aU.template?this.aU.template.print:"");this.kW=null;this.wk=null;this.mr=function(ca,eL,amw){var cE=document.createElement('div'),dY=cE.style;dY.position='absolute';if(eL.isSelected){dY.backgroundColor='white';}else{dY.backgroundColor='lightgray';}dY.left='10px';dY.right='0';dY.textAlign='left';IPCC.K.forEach(ca.getComments(),function(os,C){var WL=document.createElement('div'),RX=WL.style;RX.position='relative';RX.padding='5px';RX.border='1px solid gray';if(C>0){RX.borderTop='none';}WL.appendChild(document.createTextNode(os.getText()));cE.appendChild(WL);});return cE;};return V;};ViewerControl.Aj={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};ViewerControl.aoV={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.aeo=function(element,options){if(this.vD){return;}var V=this;var XQ=function(){if(V.aU.viewMode===IPCC.ViewMode.SinglePage||V.vD){return;}var aqC=V.bb.get_pageNodeId(V.getPageNumber()-1);var ae=document.getElementById(aqC);var Wv=V.cU.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!ae){return;}IPCC.K.forEach(Wv,function(iR){if(ae!==iR){if(document.documentMode===8&&iR.style.outline){iR.style.outline='';}else if(iR.style.boxShadow){iR.style.boxShadow='';}}});if(document.documentMode===8){ae.style.outline='2px solid #aaa';}else{ae.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};var akM=function(){if(V.sX.parentNode){V.sX.parentNode.removeChild(V.sX);}V.bb.remove_pageOpenFailed(abb);V.bb.remove_pageDisplayed(akM);var bi=arguments[1].pageIndex;setTimeout(function(){V.trigger("PageDisplayed",{pageNumber:(bi+1)});XQ();},10);if(bi!==0){return;}function dS(aI){if(V.vD){return;}var ah;if(aI.status===200){if(typeof JSON!=='undefined'){ah=JSON.parse(aI.responseText);}else{ah=IPCC.dN.qb(aI.responseText);}if(ah.pageCountConfidence<100){var bw;if(!(/^[\x00-\x7F]*$/.test(sL))){bw=V.aU.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sL+'&DesiredPageCountConfidence=100';}else{bw=V.aU.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(V.aU.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fK({method:'GET',url:bw,headers:{'Content-Type':'application/json'}}).then(dS,ew);V.es=ah.pageCount;V.aP.es=ah.pageCount;V.Fv=true;setTimeout(function(){V.trigger("EstimatedPageCountReady",{pageCount:ah.pageCount});},10);ano();}else{if(V.es>1){V.aP.es=ah.pageCount;setTimeout(function(){var C;if(ah.pageCount<V.es){for(C=V.es-1;C>=ah.pageCount;C--){V.dF.removePage(C);}}else if(ah.pageCount>V.es){for(C=V.es;C<ah.pageCount;C++){var St=new IPCC.Web.UI.ImGearPage({pageNumber:C});V.dF.addPage(St);}}V.es=ah.pageCount;if(V.eI===true){V.po=true;V.yx=true;setTimeout(function(){V.trigger("PageCountReady",{pageCount:ah.pageCount});},30);}},30);}else{V.es=ah.pageCount;V.aP.es=ah.pageCount;if(V.eI===true){ano(function(){V.po=true;V.yx=true;setTimeout(function(){V.trigger("PageCountReady",{pageCount:ah.pageCount});},0);});}}}}};function ew(ah){if(V.vD){return;}var VE="None",akS,Vy;var alB=ah.response.getResponseHeader('Accusoft-Status-Message');if(alB){VE=alB;Vy=ah.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vS(Vy)){akS=parseInt(Vy,10);}}else if(ah.response.statusText){VE=ah.response.statusText;}setTimeout(function(){V.trigger("PageLoadFailed",{statusCode:ah.response.status,errorMessage:VE,accusoftErrorNumber:akS});},1);throw("Unable to obtain document information from the server");};var sL=IPCC.fU.sD(V.aU.documentID);if(!sL||sL===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(sL))){V.bw=V.aU.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+sL+'&DesiredPageCountConfidence=50';}else{V.bw=V.aU.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(V.aU.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fK({method:'GET',url:V.bw,headers:{'Content-Type':'application/json'}}).then(dS,ew);};function ano(ov){ov=ov||function(){};var alV=V.es;function ajS(){V.bb.remove_allPagesAdded(ajS);ov();};if(alV>1){V.bb.add_allPagesAdded(ajS);if(!V.akt){V.bb.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var ci=arguments[1];setTimeout(function(){V.trigger('PageChanged',{pageNumber:ci.pageIndex+1});XQ();},0);});V.bb.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var ci=arguments[1];if(V.kW){V.kW();V.kW=null;if(V.gT){V.gT.resolve();}V.gT=null;}setTimeout(function(){V.trigger('PageDisplayed',{pageNumber:ci.pageIndex+1});XQ();},0);setTimeout(function(){V.requestPageText(ci.pageIndex+1).then(function FN(){V.Tl(ci.pageIndex+1,V.IB);});},10);});V.bb.add_pageOpenFailed(function(){ajL(arguments);});V.akt=true;}for(var C=V.Pb;C<alV;C++){V.dF.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:C}));V.Pb++;}}else{ov();}};var aCS=function(ci){var ae=document.getElementById(ci.pageNodeID),aO=document.createElement('div'),zj=document.createElement('button'),ahN='pccPageLoadFailRetry'+ci.pageIndex,acF=function(){V.bb.MK(ci.pageIndex);},anP=PCCViewer.Language.data.pageLoadFailed,aob=PCCViewer.Language.getValue("pageLoadFailedPassword"),aoW=PCCViewer.Language.data.pageLoadFailedRetry,aDQ=ci.exception.statusCode===480&&ci.exception.customErrorCode===4001;if(ae===null){return;}zj.id=ahN;zj.innerHTML=aoW;aO.className='pccPageLoadFail';if(aDQ){aO.innerHTML=aob+'<br>';ae.appendChild(aO);}else{aO.innerHTML=anP+'<br>';aO.appendChild(zj);ae.appendChild(aO);zj=document.getElementById(ahN);if(!zj.addEventListener){zj.attachEvent('onclick',acF);}else{zj.addEventListener('click',acF,false);}}};function ajL(CW){if(CW.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var ajQ,akN,ci=CW[1];if(CW[1].exception.customErrorCode!==undefined){akN=CW[1].exception.customErrorCode;}if(CW[1].exception.message!==undefined){ajQ=CW[1].exception.message;}setTimeout(function(){V.trigger('PageLoadFailed',{statusCode:ci.exception.statusCode,pageNumber:ci.pageIndex+1,errorMessage:ajQ,accusoftErrorNumber:akN});aCS(ci);},0);};function arC(){if(V.bb&&typeof V.bb.dispose==="function"){V.bb.dispose();}V.bw="";V.bb=undefined;while(V.cU.firstChild){V.cU.removeChild(V.cU.firstChild);}};function aIy(afp){var bm=new PCCViewer.Deferred();if(typeof afp==="string"){PCCViewer.Ajax.fK({url:V.aU.imageHandlerUrl+'/ViewingSession/u'+V.aU.documentID+'/Replacement',body:JSON.stringify({password:afp}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHX(aI){var result=JSON.parse(aI.responseText);var akx=result.viewingSessionId;V.aU.documentID=akx;arC();V.aeo(V.cU,V.aU);bm.resolve(akx);},function aHO(err){bm.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{bm.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return bm.getPromise();};function abb(){V.bb.remove_pageOpenFailed(abb);ajL(arguments);};var aBu=function(bn,T){V.wF=true;var RS={width:T.width,height:T.height,pageNumber:T.pageNumber};V.trigger("PageOpening",RS);};function aks(){V.Rw.resolve(V.bb);V.bb.remove_pageOpened(aks);V.eI=true;var ai=V;setTimeout(function(){V.trigger("ViewerReady",{});if(ai.po===true&&ai.yx===false){ai.yx=true;setTimeout(function(){V.trigger("PageCountReady",{pageCount:ai.getPageCount()});},10);}},10);V.setCurrentMouseTool("AccusoftPanAndEdit");};var auZ=function(bn,T){if(T.containsText===true){V.Nz.resolve(true);}var AV= -1;if(Array.prototype.indexOf){AV=(V.wQ.indexOf(T.pageIndex)>=0);}else{AV=(IPCC.Web.kP(V.wQ,T.pageIndex)>=0);}if(AV===false){V.wQ.push(T.pageIndex);if(V.wQ.length===V.es){V.Nz.resolve(false);}}setTimeout(function(){V.trigger("PageTextReady",{pageNumber:T.pageIndex+1});},0);};var avg=function(bn,T){var AV= -1;if(Array.prototype.indexOf){AV=(V.wQ.indexOf(T.pageIndex)>=0);}else{AV=(IPCC.Web.kP(V.wQ,T.pageIndex)>=0);}if(AV===false){V.wQ.push(T.pageIndex);if(V.wQ.length===V.es){V.Nz.resolve(false);}}};function aui(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var lq=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){lq.push(eventArgs.pageNumbers[i]+1);}var ho=[],ub= -eventArgs.startIndex,bQ,dz,iZ,bH,j,k;for(j=0;j<lq.length;j++){iZ=V.dF.iJ(lq[j]-1).cF().hJ();ub+=iZ.en();bQ=0;if(j===0){bQ=eventArgs.startIndex;}if(ub>=eventArgs.text.length){dz=ub-eventArgs.text.length-1;}else{dz=iZ.en()-1;}bH=IPCC.K.XU(iZ,bQ,dz);for(k=0;k<bH.length;k++){ho.push({x:bH[k].x,y:bH[k].y,width:bH[k].width,height:bH[k].height,pageNumber:lq[j]});}}V.bL={pageNumber:lq[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:ho};var G,aec={selectedText:eventArgs.text,pageNumbers:lq,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:V.bL};function aqI(){var uK=V.hN;V.akG=true;V.hN=function(sender,args){V.hN=uK;setTimeout(function(){V.trigger(PCCViewer.EventType.MarkCreated,{mark:G,pageNumber:lq[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){G=V.dp[eventArgs.previousFirstMark.get_markID()];V.bb.remove_markRemoved(V.DJ);V.bb.remove_markSelectionChanged(V.Dm);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.bi){var azp=G.H.TF;var Ud;if(G.getReason){Ud=G.H.get_text();}var Tj;if(G.getFillColor){Tj=G.H.get_fillColor();}var Sq;if(G.getColor){Sq=G.H.get_lineColor();}var SO;if(G.getThickness){SO=G.H.get_lineWidth();}var TE;if(G.getHref){TE=G.H.get_href();}var azF=new PCCViewer.Conversation(G);var ap=V.bb.hu(V.dF.getPage(G.H.bi));ap.removeMark(G.H);for(var C=G.dq.length-1;C>=0;C--){var kS=G.dq[C];ap=V.bb.hu(V.dF.getPage(kS.bi));ap.removeMark(kS);G.dq.splice(C,1);}G.H=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());G.H.bi=eventArgs.pageNumbers[0];G.aw=eventArgs.pageNumbers[0]+1;G.H.kB=true;G.H.TF=azp;var uK=V.hN;V.hN=null;V.bb.remove_markChanged(V.mG);ap=V.bb.hu(V.dF.getPage(G.H.bi));ap.addMark(G.H);if(Ud){G.H.set_text(Ud);}if(Tj){G.H.set_fillColor(Tj);}if(Sq){G.H.set_lineColor(Sq);}if(SO){G.H.set_lineWidth(SO);}if(TE){G.H.set_href(TE);}G.ca=new PCCViewer.Conversation(G);PCCViewer.Conversation.qT(azF,G.ca);V.bb.add_markChanged(V.mG);V.hN=uK;}G.H.set_selected(true);G.H.set_visible(true);G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});V.bb.add_markRemoved(V.DJ);V.bb.add_markSelectionChanged(V.Dm);V.nB(G,eventArgs.pageNumbers[0]);return;}var AL=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:AL='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:AL='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:AL='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:AL='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:atE(eventArgs.text);V.IY[lq[0]]='selectText';break;}var bD=PCCViewer.MouseTools.getMouseTool(V.getCurrentMouseTool());var ac=(bD&&bD.getTemplateMark)?bD.getTemplateMark():undefined;var aog=ac?ac.getType():"";if(AL){aqI();V.trigger(PCCViewer.EventType.TextSelected,aec);G=V.addMark(lq[0],AL);if(V.sZ){V.vf.addMarks(G);}G.H.kB=true;G.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aog===AL){if(ac.getFillColor){G.setFillColor(ac.getFillColor());}if(ac.getReason){G.setReason(ac.getReason());}if(ac.getHref){G.setHref(ac.getHref());}if(ac.getColor){G.setColor(ac.getColor());}if(ac.getThickness){G.setThickness(ac.getThickness());}PCCViewer.Data.nC(ac,G);}return;}setTimeout(function(){V.trigger(PCCViewer.EventType.TextSelected,aec);},0);};function arX(){var ae=V.cU,aO=document.createElement('div');aO.className='pccCopyText';ae.appendChild(aO);V.Hb=aO;};function atE(bF){var nl,aFh=bF.split('\n'),Jb=document.createDocumentFragment(),EL,jH;nl=document.createTextNode(bF);Jb.appendChild(nl);IPCC.K.Rd(V.Hb);V.Hb.appendChild(Jb);if(document.body.createTextRange){EL=document.body.createTextRange();EL.moveToElementText(V.Hb);EL.select();}else if(window.getSelection){jH=window.getSelection();EL=document.createRange();EL.selectNodeContents(V.Hb);jH.removeAllRanges();jH.addRange(EL);}};this.aP=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.aU.documentID,imageServicePath:this.aU.imageHandlerUrl});this.aP.set_encryption(this.aU.encryption||false);var St=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aP.get_pages().addPage(St);this.dF=this.aP.get_pages();this.bb=IPCC.initializePageListPlugin(element,options);this.bb.get_documents().addDocument(this.aP);this.Pb=1;this.bb.add_pageDisplayed(akM);this.bb.add_pageOpenFailed(abb);this.bb.add_pageOpening(aBu);this.bb.add_pageOpened(aks);this.bb.add_textPageReady(auZ);this.bb.add_textExtractionFailed(avg);this.bb.set_conversationDOMFactory(function(H,eL,amw){var G=V.dp[H.get_markID()];if(G){return V.mr(G.getConversation(),eL,amw);}});arX();this.bb.add_selectTextMouseToolCompleted(aui);this.bb.add_propertyChanged(function(ql,dH){var proprtyName=dH.aDl();if(proprtyName==="mouseTool"){setTimeout(function(){V.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:V.bD.getName()});},0);}});this.bb.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&V.dp[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bq!==undefined){V.nB(eventArgs.mark,eventArgs.pageIndex);}if(V.hN){var bN=eventArgs.mark.get_type();if(bN!==IPCC.Web.UI.MarkType.Highlight&& !(bN===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bq!==undefined)){V.hN(sender,eventArgs);}}});this.bb.add_markCreating(function(sender,eventArgs){if(V.Jy){V.Jy(sender,eventArgs);}});this.bb.Ns(function(sender,eventArgs){var BQ=0;var ze=0;var acy=0;var uj=0;var ue=0;var QI=0;var ape=V.bD.getName().toLowerCase(),apk=V.bD.getType();if(apk===PCCViewer.MouseTool.Type.PlaceSignature){var bD=V.bD;var ac=bD.getTemplateMark(),lz=ac.getSignature(),adV=ac.getRectangle(),G,R={};if(!lz){return;}V.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vn;if(attributes.width>0){ze=adV.width||(attributes.width/5);}if(lz.path&&lz.path.length>0){vn=IPCC.K.Zm(lz.path);R={x:0,y:0,width:vn.width,height:vn.height};G=V.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);G.setPath(lz.path);G.setThickness(lz.thickness||4);}if(lz.text&&lz.text.length){vn=IPCC.K.um(lz.text,lz.fontName);G=V.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);R={x:0,y:0,width:vn.width,height:vn.height};G.setText(lz.text);G.setFontName(lz.fontName);}acy=(R.width/ze);BQ=adV.height||(R.height/acy);uj=(eventArgs.imagePoint.x-(ze/2));ue=(eventArgs.imagePoint.y-(BQ/2));if(uj<=0){uj=0;}if(ue<=0){ue=0;}if((uj+ze)>=attributes.width){QI=(uj+ze)-attributes.width;uj=uj-QI;}if((ue+BQ)>=attributes.height){QI=(ue+BQ)-attributes.height;ue=ue-QI;}R={x:uj,y:ue,width:ze,height:BQ};G.setRectangle({x:uj,y:ue,width:ze,height:BQ});PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());});V.setCurrentMouseTool(ape);}});function MouseEvent(bv){var V=this;for(var i in bv){if(i){V[i]=bv[i];}}};this.bb.MR(function(sender,eventArgs){var bL=null,fd=null,G=null,hU=null,yV=false,OW=eventArgs.upTarget.type,Md=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Md=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){yV=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Md===false){V.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){hU=V.azI(eventArgs.upMark);yV=hU!==null;OW="documentHyperlink";}else{G=V.dp[eventArgs.upMark.get_markID()];if(G===undefined){for(var io in V.dp){if(V.dp.hasOwnProperty(io)){if(V.dp[io].H.bq===eventArgs.upMark.bq&&V.dp[io].H.bq===eventArgs.downMark.bq){G=V.dp[io];eventArgs.pageIndex=G.aw-1;yV=true;var azC=V.getCurrentMouseTool();var axF=PCCViewer.MouseTools.getMouseTool(azC);var amU=axF.getType();if(Md===false&&eventArgs.domEvent.button===0){if(amU===PCCViewer.MouseTool.Type.PanAndEdit||amU===PCCViewer.MouseTool.Type.EditMarks){V.deselectAllMarks();G.H.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.lA()===eventArgs.upMark.lA()){yV=true;if(Md===false&&eventArgs.downTarget.alreadySelected===false){V.deselectAllMarks();G.H.set_selected(true);}}if(G===undefined){if(V.bk&&V.IY[eventArgs.upTarget.pageIndex+1]==='search'){var fq=V.bk.getResults();for(var C=0;C<fq.length;C++){if(fq[C].aw===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.bQ!=='undefined'&&typeof eventArgs.upMark.bQ!=='undefined'&&typeof eventArgs.downMark.dr!=='undefined'&&typeof eventArgs.upMark.dr!=='undefined'&&eventArgs.downMark.bQ>=fq[C].getStartIndexInPage()&&eventArgs.downMark.bQ+eventArgs.downMark.dr<=fq[C].getStartIndexInPage()+fq[C].getText().length&&eventArgs.upMark.bQ>=fq[C].getStartIndexInPage()&&eventArgs.upMark.bQ+eventArgs.upMark.dr<=fq[C].getStartIndexInPage()+fq[C].getText().length){OW='searchResult';fd=fq[C];eventArgs.upTarget.pageIndex=fd.aw-1;yV=true;break;}}}}if(yV===false&&G===undefined&&V.IY[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.bQ!=='undefined'&&typeof eventArgs.upMark.bQ!=='undefined'&&eventArgs.downMark.bQ>=V.bL.startIndex&&eventArgs.downMark.bQ+eventArgs.downMark.dr<=V.bL.startIndex+V.bL.length&&eventArgs.upMark.bQ>=V.bL.startIndex&&eventArgs.upMark.bQ+eventArgs.upMark.dr<=V.bL.startIndex+V.bL.length){OW='textSelection';bL=V.bL;yV=true;}}}var WN=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var aBD=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var T={pageNumber:aBD,targetType:OW,textSelection:bL,searchResult:fd,mark:G,originalEvent:WN,hyperlink:hU,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(yV===true){V.trigger('Click',T);}},0);});(function(){var AG=null;V.bb.Os(function(sender,eventArgs){var WN=new MouseEvent(eventArgs.domEvent);var T={originalEvent:WN,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(AG!==null){T.mark=V.dp[AG];AG=null;setTimeout(function(){V.trigger('MarkMouseLeave',T);},0);}}else{T.mark=V.dp[eventArgs.mark.get_markID()];if(T.mark===undefined){for(var io in V.dp){if(V.dp.hasOwnProperty(io)){if(V.dp[io].H.bq===eventArgs.mark.bq){T.mark=V.dp[io];break;}}}}if(!T.mark){return;}setTimeout(function(){if(AG!==T.mark.getId()){if(AG!==null){V.trigger('MarkMouseLeave',IPCC.K.extend({},T,{mark:V.dp[AG]}));}AG=T.mark.getId();V.trigger('MarkMouseEnter',T);}V.trigger('MarkMouseOver',T);},0);}});})();this.bb.add_hyperlinkPageReady(function(sender,eventArgs){if(V.EH[eventArgs.pageIndex]!==undefined){return;}var bi=eventArgs.pageIndex,bI=V.dF.getPage(bi),ER=bI.get_hyperlinkPage().Jz(),xI=V.EH[bi]=[];ER.jK(function(zH){xI.push(new PCCViewer.DocumentHyperlink({aw:bi+1,zH:zH}));});if(!V.Eu[bi]){V.Eu[bi]=new PCCViewer.Deferred();}V.Eu[bi].resolve(xI);});this.nB=function(G,fO){var QH=false;function WE(){var jT=false;var dw=V.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()===fO){jT=true;break;}}return jT;};function Lo(gc){if(V.bb){V.bb.cA(gc);}};if(WE()){if(Array.prototype.indexOf){if(IPCC.Web.kP(V.CE,fO)>=0){QH=true;}}else{if(IPCC.Web.kP(V.CE,fO)>=0){QH=true;}}if(!QH){V.CE.push(fO);setTimeout(function(){var dv=V.CE.length;if(dv>0){for(var C=0;C<dv;C++){Lo(V.CE[C]);}V.CE.splice(0,dv);}},10);}}};var EP={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Ob={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.mG=function(bn,T){var G=V.dp[T.mark.get_markID()];var be;if(G){be=G.be;}if(be&&EP[be]&&EP[be][T.propertyName]===false){return;}var cq;if(be){cq=EP[be]&&EP[be][T.propertyName]?EP[be][T.propertyName]:Ob[T.propertyName]?Ob[T.propertyName]:T.propertyName;}else{cq=Ob[T.propertyName]?Ob[T.propertyName]:T.propertyName;}if(T.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||T.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||T.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||T.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||T.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||T.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(T.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.mark.bq!==undefined)){if(G){setTimeout(function(){V.trigger('MarkChanged',{mark:G,pageNumber:T.pageIndex+1,propertyName:cq});},0);}else{for(var io in V.dp){if(V.dp.hasOwnProperty(io)){G=V.dp[io];if(G.bq===T.mark.bq){break;}}}}V.nB(G,T.pageIndex);}else if(G&&T.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cq==='points'){if(G.ZC){clearTimeout(G.ZC);}G.ZC=setTimeout(function(){G.ZC=undefined;V.nB(G,T.pageIndex);V.trigger('MarkChanged',{mark:G,pageNumber:T.pageIndex+1,propertyName:cq});},1);}else if(G){V.nB(G,T.pageIndex);setTimeout(function(){V.trigger('MarkChanged',{mark:G,pageNumber:T.pageIndex+1,propertyName:cq});},0);}if(G&&G.type===PCCViewer.Mark.Type.TextRedaction){G.H.set_opacity(0);}if(G&&(G.be===PCCViewer.Mark.Type.TextInputSignature||G.be===PCCViewer.Mark.Type.TextAreaSignature)){G.H.set_lineVisible(false);}};this.bb.add_markChanged(V.mG);this.bb.add_markReordered(function(sender,eventArgs){var G=V.dp[eventArgs.mark.get_markID()];setTimeout(function(){V.trigger('MarkReordered',{mark:G,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Dm=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var G;for(var Lb in V.dp){if(V.dp.hasOwnProperty(Lb)){G=V.dp[Lb];if(G.H.bq===eventArgs.mark.bq){G.H.set_selected(eventArgs.mark.get_selected());V.nB(G.H,G.H.bi);for(var C=0;C<G.dq.length;C++){G.dq[C].set_selected(eventArgs.mark.get_selected());V.nB(G.dq[C],G.dq[C].bi);}}}}}setTimeout(function(){V.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bb.add_markSelectionChanged(V.Dm);this.bb.add_markTextSelectionChanged(function(sender,eventArgs){V.nB(eventArgs.mark,eventArgs.pageIndex);});this.DJ=function(sender,eventArgs){var G;if(eventArgs.mark){G=V.dp[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&G===undefined&&eventArgs.mark.bq!==undefined){V.nB(eventArgs.mark,eventArgs.pageIndex);}else if(G){setTimeout(function(){V.trigger(PCCViewer.EventType.MarkRemoved,{mark:G,pageNumber:eventArgs.pageIndex});},0);}}};this.bb.add_markRemoved(V.DJ);this.bb.add_commentAdding(function(sender,eventArgs){var G=V.dp[eventArgs.mark.get_markID()];if(eventArgs.comment.IH.jp===undefined){eventArgs.comment.IH.jp=V.getActiveMarkupLayer();}});this.bb.add_commentAdded(function(sender,eventArgs){var G=V.dp[eventArgs.mark.get_markID()];V.trigger(PCCViewer.EventType.CommentCreated,{conversation:G.getConversation(),comment:eventArgs.comment.IH});});this.bb.add_commentRemoved(function(sender,eventArgs){var G=V.dp[eventArgs.mark.get_markID()];V.trigger(PCCViewer.EventType.CommentRemoved,{conversation:G.getConversation(),comment:eventArgs.comment.IH});});this.bb.add_commentChanged(function(sender,eventArgs){var G=V.dp[eventArgs.mark.get_markID()];V.trigger(PCCViewer.EventType.CommentChanged,{conversation:G.getConversation(),comment:eventArgs.comment.IH});});this.bb.add_scaleChanged(function(sender,eventArgs){var eJ;switch(eventArgs.fitType){case 0:eJ=PCCViewer.FitType.FullWidth;break;case 1:eJ=PCCViewer.FitType.ShrinkToWidth;break;case 2:eJ=PCCViewer.FitType.ActualSize;break;case 3:eJ=PCCViewer.FitType.FullHeight;break;case 4:eJ=PCCViewer.FitType.FullPage;break;default:break;}V.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eJ,scaleFactor:eventArgs.scaleFactor});});};ViewerControl.prototype.getPageCount=function(){return this.es;};ViewerControl.prototype.getPageNumber=function(){return(this.bb)?(this.bb.ahi().get_pageNumber()+1):1;};ViewerControl.prototype.setPageNumber=function(pageNumber){var aw;if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aw=Number(pageNumber);}}if(parseInt(aw,10)!==aw){throw new Error("The 'pageNumber' value "+aw+" is not an integer page number.");}if(aw<1||aw>this.getPageCount()|| !isFinite(aw)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aw){return this;}if(this.bb){this.bb.scrollToPage(aw-1);}return this;};ViewerControl.prototype.changeToFirstPage=function(){if(this.bb){if(this.Fv||this.po){this.bb.scrollToFirstPage();}}return this;};ViewerControl.prototype.changeToLastPage=function(){if(this.bb){if(this.Fv||this.po){this.bb.scrollToLastPage();}}return this;};ViewerControl.prototype.changeToNextPage=function(){if(this.bb){if(this.Fv||this.po){this.bb.scrollToNextPage();}}return this;};ViewerControl.prototype.changeToPrevPage=function(){if(this.bb){if(this.Fv||this.po){this.bb.scrollToPreviousPage();}}return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eI){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var V=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){V.bb.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{V.bb.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};ViewerControl.prototype.scrollTo=function(target){if(!this.eI){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gT){this.gT.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gT=null;this.kW=null;}var V=this;var HU=function(){V.bb.scrollConversationIntoView(target.getMark().H.get_conversation());if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};var tL=function(ev){if(ev.target.wk===target){V.off(PCCViewer.EventType.CommentCreated,tL);V.wk=null;V.scrollTo(target);}else if(ev.target.wk===null){V.off(PCCViewer.EventType.CommentCreated,tL);}if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};var Is=function(aw,gm){V.bb.scrollRegionIntoView(aw-1,gm);if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};agj(V,target,tL,HU,Is);return this;};ViewerControl.prototype.scrollToAsync=function(target){if(this.gT){this.gT.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gT=null;this.kW=null;}var bm=PCCViewer.Deferred();var ck=bm.getPromise();var V=this;V.gT=bm;try{var HU=function(){V.bb.scrollConversationIntoView(target.getMark().H.get_conversation());if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};var tL=function(ev){if(ev.target.wk===target){V.off(PCCViewer.EventType.CommentCreated,tL);V.wk=null;V.scrollTo(target);}else if(ev.target.wk===null){V.off(PCCViewer.EventType.CommentCreated,tL);}if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};var Is=function(aw,gm){V.bb.scrollRegionIntoView(aw-1,gm);if(V.gT){V.gT.resolve();}V.gT=null;V.kW=null;};if(agj(V,target,tL,HU,Is)===true){bm.resolve();}}catch(e){V.gT=null;V.kW=null;bm.reject(new PCCViewer.Error("Error",e));}return ck;};function agj(ax,cT,tL,HU,Is){var gm,aw,bB;ax.wk=null;if(cT instanceof PCCViewer.Conversation){if(ax.dp[cT.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var adD=ax.bb.scrollConversationIntoView(cT.getMark().H.get_conversation());if(adD==="PageOutOfView"){ax.kW=HU;ax.setPageNumber(cT.getMark().getPageNumber());return false;}else if(adD==="ConversationDivDoesNotExist"&&cT.getMark().H.get_conversation().get_length()>0){ax.wk=cT;ax.on(PCCViewer.EventType.CommentCreated,tL);return false;}else{ax.kW=null;return true;}}else if(cT instanceof PCCViewer.SearchResult){if(cT.GV!==ax.aP.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bB=cT.getBoundingRectangle();gm=new IPCC.Web.UI.Rectangle(bB.x,bB.y,bB.width,bB.height);aw=cT.getPageNumber();}else if(cT instanceof PCCViewer.Mark){if(ax.dp[cT.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bB=cT.getBoundingRectangle();gm=new IPCC.Web.UI.Rectangle(bB.x,bB.y,bB.width,bB.height);aw=cT.getPageNumber();}else if(cT!==undefined&&cT!==null){if(typeof cT.x==='number'&&typeof cT.y==='number'){gm=new IPCC.Web.UI.Rectangle(+cT.x,+cT.y,0,0);}else{if(isNaN(+cT.x)||isNaN(+cT.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gm=new IPCC.Web.UI.Rectangle(Number(+cT.x),Number(+cT.y),0,0);}}if(cT.width){if(typeof cT.width==='number'){gm.width=cT.width;}else{if(isNaN(+cT.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gm.width=Number(+cT.width);}}}if(cT.height){if(typeof cT.height==='number'){gm.height=cT.height;}else{if(isNaN(+cT.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gm.height=Number(+cT.height);}}}if(typeof cT.pageNumber==='number'){aw= +cT.pageNumber;}else{if(isNaN(+cT.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aw=Number(+cT.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aw<1||aw>ax.getPageCount()|| !isFinite(aw)){throw new RangeError("The parameter pageNumber is out of range.");}if(ax.bb.scrollRegionIntoView(aw-1,gm)===false){ax.kW=function(){Is(aw,gm);};ax.setPageNumber(aw);return false;}else{ax.kW=null;return true;}};ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eI){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(yl(this.getPageNumber()-1,this)===false){this.bb.cA(this.getPageNumber()-1);}var iQ=degreesClockwise%360,V=this;if(iQ!==0){var yc=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iQ||yc.indexOf(iQ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iQ||IPCC.Web.kP(yc,iQ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bb.rotate(iQ);}setTimeout(function(){V.trigger("PageRotated",{degreesClockwise:iQ,pageNumber:(V.getPageNumber())});},0);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eI){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(yl(this.getPageNumber()-1,this)===false){this.bb.cA(this.getPageNumber()-1);}var iQ=degreesClockwise%360,V=this;if(iQ!==0){var yc=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iQ||yc.indexOf(iQ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iQ||IPCC.Web.kP(yc,iQ)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bb.acq(iQ);}setTimeout(function(){V.trigger("DocumentRotated",{degreesClockwise:iQ});},0);return this;};ViewerControl.prototype.getScaleFactor=function(){if(!this.wF){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.bb.get_scaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.wF){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bb.set_scaleFactor(+scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){if(!this.wF){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.bb.getMinMaxZoom().minFactor;};ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.wF){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.bb.getMinMaxZoom().maxFactor;};ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.wF){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bb){this.bb.zoomIn(+zoomFactor);}return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.wF){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bb){this.bb.zoomOut(+zoomFactor);}return this;};ViewerControl.prototype.getViewMode=function(){var lG;if(this.bb&&this.bb.get_viewMode){lG=this.bb.get_viewMode();}else{lG=this.aU.viewMode;}if(lG===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(lG===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(lG===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};ViewerControl.prototype.setViewMode=function(viewMode){var lG;switch(viewMode){case PCCViewer.ViewMode.Document:lG=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:lG=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:lG=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:lG=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bb&&this.bb.set_viewMode){var IL=this.bb.get_viewMode();if(IL!==lG){if(IL===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(lG===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bb.set_viewMode(lG);}}else{this.aU.viewMode=lG;}return this;};ViewerControl.prototype.getPageLayout=function(){var yK;if(this.bb&&this.bb.get_pageLayout){yK=this.bb.get_pageLayout();}else{yK=this.aU.pageLayout;}if(yK===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};ViewerControl.prototype.setPageLayout=function(pageLayout){var yK;if(this.aU.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:yK=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.bb&&this.bb.closeCommentsPanel){this.bb.closeCommentsPanel();var V=this;setTimeout(function(){V.trigger("CommentsPanelToggled",{isOpen:false});},10);}yK=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bb&&this.bb.set_pageLayout){this.bb.set_pageLayout(yK);}else{this.aU.pageLayout=yK;}return this;};ViewerControl.prototype.getAtMaxScale=function(){if(!this.wF){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.bb.getMinMaxZoom().atMax;};ViewerControl.prototype.getAtMinScale=function(){if(!this.wF){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.bb.getMinMaxZoom().atMin;};ViewerControl.prototype.fitContent=function(fitType){if(!this.wF){throw "The fitContent method cannot be called before the initial PageOpening event.";}var BX;switch(fitType){case PCCViewer.FitType.FullWidth:BX=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:BX=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}BX=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:BX=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:BX=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.qG.then(function(ql){ql.fitPages(BX);});return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eI){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aw;if(arguments.length>0){if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aw=Number(pageNumber);}}if(parseInt(aw,10)!==aw){throw new Error("The 'pageNumber' value "+aw+" is not an integer page number.");}if(aw<1||aw>this.getPageCount()|| !isFinite(aw)){throw new Error("The parameter pageNumber is out of range.");}return this.bb.abl(aw-1);}else{return this.bb.abl();}};ViewerControl.prototype.search=function(ey){var aU=this.aU;var aDz=aU.searchMethodType.toLowerCase();var atf=aU.searchMethodPageCountThreshold;var V=this;var Vf;var kK;var Gy=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Gy,{"searchQuery":{enumerable:true,get:function(){return kK.getSearchQuery();}},"results":{enumerable:true,get:function(){return kK.getResults();}},"isComplete":{enumerable:true,get:function(){return kK.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return kK.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return kK.getErrorMessage();}}});}function Ji(ao){return function(){Gy.trigger.apply(Gy,[ao].concat([].slice.call(arguments)));};};var ads=Ji(PCCViewer.EventType.SearchCompleted);var adN=Ji(PCCViewer.EventType.SearchCancelled);var adn=Ji(PCCViewer.EventType.SearchResultsAvailable);var acY=Ji(PCCViewer.EventType.PartialSearchResultsAvailable);var acv=function(bv){var ez=Vf.getErrorCode();if(ez==='ServerSearchUnavailable'){V.ald=true;V.Al=false;ayv();kK=V.clientSearch(ey);akg();}else{Ji(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var akg=function(){kK.on(PCCViewer.EventType.SearchCompleted,ads);kK.on(PCCViewer.EventType.SearchFailed,acv);kK.on(PCCViewer.EventType.SearchCancelled,adN);kK.on(PCCViewer.EventType.SearchResultsAvailable,adn);kK.on(PCCViewer.EventType.PartialSearchResultsAvailable,acY);};var ayv=function(){kK.off(PCCViewer.EventType.SearchCompleted,ads);kK.off(PCCViewer.EventType.SearchFailed,acv);kK.off(PCCViewer.EventType.SearchCancelled,adN);kK.off(PCCViewer.EventType.SearchResultsAvailable,adn);kK.off(PCCViewer.EventType.PartialSearchResultsAvailable,acY);};var Fs=function(){if(V.ald===false){Vf=V.serverSearch(ey);kK=Vf;akg();IPCC.K.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(ao){Gy[ao]=function(){return kK[ao].apply(kK,arguments);};});return Gy;}else{return V.clientSearch(ey);}};switch(aDz){case('auto'):if(atf>=this.es){return this.clientSearch(ey);}else{return Fs();}break;case('client'):return this.clientSearch(ey);case('server'):return Fs();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};ViewerControl.prototype.afj=function(ey,ayj){var V=this;var cX=new PCCViewer._Search();this.bk=cX.avM();PCCViewer.SearchTask.prototype.aaS(ey);if(ayj===true){if(V.yx!==true){V.qG.then(function(ql){var Iv=function(){V.off('PageCountReady',Iv);V.clientSearch(ey);};V.on('PageCountReady',Iv);return V.bk;});}if(!this.aP.aDG()){this.aP.OU(0,this.aP.es-1,this.aP.es);}}this.yS=null;this.Fc={};this.bb.clearAllSelectedText();return cX;};ViewerControl.prototype.akY=function(){var ai=this;this.bk.on('PartialSearchResultsAvailable',function(dH){if(ai.vD){return;}var Ie=[];var Nn={};Ie=dH.partialSearchResults;var ah=Ie[0];if(ai.Fc[ah.getPageNumber()]!==undefined){Nn=ai.Fc[ah.getPageNumber()];}else{Nn.bQ=ah.getId();}ah=Ie[Ie.length-1];Nn.dz=ah.getId();ai.Fc[ah.getPageNumber()]=Nn;function FN(bI){if(ai.vD){return;}ai.anx(bI.get_pageNumber(),Ie);};var dw=ai.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()+1===ah.getPageNumber()){ai.requestPageText(bI.get_pageNumber()+1).then(FN.bind(null,bI));}}});this.bk.on('SearchCompleted',function(dH){ai.Al=false;});this.bk.on('SearchCancelled',function(dH){ai.Al=false;});this.trigger('SearchPerformed',{searchRequest:this.bk});};ViewerControl.prototype.clientSearch=function(searchQuery){var ai=this;var cX=ai.afj(searchQuery,true);searchQuery=cX.RW(searchQuery);if(this.Al===false){ai.bb.set_retainPageText(true);this.bk=cX.uC(searchQuery,this.aP);this.Al=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ai.akY();return this.bk;};ViewerControl.prototype.serverSearch=function(searchQuery){var ai=this;var cX=ai.afj(searchQuery,false);searchQuery=cX.RW(searchQuery);if(this.Al===false){this.bk=cX.Fs(searchQuery,this.aP);this.Al=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}ai.akY();return this.bk;};ViewerControl.prototype.getSearchRequest=function(){return this.bk;};ViewerControl.prototype.clearSearch=function(){if(!this.eI){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var V=this;if(this.getSelectedSearchResult()){this.yS=null;setTimeout(function(){V.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.bb.clearAllSelectedText();this.bk=null;setTimeout(function(){V.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};ViewerControl.prototype.validateSearch=function(ey){var eU={errorsExist:false};var searchTermObj,aeC,C,aV,UY,Oc,Rf;if(typeof ey!=='object'&&typeof ey!=='string'){eU.errorsExist=true;eU.summaryMsg="Search query must be either an object or string.";return eU;}if(typeof ey==='string'&&ey.length<0){eU.errorsExist=true;eU.summaryMsg="Search term must contain at least 3 characters.";return eU;}else if(typeof ey==='string'){return eU;}if(!ey.hasOwnProperty('searchTerms')){eU.errorsExist=true;eU.summaryMsg="Search options must have a 'searchTerms' key.";return eU;}if(Object.prototype.toString.call(ey.searchTerms)!=='[object Array]'){eU.errorsExist=true;eU.summaryMsg="Search terms value must be an array.";return eU;}if(!ey.searchTerms.length){eU.errorsExist=true;eU.summaryMsg="Search terms array must contain at least one value.";return eU;}eU.searchTerms=[];IPCC.K.forEach(ey.searchTerms,function(searchTermObj){var JL=agX(searchTermObj);if(JL.errorsExist){eU.errorsExist=true;}eU.searchTerms=eU.searchTerms.concat(JL.searchTerms);});return eU;};function agX(kc){var eU={errorsExist:false,searchTerms:[]};var aGq=kc.type?IPCC.K.trim(kc.type).toLowerCase():undefined;if(aGq==='proximity'){if(Object.prototype.toString.call(kc.terms)!=='[object Array]'){eU.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eU.errorsExist=true;return eU;}if(kc.terms.length<2){eU.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eU.errorsExist=true;return eU;}if(!kc.distance){eU.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eU.errorsExist=true;return eU;}IPCC.K.forEach(kc.terms,function(ayI){var JL=agX(ayI);if(JL.errorsExist){eU.errorsExist=true;}eU.searchTerms=eU.searchTerms.concat(JL.searchTerms);});return eU;}var UY,Rf;var Oc=(typeof kc.matchingOptions!=='undefined'&&kc.matchingOptions.hasOwnProperty('matchCase'))?kc.matchingOptions.matchCase:false;if(typeof kc.searchTerm==='undefined'||typeof kc.searchTerm!=='string'||(kc.searchTermIsRegex===true&& !aAw(kc.searchTerm,Oc))){eU.errorsExist=true;eU.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eU;}UY=(typeof kc.matchingOptions!=='undefined'&&kc.matchingOptions.hasOwnProperty('exactPhrase'))?kc.matchingOptions.exactPhrase:false;if(UY){if(kc.searchTerm.length<0){eU.errorsExist=true;eU.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eU;}}else{var aeC=kc.searchTerm.split(' ');IPCC.K.forEach(aeC,function(Rf){if(Rf.length>0&&Rf.length<0){eU.errorsExist=true;eU.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eU.searchTerms.length){eU.searchTerms.push({isValid:true,message:null});}return eU;};var aAw=function(WW,Oc){var axu,WS,LU;if(Oc){WS='gm';}else{WS='igm';}if(!WW&&WW!==null){LU=false;}else{try{axu=new RegExp(WW,WS);LU=true;}catch(err){LU=false;}}return LU;};ViewerControl.prototype.requestRevisions=function(){this.jV=new PCCViewer.GI({imageHandlerUrl:this.aU.imageHandlerUrl,documentID:this.aU.documentID});return this.jV.axH();};ViewerControl.prototype.ha=function(Wo){var zs=false,dw=this.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()===Wo){zs=true;}}return zs;};ViewerControl.prototype.getDownloadDocumentURL=function(){var bw;if(!(/^[\x00-\x7F]*$/.test(this.aP))){bw=this.aU.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.aU.documentID+'/SourceFile';}else{bw=this.aU.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.aU.documentID);}return bw;};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aw;var bm=PCCViewer.Deferred();var ck=bm.getPromise();var ax=this;try{if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aw=parseInt(pageNumber,10);}}if(aw<1||aw>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var ZM=this.Eu[aw-1];if(!ZM){ZM=this.Eu[aw-1]=new PCCViewer.Deferred();this.qG.then(function(){var bI=ax.dF.getPage(aw-1);bI.yQ();});}bm.resolve(ZM.getPromise());}catch(e){bm.reject(new PCCViewer.Error('Error',e));}return ck;};ViewerControl.prototype.azI=function(aAI){var i,j,xI;for(j=0;j<this.EH.length;j++){xI=this.EH[j];if(xI){for(i=0;i<xI.length;i++){if(xI[i].zH.PR()===aAI){return xI[i];}}}}return null;};ViewerControl.prototype.print=Print.print;ViewerControl.prototype.validatePrintRange=Print.validatePrintRange;ViewerControl.prototype.canPrintMarks=Print.canPrintMarks;ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eI===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var V=this;var es=V.getPageCount();var fL;if(typeof values==='string'){try{fL=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fL=values;}if(fL.constructor!==Array){fL=[fL];}function Xs(ed,ab){throw new Error('Cannot serialize mark (at index '+ab+') because of '+ed);};var Yb=IPCC.K.map(V.getAllMarks(),function(G){return G.getUid();});IPCC.K.forEach(fL,function validateObject(by,ab){if(!by.pageNumber||isNaN(+by.pageNumber)||by.pageNumber<1||by.pageNumber>es){Xs('unknown page number '+by.pageNumber,ab);}if(!PCCViewer.Mark.Type[by.type]){Xs('unknown type '+by.type,ab);}if(IPCC.K.contains(Yb,by.uid)){Xs('uid '+by.uid+' is being duplicated or already exists',ab);}else if(by.uid!==undefined){Yb.push(by.uid);}});if(fL.length===0){return[];}var cZ=V.aP.get_pages();var aut=[];cZ.jK(function(bI){aut.push(V.bb.hu(bI));});var bx=IPCC.K.reduce(fL,function(ah,by){var bI=cZ.iJ(by.pageNumber-1);var UM=bI.get_pageWidth();var akh=bI.get_pageHeight();var gb=by.pageData;if(!gb&&(!UM|| !akh)){var azc=IPCC.K.find(by.lineGroups,function(amJ){return(amJ.pageNumber&&amJ.pageNumber===by.pageNumber);});gb=azc.pageData;}var bV=UM||gb.width;var aK=akh||gb.height;var G=cr[by.type].call(V,by,{bV:bV,aK:aK});if(by.uid===undefined){Yb.push(G.getUid());}if(!UM){bI.Cn=true;bI.adU(bV);bI.aeb(aK);}if(!G.H.has_unsafe_href()){ah.push(G);}else{V.deleteMarks(G);}return ah;},[]);return bx;};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bm=PCCViewer.Deferred();var ck=bm.getPromise();var V=this,bx,azY=false;function ago(ed){setTimeout(function(){bm.reject(ed);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bx=marks;}else if(marks){bx=[marks];azY=true;}else{ago(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return ck;}var KK;bx=IPCC.K.filter(bx,function(mD,ab){var Gi=mD instanceof PCCViewer.Mark&&mD===V.getMarkById(mD.getId())&& ! !ei[mD.getType()];if(!Gi&& !KK){KK=ab;}return Gi;});if(KK){ago(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+KK+' because it is not a valid mark or a mark known to ViewerControl'));return ck;}var Sc=V.aP.get_pages();var cZ=IPCC.K.reduce(bx,function(ek,mD){var aw=mD.getPageNumber();if(ek[aw]){return ek;}ek[aw]=Sc.getPage(aw-1);return ek;},{});function arG(G,bI,ayP){return function(lD){ei[G.getType()]({mark:G,page:bI,vc:V},function(ds,dG){if(!ds){ayP(dG);lD();}else{bm.reject(ds);}});};};var rs=[];var aBV=IPCC.K.map(bx,function(mD,ab){return arG(mD,cZ[mD.getPageNumber()],function(dG){rs[ab]=dG;});});IPCC.K.WB(aBV,function(){bm.resolve(rs);});return ck;};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Qt,aaz;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Qt=true;aaz=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Qt=false;aaz=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.bb&&this.bb.set_redactionDraftMode){var aoY=this.bb.get_redactionDraftMode();if(aoY!==Qt){this.bb.set_redactionDraftMode(Qt);}}else{this.aU.redactionViewMode=aaz;}return this;};ViewerControl.prototype.getRedactionViewMode=function(){var aef;if(this.bb&&this.bb.get_redactionDraftMode){aef=this.bb.get_redactionDraftMode();if(aef===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.aU.redactionViewMode;}};ViewerControl.prototype.convertToRedaction=function(searchResult){var V=this;var fd=searchResult;if(this.eI===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(fd instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(fd instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(fd.GV!==this.aP.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var bI=V.dF.getPage(fd.getPageNumber()-1);if(!(bI.cF()&&bI.cF().xm()&&bI.cF().nu()===true)){throw new Error("The text has not been retrieved for this page.");}var iw=fd.getStartIndexInPage();var eN=fd.getStartIndexInPage()+fd.getText().length;var kk=IPCC.wt();var ap=V.bb.hu(bI);var hy=bI.cF().hJ();var cD=aoZ(ap,hy,iw,eN,kk,fd.getPageNumber()-1);var G=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cD,pageNumber:fd.getPageNumber()});G.H=cD;G.dq=[];this.dp[cD.get_markID()]=G;var uK=V.hN;V.hN=function(sender,eventArgs){if(V.sZ){V.vf.addMarks(G);}setTimeout(function(){V.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};ap.addMark(cD);V.hN=uK;V.bb.display(fd.getPageNumber()-1);return G;};var aoZ=function(ap,hy,iw,eN,kk,anc){var cD=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cD.bq=kk;cD.bi=anc;var G=null;var kO={hg:Number.MAX_VALUE,ju:0,_top:Number.MAX_VALUE,hT:0};for(var aV=iw;aV<eN;aV++){var eP=hy.ln(aV);if(G){var yr=G.get_rectangle();if(Math.abs(eP.bh.y-yr.y)<1&&Math.abs(eP.bh.height-yr.height)<1&&eP.bh.x+eP.bh.width>=yr.x+yr.width){G.set_rectangle(new IPCC.Web.UI.Rectangle(yr.x,yr.y,eP.bh.x+eP.bh.width-yr.x,yr.height));}else{ajO(ap,cD,G,kO);G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(eP.bh);G.kJ(true);G.set_fillColor('#000000');G.set_text(cD.bF);G.set_lineWidth(0);G.bq=kk;}}else{G=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);G.set_rectangle(eP.bh);G.kJ(true);G.set_fillColor('#000000');G.set_text(cD.bF);G.set_lineWidth(0);G.bq=kk;}G.bi=anc;}if(G!==null){ajO(ap,cD,G,kO);}cD.set_rectangle(new IPCC.Web.UI.Rectangle(kO.hg,kO._top,kO.ju-kO.hg,kO.hT-kO._top));return cD;};var ajO=function(ap,cD,G,kO){var R=G.get_rectangle();if(R.x<kO.hg){kO.hg=R.x;}if(R.y<kO._top){kO._top=R.y;}if(R.x+R.width>kO.ju){kO.ju=R.x+R.width;}if(R.y+R.height>kO.hT){kO.hT=R.y+R.height;}ap.addMark(G);cD.bH.push(G);};ViewerControl.prototype.convertToHighlight=function(searchResult){var fd=searchResult;if(this.eI===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(fd instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(fd instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(fd.GV!==this.aP.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cD;var aiV;var ap;var ah=fd;var iw=ah.getStartIndexInPage();var eN=ah.getStartIndexInPage()+ah.getText().length;var kk=IPCC.wt();var V=this;var G;ap=this.bb.hu(this.dF.getPage(ah.getPageNumber()-1));cD=ahy(IPCC.Web.UI.MarkType.HighlightText,ah,iw,kk);G=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cD,pageNumber:ah.getPageNumber()});for(iw;iw<eN;iw++){aiV=ahy(IPCC.Web.UI.MarkType.Highlight,ah,iw,kk);ap.addMark(aiV);}this.dp[cD.get_markID()]=G;var uK=this.hN;this.hN=function(sender,eventArgs){if(V.sZ){V.vf.addMarks(G);}setTimeout(function(){V.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};ap.addMark(cD);V.hN=uK;this.bb.display(ah.getPageNumber()-1);G.fillColor=ah.getHighlightColor();return G;};var ahy=function(bN,ah,awa,kk){var G=new IPCC.Web.UI.Mark(bN);if(bN===IPCC.Web.UI.MarkType.HighlightText){G.cP=ah.getText();}G.bQ=awa;G.set_rectangle({x:0,y:0,width:0,height:0});G.dr=ah.getText().length;G.aFq=ah.getStartIndexInPage()+ah.getText().length;G.cu=127;G.eQ=ah.getHighlightColor();G.ks='y';G.bq=kk;return G;};ViewerControl.prototype.anx=function(bi,fq){var ah={};for(var aV=0;aV<fq.length;aV++){ah=fq[aV];this.bb.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());}this.bb.display(ah.getPageNumber()-1);this.IY[ah.getPageNumber()]='search';};ViewerControl.prototype.Tl=function(bi,searchResult){var ah={};if(this.bk===null||typeof this.bk.getResults!=='function'){return;}var fq=this.bk.getResults();this.bb.clearSelectedText(bi-1);var abz=this.Fc[bi];if(!abz){return;}for(var aV=abz.bQ;aV<abz.dz+1;aV++){ah=fq[aV];if(ah.getPageNumber()===bi){this.bb.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());if(searchResult===ah.getId()){this.bb.selectText(ah.getPageNumber()-1,ah.getStartIndexInPage(),ah.getText().length,ah.getHighlightColor());}}}this.bb.display(ah.getPageNumber()-1);this.IY[ah.getPageNumber()]='search';};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eI){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.IB= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.bk){throw "There is no current SearchRequest object available.";}var afs=this.bk.getResults();if(afs[searchResult.getId()].nm!==searchResult.nm){throw "The parameter searchResult is not current. There is a newer version of search result available.";}afs=null;this.IB=searchResult.getId();if(scrollTo){var bB=searchResult.getBoundingRectangle();var gm=new IPCC.Web.UI.Rectangle(bB.x,bB.y,bB.width,bB.height);if(this.bb.scrollRegionIntoView(searchResult.getPageNumber()-1,gm)===false){this.kW=function(){V.bb.scrollRegionIntoView(searchResult.getPageNumber()-1,gm);};this.setPageNumber(searchResult.getPageNumber());}else{this.kW=null;}}}var V=this;var aBy=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yS&&this.yS.getPageNumber()!==aBy){V.requestPageText(V.yS.getPageNumber()).then(function FN(){V.Tl(V.yS.getPageNumber(),V.IB);});}if(searchResult){V.requestPageText(searchResult.getPageNumber()).then(function FN(){V.Tl(searchResult.getPageNumber(),V.IB);});}this.yS=searchResult;setTimeout(function(){V.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eI){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.yS;};ViewerControl.prototype.requestPageText=function(pageNumber){var aw;var bm=PCCViewer.Deferred();var ck=bm.getPromise();var V=this;try{if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aw=parseInt(pageNumber,10);}}if(aw<1||aw>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qG.then(function(ql){var bI=V.dF.getPage(aw-1);var eH=bI.cF();eH.aev(true);if(eH&&eH.xm()){if(eH.nu()===true){var bF=bI.cF().CR();bm.resolve(bF);}else{bm.resolve("");}}else{var JX=function(bn,ci){if(ci.containsText===true){var bF=eH.CR();bm.resolve(bF);}else{bm.resolve("");}bI.CP(JX);bI.Bn(Jl);};var Jl=function(bn,ci){if(ci.exception&&ci.exception.message){bm.reject(new PCCViewer.Error("TextExtractionFailed",ci.exception.message));}else{bm.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}bI.CP(JX);bI.Bn(Jl);};bI.AP(JX);bI.Aw(Jl);bI.yQ();}});}catch(e){bm.reject(new PCCViewer.Error("Error",e));}return ck;};ViewerControl.prototype.disposePageText=function(pageNumber){var aw;var V=this;if(!this.eI){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(V.bb.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aw=parseInt(pageNumber,10);}}if(aw<1||aw>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var dw=V.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var ans=dw.getPage(C);if(ans.get_pageNumber()===aw-1){ans.cF().aev(false);return this;}}var bI=V.dF.getPage(aw-1);bI.alZ();return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.av.nL(pageNumber,"pageNumber",1,this.getPageCount());var bI;return(this.bb&&this.dF&&(bI=this.dF.getPage(pageNumber-1))&&bI.cF()&&bI.cF().xm())===true;};ViewerControl.prototype.documentHasText=function(){return this.aCO;};ViewerControl.prototype.requestPageAttributes=function(pageNumber){var aw;var bm=PCCViewer.Deferred();var ck=bm.getPromise();var V=this;try{if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aw=parseInt(pageNumber,10);}}if(aw<1||aw>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qG.then(function(ql){var bI=V.dF.getPage(aw-1);if(bI.kq()>0||bI.ig()>0){bm.resolve({'width':bI.kq(),'height':bI.ig()});}else{var AR=function(bd,bU){bm.resolve({'width':bd,'height':bU});};var zc=function(errorMessage){bm.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};ql.requestPageAttributes(bI,AR,zc);}});}catch(e){bm.reject(new PCCViewer.Error("Error",e));}return ck;};ViewerControl.prototype.destroy=function(){if(!this.vD){this.EH=undefined;this.Eu=undefined;this.vf=undefined;this.mw=undefined;this.jV=undefined;this.im=undefined;if(this.bb&&typeof this.bb.dispose==="function"){this.bb.dispose();}this.bw="";this.es=0;delete this.bb;this.aP=undefined;this.Pb=0;this.dF=undefined;this.akt=false;if(this.gQ){IPCC.K.Rd(this.gQ);this.gQ=this.cU=undefined;}this.po=false;this.yx=false;this.Fv=false;this.bb=undefined;this.Rw=undefined;this.qG=undefined;PCCViewer.MouseTools.st=undefined;this.mr=undefined;this.EH=undefined;this.Hb=undefined;for(var Go in this.dp){if(this.dp.hasOwnProperty(Go)){this.dp[Go].dG=undefined;this.dp[Go].ca=undefined;this.dp[Go].H=undefined;this.dp[Go]=undefined;}}this.dp=undefined;this.eI=false;this.vD=true;this.trigger=function VP(){};this.jZ=undefined;this.jZ={};}};ViewerControl.prototype.getMarkById=function(markId){var V=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(V.dp[markId]){return V.dp[markId];}else{return null;}};ViewerControl.prototype.getMarksByType=function(markType){var Rz=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}alW(markType);if(!this.bb){return Rz;}var C=0;var dQ=this.dF.get_length();var V=this;function asV(H){var G=V.dp[H.get_markID()];if(G&&G.getType().toLowerCase()===markType.toLowerCase()){Rz.push(G);}};for(C=0;C<dQ;C++){var ap=this.bb.hu(this.dF.getPage(C));if(ap){ap.forEachMark(asV);}}return Rz;};ViewerControl.prototype.getAllMarks=function(){var Fd=[];if(!this.bb){return Fd;}var dQ=this.dF.get_length();var V=this;var C=0;var G;function LB(H){var G=V.dp[H.get_markID()];if(typeof G!=='undefined'){Fd.push(G);}};for(C=0;C<dQ;C++){var ap=this.bb.hu(this.dF.getPage(C));if(ap){ap.forEachMark(LB);}}return Fd;};function alW(markType){var fm;switch(markType.toLowerCase()){case "lineannotation":fm=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fm=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fm=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fm=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fm=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fm=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fm=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fm=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fm=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fm=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fm=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fm=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fm=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fm=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fm=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":fm=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":fm=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fm=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fm=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fm=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fm=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fm;};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var V=this,gb;if(V.eI===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.gb.width===0){var IW=V.aP.cZ.iJ(0);gb={width:IW.kq(),height:IW.ig()};}else{gb=searchResult.gb;}var amL=IPCC.K.vp(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:amL,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bH,pageData:gb,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:amL,pageNumber:searchResult.pageNumber,pageData:gb,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Nk=V.deserializeMarks(markInfo);return Nk[0];};ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eI===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aw;if(typeof(pageNumber)==='number'){aw=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aw=parseInt(pageNumber,10);}}if(aw<1||aw>this.dF.get_length()|| !isFinite(aw)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var G=this.anj(aw,markType);return this.ajz(G);};ViewerControl.prototype.anj=function(aw,bN,aU){var V=this;aU=aU||{};var fm=alW(bN);var H=new IPCC.Web.UI.Mark(fm);H.bi=aw-1;var WR={type:bN,igMark:H,pageNumber:aw,uid:aU.uid,viewerControl:this};if(bN.toLowerCase()==="highlightannotation"||bN.toLowerCase()==="textselectionredaction"||bN.toLowerCase()==="strikethroughannotation"||bN.toLowerCase()==="texthyperlinkannotation"){WR.dF=V.dF;WR.bb=V.bb;}var G=new PCCViewer.Mark(WR);return G;};ViewerControl.prototype.ajz=function(G){var V=this;if(V.akG===true){V.akG=false;}else{var uK=V.hN;V.hN=function(sender,eventArgs){V.hN=uK;if(V.sZ){V.vf.addMarks(G);}setTimeout(function(){V.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var ap=this.bb.hu(this.dF.getPage(G.aw-1));ap.addMark(G.H);V.dp[G.H.get_markID()]=G;V.nB(G,G.aw-1);return G;};ViewerControl.prototype.deleteMarks=function(marks){var V=this;var C=0;var G;if(!this.eI){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Pl(pk){var bi=pk.getPageNumber()-1;var bq='';var be='';var Jc=bi;var ap=V.bb.hu(V.dF.getPage(bi));ap.removeMark(pk.H);if(V.dp[pk.getId()]){bq=pk.H.bq;be=pk.getType();delete V.dp[pk.getId()];}var Si=be.toLowerCase();if((Si==='highlightannotation'||Si==='textselectionredaction'||Si==='strikethroughannotation'||Si==='texthyperlinkannotation')&&(pk.dq&&pk.dq.length)){for(var C=0;C<pk.dq.length;C++){var kS=pk.dq[C];ap=V.bb.hu(V.dF.getPage(kS.bi));ap.removeMark(kS);V.nB(kS,kS.bi);}}V.mw.forEach(function(eh){if(eh.hasMark(pk.getId())){eh.removeMarks(pk);}});};if(marks instanceof Array){for(C=0;C<marks.length;C++){G=marks[C];if(!(G instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(V.dp[G.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(C=0;C<marks.length;C++){Pl(marks[C]);V.nB(marks[C],marks[C].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(V.dp[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Pl(marks);V.nB(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};ViewerControl.prototype.deleteAllMarks=function(){var Fd=this.getAllMarks();if(Fd.length>0){return this.deleteMarks(Fd);}return this;};ViewerControl.prototype.hideMarks=function(marks){aeN(this,marks,false,'hideMarks');return this;};ViewerControl.prototype.showMarks=function(marks){aeN(this,marks,true,'showMarks');return this;};function aeN(ax,bx,xR,aFO){var C=0;var G;if(!ax.eI){throw new PCCViewer.Error("InvalidArgument","The method "+aFO+" can not be used until 'ViewerReady' state is reached.");}if(bx instanceof Array){for(C=0;C<bx.length;C++){G=bx[C];if(!(G instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(ax.dp[G.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(C=0;C<bx.length;C++){bx[C].setVisible(xR);}}else{if(bx instanceof PCCViewer.Mark){if(!(ax.dp[bx.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bx.setVisible(xR);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function yl(aww,mQ){var jT=false;var dw=mQ.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()===aww){jT=true;break;}}return jT;};ViewerControl.prototype.moveMarkToFront=function(mark){var ap;var fO;if(!this.eI){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){fO=mark.getPageNumber();if(mark.getPageNumber()>0){ap=this.bb.hu(this.dF.getPage(fO-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.H){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ap){if(mark.H instanceof IPCC.Web.UI.Mark){mark.H.moveToFront();if(yl(fO-1,this)===true){var mQ=this;setTimeout(function(){mQ.bb.cA(fO-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkToBack=function(mark){var ap;var fO;if(!this.eI){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fO=mark.getPageNumber();if(fO>=1){ap=this.bb.hu(this.dF.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.H){throw "The parameter, mark may be a templateMark or has not been initialized";}if(ap){if(mark.H instanceof IPCC.Web.UI.Mark){mark.H.moveToBack();if(yl(fO-1,this)===true){var mQ=this;setTimeout(function(){mQ.bb.cA(fO-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkForward=function(mark){var ap,fO;if(!this.eI){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fO=mark.getPageNumber();if(fO>=1){ap=this.bb.hu(this.dF.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.H){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ap){if(mark.H instanceof IPCC.Web.UI.Mark){mark.H.moveForward();if(yl(fO-1,this)===true){var mQ=this;setTimeout(function(){mQ.bb.cA(fO-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.moveMarkBackward=function(mark){var ap,fO;if(!this.eI){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}fO=mark.getPageNumber();if(fO>=1){ap=this.bb.hu(this.dF.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.H){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ap){if(mark.H instanceof IPCC.Web.UI.Mark){mark.H.moveBackward();if(yl(fO-1,this)===true){var mQ=this;setTimeout(function(){mQ.bb.cA(fO-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};ViewerControl.prototype.getSelectedMarks=function(){var bx=[];var TC=[];if(this.eI===false){return bx;}var dQ=this.dF.get_length(),ap,eW;var V=this;function arN(Po){if(Po){var Qo=Po.get_type();if(Qo===IPCC.Web.UI.MarkType.HighlightText||Qo===IPCC.Web.UI.MarkType.TextSelectionRedaction||Qo===IPCC.Web.UI.MarkType.Strikethrough||Qo===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var io in V.dp){if(V.dp.hasOwnProperty(io)){eW=V.dp[io];if(Po.bq===eW.H.bq){for(var C=0;C<TC.length;C++){if(eW.H.bq===TC[C]){return;}}TC.push(eW.H.bq);break;}}}}else{eW=V.dp[Po.get_markID()];}if(eW&&eW instanceof PCCViewer.Mark){bx.push(eW);}else{return bx;}}};for(var C=0;C<dQ;C++){ap=this.bb.hu(this.dF.getPage(C));if(ap){ap.get_selectedMarks().forEach(arN,{});}}return bx;};function amu(bx,aop,mQ){var eW,C;function WE(gc){var jT=false;var dw=mQ.bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()===gc){jT=true;break;}}return jT;};if(!bx.length){return;}for(C=0;C<bx.length;C++){if(bx[C]instanceof PCCViewer.Mark){eW=mQ.dp[parseInt(bx[C].getId(),10)];if(eW&&eW instanceof PCCViewer.Mark){if(eW.H&&eW.H instanceof IPCC.Web.UI.Mark){if(eW.getId()!==eW.H.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(C+1)+" is invalid";}}var nZ=[];var tY=false;for(C=0;C<bx.length;C++){eW=mQ.dp[parseInt(bx[C].getId(),10)];tY=false;if(eW){if(eW.getId()===eW.H.get_markID().toString()){eW.H.set_selected(aop);if(Array.prototype.IndexOf){tY=(nZ.IndexOf(eW.getPageNumber())>=0);}else{tY=(IPCC.Web.kP(nZ,eW.getPageNumber())>=0);}}if(!tY){var co=eW.getPageNumber();if(WE(co-1)){nZ.push(co);}}}}if(nZ.length>0){setTimeout(function(){for(C=0;C<nZ.length;C++){mQ.bb.cA(nZ[C]-1);}},1);}};ViewerControl.prototype.selectMarks=function(marks){if(this.eI===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bx=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bx.push(marks);}}else{bx=marks;}if(bx.length===0){return this;}amu(bx,true,this);return this;};ViewerControl.prototype.deselectMarks=function(marks){if(this.eI===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bx=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bx.push(marks);}}else{bx=marks;}if(bx.length===0){return this;}amu(bx,false,this);return this;};ViewerControl.prototype.deselectAllMarks=function(){var nZ=[];var bx=this.getSelectedMarks();var tY=false,C,eW;for(C=0;C<bx.length;C++){eW=this.dp[parseInt(bx[C].getId(),10)];tY=false;if(eW){if(eW.getId()===eW.H.get_markID().toString()){eW.H.set_selected(false);if(Array.prototype.IndexOf){tY=(nZ.IndexOf(eW.getPageNumber())>=0);}else{tY=(IPCC.Web.kP(nZ,eW.getPageNumber())>=0);}}if(!tY){var co=eW.getPageNumber();if(yl(co-1,this)===true){nZ.push(co);}}}}if(nZ.length>0){var mQ=this;setTimeout(function(){for(C=0;C<nZ.length;C++){mQ.bb.cA(nZ[C]-1);}},1);}return this;};ViewerControl.prototype.copyMarks=function(marks){var ax=this,Nk;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bx=[];IPCC.K.forEach(marks,function(G){if(G instanceof PCCViewer.Mark){if(ax.dp[G.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bx.push(G);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rs=[];IPCC.K.forEach(bx,function(G,ba){ei[G.getType()]({mark:G},function(ds,dG){dG.uid=undefined;rs[ba]=dG;});});this.sZ=false;Nk=ax.deserializeMarks(rs);this.sZ=true;return Nk;};ViewerControl.prototype.enterTextMarkEditingMode=function(G){var ax=this,bb=this.bb;var adK=function(Wo){var zs=false,dw=bb.get_displayedPages();for(var C=0;C<dw.get_length();C++){var bI=dw.getPage(C);if(bI.get_pageNumber()===Wo){zs=true;}bb.pD(bI.get_pageNumber());}return zs;};if(typeof G==="undefined"||G===null){adK(-1);}else{if(this.eI===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(G instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var acp=this.dp[parseInt(G.getId(),10)];if(!(acp&&acp instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(G.H&&G.H instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(G.getId()!==G.H.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bN=G.getType();if(bN!==PCCViewer.Mark.Type.TextAnnotation&&bN!==PCCViewer.Mark.Type.TextRedaction&&bN!==PCCViewer.Mark.Type.TextInputSignature&&bN!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var zs=adK(G.getPageNumber()-1);if(zs){ax.bb.xa(G.getPageNumber()-1,G.H);}}return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eI===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Jr= -1;var cJ;var bB;var aw=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cJ=sortableObject.getStartPoint();}else{bB=(sortableObject.H)?sortableObject.H.get_boundingRectangle():sortableObject.getRectangle();cJ={x:bB.x,y:bB.y};}aw=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cJ={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cJ={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aw= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aw=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aw<1||aw>this.getPageCount()|| !isFinite(aw)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aw)){return-2;}var bI=this.dF.getPage(aw-1);var tK=bI.cF().abj();var hy=bI.cF().hJ();function ajG(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function aff(cR,fk){var aY=Math.max(Math.min(fk.x,cR.x+cR.width),cR.x);var dc=Math.max(Math.min(fk.y,cR.y+cR.height),cR.y);return(fk.x-aY)*(fk.x-aY)+(fk.y-dc)*(fk.y-dc);};var Ei;var OR=Number.MAX_VALUE;for(var C=0;C<tK.en();C++){var iI=tK.awP(C);if(ajG(iI.eB(),cJ)){for(var aV=iI.ajj();aV<iI.ahK();aV++){var XO=hy.ln(aV);var uH=XO.vq();if(ajG(uH,cJ)){return aV;}Ei=aff(uH,cJ);if(Ei<OR){Jr=aV;OR=Ei;}}return Jr;}Ei=aff(iI.eB(),cJ);if(Ei<OR){if(iI.eB().y>cJ.y){Jr=iI.ajj()-1;}else{Jr=iI.ahK();}OR=Ei;}}return Jr;};ViewerControl.prototype.getCurrentMouseTool=function(){return this.bD.getName();};ViewerControl.prototype.setCurrentMouseTool=function(name){var V=this;if(this.eI===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var yt=name.toLowerCase();var bD=PCCViewer.MouseTools.getMouseTool(yt);if(!bD){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gh,fQ;switch(bD.getType()){case PCCViewer.MouseTool.Type.Magnifier:gh=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gh=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gh=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gh=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gh=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gh=IPCC.Web.UI.MouseTool.CreateLineMark;fQ=aqm(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gh=IPCC.Web.UI.MouseTool.CreateRectangleMark;fQ=ahr(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gh=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;fQ=aus(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gh=IPCC.Web.UI.MouseTool.CreateRectangleMark;fQ=awX(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gh=IPCC.Web.UI.MouseTool.CreateEllipseMark;fQ=ahr(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gh=IPCC.Web.UI.MouseTool.CreateTextMark;fQ=atH(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gh=IPCC.Web.UI.MouseTool.CreateTextMark;fQ=Wh(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gh=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;fQ=Wh(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gh=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;fQ=Wh(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gh=IPCC.Web.UI.MouseTool.CreateStampMark;fQ=aul(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gh=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;fQ=LJ(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gh=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;fQ=LJ(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gh=IPCC.Web.UI.MouseTool.CreateFreehandMark;fQ=ary(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gh=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;fQ=LJ(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var anO=this.aU.resourcePath+'/placeSignatureCursor.cur';this.bb.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.bb.set_allowMarkEdits(false);this.bb.set_mouseCursor('url('+anO+'), pointer');this.bD=bD;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gh=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;fQ=ajM(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gh=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;fQ=ajM(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gh=IPCC.Web.UI.MouseTool.CreatePolylineMark;fQ=apX(bD.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gh=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;fQ=LJ(bD.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var anM=this.bb.get_mouseTool();if(this.bD!==bD&&anM===gh){setTimeout(function(){V.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:V.bD.getName()});},0);}this.bD=bD;if(fQ){this.Jy=fQ.onCreating;this.hN=fQ.onAdded;}else{this.Jy=undefined;this.hN=undefined;}this.bb.set_mouseTool(gh);this.bb.set_allowMarkEdits((bD.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function aau(ax,Sz,nN){if(ax.yx!==true){var Iv=function(){ax.off('PageCountReady',Iv);aau(ax,Sz,nN);};ax.on('PageCountReady',Iv);return;}var ai=ax;var xz;var iV={},tm={},op=[];var gd=ai.es;var lp;var aU;if(Sz){aU=Sz;}var acA=[];var Sc=ai.aP.get_pages();var avQ=function(bI,done){var aIp=false;var iJ=bI;var aw=bI.get_pageNumber();var et=iJ.get_pageWidth();var fB=iJ.get_pageHeight();try{if(iJ){var hu=ai.bb.hu(iJ),El=0,Ep=0,ed="",aGh=false;var getArt=function getArt(){var Ov;if(aU&&aU.Gf&&aU.Gf[aw]){Ov=IPCC.K.extend({},aU);Ov.Gf=aU.Gf[aw];}else{Ov=aU;}var aV,Uu;var HW=hu.aDH(aw,El,Ep,Ov);if(HW.iV){iV[aw]=HW.iV;}else{var atW=axa(aw,lp,Ep,El);iV[aw]=atW;}if(HW.op){for(aV=0;aV<HW.op.length;aV++){Uu=HW.op[aV];tm[Uu.aZ.imageStampId]=Uu;}}done();};if(hu){if(!et|| !fB){if(hu.get_markCount()>0){ai.bb.MZ(bI,function(bd,bU){El=bd;if(El){iJ.MT(El);}Ep=bU;if(Ep){iJ.Oh(Ep);}getArt();},function(oS){done(oS);});}else{getArt();}}else{El=et;Ep=fB;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Sc.forEach(function(bI,ab,im){acA.push(function(done){avQ(bI,done);});});var aba=function(ae,bI){var xK="";var C;if(!ae.hs){if(ae.toString()){return ae.toString();}else{return '<![CDATA[]]>';}}if((gd===1||bI===0||(bI>0&&ae.hs!=="documentAnnotations"&&ae.hs!=="pages"))&&ae.hs!=="highlights"){xK='<'+ae.hs;for(var Ay in ae.aZ){if(ae.aZ.hasOwnProperty(Ay)){var Vo=ae.aZ[Ay];if(Vo===undefined||Vo===null){continue;}var aZ=Vo.toString();aZ=aZ.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');xK=xK+' '+Ay+'="'+aZ+'"';}}xK+='>';}for(C=0;C<ae.dn.length;C++){xK+=aba(ae.dn[C],bI);}if(gd===1||(bI===gd-1)||(bI!==gd-1&&ae.hs!=="documentAnnotations"&&ae.hs!=="pages"&&ae.hs!=="highlights")){if(ae.hs!=="highlights"){xK+='</'+ae.hs+'>';}else{xK+='<'+ae.hs+' />';}}return xK;};IPCC.K.WB(acA,function(ds){if(ds){nN(ds);return;}xz='<?xml version="1.0"?>';for(var C=0;C<(ai.es);C++){xz=xz+aba(iV[C],C);}var stampImageXml='';for(var Ky in tm){if(tm.hasOwnProperty(Ky)){stampImageXml+=aba(tm[Ky],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';xz=xz.replace('</documentAnnotations>',stampImagesXml);}nN(undefined,xz);});};ViewerControl.prototype.saveMarkup=function(recordName,options){var bm=PCCViewer.Deferred();var ck=bm.getPromise();var aU;if(options){aU=options;}else{aU={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bm.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return ck;}if(!ark(recordName)){bm.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return ck;}var ai=this;this.qG.then(function(ql){var zu=recordName;aau(ai,aU,function(err,xz){if(err){bm.reject(new PCCViewer.Error("Error",err));return ck;}var NF=IPCC.fU.sD(zu);var bw;if(!(/^[\x00-\x7F]*$/.test(ai.aP.get_documentIdentifier()))){bw=ai.aU.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ai.aU.documentID+'&AnnotationID=e'+NF;}else{bw=ai.aU.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ai.aU.documentID)+'&AnnotationID=u'+encodeURIComponent(zu);}function dS(aI){bm.resolve(zu);setTimeout(function(){ai.trigger('MarkupSaved',{name:zu});},0);};function ew(ah){bm.reject(new PCCViewer.Error("AjaxError","Status Code "+ah.response.status+" "+ah.response.statusText));};PCCViewer.Ajax.fK({method:'POST',url:bw,headers:{'Content-Type':'application/xml'},body:xz}).then(dS,ew);});});}catch(e){bm.reject(new PCCViewer.Error("Error",e.message));}return ck;};var ark=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Yo=function(jR){var aY=jR.firstChild;while(aY.nodeType!==1){aY=aY.nextSibling;}return aY;};var axa=function(co,lp,fB,et){var iV={hs:'documentAnnotations',dn:[],aZ:{}};var afE={hs:'pages',dn:[],aZ:{}};iV.dn.push(afE);var kD={hs:'highlights',dn:[],aZ:{}};var bI={hs:'page',dn:[],aZ:{id:(co+1).toString(),pageWidth:et,pageHeight:fB}};iV.dn.push(kD);try{if(lp){var aY=lp.getElementsByTagName("documentAnnotations");if(aY.length>1){throw 'ERROR: Invalid PCC annotations XML';}var ME;var FL;if(document.documentMode<9){var So=lp.firstChild.nodeName;if(So.toLowerCase()==='xml'){ME=lp.firstChild.nextSibling;}else{ME=lp.firstChild;}}else{ME=lp.firstChild;}var cZ=Yo(ME);if(cZ.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cZ.hasChildNodes()){var C;var mB=false;for(C=0;C<cZ.childNodes.length;C++){FL=cZ.childNodes[C];if(FL.nodeName!=='page'){continue;}var yI=FL.getAttribute('id');mB=false;if(yI&&parseFloat(yI)===co+1){mB=true;for(var aV=0;aV<FL.childNodes.length;aV++){var ak=FL.childNodes[aV];var bj={hs:'annotation',dn:[],aZ:{}};if(ak.nodeName!=='annotation'){continue;}var Mb=FL.childNodes[aV].attributes;if(Mb.length>0){for(var bY=0;bY<Mb.length;bY++){bj.aZ[Mb[bY].name]=Mb[bY].value;}}if(ak.childNodes[0].data){bj.dn.push('<![CDATA['+ak.childNodes[0].data+']]>');}else{bj.dn.push('');}bI.dn.push(bj);}break;}}}}afE.dn.push(bI);return iV;}catch(e){throw(e.message);}};ViewerControl.prototype.loadMarkup=function(recordName,options){var GJ=recordName;var bm=PCCViewer.Deferred(),ck=bm.getPromise(),ai=this;var aU=options||{};var yz=aU.retainExistingMarks;var jp=aU.markupLayer;var uN=aU.loadAsHidden;this.qG.then(function(ql){var bw,NF,bb=ai.bb,dF=ai.dF;if(typeof GJ!=="string"){bm.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(yz!==undefined){if(typeof yz!=='boolean'){bm.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(jp!==undefined){if(!(jp instanceof PCCViewer.MarkupLayer)){bm.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(ai.mw.getItem(jp.getId())===undefined){bm.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function dS(aI){var Ra,Oe=aI.responseText,Lj;if(Oe.indexOf('xml')=== -1){bm.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Oe=Oe.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.K.qp(p2)+p3;});if(window.DOMParser){Lj=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Lj=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Lj=function(){return null;};}Ra=Lj(Oe);var akZ=Ra.getElementsByTagName('stampImage');var op={};var Yd=function(ba){G.ar.push(ahs.getPoint(ba));};for(var C=0;C<akZ.length;C++){var QF=akZ[C];op[QF.getAttribute('imageStampId')]={imageStampId:QF.getAttribute('imageStampId'),base64format:QF.getAttribute('base64format')};}bb.set_annotationXmlDom(Ra,op,yz===true,uN===true);if(yz!==true){ai.dp={};}var dQ=ai.dF.get_length();var G;var bN,fm;var vH={};var FW=[];for(C=0;C<dQ;C++){var ap=ai.bb.hu(ai.dF.getPage(C));if(ap){var Ba={};var aV=0;for(aV=0;aV<ap.get_markCount();aV++){var H=ap.getMark(aV);if(ai.dp[H.get_markID()]!==undefined){continue;}fm=H.get_type();switch(fm){case IPCC.Web.UI.MarkType.Rectangle:if(H.kM()===true){if(H.get_opacity()===255){bN=PCCViewer.Mark.Type.RectangleRedaction;}else{bN=PCCViewer.Mark.Type.TransparentRectangleRedaction;}G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});}else{bN=PCCViewer.Mark.Type.RectangleAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.np=H.get_lineWidth();G.eQ=H.get_fillColor();G.oV=H.get_lineColor();G.cu=H.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bN=PCCViewer.Mark.Type.EllipseAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.np=H.get_lineWidth();G.eQ=H.get_fillColor();G.oV=H.get_lineColor();G.cu=H.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bN=PCCViewer.Mark.Type.LineAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.ph=H.get_lineWidth();G.dR=H.get_lineColor();G.cu=H.get_opacity();if(H.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){G.nc="FilledTriangle";}else{G.nc="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(H.kM()===true){bN=PCCViewer.Mark.Type.StampRedaction;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});}else{bN=PCCViewer.Mark.Type.StampAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.dR=H.get_fillColor();}G.tN=H.get_text();break;case IPCC.Web.UI.MarkType.Text:if(H.kM()===true){bN=PCCViewer.Mark.Type.TextRedaction;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});}else{bN=PCCViewer.Mark.Type.TextAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.np=H.get_lineWidth();G.eQ=H.get_fillColor();G.oV=H.get_lineColor();G.cu=H.get_opacity();}G.gN=H.get_maxLength();G.gk=H.get_fontName();G.hl=H.get_textColor();G.da=H.get_fontSize();var cc=H.get_fontStyle();var qf=[];if((cc&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qf.push("Bold");}if((cc&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qf.push("Italic");}if((cc&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qf.push("Strikeout");}if((cc&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qf.push("Underline");}G.cc=qf;var rf;switch(H.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:rf="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:rf="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:rf="right";break;}G.lL=rf;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bN=PCCViewer.Mark.Type.TextAreaSignature;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.np=H.get_lineWidth();G.gN=H.get_maxLength();G.gk=H.get_fontName();G.hl=H.get_textColor();G.ij=H.get_maxFontSize();cc=H.get_fontStyle();qf=[];if((cc&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qf.push("Bold");}if((cc&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qf.push("Italic");}if((cc&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qf.push("Strikeout");}if((cc&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qf.push("Underline");}G.cc=qf;switch(H.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:rf="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:rf="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:rf="right";break;}G.lL=rf;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bN=(fm===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fm===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fm===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Zb=H.bq;if(typeof vH[Zb]==='undefined'){G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,dF:dF,bb:bb,uid:H.aZ.jB});G.dq=[];if(bN===PCCViewer.Mark.Type.HighlightAnnotation){G.eQ=H.get_fillColor();}vH[Zb]=G;H.bi=C;H.kB=true;}else{H.bi=C;vH[Zb].dq.push(H);}break;case IPCC.Web.UI.MarkType.Freehand:bN=PCCViewer.Mark.Type.FreehandAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.ph=H.get_lineWidth();G.dR=H.get_lineColor();G.cu=H.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bN=PCCViewer.Mark.Type.FreehandSignature;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.ph=H.get_lineWidth();G.dR=H.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bN=PCCViewer.Mark.Type.TextSignature;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.gk=H.get_fontName();G.dR=H.get_fillColor();G.bF=H.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bN=PCCViewer.Mark.Type.TextInputSignature;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.gk=H.get_fontName();G.hl=H.get_textColor();G.bF=H.get_text();G.gN=H.get_maxLength();G.iO=H.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!H.bq){bN=PCCViewer.Mark.Type.RectangleRedaction;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,dF:dF,bb:bb,uid:H.aZ.jB});G.np=H.get_lineWidth();G.eQ=H.get_fillColor();G.oV=H.get_lineColor();G.cu=H.get_opacity();}else{if(Ba[H.bq]===undefined){Ba[H.bq]=[];}Ba[H.bq].push(H);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bN=(fm===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.setImage({dataUrl:H.get_image(),id:H.oR});break;case IPCC.Web.UI.MarkType.Polyline:bN=PCCViewer.Mark.Type.PolylineAnnotation;G=new PCCViewer.Mark({type:bN,igMark:H,pageNumber:C+1,uid:H.aZ.jB});G.ph=H.get_lineWidth();G.dR=H.get_lineColor();G.cu=H.get_opacity();var ahs=H.get_points();G.ar=[];for(var bu=0;bu<ahs.get_length();bu++){Yd(bu);}break;default:G=undefined;continue;}if(typeof G!=='undefined'&&fm!==IPCC.Web.UI.MarkType.HighlightText&& !(fm===IPCC.Web.UI.MarkType.RectangleRedaction&&H.bq!==undefined)&&fm!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fm!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fm!==IPCC.Web.UI.MarkType.Strikethrough){ai.dp[H.get_markID()]=G;FW.push(G);}}for(var MO in Ba){if(Ba.hasOwnProperty(MO)&&vH[MO]){var Ej=vH[MO];var aek=Ej.H;if(Ej.dq&&Ej.dq.length>0){for(var KE=0;KE<Ej.dq.length;KE++){if(Ej.dq[KE].bi===C){aek=Ej.dq[KE];}}}var bH=Ba[MO];for(var ZF=0;ZF<bH.length;ZF++){aek.bH.push(bH[ZF]);}}}}}for(var pm in vH){if(vH.hasOwnProperty(pm)){var yC=vH[pm];ai.dp[yC.H.get_markID()]=yC;FW.push(yC);if(yC.dq&&yC.dq.length>0){yC.dq[yC.dq.length-1].kF=true;}else{yC.H.kF=true;}}}bm.resolve(GJ);if(jp!==undefined){jp.addMarks(FW);}else{ai.getActiveMarkupLayer().addMarks(FW);}ai.trigger('MarkupLoaded',{name:GJ,loadedMarks:FW});};function ew(ah){bm.reject(new PCCViewer.Error("Error","Status Code "+ah.response.status+" "+ah.response.statusText));};NF=IPCC.fU.sD(GJ);if(!(/^[\x00-\x7F]*$/.test(ai.aP.get_documentIdentifier()))){bw=ai.aU.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+ai.aU.documentID+'&AnnotationID=e'+NF;}else{bw=ai.aU.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(ai.aU.documentID)+'&AnnotationID=u'+encodeURIComponent(GJ);}PCCViewer.Ajax.fK({method:'GET',url:bw,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(dS,ew);});return ck;};ViewerControl.prototype.getSavedMarkupNames=function(){var bm=PCCViewer.Deferred();var ck=bm.getPromise();try{var C=0,Ii=0;var zu='';var bw=this.aU.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.aU.documentID)+'&AnnotationID=u'+encodeURIComponent(zu);var dS=function(aI){var rM;if(typeof aI.responseText!=='unknown'&&aI.responseText.length>0){try{rM=JSON.parse(aI.responseText);}catch(e){}}var Uv=[],Ii=0;for(var C=0,dv=rM.annotationFiles.length;C<dv;C++){if(rM.annotationFiles[C].annotationLabel){Uv[Ii]={};Uv[Ii].name=rM.annotationFiles[C].annotationLabel;Ii++;}}bm.resolve(Uv);};var ew=function(ah){bm.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));};PCCViewer.Ajax.fK({method:'GET',url:bw}).then(dS,ew);}catch(e){bm.reject(new PCCViewer.Error("Error",e.message));}return ck;};ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.mw){this.mw=new PCCViewer.MarkupLayerCollection(this);}return this.mw;};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bm=PCCViewer.Deferred(),ck=bm.getPromise(),bw,avY=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aP.get_documentIdentifier()))){bw=this.aU.imageHandlerUrl+'/MarkupLayers/e'+this.aU.documentID+'/';}else{bw=this.aU.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aU.documentID)+'/';}if(metadata){var aAc=avY(metadata);bw+=aAc;}bw+='?nocache='+new Date().getTime();PCCViewer.Ajax.fK({url:bw,method:'GET'}).then(function dS(aI){var azg=JSON.parse(aI.responseText);bm.resolve(azg);},function ew(ah){bm.reject(ah.error);});return ck;};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.vf;};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.mw.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.vf=markupLayer;};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var RQ,V=this;RQ=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function wb(){setTimeout(function(){RQ.Do();},20);};function so(){V.off(PCCViewer.EventType.PageCountReady,so);wb();};if(this.po===false){V.on(PCCViewer.EventType.PageCountReady,so);}else{wb();}return RQ;};ViewerControl.prototype.saveMarkupLayer=function(id){var bm=PCCViewer.Deferred();var ck=bm.getPromise();var V=this;if(typeof id!=='string'|| !id){bm.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return ck;}var eh=this.mw?this.mw.getItem(id):undefined;if(!eh){bm.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return ck;}function atL(ov){var KY=eh.getMarks();if(!KY.length){ov(undefined,[]);}else{V.serializeMarks(KY).then(function gz(bx){ov(undefined,IPCC.K.map(bx,function(G){if(G.conversation&&G.conversation.comments){delete G.conversation.comments;}return G;}));},function _f(ed){ov(ed);});}};function atw(ov){var KY=eh.getMarks();var WQ=function(ek,gX,kw){var SN=IPCC.K.filter(gX,function(os){return!os.jp||os.jp===eh;});IPCC.K.forEach(SN,function(cj){var by=ei.Comment(cj);by.markUid=kw;ek.push(by);});return ek;};var Ts=IPCC.K.reduce(KY,function(ek,G){var ca=G.getConversation();var gX=ca.getComments();return gX.length?WQ(ek,gX,G.getUid()):ek;},[]);ov(undefined,Ts);};function auH(ov){var aCn=IPCC.K.reduce(V.mw.getAll(),function(ek,amM){return ek.concat(eh===amM?[]:amM.getMarks());},[]);var WQ=function(ek,gX,kw){var SN=IPCC.K.filter(gX,function(os){return os.jp===eh;});IPCC.K.forEach(SN,function(os){var by=ei.Comment(os);by.markUid=kw;ek.push(by);});return ek;};var Ts=IPCC.K.reduce(aCn,function(ek,G){var ca=G.getConversation();var gX=ca.getComments();return gX.length?WQ(ek,gX,G.getUid()):ek;},[]);ov(undefined,Ts);};var acw=[],aFY=function(pS){if(pS.markupLayer===eh){acw.push({text:pS.text,data:pS.data,creationDateTime:pS.creationDateTime,markUid:pS.markUid});}};for(var abf in this.mw.jd){if(this.mw.jd.hasOwnProperty(abf)){IPCC.K.forEach(this.mw.jd[abf],aFY);}}var xT={layerRecordId:eh.getRecordId(),name:eh.getName(),originalXmlName:eh.getOriginalXmlName(),comments:acw,data:ei.Data(eh)};var wS;IPCC.K.WB([function(lD){atL(function(ds,dG){if(ds&& !wS){wS=ds;}else{xT.marks=dG;}lD();});},function(lD){atw(function(ds,dG){if(ds&& !wS){wS=ds;}else{xT.comments=xT.comments.concat(dG);}lD();});},function(lD){auH(function(ds,dG){if(ds&& !wS){wS=ds;}else{xT.comments=xT.comments.concat(dG);}lD();});}],function(){if(!wS){auJ(xT);}else{bm.reject(new PCCViewer.Error('SerializationError',wS.message));}});function auJ(aFl){var LT,gl={method:'POST',body:JSON.stringify(xT),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(V.aP.get_documentIdentifier()))){LT=V.aU.imageHandlerUrl+'/MarkupLayers/e'+V.aU.documentID+'/';}else{LT=V.aU.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(V.aU.documentID)+'/';}if(eh.getRecordId()){gl.url=LT+eh.getRecordId();gl.headers['X-HTTP-Method-Override']='PUT';}else{gl.url=LT;}PCCViewer.Ajax.fK(gl).then(dS,ew);};function dS(aI){if(aI.responseText&&typeof aI.responseText==='string'){var OP;try{OP=JSON.parse(aI.responseText);}catch(e){}if(OP&&OP.layerRecordId){eh.ZB=OP.layerRecordId;}}bm.resolve({layerRecordId:eh.getRecordId()});};function ew(ah){bm.reject(new PCCViewer.Error('AjaxError',ah.error.message||'An unknown server error occured.'));};return ck;};ViewerControl.prototype.burnMarkup=function(burnOptions){var lv={burnSignatures:true,burnRedactions:true,burnAnnotations:false};var JO;var aaD;var XV;var aHP=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){JO=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){JO=burnOptions.marks;}lv={marks:JO};}else{lv.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:lv.burnSignatures;lv.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:lv.burnRedactions;lv.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:lv.burnAnnotations;}if(typeof burnOptions.filename==='string'){lv.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var PK,Gi=true;for(PK=0;PK<burnOptions.removeFormFields.length;PK++){if(burnOptions.removeFormFields[PK]!=='acroform'){Gi=false;}}if(Gi){lv.removeFormFields=['acroform'];}else{lv.oS={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{lv.oS={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{lv.oS={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}}var zY=new PCCViewer.BurnRequest(lv),V=this;if(JO){var eF=[];for(var C=0,dv=this.getPageCount();C<dv;C++){eF[C]=[];}eF=IPCC.K.reduce(JO,function(bx,aO){var aw=aO.getPageNumber()-1;if(!(typeof aO==='object'&&aO instanceof PCCViewer.Mark&&aO.H)){zY.VX(new Error('The burnOptions.marks parameter is an invalid object.'));return bx;}if(!V.getMarkById(aO.dE)){zY.VX(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bx;}bx[aw].push(aO.H);if(aO.H.bH){for(var C=0,dv=aO.H.bH.length;C<dv;C++){if(aO.H.bH[C]instanceof IPCC.Web.UI.Mark){bx[aw].push(aO.H.bH[C]);}}}if(aO.dq){for(var aV=0,azs=aO.dq.length;aV<azs;aV++){bx[aw+1+aV].push(aO.dq[aV]);if(aO.dq[aV].bH){for(var bY=0,azW=aO.dq[aV].bH.length;bY<azW;bY++){if(aO.dq[aV].bH[bY]instanceof IPCC.Web.UI.Mark){bx[aw+1+aV].push(aO.dq[aV].bH[bY]);}}}}}return bx;},eF);XV={Gf:eF,uv:true};}else{XV={includeAnnotations:lv.burnAnnotations,includeRedactions:lv.burnRedactions,includeSignatures:lv.burnSignatures,uv:true};}function agB(){aau(V,XV,function(ds,aaD){if(ds){setTimeout(function(){zY.VX(ds);},20);}else{zY.Ng({aP:V.aP,aU:V.aU});zY.aCl(aaD);setTimeout(function(){zY.Do();},20);}});};function so(){V.off(PCCViewer.EventType.PageCountReady,so);agB();};if(this.po===false){V.on(PCCViewer.EventType.PageCountReady,so);}else{agB();}return zY;};ViewerControl.prototype.convertDocument=function(WA){var wY,V=this,Aj={targetExtension:'pdf',filename:'document'},aU={};tc.sg(aU,Aj,WA);aU.yX=1;wY=new PCCViewer.ConversionRequest(aU);function wb(){wY.Ng({aP:V.aP,aU:V.aU});setTimeout(function(){wY.Do(aU);},20);};function so(){V.off(PCCViewer.EventType.PageCountReady,so);wb();};if(this.po===false){V.on(PCCViewer.EventType.PageCountReady,so);}else{wb();}return wY;};ViewerControl.prototype.requestDocumentConversion=function(WA){var wY,V=this,Aj={targetExtension:'pdf',filename:'document'},aU={};tc.sg(aU,Aj,WA);aU.yX=2;wY=new PCCViewer.ConversionRequest(aU);function wb(){wY.Ng({aP:V.aP,aU:V.aU});setTimeout(function(){wY.Do(aU);},20);};function so(){V.off(PCCViewer.EventType.PageCountReady,so);wb();};if(this.po===false){V.on(PCCViewer.EventType.PageCountReady,so);}else{wb();}return wY;};ViewerControl.prototype.loadAttachments=function(){var bm=PCCViewer.Deferred();var ck=bm.getPromise();try{var C=0,Ii=0;var zu='';var bw=this.aU.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.aU.documentID)+'/Attachments';var aAo=function(aI){var Fx=JSON.parse(aI.responseText);if(Fx===null||Fx.status!=='complete'){setTimeout(ajr,500);return;}bm.resolve(Fx.attachments||[]);};var ew=function(ah){bm.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var ajr=function(){PCCViewer.Ajax.fK({method:'GET',url:bw}).then(aAo,ew);};ajr();}catch(e){bm.reject(new PCCViewer.Error("Error",e.message));}return ck;};function pA(){return function(sender,eventArgs){var V=this;var G=V.dp[eventArgs.mark.get_markID()];if(V.sZ){V.vf.addMarks(G);}setTimeout(function(){if(G){V.trigger('MarkCreated',{mark:G,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function aqm(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setThickness(ac.getThickness());G.setColor(ac.getColor());G.setOpacity(ac.getOpacity());G.setEndHeadType(ac.getEndHeadType());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function ahr(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setBorderThickness(ac.getBorderThickness());G.setFillColor(ac.getFillColor());G.setBorderColor(ac.getBorderColor());G.setOpacity(ac.getOpacity());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function awX(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;},onAdded:pA()};};function aus(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setReason(ac.getReason());G.setBorderThickness(ac.getBorderThickness());G.setFillColor(ac.getFillColor());G.setBorderColor(ac.getBorderColor());G.setFontColor(ac.getFontColor());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function atH(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setBorderThickness(ac.getBorderThickness());G.setFillColor(ac.getFillColor());G.setBorderColor(ac.getBorderColor());G.setOpacity(ac.getOpacity());G.setFontName(ac.getFontName());G.setFontColor(ac.getFontColor());G.setFontSize(ac.getFontSize());G.setFontStyle(ac.getFontStyle());G.setHorizontalAlignment(ac.getHorizontalAlignment());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function Wh(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setFontName(ac.getFontName());G.setFontColor(ac.getFontColor());G.setText(ac.getText());if(G.setFontSize){G.setFontSize(ac.getFontSize());}PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function aul(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;if(ac.getType()===PCCViewer.MouseTool.Type.StampAnnotation){G.setColor(ac.getColor());}G.setLabel(ac.getLabel());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};var aGV;function LJ(ac){return{onCreating:function(bn,T){},onAdded:pA()};};function ary(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setThickness(ac.getThickness());G.setColor(ac.getColor());G.setOpacity(ac.getOpacity());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function ajM(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setImage(ac.getImage());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};function apX(ac){return{onCreating:function(bn,T){var G=new PCCViewer.Mark({type:ac.getType(),igMark:T.mark,pageNumber:T.pageIndex+1});this.dp[T.mark.get_markID()]=G;G.setThickness(ac.getThickness());G.setColor(ac.getColor());G.setOpacity(ac.getOpacity());PCCViewer.Data.nC(ac,G);PCCViewer.Conversation.qT(ac.getConversation(),G.getConversation());},onAdded:pA()};};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var yf;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:yf=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:yf=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bb&&this.bb.set_markHandleMode){this.bb.set_markHandleMode(yf);}else{this.aU.markHandleMode=yf;}return this;};ViewerControl.prototype.getMarkHandleMode=function(){var yf;if(this.bb&&this.bb.get_markHandleMode){yf=this.bb.get_markHandleMode();}else{yf=this.aU.markHandleMode;}if(yf===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.mr=factoryFunction;return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.mr;};ViewerControl.prototype.refreshConversations=function(conversations){var Wy,acK=(conversations===undefined);function agf(ca,ab){throw new Error(ca+((ab!==undefined)?' (Array index '+ab+')':'')+' is not a valid PCCViewer.Conversation object.');};function awi(ca,ab){throw new Error(ca+((ab!==undefined)?' (Array index '+ab+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Wy=[conversations];}else if(conversations instanceof Array){Wy=conversations;}else if(!acK){agf(conversations);}var agA=IPCC.K.map(this.getAllMarks(),function(aO){return aO.getConversation();});var SY=IPCC.K.map(Wy||agA,function(aO,C){if(!(aO instanceof PCCViewer.Conversation)){agf(aO,C);}if(!acK&& !IPCC.K.inArray(agA,aO)){awi(aO,C);}return aO.getMark().dE;});this.bb.refreshConversations(SY);return this;};ViewerControl.prototype.openCommentsPanel=function(){if(this.eI===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.bb.openCommentsPanel();var V=this;setTimeout(function(){V.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};ViewerControl.prototype.closeCommentsPanel=function(){if(this.eI===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.bb.closeCommentsPanel();var V=this;setTimeout(function(){V.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eI===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.bb.get_isCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eI===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.bb.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var kS=conversation.getMark();if(kS){var xM=kS.H.get_conversation();this.bb.set_selectedConversation(xM);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};ViewerControl.prototype.getSelectedConversation=function(){if(this.eI===false){return null;}var iz=this.bb.get_selectedConversation();if(iz){var kS=this.dp[iz.get_mark().get_markID()];if(kS){return kS.getConversation();}}return null;};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var V=this,xF=V.bk;function alw(bi,iw,dQ){var QJ=[bi+1];var bI=V.dF.getPage(bi),eH=bI.cF();if(eH.nu()){var bF=eH.CR(),aeJ=bF.substr(iw);if(aeJ.length>dQ){return QJ;}else{return QJ.concat(alw(bi+1,0,dQ-aeJ.length));}}else{return QJ;}};this.bb.tn();function FN(abo,aw){V.anx(aw,abo);};if(xF&&xF.getResults().length){var cZ=alw(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),fq=xF.getResults(),ahH=false,Oq={};if(fq.length){IPCC.K.forEach(fq,function(aO){var aqK=IPCC.K.contains(cZ,aO.aw);if(aqK){ahH=true;Oq[aO.aw]=Oq[aO.aw]||[];Oq[aO.aw].push(aO);}});}if(ahH){IPCC.K.forEach(Oq,function(abo,aw){V.requestPageText(aw).then(FN.bind(null,abo,aw));});}}return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eI===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var vS=function(n){return typeof n==='number'&& !isNaN(n);};var yb,adz=true;if(points&&points.constructor===Array){yb=points;}else{yb=[points];adz=false;}var aac=function(aT,ab,bP){throw new PCCViewer.Error('InvalidArgument',aT+' (Array index '+ab+') does not have a valid '+bP+' property');};if(yb.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.K.forEach(yb,function(aT,ab){if(!vS(aT.x)){aac(aT,ab,'x');}if(!vS(aT.y)){aac(aT,ab,'y');}});var Ca=this.bb.avk(pageNumber,yb);if(Ca===null){return null;}else if(adz){return Ca;}else{return Ca[0];}};ViewerControl.prototype.selectEditorText=function(){if(this.eI===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var V=this;var bb=V.bb;var UR=bb.CJ();if(!UR){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(UR==='singleline'){bb.Ks();}else if(UR==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return V;};ViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var V=this;V.afa=amount;if(this.eI===false){this.qG.then(function(ql){var bb=V.bb;bb.EV(amount);});}else{var bb=V.bb;bb.EV(amount);}return V;};ViewerControl.prototype.getSharpening=function(){var V=this;if(this.eI===false){return V.afa;}else{var bb=V.bb;return bb.avz();}};ViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var V=this;V.adT=amount;if(this.eI===false){this.qG.then(function(ql){var bb=V.bb;bb.CT(amount);});}else{var bb=V.bb;bb.CT(amount);}return V;};ViewerControl.prototype.getGamma=function(){var V=this;if(this.eI===false){return V.adT;}else{var bb=V.bb;return bb.aDN();}};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var V=this;V.jO=amount;if(this.eI===false){this.qG.then(function(ql){V.bb.By(amount);});}else{V.bb.By(amount);}return V;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){var V=this;if(this.eI===false){return V.jO;}else{var bb=V.bb;return bb.avT();}};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.bk;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":30,"./PCCViewer.EventEmitter":142,"./PCCViewer.Helper":145,"./PCCViewer.MarkDeserializer":149,"./PCCViewer.MarkSerializer":151,"./PCCViewer.Print":159}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),awQ:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),tc:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Vu:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,OS:require('./PCCViewer.ClientSearch'),Gw:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),GI:require('./PCCViewer.RevisionsRequest').GI,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":132,"./PCCViewer.BurnRequest":133,"./PCCViewer.ClientSearch":134,"./PCCViewer.Comments":135,"./PCCViewer.ConversionRequest":136,"./PCCViewer.Data":137,"./PCCViewer.Deferred":138,"./PCCViewer.DocumentHyperlink":139,"./PCCViewer.Error":140,"./PCCViewer.Event":141,"./PCCViewer.EventEmitter":142,"./PCCViewer.EventType":143,"./PCCViewer.FitType":144,"./PCCViewer.Helper":145,"./PCCViewer.ImageStamps":146,"./PCCViewer.Language":147,"./PCCViewer.LoadMarkupLayersRequest":148,"./PCCViewer.MarkHandleMode":150,"./PCCViewer.Marks":152,"./PCCViewer.MarkupLayer":153,"./PCCViewer.MarkupLayerCollection":154,"./PCCViewer.MouseTool":155,"./PCCViewer.ObservableCollection":156,"./PCCViewer.PageLayout":157,"./PCCViewer.PasswordProtectedDocumentLoader":158,"./PCCViewer.Print":159,"./PCCViewer.RedactionViewMode":160,"./PCCViewer.Revision":161,"./PCCViewer.RevisionsRequest":162,"./PCCViewer.ScaleTrigger":163,"./PCCViewer.Search":164,"./PCCViewer.ServerSearch":165,"./PCCViewer.Signature":166,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(vI){this.jZ={};this.ey={};this.fq=[];this.uU=false;this.ez=null;this.cG=null;this.Ry=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !vI,enumerable:true,get:function(){return this.ey;}},"results":{configurable: ! !vI,enumerable:true,get:function(){return this.fq;}},"isComplete":{configurable: ! !vI,enumerable:true,get:function(){return this.uU;}},"errorCode":{configurable: ! !vI,enumerable:true,get:function(){return this.ez;}},"errorMessage":{configurable: ! !vI,enumerable:true,get:function(){return this.cG;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.ey;};SearchRequest.prototype.getResults=function(){return this.fq;};SearchRequest.prototype.getIsComplete=function(){return this.uU;};SearchRequest.prototype.getErrorCode=function(){return this.ez;};SearchRequest.prototype.getErrorMessage=function(){return this.cG;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Ry;};SearchRequest.prototype.cancel=function(){this.rG=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.dE=0;this.aw=0;this.bQ=0;this.bF='';this.ro='';this.qr=0;this.dA='';this.Ag=0;this.bo='';this.GV='';this.mA=null;};SearchResult.prototype.getId=function(){return this.dE;};SearchResult.prototype.getPageNumber=function(){return this.aw;};SearchResult.prototype.getText=function(){return this.bF;};SearchResult.prototype.getHighlightColor=function(){return this.ro;};SearchResult.prototype.getStartIndexInPage=function(){return this.qr;};SearchResult.prototype.getContext=function(){return this.dA;};SearchResult.prototype.getStartIndexInContext=function(){return this.Ag;};SearchResult.prototype.getSearchTerm=function(){return this.bo;};SearchResult.prototype.getBoundingRectangle=function(){return this.mA;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aw;}},"id":{enumerable:true,get:function(){return this.dE;}},"text":{enumerable:true,get:function(){return this.bF;}},"highlightColor":{enumerable:true,get:function(){return this.ro;}},"startIndexInPage":{enumerable:true,get:function(){return this.qr;}},"context":{enumerable:true,get:function(){return this.dA;}},"startIndexInContext":{enumerable:true,get:function(){return this.Ag;}},"searchTerm":{enumerable:true,get:function(){return this.bo;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.dE=0;this.bQ=0;this.bF='';this.ro='';this.qr=0;this.dA='';this.Ag=0;this.bo='';};SearchTaskResult.prototype.getId=function(){return this.dE;};SearchTaskResult.prototype.getText=function(){return this.bF;};SearchTaskResult.prototype.getHighlightColor=function(){return this.ro;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qr;};SearchTaskResult.prototype.getContext=function(){return this.dA;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Ag;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bo;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.dE;}},"text":{enumerable:true,get:function(){return this.bF;}},"highlightColor":{enumerable:true,get:function(){return this.ro;}},"startIndexInInput":{enumerable:true,get:function(){return this.qr;}},"context":{enumerable:true,get:function(){return this.dA;}},"startIndexInContext":{enumerable:true,get:function(){return this.Ag;}},"searchTerm":{enumerable:true,get:function(){return this.bo;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":30,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 