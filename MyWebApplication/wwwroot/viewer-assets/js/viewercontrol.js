// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.15.11
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pcc-load,\n.pccPageListLoading,\n.pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccPageListLoading svg,\n.pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccPageListLoading,\n.pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var kA=function(){this.ah=false;this.L=false;this.ac=IPCC.ab.AddFreehandMark;};kA.prototype.mf=function(L){this.L=L;};kA.prototype.fd=function(){this.L=false;};kA.prototype.bn=function(){if(this.ah){this.R=null;this.oZ=null;this.L.ny(null);this.ah=false;this.L.dC();}};kA.prototype.qn=function(){this.bn();};kA.prototype.le=function(V){this.bn();if(V.domEvent.button===0){this.ah=true;this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.R.get_points().addPoint(V.imagePoint);this.oZ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.L.ny(this.R,this.oZ);this.R.set_lineWidth(this.oZ.eK);this.R.set_lineColor(this.oZ.lf);this.R.set_opacity(this.oZ.cS);this.rA=V.imagePoint;this.mj=V.windowPoint;this.L.dC();}};kA.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){this.R.get_points().addPoint(V.imagePoint);this.L.dC();}};kA.prototype.yx=function(V){if(this.ah){this.bn();}};kA.prototype.lz=function(V){if(this.ah&&V.domEvent.button===0){this.R.get_points().addPoint(V.imagePoint);var alI=this.R.get_points();var as=[];var gS=Number.MAX_VALUE,iB=0,_top=Number.MAX_VALUE,kG=0;var G=0;for(G=0;G<alI.get_length();G++){var sH=alI.getPoint(G);if(sH.x<gS){gS=sH.x;}if(sH.x>iB){iB=sH.x;}if(sH.y<_top){_top=sH.y;}if(sH.y>kG){kG=sH.y;}as.push({x:sH.x,y:sH.y});}var ys=3;var rD;var qV=(as.length<ys)?as:IPCC.C.filter(as,function(bB){if(rD){var bi=bB.x-rD.x,de=bB.y-rD.y,ep=bi*bi+de*de;if(Math.sqrt(ep)<4){return false;}}bB.x=bB.x-gS;bB.y=bB.y-_top;rD=bB;return true;});if(qV.length<ys){qV=[as[0],as[as.length-1]];}var co='';rD=undefined;if(qV.length<ys){co+=this.MK(qV);}else{co='M'+IPCC.C.bspline(qV);co=co.replace(/\d*\.?\d*/g,function(bu){var Fb=bu.indexOf('.');if(bu.length&&Fb>0){return bu.substr(0,Fb+3);}else if(bu!==""){return bu;}else{return bu;}});}var aO=iB-gS;var by=kG-_top;if(by===0&&aO===0){this.bn();return;}var pF={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.oZ.set_rectangle({x:gS,y:_top,width:aO,height:by});this.oZ.set_pathString(co);this.oZ.set_pathWidth(aO);this.oZ.set_pathHeight(by);this.L.ny(null);this.L.eI().addMark(this.oZ,pF);this.L.dC();}this.bn();};kA.prototype.MK=function(Ak,Iy){var Ts=(Iy&&IPCC.C.CC)?'m':'M';var YN=(Iy&&IPCC.C.CC)?'l':'L';return IPCC.C.map(Ak,function(bB,G){if(G===0){return Ts+bB.x+','+bB.y;}else{return YN+bB.x+','+bB.y;}}).join('');};kA.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};kA.prototype.nc=function(){this.bn();};module.exports=kA;},{}],13:[function(require,module,exports){var mB=function(){this.ah=false;this.L=false;this.ac=IPCC.ab.AddLineMark;};mB.prototype.mf=function(L){this.L=L;};mB.prototype.fd=function(){this.L=false;};mB.prototype.bn=function(){if(this.ah){this.R=null;this.L.ny(null);this.ah=false;this.L.dC();}};mB.prototype.qn=function(){this.bn();};mB.prototype.le=function(V){this.bn();if(V.domEvent.button===0){this.ah=true;this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.R.get_points().setPoint(0,V.imagePoint);this.R.get_points().setPoint(1,V.imagePoint);this.L.ny(this.R);this.rA=V.imagePoint;this.mj=V.windowPoint;}};mB.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){this.R.get_points().setPoint(1,V.imagePoint);this.L.dC();}};mB.prototype.lz=function(V){if(this.ah&&V.domEvent.button===0){var eh=V.windowPoint.x-this.mj.x;var gc=eh*eh;eh=V.windowPoint.y-this.mj.y;gc+=eh*eh;if(gc>25){var L=this.L;var pF={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.R.get_points().setPoint(1,V.imagePoint);this.L.ny(null);this.L.eI().addMark(this.R,pF);L.dC();}}this.bn();};mB.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};mB.prototype.nc=function(){this.bn();};module.exports=mB;},{}],14:[function(require,module,exports){var kH=function(be){this.ah=false;this.L=false;this.be=be;switch(this.be){case IPCC.Web.UI.MarkType.Polygon:this.ac=IPCC.ab.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.ac=IPCC.ab.AddPolylineMark;this.ZK=false;break;}};kH.prototype.mf=function(L){this.L=L;};kH.prototype.fd=function(){this.L=false;};kH.prototype.bn=function(){if(this.ah){if(arguments[0]){if(arguments[0]===true){if(this.R&&this.ZK===false){this.L.eI().addMark(this.R);this.ZK=true;this.L.dC();}}}this.R=null;this.L.ny(null);this.ah=false;this.L.dC();}};kH.prototype.qn=function(){this.bn();};kH.prototype.le=function(V){if(V.domEvent.button===0){if(!this.ah){this.ah=true;this.R=new IPCC.Web.UI.Mark(this.be);this.R.get_points().addPoint(V.imagePoint);this.L.ny(this.R);}var as=this.R.get_points();if(as.get_length()>0){as.setPoint(as.get_length()-1,V.imagePoint);}as.addPoint(V.imagePoint);this.rA=V.imagePoint;this.mj=V.windowPoint;this.L.dC();}else{this.bn();}};kH.prototype.yx=function(V){if(this.ah&&V.domEvent.button===0){var as=this.R.get_points(),dn=as.get_length(),UD,Um;if(dn>2){var abT=true;while(abT){dn=as.get_length();UD=as.getPoint(dn-1);Um=as.getPoint(dn-2);if(UD.x===Um.x&&UD.y===Um.y){as.removePoint(dn-1);}else{abT=false;}}}if(as.get_length()>0){as.setPoint(as.get_length()-1,V.imagePoint);}this.L.ny(null);var pF={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.L.eI().addMark(this.R,pF);this.ZK=true;this.L.dC();}this.bn();};kH.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){var as=this.R.get_points();if(as.get_length()>0){as.setPoint(as.get_length()-1,V.imagePoint);}this.L.dC();}};kH.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};kH.prototype.nc=function(){this.bn();};module.exports=kH;},{}],15:[function(require,module,exports){var eD=function(be){this.ah=false;this.L=false;this.be=be;switch(this.be){case IPCC.Web.UI.MarkType.Rectangle:this.ac=IPCC.ab.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.ac=IPCC.ab.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.ac=IPCC.ab.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.ac=IPCC.ab.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.ac=IPCC.ab.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.ac=IPCC.ab.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.ac=IPCC.ab.AddRectangleMark;break;}};eD.prototype.mf=function(L){this.L=L;};eD.prototype.fd=function(){this.L=false;};eD.prototype.bn=function(){if(this.ah){this.R=null;this.L.ny(null);this.ah=false;this.L.dC();}};eD.prototype.qn=function(){this.bn();};eD.prototype.le=function(V){this.bn();if(V.domEvent.button===0){this.ah=true;this.R=new IPCC.Web.UI.Mark(this.be);this.R.set_rectangle({x:V.imagePoint.x,y:V.imagePoint.y,width:0,height:0});this.L.ny(this.R);this.rA=V.imagePoint;this.mj=V.windowPoint;}};eD.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){var lZ={x:Math.min(V.imagePoint.x,this.rA.x),y:Math.min(V.imagePoint.y,this.rA.y)};lZ.width=Math.max(V.imagePoint.x,this.rA.x)-lZ.x;lZ.height=Math.max(V.imagePoint.y,this.rA.y)-lZ.y;this.R.set_rectangle(lZ);this.L.dC();}};eD.prototype.lz=function(V){if(this.ah&&V.domEvent.button===0){var eh=V.windowPoint.x-this.mj.x;var gc=eh*eh;eh=V.windowPoint.y-this.mj.y;gc+=eh*eh;if(gc>25){var lZ={x:Math.min(V.imagePoint.x,this.rA.x),y:Math.min(V.imagePoint.y,this.rA.y)};lZ.width=Math.max(V.imagePoint.x,this.rA.x)-lZ.x;lZ.height=Math.max(V.imagePoint.y,this.rA.y)-lZ.y;this.L.ny(null);this.R.set_rectangle(lZ);var aR=this.R;var L=this.L;var pF={clientX:V.domEvent.clientX,clientY:V.domEvent.clientY};this.L.eI().addMark(this.R,pF);if(aR.jc()===IPCC.Web.UI.MarkType.Text||aR.jc()===IPCC.Web.UI.MarkType.TextLine||aR.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){L.vp(aR);}L.dC();}}this.bn();};eD.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};eD.prototype.nc=function(){this.bn();};module.exports=eD;},{}],16:[function(require,module,exports){var dr={};var arW=require('./ArtUIDirector');var Lq=require('./ArtSVGUIDirector');dr.wl={JN:function(){var wU=IPCC.dr.wl;if(wU.tA===null){
/*@cc_on@if(@_jscript)wU.tA=document.documentMode>8;@else@*/ wU.tA=true;/*@end@*/}return wU.tA;},tA:null};dr.CY=1;dr.dj=arW;dr.Lq=Lq;module.exports=dr;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var afk=function(){};afk.prototype={axy:function(L,aH,aI){this.L=L;this.aW=L.aN();this.aH=aH;this.fG=aI.width;this.dV=aI.height;this.Fl=aI.gp;this.aHo=aI.hd;aH.FD=this.dH('g');this.cj(aH.FD,{'fill-opacity':1});aH.CJ.appendChild(aH.FD);},axY:function(F){var iJ='',J,h=this;switch(F.R.get_type()){case IPCC.Web.UI.MarkType.Rectangle:F.bb=this.dH('rect');if(F.R.jC()&&F.R.get_opacity()===255){F.bb.addEventListener("mouseover",function(V){if(F.R.get_selected()===false&&F.bb&&(V.which===0||V.buttons===0)){F.bb.style.opacity=127/255;}},false);F.bb.addEventListener("mouseout",function(V){if(F.bb&&(V.which===0||V.buttons===0)){F.bb.style.opacity=F.R.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iJ="highlighttextannotation-"+F.R.nf();F.bb=this.dH('g');F.jy=this.dH('g');F.bb.appendChild(F.jy);F.ks=this.dH('g');F.ks.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.ks);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iJ="texthyperlinkannotation-"+F.R.nf();F.bb=this.dH('g');F.bb.style.cursor=IPCC.ab.fo(IPCC.ab.Link);F.jy=this.dH('g');F.bb.appendChild(F.jy);F.ks=this.dH('g');F.ks.style.opacity=IPCC.dr.dj.akp();F.ks.style.fill="blue";F.ks.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.ks);F.jN=this.dH('g');F.jN.style.stroke="blue";F.jN.style.opacity=IPCC.dr.dj.Fs(false);F.jN.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.jN);F.bb.addEventListener("mouseover",function(V){if(F.jN){F.jN.style.opacity=IPCC.dr.dj.Fs(true,F.R.get_selected());}},false);F.bb.addEventListener("mouseout",function(V){if(F.jN){F.jN.style.opacity=IPCC.dr.dj.Fs(false,F.R.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iJ="documenthyperlink-"+F.R.nf();F.bb=this.dH('g');F.bb.style.cursor=IPCC.ab.fo(IPCC.ab.Link);F.J=this.dH('rect');F.J.style['fill-opacity']=IPCC.dr.dj.akp();if(F.R.Rv!=='Underline'){F.J.style.stroke=F.R.lf;F.J.style['stroke-width']=F.R.eK+'px';F.J.style['stroke-opacity']=(F.R.eK===0)?0:F.R.pW/255;if(F.R.Rv==='Dashed'){F.J.style['stroke-dasharray']=F.R.BF.join(', ');}F.J.setAttribute('rx',F.R.Io);F.J.setAttribute('ry',F.R.GP);}else{F.wN=this.dH('line');F.wN.style.stroke=F.R.lf;F.wN.style['stroke-opacity']=F.R.pW/255;F.wN.style['stroke-width']=F.R.eK+'px';F.bb.appendChild(F.wN);}F.J.style.fill='transparent';F.J.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.J);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iJ="textmark-"+F.R.nf();F.bb=this.dH('g');F.fh=this.dH('rect');F.fV=this.dH('g');F.fV.setAttribute('data-pcc-mark',iJ);if(IPCC.C.tE.apf){F.fV.style.cursor='pointer';}F.zu=document.createTextNode('');if(document.documentMode>8||IPCC.C.tE.BE){F.cI=this.dH('text');F.cI.setAttribute('data-pcc-mark',iJ);F.cI.appendChild(F.zu);F.BJ=this.dH('clipPath');F.EI=this.dH('rect');F.fV.appendChild(F.BJ);F.BJ.appendChild(F.EI);F.fV.appendChild(F.cI);F.Ip="PCC"+IPCC.dr.CY;IPCC.dr.CY++;this.cj(F.BJ,{id:F.Ip,clipPathUnits:"userSpaceOnUse"});J=F.R.get_rectangle();this.cj(F.EI,{x:0,y:0,width:J.width,height:J.height,"data-pcc-mark":iJ});var ajF=function(V){if(F.R.get_selected()===false&&F.fh&&(V.which===0||V.buttons===0)){if(h.L.nl()===false){F.bb.style.opacity=0.2;F.cI.style.opacity=0;}}};F.bb.addEventListener("mouseover",function(V){ajF(V);},false);F.fV.addEventListener("mouseover",function(V){ajF(V);},false);F.fV.addEventListener("mouseout",function(V){if(F.fh&&(V.which===0||V.buttons===0)){if(h.L.nl()===false){F.bb.style.opacity=1;F.cI.style.opacity=1;}}},false);F.bb.addEventListener("mouseout",function(V){if(F.fh&&(V.which===0||V.buttons===0)){if(h.L.nl()===false){F.bb.style.opacity=1;F.cI.style.opacity=1;}}},false);}else{F.nr=document.createElement('div');this.cj(F.nr,{"data-pcc-mark":iJ});F.nr.appendChild(F.zu);F.KF=document.createElement('div');this.cj(F.KF,{"data-pcc-mark":iJ});F.KF.appendChild(F.nr);F.vw=document.createElement('body');this.cj(F.vw,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iJ});F.vw.appendChild(F.KF);F.CB=this.dH('foreignObject');F.CB.appendChild(F.vw);F.fV.appendChild(F.CB);F.vw.addEventListener("mouseover",function(V){if(F.R.get_selected()===false&&F.fh&&(V.which===0||V.buttons===0)){F.fh.style.opacity=0.2;F.nr.style.opacity=0;}},false);F.vw.addEventListener("mouseout",function(V){if(F.fh&&(V.which===0||V.buttons===0)){if(h.L.nl()===false){F.fh.style.opacity=1;F.nr.style.opacity=1;}}},false);}F.bb.appendChild(F.fh);break;case IPCC.Web.UI.MarkType.Ellipse:F.bb=this.dH('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:F.bb=this.dH('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F.bb=this.dH('g');F.jy=F.bb;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:F.bb=this.dH('g');F.rN=this.dH('polyline');F.QN=this.dH('path');F.Vs=this.dH('path');F.bb.appendChild(F.rN);F.bb.appendChild(F.QN);F.bb.appendChild(F.Vs);F.rN.setAttribute('stroke-linejoin','miter');F.rN.setAttribute('stroke-linecap','butt');F.rN.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:F.bb=this.dH('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iJ="textmark-"+F.R.nf();F.bb=this.dH('g');F.Ii=this.dH('polygon');F.rN=this.dH('path');F.Ra=this.dH('path');F.fV=this.dH('g');F.bb.appendChild(F.Ii);F.bb.appendChild(F.rN);F.bb.appendChild(F.Ra);this.cj(F.Ii,{style:'stroke:none;'});F.fV.setAttribute('data-pcc-mark',iJ);F.zu=document.createTextNode('');if(document.documentMode>8||IPCC.C.tE.BE){F.cI=this.dH('text');F.cI.setAttribute('data-pcc-mark',iJ);F.cI.appendChild(F.zu);F.BJ=this.dH('clipPath');F.EI=this.dH('rect');F.fV.appendChild(F.BJ);F.BJ.appendChild(F.EI);F.ahV=this.dH('g');F.fV.appendChild(F.ahV);F.fV.appendChild(F.cI);F.Ip="PCC"+IPCC.dr.CY;IPCC.dr.CY++;this.cj(F.BJ,{id:F.Ip,clipPathUnits:"userSpaceOnUse"});J=F.R.get_rectangle();this.cj(F.EI,{x:0,y:0,width:J.width,height:J.height,"data-pcc-mark":iJ});}else{F.nr=document.createElement('div');F.nr.appendChild(F.zu);F.vw=document.createElement('body');this.cj(F.vw,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iJ});F.vw.appendChild(F.nr);F.CB=this.dH('foreignObject');F.CB.appendChild(F.vw);F.fV.appendChild(F.CB);}F.Ii.setAttribute('data-pcc-mark',iJ);break;case IPCC.Web.UI.MarkType.Stamp:F.bb=this.dH('g');F.uz=this.dH('rect');F.uz.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.fh=this.dH('rect');F.Hi=this.WS(F);F.bb.appendChild(F.uz);F.bb.appendChild(F.fh);F.bb.appendChild(F.Hi);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F.bb=this.dH('g');F.uz=this.dH('rect');F.uz.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.fh=this.dH('rect');F.akJ=this.axP(F);F.akJ.setAttribute('data-pcc-mark',"mark-"+F.R.nf());F.bb.appendChild(F.uz);F.bb.appendChild(F.fh);F.bb.appendChild(F.akJ);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var R=F.R;var afH=R.fJ();var aO=afH.width;var by=afH.height;var HM=R.get_pathWidth();var Hv=R.get_pathHeight();var wn=R.get_pathString();var gT=IPCC.C.CK.Path(wn,{width:aO,height:by,multiplier:100,thickness:R.get_lineWidth(),color:R.get_lineColor()});var dU=IPCC.C.CK.SVG('0 0 '+HM+' '+Hv,100);var aF=IPCC.C.CK.Rect(HM,Hv,'fill:rgba(255, 255, 255, 0);stroke:none;');dU.appendChild(aF);dU.appendChild(gT);F.bb=dU;F.aAu=gT;F.adf=aF;this.adV(F.bb,R.iI);break;case IPCC.Web.UI.MarkType.SignatureText:F.bb=this.dH('g');F.fh=this.dH('rect');F.fh.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Hi=this.WS(F);F.bb.appendChild(F.fh);F.bb.appendChild(F.Hi);F.R.jl=false;break;case IPCC.Web.UI.MarkType.TextLine:F.bb=this.dH('g');F.fh=this.dH('rect');F.fh.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Hi=this.WS(F);F.bb.appendChild(F.fh);F.bb.appendChild(F.Hi);break;case IPCC.Web.UI.MarkType.Strikethrough:iJ="strikethroughannotation-"+F.R.nf();F.bb=this.dH('g');F.jy=this.dH('g');F.bb.appendChild(F.jy);F.ks=this.dH('g');F.ks.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.ks);F.xk=this.dH('g');F.xk.setAttribute('data-pcc-mark',iJ);F.bb.appendChild(F.xk);break;}F.bb.ImGearMarkRelation=F;F.bb.setAttribute('data-pcc-mark',"mark-"+F.R.nf());this.aH.FD.appendChild(F.bb);if(F.fV){F.fV.ImGearMarkRelation=F;this.aH.FD.appendChild(F.fV);}this.abQ(F);},WS:function(F){var R=F.R;var Da=R.bm;if(!Da){Da=R.ci[0];if(!Da){if(R.get_type()===IPCC.Web.UI.MarkType.Stamp){Da="APPROVED";}else{Da="";}}}var J=R.fJ();F.cI=this.dH('text');F.Ip="PCC"+IPCC.dr.CY;IPCC.dr.CY++;var lE=document.createTextNode(Da);F.cI.setAttribute("font-size","22px");if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){F.cI.setAttribute("style",'white-space:pre;');}switch(F.R.iI){case IPCC.Web.UI.HorizontalAlignment.Left:F.cI.setAttribute('text-anchor','start');F.cI.setAttribute('x',J.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cI.setAttribute('text-anchor','end');F.cI.setAttribute("x",J.x+J.width);break;default:F.cI.setAttribute('text-anchor','middle');F.cI.setAttribute("x",J.x+(J.width/2));break;}F.cI.setAttribute('y',J.y+(J.height/2));F.cI.appendChild(lE);return F.cI;},axP:function(F){var R=F.R;F.ajU=document.createElementNS('http://www.w3.org/2000/svg','svg');F.xV=document.createElementNS('http://www.w3.org/2000/svg','image');F.xV.setAttribute('id','childimg');F.xV.setAttributeNS('http://www.w3.org/1999/xlink','href',R.get_image());F.ajU.appendChild(F.xV);return F.ajU;},ayE:function(F,iI){var R=F.R;var J=R.fJ();var bm=R.bm;var Gy=bm.split('\n');var cI=F.cI;var XM=0;var WI=0;var YY=0;var wT=0;var ael=0;var ane=this.Fl/72;var abE=R.cE*ane;var xm=[];var auK=/(.*\s)(.*)/;var lE,iV,GT,Gb,_parent,ahs,Ko,Kr,afR,zW,akw,DZ;ahs=cI.childNodes.length;if(ahs>=1){_parent=cI.parentNode;Ko=this.dH('text');Ko.setAttribute('data-pcc-mark',F.fV.getAttribute('data-pcc-mark'));Ko.setAttribute('width',F.fV.getAttribute('width')-F.R.eK);_parent.replaceChild(Ko,cI);F.cI=Ko;F.cI.appendChild(F.zu);F.fV.appendChild(F.cI);cI={};cI=F.cI;}cI.style.fontSize=R.cE*this.Fl/72+'px';cI.style.fontFamily=R.gq;cI.width-=4;Kr=(R.eK/2);if(iI){switch(iI){case IPCC.Web.UI.HorizontalAlignment.Center:Kr=(J.width/2)-(R.eK/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Kr=J.width-R.eK;break;}}for(var G=0;G<Gy.length;G++){zW='';akw=1;if(Gy[G].length>0){GT=Gy[G].split('');iV=this.dH('tspan');iV.setAttributeNS(null,"x",Kr);if(G>0){iV.setAttributeNS(null,"dy",abE*(YY+1));}lE=window.document.createTextNode(GT[0]);iV.appendChild(lE);cI.appendChild(iV);for(var bo=1;bo<GT.length;bo++){ael=iV.firstChild.data.length;Gb=GT[bo];iV.firstChild.data+=GT[bo];zW+=Gb;afR=zW.length*(R.cE*ane);XM=iV.getComputedTextLength();if(XM===0){WI=afR;}else{WI=XM;}if(WI>=(J.width-R.eK-2)){akw++;zW='';DZ=iV.firstChild.data.match(auK);if(DZ){Gb=DZ[2];}if(DZ&&DZ[1].length>0){iV.firstChild.data=DZ[1];zW+=Gb;}else{iV.firstChild.data=iV.firstChild.data.slice(0,ael);zW+=Gb;}if(zW.length>=1){xm.push({bQ:wT,agY:iV});iV=this.dH('tspan');iV.setAttributeNS(null,"x",Kr);iV.setAttributeNS(null,"dy",abE);lE=window.document.createTextNode(Gb);iV.appendChild(lE);cI.appendChild(iV);}}}if(iV.firstChild.data.length>0){xm.push({bQ:wT,agY:iV});}wT+=iV.firstChild.data.length+1;YY=0;}else{YY++;}}return xm;},asg:function(la,agv,jy,wT){if(la.length>0){var akd=agv.getNumberOfChars();if(la[0].bQ>wT+akd){return;}for(var G=Math.max(la[0].bQ-wT,0);G<akd;G++){var J=agv.getExtentOfChar(G);var aF=this.dH('rect');this.cj(aF,{x:J.x,y:J.y,width:J.width,height:J.height,fill:la[0].BX});jy.appendChild(aF);if(la[0].cU===G+wT){la.shift();if(la.length===0){return;}G=la[0].bQ-wT-1;}}}},CQ:function(dA,sq,rI){var gT='M',G;for(G=0;G<sq.length;G++){if(G>0){gT+=' L';}gT+=sq[G].x+','+sq[G].y;}if(rI){gT+='Z';}this.cj(dA,{d:gT});},Tw:function(dA,sq,rI){var PA='',G;for(G=0;G<sq.length;G++){if(G>0){PA+=' ';}PA+=sq[G].x+','+sq[G].y;}if(rI&&sq.length>2){PA+=' '+sq[0].x+','+sq[0].y;}this.cj(dA,{points:PA});},aag:function(hI,ld,zR,sg,At,Yj,Gm){var cN=this.aDd(hI,ld,zR,sg,At);var ew='';ew+='stroke:'+Yj+';';switch(At){case IPCC.Web.UI.LineHeadType.None:ew='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.CQ(Gm,[cN.Cg,hI,cN.Bm],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.CQ(Gm,[cN.Cg,hI,cN.Bm],true);ew+='fill:'+Yj+';';break;case IPCC.Web.UI.LineHeadType.Open:this.CQ(Gm,[cN.Cg,hI,cN.Bm],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.CQ(Gm,[cN.Cg,hI,cN.Bm,cN.II],true);ew+='fill:'+Yj+';';break;}this.cj(Gm,{style:ew});return cN;},auB:function(F){var R=F.R;var as,hh,G,adT,amO,hO='',Gk;as=R.get_points();hh=[];for(G=0;G<as.get_length();G++){hh.push(as.getPoint(G));}if(hh.length<2||R.rI){this.cj(F.QN,{style:'display:none;'});this.cj(F.Vs,{style:'display:none;'});}else{R.Bl=R.lf;Gk=this.acA(hh,true);adT=this.aag(Gk.hI,Gk.ld,R.Ib,R.GS,R.Hl,R.Bl,F.QN);Gk=this.acA(hh,false);amO=this.aag(Gk.hI,Gk.ld,R.IL,R.IP,R.mb,R.Bl,F.Vs);hh[0]=adT.II;hh[hh.length-1]=amO.II;}this.Tw(F.rN,hh,R.rI);var yN=this.aav(R.hO);if(yN!==''){hO+='stroke-dasharray:'+yN+';';}this.cj(F.rN,{style:hO});},abB:function(F){var EC=this.aEK(F);this.Tw(F.Ii,EC.aek,false);var aeV='',hO='fill:none;',rF='fill:none;';if(EC.Yr){aeV='stroke:none;';}if(EC.Te){this.CQ(F.rN,EC.Te,false);}else{hO+='display:none;';}if(EC.PL){this.CQ(F.Ra,EC.PL,false);}else{rF+='display:none;';}var R=F.R;if(R.BI){rF+='stroke:'+R.AZ+';stroke-width:'+R.Bf+';';var yN=this.aav(R.rF);if(yN!==''){rF+='stroke-dasharray:'+yN+';';}}this.cj(F.rN,{style:hO});this.cj(F.Ra,{style:rF});this.cj(F.Ii,{style:aeV});},Ym:function(F){var R=F.R,Df;if(!R){return;}var J=R.fJ();var Dg=R.cE*this.Fl/72;R.Dg=Dg;var qu=J.width,pm=J.height,GZ=false,eh;var gm,fE=0,ek=0;var uf=1;if(R.jl){uf+=R.eK/2;}switch(R.Co){case IPCC.Web.UI.Orientation.TopLeft:gm='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gm='-1,0,0,1';fE=qu-uf;break;case IPCC.Web.UI.Orientation.BottomRight:gm='-1,0,0,-1';fE=qu-uf;ek=pm-uf;break;case IPCC.Web.UI.Orientation.BottomLeft:gm='1,0,0,-1';ek=pm-uf;break;case IPCC.Web.UI.Orientation.LeftTop:gm='0,1,1,0';GZ=true;break;case IPCC.Web.UI.Orientation.RightTop:gm='0,1,-1,0';fE=qu-uf;GZ=true;break;case IPCC.Web.UI.Orientation.RightBottom:gm='0,-1,-1,0';fE=qu-uf;ek=pm-uf;GZ=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gm='0,-1,1,0';ek=pm-uf;GZ=true;break;}if(R.eF==="#c0c0c0"){R.eF='#ffffff';}if(R.get_type()===IPCC.Web.UI.MarkType.Text){if(R.jC()===true){R.eF='#ffffff';}else{R.set_opacity(R.cS);}}if(GZ){eh=qu;qu=pm;pm=eh;}if(qu<0){qu=0;}if(pm<0){pm=0;}var VW='normal';var dg='normal';var lW='';var rs;lW+='word-wrap:break-word;background-color:transparent;line-height:1;';var Cz=0;if(R.pQ.length===7&&R.pQ.charAt(0)==='#'){Cz=parseInt(R.pQ.slice(1),16);}var cS=Math.min(1,Math.max(0,R.Bx/255));if(document.documentMode>8||IPCC.C.tE.BE){dg='normal';if(R.dg&IPCC.Web.UI.FontStyle.Italic){dg='italic';}VW='normal';if(R.dg&IPCC.Web.UI.FontStyle.Bold){VW='bold';}rs='none';if((R.dg&IPCC.Web.UI.FontStyle.Underline)&&(R.dg&IPCC.Web.UI.FontStyle.Strikeout)){rs='underline line-through';}else if(R.dg&IPCC.Web.UI.FontStyle.Underline){rs='underline';}else if(R.dg&IPCC.Web.UI.FontStyle.Strikeout){rs='line-through';}}else{lW+='color:rgba('+(Cz>>16)+','+((Cz>>8)&255)+','+(Cz&255)+','+cS+');';lW+='font-family:'+R.gq+';';lW+='font-size:'+Dg+'px;';if(R.dg&IPCC.Web.UI.FontStyle.Italic){lW+='font-style:italic;';}if(R.dg&IPCC.Web.UI.FontStyle.Bold){lW+='font-weight:bold;';}if((R.dg&IPCC.Web.UI.FontStyle.Underline)&&(R.dg&IPCC.Web.UI.FontStyle.Strikeout)){lW+='text-decoration:underline line-through;';}else if(R.dg&IPCC.Web.UI.FontStyle.Underline){lW+='text-decoration:underline;';}else if(R.dg&IPCC.Web.UI.FontStyle.Strikeout){lW+='text-decoration:line-through;';}}var FV={x:2,anchor:'start'};switch(R.iI){case IPCC.Web.UI.HorizontalAlignment.Left:lW+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:lW+='text-align:center;';FV.x=(J.width/2)-3;FV.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:lW+='text-align:right;';FV.x=J.width-8;FV.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.C.tE.BE){switch(R.wx){case IPCC.Web.UI.VerticalAlignment.Center:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cj(F.KF,{style:'display:table; width: 100%;'});lW+='display: table-cell; white-space: normal; vertical-align: middle; height:'+pm+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cj(F.nr,{style:lW+'padding:2px;'});this.cj(F.fV,{transform:'matrix('+gm+','+(fE+J.x+(R.eK/2))+','+(ek+J.y+(R.eK/2))+')',});this.cj(F.CB,{x:0,y:0,width:qu>R.eK?qu-R.eK:qu,height:pm>R.eK?pm-R.eK:pm,});this.atW(F);}else{var xm=this.ayE(F,R.iI);var alf=xm.length;switch(R.wx){case IPCC.Web.UI.VerticalAlignment.Center:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Df=(J.height/2)+(R.cE/4);if(alf>1){Df-=(alf-1)*(R.cE/2);}if(Df<0){Df=R.cE;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cj(F.EI,{x:0,y:0,width:J.width-R.eK,height:J.height-R.eK});var aBz="url(#"+F.Ip+")";var ZH={x:FV.x,y:(this.Fl/72)*R.cE,width:J.width-R.eK,height:J.height-R.eK,'font-family':R.gq,'font-size':Dg,fill:'rgba('+(Cz>>16)+', '+((Cz>>8)&255)+', '+(Cz&255)+', '+cS+')','font-weight':VW,'font-style':dg,'text-decoration':rs,'text-anchor':FV.anchor};if(typeof Df!=='undefined'){delete ZH.y;ZH.dy=Df;}this.cj(F.cI,ZH);F.cI.style.opacity=cS;this.cj(F.fV,{transform:'matrix('+gm+','+(fE+J.x+(R.eK/2))+','+(ek+J.y+(R.eK/2))+')','clip-path':aBz});var jy=F.ahV;while(jy&&jy.firstChild){jy.removeChild(jy.firstChild);}if(R.dZ){var la=this.aeH(R.dZ);for(var G=0;G<xm.length;G++){this.asg(la,xm[G].agY,jy,xm[G].bQ);}}}},ZI:function(F){var R=F.R;if(R.aj===null||R.aj===undefined){return;}if(R.aj.length===0&&R.cz>0&&this.L.cB().mR()){R.aj=IPCC.C.We(this.L.cB().hl(),R.bQ,R.bQ+R.cz-1);}if(!F.bQ|| !F.cz||F.bQ!==R.bQ||F.cz!==R.cz||R.eC===false||R.eC===true){while(F.ks.firstChild){F.ks.removeChild(F.ks.firstChild);}if(F.jN){while(F.jN.firstChild){F.jN.removeChild(F.jN.firstChild);}}if(F.xk){while(F.xk.firstChild){F.xk.removeChild(F.xk.firstChild);}}if(R.eC===false){return;}IPCC.C.forEach(F.R.aj,function(gd){var abb=this.dH('rect');F.ks.appendChild(abb);this.cj(abb,{x:gd.x,y:gd.y,width:gd.width,height:gd.height});if(F.jN){var wN=this.dH('line');this.cj(wN,{x1:gd.x,y1:gd.y+gd.height-1,x2:gd.x+gd.width,y2:gd.y+gd.height-1,"stroke-width":2});F.jN.appendChild(wN);}if(F.xk){abb.setAttribute('fill','transparent');var aep=this.dH('line');var strikethroughY=gd.y+(gd.height/2);this.cj(aep,{x1:gd.x,y1:strikethroughY,x2:gd.x+gd.width,y2:strikethroughY,stroke:F.R.lf,"stroke-width":F.R.eK});F.xk.appendChild(aep);}},this);F.bQ=R.bQ;F.cz=R.cz;}},abQ:function(F){var R=F.R;if(!R){return;}var bb=F.bb;var J,ew='',as,jl=true,mo,yR,yJ,ZX,vf,Bp;var lx=false;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:lx=true;this.auB(F);break;case IPCC.Web.UI.MarkType.Rectangle:J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.ZI(F);F.ks.style.fill=R.eF;F.ks.style.opacity=(R.cS/255);this.La(F);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.ZI(F);F.ks.style.fill=R.eF;F.jN.style.stroke=R.eF;if(F.R.get_selected()){F.jN.style.opacity=IPCC.dr.dj.Fs(false,F.R.get_selected());}else{F.jN.style.opacity=IPCC.dr.dj.Fs(false,F.R.get_selected());}this.La(F);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:J=R.get_rectangle();this.cj(F.J,{x:J.x,y:J.y,width:J.width,height:J.height});if(F.wN){this.cj(F.wN,{x1:J.x,y1:J.y+J.height,x2:J.x+J.width,y2:J.y+J.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof F.fh!=='undefined'){if(this.L.nl()===true){F.fh.style.opacity=0.2;if(typeof F.nr!=='undefined'){F.nr.style.opacity=0;}else{F.cI.style.opacity=0;}}else{F.fh.style.opacity=1;if(typeof F.nr!=='undefined'){F.nr.style.opacity=1;}}}J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});this.cj(F.fh,{x:J.x,y:J.y,width:J.width,height:J.height});if(this.L.nl()===false){this.Ym(F);}break;case IPCC.Web.UI.MarkType.Ellipse:J=R.get_rectangle();this.cj(bb,{cx:J.x+J.width/2,cy:J.y+J.height/2,rx:J.width/2,ry:J.height/2});break;case IPCC.Web.UI.MarkType.Polygon:as=this.ZZ(R);this.Tw(bb,as,false);ew+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.abB(F);this.Ym(F);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var dK=IPCC.C.ama();var si=IPCC.C.amC();si.nodeValue=R.get_text();var ih=R.ih;var bM=this.L.ow().iT();J=R.get_rectangle();dK.style.width=(J.width-R.eK/2)+'px';dK.style.height=(J.height-R.eK/2)+'px';dK.style.fontFamily=R.gq;dK.style.padding='2px';dK.style.fontStyle=R.dg;R.cE=IPCC.C.Wm(dK,ih,bM)*72/this.Fl;this.abB(F);this.Ym(F);break;case IPCC.Web.UI.MarkType.Stamp:J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});this.cj(F.uz,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.uz.style.opacity=1;this.cj(F.fh,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':R.eF,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(J.width/6);if(textFontSize>J.height){textFontSize=(J.height-(J.height/6));}mo=F.R.get_text();if(!mo){mo='APPROVED';}F.cI.childNodes[0].data=mo;var sD=mo.length*textFontSize;if(sD>J.width){textFontSize=((J.width/mo.length));}Bp=Math.round(textFontSize);R.stampSize=Bp.toString();this.cj(F.cI,{x:J.x+(J.width/2),y:J.y+(J.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':R.eF,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});this.cj(F.uz,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.uz.style.opacity=1;this.cj(F.fh,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':R.eF,'stroke-width':'0','fill':'none'});F.xV.setAttribute('height',J.height);F.xV.setAttribute('width',J.width);F.xV.setAttribute('x',J.x);F.xV.setAttribute('y',J.y);F.xV.setAttributeNS('http://www.w3.org/1999/xlink','href',R.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.La(F);break;case IPCC.Web.UI.MarkType.Highlight:J=R.get_rectangle();if(J.x===0&&J.y===0){var fR=this.L.cB().hl();if(fR.eQ()>0){var fk=fR.lo(R.bQ);J=fk.az;}R.jI='y';}this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});var NB=F.aAu;if(R.akF===true){R.akF=false;NB.setAttribute("d",R.get_pathString());var HM=R.get_pathWidth();var Hv=R.get_pathHeight();bb.setAttribute('viewBox','0 0 '+HM+' '+Hv);F.adf.setAttribute('width',HM);F.adf.setAttribute('height',Hv);}if(R.get_visible()){F.bb.style.display='block';}else{F.bb.style.display='none';}this.adV(F.bb,R.iI);NB.style.stroke=R.get_lineColor();NB.style.strokeWidth=R.get_lineWidth()+'px';NB.style.opacity=R.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});this.cj(F.fh,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.fh.style.opacity=1;var aoh=F.R.get_text()||"";F.cI.childNodes[0].data=aoh;yR=12*J.width/(R.zA||1);yJ=12*J.height/(R.zQ||1);vf=Math.min(yR,yJ);var anz=Math.floor(vf);R.stampSize=anz.toString();switch(R.iI){case IPCC.Web.UI.HorizontalAlignment.Left:F.cI.setAttribute('text-anchor','start');F.cI.setAttribute('x',J.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cI.setAttribute('text-anchor','end');F.cI.setAttribute("x",J.x+J.width);break;default:F.cI.setAttribute('text-anchor','middle');F.cI.setAttribute("x",J.x+(J.width/2));break;}this.cj(F.cI,{y:J.y+(J.height/2+(vf/3)),'font-size':vf,'stroke':"none",'fill':R.get_fillColor(),'font-family':R.get_fontName()});if(R.get_visible()){F.bb.style.display='block';}else{F.bb.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cj(bb,{style:'fill:none;opacity:1;'+R.eC?'display:block;':'display:none;'});J=R.get_rectangle();this.cj(bb,{x:J.x,y:J.y,width:J.width,height:J.height});ew='stroke:'+(R.jl?'black':'none')+';stroke-width:1;';this.cj(F.fh,{x:J.x,y:J.y,width:J.width,height:J.height,'stroke':R.jl?'black':'none','fill':'rgba(255, 255, 255, 0)','style':ew});F.cI.style.opacity=1;mo=F.R.get_text()||"";F.cI.childNodes[0].data=mo;ZX=IPCC.C.ams(mo,R.get_fontName(),J.width,J.height,{wK:"pre",dU:F.bb});vf=ZX.fontSize;R.Dg=vf;R.stampSize=vf;R.IA=true;R.nD=ZX;switch(R.iI){case IPCC.Web.UI.HorizontalAlignment.Center:F.cI.setAttribute('text-anchor','middle');F.cI.setAttribute("x",J.x+(J.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cI.setAttribute('text-anchor','end');F.cI.setAttribute("x",J.x+J.width);break;default:F.cI.setAttribute('text-anchor','start');F.cI.setAttribute('x',J.x);break;}this.cj(F.cI,{y:J.y+(J.height/2+(vf/3)),'font-size':vf,'stroke':"none",'fill':R.get_textColor(),'font-family':R.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.ZI(F);this.La(F);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',R.get_type());}if(R.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&R.get_type()!==IPCC.Web.UI.MarkType.Freehand&&R.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&R.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&R.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&R.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&R.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&R.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(lx){ew+='fill:none;';}else{if(R.IY){ew+='fill:'+R.eF+';';}else{ew+='fill:none;';}jl=R.jl;var yN=this.aav(R.hO);if(yN!==''){ew+='stroke-dasharray:'+yN+';';}}if(jl){ew+='stroke:'+R.get_lineColor()+';';ew+='stroke-width:'+R.eK+';';}else{ew+='stroke:none;';}if(R.get_type()===IPCC.Web.UI.MarkType.SignatureText){ew+='opacity:'+1+';';}else{ew+='opacity:'+(R.cS/255)+';';}if(!R.eC){ew+='display:none;';if(F.fV){F.fV.style.display='none';}}else{if(F.fV){F.fV.style.display='block';}}this.cj(bb,{style:ew});}if(R.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!R.eC){ew+='display:none;';}else{ew+='display:block;';}this.cj(bb,{style:ew});}var ac;if(!this.L.get_areMarksEditable()){ac=this.L.get_cursor();}else if(R.mA===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&R.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&R.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){ac='default';}else if(R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){ac=IPCC.ab.Link;}else if(R.get_type()!==IPCC.Web.UI.MarkType.Highlight&&R.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&R.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&R.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS)){ac=IPCC.ab.Move;}else{ac=IPCC.ab.Arrow;}bb.style.cursor=IPCC.ab.fo(ac);if(F.fV){F.fV.style.cursor=IPCC.ab.fo(ac);}},adV:function(bb,Gh){switch(Gh){case IPCC.Web.UI.HorizontalAlignment.Left:bb.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bb.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bb.setAttribute('preserveAspectRatio','xMaxYMid');break;}},La:function(F){var R=F.R,avF=R.get_visible();var J=R.get_rectangle();if(J.x===0&&J.y===0){return;}var jy=F.jy;while(jy.firstChild){jy.removeChild(jy.firstChild);}var iE;for(var G=0;G<R.dZ.length;G++){for(var bo=0;bo<R.dZ[G].length;bo++){var agH=this.L.cB().hl();if(agH.eQ()>0){var aBN=agH.lo(R.dZ[G].startIndex+bo);iE=aBN.az;}var aF=this.dH('rect');this.cj(aF,{x:iE.x,y:iE.y,width:iE.width,height:iE.height,fill:R.dZ[G].color,display:(avF)?'block':'none'});aF.style.opacity=(R.dZ[G].opacity)?(R.dZ[G].opacity)/255.0:0.5;jy.appendChild(aF);}}},aav:function(hO){switch(hO){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Ob:function(F){if(F.bb){this.aH.FD.removeChild(F.bb);}if(F.fV){this.aH.FD.removeChild(F.fV);}delete F.bb;},aHZ:function(){},aBR:function(){this.aH=undefined;},dH:function(av){return document.createElementNS('http://www.w3.org/2000/svg',av);},cj:function(bb,aD){var G;for(G in aD){if(aD.hasOwnProperty(G)){var attr=aD[G];bb.setAttribute(G,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=afk;},{}],18:[function(require,module,exports){var Lq=require('./ArtSVGUIDirector');var dj=Lq;dj.Fs=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dj.akp=function(){return 39/255;};dj.aFs=function(isSelected){return isSelected?"purple":"blue";};dj.prototype.aDd=function(hI,ld,zR,sg,At){var cN={hI:hI,ld:ld,zR:zR,sg:sg,At:At};if(hI.x===ld.x&&hI.y===ld.y){cN.At=IPCC.Web.UI.LineHeadType.None;}var MU=Math.atan2(hI.x-ld.x,-(hI.y-ld.y))+Math.PI/2;zR*=Math.PI/180;var jF=MU+zR;cN.Cg={x:hI.x+Math.cos(jF)*sg,y:hI.y+Math.sin(jF)*sg};jF=MU-zR;cN.Bm={x:hI.x+Math.cos(jF)*sg,y:hI.y+Math.sin(jF)*sg};switch(cN.At){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cN.II={x:(cN.Cg.x+cN.Bm.x)/2,y:(cN.Cg.y+cN.Bm.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cN.II={x:hI.x+Math.cos(MU)*sg/2,y:hI.y+Math.sin(MU)*sg/2};break;default:cN.II=hI;break;}return cN;};dj.prototype.aEK=function(F){var R=F.R;var J=R.get_rectangle();var Kh={x:R.mI.x+J.x+0.00001,y:R.mI.y+J.y+0.00001};var aC={};var gf=[{x:J.x,y:J.y},{x:J.x+J.width,y:J.y},{x:J.x+J.width,y:J.y+J.height},{x:J.x,y:J.y+J.height}];if(!R.xd){aC.aek=gf;aC.Yr= !R.jl;return aC;}var G,ahD=[];for(G=0;G<4;G++){ahD.push({x:(gf[G].x+gf[(G+3)%4].x)/2,y:(gf[G].y+gf[(G+3)%4].y)/2,ayL:true});}for(G=3;G>=0;G--){gf.splice(G,0,ahD[G]);}function afX(NM){var yi,agC;yi=(Kh.x-(gf[NM].x+gf[(NM+1)%8].x)/2)*J.height;agC=yi*yi;yi=(Kh.y-(gf[NM].y+gf[(NM+1)%8].y)/2)*J.width;return agC+yi*yi;};var TK=0,aly=afX(0),gc;for(G=1;G<8;G++){gc=afX(G);if(gc<aly){aly=gc;TK=G;}}gf=gf.slice(TK+1).concat(gf.slice(0,TK+1));var BZ=gf[0],CG=gf[7];for(G=gf.length-1;G>=0;G--){if(gf[G].ayL){gf.splice(G,1);}}switch(R.CR){case IPCC.Web.UI.CalloutType.Triangle:gf.splice(0,0,{x:(BZ.x*3+CG.x)/4,y:(BZ.y*3+CG.y)/4});gf.push({x:(BZ.x+CG.x*3)/4,y:(BZ.y+CG.y*3)/4});if(R.BI){aC.Yr=true;aC.Te=[].concat(gf);aC.PL=[gf[0],Kh,gf[gf.length-1]];}gf.push(Kh);break;default:case IPCC.Web.UI.CalloutType.Line:aC.PL=[{x:(BZ.x+CG.x)/2,y:(BZ.y+CG.y)/2},Kh];break;}aC.aek=gf;if(!R.jl){aC.Yr=true;delete aC.Te;delete aC.PL;}return aC;};dj.prototype.ZZ=function(R){var as=R.get_points();var hh=[],G;for(G=0;G<as.get_length();G++){hh.push(as.getPoint(G));}return hh;};dj.prototype.acA=function(hh,avW){var bv=0,Sb=1,abX=hh.length-2,hI,ld;if(!avW){bv=hh.length-1;Sb= -1;}hI=hh[bv];bv+=Sb;ld=hh[bv];bv+=Sb;while(hI.x===ld.x&&hI.y===ld.y&&abX>0){ld=hh[bv];bv+=Sb;abX--;}return{hI:hI,ld:ld};};dj.prototype.acU=function(L,aH,ad,kz){if(IPCC.C.Zv){return;}if(!aH.nq){aH.nq=[];}var nq=aH.nq;if(ad.length<1&&nq.length<1){if(aH.BL.firstChild){aH.BL.innerHTML='';}return;}var ag=L.eI();var ee=ag.yh();if(this.gw===undefined){this.gw=40;var zK=document.createElement("div");zK.className='pccMarkHandleTopLeft';zK.visibility='hidden';document.body.appendChild(zK);if(zK.currentStyle){this.gw=parseInt(zK.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var avd=document.defaultView.getComputedStyle(zK);this.gw=parseInt(avd.width,10)||0;}document.body.removeChild(zK);}var G,Il=[];for(G=0;G<ad.length;G++){if(ad[G].get_visible()===true){if(ee.FP(ad[G])>=0||(ad[G].get_selected()===true&&(ad[G].kf===true||ad[G].jL===true))||ad[G].vy===true){Il.push(ad[G]);}}}for(G=0;G<nq.length;G++){while(G<nq.length&&(G>=Il.length||nq[G].R!==Il[G])){aH.BL.removeChild(nq[G].gH);nq.splice(G,1);}if(G<nq.length){this.abK(nq[G],kz);}}for(G=nq.length;G<Il.length;G++){nq[G]={R:Il[G]};this.ayZ(aH.BL,nq[G]);this.abK(nq[G],kz);}};dj.prototype.tU=function(gH,axn,FI,vb,axt,ac,dz){var cL=[],G,cu;if(dz===undefined){dz='handle';}for(G=0;G<axn;G++){cu={bb:document.createElement('div')};cu.bb.ImGearMarkHandle=cu;cu.ac=ac;cu.av=vb;cu.bv=axt+G;gH.appendChild(cu.bb);cu.bb.setAttribute('data-pcc-mark',dz+'-'+gH.ImGearMarkRelation.R.nf());cL.push(cu);}return cL;};dj.prototype.atE=function(dB){if(dB.cL===undefined||this.L.get_areMarksEditable()===false){return;}var G;for(G=0;G<dB.cL.length;G++){var cu=dB.cL[G];cu.bb.style.cursor=IPCC.ab.fo(cu.ac);}};dj.prototype.ayZ=function(BL,dB){dB.gH=document.createElement('div');dB.gH.style.width='0px';dB.gH.style.height='0px';dB.gH.style.left='0px';dB.gH.style.top='0px';dB.gH.style.zIndex='1';var G,R=dB.R,cu;dB.gH.ImGearMarkRelation=dB;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:dB.cL=this.tU(dB.gH,2,this.gw,this.KB,0,IPCC.ab.Move);dB.cL=dB.cL.concat(this.tU(dB.gH,2,this.gw,this.Kw,0,IPCC.ab.Move));break;case IPCC.Web.UI.MarkType.Polygon:dB.cL=[];break;case IPCC.Web.UI.MarkType.Freehand:dB.cL=[];dB.jE=document.createElement('div');dB.jE.style.border='1px solid gray';dB.jE.style.position='absolute';dB.gH.appendChild(dB.jE);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS!==undefined){break;}dB.jE=document.createElement('div');dB.jE.style.border='1px solid gray';dB.jE.style.position='absolute';dB.gH.appendChild(dB.jE);dB.cL=this.tU(dB.gH,4,this.gw,this.VH,0,-1);dB.cL=dB.cL.concat(this.tU(dB.gH,4,this.gw,this.Vu,0,-1));for(G=4;G<8;G++){cu=dB.cL[G];cu.ayM=dB.cL[G-4];cu.ayi=dB.cL[(G+1)%4];}if(R.get_type()===IPCC.Web.UI.MarkType.Text){dB.cL=dB.cL.concat(this.tU(dB.gH,1,this.gw,this.Su,0,IPCC.ab.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dB.cL=this.tU(dB.gH,1,this.gw,this.KB,0,IPCC.ab.Move,'texthandlestart');dB.cL=dB.cL.concat(this.tU(dB.gH,1,this.gw,this.KB,1,IPCC.ab.Move,'texthandleend'));break;}if(R.jc()===IPCC.Web.UI.MarkType.Text||R.jc()===IPCC.Web.UI.MarkType.TextLine||R.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){var oG=document.createElement('div');oG.className='pccEditMarkButton';oG.setAttribute('data-pcc-mark','edit-'+R.nf());oG.onclick=function(aS){aS=aS||{};aS.stopPropagation?aS.stopPropagation():aS.cancelBubble=true;aS.preventDefault?aS.preventDefault():aS.returnValue=false;var pN;var uZ=dB.gH;while(uZ&&(uZ.parentNode||uZ.ownerSVGElement)){if(uZ.parentNode.id&&uZ.parentNode.id.indexOf("__pViewId")!== -1){pN=uZ.parentNode;}uZ=uZ.ownerSVGElement||uZ.parentNode;}pN&&pN.aL.aAF(aS,R);};dB.gH.appendChild(oG);var aEI={bb:oG};dB.cL.push(aEI);}BL.appendChild(dB.gH);};dj.jG={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dj.prototype.VH=0;dj.prototype.Vu=1;dj.prototype.Kw=2;dj.prototype.KB=3;dj.prototype.Su=4;dj.prototype.aev=function(cu,auW){switch(auW){case IPCC.dr.dj.jG.TopLeft:cu.bb.className='pccMarkHandleTopLeft';break;case IPCC.dr.dj.jG.TopCenter:cu.bb.className='pccMarkHandleTopCenter';break;case IPCC.dr.dj.jG.TopRight:cu.bb.className='pccMarkHandleTopRight';break;case IPCC.dr.dj.jG.MidLeft:cu.bb.className='pccMarkHandleMidLeft';break;case IPCC.dr.dj.jG.MidRight:cu.bb.className='pccMarkHandleMidRight';break;case IPCC.dr.dj.jG.BottomLeft:cu.bb.className='pccMarkHandleBottomLeft';break;case IPCC.dr.dj.jG.BottomCenter:cu.bb.className='pccMarkHandleBottomCenter';break;case IPCC.dr.dj.jG.BottomRight:cu.bb.className='pccMarkHandleBottomRight';break;case IPCC.dr.dj.jG.Point:cu.bb.className='pccMarkHandlePoint';break;case IPCC.dr.dj.jG.TextSelectionStart:cu.bb.className='pccMarkHandleTextSelectionStart';break;case IPCC.dr.dj.jG.TextSelectionEnd:cu.bb.className='pccMarkHandleTextSelectionEnd';break;default:cu.bb.className='pccMarkHandlePoint';break;}};dj.prototype.zC=function(cu,ayJ,kz,FI,oA){cu.bK=kz.transform(ayJ);cu.bb.style.left=(cu.bK.x-FI/2)+'px';cu.bb.style.top=(cu.bK.y-FI/2)+'px';cu.bb.style.display='block';cu.bb.style.zIndex='1';this.aev(cu,oA);};dj.prototype.aet=function(cu,FI,oA){cu.bb.style.left=(cu.bK.x-FI/2)+'px';cu.bb.style.top=(cu.bK.y-FI/2)+'px';cu.bb.style.display='block';cu.bb.style.zIndex='1';this.aev(cu,oA);};dj.prototype.sj=function(cu){cu.bb.style.display='none';};dj.prototype.abK=function(dB,kz){if(this.L.get_areMarksEditable()===true){dB.gH.style.cursor='move';}var G,R=dB.R,cL=dB.cL,cu;var hh,J,qP,kV,vb,fl;var gc,Ev,fE,ek,PK;switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:hh=this.ZZ(R);Ev=hh.length+2-cL.length;if(Ev>0){dB.cL=dB.cL.concat(this.tU(dB.gH,Ev,this.gw,this.Kw,cL.length-2,IPCC.ab.Move));cL=dB.cL;}for(G=0;G<hh.length;G++){this.zC(cL[G+2],hh[G],kz,this.gw,IPCC.dr.dj.jG.Point);}for(G=hh.length+2;G<cL.length;G++){this.sj(cL[G+2]);}break;case IPCC.Web.UI.MarkType.Polygon:hh=this.ZZ(R);Ev=hh.length-cL.length;if(Ev>0){dB.cL=dB.cL.concat(this.tU(dB.gH,Ev,this.gw,this.Kw,cL.length,IPCC.ab.Move));cL=dB.cL;}for(G=0;G<hh.length;G++){this.zC(cL[G],hh[G],kz,this.gw,IPCC.dr.dj.jG.Point);}for(G=hh.length;G<cL.length;G++){this.sj(cL[G]);}break;case IPCC.Web.UI.MarkType.Freehand:J=R.fJ();qP=kz.transform({x:J.x,y:J.y});kV=kz.transform({x:J.x+J.width,y:J.y+J.height});fl={x:Math.min(qP.x,kV.x),y:Math.min(qP.y,kV.y)};fl.width=Math.max(qP.x,kV.x)-fl.x;fl.height=Math.max(qP.y,kV.y)-fl.y;dB.jE.style.left=fl.x+'px';dB.jE.style.top=fl.y+'px';dB.jE.style.width=fl.width+'px';dB.jE.style.height=fl.height+'px';dB.jE.setAttribute('data-pcc-mark','outline-'+R.nf());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS!==undefined){break;}J=R.fJ();cL[0].bK=kz.transform({x:J.x,y:J.y});cL[1].bK=kz.transform({x:J.x+J.width,y:J.y});cL[2].bK=kz.transform({x:J.x+J.width,y:J.y+J.height});cL[3].bK=kz.transform({x:J.x,y:J.y+J.height});fl={x:Math.min(cL[0].bK.x,cL[2].bK.x),y:Math.min(cL[0].bK.y,cL[2].bK.y)};fl.width=Math.max(cL[0].bK.x,cL[2].bK.x)-fl.x;fl.height=Math.max(cL[0].bK.y,cL[2].bK.y)-fl.y;PK={x:fl.x+fl.width/2,y:fl.y+fl.height/2};for(G=0;G<4;G++){cu=cL[G];vb=(cu.bK.x<PK.x)?((cu.bK.y<PK.y)?0:2):((cu.bK.y<PK.y)?1:3);this.aet(cu,this.gw,vb);switch(vb){case 0:cu.ac=IPCC.ab.ResizeNW;break;case 1:cu.ac=IPCC.ab.ResizeNE;break;case 2:cu.ac=IPCC.ab.ResizeSW;break;case 3:cu.ac=IPCC.ab.ResizeSE;break;}}dB.jE.style.left=fl.x+'px';dB.jE.style.top=fl.y+'px';dB.jE.style.width=fl.width+'px';dB.jE.style.height=fl.height+'px';dB.jE.setAttribute('data-pcc-mark','outline-'+R.nf());var aBg=fl.x+fl.width/4;var awz=fl.x+fl.width*3/4;var aGH=fl.y+fl.height/4;var awg=fl.y+fl.height*3/4;if(this.aW.xw()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qP=cL[0].bK;kV=cL[1].bK;var aAS=cL[2].bK;fE=qP.x-kV.x;ek=kV.y-aAS.y;var ari=fE*fE;var aqE=ek*ek;if(Math.min(ari,aqE)<this.gw*this.gw*5){this.sj(cL[0]);this.sj(cL[1]);this.sj(cL[2]);this.sj(cL[3]);}}for(G=4;G<8;G++){cu=cL[G];qP=cu.ayM.bK;kV=cu.ayi.bK;fE=qP.x-kV.x;ek=qP.y-kV.y;gc=fE*fE+ek*ek;if(this.aW.xw()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gc<this.gw*this.gw*5){this.sj(cu);}else{cu.bK={x:(qP.x+kV.x)/2,y:(qP.y+kV.y)/2};this.aet(cu,this.gw,G);if(cu.bK.x<aBg){cu.ac=IPCC.ab.ResizeW;}else if(cu.bK.x>awz){cu.ac=IPCC.ab.ResizeE;}else if(cu.bK.y<aGH){cu.ac=IPCC.ab.ResizeN;}else if(cu.bK.y>awg){cu.ac=IPCC.ab.ResizeS;}}}if(R.get_type()===IPCC.Web.UI.MarkType.Text){if(R.xd){this.zC(cL[8],{x:J.x+R.mI.x,y:J.y+R.mI.y},kz,this.gw,IPCC.dr.dj.jG.Callout);}else{this.sj(cL[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:dB.gH.style.cursor='move';var fk,iE,zS;var Kp=this.L.cB();var fR=Kp.hl();if(R.kf===true){zS=R.bQ;if(zS>=fR.eQ()){fk=fR.lo(fR.eQ()-1);iE=fk.tu();this.zC(cL[0],new IPCC.Web.UI.Point(iE.x+iE.width,iE.y),kz,this.gw,IPCC.dr.dj.jG.TextSelectionStart);break;}fk=fR.lo(R.bQ);iE=fk.tu();this.zC(cL[0],new IPCC.Web.UI.Point(iE.x,iE.y),kz,this.gw,IPCC.dr.dj.jG.TextSelectionStart);}else{this.sj(cL[0]);}if(R.jL===true){zS=R.bQ+R.cz-1;if(zS<0){fk=fR.lo(0);iE=fk.tu();this.zC(cL[1],new IPCC.Web.UI.Point(iE.x,iE.y+iE.height),kz,this.gw,IPCC.dr.dj.jG.TextSelectionEnd);break;}fk=fR.lo(zS);iE=fk.tu();this.zC(cL[1],new IPCC.Web.UI.Point(iE.x+iE.width,iE.y+iE.height),kz,this.gw,IPCC.dr.dj.jG.TextSelectionEnd);}else{this.sj(cL[1]);}break;}if(R.get_type()===IPCC.Web.UI.MarkType.Text||R.get_type()===IPCC.Web.UI.MarkType.TextLine||R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var uh=cL[cL.length-1];if(uh.bb.className.match(/pcc/)){var Xd=dB.jE.clientHeight;var Wq=dB.jE.clientWidth;var ajE=dB.jE.offsetTop;var aiE=dB.jE.offsetLeft;var afI=uh.bb.clientHeight;var Tf=uh.bb.clientWidth;uh.bb.style.position='absolute';uh.bb.style.zIndex='2';if(Xd>afI+10&&Wq>Tf+10){uh.bb.style.top=(Xd-afI)/2+ajE+'px';uh.bb.style.left=(Wq-Tf)/2+aiE+'px';}else{uh.bb.style.top=Xd+ajE+10+'px';uh.bb.style.left=(Wq-Tf)/2+aiE+'px';}}}this.atE(dB);};dj.prototype.aeH=function(hm,wF){var aCq=IPCC.C.aeR(hm,wF||'#ffffff'),axc=IPCC.C.map(aCq,function(bB){return{bQ:bB.startIndex,cU:bB.endIndex,BX:bB.color};});return axc;};dj.prototype.atW=function(F){var R=F.R;if(R.dZ){var la=this.aeH(R.dZ);var DY=R.bm;var AR='';for(var G=la.length-1;G>=0;G--){var TQ=la[G];var bQ=TQ.bQ;var cU=TQ.cU;var cY=TQ.BX;var dE=IPCC.C.GA(DY.substr(bQ,cU-bQ+1));var anM=IPCC.C.GA(DY.substr(cU+1,DY.length-cU+1));DY=DY.substr(0,bQ);AR="<span style='background-color:"+cY+";'>"+dE+'</span>'+anM+AR;}AR=IPCC.C.GA(DY)+AR;AR=AR.replace(/\n/g,'<br/>');F.nr.innerHTML=AR;}else{F.zu.data=R.bm;}};module.exports=dj;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var wl={JN:function(){var wU=IPCC.wl;if(wU.tA===null){
/*@cc_on@if(@_jscript)wU.tA=document.documentMode>8;@else@*/ wU.tA=true;/*@end@*/}return wU.tA;},tA:null};module.exports=wl;},{}],20:[function(require,module,exports){var ey=function(abg,aCi){this.L=false;this.abg=abg;var mt=IPCC.Web.UI;var ay=aCi;if(!ay||ay===null){ay=IPCC.aeY;}this.ay=ay;var apv={bm:ay.zoomInMenuItem,fP:IPCC.fg.acf,H:1.25};var ata={bm:ay.zoomOutMenuItem,fP:IPCC.fg.aaa,H:1.25};var aFt={bm:ay.fullImageMenuItem,H:mt.FitType.FullImage};var aFy={bm:ay.fullWidthMenuItem,H:mt.FitType.FullWidth};var aFl={bm:ay.fullHeightMenuItem,H:mt.FitType.FullHeight};var aGq={bm:ay.oneToOneRatioMenuItem,H:mt.FitType.OneToOne};var avN={bm:ay.actualSizeMenuItem,H:mt.FitType.ActualSize};var ayw={bm:ay.rotateRightMenuItem,fP:IPCC.fg.Wp,H:90};var ayx={bm:ay.rotateLeftMenuItem,fP:IPCC.fg.Wp,H: -90};var arw={bm:ay.mirrorHorizontalMenuItem,fP:IPCC.fg.ajD};var apJ={bm:ay.mirrorVerticalMenuItem,fP:IPCC.fg.akV};var VE={bm:ay.panToolMenuItem,H:mt.MouseTool.HandPan};var aah={bm:ay.areaSelectionToolMenuItem,H:mt.MouseTool.Select};var aae={bm:ay.zoomRectangleToolMenuItem,H:mt.MouseTool.RectangleZoom};var XA={bm:ay.flyingMagnifierToolMenuItem,H:mt.MouseTool.Magnifier};var ayA={bm:ay.createTextMarkToolMenuItem,H:mt.MouseTool.CreateTextMark};var axr={bm:ay.createLineMarkToolMenuItem,H:mt.MouseTool.CreateLineMark};var axA={bm:ay.createRectangleMarkToolMenuItem,H:mt.MouseTool.CreateRectangleMark};var ayX={bm:ay.createEllipseMarkToolMenuItem,H:mt.MouseTool.CreateEllipseMark};var aAQ={bm:ay.editMarksToolMenuItem,H:mt.MouseTool.EditMarks};var ayj={bm:ay.createStampMarkToolMenuItem,H:mt.MouseTool.CreateStampMark};var axL={bm:ay.createHighlightMarkToolMenuItem,H:mt.MouseTool.CreateHighlightTextMark};var ahf={aO:55,cV:[{bm:ay.thicknessMenu.item1,H:1},{bm:ay.thicknessMenu.item2,H:2},{bm:ay.thicknessMenu.item3,H:3},{bm:ay.thicknessMenu.item4,H:4},{bm:ay.thicknessMenu.item5,H:5},{bm:ay.thicknessMenu.item6,H:6},{bm:ay.thicknessMenu.item7,H:7},{bm:ay.thicknessMenu.item8,H:8}]};var aDD={aO:145,cV:[{bm:ay.opacityMenu.translucent,H:127},{bm:ay.opacityMenu.opaque,H:255}]};var Rg={bm:ay.borderThicknessMenuItem,fP:IPCC.fg.FU,bA:'lineWidth',ni:ahf};var Qq={bm:ay.borderColorMenuItem,fP:IPCC.fg.MO,bA:'lineColor'};var Jh={bm:ay.fillColorMenuItem,fP:IPCC.fg.MO,bA:'fillColor'};var akq={bm:ay.lineThicknessMenuItem,fP:IPCC.fg.FU,bA:'lineWidth',ni:ahf};var akc={bm:ay.lineColorMenuItem,fP:IPCC.fg.MO,bA:'lineColor'};var ayB={bm:ay.fontMenuItem,fP:IPCC.fg.ajY};var NP={bm:ay.opacityMenuItem,fP:IPCC.fg.FU,bA:'opacity',ni:aDD};var aqx={bm:ay.moveToBackMenuItem,fP:IPCC.fg.aks};var arp={bm:ay.moveBackwardMenuItem,fP:IPCC.fg.alo};var apY={bm:ay.moveForwardMenuItem,fP:IPCC.fg.als};var aql={bm:ay.moveToFrontMenuItem,fP:IPCC.fg.ajO};var uK={bm:ay.deleteMarkMenuItem,fP:IPCC.fg.aaX};var aoM={aO:180,cV:[aFt,aFy,aFl,aGq,avN]};var aow={bm:ay.zoomToFitMenuItem,fP:IPCC.fg.acd,ni:aoM};var aFD={aO:200,cV:[ayw,ayx,arw,apJ]};var aEZ={bm:ay.orientationMenuItem,ni:aFD};var Ot;if(IPCC.dr){if(IPCC.ha===false){Ot={aO:180,cV:[VE,aae,XA,aah,null]};}else{Ot={aO:180,cV:[VE,aae,XA,aah,null,aAQ,ayA,axr,axA,ayX,ayj,axL]};}}else{Ot={aO:180,cV:[VE,aae,XA,aah]};}var apH={bm:ay.mouseToolsMenuItem,fP:IPCC.fg.aft,ni:Ot};var azH={aO:150,cV:[Jh,Rg,Qq,null,NP]};var aBC={aO:150,cV:[Jh,Rg,Qq,null,null]};var azC={aO:150,bm:ay.rectangleMarkPropertiesMenuItem,ni:azH};var aBd={aO:150,bm:ay.rectangleMarkPropertiesMenuItem,ni:aBC};var auU={aO:150,cV:[ayB,Jh,Rg,Qq,null,null,null,NP]};var auR={bm:ay.textMarkPropertiesMenuItem,ni:auU};var azl={aO:150,cV:[Jh,Rg,Qq,null,NP]};var azg={bm:ay.polygonMarkPropertiesMenuItem,ni:azl};var azc={aO:140,cV:[akq,akc,null,NP]};var azb={bm:ay.polylineMarkPropertiesMenuItem,ni:azc};var asb={aO:140,cV:[akq,akc,null,null]};var asx={bm:ay.lineMarkPropertiesMenuItem,ni:asb};var aor={aO:140,cV:[aql,apY,arp,aqx]};var xe={bm:ay.markOrderingMenuItem,ni:aor};var apD={aO:150,cV:[Jh]};var afQ={bm:ay.stampMarkPropertiesMenuItem,ni:apD};this.asj={aO:180,cV:[apv,ata,aow,aEZ,apH]};this.auu={aO:140,cV:[auR,xe,uK]};this.azY={aO:140,cV:[azC,xe,uK]};this.aqT={aO:140,cV:[afQ,xe,uK]};this.apy={aO:140,cV:[null,xe,uK]};this.aAE={aO:140,cV:[aBd,xe,uK]};this.aAh={aO:140,cV:[azg,xe,uK]};this.azh={aO:140,cV:[azb,xe,uK]};this.asK={aO:140,cV:[asx,xe,uK]};this.asC={aO:140,cV:[afQ,null,uK]};};ey.prototype.mf=function(L){this.L=L;};ey.prototype.fd=function(){this.L=false;};ey.prototype.bn=function(){};ey.prototype.Tm=function(V){var iy;if(V.mark&&this.abg){var Lk=V.mark.jC();switch(V.mark.get_type()){case IPCC.Web.UI.MarkType.Line:iy=this.asK;break;case IPCC.Web.UI.MarkType.Polyline:iy=this.azh;break;case IPCC.Web.UI.MarkType.Rectangle:iy=this.azY;break;case IPCC.Web.UI.MarkType.Ellipse:iy=this.aAE;break;case IPCC.Web.UI.MarkType.Polygon:iy=this.aAh;break;case IPCC.Web.UI.MarkType.Text:iy=this.auu;break;case IPCC.Web.UI.MarkType.Stamp:if(Lk===true){iy=this.apy;}else{iy=this.aqT;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(V.mark.jI==='y'){iy=this.asC;}break;}}if(!iy){iy=this.asj;}var uI=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var va=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var ade=new IPCC.Web.UI.Point(V.domEvent.clientX+uI,V.domEvent.clientY+va);var h=this;function yt(ax){if(ta){var bh=ax.target;if(bh&&bh===null){return;}var Dc,aic;while(bh&&bh!==document.body&&bh.parentNode!==null){if(bh&&bh!==null){if(bh===ta){aic=true;}if(!Dc&&bh.ImGearCommand){Dc=bh.ImGearCommand;}bh=bh.parentNode;}}if(!aic||Dc){IPCC.Web.UI.bC.removeHandler(document.body,'mousedown',yt);IPCC.Web.UI.bC.removeHandler(document.body,'mousemove',abw);document.body.removeChild(ta);ta=null;if(Dc){Dc.Xz=V;h.ayS(Dc);}}}};function XO(EZ,Bd,BY,Gv){var eC=false,G,bh;for(G=0;G<Bd.length;G++){if(EZ===Bd[G]){eC=true;}}if(!eC&&EZ.ImGearType==='menu'){EZ.style.display='none';}else{EZ.style.display='block';}bh=EZ.firstChild;while(bh){if(bh.ImGearType==='menuItemHighlight'){if(bh===Gv){bh.style.display='block';}else{bh.style.display='none';}}if(bh.firstChild){XO(bh,Bd,BY,Gv);}bh=bh.nextSibling;}};function abw(ax){if(ta){var bh=ax.target;if(bh&&bh===null){return;}var Bd=[ta],BY,Gv;while(bh&&bh!==document.body&&bh.parentNode!==null){if(!BY&&bh.ImGearType==='menuItem'){BY=bh;}if(bh.ImGearType==='menu'){Bd.push(bh);}bh=bh.parentNode;}if(BY){bh=BY.firstChild;while(bh){if(bh.ImGearType==='menuItemHighlight'){Gv=bh;}else if(bh.ImGearType==='menu'){Bd.push(bh);}bh=bh.nextSibling;}}XO(ta,Bd,BY,Gv);}};var az;if(window.innerWidth){az={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){az={x:uI,y:va,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{az={x:uI,y:va,width:document.body.clientWidth,height:document.body.clientHeight};}var ta=this.akt(iy,false,false,ade,ade,true,az,document.body,V.mark);XO(ta,[ta],null,null);document.body.appendChild(ta);IPCC.Web.UI.bC.addHandler(document.body,'mousedown',yt);IPCC.Web.UI.bC.addHandler(document.body,'mousemove',abw);};ey.prototype.akt=function(iy,fP,bA,Za,XZ,Bw,az,aCy,R){var anc=24,aga=1;var G,aaC=0;for(G=0;G<iy.cV.length;G++){var aoA=iy.cV[G];if(aoA){aaC+=anc;}else{aaC+=aga;}}var OO;if(Bw){OO=XZ.x+iy.aO;if(OO>az.x+az.width){Bw=false;}}if(!Bw){OO=Za.x-iy.aO;if(OO<az.x){Bw=true;}}var rw={x:XZ.x,y:XZ.y};if(!Bw){rw={x:Za.x-iy.aO-2,y:Za.y-2};}var agM=az.y+az.height-aaC-8;if(rw.y>agM){rw.y=agM;}if(rw.y<az.y+2){rw.y=az.y+2;}function gj(ql){var xS=document.createElement('div');var G;for(G in ql){if(ql.hasOwnProperty(G)){xS.style[G]=ql[G];}}return xS;};var Na=gj({zIndex:2,width:iy.aO+'px',left:rw.x+'px',top:rw.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Na.ImGearType='menu';for(G=0;G<iy.cV.length;G++){var wr=iy.cV[G];var tN;if(wr){tN=gj({position:'relative',height:'24px'});tN.ImGearType='menuItem';var xP=gj({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});tN.appendChild(xP);var amE=gj({textOverflow:'ellipsis',whiteSpace:'nowrap',width:iy.aO-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});tN.appendChild(amE);var alR=gj({display:'none',position:'absolute',height:'24px',width:iy.aO+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});alR.ImGearType='menuItemHighlight';tN.appendChild(alR);amE.appendChild(document.createTextNode(wr.bm));var Mw=wr.fP||fP;var ER=wr.bA||bA;if(ER){if(Mw===IPCC.fg.FU){var awQ=R['get_'+ER]();if(awQ===wr.H){if(this.L.us()){xP.style.backgroundImage='url(\''+this.L.us()+'/MenuIcons.png'+'\')';}else{xP.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xP.style.backgroundPosition='0px';}}else if(Mw===IPCC.fg.akU){var awC=R['get_'+ER]();if(awC){if(this.L.us()){xP.style.backgroundImage='url(\''+this.L.us()+'/MenuIcons.png'+'\')';}else{xP.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}xP.style.backgroundPosition='24px 0px';}}}if(!wr.ni){tN.ImGearCommand={fP:Mw,bA:ER,H:wr.H};}else{var aDu={x:az.x-rw.x,y:az.y-rw.y,width:az.width,height:az.height};this.akt(wr.ni,Mw,ER,{x:0,y: -1},{x:iy.aO,y: -1},Bw,aDu,tN,R);}rw.y+=anc;}else{tN=gj({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});rw.y+=aga;}Na.appendChild(tN);}aCy.appendChild(Na);return Na;};ey.prototype.aAM=function(R,df,L){var uI=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var va=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var az;if(window.innerWidth){az={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){az={x:uI,y:va,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{az={x:uI,y:va,width:document.body.clientWidth,height:document.body.clientHeight};}var nt=az.x+az.width/2;var mk=az.y+az.height/2;var hK=document.createElement('div');hK.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mk-85)+'px;left:'+(nt-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ay.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ay.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hK);var UG=document.getElementById('ImGearColorRed');var alm=document.getElementById('ImGearColorGreen');var agA=document.getElementById('ImGearColorBlue');var JO=document.getElementById('ImGearColorOKButton');var HF=document.getElementById('ImGearColorCancelButton');var UT=R['get_'+df]();var Nq;if(UT.length===7&&UT.charAt(0)==='#'){Nq=parseInt(UT.slice(1),16);}UG.value=(Nq>>16);alm.value=((Nq>>8)&255);agA.value=(Nq&255);function YZ(abR){var H=Math.floor(+(abR.value));if(!isFinite(H)){H=0;}if(H<0){H=0;}if(H>255){H=255;}return H;};function yL(){IPCC.Web.UI.bC.removeHandler(JO,'click',Kx);IPCC.Web.UI.bC.removeHandler(HF,'click',Hw);IPCC.Web.UI.bC.removeHandler(document.body,'mousedown',yt);};function Kx(){var cY=YZ(UG)*65536+YZ(alm)*256+YZ(agA);R['set_'+df]('#'+(0x1000000+cY).toString(16).slice(1));yL();document.body.removeChild(hK);hK=null;L.dC();};function Hw(){yL();document.body.removeChild(hK);hK=null;};function yt(ax){if(hK){var bh=ax.target;var Km;while(bh!==document.body){if(bh===hK){Km=true;}bh=bh.parentNode;}if(!Km){yL();document.body.removeChild(hK);hK=null;}}};IPCC.Web.UI.bC.addHandler(JO,'click',Kx);IPCC.Web.UI.bC.addHandler(HF,'click',Hw);IPCC.Web.UI.bC.addHandler(document.body,'mousedown',yt);UG.focus();};ey.prototype.azR=function(R,L){var uI=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var va=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var az;if(window.innerWidth){az={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){az={x:uI,y:va,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{az={x:uI,y:va,width:document.body.clientWidth,height:document.body.clientHeight};}var nt=az.x+az.width/2;var mk=az.y+az.height/2;var hK=document.createElement('div');hK.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mk-85)+'px;left:'+(nt-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ay.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ay.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ay.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hK);var WG=document.getElementById('ImGearFontFamily');var ajv=document.getElementById('ImGearFontSize');var aiI=document.getElementById('ImGearFontItalic');var ajl=document.getElementById('ImGearFontBold');var aiP=document.getElementById('ImGearFontUnderline');var ajw=document.getElementById('ImGearFontStrikeout');var JO=document.getElementById('ImGearFontOKButton');var HF=document.getElementById('ImGearFontCancelButton');var aGa=R.get_fontName();var ayp=R.get_fontSize();var sR=R.get_fontStyle();WG.value=aGa;ajv.value=ayp;aiI.checked=sR&IPCC.Web.UI.FontStyle.Italic;ajl.checked=sR&IPCC.Web.UI.FontStyle.Bold;aiP.checked=sR&IPCC.Web.UI.FontStyle.Underline;ajw.checked=sR&IPCC.Web.UI.FontStyle.Strikeout;function avY(abR){var H=Math.floor(+(abR.value));if(!isFinite(H)){H=12;}if(H<0.1){H=0.1;}if(H>288){H=288;}return H;};function yL(){IPCC.Web.UI.bC.removeHandler(JO,'click',Kx);IPCC.Web.UI.bC.removeHandler(HF,'click',Hw);IPCC.Web.UI.bC.removeHandler(document.body,'mousedown',yt);};function Kx(){R.set_fontName(WG.value);var cE=avY(ajv);R.set_fontSize(cE);var ew=0;if(aiI.checked){ew|=IPCC.Web.UI.FontStyle.Italic;}if(ajl.checked){ew|=IPCC.Web.UI.FontStyle.Bold;}if(aiP.checked){ew|=IPCC.Web.UI.FontStyle.Underline;}if(ajw.checked){ew|=IPCC.Web.UI.FontStyle.Strikeout;}R.set_fontStyle(ew);yL();document.body.removeChild(hK);hK=null;L.dC();};function Hw(){yL();document.body.removeChild(hK);hK=null;};function yt(ax){if(hK){var bh=ax.target;var Km;while(bh!==document.body){if(bh===hK){Km=true;}bh=bh.parentNode;}if(!Km){yL();document.body.removeChild(hK);hK=null;}}};IPCC.Web.UI.bC.addHandler(JO,'click',Kx);IPCC.Web.UI.bC.addHandler(HF,'click',Hw);IPCC.Web.UI.bC.addHandler(document.body,'mousedown',yt);WG.focus();};ey.prototype.ayS=function(V){var R=V.Xz.mark;switch(V.fP){case IPCC.fg.FU:R['set_'+V.bA](V.H);this.L.dC();break;case IPCC.fg.MO:this.aAM(R,V.bA,this.L);break;case IPCC.fg.ajY:this.azR(R,this.L);break;case IPCC.fg.akU:R['set_'+V.bA](!R['get_'+V.bA]());this.L.dC();break;case IPCC.fg.aks:R.moveToBack();this.L.dC();break;case IPCC.fg.alo:R.moveBackward();this.L.dC();break;case IPCC.fg.als:R.moveForward();this.L.dC();break;case IPCC.fg.ajO:R.moveToFront();this.L.dC();break;case IPCC.fg.aaX:R.removeFromPage();this.L.dC();break;default:this.L.aCE(V);break;}};module.exports=ey;},{}],21:[function(require,module,exports){var ab={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,fo:function(ac){if(typeof ac==='string'){return ac;}switch(ac){case IPCC.ab.Default:case IPCC.ab.Magnifier:case IPCC.ab.None:case IPCC.ab.RunMarks:return 'auto';case IPCC.ab.Arrow:case IPCC.ab.EditMarks:return 'default';case IPCC.ab.Crosshair:case IPCC.ab.RectangleZoom:case IPCC.ab.AddRectangleMark:case IPCC.ab.AddEllipseMark:case IPCC.ab.AddLineMark:case IPCC.ab.AddFreehandLineMark:case IPCC.ab.AddPolygonMark:case IPCC.ab.AddPolylineMark:case IPCC.ab.AddTextMark:case IPCC.ab.AddRectangleRedactionMark:case IPCC.ab.AddImageStampMark:case IPCC.ab.AddStampMark:return 'crosshair';case IPCC.ab.Link:return 'pointer';case IPCC.ab.HandOpen:case IPCC.ab.HandClosed:case IPCC.ab.Move:return 'move';case IPCC.ab.ResizeN:return 'n-resize';case IPCC.ab.ResizeE:return 'e-resize';case IPCC.ab.ResizeS:return 's-resize';case IPCC.ab.ResizeW:return 'w-resize';case IPCC.ab.ResizeNW:return 'nw-resize';case IPCC.ab.ResizeNE:return 'ne-resize';case IPCC.ab.ResizeSE:return 'se-resize';case IPCC.ab.ResizeSW:return 'sw-resize';case IPCC.ab.Text:return 'text';}return 'auto';}};module.exports=ab;},{}],22:[function(require,module,exports){var jb={sd:function(iv,LK){var av,co,es;if(iv===null){return 'null';}if(!LK){LK=0;}av=typeof(iv);if(av==='undefined'){return 'undefined';}else if(av==='number'||av==='boolean'){return iv.toString();}else if(av==='string'){return '\''+iv+'\'';}else if(av==='function'){return 'function';}else{if(LK<0){return 'iv';}co='{';for(es in iv){if(iv.hasOwnProperty(es)){if(co.length>2){co+=', ';}co+=es;co+=': ';co+=IPCC.jb.sd(iv[es],LK-1);}}co+='}';return co;}},Mj:function(bm){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bm+'\n';}},aIF:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},pn:function(jZ,Iz,aX,Bc,Az){var bm="PCC Controls - ";bm+=(Bc)?Bc:" ";bm+=" parent Div id = ";bm+=(Az)?Az:" ";if(Iz){switch(Iz){case 0:bm+=" FunctionCall ";break;case 1:bm+=" Exception ";break;case 2:bm+=" Custom ";break;case 3:bm+=" UserAction ";break;case 4:bm+=" Warning ";break;default:bm+=" unknown ";}}bm+=" - "+jZ;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bm);}if(window.console&&window.console.log){window.console.log(bm);}if(window.opera){window.opera.postError(bm);}if(window.debugService){window.debugService.trace(bm);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bm+'\n';}var MR;try{MR=onPCCItemLogged;}catch(ex){}if(MR&&(typeof(MR)).toLowerCase()==='function'){var cJ=new IPCC.Web.UI.LogItemEventArgs();cJ.message=jZ;cJ.cause=Iz;cJ.level=aX;cJ.id=Az;MR(cJ);}}};module.exports=jb;},{}],23:[function(require,module,exports){var lu=function(){this.ah=false;this.L=false;};lu.prototype.mf=function(L){this.L=L;this.L.ail(true);this.aW=L.aN();};lu.prototype.fd=function(){if(arguments[0]){if(arguments[0]===true){this.L=false;return;}}this.L.ail(false);this.L=false;};lu.prototype.bn=function(){if(this.ah){this.L.EH(true);this.aW.ot();this.ah=false;this.L.dC();}};lu.prototype.yx=function(V){this.bn();var R=V.mark;if(R&&R.jc()===IPCC.Web.UI.MarkType.Text){this.L.vp(R);this.L.dC();}};lu.prototype.le=function(V){this.bn();var iQ=V.domEvent;if(iQ.button===0){var cP=iQ.target;this.cu=cP.ImGearMarkHandle;if(this.cu){this.vb=this.cu.av;this.oA=this.cu.bv;}else{this.vb=null;this.oA=null;}while(!(cP.ImGearMarkRelation)&&cP.parentNode&&cP!==document.body){cP=cP.parentNode;}this.F=cP.ImGearMarkRelation;if(this.F){this.R=this.F.R;}else{this.R=null;}this.ah=true;this.Rm=V.imagePoint;this.Dw=V.imagePoint;var R=this.R;if(!R||R.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!iQ.shiftKey){this.L.eI().yh().removeAllMarks();}this.aW.Ck(V.imagePoint);}else{var hE,J;switch(this.vb){case IPCC.dr.dj.prototype.VH:this.jD=R.fJ();this.aaP=Math.abs(this.jD.width);this.Gi=Math.abs(this.jD.height);hE={x:this.jD.x,y:this.jD.y};this.RK={x:this.jD.x+this.jD.width,y:this.jD.y+this.jD.height};if(this.oA>0&&this.oA<3){hE.x+=this.jD.width;this.RK.x-=this.jD.width;}if(this.oA>1){hE.y+=this.jD.height;this.RK.y-=this.jD.height;}this.aER=hE;break;case IPCC.dr.dj.prototype.Vu:J=R.fJ();this.jD=J;hE={x:J.x+J.width/2,y:J.y+J.height/2};switch(this.oA){case 0:this.yn=J.y+J.height;hE.y=J.y;break;case 1:this.yn=J.x;hE.x=J.x+J.width;break;case 2:this.yn=J.y;hE.y=J.y+J.height;break;case 3:this.yn=J.x+J.width;hE.x=J.x;break;}break;case IPCC.dr.dj.prototype.Kw:this.as=R.oV();if(this.oA<0||this.oA>this.as.eQ()){this.bn();}hE=this.as.getPoint(this.oA);break;case IPCC.dr.dj.prototype.KB:break;case IPCC.dr.dj.prototype.Su:J=R.fJ();hE={x:J.x+R.mI.x,y:J.y+R.mI.y};break;default:var vv=R.get_selected();if(iQ.ctrlKey||iQ.shiftKey){vv= !vv;R.set_selected(vv);}else{if(!vv){vv=true;this.L.eI().yh().removeAllMarks();if(R.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var G=0;G<this.L.eI().get_markCount();G++){var VT=this.L.eI().getMark(G);if(VT.jc()===608&&VT.bS===R.bS){VT.set_selected(vv);}}}else{R.set_selected(vv);}}}if(!vv){this.bn();}break;}if(this.ah&&hE){this.aBl=hE.x-this.Rm.x;this.aBy=hE.y-this.Rm.y;if(this.cu){this.aW.aCb(this.cu.ac);}}}if(this.ah){this.L.EH(false);}}this.L.dC();};lu.prototype.kw=function(V){var iQ=V.domEvent;var Dw;function anE(aDb){aDb.FY(V.imagePoint.x-Dw.x,V.imagePoint.y-Dw.y);};if(iQ.button!==0){this.bn();}if(this.ah){var R=this.R;if(!R||R.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aW.zq(V.imagePoint);}else{var hE={x:V.imagePoint.x+this.aBl,y:V.imagePoint.y+this.aBy};var J;switch(this.vb){case IPCC.dr.dj.prototype.VH:var qz={x:hE.x,y:hE.y};var ko={x:this.RK.x,y:this.RK.y};if(iQ.ctrlKey){ko.x=this.jD.x+this.jD.width/2;ko.y=this.jD.y+this.jD.height/2;}if(iQ.shiftKey){var sp=Math.abs(qz.x-ko.x);var um=Math.abs(qz.y-ko.y);if(sp*this.Gi<um*this.aaP){if(this.Gi>0.001){sp=um*this.aaP/this.Gi;}}else{if(this.Gi>0.001){um=sp*this.Gi/this.aaP;}}if(qz.x<ko.x){sp= -sp;}if(qz.y<ko.y){um= -um;}qz.x=ko.x+sp;qz.y=ko.y+um;}if(iQ.ctrlKey){ko={x:ko.x-(qz.x-ko.x),y:ko.y-(qz.y-ko.y)};}J={};J.x=Math.min(ko.x,qz.x);J.width=Math.max(ko.x,qz.x)-J.x;J.y=Math.min(ko.y,qz.y);J.height=Math.max(ko.y,qz.y)-J.y;R.set_rectangle(J);break;case IPCC.dr.dj.prototype.Vu:J=R.fJ();var Bg;if(this.oA&1){if(iQ.ctrlKey){Bg=this.jD.x+this.jD.width/2;J.width=Math.abs(hE.x-Bg)*2;J.x=Bg-J.width/2;}else{J.x=Math.min(hE.x,this.yn);J.width=Math.max(hE.x,this.yn)-J.x;}}else{if(iQ.ctrlKey){Bg=this.jD.y+this.jD.height/2;J.height=Math.abs(hE.y-Bg)*2;J.y=Bg-J.height/2;}else{J.y=Math.min(hE.y,this.yn);J.height=Math.max(hE.y,this.yn)-J.y;}}R.set_rectangle(J);break;case IPCC.dr.dj.prototype.Kw:this.as=R.oV();hE=this.as.setPoint(this.oA,hE);break;case IPCC.dr.dj.prototype.KB:break;case IPCC.dr.dj.prototype.Su:J=R.fJ();R.set_calloutPoint({x:hE.x-J.x,y:hE.y-J.y});break;default:Dw=this.Dw;this.Dw=V.imagePoint;this.L.eI().yh().kR(anE);break;}}this.L.dC();}};lu.prototype.lz=function(){function asw(R){var ET=R.amB();if(aiv.contains(ET)&&aiv.contains({x:ET.x+ET.width,y:ET.y+ET.height})){R.set_selected(true);}};if(this.ah){if(!this.R){var aiv=this.aW.wa();this.L.eI().BP(asw);this.aW.ot();}this.bn();}};lu.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};lu.prototype.nc=function(){this.bn();};module.exports=lu;},{}],24:[function(require,module,exports){var bY=require('./IPCC.Util').regClass;var OB=function(){return this;};OB.registerClass=bY;OB.prototype={};OB.registerClass('IPCC.ExceptionEventArgs');module.exports=OB;},{"./IPCC.Util":28}],25:[function(require,module,exports){var eN=require('./IPCC.Util').regEnum;var od=function(){};od.registerEnum=eN;od.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};od.registerEnum('IPCC.FitType',false);module.exports=od;},{"./IPCC.Util":28}],26:[function(require,module,exports){var vl=function(){function El(){return Math.floor((Math.random()*10)).toString();};var jt=new Date();return El()+El()+'_'+jt.getTime()+"_"+El()+El()+El()+El();};module.exports=vl;},{}],27:[function(require,module,exports){var nS=function(){this.ah=false;this.L=false;};nS.prototype.mf=function(L){this.L=L;};nS.prototype.fd=function(){this.L=false;};nS.prototype.bn=function(){if(this.ah){this.ah=false;}};nS.prototype.qn=function(){this.bn();};nS.prototype.le=function(V){this.bn();if(V.domEvent.button===0){this.ah=true;this.Rm=V.imagePoint;}};nS.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){var L=this.L;var aW=L.aN();var bU=aW.fF();var aJ=L.eO();bU.Zm(this.Rm,V.windowPoint);bU.kY(L.dO(),aJ);L.aK('userModifiedViewState',{});aW.iK(bU);L.dC();}};nS.prototype.lz=function(){this.bn();};nS.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};nS.prototype.nc=function(){this.bn();};module.exports=nS;},{}],28:[function(require,module,exports){var C={};C.ZA=(function(){var ly={};var zT=[];ly.get=function aIm(qB){if(zT.length===0){return;}for(var i=0;i<qB.length;i++){if(zT[i]&&zT[i].qB===qB){return zT[i].hY;}}};ly.set=function aGX(qB,hY){zT.push({qB:qB,hY:hY});if(zT.length>10){zT.shift();}};ly.contains=function iC(qB){return ly.get(qB)!==undefined;};ly.cacheReponse=function aEY(qB,hY){if(hY.readyState===4){ly.set(qB,hY);}else{var asy=hY.onreadystatechange;hY.onreadystatechange=function(){if(hY.readyState===XMLHttpRequest.DONE&&hY.status===200){ly.set(qB,hY);}asy();};}};return ly;})();C.Zv=false;C.Sa=(function(){var Sa=false;var tx=navigator.userAgent,ZO=((tx.indexOf('Mozilla/5.0')> -1&&tx.indexOf('Android ')> -1&&tx.indexOf('AppleWebKit')> -1)&& !(tx.indexOf('Chrome')> -1)),afL=new RegExp(/AppleWebKit\/([\d.]+)/),axz=afL.exec(tx),ago=(axz===null?null:parseFloat(afL.exec(tx)[1]));Sa=ZO&&ago!==null&&ago<537;return Sa;})();C.anU=(function(){var ana=false;var tx=navigator.userAgent,ZO=/Android/i.test(tx),anF=/iPhone|iPad|iPod/i.test(tx),aoB=/IEMobile/i.test(tx);ana=(ZO||anF||aoB);return ana;})();C.Ep=(function(){var Ep=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Ep=true;}return Ep;})();C.Ba=(function(){var asS=navigator.userAgent;if(document.documentMode===10||C.Sa){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(asS)&& !C.anU){return 'svga';}else{return 'svgb';}})();C.CC=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();C.Dh=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();C.JQ=C.Dh||(function(){return('ontouchstart'in document.documentElement);})();C.apk=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();C.anb=function(){return C.apO.btoa((Math.random().toString(36).slice(-4))+'_'+C.vh(new Date())+'_'+(Math.random().toString(36).slice(-6)));};C.inArray=function(cq,ct){for(var i=0,l=cq.length;i<l;i++){if(cq[i]===ct){return true;}}return false;};C.forEach=function(af,aY,dp){var qt=[].forEach,avZ=Object.prototype.hasOwnProperty;if(qt&&af.forEach===qt){aY&&af.forEach(aY,dp);}else if(af.length=== +af.length){for(var i=0,length=af.length;i<length;i++){aY&&aY.call(dp,af[i],i,af);}}else{for(var bA in af){if(avZ.call(af,bA)){aY&&aY.call(dp,af[bA],bA,af);}}}};C.map=function(cq,aY,dp){var qt=[].map,uU=[];if(qt&&cq.map===qt){uU=cq.map(aY,dp);}else{C.forEach(cq,function(el,i){uU.push(aY.call(dp,el,i,cq));});}return uU;};C.filter=function(cq,aY,dp){var qt=[].filter,uU=[],ami=false;if(qt&&cq.filter===qt){uU=cq.filter(aY,dp);}else{C.forEach(cq,function(bB,i){ami=aY.call(dp,bB,i,cq);if(ami){uU.push(bB);}});}return uU;};C.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};C.remove=function(cq,aY,dp){var WN=[];var awm=C.filter(cq,aY,dp);C.forEach(awm,function(ct){var bv=C.indexOf(cq,ct);if(bv=== -1){return;}WN=WN.concat(cq.splice(bv,1));});return WN;};C.keys=function(af){if(Object&&Object.keys){return Object.keys(af);}else{var oU=[];for(var G in af){if(af.hasOwnProperty&&af.hasOwnProperty(G)){oU.push(G);}}return oU;}};C.indexOf=function(cq,ahj,ajs){if(Array.prototype.indexOf){return cq.indexOf(ahj,ajs);}var k;if(cq==null){throw new TypeError('"cq" is null or not defined');}var O=Object(cq);var len=O.length>>>0;if(len===0){return-1;}var n= +ajs||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===ahj){return k;}k++;}return-1;};C.reduce=function(cq,aY,er,dp){var qt=[].reduce;var Fw=(arguments.length===2)?undefined:er;if(qt&&typeof qt==='function'&&cq.reduce===qt&&dp===undefined){if(er!==undefined){return cq.reduce(aY,er,dp);}return cq.reduce(aY);}IPCC.C.forEach(cq,function(bu,aP){if(Fw===undefined){Fw=bu;return;}Fw=aY.call(dp,Fw,bu,aP,cq);});return Fw;};C.reduceLeft=function(cq,aY,er,dp){var uU=cq.reverse();return C.reduce.call(undefined,uU,aY,er,dp);};C.contains=function(cq,bu){var dh=cq.length;while(dh--){if(cq[dh]===bu){return true;}}return false;};C.aoF=function(aaL,aeT){if(aaL.length!==aeT.length){return false;}for(var i=0,l=aaL.length;i<l;i++){if(aaL[i]!==aeT[i]){return false;}}return true;};C.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};C.trim=function(co){if(String.prototype.trim){return co.trim();}return co.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};C.getPageFromPoint=function(bi,de,dp){var azf=function(gy){return gy.left<=bi&&bi<=gy.right&&gy.top<=de&&de<=gy.bottom;};var aAq=function(){return C.filter(dp.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(jq){return azf(jq.getBoundingClientRect());});};if(!dp){dp=document;}return aAq(bi,de)[0];};C.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};C.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var LM in baseType.prototype){if(baseType.prototype.hasOwnProperty(LM)){var anB=baseType.prototype[LM];if(!this.prototype[LM]){this.prototype[LM]=anB;}}}}return this;};C.amU=function(aba,Tl,agr){if(Tl){if(!agr){Tl.apply(aba);}else{Tl.apply(aba,agr);}}return aba;};C.alb=function alb(vO,auF,amJ){var ob;return function(){var dp=this,cJ=arguments;var auC=function(){ob=undefined;if(!amJ){vO.apply(dp,cJ);}};var aEd=amJ&& !ob;clearTimeout(ob);ob=setTimeout(auC,auF);if(aEd){vO.apply(dp,cJ);}};};C.aez=function aez(dF,uo){if(dF.classList){dF.classList.add(uo);}else{dF.className+=' '+uo;}};C.adk=function adk(dF,uo){if(dF.classList){dF.classList.remove(uo);}else{dF.className=dF.className.replace(uo,'');}};C.SB=function(iX){return{width:iX.width||(iX.right-iX.left),height:iX.height||(iX.bottom-iX.top),top:iX.top,bottom:iX.bottom,left:iX.left,right:iX.right};};C.amA=function(alphabet,size){var qS='';for(var G=0;G<size;G++){qS+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return qS;};C.aGG=function(){var aqv='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var atL='AQgw';return C.amA(aqv,21)+C.amA(atL,1);};C.anf=function(){var jo={'Accusoft-Gid':C.aGG(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return jo;};C.ps=function(aT){if(aT instanceof C.ps){return aT;}this.jo=C.reduce(aT.headers||{},function(pP,bu,bF){bF=bF.toLowerCase();if(pP[bF]){pP[bF]+=', '+bu;}else{pP[bF]=bu;}return pP;},{});this.status=aT.status;this.statusText=aT.statusText;this.responseText=aT.responseText;if(typeof aT.responseBody!=='undefined'){this.responseBody=aT.responseBody;}return this;};C.ps.prototype.getResponseHeader=function(CZ){var aT=this.jo[CZ.toLowerCase()];return aT!==undefined?aT:null;};C.mD=(function(){var zp={};zp.jo={};zp.Nu=undefined;function adz(aio){if(!aio){return{};}return aio.split('\r\n').reduce(function(PH,nR){var bv=nR.indexOf(': ');if(bv>0){var bF=nR.slice(0,bv);var H=nR.slice(bv+2);if(PH[bF]){H=PH[bF]+', '+H;}PH[bF]=H;}return PH;},{});};zp.eT=function(axh){var AM={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},jW=PCCViewer.Deferred(),cd=jW.getPromise(),sP;var bE=C.extend({},AM,axh);bE.headers=C.extend({},zp.jo,bE.headers);if(typeof zp.Nu==='function'){sP=zp.Nu(bE);if(typeof sP==='object'&&typeof sP.then==='function'){sP.then(function(aC){jW.resolve(aC);},function(aC){jW.reject(aC);});return cd;}}if(bE.cache&&C.ZA.contains(bE.url)){var hY=C.ZA.get(bE.url);var aT,vH={};vH={status:hY.status,headers:adz(hY.getAllResponseHeaders())};try{vH.responseText=hY.responseText;}catch(e){}if(typeof hY.responseBody!=='undefined'){vH.responseBody=hY.responseBody;}aT=new C.ps(vH);if(hY.status>=200&&hY.status<300||status===304){jW.resolve(aT);}else{jW.reject({response:aT,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+hY.status+" "+hY.statusText)});}return cd;}var iZ,ob;try{iZ=new XMLHttpRequest();}catch(e){jW.reject(new PCCViewer.Error("Error",e.message));}if(iZ){iZ.open(bE.method,bE.url,true);if(bE.timeout){ob=window.setTimeout(function(){iZ.abort();jW.reject({error:new PCCViewer.Error("Error","Request timed out")});},bE.timeout);}iZ.onreadystatechange=function(){var aT,vH={};if(iZ.readyState===4){if(ob){window.clearTimeout(ob);}vH={status:iZ.status,headers:adz(iZ.getAllResponseHeaders())};try{vH.responseText=iZ.responseText;}catch(e){}if(typeof iZ.responseBody!=='undefined'){vH.responseBody=iZ.responseBody;}aT=new C.ps(vH);if(iZ.status>=200&&iZ.status<300||status===304){jW.resolve(aT);}else{jW.reject({response:aT,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iZ.status+" "+iZ.statusText)});}}};var Xm=C.extend({},bE.headers,C.anf());for(var bF in Xm){if(Xm.hasOwnProperty(bF)){iZ.setRequestHeader(bF,Xm[bF]);}}if(typeof bE.mimeType==='string'&&typeof iZ.overrideMimeType==='function'){iZ.overrideMimeType(bE.mimeType);}if(bE.cache){C.ZA.cacheReponse(bE.url,iZ);}iZ.send(bE.body);}return cd;};return zp;})();C.We=function(fR,ir,fd){var hi=[],sb=null,tq=null,bo;var apa=function(tq,sb){if(!sb){return false;}else{return Math.abs(tq.y-sb.y)<1&&Math.abs(tq.height-sb.height)<1&&tq.x+tq.width>=sb.x+sb.width;}};for(bo=ir;bo<fd+1;bo++){tq=fR.lo(bo).az;if(apa(tq,sb)){sb.union(tq);}else{sb=tq.clone();hi.push(sb);}}return hi;};C.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};C.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};C.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(as){var aGk=C.map(as,function(bB){return[bB.x,bB.y];});return d3_svg_lineBasis(aGk);};})();C.aHE=function(co){if(co.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var atU=C.filter(co.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var axx=C.map(atU,function(el){var aGz=el.replace(/[a-zA-Z]/g,'|').split('|');return C.map(aGz,function(fP){var aiL=fP.split(',');return{x: +aiL[0],y: +aiL[1]};});});return axx;};C.ams=function(co,ia,ij,kW,bE){bE.cE="12px";var jv=C.vr(co,ia,bE),yR=12*ij/(jv.width||1),yJ=12*kW/(jv.height||1),arl=Math.min(yR,yJ);bE.cE=arl;return C.amt(co,ia,ij,kW,bE);};C.amt=function(co,ia,ij,kW,bE,PO){PO=PO||1;var pe={},jv=C.vr(co,ia,bE),cE=bE.cE;pe.width=jv.width;pe.height=jv.height;pe.fontSize=cE;if(PO>3){return pe;}if((jv.width<ij+1)&&(jv.height<kW+1)){return pe;}else{var yR=cE*ij/(jv.width||1),yJ=cE*kW/(jv.height||1),xq=Math.min(yR,yJ);if(xq>=bE.cE){return pe;}else{bE.cE=xq;return C.amt(co,ia,ij,kW,bE,PO+1);}}};C.vr=function(co,ia,bE){bE=bE||{};if(document.createElementNS){return C.aon(co,ia,bE);}else{return C.alO(co,ia,bE);}};C.aon=function(co,ia,bE){var svg,acs=false;if(bE.dU){svg=bE.dU;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');acs=true;document.body.appendChild(svg);}var cE=bE.cE||"12px";if(typeof cE==="number"){cE=cE+"px";}var cI=document.createElementNS("http://www.w3.org/2000/svg","text");C.forEach({x:0,y:0,'font-size':cE,'stroke':"none",'fill':"#000000",'font-family':ia},function(value,name){cI.setAttribute(name,value);});if(bE.wK){cI.setAttribute('style','white-space:'+bE.wK);}var lE=document.createTextNode(co);cI.appendChild(lE);svg.appendChild(cI);var tp=cI.getBBox(),IB=tp.width,Hs=tp.height;svg.removeChild(cI);if(acs){document.body.removeChild(svg);}if(IB===0&&Hs===0&&co!=="M"){return C.vr("M",ia,bE);}else{return{width:IB,height:Hs};}};C.alO=function(co,ia,bE){var lE=document.createTextNode(co),CL=document.createElement('div');var cE=bE.cE||"12px";if(typeof cE==="number"){cE=cE+"px";}C.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:cE,fontFamily:ia},function(value,name){CL.style[name]=value;});if(bE.wK){CL.style.whiteSpace=bE.wK;}CL.appendChild(lE);document.body.appendChild(CL);var tp=CL.getBoundingClientRect(),IB=tp.width||tp.right-tp.left,Hs=tp.height||tp.bottom-tp.top;document.body.removeChild(CL);if(IB===0&&Hs===0&&co!=="M"){return C.alO("M",ia,cE);}else{return{width:IB,height:Hs};}};C.Yz=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};C.CK={SVG:function SVG(ase){var dU=document.createElementNS("http://www.w3.org/2000/svg","svg");dU.setAttribute('viewBox',ase);return dU;},Path:function Path(wV,kX){var gT=document.createElementNS("http://www.w3.org/2000/svg","path");gT.style.fill='none';gT.style.stroke=kX.color||'#000000';gT.style.strokeWidth=kX.thickness||4;if(wV){gT.setAttribute('d',wV.toString().trim());}return gT;},Rect:function Rect(aO,by,ew){var aF=document.createElementNS("http://www.w3.org/2000/svg","rect");aF.setAttribute('width',aO||0);aF.setAttribute('height',by||0);if(ew){aF.setAttribute('style',ew);}return aF;}};C.Jd=function Jd(lB){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(lB);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(lB+' cannot be parsed as an ISO 8601 date.');}};C.vh=function aHQ(jt){if(jt.toISOString&&typeof jt.toISOString==='function'){return jt.toISOString();}else{return new Error(jt+' is not a Date object.');}};C.uE=function uE(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};C.Cx=function Cx(o){if(C.uE(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};C.aaI=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};C.aik=function(bu){bu=String(bu).replace(/[^0-9a-f]/gi,"");if(bu.length<6){bu=bu[0]+bu[0]+bu[1]+bu[1]+bu[2]+bu[2];}var Zf=function(co){return parseInt(co,16);};var r=Zf(bu.substring(0,2));var g=Zf(bu.substring(2,4));var b=Zf(bu.substring(4,6));return{r:r,g:g,b:b};};C.ayy=function(bu){var Qk="";var Nd=function(n){while(n.length<2){n='0'+n;}return n;};var ZR=function(n){return Nd(n.toString(16));};Qk+=ZR(Math.floor(bu.r));Qk+=ZR(Math.floor(bu.g));Qk+=ZR(Math.floor(bu.b));return '#'+Qk;};C.aou=function(azj,aBe,azt){var DG=azt,UU=C.aik(azj),oM=C.aik(aBe);oM.r=(1-DG)*oM.r+(UU.r*DG);oM.g=(1-DG)*oM.g+(UU.g*DG);oM.b=(1-DG)*oM.b+(UU.b*DG);oM.r=Math.floor(oM.r);oM.g=Math.floor(oM.g);oM.b=Math.floor(oM.b);return C.ayy(oM);};C.aij=function(aFK,wF){var awL=C.reduceLeft(aFK,function(er,cY){if(cY.opacity===undefined){cY.opacity=127;}var aEn=cY.opacity/255;return C.aou(cY.color,er,aEn);},wF);return awL;};C.aeR=function(hm){if(hm.length===0){return hm;}var dZ=hm.slice(0);dZ.sort(function(a,b){return a.startIndex-b.startIndex;});var Vb=null;var la=[];var Tz=0,Pp=[];var G=dZ[0].startIndex;while(dZ.length>0){Tz=0;Pp=null;Pp=[];var bo=0;while(bo<dZ.length&&dZ[bo].startIndex<=G){if(G<=dZ[bo].startIndex+dZ[bo].length-1){Tz++;Pp.push(dZ[bo]);bo++;}else{dZ.splice(bo,1);}}if(Tz>0){var BX=C.aij(Pp,'#ffffff');if(BX===Vb){la[la.length-1].endIndex=G;}else{la.push({startIndex:G,endIndex:G,color:BX});}Vb=BX;G++;}else{if(dZ.length>0){G=dZ[0].startIndex;}Vb=null;}}return la;};C.GA=function(ZN){return ZN.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};C.ang=function(bd){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(bd);};C.Nd=function(gB,dh){var co=""+gB;while(co.length<dh){co='0'+co;}return co;};C.aHD=function(ep){var gg=ep.getTimezoneOffset();gg=((gg<0?'+':'-')+C.Nd(parseInt(Math.abs(gg/60),10),2)+C.Nd(Math.abs(gg%60),2));return gg;};C.acQ=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];C.RQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];C.alZ=function(Vy){var azw=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aC=azw.exec(Vy),ali,Dx,adq,akK,akL,yW,abD;if(!aC){return null;}else{ali=aC[1].toLowerCase();adq=aC[2];akK=aC[3];akL=aC[4];yW=aC[5];abD=aC[6];for(Dx=0;Dx<12;Dx++){if(C.RQ[Dx].toLowerCase()===ali){break;}}if(Dx>=12){return null;}return new Date(Date.UTC(abD,Dx,adq,akK,akL,yW));}};C.amo=function(ep){return(C.acQ[ep.getUTCDay()]+" "+C.RQ[ep.getUTCMonth()]+" "+ep.getUTCDate()+" "+ep.getUTCHours()+':'+ep.getUTCMinutes()+':'+ep.getUTCSeconds()+" "+"GMT+0000 "+ep.getUTCFullYear());};C.aod=function(ep){return(C.acQ[ep.getUTCDay()]+" "+C.RQ[ep.getUTCMonth()]+" "+ep.getUTCDate()+" "+ep.getUTCFullYear());};C.apd=function(ep){return(ep.getUTCHours()+':'+ep.getUTCMinutes()+':'+ep.getUTCSeconds()+" "+"GMT+0000");};C.os=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};C.wL=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};C.apO=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();C.oj=(function(){var oj=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var agK={};oj.forEach(function(afV){agK[afV]='pointer'+afV;});return agK;}if(window.navigator.msPointerEnabled){var akx={};for(var G=0;G<oj.length;G++){var Uz=oj[G];var apw='MSPointer'+Uz.charAt(0).toUpperCase()+Uz.slice(1);akx[Uz]=apw;}return akx;}return{};})();C.tE=(function(){return{BE: ! !navigator.userAgent.match('Edge'),aHN:document.documentMode!==undefined,aHI:document.documentMode===8,aIB:document.documentMode===9,aHv:document.documentMode===10,aIt:document.documentMode===11,apf:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),axu:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();C.NT=(function(og){if(!og|| !IPCC.C.trim(og)){return 'regular';}return IPCC.C.trim(og).toLowerCase();});C.aHK=function(arg,value){return typeof arg!=='undefined'?arg:value;};C.NC=function(value){return Number(value.replace(/[a-z]+$/,''));};C.OM=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};C.amC=function(){if(this.si===undefined){this.si=document.createTextNode('');}return this.si;};C.ama=function(){if(this.dK===undefined){this.dK=document.createElement('textarea');this.si=document.createTextNode('');this.dK.appendChild(C.si);this.dK.style.position='absolute';this.dK.style.overflow='hidden';this.dK.style.width='80px';this.dK.style.height='80px';this.dK.style.resize='none';this.dK.style.top='-9999px';this.dK.style.left='-9999px';this.dK.style.whiteSpace='pre-wrap';this.dK.style.border=0;this.dK.style.padding='2px';document.body.appendChild(this.dK);}return this.dK;};C.Wm=function(dK,Cv,bM){var XD=0.1;var Fh;if(Cv===0||Cv>bM){Cv=bM;}while(XD<=Cv){Fh=(XD+Cv)/2;dK.style.fontSize=Fh+'px';if(dK.scrollHeight<=dK.offsetHeight){XD=Fh+0.1;}else{Cv=Fh-0.1;}}var akO=(Fh-0.5)*0.95;dK.style.fontSize=akO+'px';return akO;};C.Qn=function(vO,pJ,VF,sP){if(vO(pJ,VF)!==VF){return typeof(sP)==='number'?sP:VF;}return pJ;};C.Ny=function(pJ,arf,sP){return C.Qn(Math.min,pJ,arf,sP);};C.Lu=function(pJ,aoH,sP){return C.Qn(Math.max,pJ,aoH,sP);};C.auh=(function(){var Gf;return function(atQ,lp,aAs){if(Gf!==undefined&& !aAs){setTimeout(lp.bind(null,Gf),0);return;}aGx(atQ,function(qS){Gf=qS;lp(qS);});};function aGx(NX,lp){var ia='jctqxvjmncyjagibfltptfzhknc';var ik='@font-face {font-family:'+ia+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var ew;var oY;var amz;var agm,agG;aui();axm(function(qS){aBU();lp(qS);});function aui(){ew=document.createElement('style');ew.innerText=ik;NX.appendChild(ew);oY=document.createElement('div');oY.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';agm=agx(oY,'monospace');agG=agx(oY,'arial');NX.appendChild(oY);};function aBU(){clearInterval(amz);NX.removeChild(oY);NX.removeChild(ew);};function axm(aY){var awn=Date.now();var ob=500;var aqi=25;amz=setInterval(function(){var ajj=agm.offsetWidth===agG.offsetWidth;if(ajj||Date.now()-awn>ob){aY(ajj);}},aqi);};function agx(oY,ik){var aCB='!!';var ahp=document.createElement('div');var GQ=document.createElement('span');GQ.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';GQ.innerText=aCB;GQ.style.fontFamily=ia+', '+ik;ahp.appendChild(GQ);oY.appendChild(ahp);return GQ;}}})();C.axs=function(gu,yA,lN){var tW=document.createElement('div');if(!IPCC.C.tE.axu){gu=gu.replace(/href="#/g,'href="#'+lN);gu=gu.replace(/url\("?#(.+?)"?\)/g,'url(#'+lN+'$1)');gu=gu.replace(/ id="/g,' id="'+lN);tW.innerHTML=gu;return tW;}tW.innerHTML=gu;var anW=tW.querySelectorAll('[id]');var aoo=tW.querySelectorAll("*");var ayY=yA.replace(/"/g,'\\$&');var asO=['href','xlink:href'];var arB=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.C.forEach(anW,function(bB){bB.id=lN+bB.id;});IPCC.C.forEach(aoo,function(bB){IPCC.C.forEach(asO,function(qE){if(bB.hasAttribute(qE)&&bB.getAttribute(qE).indexOf('#')===0){bB.setAttribute(qE,bB.getAttribute(qE).replace('#',yA+'#'+lN));}});IPCC.C.forEach(arB,function(qE){if(bB.hasAttribute(qE)&&bB.getAttribute(qE).match(/^url\("?#/)){bB.setAttribute(qE,bB.getAttribute(qE).replace(/^url\("?#(.+?)\"?\)$/,'url("'+yA+'#'+lN+'$1")'));}});if(bB.hasAttribute('style')){var DK=bB.style.cssText;DK=DK.replace(/url\("?#(.+?)"?\)/g,'url("'+ayY+'#'+lN+'$1")');bB.style.cssText=DK;}});return tW;};module.exports=C;},{}],29:[function(require,module,exports){var xY=require('./Type');xY.registerNamespace('IPCC');module.exports={Pagecounter:1,ha:true,aeY:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),pL:require('./predefinedContextMenu'),aaQ:require('./indexOf'),Nn:require('./setProperties'),bf:require('./PageItem'),vl:require('./GetUniqueID'),Ws:require('./ViewerState'),wl:require('./Configuration'),ab:require('./Cursor'),jO:require('./Res'),aq:require('./Validate'),jb:require('./Debug'),fg:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:xY,C:require('./IPCC.Util'),dr:require('./Art'),jU:require('./SelectTextController'),eB:require('./Matrix'),WF:require('./ViewerModel'),ey:require('./ContextMenuController'),fa:require('./SvgUIDirector'),pj:require('./PropertyChangedEventArgs'),Al:require('./StringBuilder'),cw:require('./MultiTouchController'),rc:require('./ImagePyramid'),cv:require('./SingleTouchController'),kH:require('./AddPolyMarkController'),nU:require('./SelectController'),eD:require('./AddRectangularMarkController'),kA:require('./AddFreehandMarkController'),mB:require('./AddLineMarkController'),db:require('./MouseWheelController'),nS:require('./HandPanController'),mr:require('./RectangleZoomController'),qF:require('./MagnifierController'),lu:require('./EditMarksController'),AT:require('./RunMarksController'),Ci:require('./Space'),fT:require('./Image'),OD:require('./ImagePool'),DH:require('./PyramidLevel'),vu:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var fT=function(kl,bj,aO,by,gp,hd){IPCC.Ci.call(this,0,0,0,0);this.width=aO;this.height=by;this.gp=gp;this.hd=hd;this.bj=bj||0;this.eP=0;this.qO=true;this.apK={};this.xW=false;var h=this;this.bj=bj;this.get_url=function(gQ,ei,aG){ei=ei||'Image';aG=aG||'';var CV=fT.GE(kl);var FX=false;if(/^[\x00-\x7F]*$/.test(CV)){FX=true;}if(aG===null||aG===''){if(ei==='Attributes'){var tz='';if(!IPCC.wl.JN()){tz='&ContentType=png';}if(!FX){return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=e'+kl+tz;}else{return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=u'+encodeURIComponent(CV)+tz;}}else{if(ei==='SvgImage'){if(!FX){return gQ+'/Page/q/'+bj.toString()+'?DocumentID=e'+kl+'&'+aG;}else{return gQ+'/Page/q/'+bj.toString()+'?DocumentID=u'+encodeURIComponent(CV)+'&'+aG;}}if(!FX){return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=e'+kl+'&'+aG;}else{return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=u'+encodeURIComponent(CV)+'&'+aG;}}}else{if(ei==='SvgImage'){if(!FX){return gQ+'/Page/q/'+bj.toString()+'?DocumentID=e'+kl+'&'+aG;}else{return gQ+'/Page/q/'+bj.toString()+'?DocumentID=u'+encodeURIComponent(CV)+'&'+aG;}}if(!FX){return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=e'+kl+'&'+aG;}else{return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=u'+encodeURIComponent(CV)+'&'+aG;}}};this.get_urlArt=function(gQ,ei,aG){ei=ei||'Art';aG=aG||'';if(aG===null||aG===''){if(ei==='Art'){return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=e'+kl;}}else{return gQ+'/Page/q/'+bj.toString()+'/'+ei+'?DocumentID=e'+kl+'&'+aG;}};this.get_identifier=function(){return IPCC.fT.GE(kl);};this.get_encodedIdentifier=function(){return kl;};this.toString=function(){return 'Image("'+kl+'", '+this.bj+', '+this.width+' x '+this.height+', '+this.gp+', '+this.hd+')';};function aiN(aoa,L){if(L.SM()){h.qO=true;h.xW=false;return;}var VM=aoa.split(',');var mc=false;for(var ak=0;ak<VM.length;ak++){if(VM[ak]==="SVG"||VM[ak]==="svg"){if(IPCC.wl.JN()){h.xW=true;h.qO=false;}else{h.xW=false;}mc=true;break;}}if(!mc){h.xW=false;h.qO=true;}if(L){if(L.MJ){L.MJ(h.xW);}}};this.WM=function(gQ,L,yO){L.bj=this.bj;var lO=0;var mi=L.zb();if(mi){if(document.documentMode<9){mi=false;}}var rd=true;if(L.lh()===0){rd=false;}var pg=function(ff,aT){try{if(ff===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(ff.errorCode){if(ff.errorCode==='SvgNotAvailable'){mi=false;h.width= +(ff.pageAttributes.imageWidth);h.height= +(ff.pageAttributes.imageHeight);h.gp= +(ff.pageAttributes.imageXResolution);if(h.gp<=0){h.gp=72;}h.hd= +(ff.pageAttributes.imageYResolution);if(h.hd<=0){h.hd=72;}h.eP= +(ff.pageAttributes.pageCount);h.qO=ff.pageAttributes.isRaster!=='false';aiN(ff.pageAttributes.contentType,L);}}else{h.width= +(ff.imageWidth);h.height= +(ff.imageHeight);h.gp= +(ff.imageXResolution);if(h.gp<=0){h.gp=72;}h.hd= +(ff.imageYResolution);if(h.hd<=0){h.hd=72;}h.eP= +(ff.pageCount);h.qO=ff.isRaster!=='false';aiN(ff.contentType,L);}var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");var Fq=false;if(nF==="true"){Fq=true;}L.aia(Fq);if(yO){yO();}}catch(e){L.aV('openPage',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};function PS(){mi=false;if(lO<1){var he={method:'GET',url:h.get_url(gQ,'Attributes'),headers:{'Content-Type':'application/json'}};if(rd===true){he.timeout=L.lh();}IPCC.C.mD.eT(he).then(eZ,ft);lO++;}};var aAU=function(gu,aT){var aO;var by;function auj(){var WC;try{WC=JSON.parse(gu);}catch(ax){WC=undefined;mi=true;}return WC;};try{aO=gu.match(/width=\"([0-9.]+)\"/);by=gu.match(/height=\"([0-9.]+)\"/);if(aO&&by){aO=Number(aO[1]);by=Number(by[1]);}else{throw "error";}if(isNaN(aO)||isNaN(by)){throw "error";}h.width=aO;h.height=by;h.gp=72;h.hd=72;h.xW=true;h.qO=false;if(L){if(typeof(L.MJ==='function')){L.MJ(h.xW);}}if(yO){yO();}}catch(e){var aC=auj();if(aC){pg(aC,aT);return;}if(mi){if(lO<1){mi=false;setTimeout(PS,10);return;}}L.aV('openPage',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};function eZ(aT){var aC=null,ds;try{if(!mi){aC=JSON.parse(aT.responseText);pg(aC,aT);}else{var ph;var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");if(nF==='true'&&L.hQ()===true){var ut=IPCC.Web.gi.pI.uw(aT.getResponseHeader("Accusoft-Data-SK"));var bF=IPCC.Web.Gj(ut,je);var fC=IPCC.Web.IW(aT);var uN=IPCC.Web.Ei(fC,bF,je);ph=IPCC.Web.gi.JI.nk(uN);}else{ph=aT.responseText;}var Ye;if(ph.length>=1000){Ye=ph.substring(0,1000);}else{Ye=ph.substring(0,ph.length);}aAU(Ye,aT);}}catch(ex){if(mi){mi=false;if(lO<1){setTimeout(PS,10);return;}}ds="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,ds);}};function ft(aC){try{var ds,lF,mC;if(!aC.response){throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,"Client timed out on load");}if(aC.response.status===403){lO++;if(aC.response.statusText&&aC.response.statusText!==""){ds="Expired viewer session ID, error message from the server: "+aC.response.statusText;}else{ds="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,ds);}if(mi){mi=false;if(lO<1){setTimeout(PS,10);return;}}mC=aC.response.getResponseHeader('Accusoft-Status-Message');if(mC){var sM;lF=aC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lF)){sM=parseInt(lF,10);}throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,mC,sM);}else{if(aC.response.statusText&&aC.response.statusText!==""){ds="Error message from the service: "+aC.response.statusText;}else{ds="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,ds);}}catch(e){if(mi){mi=false;if(lO<1){setTimeout(PS,10);return;}}L.aV('openPage',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};var je=IPCC.Web.FR.ald(4,IPCC.Web.QA());var qW=IPCC.Web.gi.Hf.nk(je);var he={method:'GET',cache:true};if(!mi){he.url=this.get_url(gQ,'Attributes');he.headers={'Content-Type':'application/json'};}else{var bd;if(L.hQ()===true){je=IPCC.Web.FR.aaE(4,IPCC.Web.QA());qW=IPCC.Web.gi.Hf.nk(je);bd=this.get_url(gQ,'SvgImage','Scale=1&ContentType='+IPCC.C.Ba+'&iv='+qW);}else{bd=this.get_url(gQ,'SvgImage','Scale=1&ContentType='+IPCC.C.Ba);}he.url=bd;}IPCC.C.mD.eT(he).then(eZ,ft);};this.aDA=function(gQ,L,yO){L.bj=this.bj;var lO=0;var rd=true;if(L.lh()===0){rd=false;}var pg=function(ff,aT){try{if(ff===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}h.width= +(ff.imageWidth);h.height= +(ff.imageHeight);h.gp= +(ff.imageXResolution);if(h.gp<=0){h.gp=72;}h.hd= +(ff.imageYResolution);if(h.hd<=0){h.hd=72;}h.eP= +(ff.pageCount);h.qO=true;var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");var Fq=false;if(nF==="true"){Fq=true;}L.aia(Fq);if(yO){yO();}}catch(e){L.aV('openPage',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};function eZ(aT){try{var gL=aT.status,aC,ds;if(gL===200){aC=null;try{aC=JSON.parse(aT.responseText);pg(aC,aT);}catch(ex){ds="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,ds);}}}catch(e){L.aV('openPageForRaster',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};function ft(aC){try{var gL=aC.response.status,ds,mC,lF;if(!aC.response){throw new IPCC.Web.UI.ImGearHttpException(gL,"Client timed out on load");}if(gL===403){lO++;if(aC.response.statusText&&aC.response.statusText!==""){ds="Expired viewer session ID, error message from the server: "+aC.response.statusText;}else{ds="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}mC=aC.response.getResponseHeader('Accusoft-Status-Message');if(mC){var sM;lF=aC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lF)){sM=parseInt(lF,10);}throw new IPCC.Web.UI.ImGearHttpException(gL,mC,sM);}else{if(aC.response.statusText&&aC.response.statusText!==""){ds="Error message from the service: "+aC.response.statusText;}else{ds="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}}catch(e){L.aV('openPageForRaster',e);if(typeof(L.aK)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};var acN={method:'GET',url:this.get_url(gQ,'Attributes'),headers:{'Content-Type':'application/json'}};if(rd===true){acN.timeout=L.lh();}IPCC.C.mD.eT(acN).then(eZ,ft);};return this;};fT.prototype.clone=function(){var Sz=new fT(this.get_encodedIdentifier(),this.bj,this.width,this.height,this.gp,this.hd);Sz.eP=this.eP;Sz.qO=this.qO;return Sz;};fT.prototype.equals=function(H){if(this.get_encodedIdentifier()!==H.get_encodedIdentifier()){return false;}if(this.bj!==H.bj){return false;}return true;};fT.prototype.su=8;fT.prototype.st=0.000001;fT.alk=function(aG){var GJ=aG.referenceDocumentIdentifier;var adu=fT.rU(GJ);var gv=aG.encodedDocumentIdentifier;var iO=aG.documentIdentifier;var eh;if(gv===''){gv=undefined;}if(iO===''){iO=undefined;}if(GJ&&GJ!==''){if(gv===adu){gv=undefined;}if(iO===GJ){iO=undefined;}}if(iO){eh=IPCC.fT.rU(iO);if(gv){if(gv!==eh){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gv=eh;}}else{if(gv){iO=IPCC.fT.GE(gv);}}if(!gv){iO=GJ;gv=adu;}var aa=aG.pageNumber;var adg=aG.referencePageNumber;if(aa===adg){aa=undefined;}if(aa!==0&& !aa){aa=adg;}aG.encodedDocumentIdentifier=gv;aG.documentIdentifier=iO;aG.pageNumber=aa;};fT.rU=function(ip){if(!ip||ip===''){return '';}var lH=[];var G;for(G=0;G<ip.length;G++){lH.push(ip.charCodeAt(G)%256);lH.push(Math.floor(ip.charCodeAt(G)/256));}lH.push(0);lH.push(0);var RW='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oi=[],rM;for(G=0;G<lH.length-1;G+=3){rM=lH[G]*0x10000+lH[G+1]*0x100+lH[G+2];oi.push(RW.charAt(Math.floor(rM/0x40000)));oi.push(RW.charAt(Math.floor(rM/0x1000)%0x40));oi.push(RW.charAt(Math.floor(rM/0x40)%0x40));oi.push(RW.charAt(rM%0x40));}var WH=Math.ceil(ip.length*16/6);while(oi.length>WH){oi.pop();}if((oi.length%4)===3){oi.push('1');}else if((oi.length%4)===2){oi.push('2');}else if((oi.length%4)===0){oi.push('0');}return oi.join('');};fT.GE=function(kl){if(!kl||kl===''){return '';}var amL=kl.length-1;var RG=[],rM;var pS,lH=[],pk=[];var G;for(G=0;G<amL;G++){pS=kl.charCodeAt(G);if(pS>64&&pS<91){pk.push(pS-65);}else if(pS>96&&pS<123){pk.push(pS-97+26);}else if(pS>47&&pS<58){pk.push(pS-48+52);}else if(pS===45){pk.push(62);}else if(pS===95){pk.push(63);}else{return '';}}pk.push(0);pk.push(0);pk.push(0);for(G=0;G<pk.length-3;G+=4){rM=pk[G]*0x40000+pk[G+1]*0x1000+pk[G+2]*0x40+pk[G+3];lH.push(Math.floor(rM/0x10000));lH.push(Math.floor(rM/0x100)%256);lH.push(rM%256);}for(G=0;G<lH.length-1;G+=2){RG.push(String.fromCharCode(lH[G]+lH[G+1]*0x100));}var WH=Math.floor(amL*6/16);while(RG.length>WH){RG.pop();}return RG.join('');};module.exports=fT;},{}],31:[function(require,module,exports){var OD=function(){this.cV=[];this.parentElementID='';this.lockTile=function(fi){var ct,G,Vd,Wz;if(this.Xo(fi)){return;}Vd=0;for(G=this.cV.length-1;G>=0;G--){if(!(this.cV[G].locked)){Vd++;Wz=G;}}if(Vd>4){ct=this.cV[Wz];this.uiDirector.adB(ct);this.cV.splice(Wz,1);}ct=new ate();ct.pool=this;this.uiDirector.asF(ct);this.cV.push(ct);ct.locked=true;ct.tile=fi;fi.poolItem=ct;return;};this.Xo=function(fi){var ct,G;if(this.locked){return true;}for(G=0;G<this.cV.length;G++){if(this.cV[G].tile===fi){ct=this.cV[G];ct.locked=true;fi.poolItem=ct;return true;}}return false;};this.ahG=function(fi){var iU,G;iU=fi.poolItem;if(iU!==undefined&&iU.locked){this.uiDirector.asa(iU);iU.locked=false;fi.poolItem=undefined;for(G=0;G<this.cV.length;G++){if(this.cV[G]===iU){this.cV.splice(G,1);this.cV.push(iU);return;}}}};return this;};OD.prototype.aAD=function(){var G;for(G=0;G<this.cV.length;G++){if(!this.cV[G].locked){this.uiDirector.adB(this.cV[G]);}}};var ate=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=OD;},{}],32:[function(require,module,exports){var rc=function(){this.fB=[];return this;};rc.prototype.aFX=function(dI,dR){var dk=dI.qi();var G,mZ,oK;var cS=1;var abp;var wJ=[];var ve=[];var vG=[];var Gw,KN;oK=this.fB.length;for(G=0;G<this.fB.length;G++){if(this.fB[G].dk>dk){oK=G;break;}}mZ=oK-1;if(mZ<0){mZ=0;}if(oK>=this.fB.length){oK=this.fB.length-1;}if(mZ!==oK){abp=(dk-this.fB[mZ].dk)/(this.fB[oK].dk-this.fB[mZ].dk);cS=abp*1.0;if(cS>=0.15){cS=1;mZ=oK;}if(cS<=0.15){cS=1;oK=mZ;}}ve=this.fB[mZ].Ry(dR);vG=this.fB[oK].Ry(dR);var Pq=function(nX){var G;for(G=0;G<nX.length;G++){nX[G].level.pool.Xo(nX[G]);}};var YX=function(nX){var ajK=[];var G;for(G=0;G<nX.length;G++){if(!nX[G].get_isLockedAndLoaded()){ajK.push(nX[G]);}}return ajK;};var alQ=function(nX){var ajq=[];var G;for(G=0;G<nX.length;G++){if(nX[G].get_isLockedAndLoaded()){ajq.push(nX[G]);}}return ajq;};if(mZ>0&&mZ===oK&&this.fB[oK].tiles.length>1){mZ=oK-1;ve=this.fB[mZ].Ry(dR);}Pq(ve);wJ=YX(ve);if(wJ.length>0){for(Gw=mZ-1;Gw>=0;Gw--){KN=this.fB[Gw].Ry(dR);Pq(KN);if(YX(KN).length<1){break;}}if(Gw<0){ve=alQ(ve);}else{mZ=Gw;ve=KN;cS=1;}}else{Pq(vG);wJ=YX(vG);}Pq(vG);vG=alQ(vG);if(wJ.length>3){wJ.splice(3,wJ.length-3);}function aCS(){var aC;function ZW(EO){var aC='',G,aX;if(EO.length<1){return '';}aX=EO[0].level;aC+='level '+aX.id.toString()+' - ';for(G=0;G<EO.length;G++){if(G>0){aC+=', ';}aC+='('+(EO[G].x/aX.lY).toString()+','+(EO[G].y/aX.Aa).toString()+')';if(EO[G].get_isLockedAndLoaded()){aC+='*';}}return aC;};aC='tilesToRequest: '+ZW(wJ)+'<br/>';aC+='opaqueTiles: '+ZW(ve)+'<br/>';aC+='translucentTiles: '+ZW(vG)+'<br/>';aC+='opacity: '+cS.toString()+'<br/>';aC+='apl: '+dk.toString()+'<br/>';aC+='dI: '+dI.toString()+'<br/>';return aC;};return{opaqueTiles:ve,translucentTiles:vG,opacity:cS,tilesToRequest:wJ,toString:aCS,apl:dk,dI:dI.toString()};};rc.prototype.avD=function(ov){var Ee=[];var sK=[];var G,j;var aX,tile;for(G=0;G<this.fB.length;G++){aX=this.fB[G];for(j=0;j<aX.tiles.length;j++){tile=aX.tiles[j];if(tile.poolItem!==undefined){Ee.push(tile);}}}var afY=function(WY,aln){var G,j,SI,To;for(G=0;G<aln.length;G++){SI=aln[G];To=true;for(j=0;j<WY.length;j++){if(SI===WY[j]){To=false;break;}}if(To){WY.push(SI);}}};sK=ov.tilesToRequest.concat();afY(sK,ov.opaqueTiles);afY(sK,ov.translucentTiles);for(G=Ee.length-1;G>=0;G--){var aEl=Ee[G];for(j=0;j<sK.length;j++){if(sK[j]===aEl){Ee.splice(G,1);break;}}}for(G=0;G<Ee.length;G++){Ee[G].unlock();}for(G=0;G<sK.length;G++){sK[G].relock();}for(G=0;G<sK.length;G++){if(sK[G].poolItem===undefined){sK[G].lock();}}};rc.prototype.unlockAllItems=function(){var G,j,aX;for(G=0;G<this.fB.length;G++){aX=this.fB[G];for(j=0;j<aX.tiles.length;j++){if(aX.tiles[j].poolItem!==undefined){aX.pool.ahG(aX.tiles[j]);}}}};rc.prototype.aGF=function(){var G;for(G=0;G<this.fB.length;G++){this.fB[G].pool.aAD();}};rc.prototype.toString=function(){var aC='',G,j,aX;for(G=0;G<this.fB.length;G++){aX=this.fB[G];aC+='Level '+G.toString()+':   scaleFactor='+aX.dk.toString()+'  image='+aX.width.toString()+'x'+aX.height.toString()+'  tile='+aX.lY.toString()+'x'+aX.Aa.toString()+'\n';for(j=0;j<aX.tiles.length;j++){if(j>0){aC+=', ';}aC+='('+aX.tiles[j].x.toString()+', '+aX.tiles[j].y.toString()+')';}aC+='\n';}return aC;};rc.prototype.expandTile=function(fi,Sv,Qy,age,agQ,aX){fi.x=IPCC.C.Ny(Sv-fi.yg,0,Sv,Sv-fi.yg);fi.y=IPCC.C.Ny(Qy-fi.xz,0,Qy,Qy-fi.xz);fi.aO=IPCC.C.Lu(age+(2*fi.yg),aX.width,age);fi.by=IPCC.C.Lu(agQ+(2*fi.xz),aX.height,agQ);if(fi.x+fi.aO>aX.width){fi.x=fi.x-fi.yg;fi.aO=aX.width-fi.x;fi.yg=0;}if(fi.y+fi.by>aX.height){fi.y=fi.y-fi.xz;fi.xz=0;fi.by=aX.height-fi.y;}return fi;};rc.prototype.createPyramid=function(jh,L){var aoZ=6000000;var aku=5000;var lY=1024;var aos=lY*lY*3*150;var aeC=0.5;var aqs=2;var bL=L.dO();var AQ=bL.width*bL.height*3;var ym;var aX;var dk;var G;var bi,de;var tile;var Fv,Gg;this.fB=[];if(bL.qO){dk=1.0;ym=AQ*dk*dk;while(this.fB.length<aqs||ym>aku){aX=new IPCC.DH();aX.dk=dk;this.fB.unshift(aX);dk*=aeC;ym=AQ*dk*dk;}}else{if(L.pE()===true){AQ=bL.width*bL.height;}dk=Math.sqrt(aku/AQ);var ayz=dk*bL.gp;dk=Math.ceil(ayz)/bL.gp;ym=AQ*dk*dk;if(L.pE()===false){while(ym<aos){aX=new IPCC.DH();aX.dk=dk;this.fB.push(aX);dk/=aeC;ym=AQ*dk*dk;}}else{aX=new IPCC.DH();aX.dk=1;this.fB.push(aX);}}bL.su=this.fB[this.fB.length-1].dk*8;for(G=0;G<this.fB.length;G++){aX=this.fB[G];aX.Qi=85;if(G===this.fB.length-1){aX.Qi=100;}aX.pyramid=this;aX.id=G;aX.pool=new IPCC.OD();aX.pool.uiDirector=jh;ym=AQ*aX.dk*aX.dk;aX.width=Math.round(bL.width*aX.dk);aX.height=Math.round(bL.height*aX.dk);aX.lY=aX.width;aX.Aa=aX.height;if(G>2&&G>this.fB.length-2){aX.lY=Math.min(lY/2,aX.width);aX.Aa=Math.min(lY/2,aX.height);}if(ym>aoZ){aX.lY=Math.min(lY,aX.width);aX.Aa=Math.min(lY,aX.height);}aX.tiles=[];Fv=aX.lY;for(bi=0;bi<aX.width;bi+=Fv){Fv=aX.lY;if(bi+Fv*1.25>aX.width){Fv=aX.width-bi;}Gg=aX.Aa;for(de=0;de<aX.height;de+=Gg){Gg=aX.Aa;if(de+Gg*1.25>aX.height){Gg=aX.height-de;}tile=new IPCC.vu();tile.level=aX;if(L.pE()===false){var PW='jpeg';if(aX.Qi>=100){PW='png';}tile.contentType=PW;tile.xz=2;tile.yg=2;tile=this.expandTile(tile,bi,de,Fv,Gg,aX);if(tile.aO!==aX.width||tile.by!==aX.height){tile.url=L.Tx('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.aO.toString()+'/'+tile.by.toString(),'Scale='+aX.dk.toString()+'&Quality='+aX.Qi+'&ContentType='+PW);}else{tile.url=L.Tx('','Scale='+aX.dk.toString()+'&Quality='+aX.Qi+'&ContentType='+PW);}}else{tile.url=L.Tx('','Scale='+aX.dk.toString()+'&ContentType='+IPCC.C.Ba);tile.aGh=jh.ads();}tile.right=tile.x+tile.aO;tile.bottom=tile.y+tile.by;aX.tiles.push(tile);}}}};module.exports=rc;},{}],33:[function(require,module,exports){var qF=function(){this.ah=false;this.L=false;};qF.prototype.mf=function(L){this.L=L;};qF.prototype.fd=function(){this.L=false;};qF.prototype.bn=function(){if(this.ah){this.L.aN().hideMagnifier();this.ah=false;}};qF.prototype.qn=function(){this.bn();};qF.prototype.le=function(V){this.bn();if(V.domEvent.button===0){this.ah=true;this.L.aN().showMagnifier(V.windowPoint);this.L.dC();}};qF.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){this.L.aN().showMagnifier(V.windowPoint);this.L.dC();}};qF.prototype.lz=function(){this.bn();this.L.dC();};qF.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};module.exports=qF;},{}],34:[function(require,module,exports){var eB=function(gb,iH,iu,hA,fD,dS){if(arguments.length===0){gb=hA=1;iH=iu=fD=dS=0;}this.ano=function(){return gb*hA-iH*iu;};this.aIc=function(){return gb===1&&iH===0&&iu===0&&hA===1&&fD===0&&dS===0;};this.pD=function(){return gb;};this.qK=function(){return iH;};this.rr=function(){return iu;};this.uW=function(){return hA;};this.xh=function(){return fD;};this.yE=function(){return dS;};this.append=function(dI){var JD=gb*dI.pD()+iH*dI.rr();var Jo=gb*dI.qK()+iH*dI.uW();var Ky=iu*dI.pD()+hA*dI.rr();var JF=iu*dI.qK()+hA*dI.uW();var Ka=fD*dI.pD()+dS*dI.rr()+dI.xh();var Kj=fD*dI.qK()+dS*dI.uW()+dI.yE();gb=JD;iH=Jo;iu=Ky;hA=JF;fD=Ka;dS=Kj;};this.equals=function(H){if(gb!==H.pD()){return false;}if(iH!==H.qK()){return false;}if(iu!==H.rr()){return false;}if(hA!==H.uW()){return false;}if(fD!==H.xh()){return false;}if(dS!==H.yE()){return false;}return true;};this.wg=function(){if(!this.akN()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var En=this.ano();var JD=hA/En;var Jo= -iH/En;var Ky= -iu/En;var JF=gb/En;var Ka=(iu*dS-hA*fD)/En;var Kj=(iH*fD-gb*dS)/En;gb=JD;iH=Jo;iu=Ky;hA=JF;fD=Ka;dS=Kj;};this.Ij=function(dI){var JD=dI.pD()*gb+dI.qK()*iu;var Jo=dI.pD()*iH+dI.qK()*hA;var Ky=dI.rr()*gb+dI.uW()*iu;var JF=dI.rr()*iH+dI.uW()*hA;var Ka=dI.xh()*gb+dI.yE()*iu+fD;var Kj=dI.xh()*iH+dI.yE()*hA+dS;gb=JD;iH=Jo;iu=Ky;hA=JF;fD=Ka;dS=Kj;};this.vY=function(jK,rR,nt,mk){fD-=nt;dS-=mk;this.scale(jK,rR);fD+=nt;dS+=mk;};this.aEp=function(){gb=hA=1;iH=iu=fD=dS=0;};this.transform=function(bK){var bi=bK.x*gb+bK.y*iu+fD;var de=bK.y*hA+bK.x*iH+dS;return new IPCC.Web.UI.Point(bi,de);};this.lP=function(Yx,Zh){fD+=Yx;dS+=Zh;};this.aDJ=function(H){if(Math.abs(gb-H.pD())>1e-8){return false;}if(Math.abs(iH-H.qK())>1e-8){return false;}if(Math.abs(iu-H.rr())>1e-8){return false;}if(Math.abs(hA-H.uW())>1e-8){return false;}if(Math.abs(fD-H.xh())>1e-8){return false;}if(Math.abs(dS-H.yE())>1e-8){return false;}return true;};this.toString=function(){return '{'+gb.toFixed(6)+', '+iH.toFixed(6)+', '+iu.toFixed(6)+', '+hA.toFixed(6)+', '+fD.toFixed(3)+', '+dS.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eB(gb,iH,iu,hA,fD,dS);};this.QG=function(hH){gb=hH.pD();iH=hH.qK();iu=hH.rr();hA=hH.uW();fD=hH.xh();dS=hH.yE();};this.aEi=function(aI,aJ){gb=1;hA=aJ.hd*aI.gp/(aI.hd*aJ.gp);iH=iu=fD=dS=0;};this.Yc=function(av,aI,aJ){switch(av){case IPCC.Web.UI.FitType.FullImage:this.auL(aI,aJ);break;case IPCC.Web.UI.FitType.FullWidth:this.aaf(aI,aJ);break;case IPCC.Web.UI.FitType.FullHeight:this.aaj(aI,aJ);break;case IPCC.Web.UI.FitType.ActualSize:this.aar(aI,aJ);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aI.qO)){this.aar(aI,aJ);}else{this.avb(aI,aJ);}break;}};this.aaf=function(aI,aJ){var mg=this.rn(aI);var Bk=aJ.width-2;if(Bk<1){Bk=1;}var bz=Bk/mg.width;this.scale(bz,bz);mg=this.rn(aI);if(mg.y<0){this.lP(0,-mg.y);}};this.aaj=function(aI,aJ){var mg=this.rn(aI);var Bk=aJ.height-2;if(Bk<1){Bk=1;}var bz=Bk/mg.height;this.scale(bz,bz);mg=this.rn(aI);if(mg.x<0){this.lP(-mg.x,0);}};this.auL=function(aI,aJ){var kE=this.clone();kE.aaf(aI,aJ);this.aaj(aI,aJ);if(Math.max(Math.abs(gb),Math.abs(iH))>Math.max(Math.abs(kE.pD()),Math.abs(kE.qK()))){this.QG(kE);}};this.aar=function(aI,aJ){var mg=this.rn({x:0,y:0,width:aI.gp,height:aI.hd});var bz=aJ.gp/mg.width;this.scale(bz,bz);};this.avb=function(aI,aJ){var mg=this.rn({x:0,y:0,width:1,height:1});var bz=1/Math.min(mg.width,mg.height);this.scale(bz,bz);if(Math.abs(gb-1)<0.0001){gb=1;}if(Math.abs(hA-1)<0.0001){hA=1;}};return this;};eB.prototype.akN=function(){return Math.abs(this.ano())>1e-14;};eB.prototype.rotate=function(zi){this.agE(zi,0,0);};eB.prototype.agE=function(zi,nt,mk){var Im=zi*Math.PI*2/360;var gh=Math.sin(Im);var fr=Math.cos(Im);var dI=new IPCC.eB(fr,gh,-gh,fr,nt*(1-fr)+mk*gh,mk*(1-fr)-nt*gh);this.append(dI);};eB.prototype.axX=function(zi,nt,mk){var Im=zi*Math.PI*2/360;var gh=Math.sin(Im);var fr=Math.cos(Im);var dI=new IPCC.eB(fr,gh,-gh,fr,nt*(1-fr)+mk*gh,mk*(1-fr)-nt*gh);this.Ij(dI);};eB.prototype.aHW=function(zi){this.axX(zi,0,0);};eB.prototype.scale=function(jK,rR){var dI=new IPCC.eB(jK,0,0,rR,0,0);this.append(dI);};eB.prototype.aHM=function(jK,rR,nt,mk){var dI=new IPCC.eB(jK,0,0,rR,nt*(1-jK),mk*(1-rR));this.Ij(dI);};eB.prototype.aFV=function(jK,rR){var dI=new IPCC.eB(jK,0,0,rR,0,0);this.Ij(dI);};eB.prototype.skew=function(qf,rm){var dI=new IPCC.eB(1,Math.tan(rm*Math.PI*2/360),Math.tan(qf*Math.PI*2/360),1,0,0);this.append(dI);};eB.prototype.aEV=function(qf,rm){var dI=new IPCC.eB(1,Math.tan(rm*Math.PI*2/360),Math.tan(qf*Math.PI*2/360),1,0,0);this.Ij(dI);};eB.prototype.aIg=function(Yx,Zh){var dI=new IPCC.eB(1,0,0,1,Yx,Zh);this.Ij(dI);};eB.prototype.yk=function(J){var es=this.transform({x:J.x,y:J.y});var mT=es.x;var mK=es.x;var nu=es.y;var nb=es.y;es=this.transform({x:J.x+J.width,y:J.y});mT=Math.min(mT,es.x);mK=Math.max(mK,es.x);nu=Math.min(nu,es.y);nb=Math.max(nb,es.y);es=this.transform({x:J.x+J.width,y:J.y+J.height});mT=Math.min(mT,es.x);mK=Math.max(mK,es.x);nu=Math.min(nu,es.y);nb=Math.max(nb,es.y);es=this.transform({x:J.x,y:J.y+J.height});mT=Math.min(mT,es.x);mK=Math.max(mK,es.x);nu=Math.min(nu,es.y);nb=Math.max(nb,es.y);return new IPCC.Web.UI.Rectangle(mT,nu,mK-mT,nb-nu);};eB.prototype.atf=function(aI,aJ,fl){var amm=this.clone();amm.wg();var azK=amm.transform({x:fl.x+fl.width/2,y:fl.y+fl.height/2});var bz=Math.min(aJ.width/fl.width,aJ.height/fl.height);bz-=1e-10;var kg=this.qi();if(kg*bz>aI.su){bz=aI.su/kg;}if(kg*bz<aI.st){bz=aI.st/kg;}this.scale(bz,bz);this.abN(aJ,azK);};eB.prototype.KV=function(aI,aJ,dR){this.atf(aI,aJ,this.yk(dR));};eB.prototype.aIf=function(aJ){this.vY(1,-1,aJ.width/2,aJ.height/2);};eB.prototype.asH=function(aJ){this.vY(-1,1,aJ.width/2,aJ.height/2);};eB.prototype.Zm=function(apI,afe){var acO=this.transform(apI);this.lP(afe.x-acO.x,afe.y-acO.y);};eB.prototype.abN=function(aJ,cF){var anG=this.transform(cF);this.lP(aJ.width/2-anG.x,aJ.height/2-anG.y);};eB.prototype.kY=function(bL,aJ){var bi=0,de=0,end;var nI=this.rn(bL);if(nI.width<aJ.width){bi=(aJ.width-nI.width)/2-nI.x;}else{end=nI.x+nI.width;if(end<aJ.width){bi=aJ.width-end;}if(nI.x>0){bi= -nI.x;}}if(nI.height<aJ.height){de=(aJ.height-nI.height)/2-nI.y;}else{end=nI.y+nI.height;if(end<aJ.height){de=aJ.height-end;}if(nI.y>0){de= -nI.y;}}this.lP(bi,de);};eB.prototype.rn=function(bL){return this.yk({x:0,y:0,width:bL.width,height:bL.height});};eB.prototype.aEy=function(){var gD,xF,iB,vo,ahc,jF;gD=this.transform({x:0,y:0});xF=this.transform({x:0,y:1});iB=this.transform({x:1,y:0});vo=Math.atan2(xF.y-gD.y,xF.x-gD.x);ahc=Math.atan2(iB.y-gD.y,iB.x-gD.x);jF=vo-ahc;if(jF>Math.PI){jF=jF-2*Math.PI;}if(jF< -Math.PI){jF=jF+2*Math.PI;}return jF<0;};eB.prototype.alu=function(){var gD,xF,vo;gD=this.transform({x:0,y:0});xF=this.transform({x:0,y:1});vo=Math.atan2(xF.y-gD.y,xF.x-gD.x)-Math.PI/2;if(vo<0){vo=vo+2*Math.PI;}return vo*360/(Math.PI*2);};eB.prototype.qi=function(){var gc;var gD,qX;var fE,ek,dk;gD=this.transform({x:0,y:0});qX=this.transform({x:1,y:0});fE=qX.x-gD.x;ek=qX.y-gD.y;gc=fE*fE+ek*ek;qX=this.transform({x:0,y:1});fE=qX.x-gD.x;ek=qX.y-gD.y;dk=Math.min(gc,fE*fE+ek*ek);qX=this.transform({x:1,y:1});fE=qX.x-gD.x;ek=qX.y-gD.y;dk=Math.min(gc,fE*fE+ek*ek);qX=this.transform({x:1,y: -1});fE=qX.x-gD.x;ek=qX.y-gD.y;dk=Math.min(gc,fE*fE+ek*ek);return Math.sqrt(gc);};eB.aGB=function(){return new IPCC.eB(1,0,0,1,0,0);};module.exports=eB;},{}],35:[function(require,module,exports){var fg={acf:1,aaa:2,Wp:3,ajD:4,akV:5,FU:6,MO:7,ajY:8,akU:9,aks:10,alo:11,als:12,ajO:13,aaX:14,acd:15,aft:16};module.exports=fg;},{}],36:[function(require,module,exports){var db=function(){this.L=false;this.aCG=1.5;};db.prototype.mf=function(L){this.L=L;};db.prototype.fd=function(){this.L=false;};db.prototype.bn=function(){};db.prototype.nc=function(V){var aW=this.L.aN();var aI=this.L.dO();var aJ=this.L.eO();var bU=aW.fF();var LV=V.wheelDelta/120;if(V.domEvent.ctrlKey){V.domEvent.preventDefault();var bz=((this.aCG-1)/2)+1;if(LV<0){bz=1/bz;}var kg=bU.qi();if(kg*bz>aI.su){bz=aI.su/kg;}if(kg*bz<aI.st){bz=aI.st/kg;}bU.vY(bz,bz,V.windowPoint.x,V.windowPoint.y);bU.kY(aI,aJ);this.L.aK('userModifiedViewState',{});aW.iK(bU);}else{var ame=bU.transform({x:0,y:0});bU.lP(0,LV*aJ.hd);bU.kY(aI,aJ);var amG=bU.transform({x:0,y:0});if(Math.abs(ame.x-amG.x)>0.001||Math.abs(ame.y-amG.y)>0.001){V.domEvent.preventDefault();this.L.aK('userModifiedViewState',{});aW.iK(bU);}}this.L.dC();};module.exports=db;},{}],37:[function(require,module,exports){var cw=function(afB){this.afB=afB;this.Uf=0;this.Oe=1;this.NL=2;this.Ta=3;this.RV=4;this.cl=this.Uf;this.L=false;this.lN=0;};cw.prototype.mf=function(L){this.L=L;this.aW=L.aN();};cw.prototype.fd=function(){this.L=false;};cw.prototype.bn=function(){if(this.cl===this.NL){this.L.aN().hideMagnifier();}this.cl=this.Uf;};cw.prototype.MH=function(V){var ax=V.domEvent.rawEvent;switch(this.cl){case this.Uf:if(ax.touches.length===1){this.aAL(V);}else if(ax.touches.length===2){this.amj(V);}else if(ax.touches.length===3){this.Vc(V);}else{this.bn();}break;case this.Oe:if(ax.touches.length===2){this.amj(V);}else if(ax.touches.length===3){this.Vc(V);}else{this.bn();}break;case this.RV:if(ax.touches.length!==3){this.bn();}break;case this.NL:this.bn();break;case this.Ta:if(ax.touches.length===3){this.Vc(V);}else if(ax.touches.length!==2){this.bn();}break;}};cw.prototype.Nv=function(V){switch(this.cl){case this.Oe:this.lN++;break;case this.NL:this.adQ(V);break;case this.Ta:this.azq(V);break;case this.RV:this.aAi(V);break;}};cw.prototype.Oc=function(){this.bn();};cw.prototype.KA=function(){this.bn();};cw.prototype.aAL=function(V){this.cl=this.Oe;this.lN++;var aCI=this.lN;var h=this;function asf(){if(h.cl===this.Oe&&aCI===h.lN){h.aAH(V);}};setTimeout(asf,1000);};cw.prototype.aAH=function(V){this.L.gP('qn',V);this.adQ(V);this.cl=this.NL;};cw.prototype.Vc=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length!==3){this.bn();return;}var gE=ax.touches[0];var cA={x:gE.screenX,y:gE.screenY};var dI=this.aW.fF();dI.wg();this.Sk=cA;this.azA=cA;this.aaq=dI.transform(cA);this.cl=this.RV;this.aIe=this.aW.fF();this.anm=true;this.alE=true;};cw.prototype.aAi=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length!==3){this.bn();return;}var gE=ax.touches[0];var cA={x:gE.screenX,y:gE.screenY};var avP=Math.abs(cA.x-this.Sk.x);var avX=Math.abs(cA.y-this.Sk.y);if(avP>35){this.alE=false;}if(avX>35){this.anm=false;}if(this.anm){cA.y=this.Sk.y;}if(this.alE){cA.x=this.Sk.x;}this.azA=cA;var bU=this.aW.fF();var aJ=this.L.eO();var aI=this.L.dO();bU.Zm(this.aaq,cA);bU.kY(aI,aJ);this.aW.iK(bU);};cw.prototype.aHG=function(){};cw.prototype.ajP=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length!==2){this.bn();return{};}var KH=ax.touches[0];var LX=ax.touches[1];var fE=KH.screenX-LX.screenX;var ek=KH.screenY-LX.screenY;var vX=Math.sqrt(fE*fE+ek*ek);var jF=Math.atan2(fE,ek)*180/Math.PI;var bK={x:(KH.screenX+LX.screenX)/2,y:(KH.screenY+LX.screenY)/2};return{vX:vX,jF:jF,alv:bK};};cw.prototype.amj=function(V){this.cl=this.Ta;this.arm=this.ajP(V);this.PG=this.arm;var dI=this.aW.fF();dI.wg();this.aaq=dI.transform(this.PG.alv);this.FF=this.PG.jF;};cw.prototype.adQ=function(V){var ax=V.domEvent.rawEvent;var gE=ax.touches[0];var cA={x:gE.screenX,y:gE.screenY};this.aW.showMagnifier(cA);};cw.prototype.azq=function(V){var wM=this.ajP(V);var dk=wM.vX/this.PG.vX;var bU=this.aW.fF();var aJ=this.L.eO();var aI=this.L.dO();bU.scale(dk,dk);var Du=this.FF-wM.jF;var abZ=this.FF-wM.jF-360;var adh=this.FF-wM.jF+360;if(Math.abs(Du)>Math.abs(abZ)){Du=abZ;}if(Math.abs(Du)>Math.abs(adh)){Du=adh;}if(Du< -40){bU.rotate(-90);this.FF=wM.jF;}else if(Du>40){bU.rotate(90);this.FF=wM.jF;}bU.Zm(this.aaq,wM.alv);bU.kY(aI,aJ);this.aW.iK(bU);this.PG=wM;};cw.prototype.aGL=function(V){var bU=this.aW.fF();var aJ=this.L.eO();var aI=this.L.dO();bU.Yc(IPCC.Web.UI.FitType.FullImage,aI,aJ);bU.kY(aI,aJ);this.aW.iK(bU);};cw.prototype.nc=function(){this.bn();};module.exports=cw;},{}],38:[function(require,module,exports){var bY=require('./IPCC.Util').regClass;var Ns=function(){return this;};Ns.registerClass=bY;Ns.prototype={};Ns.registerClass('IPCC.OpenPageEventArgs');module.exports=Ns;},{"./IPCC.Util":28}],39:[function(require,module,exports){var bY=require('./IPCC.Util').regClass;var KR=function(){return this;};KR.registerClass=bY;KR.prototype={};KR.registerClass('IPCC.PageEventArgs');module.exports=KR;},{"./IPCC.Util":28}],40:[function(require,module,exports){var bf=function(aG){this.fw=aG.page;this.aA=0;this.bM=0;this.fW=0;this.gK=0;var ai=new IPCC.Web.UI.hj();this.ani=undefined;this.gV=false;this.aoX=false;this.JS=0;this.aHL=undefined;this.AC=false;this.yj=false;this.DO=false;this.hB=0;this.EQ=0;this.AY=false;this.Fk=false;this.ag=new IPCC.Web.UI.ArtPage();this.eg=new IPCC.Web.UI.ArtPage();this.cT=this.fw.get_pageNumber();this.bx=this.fw.aZ.RS+'_'+this.cT+'__pViewId';this.aZ=this.fw.aZ;this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};return this;};bf.prototype.lK=function(){if(this.fw){return this.fw.lq()||this.aA;}return this.aA;};bf.prototype.pO=function(){if(this.fw){return this.fw.iT()||this.bM;}return this.bM;};bf.prototype.TO=function(bool){bool= ! !bool;if(this.fw){this.fw.AY=bool;}this.AY=bool;};bf.prototype.aja=function(){if(this.fw){return this.fw.AY||this.AY;}return this.AY;};module.exports=bf;},{}],41:[function(require,module,exports){var eN=require('./IPCC.Util').regEnum;var Gp=function(){};Gp.registerEnum=eN;Gp.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};Gp.registerEnum('IPCC.PageLayout',false);module.exports=Gp;},{"./IPCC.Util":28}],42:[function(require,module,exports){var bY=require('./IPCC.Util').regClass;var aGf=function(){this.dQ=undefined;return this;};var LD=function(element){var h=this;var JC=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var aEF=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var ai=new IPCC.Web.UI.hj();var bJ=[];var aqa;var bg='';var Ez='';var bq='';var kn='';var IZ='';var HG=0;this.Bq=new IPCC.Web.UI.ImGearDocumentCollection();var JU=[];this.aGV=0;this.aHm={x:0,y:0};var ng=0;var oy=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var ml=false;var dm=0;var vg=false;var PP=[];var FH='';var dv=1;var sF=0;var lJ=1;var qj=1;var bP=IPCC.Web.UI.MouseTool.None;var zG=false;var rC=true;var ac=IPCC.ab.None;var jz;var gz=0;var iF=0;var ake=0;var fs=0;var hf=15;var js=0;var gk=15;var pl=0;var mJ=0;var qp=0;var oI=0;var axV=0;var gl=0;var fS=0;var oD=1;var fv=IPCC.PageLayout.VerticalScrollDirection;var cR=IPCC.ViewMode.Document;var mu=null;var TL=null;var Qd=0;var Vi=0;var yu=0;var yF=false;var iM=null;var Jv=0;var HX='';var EL='';var qs=[];var Fp=0;var tw=3;var Oh=0.5;var GR=true;var QM=false;var NU=false;var Zn;var sV=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var uO=true;var lQ;var di={};var ti=false;var or=function(){return null;};var hW=null;var aji="font-size:11px;color:#888;text-align:center;cursor:pointer;";var axI=aji+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var axR=aji+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var du=96;var an;function md(HQ){if(!_debug){return false;}return oy>=HQ;};this.aV=function(hZ,jx){if(!md(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dw=hZ+'() threw an exception ('+jx.name+'), "'+jx.message+'"';dw=dw.replace(/\n/g," ");IPCC.jb.pn(dw,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nT().id);var mN=new IPCC.ExceptionEventArgs();mN.functionName=hZ;mN.exception=jx;this.aK('exceptionThrown',mN);};this.ba=function(hZ,kI,ra){if(!md(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],(ra?ra:0));}dw+=')';this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);};this.Eu=function(hZ,kI,pe,ra){if(!md(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],(ra?ra:0));}dw+=') = ';dw+=IPCC.jb.sd(pe,1);this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);};this.cC=function(hZ,kI,pe){if(!md(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],0);}dw+=') = ';dw+=IPCC.jb.sd(pe,1);this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wC=function(jZ,aX){IPCC.jb.pn(jZ,IPCC.Web.UI.DebugItemCause.FunctionCall,aX,'PageList',this.nT().id);};this.pn=function(jZ){IPCC.jb.pn(jZ,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nT().id);};this.JB=function(){return _debug;};this.Sp=function(H){var Ig= ! !H;if(_debug===Ig){return;}_debug=Ig;var bW=im();var ca=[];if(bW){ca=pK(bW);}var G=0;for(G=0;G<ca.length;G++){var aB;if(bJ[ca[G]].bx){aB=document.getElementById(bJ[ca[G]].bx).aL;}if(aB){aB.set_debug(_debug);}}this.cs('debug');};this.zx=function(){return oy;};this.Jz=function(H){IPCC.aq.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);if(oy===H){return;}oy=H;var bW=im();var ca=[];if(bW){ca=pK(bW);}var G=0;for(G=0;G<ca.length;G++){var aB;if(bJ[ca[G]].bx){aB=document.getElementById(bJ[ca[G]].bx).aL;}if(aB){aB.set_debugErrorLevel(oy);}}this.cs('debugErrorLevel');};function cG(dP,T){ai.addHandler(dP,T);};function ck(dP,T){ai.removeHandler(dP,T);};this.Sl=function(T){cG('mouseDown',T);};this.Xu=function(T){ck('mouseDown',T);};this.QJ=function(T){cG('mouseMove',T);};this.Xi=function(T){ck('mouseMove',T);};this.Rz=function(T){cG('mouseUp',T);};this.WW=function(T){ck('mouseUp',T);};this.Wu=function(T){cG('selectTextMouseToolCompleted',T);};this.Xh=function(T){ck('selectTextMouseToolCompleted',T);};this.zo=function(T){cG('textPageReady',T);};this.GH=function(T){ck('textPageReady',T);};this.WK=function(T){cG('hyperlinkPageReady',T);};this.acy=function(T){ck('hyperlinkPageReady',T);};this.atF=function(T){cG('allPagesAdded',T);};this.ayu=function(T){ck('allPagesAdded',T);};this.WU=function(T){cG('pageOpening',T);};this.WR=function(T){ck('pageOpening',T);};this.XG=function(T){cG('pageOpened',T);};this.Wy=function(T){ck('pageOpened',T);};this.Ho=function(T){cG('pageOpenFailed',T);};this.Ik=function(T){ck('pageOpenFailed',T);};this.XI=function(T){cG('pageDisplayed',T);};this.XN=function(T){ck('pageDisplayed',T);};this.jH=function(T){cG('propertyChanged',T);};this.nn=function(T){ck('propertyChanged',T);};this.Wi=function(T){cG('exceptionThrown',T);};this.Xj=function(T){ck('exceptionThrown',T);};this.AA=function(T){cG('textExtractionFailed',T);};this.FG=function(T){ck('textExtractionFailed',T);};this.xC=function(T){cG('markAdded',T);};this.AH=function(T){ck('markAdded',T);};this.WD=function(T){cG('markCreating',T);};this.Xc=function(T){ck('markCreating',T);};this.Iq=function(T){cG('markChanged',T);};this.Fx=function(T){ck('markChanged',T);};this.HC=function(T){cG('markReordered',T);};this.HA=function(T){ck('markReordered',T);};this.GO=function(T){cG('markSelectionChanged',T);};this.HJ=function(T){ck('markSelectionChanged',T);};this.Ic=function(T){cG('markTextSelectionChanged',T);};this.Hz=function(T){ck('markTextSelectionChanged',T);};this.xs=function(T){cG('markRemoved',T);};this.AP=function(T){ck('markRemoved',T);};this.auM=function(T){cG('commentAdding',T);};this.awD=function(T){ck('commentAdding',T);};this.xf=function(T){cG('commentAdded',T);};this.Gl=function(T){ck('commentAdded',T);};this.yT=function(T){cG('commentRemoved',T);};this.Gx=function(T){ck('commentRemoved',T);};this.rE=function(T){cG('commentChanged',T);};this.tL=function(T){ck('commentChanged',T);};this.Wh=function(T){cG('scaleChanged',T);};this.Wr=function(T){ck('scaleChanged',T);};this.QF=function(){var aL=document.getElementById(bJ[dm].bx).aL;if(aL){return aL.get_currentState();}else{return null;}};this.ant=function(){var al=IPCC.C.find(bJ,function(es){return es.cT===dm;});if(!al){return;}return al.fw;};this.apR=function(bj){var al=IPCC.C.find(bJ,function(es){return es.cT===dm;});if(!al){return;}return al.bx;};this.qi=function(){return dv;};this.aED=function(dk){kZ(dk,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Ml=function(bz,tk,Xp,eL){eL=eL||IPCC.ScaleTrigger.Zoom;kZ(dv*bz,Xp,undefined,undefined,undefined,tk,eL);};this.aqS=function(bz,bi,de,BQ,eL){eL=eL||IPCC.ScaleTrigger.Zoom;if(dv*bz<8){kZ(dv*bz,false,bi,de,BQ,undefined,eL);}else{kZ(8,false,bi,de,BQ);}};this.abJ=function(bz,eL){eL=eL||IPCC.ScaleTrigger.Zoom;kZ(dv/bz,false,undefined,undefined,undefined,undefined,eL);};this.aoE=function(){return YK();};this.agc=function(eL,fj,SH){var IH,Ku,aA,bM;var YU=0;var G=0;for(G=0;G<bJ.length;G++){aA=bJ[G].lK();bM=bJ[G].pO();if(iA(bJ[G].hB)===true){var Gc=aA;aA=bM;bM=Gc;}if(aA>0&&bM>0){var Ge=aA/bM;if(Ge>YU){YU=Ge;IH=bM;Ku=aA;}}}if(YU>0){var avz=(bg.offsetWidth-IPCC.Web.po()-uF()-(hf+gk+mJ+oI));var auI=avz/(Ku*du/bJ[0].fW);var fN=gz;var eW=iF;if(iA(bJ[0].hB)===true){fN=iF;eW=gz;}var aec=IH/eW*auI;var ky=(bg.clientHeight-(fs+js+pl+qp))/(eW*du/bJ[0].gK);var Fo=aec;if(SH===true&&aec>ky){Fo=ky;}kZ(Fo,true,undefined,undefined,undefined,undefined,eL,fj);}};this.ahd=function(eL,fj,SH){var IH,Ku,aA,bM;var YM=0;var G=0;for(G=0;G<bJ.length;G++){aA=bJ[G].lK();bM=bJ[G].pO();if(iA(bJ[G].hB)===true){var Gc=aA;aA=bM;bM=Gc;}if(aA>0&&bM>0){var Ge=bM/aA;if(Ge>YM){YM=Ge;IH=bM;Ku=aA;}}}if(YM>0){var asc=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp));var arU=asc/(IH*du/bJ[0].gK);var fN=gz;var eW=iF;if(iA(bJ[0].hB)===true){fN=iF;eW=gz;}var aej=Ku/fN*arU;var ky=(bg.clientWidth-uF()-(hf+gk+mJ+oI))/(fN*du/bJ[0].fW);var Fo=aej;if(SH===true&&aej>ky){Fo=ky;}kZ(Fo,true,undefined,undefined,undefined,undefined,eL,fj);}};this.ayU=function(fj,eL){if(h.wS&&typeof h.wS==='function'){h.wS();}var aA;var bM;var fc;var kd=1;eL=eL||IPCC.ScaleTrigger.Fit;if(fj===IPCC.FitType.FitToWidth){if(cR===IPCC.ViewMode.Document){kd=(bg.offsetWidth-IPCC.Web.po()-uF()-(hf+gk+mJ+oI))/(gl/dv);kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else if(cR===IPCC.ViewMode.SinglePage){if(iA(bJ[dm].hB)===true){aA=bJ[dm].pO();fc=du/bJ[dm].gK;}else{aA=bJ[dm].lK();fc=du/bJ[dm].fW;}kd=(bg.offsetWidth-IPCC.Web.po()-uF()-(hf+gk+mJ+oI))/(aA*fc);kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else{if(fv===IPCC.PageLayout.VerticalScrollDirection){Rs(eL,fj);}else{h.agc(eL,fj);}}}else if(fj===IPCC.FitType.ShrinkToWidth){var ara=bg.clientWidth-uF();var awO=20;var Ty=ara-awO;if(cR===IPCC.ViewMode.SinglePage){if(iA(bJ[dm].hB)===true){aA=bJ[dm].pO();fc=du/bJ[dm].gK;}else{aA=bJ[dm].lK();fc=du/bJ[dm].fW;}if(Ty<dv*aA*fc){kd=(bg.offsetWidth-IPCC.Web.po()-uF()-(hf+gk+mJ+oI))/(aA*fc);kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}}else{if(Ty<gl){kZ(dv*Ty/gl,true,undefined,undefined,undefined,undefined,eL,fj);}}}else if(fj===IPCC.FitType.ActualSize){if(cR===IPCC.ViewMode.Document||cR===IPCC.ViewMode.SinglePage){kZ(1,true,undefined,undefined,undefined,undefined,eL,fj);}}else if(fj===IPCC.FitType.FitToHeight){if(cR===IPCC.ViewMode.Document){kd=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp))/(fS/dv);kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else if(cR===IPCC.ViewMode.SinglePage){if(iA(bJ[dm].hB)===true){bM=bJ[dm].lK();fc=du/bJ[dm].fW;}else{bM=bJ[dm].pO();fc=du/bJ[dm].gK;}kd=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp))/(bM*fc);kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else{if(fv===IPCC.PageLayout.HorizontalScrollDirection){Rs(eL,fj);}else{h.ahd(eL,fj);}}}else if(fj===IPCC.FitType.BestFit){var BS;if(cR===IPCC.ViewMode.Document){kd=(bg.offsetWidth-IPCC.Web.po()-(hf+gk+mJ+oI))/(gl/dv);BS=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp))/(fS/dv);if(BS<kd){kd=BS;}kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else if(cR===IPCC.ViewMode.SinglePage){if(iA(bJ[dm].hB)===true){aA=bJ[dm].pO();bM=bJ[dm].lK();fc=du/bJ[dm].fW;}else{aA=bJ[dm].lK();bM=bJ[dm].pO();fc=du/bJ[dm].gK;}kd=(bg.offsetWidth-IPCC.Web.po()-uF()-(hf+gk+mJ+oI))/(aA*fc);BS=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp))/(bM*fc);if(BS<kd){kd=BS;}kZ(kd,true,undefined,undefined,undefined,undefined,eL,fj);}else{if(fv===IPCC.PageLayout.HorizontalScrollDirection){h.agc(eL,fj,true);}else{h.ahd(eL,fj,true);}}}};this.aoU=function(aa,as){var al=bJ[aa-1];var ap=document.getElementById(al.bx);var Cu=[];if(ap){var fA,CT,bK;try{fA=ZL(ap);}catch(e){return null;}Cu=IPCC.C.map(as,function(es){CT=ap.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(es.x,es.y),true);bK=ako(ap,CT.x,CT.y,fA);return{clientX:bK.x,clientY:bK.y};});return Cu;}else{return null;}};this.aAv=function(){var G=0;for(G=0;G<bJ.length;G++){h.dC(G);}im();nz();};this.dC=function(bj){var bG;if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}h.vi(bG,bj);};this.GW=function(bj){var bG;if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}if(bG){var aB=bG.aL;aB.GW();}};this.vi=function(bG,bj){if(bG&&bG.aL&&bG.aL.fz()===true){var aB=bG.aL;aB.display();bJ[bj].gV=true;if(cR===IPCC.ViewMode.SinglePage){var na= -1;if(Array.prototype.indexOf){na=qs.indexOf(bj);}else{na=IPCC.Web.kK(qs,bj);}if(na!== -1){qs.splice(na,1);}}}};function akP(ca){var bG;for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);var bj=al.get_pageNumber();if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}if(bG&&bG.aL&&bG.aL.FK()!==null){return bG.aL;}}return null;};this.Js=function(){var ca=this.get_displayedPages();var LY=akP(ca);LY.Js();};this.DC=function(bz){var gr=0;var ho=bJ.length-1;for(var ak=gr;ak<=ho;ak++){var aB;var bG=document.getElementById(bJ[ak].bx);if(bG){aB=bG.aL;}else{continue;}aB.set_sharpening(bz);if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.display();}}sF=bz;};this.apT=function(){return sF;};this.Er=function(bz){var gr=0;var ho=bJ.length-1;for(var ak=gr;ak<=ho;ak++){var aB;var bG=document.getElementById(bJ[ak].bx);if(bG){aB=bG.aL;}else{continue;}aB.set_gamma(bz);if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.display();}}qj=bz;};this.apj=function(){return qj;};this.DR=function(bz){var gr=0;var ho=bJ.length-1;for(var ak=gr;ak<=ho;ak++){var aB;var bG=document.getElementById(bJ[ak].bx);if(bG){aB=bG.aL;}else{continue;}aB.set_svgLineWidthMultiplier(bz);if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.display();}}lJ=bz;};this.aqW=function(){return lJ;};this.FK=function(){var ca=this.get_displayedPages();var LY=akP(ca);if(LY){return LY.FK();}return null;};this.vp=function(bj,R){var bG;if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}if(bG&&bG.aL){bG.aL.vp(R);}};this.nH=function(bj){var bG;if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}if(bG&&bG.aL){bG.aL.nH();}};var tX='';this.tn=function(H){tX=H;};this.nT=function(){return tX;};this.aK=function(dP,V){try{var T=ai.getHandler(dP);if(T!==null){T(h,V);}}catch(e){h.aV(dP+'Event',e);}};this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};this.atC=function(T){ai.addHandler('currentPageChanged',T);};this.avG=function(T){ai.removeHandler('currentPageChanged',T);};this.zX=function(dA,H){dA.style.cursor='move';dA.style.cursor='-webkit-'+H;dA.style.cursor='-moz-'+H;dA.style.cursor=H;};this.akj=function(){return bq.style.cursor||'auto';};this.aCr=function(H){bq.style.cursor=H||'auto';var G=0;for(G=0;G<bJ.length;G++){if(bJ[G].bx){var bG=document.getElementById(bJ[G].bx);if(bG){var aB=bG.aL;bG.style.cursor=H;if(aB){aB.set_cursor(H);if(bJ[G].gV===true&&aB.fz()===true){aB.display();}}}}}};this.TG=function(){return bP;};this.HW=function(H){IPCC.aq.iY(H,'value',IPCC.Web.UI.MouseTool);var me=false;if(bP!==H){jz=null;bP=H;switch(bP){case IPCC.Web.UI.MouseTool.HandPan:ac='grab';h.zX(bq,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:h.ug();ac=IPCC.ab.Text;bq.style.cursor=IPCC.ab.fo(ac);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:h.ug();ac=IPCC.ab.Text;bq.style.cursor=IPCC.ab.fo(ac);break;case IPCC.Web.UI.MouseTool.None:ac=IPCC.ab.None;bq.style.cursor=IPCC.ab.fo(ac);break;case IPCC.Web.UI.MouseTool.Magnifier:ac=IPCC.ab.Magnifier;bq.style.cursor=IPCC.ab.fo(ac);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ac=IPCC.ab.RectangleZoom;bq.style.cursor=IPCC.ab.fo(ac);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ac=IPCC.ab.AddRectangleMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ac=IPCC.ab.AddRectangleRedactionMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ac=IPCC.ab.AddEllipseMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ac=IPCC.ab.AddLineMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.mB()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ac=IPCC.ab.AddStampMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ac=IPCC.ab.AddImageStampMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ac=IPCC.ab.AddImageStampMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ac=IPCC.ab.AddTextMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ac=IPCC.ab.AddTextMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:ac=IPCC.ab.AddTextMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.eD(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ac=IPCC.ab.AddFreehandLineMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.kA()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ac=IPCC.ab.AddPolylineMark;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.kH(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:ac=IPCC.ab.EditMarks;bq.style.cursor=IPCC.ab.fo(ac);me=true;jz=function(){return[new IPCC.lu(IPCC.Web.UI.MarkType.Text)];};break;default:ac=IPCC.ab.None;bq.style.cursor=IPCC.ab.fo(ac);break;}var G=0;for(G=0;G<bJ.length;G++){if(bJ[G].bx){var bG=document.getElementById(bJ[G].bx);if(bG){var aB=bG.aL;if(ac==='grab'){h.zX(bG,'grab');}else{bG.style.cursor=IPCC.ab.fo(ac);}if(aB){aB.set_cursor(ac);aB.Ok(bP===IPCC.Web.UI.MouseTool.HandPan||bP===IPCC.Web.UI.MouseTool.EditMarks);if(me===true){aB.GU(jz());}else{aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(bJ[G].gV===true&&aB.fz()===true){aB.display();}}}}}this.cs('mouseTool');}};this.aDS=function(){return zG;};this.aBu=function(bool){zG= ! !bool;};this.xw=function(){return sV;};this.HE=function(H){if(sV!==H){sV=H;var bW=im();var ca=[];if(bW){ca=pK(bW);}var G=0;for(G=0;G<ca.length;G++){var bG;var aB;bG=document.getElementById(bJ[ca[G]].bx);aB=bG.aL;if(aB){aB.set_markHandleMode(sV);this.vi(bG,G);}}this.cs('markHandleMode');}};this.kr=function(){return rC;};this.Ia=function(H){if(rC!==H){rC=H;var bW=im();var ca=[];if(bW){ca=pK(bW);}var G=0;for(G=0;G<ca.length;G++){var aB;if(bJ[ca[G]].bx){aB=document.getElementById(bJ[ca[G]].bx).aL;}if(aB){aB.set_textRequired(rC);}}this.cs('textRequired');}};this.anL=function(){return tw;};this.aCx=function(H){if(H<0){H=0;}if(tw!==H){tw=H;this.cs('maxPrefetch');}};this.aCP=function(){return GR;};this.aBB=function(H){if(GR!==H){GR=H;this.cs('displayPagesWhenScrolling');}};this.aph=function(){return Fp;};this.aAX=function(H){if(H<0){H=0;}if(Fp!==H){Fp=H;this.cs('maxOutOfViewDisplay');}};this.aDj=function(){return QM;};this.aDF=function(H){if(QM!==H){QM= ! !H;this.cs('discardOutOfViewText');}};this.arn=function(){return NU;};this.aDM=function(H){if(NU!==H){NU= ! !H;this.cs('retainPageText');}};this.aqR=function(){return Oh;};this.aEg=function(H){if(H<0){H=0;}if(Oh!==H){Oh=H;this.cs('scrollDisplayThreshold');}};this.aqC=function(){return fv;};this.aBF=function(H){if(fv===H){return;}fv=H;if(bg===''||bg.clientHeight<=0||cR===IPCC.ViewMode.SinglePage){this.cs('pageLayout');return;}var tC=dm;var FM=cR;if(cR===IPCC.ViewMode.EqualWidthPages||cR===IPCC.ViewMode.EqualFitPages){h.Og(IPCC.ViewMode.Document);}bg.scrollLeft=0;bg.scrollTop=0;var G=0;var bG;if(fv===IPCC.PageLayout.VerticalScrollDirection){if(IZ){IZ.setAttribute('style',axI);}Ez.insertBefore(kn,IZ);for(G=0;G<bJ.length;G++){bG=document.getElementById(bJ[G].bx);bG.style.display='block';if(gz>0){bG.style.margin=fs+'px auto '+js+'px auto';}}bq.style.margin='0px '+hf+'px 0px '+gk+'px';bg.scrollLeft=(gl-bg.clientWidth)/2+hf+mJ;}else{if(IZ){IZ.setAttribute('style',axR);}Ez.removeChild(kn);for(G=0;G<bJ.length;G++){bG=document.getElementById(bJ[G].bx);if(bG){bG.style.display='inline-block';if(gz>0){bG.style.margin=fs+'px '+hf+'px '+js+'px '+gk+'px';}}}bq.style.margin='0px';bg.scrollTop=(fS-bg.clientHeight)/2+fs+pl;}if(FM===IPCC.ViewMode.EqualWidthPages){h.Og(IPCC.ViewMode.EqualWidthPages);}else if(FM===IPCC.ViewMode.EqualFitPages){h.Og(IPCC.ViewMode.EqualFitPages);}this.tj(tC);nz();this.cs('layout');};this.aqB=function(){return cR;};this.Og=function(H,eL){eL=eL||IPCC.ScaleTrigger.ViewMode;if(cR===H){return;}cR=H;if(bg===''||bg.clientHeight<=0){this.cs('viewMode');return;}var tC=dm;this.tj(tC);if(cR===IPCC.ViewMode.Document){var ky=1;var aA=gz;var bM=iF;if(iA(oO)===true){aA=iF;bM=gz;}if(fv===IPCC.PageLayout.VerticalScrollDirection){ky=(bg.clientWidth-(hf+gk+mJ+oI))/aA;}else{ky=(bg.clientHeight-(fs+js+pl+qp))/bM;}kZ(ky,true,undefined,undefined,undefined,undefined,eL);}else{Rs(eL);}this.tj(tC);this.cs('viewMode');AS(di,true);jY(di,true);};var oO=0;this.apx=function(){return oO;};this.aCN=function(H){if(oO!==H){oO=H;var G=0;for(G=0;G<bJ.length;G++){if(bJ[G].EQ===0){bJ[G].hB=oO;}}this.cs('pageRotation');}};this.aaS=function(aa){var cT;if(arguments.length>0){if(!isNaN(aa)){cT=aa;}else{cT=dm;}}else{cT=dm;}for(var G=0;G<bJ.length;G++){if(cT===G){return bJ[G].hB;}}return 0;};var oc=false;this.hQ=function(){return oc;};this.lM=function(H){if(typeof H!=="boolean"){return;}if(H===oc){return;}oc=H;};this.aEz=function(){return Zn;};this.aBE=function(H,rf,vn,wz){if(Zn!==H){Zn=H;for(var G=0;G<bJ.length;G++){bJ[G].ag.ash(H,G,bJ[G].lK(),bJ[G].pO(),bJ[G].fw,rf,vn,wz);var axa= !bJ[G].lK();bJ[G].TO(axa);}this.cs('annotationXmlDom');}};var qx;this.HT=function(H){qx=H;};this.us=function(){return qx;};var qH=false;this.nl=function(){return qH;};this.oq=function(H){if(typeof H!=="boolean"){return;}if(H===qH){return;}qH=H;IPCC.C.forEach(bJ,function(bf,G){var aB;if(bJ[G].bx){var bG=document.getElementById(bJ[G].bx);if(bG){aB=bG.aL;}}if(aB){aB.oq(qH);aB=undefined;}});};this.aCs=function(H){if(FH!==H){FH=H;this.cs('loadingContent');}};this.aEJ=function(){return FH;};this.aCT=function(){var bW=im();var ca=[];if(bW){ca=pK(bW);}var agh=new IPCC.Web.UI.ImGearPageCollection();var G=0;for(G=0;G<ca.length;G++){agh.afE(bJ[ca[G]].fw);}return agh;};this.anZ=function(bj){if(bJ[bj]){return bJ[bj].bx;}};this.zb=function(){return uO;};this.IF=function(H){uO=H;};this.lh=function(){return lQ;};this.vA=function(H){lQ=H;};this.OY=function(al,Ai,As){var h=this;if(al.lq()>0||al.iT()>0){Ai(al.lq(),al.iT());return;}al.requestPageAttributes(function(aO,by){if(bJ[al.get_pageNumber()].aja()===true){var ju=aO/al.ajJ();if(ju!==1){var ag=h.fY(al);if(ag){aid(ag,ju);}}}bJ[al.get_pageNumber()].TO(false);Ai(aO,by);},function(eu){As(eu);});};this.aEA=function(){if(ti===true){return;}ti=true;this.fu(kn,'pccHidden');AS(di,true);jY(di,true);};this.aCQ=function(){if(ti===false){return;}ti=false;this.kF(kn,'pccHidden');};this.aDH=function(){return ti;};this.kF=function(dA,uo){var Gq=new RegExp('(?:^|\\s)'+uo+'(?!\\S)','g');if(dA.className.match(Gq)===null){dA.className=dA.className+' '+uo;}};this.fu=function(dA,uo){var Gq=new RegExp('(?:^|\\s)'+uo+'(?!\\S)','g');dA.className=dA.className.replace(Gq,'');};this.aGg=function(){return or;};this.aEo=function(H){or=H;};this.asn=function(){return hW;};this.aEx=function(H){if(hW===H){return;}var R,dQ,uk;if(hW){R=hW.get_mark();uk=di[R.get_markID()];dQ=or(R,{isSelected:true},(uk)?uk.dQ:undefined);if(uk){BW(R,di,dQ);}}R=dQ=uk=undefined;hW=H;if(hW){R=hW.get_mark();uk=di[R.get_markID()];dQ=or(R,{isSelected:true},(uk)?uk.dQ:undefined);if(uk){BW(R,di,dQ);}}jY(di,true);};this.aAB=function(Ze){var iW=vD();IPCC.C.forEach(Ze,function(ND){var ct=di[ND];if(ct){var kC=or(ct.R,{isSelected:(ct.R.get_conversation()===hW)},ct.dQ);if(!IPCC.C.uE(kC)){throw new Error(kC+' is not a valid HTMLElement');}if(kC!==ct.dQ){BW(ct.R,di,kC);}}});jY(di,false,iW);};this.azv=function(){h.aAb={top:bg.scrollTop,left:bg.scrollLeft};};this.ayc=function(){var oJ=h.aAb;if(oJ){bg.scrollTop=oJ.top;bg.scrollLeft=oJ.left;}};this.initialize=function(){var cD=this.nT();var G;for(G=cD.childNodes.length-1;G>=0;G--){if(cD.childNodes[G].tagName!=='INPUT'){cD.removeChild(cD.childNodes[G]);}}this.Bq.add_documentAdded(aqQ);this.Bq.add_pageAdded(abn);this.Bq.add_pageRemoved(abu);this.ais(true);cD.aL=this;akR();var Uj='webkit moz o'.split(' '),EE='';if(bq.style.animationName!==undefined){HX='animationend';EL='transitionend';return;}for(G=0;G<Uj.length;G++){if(bq.style[Uj[G]+'Animation']!==undefined){EE=Uj[G];HX=EE+'AnimationEnd';EL=EE+'TransitionEnd';break;}}};this.aBi=function(){return ml;};this.ais=function(H){ml=H;this.cs('enabled');};this.aFd=function(){if(dm+1<bJ.length){h.tj(dm+1);}};this.aGj=function(){var US=dm-1;if(US<0){US=0;}h.tj(US);};function CD(V){IPCC.Web.UI.bC.removeHandler(V.target,HX,CD);IPCC.Web.UI.bC.removeHandler(V.target,EL,CD);if(Jv>dm){h.fu(V.target,'pccNextPageIn');h.fu(V.target,'pccPreviousPageIn');h.fu(V.target,'pccCurrentPage');h.fu(V.target,'pccPageBack');h.fu(V.target,'pccPageForward');h.kF(V.target,'pccNextPage');}else if(Jv<dm){h.fu(V.target,'pccNextPageIn');h.fu(V.target,'pccPreviousPageIn');h.fu(V.target,'pccCurrentPage');h.fu(V.target,'pccPageBack');h.fu(V.target,'pccPageForward');h.kF(V.target,'pccPreviousPage');}h.fu(bq,'pccPageListContainerPageChanging');bg.style.overflow='auto';iM=null;bq.style.overflow='hidden';var kj=IPCC.C.filter(di,function(bB){return bB.aa===dm+1;});Sh(kj);setTimeout(function(){nz();},60);};this.tj=function aIx(bj){var Hh=dm;var kj;if(cR===IPCC.ViewMode.SinglePage){kj=IPCC.C.filter(di,function(bB){return bB.aa!==bj+1;});Mx(kj);}else{vg=true;var ahH=agw(bj);if(fv===IPCC.PageLayout.VerticalScrollDirection){bg.scrollTop=ahH;}else{bg.scrollLeft=ahH;}}var AJ=[];if(dm!==bj){dm=bj;var bf=bJ[dm];var V=new IPCC.PageEventArgs();V.imGearPage=h.get_currentPage();V.pageIndex=dm;V.pageNodeID=bf.bx;h.aK('currentPageChanged',V);if(cR===IPCC.ViewMode.SinglePage){var hb=document.getElementById(bJ[dm].bx);var sm=document.getElementById(bJ[Hh].bx);if(hb===null){hb=IQ(bJ[dm].fw);AJ.push(bJ[dm]);hb.className='pccPageListItem pccCurrentPage';qs.push(dm);if(gz>0){var kX=Yw(bJ[dm]);hb.style.width=kX.aO+'px';hb.style.height=kX.by+'px';}else{hb.style.width=bq.clientWidth-hf-gk+'px';hb.style.height=bq.clientWidth*0.8+'px';}hb.style.display='block';hb.setAttribute('id',bJ[dm].bx);bq.appendChild(hb);}if(EL.length>0){bg.style.overflow='hidden';bq.style.width=hb.style.width;bq.style.height=hb.style.height;bq.style.overflow='visible';if(iM!==null){IPCC.Web.UI.bC.removeHandler(iM,HX,CD);IPCC.Web.UI.bC.removeHandler(iM,EL,CD);if(Jv>dm){this.fu(iM,'pccNextPageIn');this.fu(iM,'pccPreviousPageIn');this.fu(iM,'pccCurrentPage');this.fu(iM,'pccPageForward');this.fu(iM,'pccPageBack');this.kF(iM,'pccNextPage');}else if(Jv<dm){this.fu(iM,'pccNextPageIn');this.fu(iM,'pccPreviousPageIn');this.fu(iM,'pccCurrentPage');this.fu(iM,'pccPageForward');this.fu(iM,'pccPageBack');this.kF(iM,'pccPreviousPage');}}IPCC.Web.UI.bC.addHandler(sm,HX,CD);IPCC.Web.UI.bC.addHandler(sm,EL,CD);iM=sm;Jv=Hh;this.kF(bq,'pccPageListContainerPageChanging');if(dm>Hh){this.kF(sm,'pccPageForward');this.fu(hb,'pccPageBack');this.fu(hb,'pccPreviousPage');this.fu(hb,'pccPreviousPageIn');this.fu(hb,'pccNextPage');this.kF(hb,'pccCurrentPage');this.kF(hb,'pccNextPageIn');}else{this.kF(sm,'pccPageBack');this.fu(hb,'pccPageForward');this.fu(hb,'pccPreviousPage');this.fu(hb,'pccNextPage');this.fu(hb,'pccNextPageIn');this.kF(hb,'pccCurrentPage');this.kF(hb,'pccPreviousPageIn');}}else{bq.style.width=hb.style.width;bq.style.height=hb.style.height;if(dm>Hh){this.fu(sm,'pccNextPage');this.fu(sm,'pccCurrentPage');this.kF(sm,'pccPreviousPage');}else{this.fu(sm,'pccPreviousPage');this.fu(sm,'pccCurrentPage');this.kF(sm,'pccNextPage');}this.fu(hb,'pccPreviousPage');this.fu(hb,'pccNextPage');this.kF(hb,'pccCurrentPage');kj=IPCC.C.filter(di,function(el){return el.aa===bj+1;});Sh(kj);setTimeout(function(){nz();},60);}IPCC.C.forEach(AJ,alq);}}};this.aFA=function(){if(bJ.length>0){h.tj(0);}};this.aFP=function(){if(dm<bJ.length-1){h.tj(bJ.length-1);}};this.aFM=function(dG){if(ti===false){return "CommentsPanelClosed";}var ea=di[dG.get_mark().get_markID()];if(!ea){return "ConversationDivDoesNotExist";}if(cR===IPCC.ViewMode.SinglePage&&ea.aa-1!==dm){return "SinglePageModePageNotShown";}var al=document.getElementById(bJ[ea.aa-1].bx);if(bJ[ea.aa-1].gV===false||al===undefined||al.aL===undefined||al.aL===null||al.aL.fz()===false){return "PageOutOfView";}var J=dG.get_mark().get_boundingRectangle();var pZ=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x,J.y),true);var yr=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x+J.width,J.y),true);pZ.x=bq.offsetWidth;yr.x=bq.offsetWidth+uF();h.ahx(al.offsetTop,al.offsetLeft,pZ,yr);return "Success";};this.aEP=function(bj,J){if(cR===IPCC.ViewMode.SinglePage&&bj!==dm){return true;}var al=document.getElementById(bJ[bj].bx);if(bJ[bj].gV===false||al===undefined||al.aL===undefined||al.aL===null||al.aL.fz()===false){return false;}var pZ=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x,J.y),true);var yr=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(J.x+J.width,J.y+J.height),true);h.ahx(al.offsetTop,al.offsetLeft,pZ,yr);return true;};this.aFQ=function(asP,aqq){bg.scrollTop+=Math.round(aqq);bg.scrollLeft+=Math.round(asP);};this.ahx=function(aCn,azX,pZ,yr){var acG=yr.x-pZ.x;var acS=yr.y-pZ.y;var cA=new IPCC.Web.UI.Point(0,0);if(acG>bg.clientWidth){cA.x=pZ.x;}else{cA.x=pZ.x+(acG/2);}if(acS>bg.clientHeight){cA.y=pZ.y;}else{cA.y=pZ.y+(acS/2);}if(fv===IPCC.PageLayout.VerticalScrollDirection){bg.scrollTop=aCn+cA.y-bg.clientHeight/2;bg.scrollLeft=cA.x-bg.clientWidth/2;}else{bg.scrollLeft=azX+cA.x-bg.clientWidth/2;bg.scrollTop=cA.y-bg.clientHeight/2;}};this.azI=function(){var G=0;for(G=0;G<bJ.length;G++){Cl(G,true);}};this.aEW=function(){var bW=im();var ca=[];if(bW){ca=pK(bW);}var G=0;for(G=0;G<ca.length;G++){Cl(ca[G]);}if(h.Bq.get_length()>0){h.Bq.removeAllDocuments();}};this.Qr=function(bj,bQ,cU,cY){if(bJ[bj]&&bJ[bj].gV===true){var bG=document.getElementById(bJ[bj].bx);if(bG&&bG.aL&&bG.aL.fz()===true){if(cY){IPCC.aq.cY(cY,"selectText");var ht=bG.aL.Ca();var axC=ht.lf;var aFa=ht.eF;ht.lf=cY;ht.eF=cY;bG.aL.showTextSelection(bQ,cU);ht.lf=axC;ht.eF=aFa;}else{bG.aL.showTextSelection(bQ,cU);}}}};this.aEe=function(){var bW=im();var ca=[];if(bW){ca=pK(bW);}var G;for(G=0;G<ca.length;G++){if(bJ[ca[G]].gV===true){var eJ=document.getElementById(bJ[ca[G]].bx),aL=eJ?eJ.aL:undefined;if(aL&&aL.fz()===true){aL.showEmptyTextSelection(0);aL.extendTextSelection(undefined);aL.display();}}}};this.aBb=function(bj){if(bJ[bj]&&bJ[bj].gV===true){var eJ=document.getElementById(bJ[bj].bx),aL=eJ?eJ.aL:undefined;if(aL&&aL.fz()===true){aL.showEmptyTextSelection(0);aL.extendTextSelection(undefined);aL.display();}}};this.ug=function(){var al,dF,aL;an=null;IPCC.C.forEach(PP,function(G){al=bJ[G];dF=document.getElementById(al.bx);if(dF){aL=dF.aL;}if(aL){if(aL.fz()&&aL.Ew()){aL.showEmptyTextSelection(0);aL.extendTextSelection(undefined);if(al.gV){aL.display();}}}al=dF=aL=undefined;});};this.vz=function(bj,sA){var bG;var aB;var agU=function(axW,aDI){return(axW+aDI)%360;};bJ[bj].hB=agU(bJ[bj].hB,sA);if(bJ[bj].bx){bG=document.getElementById(bJ[bj].bx);}if(bG===undefined||bG===null){return;}aB=bG.aL;if(aB&&aB.fz()===false){bJ[bj].EQ=agU(bJ[bj].EQ,sA);return;}vg=true;if(aB&&aB.fz()===true){aB.rotate(sA);}var aA=0;var bM=0;var fN=gz;var eW=iF;if(iA(oO)===true){fN=iF;eW=gz;}if(iA(bJ[bj].hB)===true){if(aB&&aB.fz()===true){aA=aB.get_pageHeight();bM=aB.get_pageWidth();}else{aA=iF;bM=gz;}}else{if(aB&&aB.fz()===true){aA=aB.get_pageWidth();bM=aB.get_pageHeight();}else{aA=gz;bM=iF;}}vg=true;if(cR===IPCC.ViewMode.SinglePage){bG.style.width=aA*dv*du/bJ[bj].fW+'px';bG.style.height=bM*dv*du/bJ[bj].gK+'px';if(bj===dm){bq.style.width=aA*dv*du/bJ[bj].fW+'px';bq.style.height=bM*dv*du/bJ[bj].gK+'px';}}else if(cR===IPCC.ViewMode.Document){bG.style.width=aA*dv*du/bJ[bj].fW+'px';bG.style.height=bM*dv*du/bJ[bj].gK+'px';var G=0;if(fv===IPCC.PageLayout.VerticalScrollDirection){if(aA*dv*du/bJ[bj].fW>gl){gl=aA*dv*du/bJ[bj].fW;}else if(bG.clientHeight>=gl-10){gl=0;for(G=0;G<bJ.length;G++){bG=document.getElementById(bJ[G].bx);if(bG&&bG.clientWidth>gl){gl=bG.clientWidth;}}}if(bM*dv*du/bJ[bj].gK>fS){fS=bM*dv*du/bJ[bj].gK;}}else{if(bM*dv*du/bJ[bj].gK>fS){fS=bM*dv*du/bJ[bj].gK;}else if(bG.clientWidth>=fS-10){fS=0;for(G=0;G<bJ.length;G++){bG=document.getElementById(bJ[G].bx);if(bG&&bG.clientHeight>fS){fS=bG.clientHeight;}}}if(aA*dv*du/bJ[bj].fW>gl){gl=aA*dv*du/bJ[bj].fW;}}}else{var gZ;if(fv===IPCC.PageLayout.VerticalScrollDirection){gZ=fN/aA*dv*du/bJ[bj].gK;if(aB&&aB.fz()===true){aB.zoom(gZ);}vg=true;bG.style.width=fN*dv*du/bJ[bj].fW+'px';bG.style.height=gZ*bM+'px';}else{gZ=eW/bM*dv*du/bJ[bj].gK;if(aB&&aB.fz()===true){aB.zoom(gZ);}vg=true;bG.style.height=eW*dv*du/bJ[bj].gK+'px';bG.style.width=gZ*aA+'px';}if(fN*dv*du/bJ[bj].fW>gl){gl=fN*dv*du/bJ[bj].fW;}if(eW*dv*du/bJ[bj].gK>fS){fS=eW*dv*du/bJ[bj].gK;}}if(aB&&aB.fz()===true){vg=true;this.vi(bG,bj);setTimeout(function(){if(ti===false){return;}var iW=vD();var kj=IPCC.C.filter(di,function(el){return bj===el.aa-1;});AS(kj);jY(kj,true,iW);},0);}};this.ayI=function(sA){var tC=dm;this.vz(dm,sA);if(cR!==IPCC.ViewMode.SinglePage){var h=this;setTimeout(function(){h.tj(tC);},10);}};this.aht=function(sA){var tC=dm;var bW=im();if(cR!==IPCC.ViewMode.SinglePage){this.tj(tC);}var gr=0;var ho=bJ.length-1;var G;for(G=gr;G<=ho;G++){this.vz(G,sA);}if(cR!==IPCC.ViewMode.SinglePage){var h=this;setTimeout(function(){acv(bW);h.tj(tC);},10);}};function aiB(zg,mL){var ma=0;var qq=0;var ED=false;vg=true;var bW=im();if(bW){IPCC.C.forEach(bW.LC,function(bu){var gg=fv===IPCC.PageLayout.VerticalScrollDirection?bu.by+fs:bu.aO+hf+gk;var aAx=zg.LC[bu.aP];if(aAx.yv){ED=true;return;}if(mL&&bu.aP>=mL.kN&&bu.aP<=mL.hV){var bG=document.getElementById(bJ[bu.aP].bx);if(bG){return;}}if(ED){qq+=gg;}else{ma+=gg;}});}return{qq:qq,ma:ma};};function acv(zg){if(cR===IPCC.ViewMode.SinglePage){return;}var mL=NY(zg);var qU=aiB(zg,mL);if(fv===IPCC.PageLayout.VerticalScrollDirection){bq.style.paddingTop=qU.ma+'px';bq.style.paddingBottom=qU.qq+'px';}else{bq.style.paddingLeft=qU.ma+'px';bq.style.paddingRight=qU.qq+'px';}};function awo(zg){if(cR===IPCC.ViewMode.SinglePage){return;}var Pj;var mL;if(fv===IPCC.PageLayout.VerticalScrollDirection){Pj=parseInt(window.getComputedStyle(bq,null).getPropertyValue('padding-top'),10);}else{Pj=parseInt(window.getComputedStyle(bq,null).getPropertyValue('padding-left'),10);}mL=NY(zg);var qU=aiB(zg,mL);if(fv===IPCC.PageLayout.VerticalScrollDirection){bq.style.paddingTop=qU.ma+'px';bq.style.paddingBottom=qU.qq+'px';bg.scrollTop=bg.scrollTop+qU.ma-Pj;}else{bq.style.paddingLeft=qU.ma+'px';bq.style.paddingRight=qU.qq+'px';bg.scrollLeft=bg.scrollLeft+qU.ma-Pj;}};this.Oo=function(bj){IPCC.aq.ki(bj,'pageIndex',0,bJ.length-1);var al=bJ[bj];if(al&&al.bx&&(al.DO===true||al.yj===false)){var aE;var bG=document.getElementById(al.bx);if(bG.aL){bG.aL.dispose();}agg(bG);aE=new IPCC.Web.UI.PageView(bG,false,bg);if(aE){aE.set_autoUpdate(false);aE.tn(bG);aE.initialize();aE.set_imageHandlerUrl(al.aZ.qb);aE.set_requireRequestsOptimize(uO);if(lQ!==undefined){aE.set_serviceResponseTimeout(lQ);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aE.Ok(bP===IPCC.Web.UI.MouseTool.HandPan||bP===IPCC.Web.UI.MouseTool.EditMarks);ZM(aE,al);ZE(aE);Zc(aE);Yg(aE);ZS(aE);}aE.set_textRequired(rC);aE.set_markHandleMode(sV);aE.set_debug(_debug);aE.set_gamma(qj);aE.set_sharpening(sF);aE.set_svgLineWidthMultiplier(lJ);aE.set_debugErrorLevel(oy);aE.lM(h.hQ());if(qx){aE.set_resourcePath(qx);}if(jz){aE.GU(jz());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oq(h.nl());al.DO=false;al.AC=false;var xy={encodedDocumentIdentifier:al.aZ.get_encodedDocumentIdentifier(),pageNumber:bj,artServiceOption:0,documentArtPage:al.eg,viewRotationDegreesClockwise:al.hB};if(al.ag){xy.artPage=al.ag;}if(al.eg){xy.documentArtPage=al.eg;}aE.openPage(xy);al.yj=true;ng++;}};function Rs(eL,fj){if(gz<=0){return;}var fN=gz;var eW=iF;var fc=du/bJ[0].fW;if(iA(oO)===true){fN=iF;eW=gz;fc=du/bJ[0].gK;}var ky=1;if(fv===IPCC.PageLayout.VerticalScrollDirection){ky=(bg.clientWidth-uF()-(hf+gk+mJ+oI))/(fN*fc);}else{ky=(bg.clientHeight-(fs+js+pl+qp))/(eW*fc);}var tZ;if(dv<=ky){tZ=false;}else if(dv>ky){tZ=true;}if(isNaN(ky)||ky<=0||Math.abs(ky)===Infinity){return;}dv=ky;gl=0;fS=0;var gr=0;var ho=bJ.length-1;var ak=0;var aB;for(ak=gr;ak<=ho;ak++,aB=undefined){var bG=document.getElementById(bJ[ak].bx);if(bG){aB=bG.aL;}if(aB===undefined){continue;}var aA=fN;var bM=eW;if(bJ[ak].lK()>0){if(iA(bJ[ak].hB)===true){aA=bJ[ak].pO();bM=bJ[ak].lK();}else{aA=bJ[ak].lK();bM=bJ[ak].pO();}}var gZ=1;if(fv===IPCC.PageLayout.VerticalScrollDirection){gZ=fN/aA*dv*fc;bG.style.width=fN*dv*fc+'px';bG.style.height=bM*gZ+'px';if(fN*dv*fc>gl){gl=fN*dv*fc;}if(bM*gZ*du/bJ[ak].gK>fS){fS=bM*gZ*fc;}}else{gZ=eW/bM*dv;bG.style.height=eW*dv*fc+'px';bG.style.width=aA*gZ*fc+'px';if(aA*dv*du/bJ[ak].fW>gl){gl=aA*dv*fc;}if(eW*gZ*fc>fS){fS=eW*gZ*fc;}}if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.zoom(gZ);}if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.display();}aB=undefined;}im();nz();setTimeout(function(){AS(di);jY(di);},0);h.aK('scaleChanged',{scaleType:(tZ)?"scaledDown":"scaledUp",scaleTrigger:eL,fitType:fj,scaleFactor:dv});};function iA(gs){switch(gs){case 90:case 270:case-90:case-270:return true;default:return false;}};function gj(ql){var xS=document.createElement('div');var G;for(G in ql){if(ql.hasOwnProperty(G)){xS.style[G]=ql[G];}}return xS;};this.axv=function(){if(HG===undefined||HG===null){HG=1;}var dz=this.nT().id.toString()+'_'+HG.toString();HG++;return dz;};this.SP=function(){return this.Bq;};this.fY=function(awh){for(var qN=0;qN<bJ.length;qN++){var atY=bJ[qN];if(awh===atY.fw){return bJ[qN].ag;}}return null;};this.aGK=function(hU){var bG=document.getElementById(bJ[hU.get_pageNumber()].bx);if(bG){return bG.aL.mn();}return null;};this.aAN=function(){if(ml===false||iM!==null||yF){return;}var bW=im();adP(bW);};function aqQ(bV,V){Yt(V);};function Yt(aG){var gR=aG.imGearDocument;var aAC=h.axv();gR.RS=aAC;var cc=gR.get_pages();var dn=cc.get_length();if(dn>0){var Qx=document.createDocumentFragment();for(var ak=0;ak<dn;ak++){var al=cc.getPage(ak);if(!al.aZ){al.aZ=gR;}IQ(al,al.get_pageNumber()===0?null:Qx);}bq.appendChild(Qx);}};var azN=IPCC.C.alb(function(){if(JU.length>0&&ml){var cT;var Jk;var Jj=0;IPCC.C.forEach(JU,agu);var amS=im();if(!amS){return;}var kX=amS.LC;IPCC.C.forEach(JU,function(al,aP){cT=al.oB();Jk=kX[cT];if(fv===IPCC.PageLayout.VerticalScrollDirection){Jj+=Jk.by+fs;}else{Jj+=Jk.aO+hf;}});if(Jj&&cR!==IPCC.ViewMode.SinglePage){if(fv===IPCC.PageLayout.VerticalScrollDirection){bq.style.paddingBottom=Jj+'px';}else{bq.style.paddingRight=Jj+'px';}}AS(di,true);jY(di,true);if(h.Bq.Re(0).eP===bJ.length){h.aK('allPagesAdded');}nz();}JU=[];},10);function abn(bV,V){if(V.imGearPage.get_pageNumber()===0){IQ(V.imGearPage);return;}JU.push(V.imGearPage);azN();};function abu(bV,V){var cT=V.imGearPage.get_pageNumber();var Ur=V.imGearPage.aZ.get_documentIdentifier();for(var ak=0;ak<bJ.length;ak++){if(bJ[ak].fw.get_pageNumber()===cT&&bJ[ak].fw.aZ.get_documentIdentifier()===Ur){var bG=document.getElementById(bJ[ak].bx);if(bG){bq.removeChild(bG);if(bG.aL){bG.aL.dispose();var kj=IPCC.C.filter(di,function(el){return el.aa===bJ[ak].cT+1;});Mx(kj);}}bJ.splice(ak,1);}}};function agu(hU){if(!IPCC.C.contains(bJ,hU)){var bf=new IPCC.bf({page:hU});if(oO){bf.hB=oO;}if(!bf.aZ){bf.aZ=hU.aZ;}bJ.push(bf);IPCC.Pagecounter++;bJ=bJ.sort(function(dc,fq){return dc.cT-fq.cT;});auA(hU);atH(hU);asq(hU);bf.aoX=false;bf.AC=false;auS(bf);atR(bf);XL(bf);arZ(bf);att(bf);aua(bf);asu(bf);aoO(bf);aop(bf);aus(bf);return bf;}};function IQ(al,Qx){var LF=al.get_pageNumber();var cD=h.nT();var gR=null;var SC;var dn=h.get_documents().get_length();for(var bo=0;bo<dn;bo++){gR=h.get_documents().getDocument(bo);if(gR!==null){SC=gR.RS;if(SC===al.aZ.RS){break;}}}var hy=IPCC.C.find(bJ,function(bf){return bf.fw&&bf.fw===al;});if(!hy){hy=agu(al);}hy.Fk=true;var adm=hy.bx;if(hy.JS===1){return document.getElementById(adm);}hy.JS=1;if(bq===''){akR();}var mE=(function(){var bh;if(cR!==IPCC.ViewMode.SinglePage){bh=gj({overflow:'hidden',position:'relative'});}else{bh=gj({overflow:'hidden',position:'absolute',margin:'0px'});if(hy.cT>dm){h.kF(bh,'pccNextPage');}else if(hy.cT<dm){h.kF(bh,'pccPreviousPage');}else{h.kF(bh,'pccCurrentPage');}}qs.push(al.cT);h.kF(bh,'pccPageListItem');agg(bh);var EJ=Yw(hy);bh.style.width=EJ.aO+'px';bh.style.height=EJ.by+'px';var bW=im();var QE;if(fv===IPCC.PageLayout.VerticalScrollDirection||cR===IPCC.ViewMode.SinglePage){bh.style.display='block';if(gz>0){bh.style.margin=fs+'px auto '+js+'px auto';}if(bW.eC.length>0&&cR!==IPCC.ViewMode.SinglePage){QE=bW.eC[0];if(LF<QE.aP){var ayh=IPCC.C.OM(bq,'padding-top');var axF=IPCC.C.NC(ayh);var Zl=axF-EJ.by-fs;if(Zl<0){Zl=0;}bq.style.paddingTop=Zl+'px';}else{var axw=IPCC.C.OM(bq,'padding-bottom');var awK=IPCC.C.NC(axw);var Zw=awK-EJ.by-fs;if(Zw<0){Zw=0;}bq.style.paddingBottom=Zw+'px';}}}else{bh.style.display='inline-block';if(gz>0){bh.style.margin=fs+'px '+hf+'px '+js+'px '+gk+'px';}if(bW.eC.length>0&&cR!==IPCC.ViewMode.SinglePage){QE=bW.eC[0];if(LF<QE.aP){var ayQ=IPCC.C.OM(bq,'padding-left');var ayg=IPCC.C.NC(ayQ);var ZB=ayg-EJ.aO-hf;if(ZB<0){ZB=0;}bq.style.paddingLeft=ZB+'px';}else{var ayo=IPCC.C.OM(bq,'padding-right');var axB=IPCC.C.NC(ayo);var ZD=axB-EJ.aO-hf;if(ZD<0){ZD=0;}bq.style.paddingRight=ZD+'px';}}}bh.setAttribute('id',adm);return bh;}());hy.fw=hy.fw||al;hy.ani=hy.ani||SC;hy.hB=hy.hB!==undefined?hy.hB:oO;hy.gV=false;function aAz(eJ){var Ss=eJ.childNodes;var apA=IPCC.C.find(bJ,function(bf){if(bf.cT<=LF){return;}var jq=IPCC.C.find(Ss,function(jq){return jq.id&&jq.id===bf.bx;});if(!jq){return;}if(bf.cT>LF){jq.parentElement.insertBefore(mE,jq);return true;}});if(!apA){eJ.appendChild(mE);}}(function aGe(){if(bJ.length===1){bq.appendChild(mE);}else{return aAz(Qx||bq);}}());var aqt=false;if(mE&&cD.clientWidth>0){var aFH=cD.clientWidth/(mE.clientWidth+(mE.clientLeft*2));var ayK=cD.clientHeight/(mE.clientHeight+(mE.clientTop*2));if(bJ.length<(aFH*ayK)){aqt=true;}}if(bJ.length<2){var aE=new IPCC.Web.UI.PageView(mE,false,bg);if(aE){aE.set_autoUpdate(false);aE.tn(mE);aE.initialize();aE.set_imageHandlerUrl(al.aZ.qb);aE.set_imGearPage(hy.fw);aE.set_artPage(hy.ag);aE.set_documentArtPage(hy.eg);aE.set_requireRequestsOptimize(uO);if(lQ!==undefined){aE.set_serviceResponseTimeout(lQ);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aE.set_textRequired(rC);aE.set_markHandleMode(sV);aE.set_debug(_debug);aE.set_gamma(qj);aE.set_sharpening(sF);aE.set_svgLineWidthMultiplier(lJ);aE.set_debugErrorLevel(oy);aE.lM(h.hQ());if(qx){aE.set_resourcePath(qx);}if(jz){aE.GU(jz());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oq(h.nl());aE.Ok(bP===IPCC.Web.UI.MouseTool.HandPan||bP===IPCC.Web.UI.MouseTool.EditMarks);}ZM(aE,hy);Zc(aE);Yg(aE);ZE(aE);ZS(aE);aE.openPage({encodedDocumentIdentifier:al.aZ.get_encodedDocumentIdentifier(),pageNumber:al.get_pageNumber(),artServiceOption:0,imGearPage:hy.fw,artPage:hy.ag,documentArtPage:hy.eg,viewRotationDegreesClockwise:hy.hB});hy.yj=true;ng++;}return mE;};function afq(bf){return bf.Fk;};function nz(){if(ng>0||ml===false||iM!==null){return;}if(yF){return;}var bW=im();if(!bW){return;}bJ.forEach(function(al,aP){if(!al.gV){return;}h.GW(aP);});var AJ=arz(bW);IPCC.C.forEach(AJ||[],function(aP){var al=bJ[aP];if(al){alq(al);}});IPCC.C.forEach(bW.eC,function(Jk){var bf=bJ[Jk.aP];if(afq(bf)&& !bf.gV&&bf.JS){RM(bf);}});adP(bW);aqb();};function adP(bW){if(!bW){return;}var mL=NY(bW);for(var aP=mL.kN;aP<=mL.hV;aP++){var bf=bJ[aP];if(!afq(bf)){bf.Fk=true;var Uk=h.SP();var gR=Uk.Re(0);var hU=gR.cc.iP(aP);IQ(hU);akG(bf,false);}}};function arz(bW){var api=pK(bW);var AJ=[];IPCC.C.forEach(api,function(aP){var al=bJ[aP];if(al&&al.JS===0){var Uk=h.SP();var gR=Uk.Re(0);var hU=gR.cc.iP(aP);IQ(hU);AJ.push(aP);}});return AJ;};function aqb(){var wQ=bg.scrollTop;var vF=bg.scrollLeft;var tQ=bg.clientHeight;var uD=bg.clientWidth;var vJ=bg.scrollWidth;var vU=bg.scrollHeight;var bW=Xb({wQ:wQ,vF:vF,tQ:tQ,uD:uD,vJ:vJ,vU:vU});var mL=NY(bW);var aad=aFb(bW);var ma=0;var qq=0;var ED=false;IPCC.C.forEach(bW.LC,function(bu){var gg=fv===IPCC.PageLayout.VerticalScrollDirection?bu.by+fs:bu.aO+hf+gk;var aP= +bu.aP;if(bu.yv||(cR===IPCC.ViewMode.SinglePage&&aP===dm)){ED=true;return;}if(aP>=mL.kN&&aP<=mL.hV){if(aP>=aad.kN&&aP<=aad.hV){return;}if(ED){if(Cl(aP,true)> -1){qq+=gg;}}else{if(Cl(aP,true)> -1){ma+=gg;}}return;}if(ED){qq+=gg;Cl(aP);}else{ma+=gg;Cl(aP);}});if(cR===IPCC.ViewMode.SinglePage){return;}if(fv===IPCC.PageLayout.VerticalScrollDirection){bq.style.paddingTop=ma+'px';bq.style.paddingBottom=qq+'px';}else{bq.style.paddingLeft=ma+'px';bq.style.paddingRight=qq+'px';}};function Cl(ak,aFe){var al=bJ[ak];if(!al){return-1;}var cT=al.cT;if(aFe===true&& !al.gV){return-1;}al.AC=false;al.yj=false;al.gV=false;al.JS=0;al.Fk=false;if(QM&& !al.fw.cB().aDq()&&NU!==true){al.fw.aaH();}var zf=document.getElementById(al.bx);if(!zf){return-1;}if(zf.aL){zf.aL.dispose();var kj=IPCC.C.filter(di,function(el){return el.aa===cT+1;});Mx(kj);zf.parentElement.removeChild(zf);return ak;}else{zf.parentElement.removeChild(zf);}return-1;};function RM(bf){var bh=document.getElementById(bf.bx);h.vi(bh,bf.cT);};function alq(bf){akG(bf,true);RM(bf);};function akG(al,awM){var bh=document.getElementById(al.bx);if(bh===null){return;}var aE=new IPCC.Web.UI.PageView(bh,false,bg);aE.set_autoUpdate(false);aE.tn(document.getElementById(al.bx));aE.initialize();aE.set_imageHandlerUrl(al.aZ.qb);aE.set_imGearPage(al.fw);aE.set_artPage(al.ag);aE.set_requireRequestsOptimize(uO);if(lQ!==undefined){aE.set_serviceResponseTimeout(lQ);}aE.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aE.set_textRequired(rC);aE.set_markHandleMode(sV);aE.set_debug(_debug);aE.set_gamma(qj);aE.set_sharpening(sF);aE.set_svgLineWidthMultiplier(lJ);aE.set_debugErrorLevel(oy);aE.lM(h.hQ());if(qx){aE.set_resourcePath(qx);}if(jz){aE.GU(jz());}else{aE.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aE.oq(h.nl());aE.Ok(bP===IPCC.Web.UI.MouseTool.HandPan||bP===IPCC.Web.UI.MouseTool.EditMarks);ZM(aE,al);Zc(aE);Yg(aE);ZE(aE);ZS(aE);if(awM===true){aE.add_pageOpened(function aGQ(aS){h.vi(bh,al.cT);});}if(al.AC===false&&al.fw){al.Fk=true;var xy={encodedDocumentIdentifier:al.fw.aZ.get_encodedDocumentIdentifier(),pageNumber:al.fw.get_pageNumber(),imGearPage:al.fw,viewRotationDegreesClockwise:al.hB};if(al.ag){xy.artPage=al.ag;}if(al.eg){xy.documentArtPage=al.eg;}aE.openPage(xy);al.yj=true;ng++;}};function aid(ag,ju){var aF;ag.forEachMark(function(R){switch(R.get_type()){case IPCC.Web.UI.MarkType.Line:var as=R.get_points();var bK=as.An(0);var kV=as.An(1);as.setPoint(0,new IPCC.Web.UI.Point(bK.x*ju,bK.y*ju));as.setPoint(1,new IPCC.Web.UI.Point(kV.x*ju,kV.y*ju));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aF=R.get_rectangle();R.set_rectangle({x:aF.x*ju,y:aF.y*ju,width:aF.width*ju,height:aF.height*ju});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aF=R.get_rectangle();R.set_rectangle({x:aF.x*ju,y:aF.y*ju,width:aF.width*ju,height:aF.height*ju});var aj=R.aj,gd;for(var i=0;i<aj.length;i++){gd=aj[i];gd.x=gd.x*ju;gd.y=gd.y*ju;gd.width=gd.width*ju;gd.height=gd.height*ju;}break;default:break;}});};function ZM(aE,al){function apz(sender,evnt){var abj=function(aO,by,aa){var Vp={'width':aO,'height':by,'pageNumber':aa};h.aK('pageOpening',Vp);};var cT=evnt.pageNumber;var Ur=evnt.documentIdentifier;al.aA=aE.get_pageWidth();al.bM=aE.get_pageHeight();var gp=aE.get_pageXResolution();var hd=aE.get_pageYResolution();if(!isNaN(parseFloat(gp))&&isFinite(gp)){al.fW=gp;}if(!isNaN(parseFloat(hd))&&isFinite(hd)){al.gK=hd;}aE=null;for(var ak=0;ak<bJ.length;ak++){if(ml&&bJ[ak].fw.get_pageNumber()===cT&&bJ[ak].fw.aZ.get_documentIdentifier()===Ur){bJ[ak].yj=false;bJ[ak].AC=true;bJ[ak].DO=false;if(cR===IPCC.ViewMode.SinglePage){var na= -1;if(Array.prototype.indexOf){na=qs.indexOf(ak);}else{na=IPCC.Web.kK(qs,ak);}if(na!== -1){qs.splice(na,1);}}var aer=false;for(var bo=0;bo<PP.length;bo++){if(PP[bo]===ak){aer=true;}}if(aer===false){PP.push(ak);}var nh=0;var mF=0;var bG=document.getElementById(bJ[ak].bx);var aB=bG.aL;var fN;var eW;var XY;if(gz===0&&(ak===0||bJ[0].DO===true)){if(bG.currentStyle){pl=parseInt(bG.currentStyle.borderTopWidth,10)||0;fs=parseInt(bG.currentStyle.marginTop,10)||0;mJ=parseInt(bG.currentStyle.borderLeftWidth,10)||0;hf=parseInt(bG.currentStyle.marginLeft,10)||0;qp=parseInt(bG.currentStyle.borderBottomWidth,10)||0;js=parseInt(bG.currentStyle.marginBottom,10)||0;oI=parseInt(bG.currentStyle.borderRightWidth,10)||0;gk=parseInt(bG.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var vC=document.defaultView.getComputedStyle(bG);pl=parseInt(vC.borderTopWidth,10)||0;fs=parseInt(vC.marginTop,10)||0;mJ=parseInt(vC.borderLeftWidth,10)||0;hf=parseInt(vC.marginLeft,10)||0;qp=parseInt(vC.borderBottomWidth,10)||0;js=parseInt(vC.marginBottom,10)||0;oI=parseInt(vC.borderRightWidth,10)||0;gk=parseInt(vC.marginRight,10)||0;}if(cR===IPCC.ViewMode.SinglePage){bG.style.margin=fs+'px 0px '+js+'px 0px';bq.style.margin="0px auto";}else{if(fv===IPCC.PageLayout.VerticalScrollDirection){bG.style.margin=fs+'px auto '+js+'px auto';}else{bG.style.margin=fs+'px '+gk+'px '+js+'px '+hf+'px';bq.style.margin='0px '+gk+'px 0px '+hf+'px';}}gz=aB.get_pageWidth();iF=aB.get_pageHeight();ake=gp;fN=gz;eW=iF;var fc=du/bJ[ak].fW;if(iA(bJ[ak].hB)===true){eW=gz;fN=iF;fc=du/bJ[ak].gK;}if(cR===IPCC.ViewMode.SinglePage){var atP=(bg.offsetWidth-(hf+gk+mJ+oI));var atZ=(bg.offsetHeight-(fs+js+pl+qp+axV));oD=atP/(fN*fc);XY=atZ/(eW*fc);if(XY<oD){oD=XY;}aB.zoom(oD*fc);}else if(fv===IPCC.PageLayout.VerticalScrollDirection){oD=(bg.offsetWidth-IPCC.Web.po()-(hf+gk+mJ+oI))/(fN*fc);aB.zoom(oD*fc);}else{oD=(bg.offsetHeight-IPCC.Web.po()-(fs+js+pl+qp))/(eW*fc);aB.zoom(oD*fc);}nh=fN*oD*fc;mF=eW*oD*fc;bG.style.width=nh+'px';bG.style.height=mF+'px';if(cR===IPCC.ViewMode.SinglePage){bq.style.width=nh+'px';bq.style.height=mF+'px';}if(cR!==IPCC.ViewMode.SinglePage){for(var qN=0;qN<bJ.length;qN++){if(bJ[qN].gV===false&&qN!==ak){if(bJ[qN].bx){bG=document.getElementById(bJ[qN].bx);bG.style.width=fN*oD+'px';bG.style.height=eW*oD+'px';if(fv===IPCC.PageLayout.VerticalScrollDirection){bG.style.margin=fs+'px auto '+js+'px auto';}else{bG.style.margin=fs+'px '+gk+'px '+js+'px '+hf+'px';}}}}}dv=oD;abj(al.aA,al.bM,cT+1);bG.aL.display();}else{if(cR===IPCC.ViewMode.Document||cR===IPCC.ViewMode.SinglePage){if(iA(bJ[ak].hB)===true){nh=aB.get_pageHeight()*dv*du/bJ[ak].fW;mF=aB.get_pageWidth()*dv*du/bJ[ak].gK;}else{nh=aB.get_pageWidth()*dv*du/bJ[ak].fW;mF=aB.get_pageHeight()*dv*du/bJ[ak].gK;}}else{var gZ;var aA=aB.get_pageWidth();var bM=aB.get_pageHeight();fN=gz;eW=iF;if(iA(oO)===true){fN=iF;eW=gz;}if(iA(bJ[ak].hB)===true){aA=aB.get_pageHeight();bM=aB.get_pageWidth();}if(fv===IPCC.PageLayout.VerticalScrollDirection){gZ=fN/aA*dv*du/bJ[0].gK;nh=fN*dv*du/bJ[0].fW;mF=bM*gZ;}else{gZ=eW/bM*dv*du/bJ[0].fW;mF=eW*dv*du/bJ[0].gK;nh=aA*gZ;}}if(nh!==Math.round(nh)){nh=Math.floor(nh*100)/100;}if(mF!==Math.round(mF)){mF=Math.floor(mF*100)/100;}if(bG.style.width!==nh+'px'||bG.style.height!==mF+'px'){if(fv===IPCC.PageLayout.VerticalScrollDirection){bG.style.width=nh+'px';bG.style.height=mF+'px';}else{bG.style.width=nh+'px';bG.style.height=mF+'px';}AS(di,true);jY(di,true);}abj(al.aA,al.bM,cT+1);}if(nh>gl){gl=nh;if(fv===IPCC.PageLayout.VerticalScrollDirection){bg.scrollLeft=(gl-bg.clientWidth)/2;}}if(mF>fS){fS=mF;if(fv===IPCC.PageLayout.HorizontalScrollDirection){bg.scrollTop=(fS-bg.clientHeight)/2;}}if(bJ[ak].EQ>0){var VA=document.getElementById(bJ[ak].bx).aL;if(VA){VA.rotate(bJ[ak].EQ);VA.display();bJ[ak].EQ=0;}}if(ng>0){ng=ng-1;}if(bJ[ak].aja()===true){var hU=bJ[ak].fw;var ju=bJ[ak].lK()/hU.ajJ();if(ju!==1){var ag=h.fY(hU);if(ag){aid(ag,ju);}}}bJ[ak].TO(false);im();var JJ=new IPCC.OpenPageEventArgs();JJ.pageIndex=evnt.pageNumber;JJ.imGearPage=evnt.imGearPage;JJ.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;JJ.pageNodeID=bJ[ak].bx;h.aK('pageOpened',JJ);break;}}if(ng===0&&mu===null&&iM===null){setTimeout(function(){nz();},60);}};aE.add_pageOpened(apz);};function Zc(aE){function aqe(bV,aQ){if(ml===false){return;}var wk;if(aQ.pageNumber>=0){if(bJ[aQ.pageNumber].bx){wk=bJ[aQ.pageNumber].bx;}}bJ[aQ.pageNumber].DO=true;bJ[aQ.pageNumber].yj=false;bJ[aQ.pageNumber].AC=false;bJ[aQ.pageNumber].gV=false;var mN=new IPCC.ExceptionEventArgs();mN.exception=aQ.exception;mN.pageIndex=aQ.pageNumber;mN.pageNodeID=wk;h.aK('pageOpenFailed',mN);if(ng>0){ng=ng-1;if(ng===0){setTimeout(function(){nz();},60);}}};aE.add_pageOpenFailed(aqe);};function Yg(aE){function apU(bV,aQ){if(ml===false){return;}var V=new IPCC.PageEventArgs();V.pageIndex=aQ.aa;V.imGearPage=bJ[aQ.aa].fw;V.pageNodeID=bJ[aQ.aa].bx;bJ[aQ.aa].gV=true;if(cR===IPCC.ViewMode.SinglePage){var na= -1;if(Array.prototype.indexOf){na=qs.indexOf(aQ.aa);}else{na=IPCC.Web.kK(qs,aQ.aa);}if(na!== -1){qs.splice(na,1);}}h.aK('pageDisplayed',V);setTimeout(function(){var kj=IPCC.C.filter(di,function(el){if(cR===IPCC.ViewMode.SinglePage){return aQ.aa===el.aa-1&&el.aa-1===dm;}else{return aQ.aa===el.aa-1;}});AS(kj);jY(kj);},0);};aE.add_pageDisplayed(apU);};function atH(al){function IJ(bV,aQ){if(ml===false){return;}h.aK('textPageReady',{pageIndex:aQ.pageNumber,containsText:aQ.containsText});var bW=im();var ca=[];if(bW){ca=pK(bW);}if(aQ.containsText===true&&aQ.pageNumber>=ca[0]&&aQ.pageNumber<=ca[ca.length-1]){if(bJ[aQ.pageNumber].ag&&bJ[aQ.pageNumber].ag.get_markCount()>0){var bG=document.getElementById(bJ[aQ.pageNumber].bx);h.vi(bG,aQ.pageNumber);}}};al.zo(IJ);};function asq(al){function apN(bV,aQ){if(ml===false){return;}var eg=bJ[aQ.pageNumber].eg;al.akT().Jp().kR(function(gM){var R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aF=gM.fJ();R.set_rectangle(new IPCC.Web.UI.Rectangle(aF.x,aF.y,aF.width,aF.height));R.set_href(gM.ajH());R.set_lineColor(gM.aFv());R.set_lineWidth(gM.aFo());R.set_borderPattern(gM.aDl());R.set_borderType(gM.aDt());R.set_borderHorizontalRadius(gM.aFR());R.set_borderVerticalRadius(gM.aFq());R.set_borderOpacity(gM.aFC());eg.addMark(R);gM.aBP(R);});h.aK('hyperlinkPageReady',{pageIndex:aQ.pageNumber});var bW=im();var ca=[];if(bW){ca=pK(bW);}if(aQ.pageNumber>=ca[0]&&aQ.pageNumber<=ca[ca.length-1]){var bG=document.getElementById(bJ[aQ.pageNumber].bx);h.vi(bG,aQ.pageNumber);}};al.WK(apN);};function auA(al){function Kf(bV,aQ){if(ml===false){return;}var wk;if(aQ.pageNumber>=0){if(bJ[aQ.pageNumber].bx){wk=bJ[aQ.pageNumber].bx;}}h.aK('textExtractionFailed',{'exception':aQ.exception,'pageIndex':aQ.pageNumber,'pageNodeID':wk});};al.AA(Kf);};function ZE(aE){function apL(bV,aQ){if(ml===false){return;}var wk;if(isNaN(aQ.pageNumber)===false){if(aQ.pageNumber>=0){if(bJ[aQ.pageNumber].bx){wk=bJ[aQ.pageNumber].bx;}}bJ[aQ.pageNumber].DO=true;bJ[aQ.pageNumber].yj=false;bJ[aQ.pageNumber].AC=false;bJ[aQ.pageNumber].gV=false;}var mN=new IPCC.ExceptionEventArgs();mN.functionName=aQ.function_name;mN.exception=aQ.exception;mN.pageIndex=aQ.pageNumber;mN.pageNodeID=wk;h.aK('exceptionThrown',mN);if(ng>0){ng=ng-1;if(ng===0){setTimeout(function(){nz();},60);}}};aE.add_exceptionThrown(apL);};function ZS(aE){function Ja(bV,aQ){h.aK('markCreating',aQ);};aE.add_markCreating(Ja);};function auS(bf){function aaz(){if(ml===false){return;}var bW=im();var ca=[];if(bW){ca=pK(bW);}if(bf.cT>=ca[0]&&bf.cT<=ca[ca.length-1]){var bG=document.getElementById(bf.bx);h.vi(bG,bf.cT);}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;h.aK('marksLoaded',V);};bf.ag.add_marksLoaded(aaz);};function atR(bf){function iG(bV,aQ){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;V.clientX=aQ.clientX;V.clientY=aQ.clientY;h.aK('markAdded',V);};bf.ag.add_markAdded(iG);};function XL(bf){var XK,pB=false,ZU,ZP;function JX(K,ea){if(ti===false){return;}var iW=vD();ajB(K,ea,iW);jY(di,true,iW);};function aum(K,ea){ZU=K;ZP=ea;if(pB&& !XK){XK=JC(function(){pB=false;XK=undefined;if(ZU&&ZP){JX(ZU,ZP);}else{JX(K,ea);}});}};function lT(bV,aQ){if(aQ.mark.vy===true){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;V.propertyName=aQ.propertyName;h.aK('markChanged',V);var ea=di[aQ.mark.get_markID()];if(ea&&(aQ.propertyName==='rectangle'||aQ.propertyName==='points'||aQ.propertyName==='startPoint'||aQ.propertyName==='endPoint')){pB=true;aum(aQ.mark,ea);}else if(ea&&aQ.propertyName==='visible'){var avq=aQ.mark.get_visible();var UB=(function(ct){return IPCC.C.inArray(MP(),ct.aa-1);})(ea);if(avq&&UB){Sh([ea]);jY(di,true,vD());}else{Mx([ea]);}}};bf.ag.add_markChanged(lT);};function arZ(bf){function aaD(bV,aQ){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;V.oldZIndex=aQ.oldZIndex;h.aK('markReordered',V);};bf.ag.add_markReordered(aaD);};function att(bf){function Bu(bV,aQ){if(aQ.mark.vy===true){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;h.aK('markSelectionChanged',V);};bf.ag.add_markSelectionChanged(Bu);};function asu(bf){function Cc(bV,aQ){if(aQ.mark){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;h.aK('markRemoved',V);var ea=di[aQ.mark.get_markID()];if(ea){if(aQ.mark.get_conversation()===hW){hW=null;}ea.dQ.parentElement.removeChild(ea.dQ);delete di[aQ.mark.get_markID()];jY(di,true);}}};bf.ag.add_markRemoved(Cc);};function aua(bf){function Au(bV,aQ){var V=new IPCC.Web.UI.MarkEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.zIndex=aQ.zIndex;h.aK('markTextSelectionChanged',V);};bf.ag.add_markTextSelectionChanged(Au);};function ajB(K,ea,OZ){var bf=bJ[ea.aa-1],al=document.getElementById(bf.bx),DF=VJ(K,bf.cT+1);if(al.aL){var cA=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(DF.x,DF.y),true);var pV=(fs*bf.cT);var FJ=(al.offsetTop-pV+cA.y)/(OZ-(fs*bJ.length));ea.aF=DF;ea.SY=FJ;}};function Mx(jk,aa){var arE=typeof aa==='undefined';IPCC.C.forEach(jk,function(bB){if(bB&&(arE||bB.pageNumber===aa)){bB.dQ.style.display='none';bB.yv=false;}});};function uF(){if(kn.currentStyle&&kn.currentStyle.display==='none'){return 0;}return kn.clientWidth;};function vD(){if(kn.currentStyle&&kn.currentStyle.display==='none'){return 0;}return kn.offsetHeight;};function Sh(jk,aa){var aDC=typeof aa==='undefined';IPCC.C.forEach(jk,function(el){if(aDC||el.pageNumber===aa){el.dQ.style.display='';el.yv=true;if(el&&el.R&&el.R.get_visible()===false){el.dQ.style.display='none';el.yv=false;}}});};function AS(jk,Wv){if(ti===false){return;}var QW=(! !Wv)?IPCC.C.filter(di,function(ct){return IPCC.C.contains(MP(),ct.aa-1);}):jk;var iW=vD();IPCC.C.forEach(QW,function(el){ajB(el.R,el,iW);});};function asW(a,b){return(a.aF.y!==b.aF.y)?(a.aF.y-b.aF.y):(a.aF.x!==b.aF.x)?(a.aF.x-b.aF.x):(a.yC-b.yC);};function arq(a,b){return(a.aF.x!==b.aF.x)?(a.aF.x-b.aF.x):(a.aF.y!==b.aF.y)?(b.aF.y-a.aF.y):(a.yC-b.yC);};function asY(a,b){return(a.aF.y!==b.aF.y)?(b.aF.y-a.aF.y):(a.aF.x!==b.aF.x)?(b.aF.x-a.aF.x):(a.yC-b.yC);};function asQ(a,b){return(a.aF.x!==b.aF.x)?(b.aF.x-a.aF.x):(a.aF.y!==b.aF.y)?(a.aF.y-b.aF.y):(a.yC-b.yC);};function atw(SQ,iW,Bh){Bh=Bh||0;var _top,akf,Hj,YP=(fs*bJ.length),SU=iW-YP;IPCC.C.forEach(SQ,function(ct){Hj=(fs*(ct.aa-1));akf=(ct.SY*SU)+Hj;_top=Math.max(Bh+5,akf);if(ct.dQ.style.top!==_top+'px'){ct.dQ.style.top=_top+'px';}Bh=_top+ct.Zo;});};function auZ(SQ,iW){var MI,_top,Mb,Hj,ajd,YP=(fs*bJ.length),SU=iW-YP;IPCC.C.forEach(SQ,function(ct){Hj=(fs*(ct.aa-1));Mb=(ct.SY*SU)+Hj;if(MI===undefined){MI=Mb;}if(ct.R.get_conversation()===hW){_top=Mb;ajd=_top+ct.Zo;}else{_top=Math.min(MI-5-ct.Zo,Mb);}if(ct.dQ.style.top!==_top+'px'){ct.dQ.style.top=_top+'px';}MI=_top;});return ajd;};function jY(jk,Wv,iW){if(ti===false){return;}if(!iW){iW=vD();}var ape=function(a,b){if(a.aa!==b.aa){return(a.aa-b.aa);}var al=bJ[a.aa-1],gs=al.hB;switch(gs){case 90:return arq(a,b);case 180:return asY(a,b);case 270:return asQ(a,b);default:return asW(a,b);}};var QW=(! !Wv)?IPCC.C.filter(di,function(ct){return IPCC.C.inArray(MP(),ct.aa-1);}):jk;Sh(QW);var art=IPCC.C.map(QW,function(ct,bF){ct.Zo=ct.dQ.offsetHeight;return ct;});var Sn=art.sort(ape);var Qu=[],RF=[],TF=false;if(hW){var aFU=di[hW.get_mark().get_markID()];if(!IPCC.C.inArray(Sn,aFU)){TF=true;}IPCC.C.forEach(Sn,function(ct){if(TF){RF.push(ct);}else if(ct.R.get_conversation()===hW){Qu.unshift(ct);TF=true;}else{Qu.unshift(ct);}});}else{RF=Sn;}var Bh=0;if(Qu.length){Bh=auZ(Qu,iW);}atw(RF,iW,Bh);};function awP(jk,K,cT){var ct=jk[K.nf()];ct.aa=cT;ct.R=K;ct.aF=VJ(K,cT);ct.yC=K.eI().oa(K);};function BW(K,jk,kC){var ea=jk[K.get_markID()];if(ea){ea.dQ.parentElement.replaceChild(kC,ea.dQ);ea.dQ=kC;}return ea;};function atG(K,jk,kC,aBh,aIv,FJ,cT){var ea=new aGf();ea.dQ=kC;di[K.get_markID()]=ea;awP(di,K,cT);ea.SY=FJ;aBh.appendChild(kC);return ea;};function VJ(K,aa){var aF=(K.get_boundingRectangle)?K.get_boundingRectangle():{},gs=bJ[aa-1].hB;switch(gs){case 90:return{x:aF.x,y:aF.y+(aF.height||0)};case 180:return{x:aF.x+(aF.width||0),y:aF.y+(aF.height||0)};case 270:return{x:aF.x+(aF.width||0),y:aF.y};default:return{x:aF.x,y:aF.y};}};function aoO(bf){function QZ(bV,aQ){var V=new IPCC.Web.UI.CommentEventArgs();V.pageIndex=bf.cT;V.mark=aQ.mark;V.index=aQ.index;V.comment=aQ.comment;var al=document.getElementById(bf.bx);h.aK('commentAdding',V);setTimeout(function(){var OZ=vD(),ea,dQ;if(aQ.index===0){dQ=or(aQ.mark,{isSelected:false},null);if(!dQ){return;}else if(!IPCC.C.uE(dQ)){throw new Error(dQ+' is not a valid HTMLElement');}var DF=VJ(aQ.mark,bf.cT+1),avJ=DF.x,aAJ=DF.y;var cA;if(al&&al.aL){cA=al.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(avJ,aAJ),true);}else{cA=new IPCC.Web.UI.Point(0,0);}var pV=(fs*(bf.cT));var FJ=(agw(bf.cT)-pV+cA.y)/(OZ-(fs*bJ.length));ea=atG(aQ.mark,di,dQ,kn,cA,FJ,bf.cT+1);}else{var FW=aQ.mark.get_conversation()===hW;var currentConversationDiv=di[aQ.mark.get_markID()];if(!currentConversationDiv){return;}dQ=or(aQ.mark,{isSelected:FW},currentConversationDiv.dQ);if(!dQ){return;}else if(!IPCC.C.uE(dQ)){throw new Error(dQ+' is not a valid HTMLElement');}ea=BW(aQ.mark,di,dQ);}if(IPCC.C.contains(MP(),bf.cT)){jY(di,true,OZ);}else{Mx([ea]);}h.aK('commentAdded',V);},0);};bf.ag.add_commentAdded(QZ);};function aop(bf){function QL(bV,aQ){var dQ=null;if(di[aQ.mark.get_markID()]){dQ=di[aQ.mark.get_markID()].dQ;var FW=aQ.mark.get_conversation()===hW;dQ=or(aQ.mark,{isSelected:FW},dQ);}if(!dQ){h.aK('commentChanged',aQ);return;}else if(!IPCC.C.uE(dQ)){throw new Error(dQ+' is not a valid HTMLElement');}if(dQ){var iW=vD();BW(aQ.mark,di,dQ);jY(di,true,iW);}h.aK('commentChanged',aQ);};bf.ag.add_commentChanged(QL);};function aus(bf){function QH(bV,aQ){var dQ=null;if(di[aQ.mark.get_markID()]){dQ=di[aQ.mark.get_markID()].dQ;}var FW=aQ.mark.get_conversation()===hW;dQ=or(aQ.mark,{isSelected:FW},dQ);if(IPCC.C.uE(dQ)){BW(aQ.mark,di,dQ);}else{var ea=di[aQ.mark.get_markID()];if(ea){if(aQ.mark.get_conversation()===hW){hW=null;}ea.dQ.parentElement.removeChild(ea.dQ);delete di[aQ.mark.get_markID()];}}jY(di,true);h.aK('commentRemoved',aQ);};bf.ag.add_commentRemoved(QH);};function YK(){var by=iF;var aO=gz;var apP=function(iX){return{width:iX.width||(iX.right-iX.left),height:iX.height||(iX.bottom-iX.top),top:iX.top,bottom:iX.bottom,left:iX.left,right:iX.right};};var acn=apP(bg.getBoundingClientRect());var oh={height:acn.height/2};oh.width=oh.height*aO/by;if(oh.width>aO/2){oh.width=aO/2;}if(oh.height>by/2){oh.height=by/2;}var Yn=8;var ans={height:by*Yn,width:aO*Yn};var ard=aO*dv<oh.width+5;var ary=aO*dv>ans.width-5;return{min:oh,max:ans,page:{width:aO,height:by},viewport:acn,atMin:ard,atMax:ary,maxFactor:Yn,minFactor:oh.width/aO};};function kZ(bz,Xp){if(Xp){acZ.apply(this,arguments);return;}var tZ=(bz<dv)?true:false;var pd=YK();if((pd.atMin&&tZ)||(pd.atMax&& !tZ)){return;}if(bz>pd.maxFactor){bz=pd.maxFactor;}else if(bz<pd.minFactor){bz=pd.minFactor;}if(!pd.atMax|| !pd.atMin){acZ.apply(this,arguments);}};function acZ(bz,aHe,bi,de,BQ,tk,eL,fj){if(isNaN(bz)||bz<=0||Math.abs(bz)===Infinity){return;}var XP=dm;var bW=im();var tZ=(bz<dv)?true:false;var gr=0;var ho=bJ.length-1;if(cR===IPCC.ViewMode.SinglePage){if(dm-tw>=0){gr=dm-tw;}if(dm+tw<bJ.length-1){ho=dm+tw;}}var KC=bz/dv;dv=bz;var Fj=bg.getBoundingClientRect();var acM=(tk&&tk.x!==undefined)?tk.x:bg.scrollLeft+(Fj.width/2);var aap=(tk&&tk.y!==undefined)?tk.y:bg.scrollTop+(Fj.height/2);var atI=tk&&tk.x!==undefined&&tk.y!==undefined;gl=0;fS=0;for(var ak=gr;ak<=ho;ak++){var aB;var bG=document.getElementById(bJ[ak].bx);if(bG){aB=bG.aL;}else{continue;}if(ak===XP){var OI=bG.getBoundingClientRect();if(!atI){if(fv===IPCC.PageLayout.HorizontalScrollDirection&&Fj.height>OI.height){aap-=((Fj.height-OI.height)/2);}else if(fv===IPCC.PageLayout.VerticalScrollDirection&&Fj.width>OI.width){acM-=((Fj.width-OI.width)/2);}}}var gG=bz*du/bJ[ak].fW;var aA=gz;var bM=iF;var fN=gz;var eW=iF;if(iA(oO)===true){fN=iF;eW=gz;}if(bJ[ak].lK()>0){if(iA(bJ[ak].hB)===true){aA=bJ[ak].pO();bM=bJ[ak].lK();}else{aA=bJ[ak].lK();bM=bJ[ak].pO();}}else{gG=bz*du/bJ[0].fW;if(iA(bJ[ak].hB)===true){var Gc=aA;aA=bM;bM=Gc;gG=bz*du/bJ[0].gK;}}var JK,IG,gZ;if(cR===IPCC.ViewMode.SinglePage){IG=aA*gG;JK=bM*gG;bG.style.width=IG+'px';bG.style.height=JK+'px';if(ak===dm){bq.style.width=IG+'px';bq.style.height=JK+'px';}if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.zoom(gG);}}else if(cR===IPCC.ViewMode.Document){IG=aA*gG;JK=bM*gG;bG.style.width=IG+'px';bG.style.height=JK+'px';if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.zoom(gG);}if(aA*gG>gl){gl=aA*gG;}if(bM*gG>fS){fS=bM*gG;}}else{gG=bz*du/bJ[0].fW;if(fv===IPCC.PageLayout.VerticalScrollDirection){gZ=fN/aA*gG;bG.style.width=fN*gG+'px';bG.style.height=bM*gZ+'px';if(fN*gG>gl){gl=fN*gG;}if(bM*gG>fS){fS=bM*gG;}}else{gZ=eW/bM*gG;bG.style.height=eW*gG+'px';bG.style.width=aA*gZ+'px';if(aA*gG>gl){gl=aA*gG;}if(eW*gG>fS){fS=eW*gG;}}if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.zoom(gZ);}}if(aB&&bJ[ak].gV===true&&aB.fz()===true){aB.display();if(IPCC.C.tE.BE){var aGA=bg.style.display;bg.style.display='none';bg.style.display=aGA;aom();}}}if(fv===IPCC.PageLayout.VerticalScrollDirection){Qd=bg.scrollTop;}else{Qd=bg.scrollLeft;}var Lj,Lb,Qf=0,MF=0;if(BQ){Lj=BQ.offsetLeft+KC*bi;Lb=BQ.offsetTop+KC*de;bg.scrollLeft=Lj-(bg.clientWidth/2)+Qf;bg.scrollTop=Lb-(bg.clientHeight/2)+MF;awo(bW);}else{if(fv===IPCC.PageLayout.VerticalScrollDirection){MF=fs*(XP+1);}else{Qf=gk+((hf+gk)*(XP+1));}Lj=KC*(acM-Qf);Lb=KC*(aap-MF);acv(bW);bg.scrollLeft=Lj-(bg.clientWidth/2)+Qf;bg.scrollTop=Lb-(bg.clientHeight/2)+MF;}if(cR!==IPCC.ViewMode.SinglePage&&(eL===IPCC.ScaleTrigger.Pinch||tZ===true)){nz();}jY(di,true);h.aK('scaleChanged',{scaleType:(tZ)?"scaledDown":"scaledUp",scaleTrigger:eL,fitType:fj,scaleFactor:dv});};function aom(){var dummy=document.createElement('div');setTimeout(function(){bg.appendChild(dummy);bg.removeChild(dummy);},0);};function ako(ap,fb,et,fA){var hF=ap.igElements;fA=fA||ZL(ap);if(fA&&(fA.right-fA.left)>0&&(fA.bottom-fA.top)>0){return new IPCC.Web.UI.Point(fb+fA.left+hF.oQ.scrollLeft,et+fA.top+hF.oQ.scrollTop);}else{return;}};function ZL(ap){var hF=ap.igElements;var fA=null;if(!ap|| !hF|| !hF.mQ){return null;}if(hF.mQ.getBoundingClientRect){try{fA=hF.mQ.getBoundingClientRect();}catch(ax){return;}}else{var eJ=hF.mQ;var ts=document.documentElement;fA={left:ts.clientLeft-ts.scrollLeft,top:ts.clientTop-ts.scrollTop};eJ=eJ.offsetParent;while(eJ){fA.top+=eJ.offsetTop-eJ.scrollTop;fA.left+=eJ.offsetLeft-eJ.scrollLeft;eJ=eJ.offsetParent;}}return fA;};function akR(){var cD=h.nT();var KU=cD.id;var wc;var xb;var nx;var Xf;var WE;var ah=false;var ap;var pr=[];var wh= -1;var hD=0;var nA;var Eh;var zl;var mj={x:0,y:0};var kp=0;var ce=0;var tf=null;var tI=null;if(bq===''){bg=gj({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bg.className='pccPageListContainerWrapper';bg.tabIndex=2;var aaR=function(fb,et){return IPCC.C.getPageFromPoint(fb,et,bg)||false;};var aaB=function(ap,fb,et){var hF=ap.igElements;var fA=ZL(ap);if(fA&&(fA.right-fA.left)>0&&(fA.bottom-fA.top)>0){return new IPCC.Web.UI.Point(fb-fA.left-hF.oQ.scrollLeft,et-fA.top-hF.oQ.scrollTop);}else{return;}};var aDV=function(pN){pN.GU([new IPCC.lu(IPCC.Web.UI.MarkType.Text)]);};var aDL=function(pN){pN.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var LN=false,atD="";var akS=function aIp(ax,io,al){if(io.match(/edit/)){LN=true;return;}aDV(al.aL);LN=true;atD=io;al.aL.Hn("touchstart",ax);};var alp=function(al){LN=false;aDL(al.aL);};var ZY=function(ax){if(ax.target&&ax.target.attributes&&ax.target.getAttribute('data-pcc-mark')){return ax.target;}else if(ax.target.parentElement&&ax.target.parentElement.attributes&&ax.target.parentElement.getAttribute('data-pcc-mark')){return ax.target.parentElement;}else if(ax.target.parentNode&&ax.target.parentNode.attributes&&ax.target.parentNode.getAttribute('data-pcc-mark')){return ax.target.parentNode;}else{return undefined;}};var Zz=function(ax){var dA=ZY(ax);if(dA){return dA.getAttribute('data-pcc-mark');}return undefined;};var adp=function(pN){if(pN&&pN.eI()){pN.eI().BP(function(R){R.set_selected(false);});pN.display();}};var Oq,YC=false;var Sf=function(ax,V){var lD={cP:undefined,R:undefined,bj:null};var kv=ZY(ax);if(kv){if(typeof ap!=='undefined'&&ap!==false&&ap.aL&&ap.igElements&&ap.aL.fz()===true){lD.bj=ap.aL.oB();}if(kv.ImGearMarkRelation){lD.cP='mark';lD.R=kv.ImGearMarkRelation.R;lD.aaA=lD.R.get_selected();return lD;}else{while(!(kv.ImGearMarkRelation)&&kv.parentNode&&kv!==document.body){kv=kv.parentNode;if(kv.ImGearMarkRelation){lD.cP='mark';lD.R=kv.ImGearMarkRelation.R;lD.aaA=lD.R.get_selected();return lD;}}}}if(typeof ap!=='undefined'&&ap!==false&&ap.aL&&ap.igElements&&ap.aL.fz()===true){lD.bj=ap.aL.oB();var bj=0;for(bj=0;bj<bJ.length;bj++){if(bJ[bj].bx===ap.id){if(typeof V.targetType==='undefined'||V.targetType===null){lD.cP='page';return lD;}break;}}}return lD;};var Ps=function(bj,tg,hX,axq){if(an===null||an===undefined){return;}var Yh=false;if(tg===undefined){tg=an.tg;Yh=true;}if(hX===undefined){hX=an.hX;Yh=true;}var R;var al=document.getElementById(bJ[bj].bx);if(axq===true){R=an.vP;}else{R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);R.set_rectangle({x:0,y:0,width:0,height:0});R.cS=127;R.eF='#3366CC';R.aj=null;al.aL.mn().addMark(R);}R.set_selected(true);if(Yh===true){if(an.gr===an.ho){R.bQ=hD;R.cz=hX-hD+1;R.kf=true;R.jL=true;al.aL.display();}else if(bj===an.gr){R.bQ=hD;R.cz=al.aL.cB().hl().eQ()-1-tg;R.kf=true;R.jL=false;al.aL.display();}else if(bj===an.ho){R.bQ=0;R.cz=hX+1;R.kf=false;R.jL=true;al.aL.display();}else{R.bQ=0;R.cz=al.aL.cB().hl().eQ()-1-hD;R.kf=false;R.jL=false;}}else{if(an.gr===an.ho){R.kf=true;R.jL=true;}else if(bj===an.gr){R.kf=true;R.jL=false;}else if(bj===an.ho){R.kf=false;R.jL=true;}else{R.kf=false;R.jL=false;}}an.eH[bj]=R;};var ahO=function(dA,bi,de,ME){if(dA){var Sg=dA.getBoundingClientRect();bi=IPCC.C.Ny(bi,Sg.left+ME);bi=IPCC.C.Lu(bi,Sg.right-ME);de=IPCC.C.Ny(de,Sg.top+ME);de=IPCC.C.Lu(de,Sg.bottom-ME);}return{x:bi,y:de};};var le=function(ax){if(zl){if(zl.clientX===ax.clientX&&zl.clientY===ax.clientY){if(ax.rawEvent.preventDefault){ax.rawEvent.preventDefault();}else if(ax.preventDefault){ax.preventDefault();}if(ax.rawEvent.stopPropagation){ax.rawEvent.stopPropagation();}else if(ax.stopPropagation){ax.stopPropagation();}YC=true;zl=undefined;return false;}}Oq=ax;ahL(ax,ax.clientX,ax.clientY,ax.button);};var ajx=function(ax,V){nx=Sf(ax,V);};var ahL=function(ax,fb,et,oG){var V=new IPCC.Web.UI.MouseEventArgs();ap=aaR(fb,et);ajx(ax,V);var io;var kv=ZY(ax);if(kv){io=kv.getAttribute('data-pcc-mark');}var SX=false;var Nr=io&&io.substring(0,10);if(io&&Nr==='texthandle'){Eh=true;SX=true;Nr=io.substring(10,13);var R=kv.parentNode.ImGearMarkRelation.R;if(an&&R.aj===null){pr=an.sy.slice();pr[V.pageIndex]=undefined;}else{an=null;pr=[];h.ug();}var adi=function(awk){hD=an.tg;var G;for(G=an.ho;G>=an.gr;G--){var al=document.getElementById(bJ[G].bx);if(al.aL===undefined||al.aL===null){continue;}var zj=hD;if(G!==an.gr){zj=0;}var sY;if(G===an.ho){sY=an.hX;}else{sY=al.aL.get_textPage().hl().eQ()-1;}awk(al,zj,sY);if(G!==an.qw){Ps(G);}}tf=bP;bP=IPCC.Web.UI.MouseTool.SelectText;ah=true;};var G,bj,ag,PZ,fp,sQ,dE;if(Nr==='sta'){if(an===null||an===undefined){bj=R.bj;an={};an.eH=[];an.gr=bj;an.tg=R.bQ;hD=R.bQ;while(bj<bJ.length){ag=bJ[bj].ag;PZ=ag.get_markCount();for(G=0;G<PZ;G++){fp=ag.getMark(G);if(R.bS===fp.bS&&fp.get_type()===R.get_type()){an.eH[bj]=fp;for(sQ=fp.aj.length-1;sQ>=0;sQ--){if(fp.aj[sQ].set_visible){fp.aj[sQ].set_visible(false);}else{fp.set_visible(false);break;}}if(bj===R.bj){tI=fp;}else{pr[bj]=dE.substring(fp.bQ,fp.cz);fp.set_selected(false);}dE=fp.dE.substring(fp.cz);if(fp.jL===true){an.hX=fp.bQ+fp.cz-1;an.ho=bj;break;}}}bj++;}}nA=an.hX+1;kp=an.ho;var aEX=function(al,zj,sY){al.aL.showEmptyTextSelection(sY+1);al.aL.extendTextSelection(undefined);al.aL.extendTextSelection(sY);al.aL.extendTextSelection(zj);};an.eH[an.gr].vy=true;an.qw=an.gr;an.vP=an.eH[an.gr];adi(aEX);}else if(Nr==='end'){if(an===null||an===undefined){bj=R.bj;an={};an.eH=[];an.ho=bj;an.hX=R.bQ+R.cz-1;while(bj>=0){ag=bJ[bj].ag;PZ=ag.get_markCount();for(G=0;G<PZ;G++){fp=ag.getMark(G);if(R.bS===fp.bS&&fp.get_type()===R.get_type()){an.eH[bj]=fp;for(sQ=fp.aj.length-1;sQ>=0;sQ--){if(fp.aj[sQ].set_visible){fp.aj[sQ].set_visible(false);}else{fp.set_visible(false);break;}}if(bj===R.bj){dE=fp.dE;}else{pr[bj]=dE.substring(dE.length-fp.cz);fp.set_selected(false);}dE=fp.dE.substring(0,dE.length-fp.cz);if(fp.kf===true){an.tg=fp.bQ;hD=fp.bQ;an.gr=bj;tI=fp;break;}}}bj--;}}nA=an.tg;kp=an.gr;var aGd=function(al,zj,sY){al.aL.showEmptyTextSelection(zj);al.aL.extendTextSelection(undefined);al.aL.extendTextSelection(zj);al.aL.extendTextSelection(sY);};an.eH[an.ho].vy=true;an.qw=an.ho;an.vP=an.eH[an.ho];adi(aGd);}if(tI){ap.aL.display();}}var Ar=ax.target.tagName&&ax.target.tagName.toLowerCase()==='textarea';if(Ar){return;}var yb=ax.target.tagName&&ax.target.tagName.toLowerCase()==='input'&&ax.target.type&&ax.target.type.toLowerCase()==='text';if(yb){return;}if(bP===IPCC.Web.UI.MouseTool.HandPan&&zG&&io&&SX===false){if(!nx||nx.R.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){akS(ax,io,ap);return;}}var cF;var eE;if(ap!==false&&ap.aL&&ap.igElements&&ap.aL.fz()===true){var bv=0;for(bv=0;bv<bJ.length;bv++){if(bJ[bv].bx===ap.id){V.pageIndex=bv;break;}}V.pointLiesWithinImage=true;eE=aaB(ap,fb,et);if(eE){cF=ap.aL.KZ(eE,false);V.imagePoint=cF;V.constrainedImagePoint=cF;}else{V.pointLiesWithinImage=false;}}else{V.pointLiesWithinImage=false;}V.domEvent=ax;V.windowPoint=new IPCC.Web.UI.Point(fb,et);if(SX===true){wh= -1;ce=V.pageIndex;ax.preventDefault();h.aK('mouseDown',V);return;}switch(bP){case IPCC.Web.UI.MouseTool.None:ax.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ax.preventDefault();wc=et;xb=fb;Xf=bg.scrollTop;WE=bg.scrollLeft;ah=true;h.zX(bq,'grabbing');if(ap&&ap.aL){h.zX(ap,'grabbing');ap.aL.set_cursor('grabbing');ap.aL.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ax.preventDefault();if(oG===0&&ap&&ap.aL&&cF){h.ug();pr=[];wh= -1;Eh=undefined;hD=undefined;nA=undefined;ah=true;mj=V.windowPoint;}break;case IPCC.Web.UI.MouseTool.Magnifier:ax.preventDefault();if(oG===0&&ap&&ap.aL&&eE){var jJ=IPCC.ab.fo(IPCC.ab.None);bq.style.cursor=jJ;ap.aL.showMagnifier(eE);ap.aL.display();}ah=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ax.preventDefault();if(oG===0&&ap&&ap.aL&&cF){ah=true;wc=eE.y;xb=eE.x;ap.aL.showEmptySelection(cF);ap.aL.display();}break;}h.aK('mouseDown',V);};var kw=function(ax){aiA(ax,ax.clientX,ax.clientY,ax.button);};var amX=function(V,fb,et,cO){V.windowPoint=new IPCC.Web.UI.Point(fb,et);cO=aaR(fb,et);var cF,eE;if(cO!==false&&cO.aL&&cO.igElements&&cO.aL.fz()===true){V.pointLiesWithinImage=true;eE=aaB(cO,fb,et);if(eE){cF=cO.aL.KZ(eE,false);V.imagePoint=cF;V.constrainedImagePoint=cF;}else{V.pointLiesWithinImage=false;}}else{V.pointLiesWithinImage=false;}return{V:V,fb:fb,et:et,cO:cO,cF:cF,eE:eE};};var aiA=function(ax,fb,et,oG){var Ar=ax.target.tagName&&ax.target.tagName.toLowerCase()==='textarea';if(Ar){return;}var yb=ax.target.tagName&&ax.target.tagName.toLowerCase()==='input'&&ax.target.type&&ax.target.type.toLowerCase()==='text';if(yb){return;}var V=new IPCC.Web.UI.MouseEventArgs();var cF,eE,cO;var HB=function(fb,et){var oW=amX(V,fb,et,cO);V=oW.V;V.domEvent=ax;fb=oW.fb;et=oW.et;cO=oW.cO;cF=oW.cF;eE=oW.eE;};HB(fb,et);var kv=Sf(ax,V);if(kv&&kv.R){V.mark=kv.R;}var jJ;switch(bP){case IPCC.Web.UI.MouseTool.None:ax.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ax.preventDefault();if(ah){var avM=et;var awS=fb;var aBO=wc-avM;var aCh=xb-awS;bg.scrollTop=Xf+aBO;bg.scrollLeft=WE+aCh;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:ax.preventDefault();if(ah){if(oG!==0){BK();}var hL;if(!cO){h.aK('mouseMove',V);return;}if(hD===undefined){ap=cO;}else if(cO!==ap&&cO.aL&&eE){wh= -1;var jr=0;var G=0;for(G=0;G<bJ.length;G++){if(bJ[G].bx===cO.id){jr=G;break;}}if(jr>ce){if(jr>kp){hL=ap.aL.get_textPage().hl().eQ()-1;if(hL<0){BK();h.aK('mouseMove',V);return;}ap.aL.extendTextSelection(hL);if(an){hL=ap.aL.get_textPage().hl().eQ()-1;an.eH[ce].set_startIndex(ap.aL.RI());an.eH[ce].set_textLength(ap.aL.AW());an.ho=jr;hD=ap.aL.RI();}pr[ce]=ap.aL.getSelectedText();cO.aL.showEmptyTextSelection(0);cO.aL.extendTextSelection(undefined);wh=0;ap.aL.display();ap=cO;}else{hD=0;pr[ce]=undefined;pr[jr]=undefined;ap.aL.showEmptyTextSelection(0);ap.aL.extendTextSelection(undefined);if(an&&an.eH[ce]){an.eH[ce].kf=false;}ap.aL.display();ap=cO;if(an&&an.eH[ce]){an.eH[ce]=undefined;an.gr=jr;an.eH[jr].set_startIndex(0);an.eH[jr].set_textLength(an.eH[jr].get_startIndex()+an.eH[jr].get_textLength());an.eH[jr].kf=true;ap.aL.display();}}}else if(jr<ce){if(jr<kp){hL=ap.aL.get_currentTextIndex();if(hL!==0){ap.aL.extendTextSelection(0);}if(an){an.eH[ce].set_startIndex(ap.aL.RI());an.eH[ce].set_textLength(ap.aL.AW());an.gr=jr;}pr[ce]=ap.aL.getSelectedText();ap.aL.display();hL=cO.aL.cB().hl().eQ()-1;wh=hL;hD=0;cO.aL.showEmptyTextSelection(hL+1);cO.aL.extendTextSelection(undefined);ap=cO;ap.aL.display();}else{pr[ce]=undefined;pr[jr]=undefined;ap.aL.showEmptyTextSelection(0);ap.aL.extendTextSelection(undefined);if(an&&an.eH[ce]){an.eH[ce].jL=false;}ap.aL.display();ap=cO;if(an&&an.eH[ce]){an.eH[ce]=undefined;an.ho=jr;hL=ap.aL.cB().hl().eQ()-1;an.eH[jr].set_textLength(cO.aL.AW());an.eH[jr].jL=true;ap.aL.display();}}}ce=jr;}var aDx=(ce<kp),aCX=(ce>kp);if(ap&&ap.aL&&ap.aL.fz()===true&&eE){eE=aaB(ap,fb,et);cF=ap.aL.KZ(eE,false);var da=ap.aL.transformPagePointToTextIndex(cF);if(hD===undefined){hD=da;nA=da;if(da===undefined){h.aK('mouseMove',V);return;}ap.aL.showEmptyTextSelection(da);ap.aL.extendTextSelection(undefined);ap.aL.extendTextSelection(da);ap.aL.display();var bo=0;for(bo=0;bo<bJ.length;bo++){if(bJ[bo].bx===ap.id){kp=bo;ce=bo;break;}}}else{if(hD=== +hD&&da=== +da){if(aDx){hD=da;}else if(!aCX){hD=Math.min(nA,da);}}}hL=ap.aL.get_currentTextIndex();if(hL===da||da===undefined){h.aK('mouseMove',V);return;}if(wh!== -1){if(da!==wh){ap.aL.extendTextSelection(wh);}wh= -1;}if((da>nA&&ce===kp)||ce>kp){if(an){if(an.eH[ce]===undefined||an.eH[ce]===null){Ps(ce,0,0,ce===an.qw);if(ce-1>=0&&an.eH[ce-1]){an.eH[ce-1].jL=false;document.getElementById(bJ[ce-1].bx).aL.display();}}an.eH[ce].jL=true;}if(Eh===undefined){Eh=false;}}else if(da<nA||ce<kp){if(an){if(an.eH[ce]===undefined||an.eH[ce]===null){Ps(ce,ap.aL.cB().hl().eQ()-1,0,ce===an.qw);if(an.eH[ce+1]){an.eH[ce+1].kf=false;document.getElementById(bJ[ce+1].bx).aL.display();}}an.eH[ce].kf=true;}if(Eh===undefined){Eh=true;nA++;ap.aL.showEmptyTextSelection(nA);ap.aL.extendTextSelection(undefined);var sY=ap.aL.cB().hl().eQ();if(nA>=sY){ap.aL.extendTextSelection(sY-1);}else{ap.aL.extendTextSelection(nA);}}}ap.aL.extendTextSelection(da);if(an&&an.eH[ce]){an.eH[ce].set_startIndex(ap.aL.RI());an.eH[ce].set_textLength(ap.aL.AW());}ap.aL.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:ax.preventDefault();if(ah){if(oG!==0||(ap&&ap.aL&&ap!==cO)){ap.aL.hideMagnifier();jJ=IPCC.ab.fo(IPCC.ab.Magnifier);bq.style.cursor=jJ;ap.aL.display();}if(cO&&cO.aL&&eE){ap=cO;jJ=IPCC.ab.fo(IPCC.ab.None);bq.style.cursor=jJ;cO.aL.showMagnifier(eE);cO.aL.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:ax.preventDefault();if(ah){var Jb=ahO(ap,fb,et,1);HB(Jb.x,Jb.y);if(cO&&cO.aL&&cF&&cO===ap){if(oG!==0){cO.aL.hideSelection();cO.aL.display();ah=false;}else{cO.aL.extendSelection(cF);cO.aL.display();}}}break;}h.aK('mouseMove',V);};var lz=function(ax){if(YC!==true){XS(ax,ax.clientX,ax.clientY);}else{YC=false;}};var ajy=function(ax,V){V.upTargetType=null;var CN=Sf(ax,V);V.originalEvent=ax.rawEvent;V.clientX=ax.clientX;V.clientY=ax.clientY;V.downTarget={type:undefined,pageIndex:undefined};if(typeof nx!=='undefined'&&typeof nx.cP!=='undefined'){V.downTarget.type=nx.cP;}if(typeof nx!=='undefined'&&typeof nx.bj!=='undefined'){V.downTarget.pageIndex=nx.bj;}if(typeof nx!=='undefined'&&typeof nx.aaA!=='undefined'){V.downTarget.alreadySelected=nx.aaA;}V.downMark=(typeof nx!=='undefined')?nx.R:undefined;V.upMark=CN.R;switch(CN.cP){case 'page':case 'mark':V.upTarget={type:CN.cP,pageIndex:CN.bj};break;}if(V.pointLiesWithinImage===false&&CN.cP==='page'){CN.bj= -1;}};var XS=function(ax,fb,et){var V=new IPCC.Web.UI.MouseEventArgs();var cO;var cF;var eE;var HB=function(fb,et){var oW=amX(V,fb,et,cO);V=oW.V;V.domEvent=ax;fb=oW.fb;et=oW.et;cO=oW.cO;cF=oW.cF;eE=oW.eE;};HB(fb,et);if(ax){ajy(ax,V);h.aK('mouseUp',V);}nx=undefined;var jJ;switch(bP){case IPCC.Web.UI.MouseTool.None:ax.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:ax.preventDefault();if(ah){xb=undefined;wc=undefined;Xf=undefined;WE=undefined;ah=false;jJ='move';h.zX(bq,'grab');if(ap&&ap.aL){h.zX(ap,'grab');ap.aL.set_cursor('grab');ap.aL.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(ax){ax.preventDefault();}var xD=V.windowPoint.x-mj.x;var yD=V.windowPoint.y-mj.y;if(xD===0&&yD===0){BK();}if(ah){var rh=new IPCC.Web.UI.TextSelectedEventArgs(),ib=[],G,yf,yM;var hX;var KP=ap.aL.getSelectedText();var sy=pr.slice();if(KP.length>0){sy[ce]=ap.aL.getSelectedText();}else{if(ce>kp){ce--;ap=document.getElementById(bJ[ce].bx);if(sy[ce]){KP=sy[ce];}}else if(ce<kp){ce++;ap=document.getElementById(bJ[ce].bx);if(sy[ce]){KP=sy[ce];}}}rh.text=sy.join('');var Tc=true;if(ce>=kp){if(ce===kp){if(ap.aL.get_currentTextIndex()>=nA){Tc=false;}hX=hD+KP.length-1;}else{hX=KP.length-1;}if(hX<0){hX=0;}yf=kp;yM=ce;}else{Tc=false;hX=nA-1;yf=ce;yM=kp;}for(G=yf;G<=yM;G++){ib.push(G);}if(rh.text.length===0){BK();ib=[];}rh.pageNumbers=ib;rh.clientX=fb;rh.clientY=et;if(hD!==undefined){if(bP===IPCC.Web.UI.MouseTool.SelectText){var aoc=function(al,zS){var Kp=al.aL.cB();var fR=Kp.hl();var fk=fR.lo(zS);return fk.tu();};var hL=ap.aL.get_currentTextIndex();var Oz=aoc(ap,hL);var fD=0,dS=0;if(Tc===false){fD=Oz.width;dS=Oz.height;}var CT=ap.aL.transformPagePointToWindow(new IPCC.Web.UI.Point(Oz.x+fD,Oz.y+dS),true);var cA=ako(ap,CT.x,CT.y);rh.handleClientX=cA.x;rh.handleClientY=cA.y;}var avf=an===undefined||an===null;if(tI){rh.previousFirstMark=tI;rh.firstMark=an.eH[yf];if(an.qw<yf||an.qw>yM){var GC=document.getElementById(bJ[an.qw].bx);if(GC.aL){GC.aL.mn().removeMark(an.vP);}}an.vP.vy=false;h.ug();if(tf!==null){bP=tf;}tf=null;}else if(avf===true){if(bP===IPCC.Web.UI.MouseTool.SelectText){an={gr:yf,tg:hD,ho:yM,hX:hX,sy:sy.slice(),eH:[]};for(G=0;G<ib.length;G++){Ps(ib[G]);}}else{h.ug();}}else{if(an.qw<yf||an.qw>yM){var anS=document.getElementById(bJ[an.qw].bx);if(anS.aL){anS.aL.mn().removeMark(an.vP);}}an.vP.vy=false;an.gr=yf;an.tg=hD;an.ho=yM;an.hX=hX;an.sy=sy.slice();if(tf!==null){bP=tf;}tf=null;}rh.mouseTool=bP;rh.startIndex=hD;h.aK('selectTextMouseToolCompleted',rh);if(tI){tI=null;an=null;}}ah=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:ax.preventDefault();if(cO&&cO.aL){cO.aL.hideMagnifier();jJ=IPCC.ab.fo(IPCC.ab.Magnifier);bq.style.cursor=jJ;cO.aL.display();}ah=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:ax.preventDefault();var Jb=ahO(ap,fb,et,1);HB(Jb.x,Jb.y);if(ah&&eE){var Cp=0;var Bs=0;var TS=0;var TI=0;if(eE.x<xb){Cp=xb-eE.x;TS=eE.x+Cp/2;}else{Cp=eE.x-xb;TS=xb+Cp/2;}if(eE.y<wc){Bs=wc-eE.y;TI=eE.y+Bs/2;}else{Bs=eE.y-wc;TI=wc+Bs/2;}var adG=bg.clientWidth/Cp;var acp=bg.clientHeight/Bs;var re=adG;if(adG>acp){re=acp;}if(cO&&cO.aL){cO.aL.ot();cO.aL.display();}ah=false;if(Cp*2+Bs*2>25){h.aqS(re,TS,TI,cO);}}break;}var Ar=false;var yb=false;if(ax){Ar=ax.target.tagName&&ax.target.tagName.toLowerCase()==='textarea';yb=ax.target.tagName&&ax.target.tagName.toLowerCase()==='input'&&ax.target.type&&ax.target.type.toLowerCase()==='text';}if(LN&& !Ar&& !yb){alp(ap);}else if(bP===IPCC.Web.UI.MouseTool.HandPan&&Oq&& !Ar&& !yb&&ax&&Oq.clientX===ax.clientX&&Oq.clientY===ax.clientY&&ax.shiftKey!==true&&ax.ctrlKey!==true){adp(ap.aL);}};var avh=function(){var jJ;switch(bP){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:h.zX(bq,'grab');ah=false;break;case IPCC.Web.UI.MouseTool.SelectText:BK();break;case IPCC.Web.UI.MouseTool.Magnifier:if(ap&&ap.aL){ap.aL.hideMagnifier();jJ=IPCC.ab.fo(IPCC.ab.Magnifier);bq.style.cursor=jJ;ap.aL.display();}ah=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(ap&&ap.aL){ap.aL.hideSelection();ap.aL.display();ah=false;}break;}};var aGi=function(){avh();};var aBX=function(){if(bP===IPCC.Web.UI.MouseTool.Magnifier){if(ap&&ap.aL){ap.aL.hideMagnifier();var jJ=IPCC.ab.fo(IPCC.ab.Magnifier);bq.style.cursor=jJ;ap.aL.display();}ah=false;}else if(bP===IPCC.Web.UI.MouseTool.RectangleZoom){if(ap&&ap.aL){ap.aL.hideSelection();ap.aL.display();ah=false;}}else if(bP===IPCC.Web.UI.MouseTool.SelectText){BK();}};var nc=function(ax){if(ax.ctrlKey){switch(bP){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var LV=ax.rawEvent.wheelDelta;ax.preventDefault();if(LV<0){h.zoomOut(1.5);}else{h.zoomIn(1.5);}break;}}else{ax.preventDefault();bg.scrollTop-=ax.rawEvent.wheelDelta*0.72;}if(bP===IPCC.Web.UI.MouseTool.Magnifier){if(ap&&ap.aL){ap.aL.hideMagnifier();var jJ=IPCC.ab.fo(IPCC.ab.Magnifier);bq.style.cursor=jJ;ap.aL.display();}ah=false;}else if(bP===IPCC.Web.UI.MouseTool.RectangleZoom){if(ap&&ap.aL){ap.aL.hideSelection();ap.aL.display();ah=false;}}else if(bP===IPCC.Web.UI.MouseTool.SelectText){BK();}};var atA=function(aS){var V=new IPCC.Web.UI.MouseEventArgs();V.upTarget={type:'comments',element:aS.target};V.downTarget={type:'comments',element:aS.target};V.originalEvent=aS.rawEvent;V.clientX=aS.clientX;V.clientY=aS.clientY;V.pageIndex=undefined;h.aK('mouseUp',V);};var BK=function(){if(ah===true){if(an&&an.qw!==undefined){if(tI){XS(null,0,0);return;}else{var GC=document.getElementById(bJ[an.qw].bx);if(GC.aL){GC.aL.mn().removeMark(an.vP);}an.vP.vy=false;}}h.ug();tI=null;ah=false;if(tf!==null){bP=tf;}tf=null;}};Ez=gj({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(cR===IPCC.ViewMode.SinglePage){bq=gj({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bq.className='pccPageListContainer pccSinglePageView';}else{bq=gj({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bq.className='pccPageListContainer';}IPCC.Web.UI.bC.addHandler(bg,"mousedown",le);IPCC.Web.UI.bC.addHandler(bg,"mouseup",lz);IPCC.Web.UI.bC.addHandler(bg,"mousemove",kw);IPCC.Web.UI.bC.addHandler(bg,"mouseleave",aGi);IPCC.Web.UI.bC.addHandler(bg,"mousewheel",nc);IPCC.Web.UI.bC.addHandler(bg,"DOMMouseScroll",aBX);bg.onscroll=(! !JC)?aqA:aqY;bq.setAttribute('id',KU+'_ListContainer');bg.setAttribute('id',KU+'_ListWrapper');aqa=KU+'_ListWrapper';kn=gj();kn.className='pccPageListComments pccHidden';kn.setAttribute('id',KU+'_CommentsPanel');var Vm=[];if(IPCC.C.apk){Vm.push('touchend');}else{Vm.push('click');}IPCC.C.forEach(Vm,function(evName){IPCC.Web.UI.bC.addHandler(kn,evName,atA);});Ez.appendChild(bq);Ez.appendChild(kn);bg.appendChild(Ez);cD.appendChild(bg);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var aO='',by='',sp='',um='',qM;var wS=function(){qM=getComputedStyle(cD);sp=qM.getPropertyValue('width');um=qM.getPropertyValue('height');if(sp!==aO||um!==by){aO=sp;by=um;bg.style.width=aO;bg.style.height=by;}};setInterval(wS,1000);window.addEventListener('resize',wS);wS();h.wS=wS;}var awr=IPCC.C.JQ;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&awr&&window.addEventListener&&document.querySelector){aAa(bg);}var awG=function(bq,aHu){var kT;var TP=function(aS){var dP=aS.rawEvent,gE=dP.touches[0]||dP.changedTouches[0];aS.clientX=gE.clientX;aS.clientY=gE.clientY;aS.preventDefault=function(){dP.preventDefault();};aS.stopPropagation=function(){dP.stopPropagation();};return aS;};var Db=function(jB,aS){var V=new IPCC.Web.UI.MouseEventArgs(),Di=(jB==='touchstart')?'mouseDown':(jB==='touchend')?'mouseUp':null;var DE=(jB==='touchstart')?ahL:(jB==='touchmove')?aiA:(jB==='touchend')?XS:null;kT=aaR(aS.clientX,aS.clientY);if(jB==='doubleTap'){kT&&kT.aL&&kT.aL.Hn(jB,aS);}var io;io=Zz(aS);if(io){if(io.substring(0,5)==='texth'){aS.preventDefault();aS.stopPropagation();if(jB==='touchstart'){zl=aS;}DE&&DE(aS,aS.clientX,aS.clientY,0);return;}}switch(bP){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:kT&&kT.aL&&kT.aL.Hn(jB,aS);if(Di==='mouseUp'){ajy(aS,V);}else if(Di==='mouseDown'){ajx(aS,V);}h.aK(jB,V);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aS.preventDefault();aS.stopPropagation();if(jB==='touchstart'){zl=aS;if(io){h.ug();break;}}DE&&DE(aS,aS.clientX,aS.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:aS.preventDefault();aS.stopPropagation();if(jB==='touchstart'){zl=aS;}DE&&DE(aS,aS.clientX,aS.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(io===undefined){io=Zz(aS);}var F=Sf(aS,{});if(io&&zG){if(!F||F.R.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jB==='touchstart'){akS(aS,io,kT);}else if(jB==='touchmove'){kT&&kT.aL&&kT.aL.Hn(jB,aS);}else if(jB==='touchend'){kT&&kT.aL&&kT.aL.Hn(jB,aS);alp(kT);}}}break;}};var CX,zP,xa;var awU=function(aS){if(aS.rawEvent.touches.length>1){clearTimeout(xa);xa=zP=CX=undefined;return;}aS=TP(aS);CX=aS;if(bP===IPCC.Web.UI.MouseTool.CreatePolylineMark){aS.preventDefault();}zP=function(){Db('touchstart',aS);xa=zP=CX=undefined;};xa=setTimeout(function(){zP();},200);};var Hu,CU;var atz=function(aS){aS=TP(aS);pB=false;var aCM=function(){if(!CU){return false;}var fE=CU.clientX-aS.clientX;var ek=CU.clientY-aS.clientY;var gc=fE*fE+ek*ek;return gc<2500;};var amF=function(){Hu=CU=undefined;var io=Zz(aS);if(!io&&bP===IPCC.Web.UI.MouseTool.HandPan&&zG&&kT){adp(kT.aL);}};var avl=function(){var agZ=zP;if(Hu&&aCM()){clearTimeout(Hu);CU=Hu=undefined;agZ();Db('touchend',aS);Db('doubleTap',aS);}else{Hu=setTimeout(function(){agZ();Db('touchend',aS);amF();},300);CU=aS;}};if(CX&&xa){clearTimeout(xa);if(bP===IPCC.Web.UI.MouseTool.CreatePolylineMark){avl();}else{amF();}xa=zP=CX=undefined;return;}Db('touchend',aS);};var aiG,pB=false;var aub=function(aS){if(aS.rawEvent.touches.length>1){return;}aiG=aS;if(CX&&xa){clearTimeout(xa);zP();}aoR();};function aoR(){var aS=TP(aiG);Db('touchmove',aS);};IPCC.Web.UI.bC.addHandler(bq,"touchstart",awU);IPCC.Web.UI.bC.addHandler(bq,"touchmove",aub);IPCC.Web.UI.bC.addHandler(bq,"touchend",atz);};awG(bq,kn);}};function aAa(hG){var aeP=function(){},dk=1;function adR(ahz,ahh,gD,ayk){hG.style['-ms-transform']=ahz;hG.style['-moz-transform']=ahz;hG.style['-webkit-transform']=ahh;hG.style['transform']=ahh;hG.style['-ms-transform-origin']=gD;hG.style['-moz-transform-origin']=gD;hG.style['-webkit-transform-origin']=gD;hG.style['transform-origin']=gD;hG.style.overflow=ayk||'';};function adC(){adR('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};adC();function aot(re,gg,LA,ur,afa){var fD=(-gg.x/re)-LA.x,dS=(-gg.y/re)-LA.y,axH="scale3d("+re+","+re+",1) translate3d("+fD+"px,"+dS+"px,0px)",aym="scale("+re+", "+re+") translate("+fD+"px,"+dS+"px)";var ast=afa.x+'px '+afa.y+'px';adR(aym,axH,ast,'visible');aeP=function(){var az=hG.getBoundingClientRect();var SA={x:(hG.clientWidth/2+ -az.left+ur.left)/re,y:(hG.clientHeight/2+ -az.top+ur.top)/re};if(fv===IPCC.PageLayout.VerticalScrollDirection&&ur.ady){SA.x=SA.x-(ur.ady/2);}adC();h.Ml(re,SA,undefined,IPCC.ScaleTrigger.Pinch);yF=false;};return hG;};function aiY(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function agW(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aGs(aiq,FY){return{x:aiq.x-FY.x,y:aiq.y-FY.y};};var VD=false;hG.addEventListener('touchstart',function(ev){if(yF){return;}if(!VD&&ev.touches.length===2){acR(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var yI,YF=false,yX={};PCCViewer.EventEmitter.extend(yX);hG.addEventListener(IPCC.C.oj['down'],function(aS){YF=true;aS=standardizeMSTouch(aS);if(yI){var dP={};dP.touches=[yI,aS];dP.changedTouches=[yI,aS];dP.preventDefault=function(){yI.rawEvent.preventDefault();aS.rawEvent.preventDefault();};dP.stopPropagation=function(){yI.rawEvent.stopPropagation();aS.rawEvent.stopPropagation();};acR(dP);}else{yI=aS;}});hG.addEventListener(IPCC.C.oj['move'],function(aS){yX.trigger('touchmove',{rawEvent:aS});});hG.addEventListener(IPCC.C.oj['up'],function(aS){yX.trigger('touchend',{rawEvent:aS});yI=undefined;});function acR(ev){yF=true;var LA={x:hG.scrollLeft,y:hG.scrollTop};var ur=hG.getBoundingClientRect();var pd=YK();var Jy=hG.querySelector('.pccPageListItem');if(fv===IPCC.PageLayout.VerticalScrollDirection&&Jy.clientWidth<ur.width-30){ur.ady=ur.width-Jy.clientWidth;}var gg={x:0,y:0,set:function(ajp){this.x=ajp.x;this.y=ajp.y;return this;}};var pB=false;VD=true;ev.preventDefault();ev.stopPropagation();function Ou(gE){gE.x=gE.clientX||gE.pageX||gE.screenX;gE.y=gE.clientY||gE.pageY||gE.screenY;return gE;};var kN=Ou(ev.touches[0]);var yW=Ou(ev.touches[1]);var vX=aiY(kN.x,kN.y,yW.x,yW.y);var akH=agW(kN.x,kN.y,yW.x,yW.y);var ye,AE;function Zp(aS){aS.preventDefault();[].forEach.call(aS.changedTouches,function(t){if(t.identifier===kN.identifier){ye=Ou(t);}else if(t.identifier===yW.identifier){AE=Ou(t);}});if(!ye|| !AE){return;}var aqV=aiY(ye.x,ye.y,AE.x,AE.y);var ark=agW(ye.x,ye.y,AE.x,AE.y);dk=aqV/vX;if((dv*dk)<pd.minFactor){dk=pd.minFactor/dv;}else if((dv*dk)>pd.maxFactor){dk=pd.maxFactor/dv;}gg.set(aGs(akH,ark));if(!pB){pB=true;JX();}};function ZV(){VD=false;pB=false;hG.removeEventListener('touchmove',Zp);hG.removeEventListener('touchend',ZV);if(YF){yX.off('touchmove',akZ);yX.off('touchend',akv);}if(!ye|| !AE){yF=false;return;}JC(aeP);};var akZ=function(aS){var agF=standardizeMSTouch(aS.rawEvent);agF.preventDefault=function(){};Zp(agF);};var akv=function(aS){ZV(standardizeMSTouch(aS.rawEvent));};hG.addEventListener('touchmove',Zp);hG.addEventListener('touchend',ZV);if(YF){yX.on('touchmove',akZ);yX.on('touchend',akv);}function JX(){if(pB){JC(function(){if(!pB){return;}aot(dk,gg,LA,ur,akH);JX();});}}}};function aqA(){if(cR===IPCC.ViewMode.SinglePage){return;}if(yF){return;}if(mu){clearTimeout(mu);}if(TL){aEF(TL);}avo();mu=setTimeout(function(){mu=null;TL=JC(function aHR(){if(yF){return;}nz();});},40);};function aqY(){if(ml===false||cR===IPCC.ViewMode.SinglePage){return;}im(true);if(mu!==null){clearTimeout(mu);}var aqZ=bg.scrollHeight/bJ.length;var Ph=0;if(fv===IPCC.PageLayout.VerticalScrollDirection){Ph=bg.scrollTop;}else{Ph=bg.scrollLeft;}var aFL=Ph-Qd;Qd=Ph;var aCF=new Date().getTime();var YB=aCF-yu;if(YB>1000){YB=1000;}Vi=aFL/aqZ*1000/YB;mu=setTimeout(function(){mu=null;yu=0;yu=new Date().getTime();nz();},1000);yu=new Date().getTime();if(Vi!==0&&Math.abs(Vi)<Oh){if(GR&&mu!==null){clearTimeout(mu);mu=null;}yu=0;yu=new Date().getTime();setTimeout(function(){if(GR&&mu!==null){clearTimeout(mu);mu=null;}yu=0;yu=new Date().getTime();nz();},40);}};function ayF(){function zm(aCm,aCL,au,cS){var HH=document.createElementNS('http://www.w3.org/2000/svg','circle');HH.setAttribute('cx',aCm);HH.setAttribute('cy',aCL);HH.setAttribute('r',au);HH.setAttribute('opacity',cS);return HH;};var pM=document.createElementNS('http://www.w3.org/2000/svg','svg');pM.setAttribute('viewBox','0 0 52 52');pM.appendChild(zm(26,13.813,2.813,1));pM.appendChild(zm(24,38.188,2.813,0.4));pM.appendChild(zm(13.813,26,2.813,0.1));pM.appendChild(zm(38.188,26,2.813,0.7));pM.appendChild(zm(34.618,34.618,2.813,0.55));pM.appendChild(zm(17.382,34.618,2.813,0.25));pM.appendChild(zm(34.618,17.382,2.813,0.85));return pM;};function agg(mE){var bo=0;var aiu=false;var NR;var Gu;var pM;for(bo=0;bo<mE.childNodes.length;bo++){if(mE.childNodes[bo].className==="pccPageListItemLoading"){aiu=true;}}if(aiu===false){Gu=document.createElement('div');Gu.className='pccPageListItemLoading';pM=ayF();mE.innerHTML="";mE.appendChild(Gu);Gu.appendChild(pM);if(FH.length>0){NR=document.createElement('div');NR.className='pccPageListItemLoadingContent';NR.innerHTML=FH;Gu.appendChild(NR);}}};function avo(){var wQ=bg.scrollTop;var vF=bg.scrollLeft;var tQ=bg.clientHeight;var uD=bg.clientWidth;var vJ=bg.scrollWidth;var vU=bg.scrollHeight;var bW=Xb({wQ:wQ,vF:vF,tQ:tQ,uD:uD,vJ:vJ,vU:vU});var G=bW.adl;if(ml&&vg===false&&dm!==G&&G>=0){dm=G;var V=new IPCC.PageEventArgs();V.imGearPage=h.get_currentPage();V.pageIndex=dm;V.pageNodeID=bJ[dm].bx;h.aK('currentPageChanged',V);}};function Yw(bf){var aO=bf.aA||gz;var by=bf.bM||iF;if(bf.hB%180){var qI=aO;aO=by;by=qI;}var qS=bf.fW||ake;return{aO:aO*(dv*du/qS),by:by*(dv*du/qS),aIC:qS,aP:bf.cT};};function Wj(aBI){return IPCC.C.reduce(aBI,function(er,bu,aP){er[aP]=Yw(bu);return er;},{});};function agw(bj){var oJ,Bv,zz,xG,pV;if(fv===IPCC.PageLayout.VerticalScrollDirection){oJ=bg.scrollTop;Bv=bg.scrollHeight;zz=bg.clientHeight;xG='by';pV=fs;}else{oJ=bg.scrollLeft;Bv=bg.scrollWidth;zz=bg.clientWidth;xG='aO';pV=hf+gk;}var kX=Wj(bJ);var Ju=fv===IPCC.PageLayout.VerticalScrollDirection?fs:hf;var akI=false;IPCC.C.forEach(kX,function(bu,aP){if(bu.aP===bj){akI=true;}if(akI){return;}Ju+=bu[xG]+pV;});return Ju-(pV/2);};function pK(bW){var FA=IPCC.C.map(bW.eC,function(bu){return+bu.aP;}).sort();var kN=FA[0];var hV=FA[FA.length-1];var eP=bJ.length;for(var G=Fp;G;G--){kN-=1;hV+=1;if(kN>=0){FA.unshift(kN);}if(hV<eP){FA.push(hV);}}return FA.sort();};function NY(bW){var kN=Math.max(bW.eC[0].aP-tw,0);var hV=Math.min(bW.eC[bW.eC.length-1].aP+tw,bJ.length-1);return{kN:kN,hV:hV};};function aFb(bW){var kN=Math.max(bW.eC[0].aP-Fp,0);var hV=Math.min(bW.eC[bW.eC.length-1].aP+Fp,bJ.length-1);return{kN:kN,hV:hV};};function Xb(aw){if(cR===IPCC.ViewMode.SinglePage){return ahb();}var oJ,Bv,zz,xG,pV;if(fv===IPCC.PageLayout.VerticalScrollDirection){oJ=aw.wQ;Bv=aw.vU;zz=aw.tQ;xG='by';pV=fs;}else{oJ=aw.vF;Bv=aw.vJ;zz=aw.uD;xG='aO';pV=hf+gk;}var aww=oJ;var awa=oJ+zz;var kX=Wj(bJ);var Ju=fv===IPCC.PageLayout.VerticalScrollDirection?fs:hf;var aFx=oJ/Bv;var NN=(aFx*zz)+oJ;var Xt=Number.MAX_VALUE;var nR= -1;var eC=[];IPCC.C.forEach(kX,function(bu,aP){var ir=Ju;var fd=ir+bu[xG];if(ir<awa&&fd>aww){bu.yv=true;eC.push(bu);}var abo=Math.min(Math.abs(ir-NN),Math.abs(fd-NN));if(ir<NN&&fd>NN){Xt=0;nR=aP;}else if(abo<Xt){nR=aP;Xt=abo;}Ju+=bu[xG]+pV;});if(eC.length===0&&kX[nR]!==undefined){eC.push(kX[nR]);}return{eC:eC,adl:Number(nR)||0,LC:kX};};function ahb(){var kX=Wj(bJ);var awe=[dm];var eC=IPCC.C.filter(kX,function(bu){return IPCC.C.contains(awe,+bu.aP);});return{eC:eC,adl:dm,LC:kX};};function MP(){var bW=im();if(!bW){return[];}return IPCC.C.map(bW.eC,function(bu){return bu.aP;});};function im(){if(cR===IPCC.ViewMode.SinglePage){return ahb();}if(bg===''||bg.clientHeight<=0){return;}var wQ=bg.scrollTop;var vF=bg.scrollLeft;var tQ=bg.clientHeight;var uD=bg.clientWidth;var vJ=bg.scrollWidth;var vU=bg.scrollHeight;var awF=Xb({wQ:wQ,vF:vF,tQ:tQ,uD:uD,vJ:vJ,vU:vU});vg=false;return awF;}};LD.prototype={dispose:function(){this.ba('dispose',arguments);this.ais(false);this.aEW();},disposeDisplayedPages:function(){this.azI();},get_debug:function(){try{var au=this.JB();this.cC('get_debug',arguments,au);return au;}catch(e){this.aV('get_debug',e);throw e;}},set_debug:function(value){try{this.ba('set_debug',arguments);var zc=this.JB();this.Sp(value);if(!zc){this.ba('set_debug',arguments);}}catch(e){this.aV('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var au=this.zx();this.cC('get_debugErrorLevel',arguments,au);return au;}catch(e){this.aV('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ba('set_debugErrorLevel',arguments);var zc=this.zx();this.Jz(value);if(zc<IPCC.Web.UI.DebugErrorLevel.Development){this.ba('set_debugErrorLevel',arguments);}}catch(e){this.aV('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Sl(handler);}catch(e){this.aV('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xu(handler);}catch(e){this.aV('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.QJ(handler);}catch(e){this.aV('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Xi(handler);}catch(e){this.aV('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Rz(handler);}catch(e){this.aV('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.WW(handler);}catch(e){this.aV('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wu(handler);}catch(e){this.aV('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Xh(handler);}catch(e){this.aV('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.atC(handler);}catch(e){this.aV('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.avG(handler);}catch(e){this.aV('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.zo(handler);}catch(e){this.aV('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.GH(handler);}catch(e){this.aV('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.WK(handler);}catch(e){this.aV('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.acy(handler);}catch(e){this.aV('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.AA(handler);},remove_textExtractionFailed:function(handler){this.FG(handler);},add_allPagesAdded:function(handler){try{this.atF(handler);}catch(e){this.aV('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.ayu(handler);}catch(e){this.aV('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.WU(handler);}catch(e){this.aV('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.WR(handler);}catch(e){this.aV('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.XG(handler);}catch(e){this.aV('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Wy(handler);}catch(e){this.aV('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Ho(handler);}catch(e){this.aV('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Ik(handler);}catch(e){this.aV('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XI(handler);}catch(e){this.aV('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.XN(handler);}catch(e){this.aV('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.jH(handler);}catch(e){this.aV('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nn(handler);}catch(e){this.aV('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.xC(handler);}catch(e){this.aV('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.AH(handler);}catch(e){this.aV('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.WD(handler);}catch(e){this.aV('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Xc(handler);}catch(e){this.aV('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Iq(handler);}catch(e){this.aV('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fx(handler);}catch(e){this.aV('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.HC(handler);}catch(e){this.aV('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HA(handler);}catch(e){this.aV('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.GO(handler);}catch(e){this.aV('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HJ(handler);}catch(e){this.aV('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Ic(handler);}catch(e){this.aV('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Hz(handler);}catch(e){this.aV('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.xs(handler);}catch(e){this.aV('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.AP(handler);}catch(e){this.aV('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.auM(handler);}catch(e){this.aV('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.awD(handler);}catch(e){this.aV('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.xf(handler);}catch(e){this.aV('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Gl(handler);}catch(e){this.aV('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.yT(handler);}catch(e){this.aV('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Gx(handler);}catch(e){this.aV('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.rE(handler);}catch(e){this.aV('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.tL(handler);}catch(e){this.aV('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Wh(handler);}catch(e){this.aV('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Wr(handler);}catch(e){this.aV('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Wi(handler);},remove_exceptionThrown:function(handler){this.Xj(handler);},writeToLog:function(message){try{this.pn(message);}catch(e){this.aV('writeToLog',e);throw e;}},get_currentState:function(){try{var au=this.QF();this.cC('get_currentState',arguments,au);return au;}catch(e){this.aV('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var au=this.qi();this.cC('get_scaleFactor',arguments,au);return au;}catch(e){this.aV('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.ba('set_scaleFactor',arguments);this.aED(scaleFactor);}catch(e){this.aV('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.ba('zoomIn',arguments);this.Ml(factor);}catch(e){this.aV('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ba('zoomOut',arguments);this.abJ(factor);}catch(e){this.aV('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aoE();},displayAll:function(){try{this.ba('displayAll',arguments,1);this.aAv();}catch(e){this.aV('displayAll',e);throw e;}},display:function(pageIndex){try{this.ba('display',arguments);this.dC(pageIndex);}catch(e){this.aV('display',e);throw e;}},get_textRequired:function(){try{var au=this.kr();this.cC('get_textRequired',arguments,au);return au;}catch(e){this.aV('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.ba('set_textRequired',arguments);this.Ia(value);}catch(e){this.aV('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.ba('selectText',arguments,1);this.Qr(pageIndex,startIndex,endIndex,color);}catch(e){this.aV('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.ba('clearSelectedText',arguments,1);this.aBb(pageIndex);}catch(e){this.aV('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.ba('clearAllSelectedText',arguments);this.aEe();}catch(e){this.aV('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var au=this.anL();this.cC('get_maxPrefetch',arguments,au);return au;}catch(e){this.aV('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.ba('set_maxPrefetch',arguments);this.aCx(value);}catch(e){this.aV('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var au=this.aCP();this.cC('get_displayPagesWhenScrolling',arguments,au);return au;}catch(e){this.aV('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.ba('set_displayPagesWhenScrolling',arguments);this.aBB(value);}catch(e){this.aV('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var au=this.aph();this.cC('get_maxOutOfViewDisplay',arguments,au);return au;}catch(e){this.aV('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.ba('set_maxOutOfViewDisplay',arguments);this.aAX(value);}catch(e){this.aV('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var au=this.aDj();this.cC('get_discardOutOfViewText',arguments,au);return au;}catch(e){this.aV('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.ba('set_discardOutOfViewText',arguments);this.aDF(value);}catch(e){this.aV('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var au=this.aqR();this.cC('get_scrollDisplayThreshold',arguments,au);return au;}catch(e){this.aV('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.ba('set_scrollDisplayThreshold',arguments);this.aEg(value);}catch(e){this.aV('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var au=this.akj();this.cC('get_mouseCursor',arguments,au);return au;}catch(e){this.aV('akj',e);throw e;}},set_mouseCursor:function(value){try{this.ba('set_mouseCursor',arguments);this.aCr(value);}catch(e){this.aV('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var au=this.TG();this.cC('get_mouseTool',arguments,au);return au;}catch(e){this.aV('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ba('set_mouseTool',arguments);this.HW(value);}catch(e){this.aV('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var au=this.xw();this.ba('get_markHandleMode',arguments);return au;}catch(e){this.aV('get_markHandleMode',e);throw e;}},set_markHandleMode:function(H){try{this.ba('set_markHandleMode',arguments);this.HE(H);}catch(e){this.aV('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var au=this.arn();this.ba('get_retainPageText',arguments);return au;}catch(e){this.aV('get_retainPageText',e);throw e;}},set_retainPageText:function(H){try{this.ba('set_retainPageText',arguments);this.aDM(H);}catch(e){this.aV('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var au=this.aDS();this.ba('get_allowMarkEdits',arguments);return au;}catch(e){this.aV('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.ba('set_allowMarkEdits',arguments);this.aBu(! !bool);}catch(e){this.aV('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var au=this.ant();this.cC('get_currentPage',arguments,au);return au;}catch(e){this.aV('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var aiK=this.apR(pageIndex);this.cC('get_pageNodeId',arguments,aiK);return aiK;}catch(e){this.aV('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.ba('scrollToNextPage',arguments);this.aFd();}catch(e){this.aV('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.ba('scrollToPreviousPage',arguments);this.aGj();}catch(e){this.aV('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.ba('scrollToFirstPage',arguments);this.aFA();}catch(e){this.aV('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.ba('scrollToLastPage',arguments);this.aFP();}catch(e){this.aV('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.ba('scrollToPage',arguments,1);this.tj(pageIndex);}catch(e){this.aV('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.ba('rotate',arguments,1);this.ayI(degreesClockwise);}catch(e){this.aV('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.ba('rotateAll',arguments,1);this.aht(degreesClockwise,true);}catch(e){this.aV('rotateAll',e);throw e;}},get_enabled:function(){try{var au=this.aBi();this.cC('get_enabled',arguments,au);return au;}catch(e){this.aV('get_enabled',e);throw e;}},get_pageLayout:function(){try{var au=this.aqC();this.cC('get_pageLayout',arguments,au);return au;}catch(e){this.aV('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.ba('set_pageLayout',arguments);this.aBF(value);}catch(e){this.aV('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var au=this.aqB();this.cC('get_viewMode',arguments,au);return au;}catch(e){this.aV('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.ba('set_viewMode',arguments);this.Og(value);}catch(e){this.aV('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var au=this.aEJ();this.cC('get_loadingContent',arguments,au);return au;}catch(e){this.aV('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.ba('set_loadingContent',arguments);this.aCs(value);}catch(e){this.aV('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.ba('fitPages',arguments,1);this.ayU(fitType);}catch(e){this.aV('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.ba('openPage',arguments,1);this.Oo(pageIndex);}catch(e){this.aV('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.ba('requestPageAttributes',arguments,1);this.OY(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.aV('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.ba('scrollRegionIntoView',arguments,1);return this.aEP(pageIndex,rectangle);}catch(e){this.aV('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.ba('scrollBy',arguments,1);return this.aFQ(xVal,yVal);}catch(e){this.aV('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.ba('scrollConversationIntoView',arguments,1);return this.aFM(conversation);}catch(e){this.aV('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.SP();},get_encryption:function(){try{var au=this.hQ();this.cC('get_encryption',arguments,au);return au;}catch(e){this.aV('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ba('set_encryption',arguments);this.lM(value);}catch(e){this.aV('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var au=this.aEz();return au;}catch(e){this.aV('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aBE(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.aV('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var au=this.us();this.cC('get_resourcePath',arguments,au);return au;}catch(e){this.aV('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.ba('set_resourcePath',arguments);this.HT(H);}catch(e){this.aV('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var au=this.nl();this.cC('get_redactionDraftMode',arguments,au);return au;}catch(e){this.aV('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.ba('set_redactionDraftMode',arguments);this.oq(value);}catch(e){this.aV('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var au=this.aCT();this.cC('get_displayedPages',arguments,au);return au;}catch(e){this.aV('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var au=this.zb();this.cC('get_requireRequestsOptimize',arguments,au);return au;}catch(e){this.aV('zb',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ba('set_requireRequestsOptimize',arguments);this.IF(value);}catch(e){this.aV('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var au=this.lh();this.cC('get_serviceResponseTimeout',arguments,au);return au;}catch(e){this.aV('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ba('set_serviceResponseTimeout',arguments);this.vA(value);}catch(e){this.aV('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var au=this.apx();this.cC('get_pageRotation',arguments,au);return au;}catch(e){this.aV('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.ba('set_pageRotation',arguments);this.aCN(value);}catch(e){this.aV('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.ba('getNodeID',arguments,1);return this.anZ(pageIndex);}catch(e){this.aV('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var au=this.aDH();this.cC('get_isCommentsPanelOpen',arguments,au);return au;}catch(e){this.aV('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.ba('openCommentsPanel',arguments);this.aEA();}catch(e){this.aV('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.ba('closeCommentsPanel',arguments);this.aCQ();}catch(e){this.aV('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var au=this.aGg();this.cC('get_conversationDOMFactory',arguments,au);return au;}catch(e){this.aV('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.ba('set_conversationDOMFactory',arguments);this.aEo(value);}catch(e){this.aV('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var au=this.asn();this.cC('get_selectedConversation',arguments,au);return au;}catch(e){this.aV('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.ba('set_selectedConversation',arguments);this.aEx(value);}catch(e){this.aV('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.ba('refreshConversations',arguments);this.aAB(markIDs);}catch(e){this.aV('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.azv();}catch(e){this.aV('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.ayc();}catch(e){this.aV('restoreScrollPosition',e);throw e;}},prefetchPages:function(){try{this.aAN();}catch(e){this.aV('prefetchPages',e);throw e;}}};LD.registerClass=bY;LD.registerClass('IPCC.PageList',{});module.exports=LD;},{"./IPCC.Util":28}],43:[function(require,module,exports){var pj=function(df,wW){var h=this;this.df=df;this.wW=wW;this.aqn=function(){return h.df;};this.aIy=function(){return h.wW;};};pj.prototype.get_propertyName=function(){return this.df;};pj.prototype.get_propertyInfo=function(){return this.wW;};module.exports=pj;},{}],44:[function(require,module,exports){var DH=function(){this.dk=1;this.width=0;this.height=0;this.lY=0;this.Aa=0;this.pool=undefined;return this;};DH.prototype.Ry=function(dR){if(dR.width<1||dR.height<1){return[];}var mT=Math.floor(dR.x*this.dk);var nu=Math.floor(dR.y*this.dk);var mK=Math.ceil((dR.x+dR.width)*this.dk);var nb=Math.ceil((dR.y+dR.height)*this.dk);var nX=[];var G,fi;var dn=this.tiles.length;for(G=0;G<dn;G++){fi=this.tiles[G];if(fi.x<=mK&&fi.right>=mT&&fi.y<=nb&&fi.bottom>=nu){nX.push(fi);}}return nX;};module.exports=DH;},{}],45:[function(require,module,exports){var vu=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.aO=0;this.by=0;this.yg=0;this.xz=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};vu.prototype.unlock=function(){this.level.pool.ahG(this);};vu.prototype.lock=function(){this.level.pool.lockTile(this);};vu.prototype.relock=function(){return this.level.pool.Xo(this);};vu.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};vu.prototype.toString=function(){var aC='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){aC='scale:'+this.level.dk.toString()+', '+aC;}return aC;};module.exports=vu;},{}],46:[function(require,module,exports){var mr=function(){this.ah=false;this.L=false;};mr.prototype.mf=function(L){this.L=L;};mr.prototype.fd=function(){this.L=false;};mr.prototype.bn=function(){if(this.ah){this.L.aN().ot();this.ah=false;this.L.dC();}};mr.prototype.qn=function(){this.bn();this.L.dC();};mr.prototype.le=function(V){this.bn();if(V.domEvent.button===0){var aW=this.L.aN();this.ah=true;aW.Ck(V.constrainedImagePoint);this.mj=V.windowPoint;this.L.dC();}};mr.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){var aW=this.L.aN();aW.zq(V.constrainedImagePoint);this.L.dC();}};mr.prototype.lz=function(V){if(this.ah&&V.domEvent.button===0){var eh=V.windowPoint.x-this.mj.x;var gc=eh*eh;eh=V.windowPoint.y-this.mj.y;gc+=eh*eh;if(gc>25){var L=this.L;var aW=L.aN();var bU=aW.fF();var aJ=L.eO();var ayt=aJ.width;var ayH=aJ.height;var aI=L.dO();aW.zq(V.constrainedImagePoint);var jQ=aW.wa();aW.ot();L.aK('userModifiedViewState',{});bU.KV(aI,aJ,jQ);bU.kY(aI,aJ);aW.iK(bU);L.dC();if(ayt!==aJ.width||ayH!==aJ.height){bU=aW.fF();bU.KV(aI,aJ,jQ);bU.kY(aI,aJ);aW.iK(bU);}}}this.bn();};mr.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};mr.prototype.nc=function(){this.bn();};module.exports=mr;},{}],47:[function(require,module,exports){var jO={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=jO;},{}],48:[function(require,module,exports){var AT=function(){};AT.prototype.mf=function(L){this.L=L;this.aW=L.aN();};AT.prototype.fd=function(){this.L=false;};AT.prototype.bn=function(){};module.exports=AT;},{}],49:[function(require,module,exports){var eN=require('./IPCC.Util').regEnum;var FT=function(){};FT.registerEnum=eN;FT.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};FT.registerEnum('IPCC.ScaleTrigger',false);module.exports=FT;},{"./IPCC.Util":28}],50:[function(require,module,exports){var nU=function(){this.ah=false;this.L=false;};nU.prototype.mf=function(L){this.L=L;};nU.prototype.fd=function(){this.L=false;};nU.prototype.bn=function(){if(this.ah){this.L.ot();this.ah=false;this.L.dC();}};nU.prototype.qn=function(){this.bn();};nU.prototype.le=function(V){this.bn();if(V.domEvent.button===0){var aW=this.L.aN();this.ah=true;aW.Ck(V.constrainedImagePoint);this.L.dC();}};nU.prototype.kw=function(V){if(V.domEvent.button!==0){this.bn();}if(this.ah){var aW=this.L.aN();aW.zq(V.constrainedImagePoint);this.L.dC();}};nU.prototype.lz=function(V){if(V.domEvent.button===0){this.ah=false;}this.bn();};nU.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};nU.prototype.nc=function(){this.bn();};module.exports=nU;},{}],51:[function(require,module,exports){var jU=function(){this.ah=false;this.L=false;};jU.prototype.mf=function(L){this.L=L;};jU.prototype.fd=function(){this.L=false;};jU.prototype.bn=function(){if(this.ah){this.L.aN().Yy();this.ah=false;}};jU.prototype.qn=function(){this.bn();};jU.prototype.le=function(V){if(V.domEvent.button===0){var aW=this.L.aN();this.ah=true;var da=this.L.Kn(V.constrainedImagePoint);this.L.hD=da;if(!da){return;}this.L.zI(da);aW.zI(da);aW.tF(undefined);this.L.dC();}};jU.prototype.kw=function(V){var L=this.L;L.awH=true;if(V.domEvent.button!==0){this.bn();}if(this.ah){var aW=L.aN();var da=L.Kn(V.constrainedImagePoint);var hL=aW.Bj();if(hL===da){return;}L.tF(da);L.dC();}};jU.prototype.lz=function(V){if(V.domEvent.button===0){this.ah=false;}var L=this.L;var aW=this.L.aN();var dh=aW.jw.length;if(dh===0){this.bn();return;}var bQ=aW.jw[0].da;var cU=aW.jw[dh-1].da;if(L.FQ===true){if(bQ>cU){bQ=cU;}var G;var ke=IPCC.vl();this.R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.R.bQ=bQ;this.R.dE=L.Ew();this.R.cz=dh;this.R.set_fillColor(L.sx);this.R.jI='y';this.R.bS=ke;for(G=0;G<aW.jw.length;G++){var af=aW.jw[G];var Dn=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var Aj=af.R.fJ();Dn.set_fillColor(L.sx);Dn.set_opacity(af.R.get_opacity());Dn.set_rectangle(Aj);Dn.bS=ke;Dn.jI='y';this.L.eI().addMark(Dn);}aW.jw=[];if(dh>0){this.L.eI().addMark(this.R);}L.mn().removeAllMarks();}dh=aW.jw.length;var ahv=new IPCC.Web.UI.TextSelectedEventArgs();ahv.text=L.Ew();L.aK('selectTextMouseToolCompleted',ahv);L.dC();this.bn();};jU.prototype.pp=function(V){var aJ=this.L.eO();if(V.windowPoint.x<=0||V.windowPoint.x>=aJ.width-2){this.bn();}if(V.windowPoint.y<=0||V.windowPoint.y>=aJ.height-2){this.bn();}};jU.prototype.nc=function(){this.bn();};module.exports=jU;},{}],52:[function(require,module,exports){var cv=function(){this.L=false;this.Jn=0;this.aEU=1;this.afg=2;this.aeh=3;};cv.prototype.mf=function(L){this.L=L;this.cl=this.Jn;};cv.prototype.fd=function(){this.L=false;};cv.prototype.bn=function(){this.cl=this.Jn;};cv.prototype.alj=function(V){var aAl=new Date()-this.arM;if(aAl<750){var fE=this.ahn.x-V.windowPoint.x;var ek=this.ahn.y-V.windowPoint.y;var gc=fE*fE+ek*ek;if(gc<2500){return true;}}return false;};cv.prototype.agL=function(V){this.arM=new Date();this.ahn=new IPCC.Web.UI.Point(V.windowPoint.x,V.windowPoint.y);};cv.prototype.MH=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length===1){if(this.cl===this.afg&&this.alj(V)){this.cl=this.aeh;}else{this.cl=this.aEU;}this.agL(V);this.L.gP('le',V);}else{this.cl=this.Jn;this.L.gP('qn',V);}};cv.prototype.Nv=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length===1){this.L.gP('kw',V);}};cv.prototype.Oc=function(V){var ax=V.domEvent.rawEvent;if(ax.touches.length===0){if(this.alj(V)){if(this.cl===this.aeh){this.cl=this.Jn;this.L.gP('lz',V);this.L.gP('yx',V);}else{this.agL(V);this.cl=this.afg;this.L.gP('lz',V);}}else{this.cl=this.Jn;this.L.gP('lz',V);}}};cv.prototype.KA=function(V){this.L.gP('qn',V);};module.exports=cv;},{}],53:[function(require,module,exports){var Ci=function(aO,by,gp,hd){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=aO;this.height=by;this.gp=gp;this.hd=hd;return this;};Ci.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gp+', '+this.hd+')';};module.exports=Ci;},{}],54:[function(require,module,exports){var Al=function(QD){this.yB=(typeof(QD)!=='undefined'&&QD!==null&&QD!=='')?[QD.toString()]:[];this.H={};this.dn=0;};Al.prototype.aHY=function(bm){this.yB[this.yB.length]=bm;};Al.prototype.aHA=function(bm){this.yB[this.yB.length]=((typeof(bm)==='undefined')||(bm===null)||(bm===''))?'\r\n':bm+'\r\n';};Al.prototype.aHB=function(){this.yB=[];this.H={};this.dn=0;};Al.prototype.aGC=function(){if(this.yB.length===0){return true;}return this.toString()==='';};Al.prototype.aJR=function(AK){AK=AK||'';var parts=this.yB;if(this.dn!==parts.length){this.H={};this.dn=parts.length;}var val=this.H;if(typeof(val[AK])==='undefined'){if(AK!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[AK]=this.yB.join(AK);}return val[AK];};module.exports=Al;},{}],55:[function(require,module,exports){var fa=function(L,qa){this.RO=false;this.WA=false;this.DV=true;this.VL=false;this.Ri=false;this.yU=0;this.yY=0;var bp=this;this.aDT='opacity';this.aDn=function(cS){return cS.toString();};var ahQ=function ahQ(aH,ef,op,aI,nm,mO){var gm;if(this.L.pE()===true){aH.xl.setAttribute('width',op.width);aH.xl.setAttribute('height',op.height);aH.wF.setAttribute('width',op.width);aH.wF.setAttribute('height',op.height);gm=ef.pD().toString()+','+ef.qK().toString()+','+ef.rr().toString()+','+ef.uW().toString()+','+(ef.xh()+nm).toString()+','+(ef.yE()+mO).toString();this.gF(aH.CJ,'transform','matrix('+gm+')');}else{aH.xl.setAttribute('width',op.width);aH.xl.setAttribute('height',op.height);aH.wF.setAttribute('width',op.width);aH.wF.setAttribute('height',op.height);gm=ef.pD().toString()+','+ef.qK().toString()+','+ef.rr().toString()+','+ef.uW().toString()+','+(ef.xh()+nm).toString()+','+(ef.yE()+mO).toString();this.gF(aH.CJ,'transform','matrix('+gm+')');}};function atc(aH){var pathList=aH.xl.getElementsByTagName('path');var gList=aH.xl.getElementsByTagName('g');aH.QO=[];function ahA(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aH.QO.push(pathItem);}}};IPCC.C.forEach(pathList,ahA);IPCC.C.forEach(gList,ahA);};this.aam=function(aH){var aW=L.aN();var aCj=1;var lJ=aW.asV();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*lJ));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*lJ;}};if(aH.QO===undefined){atc(aH);}if(lJ===aCj){IPCC.C.forEach(aH.QO,setStrokeWidthToOriginalValue);}else{IPCC.C.forEach(aH.QO,updateStrokeWidthByLineWidthMultiplier);}aW.aDO(false);};function avx(aH,bz){aH.rO.setAttribute('exponent',bz);aH.sh.setAttribute('exponent',bz);aH.sB.setAttribute('exponent',bz);};function awc(aH,bz){var axZ=841;var kQ=(bz/axZ)* -1;var gm;if(IPCC.C.Ep){gm='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gm=gm.replace('{00}',kQ).replace('{01}',kQ).replace('{02}',kQ).replace('{10}',kQ).replace('{11}',1).replace('{12}',kQ).replace('{20}',kQ).replace('{21}',kQ).replace('{22}',kQ);}else{gm='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gm=gm.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',kQ).replace('{12}',kQ).replace('{13}',kQ).replace('{14}',0).replace('{20}',0).replace('{21}',kQ).replace('{22}',1).replace('{23}',kQ).replace('{24}',0).replace('{30}',0).replace('{31}',kQ).replace('{32}',kQ).replace('{33}',kQ).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aH.mP.setAttribute('kernelMatrix',gm);};this.atv=function(aH){var aW=L.aN();var qj=aW.aDg();var sF=aW.asA();if(sF===0&&qj===1){aH.CJ.removeAttribute('filter','url(#'+aH.IM+')');}else{aH.CJ.setAttribute('filter','url(#'+aH.IM+')');}avx(aH,qj);awc(aH,sF);};var Yf,YV;this.adD=function(aH,ef,op,aI,nm,mO){if(aH.Ya.match('maglevel')){ahQ.apply(this,arguments);return;}var az=aH.ej.parentElement.getBoundingClientRect();var jK=az.width/aI.width;var alV=function(val){return Math.abs(val)<1.0e-14;};var fD=0,dS=0;var aoI=function(){var qf=ef.qK();if(alV(qf)){qf=0;}var rm=ef.rr();if(alV(rm)){rm=0;}var ayd=ef.pD();var gs=(qf>=0&&rm<0)?90:(qf<0&&rm>=0)?270:(ayd<0)?180:(qf>=0&&rm>=0)?0:0;switch(gs){case 90:fD=az.width;break;case 180:fD=az.width;dS=az.height;break;case 270:dS=az.height;break;}return gs*(Math.PI/180);};var gs=aoI();if(parseInt(gs,10)===1||parseInt(gs,10)===4){jK=az.height/aI.width;}if(jK===Yf&&gs===YV){return;}else{Yf=jK;YV=gs;}var fr=1,gh=0;if(gs!==0){fr=Math.cos(gs);gh=Math.sin(gs);}var bU={jK:fr*jK,rR:fr*jK,qf:gh*jK,rm:gh* -1*jK,fD:fD,dS:dS};var auE=new IPCC.eB(bU.jK,bU.qf,bU.rm,bU.rR,bU.fD,bU.dS);ef.QG(auE);L.aN().iK(ef);var gm='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gm=gm.replace('{scaleX}',bU.jK).replace('{scaleY}',bU.rR).replace('{skewX}',bU.qf).replace('{skewY}',bU.rm).replace('{moveX}',bU.fD).replace('{moveY}',bU.dS);this.gF(aH.CJ,'transform',gm);};this.aDR=function(){Yf=undefined;YV=undefined;};this.aoL(L);this.ays=function(dA){var aJ=new IPCC.Ci(dA.clientWidth,dA.clientHeight,96,96);return aJ;};this.agd=function(ax){ax.preventDefault();bp.le(ax);};this.agD=function(ax){ax.preventDefault();bp.kw(ax);};this.air=function(ax){ax.preventDefault();bp.lz(ax);};this.alh=function(ax){bp.le(ax);};this.ahT=function(ax){bp.yx(ax);};this.ajZ=function(ax){bp.kw(ax);};this.Sm=function(ax){bp.nc(ax);};this.alz=function(ax){bp.lz(ax);};this.alK=function(ax){bp.yx(ax);};this.ahK=function(ax){bp.Tm(ax);};this.LJ=function(ax){if(ax.target!==document.activeElement){bp.aCU(ax);}};this.afW=function(ax){if(ax.target!==document.activeElement){bp.aDP(ax);}};this.pp=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;bp.rj(V);L.aCK(V);}catch(ex){L.aV('mouseOut',ex);}};this.MH=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;bp.rj(V);L.aCe(V);}catch(ex){L.aV('touchStart',ex);}};this.Nv=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;bp.rj(V);L.aBW(V);}catch(ex){L.aV('touchMove',ex);}};this.Oc=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;bp.rj(V);L.aCf(V);}catch(ex){L.aV('touchEnd',ex);}};this.KA=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;bp.rj(V);L.aCJ(V);}catch(ex){L.aV('touchCancel',ex);}};this.amN=function(ax){try{ax.preventDefault();}catch(ex){L.aV('dragStart',ex);}};this.apW=function(){var dY=L.nC().igElements.mQ;IPCC.Web.UI.bC.addHandler(dY,"mousewheel",this.Sm);IPCC.Web.UI.bC.addHandler(dY,"DOMMouseScroll",this.Sm);if(qa){IPCC.Web.UI.bC.addHandler(dY,"touchstart",this.MH);IPCC.Web.UI.bC.addHandler(dY,"touchmove",this.Nv);IPCC.Web.UI.bC.addHandler(dY,"touchend",this.Oc);IPCC.Web.UI.bC.addHandler(dY,"touchcancel",this.KA);}IPCC.Web.UI.bC.addHandler(dY,"mouseout",this.pp);IPCC.Web.UI.bC.addHandler(dY,"dragstart",this.amN);};this.azp=function(){var dY=L.nC().igElements.mQ;IPCC.Web.UI.bC.removeHandler(dY,"DOMMouseScroll",this.Sm);IPCC.Web.UI.bC.removeHandler(dY,"mouseout",this.pp);if(qa){IPCC.Web.UI.bC.removeHandler(dY,"touchstart",this.MH);IPCC.Web.UI.bC.removeHandler(dY,"touchmove",this.Nv);IPCC.Web.UI.bC.removeHandler(dY,"touchend",this.Oc);IPCC.Web.UI.bC.removeHandler(dY,"touchcancel",this.KA);}IPCC.Web.UI.bC.removeHandler(dY,"dragstart",this.amN);};function avy(aH,iz){var rk=document.createElementNS('http://www.w3.org/2000/svg','filter');var IM='filter'+iz;aH.IM=IM;rk.setAttribute('id',IM);rk.setAttribute('x','0');rk.setAttribute('y','0');rk.setAttribute('filterUnits','objectBoundingBox');rk.setAttribute('color-interpolation-filters','sRGB');return rk;};function axi(iz){var mP=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');mP.setAttribute('in','SourceGraphic');mP.setAttribute('result',iz+'mP');mP.setAttribute('preserveAlpha','true');if(IPCC.C.Ep){mP.setAttribute('order','3 3');mP.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{mP.setAttribute('order','5 5');mP.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return mP;};function aAr(iz){var qA=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');qA.setAttribute('in',iz+'mP');qA.setAttribute('result',iz+'qA');return qA;};function awt(iz){var rO=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');rO.setAttribute('type','gamma');rO.setAttribute('amplitude','1');rO.setAttribute('exponent','1');rO.setAttribute('offset','0');var sh=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sh.setAttribute('type','gamma');sh.setAttribute('amplitude','1');sh.setAttribute('exponent','1');sh.setAttribute('offset','0');var sB=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sB.setAttribute('type','gamma');sB.setAttribute('amplitude','1');sB.setAttribute('exponent','1');sB.setAttribute('offset','0');return{rO:rO,sh:sh,sB:sB};};function avj(aH,iz){var Kc=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var ajX=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var alB=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');ajX.setAttribute('in',iz+'mP');alB.setAttribute('in',iz+'qA');Kc.appendChild(ajX);Kc.appendChild(alB);return Kc;};this.azm=function(aH,ej,sk,iz){var G,aX,dA,abC;var RJ=function(av,dz,aD){var dA=document.createElementNS('http://www.w3.org/2000/svg',av);var G;if(dz){dA.setAttribute('id',dz);}for(G in aD){if(aD.hasOwnProperty(G)){dA.setAttribute(G,aD[G]);}}return dA;};var dU=RJ('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var rk=avy(aH,iz);aH.aIk=rk;var mP=axi(iz);aH.mP=mP;rk.appendChild(mP);var qA=aAr(iz);aH.qA=qA;rk.appendChild(qA);var FO=awt();qA.appendChild(FO.rO);qA.appendChild(FO.sh);qA.appendChild(FO.sB);aH.rO=FO.rO;aH.sh=FO.sh;aH.sB=FO.sB;var Kc=avj(aH,iz);rk.appendChild(Kc);dU.appendChild(rk);aH.wF=RJ('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});dU.appendChild(aH.wF);var YR=RJ('g',null,{});aH.CJ=YR;dU.appendChild(YR);var dn;if(L.pE()===false){dn=sk.fB.length;}else{dn=1;}for(G=0;G<dn;G++){aX=sk.fB[G];aX.pool.parentElementID=iz+G.toString();abC=1/aX.dk;dA=RJ('g',aX.pool.parentElementID,{transform:'matrix('+abC.toString()+',0,0,'+abC.toString()+',0,0)'});YR.appendChild(dA);}aH.xl=dU;ej.appendChild(dU);};this.asF=function(iU){var avu=this.ads();iU.elementID=avu;};this.asa=function(iU){var dA=document.getElementById(iU.elementID);this.gF(dA,'display','none');};this.adB=function(iU){var dA=document.getElementById(iU.elementID);if(dA===null){iU.elementID='';return;}dA.setAttributeNS('http://www.w3.org/1999/xlink','href','');dA.parentNode.removeChild(dA);iU.elementID='';};var aFg=function(ax){try{ax.target.onload=undefined;ax.target.onerror=undefined;ax.target.onabort=undefined;var iU=ax.target.poolItem;iU.loaded=true;bp.zh();}catch(ex){L.aV('downloadImage',ex);}};var akE=function(ax){try{ax.target.onload=undefined;ax.target.onerror=undefined;ax.target.onabort=undefined;ax.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');ax.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){L.aV('downloadImage',ex);var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}};this.asD=function(Ao){var G;var dn=Ao.length;if(L.pE()===false){dn=Ao.length;}else{dn=1;}for(G=0;G<dn;G++){var ed=Ao[G];var dA=document.getElementById(ed.poolItem.elementID);if(dA===null){var iU=ed.poolItem;var OV=iU.pool;var ej=document.getElementById(OV.parentElementID);dA=document.createElementNS('http://www.w3.org/2000/svg','image');this.gF(dA,'id',iU.elementID);this.gF(dA,'externalResourcesRequired','true');dA.poolItem=iU;dA.onload=aFg;dA.onerror=akE;dA.onabort=akE;if(document.documentMode>8||IPCC.C.tE.BE){iU.loaded=true;}dA.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aBv(dA,ed.url,'image/'+ed.contentType);ej.appendChild(dA);this.gF(dA,'display','block');var aO=ed.right-ed.x;var by=ed.bottom-ed.y;this.gF(dA,'x',ed.x);this.gF(dA,'y',ed.y);this.gF(dA,'width',aO);this.gF(dA,'height',by);if(dn>1){var aBQ=aO-ed.yg;var aBY=by-ed.xz;var Rd=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Rd.id=dA.id+'_clip';var fh=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gF(fh,'x',ed.x-ed.yg);this.gF(fh,'y',ed.y-ed.xz);this.gF(fh,'width',aBQ);this.gF(fh,'height',aBY);this.gF(fh,'class','expand-on-print');Rd.appendChild(fh);var insertBeforeElement=null;for(var i=0;i<ej.childNodes.length;i++){if(ej.childNodes.item(i).getAttribute('x')<ed.x||ej.childNodes.item(i).getAttribute('y')<ed.y){insertBeforeElement=ej.childNodes.item(i);break;}}ej.insertBefore(dA,insertBeforeElement);ej.appendChild(Rd);this.gF(dA,'style','clip-path: url(#'+Rd.id+')');this.gF(dA,'class','no-clip-on-print');}}this.gF(dA,'display','block');}if((document.documentMode>8||IPCC.C.tE.BE)&&Ao.length>0){bp.zh();}};this.aBv=function(dA,bd,tz){var rd=true;var lO=0;if(L.lh()===0){rd=false;}function eZ(aT){var ds,dM;try{var fC=IPCC.Web.IW(aT),Uh;var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");if(nF==='true'&&L.hQ()===true){var ut=IPCC.Web.gi.pI.uw(aT.getResponseHeader("Accusoft-Data-SK"));var bF=IPCC.Web.Gj(ut,je);var uN=IPCC.Web.Ei(fC,bF,je);Uh=IPCC.Web.gi.pI.nk(uN,0,0);}else{Uh=IPCC.Web.gi.pI.nk(fC,0,0);}dA.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+tz+';base64,'+Uh);}catch(ex){ds="Image error, Error message = "+ex.message;dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);throw new IPCC.Web.UI.ImGearArgumentException(null,ds);}};function ft(aC){var gL=aC.response.status,ds,mC,lF;if(!aC.response){throw new IPCC.Web.UI.ImGearHttpException(gL,"Client Image load timeout");}if(gL===403){lO++;if(aC.response.statusText&&aC.response.statusText!==""){ds="Expired viewer session ID, error message from the server: "+aC.response.statusText;}else{ds="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}mC=aC.response.getResponseHeader('Accusoft-Status-Message');if(mC){var sM;lF=aC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lF)){sM=parseInt(lF,10);}throw new IPCC.Web.UI.ImGearHttpException(gL,mC,sM);}else{if(aC.response.statusText&&aC.response.statusText!==""){ds=aC.response.statusText;}else{ds="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}};var he={method:'GET'};if(rd===true){he.timeout=L.lh();}if(L.aEN()&&L.hQ()===true){var je=IPCC.Web.FR.ald(4);var qW=IPCC.Web.gi.Hf.nk(je);var azJ=bd+'&iv='+qW;he.url=azJ;}else{he.mimeType='text/plain; charset=x-user-defined';he.url=bd;}IPCC.C.mD.eT(he).then(eZ,ft);};this.awT=function(aH){var h=this;if(aH.UV){return;}var lO=0;var ed=aH.sk.fB[0].tiles[0];if(!ed){return;}var OV=ed.level.pool;var ej=document.getElementById(OV.parentElementID);var rd=true;if(L.lh()===0){rd=false;}var vm=L.TM();if(aH.Kg){if(vm===2){delete aH.Kg;if(ej.childNodes.length>0){ej.removeChild(ej.childNodes[0]);}}else if(vm===1){if(ej.childNodes.length>0){ej.removeChild(ej.childNodes[0]);}}else{if(ej.childNodes.length===0){ej.appendChild(aH.aqU);}}L.xp=true;return;}if(vm>0){return;}function eZ(aT){var dM,ds;aH.UV=false;try{try{var ph;var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");if(nF==='true'&&L.hQ()===true){var ut=IPCC.Web.gi.pI.uw(aT.getResponseHeader("Accusoft-Data-SK"));var bF=IPCC.Web.Gj(ut,je);var fC=IPCC.Web.IW(aT);var uN=IPCC.Web.Ei(fC,bF,je);ph=IPCC.Web.gi.JI.nk(uN);}else{ph=aT.responseText;}aqf(ph);}catch(ex){ds="SVG image error, Error message = "+ex.message;dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);throw new IPCC.Web.UI.ImGearArgumentException(null,ds);}}catch(e){L.aV('openPage',e);if(typeof(L.aK)==='function'){dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};function ft(aC){var dM,ds,mC,lF;aH.UV=false;try{if(!aC.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var gL=aC.response.status;if(gL===480){lO++;if(aC.response.statusText&&aC.response.statusText!==""){ds=ds="PDF file password required, error message from the server: "+aC.response.statusText;}else{ds="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}if(gL===403){lO++;if(aC.response.statusText&&aC.response.statusText!==""){ds="Expired viewer session ID, error message from the server: "+aC.response.statusText;}else{ds="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}mC=aC.response.getResponseHeader('Accusoft-Status-Message');if(mC){var sM;lF=aC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(lF)){sM=parseInt(lF,10);}throw new IPCC.Web.UI.ImGearHttpException(gL,mC,sM);}else{if(aC.response.statusText&&aC.response.statusText!==""){ds=aC.response.statusText;}else{ds="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gL,ds);}}catch(e){L.aV('openPage',e);if(typeof(L.aK)==='function'){dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=L.bj;L.aK('pageOpenFailed',dM);}}};var avi=function(){var aW=L.aN();var Ax=aW.akA();L.xp=true;L.aK('pageDisplayed',{aa:L.bj});if(Ax){h.aam(aH);}};var aqf=function(gu){var lN=OV.parentElementID.toString();var MW=(IPCC.C.Ep||IPCC.C.Zv)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var tW=IPCC.C.axs(gu,MW,lN);var qM=tW.querySelectorAll('style');IPCC.C.forEach(qM,function(bB){var DK=(bB.styleSheet)?bB.styleSheet.cssText:bB.textContent;if(bB.styleSheet){bB.styleSheet.cssText=DK;}else{bB.appendChild(document.createTextNode(DK));}});var kq=null;var Gr=tW.firstChild;while(Gr!==null){if(Gr.nodeName==='svg'){kq=Gr;break;}Gr=Gr.nextSibling;}if(kq===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aH.Kg){aH.aqU=kq;ej.appendChild(kq);aH.Kg=true;if(!L.xp&&aH.Kg){setTimeout(avi,1);}}};var bd;var je,qW;L.xp=false;if(L.hQ()===true){je=IPCC.Web.FR.aaE(4,IPCC.Web.QA());qW=IPCC.Web.gi.Hf.nk(je);bd=ed.url+'&iv='+qW;}else{bd=ed.url;}var he={method:'GET',url:bd,cache:true};if(rd===true){he.timeout=L.lh();}aH.UV=true;IPCC.C.mD.eT(he).then(eZ,ft);};this.aDZ=function(ed,cS){if(!ed){return;}var FC=document.getElementById(ed.poolItem.elementID);this.gF(FC,'x',ed.x);this.gF(FC,'y',ed.y);this.gF(FC,'width',ed.right-ed.x);this.gF(FC,'height',ed.bottom-ed.y);this.gF(FC,'opacity',cS);this.gF(FC,'display','block');};this.aeI=function(Ao,cS,ef){var G;if(L.pE()===false){for(G=0;G<Ao.length;G++){this.aDZ(Ao[G],cS);}}};return this;};fa.viewerCounter=0;fa.tileCounter=0;fa.imageIDCounter=0;fa.prototype.aoL=function(L){this.iz=IPCC.fa.viewerCounter.toString();IPCC.fa.viewerCounter++;this.L=L;if(IPCC.dr){this.ox=new IPCC.Web.UI.MarkCollection();}var h=this;function auk(bV,V){h.aEC(V);};function wp(bV,V){h.aAY(V);};L.jH(auk);L.add_markAdded(wp);L.add_markChanged(wp);L.add_inProgressMarkChanged(wp);L.add_markRemoved(wp);L.add_markReordered(wp);L.add_marksLoaded(wp);L.add_markSelectionChanged(wp);L.add_markTextSelectionChanged(wp);};fa.prototype.ads=function(){var dz='igtile'+IPCC.fa.tileCounter.toString();IPCC.fa.tileCounter++;return dz;};fa.prototype.zh=function(){this.RO=true;this.DV=this.DV&&this.WA;var h=this;var aAT=function(){if(!h.RO){return;}h.dC(h.L.dO(),h.L.aN(),h.L.eO());h.DV=true;};window.setTimeout(aAT,0);};fa.prototype.aEC=function(V){var tK=V.get_propertyName();switch(tK){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.L.aN().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Fa=true;if(this.L.xR()===true){this.zh();}return;case 'displayedPageRectangle':if(this.L.xp===true){this.zh();return;}break;case 'redactionDraftMode':this.Fa=true;this.zh();return;}if(this.L.xR()===true){this.zh();}};fa.prototype.aAY=function(V){if(V.mark&& !this.Fa){this.ox.addMark(V.mark);}else{this.Fa=true;}if(this.L.xR()===true){this.zh();}};fa.prototype.Zu=function(){this.kB=this.ef.clone();this.kB.lP(this.acE,this.abL);this.kB.kY(this.L.dO(),this.L.eO());this.sC=this.kB.clone();this.sC.wg();};fa.prototype.dC=function(bL,aW,aJ){try{this.RO=false;if(this.LH===true){return;}var cD=this.L.nC();if(cD===null){return;}var cK=cD.igElements;try{this.LH=true;if(this.Fg===undefined||bL===undefined|| !(this.Fg.equals(bL))){if(this.VL){if(this.kb){this.azp(this.kb);var dY=cK.mQ;IPCC.Web.UI.bC.removeHandler(dY,"mousedown",this.alh);IPCC.Web.UI.bC.removeHandler(dY,"mousemove",this.ajZ);IPCC.Web.UI.bC.removeHandler(dY,"mouseup",this.alz);IPCC.Web.UI.bC.removeHandler(dY,"dblclick",this.alK);IPCC.Web.UI.bC.removeHandler(dY,"contextmenu",this.ahK);IPCC.Web.UI.bC.removeHandler(cK.fK,"blur",this.LJ);IPCC.Web.UI.bC.removeHandler(cK.gX,"blur",this.afW);IPCC.Web.UI.bC.removeHandler(cK.dK,"blur",this.LJ);}delete this.kb;this.abt(cK.pw);this.abt(cK.CW);this.VL=false;if(this.Ga!==undefined){this.Ga.unlockAllItems();}if(this.Fc!==undefined){this.Fc.unlockAllItems();}this.Ga=undefined;this.Fc=undefined;cD.igElements.oQ.onscroll=null;cD.igElements.oQ.onresize=null;}if(cD.querySelectorAll){if(cD.querySelectorAll(".pccPageLoadFail").length===0){cD.innerHTML='';}}this.L.nH(true);if(bL===undefined){this.LH=false;this.Fg=undefined;this.aDR();return;}this.Fg=bL.clone();this.Ga=new IPCC.rc();this.Ga.createPyramid(this,this.L);this.Fc=new IPCC.rc();this.Fc.createPyramid(this,this.L);this.VL=true;this.ayV(this.iz);}this.ef=aW.fF();var Pe=this.ef.rn(bL);this.ef.lP(-Pe.x,-Pe.y);this.anX=this.ef.clone();this.anX.wg();this.acE=Math.round(Pe.x);this.abL=Math.round(Pe.y);this.Zu();this.auz(bL,aW,aJ);if(bL.bj===0){this.Zu();}}finally{this.LH=false;this.Fa=false;if(this.ox){this.ox.removeAllMarks();}}this.aaM(true);}catch(e){this.L.aV('display',e);throw e;}};fa.prototype.aDo=function(ya,vE,wR){if(ya[vE]===wR){return;}ya[vE]=wR;};fa.prototype.gF=function(ya,vE,wR){if(ya.getAttribute(vE)===wR){return;}ya.setAttribute(vE,wR);};fa.prototype.Cb=function(ya,vE,wR){if(ya.style[vE]===wR){return;}ya.style[vE]=wR;};fa.prototype.aaM=function(aDw){if(this.LH){return;}if(this.RO&& !this.DV){return;}if(!aDw){try{this.WA=true;var cD=this.L.nC();if(cD){this.yU=cD.igElements.oQ.scrollLeft;this.yY=cD.igElements.oQ.scrollTop;}this.asN();this.Zu();this.L.aN().iK(this.kB);this.L.aK('userModifiedViewState',{});this.L.nH(false);}finally{this.WA=false;}}};fa.prototype.aFi=function(aH,ef,aAp){var sk=aH.sk;var ov=sk.aFX(ef,aAp);if(!this.L.xp&&ov.tilesToRequest.length===0&&(ov.opaqueTiles.length+ov.translucentTiles.length)>0){this.L.xp=true;this.L.aK('pageDisplayed',{aa:this.L.bj});}sk.avD(ov);if(this.L.pE()===false){this.asD(ov.tilesToRequest);this.aeI(ov.opaqueTiles,1,ef);this.aeI(ov.translucentTiles,ov.opacity,ef);}};fa.prototype.ayV=function(iz){var L=this.L;var cD=L.nC();var aW=L.aN();var bp=this;function gj(ql){var xS=document.createElement('div');var G;for(G in ql){if(ql.hasOwnProperty(G)){xS.style[G]=ql[G];}}return xS;};var cK={};cD.igElements=cK;var lc=gj({width:'100%',height:'100%',position:'relative',overflow:aW.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cK.oQ=lc;lc.setAttribute('class','igViewerScroller');lc.onscroll=function(){bp.aaM(false);};lc.onresize=function(){var aJ=L.eO();aJ.width=lc.clientWidth;aJ.height=lc.clientHeight;L.aK('resize',{});};var dY=gj({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});lc.appendChild(dY);cK.mQ=dY;dY.setAttribute('class','igViewerGraphics');this.xN=2;this.yP=2;this.yU=0;this.yY=0;var aH={};aH.sk=this.Ga;aH.Ya='ig'+iz+'level';cK.pw=aH;this.agB(aH,dY,gj);aH.qr=this.qr;var kP;if(L.pE()===false){kP=gj({position:'absolute',display:'none',width:(aW.uQ().width+4)+'px',height:(aW.uQ().height+4)+'px',backgroundColor:'#000000'});}else{kP=gj({position:'absolute',display:'none',width:(aW.uQ().width+4)+'px',height:(aW.uQ().height+4)+'px',backgroundColor:'#cccccc'});}dY.appendChild(kP);cK.kP=kP;kP.setAttribute('class','igMagnifierFrame');var qg=gj({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cK.qg=qg;kP.appendChild(qg);aH={};aH.sk=this.Fc;aH.Ya='ig'+iz+'maglevel';cK.CW=aH;this.agB(aH,qg,gj);aH.qr=this.apQ;var LP=document.createTextNode('');cK.LP=LP;var fK=document.createElement('textarea');fK.appendChild(LP);fK.style.position='absolute';fK.style.overflow='auto';fK.style.width='80px';fK.style.height='80px';fK.style.resize='none';fK.style.display='none';lc.appendChild(fK);cK.fK=fK;var Zq=document.createTextNode('');cK.Zq=Zq;var gX=document.createElement('input');gX.type="text";gX.style.position='absolute';gX.style.overflow='hidden';gX.style.width='80px';gX.style.height='80px';gX.style.resize='none';gX.style.display='none';gX.style.padding='0px';gX.style.margin='0px';gX.style.lineHeight='normal';gX.className="no-ms-clear";var akB=function(ev){var yQ=gX,aO=parseFloat(yQ.style['width']),by=parseFloat(yQ.style['height']),ia=yQ.style['fontFamily'];var aqj=yQ.value.length>yQ.placeholder.length?yQ.value:yQ.placeholder;var jv=IPCC.C.vr(aqj,ia,{wK:'pre',dU:cK.pw.xl}),yR=12*aO/(jv.width||1),yJ=12*by/(jv.height||1),xq=Math.floor(Math.min(yR,yJ))*0.9;yQ.style.fontSize=xq+'px';};gX.onkeyup=akB;gX.onfocus=function(ev){akB(ev);if(gX.setSelectionRange){var gy=gX.value.length*2;gX.setSelectionRange(gy,gy);}};lc.appendChild(gX);cK.gX=gX;var si=document.createTextNode('');cK.si=si;var dK=document.createElement('textarea');dK.appendChild(si);dK.style.position='absolute';dK.style.overflow='hidden';dK.style.width='80px';dK.style.height='80px';dK.style.resize='none';dK.style.display='none';dK.style.whiteSpace='pre-wrap';dK.style.border=0;dK.style.padding='2px';dK.style.fontStyle='normal';var aEr=function(aS){var aoN=L.GI();var dk=L.aN().fF().qi();var ih=aoN.ih*dk;var bM=L.ow().iT()*dk;IPCC.C.Wm(dK,ih,bM);};dK.onkeyup=aEr;lc.appendChild(dK);cK.dK=dK;this.kb={};this.apW(this.kb);IPCC.Web.UI.bC.addHandler(dY,"mousedown",this.alh);IPCC.Web.UI.bC.addHandler(dY,"mousemove",this.ajZ);IPCC.Web.UI.bC.addHandler(dY,"mouseup",this.alz);IPCC.Web.UI.bC.addHandler(dY,"dblclick",this.alK);IPCC.Web.UI.bC.addHandler(dY,"contextmenu",this.ahK);IPCC.Web.UI.bC.addHandler(fK,"blur",this.LJ);IPCC.Web.UI.bC.addHandler(gX,"blur",this.afW);IPCC.Web.UI.bC.addHandler(dK,"blur",this.LJ);cD.appendChild(lc);};fa.prototype.agB=function(aH,ej,gj){var rW=gj({width:'2px',height:'2px',position:'absolute'});aH.ej=ej;ej.appendChild(rW);aH.afm=rW;rW.setAttribute('class','igAnchor');this.azm(aH,rW,aH.sk,aH.Ya);aH.BL=gj({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});rW.appendChild(aH.BL);var jQ=gj({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jQ.style[this.aDT]=this.aDn(0.5);rW.appendChild(jQ);aH.jQ=jQ;};fa.prototype.abt=function(aH){if(aH&&aH.Ri){aH.qr.aBR();aH.Ri=false;}aH.ej=null;};fa.prototype.auz=function(bL,aW,aJ){var L=this.L;var nv=this.kB.rn(bL);var cD=L.nC();var aGc=L.aGm();var zZ=L.aCd();var cK=cD.igElements;var pw=cK.pw;var CW=cK.CW;var lc=cK.oQ;var dY=cK.mQ;var rW=pw.afm;var kP=cK.kP;var qg=cK.qg;var ajh=CW.afm;var IE=Math.max(0,-nv.x);var Ie=Math.max(0,-nv.y);var atM=Math.max(nv.width,aJ.width);var aue=Math.max(nv.height,aJ.height);var nm=Math.max(0,nv.x);var mO=Math.max(0,nv.y);var adO=false;var Bn=false;if(aW.xE()){Bn=aW.wa();}var azB=this.xN;this.xN=Math.floor(atM-1);if(this.xN<0){this.xN=0;}var aAo=this.yP;this.yP=Math.floor(aue-1);if(this.yP<0){this.yP=0;}if(L.pE()===true){if(this.yP===0){this.yP=2;}if(this.xN===0){this.xN=2;}}var aAf=this.yU;var azS=this.yY;if(!this.DV){this.yU=Math.floor(IE);this.yY=Math.floor(Ie);}if(this.afK){this.Cb(rW,'left',nm+'px');this.Cb(rW,'top',mO+'px');}var ef=aW.fF();ef.lP(IE-nm,Ie-mO);this.act(pw,aW.fF(),ef,bL,aJ,Bn,nm,mO);this.Cb(lc,'overflow',aW.get_overflow());if(aJ.width!==lc.clientWidth||aJ.height!==lc.clientHeight){aJ.width=lc.clientWidth;aJ.height=lc.clientHeight;adO=true;}this.aDo(rW.style,'visibility','visible');if(aW.get_magnifierIsVisible()){var uT=aW.get_magnifierWindowPosition();var zF=aW.uQ();var PM=aW.Pl();var Qe=aW.OR();var UY=aW.aDf();var aut=Math.round(uT.x-zF.width/2+IE+PM);var atO=Math.round(uT.y-zF.height/2+Ie+Qe);var Qg=UY.rn(bL);var atN=Math.max(0,-Qg.x);var aul=Math.max(0,-Qg.y);this.Cb(ajh,'left',Qg.x+'px');this.Cb(ajh,'top',Qg.y+'px');var Oy=2;kP.style.width=(zF.width+Oy*2)+'px';kP.style.height=(zF.height+Oy*2)+'px';qg.style.width=zF.width+'px';qg.style.height=zF.height+'px';qg.style.left=Oy+'px';qg.style.top=Oy+'px';kP.style.left=aut+'px';kP.style.top=atO+'px';var anr=UY.clone();anr.lP(atN,aul);this.act(CW,UY,anr,bL,zF,Bn,0,0);kP.style.display='block';}else{kP.style.display='none';}if(L.ajG()){var hS=L.GI();var aol=hS.fJ();var hn=this.kB.yk(aol);var oh=(hS.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aci=hS.eK* -1,ahW=hS.eK* -1;if(hn.width<oh){hn.width=oh;}if(hn.height<oh){hn.height=oh;}if(hn.width>aJ.width){hn.width=aJ.width;}if(hn.height>aJ.height){hn.height=aJ.height;}if(hn.x<0){hn.x=0;}if(hn.y<0){hn.y=0;}if(hn.x+hn.width+1>=aJ.width){hn.x=aJ.width-hn.width;aci= -8;}if(hn.y+hn.height+1>=aJ.height){hn.y=aJ.height-hn.height;ahW= -8;}var ii=this.Fz(hS);ii.style.left=this.yU+hn.x+1+(hS.eK/2)+'px';ii.style.top=this.yY+hn.y+1+(hS.eK/2)+'px';ii.style.width=hn.width+aci-1+'px';ii.style.height=hn.height+ahW-1+'px';if(ii.style.display!=='block'){ii.style.display='block';ii.style.whiteSpace='pre-wrap';var sR=hS.dg;var rs='';if(sR&IPCC.Web.UI.FontStyle.Italic){ii.style.fontStyle="italic";}if(sR&IPCC.Web.UI.FontStyle.Bold){ii.style.fontWeight="bold";}if(sR&IPCC.Web.UI.FontStyle.Underline){rs+="underline";}if(sR&IPCC.Web.UI.FontStyle.Strikeout){if(sR&IPCC.Web.UI.FontStyle.Underline){rs+=" line-through";}else{rs="line-through";}}ii.style.textDecoration=rs;ii.style.color=hS.pQ;ii.style.backgroundColor=hS.eF;ii.style.fontFamily=hS.gq;ii.style['z-index']=100;var xq=hS.Dg*this.kB.qi();if(xq){ii.style.fontSize=xq+"px";}switch(hS.iI){case IPCC.Web.UI.HorizontalAlignment.Center:ii.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ii.style.textAlign='right';break;default:ii.style.textAlign='left';break;}if(hS.hJ){setTimeout(function(){cK.fK.maxLength=hS.hJ;cK.gX.maxLength=hS.hJ;cK.dK.maxLength=hS.hJ;},0);}if(hS.jf){if(zZ){zZ.destroy();L.TN(null);}L.TN(new PCCViewer.aqm(ii,hS.jf));}if(hS.jc()===IPCC.Web.UI.MarkType.TextAreaSignature){var dK=IPCC.C.ama();dK.style.width=cK.dK.style.width;dK.style.height=cK.dK.style.height;dK.style.fontFamily=cK.dK.style.fontFamily;dK.style.fontStyle=cK.dK.style.fontStyle;dK.style.fontWeight=cK.dK.style.fontWeight;var dk=L.aN().fF().qi();var ih=hS.ih*dk;var bM=L.ow().iT()*dk;IPCC.C.amC().nodeValue=hS.bm||'m';cK.dK.style.fontSize=IPCC.C.Wm(dK,ih,bM)+'px';}ii.focus();}}else{cK.fK.style.display='none';cK.gX.style.display='none';cK.dK.style.display='none';cK.fK.removeAttribute('maxlength');cK.gX.removeAttribute('maxlength');cK.dK.removeAttribute('maxlength');if(zZ){zZ.destroy();L.TN(null);}if(document.activeElement===cK.fK){cK.fK.blur();}if(document.activeElement===cK.gX){cK.gX.blur();}if(document.activeElement===cK.dK){cK.dK.blur();}}if(adO){L.aK('resize',{});}if(this.xN!==azB){this.Cb(dY,'width','100%');}if(this.yP!==aAo){this.Cb(dY,'height','100%');}if(this.yU!==aAf){lc.scrollLeft=this.yU;}if(this.yY!==azS){lc.scrollTop=this.yY;}if(aGc==="PageView"&& !this.DV){aW=L.aN();var bU=aW.fF();var wm=(+bU.qi().toFixed(6));if(L.Or!==wm){L.Or=wm;setTimeout(function(){L.aK('scaleChanged',{scaleFactor:wm,pageNumber:L.bj});},1);L.aK('scaleChanged',{scaleFactor:wm,pageNumber:L.bj});}}};fa.prototype.act=function(aH,kB,ef,aI,aJ,Bn,nm,mO){var nv=kB.rn(aI);var op={};op.width=Math.max(nv.width,aJ.width);op.height=Math.max(nv.height,aJ.height);this.auc(aH,kB,ef,aI,aJ,nm,mO);this.adD(aH,ef,op,aI,nm,mO);if(this.L.pE()===false){this.aii(aH,aJ,kB,ef);}else{this.awT(aH);var aW=this.L.aN();var Ax=aW.akA();if(this.L.xp&&Ax){this.aam(aH);}}this.atv(aH);if(Bn){var Cw=ef.yk(Bn);if(this.afK){aH.jQ.style.left=(Cw.x-2)+'px';aH.jQ.style.top=(Cw.y-2)+'px';}else{aH.jQ.style.left=(Cw.x-2+nm)+'px';aH.jQ.style.top=(Cw.y-2+mO)+'px';}aH.jQ.style.width=Cw.width+'px';aH.jQ.style.height=Cw.height+'px';aH.jQ.style.display='block';}else{aH.jQ.style.display='none';}};fa.prototype.aii=function(aH,aJ,kB,ef){var ann=this.L.aoJ();var Je={x:0,y:0,width:aJ.width,height:aJ.height};if(ann){var wd=ann.getBoundingClientRect();var hv=aH.ej.getBoundingClientRect();var PV;if(hv.left<wd.left){PV=wd.left-hv.left;Je.x=(PV/hv.width)*aJ.width;}if(hv.right>wd.right){Je.width=wd.width;}if(hv.top<wd.top){PV=wd.top-hv.top;Je.y=(PV/hv.height)*aJ.height;}if(hv.bottom>wd.bottom){Je.height=wd.height;}}var sC=kB.clone();sC.wg();var avI=sC.yk(Je);this.aFi(aH,ef,avI);};fa.prototype.auc=function(aH,kB,ef,aI,aJ,nm,mO){var ag=this.L.eI();var gY=this.L.mn();var eg=this.L.Pr();var ahB=0;var h=this;if(aH.kU){ahB=aH.kU.length;}if(!aH.qr|| !ag){return;}var oH=this.L.aDz();if(ag.get_markCount()<=0&&gY.get_markCount()<=0&&eg.get_markCount()<=0&&ahB<=0&& !oH){return;}if(!aH.Ri){aH.qr.axy(this.L,aH,aI);aH.kU=[];aH.Ri=true;}gY=this.L.mn();var ad=[];function aEG(R){if((h.L.kr()&&h.L.cB().mR()===true)||R.get_type()!==IPCC.Web.UI.MarkType.Highlight){ad.push(R);}};function agV(R){ad.push(R);};eg.forEachMark(agV);gY.forEachMark(agV);ag.forEachMark(aEG);if(oH){ad.push(oH);}var G,kU=aH.kU;for(G=0;G<kU.length;G++){while(G<kU.length&&(G>=ad.length||kU[G].R!==ad[G])){aH.qr.Ob(kU[G]);kU.splice(G,1);}if(G<kU.length&&(this.Fa||this.ox.contains(kU[G].R))){aH.qr.abQ(kU[G]);}}for(G=kU.length;G<ad.length;G++){kU[G]={R:ad[G]};var F=kU[G];if(!F){continue;}aH.qr.axY(kU[G]);}if(this.afK){aH.qr.acU(this.L,aH,ad,ef,this.L.aki());}else{var afb=ef.clone();afb.lP(nm,mO);aH.qr.acU(this.L,aH,ad,afb,this.L.aki());}};fa.prototype.adD=function(){};fa.prototype.asN=function(){var cD=this.L.nC();if(cD){this.acE=cD.igElements.mQ.offsetLeft-this.yU;this.abL=cD.igElements.mQ.offsetTop-this.yY;}};fa.prototype.rj=function(V,dC){var hF=this.L.nC().igElements;var iQ=V.domEvent;var fA;if(hF.mQ.getBoundingClientRect){fA=hF.mQ.getBoundingClientRect();}else{var eJ=hF.mQ;var ts=document.documentElement;fA={left:ts.clientLeft-ts.scrollLeft,top:ts.clientTop-ts.scrollTop};eJ=eJ.offsetParent;while(eJ){fA.top+=eJ.offsetTop-eJ.scrollTop;fA.left+=eJ.offsetLeft-eJ.scrollLeft;eJ=eJ.offsetParent;}}if(iQ.rawEvent.touches){if(iQ.rawEvent.touches.length>0){this.KW=new IPCC.Web.UI.Point(iQ.rawEvent.touches[0].clientX-hF.oQ.scrollLeft-fA.left,iQ.rawEvent.touches[0].clientY-hF.oQ.scrollTop-fA.top);}if(!this.KW){this.KW=new IPCC.Web.UI.Point(0,0);}V.windowPoint=new IPCC.Web.UI.Point(this.KW.x,this.KW.y);iQ.button=0;}else{V.windowPoint=new IPCC.Web.UI.Point(iQ.clientX-fA.left-hF.oQ.scrollLeft,iQ.clientY-fA.top-hF.oQ.scrollTop);}var OP=this.sC.transform(V.windowPoint);V.imagePoint=new IPCC.Web.UI.Point(OP.x,OP.y);V.constrainedImagePoint=new IPCC.Web.UI.Point(OP.x,OP.y);V.constrainedImagePoint.x=Math.min(Math.max(V.constrainedImagePoint.x,0),this.Fg.width);V.constrainedImagePoint.y=Math.min(Math.max(V.constrainedImagePoint.y,0),this.Fg.height);V.pointLiesWithinImage=(V.constrainedImagePoint.x===V.imagePoint.x&&V.constrainedImagePoint.y===V.imagePoint.y);V.mark=null;try{var cP=iQ.target;while(!(cP.ImGearMarkRelation)&&cP.parentNode&&cP!==document.body){cP=cP.parentNode;}if(cP.ImGearMarkRelation){V.mark=cP.ImGearMarkRelation.R;}}catch(ax){}};fa.prototype.le=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);this.L.aBL(V);}catch(ex){this.L.aV('mouseDown',ex);}};fa.prototype.kw=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);this.L.aBa(V);}catch(ex){this.L.aV('mouseMove',ex);}};fa.prototype.nc=function(ax){try{var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);if(!ax.rawEvent.wheelDelta){V.wheelDelta= -ax.rawEvent.detail*120;}else{V.wheelDelta=ax.rawEvent.wheelDelta;}this.L.aBr(V);}catch(ex){this.L.aV('mouseWheel',ex);}};fa.prototype.yx=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);this.L.aBn(V);}catch(ex){this.L.aV('mouseDoubleClick',ex);}};fa.prototype.lz=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);this.L.aCg(V);}catch(ex){this.L.aV('mouseUp',ex);}};fa.prototype.Tm=function(ax){try{ax.preventDefault();var V=new IPCC.Web.UI.MouseEventArgs();V.domEvent=ax;this.rj(V);this.L.aBx(V);}catch(ex){this.L.aV('contextMenu',ex);}};fa.prototype.aCU=function(ax){try{this.L.nH(true);}catch(ex){this.L.aV('textAreaBlur',ex);}};fa.prototype.aDP=function(ax){try{this.L.nH(true);}catch(ex){this.L.aV('textInputBlur',ex);}};fa.prototype.arx=function(R){var fK=this.Fz(R);fK.value=R.bm||"";};fa.prototype.ayq=function(){var L=this.L;var R=L.GI();if(!R|| !L.ajG()){return;}var Vg=this.Fz(R);if(document.activeElement===Vg){Vg.blur();}var bm=Vg.value;bm=bm.replace(/(\n|\n\r|\r\n|\r)/g,'\n');R.set_text(bm);};fa.prototype.Fz=function(R){var hF=this.L.nC().igElements,fK=null;if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){fK=hF.gX;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fK=hF.dK;}else if(R.get_type()===IPCC.Web.UI.MarkType.Text){fK=hF.fK;}return fK;};module.exports=fa;},{}],56:[function(require,module,exports){var xY={};xY.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=xY;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aq={av:function(H,bA,av){if(typeof(H)!==av){throw new ImGearExceptions.zH(bA,typeof(H),av);}},lB:function(H,bA){aq.av(H,bA,'string');},jt:function(H,bA){if(!(H instanceof Date)){throw new ImGearExceptions.zH(bA,typeof(H),"Date");}},gB:function(H,bA){aq.av(H,bA,'number');if(!isFinite(H)){throw new ImGearExceptions.qo(bA,H,'The value must be a number.');}},ki:function(H,bA,wY,xJ){aq.av(H,bA,'number');if(H<wY||H>xJ|| !isFinite(H)){throw new ImGearExceptions.qo(bA,H,'The value must be a number between '+wY+' and '+xJ+' inclusive.');}},Tg:function(H,bA,Ki){aq.av(H,bA,'number');var G;for(G=0;G<Ki.length;G++){if(H===Ki[G]){return;}}var KS='';for(G=0;G<Ki.length;G++){if(G>0){if(G===Ki.length-1){KS+=' or ';}else{KS+=', ';}}KS+=Ki[G];}throw new ImGearExceptions.qo(bA,H,'The value must be '+KS+'.');},nG:function(H,bA,wY,xJ){aq.ki(H,bA,wY,xJ);if(H!==Math.floor(H)){throw new ImGearExceptions.sN(bA,'The value must be an integer.');}},cY:function(H,bA){aq.av(H,bA,'string');if(!H.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.sN(bA,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},St:function(H,bA){aq.av(H,bA,'string');if(!H.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.sN(bA,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},iY:function(H,bA,iY,amQ){aq.av(H,bA,'number');var df;var XF=0;for(df in iY){if(iY.hasOwnProperty(df)){if(amQ){XF|=iY[df];}else{if(H===iY[df]){return;}}}}var co="";if(amQ){if((H|XF)===XF){return;}else{throw new ImGearExceptions.qo(bA,H,'The value must be zero or more members of the '+co+' enumeration.');}}throw new ImGearExceptions.qo(bA,H,'The value must be a member of the '+co+' enumeration.');},bK:function(H,bA){aq.gB(H.x,bA+'.x');aq.gB(H.y,bA+'.y');},J:function(H,bA){aq.gB(H.x,bA+'.x');aq.gB(H.y,bA+'.y');aq.gB(H.width,bA+'.width');aq.gB(H.height,bA+'.height');},vq:function(H,bA){if(!Array.isArray(H)){throw new ImGearExceptions.sN(bA,'The value must be an array.');}}};module.exports=aq;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var eN=require('./IPCC.Util').regEnum;var Cq=function(){};Cq.registerEnum=eN;Cq.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};Cq.registerEnum('IPCC.ViewMode',false);module.exports=Cq;},{"./IPCC.Util":28}],59:[function(require,module,exports){var WF=function(qa){var aW;var bL;var jh;var aJ;var bp=this;var Az;var Bc='';var _debug=false;var oy=IPCC.Web.UI.DebugErrorLevel.Production;var lU=[];var ai=new IPCC.Web.UI.hj();var ag;var eg;var oH=null;var JT=false;var wI=false;var xK;var aeU=IPCC.Web.UI.ImGearArtDataServices.None;var JZ=false;var tX='';var qx;var amb=false;var afN=false;var vm=0;var rC=true;var hU;var gY;var uO=false;var aeJ=true,oc=false;var amZ=false;var zZ=null;var Mu;var abf=false;var ac=null;this.Or=0.0;this.md=function(HQ){if(!_debug){return false;}return oy>=HQ;};this.pn=function(jZ,Iz,aX){IPCC.jb.pn(jZ,Iz,aX,Bc,Az);};this.aV=function(hZ,jx){if(!this.md(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var dw=hZ+'() threw an exception ('+jx.name+'), "'+jx.message+'"';dw=dw.replace(/\n/g," ");this.pn(dw,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bp.aK('exceptionThrown',{"function_name":hZ,"exception":jx,"pageNumber":bp.bj});};this.Fz=function(R){var hF=this.nC().igElements,fK=null;if(R.get_type()===IPCC.Web.UI.MarkType.TextLine){fK=hF.gX;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fK=hF.dK;}else if(R.get_type()===IPCC.Web.UI.MarkType.Text){fK=hF.fK;}return fK;};this.get_debug=function(){return _debug;};this.set_debug=function(H){var Ig= ! !H;if(_debug===Ig){return;}_debug=Ig;this.cs('debug');};this.zx=function(){return oy;};this.Jz=function(H){if(oy===H){return;}oy=H;this.cs('debugErrorLevel');};this.get_areMarksEditable=function(){return abf;};this.set_areMarksEditable=function(H){if(abf===H){return;}abf=H;this.cs('areMarksEditable');};this.get_cursor=function(){return ac;};this.set_cursor=function(H){if(ac===H){return;}ac=H;this.cs('cursor');};this.aCp=function(H){Bc=H;};this.aGm=function(){return Bc;};this.aBm=function(H){Az=H;};this.aEj=function(H){Mu=H;};this.aoJ=function(){return Mu;};this.fH=function(aDi){this.nH(false);var G;for(G=lU.length-1;G>=0;G--){if(lU[G]instanceof IPCC.kH){lU[G].bn(true);}else{lU[G].bn();}if(lU[G]instanceof IPCC.lu){lU[G].fd(true);}else{lU[G].fd();}}lU=aDi;for(G=0;G<lU.length;G++){lU[G].mf(this);}};this.aFh=function(){var G;for(G=0;G<lU.length;G++){lU[G].bn();}};this.gP=function(alc,V){var G;for(G=0;G<lU.length;G++){if(V&&V.ajr&&V.ajr()){return;}if(lU[G][alc]){lU[G][alc](V);}}};this.aAR=function(jB,cJ){switch(jB){case 'touchstart':jh.agd&&jh.agd(cJ);break;case 'touchmove':jh.agD&&jh.agD(cJ);break;case 'touchend':jh.air&&jh.air(cJ);break;case 'doubleTap':jh.ahT&&jh.ahT(cJ);break;}};this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.add_mouseDown=function(T){ai.addHandler('mouseDown',T);};this.remove_mouseDown=function(T){ai.removeHandler('mouseDown',T);};this.add_mouseMove=function(T){ai.addHandler('mouseMove',T);};this.remove_mouseMove=function(T){ai.removeHandler('mouseMove',T);};this.add_mouseUp=function(T){ai.addHandler('mouseUp',T);};this.remove_mouseUp=function(T){ai.removeHandler('mouseUp',T);};this.add_contextMenu=function(T){ai.addHandler('contextMenu',T);};this.remove_contextMenu=function(T){ai.removeHandler('contextMenu',T);};this.atq=function(T){ai.addHandler('contextMenuCommand',T);};this.aKg=function(T){ai.removeHandler('contextMenuCommand',T);};this.add_mouseWheel=function(T){ai.addHandler('mouseWheel',T);};this.remove_mouseWheel=function(T){ai.removeHandler('mouseWheel',T);};this.add_mouseOut=function(T){ai.addHandler('mouseOut',T);};this.remove_mouseOut=function(T){ai.removeHandler('mouseOut',T);};this.auo=function(T){ai.addHandler('resize',T);};this.aHc=function(T){ai.removeHandler('resize',T);};this.auN=function(T){ai.addHandler('userModifiedViewState',T);};this.aIa=function(T){ai.removeHandler('userModifiedViewState',T);};this.add_scaleChanged=function(T){ai.addHandler('scaleChanged',T);};this.remove_scaleChanged=function(T){ai.removeHandler('scaleChanged',T);};this.add_markAdded=function(T){ai.addHandler('markAdded',T);};this.remove_markAdded=function(T){ai.removeHandler('markAdded',T);};this.add_markCreating=function(T){ai.addHandler('markCreating',T);};this.remove_markCreating=function(T){ai.removeHandler('markCreating',T);};this.add_markChanged=function(T){ai.addHandler('markChanged',T);};this.remove_markChanged=function(T){ai.removeHandler('markChanged',T);};this.add_inProgressMarkChanged=function(T){ai.addHandler('inProgressMarkChanged',T);};this.remove_inProgressMarkChanged=function(T){ai.removeHandler('inProgressMarkChanged',T);};this.add_markRemoved=function(T){ai.addHandler('markRemoved',T);};this.remove_markRemoved=function(T){ai.removeHandler('markRemoved',T);};this.add_markReordered=function(T){ai.addHandler('markReordered',T);};this.remove_markReordered=function(T){ai.removeHandler('markReordered',T);};this.add_marksLoaded=function(T){ai.addHandler('marksLoaded',T);};this.remove_marksLoaded=function(T){ai.removeHandler('marksLoaded',T);};this.add_marksSaved=function(T){ai.addHandler('marksSaved',T);};this.remove_marksSaved=function(T){ai.removeHandler('marksSaved',T);};this.add_markSelectionChanged=function(T){ai.addHandler('markSelectionChanged',T);};this.remove_markSelectionChanged=function(T){ai.removeHandler('markSelectionChanged',T);};this.add_markTextSelectionChanged=function(T){ai.addHandler('markTextSelectionChanged',T);};this.remove_markTextSelectionChanged=function(T){ai.removeHandler('markTextSelectionChanged',T);};this.add_pageOpenFailed=function(T){ai.addHandler('pageOpenFailed',T);};this.add_pageDisplayed=function(T){ai.addHandler('pageDisplayed',T);};this.remove_pageOpenFailed=function(T){ai.removeHandler('pageOpenFailed',T);};this.add_textPageReady=function(T){ai.addHandler('textPageReady',T);};this.remove_textPageReady=function(T){ai.removeHandler('textPageReady',T);};this.add_selectTextMouseToolCompleted=function(T){ai.addHandler('selectTextMouseToolCompleted',T);};this.remove_selectTextMouseToolCompleted=function(T){ai.removeHandler('selectTextMouseToolCompleted',T);};this.add_exceptionThrown=function(T){ai.cG('exceptionThrown',T);};this.remove_exceptionThrown=function(T){ai.ck('exceptionThrown',T);};this.add_textExtractionFailed=function(T){ai.cG('textExtractionFailed',T);};this.remove_textExtractionFailed=function(T){ai.ck('textExtractionFailed',T);};this.cs=function(df,wW){var T=ai.getHandler("propertyChanged");if(T){T(this,new IPCC.pj(df,wW));}};this.nC=function(){var _parent=document.getElementById(Az);return _parent;};this.aN=function(){return aW;};this.aFj=function(){return ai;};function Bi(bV,V){JZ=true;V.pageIndex=bp.bj;bp.aK('markAdded',V);bp.gP('iG',V);};function EG(bV,V){JZ=true;V.pageIndex=bp.bj;bp.aK('markChanged',V);bp.gP('lT',V);};function alH(bV,V){V=new IPCC.Web.UI.MarkEventArgs();V.mark=oH;V.pageIndex=bp.bj;bp.aK('inProgressMarkChanged',V);bp.gP('_onInProgressMarkChanged',V);};function Dp(bV,V){JZ=true;V.pageIndex=bp.bj;bp.aK('markRemoved',V);bp.gP('Cc',V);};function asG(bV,V){bp.aK('textPageReady',V);};function arV(bV,V){bp.aK('textExtractionFailed',V);};function Cf(bV,V){JZ=true;V.pageIndex=bp.bj;bp.aK('markReordered',V);bp.gP('aaD',V);};function FN(bV,V){V.pageIndex=bp.bj;bp.aK('marksLoaded',V);bp.gP('aaz',V);};function Ct(bV,V){V.pageIndex=bp.bj;bp.aK('markSelectionChanged',V);bp.gP('Bu',V);};function adW(bV,V){V.pageIndex=bp.bj;bp.aK('markTextSelectionChanged',V);};this.aBw=function(bV,V){this.gP('_onTextMarkEditCompleted',V);};function BN(bV,V){V.pageIndex=bp.bj;bp.aK('propertyChanged',V);};this.mv=function(H){if(H===ag){return;}if(ag){ag.remove_markAdded(Bi);ag.remove_markChanged(EG);ag.remove_markRemoved(Dp);ag.remove_markReordered(Cf);ag.remove_marksLoaded(FN);ag.remove_markSelectionChanged(Ct);ag.nn(BN);ag.EH(true);}ag=H;if(ag){ag.add_markAdded(Bi);ag.add_markChanged(EG);ag.add_markRemoved(Dp);ag.add_markReordered(Cf);ag.add_marksLoaded(FN);ag.add_markSelectionChanged(Ct);ag.add_markTextSelectionChanged(adW);ag.jH(BN);}this.cs('artPage');};this.eI=function(){return ag;};this.JP=function(H){if(H===eg){return;}if(eg){eg.remove_markAdded(Bi);eg.remove_markChanged(EG);eg.remove_markRemoved(Dp);eg.remove_markReordered(Cf);eg.remove_marksLoaded(FN);eg.remove_markSelectionChanged(Ct);eg.nn(BN);eg.EH(true);}eg=H;if(eg){eg.add_markAdded(Bi);eg.add_markChanged(EG);eg.add_markRemoved(Dp);eg.add_markReordered(Cf);eg.add_marksLoaded(FN);eg.add_markSelectionChanged(Ct);eg.add_markTextSelectionChanged(adW);eg.jH(BN);}this.cs('documentArtPage');};this.Pr=function(){return eg;};this.mn=function(){return gY;};this.Cj=function(H){if(H===gY){return;}if(gY){gY.remove_markAdded(Bi);gY.remove_markChanged(EG);gY.remove_markRemoved(Dp);gY.remove_markReordered(Cf);gY.remove_marksLoaded(FN);gY.remove_markSelectionChanged(Ct);gY.nn(BN);}gY=H;if(gY){gY.add_markAdded(Bi);gY.add_markChanged(EG);gY.add_markRemoved(Dp);gY.add_markReordered(Cf);gY.add_marksLoaded(FN);gY.add_markSelectionChanged(Ct);gY.jH(BN);}this.cs('transientArtPage');};var ht;this.Ca=function(){if(!ht){if(IPCC.Web.UI.Mark){ht=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ht.set_opacity(100);ht.set_fillColor('#3366CC');ht.set_fillVisible(true);}}return ht;};this.SL=function(H){aeU=H;this.cs('artServiceOption');};this.RU=function(){return aeU;};this.ny=function(R,oZ){if(oH===R){return;}if(oH){oH.remove_propertyChanged(alH);}if(R&& !oH){var V=new IPCC.Web.UI.MarkEventArgs();V.mark=oZ?oZ:R;V.pageIndex=this.bj;this.aK('markCreating',V);}oH=R;if(oH){oH.add_propertyChanged(alH);}this.cs('inProgressMark');};this.aDz=function(){return oH;};this.Av=function(H){if(H===bL){return;}bL=H;this.xp=false;aW.ot();this.cs('image');};this.dO=function(){return bL;};this.ail=function(H){if(H===JT){return;}JT=H;this.cs('JT');};this.aki=function(){return JT;};this.Js=function(){var xK=this.GI();var adU=this.Fz(xK);var auq=adU.value;setTimeout(function(){adU.setSelectionRange(0,auq.length);},1);};this.vp=function(R){this.nH(false);jh.arx(R);wI=true;xK=R;this.cs('wI');};this.amH=function(bQ,dh){if(this.kr()&&this.cB().mR()===true){var fR=this.cB().hl();var G=bQ;for(;G<bQ+dh;G++){var fk=fR.lo(G);var uB='#3366CC';var EW='#3366CC';gY.Wd(fk.az,EW,uB,false,G);}}};this.aGo=function(aF){var G;try{var aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!ht){ht=bp.Ca();}for(G in ht){if(ht.hasOwnProperty(G)){aR[G]=ht[G];}}aR.set_rectangle({x:aF.x,y:aF.y,width:aF.width,height:aF.height});bp.ny(aR);gY.addMark(aR);return aR;}catch(axS){var aqw=axS.message;window.console.log(aqw);}};this.Kn=function(cF){var Kp;var fR;var UQ;Kp=bp.cB();fR=bp.cB().hl();function ass(ZC){var rH=ZC.tu();if((cF.x>=rH.x-10&&cF.x<=rH.x+rH.width+1)&&(cF.y>=rH.y-1&&cF.y<=rH.y+rH.height+1)){return true;}rH=undefined;};if(!UQ){for(var G=0;G<fR.eQ();G++){if(ass(fR.lo(G))){UQ=G;break;}}}return UQ;};this.awH=false;this.zI=function(da){if(da===undefined){return;}if(bp.kr()&&bp.cB().mR()===true){var Kv=bp.cB().hl().eQ();IPCC.aq.nG(da,'textIndex',0,Kv);bp.aN().zI(da);bp.mn().BP(function(R){if(R.vy!==true&&R.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bp.mn().uc(R);}});if(bp.xR()===true){bp.dC();}}};this.Wn=function(){var Fy=bp.aN().get_transientHighlightMarks();while(Fy.length>0){bp.mn().removeMark(Fy.pop());}};this.MX=function(wq,dh){if(bp.kr()&&bp.cB().mR()===true){var G=wq;var fR=this.cB().hl();var cU=wq+dh;if(!ht){ht=bp.Ca();}var Fy=bp.aN().get_transientHighlightMarks();for(;G<cU;G++){var fk=fR.lo(G);Fy.push(gY.aAG(fk.az,ht,G));}}};this.aGT=function(aGu,dh){var aW=bp.aN();for(var bo=dh-1;bo>dh;bo--){var af=aW.jw[bo];gY.removeMark(af.R);}};this.tF=function(da){if(da===undefined){return;}var fk;var aW=bp.aN();var hL=aW.Bj();var uB='#3366CC';var EW='#3366CC';var cS=100;if(!ht){ht=bp.Ca();}cS=ht.get_opacity();if(!cS){cS=100;}uB=ht.get_fillColor();if(uB===undefined){uB='#3366CC';}var fR=bp.cB().hl();if(hL===undefined){fk=fR.lo(da);var R=gY.Wd(fk.az,EW,uB,false,cS,da);aW.tF(da,R,fk.kt);return;}var bo;function ach(bv,awv){for(bo=aW.jw.length-1;bo>=0;bo--){var af=aW.jw[bo];if(af.da===bv){aW.jw.splice(bo,1);gY.removeMark(af.R);aW.aCZ(awv);aW.aBt(bv);return bo;}}return-1;};function Le(bv){fk=fR.lo(bv);var aiz=gY.Wd(fk.az,EW,uB,false,cS,bv);if(aW.tF(bv,aiz,fk.kt)===false){gY.removeMark(aiz);}};var Ru=aW.aka();var G;if(da>hL){for(G=hL;G<=da;G++){if(G===da){if(G<Ru){continue;}Le(G);}else if(G>=Ru){if(G===hL){continue;}Le(G);}else{ach(G,da);}}}else if(da<hL){for(G=hL;G>=da;G--){if(G===da){if(G>=Ru){continue;}Le(G);}else if(G<Ru){if(G===hL){continue;}Le(G);}else{ach(G,da);}}}};this.Ew=function(){var ahw="";try{var aW=bp.aN();if(bp.aN().Gz()){var arv=bp.cB().hl();if(aW.jw.length>0){var Fn=[];for(var G=0;G<aW.jw.length;G++){Fn.push(aW.jw[G].da);}if(Fn[0]>Fn[1]){Fn.reverse();}for(G=0;G<Fn.length;G++){ahw+=arv.lo(Fn[G]).aGr();}}}return ahw;}catch(e){window.console.log(e.message);}};this.nH=function(axp){if(wI){if(axp){jh.ayq();}wI=false;xK=null;this.aBw();this.cs('wI');bp.dC();}};this.ajG=function(){return wI;};this.GI=function(){return xK;};this.FK=function(){var xK=this.GI();if(!xK){return null;}var Xs=xK.jc();if(Xs===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Xs===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Xs===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aeN=function(H){afN=H;};this.SM=function(){return afN;};this.TN=function(H){zZ=H;};this.aCd=function(){return zZ;};this.afC=function(H){if(H===vm){return;}vm=H;this.cs('vm');};this.TM=function(){return vm;};this.EH=function(H){if(ag){ag.EH(H);}};this.Ox=function(){if(ag){return ag.Ox();}return true;};this.aqg=function(aGE){var aJ=jh.ays(this.nC());this.aDY(aJ);};this.aDY=function(H){if(H===aJ){return;}aJ=H;this.cs('windowSpace');};this.eO=function(){return aJ;};this.dC=function(){jh.dC(bL,aW,aJ);};this.GW=function(){if(this.pE()===false){var kB=aW.fF();var L=this;var nv=kB.rn(bL);var cD=L.nC();var cK=cD.igElements;var aH=cK.pw;var IE=Math.max(0,-nv.x);var Ie=Math.max(0,-nv.y);var nm=Math.max(0,nv.x);var mO=Math.max(0,nv.y);var ef=aW.fF();ef.lP(IE-nm,Ie-mO);jh.aii(aH,aJ,kB,ef);}};this.HT=function(H){qx=H;};this.us=function(){return qx;};this.cB=function(){return hU.cB();};var lQ=0;this.ow=function(){return hU;};this.Do=function(H){if(H===this.ow()){return;}hU=H;if(hU){hU.zo(asG);hU.AA(arV);}};this.kr=function(){return rC;};this.Ia=function(H){rC=H;this.cs('textRequired');};this.zb=function(){return uO;};this.IF=function(H){if(uO===H){return;}uO=H;this.cs('requireRequestsOptimize');};this.xR=function(){return aeJ;};this.Ud=function(H){aeJ=H;this.cs('autoUpdate');};var qH=false;this.nl=function(){return qH;};this.oq=function(H){if(typeof H!=="boolean"){return;}if(H===qH){return;}qH=H;if(ag){var aen=false;ag.forEachMark(function(R){if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aen=true;}});if(aen===true){ag.oq(qH);}}};this.lh=function(){return lQ;};this.vA=function(H){if(lQ===H){return;}if(isNaN(H)){return;}lQ=H;this.cs('serviceResponseTimeout');};var oR='';this.Tx=function(ei,aG){if(ei!==''){ei='/'+ei;}aG=aG||'';if(aG===null||aG===''){if(ei==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bL.get_identifier())){return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=u'+encodeURIComponent(bL.get_identifier());}else{return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=e'+bL.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bL.get_identifier())){return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=u'+encodeURIComponent(bL.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=e'+bL.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bL.get_identifier())){return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=u'+encodeURIComponent(bL.get_identifier())+'&'+aG;}else{return oR+'/Page/q/'+bL.bj.toString()+ei+'?DocumentID=e'+bL.get_encodedIdentifier()+'&'+aG;}}};this.aoy=function(ei,aG){ei=ei||'Art';aG=aG||'';if(aG===null||aG===''){if(ei==='Art'){return oR+'/Page/q/'+bL.bj.toString()+'/'+ei+'?DocumentID=e'+bL.get_encodedIdentifier();}}else{return oR+'/Page/q/'+bL.bj.toString()+'/'+ei+'?DocumentID=e'+bL.get_encodedIdentifier()+'&'+aG;}};this.Ui=function(Ce){if(JZ===false){if(Ce){Ce();}return;}IPCC.C.mD.eT({method:'POST',url:this.aoy('Art'),headers:{'Content-Type':'application/json'},body:ag.saveToJson()}).then(function(){if(Ce){Ce();}});};this.uq=function(){return oR;};this.SZ=function(H){oR=H;this.cs('imageHandlerUrl');};this.pE=function(){return amb;};this.MJ=function(H){amb=H;};this.aEN=function(){return amZ;};this.aia=function(H){amZ=H;};this.nT=function(){return tX;};this.tn=function(H){tX=H;tX.tabIndex= -1;};this.hQ=function(){return oc;};this.lM=function(H){if(typeof H!=="boolean"){return;}if(H===oc){return;}oc=H;};this.aBL=function(V){if(wI){this.nH(true);}else{this.aK('mouseDown',V);this.gP('le',V);}};this.aBa=function(V){this.aK('mouseMove',V);this.gP('kw',V);};this.aCg=function(V){this.aK('mouseUp',V);this.gP('lz',V);};this.aBr=function(V){this.aK('mouseWheel',V);this.gP('nc',V);};this.aBn=function(V){this.aK('mouseDoubleClick',V);this.gP('yx',V);};this.aBx=function(V){this.aK('contextMenu',V);this.gP('Tm',V);};this.aCE=function(V){this.aK('contextMenuCommand',V);};this.aCK=function(V){this.aK('mouseOut',V);this.gP('pp',V);};this.aCe=function(V){this.aK('touchStart',V);this.gP('le',V);};this.aBW=function(V){this.aK('touchMove',V);this.gP('kw',V);};this.aCf=function(V){this.aK('touchEnd',V);this.gP('lz',V);};this.aCJ=function(V){this.aK('touchCancel',V);this.gP('KA',V);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(bp,V);}};var amY=function(L,qa){aW=new IPCC.Ws();function zy(bV,V){bp.aK('propertyChanged',V);};aW.jH(zy);jh=new IPCC.fa(L,qa);if(IPCC.dr){jh.qr=new IPCC.dr.dj(L);jh.apQ=new IPCC.dr.dj(L);}};if(qa===false){amY(this,false);}else{amY(this,true);}return this;};module.exports=WF;},{}],60:[function(require,module,exports){var Ws=function(){var sF=0;var qj=1;var lJ=1;var Ax=false;var dI=new IPCC.eB();var BC=false;var tM;var pz;var Qm=false;var DP=new IPCC.Ci(200,150,96,96);var uT={x:0,y:0};var Ql=3;var PM=0,Qe=0;var gw=0.2;var sV=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Eq=new IPCC.eB();var Ix=0;var HZ=0;var Bo=false;var Vh;this.jw=[];var WQ=IPCC.Web.UI.ScrollBars.Auto;var Fy=[];this.get_transientHighlightMarks=function(){return Fy;};this.get_scrollBars=function(){return WQ;};this.get_overflow=function(){switch(WQ){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(H){WQ=H;this.cs('scrollBars');};var ai=new IPCC.Web.UI.hj();this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};var onSelectionChanged=function(aW){var V={};V.selectionIsVisible=BC;V.selectionRectangle=aW.wa();aW.cs('selection');};this.ot=function(){tM={x:0,y:0};pz={x:0,y:0};if(!BC){return;}BC=false;onSelectionChanged(this);};this.showSelection=function(dR){tM.x=dR.x;tM.y=dR.y;pz.x=dR.x+dR.width;pz.y=dR.y+dR.height;BC=true;onSelectionChanged(this);};this.Ck=function(cF){tM.x=cF.x;tM.y=cF.y;pz.x=cF.x;pz.y=cF.y;BC=true;onSelectionChanged(this);};this.zq=function(cF){pz.x=cF.x;pz.y=cF.y;onSelectionChanged(this);};this.xE=function(){return BC;};this.wa=function(){var J=new IPCC.Web.UI.Rectangle(Math.min(tM.x,pz.x),Math.min(tM.y,pz.y),0,0);J.width=Math.max(tM.x,pz.x)-J.x;J.height=Math.max(tM.y,pz.y)-J.y;return J;};var IU=function(){if(!Qm){Eq.aEp();return;}Eq.QG(dI);Eq.lP(-uT.x,-uT.y);Eq.scale(Ql,Ql);Eq.lP(DP.width/2,DP.height/2);};this.hideMagnifier=function(){Qm=false;IU();this.cs('magnifierIsVisible');};this.showMagnifier=function(cA){uT.x=cA.x;uT.y=cA.y;Qm=true;IU();this.cs('magnifierWindowPosition');this.cs('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Qm;};this.get_magnifierWindowPosition=function(){return{x:uT.x,y:uT.y};};this.get_magnifierMagnification=function(){return Ql;};this.set_magnifierMagnification=function(H){Ql=H;IU();this.cs('magnifierMagnification');};this.Pl=function(){return PM;};this.Tu=function(H){PM=H;this.cs('magnifierXOffset');};this.OR=function(){return Qe;};this.SO=function(H){Qe=H;this.cs('magnifierYOffset');};this.uQ=function(){return{width:DP.width,height:DP.height};};this.set_magnifierWindowSize=function(newMagnifierSize){DP.width=newMagnifierSize.width;DP.height=newMagnifierSize.height;IU();this.cs('magnifierWindowSize');};this.aDf=function(){return Eq.clone();};this.fF=function(){return dI.clone();};this.SF=function(){return gw;};this.Tq=function(H){gw=H;this.cs('markHandleSize');};this.xw=function(){return sV;};this.HE=function(H){sV=H;this.cs('markHandleMode');};this.iK=function(H){if(H===dI||H.aDJ(dI)){return;}if(!H.akN()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dI.QG(H);IU();this.cs('displayedPageRectangle');};var aas='0';this.get_presentationQuality=function(){return aas;};this.set_presentationQuality=function(H){aas=H;this.cs('presentationQuality');};this.aDg=function(){return qj;};this.Er=function(H){qj=H;};this.asA=function(){return sF;};this.DC=function(H){sF=H;};this.asV=function(){return lJ;};this.DR=function(H){if(H!==lJ){Ax=true;}lJ=H;};this.aDO=function(H){Ax=H;};this.akA=function(){return Ax;};var Zs=IPCC.ab.Default;this.aHp=function(){return Zs;};this.aCb=function(H){if(Zs!==H){Zs=H;this.cs('markCursor');}};this.zI=function(da){Ix=da;Bo=false;HZ=0;};this.MX=function(wq,dh){if(wq!==Ix){Ix=wq;}HZ=dh;Bo=true;};this.Yy=function(){if(Bo===true){for(var G=0;G<this.jw.length;G++){this.jw[G].R.set_visible(false);}Bo=false;}};this.Gz=function(){return Bo;};this.tF=function(da,R,kt){Vh=da;if(da!==undefined){if(this.jw.length>0&&this.jw[this.jw.length-1].da===da){return false;}this.jw.push({da:da,R:R,kt:kt});Bo=true;HZ++;}else{this.jw=[];HZ=0;}return true;};this.Bj=function(){return Vh;};this.aCZ=function(H){if(H===undefined){return;}Vh=H;};var ajC;this.aId=function(){return ajC;};this.aBt=function(H){if(H===undefined){return;}ajC=H;};this.aka=function(){return Ix;};this.aHT=function(){return Ix+HZ;};this.AW=function(){return this.jw.length;};this.ot();this.hideMagnifier();return this;};module.exports=Ws;},{}],61:[function(require,module,exports){var Ag={};Ag.aeE=function(bF){if(!this.Fi[0][0][0]){this.Vz();}var G,bo,ez,Jt,UZ,jP=this.Fi[0][4],ue=this.Fi[1],sl=bF.length,Qb=1;if(sl!==4&&sl!==6&&sl!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.bF=[Jt=bF.slice(0),UZ=[]];for(G=sl;G<4*sl+28;G++){ez=Jt[G-1];if(G%sl===0||(sl===8&&G%sl===4)){ez=jP[ez>>>24]<<24^jP[ez>>16&255]<<16^jP[ez>>8&255]<<8^jP[ez&255];if(G%sl===0){ez=ez<<8^ez>>>24^Qb<<24;Qb=Qb<<1^(Qb>>7)*283;}}Jt[G]=Jt[G-sl]^ez;}for(bo=0;G;bo++,G--){ez=Jt[bo&3?G:G-4];if(G<=4||bo<4){UZ[bo]=ez;}else{UZ[bo]=ue[0][jP[ez>>>24]]^ue[1][jP[ez>>16&255]]^ue[2][jP[ez>>8&255]]^ue[3][jP[ez&255]];}}};Ag.aeE.prototype={UM:function(cr){return this.axl(cr,1);},Fi:[[[],[],[],[],[]],[[],[],[],[],[]]],Vz:function(){var QQ=this.Fi[0],ue=this.Fi[1],jP=QQ[4],ayP=ue[4],G,bi,vK,ep=[],ahE=[],abk,acL,acT,gh,Lx,LU;for(G=0;G<256;G++){ahE[(ep[G]=G<<1^(G>>7)*283)^G]=G;}for(bi=vK=0;!jP[bi];bi^=abk||1,vK=ahE[vK]||1){gh=vK^vK<<1^vK<<2^vK<<3^vK<<4;gh=gh>>8^gh&255^99;jP[bi]=gh;ayP[gh]=bi;acT=ep[acL=ep[abk=ep[bi]]];LU=acT*0x1010101^acL*0x10001^abk*0x101^bi*0x1010100;Lx=ep[gh]*0x101^gh*0x1010100;for(G=0;G<4;G++){QQ[G][bi]=Lx=Lx<<24^Lx>>>8;ue[G][gh]=LU=LU<<24^LU>>>8;}}for(G=0;G<5;G++){QQ[G]=QQ[G].slice(0);ue[G]=ue[G].slice(0);}},axl:function(pJ,Iv){if(pJ.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var bF=this.bF[Iv],dc=pJ[0]^bF[0],fq=pJ[Iv?3:1]^bF[1],fr=pJ[2]^bF[2],ep=pJ[Iv?1:3]^bF[3],we,aeS,aeX,aEh=bF.length/4-2,G,Ft=4,eA=[0,0,0,0],Ir=this.Fi[Iv],Mp=Ir[0],Ll=Ir[1],Mt=Ir[2],LZ=Ir[3],jP=Ir[4];for(G=0;G<aEh;G++){we=Mp[dc>>>24]^Ll[fq>>16&255]^Mt[fr>>8&255]^LZ[ep&255]^bF[Ft];aeS=Mp[fq>>>24]^Ll[fr>>16&255]^Mt[ep>>8&255]^LZ[dc&255]^bF[Ft+1];aeX=Mp[fr>>>24]^Ll[ep>>16&255]^Mt[dc>>8&255]^LZ[fq&255]^bF[Ft+2];ep=Mp[ep>>>24]^Ll[dc>>16&255]^Mt[fq>>8&255]^LZ[fr&255]^bF[Ft+3];Ft+=4;dc=we;fq=aeS;fr=aeX;}for(G=0;G<4;G++){eA[Iv?3& -G:G]=jP[dc>>>24]<<24^jP[fq>>16&255]<<16^jP[fr>>8&255]<<8^jP[ep&255]^bF[Ft++];we=dc;dc=fq;fq=fr;fr=ep;ep=we;}return eA;}};module.exports=Ag;},{}],62:[function(require,module,exports){var gi={};gi.JI={nk:function(cq){var eA="",om=IPCC.Web.hC.uv(cq),G,ez;for(G=0;G<om/8;G++){if((G&3)===0){ez=cq[G/4];}eA+=String.fromCharCode(ez>>>24);ez<<=8;}return decodeURIComponent(escape(eA));},uw:function(co){co=unescape(encodeURIComponent(co));var eA=[],G,ez=0;for(G=0;G<co.length;G++){ez=ez<<8|co.charCodeAt(G);if((G&3)===3){eA.push(ez);ez=0;}}if(G&3){eA.push(IPCC.Web.hC.IK(8*(G&3),ez));}return eA;}};gi.pI={vs:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nk:function(cq,aDe,bd){var eA="",G,fC=0,fr=IPCC.Web.gi.pI.vs,yG=0,om=IPCC.Web.hC.uv(cq);if(bd){fr=fr.substr(0,62)+'-_';}for(G=0;eA.length*6<om;){eA+=fr.charAt((yG^cq[G]>>>fC)>>>26);if(fC<6){yG=cq[G]<<(6-fC);fC+=26;G++;}else{yG<<=6;fC-=6;}}while((eA.length&3)&& !aDe){eA+="=";}return eA;},uw:function(co,bd){co=co.replace(/\s|=/g,'');var eA=[],G,fC=0,fr=IPCC.Web.gi.pI.vs,yG=0,bi;if(bd){fr=fr.substr(0,62)+'-_';}for(G=0;G<co.length;G++){bi=fr.indexOf(co.charAt(G));if(bi<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fC>26){fC-=26;eA.push(yG^bi>>>fC);yG=bi<<(32-fC);}else{fC+=6;yG^=bi<<(32-fC);}}if(fC&56){eA.push(IPCC.Web.hC.IK(fC&56,yG,1));}return eA;}};gi.Hf={nk:function(cq){return IPCC.Web.gi.pI.nk(cq,1,1);},uw:function(co){return IPCC.Web.gi.pI.uw(co,1);}};module.exports=gi;},{}],63:[function(require,module,exports){var qY={};qY.SR=function(qY){if(!this.bF[0]){this.Vz();}if(qY){this.eb=qY.eb.slice(0);this.zE=qY.zE.slice(0);this.dh=qY.dh;}else{this.acw();}};qY.SR.qY=function(cr){return(new IPCC.Web.qY.SR()).arI(cr).avV();};qY.SR.prototype={aFn:512,acw:function(){this.eb=this.amg.slice(0);this.zE=[];this.dh=0;return this;},arI:function(cr){if(typeof cr==="string"){cr=IPCC.Web.Codec.JI.uw(cr);}var G,fq=this.zE=IPCC.Web.hC.XU(this.zE,cr),alX=this.dh,aDr=this.dh=alX+IPCC.Web.hC.uv(cr);for(G=512+alX& -512;G<=aDr;G+=512){this.oY(fq.splice(0,16));}return this;},avV:function(){var G,fq=this.zE,eb=this.eb;fq=IPCC.Web.hC.XU(fq,[IPCC.Web.hC.IK(1,1)]);for(G=fq.length+2;G&15;G++){fq.push(0);}fq.push(Math.floor(this.dh/0x100000000));fq.push(this.dh|0);while(fq.length){this.oY(fq.splice(0,16));}this.acw();return eb;},amg:[],bF:[],Vz:function(){var G=0,IC=2,bz;function ahZ(bi){return(bi-Math.floor(bi))*0x100000000|0;};axJ:for(;G<64;IC++){for(bz=2;bz*bz<=IC;bz++){if(IC%bz===0){continue axJ;}}if(G<8){this.amg[G]=ahZ(Math.pow(IC,1/2));}this.bF[G]=ahZ(Math.pow(IC,1/3));G++;}},oY:function(aqP){var G,ez,dc,fq,lw=aqP.slice(0),eb=this.eb,cX=this.bF,Yv=eb[0],qd=eb[1],Fu=eb[2],OU=eb[3],sz=eb[4],Qh=eb[5],GG=eb[6],YO=eb[7];for(G=0;G<64;G++){if(G<16){ez=lw[G];}else{dc=lw[(G+1)&15];fq=lw[(G+14)&15];ez=lw[G&15]=((dc>>>7^dc>>>18^dc>>>3^dc<<25^dc<<14)+(fq>>>17^fq>>>19^fq>>>10^fq<<15^fq<<13)+lw[G&15]+lw[(G+9)&15])|0;}ez=(ez+YO+(sz>>>6^sz>>>11^sz>>>25^sz<<26^sz<<21^sz<<7)+(GG^sz&(Qh^GG))+cX[G]);YO=GG;GG=Qh;Qh=sz;sz=OU+ez|0;OU=Fu;Fu=qd;qd=Yv;Yv=(ez+((qd&Fu)^(OU&(qd^Fu)))+(qd>>>2^qd>>>13^qd>>>22^qd<<30^qd<<19^qd<<10))|0;}eb[0]=eb[0]+Yv|0;eb[1]=eb[1]+qd|0;eb[2]=eb[2]+Fu|0;eb[3]=eb[3]+OU|0;eb[4]=eb[4]+sz|0;eb[5]=eb[5]+Qh|0;eb[6]=eb[6]+GG|0;eb[7]=eb[7]+YO|0;}};module.exports=qY;},{}],64:[function(require,module,exports){var Dy={};Dy.aEk={bA:"cbc",amv:function(OA,VV,hg,vZ){if(vZ&&vZ.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hC.uv(hg)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var G,lw=IPCC.Web.hC,Lg=lw.aca,om=lw.uv(VV),agN=0,pU=[];if(om&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(G=0;agN+128<=om;G+=4,agN+=128){hg=OA.amv(Lg(hg,VV.slice(G,G+4)));pU.splice(G,0,hg[0],hg[1],hg[2],hg[3]);}om=(16-((om>>3)&15))*0x1010101;hg=OA.amv(Lg(hg,lw.XU(VV,[om,om,om,om]).slice(G,G+4)));pU.splice(G,0,hg[0],hg[1],hg[2],hg[3]);return pU;},UM:function(OA,Pi,hg,vZ){if(vZ&&vZ.length){throw new IPCC.Web.UI.ImGearArgumentException(vZ,"cbc can't authenticate data");}if(IPCC.Web.hC.uv(hg)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hC.uv(Pi)&127)|| !Pi.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var G,lw=IPCC.Web.hC,Lg=lw.aca,ty,uH,pU=[];vZ=vZ||[];for(G=0;G<Pi.length;G+=4){ty=Pi.slice(G,G+4);uH=Lg(hg,OA.UM(ty));pU.splice(G,0,uH[0],uH[1],uH[2],uH[3]);hg=ty;}ty=pU[G-1]&255;if(ty===0||ty>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}uH=ty*0x1010101;if(!lw.aAO(lw.TZ([uH,uH,uH,uH],0,ty*8),lw.TZ(pU,pU.length*32-ty*8,pU.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return lw.TZ(pU,0,pU.length*32-ty*8);}};module.exports=Dy;},{}],65:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Rc=function(){var ad=[];var ai=new IPCC.Web.UI.hj();var ee=new IPCC.Web.UI.MarkCollection();var h=this;var JE=true;this.asI=[];function onMarkSelectionChanged(bV,V){var R=V.mark;if(R.aj&&R.aj[0]&&R.aj[0].eC===false){return;}var cn;var aES=V.mark.get_selected();if(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS!==undefined){ee.remove_markAdded(onMarkSelectionChanged);ee.remove_markRemoved(onMarkSelectionChanged);for(var G=0;G<ad.length;G++){if(ad[G].bS===R.bS){if(ad[G].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){cn=ad[G];}else{ad[G].set_selected(V.mark.get_selected());}}}ee.add_markAdded(onMarkSelectionChanged);ee.add_markRemoved(onMarkSelectionChanged);if(cn){cn.set_selected(aES);}return;}else if(R.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ee.remove_markAdded(onMarkSelectionChanged);ee.remove_markRemoved(onMarkSelectionChanged);for(var ak=0;ak<R.aj.length;ak++){R.aj[ak].set_selected(V.mark.get_selected());}ee.add_markAdded(onMarkSelectionChanged);ee.add_markRemoved(onMarkSelectionChanged);}var eS=new IPCC.Web.UI.MarkEventArgs();eS.mark=R;eS.zIndex=h.oa(R);eS.length=1;h.aK('markSelectionChanged',eS);};ee.add_markAdded(onMarkSelectionChanged);ee.add_markRemoved(onMarkSelectionChanged);var aGv=ee.addMark;ee.addMark=function(R){if(h.oa(R)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ee.contains(R)){aGv.call(ee,R);R.cs('selected');}};var aEO=ee.addMarks;ee.addMarks=function(zM){var ox=[];function VO(R){if(h.oa(R)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ee.contains(R)){ox.push(R);}};zM.forEach(VO,{});aEO.call(ee,zM);var G;for(G=0;G<ox.length;G++){ox[G].cs('selected');}};var axM=ee.removeMark;ee.removeMark=function(R){if(ee.contains(R)){axM.call(ee,R);R.cs('selected');}};var axE=ee.removeAllMarks;ee.removeAllMarks=function(){var ox=[];function VO(R){if(ee.contains(R)){ox.push(R);}};ee.forEach(VO,{});axE.call(ee);var G;for(G=0;G<ox.length;G++){ox[G].cs('selected');}};function ajc(jS){IPCC.aq.nG(jS,'zIndex',0,ad.length-1);};this.Sj=function(){return ad.length;};this.akm=function(){var G=0;for(;G<ad.length;G++){if(ad[G].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&ad[G].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(ad[G].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ad[G].bS!==undefined)){break;}}return G;};this.yh=function(){return ee;};this.EH=function(H){if(H===JE){return;}JE=H;this.cs('JE');};this.Ox=function(){return JE;};var qH=false;this.nl=function(){return qH;};this.oq=function(H){if(typeof H!=="boolean"){return;}qH=H;this.cs('redactionDraftMode');};function lT(bV,V){if(V.get_propertyName()==='selected'){return;}var eS=new IPCC.Web.UI.MarkEventArgs();eS.mark=bV;eS.zIndex=h.oa(bV);eS.propertyName=V.df;eS.length=1;if(eS.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eS.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eS.mark.bS!=='undefined')){h.aty(bV);}h.aK('markChanged',eS);};function Au(bV){var eS=new IPCC.Web.UI.MarkEventArgs();eS.mark=bV;eS.zIndex=h.oa(bV);eS.length=1;h.aK('markTextSelectionChanged',eS);};function QZ(bV,V){var eS=new IPCC.Web.UI.CommentEventArgs();eS.mark=bV;eS.comment=V.comment;eS.index=V.index;h.aK('commentAdded',eS);};function QH(bV,V){var eS=new IPCC.Web.UI.CommentEventArgs();eS.mark=bV;eS.comment=V.comment;eS.index=V.index;h.aK('commentRemoved',eS);};function QL(bV,V){var eS=new IPCC.Web.UI.CommentEventArgs();eS.mark=bV;eS.comment=V.comment;eS.index=V.index;h.aK('commentChanged',eS);};this.Pg=function(R,pF){pF=pF||{};var jS=this.oa(R);if(jS>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(R.eI()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}ad.push(R);R.mv(this);R.add_propertyChanged(lT);R.add_markTextSelectionChanged(Au);R.xf(QZ);R.yT(QH);R.rE(QL);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;if(R.get_type()===IPCC.Web.UI.MarkType.Highlight||R.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||R.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS!==undefined)){this.abF(R,0);}else{V.zIndex=ad.length-1;}V.clientX=pF.clientX;V.clientY=pF.clientY;V.length=1;h.aK('markAdded',V);};this.BP=function(hT,dp){var Hg=[].concat(ad);var G;for(G=0;G<Hg.length;G++){hT.call(dp,Hg[G],G,this);}};this.Qs=function(jS){ajc(jS);return ad[jS];};this.oa=function(R){var G;for(G=0;G<ad.length;G++){if(ad[G]===R){return G;}}return-1;};this.arR=function(ff){var fe=JSON.parse(ff);this.WO();var Kz=[];var G;var LW=fe.m;if(LW){for(G=0;G<LW.length;G++){var aR=new IPCC.Web.UI.Mark(LW[G].t);aR.asX(LW[G]);aR.mv(this);aR.add_propertyChanged(lT);aR.add_markTextSelectionChanged(Au);Kz.push(aR);}}ad=Kz;h.aK('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.axQ=function(){var kx=new Array(36);var bv=0;var G;var bo;for(G=0;G<8;G++){kx[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(G=0;G<3;G++){kx[bv++]=45;for(bo=0;bo<4;bo++){kx[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kx[bv++]=45;var avt=new Date().getTime();var auH=("0000000"+avt.toString(16).toUpperCase()).substr(-8);for(G=0;G<8;G++){kx[bv++]=auH.charCodeAt(G);}for(G=0;G<4;G++){kx[bv++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kx);};function ZQ(kq){var bi=kq.firstChild;while(bi.nodeType!==1){bi=bi.nextSibling;}return bi;};function Pb(tG,aeZ,avQ){var aAA=parseFloat(tG.getAttribute(aeZ));var aze=parseFloat(tG.getAttribute(aeZ+'Vt'));return avQ/(aAA/aze);};function azo(LL,aA,bM){if(aA<=0&&bM<=0){return 1;}var aif=LL.getAttribute('pageWidth');var ajm=LL.getAttribute('pageHeight');var Nh,WX,bz,tG,G;if(aif&&ajm){Nh=parseFloat(aif);WX=parseFloat(ajm);if(isFinite(Nh)&&isFinite(WX)&&Nh>0&&WX>0){return aA/Nh;}}for(G=0;G<LL.childNodes.length;G++){tG=LL.childNodes[G];if(tG.nodeName!=='annotation'){continue;}bz=Pb(tG,'width',aA);if(isFinite(bz)&&bz>0){return bz;}bz=Pb(tG,'height',bM);if(isFinite(bz)&&bz>0){return bz;}bz=Pb(tG,'x',aA);if(isFinite(bz)&&bz>0){return bz;}bz=Pb(tG,'y',bM);if(isFinite(bz)&&bz>0){return bz;}}return 1;};this.ash=function(kk,aa,aA,bM,Zr,stampImages,vn,wz){var h=this;if(vn!==true){this.WO();}if(kk){var kL;if(IPCC.wl.JN()){kL=kk.firstChild;}else{var So=kk.firstChild.nodeName;if(So.toLowerCase()==='xml'){kL=kk.firstChild.nextSibling;}else{kL=kk.firstChild;}}var cc=ZQ(kL);if(cc.nodeName!=='pages'){throw 'ERROR: pages';}if(cc.hasChildNodes()){var G;for(G=0;G<cc.childNodes.length;G++){var al=cc.childNodes[G];if(al.nodeName!=='page'){continue;}var xL=al.getAttribute('id');var mc=false;var ws;var rK='';var GK=[];var ik;var pf,ak=0;var cz,dE,bQ;if(Zr){var acx=al.getAttribute('pageWidth'),acK=al.getAttribute('pageHeight');if(acx){Zr.ajf(acx);}if(acK){Zr.aix(acK);}}var mG=[],Mr={},aj;if((xL&&parseInt(xL,10))===(aa+1)){mc=true;var Kz=[];var bo;var aR;var ln,gA,oE,rX,sU,hJ;var mq=1;var aih=azo(al,aA,bM);if(aih>0){mq=aih;}for(bo=0;bo<al.childNodes.length;bo++){var bw=al.childNodes[bo];if(bw.nodeName!=='annotation'){continue;}var it=parseFloat(bw.getAttribute('width'))*mq;var jp=parseFloat(bw.getAttribute('height'))*mq;var hq=parseFloat(bw.getAttribute('x'))*mq;var hk=parseFloat(bw.getAttribute('y'))*mq;var UW=bw.getAttribute('fillColor'),abS,qv,VP=bw.getAttribute('lineColor'),afJ,ic,acj=bw.getAttribute('fontColor'),afr,zt;if(UW==='transparent'){abS=qv=UW;}else{abS=parseInt(UW||0,10);qv=parseInt(abS,10).toString(16);while(qv.length<6){qv='0'+qv;}qv='#'+qv;}if(VP==='transparent'){ic=VP;}else{afJ=parseInt(VP||0,10);ic=parseInt(afJ,10).toString(16);while(ic.length<6){ic='0'+ic;}ic='#'+ic;}if(acj){afr=parseInt(acj||0,10);zt=parseInt(afr,10).toString(16);while(zt.length<6){zt='0'+zt;}zt='#'+zt;}var aoC=bw.getAttribute('stampSize');var RH=bw.getAttribute('dragDirection');var Hq=parseInt(bw.getAttribute('opacity'),10);if(isNaN(Hq)){Hq=255;}if(bw.nodeName==='annotation'){var afv=bw.getAttribute('label');if(!afv){afv='';}var lA=bw.getAttribute('drawType');var ku;switch(lA){case 'imagestamp':case 'imagestamp_redact':var qZ=bw.getAttribute('imageStampId');var be=(lA==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;aR=new IPCC.Web.UI.Mark(be);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_image(stampImages[qZ].base64format);aR.qZ=qZ;ln=true;if(lA==='imagestamp_redact'){aR.kJ(true);}break;case 'circle':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});ln=true;aR.set_lineColor(ic);aR.set_fillVisible(false);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});ln=true;aR.set_fillColor(qv);aR.set_lineColor(ic);aR.set_fillVisible(true);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'text':case 'text_redact':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fontName('verdana');aR.set_fontSize(10);aR.set_opacity(0);ws=undefined;aR.set_fillColor('#000000');if(lA==='text_redact'){aR.kJ(true);}if(lA==='text'){aR.set_fillColor(qv);aR.set_lineColor(ic);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));aR.set_fillVisible(true);aR.set_opacity(Hq);}hJ=parseInt(bw.getAttribute('maxLength'));if(!isNaN(hJ)){aR.set_maxLength(hJ);}mG=[];gA=bw.firstChild;while((gA)&&(gA.nodeType!==4)){gA=gA.nextSibling;}if((gA)&&(gA.nodeType===4)){ku=gA.innerText||gA.textContent||gA.data;aR.aD.bm=ku;pf=ku.split("</TEXTFORMAT>");rK='';GK=[];for(ak=0;ak<pf.length;ak++){if(pf[ak].match(/<TEXTFORMAT/)){pf[ak]=pf[ak]+"</TEXTFORMAT>";mG.push(pf[ak]);}}for(ak=0;ak<mG.length;ak++){if(mG[ak].match(/<P/)){ws=this.amM(mG[ak]);GK.push(ws);rK+=ws+" ";if(ak===0){ik=this.alS(mG[ak]);aaJ(ik,aR);}}rK=rK.replace(/\s+$/g,"");aR.set_text(rK);var Gh=this.amq(mG[ak]);switch(Gh){case 'CENTER':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var as=aR.oV();if(RH==='br'){as.setPoint(1,new IPCC.Web.UI.Point(hq+it,hk+jp));as.setPoint(0,new IPCC.Web.UI.Point(hq,hk));}else if(RH==='bl'){as.setPoint(1,new IPCC.Web.UI.Point(hq,hk+jp));as.setPoint(0,new IPCC.Web.UI.Point(hq+it,hk));}else if(RH==='tr'){as.setPoint(1,new IPCC.Web.UI.Point(hq+it,hk));as.setPoint(0,new IPCC.Web.UI.Point(hq,hk+jp));}else if(RH==='tl'){as.setPoint(1,new IPCC.Web.UI.Point(hq,hk));as.setPoint(0,new IPCC.Web.UI.Point(hq+it,hk+jp));}aR.set_lineColor(ic);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));if(lA==='arrow'){aR.set_headFillColor(ic);aR.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);aR.set_startHeadAngle(30);aR.set_startHeadLength(35);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fillColor(ic);if(lA==='stamp_redact'){aR.kJ(true);aR.set_fillColor('#000000');}gA=bw.firstChild;while((gA)&&(gA.nodeType!==4)){gA=gA.nextSibling;}if((gA)&&(gA.nodeType===4)){ku=gA.innerText||gA.textContent||gA.data;aR.aD.bm=ku;aR.set_text(ku);}break;case 'highlightText':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fillColor(ic);aR.bS=bw.getAttribute('highlightGroupID');if(bw.getAttribute('textLength')){aR.cz=parseInt(bw.getAttribute('textLength'),10);}aR.dE=bw.getAttribute('selectedText');if(bw.getAttribute('startIndex')){aR.bQ=parseInt(bw.getAttribute('startIndex'),10);}aR.jI=bw.getAttribute('isHighlight');aR.set_opacity(127);aj=UO(bw,mq);if(aj){aR.aj=aj;}break;case 'rectangle_filled_redact':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fillColor(qv||'#000000');aR.set_lineColor(ic);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));aR.set_textColor(zt||'#ffffff');aR.set_fillVisible(true);aR.kJ(true);oE=bw.getAttribute('highlightGroupID');aR.set_text(IPCC.C.wL(bw.getAttribute('meta')));if(oE){aR.set_lineWidth(0);aR.bS=oE;var cn=Mr[oE];if(!cn){cn=Mr[oE]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cn.bS=oE;cn.set_rectangle(aR.get_rectangle());cn.kJ(true);cn.set_text(IPCC.C.wL(bw.getAttribute('meta')));}else{var Jw=false;var qe=cn.get_rectangle();var gS=qe.x,iB=qe.x+qe.width,_top=qe.y,kG=qe.y+qe.height;if(qe.x>hq){Jw=true;gS=hq;}if(qe.y>hk){Jw=true;_top=hk;}if(qe.x+qe.width<hq+it){Jw=true;iB=hq+it;}if(qe.y+qe.height<hk+jp){Jw=true;kG=hk+jp;}if(Jw===true){cn.set_rectangle({x:gS,y:_top,width:iB-gS,height:kG-_top});}}}break;case 'text_selection_redaction':oE=bw.getAttribute('highlightGroupID');aR=Mr[oE];if(!aR){aR=Mr[oE]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);aR.bS=oE;aR.set_rectangle({x:0,y:0,width:0,height:0});aR.kJ(true);aR.set_text(bw.getAttribute('meta'));}cz=bw.getAttribute('textLength');if(cz){aR.cz=parseInt(cz,10);}dE=bw.getAttribute('selectedText');if(dE){aR.dE=dE;}bQ=bw.getAttribute('startIndex');if(bQ){aR.bQ=parseInt(bQ,10);}break;case 'text_hyperlink_annotation':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);aR.set_fillColor(ic);oE=bw.getAttribute('highlightGroupID');aR.bS=oE;var kS=bw.getAttribute('href');if(kS){aR.set_href(IPCC.C.wL(kS));}cz=bw.getAttribute('textLength');if(cz){aR.cz=parseInt(cz,10);}dE=bw.getAttribute('selectedText');if(dE){aR.dE=dE;}bQ=bw.getAttribute('startIndex');if(bQ){aR.bQ=parseInt(bQ,10);}var jI=bw.getAttribute('isHighlight');aR.jI=jI?jI:'n';aR.aj=UO(bw,mq);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});break;case 'rectangle':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_lineVisible(true);aR.set_lineColor(ic);aR.set_fillVisible(false);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_filled':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fillColor(qv);aR.set_lineColor(ic);aR.set_fillVisible(true);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fillColor(qv);aR.set_lineColor(ic);aR.set_fillVisible(true);if(lA==='rectangle_trans_redact'){aR.kJ(true);}aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(lA==='freehand'){aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(bw.getAttribute('align').toUpperCase()){case 'LEFT':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_pathWidth(parseFloat(bw.getAttribute('pathWidth')));aR.set_pathHeight(parseFloat(bw.getAttribute('pathHeight')));aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));aR.set_lineColor(ic);var un=bw.firstChild;while((un)&&(un.nodeType!==4)){un=un.nextSibling;}if((un)&&(un.nodeType===4)){ku=un.innerText||un.textContent||un.data;aR.aD.bm=ku;aR.set_pathString(ku);}break;case 'signature_text':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fontSize(10);aR.set_lineWidth=0;aR.set_fillVisible(true);aR.set_opacity(1);gA=bw.firstChild;this.Va(gA,aR);aR.zA=parseFloat(bw.getAttribute('fontWidth'));aR.zQ=parseFloat(bw.getAttribute('fontHeight'));break;case 'text_area_signature':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_fontName('verdana');ws=undefined;hJ=parseInt(bw.getAttribute('maxLength'));if(!isNaN(hJ)){aR.set_maxLength(hJ);}var ih=parseInt(bw.getAttribute('maxFontSize'));if(!isNaN(ih)){aR.set_maxFontSize(ih);}gA=bw.firstChild;this.Va(gA,aR);break;case 'text_input_signature':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});gA=bw.firstChild;this.Va(gA,aR);aR.zA=parseFloat(bw.getAttribute('fontWidth'));aR.zQ=parseFloat(bw.getAttribute('fontHeight'));aR.set_lineVisible(false);hJ=parseInt(bw.getAttribute('maxLength'));if(!isNaN(hJ)){aR.set_maxLength(hJ);}azM(bw,aR);break;case 'polyline':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));aR.set_lineColor(ic);var tP=bw.firstChild;while((tP)&&(tP.nodeType!==4)){tP=tP.nextSibling;}var JM;if((tP)&&(tP.nodeType===4)){ku=tP.innerText||tP.textContent||tP.data;if(ku&&ku!=='undefined'){JM=JSON.parse(ku);as=aR.oV();if(JM){for(G=0;G<JM.length;G++){as.addPoint(new IPCC.Web.UI.Point(JM[G].x*mq,JM[G].y*mq));}}}}break;case 'strikethrough':aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);aR.set_rectangle({x:hq,y:hk,width:it,height:jp});aR.set_lineWidth(parseFloat(bw.getAttribute('lineWidth')));aR.set_lineColor(ic);aR.bS=bw.getAttribute('highlightGroupID');var textLength=bw.getAttribute('textLength');if(textLength){aR.cz=parseInt(textLength,10);}aR.dE=bw.getAttribute('selectedText');var startIndex=bw.getAttribute('startIndex');if(startIndex){aR.bQ=parseInt(startIndex,10);}aR.jI=bw.getAttribute('isHighlight');aj=UO(bw,mq);if(aj){aR.aj=aj;}break;default:}if(aR){aR.aD.lk=bw.getAttribute('nodeId');if(Hq>=0&&(lA==='rectangle_trans_redact'|| !aR.jC())&&lA!=='stamp'&&lA!=='imagestamp'&&lA!=='imagestamp_redact'&&lA!=='text_hyperlink_annotation'&&lA!=='text_input_signature'&&lA!=='text_area_signature'&&lA!=='strikethrough'){aR.set_opacity(Hq);}aR.aD.Bp=aoC;aR.aD.aFW=lA;aR.aD.eK=bw.getAttribute('lineWidth');aR.aD.eF=bw.getAttribute('fillColor');aR.aD.lf=bw.getAttribute('lineColor');aR.aD.aHg=bw.getAttribute('dragDirection');aR.aD.xL=xL;aR.aD.bi=bw.getAttribute('x');aR.aD.de=bw.getAttribute('y');aR.aD.by=bw.getAttribute('height');aR.aD.aO=bw.getAttribute('width');aR.aD.aFG=bw.getAttribute('x_percent');aR.aD.aGU=bw.getAttribute('y_percent');aR.aD.aHb=bw.getAttribute('height_percent');aR.aD.aJT=bw.getAttribute('width_percent');aR.aD.aFY=bw.getAttribute('formUser');aR.aD.aEQ=bw.getAttribute('created');aR.aD.aJi=bw.getAttribute('modified');aR.aD.aFZ=bw.getAttribute('saveDate');aR.aD.aFf=bw.getAttribute('saveTime');aR.aD.kX=bw.getAttribute('meta');var zN=bw.firstChild;while((zN)&&(zN.nodeType!==4)){zN=zN.nextSibling;}if((zN)&&(zN.nodeType===4)){aR.ci.push(zN.data);}else{aR.ci.push('');}var mA=parseInt(bw.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;aR.set_interactionMode(mA);aR.mv(this);aR.add_propertyChanged(lT);aR.add_markTextSelectionChanged(Au);aR.xf(QZ);aR.yT(QH);aR.rE(QL);Kz.push(aR);aBs(bw,aR);rX=IPCC.C.alZ(bw.getAttribute('created'));sU=IPCC.C.alZ(bw.getAttribute('modified'));rX=rX||new Date();sU=sU||new Date();aR.initializeDates(rX,sU);if(wz){aR.set_visible(false);}}}}ad=ad.concat(Kz);h.aK('marksLoaded',{});}if(mc){aud(kk,aa);break;}}}}};this.Va=function(uy,aR){var G,ku,pf,rK,GK,ws,mG=[],zd=aR.get_type()===IPCC.Web.UI.MarkType.SignatureText,azP=zd?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,ik;while((uy)&&(uy.nodeType!==4)){uy=uy.nextSibling;}if((uy)&&(uy.nodeType===4)){ku=uy.innerText||uy.textContent||uy.data;aR.aD.bm=ku;pf=ku.split("</TEXTFORMAT>");for(G=0;G<pf.length;G++){if(pf[G].match(/<TEXTFORMAT/)){pf[G]=pf[G]+"</TEXTFORMAT>";mG.push(pf[G]);}}rK='';GK=[];for(G=0;G<mG.length;G++){if(mG[G].match(/<P/)){ws=this.amM(mG[G]);GK.push(ws);rK+=ws+" ";if(G===0){ik=this.alS(mG[G]);aaJ(ik,aR);}}rK=rK.replace(/\s+$/g,"");aR.set_text(rK);var Gh=this.amq(mG[G]);switch(Gh){case 'LEFT':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':aR.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:aR.set_textHorizontalAlignment(azP);break;}}}};function VY(aco,cr){for(var i=0;i<aco.childNodes.length;i++){var YW=aco.childNodes[i];if(YW.nodeName==='kvp'){var bF=YW.getAttribute("key");var H=YW.getAttribute("value");cr.set_data(bF,H);}}};function aBK(Qo,dG){var bX=new IPCC.Web.UI.Comment(IPCC.C.wL(Qo.getAttribute("text")));bX.set_creationTime(Qo.getAttribute("created"));dG.addComment(bX);for(var i=0;i<Qo.childNodes.length;i++){var ajz=Qo.childNodes[i];if(ajz.nodeName==='data'){VY(ajz,bX.get_data());}}};function aCv(ahC,dG){for(var i=0;i<ahC.childNodes.length;i++){var Qj=ahC.childNodes[i];if(Qj.nodeName==='comments'){var gI=Qj;for(var j=0;j<gI.childNodes.length;j++){var aiQ=gI.childNodes[j];if(aiQ.nodeName==='comment'){aBK(aiQ,dG);}}}else if(Qj.nodeName==='data'){VY(Qj,dG.get_data());}}};function aBs(Is,R){for(var i=0;i<Is.childNodes.length;i++){var uM=Is.childNodes[i];if(uM.nodeName==='conversation'){aCv(uM,R.get_conversation());}else if(uM.nodeName==='data'){VY(uM,R.get_data());}}};function azM(Is,R){var H=null,JV={};for(var i=0;i<Is.childNodes.length;i++){var uM=Is.childNodes[i];if(uM.nodeName==='inputMask'){H=IPCC.C.wL(uM.getAttribute('value'));for(var j=0;j<uM.childNodes.length;j++){var aac=uM.childNodes[j];if(aac.nodeName==='translation'){JV[IPCC.C.wL(aac.getAttribute('key'))]=new RegExp(IPCC.C.wL(aac.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(H!==null){R.set_mask({value:H,translations:JV});}};function UO(sa,vQ){var hi=null,jq;for(var i=0;i<sa.childNodes.length;i++){jq=sa.childNodes[i];if(jq.nodeName==='line-rectangles'){if(!hi){hi=avm(jq,vQ);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return hi;};function avm(sa,vQ){var hi=[],jq;for(var i=0;i<sa.childNodes.length;i++){jq=sa.childNodes[i];if(jq.nodeName==='rectangle'){hi.push(ayG(jq,vQ));}}return hi;};function ayG(sa,vQ){var bi=parseFloat(sa.getAttribute("x"))*vQ;var de=parseFloat(sa.getAttribute("y"))*vQ;var aO=parseFloat(sa.getAttribute("width"))*vQ;var by=parseFloat(sa.getAttribute("height"))*vQ;return new IPCC.Web.UI.Rectangle(bi,de,aO,by);};this.Wd=function(aF,EW,uB,jl,cS,bv){var aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aR.set_rectangle({x:aF.x,y:aF.y,width:aF.width,height:aF.height});aR.set_fillColor(uB);aR.set_fillVisible(true);aR.bQ=bv;aR.cz=1;if(cS){aR.set_opacity(cS);}else{aR.set_opacity(127);}h.addMark(aR);return aR;};this.aAG=function(aF,RN,bv){var aR=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);aR.set_rectangle({x:aF.x,y:aF.y,width:aF.width,height:aF.height});aR.set_fillColor(RN.get_fillColor());aR.set_fillVisible(true);aR.bQ=bv;aR.cz=1;if(RN.get_opacity()){aR.set_opacity(RN.get_opacity());}else{aR.set_opacity(127);}h.addMark(aR);return aR;};function aaJ(ik,aR){for(var cX=0;cX<ik.length;cX++){var cV=ik[cX].attribs;var mc=false;if(ik[cX].attribs.length>1&& !mc&&ik[cX].HY==='font'){mc=true;for(var bo=0;bo<cV.length;bo++){if(cV[bo].bA==="FACE"){aR.set_fontName(cV[bo].H);}else if(cV[bo].bA==="SIZE"&&aR.get_type()!==IPCC.Web.UI.MarkType.TextLine&&aR.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rG=parseFloat(cV[bo].H);aR.set_fontSize(rG);}else if(cV[bo].bA==="COLOR"){var aim=cV[bo].H;if(aR.get_type()===IPCC.Web.UI.MarkType.SignatureText){aR.set_fillColor(aim);}else{aR.set_textColor(aim);}}}var jX=false;if(ik[cX+1]&&aR.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(ik[cX+1].tagName==='font'){break;}else{var wO=ik[cX+1].HY;if(wO==='b'||wO==='i'||wO==='u'||wO==='s'){if(wO==='b'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wO==='i'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wO==='u'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wO==='s'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}jX=true;}}if(ik[cX+2]){var aqJ=ik[cX+2].HY;jX=Zb(aR,jX,aqJ);}if(ik[cX+3]){var apM=ik[cX+3].HY;jX=Zb(aR,jX,apM);}if(ik[cX+4]){var aqM=ik[cX+4].HY;jX=Zb(aR,jX,aqM);}if(mc){break;}}}}};function Zb(R,amI,yw){var jX=amI;var aR=R;if(amI){if(yw==='b'){aR.set_fontStyle(aR.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);jX=true;}else if(yw==='i'){aR.set_fontStyle(aR.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);jX=true;}else if(yw==='u'){aR.set_fontStyle(aR.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);jX=true;}else if(yw==='s'){aR.set_fontStyle(aR.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);jX=true;}}else{if(yw==='b'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);jX=true;}else if(yw==='i'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);jX=true;}else if(yw==='u'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);jX=true;}else if(yw==='s'){aR.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);jX=true;}}return jX;};function BD(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var afn=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aml=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,apC=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aBq=BD("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var oY=BD("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var anK=BD("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var aGb=BD("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var awi=BD("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var arY=BD("script,style");this.alU=function(html,handler){var bv,vs,uR,mH=[],hV=html;function parseEndTag(tag,tagName){var gy;if(!tagName){gy=0;}else{for(gy=mH.length-1;gy>=0;gy--){if(mH[gy]===tagName){break;}}}if(gy>=0){for(var i=mH.length-1;i>=gy;i--){if(handler.end){handler.end(mH[i]);}}mH.length=gy;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(oY[tagName]){while(mH.last()&&anK[mH.last()]){parseEndTag("",mH.last());}}if(aGb[tagName]&&mH.last()===tagName){parseEndTag("",tagName);}unary=aBq[tagName]|| ! !unary;if(!unary){mH.push(tagName);}if(handler.start){var attrs=[];rest.replace(apC,function(uR,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:awi[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};mH.last=function(){return this[this.length-1];};function arL(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){vs=true;if(!mH.last()|| !arY[mH.last()]){if(html.indexOf("<!--")===0){bv=html.indexOf("-->");if(bv>=0){if(handler.comment){handler.comment(html.substring(4,bv));}html=html.substring(bv+3);vs=false;}}else if(html.indexOf("</")===0){uR=html.match(aml);if(uR){html=html.substring(uR[0].length);uR[0].replace(aml,parseEndTag);vs=false;}}else if(html.indexOf("<")===0){uR=html.match(afn);if(uR){html=html.substring(uR[0].length);uR[0].replace(afn,parseStartTag);vs=false;}}if(vs){bv=html.indexOf("<");var text=bv<0?html:html.substring(0,bv);text=IPCC.C.wL(text);html=bv<0?"":html.substring(bv);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+mH.last()+"[^>]*>"),arL);parseEndTag("",mH.last());}if(html===hV){throw " Parse Error in annotation Html Text: "+html;}hV=html;}parseEndTag();};this.amM=function(html){var results="";this.alU(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.alS=function(html){var fI=[];this.alU(html,{start:function(tag,attrs){var eh;eh=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xi={};xi.HY=tag;xi.attribs=[];if(tag==='b'){xi.aHa=true;}else if(tag==='i'){xi.aIu=true;}else if(tag==='u'){xi.aIq=true;}else if(tag==='s'){xi.aIo=true;}else{for(var i=0;i<attrs.length;i++){var ze={};ze.bA=attrs[i].name;ze.H=attrs[i].value;xi.attribs.push(ze);}}fI.push(xi);}},end:function(){},chars:function(){},comment:function(){}});return fI;};this.amq=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function aud(kk,ayC){var lb=kk.getElementsByTagName("highlights")[0];if(lb.hasChildNodes()){var jR;var cT;for(var G=0;G<lb.childNodes.length;G++){jR=lb.childNodes[G];if(jR.nodeType===1){cT=jR.getAttribute('page');if(cT&&parseInt(cT,10)===ayC+1){var hN=new IPCC.Web.UI.Yb();hN.atg=jR.nodeName;switch(hN.atg){case 'tag':hN.ES=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':hN.ES=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':hN.ES=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':hN.ES=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':hN.ES=IPCC.Web.UI.HighLightType.Strikethrough;break;default:hN.ES=undefined;}if(jR.childNodes[0].data){hN.ci.push(jR.childNodes[0].data);}hN.aD.dz=jR.getAttribute('id');hN.aD.aHO=jR.getAttribute('userid');hN.aD.aIX=jR.getAttribute('mode');hN.aD.cY=jR.getAttribute('color');hN.aD.aIA=jR.getAttribute('occurence');hN.aD.bw=jR.getAttribute('annotation');hN.aD.al=jR.getAttribute('page');hN.aD.aID=jR.getAttribute('documentname');hN.aD.aJg=jR.getAttribute('tooltip');hN.aD.aHd=jR.getAttribute('allowdelete');hN.aD.ir=jR.getAttribute('start');hN.aD.aIj=jR.getAttribute('end');h.asI.push(hN);}}}}};this.WO=function(){var V;if(ad.length<1){return;}ee.removeAllMarks();var G;for(G=ad.length-1;G>=0;G--){ad[G].remove_propertyChanged(lT);ad[G].remove_markTextSelectionChanged(Au);ad[G].mv(null);V=new IPCC.Web.UI.MarkEventArgs();V.length=ad.length;V.zIndex=0;V.mark=ad.pop();h.aK('markRemoved',V);}V=new IPCC.Web.UI.MarkEventArgs();V.length=ad.length;V.zIndex=0;h.aK('markRemoved',V);};this.uc=function(R){var jS=this.oa(R);var vM=R.bS;if(jS>=0){R.remove_propertyChanged(lT);R.remove_markTextSelectionChanged(Au);R.mv(null);ad.splice(jS,1);ee.removeMark(R);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;V.zIndex=jS;V.length=1;h.aK('markRemoved',V);if(vM){this.aBS(vM);}}};this.aIh=function(qR){var wb=ad.length;var vM=qR.bS;while(wb--){var R=ad[wb];if(R.bS===vM){R.set_fillColor(qR.get_fillColor());}}};this.aty=function(qR){var wb=ad.length;var vM=qR.bS;if(!vM){qR.set_text(qR.get_text());return;}while(wb--){var R=ad[wb];if(R.bS===vM){if(R.get_text()!==qR.get_text()){R.set_text(qR.get_text());}if(R.get_fontName()!==qR.get_fontName()){R.set_fontName(qR.get_fontName());}if(R.get_fontSize()!==qR.get_fontSize()){R.set_fontSize(qR.get_fontSize());}}}};this.aBS=function(vM){var wb=ad.length;while(wb--){var R=ad[wb];if(R.bS===vM){var jS=this.oa(R);ee.removeMark(R);ad.splice(wb,1);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;V.zIndex=jS;V.length=1;}}};this.abF=function(R,jS){var Oa=this.oa(R);if(Oa<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Oa===jS){return;}ajc(jS);ad.splice(Oa,1);ad.splice(jS,0,R);if(R.get_type()===IPCC.Web.UI.MarkType.Highlight||R.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||R.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.bS!==undefined)){return;}var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;V.zIndex=jS;V.oldZIndex=Oa;V.length=1;h.aK('markReordered',V);};function Wf(hi,fG,dV){if(!hi){return undefined;}var jM={gx:'line-rectangles',ci:[],aD:{}};IPCC.C.forEach(hi,function(J){jM.ci.push({gx:'rectangle',ci:[],aD:{x:J.x,y:J.y,height:J.height,width:J.width}});});return jM;};function anN(jf){if(!jf){return undefined;}var jM={gx:'inputMask',ci:[],aD:{value:IPCC.C.os(jf.value)}};IPCC.C.forEach(jf.translations,function(H,bF){jM.ci.push({gx:'translation',ci:[],aD:{key:IPCC.C.os(bF),value:IPCC.C.os(H.toString())}});});return jM;};function XC(cr){if(!cr){return undefined;}var oU=cr.get_dataKeys();if(oU.length===0){return undefined;}var jM={gx:'data',ci:[],aD:{}};IPCC.C.forEach(oU,function(bF){var H=cr.get_data(bF);jM.ci.push({gx:'kvp',ci:[],aD:{key:bF,value:H}});});return jM;};function azT(bX){if(!bX){return undefined;}var zO={gx:'comment',ci:[],aD:{}};zO.aD.text=IPCC.C.os(bX.get_text());zO.aD.created=bX.get_creationTime();var jM=XC(bX.get_data());if(jM){zO.ci.push(jM);}return zO;};function aBc(dG){if(!dG||dG.get_length()===0){return undefined;}var abx={gx:'conversation',ci:[],aD:{}};var acF={gx:'comments',ci:[],aD:{}};abx.ci.push(acF);dG.forEach(function(bX){var zO=azT(bX);if(zO){acF.ci.push(zO);}});var jM=XC(dG.get_data());if(jM){abx.ci.push(jM);}return abx;};this.aGl=function(R,fG,dV,uG){var be=R.get_type();var lx=false;var iq;var fO;var ain;var XJ;var gO,sT,qC,bm;var ao={gx:'annotation',ci:[],aD:{}};if(!R.aD.lk){ao.aD.nodeId=h.axQ();}else{ao.aD.nodeId=R.aD.lk;}var Fe,Cs="",pq="";if(R.get_lineColor()){var VX=R.get_lineColor();if(VX==='transparent'){ao.aD.lineColor=VX;}else{Fe=VX.replace(/#/,"");Cs=parseInt(Fe,16);pq=Cs.toString();ao.aD.lineColor=pq;}}ao.aD.interactionMode=R.get_interactionMode();ao.aD.stampSize='122';var NH={};NH[IPCC.Web.UI.MarkType.Stamp]=true;NH[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;NH[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((be===IPCC.Web.UI.MarkType.Rectangle&&R.get_opacity()<255|| !R.jC())&&NH[be]!==true){ao.aD.opacity=R.get_opacity();}if(R.get_conversation().get_length()>0){ao.ci.push(aBc(R.get_conversation()));}var jM=XC(R.get_data());if(jM){ao.ci.push(jM);}lx=false;switch(be){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:fO=R.get_fillColor();if(fO==='transparent'){ao.aD.fillColor=fO;}else if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}if(R.get_fillVisible()){if(R.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(R.get_opacity()===255){if(R.jC()===true){ao.aD.drawType='rectangle_filled_redact';if(R.bS){ao.aD.highlightGroupID=R.bS;}}else{ao.aD.drawType='rectangle_filled';}}else{if(R.jC()===true){ao.aD.drawType='rectangle_trans_redact';}else{ao.aD.drawType='rectangle_trans';}}}else{if(R.get_opacity()===255){ao.aD.drawType='circle_filled';if(R.jC()){ao.aD.drawType='circle_filled_redact';}}else{ao.aD.drawType='circle_trans';if(R.jC()){ao.aD.drawType='circle_trans_redact';}}}}else{if(R.get_type()===IPCC.Web.UI.MarkType.Rectangle){ao.aD.drawType='rectangle';ao.aD.fillColor=pq;}else{ao.aD.drawType='circle';ao.aD.fillColor=pq;}}ao.aD.dragDirection='br';var J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:ao.aD.lineWidth=R.get_lineWidth();lx=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:ao.aD.highlightGroupID=R.bS;ao.aD.drawType='text_selection_redaction';if(R.dE&&R.dE.length>0){ao.aD.startIndex=R.bQ;ao.aD.selectedText=R.dE;ao.aD.textLength=R.cz;}break;case IPCC.Web.UI.MarkType.Text:var lm=R.get_rectangle();ao.aD.x=lm.x;ao.aD.y=lm.y;ao.aD.x_percent=lm.x/fG;ao.aD.y_percent=lm.y/dV;ao.aD.height_percent=lm.height/dV;ao.aD.width_percent=lm.width/fG;ao.aD.height=lm.height;ao.aD.width=lm.width;ao.aD.maxLength=R.get_maxLength();fO=R.get_fillColor();if(R.jC()===true){ao.aD.drawType='text_redact';}else{ao.aD.drawType='text';ao.aD.opacity=R.get_opacity();}if(fO==='transparent'){ao.aD.fillColor=fO;}else if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();}else{ao.aD.fillColor='16776960';}var bI='';bI="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bI+="<P ALIGN=\"right\" ";break;}bI+=">";bI+="<FONT ";sT=R.get_fontName();bI+="FACE="+"\""+sT+"\" ";qC=R.get_fontSize().toString();bI+="SIZE= \""+qC+"\" ";gO="\""+R.get_textColor()+"\" ";bI+="COLOR="+gO+" ";bI+="LETTERSPACING=\"0\" ";bI+="KERNING=\"0\" ";bI+=">";var dg=R.get_fontStyle();if(dg&IPCC.Web.UI.FontStyle.Bold){bI+="<B>";}if(dg&IPCC.Web.UI.FontStyle.Italic){bI+="<I>";}if(dg&IPCC.Web.UI.FontStyle.Underline){bI+="<U>";}if(dg&IPCC.Web.UI.FontStyle.Strikeout){bI+="<S>";}bm=R.get_text();bm=IPCC.C.os(bm);bI+=bm;if(dg&IPCC.Web.UI.FontStyle.Strikeout){bI+="</S>";}if(dg&IPCC.Web.UI.FontStyle.Underline){bI+="</U>";}if(dg&IPCC.Web.UI.FontStyle.Italic){bI+="</I>";}if(dg&IPCC.Web.UI.FontStyle.Bold){bI+="</B>";}bI+="</FONT>";bI+="</P>";bI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.drawType='highlight';ao.aD.highlightGroupID=R.bS;ao.aD.isHighlight=R.jI;fO=R.get_fillColor();if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();ao.aD.lineColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.drawType='text_hyperlink_annotation';ao.aD.href=IPCC.C.os(R.kS);ao.aD.startIndex=R.bQ;ao.aD.selectedText=R.dE;ao.aD.textLength=R.cz;ao.aD.highlightGroupID=R.bS;ao.aD.isHighlight=R.jI;fO=R.get_fillColor();if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();ao.aD.lineColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}ao.ci.push(Wf(R.aj,fG,dV));break;case IPCC.Web.UI.MarkType.HighlightText:J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.drawType='highlightText';ao.aD.startIndex=R.bQ;ao.aD.selectedText=R.dE;ao.aD.textLength=R.cz;ao.aD.highlightGroupID=R.bS;ao.aD.isHighlight=R.jI;fO=R.get_fillColor();if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();ao.aD.lineColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}ao.ci.push(Wf(R.aj,fG,dV));break;case IPCC.Web.UI.MarkType.RectangleRedaction:J=R.get_rectangle();ao.aD.drawType='rectangle_filled_redact';ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.meta=IPCC.C.os(R.get_text());ao.aD.stampSize=R.get_fontSize();ao.aD.lineWidth=R.get_lineWidth();fO=R.get_fillColor();if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}Fe=R.get_lineColor();if(Fe){Cs=Fe.replace(/#/,"");ao.aD.lineColor=parseInt(Cs,16).toString();}else{ao.aD.lineColor=pq;}XJ=R.get_textColor();if(XJ){ain=XJ.replace(/#/,"");ao.aD.fontColor=parseInt(ain,16).toString();}else{ao.aD.fontColor=pq;}if(R.bS){ao.aD.highlightGroupID=R.bS;}break;case IPCC.Web.UI.MarkType.Stamp:fO=R.get_fillColor();if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor=parseInt(iq,16).toString();ao.aD.lineColor=parseInt(iq,16).toString();}else{ao.aD.fillColor=pq;}J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;if(R.jC()===true){ao.aD.drawType='stamp_redact';}else{ao.aD.drawType='stamp';}bm=R.get_text();ao.aD.stampSize=R.stampSize;ao.ci.push('<![CDATA['+bm+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(R.get_type()===IPCC.Web.UI.MarkType.Freehand){ao.aD.drawType='freehand';}else{ao.aD.drawType='signature_path';switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:ao.aD.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:ao.aD.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:ao.aD.align='right';break;}}bI=R.get_pathString();ao.aD.pathWidth=R.get_pathWidth();ao.aD.pathHeight=R.get_pathHeight();J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;break;case IPCC.Web.UI.MarkType.SignatureText:fO=R.get_fillColor();var eF;if(fO){iq=fO.replace(/#/,"");ao.aD.fillColor="";ao.aD.lineColor="";eF=parseInt(iq,16).toString();}else{ao.aD.fillColor="";eF=pq;}J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.opacity=0;ao.aD.drawType='signature_text';ao.aD.stampSize=R.stampSize;ao.aD.fontWidth=R.zA;ao.aD.fontHeight=R.zQ;bI='';bI="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bI+="<P ALIGN=\"right\" ";break;}bI+=">";bI+="<FONT ";sT=R.get_fontName();bI+="FACE="+"\""+sT+"\" ";qC=R.stampSize.toString();bI+="SIZE= \""+qC+"\" ";gO="\""+R.get_fillColor()+"\" ";bI+="COLOR="+gO+" ";bI+="LETTERSPACING=\"0\" ";bI+="KERNING=\"0\" ";bI+=">";bm=IPCC.C.os(R.get_text());bI+=bm;bI+="</FONT>";bI+="</P>";bI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:lm=R.get_rectangle();ao.aD.x=lm.x;ao.aD.y=lm.y;ao.aD.x_percent=lm.x/fG;ao.aD.y_percent=lm.y/dV;ao.aD.height_percent=lm.height/dV;ao.aD.width_percent=lm.width/fG;ao.aD.height=lm.height;ao.aD.width=lm.width;ao.aD.maxLength=R.hJ;ao.aD.maxFontSize=R.ih;if(uG){ao.aD.drawType='text';}else{ao.aD.drawType='text_area_signature';}ao.aD.fillColor='transparent';bI='';bI="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bI+="<P ALIGN=\"right\" ";break;}bI+=">";bI+="<FONT ";sT=R.get_fontName();bI+="FACE="+"\""+sT+"\" ";qC=R.cE.toString();bI+="SIZE= \""+qC+"\" ";gO="\""+R.get_textColor()+"\" ";bI+="COLOR="+gO+" ";bI+="LETTERSPACING=\"0\" ";bI+="KERNING=\"0\" ";bI+=">";dg=R.get_fontStyle();if(dg&IPCC.Web.UI.FontStyle.Bold){bI+="<B>";}if(dg&IPCC.Web.UI.FontStyle.Italic){bI+="<I>";}if(dg&IPCC.Web.UI.FontStyle.Underline){bI+="<U>";}if(dg&IPCC.Web.UI.FontStyle.Strikeout){bI+="<S>";}bm=R.get_text();bm=IPCC.C.os(bm);bI+=bm;if(dg&IPCC.Web.UI.FontStyle.Strikeout){bI+="</S>";}if(dg&IPCC.Web.UI.FontStyle.Underline){bI+="</U>";}if(dg&IPCC.Web.UI.FontStyle.Italic){bI+="</I>";}if(dg&IPCC.Web.UI.FontStyle.Bold){bI+="</B>";}bI+="</FONT>";bI+="</P>";bI+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!uG){J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.maxLength=R.get_maxLength();ao.aD.width_percent=J.width/fG;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.opacity=0;ao.aD.drawType='text_input_signature';ao.aD.stampSize=R.stampSize;ao.aD.fontWidth=R.zA;ao.aD.fontHeight=R.zQ;bI='';bI="<TEXTFORMAT LEADING=\"2\">";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bI+="<P ALIGN=\"right\" ";break;}bI+=">";bI+="<FONT ";sT=R.get_fontName();bI+="FACE="+"\""+sT+"\" ";qC=R.stampSize.toString();bI+="SIZE= \""+qC+"\" ";gO="\""+R.get_textColor()+"\" ";bI+="COLOR="+gO+" ";bI+="LETTERSPACING=\"0\" ";bI+="KERNING=\"0\" ";bI+=">";bm=IPCC.C.os(R.get_text());bI+=bm;bI+="</FONT>";bI+="</P>";bI+="</TEXTFORMAT>";var ada=anN(R.get_mask());if(ada){ao.ci.push(ada);}}else{J=R.get_rectangle();var BV=R.stampSize;var nD;if(!R.IA|| !R.nD){var auO=IPCC.C.ams(R.get_text(),R.get_fontName(),J.width,J.height,{wK:"pre",cE:BV+"px"});nD=auO;R.IA=true;R.nD=nD;}else{nD=R.nD;}BV=nD.fontSize;var ju=nD.width/J.width,dk=1.0,MIN_BUFFER=0.85;if(/mono/i.test(R.get_fontName())){MIN_BUFFER=0.75;}if(ju>MIN_BUFFER){dk=MIN_BUFFER*J.width/nD.width;BV=BV*dk;}var aeO=J.width,awq=nD.height*dk,afj=J.height-(J.height-awq)/2,afD=J.x,aew=J.y+(J.height-nD.height)/2+(nD.height*(1-dk));ao.aD.x=afD;ao.aD.y=aew;ao.aD.x_percent=afD/fG;ao.aD.y_percent=aew/dV;ao.aD.height_percent=afj/dV;ao.aD.width_percent=aeO/fG;ao.aD.height=afj;ao.aD.width=aeO;ao.aD.opacity=0;ao.aD.drawType='text_redact';bI='';bI="<TEXTFORMAT>";switch(R.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bI+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bI+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bI+="<P ALIGN=\"right\" ";break;}bI+=">";bI+="<FONT ";sT=R.get_fontName();bI+="FACE="+"\""+sT+"\" ";if(R.ayT){qC=(BV/R.ayT).toString();}else{qC=BV.toString();}bI+="SIZE= \""+qC+"\" ";gO="\""+R.get_textColor()+"\" ";bI+="COLOR="+gO+" ";bI+="LETTERSPACING=\"0\" ";bI+="KERNING=\"0\" ";bI+=">";bm=IPCC.C.os(R.get_text());bI+=bm;bI+="</FONT>";bI+="</P>";bI+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:ao.aD.drawType=(be===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.lineWidth=R.get_lineWidth();ao.aD.x_percent=J.x/fG;ao.aD.y_percent=J.y/dV;ao.aD.height_percent=J.height/dV;ao.aD.width_percent=J.width/fG;ao.aD.imageStampId=R.qZ;break;case IPCC.Web.UI.MarkType.Strikethrough:J=R.get_rectangle();ao.aD.x=J.x;ao.aD.y=J.y;ao.aD.height=J.height;ao.aD.width=J.width;ao.aD.drawType='strikethrough';ao.aD.startIndex=R.bQ;ao.aD.selectedText=R.dE;ao.aD.textLength=R.cz;ao.aD.highlightGroupID=R.bS;ao.aD.isHighlight=R.jI;ao.ci.push(Wf(R.aj,fG,dV));break;}if(lx){ao.aD.lineWidth=R.get_lineWidth();var aF=R.get_boundingRectangle();ao.aD.x=aF.x;ao.aD.y=aF.y;ao.aD.x_percent=aF.x/fG;ao.aD.y_percent=aF.y/dV;ao.aD.height_percent=aF.height/dV;ao.aD.width_percent=aF.width/fG;ao.aD.height=aF.height;ao.aD.width=aF.width;if(be===IPCC.Web.UI.MarkType.Line){if(R.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){ao.aD.drawType='line';}else{ao.aD.drawType='arrow';}}else{ao.aD.drawType='polyline';}ao.aD.lineWidth=R.get_lineWidth();var as=R.get_points();if(be===IPCC.Web.UI.MarkType.Line){if((as.getPoint(0).x<as.getPoint(1).x)&&(as.getPoint(0).y>as.getPoint(1).y)){ao.aD.dragDirection='tr';}else if((as.getPoint(0).x>as.getPoint(1).x)&&(as.getPoint(0).y>as.getPoint(1).y)){ao.aD.dragDirection='tl';}else if((as.getPoint(0).x>as.getPoint(1).x)&&(as.getPoint(0).y<as.getPoint(1).y)){ao.aD.dragDirection='bl';}else if((as.getPoint(0).x<as.getPoint(1).x)&&(as.getPoint(0).y<as.getPoint(1).y)){ao.aD.dragDirection='br';}else{ao.aD.dragDirection='br';}}else{var wZ=[];var dn=as.get_length(),bK;if(dn>1){for(var bo=0;bo<as.get_length();bo++){bK=as.getPoint(bo);wZ.push({x:bK.x,y:bK.y});}bI=JSON.stringify(wZ);}}if(Cs){ao.aD.fillColor=Cs;}else{ao.aD.fillColor="";}}else{ao.aD.lineWidth=R.get_lineWidth();ao.aD.dragDirection='br';}if(R.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){ao.aD.meta='';}ao.aD.label='';var ep=new Date();ao.aD.saveDate=IPCC.C.aod(ep);ao.aD.saveTime=IPCC.C.apd(ep);ao.aD.uuid='';ao.aD.formUser='';ao.aD.created=IPCC.C.amo(R.get_dateCreated());ao.aD.modified=IPCC.C.amo(R.get_dateModified());if(R.get_type()===IPCC.Web.UI.MarkType.Text||R.get_type()===IPCC.Web.UI.MarkType.Freehand||R.get_type()===IPCC.Web.UI.MarkType.SignaturePath||R.get_type()===IPCC.Web.UI.MarkType.SignatureText||R.get_type()===IPCC.Web.UI.MarkType.Polyline||R.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||R.get_type()===IPCC.Web.UI.MarkType.TextLine){ao.ci.push('<![CDATA['+bI+']]>');}else{ao.ci.push('');}return ao;};this.aya=function(aa,fG,dV,bE){var kL={gx:'documentAnnotations',ci:[],aD:{}};var cc={gx:'pages',ci:[],aD:{}};kL.ci.push(cc);var lb={gx:'highlights',ci:[],aD:{}};kL.ci.push(lb);var uY={},rf=[];var al={gx:'page',ci:[],aD:{id:(aa+1).toString(),pageWidth:fG,pageHeight:dV}};cc.ci.push(al);bE=bE||{};var amW=(bE.includeAnnotations!==undefined)? ! !bE.includeAnnotations:true,amn=(bE.includeRedactions!==undefined)? ! !bE.includeRedactions:true,anh=(bE.includeSignatures!==undefined)? ! !bE.includeSignatures:false,uG=(bE.uG!==undefined)? ! !bE.uG:false,VU=(bE.Ff!==undefined)?bE.Ff:false,ayD= ! !uG,alr=VU?VU:ad;for(var G=0;G<alr.length;G++){var R=alr[G];var be=R.get_type();if(R.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(ayD&& !R.get_visible()){continue;}if(!VU){if(amW===false&&amn===false&&anh===false){break;}if(amW===false){if(be===IPCC.Web.UI.MarkType.Rectangle||be===IPCC.Web.UI.MarkType.Ellipse||be===IPCC.Web.UI.MarkType.Line||be===IPCC.Web.UI.MarkType.Text||be===IPCC.Web.UI.MarkType.Stamp||be===IPCC.Web.UI.MarkType.Highlight||be===IPCC.Web.UI.MarkType.Strikethrough||be===IPCC.Web.UI.MarkType.HighlightText||be===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||be===IPCC.Web.UI.MarkType.Freehand||be===IPCC.Web.UI.MarkType.ImageStampAnnotation||be===IPCC.Web.UI.MarkType.Polyline){if(R.jC()===false){continue;}}}if(amn===false){if(R.jC()===true){continue;}if(be===IPCC.Web.UI.MarkType.RectangleRedaction||be===IPCC.Web.UI.MarkType.TextSelectionRedaction||be===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(anh===false){if(be===IPCC.Web.UI.MarkType.SignaturePath||be===IPCC.Web.UI.MarkType.SignatureText||be===IPCC.Web.UI.MarkType.SignatureImage||be===IPCC.Web.UI.MarkType.TextAreaSignature||be===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(be){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:uY[R.qZ]={gx:'stampImage',ci:[],aD:{imageStampId:R.qZ,base64format:R.dO()}};break;}al.ci.push(this.aGl(R,fG,dV,uG));}for(var GN in uY){if(uY.hasOwnProperty(GN)){rf.push(uY[GN]);}}return{kL:kL,rf:rf};};this.aye=function(){var fe={m:[]};var G;for(G=0;G<ad.length;G++){fe.m.push(ad[G].axf());}h.aK('marksSaved',{});var anu="";anu=JSON.stringify(fe);return anu;};this.xC=function(T){ai.addHandler('markAdded',T);};this.AH=function(T){ai.removeHandler('markAdded',T);};this.Iq=function(T){ai.addHandler('markChanged',T);};this.Fx=function(T){ai.removeHandler('markChanged',T);};this.xs=function(T){ai.addHandler('markRemoved',T);};this.AP=function(T){ai.removeHandler('markRemoved',T);};this.HC=function(T){ai.addHandler('markReordered',T);};this.HA=function(T){ai.removeHandler('markReordered',T);};this.Xe=function(T){ai.addHandler('marksLoaded',T);};this.XH=function(T){ai.removeHandler('marksLoaded',T);};this.aHl=function(T){ai.addHandler('marksSaved',T);};this.aFT=function(T){ai.removeHandler('marksSaved',T);};this.GO=function(T){ai.addHandler('markSelectionChanged',T);};this.HJ=function(T){ai.removeHandler('markSelectionChanged',T);};this.Ic=function(T){ai.addHandler('markTextSelectionChanged',T);};this.Hz=function(T){ai.removeHandler('markTextSelectionChanged',T);};this.xf=function(T){ai.addHandler('commentAdded',T);};this.Gl=function(T){ai.removeHandler('commentAdded',T);};this.yT=function(T){ai.addHandler('commentRemoved',T);};this.Gx=function(T){ai.removeHandler('commentRemoved',T);};this.rE=function(T){ai.addHandler('commentChanged',T);};this.tL=function(T){ai.removeHandler('commentChanged',T);};this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};this.cs=function(df){var T=ai.getHandler("propertyChanged");if(T){T(this,new IPCC.pj(df));}};return this;};Rc.prototype={get_markCount:function(){return this.Sj();},get_selectedMarks:function(){return this.yh();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Pg(mark,mouseLocation);},forEachMark:function(method,context){this.BP(method,context);},getMark:function(zIndex){return this.Qs(zIndex);},getZIndexOfMark:function(mark){return this.oa(mark);},loadFromJson:function(json){this.arR(json);},removeAllMarks:function(){this.WO();},removeMark:function(mark){this.uc(mark);},reorderMark:function(mark,zIndex){this.abF(mark,zIndex);},saveToJson:function(){return this.aye();},add_markAdded:function(handler){this.xC(handler);},remove_markAdded:function(handler){this.AH(handler);},add_markChanged:function(handler){this.Iq(handler);},remove_markChanged:function(handler){this.Fx(handler);},add_markRemoved:function(handler){this.xs(handler);},remove_markRemoved:function(handler){this.AP(handler);},add_markReordered:function(handler){this.HC(handler);},remove_markReordered:function(handler){this.HA(handler);},add_marksLoaded:function(handler){this.Xe(handler);},remove_marksLoaded:function(handler){this.XH(handler);},add_markSelectionChanged:function(handler){this.GO(handler);},remove_markSelectionChanged:function(handler){this.HJ(handler);},add_markTextSelectionChanged:function(handler){this.Ic(handler);},remove_markTextSelectionChanged:function(handler){this.Hz(handler);},add_commentAdded:function(handler){this.xf(handler);},remove_commentAdded:function(handler){this.Gl(handler);},add_commentRemoved:function(handler){this.yT(handler);},remove_commentRemoved:function(handler){this.Gx(handler);},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.tL(handler);}};Rc.registerClass=bY;Rc.registerClass('IPCC.Web.UI.ArtPage');module.exports=Rc;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var Pn=function(){};Pn.registerEnum=eN;Pn.prototype={Line:0,Triangle:1};Pn.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Pn;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Rk=function(text){var ai=new IPCC.Web.UI.hj();var cr=new IPCC.Web.UI.Data();this.ZT=IPCC.C.vh(new Date());this.bm=text;this.aEc=function(bm){if(bm===this.bm){return;}this.bm=bm;var V=new IPCC.Web.UI.CommentEventArgs();V.comment=this;V.length=1;this.aK('commentChanged',V);};this.asL=function(){return this.bm;};this.aDB=function(atV){this.ZT=atV;};this.aBT=function(){return this.ZT;};this.rE=function(T){ai.addHandler('commentChanged',T);};this.tL=function(T){ai.removeHandler('commentChanged',T);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};this.yd=function(){return cr;};return this;};Rk.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.tL(handler);},get_text:function(){return this.asL();},set_text:function(text){this.aEc(text);},get_creationTime:function(){return this.aBT();},set_creationTime:function(isoTimeString){this.aDB(isoTimeString);},get_data:function(){return this.yd();}};Rk.registerClass=bY;Rk.registerClass('IPCC.Web.UI.Comment');module.exports=Rk;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Rf=function(){return this;};Rf.registerClass=bY;Rf.prototype={};Rf.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Rf;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Qz=function(arP){var gI=[];var ai=new IPCC.Web.UI.hj();var cr=new IPCC.Web.UI.Data();var R=arP;var h=this;function Qa(bV,V){h.aK('commentChanged',V);};this.JL=function(bX){bX.add_commentChanged(Qa);gI.push(bX);var V=new IPCC.Web.UI.CommentEventArgs();V.comment=bX;V.length=1;V.index=gI.length-1;this.aK('commentAdded',V);};this.awB=function(bX){var SN= -1;IPCC.C.forEach(gI,function(el,idx){if(el===bX){SN=idx;}});if(SN=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var abe=gI.splice(SN,1)[0];abe.tL(Qa);var V=new IPCC.Web.UI.CommentEventArgs();V.comment=abe;V.length=1;this.aK('commentRemoved',V);};this.kR=function(hT,dp){var G;for(G=0;G<gI.length;G++){hT.call(dp,gI[G],G,this);}};this.eQ=function(){return gI.length;};this.xf=function(T){ai.addHandler('commentAdded',T);};this.Gl=function(T){ai.removeHandler('commentAdded',T);};this.rE=function(T){ai.addHandler('commentChanged',T);};this.tL=function(T){ai.removeHandler('commentChanged',T);};this.yT=function(T){ai.addHandler('commentRemoved',T);};this.Gx=function(T){ai.removeHandler('commentRemoved',T);};this.yd=function(){return cr;};this.OQ=function(){return R;};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};return this;};Qz.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.JL(comment);},removeCommentInstance:function(comment){this.awB(comment);},forEach:function(method,context){this.kR(method,context);},get_length:function(){return this.eQ();},add_commentAdded:function(handler){this.xf(handler);},remove_commentAdded:function(handler){this.Gl(handler);},add_commentChanged:function(handler){this.rE(handler);},remove_commentChanged:function(handler){this.tL(handler);},add_commentRemoved:function(handler){this.yT(handler);},remove_commentRemoved:function(handler){this.Gx(handler);},get_data:function(){return this.yd();},get_mark:function(){return this.OQ();}};Qz.registerClass=bY;Qz.registerClass('IPCC.Web.UI.Conversation');module.exports=Qz;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var OJ=function(){this.cr={};this.yd=function(key){if(typeof key==='undefined'){return IPCC.C.extend({},this.cr);}else if(typeof key==='string'){return this.cr[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aEL=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.cr[key]=value;}else if(typeof value==='undefined'){delete this.cr[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.aAZ=function(){var keys=[];IPCC.C.forEach(this.cr,function(value,key){keys.push(key);});return keys;};return this;};OJ.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.yd(key);},set_data:function(key,value){return this.aEL(key,value);},get_dataKeys:function(){return this.aAZ();}};OJ.registerClass=bY;OJ.registerClass('IPCC.Web.UI.Data');module.exports=OJ;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var QT=function(){};QT.prototype={Production:0,Development:1,Detailed:2};QT.registerEnum=eN;QT.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=QT;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var RE=function(){};RE.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};RE.registerEnum=eN;RE.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=RE;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var bC=function(axN){var aS=axN;var akD=this.type=aS.type.toLowerCase();var KX=typeof aS.changedTouches!=='undefined';this.rawEvent=aS;this.altKey=aS.altKey;if(typeof(aS.button)!=='undefined'){this.button=(typeof(aS.which)!=='undefined')?aS.button:(aS.button===4)?IPCC.Web.UI.MouseButton.middleButton:(aS.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(akD==='keypress'){this.charCode=aS.charCode||aS.keyCode;}else if(aS.keyCode&&(aS.keyCode===46)){this.keyCode=127;}else{this.keyCode=aS.keyCode;}this.clientX=(KX)?aS.changedTouches[0].clientX:aS.clientX;this.clientY=(KX)?aS.changedTouches[0].clientY:aS.clientY;this.ctrlKey=aS.ctrlKey;this.target=aS.target?aS.target:aS.srcElement;function aqo(bB){var bi=0;var de=0;while(bB&& !isNaN(bB.offsetLeft)&& !isNaN(bB.offsetTop)){bi+=bB.offsetLeft-bB.scrollLeft;de+=bB.offsetTop-bB.scrollTop;if(bB.offsetparent){bB=bB.offsetParent;}else{bB=bB.parentNode;}}return{top:de,left:bi};};var ez=""+akD;var EE='key';if(ez.substr(0,EE.length)!==EE){if((typeof(aS.offsetX)!=='undefined')&&(typeof(aS.offsetY)!=='undefined')){this.offsetX=aS.offsetX;this.offsetY=aS.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(aS.clientX)==='number')){var MW=aqo(this.target);var eJ=this.target;var gR=eJ.ownerDocument||eJ.document||eJ;var lw=gR.defaultView||gR.parentWindow;this.offsetX=(lw.pageXOffset||0)+aS.clientX-MW.left;this.offsetY=(lw.pageYOffset||0)+aS.clientY-MW.top;}}this.screenX=(KX)?aS.changedTouches[0].screenX:aS.screenX;this.screenY=(KX)?aS.changedTouches[0].screenY:aS.screenY;this.shiftKey=aS.shiftKey;};bC.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};bC.registerClass=bY;bC.registerClass('IPCC.Web.UI.bC');bC.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.bC.Uo(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.jO.addHandlerCantBeUsedForError);}if(!element.ai){element.ai={};}var eventCache=element.ai[eventName];if(!eventCache){element.ai[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.bC(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var eJ=doc.defaultView||doc.parentWindow;e=eJ.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.bC(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.bC.abq){element.dispose=IPCC.Web.UI.bC.abq;if(typeof(d)!=="undefined"){element.aea=d;}}}};bC.clearHandlers=function(element){IPCC.Web.UI.bC.Uo(element);IPCC.Web.UI.bC.ahX(element,false);};bC.ahX=function(element,autoRemoving){if(element.ai){var cache=element.ai;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.bC.removeHandler(element,name,entry.handler);}}}}element.ai=null;}};bC.abq=function(){IPCC.Web.UI.bC.ahX(this,true);var d=this.aea,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.aea=null;if(type==="function"){this.dispose();}}};bC.removeHandler=function(element,eventName,handler){IPCC.Web.UI.bC.ck(element,eventName,handler);};bC.ck=function(element,eventName,handler){IPCC.Web.UI.bC.Uo(element);var browserHandler=null;if((typeof(element.ai)!=='object')|| !element.ai){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.ai[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.bC.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};bC.Uo=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.jO.argumentDomNode);}};module.exports=bC;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var od=function(){};od.registerEnum=eN;od.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};od.registerEnum('IPCC.Web.UI.FitType',false);module.exports=od;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var QX=function(){};QX.registerEnum=eN;QX.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};QX.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=QX;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var QS=function(){};QS.registerEnum=eN;QS.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};QS.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=QS;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var QP=function(){};QP.registerEnum=eN;QP.prototype={Left:0,Center:16,Right:32};QP.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=QP;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var PJ=function(){};PJ.registerEnum=eN;PJ.prototype={None:0,ArtDataService:1};PJ.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=PJ;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var EK=function(aG){var iO='';var gv='';var h=this;this.cc=new IPCC.Web.UI.ImGearPageCollection();this.RS=undefined;this.cc.aZ=this;var Qw=false;this.qb=undefined;var eP=0;var KI=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var ai=new IPCC.Web.UI.hj();this.je=IPCC.Web.FR.aaE(4,IPCC.Web.QA());this.qW=IPCC.Web.gi.Hf.nk(this.je);var zn=[];var np=0;var mX=[];var DM=[];var fZ={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Xy=false;this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){try{T(h,V);}catch(e){IPCC.jb.Mj('raise event error in ImGearDocument, error: '+e.message);IPCC.jb.pn(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function abn(bV,V){if(V.length>0){h.aK('pageAdded',V);}};function abu(bV,V){if(V.length>0){h.aK('pageRemoved',V);}};function JY(bV,V){h.aK('pageChanged',V);};this.cc.add_pageAdded(abn);this.cc.add_pageRemoved(abu);this.cc.add_pageChanged(JY);function apZ(){function aFE(hZ,jx){var dw=hZ+'() threw an exception ';if(jx.name){dw+='( '+jx.name+" ";}else{dw+=".";}if(jx.message){dw+="  exception message = "+jx.message;}if(jx.statusCode){dw+="  exception statusCode = "+jx.statusCode;}dw=dw.replace(/\n/g," ");IPCC.jb.pn(dw,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.aV=aFE;this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(h,V);}};};if(arguments.length===0){var dw="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',dw);}if(arguments.length>0){if(aG.documentIdentifier!==undefined){iO=aG.documentIdentifier;gv=IPCC.fT.rU(iO);}if(aG.encodedDocumentIdentifier!==undefined){var yi=aG.encodedDocumentIdentifier;if(aG.documentIdentifier!==undefined){gv=IPCC.fT.rU(iO);if(yi!==gv){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{iO=IPCC.fT.GE(aG.encodedDocumentIdentifier);}}if(aG.imageServicePath!==undefined){this.qb=aG.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sc;if(aG.includeAllPages!==undefined){Qw=aG.includeAllPages;if(Qw===true){var aCa=new apZ();var YL=0;h.bL=new IPCC.fT(gv,0,0,0,0,0);var pg=function(){eP=h.bL.eP;KI=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;YL<eP;YL++){var aiM=new IPCC.Web.UI.ImGearPage({pageNumber:YL,aZ:h});aiM.aZ=h;h.cc.addPage(aiM);}};KI=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bL.WM(this.qb,aCa,pg);}catch(e){KI=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;h.aK('pageOpenFailed',dM);throw e;}}}else if(aG.pages!==undefined){if(aG.pages.length>0){var G=0;for(G=0;G<aG.pages.length;G++){var bf=aG.pages[G];bf.document=this;this.cc.addPage(bf);}}}else if(aG.pageNumber!==undefined){if(aG.pageRangeCount!==undefined){var qJ=aG.pageRangeCount;if(qJ>0){var ak;for(ak=aG.pageNumber;ak<=qJ;ak++){sc=new IPCC.Web.UI.ImGearPage(ak);sc.aZ=h;this.cc.addPage(sc);}}else if(qJ===0){sc=new IPCC.Web.UI.ImgearPage({pageNumber:aG.pageNumber,aZ:h});sc.aZ=h;h.cc.addPage(sc);}}else{if(aG.selected){sc=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,aZ:h,selected:true});}else{sc=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,aZ:h});}sc.aZ=h;h.cc.addPage(sc);}}}this.Ji=function(){return iO;};this.Qp=function(){return gv;};this.ajM=function(){return this.cc;};this.aqz=function(){return eP;};this.aqd=function(){return KI;};this.aEa=function(){return Qw;};this.aAW=function(H){Qw=H;this.cs('includeAllPages');};var oc=false;this.hQ=function(){return oc;};this.lM=function(H){oc=H;};this.Hd=function(T){ai.addHandler('pageAdded',T);};this.HO=function(T){ai.removeHandler('pageAdded',T);};this.Hx=function(T){ai.addHandler('pageRemoved',T);};this.Hc=function(T){ai.removeHandler('pageRemoved',T);};this.Ho=function(T){ai.addHandler('pageOpenFailed',T);};this.Ik=function(T){ai.removeHandler('pageOpenFailed',T);};this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.Ih=function(T){ai.addHandler('pageChanged',T);};this.It=function(T){ai.removeHandler('pageChanged',T);};this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};this.atx=function(T){ai.addHandler('textPagesReceived',T);};this.awf=function(T){ai.removeHandler('textPagesReceived',T);};this.aoT=function(){return DM.length;};this.arh=function(){return zn;};this.apt=function(){return zn.length;};this.aqD=function(){return fZ;};this.aqk=function(){return Xy;};this.aKh=function(H){Xy=H;};this.aBk=function(gn){if(fZ.stopRequests===true){var V={};V.error=0;V.textPagesReceived=Qc(gn);if(V.textPagesReceived.length===0){if(np>0&&np<gn){for(var cX=np;cX<gn;cX++){V.textPagesReceived.push(cX);}}}V.length=2;h.aK('textPagesReceived',V);return;}var iC=true;var IX=false;for(var G=0;G<np;G++){if(Array.prototype.indexOf){if(zn.indexOf(G)<0){iC=false;IX=true;break;}}else{if(IPCC.Web.kK(zn,G)<0){IX=true;break;}}}if(IX){h.QR(G,undefined,gn);}else if(np<gn){for(var bo=0;bo<gn;bo++){if(Array.prototype.indexOf){if(mX.indexOf(bo)<0){iC=false;break;}}else{if(IPCC.Web.kK(mX,bo)<0){iC=false;break;}}}if(!iC){IX=true;h.QR(bo,undefined,gn);}else{h.QR(np,undefined,gn);}}else{IX=false;}};function Qc(gn){var Uu=[],cX;if(mX.length>0){var iC=true;for(cX=0;cX<gn;cX++){iC=true;if(Array.prototype.indexOf){if(mX.indexOf(cX)<0){iC=false;}}else{if(IPCC.Web.kK(mX,cX)<0){iC=false;}}if(!iC){mX.push(cX);DM.push(cX);Uu.push(cX);}}}else{for(cX=0;cX<gn;cX++){mX.push(cX);DM.push(cX);Uu.push(cX);}}return Uu;};this.QR=function(afM,amV,gn){Xy=true;var bQ;if(!isNaN(afM)){bQ=afM;}else{bQ=0;}var Et;if(!isNaN(gn)){Et=gn;}var cU;if(!isNaN(amV)){cU=amV;}else if(!isNaN(Et)){cU=Et-1;}else{Et=gn;if(!isNaN(Et)){cU=Et-1;}}if(isNaN(cU)){cU=bQ+1;}if(cU-bQ>9){cU=bQ+9;}function QI(bm){var Tk=np;var Ww=[];var iC=true;var am;for(var al=0;al<bm.pages.length;al++){if(Array.prototype.indexOf){if(zn.indexOf(bm.pages[al].number)<0){iC=false;}}else{if(IPCC.Web.kK(zn,bm.pages[al].number)<0){iC=false;}}if(!iC){zn.push(bm.pages[al].number);if(h.cc.iP(bm.pages[al].number).cB().yS()===false){am=h.cc.iP(bm.pages[al].number);am.aeu(bm.pages[al]);am.aby(bm.pages[al]);am.ahq(bm.pages[al].markup,bm.pages[al].height,bm.pages[al].width);}np++;Ww.push(bm.pages[al].number);mX.push(bm.pages[al].number);if(!bm.pages[al].text){DM.push(bm.pages[al].number);}}}var V={};if(bm.hasOwnProperty("errorCode")){V.error=0;h.pageExtractionFailed=true;V.textPagesReceived=Ww;V.length=2;for(var zv=fZ.startPage;zv<fZ.lastPage+1;zv++){iC=true;if(Array.prototype.indexOf){if(mX.indexOf(zv)<0){iC=false;}}else{if(IPCC.Web.kK(mX,zv)<0){iC=false;}}if(!iC){mX.push(zv);DM.push(zv);V.textPagesReceived.push(zv);}}h.aK('textPagesReceived',V);fZ.stopRequests=true;return;}if(np>Tk){V.textPagesReceived=Ww;V.length=2;V.error=0;}var pR=fZ.lastTimeout;if(fZ.startPage===bQ&&fZ.lastPage===cU&&np===Tk){if(fZ.requestCount<25){pR=pR+1000;fZ.requestCount++;}else{V.error=0;V.textPagesReceived=[];V.length=2;iC=true;var cX;for(cX=fZ.startPage;cX<fZ.lastPage+1;cX++){iC=true;if(Array.prototype.indexOf){if(mX.indexOf(cX)<0){iC=false;}}else{if(IPCC.Web.kK(mX,cX)<0){iC=false;}}if(!iC){mX.push(cX);DM.push(cX);V.textPagesReceived.push(cX);}}if(V.textPagesReceived.length===0){if(np>0&&np<gn){for(cX=np;cX<gn;cX++){V.textPagesReceived.push(cX);}}}fZ.stopRequests=true;h.aK('textPagesReceived',V);return;}}else{pR=1000;fZ.requestCount=0;}fZ.lastTimeout=pR;fZ.startPage=bQ;fZ.lastPage=cU;setTimeout(function(){h.aBk(gn);},pR);if(np>Tk){h.aK('textPagesReceived',V);}};function eZ(aT){var V={},gu,aC;try{var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");if(nF==='true'){var ut=IPCC.Web.gi.pI.uw(aT.getResponseHeader("Accusoft-Data-SK"));var bF=IPCC.Web.Gj(ut,h.je);var fC=IPCC.Web.IW(aT);var uN=IPCC.Web.Ei(fC,bF,h.je);gu=IPCC.Web.gi.JI.nk(uN);}else{gu=aT.responseText;}aC=JSON.parse(gu);QI(aC);}catch(e){V.error= -1;Qc(gn);V.textPagesReceived=[];V.length=2;h.aK('textPagesReceived',V);return;}};function ft(aC){var V={},gL;try{gL=aC.response.status;if(aC.response.responseText){aC=JSON.parse(aC.response.responseText);if(aC.hasOwnProperty("errorCode")){V.error=0;if(np>0){if(aC.pages){if(aC.pages.length>0){QI(aC);return;}}}else{V.error= -1;}if(mX.length===0){V.error= -1;}h.pageExtractionFailed=true;V.textPagesReceived=[];V.length=2;V.textPagesReceived=Qc(gn);h.aK('textPagesReceived',V);return;}else{throw new IPCC.Web.UI.ImGearHttpException(gL,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(gL,"Unable to obtain text");}}catch(e){V.error= -1;Qc(gn);V.textPagesReceived=[];V.length=2;h.aK('textPagesReceived',V);return;}};var ip=iO;var gQ=h.qb;if(!(/^[\x00-\x7F]*$/.test(ip))){ip='e'+gv;}else{ip='u'+ip;}var bd;if(h.hQ()){bd=gQ+'/Document/q/'+bQ.toString()+'-'+cU.toString()+'/Text?DocumentID='+ip+'&iv='+h.qW;}else{bd=gQ+'/Document/q/'+bQ.toString()+'-'+cU.toString()+'/Text?DocumentID='+ip;}IPCC.C.mD.eT({method:'GET',url:bd,headers:{'accept':'application/json'}}).then(eZ,ft);};return this;};EK.encodeDocumentIdentifier=function(iO){var gv;if(iO!==undefined){gv=IPCC.fT.rU(iO);}return gv;};EK.decodeDocumentIdentifier=function(gv){var abO;if(gv!==undefined){abO=IPCC.fT.GE(gv);}return abO;};EK.prototype={get_documentIdentifier:function(){var au=this.Ji();return au;},get_encodedDocumentIdentifier:function(){var au=this.Qp();return au;},get_pages:function(){return this.ajM();},get_pageCountStatus:function(){var r=this.aqd();return r;},set_pageCountStatus:function(value){this.aHr(value);},get_pageCount:function(){var r=this.aqz();return r;},get_includeAllPages:function(){try{var au=this.aEa();return au;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aAW(value);}catch(e){throw e;}},get_encryption:function(){var au=this.hQ();return au;},set_encryption:function(value){this.lM(value);},add_pageChanged:function(handler){this.Ih(handler);},remove_pageChanged:function(handler){this.It(handler);},add_pageRemoved:function(handler){this.Hx(handler);},remove_pageRemoved:function(handler){this.Hc(handler);},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HO(handler);},add_pageOpenFailed:function(handler){this.Ho(handler);},remove_pageOpenFailed:function(handler){this.Ik(handler);},get_textRequestInfo:function(){try{var au=this.aqD();return au;}catch(e){throw e;}},get_pagesWithText:function(){try{var au=this.arh();return au;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var au=this.apt();return au;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var au=this.aoT();return au;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.atx(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.awf(handler);}catch(e){this.aV('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.jH(handler);},remove_propertyChanged:function(handler){this.nn(handler);}};EK.registerClass=bY;EK.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=EK;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Pz=function(){var ja=[];var ai=new IPCC.Web.UI.hj();var h=this;function aqH(bV,V){if(V){var PE=new IPCC.Web.UI.ImGearDocumentEventArgs();PE.document=bV;PE.propertyName=V.get_propertyName();PE.length=2;h.aK('documentChanged',PE);}};this.Yt=function(aAm){this.apm(ja.length,aAm);};this.apm=function(bv,aZ){var bo;var dn=ja.length;if(bv>ja.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'document index is out of range');}for(bo=0;bo<dn;bo++){if(ja[bo]===aZ){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aje=ai.getHandler('pageAdded');if(aje){aZ.add_pageAdded(aje);}var ahR=ai.getHandler('pageRemoved');if(ahR){aZ.add_pageRemoved(ahR);}var aiO=ai.getHandler('pageChanged');if(aiO){aZ.add_pageChanged(aiO);}aZ.add_propertyChanged(aqH);ja.splice(bv,0,aZ);var V=new IPCC.Web.UI.ImGearDocumentEventArgs();V.imGearDocument=aZ;V.index=bv;V.length=1;this.aK('documentAdded',V);};function lV(bv){if(bv>ja.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'document index is out of range');}};this.Re=function(bv){lV(bv);return ja[bv];};this.eQ=function(){return ja.length;};this.aIs=function(hT,dp){var aee=[].concat(ja);var G;for(G=0;G<aee.length;G++){hT.call(dp,aee[G],G,this);}};this.aak=function(bv){lV(bv);var V=new IPCC.Web.UI.ImGearDocumentEventArgs();V.imGearDocument=ja[bv];V.length=1;ja[bv].get_pages().removeAllPages();ja.splice(bv,1);this.aK('documentRemoved',V);};this.avE=function(){var G=0;while(ja.length>0){this.aak(G);}};this.atp=function(T){ai.addHandler('documentAdded',T);};this.awJ=function(T){ai.removeHandler('documentAdded',T);};this.auJ=function(T){ai.addHandler('documentRemoved',T);};this.ayf=function(T){ai.removeHandler('documentRemoved',T);};this.auV=function(T){ai.addHandler('documentChanged',T);};this.awp=function(T){ai.removeHandler('documentChanged',T);};this.Hd=function(T){ai.addHandler('pageAdded',T);};this.HO=function(T){ai.removeHandler('pageAdded',T);for(var bo=0;bo<ja.length;bo++){ja[bo].remove_pageAdded(T);}};this.Ih=function(T){ai.addHandler('pageChanged',T);};this.It=function(T){ai.removeHandler('pageChanged',T);for(var bo=0;bo<ja.length;bo++){ja[bo].remove_pageChanged(T);}};this.Hx=function(T){ai.addHandler('pageRemoved',T);};this.Hc=function(T){ai.removeHandler('pageRemoved',T);for(var bo=0;bo<ja.length;bo++){ja[bo].remove_pageRemoved(T);}};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){try{T(h,V);}catch(e){IPCC.jb.Mj('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};Pz.prototype={addDocument:function(imGearDocument){this.Yt(imGearDocument);},insertDocument:function(index,imGearDocument){this.apm(index,imGearDocument);},forEach:function(method,context){this.kR(method,context);},getDocument:function(index){return this.Re(index);},get_length:function(){return this.eQ();},removeDocument:function(imGearDocument){this.aak(imGearDocument);},removeAllDocuments:function(){this.avE();},add_documentAdded:function(handler){this.atp(handler);},remove_documentAdded:function(handler){this.awJ(handler);},add_documentRemoved:function(handler){this.auJ(handler);},remove_documentRemoved:function(handler){this.ayf(handler);},add_documentChanged:function(handler){this.auV(handler);},remove_documentChanged:function(handler){this.awp(handler);},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HO(handler);},add_pageRemoved:function(handler){this.Hx(handler);},remove_pageRemoved:function(handler){this.Hc(handler);},add_pageChanged:function(handler){this.Ih(handler);},remove_pageChanged:function(handler){this.It(handler);}};Pz.registerClass=bY;Pz.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=Pz;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var PQ=function(){return this;};PQ.registerClass=bY;PQ.prototype={};PQ.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=PQ;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Po=function(){return this;};Po.registerClass=bY;Po.prototype={};Po.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=Po;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var arD=function(km){var bi=0,de=0,aO=0,by=0,kS=km.href||"",aqL=km.borderStyle||"Solid",lL=km.borderThickness||0,BF=km.borderPattern||[1],Io=km.borderHorizontalRadius||0,GP=km.borderHorizontalRadius||0,nL=km.borderColor||"#0000FF",pW=km.borderOpacity||255,J,R;if(typeof pW==='string'){pW=parseInt(pW,10);}if(km.rectangle){bi=km.rectangle.x;de=km.rectangle.y;aO=km.rectangle.width;by=km.rectangle.height;}J=new IPCC.Web.UI.Rectangle(bi,de,aO,by);this.fJ=function(){var Yl=new IPCC.Web.UI.Rectangle(J.x,J.y,J.width,J.height);return Yl;};this.EN=function(lZ){J.x=lZ.x;J.y=lZ.y;J.width=lZ.width;J.height=lZ.height;};this.ajH=function(){return kS;};this.aDt=function(){return aqL;};this.aFo=function(){return lL;};this.aDl=function(){return BF;};this.aFR=function(){return Io;};this.aFq=function(){return GP;};this.aFv=function(){return nL;};this.aFC=function(){return pW;};this.OQ=function(){return R;};this.aBP=function(aDW){R=aDW;};this.aoY=function(){return IPCC.C.ang(kS);};};module.exports=arD;},{}],84:[function(require,module,exports){var hj=function hj(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.FZ={};};hj.prototype.cG=function(dz,T){var cq=this.aaZ(dz,true);cq[cq.length]=T;};hj.prototype.addHandler=function(dz,T){this.cG(dz,T);};hj.prototype.ck=function(dz,T){var sL=this.aaZ(dz);if(!sL){return;}var bv=IPCC.aaQ(sL,T);if(bv>=0){sL.splice(bv,1);}};hj.prototype.removeHandler=function(dz,T){this.ck(dz,T);};hj.prototype.getHandler=function(dz){var sL=this.aaZ(dz);if(!sL||(sL.length===0)){return null;}var cq=sL.slice();sL=cq;return function(source,args){for(var G=0,pG=sL.length;G<pG;G++){sL[G](source,args);}};};hj.prototype.aaZ=function(dz,ayR){if(!this.FZ[dz]){if(!ayR){return null;}this.FZ[dz]=[];}return this.FZ[dz];};module.exports=hj;},{}],85:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Dj=function(message,errorInfo){this.message=message;var h=this;if(errorInfo){for(var ZJ in errorInfo){if(errorInfo.hasOwnProperty(ZJ)){h[ZJ]=errorInfo[ZJ];}}}};Dj.prototype=new Error();Dj.registerClass=bY;Dj.registerClass('IPCC.Web.UI.ImGearException');var DX=function(statusCode,message,customErrorCode){var hu="IPCC.Web.UI.ImGearHttpException: ";if(message){hu+=message;}this.message=hu;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};DX.prototype=new Error();DX.registerClass=bY;DX.registerClass('IPCC.Web.UI.ImGearHttpException');var sN=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.jO.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.xT(IPCC.jO.paramName,paramName);}}this.message=hu;this.paramName=paramName;};sN.prototype=new Error();sN.registerClass=bY;sN.registerClass('IPCC.Web.UI.ImGearArgumentException');var EF=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.jO.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.xT(IPCC.Res.paramName,paramName);}}this.message=hu;this.paramName=paramName;};EF.prototype=new Error();EF.registerClass=bY;EF.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var qo=function(paramName,actualValue,message){var hu="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.jO.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.xT(IPCC.jO.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){hu+="\n"+IPCC.Web.xT(IPCC.jO.actualValue,actualValue);}this.message=hu;this.paramName=paramName;this.actualValue=actualValue;};qo.prototype=new Error();qo.registerClass=bY;qo.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var zH=function(paramName,actualType,expectedType,message){var hu="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){hu+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){hu+=IPCC.Web.xT(IPCC.jO.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{hu+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{hu+=IPCC.jO.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.xT(IPCC.jO.paramName,paramName);}}this.message=hu;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};zH.prototype=new Error();zH.registerClass=bY;zH.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var EB=function(paramName,message){var hu="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.jO.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hu+="\n"+IPCC.Web.xT(IPCC.Res.paramName,paramName);}}this.message=hu;this.paramName=paramName;};EB.prototype=new Error();EB.registerClass=bY;EB.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Ec=function(message){var hu="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.jO.invalidOperation);this.message=hu;};Ec.prototype=new Error();Ec.registerClass=bY;Ec.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Dk=function(message){var hu="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.jO.notImplemented);this.message=hu;};Dk.prototype=new Error();Dk.registerClass=bY;Dk.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var EV=function(message){var hu="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.jO.parameterCount);this.message=hu;};EV.prototype=new Error();EV.registerClass=bY;EV.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={Dj:Dj,DX:DX,sN:sN,EF:EF,qo:qo,zH:zH,EB:EB,Ec:Ec,Dk:Dk,EV:EV};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var atd=function(){var FE=[];this.ava=function(ati){FE.push(ati);};this.dh=function(){return FE.length;};this.kR=function(hT,dp){IPCC.C.forEach(FE,hT,dp);};this.awA=function(){if(FE.length<1){return;}FE=[];};return this;};module.exports=atd;},{}],87:[function(require,module,exports){var atb=function(){var Fm=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Jp=function(){return Fm;};};module.exports=atb;},{}],88:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Pf=function(aG){this.aZ=undefined;var aa=0;var aA=0,anj=0,ank=0;var bM=0,akh=0,akr=0;var h=this;var ai=new IPCC.Web.UI.hj();this.aHt=undefined;this.fZ={qk:0,aeb:false,tc:1000,Lo:false};var dW=new IPCC.Web.UI.ImGearTextPage();var Rx=new IPCC.Web.UI.ImGearHyperlinkPage();var lQ=0;var oc=false;var CF=false,Dz=0,Ej=0;function aiS(o){return!isNaN(o-0);};if(aG.pageNumber!==undefined){if(aiS(aG.pageNumber)){aa=aG.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.oB=function(){return aa;};this.aGW=function(H){if(aiS(aG.pageNumber)){aa=H;}};this.lq=function(){return aA;};function ajb(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}var atu=dW.hl();var qy=aA/Dz,nB=bM/Ej;atu.ayW(qy,nB);};function aiC(){var Fm=Rx.Jp();var qy=aA/Dz,nB=bM/Ej;Fm.kR(function(gM){gM.EN(gM.fJ().scale(qy,nB));var akb=gM.OQ();akb.set_rectangle(akb.get_rectangle().scale(qy,nB));});};this.Mz=function(H){aA=H;if(CF&&aA&&aA!==Dz&&bM&&bM!==Ej){ajb();aiC();CF=false;}};this.iT=function(){return bM;};this.NK=function(H){bM=H;if(CF&&aA&&aA!==Dz&&bM&&bM!==Ej){ajb();aiC();CF=false;}};this.ajJ=function(){return anj;};this.ajf=function(H){anj=H;};this.aGw=function(){return akh;};this.aix=function(H){akh=H;};this.aIb=function(){return ank;};this.aHy=function(H){ank=H;};this.aGD=function(){return akr;};this.aIn=function(H){akr=H;};this.aBf=function(){return this.aZ;};this.cB=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}return dW;};this.lh=function(){return lQ;};this.vA=function(H){if(lQ===H){return;}if(isNaN(H)){return;}lQ=H;this.cs('serviceResponseTimeout');};this.hQ=function(){return oc;};this.lM=function(H){oc=H;};this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.zo=function(T){ai.addHandler('textPageReady',T);};this.GH=function(T){ai.removeHandler('textPageReady',T);};this.akT=function(){return Rx;};this.WK=function(T){ai.addHandler('hyperlinkPageReady',T);};this.acy=function(T){ai.removeHandler('hyperlinkPageReady',T);};this.AA=function(T){ai.cG('textExtractionFailed',T);};this.FG=function(T){ai.ck('textExtractionFailed',T);};this.aeu=function(hw){if(aA===0&&bM===0){CF=true;Dz=hw.width;Ej=hw.height;}};this.aby=function(hw){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}dW.aDy(hw.width);dW.aCw(hw.height);if(dW.hl().eQ()>0){return;}else if(hw.errorCode){var mW=new IPCC.Web.UI.ImGearException(hw.errorDescription,{name:'Text Extraction'});var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=mW;dM.pageNumber=h.get_pageNumber();h.aK('textExtractionFailed',dM);return;}var arT=dW.hl();var KK=false;var ace;function GA(ZN){return ZN;};var nB=1;var qy=1;if(hw.height&&hw.height>0&&bM>0){if(hw.height!==bM){nB=bM/hw.height;}}if(hw.width&&hw.width>0&&aA>0){if(hw.width!==aA){qy=aA/hw.width;}}var ga;var aaF= -1;var KD;var jj,Ac;for(var G=0;G<hw.rectangles.length;G++){jj=hw.rectangles[G];Ac=GA(hw.text[G]);KK=false;if(jj[2]===0){Ac="\n";KK=true;if(G>0){ace=hw.rectangles[G-1];jj[2]=ace[2];}}if(qy===1&&nB===1){KD=new IPCC.Web.UI.ImGearTextCharacter(jj[0],jj[1],jj[2],jj[3],Ac,KK);}else{KD=new IPCC.Web.UI.ImGearTextCharacter(jj[0]*qy,jj[1]*nB,jj[2]*qy,jj[3]*nB,Ac,KK);}if(KD){arT.aoW(KD);}if(ga===undefined||aaF!==jj[1]||jj[0]<ga.fJ().x){if(ga){dW.Ub().aeA(ga);}ga=new IPCC.Web.UI.ImGearTextSection();ga.EN(new IPCC.Web.UI.Rectangle(jj[0],jj[1],jj[2],jj[3]));ga.aEs(G);}else{if(jj[0]+jj[2]-ga.fJ().x>ga.fJ().width){ga.fJ().width=jj[0]+jj[2]-ga.fJ().x;}}ga.aEu(G);aaF=jj[1];}if(ga){dW.Ub().aeA(ga);}dW.aCt(hw.text);if(hw.text.length>0){dW.NF(true);h.aK('textPageReady',{pageNumber:h.oB(),containsText:true});}else{dW.NF(false);h.aK('textPageReady',{pageNumber:h.oB(),containsText:false});}};this.ahq=function(alD,KQ,Lc){if(!alD){return;}Rx.Jp().awA();var nB=1;var qy=1;if(KQ&&KQ>0&&bM>0){if(KQ!==bM){nB=bM/KQ;}}if(Lc&&Lc>0&&aA>0){if(Lc!==aA){qy=aA/Lc;}}IPCC.C.forEach(alD,function(adc){var gM;switch(adc.markType){case "DocumentHyperlink":gM=new IPCC.Web.UI.ImGearDocumentHyperlink(adc.properties);gM.EN(gM.fJ().scale(qy,nB));if(!gM.aoY()){Rx.Jp().ava(gM);}break;default:break;}});h.aK('hyperlinkPageReady',{pageNumber:h.oB()});};this.apr=function(){h.xu();};this.xu=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}if(!h.aZ){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(dW.yS()){return;}var adb=true;if(h.lh()===0){adb=false;}function QI(bm){if(bm.pages){var bj;if(bm.pages.length>0){if(bm.pages[0].number!==h.oB()){for(var G=0;G<bm.pages.length;G++){if(bm.pages[G].number===h.oB()){bj=G;break;}}if(!bj){h.fZ.Lo=false;return;}}else{bj=0;}var hw=bm.pages[bj];h.fZ.Lo=true;if(bm.pages[bj].text&&bm.pages[bj].text.length>0){dW.NF(true);}else{dW.NF(false);}h.fZ.tc=1000;h.aeu(hw);h.aby(hw);h.ahq(hw.markup,hw.height,hw.width);return;}}var pR=h.fZ.tc;if(!h.fZ.Lo){if(h.fZ.qk<6){if(h.fZ.qk<2){pR=pR+1000;}else{pR=pR+3000;}h.fZ.qk++;h.fZ.tc=pR;setTimeout(h.apr,pR);}else{h.fZ.aeb=true;}}};function eZ(aT){var je=h.aZ.je,aC;try{var gu;var nF=aT.getResponseHeader("Accusoft-Data-Encrypted");if(nF==='true'){var ut=IPCC.Web.gi.pI.uw(aT.getResponseHeader("Accusoft-Data-SK"));var bF=IPCC.Web.Gj(ut,je);var fC=IPCC.Web.IW(aT);var uN=IPCC.Web.Ei(fC,bF,je);gu=IPCC.Web.gi.JI.nk(uN);}else{gu=aT.responseText;}aC=JSON.parse(gu);QI(aC);}catch(e){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=h.get_pageNumber();h.aK('textExtractionFailed',dM);return;}};function ft(aC){try{if(!aC.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aC.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,"Unable to obtain text, Error from the service = "+aC.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aC.response.status,"Unable to obtain text from the service");}}}catch(e){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=h.get_pageNumber();h.aK('textExtractionFailed',dM);return;}};var bQ=h.get_pageNumber();var ip=h.aZ.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(ip))){ip='e'+h.aZ.get_encodedDocumentIdentifier();}else{ip='u'+encodeURIComponent(ip);}var gQ=h.aZ.qb;var qW=h.aZ.qW;var bd;if(h.hQ()){bd=gQ+'/Document/q/'+bQ.toString()+'-'+bQ.toString()+'/Text?DocumentID='+ip+'&iv='+qW;}else{bd=gQ+'/Document/q/'+bQ.toString()+'-'+bQ.toString()+'/Text?DocumentID='+ip;}var he={method:'GET',url:bd,headers:{'accept':'application/json'}};if(adb===true){he.timeout=h.lh();}IPCC.C.mD.eT(he).then(eZ,ft);};this.cB=function(){if(!dW){dW=new IPCC.Web.UI.ImGearTextPage();}return dW;};this.aKB=function(H){if(typeof H.mR!=='function'){return;}dW=H;};this.aaH=function(){dW=undefined;h.fZ={qk:0,aeb:false,tc:1000,Lo:false};CF=false;Dz=0;Ej=0;};this.OY=function(Ai,As){var h=this;function eZ(aT){var aC;aC=JSON.parse(aT.responseText);if(aC.imageWidth&&aC.imageHeight){h.Mz(aC.imageWidth);h.NK(aC.imageHeight);Ai(aC.imageWidth,aC.imageHeight);}else{As("Unable to obtain document information from the server");}};function ft(aC){As("Unable to obtain document information from the server");};if(h.lq()>0||h.iT()>0){Ai(h.lq(),h.iT());}else{var qm=IPCC.fT.rU(h.aZ.get_documentIdentifier());if(!qm||qm===""){As("Invalid encoded Identifier");}var tz='';if(!IPCC.wl.JN()){tz='&ContentType=png';}var bd;if(!(/^[\x00-\x7F]*$/.test(qm))){bd=h.aZ.qb+'/Page/q/'+(h.get_pageNumber())+'/Attributes?DocumentID=e'+qm+tz;}else{bd=h.aZ.qb+'/Page/q/'+(h.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(h.aZ.get_documentIdentifier())+tz;}IPCC.C.mD.eT({method:'GET',url:bd,headers:{'Content-Type':'application/json'}}).then(eZ,ft);}};this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){try{T(h,V);}catch(e){IPCC.jb.Mj('event raise, ImGearPage, error: '+e.message);}}};return this;};Pf.prototype={get_pageNumber:function(){var au=this.oB();return au;},get_pageWidth:function(){var au=this.lq();return au;},get_pageHeight:function(){var au=this.iT();return au;},get_textPage:function(){var au=this.cB();return au;},get_encryption:function(){var au=this.hQ();return au;},set_encryption:function(value){this.lM(value);},get_hyperlinkPage:function(){return this.akT();},get_document:function(){var au=this.aBf();return au;},add_propertyChanged:function(handler){this.jH(handler);},remove_propertyChanged:function(handler){this.nn(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.OY(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Pf.registerClass=bY;Pf.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Pf;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Py=function(){var h=this;var cc=[];var ai=new IPCC.Web.UI.hj();this.aBo=false;this.aCk=true;this.aZ=undefined;this.afE=function(al){this.anl(cc.length,al);};function lV(bv){if(bv>cc.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'page index is out of range in the page collection');}};this.anl=function(bv,al){var bo;var dn=cc.length;if(bv>cc.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'index of the page Collection is out of range');}if(h.aCk&&h.aBo){if(dn>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bo=0;bo<dn;bo++){if(cc[bo]===al){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(h.aZ){if(!al.aZ){al.aZ=h.aZ;}}al.add_propertyChanged(JY);cc.splice(bv,0,al);var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=al;V.length=1;h.aK('pageAdded',V);};this.iP=function(bv){lV(bv);var es=cc[bv];return es;};this.aEw=function(bv,al){lV(bv);var TJ=cc[bv];if(TJ===al){return;}cc[bv]=al;var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=al;V.length=1;this.aK('pageAdded',V);TJ.remove_propertyChanged(JY);var zD=new IPCC.Web.UI.ImGearPageEventArgs();zD.imGearPage=TJ;zD.length=1;this.aK('pageRemoved',zD);};this.eQ=function(){return cc.length;};this.kR=function(hT,dp){var aeB=[].concat(cc);var G;for(G=0;G<aeB.length;G++){hT.call(dp,aeB[G],G,this);}};this.abU=function(bv){lV(bv);var V=new IPCC.Web.UI.ImGearPageEventArgs();V.imGearPage=cc[bv];cc[bv].remove_propertyChanged(JY);V.length=1;cc.splice(bv,1);h.aK('pageRemoved',V);};this.aHS=function(al){var dh=cc.length;for(var G=0;G<dh;G++){if(al===cc[G]){return G;}}return-1;};this.awx=function(){var G=0;while(cc.length>0){this.abU(G);}};function JY(bV,V){var zD=new IPCC.Web.UI.ImGearPageEventArgs();zD.imGearPage=bV;zD.length=1;h.aK('pageChanged',zD);};this.Hd=function(T){ai.addHandler('pageAdded',T);};this.HO=function(T){ai.removeHandler('pageAdded',T);};this.Ih=function(T){ai.addHandler('pageChanged',T);};this.It=function(T){ai.removeHandler('pageChanged',T);};this.Hx=function(T){ai.addHandler('pageRemoved',T);};this.Hc=function(T){ai.removeHandler('pageRemoved',T);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){try{T(h,V);}catch(e){IPCC.jb.Mj('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Py.prototype={addPage:function(page){this.afE(page);},insertPage:function(index,page){this.anl(index,page);},forEach:function(method,context){this.kR(method,context);},getPage:function(index){return this.iP(index);},setPage:function(index,page){this.aEw(index,page);},get_length:function(){return this.eQ();},removePage:function(index){this.abU(index);},removeAllPages:function(){this.awx();},add_pageAdded:function(handler){this.Hd(handler);},remove_pageAdded:function(handler){this.HO(handler);},add_pageChanged:function(handler){this.Ih(handler);},remove_pageChanged:function(handler){this.It(handler);},add_pageRemoved:function(handler){this.Hx(handler);},remove_pageRemoved:function(handler){this.Hc(handler);}};Py.registerClass=bY;Py.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Py;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var OK=function(){};OK.registerEnum=eN;OK.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};OK.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=OK;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var PF=function(){};PF.registerClass=bY;PF.prototype={};PF.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=PF;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var bY=require('./../../IPCC.Util').regClass;var Sd=function(){return this;};Sd.prototype={};Sd.registerClass=bY;Sd.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=Sd;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var QC=function(){return this;};QC.registerClass=bY;QC.prototype={};QC.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=QC;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var awl=function(bi,de,aO,by,Ac,awN){this.az=new IPCC.Web.UI.Rectangle(bi,de,aO,by);this.kt=Ac;this.Fr=awN;this.aGr=function(){return Ac;};this.tu=function(){var Yl=new IPCC.Web.UI.Rectangle(this.az.x,this.az.y,this.az.width,this.az.height);return Yl;};this.aIr=function(){return this.Fr;};};module.exports=awl;},{}],95:[function(require,module,exports){var auv=function(){var iR=[];this.aoW=function(kM){iR.push(new IPCC.Web.UI.ImGearTextCharacter(kM.az.x,kM.az.y,kM.az.width,kM.az.height,kM.kt,kM.Fr));};this.aGS=function(anR){function lp(kM){iR.push(kM);};anR.forEach(lp,{});};this.apn=function(){var acB=[];for(var bo=0;bo<this.eQ();bo++){var PY=this.lo(bo).az;var J=[];J.push(PY.x);J.push(PY.y);J.push(PY.width);J.push(PY.height);acB.push(J);}return acB;};this.aFm=function(bv,aex){var bo;var dn=iR.length;if(bv>iR.length||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv,'index of theText Character Collection is out of range');}for(bo=0;bo<dn;bo++){if(iR[bo]===aex){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bm Character instance in a kM collection).');}}iR.splice(bv,0,aex);};this.ayW=function(ahg,ahe){IPCC.C.forEach(iR,function(kt){kt.az.width=kt.az.width*ahg;kt.az.height=kt.az.height*ahe;kt.az.x=kt.az.x*ahg;kt.az.y=kt.az.y*ahe;});};this.kR=function(hT,dp){var abG=[].concat(iR);var G;for(G=0;G<abG.length;G++){hT.call(dp,new IPCC.Web.UI.ImGearTextCharacter(abG[G].x,abG[G].y),G,this);}};function lV(bv){if(bv>iR.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.lo=function(bv){lV(bv);var qI=iR[bv];return new IPCC.Web.UI.ImGearTextCharacter(qI.az.x,qI.az.y,qI.az.width,qI.az.height,qI.kt,qI.Fr);};this.aET=function(bv,kM){lV(bv);var Cn=iR[bv];if(Cn.az.x===kM.az.x&&Cn.az.y===kM.y&&Cn.az.width===kM.az.width&&Cn.az.height===kM.az.height&&Cn.kt===kM.kt&&Cn.Fr===kM.Fr){return;}iR[bv]=kM;};this.eQ=function(){return iR.length;};this.aJE=function(bv){lV(bv);iR.splice(bv,1);};this.aFO=function(){if(iR.length<1){return;}iR=[];};return this;};module.exports=auv;},{}],96:[function(require,module,exports){var ato=function(){var aoj=new IPCC.Web.UI.ImGearTextCharacterCollection();var WT=false;var ahF=false;var abi="";var ww=new IPCC.Web.UI.ImGearTextSectionCollection();var Zy=false;var aO=0;var by=0;this.hl=function(){return aoj;};this.mR=function(){return WT;};this.NF=function(H){ahF=true;if(H===WT){return;}if((H===true)||(H===false)){WT=H;}};this.yS=function(){return ahF;};this.Cd=function(){return abi;};this.aCt=function(H){if(H===abi){return;}abi=H;};this.Ub=function(){return ww;};this.aDq=function(){return Zy;};this.afT=function(H){if(H===Zy){return;}if((H===true)||(H===false)){Zy=H;}};this.aoz=function(){return aO;};this.aDy=function(H){if(H===aO){return;}aO=H;};this.aEq=function(){return by;};this.aCw=function(H){if(H===by){return;}by=H;};};module.exports=ato;},{}],97:[function(require,module,exports){var auX=function(){var J=null;var bQ=0;var cU=0;this.fJ=function(){return J;};this.EN=function(H){J=H;};this.akn=function(){return bQ;};this.aEs=function(H){bQ=H;};this.alx=function(){return cU;};this.aEu=function(H){cU=H;};};module.exports=auX;},{}],98:[function(require,module,exports){var atB=function(){var ww=[];this.aeA=function(ga){ww.push(ga);};function lV(bv){if(bv>ww.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.aoe=function(bv){lV(bv);return ww[bv];};this.eQ=function(){return ww.length;};return this;};module.exports=atB;},{}],99:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var LG=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};LG.registerEnum=eN;LG.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};LG.registerEnum("IPCC.Web.UI.Key");module.exports=LG;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var NJ=function(){};NJ.registerEnum=eN;NJ.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};NJ.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=NJ;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var MN=function(){};MN.registerEnum=eN;MN.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};MN.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=MN;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var NI=function(){return this;};NI.registerClass=bY;NI.prototype={};NI.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=NI;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Ow=function(type){var av=type;type=undefined;var rX=new Date();var sU=new Date();var ag=null;var J;var as;var dG;var cr=new IPCC.Web.UI.Data();var ai=new IPCC.Web.UI.hj();var h=this;var jm;this.eU=function(kh,df){if((jm&kh)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(df+' is not a valid property for this type of Mark.');}};if(av===IPCC.Web.UI.MarkType.SignatureText){this.lf='#000000';this.hO=IPCC.Web.UI.LineStyle.Solid;this.eK=0;}else{this.lf='#000000';this.hO=IPCC.Web.UI.LineStyle.Solid;this.eK=1;}this.cS=255;this.mA=IPCC.Web.UI.MarkInteractionMode.Full;var lx=false;switch(av){case IPCC.Web.UI.MarkType.Line:lx=true;as=new IPCC.Web.UI.PointCollection();as.addPoint({x:0,y:0});as.addPoint({x:0,y:0});jm=1;this.lf='#18385F';this.eK=6;break;case IPCC.Web.UI.MarkType.Polyline:lx=true;this.rI=false;as=new IPCC.Web.UI.PointCollection();jm=2;this.eK=2;break;case IPCC.Web.UI.MarkType.Rectangle:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=4;this.eF='#FB0404';this.eK=4;break;case IPCC.Web.UI.MarkType.Ellipse:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=8;this.eF='#FB0404';this.eK=4;break;case IPCC.Web.UI.MarkType.Polygon:as=new IPCC.Web.UI.PointCollection();jm=16;break;case IPCC.Web.UI.MarkType.Text:this.AZ='#000000';this.BI=false;this.rF=IPCC.Web.UI.LineStyle.Solid;this.Bf=1;this.mI=new IPCC.Web.UI.Point(0,0);this.CR=IPCC.Web.UI.CalloutType.Triangle;this.xd=false;this.gq='Arial';this.cE=12;this.dg=IPCC.Web.UI.FontStyle.Regular;this.hO=IPCC.Web.UI.LineStyle.Solid;this.hJ=0;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bm='';this.iI=IPCC.Web.UI.HorizontalAlignment.Left;this.wx=IPCC.Web.UI.VerticalAlignment.Top;this.pQ='#000000';this.Bx=255;this.Co=IPCC.Web.UI.Orientation.TopLeft;this.dZ=[];this.eK=4;this.cS=127;this.eF='#FFFFFF';jm=32;break;case IPCC.Web.UI.MarkType.Stamp:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=128;break;case IPCC.Web.UI.MarkType.Highlight:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bS='';this.jI='n';this.bQ=0;this.dE='';this.cz=0;this.cS=127;jm=256;break;case IPCC.Web.UI.MarkType.HighlightText:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bS='';this.jI='n';this.bQ=0;this.dE='';this.cz=0;this.cS=127;this.eF='#FFFF00';jm=512;this.dZ=[];this.aj=[];break;case IPCC.Web.UI.MarkType.Freehand:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=64;this.eK=4;this.lf='#000000';this.jl=false;this.UE=1;this.VR=1;this.wn='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=1024;this.iI=IPCC.Web.UI.HorizontalAlignment.Center;this.eK=4;this.lf='#000000';this.jl=false;this.UE=1;this.VR=1;this.wn='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=2048;this.iI=IPCC.Web.UI.HorizontalAlignment.Center;this.bm='John Doe';this.pQ='#000000';this.eF='#000000';this.gq="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=4096;this.gq='Arial';this.cE=8;this.dg=IPCC.Web.UI.FontStyle.Regular;this.bm='';this.iI=IPCC.Web.UI.HorizontalAlignment.Center;this.wx=IPCC.Web.UI.VerticalAlignment.Center;this.eF='#000000';this.pQ='#FFFFFF';this.Bx=255;this.Co=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aj=[];this.bS='';this.eu='';this.bm='';this.gq='Arial';this.cE=8;this.bQ=0;this.cz=0;jm=8192;this.dZ=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kS='';this.eK=2;this.dE='';this.bS='';this.jI='n';this.bQ=0;this.cz=0;this.eF='#3B00FF';jm=1<<14;this.dZ=[];this.aj=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J=new IPCC.Web.UI.Rectangle(0,0,0,0);jm=16384;this.bL='';this.qZ='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.kS='';this.Rv='';this.BF='';this.Io=0;this.GP=0;this.pW=255;jm=32768;break;case IPCC.Web.UI.MarkType.TextLine:jm=65536;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.iI=IPCC.Web.UI.HorizontalAlignment.Left;this.bm='';this.pQ='#000000';this.gq="Courier New";this.eK=1;this.jl=true;this.hJ=0;this.Bp=0;this.IA=false;var jv=IPCC.C.vr("M",this.gq,{wK:'pre'});this.zA=jv.width;this.zQ=jv.height;this.jf=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.AZ='#000000';this.BI=false;this.rF=IPCC.Web.UI.LineStyle.Solid;this.Bf=1;this.mI=new IPCC.Web.UI.Point(0,0);this.CR=IPCC.Web.UI.CalloutType.Triangle;this.xd=false;this.gq='Courier New';this.ih=0;this.hJ=0;this.cE=12;this.dg=IPCC.Web.UI.FontStyle.Regular;J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bm='';this.iI=IPCC.Web.UI.HorizontalAlignment.Left;this.wx=IPCC.Web.UI.VerticalAlignment.Top;this.pQ='#000000';this.Bx=255;this.Co=IPCC.Web.UI.Orientation.TopLeft;this.dZ=[];this.eK=1;this.jl=false;this.eF='#FFFFFF';this.cS=0;jm=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:J=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bS='';this.lf='#000000';this.eK=2;this.jI='n';this.bQ=0;this.dE='';this.cz=0;jm=1<<17;this.dZ=[];this.aj=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',av);}if(av!==IPCC.Web.UI.MarkType.SignaturePath&&av!==IPCC.Web.UI.MarkType.Freehand&&av!==IPCC.Web.UI.MarkType.SignatureText&&av!==IPCC.Web.UI.MarkType.DocumentHyperlink&&av!==IPCC.Web.UI.MarkType.HighlightText&&av!==IPCC.Web.UI.MarkType.Strikethrough&&av!==IPCC.Web.UI.MarkType.TextLine){if(lx){this.IL=15;this.IP=25;this.mb=IPCC.Web.UI.LineHeadType.None;this.Bl='#000000';this.Ib=15;this.GS=25;this.Hl=IPCC.Web.UI.LineHeadType.None;}else{this.IY=true;this.jl=true;if(av===IPCC.Web.UI.MarkType.Highlight){this.jl=false;this.cS=100;}}}this.YS=IPCC.Web.UI.apb++;this.eC=true;this.aD={};this.ci=[];var Lk=false;function aAj(bV,V){h.aK('commentAdded',V);};function azy(bV,V){h.aK('commentRemoved',V);};function Qa(bV,V){h.aK('commentChanged',V);};dG=new IPCC.Web.UI.Conversation(h);dG.add_commentAdded(aAj);dG.add_commentChanged(Qa);dG.add_commentRemoved(azy);this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};function aaO(bV,V){var amf='points';if(av===IPCC.Web.UI.MarkType.Line){amf=V.index===0?'startPoint':'endPoint';}h.cs(amf,V);};if(as){as.add_pointAdded(aaO);as.add_pointChanged(aaO);as.add_pointRemoved(aaO);}this.jc=function(){return av;};this.amy=function(){return rX;};this.agO=function(H){rX=H;};this.alC=function(){return sU;};this.Uc=function(H){sU=H;};this.eI=function(){return ag;};this.mv=function(value){if(ag!==value){ag=value;this.cs('artPage');}};this.jC=function(){return Lk;};this.kJ=function(H){Lk=H;};this.amB=function(){var nd=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(av){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return as.tu();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return J.clone();case IPCC.Web.UI.MarkType.Text:var iB=J.x+J.width,kG=J.y+J.height;var afw=J.x+this.mI.x,afl=J.y+this.mI.y;nd.x=Math.min(J.x,Math.min(iB,afw));nd.y=Math.min(J.y,Math.min(kG,afl));nd.width=Math.max(J.x,Math.max(iB,afw))-nd.x;nd.height=Math.max(J.y,Math.max(kG,afl))-nd.y;break;}return nd;};this.fJ=function(){return J.clone();};this.Av=function(H){this.CI(16384,'image','bL',H);};this.dO=function(){return this.bL;};this.oV=function(){return as;};this.aGy=function(){return dG;};this.yd=function(){return cr;};this.EN=function(H){var sD;if(!J.equals(H)){J=new IPCC.Web.UI.Rectangle(H.x,H.y,H.width,H.height);if(av===IPCC.Web.UI.MarkType.Stamp||av===IPCC.Web.UI.MarkType.SignatureText||av===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sD=0;if(J.width>=J.height){sD=(J.width/14)/2;}else{sD=J.width/15;}if(sD*15>=J.width){sD=(J.width/15)/2;}this.stampSize=Math.round(sD);}else{var textFontSize=(J.width/6);if(textFontSize>J.height){textFontSize=(J.height-(J.height/6));}var mo=this.get_text();if(!mo){mo=(av===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sD=mo.length*textFontSize;if(sD>J.width){textFontSize=((J.width/mo.length));}var Bp=Math.round(textFontSize);this.stampSize=Bp.toString();}}this.cs('rectangle');}};this.nf=function(){return this.YS;};this.FY=function(fE,ek){if(fE!==0||ek!==0){switch(av){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:as.akY(fE,ek);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(av===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bS!==undefined){break;}J.x+=fE;J.y+=ek;this.cs('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.Qr=function(XB){if(this.dZ&&XB!==this.dZ){while(this.dZ.length>0){this.dZ.pop();}if(XB){this.dZ=XB.slice(0);}this.aK('markTextSelectionChanged',{});}};this.Ic=function(T){if(this.dZ){ai.addHandler('markTextSelectionChanged',T);}};this.Hz=function(T){if(this.dZ){ai.removeHandler('markTextSelectionChanged',T);}};this.xf=function(T){ai.addHandler('commentAdded',T);};this.Gl=function(T){ai.removeHandler('commentAdded',T);};this.yT=function(T){ai.addHandler('commentRemoved',T);};this.Gx=function(T){ai.removeHandler('commentRemoved',T);};this.rE=function(T){ai.addHandler('commentChanged',T);};this.tL=function(T){ai.removeHandler('commentChanged',T);};this.jH=function(T){ai.addHandler('propertyChanged',T);};this.nn=function(T){ai.removeHandler('propertyChanged',T);};this.cs=function(df){var T=ai.getHandler('propertyChanged');if(T){T(this,new IPCC.pj(df));}};this.jH(function(R){R.Uc(new Date());});return this;};Ow.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.oV().getPoint(0)+' to '+this.oV().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.oV().eQ()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fJ();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fJ();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fJ();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.oV().eQ()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bm+'", at '+this.fJ();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fJ();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fJ();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fJ();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fJ();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fJ();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fJ();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.wn+'", at '+this.fJ();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.wn+'", at '+this.fJ();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fJ();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fJ();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.fJ();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fJ();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fJ();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.fJ();}return 'Mark';},initializeDates:function(rX,sU){IPCC.aq.jt(rX,"dateCreated");IPCC.aq.jt(sU,"dateModified");this.agO(rX);this.Uc(sU);},get_dateCreated:function(){return this.amy();},get_dateModified:function(){return this.alC();},kc:function(kh,df,lg,H){this.eU(kh,df);if(this[lg]!==H){this[lg]=H;this.cs(df);}},GV:function(kh,df,lg,H){IPCC.aq.St(H,df);this.kc(kh,df,lg,H);},wH:function(kh,df,lg,H){IPCC.aq.gB(H,df);this.kc(kh,df,lg,H);},BU:function(kh,df,lg,H,wY,xJ){IPCC.aq.ki(H,df,wY,xJ);this.kc(kh,df,lg,H);},Ti:function(kh,df,lg,H,wY,xJ){IPCC.aq.nG(H,df,wY,xJ);this.kc(kh,df,lg,H);},CI:function(kh,df,lg,H){IPCC.aq.av(H,df,'string');this.kc(kh,df,lg,H);},uC:function(kh,df,lg,H,iY){IPCC.aq.iY(H,df,iY);this.kc(kh,df,lg,H);},aCW:function(kh,df,lg,H,iY){IPCC.aq.iY(H,df,iY,true);this.kc(kh,df,lg,H);},aDs:function(kh,df,lg,H){IPCC.aq.bK(H,df);this.kc(kh,df,lg,H);},get_artPage:function(){return this.eI();},get_boundingRectangle:function(){return this.amB();},get_selected:function(){var ag=this.eI();if(!ag){return false;}var ee=ag.yh();return ee.contains(this);},set_selected:function(value){var ag=this.eI();if(ag){if(this.mA!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var ee=ag.yh();if(value!==ee.contains(this)){if(value){ee.Pg(this);}else{ee.uc(this);}this.cs('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.eU(32,'calloutLineColor');return this.AZ;},set_calloutLineColor:function(value){this.GV(32,'calloutLineColor','AZ',value);},get_calloutLineIsDistinct:function(){this.eU(32,'calloutLineIsDistinct');return this.BI;},set_calloutLineIsDistinct:function(value){this.kc(32,'calloutLineIsDistinct','BI',value);},get_calloutLineStyle:function(){this.eU(32,'calloutLineStyle');return this.rF;},set_calloutLineStyle:function(value){this.uC(32,'calloutLineStyle','rF',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.eU(32,'calloutLineWidth');return this.Bf;},set_calloutLineWidth:function(value){this.BU(32,'calloutLineWidth','Bf',value,0,50);},get_calloutPoint:function(){this.eU(32,'calloutPoint');return this.mI;},set_calloutPoint:function(value){this.aDs(32,'calloutPoint','mI',value);},get_calloutType:function(){this.eU(32,'calloutType');return this.CR;},set_calloutType:function(value){this.uC(32,'calloutType','CR',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.eU(32,'calloutVisible');return this.xd;},set_calloutVisible:function(value){if(!this.xd&&value&&this.jc()===IPCC.Web.UI.MarkType.Text){if(this.mI.x===0&&this.mI.y===0){var J=this.fJ();this.set_calloutPoint({x:J.width,y:J.height*1.5});}}this.kc(32,'calloutVisible','xd',value);},get_endHeadAngle:function(){this.eU(3,'endHeadAngle');return this.IL;},set_endHeadAngle:function(value){this.BU(3,'endHeadAngle','IL',value,0,180);},get_endHeadLength:function(){this.eU(3,'endHeadLength');return this.IP;},set_endHeadLength:function(value){this.BU(3,'endHeadLength','IP',value,0,100);},get_endHeadType:function(){this.eU(3,'endHeadType');return this.mb;},set_endHeadType:function(value){this.uC(3,'endHeadType','mb',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.eU(1<<14|1<<15,'href');return this.kS;},set_href:function(value){this.CI(1<<14|1<<15,'href','kS',value);},has_unsafe_href:function(){return(! !this.kS&&IPCC.C.ang(this.kS));},get_mask:function(){this.eU(65536,'mask');return this.jf;},set_mask:function(value){this.kc(65536,'mask','jf',value);},get_borderType:function(){this.eU(32768,'borderType');return this.Rv;},set_borderType:function(value){this.CI(32768,'borderType','Rv',value);},get_borderHorizontalRadius:function(){this.eU(32768,'borderHorizontalRadius');return this.Io;},set_borderHorizontalRadius:function(value){this.wH(32768,'borderHorizontalRadius','Io',value);},get_borderVerticalRadius:function(){this.eU(1<<15,'borderVerticalRadius');return this.GP;},set_borderVerticalRadius:function(value){this.wH(32768,'borderVerticalRadius','GP',value);},get_borderOpacity:function(){this.eU(32768,'pW');return this.pW;},set_borderOpacity:function(value){this.Ti(32768,'pW','pW',value,0,255);},get_borderPattern:function(){this.eU(32768,'BF');return this.BF;},set_borderPattern:function(value){this.kc(32768,'BF','BF',value,0,255);},get_fillColor:function(){this.eU(16380+(1<<14),'fillColor');return this.eF;},set_fillColor:function(value){this.GV(16380+(1<<14),'fillColor','eF',value);},get_fillVisible:function(){this.eU(16380,'fillVisible');return this.IY;},set_fillVisible:function(value){this.kc(16380,'fillVisible','IY',value);},get_fontName:function(){this.eU(6176+8192+65536+(1<<18),'fontName');return this.gq;},set_fontName:function(value){this.CI(6176+8192+65536+(1<<18),'fontName','gq',value);if(this.jc()===IPCC.Web.UI.MarkType.SignatureText||this.jc()===IPCC.Web.UI.MarkType.TextLine){var bE=(this.jc()===IPCC.Web.UI.MarkType.TextLine)?{wK:'pre'}:{};var jv=IPCC.C.vr(this.bm,this.gq,bE);this.zA=jv.width;this.zQ=jv.height;}if(this.jc()===IPCC.Web.UI.MarkType.TextLine){this.IA=false;}},get_fontSize:function(){this.eU(32+2048+4096+8192,'fontSize');return this.cE;},set_fontSize:function(value){this.BU(32+2048+4096+8192,'fontSize','cE',value,0.1,288);},get_fontStyle:function(){this.eU(6176+(1<<18),'fontStyle');return this.dg;},set_fontStyle:function(value){this.aCW(6176+(1<<18),'fontStyle','dg',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.eU(3,'headFillColor');return this.Bl;},set_headFillColor:function(value){this.GV(3,'headFillColor','Bl',value);},get_interactionMode:function(){this.eU(~0,'interactionMode');return this.mA;},set_interactionMode:function(value){this.uC(~0,'interactionMode','mA',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.eU(32+65536+(1<<18),'maxLength');return this.hJ;},set_maxLength:function(value){this.wH(32+65536+(1<<18),'maxLength','hJ',value);},get_maxFontSize:function(){this.eU(1<<18,'maxFontSize');return this.ih;},set_maxFontSize:function(value){this.wH(1<<18,'maxFontSize','ih',value);},get_isClosed:function(){this.eU(2,'isClosed');return this.rI;},set_isClosed:function(value){this.kc(2,'isClosed','rI',value);},get_lineColor:function(){return this.lf;},set_lineColor:function(value){this.GV(13567+32768+(1<<17),'lineColor','lf',value);},get_lineStyle:function(){return this.hO;},set_lineStyle:function(value){this.uC(63+32768,'lineStyle','hO',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.eK;},set_lineWidth:function(value){this.BU(13567+32768+(1<<17),'lineWidth','eK',value,0,50);},get_lineVisible:function(){this.eU(172+65536,'lineVisible');return this.jl;},set_lineVisible:function(value){this.kc(172+65536,'lineVisible','jl',value);},get_opacity:function(){return this.cS;},set_opacity:function(value){this.Ti(895+2048+1024,'opacity','cS',value,0,255);},get_points:function(){this.eU(19,'points');return this.oV();},get_conversation:function(){return this.aGy();},get_data:function(){return this.yd();},get_image:function(){this.eU(16384,'image');return this.dO();},set_image:function(value){this.eU(16384,'image');this.Av(value);},get_rectangle:function(){this.eU((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fJ();},set_rectangle:function(value){this.eU((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aq.J(value,'rectangle');this.EN(value);if(this.jc()===IPCC.Web.UI.MarkType.TextLine){this.IA=false;}},get_startHeadAngle:function(){this.eU(3,'startHeadAngle');return this.Ib;},set_startHeadAngle:function(value){this.BU(3,'startHeadAngle','Ib',value,0,180);},get_startHeadLength:function(){this.eU(3,'startHeadLength');return this.GS;},set_startHeadLength:function(value){this.BU(3,'startHeadLength','GS',value,0,100);},get_startHeadType:function(){this.eU(3,'startHeadType');return this.Hl;},set_startHeadType:function(value){this.uC(3,'startHeadType','Hl',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.eU(14496+65536+(1<<17)+(1<<18),'text');return this.bm;},set_text:function(value){if(this.bm===value){return;}this.CI(14496+65536+(1<<17)+(1<<18),'text','bm',value);if(this.jc()===IPCC.Web.UI.MarkType.SignatureText||this.jc()===IPCC.Web.UI.MarkType.TextLine){var bE=(this.jc()===IPCC.Web.UI.MarkType.TextLine)?{wK:'pre'}:{};var jv=IPCC.C.vr(this.bm,this.gq,bE);this.zA=jv.width;this.zQ=jv.height;}if(this.dZ){while(this.dZ.length>0){this.dZ.pop();}}},get_textHorizontalAlignment:function(){this.eU(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.iI;},set_textHorizontalAlignment:function(value){this.uC(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','iI',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.eU(32,'textVerticalAlignment');return this.wx;},set_textVerticalAlignment:function(value){this.uC(32,'textVerticalAlignment','wx',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.eU(6176+65536+(1<<18),'textColor');return this.pQ;},set_textColor:function(value){this.GV(6176+65536+(1<<18),'textColor','pQ',value);},get_textOpacity:function(){this.eU(32,'textOpacity');return this.Bx;},set_textOpacity:function(value){this.Ti(32,'textOpacity','Bx',value,0,255);},get_textOrientation:function(){this.eU(32,'textOrientation');return this.Co;},set_textOrientation:function(value){this.uC(32,'textOrientation','Co',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.jc();},get_visible:function(){return this.eC;},set_visible:function(value){this.kc((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','eC',value);},get_markID:function(){return this.nf();},get_pathString:function(){return this.wn;},set_pathString:function(value){var wn=this.get_pathString();if(wn!==value){this.akF=true;}this.CI(1088,'pathString','wn',value);},get_pathWidth:function(){return this.UE;},set_pathWidth:function(value){this.wH(1088,'pathWidth','UE',value);},get_pathHeight:function(){return this.VR;},set_pathHeight:function(value){this.wH(1088,'pathHeight','VR',value);},get_startIndex:function(){this.eU((1<<17)+(1<<14)+8192+512,'startIndex');return this.bQ;},set_startIndex:function(value){this.wH((1<<17)+(1<<14)+8192+512,'startIndex','bQ',value);},get_textLength:function(){this.eU((1<<17)+(1<<14)+8192+512,'textLength');return this.cz;},set_textLength:function(value){this.wH((1<<17)+(1<<14)+8192+512,'textLength','cz',value);},add_propertyChanged:function(handler){this.jH(handler);},remove_propertyChanged:function(handler){this.nn(handler);},add_markTextSelectionChanged:function(handler){this.Ic(handler);},remove_markTextSelectionChanged:function(handler){this.Hz(handler);},move:function(deltaX,deltaY){IPCC.aq.gB(deltaX,'deltaX');IPCC.aq.gB(deltaY,'deltaY');this.FY(deltaX,deltaY);},moveBackward:function(){if(this.eI()){var index=this.eI().oa(this);var cN=this.eI().akm();if(index>cN){this.eI().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eI()){var index=this.eI().oa(this);if(index<this.eI().Sj()-1){this.eI().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eI()){var cN=0;cN=this.eI().akm();this.eI().reorderMark(this,cN);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eI()){this.eI().reorderMark(this,this.eI().Sj()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eI()){this.eI().removeMark(this);}},selectText:function(textRanges){this.Qr(textRanges);},axf:function(){var fe={};var h=this;var as,Wo,bK,J,G;function cW(df,LB){fe[LB]=h[df];};var lx=false;var ln=false;var xZ=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:lx=true;xZ=true;fe.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:lx=true;xZ=true;fe.__type='PolyLineMark:#IPCC.Web';cW('rI','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ln=true;fe.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ln=true;fe.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:ln=true;fe.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xZ=true;fe.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:ln=true;fe.__type='TextMark:#IPCC.Web';cW('AZ','clc');cW('BI','clid');cW('rF','cls');cW('Bf','clw');cW('CR','ct');cW('xd','cv');cW('gq','fn');cW('cE','fs');cW('dg','fst');cW('hO','ls');cW('bm','te');cW('iI','tha');cW('wx','tva');cW('pQ','tc');cW('Bx','to');cW('Co','tor');bK=this.mI;if(bK.x!==0||bK.y!==0){fe.cp={x:bK.x,y:bK.y};}break;case IPCC.Web.UI.MarkType.Stamp:ln=true;fe.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:ln=true;fe.__type='HighlightText:#IPCC.Web';break;}if(lx){cW('IL','eha');cW('IP','ehl');cW('mb','eht');cW('Bl','hfc');cW('Ib','sha');cW('GS','shl');cW('Hl','sht');}else{cW('eF','fc');cW('IY','fv');cW('jl','lv');}if(ln){J=this.get_rectangle();fe.r={x:J.x,y:J.y,width:J.width,height:J.height};}fe.t=this.get_type();cW('lf','lc');cW('hO','ls');cW('eK','lw');cW('cS','o');cW('eC','v');if(xZ){as=this.oV();Wo=[];for(G=0;G<as.get_length();G++){bK=as.getPoint(G);Wo.push({x:bK.x,y:bK.y});}fe.p=Wo;}return fe;},asX:function(fe){var h=this;var as,G;function cW(df,LB){if(fe.hasOwnProperty(LB)){h[df]=fe[LB];}};var lx=false;var ln=false;var xZ=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:lx=true;if(fe.p&&fe.p.length===2){as=this.oV();as.setPoint(0,new IPCC.Web.UI.Point(fe.p[0].x,fe.p[0].y));as.setPoint(1,new IPCC.Web.UI.Point(fe.p[1].x,fe.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:lx=true;xZ=true;cW('rI','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ln=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:ln=true;break;case IPCC.Web.UI.MarkType.Ellipse:ln=true;break;case IPCC.Web.UI.MarkType.Polygon:xZ=true;break;case IPCC.Web.UI.MarkType.Text:ln=true;cW('AZ','clc');cW('BI','clid');cW('rF','cls');cW('Bf','clw');cW('CR','ct');cW('xd','cv');cW('gq','fn');cW('cE','fs');cW('dg','fst');cW('hO','ls');cW('bm','te');cW('iI','tha');cW('wx','tva');cW('pQ','tc');cW('Bx','to');cW('Co','tor');if(fe.cp){this.mI=new IPCC.Web.UI.Point(fe.cp.x,fe.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:ln=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:ln=true;break;}if(lx){cW('IL','eha');cW('IP','ehl');cW('mb','eht');cW('Bl','hfc');cW('Ib','sha');cW('GS','shl');cW('Hl','sht');}else{cW('eF','fc');cW('IY','fv');cW('jl','lv');}if(ln){if(fe.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fe.r.x,fe.r.y,fe.r.width,fe.r.height));}}fe.t=this.get_type();cW('lf','lc');cW('hO','ls');cW('eK','lw');cW('cS','o');cW('eC','v');if(fe.p&&xZ){as=this.oV();for(G=0;G<fe.p.length;G++){as.addPoint(new IPCC.Web.UI.Point(fe.p[G].x,fe.p[G].y));}}return fe;}};Ow.registerClass=bY;Ow.registerClass('IPCC.Web.UI.Mark');module.exports=Ow;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Op=function(){var ad=[];var ai=new IPCC.Web.UI.hj();this.Pg=function(R){if(this.FP(R)=== -1){ad.push(R);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;this.aK('markAdded',V);}};this.aoV=function(zM){var V=new IPCC.Web.UI.MarkEventArgs();V.length=zM.get_length();var h=this;function lp(R){if(h.FP(R)=== -1){ad.push(R);}};zM.forEach(lp,{});if(V.length>0){this.aK('markAdded',V);}};this.kR=function(hT,dp){var Hg=[].concat(ad);var G;for(G=0;G<Hg.length;G++){hT.call(dp,Hg[G],G,this);}};this.eQ=function(){return ad.length;};this.uc=function(R){var G=this.FP(R);if(G> -1){ad.splice(G,1);var V=new IPCC.Web.UI.MarkEventArgs();V.mark=R;this.aK('markRemoved',V);}};this.FP=function(R){var G;for(G=0;G<ad.length;G++){if(ad[G]===R){return G;}}return-1;};this.xC=function(T){ai.addHandler('markAdded',T);};this.AH=function(T){ai.removeHandler('markAdded',T);};this.xs=function(T){ai.addHandler('markRemoved',T);};this.AP=function(T){ai.removeHandler('markRemoved',T);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};return this;};Op.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Pg(mark);},addMarks:function(markCollection){this.aoV(markCollection);},forEach:function(method,context){this.kR(method,context);},get_length:function(){return this.eQ();},contains:function(mark){return this.FP(mark)> -1;},removeMark:function(mark){this.uc(mark);},removeAllMarks:function(){this.kR(function(R,bv,zM){zM.uc(R);});},add_markAdded:function(handler){this.xC(handler);},remove_markAdded:function(handler){this.AH(handler);},add_markRemoved:function(handler){this.xs(handler);},remove_markRemoved:function(handler){this.AP(handler);}};Op.registerClass=bY;Op.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Op;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Pw=function(){return this;};Pw.registerClass=bY;Pw.prototype={};Pw.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Pw;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var Ds=function(){};Ds.registerEnum=eN;Ds.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Ds.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Ds;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var MY=function(){};MY.registerEnum=eN;MY.prototype={Full:0,SelectionDisabled:1};MY.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=MY;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var LO=function(){};LO.registerEnum=eN;LO.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};LO.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=LO;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var eN=require('./../../IPCC.Util').regEnum;var Rr=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Rr.registerEnum=eN;Rr.prototype={leftButton:0,middleButton:1,rightButton:2};Rr.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var MC=function(){var ait=false;this.azz=function(){ait=true;};this.ajr=function(){return ait;};return this;};MC.prototype={preventDefault:function(){this.azz();}};MC.registerClass=bY;MC.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=MC;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var MV=function(){};MV.registerEnum=eN;MV.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};MV.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=MV;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var ML=function(){};ML.registerEnum=eN;ML.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};ML.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=ML;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var alW=function(element,qa,Mu){var gN=this;var bN;var L;var xI=0;var Pa='';var Sc=false;var ai=new IPCC.Web.UI.hj();var eG=null;var pL=IPCC.pL;var aju=IPCC.pL;var GM=0.0;var FQ=false;var PR=0;var aaN= -1;var abr= -1;var acD= -1;function md(HQ){if(!L){return false;}return L.md(HQ);};this.aV=function(hZ,jx){if(md(IPCC.Web.UI.DebugErrorLevel.Production)){L.aV(hZ,jx);}};this.ba=function(hZ,kI,ra){if(!md(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],(ra?ra:0));}dw+=')';this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);};this.Eu=function(hZ,kI,pe,ra){if(!md(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],(ra?ra:0));}dw+=') = ';dw+=IPCC.jb.sd(pe,1);this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);};this.cC=function(hZ,kI,pe){if(!md(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var dw=hZ+'(';var G;for(G=0;G<kI.length;G++){if(G>0){dw+=', ';}dw+=IPCC.jb.sd(kI[G],0);}dw+=') = ';dw+=IPCC.jb.sd(pe,1);this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.wC=function(jZ,aX){if(L){L.pn(jZ,IPCC.Web.UI.DebugItemCause.FunctionCall,aX);}};this.pn=function(jZ){if(L){L.pn(jZ,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JB=function(){return L.get_debug();};this.Sp=function(H){L.set_debug(H);};this.zx=function(){return L.zx();};this.Jz=function(H){IPCC.aq.iY(H,'value',IPCC.Web.UI.DebugErrorLevel);L.Jz(H);};this.aHq=function(H){FQ=H;};this.aHs=function(){return FQ;};var oS=function(){if(L.dO()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cG(dP,T){ai.addHandler(dP,T);};function ck(dP,T){ai.removeHandler(dP,T);};this.Hn=function(jB,cJ){L.aAR(jB,cJ);};this.aAF=function(cJ,R){L.vp(R);L.dC();};this.WU=function(T){cG('pageOpening',T);};this.WR=function(T){ck('pageOpening',T);};this.XG=function(T){cG('pageOpened',T);};this.Wy=function(T){ck('pageOpened',T);};this.aur=function(T){cG('pageClosed',T);};this.ayv=function(T){ck('pageClosed',T);};this.Ho=function(T){cG('pageOpenFailed',T);};this.Ik=function(T){ck('pageOpenFailed',T);};this.XI=function(T){cG('pageDisplayed',T);};this.XN=function(T){ck('pageDisplayed',T);};this.Sl=function(T){cG('mouseDown',T);};this.Xu=function(T){ck('mouseDown',T);};this.QJ=function(T){cG('mouseMove',T);};this.Xi=function(T){ck('mouseMove',T);};this.Rz=function(T){cG('mouseUp',T);};this.WW=function(T){ck('mouseUp',T);};this.aun=function(T){cG('contextMenu',T);};this.awR=function(T){ck('contextMenu',T);};this.xC=function(T){cG('markAdded',T);};this.AH=function(T){ck('markAdded',T);};this.WD=function(T){cG('markCreating',T);};this.Xc=function(T){ck('markCreating',T);};this.Iq=function(T){cG('markChanged',T);};this.Fx=function(T){ck('markChanged',T);};this.xs=function(T){cG('markRemoved',T);};this.AP=function(T){ck('markRemoved',T);};this.HC=function(T){cG('markReordered',T);};this.HA=function(T){ck('markReordered',T);};this.Xe=function(T){cG('marksLoaded',T);};this.XH=function(T){ck('marksLoaded',T);};this.GO=function(T){cG('markSelectionChanged',T);};this.HJ=function(T){ck('markSelectionChanged',T);};this.zo=function(T){cG('textPageReady',T);};this.GH=function(T){ck('textPageReady',T);};this.Wu=function(T){cG('selectTextMouseToolCompleted',T);};this.Xh=function(T){ck('selectTextMouseToolCompleted',T);};this.Wi=function(T){cG('exceptionThrown',T);};this.Wh=function(T){cG('scaleChanged',T);};this.Wr=function(T){ck('scaleChanged',T);};this.Xj=function(T){ck('exceptionThrown',T);};this.AA=function(T){cG('textExtractionFailed',T);};this.FG=function(T){ck('textExtractionFailed',T);};this.jH=function(T){cG('propertyChanged',T);};this.nn=function(T){ck('propertyChanged',T);};var aK=function(dP,V){try{var T;T=ai.getHandler(dP);if(T){T(gN,V);}}catch(e){gN.aV(dP+'Event',e);}};var qh=function(dP){function zy(bV,V){aK(dP,V);};L['add_'+dP](zy);};var Jl=function(dP){function zy(bV,V){if(Sc&&L.Ox()){AX();}aK(dP,V);};L['add_'+dP](zy);};function AX(){var eV,mz,Yq;if(Pa!==''){Yq=document.getElementById(Pa);if(Yq){eV=gN.QF();mz='{encodedDocumentIdentifier:"'+eV.encodedDocumentIdentifier;mz+='",pageNumber:'+eV.pageNumber.toString();mz+=',viewFitType:'+eV.viewFitType.toString();if(eV.viewRectangle&&eV.viewFitType===IPCC.Web.UI.FitType.Rectangle){mz+=',viewRectangle:{x:'+eV.viewRectangle.x.toFixed(5);mz+=',y:'+eV.viewRectangle.y.toFixed(5);mz+=',width:'+eV.viewRectangle.width.toFixed(5);mz+=',height:'+eV.viewRectangle.height.toFixed(5);mz+='}';}if(eV.viewRotationDegreesClockwise){mz+=',viewRotationDegreesClockwise:'+eV.viewRotationDegreesClockwise.toString();}if(eV.viewMirror){mz+=',viewMirror:'+eV.viewMirror.toString();}if(eV.viewZoomFactor){mz+=',viewZoomFactor:'+eV.viewZoomFactor.toString();}if(Sc){var ag=L.eI();if(ag){mz+=',artPageJson:"'+IPCC.fT.rU(ag.saveToJson())+'"';}}mz+='}';Yq.value=mz;}}};var aGJ=function(){function zy(bV,V){var WB=true;switch(V.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':AX();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'JT':case 'wI':WB=false;break;case 'JE':if(L.Ox()){AX();}WB=false;break;}if(WB){aK('propertyChanged',V);}};L.jH(zy);};this.Xg=function(av){IPCC.aq.iY(av,'type',IPCC.Web.UI.FitType);if(av===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oS();eG={ayl:true,viewFitType:av};Vf();};this.fz=function(){return L.dO()!==undefined;};this.lq=function(){oS();return L.dO().width;};this.iT=function(){oS();return L.dO().height;};this.aqu=function(){oS();return L.dO().gp;};this.aqp=function(){return L.aN().fF().alu();};this.aqK=function(){oS();return L.dO().hd;};this.Ji=function(){if(!L|| !(L.dO())){return '';}return L.dO().get_identifier();};this.Qp=function(){if(!L|| !(L.dO())){return '';}return L.dO().get_encodedIdentifier();};this.oB=function(){if(!L|| !(L.dO())){return-1;}return L.dO().bj;};this.aCz=function(){if(!L|| !(L.dO())){return 0;}return L.dO().eP;};this.amk=function(){var bL=L.dO();if(!bL){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aJ=L.eO();aJ.x=aJ.y=0;var sC=L.aN().fF();sC.wg();var dR=sC.yk(aJ);if(dR.x<0){dR.width+=dR.x;dR.x=0;}if(dR.y<0){dR.height+=dR.y;dR.y=0;}if(dR.x+dR.width>bL.width){dR.width=bL.width-dR.x;}if(dR.y+dR.height>bL.height){dR.height=bL.height-dR.y;}return dR;};function Nf(){var cl={},dI=L.aN().fF();cl.documentIdentifier=gN.Ji();cl.encodedDocumentIdentifier=gN.Qp();cl.pageNumber=gN.oB();cl.artPage=gN.eI();cl.referenceDocumentIdentifier=gN.Ji();cl.referencePageNumber=gN.oB();cl.viewFitType=IPCC.Web.UI.FitType.Rectangle;cl.viewRectangle=gN.amk();cl.imGearPage=gN.ow();cl.transientArtPage=gN.mn();var gs=dI.alu();if(gs!==0){cl.viewRotationDegreesClockwise=gs;}if(dI.aEy()){cl.viewMirror=true;}return cl;};this.amH=function(bQ,dh){L.amH(bQ,dh);};this.QF=function(){var cl;if(bN){cl=new IPCC.Web.UI.PageViewState();cl.documentIdentifier=bN.documentIdentifier;cl.encodedDocumentIdentifier=bN.encodedDocumentIdentifier;cl.pageNumber=bN.pageNumber;cl.artPage=bN.artPage;cl.artPageJson=bN.artPageJson;cl.referenceDocumentIdentifier=bN.documentIdentifier;cl.referencePageNumber=bN.pageNumber;cl.viewFitType=bN.viewFitType;cl.viewRectangle=bN.viewRectangle;cl.viewRotationDegreesClockwise=bN.viewRotationDegreesClockwise;cl.viewMirror=bN.viewMirror;cl.viewZoomFactor=bN.viewZoomFactor;cl.transientArtPage=bN.transientArtPage;}else{cl=Nf();}return cl;};this.Ml=function(bz){var aJ=L.eO();this.adH(bz,{x:aJ.width/2,y:aJ.height/2});};this.adH=function(bz,cA){IPCC.aq.ki(bz,'factor',1.01,20);IPCC.aq.bK(cA,'point');oS();var aW=L.aN();var bU=aW.fF();var aI=L.dO();var kg=bU.qi();if(kg*bz>aI.su){bz=aI.su/kg;}bU.vY(bz,bz,cA.x,cA.y);bU.kY(aI,L.eO());eG=null;aW.iK(bU);};this.abJ=function(bz){var aJ=L.eO();this.aaU(bz,{x:aJ.width/2,y:aJ.height/2});};this.aaU=function(bz,cA){IPCC.aq.ki(bz,'factor',1.01,20);IPCC.aq.bK(cA,'point');oS();var aW=L.aN();var bU=aW.fF();var aI=L.dO();var kg=bU.qi();if(kg/bz<aI.st){bz=kg/aI.st;}bU.vY(1/bz,1/bz,cA.x,cA.y);bU.kY(aI,L.eO());eG=null;aW.iK(bU);};this.kZ=function(bz){var aJ=L.eO();this.apG(bz,{x:aJ.width/2,y:aJ.height/2});};this.DC=function(bz){var aW=L.aN();eG=null;aW.DC(bz);};this.Er=function(bz){var aW=L.aN();eG=null;aW.Er(bz);};this.DR=function(bz){var aW=L.aN();eG=null;aW.DR(bz);};this.apG=function(bz,cA){IPCC.aq.bK(cA,'point');oS();var aW=L.aN();var bU=aW.fF();var aI=L.dO();var kg=bU.qi();if(bz>aI.su){bz=aI.su;}else if(bz<aI.st){bz=aI.st;}bU.vY(bz/kg,bz/kg,cA.x,cA.y);bU.kY(aI,L.eO());eG=null;aW.iK(bU);};this.vz=function(sA){IPCC.aq.Tg(sA,'degreesClockwise',[90,180,270,-90,-180,-270]);oS();var aW=L.aN();var bU=aW.fF();var aJ=L.eO();bU.agE(sA,aJ.width/2,aJ.height/2);bU.kY(L.dO(),L.eO());eG=null;aW.iK(bU);};this.akW=function(){oS();var aW=L.aN();var bU=aW.fF();var aJ=L.eO();bU.vY(-1,1,aJ.width/2,aJ.height/2);bU.kY(L.dO(),L.eO());eG=null;aW.iK(bU);};this.aDp=function(dR){IPCC.aq.J(dR,'pageRectangle');oS();var aW=L.aN();var bU=aW.fF();var aJ=L.eO();var aI=L.dO();bU.KV(aI,aJ,dR);bU.kY(aI,L.eO());eG=null;aW.iK(bU);};this.aEv=function(cF){IPCC.aq.bK(cF,'imagePoint');oS();var aW=L.aN();var bU=aW.fF();var aJ=L.eO();bU.abN(aJ,cF);bU.kY(L.dO(),L.eO());eG=null;aW.iK(bU);};this.ajA=function(){oS();eG=null;var aW=L.aN();var bU=aW.fF();var aJ=L.eO();bU.vY(1,-1,aJ.width/2,aJ.height/2);bU.kY(L.dO(),L.eO());eG=null;aW.iK(bU);};this.dC=function(){L.dC();};this.GW=function(){L.GW();};var Vf=function(){var aI=L.dO();var aJ=L.eO();var bU;if(!eG){bU=L.aN().fF();bU.kY(aI,aJ);L.aN().iK(bU);return;}if(eG.ayl){bU=L.aN().fF();}else{bU=new IPCC.eB();bU.aEi(aI,aJ);if(eG.viewRotationDegreesClockwise){bU.rotate(eG.viewRotationDegreesClockwise);}if(eG.viewMirror){bU.asH(aJ);}}if(eG.viewZoomFactor){if(eG.viewZoomFactor>aI.su){eG.viewZoomFactor=aI.su;}else if(eG.viewZoomFactor<aI.st){eG.viewZoomFactor=aI.st;}eG.viewFitType=IPCC.Web.UI.FitType.ActualSize;bU.Yc(eG.viewFitType,aI,aJ);bU.scale(eG.viewZoomFactor,eG.viewZoomFactor);}else{if(!eG.viewFitType&&eG.viewFitType!==0){eG.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eG.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eG.viewRectangle){eG.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eG.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bU.Yc(eG.viewFitType,aI,aJ);}else{bU.KV(aI,aJ,eG.viewRectangle);}}bU.kY(aI,aJ);L.aN().iK(bU);};var ahk=function(Mg){eG=Mg;PR=0;Vf();};this.Oo=function(aG){xI++;var TY=xI;var apq={};GM=0.0;L.Or=0.0;IPCC.fT.alk(aG);if(md(IPCC.Web.UI.DebugErrorLevel.Development)){var dw='opening documentIdentifier "'+aG.documentIdentifier+'", pageNumber '+aG.pageNumber;this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);}bN=new IPCC.Web.UI.PageViewState();var G;for(G in aG){if(aG.hasOwnProperty(G)){bN[G]=aG[G];}}if(aG.documentIdentifier===''){this.Rq();return;}if(IPCC.Web.UI.ArtPage){if(bN){if(!bN.artPage){var ag=new IPCC.Web.UI.ArtPage();if(bN.artPageJson){ag.loadFromJson(bN.artPageJson);}bN.artPage=ag;}if(!bN.documentArtPage){var eg=new IPCC.Web.UI.ArtPage();bN.documentArtPage=eg;}if(this.kr()===true){if(!bN.imGearPage){var gR=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aG.documentIdentifier,imageServicePath:this.uq()});bN.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,aZ:gR});gR.get_pages().addPage(bN.imGearPage);}if(!bN.transientArtPage){bN.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bN.viewRotationDegreesClockwise){IPCC.aq.Tg(bN.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bN.viewFitType){IPCC.aq.iY(bN.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bN.viewZoomFactor){IPCC.aq.ki(bN.viewZoomFactor,'parameters.viewZoomFactor',0,20);}aK('pageOpening',aG);var bL=new IPCC.fT(aG.encodedDocumentIdentifier,aG.pageNumber,0,0,0,0);var pg=function(){if(TY!==xI){return;}var sO=null;if(L.dO()){sO=Nf();}L.aN().ot();L.Av(bL);ahk(bN);if(aG.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bN){if(bN.artPage){L.mv(bN.artPage);L.eI().loadFromJson(bL.apK);}}}else{if(bN){if(bN.artPage){L.mv(bN.artPage);}if(bN.documentArtPage){L.JP(bN.documentArtPage);}if(L.kr()===true){if(bN.imGearPage){var Uq=bN.imGearPage.get_pageWidth();var Xw=bN.imGearPage.get_pageHeight();bN.imGearPage.lM(gN.hQ());if(!Uq){bN.imGearPage.Mz(gN.get_pageWidth());}if(!Xw){bN.imGearPage.NK(gN.get_pageHeight());}L.Do(bN.imGearPage);if(typeof(L.ow().xu==='function')){if(!L.ow().cB().yS()){bN.imGearPage.vA(gN.lh());setTimeout(L.ow().xu,1000);}}}if(bN.transientArtPage){L.Cj(bN.transientArtPage);}}}}bN=null;if(sO){aK('pageClosed',sO);}AX();aK('pageOpened',aG);};if(aG.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bN){if(!bN.artPageJson){bL.aHn(L.uq(),L,pg,apq);}else{bL.WM(L.uq(),L,pg);}}}else{bL.WM(L.uq(),L,pg);}};this.Rq=function(){xI++;if(!(L.dO())){return;}var sO=Nf();L.Av(undefined);L.mv(undefined);L.Do(undefined);L.Cj(undefined);this.dC();AX();sO=undefined;bN=undefined;eG=undefined;var cD;cD=gN.nT();if(cD.igElements){if(cD.igElements.pw){cD.igElements.pw.CJ=null;cD.igElements.pw.xl=null;cD.igElements.pw.Kg=null;cD.igElements.pw=null;}cD.igElements.CW=null;cD.igElements.fK=null;cD.igElements.gX=null;cD.igElements.dK=null;cD.igElements.oQ=null;cD.igElements.mQ=null;cD.igElements.kP=null;cD.igElements.qg=null;cD.igElements.LP=null;cD.igElements.Zq=null;cD.igElements.si=null;}gN=null;cD.aL=null;aK('pageClosed',sO);};this.aGI=function(aG){xI++;var TY=xI;GM=0.0;L.Or=0.0;IPCC.fT.alk(aG);if(md(IPCC.Web.UI.DebugErrorLevel.Development)){var dw='opening documentIdentifier "'+aG.documentIdentifier+'", pageNumber '+aG.pageNumber;this.wC(dw,IPCC.Web.UI.DebugErrorLevel.Development);}bN=new IPCC.Web.UI.PageViewState();var G;for(G in aG){if(aG.hasOwnProperty(G)){bN[G]=aG[G];}}if(aG.documentIdentifier===''){this.Rq();return;}if(IPCC.Web.UI.ArtPage){if(bN){if(!bN.artPage){var ag=new IPCC.Web.UI.ArtPage();bN.artPage=ag;}if(!bN.documentArtPage){var eg=new IPCC.Web.UI.ArtPage();bN.documentArtPage=eg;}if(this.kr()===true){if(!bN.imGearPage){var gR=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aG.documentIdentifier,imageServicePath:this.uq()});bN.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,aZ:gR});gR.get_pages().addPage(bN.imGearPage);}if(!bN.transientArtPage){bN.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bN.viewRotationDegreesClockwise){IPCC.aq.Tg(bN.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bN.viewFitType){IPCC.aq.iY(bN.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bN.viewZoomFactor){IPCC.aq.ki(bN.viewZoomFactor,'parameters.viewZoomFactor',0,20);}aK('pageOpening',aG);var bL=new IPCC.fT(aG.encodedDocumentIdentifier,aG.pageNumber,0,0,0,0);var pg=function(){if(TY!==xI){return;}var sO=null;if(L.dO()){sO=Nf();}L.aN().ot();L.Av(bL);ahk(bN);if(bN){if(bN.artPage){L.mv(bN.artPage);}if(bN.documentArtPage){L.JP(bN.documentArtPage);}if(L.kr()===true){if(bN.imGearPage){var Uq=bN.imGearPage.get_pageWidth();var Xw=bN.imGearPage.get_pageHeight();bN.imGearPage.lM(gN.hQ());if(!Uq){bN.imGearPage.Mz(gN.get_pageWidth());}if(!Xw){bN.imGearPage.NK(gN.get_pageHeight());}L.Do(bN.imGearPage);if(typeof(L.ow().xu==='function')){if(!L.ow().cB().yS()){bN.imGearPage.vA(gN.lh());setTimeout(L.ow().xu,1000);}}}if(bN.transientArtPage){L.Cj(bN.transientArtPage);}}}bN=null;if(sO){aK('pageClosed',sO);}AX();aK('pageOpened',aG);};bL.aDA(L.uq(),L,pg);};this.aHF=function(){xI++;if(!(L.dO())){return;}var bL=L.dO();L.Av(undefined);this.dC();L.Av(bL);};this.Ui=function(Ce){L.Ui(Ce);};this.mv=function(H){L.mv(H);};this.eI=function(){return L.eI();};this.JP=function(H){L.JP(H);};this.Pr=function(){return L.Pr();};this.mn=function(){return L.mn();};this.Cj=function(H){L.Cj(H);};this.Ca=function(){return L.Ca();};this.aDQ=function(H){L.aDQ(H);};this.HT=function(H){L.HT(H);};this.us=function(){return L.us();};this.aCl=function(H){aju=this.aup(H);};this.jn=function(){return aju;};this.aeN=function(H){L.aeN(H);};this.SM=function(){return L.SM();};this.nl=function(){return L.nl();};this.oq=function(H){L.oq(H);};this.afC=function(H){L.afC(H);};this.TM=function(){return L.TM();};this.SL=function(aFw){L.SL(aFw);};this.RU=function(){return L.RU();};this.aup=function(ay){var bF='',Nx='',Ug=function(af){var rG=0,bF;for(bF in af){if(af.hasOwnProperty(bF)){rG+=1;}}return rG;};for(bF in pL){if(pL.hasOwnProperty(bF)){if(typeof ay[bF]==='undefined'){ay[bF]=pL[bF];}if(typeof ay[bF]==='object'){if(!Ug(ay[bF])){ay[bF]=pL[bF];}else if(Ug(ay[bF])!==Ug(pL[bF])){for(Nx in pL[bF]){if(typeof ay[bF][Nx]==='undefined'){ay[bF][Nx]=pL[bF][Nx];}}}}}}return ay;};this.aDK=function(aEH){if(aEH===false){IPCC.ha=false;L.fH([new IPCC.mr(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}else{IPCC.ha=true;IPCC.aeY=this.jn();L.fH([new IPCC.mr(),new IPCC.db(),new IPCC.ey(),new IPCC.cv(),new IPCC.cw(false)]);}};this.ot=function(){var aW=L.aN();if(!aW.xE()){return;}L.aN().ot();};this.aEB=function(dR){IPCC.aq.J(dR,'pageRectangle');var bL=L.dO();if(bL){L.aN().showSelection(dR);}};this.Ck=function(cF){IPCC.aq.bK(cF,'imagePoint');if(L.dO()){L.aN().Ck(new IPCC.Web.UI.Point(cF.x,cF.y));}};this.zq=function(cF){IPCC.aq.bK(cF,'imagePoint');if(L.dO()){L.aN().zq(new IPCC.Web.UI.Point(cF.x,cF.y));}};this.wa=function(){if(L.dO()&&L.aN().xE()){return L.aN().wa();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aqO=function(){if(L.dO()&&L.aN().xE()){var dR=L.aN().wa();return L.aN().fF().yk(dR);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.xE=function(){return! !(L.dO()&&L.aN().xE());};this.uq=function(){return L.uq();};this.SZ=function(H){IPCC.aq.lB(H,'value');L.SZ(H);};this.aFp=function(){return Pa;};this.aBH=function(H){IPCC.aq.lB(H,'value');Pa=H;};this.aEm=function(){return Sc;};this.aBM=function(H){Sc=H;};var tX='';this.tn=function(H){L.tn(H);tX=H;};this.nT=function(){return tX;};this.aDa=function(){return L.aN().get_magnifierMagnification();};this.aBZ=function(H){IPCC.aq.ki(H,'value',1.5,8);L.aN().set_magnifierMagnification(H);};this.aEE=function(){return L.aN().uQ().width;};this.aBj=function(H){IPCC.aq.ki(H,'value',25,500);var rG=L.aN().uQ();rG.width=H;L.aN().set_magnifierWindowSize(rG);};this.aCY=function(){return L.aN().uQ().height;};this.aCc=function(H){IPCC.aq.ki(H,'value',25,500);var rG=L.aN().uQ();rG.height=H;L.aN().set_magnifierWindowSize(rG);};this.Pl=function(){return L.aN().Pl();};this.Tu=function(H){IPCC.aq.ki(H,'value',-500,500);L.aN().Tu(H);};this.OR=function(){return L.aN().OR();};this.SO=function(H){IPCC.aq.ki(H,'value',-500,500);L.aN().SO(H);};this.SF=function(){return L.aN().SF();};this.Tq=function(H){IPCC.aq.ki(H,'value',0.1,0.5);L.aN().Tq(H);};this.xw=function(){return L.aN().xw();};this.HE=function(H){L.aN().HE(H);};this.raisePropertyChanged=function(df,wW){if(L){L.cs(df,wW);}};var bP= -1;this.TG=function(){return bP;};this.aHz=function(H){L.sx=H;};this.Ok=function(H){L.set_areMarksEditable(H);};this.aHk=function(){return L.set_areMarksEditable();};this.HW=function(H){IPCC.aq.iY(H,'value',IPCC.Web.UI.MouseTool);if(bP!==H){bP=H;var ie="None";switch(bP){case IPCC.Web.UI.MouseTool.None:L.fH([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.ha===true){L.fH([new IPCC.qF(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.qF(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);ie="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.ha===true){L.fH([new IPCC.mr(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.mr(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.ha===true){L.fH([new IPCC.nS(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(true)]);}else{L.fH([new IPCC.nS(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(true)]);}ie="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.ha===true){L.fH([new IPCC.nU(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.nU(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Rectangle),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Rectangle),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Ellipse),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Ellipse),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.ha===true){L.fH([new IPCC.mB(),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.mB(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.ha===true){L.fH([new IPCC.kH(IPCC.Web.UI.MarkType.Polyline),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.kH(IPCC.Web.UI.MarkType.Polyline),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.ha===true){L.fH([new IPCC.kA(),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.kA(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.ha===true){L.fH([new IPCC.kH(IPCC.Web.UI.MarkType.Polygon),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.kH(IPCC.Web.UI.MarkType.Polygon),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.TextLine),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.TextLine),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);ie="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.ha===true){L.fH([new IPCC.lu(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.lu(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.ha===true){L.fH([new IPCC.AT(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.AT(IPCC.Web.UI.MarkType.Text),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Stamp),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.Stamp),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.ha===true){L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.eD(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:L.FQ=true;if(IPCC.ha===true){L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:L.FQ=false;if(IPCC.ha===true){L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.ey(false,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.ha===true){L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.ey(true,this.jn()),new IPCC.cv(),new IPCC.cw(false)]);}else{L.fH([new IPCC.jU(),new IPCC.db(),new IPCC.cv(),new IPCC.cw(false)]);}ie="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:ie});}};this.GU=function(aFk){bP= -1;L.fH(aFk);};this.aqF=function(){return L.aN().get_presentationQuality();};this.aBG=function(H){IPCC.aq.ki(H,'value',0,100);L.aN().set_presentationQuality(H);};this.aqX=function(){return L.aN().get_scrollBars();};this.aDk=function(H){IPCC.aq.iY(H,'value',IPCC.Web.UI.ScrollBars);L.aN().set_scrollBars(H);};this.atl=function(cF,aCV){IPCC.aq.bK(cF,'imagePoint');if(!(L.dO())){return new IPCC.Web.UI.Point(0,0);}var cA=L.aN().fF().transform(cF);if(aCV){cA.constrain(L.eO());}return cA;};this.KZ=function(cA,aDN){IPCC.aq.bK(cA,'windowPoint');var bL=L.dO();if(!bL){return new IPCC.Web.UI.Point(0,0);}var sC=L.aN().fF();sC.wg();var cF=sC.transform(cA);if(aDN){cF.constrain(bL);}return cF;};function aux(){var cD;cD=gN.nT();var ahy=cD.clientWidth;var agj=cD.clientHeight;var avK=(eG&&eG.viewFitType===aaN&&ahy===abr&&agj===acD);if(avK){if(PR>2){return;}PR++;}else{aaN=eG?eG.viewFitType: -1;abr=ahy;acD=agj;PR=0;}Vf();};function axd(){eG=null;};function azL(bV,V){switch(V.fP){case IPCC.fg.acf:gN.adH(1.25,V.Xz.windowPoint);break;case IPCC.fg.aaa:gN.aaU(1.25,V.Xz.windowPoint);break;case IPCC.fg.Wp:gN.vz(V.H);break;case IPCC.fg.ajD:gN.ajA();break;case IPCC.fg.akV:gN.akW();break;case IPCC.fg.acd:gN.Xg(V.H);break;case IPCC.fg.aft:gN.HW(V.H);break;}};this.kr=function(){return L.kr();};this.Ia=function(H){L.Ia(H);};this.cB=function(){return L.cB();};this.ow=function(){return L.ow();};this.Do=function(H){L.Do(H);};this.zb=function(){return L.get_requireRequestsOptimize();};this.IF=function(H){L.IF(H);};this.lh=function(){return L.lh();};this.vA=function(H){L.vA(H);};this.Kn=function(cF){IPCC.aq.bK(cF,'imagePoint');return L.Kn(cF);};this.zI=function(da){L.zI(da);};this.Wn=function(){L.Wn();};this.MX=function(wq,dh){var Kv=L.cB().hl().eQ();IPCC.aq.nG(wq,'wq',0,Kv-1);L.MX(wq,dh);};this.tF=function(da){if(da===undefined){L.aN().tF(da);return false;}var Kv=L.cB().hl().eQ();IPCC.aq.nG(da,'textIndex',0,Kv-1);L.tF(da);return true;};this.Gz=function(){return! !(L.dO()&&L.kr()&&L.cB().mR()===true&&L.aN().Gz());};this.Yy=function(){var aW=L.aN();aW.Yy();};this.RI=function(){if(L.kr()&&L.cB().mR()===true){return Math.min(L.aN().aka(),L.aN().Bj());}};this.AW=function(){if(L.kr()&&L.cB().mR()===true){return L.aN().AW();}};this.Ew=function(){if(L.kr()&&L.cB().mR()===true&&L.aN().Gz()){return L.Ew();}else{return "";}};this.Bj=function(){return L.aN().Bj();};this.aBA=function(){return L.get_cursor();};this.aDG=function(H){L.set_cursor(H);};this.xR=function(){return L.xR();};this.Ud=function(H){L.Ud(H);};this.hQ=function(){return L.hQ();};this.lM=function(H){L.lM(H);};this.atj=function(){L.aN().hideMagnifier();};this.aEt=function(cA){L.aN().showMagnifier(cA);};this.vp=function(R){if(L.nC().igElements){L.vp(R);L.dC();}};this.Js=function(){L.Js();};this.FK=function(){return L.FK();};this.nH=function(){if(L.nC().igElements){L.nH(true);}};function atJ(bV,V){var wm=V.scaleFactor;var aQ={scaleType:"scaledDown",pageNumber:V.pageNumber};if(GM!==wm){if(wm>GM){aQ.scaleType="scaledUp";}GM=wm;aK('scaleChanged',aQ);}};this.initialize=function(){L.aBm(this.nT().id);L.tn(this.nT().id);if(bP=== -1){this.HW(IPCC.Web.UI.MouseTool.RectangleZoom);}qh('mouseDown');qh('mouseMove');qh('mouseUp');qh('contextMenu');qh('markCreating');qh('pageOpenFailed');qh('textPageReady');qh('pageDisplayed');qh('exceptionThrown');qh('selectTextMouseToolCompleted');Jl('markAdded');Jl('markChanged');Jl('markRemoved');qh('textExtractionFailed');Jl('markReordered');Jl('marksLoaded');qh('markSelectionChanged');aGJ();L.auo(aux);L.auN(axd);L.atq(azL);L.add_scaleChanged(atJ);L.aqg();var cD=this.nT();cD.aL=this;};qa=(qa!==false);L=new IPCC.WF(qa);L.aCp('PageView');L.aEj(Mu);};alW.prototype={dispose:function(){this.ba('dispose',arguments);this.Rq();},get_debug:function(){try{var au=this.JB();this.cC('get_debug',arguments,au);return au;}catch(e){this.aV('get_debug',e);throw e;}},set_debug:function(value){try{this.ba('set_debug',arguments);var zc=this.JB();this.Sp(value);if(!zc){this.ba('set_debug',arguments);}}catch(e){this.aV('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var au=this.zx();this.cC('get_debugErrorLevel',arguments,au);return au;}catch(e){this.aV('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ba('set_debugErrorLevel',arguments);var zc=this.zx();this.Jz(value);if(zc<IPCC.Web.UI.DebugErrorLevel.Development){this.ba('set_debugErrorLevel',arguments);}}catch(e){this.aV('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var au=this.RU();this.cC('get_artServiceOption',arguments,au);return au;}catch(e){this.aV('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ba('set_artServiceOption',arguments);this.SL(value);}catch(e){this.aV('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.WU(handler);}catch(e){this.aV('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.WR(handler);}catch(e){this.aV('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.XG(handler);}catch(e){this.aV('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Wy(handler);}catch(e){this.aV('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.aur(handler);}catch(e){this.aV('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.ayv(handler);}catch(e){this.aV('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Ho(handler);}catch(e){this.aV('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.Ik(handler);}catch(e){this.aV('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.XI(handler);}catch(e){this.aV('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.XN(handler);}catch(e){this.aV('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Sl(handler);}catch(e){this.aV('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xu(handler);}catch(e){this.aV('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.QJ(handler);}catch(e){this.aV('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Xi(handler);}catch(e){this.aV('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Rz(handler);}catch(e){this.aV('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.WW(handler);}catch(e){this.aV('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.aun(handler);}catch(e){this.aV('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.awR(handler);}catch(e){this.aV('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.xC(handler);}catch(e){this.aV('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.AH(handler);}catch(e){this.aV('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.WD(handler);}catch(e){this.aV('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Xc(handler);}catch(e){this.aV('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Iq(handler);}catch(e){this.aV('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Fx(handler);}catch(e){this.aV('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.xs(handler);}catch(e){this.aV('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.AP(handler);}catch(e){this.aV('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.HC(handler);}catch(e){this.aV('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HA(handler);}catch(e){this.aV('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Xe(handler);}catch(e){this.aV('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.XH(handler);}catch(e){this.aV('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.GO(handler);}catch(e){this.aV('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.HJ(handler);}catch(e){this.aV('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wu(handler);}catch(e){this.aV('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Xh(handler);}catch(e){this.aV('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.zo(handler);}catch(e){this.aV('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.GH(handler);}catch(e){this.aV('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Wi(handler);},remove_exceptionThrown:function(handler){this.Xj(handler);},add_scaleChanged:function(handler){try{this.Wh(handler);}catch(e){this.aV('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Wr(handler);}catch(e){this.aV('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.jH(handler);}catch(e){this.aV('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nn(handler);}catch(e){this.aV('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.AA(handler);},remove_textExtractionFailed:function(handler){this.FG(handler);},writeToLog:function(message){try{this.pn(message);}catch(e){this.aV('writeToLog',e);throw e;}},fitPage:function(type){try{this.ba('fitPage',arguments);this.Xg(type);}catch(e){this.aV('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var au=this.fz();this.cC('get_pageIsOpen',arguments,au);return au;}catch(e){this.aV('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var au=this.lq();this.cC('get_pageWidth',arguments,au);return au;}catch(e){this.aV('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var au=this.iT();this.cC('get_pageHeight',arguments,au);return au;}catch(e){this.aV('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var au=this.aqu();this.cC('get_pageXResolution',arguments,au);return au;}catch(e){this.aV('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var au=this.aqK();this.cC('get_pageYResolution',arguments,au);return au;}catch(e){this.aV('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var au=this.Ji();this.cC('get_documentIdentifier',arguments,au);return au;}catch(e){this.aV('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var au=this.Qp();this.cC('get_encodedDocumentIdentifier',arguments,au);return au;}catch(e){this.aV('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var au=this.oB();this.cC('get_pageNumber',arguments,au);return au;}catch(e){this.aV('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var au=this.aCz();this.cC('get_documentPageCount',arguments,au);return au;}catch(e){this.aV('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var au=this.amk();this.cC('get_displayedPageRectangle',arguments,au);return au;}catch(e){this.aV('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var au=this.QF();this.cC('get_currentState',arguments,au);return au;}catch(e){this.aV('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.ba('zoomIn',arguments);this.Ml(factor);}catch(e){this.aV('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ba('zoomOut',arguments);this.abJ(factor);}catch(e){this.aV('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.ba('set_sharpening',arguments);this.DC(factor);}catch(e){this.aV('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.ba('set_gamma',arguments);this.Er(factor);}catch(e){this.aV('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.ba('set_svgLineWidthMultiplier',arguments);this.DR(factor);}catch(e){this.aV('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.ba('zoom',arguments);this.kZ(factor);}catch(e){this.aV('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.ba('rotate',arguments);this.vz(degreesClockwise);}catch(e){this.aV('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.ba('showPageRectangle',arguments,1);this.aDp(imageRectangle);}catch(e){this.aV('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.ba('showPagePointAtCenter',arguments,1);this.aEv(imagePoint);}catch(e){this.aV('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.ba('mirror',arguments);this.akW();}catch(e){this.aV('mirror',e);throw e;}},flip:function(){try{this.ba('flip',arguments);this.ajA();}catch(e){this.aV('flip',e);throw e;}},display:function(){try{this.ba('display',arguments);this.dC();}catch(e){this.aV('display',e);throw e;}},openPage:function(parameters){try{this.ba('openPage',arguments,1);this.Oo(parameters);}catch(e){this.aV('openPage',e);throw e;}},closePage:function(){try{this.ba('closePage',arguments);this.Rq();}catch(e){this.aV('closePage',e);throw e;}},hideSelection:function(){try{this.ba('hideSelection',arguments);this.ot();}catch(e){this.aV('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.ba('showSelection',arguments);this.aEB(imageRectangle);}catch(e){this.aV('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.ba('showEmptySelection',arguments);this.Ck(imagePoint);}catch(e){this.aV('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.ba('extendSelection',arguments);this.zq(imagePoint);}catch(e){this.aV('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.ba('saveArtPage',arguments);this.Ui(onSave);}catch(e){this.aV('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var au=this.wa();this.cC('get_selectionPageRectangle',arguments,au);return au;}catch(e){this.aV('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var au=this.aqO();this.cC('get_selectionWindowRectangle',arguments,au);return au;}catch(e){this.aV('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var au=this.xE();this.cC('get_selectionIsVisible',arguments,au);return au;}catch(e){this.aV('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var au=this.aFp();this.cC('get_controlStateElementId',arguments,au);return au;}catch(e){this.aV('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ba('set_controlStateElementId',arguments);this.aBH(value);}catch(e){this.aV('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var au=this.aEm();this.cC('get_includeArtInPostBack',arguments,au);return au;}catch(e){this.aV('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ba('set_includeArtInPostBack',arguments);this.aBM(value);}catch(e){this.aV('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var au=this.eI();this.cC('get_artPage',arguments,au);return au;}catch(e){this.aV('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ba('set_artPage',arguments);this.mv(value);}catch(e){this.aV('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var au=this.Pr();this.cC('get_documentArtPage',arguments,au);return au;}catch(e){this.aV('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.ba('set_documentArtPage',arguments);this.JP(value);}catch(e){this.aV('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var au=this.mn();this.cC('get_transientArtPage',arguments,au);return au;}catch(e){this.aV('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.ba('set_transientArtPage',arguments);this.Cj(value);}catch(e){this.aV('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var au=this.uq();this.cC('get_imageHandlerUrl',arguments,au);return au;}catch(e){this.aV('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ba('set_imageHandlerUrl',arguments);this.SZ(value);}catch(e){this.aV('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var au=this.us();this.cC('get_resourcePath',arguments,au);return au;}catch(e){this.aV('get_resourcePath',e);throw e;}},set_resourcePath:function(H){try{this.ba('set_resourcePath',arguments);this.HT(H);}catch(e){this.aV('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var au=this.jn();this.cC('get_contextMenuLanguageDictionary',arguments,au);return au;}catch(e){this.aV('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(H){try{this.ba('set_contextMenuLanguageDictionary',arguments);this.aCl(H);}catch(e){this.aV('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var au=this.kr();this.cC('get_textRequired',arguments,au);return au;}catch(e){this.aV('get_textRequired',e);throw e;}},set_textRequired:function(H){try{this.ba('set_textRequired',arguments);this.Ia(H);}catch(e){this.aV('set_textRequired',e);throw e;}},get_textPage:function(){try{var au=this.cB();this.cC('get_textPage',arguments,au);return au;}catch(e){this.aV('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var au=this.Gz();this.Eu('textSelectionIsVisible',arguments,au,1);return au;}catch(e){this.aV('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var au=this.Ew();this.Eu('getSelectedText',arguments,au,1);return au;}catch(e){this.aV('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var au=this.zb();this.cC('get_requireRequestsOptimize',arguments,au);return au;}catch(e){this.aV('zb',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ba('set_requireRequestsOptimize',arguments);this.IF(value);}catch(e){this.aV('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var au=this.aDa();this.cC('get_magnifierMagnification',arguments,au);return au;}catch(e){this.aV('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.ba('set_magnifierMagnification',arguments);this.aBZ(value);}catch(e){this.aV('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var au=this.aEE();this.cC('get_magnifierWidth',arguments,au);return au;}catch(e){this.aV('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.ba('set_magnifierWidth',arguments);this.aBj(value);}catch(e){this.aV('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var au=this.aCY();this.cC('get_magnifierHeight',arguments,au);return au;}catch(e){this.aV('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.ba('set_magnifierHeight',arguments);this.aCc(value);}catch(e){this.aV('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var au=this.Pl();this.cC('get_magnifierXOffset',arguments,au);return au;}catch(e){this.aV('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.ba('set_magnifierXOffset',arguments);this.Tu(value);}catch(e){this.aV('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var au=this.OR();this.cC('get_magnifierYOffset',arguments,au);return au;}catch(e){this.aV('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.ba('set_magnifierYOffset',arguments);this.SO(value);}catch(e){this.aV('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.ba('showMagnifier',arguments,1);this.aEt(windowPoint);}catch(e){this.aV('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.ba('hideMagnifier',arguments);this.atj();}catch(e){this.aV('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var au=this.SF();this.cC('get_markHandleSize',arguments,au);return au;}catch(e){this.aV('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.ba('set_markHandleSize',arguments);this.Tq(value);}catch(e){this.aV('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var au=this.xw();this.cC('get_markHandleMode',arguments,au);return au;}catch(e){this.aV('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.ba('set_markHandleMode',arguments);this.HE(value);}catch(e){this.aV('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var au=this.TG();this.cC('get_mouseTool',arguments,au);return au;}catch(e){this.aV('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ba('set_mouseTool',arguments);this.HW(value);}catch(e){this.aV('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var au=this.aqF();this.cC('get_presentationQuality',arguments,au);return au;}catch(e){this.aV('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.ba('set_presentationQuality',arguments);this.aBG(value);}catch(e){this.aV('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var au=this.aqX();this.cC('get_scrollBars',arguments,au);return au;}catch(e){this.aV('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.ba('set_scrollBars',arguments);this.aDk(value);}catch(e){this.aV('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var au=this.ow();this.cC('get_imGearPage',arguments,au);return au;}catch(e){this.aV('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.ba('set_imGearPage',arguments);this.Do(value);}catch(e){this.aV('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var au=this.lh();this.cC('get_serviceResponseTimeout',arguments,au);return au;}catch(e){this.aV('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ba('set_serviceResponseTimeout',arguments);this.vA(value);}catch(e){this.aV('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var au=this.Bj();this.cC('get_currentTextIndex',arguments,au);return au;}catch(e){this.aV('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var au=this.aBA();this.cC('get_cursor',arguments,au);return au;}catch(e){this.aV('get_cursor',e);throw e;}},set_cursor:function(value){try{this.ba('set_cursor',arguments);this.aDG(value);}catch(e){this.aV('set_cursor',e);throw e;}},get_encryption:function(){try{var au=this.hQ();this.cC('get_encryption',arguments,au);return au;}catch(e){this.aV('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ba('set_encryption',arguments);this.lM(value);}catch(e){this.aV('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var au=this.atl(imagePoint,constrainResultToWindow);this.Eu('transformPagePointToWindow',arguments,au,1);return au;}catch(e){this.aV('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var au=this.KZ(windowPoint,constrainResultToImage);this.Eu('transformWindowPointToPage',arguments,au,1);return au;}catch(e){this.aV('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var au=this.Kn(pagePoint);this.Eu('transformPagePointToTextIndex',arguments,au,1);return au;}catch(e){this.aV('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.ba('removeAllHighlights',arguments);this.Wn();}catch(e){this.aV('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.ba('showTextSelection',arguments);this.MX(indexOfFirstCharacter,length);}catch(e){this.aV('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.ba('showEmptyTextSelection',arguments);this.zI(textIndex);}catch(e){this.aV('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.ba('extendTextSelection',arguments);this.tF(textIndex);}catch(e){this.aV('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.ba('initializeViewControllers',arguments);this.aDK(showArtContextMenu);}catch(e){this.aV('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var au=this.xR();this.cC('get_autoUpdate',arguments,au);return au;}catch(e){this.aV('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.ba('set_autoUpdate',arguments);this.Ud(value);}catch(e){this.aV('set_autoUpdate',e);throw e;}}};module.exports=alW;},{}],114:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var od=require('./FitType');var Mk=function(){return this;};Mk.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:od.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Mk.registerClass=bY;Mk.registerClass('IPCC.Web.UI.PageViewState');module.exports=Mk;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var yl=function(x,y){this.x=x;this.y=y;return this;};yl.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};yl.registerClass=bY;yl.registerClass('IPCC.Web.UI.Point');module.exports=yl;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Lt=function(){var as=[];var ai=new IPCC.Web.UI.hj();this.aox=function(bK){var V=new IPCC.Web.UI.PointEventArgs();V.point=bK;V.length=1;as.push(new IPCC.Web.UI.Point(bK.x,bK.y));V.index=as.length-1;this.aK('pointAdded',V);};this.anA=function(alY){var V=new IPCC.Web.UI.PointEventArgs();V.index=as.length;V.length=alY.get_length();function lp(bK){as.push(bK);};alY.forEach(lp,{});if(V.length>0){this.aK('pointAdded',V);}};this.kR=function(hT,dp){var aaK=[].concat(as);var G;for(G=0;G<aaK.length;G++){hT.call(dp,new IPCC.Web.UI.Point(aaK[G].x,aaK[G].y),G,this);}};this.An=function(bv){lV(bv);var es=as[bv];return new IPCC.Web.UI.Point(es.x,es.y);};this.aDX=function(bv,bK){lV(bv);IPCC.aq.bK(bK,'point');var Np=as[bv];if(Np.x===bK.x&&Np.y===bK.y){return;}Np.x=bK.x;Np.y=bK.y;var V=new IPCC.Web.UI.PointEventArgs();V.point=bK;V.index=bv;V.length=1;this.aK('pointChanged',V);};this.eQ=function(){return as.length;};this.awj=function(bv){lV(bv);var V=new IPCC.Web.UI.PointEventArgs();V.point=as[bv];V.index=bv;V.length=1;as.splice(bv,1);this.aK('pointRemoved',V);};this.avU=function(){if(as.length<1){return;}var V=new IPCC.Web.UI.PointEventArgs();V.index=0;V.length=as.length;as=[];this.aK('pointRemoved',V);};this.akY=function(fE,ek){if(fE===0&&ek===0){return;}IPCC.aq.gB(fE,'deltaX');IPCC.aq.gB(ek,'deltaY');var G;for(G=0;G<as.length;G++){as[G].x+=fE;as[G].y+=ek;}var V=new IPCC.Web.UI.PointEventArgs();V.index=0;V.length=as.length;this.aK('pointChanged',V);};this.tu=function(){if(as.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var G,gS=as[0].x,iB=as[0].x,_top=as[0].y,kG=as[0].y;for(G=1;G<as.length;G++){var bK=as[G];gS=Math.min(gS,bK.x);iB=Math.max(iB,bK.x);_top=Math.min(_top,bK.y);kG=Math.max(kG,bK.y);}return new IPCC.Web.UI.Rectangle(gS,_top,iB-gS,kG-_top);};function lV(bv){if(bv>as.length-1||(bv<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bv);}};this.auP=function(T){ai.addHandler('pointAdded',T);};this.axk=function(T){ai.removeHandler('pointAdded',T);};this.auD=function(T){ai.addHandler('pointChanged',T);};this.axT=function(T){ai.removeHandler('pointChanged',T);};this.atr=function(T){ai.addHandler('pointRemoved',T);};this.avv=function(T){ai.removeHandler('pointRemoved',T);};this.aK=function(dP,V){var T=ai.getHandler(dP);if(T!==null){T(this,V);}};return this;};Lt.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aox(point);},addPoints:function(pointCollection){this.anA(pointCollection);},forEach:function(method,context){this.kR(method,context);},getPoint:function(index){return this.An(index);},setPoint:function(index,point){this.aDX(index,point);},get_length:function(){return this.eQ();},removePoint:function(index){this.awj(index);},removeAllPoints:function(){this.avU();},moveAllPoints:function(deltaX,deltaY){this.akY(deltaX,deltaY);},add_pointAdded:function(handler){this.auP(handler);},remove_pointAdded:function(handler){this.axk(handler);},add_pointChanged:function(handler){this.auD(handler);},remove_pointChanged:function(handler){this.axT(handler);},add_pointRemoved:function(handler){this.atr(handler);},remove_pointRemoved:function(handler){this.avv(handler);}};Lt.registerClass=bY;Lt.registerClass('IPCC.Web.UI.PointCollection');module.exports=Lt;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var KM=function(){return this;};KM.registerClass=bY;KM.prototype={};KM.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=KM;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var PN=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};PN.prototype={intersect:function(rectangle){var bi=Math.max(this.x,rectangle.x);var aO=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bi;var de=Math.max(this.y,rectangle.y);var by=Math.min(this.y+this.height,rectangle.y+rectangle.height)-de;if(aO<=0||by<=0){bi=de=aO=by=0;}this.x=bi;this.y=de;this.width=aO;this.height=by;},union:function(rectangle){var gS=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var iB=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kG=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gS;this.y=_top;this.width=iB-gS;this.height=kG-_top;return this;},scale:function(abI,LE){LE=LE||abI;var gS=this.x*abI;var _top=this.y*LE;var aO=this.width*abI;var by=this.height*LE;this.x=gS;this.y=_top;this.width=aO;this.height=by;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};PN.registerClass=bY;PN.registerClass('IPCC.Web.UI.Rectangle');module.exports=PN;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var NS=function(){};NS.registerEnum=eN;NS.prototype={None:0,Both:3,Auto:4};NS.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=NS;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var bY=require('../../IPCC.Util').regClass;var Mq=function(){return this;};Mq.registerClass=bY;Mq.prototype={};Mq.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Mq;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var xY=require('./../../Type');var Zk={apb:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').Dj,ImGearHttpException:require('./ImGearExceptions').DX,ImGearArgumentException:require('./ImGearExceptions').sN,ImGearArgumentNullException:require('./ImGearExceptions').EF,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').qo,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').EB,ImGearInvalidOperationException:require('./ImGearExceptions').Ec,ImGearNotImplementedException:require('./ImGearExceptions').Dk,ImGearParameterCountException:require('./ImGearExceptions').EV,hj:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),bC:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Yb:require('./highlightItem')};xY.registerNamespace('IPCC.Web.UI');module.exports=Zk;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var eN=require('../../IPCC.Util').regEnum;var Me=function(){};Me.registerEnum=eN;Me.prototype={Top:0,Center:1,Bottom:2};Me.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Me;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var Yb=function(){this.gx=undefined;this.ci=[];this.aD={};};module.exports=Yb;},{}],124:[function(require,module,exports){var Zk=require('././UI/UI');var C=require('./../IPCC.Util');var Ag=require('./Cipher');var avs=require('./Hash');var gi=require('./Codec');var Dy=require('./Mode');var hc={};hc.aEM=[];hc.xQ=function(bi){return!isNaN(bi-0)&&bi!==null;};hc.xT=function(rY,cJ){return IPCC.Web.ajk(false,arguments);};hc.aiy=function(rY,cJ){return IPCC.Web.ajk(true,arguments);};hc.ajk=function(useLocale,cJ){var aC='';var rY=cJ[0];for(var G=0;;){var eT=rY.indexOf('{',G);var mp=rY.indexOf('}',G);if((eT<0)&&(mp<0)){aC+=rY.slice(G);break;}if((mp>0)&&((mp<eT)||(eT<0))){if(rY.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aC+=rY.slice(G,mp+1);G=mp+2;continue;}aC+=rY.slice(G,eT);G=eT+1;if(rY.charAt(G)==='{'){aC+='{';G++;continue;}if(mp<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var Qt=rY.substring(G,mp);var OW=Qt.indexOf(':');var afZ=parseInt((OW<0)?Qt:Qt.substring(0,OW),10)+1;if(isNaN(afZ)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var aaw=(OW<0)?'':Qt.substring(OW+1);var sv=cJ[afZ];if(typeof(sv)==="undefined"||sv===null){sv='';}if(sv.toFormattedString){aC+=sv.toFormattedString(aaw);}else if(useLocale&&sv.aiy){aC+=sv.aiy(aaw);}else if(sv.format){aC+=sv.format(aaw);}else{aC+=sv.toString();}G=mp+1;}return aC;};hc.aGN=function(vq){var pY=vq.length;var xc=Math.ceil(pY/4),KJ;var fC=[];fC.length=xc;for(var lj=0,fQ=0;lj<xc;lj++,fQ+=4){fC[lj]=((vq[fQ]&0xff)<<24)+((vq[fQ+1]&0xff)<<16)+((vq[fQ+2]&0xff)<<8)+(vq[fQ+3]&0xff);}if(fQ<pY){KJ[lj]=0;for(var yH=0;fQ<pY;fQ++,yH++){KJ[lj]+=(vq[fQ++]&0xff)<<(3-yH);}}return fC;};hc.ats=function(bm){var pY=bm.length;var xc=Math.ceil(pY/4);var fC=[];fC.length=xc;for(var lj=0,fQ=0;lj<xc;lj++,fQ+=4){fC[lj]=((bm.charCodeAt(fQ)&0xff)<<24)+((bm.charCodeAt(fQ+1)&0xff)<<16)+((bm.charCodeAt(fQ+2)&0xff)<<8)+((bm.charCodeAt(fQ+3)&0xff));}if(fQ<pY){fC[lj]=0;for(var yH=0;fQ<pY;fQ++,yH++){fC[lj]+=(bm.charCodeAt(fQ++)&0xff)<<(3-yH);}}return fC;};hc.aIz=function(zE){var CE=new Uint8Array(zE);var pY=CE.length;var xc=Math.ceil(pY/4),KJ;var fC=[];fC.length=xc;for(var lj=0,fQ=0;lj<xc;lj++,fQ+=4){fC[lj]=(CE[fQ]<<24)+(CE[fQ+1]<<16)+(CE[fQ+2]<<8)+CE[fQ+3];}if(fQ<pY){fC[lj]=0;for(var yH=0;fQ<pY;fQ++,yH++){KJ[lj]+=CE[fQ++]<<(3-yH);}}return fC;};hc.Gj=function(fC,hg){var bF=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Ei(fC,bF,hg);};hc.Ei=function(fC,bF,hg){try{var apo=new IPCC.Web.Ag.aeE(bF);var cr=IPCC.Web.Dy.aEk.UM(apo,fC,hg);return cr;}catch(ax){return;}};hc.IW=function(GB){return IPCC.Web.ats(GB.responseText);};hc.QA=function(){var Ek=new Date();var aBD=new Date(Ek.getYear(),Ek.getMonth(),Ek.getDate(),Ek.getHours(),Ek.getMinutes(),Ek.getSeconds());return(+aBD);};hc.kK=function(cq,elt){var len=cq.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in cq&&cq[from]===elt){return from;}}return-1;};hc.apc=function aHU(){var kq=0xefc8249d;var sr=function(cr){cr=cr.toString();for(var G=0;G<cr.length;G++){kq+=cr.charCodeAt(G);var eb=0.02519603282416938*kq;kq=eb>>>0;eb-=kq;eb*=kq;kq=eb>>>0;eb-=kq;kq+=eb*0x100000000;}return(kq>>>0)*2.3283064365386963e-10;};sr.xr='Mash 0.9';return sr;};hc.adY=function aGp(){return(function(cJ){var EY=0;var Gn=0;var zL=0;var fr=1;if(cJ.length===0){cJ=[+new Date()];}var sr=IPCC.Web.apc();EY=sr(' ');Gn=sr(' ');zL=sr(' ');for(var G=0;G<cJ.length;G++){EY-=sr(cJ[G]);if(EY<0){EY+=1;}Gn-=sr(cJ[G]);if(Gn<0){Gn+=1;}zL-=sr(cJ[G]);if(zL<0){zL+=1;}}sr=null;var vT=function(){var qI=2091639*EY+fr*2.3283064365386963e-10;EY=Gn;Gn=zL;zL=qI-(fr=qI|0);return zL;};vT.agy=function(){return vT()*0x100000000;};vT.aFr=function(){return vT()+(vT()*0x200000|0)*1.1102230246251565e-16;};vT.xr='Alea 0.9';vT.cJ=cJ;return vT;}(Array.prototype.slice.call(arguments)));};hc.po=function(){if(this.agS===undefined){var Bz=document.createElement("div");Bz.style.overflow='scroll';Bz.style.position='absolute';Bz.style.top='-9999px';document.body.appendChild(Bz);this.agS=Bz.offsetWidth-Bz.clientWidth;document.body.removeChild(Bz);}return this.agS;};hc.FR={ald:function(hs){var IT=[];var aax=IPCC.Web.adY().agy;for(var G=0;G<hs;G++){IT.push(aax());}return IT;},aaE:function(hs,er){var IT=[];var aax=IPCC.Web.adY(er).agy;for(var G=0;G<hs;G++){IT.push(aax());}return IT;},aGn:function(hg,aDE){var hs,ir=true,eA="",HS,TX,aat,Lh,NQ,alw;for(hs=0;hs<4;hs++){if(!ir){eA+='-';}else{ir=false;}NQ=0;for(HS=0;HS<4;HS++){Lh=hs*32+HS*8;TX=IPCC.Web.hC.XR(hg,Lh,4);eA+=TX.toString(16).toUpperCase();aat=IPCC.Web.hC.XR(hg,Lh+4,4);eA+=aat.toString(16).toUpperCase();alw=(TX*16+aat+IPCC.Web.hC.XR(IPCC.Web.bF,Lh,8))%256;NQ=NQ|(alw<<(24-(HS*8)));}aDE.aEM[hs]=NQ;}return eA;}};hc.bF=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hc.hC={TZ:function(dc,ss,afS){dc=IPCC.Web.hC.aeQ(dc.slice(ss/32),32-(ss&31)).slice(1);return(afS===undefined)?dc:IPCC.Web.hC.Qn(dc,afS-ss);},XR:function(dc,ss,Sr){var bi,TA=Math.floor((-ss-Sr)&31);if((ss+Sr-1^ss)& -32){bi=(dc[ss/32|0]<<(32-TA))^(dc[ss/32+1|0]>>>TA);}else{bi=dc[ss/32|0]>>>TA;}return bi&((1<<Sr)-1);},XU:function(Ap,we){if(Ap.length===0||we.length===0){return Ap.concat(we);}var hV=Ap[Ap.length-1],rq=IPCC.Web.hC.abc(hV);if(rq===32){return Ap.concat(we);}else{return IPCC.Web.hC.aeQ(we,rq,hV|0,Ap.slice(0,Ap.length-1));}},uv:function(dc){var pG=dc.length,bi;if(pG===0){return 0;}bi=dc[pG-1];return(pG-1)*32+IPCC.Web.hC.abc(bi);},Qn:function(dc,dn){if(dc.length*32<dn){return dc;}dc=dc.slice(0,Math.ceil(dn/32));var pG=dc.length;dn=dn&31;if(pG>0&&dn){dc[pG-1]=IPCC.Web.hC.IK(dn,dc[pG-1]&0x80000000>>(dn-1),1);}return dc;},IK:function(dn,bi,fd){if(dn===32){return bi;}return(fd?bi|0:bi<<(32-dn))+dn*0x10000000000;},abc:function(bi){return Math.round(bi/0x10000000000)||32;},aAO:function(dc,fq){if(IPCC.Web.hC.uv(dc)!==IPCC.Web.hC.uv(fq)){return false;}var bi=0,G;for(G=0;G<dc.length;G++){bi|=dc[G]^fq[G];}return(bi===0);},aeQ:function(dc,rq,Ha,eA){var G,ajt=0,Rw;if(eA===undefined){eA=[];}for(;rq>=32;rq-=32){eA.push(Ha);Ha=0;}if(rq===0){return eA.concat(dc);}for(G=0;G<dc.length;G++){eA.push(Ha|dc[G]>>>rq);Ha=dc[G]<<(32-rq);}ajt=dc.length?dc[dc.length-1]:0;Rw=IPCC.Web.hC.abc(ajt);eA.push(IPCC.Web.hC.IK(rq+Rw&31,(rq+Rw>32)?Ha:eA.pop(),1));return eA;},aca:function(bi,de){return[bi[0]^de[0],bi[1]^de[1],bi[2]^de[2],bi[3]^de[3]];}};hc.Ag=Ag;hc.qY=avs;hc.gi=gi;hc.Dy=Dy;hc.amU=C.amU;hc.UI=Zk;hc.regEnum=C.regEnum;hc.regClass=C.regClass;module.exports=hc;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var aaQ=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=aaQ;},{}],126:[function(require,module,exports){var anJ=function(Jm,bE){var Mf=new IPCC.PageList(Jm);if(bE){IPCC.Nn(Mf,bE);}Mf.tn(Jm);Mf.initialize();return Mf;};module.exports=anJ;},{}],127:[function(require,module,exports){var aqN=function(Jm,Vv){var qa=Vv.handleTouchEvents!==false;var Mh=new IPCC.Web.UI.PageView(Jm,qa);if(Vv){IPCC.Nn(Mh,Vv);}Mh.tn(Jm);Mh.initialize();return Mh;};module.exports=aqN;},{}],128:[function(require,module,exports){var pL={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=pL;},{}],129:[function(require,module,exports){var Nn=function(cP,km){var nR;for(var bA in km){if(km.hasOwnProperty(bA)){var bu=km[bA];var anT=cP["get_"+bA];var aed=cP["set_"+bA];if(typeof(aed)==='function'){aed.apply(cP,[bu]);}else if(bu instanceof Array){nR=anT.apply(cP);if(!(nR instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bA+" is not an Array property");}for(var G=0,bo=nR.length,pG=bu.length;G<pG;G++,bo++){nR[bo]=bu[G];}}}}};module.exports=Nn;},{}],130:[function(require,module,exports){"use strict";var adX=function(aT){if(aT instanceof PCCViewer.AjaxResponse){return aT;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(aT);}this.ps=new IPCC.C.ps(aT);this.status=this.ps.status;this.statusText=this.ps.statusText;this.responseText=this.ps.responseText;if(typeof this.ps.responseBody!=='undefined'){this.responseBody=this.ps.responseBody;}return this;};adX.prototype.getResponseHeader=function(CZ){return this.ps.getResponseHeader(CZ);};var DJ=(function(){function asm(){return IPCC.C.extend({},IPCC.C.mD.jo);};function arF(jo){if(!(typeof jo==='undefined'||(typeof jo==='object'&&jo!==null&& !(jo instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof jo==='object'){var aAw=Object.keys(IPCC.C.anf());Object.keys(jo).forEach(function(CZ){if(aAw.indexOf(CZ)!== -1){throw new Error('Cannot overwrite the header "'+CZ+'".');}});}IPCC.C.mD.jo=IPCC.C.extend({},jo);return PCCViewer.Ajax;};function auG(){return IPCC.C.mD.Nu;};function asp(hT){if(typeof hT!=='undefined'&&typeof hT!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.C.mD.Nu=hT;return PCCViewer.Ajax;};function eT(bE){var bO=PCCViewer.Deferred();if(!(typeof bE==='undefined'||(typeof bE==='object'&&bE!==null&& !(bE instanceof Array)))){throw new Error('Options should be an object or undefined.');}function eZ(aT){if(!(aT instanceof PCCViewer.AjaxResponse)){aT=new PCCViewer.AjaxResponse(aT);}bO.resolve(aT);};function ft(aC){if(aC.response){aC.response=new PCCViewer.AjaxResponse(aC.response);}bO.reject(aC);};IPCC.C.mD.eT(bE).then(eZ,ft);return bO.getPromise();};return{getHeaders:asm,setHeaders:arF,getOverrideMethod:auG,setOverrideMethod:asp,eT:eT,};})();if(Object.defineProperties){Object.defineProperties(DJ,{"headers":{enumerable:true,get:function(){return DJ.getHeaders();},set:function(jo){return DJ.setHeaders(jo);}},"overrideMethod":{enumerable:true,get:function(){return DJ.getOverrideMethod();},set:function(hT){return DJ.setOverrideMethod(hT);}}});}module.exports={AjaxResponse:adX,Ajax:DJ};},{}],131:[function(require,module,exports){var BurnRequest=function(bE){this.oT="";this.eV="";this.ll=0;this.pU="";this.eo="";this.qk=0;this.gC=false;this.tc=0;this.aan="";this.rg=false;this.bO=PCCViewer.Deferred();this.cd=this.bO.getPromise();this.then=this.cd.then;this.bE=bE;this.eo=null;this.dX=undefined;this.rV=false;this.RX=null;PCCViewer.EventEmitter.extend(this);var h=this;if(bE.mW){var mW=new PCCViewer.Error(bE.mW.code,bE.mW.message);delete h.bE.mW;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.eo=mW.code;h.bO.reject(mW);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var h=this;this.rg=true;this.eo="User Cancelled";setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.ll;};BurnRequest.prototype.getWorkerID=function(){return this.oT;};BurnRequest.prototype.getOptions=function(){return this.bE;};BurnRequest.prototype.getErrorCode=function(){return this.eo;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.RX;};BurnRequest.prototype.aDh=function(jM){this.aan=jM;};BurnRequest.prototype.MG=function(dX){this.dX=dX;};BurnRequest.prototype.SJ=function(){var h=this;this.eo="Failure to generate Markup XML";setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("MarkupXMLFail",h.eo));},0);return this;};BurnRequest.prototype.DN=function(){function eZ(aT){var gu,aC;try{gu=aT.responseText;if(!gu){setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);h.rV=true;return;}else{aC=JSON.parse(gu);setTimeout(function(){aAg(aC);},0);}}catch(e){setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);h.rV=true;return;}};function ft(aC){h.gC=false;var dw=aC.response.status+" "+aC.response.statusText;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("StatusCode","Status Code "+dw));},0);h.rV=true;return;};try{if(!this.aan){throw new Error("XMl Markup data for burn is missing");}var h=this;var aem=function(){var Ys;if(!(/^[\x00-\x7F]*$/.test(h.dX.aZ.get_documentIdentifier()))){Ys=h.dX.bE.imageHandlerUrl+'/ViewingSession/e'+h.dX.bE.documentID+'/MarkupBurner/'+h.oT;}else{Ys=h.dX.bE.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(h.dX.bE.documentID)+'/MarkupBurner/'+h.oT;}PCCViewer.Ajax.eT({method:'GET',url:Ys,headers:{'Content-Type':'application/json'}}).then(eZ,ft);};var aAg=function(hz){if(hz){if(h.rg===true){h.gC=false;return;}if(hz.percentComplete>=0&&h.gC===true){if(hz.percentComplete===100&&hz.state==='complete'){if(hz.processId){h.gC=false;h.oT=hz.processId;h.eV=hz.state;h.qk+=1;h.tc=1000;h.ll= +(hz.percentComplete);var JH;if(!(/^[\x00-\x7F]*$/.test(h.dX.aZ.get_documentIdentifier()))){JH=h.dX.bE.imageHandlerUrl+'/ViewingSession/e'+h.dX.bE.documentID+'/MarkupBurner/'+h.oT+"/Document";}else{JH=h.dX.bE.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(h.dX.bE.documentID)+'/MarkupBurner/'+h.oT+"/Document";}if(h.bE.filename){JH+="?ContentDispositionFilename="+h.bE.filename;}h.RX=JH;h.rV=true;var azW= +(hz.percentComplete);setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});h.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:azW});h.bO.resolve(JH);},10);return;}}else{if(hz.state==='error'){h.gC=false;h.eo=hz.errorCode;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+h.eo));},0);h.gC=false;h.rV=true;return;}if(hz.processId){var Vt= +(hz.percentComplete);if(h.ll!==Vt){setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Vt});},10);}if(!h.oT){h.oT=hz.processId;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);h.eV=hz.state;h.qk=1;h.gC=true;h.tc=1000;h.ll= +(hz.percentComplete);}if(hz.percentComplete<100){if(h.qk>1){h.tc+=1000;}h.qk+=1;h.eV=hz.state;h.ll= +(hz.percentComplete);if(h.gC===true&&h.rg===false&&h.rV===false){setTimeout(aem,h.tc);}}}}}else{if(h.rV===false){var XQ=false;if(h.gC===false){if(hz.state==='complete'){if(!h.RX){XQ=true;}else{h.rV=true;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});h.bO.resolve(h.RX);},10);return;}}if(hz.state==='processing'&&hz.errorCode===null){if(hz.percentComplete>=0&&hz.percentComplete<100){if(h.qk>1){h.tc+=1000;}h.qk+=1;h.gC=true;h.eV=hz.state;h.ll= +(hz.percentComplete);if(h.gC===true&&h.rg===false){setTimeout(aem,h.tc);}}else{XQ=true;}}if(hz.state==='error'||XQ===true){h.gC=false;h.eo=hz.errorCode;setTimeout(function(){h.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});h.bO.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+hz.errorCode));},0);h.gC=false;h.rV=true;return;}}}}}};var bd;if(!(/^[\x00-\x7F]*$/.test(h.dX.aZ.get_documentIdentifier()))){bd=h.dX.bE.imageHandlerUrl+'/ViewingSession/e'+h.dX.bE.documentID+'/MarkupBurner';}else{bd=h.dX.bE.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(h.dX.bE.documentID)+'/MarkupBurner';}var Pk=[];if(h.bE.removeFormFields){Pk.push('RemoveFormFields=acroform');}if(h.bE.redactionOptions){Pk.push(h.bE.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(Pk.length>0){bd+=('?'+Pk.join('&'));}PCCViewer.Ajax.eT({method:'POST',url:bd,headers:{'Content-Type':'application/xml;charset=utf-8'},body:h.aan}).then(eZ,ft);h.gC=true;}catch(e){this.gC=false;var bp=this,jZ=e.message;setTimeout(function(){bp.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bp.bO.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+jZ));},0);this.rV=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function arX(aZ,bj){var al=aZ.cc.iP(bj);var dW=al.cB();return dW.Cd();};function asd(aZ,bj){var al=aZ.cc.iP(bj);var dW=al.cB();var FZ=dW.hl();return FZ.apn();};function aoQ(Aw,ayb){var dn=Aw.length;if(dn===0){return false;}if(dn!==ayb){return false;}for(var G=0;G<dn;G++){if(Aw[G]!==true){return false;}}return true;};var QB=function(){var h=this;this.GX=false;this.Aw=[];this.rS=[];this.Ad=[];this.anQ=0;this.aP=0;this.jx=false;function rZ(Mg,VK){switch(Mg){case 'failed':setTimeout(function(){h.aM.trigger('SearchFailed',VK);},10);break;case 'complete':h.aM.fI=h.rS;h.aM.VI=h.Ad;h.aM.tJ=true;setTimeout(function(){h.aM.trigger('SearchResultsAvailable',{completedSearchResults:(h.rS)});},10);break;case 'cancelled':break;}setTimeout(function(){h.aM.trigger('SearchCompleted',{completedSearchResults:(h.rS)});},10);};function asU(){h.aM.ds='Unable to communicate with server, please retry loading the document.';h.aM.eo='1011';h.aM.tJ=true;rZ('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});h.jx=true;};function ajN(bE,axK){var ayN=IPCC.C.trim(bE.type||'').toLowerCase();var aC;switch(ayN){case 'taskresult':aC=new PCCViewer.SearchTaskResult();break;default:aC=new PCCViewer.SearchResult();break;}IPCC.C.extend(aC,axK);var acz=aC.qL+aC.text.length-1;var dp=PCCViewer.Hm.formatter.getContext({text:bE.searchText,startIndex:aC.qL,endIndex:acz,padding:aC.bH.contextPadding});aC.dp=dp.context;aC.Af=dp.startIndex;if(bE.rectangles){var acY={rectangles:bE.rectangles,startIndex:aC.qL,endIndex:acz};aC.nd=PCCViewer.Hm.formatter.getBoundingRectangle(acY);aC.aj=PCCViewer.Hm.formatter.getLineRectangles(acY);}return aC;};function aiX(lC,wX,HL,hi,fU){var Ks=[];var Zi= !hi;var vX=wX.distance;var Ah=[];IPCC.C.forEach(wX.cf,function(cf){Ah.push(cf.searchTerm);});var azE=PCCViewer.Hm.proximity.getResults(HL,Ah,vX);IPCC.C.forEach(azE,function(aC){var ec=ajN({type:Zi?'TaskResult':'Result',searchText:HL,rectangles:hi},{fU:fU,bH:wX.wE,lC:lC,sx:wX.highlightColor,qL:aC.startIndex,bm:aC.text});Ks.push(ec);});return Ks;};function Pm(lC,cf,HL,hi,fU){var Zi= !hi;var Ks=[];var Ld=[cf.searchTerm];var fI=PCCViewer.Hm.regex.getResults(HL,Ld);IPCC.C.forEach(fI,function(aC){if(cf.wE.matchingOptions.wildcard&&(aC.text[0]===" "||aC.text[0]==="\n")){aC.text=aC.text.substring(1);aC.startIndex+=1;}var ec=ajN({type:Zi?'TaskResult':'Result',searchText:HL,rectangles:hi},{fU:fU,lC:lC,cf:cf,bH:cf.wE,qL:aC.startIndex,bm:aC.text,sx:cf.highlightColor});Ks.push(ec);});return Ks;};function aob(alP,bj,aZ,hi){var Un=[];var lC=Date.now();IPCC.C.forEach(h.cf,function(cf,G){var fI;var og=IPCC.C.NT(cf.type);var al=aZ.cc.iP(bj);var dW=al.cB();var fU={width:al.lq()||dW.aoz(),height:al.iT()||dW.aEq()};switch(og){case 'proximity':fI=aiX(lC,cf,alP,hi,fU);break;default:fI=Pm(lC,cf,alP,hi,fU);break;}IPCC.C.forEach(fI,function(aC){aC.dz=h.aP;aC.aa=bj+1;aC.HV=aZ.get_documentIdentifier();h.rS[h.aP]=aC;h.aP++;Un.push(aC);});});h.aM.fI=h.rS;if(Un.length){setTimeout(function(){h.aM.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Un),pagesWithoutText:(h.Ad)});},10);}};function aEf(bm){var lC=Date.now();IPCC.C.forEach(h.cf,function(cf,G){var og=IPCC.C.NT(cf.type);var fI;switch(og){case 'proximity':fI=aiX(lC,cf,bm);break;default:fI=Pm(lC,cf,bm);break;}IPCC.C.forEach(fI,function(aC){aC.dz=h.aP;h.rS[h.aP]=aC;h.aP++;});});h.aM.fI=h.rS;};function abP(AG,aZ){for(var G=0;G<AG.length;G++){if(h.Aw[AG[G]]===false){h.Aw[AG[G]]=true;var bm=arX(aZ,AG[G]);var hi=asd(aZ,AG[G]);if(!bm&&bm!==null){h.Ad[h.anQ]=AG[G];h.anQ++;continue;}aob(bm,AG[G],aZ,hi);if(h.aM.rg){if(h.GX){rZ('cancelled');h.GX=false;aZ.remove_textPagesReceived(PD);return;}break;}}}if(aoQ(h.Aw,aZ.eP)&& !h.aM.tJ){rZ('complete');h.GX=false;aZ.remove_textPagesReceived(PD);}};function PD(sender,V){if(V.error=== -1){asU();return h.aM;}try{if(h.jx===false){abP(V.textPagesReceived,sender);}}catch(e){h.aM.ds=e.message;h.aM.eo='1010';h.aM.tJ=true;rZ('failed',{errorMessage:(e.message)});h.jx=true;return h.aM;}};this.Xk=function(aZ,cf,cZ,aM){h.cf=cf;h.aM=aM;h.aM.cZ=cZ;h.aM.on('SearchCancelled',function(){rZ('cancelled');h.GX=false;aZ.remove_textPagesReceived(PD);});for(var G=0;G<aZ.eP;G++){h.Aw[G]=false;}if(aZ.ajM().eQ()>aZ.get_numberOfPagesWithText()){h.GX=true;aZ.add_textPagesReceived(PD);}if(aZ.get_numberOfPagesWithText()>0){abP(aZ.get_pagesWithText(),aZ);}return h.aM;};this.ayO=function(bm){this.aM=new PCCViewer.SearchRequest();try{aEf(bm);}catch(e){h.aM.ds=e.message;h.aM.eo='1010';return;}};};module.exports=QB;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aGO(){return conversation;};if(typeof comment==='string'){this.oz=new IPCC.Web.UI.Comment(comment);}else{this.oz=comment;}this.oz.Jc=this;this.cr=this.oz.get_data();PCCViewer.Data.extend(this);this.CO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aHP(){return this.iS;};Comment.prototype.getText=function aHV(){return this.oz.get_text();};Comment.prototype.setText=function aHC(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.oz.set_text(text);return this;};Comment.prototype.getCreationTime=function aGR(){var aAe=IPCC.C.Jd(this.oz.get_creationTime());return new Date(aAe);};Comment.prototype.setCreationTime=function aGP(time){function ahr(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var amT=IPCC.C.Jd(time);if(amT instanceof Error){ahr();}time=new Date(amT);}if(!(time instanceof Date)){ahr();}this.oz.set_creationTime(IPCC.C.vh(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Qs(){return mark;};this.jk=new PCCViewer.ObservableCollection();if(typeof mark.K!=="undefined"){this.xt=mark.K.get_conversation();this.xt.forEach(function(oz){var bX=new PCCViewer.Comment(oz,this);this.jk.add(bX);},this);}else{this.xt=new IPCC.Web.UI.Conversation();}this.cr=this.xt.get_data();PCCViewer.Data.extend(this);this.CO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function JL(commentText){var bX=new PCCViewer.Comment(commentText,this);this.jk.add(bX);this.xt.addComment(bX.oz);return bX;};Conversation.prototype.deleteComments=function(comments){var h=this;var agl=this.jk.toArray();var alN=function(bX){for(var i=0,length=agl.length;i<length;i++){if(agl[i]===bX){return true;}}return false;};function agI(bX,aP){throw new Error(bX+((aP!==undefined)?' (Array index '+aP+')':'')+' is not a PCCViewer.Comment object.');};function agT(bX,aP){throw new Error(((aP!==undefined)?' (Array index '+aP+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!alN(comments)){agT(comments);}h.jk.remove(comments);h.xt.removeCommentInstance(comments.oz);}else if(comments instanceof Array){IPCC.C.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){agI(el,idx);}if(!alN(el)){agT(el,idx);}});IPCC.C.forEach(comments,function(el){h.jk.remove(el);h.xt.removeCommentInstance(el.oz);});}else{agI(comments);}return this;};Conversation.prototype.getComments=function(){return this.jk.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.sX=function(hH,pb){if(typeof hH.getComments!=="function"||typeof pb.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.pa(hH,pb);var gI=hH.getComments(),i,length=gI.length;for(i=0;i<length;i++){var agf=gI[i];var azU=pb.addComment(agf.getText());PCCViewer.Data.pa(agf,azU);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(bE){this.oT="";this.eV="";this.ll=0;this.eo="";this.gC=false;this.rg=false;this.bE=bE;this.Aq=null;this.BG=null;this.dX=undefined;this.bO=PCCViewer.Deferred();this.cd=this.bO.getPromise();this.then=this.cd.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var h=this;this.rg=true;this.eo="User Cancelled";setTimeout(function(){h.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});h.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});h.bO.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.ll;};ConversionRequest.prototype.getWorkerID=function(){return this.oT;};ConversionRequest.prototype.getOptions=function(){return this.bE;};ConversionRequest.prototype.getErrorCode=function(){return this.eo;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Aq;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.BG){return this.BG.slice();}return null;};ConversionRequest.prototype.MG=function(dX){this.dX=dX;};ConversionRequest.prototype.DN=function(){var h=this;h.gC=true;h.asE().then(function onResolve(rv){h.oT=rv.processId;h.ll=rv.percentComplete;h.eV=rv.state;h.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});h.azk(rv).then(function onResolve(awy){h.gC=false;h.BG=[];if(h.bE.xr>1){for(var G=0;G<h.axD;G++){var Aq=h.dX.bE.imageHandlerUrl+'/v2/viewingSessions/'+h.dX.bE.documentID+'/contentConverters/'+h.oT+'/results/'+G+'/file?ContentDispositionFilename='+encodeURIComponent(h.bE.filename);h.BG.push(Aq);}h.bO.resolve(h.BG);}else{h.Aq=h.dX.bE.imageHandlerUrl+'/WorkFile/'+awy+"?ContentDispositionFilename="+encodeURIComponent(h.bE.filename);if(rv.affinityToken){h.Aq+="&affinityToken="+encodeURIComponent(rv.affinityToken);}h.BG.push(h.Aq);h.bO.resolve(h.Aq);}h.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){h.gC=false;h.eo=reason.error.code;h.bO.reject(reason);h.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){h.gC=false;h.bO.reject(reason);h.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.asE=function(){var bd,jW=PCCViewer.Deferred();var Xv;if(this.bE.xr>1){bd=this.dX.bE.imageHandlerUrl+'/v2/viewingSessions/'+this.dX.bE.documentID+'/contentConverters/';Xv={url:bd,method:'POST',headers:{"Content-Type":"application/json"}};}else{bd=this.dX.bE.imageHandlerUrl+'/contentConverters/';Xv={url:bd,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.dX.bE.documentID})};}PCCViewer.Ajax.eT(Xv).then(function eZ(aT){var aC=JSON.parse(aT.responseText);jW.resolve(aC);},function ft(aC){jW.reject(aC.error);});return jW.getPromise();};ConversionRequest.prototype.azk=function(rv){var bd,jW=PCCViewer.Deferred(),h=this,jo;if(h.bE.xr>1){bd=this.dX.bE.imageHandlerUrl+'/v2/viewingSessions/'+this.dX.bE.documentID+'/contentConverters/'+rv.processId;}else{bd=this.dX.bE.imageHandlerUrl+'/contentConverters/'+rv.processId;}if(rv.affinityToken){jo={"Accusoft-Affinity-Token":rv.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.eT({method:'GET',url:bd,headers:jo}).then(function eZ(aT){var aC=JSON.parse(aT.responseText);h.oT=aC.processId;h.ll=aC.percentComplete;h.eV=aC.state;if(h.bE.xr>1&&aC.output){h.axD=aC.output.results.length;}h.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:h.ll});if(aC.percentComplete===100){if(aC.state==="error"){jW.reject({response:aT,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{jW.resolve(aC.output.results[0].fileId);}}else{poll();}},function ft(aC){jW.reject(aC.error);});},3000);})();return jW.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.cr.get_data(key);};function setData(key,value){this.cr.set_data(key,value);return this;};function getDataKeys(){return this.cr.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},pa:function(hH,pb){if(typeof hH.getData!=="function"||typeof hH.setData!=="function"||typeof hH.getDataKeys!=="function"||typeof pb.getData!=="function"||typeof pb.setData!=="function"||typeof pb.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var oU=hH.getDataKeys(),i,length=oU.length;for(i=0;i<length;i++){var bF=oU[i];pb.setData(bF,hH.getData(bF));}}};})();var SessionData=(function(){function getSessionData(key){return this.CO.get_data(key);};function setSessionData(key,value){this.CO.set_data(key,value);return this;};function getSessionDataKeys(){return this.CO.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHj:function(hH,pb){if(typeof hH.getSessionData!=="function"||typeof hH.setSessionData!=="function"||typeof hH.getSessionDataKeys!=="function"||typeof pb.getSessionData!=="function"||typeof pb.setSessionData!=="function"||typeof pb.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var oU=hH.getSessionDataKeys(),i,length=oU.length;for(i=0;i<length;i++){var bF=oU[i];pb.setSessionData(bF,hH.getSessionData(bF));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eV=PromiseDeferred.States.Pending;this.H=null;this.eu=null;this.gW=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var zk=new PromiseDeferred();var Wg,Vw;if(onFulfilled&&typeof onFulfilled==='function'){var aFB=function(H){try{var au=onFulfilled(H);zk.resolve(au);}catch(e){zk.reject(e);}};Wg=aFB;}else{var aFF=function(H){zk.resolve(H);};Wg=aFF;}if(onRejected&&typeof onRejected==='function'){var aGt=function(eu){try{var au=onRejected(eu);Zx(zk,au);}catch(e){zk.reject(e);}};Vw=aGt;}else{var aFJ=function(eu){zk.reject(eu);};Vw=aFJ;}this.gW.push({aFc:Wg,aAI:Vw});if(this.eV===PromiseDeferred.States.Fulfilled){this.afs();}if(this.eV===PromiseDeferred.States.Rejected){this.aeK();}return zk;};PromiseDeferred.prototype.resolve=function(x){if(!this.afh()){return;}Zx(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.afh()){return;}this.yK(reason);};PromiseDeferred.prototype.Zg=function(bi){this.eV=PromiseDeferred.States.Fulfilled;this.H=bi;this.afs();};PromiseDeferred.prototype.afs=function(){var callback;while(this.gW.length>0){callback=this.gW.shift().aFc;(function(lp,H){setTimeout(function(){lp(H);},0);})(callback,this.H);}};PromiseDeferred.prototype.aeK=function(){var callback;while(this.gW.length>0){callback=this.gW.shift().aAI;(function(lp,H){setTimeout(function(){lp(H);},0);})(callback,this.eu);}};function Zx(cd,bi){if(cd===bi){cd.yK(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bi&&bi.YH&&cd.adn&&cd.adn===bi){cd.yK(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bi&&bi.YH&&bi.YH==="PCCViewer.Promise"){bi.then(function(arC){cd.Zg(arC);},function(aqc){cd.yK(aqc);});}else if(bi!==null&&(typeof bi==='object'||typeof bi==='function')){var aaG;try{aaG=bi.then;}catch(e){cd.yK(e);return;}if(typeof aaG==='function'){var JA=true;var apV=function(de){if(JA){Zx(cd,de);JA=false;}};var apF=function(au){if(JA){cd.yK(au);JA=false;}};try{aaG.call(bi,apV,apF);}catch(e){if(JA){cd.yK(e);}}}else{cd.Zg(bi);}}else{cd.Zg(bi);}};PromiseDeferred.prototype.yK=function(reason){this.eV=PromiseDeferred.States.Rejected;this.eu=reason;this.aeK();};PromiseDeferred.prototype.afh=function(){return this.eV===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var Uw=new PromiseDeferred();function Promise(cd){this.then=function(onFulfilled,onRejected){return new Promise(cd.then(onFulfilled,onRejected));};this.YH="PCCViewer.Promise";cd.adn=this;};var promise=new Promise(Uw);return{getPromise:function(){return promise;},resolve:function(value){Uw.resolve(value);},reject:function(reason){Uw.reject(reason);}};};var Promise={all:function(promises){var i,bO=new PCCViewer.Deferred(),aaV=bO.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bO=new PCCViewer.Deferred();bO.resolve(value);return bO.getPromise();};bO.resolve([]);for(i=0;i<promises.length;i++){aaV=aaV.then(createPushFunction(promises[i]));}return aaV;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.AI=parameters.AI;this.aa=parameters.aa;};DocumentHyperlink.prototype.getHref=function(){return this.AI.ajH();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aa;};DocumentHyperlink.prototype.getRectangle=function(){return this.AI.fJ();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var Jf=function(code,message){var adZ=Error.call(null,message);this.code=code;function aAK(cP,hH){Object.getOwnPropertyNames(hH).forEach(function(propName){Object.defineProperty(cP,propName,Object.getOwnPropertyDescriptor(hH,propName));});return cP;};function aAt(cP,hH){for(var i in hH){if(hH.hasOwnProperty(i)){cP[i]=hH[i];}}return cP;};if(typeof Object.create==='function'){aAK(this,adZ);}else{aAt(this,adZ);}};var aCR=(function(){var eh=function(){};return function(adw){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adw!=='object'){throw TypeError('Argument must be an object');}eh.prototype=adw;var aC=new eh();eh.prototype=null;return aC;};})();if(typeof Object.create==='function'){Jf.prototype=Object.create(Error.prototype);}else{Jf.prototype=aCR(Error.prototype);}Jf.prototype.constructor=Jf;module.exports=Jf;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.cP=target;this.av=type;};Event.prototype.getTarget=function(){return this.cP;};Event.prototype.getType=function(){return this.av;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.kb){this.kb={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.kb[lowerCaseEventType];if(!handlers){handlers=this.kb[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.kb){this.kb={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.kb[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.kb){this.kb={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.kb[lowerCaseEventType],i,length=0;if(properties){PCCViewer.ro.sI(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var tY=function(eventEmitter){this.aU=eventEmitter;this.Jx=true;this.abV={};};tY.prototype.on=function(eventType,handler){this.aU.on(eventType,handler);return this.aU;};tY.prototype.off=function(eventType,handler){this.aU.off(eventType,handler);return this.aU;};tY.prototype.trigger=function(eventType,properties){if(this.Jx){var lowerCaseEventType=eventType.toLowerCase();if(this.abV[lowerCaseEventType]){var event=new PCCViewer.Event(this.aU,lowerCaseEventType);if(properties){PCCViewer.ro.sI(event,properties);}this.abV[lowerCaseEventType](event);}else{this.aU.trigger(eventType,properties);}}return this.aU;};tY.prototype.stop=function(){this.Jx=false;};tY.prototype.resume=function(){this.Jx=true;};tY.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.abV[lowerCaseEventType]=handler;};module.exports=tY;},{}],142:[function(require,module,exports){var awX={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=awX;},{}],143:[function(require,module,exports){var od={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=od;},{}],144:[function(require,module,exports){var ro={};ro.sI=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=ro;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bE=PCCViewer.ro.sI({},Options);};ImageStamps.prototype.requestImageStampList=function(){var bO=PCCViewer.Deferred();var cd=bO.getPromise();try{var bd=this.bE.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.eT({method:'GET',url:bd}).then(function eZ(aT){var sZ;if(aT.responseText.length>0){sZ=JSON.parse(aT.responseText);if(aT.status===200){bO.resolve(sZ);}else{bO.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function ft(aC){bO.reject(aC.error);});}catch(e){bO.reject(new PCCViewer.Error("Error",e.message));}return cd;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bO=PCCViewer.Deferred();var cd=bO.getPromise();try{var bd=this.bE.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.eT({method:'GET',url:bd,}).then(function eZ(aT){var sZ;if(aT.responseText.length>0){sZ=JSON.parse(aT.responseText);if(aT.status===200){bO.resolve(sZ);}else{bO.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function ft(aC){bO.reject(aC.error);});}catch(e){bO.reject(new PCCViewer.Error("Error",e.message));}return cd;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bE.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var asi={data:{},initializeData:function(arH){PCCViewer.Language.data=IPCC.C.extend({},arH);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(anq){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var oU=anq.split('.'),af=PCCViewer.Language.data,bF;while(oU.length){bF=oU.shift();af=af[bF];if(typeof af==='undefined'){af=anq;break;}}return af;}};module.exports=asi;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.vB=layerRecordIds;this.dJ=viewerControl;this.ae=viewerControl.ae;this.eo="";this.gC=false;this.rg=false;this.ll=0;this.bO=PCCViewer.Deferred();this.cd=this.bO.getPromise();this.then=this.cd.then;this.wz=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.ll;};LoadMarkupLayersRequest.prototype.cancel=function(){var h=this;this.rg=true;this.eo="User Cancelled";setTimeout(function(){h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});h.bO.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.dJ;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.eo;};LoadMarkupLayersRequest.prototype.DN=function(){var h=this,ZG=1,Yp,aai=[];var wz=this.wz;var acC=function(){h.gC=false;if(h.dJ.nM){h.bO.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{h.bO.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var sS=function(ala){function eZ(aT){if(h.ae.nM){acC();return;}var sn=JSON.parse(aT.responseText),OS=h.aAk(sn),fL,rQ=[],ad,hx=[],akM={},OG=0,Oi;for(var lG in OS.hx){if(OS.hx.hasOwnProperty(lG)){hx=hx.concat(OS.hx[lG]);}}fL=new PCCViewer.MarkupLayer(h.dJ,hx);fL.aIw={bd:bd};IPCC.C.forEach(OS.rQ,function(agk){rQ.push(agk);OG++;akM[agk.uid]=true;});if(sn.name){fL.setName(sn.name);}if(sn.originalXmlName){fL.setOriginalXmlName(sn.originalXmlName);}if(OG>0){Oi=function(ev){if(akM[ev.mark.getUid()]){OG--;}if(!OG){h.ae.aU.off(PCCViewer.EventType.MarkCreated,Oi);h.ae.rJ=true;}};h.ae.aU.on(PCCViewer.EventType.MarkCreated,Oi);h.ae.rJ=false;try{ad=h.ae.deserializeMarks(rQ);}catch(dq){h.gC=false;h.ae.aU.off(PCCViewer.EventType.MarkCreated,Oi);h.ae.rJ=true;h.bO.reject(new PCCViewer.Error('Error',dq.message));h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(wz){IPCC.C.forEach(ad,function(R){R.setVisible(false);});}fL.addMarks(ad);}fL.Wa=ala;for(var tK in sn.data){if(sn.data.hasOwnProperty(tK)){fL.setData(tK,sn.data[tK]);}}h.ae.getMarkupLayerCollection().addItem(fL);aai.push(fL);ZG--;h.ll=(h.vB.length-ZG)/h.vB.length;h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:h.ll});if(h.ll===1){h.gC=false;h.bO.resolve(aai);h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:aai});}};function ft(aC){h.gC=false;h.bO.reject(aC.error);h.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var bd=Yp+ala+'?'+new Date().getTime();PCCViewer.Ajax.eT({url:bd,method:'GET'}).then(eZ,ft);};if(this.ae.nM){acC();return;}if(!(/^[\x00-\x7F]*$/.test(this.ae.aZ.get_documentIdentifier()))){Yp=this.ae.bE.imageHandlerUrl+'/MarkupLayers/e'+this.ae.bE.documentID+'/';}else{Yp=this.ae.bE.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.ae.bE.documentID)+'/';}if(this.rg){return;}if(Object.prototype.toString.call(this.vB)==='[object Array]'&&this.vB.length>0){ZG=this.vB.length;this.gC=true;IPCC.C.forEach(this.vB,sS,this);}else if(typeof this.vB==="string"){this.gC=true;sS(this.vB);}else{this.gC=false;this.bO.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aAk=function(sn){var MZ={},Od={};IPCC.C.forEach(sn.marks,function(VQ){VQ.conversation.comments=[];MZ[VQ.uid]=VQ;},this);IPCC.C.forEach(sn.comments,function(xj){if(MZ[xj.markUid]){MZ[xj.markUid].conversation.comments.push(xj);}else if(Od[xj.markUid]){Od[xj.markUid].push(xj);}else{Od[xj.markUid]=[xj];}},this);return{rQ:MZ,hx:Od};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var bZ={setMask:function(R,jf){var JV={};IPCC.C.forEach(jf.translations,function(bu,bF){JV[bF]=new RegExp(bu.replace(/^\/|\/$/g,''));});R.setMask({value:jf.value,translations:JV});},calculateRectangle:function(af,bE){if(af.pageData===undefined||(af.pageData.width===bE.aA&&af.pageData.height===bE.bM)){return af.rectangle;}else{var mq=bE.aA/af.pageData.width;return{x:af.rectangle.x*mq,y:af.rectangle.y*mq,width:af.rectangle.width*mq,height:af.rectangle.height*mq};}},setRectangle:function(R,af,bE){R.setRectangle(bZ.calculateRectangle(af,bE));},setLines:function(R,af,bE){var acP,oX,cU=af.textLength+af.startIndex-1,dE=af.selectedText,cN={startIndex:af.startIndex,length:af.textLength};oX=[];var bj,Aj;acP=IPCC.C.reduce(af.lineGroups,function(er,nK){bj=nK.pageNumber-1;er[bj]=IPCC.C.map(nK.lines,function(gy){if(nK.pageData!==undefined){Aj=bZ.calculateRectangle({rectangle:gy,pageData:nK.pageData},bE);return new IPCC.Web.UI.Rectangle(Aj.x,Aj.y,Aj.width,Aj.height);}else{return new IPCC.Web.UI.Rectangle(gy.x,gy.y,gy.width,gy.height);}});oX.push({pageIndex:bj,endIndex:nK.startIndex+nK.textLength-1});return er;},{});R.IO(oX,cU,dE,cN,acP);},postCreate:function(R,af){R.K.agO(new Date(IPCC.C.Jd(af.creationDateTime)));R.K.Uc(new Date(IPCC.C.Jd(af.modificationDateTime)));return R;},calculatePoint:function(bK,fU,bE){if(fU===undefined||(fU.width===bE.aA&&fU.height===bE.bM)){return bK;}else{return{x:bK.x*bE.aA/fU.width,y:bK.y*bE.bM/fU.height};}},Data:function(af,cr){IPCC.C.forEach(cr,function(bu,bF){af.setData(bF,bu);});},Comment:function(dG,bX){var nP=dG.addComment(bX.text);nP.setCreationTime(bX.creationDateTime);bZ.Data(nP,bX.data);},Conversation:function(R,dG){var aha=R.getConversation();IPCC.C.forEach(dG.comments?dG.comments:[],function(nP){bZ.Comment(aha,nP);});bZ.Data(aha,dG.data);},Common:function(af,bE){if(af.uid===undefined){af.uid=IPCC.C.anb();}var R=this.abM(af.pageNumber,af.type,{uid:af.uid});if(af.rectangle&&R.setRectangle){bZ.setRectangle(R,af,bE);}if(af.startPoint&&R.setStartPoint){R.setStartPoint(bZ.calculatePoint(af.startPoint,af.pageData,bE));}if(af.endPoint&&R.setEndPoint){R.setEndPoint(bZ.calculatePoint(af.endPoint,af.pageData,bE));}if(af.points&&R.setPoints){R.setPoints(IPCC.C.map(af.points,function(bK){return bZ.calculatePoint(bK,af.pageData,bE);}));}if(af.lineGroups&&R.IO){R.bS=af.uid;bZ.setLines(R,af,bE);}if(af.interactionMode){R.setInteractionMode(af.interactionMode);}R=this.aef(R);bZ.Data(R,af.data);bZ.Conversation(R,af.conversation);return R;},EllipseAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.borderColor){R.setBorderColor(af.borderColor);}if(af.borderThickness){R.setBorderThickness(af.borderThickness);}if(af.fillColor){R.setFillColor(af.fillColor);}if(af.opacity){R.setOpacity(af.opacity);}return bZ.postCreate(R,af);},FreehandAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.opacity){R.setOpacity(af.opacity);}if(af.path){R.setPath(af.path);}if(af.thickness){R.setThickness(af.thickness);}return bZ.postCreate(R,af);},FreehandSignature:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.path){R.setPath(af.path);}if(af.thickness){R.setThickness(af.thickness);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}return bZ.postCreate(R,af);},HighlightAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.fillColor){R.setFillColor(af.fillColor);}return bZ.postCreate(R,af);},ImageStampAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.imageDataUrl&&af.imageId){R.setImage({id:af.imageId,dataUrl:af.imageDataUrl});}return bZ.postCreate(R,af);},ImageStampRedaction:function(af,bE){return bZ.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.endHeadType){R.setEndHeadType(af.endHeadType);}if(af.opacity){R.setOpacity(af.opacity);}if(af.thickness){R.setThickness(af.thickness);}return bZ.postCreate(R,af);},PolylineAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.opacity){R.setOpacity(af.opacity);}if(af.thickness){R.setThickness(af.thickness);}return bZ.postCreate(R,af);},RectangleAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.borderColor){R.setBorderColor(af.borderColor);}if(af.borderThickness){R.setBorderThickness(af.borderThickness);}if(af.fillColor){R.setFillColor(af.fillColor);}if(af.opacity){R.setOpacity(af.opacity);}return bZ.postCreate(R,af);},RectangleRedaction:function(af,bE){var R=bZ.Common.apply(this,arguments);if(R.nV){var ge=af.reasons||af.reason;if(ge&& !Array.isArray(ge)){ge=[ge];}if(ge){R.setReasons(ge);}}else{if(af.reason){R.setReason(af.reason);}}if(af.fillColor){R.setFillColor(af.fillColor);}if(af.borderColor){R.setBorderColor(af.borderColor);}if(af.borderThickness){R.setBorderThickness(af.borderThickness);}if(af.fontColor){R.setFontColor(af.fontColor);}return bZ.postCreate(R,af);},StampAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.label){R.setLabel(af.label);}if(af.color){R.setColor(af.color);}return bZ.postCreate(R,af);},StampRedaction:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.label){R.setLabel(af.label);}return bZ.postCreate(R,af);},StrikethroughAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.thickness){R.setThickness(af.thickness);}return bZ.postCreate(R,af);},TextAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.borderColor){R.setBorderColor(af.borderColor);}if(af.borderThickness){R.setBorderThickness(af.borderThickness);}if(af.fillColor){R.setFillColor(af.fillColor);}if(af.fontColor){R.setFontColor(af.fontColor);}if(af.fontName){R.setFontName(af.fontName);}if(af.fontSize){R.setFontSize(af.fontSize);}if(af.fontStyle){R.setFontStyle(af.fontStyle);}if(af.maxLength){R.setMaxLength(af.maxLength);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}if(af.opacity){R.setOpacity(af.opacity);}if(af.text){R.setText(af.text);}return bZ.postCreate(R,af);},TextAreaSignature:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.text){R.setText(af.text);}if(af.fontColor){R.setFontColor(af.fontColor);}if(af.fontName){R.setFontName(af.fontName);}if(af.maxFontSize){R.setMaxFontSize(af.maxFontSize);}if(af.fontStyle){R.setFontStyle(af.fontStyle);}if(af.maxLength){R.setMaxLength(af.maxLength);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}return bZ.postCreate(R,af);},TextHyperlinkAnnotation:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.fillColor){R.setFillColor(af.fillColor);}if(af.href){R.setHref(af.href);}return bZ.postCreate(R,af);},TextInputSignature:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.fontColor){R.setFontColor(af.fontColor);}if(af.fontName){R.setFontName(af.fontName);}if(af.text){R.setText(af.text);}if(af.maxLength){R.setMaxLength(af.maxLength);}if(af.mask){bZ.setMask(R,af.mask);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}return bZ.postCreate(R,af);},TextRedaction:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.fontColor){R.setFontColor(af.fontColor);}if(af.fontName){R.setFontName(af.fontName);}if(af.fontSize){R.setFontSize(af.fontSize);}if(af.maxLength){R.setMaxLength(af.maxLength);}if(af.text){R.setText(af.text);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}return bZ.postCreate(R,af);},TextSelectionRedaction:function(af,bE){var R=bZ.Common.apply(this,arguments);if(R.nV){var ge=af.reasons||af.reason;if(ge&& !Array.isArray(ge)){ge=[ge];}if(ge){R.setReasons(ge);}}else{if(af.reason){R.setReason(af.reason);}}return bZ.postCreate(R,af);},TextSignature:function(af,bE){var R=bZ.Common.apply(this,arguments);if(af.color){R.setColor(af.color);}if(af.fontName){R.setFontName(af.fontName);}if(af.text){R.setText(af.text);}if(af.horizontalAlignment){R.setHorizontalAlignment(af.horizontalAlignment);}return bZ.postCreate(R,af);},TransparentRectangleRedaction:function(af,bE){var R=bZ.Common.apply(this,arguments);return bZ.postCreate(R,af);}};module.exports=bZ;},{}],149:[function(require,module,exports){var Ds={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Ds;},{}],150:[function(require,module,exports){var en={serializeMask:function(jf){var agp={value:jf.value,translations:{}};IPCC.C.forEach(jf.translations,function(bu,bF){agp.translations[bF]=bu.toString();});return agp;},copyRectangle:function(J){return{x:J.x,y:J.y,width:J.width,height:J.height};},Common:function(aw,aY){var bM;var aA;if(aw.page){bM=aw.page.get_pageHeight();aA=aw.page.get_pageWidth();}else{bM=null;aA=null;}var aa=aw.mark.getPageNumber();var af={uid:aw.mark.getUid(),interactionMode:aw.mark.getInteractionMode(),pageNumber:aa,type:aw.mark.getType(),creationDateTime:IPCC.C.vh(aw.mark.K.amy()),modificationDateTime:IPCC.C.vh(aw.mark.K.alC()),data:en.Data(aw.mark),conversation:en.Conversation(aw.mark.getConversation())};function An(bK){return{x:bK.x,y:bK.y};};function ars(){var Gy=IPCC.C.map([].concat(aw.mark.K,aw.mark.bD),function(K){if(aA!==null){return{pageNumber:K.bj+1,pageData:{width:aA,height:bM},startIndex:K.get_startIndex(),textLength:K.get_textLength(),lines:IPCC.C.map(K.aj,function(aF){if(aF.get_rectangle){return en.copyRectangle(aF.get_rectangle());}else{return en.copyRectangle(aF);}})};}else{return{pageNumber:K.bj+1,startIndex:K.get_startIndex(),textLength:K.get_textLength(),lines:IPCC.C.map(K.aj,function(aF){if(aF.get_rectangle){return en.copyRectangle(aF.get_rectangle());}else{return en.copyRectangle(aF);}})};}});af.lineGroups=Gy;};function aiU(){if(aw.mark.getRectangle){af.rectangle=en.copyRectangle(aw.mark.getRectangle());if(aA!==null){af.pageData={width:aA,height:bM};}}if(aw.mark.getStartPoint){af.startPoint=An(aw.mark.getStartPoint());if(aA!==null){af.pageData=af.pageData||{width:aA,height:bM};}}if(aw.mark.getEndPoint){af.endPoint=An(aw.mark.getEndPoint());if(aA!==null){af.pageData=af.pageData||{width:aA,height:bM};}}if(aw.mark.getPoints){var as=aw.mark.getPoints();af.points=IPCC.C.map(as,An);if(aA!==null){af.pageData={width:aA,height:bM};}}if(aw.mark.K.aj){ars();}};if(aA!==undefined&&bM!==undefined&&aA!==0&&bM!==0){aiU();aY(undefined,af);}else{aw.vc.requestPageAttributes(aa).then(function aHh(qE){bM=qE.height;aA=qE.width;aiU();aY(undefined,af);},function aHx(eu){aY(eu);});}},Data:function(af){return IPCC.C.reduce(af.getDataKeys(),function(er,bF){er[bF]=af.getData(bF);return er;},{});},Comment:function(bX){return{text:bX.getText(),data:en.Data(bX),creationDateTime:IPCC.C.vh(bX.getCreationTime())};},Conversation:function(dG){return{comments:IPCC.C.map(dG.getComments(),function(bX){return en.Comment(bX);}),data:en.Data(dG)};},EllipseAnnotation:function(aw,aY){en.RectangleAnnotation(aw,aY);},FreehandAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{color:aw.mark.getColor(),opacity:aw.mark.getOpacity(),path:aw.mark.getPath(),thickness:aw.mark.getThickness()});aY(undefined,af);});},FreehandSignature:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{color:aw.mark.getColor(),path:aw.mark.getPath(),thickness:aw.mark.getThickness(),horizontalAlignment:aw.mark.getHorizontalAlignment()});aY(undefined,af);});},HighlightAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}var cN=aw.mark.getPosition();af=IPCC.C.extend(af,{fillColor:aw.mark.getFillColor(),textLength:cN.length,startIndex:cN.startIndex,selectedText:aw.mark.getText()});aY(undefined,af);});},ImageStampAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}var bL=aw.mark.getImage();af=IPCC.C.extend(af,{imageDataUrl:bL.dataUrl,imageId:bL.id});aY(undefined,af);});},ImageStampRedaction:function(aw,aY){en.ImageStampAnnotation(aw,aY);},LineAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{color:aw.mark.getColor(),endHeadType:aw.mark.getEndHeadType(),opacity:aw.mark.getOpacity(),thickness:aw.mark.getThickness()});aY(undefined,af);});},PolylineAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{color:aw.mark.getColor(),opacity:aw.mark.getOpacity(),thickness:aw.mark.getThickness()});aY(undefined,af);});},RectangleAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{borderColor:aw.mark.getBorderColor(),borderThickness:aw.mark.getBorderThickness(),fillColor:aw.mark.getFillColor(),opacity:aw.mark.getOpacity()});aY(undefined,af);});},RectangleRedaction:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{fillColor:aw.mark.getFillColor(),borderColor:aw.mark.getBorderColor(),borderThickness:aw.mark.getBorderThickness(),fontColor:aw.mark.getFontColor()});if(aw.mark.nV){af.reasons=aw.mark.getReasons();}else{af.reason=aw.mark.getReason();}aY(undefined,af);});},StampAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{label:aw.mark.getLabel(),color:aw.mark.getColor()});aY(undefined,af);});},StampRedaction:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{label:aw.mark.getLabel()});aY(undefined,af);});},StrikethroughAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}var cN=aw.mark.getPosition();af=IPCC.C.extend(af,{color:aw.mark.getColor(),thickness:aw.mark.getThickness(),textLength:cN.length,startIndex:cN.startIndex,selectedText:aw.mark.getText()});aY(undefined,af);});},TextAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{borderColor:aw.mark.getBorderColor(),borderThickness:aw.mark.getBorderThickness(),fillColor:aw.mark.getFillColor(),fontColor:aw.mark.getFontColor(),fontName:aw.mark.getFontName(),fontSize:aw.mark.getFontSize(),fontStyle:aw.mark.getFontStyle(),maxLength:aw.mark.getMaxLength(),horizontalAlignment:aw.mark.getHorizontalAlignment(),opacity:aw.mark.getOpacity(),text:aw.mark.getText()});aY(undefined,af);});},TextAreaSignature:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{text:aw.mark.getText(),fontColor:aw.mark.getFontColor(),fontName:aw.mark.getFontName(),fontStyle:aw.mark.getFontStyle(),maxFontSize:aw.mark.getMaxFontSize(),maxLength:aw.mark.getMaxLength(),horizontalAlignment:aw.mark.getHorizontalAlignment(),});aY(undefined,af);});},TextHyperlinkAnnotation:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}var cN=aw.mark.getPosition();af=IPCC.C.extend(af,{href:aw.mark.getHref(),fillColor:aw.mark.getFillColor(),textLength:cN.length,startIndex:cN.startIndex,selectedText:aw.mark.getText()});aY(undefined,af);});},TextInputSignature:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{fontColor:aw.mark.getFontColor(),fontName:aw.mark.getFontName(),text:aw.mark.getText(),mask:aw.mark.getMask(),maxLength:aw.mark.getMaxLength(),horizontalAlignment:aw.mark.getHorizontalAlignment()});if(aw.mark.getMask()){af.mask=en.serializeMask(aw.mark.getMask());}aY(undefined,af);});},TextRedaction:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{fontColor:aw.mark.getFontColor(),fontName:aw.mark.getFontName(),fontSize:aw.mark.getFontSize(),text:aw.mark.getText(),maxLength:aw.mark.getMaxLength(),horizontalAlignment:aw.mark.getHorizontalAlignment()});aY(undefined,af);});},TextSelectionRedaction:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}var cN=aw.mark.getPosition();af=IPCC.C.extend(af,{textLength:cN.length,startIndex:cN.startIndex,selectedText:aw.mark.getText()});if(aw.mark.nV){af.reasons=aw.mark.getReasons();}else{af.reason=aw.mark.getReason();}aY(undefined,af);});},TextSignature:function(aw,aY){en.Common(aw,function(dq,af){if(dq){aY(dq);return;}af=IPCC.C.extend(af,{color:aw.mark.getColor(),fontName:aw.mark.getFontName(),text:aw.mark.getText(),horizontalAlignment:aw.mark.getHorizontalAlignment()});aY(undefined,af);});},TransparentRectangleRedaction:function(aw,aY){en.Common(aw,aY);}};module.exports=en;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aa=0;this.dz=undefined;this.zd=false;this.mA=Mark.InteractionMode.Full;this.eC=true;this.nV=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(ad,kx){IPCC.C.forEach(ad,function validateMark(kE){if(kE.getUid()===kx){throw new Error('Uid '+kx+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kx=parameters.uid||IPCC.C.anb();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.K=parameters.igMark;this.dz=this.K.get_markID().toString();this.cr=this.K.get_data();}else{this.cr=new IPCC.Web.UI.Data();}Data.extend(this);this.CO=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aq.gB(parameters.pageNumber,'pageNumber');this.aa=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aq.lB(parameters.id,'id');this.dz=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.zd){this.av=parameters.type;this.zd=true;}else if(parameters.type!==undefined){IPCC.aq.lB(parameters.type,'type');var Iw=Rj(parameters.type,Mark.Type);if(Iw===null){throw new RangeError("The value of mark type was invalid.");}this.av=Iw;}if('cg'in parameters){this.cg=parameters.cg;}if('ar'in parameters){this.ar=parameters.ar;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kx;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kx,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.av;};Mark.prototype.getId=function(){return this.dz;};Mark.prototype.getPageNumber=function(){return this.aa;};Mark.prototype.getConversation=function(){if(!this.dG){this.dG=new PCCViewer.Conversation(this);}return this.dG;};Mark.prototype.getBoundingRectangle=function(){if(this.K){var aF=this.K.get_boundingRectangle();if(aF instanceof IPCC.Web.UI.Rectangle){this.nd={width:aF.width,height:aF.height,x:aF.x,y:aF.y};}}return this.nd;};Mark.prototype.getInteractionMode=function(){if(this.K){switch(this.K.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mA;};Mark.prototype.setInteractionMode=function(interactionMode){var mA=Rj(interactionMode,PCCViewer.Mark.InteractionMode),Yd;switch(mA){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Yd=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Yd=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.K){this.K.set_interactionMode(Yd);}this.mA=mA;return this;};Mark.prototype.reset=function(){var cQ=new Mark({type:this.av,zd:this.zd});this.cr={};if(this.setBorderColor&&cQ.getBorderColor){this.setBorderColor(cQ.getBorderColor());}if(this.setBorderThickness&&cQ.getBorderThickness){this.setBorderThickness(cQ.getBorderThickness());}if(this.setColor&&cQ.getColor){this.setColor(cQ.getColor());}if(this.setEndHeadType&&cQ.getEndHeadType){this.setEndHeadType(cQ.getEndHeadType());}if(this.setEndPoint&&cQ.getEndPoint){this.setEndPoint(cQ.getEndPoint());}if(this.setFillColor&&cQ.getFillColor){this.setFillColor(cQ.getFillColor());}if(this.setFontColor&&cQ.getFontColor){this.setFontColor(cQ.getFontColor());}if(this.setFontName&&cQ.getFontName){this.setFontName(cQ.getFontName());}if(this.setFontSize&&cQ.getFontSize){this.setFontSize(cQ.getFontSize());}if(this.setFontStyle&&cQ.getFontStyle){this.setFontStyle(cQ.getFontStyle());}if(this.setHorizontalAlignment&&cQ.getHorizontalAlignment){this.setHorizontalAlignment(cQ.getHorizontalAlignment());}if(this.setLabel&&cQ.getLabel){this.setLabel(cQ.getLabel());}if(this.setPosition&&this.K&&cQ.getPosition){this.setPosition(cQ.getPosition());}if(this.setReason&&cQ.getReason&&this.nV!==true){this.setReason(cQ.getReason());}if(this.setReasons&&cQ.getReasons&&this.nV!==false){this.setReasons(cQ.getReasons());}if(this.setOpacity&&cQ.getOpacity){this.setOpacity(cQ.getOpacity());}if(this.setRectangle&&cQ.getRectangle){this.setRectangle(cQ.getRectangle());}if(this.setStartPoint&&cQ.getStartPoint){this.setStartPoint(cQ.getStartPoint());}if(this.setText&&cQ.getText){this.setText(cQ.getText());}if(this.setThickness&&cQ.getThickness){this.setThickness(cQ.getThickness());}if(this.setPath&&cQ.getPath){this.setPath(cQ.getPath());}if(this.setHref&&cQ.getHref){this.setHref(cQ.getHref());}if(this.setImage&&cQ.getImage){this.setImage(cQ.getImage());}if(this.setInteractionMode&&cQ.getInteractionMode){this.setInteractionMode(cQ.getInteractionMode());}if(this.setPoints&&cQ.getPoints){this.setPoints(cQ.getPoints());}if(this.setMask&&cQ.getMask){this.setMask(cQ.getMask());}if(this.setMaxLength&&cQ.getMaxLength){this.setMaxLength(cQ.getMaxLength());}if(this.setMaxFontSize&&cQ.getMaxFontSize){this.setMaxFontSize(cQ.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Rj(YG,av){var WP=YG.toLowerCase();for(var standardType in av){if(av.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===WP){return standardType;}}return null;};function addMethodsToMark(R){function arQ(R){R.highlightText=function(highlights){if(!this.K){throw new Error("It is invalid to highlight text on this mark.");}var lb;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){lb=[highlights];}else{lb=highlights;}for(var i=0;i<lb.length;i++){avB(lb[i]);}}else{lb=[];}var av=R.getType();switch(av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:R.K.selectText(lb);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var h=this;var RZ=[];var sI=false,Os=0,NZ,Bb;var afP=function(Go,apX,hm){var yq;var VG= -1,QU=[];var vS=(Go.bQ+Go.cz);if(sI===true&&NZ>=0&&Bb>=0){if(Go.bj-1===NZ){yq=0;if(Os<=vS){QU.push({startIndex:yq,length:Os,color:hm[Bb].color,opacity:(hm[Bb].opacity)?hm[Bb].opacity:127});sI=false;Os=0;NZ= -1;Bb= -1;}}}for(var bo=0;bo<hm.length;bo++){yq=Go.bQ+hm[bo].startIndex-apX;if(yq<0){continue;}if(Array.prototype.indexOf){VG=RZ.indexOf(bo);}else{VG=IPCC.Web.kK(RZ,bo);}var cS=127;if(VG=== -1){if(yq+hm[bo].length<=vS){if(hm[bo].opacity){cS=hm[bo].opacity;}QU.push({startIndex:yq,length:hm[bo].length,color:hm[bo].color,opacity:cS});RZ.push(bo);h.Es.push(hm[bo]);}else{var Sy=vS-yq;if(Sy>0){Os=hm[bo].length-Sy;cS=127;if(hm[bo].opacity){cS=hm[bo].opacity;}QU.push({startIndex:yq,length:Sy,color:hm[bo].color,opacity:cS});RZ.push(bo);h.Es.push(hm[bo]);sI=true;Bb=bo;NZ=Go.bj;}}}}return QU;};this.Es=[];var dZ=afP(this.K,0,lb);R.clearHighlights();if(dZ.length>0){h.K.selectText(dZ);}dZ=[];var gg=this.K.cz;if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){dZ=[];dZ=afP(this.bD[G],gg,lb);gg+=this.bD[G].cz;if(dZ.length>0){this.bD[G].selectText(dZ);}}}break;}return this;};function avB(GD){IPCC.aq.nG(GD.startIndex,'highlight.startIndex',0,R.getText().length);IPCC.aq.nG(GD.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aq.cY(GD.color,'highlight.color');if(GD.opacity){IPCC.aq.nG(GD.opacity,"highlight.opacity",0,255);}};R.clearHighlights=function(){if(this.K){if(!this.K){throw new Error("It is invalid to clear highlights on this mark.");}}var av=R.getType();switch(av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:R.K.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.K.selectText();if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].selectText();}}break;}return this;};};var av=R.getType();switch(av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:arQ(R);break;default:break;}};function addPropertiesToMark(R){R.nd={x:0,y:0,width:0,height:0};var av=R.getType();switch(av){case Mark.Type.LineAnnotation:R.cY='#18385F';R.hO=IPCC.Web.UI.LineStyle.Solid;R.nY=6;R.cS=255;R.Md={x:0,y:0};R.vS={x:0,y:0};R.mb="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:R.eF='#FB0404';R.cS=255;R.nL='#000000';R.lL=4;R.J={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:R.eu="";R.ge=[];R.eF='#000000';R.nL='#000000';R.lL=1;R.gO='#FFFFFF';R.J={x:0,y:0,width:0,height:0};R.ou=true;if(R.K){R.K.kJ(R.ou);}break;case Mark.Type.TransparentRectangleRedaction:R.J={x:0,y:0,width:0,height:0};R.ou=true;if(R.K){R.K.kJ(R.ou);R.K.set_fillColor('#FFFF00');R.K.set_opacity(127);R.K.set_lineWidth(1);R.K.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:R.bm='';R.eF='#FFFFFF';R.cS=127;R.nL='#000000';R.lL=4;R.gO='#000000';R.gq="Arial";R.cE=12;R.dg=[];R.mw="Left";R.hJ=0;R.J={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:R.vI="Approved";R.J={x:0,y:0,width:0,height:0};if(av===Mark.Type.StampRedaction){R.ou=true;if(R.K){R.K.kJ(R.ou);R.K.set_fillColor('#000000');}}else{R.cY="#000000";}break;case Mark.Type.HighlightAnnotation:R.eF="#FFFF00";R.bm='';R.dE='';if(R.K){if(R.K.dE){R.bm=R.K.dE;}}R.cN={startIndex:0,length:0};R.Es=[];R.bD=[];break;case Mark.Type.TextSelectionRedaction:R.eu="";R.ge=[];R.bm='';R.cN={startIndex:0,length:0};if(R.K){R.K.set_fillColor('#000000');if(R.K.dE){R.bm=R.K.dE;}}R.Es=[];R.bD=[];break;case Mark.Type.TextHyperlinkAnnotation:R.kS='';R.eF="#3B00FF";R.bm='';if(R.K){if(R.K.dE){R.bm=R.K.dE;}}R.cN={startIndex:0,length:0};R.Es=[];R.bD=[];break;case Mark.Type.TextRedaction:R.bm='';R.gO='#000000';R.gq="Arial";R.cE=12;R.J={x:0,y:0,width:0,height:0};R.ou=true;R.hJ=0;if(R.K){R.K.kJ(R.ou);R.K.set_fillColor('#FFFFFF');}R.mw="Left";break;case Mark.Type.FreehandAnnotation:R.cS=255;R.J={x:0,y:0,width:0,height:0};R.nY=4;R.cY='#000000';R.gT='M0,0';break;case Mark.Type.FreehandSignature:R.J={x:0,y:0,width:0,height:0};R.nY=4;R.cY='#000000';R.mw="Center";R.gT='M0,0';break;case Mark.Type.TextSignature:R.bm="John Doe";R.J={x:0,y:0,width:0,height:0};R.cY="#000000";if(R.K){R.cY=R.K.eF||'#000000';R.K.kJ(R.ou);R.K.set_fillColor(R.cY);}R.mw="Center";R.gq="";break;case Mark.Type.TextInputSignature:R.bm="";R.J={x:0,y:0,width:0,height:0};R.gO="#000000";R.hJ=0;if(R.K){R.gO=R.K.get_textColor()||'#000000';R.K.kJ(false);}R.mw="Left";R.gq="Courier New";R.jf=null;break;case Mark.Type.TextAreaSignature:R.bm="";R.J={x:0,y:0,width:0,height:0};R.gO="#000000";if(R.K){R.gO=R.K.get_textColor()||'#000000';R.K.kJ(false);}R.mw="Left";R.gq="Courier New";R.dg=[];R.hJ=0;R.ih=0;break;case 'PlaceSignature':R.jV=undefined;R.J={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:R.bL="";R.qZ="";R.J={x:0,y:0,width:0,height:0};if(R.K&&av===Mark.Type.ImageStampRedaction){R.ou=true;R.K.kJ(R.ou);}break;case Mark.Type.PolylineAnnotation:R.cY='#000000';R.hO=IPCC.Web.UI.LineStyle.Solid;R.nY=2;R.cS=255;R.as=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:R.cY='#000000';R.hO=IPCC.Web.UI.LineStyle.Solid;R.nY=2;R.bm='';R.dE='';if(R.K){if(R.K.dE){R.bm=R.K.dE;}}R.cN={startIndex:0,length:0};R.Es=[];R.bD=[];break;}function getSignature(){return this.jV||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.jV=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.jV=signature;return this;};if(R.jV||R.av==='PlaceSignature'){R.getSignature=getSignature;R.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(R,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.cY=this.K.get_lineColor()||this.cY;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.cY=this.K.get_fillColor()||this.cY;break;}}return this.cY;};function setColor(value){IPCC.aq.cY(value,'color');this.cY=value;if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.K.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.K.set_fillColor(value);break;case Mark.Type.TextSignature:this.K.set_textColor(value);this.K.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.K.set_lineColor(value);if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].set_lineColor(value);}}break;}}return this;};if(R.cY!==undefined){R.getColor=getColor;R.setColor=setColor;if(Object.defineProperties){Object.defineProperties(R,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.eF=this.K.get_fillColor()||this.eF;break;}}return this.eF;};function setFillColor(value){if(this.av===PCCViewer.Mark.Type.HighlightAnnotation||this.av===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aq.cY(value,'fillColor');}else{IPCC.aq.St(value,'fillColor');}this.eF=value;if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.K.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.K.set_fillColor(value);if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].set_fillColor(value);}}break;}}return this;};if(R.eF!==undefined){R.getFillColor=getFillColor;R.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(R,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bL,id:this.qZ};return retVal;};function setImage(params){IPCC.aq.lB(params.dataUrl,'string');IPCC.aq.lB(params.id,'string');this.bL=params.dataUrl;this.qZ=params.id;if(this.K){switch(this.av){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.K.set_image(params.dataUrl);this.K.qZ=params.id;break;}}return this;};if(R.bL!==undefined){R.getImage=getImage;R.setImage=setImage;if(Object.defineProperties){Object.defineProperties(R,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nL=this.K.get_lineColor()||this.nL;break;}}return this.nL;};function setBorderColor(value){IPCC.aq.St(value,'borderColor');this.nL=value;if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.K.set_lineColor(value);break;}}return this;};if(R.nL!==undefined){R.getBorderColor=getBorderColor;R.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(R,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cS=this.K.get_opacity()||this.cS;break;}}return this.cS;};function setOpacity(value){IPCC.aq.nG(value,'opacity',0,255);this.cS=value;if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.K.set_opacity(value);break;}}return this;};if(R.cS!==undefined&&R.cS>=0){R.getOpacity=getOpacity;R.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(R,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.nY=this.K.get_lineWidth()||this.nY;break;}}return this.nY;};function setThickness(value){IPCC.aq.ki(value,'thickness',1,50);this.nY=value;if(this.K){switch(this.av){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.K.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.K.set_lineWidth(value);if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].set_lineWidth(value);}}break;}}return this;};if(R.nY){R.getThickness=getThickness;R.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(R,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.lL=this.K.get_lineWidth()||this.lL;break;}}return this.lL;};function setBorderThickness(value){IPCC.aq.ki(value,'borderThickness',1,50);this.lL=value;if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.K.set_lineWidth(value);break;}}return this;};if(R.lL!==undefined){R.getBorderThickness=getBorderThickness;R.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(R,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.K){this.eC=this.K.get_visible();}return this.eC;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.eC=value;if(this.K){this.K.set_visible(value);}var G;switch(this.av){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.bD&&this.bD.length){for(G=0;G<this.bD.length;G++){this.bD[G].set_visible(value);}}if(this.av===PCCViewer.Mark.Type.TextSelectionRedaction){var cn=this.K;for(G=0;G<this.K.aj.length;G++){cn.aj[G].set_visible(value);}if(cn.bS){IPCC.C.forEach(this.bD,function(K){for(G=0;G<K.aj.length;G++){K.aj[G].set_visible(value);}});}}break;}return this;};if(R.eC!==undefined){R.getVisible=getVisible;R.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(R,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.K&&this.K!==null){var as=this.K.get_points();if(as.get_length()>0){switch(this.av){case Mark.Type.LineAnnotation:var bK=as.getPoint(0);if(bK){this.Md={x:bK.x,y:bK.y};}break;}}}return this.Md;};function setStartPoint(value){IPCC.aq.gB(value.x,'startPoint'+'.x');IPCC.aq.gB(value.y,'startPoint'+'.y');if(this.K&&this.K!==null){var as=this.K.get_points();switch(this.av){case Mark.Type.LineAnnotation:as.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Md=value;return this;};if(R.Md){R.getStartPoint=getStartPoint;R.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(R,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.K&&this.K!==null){var as=this.K.get_points();if(as.get_length()>0){switch(this.av){case Mark.Type.LineAnnotation:var bK=as.getPoint(1);if(bK){this.vS={x:bK.x,y:bK.y};}break;}}}return this.vS;};function setEndPoint(value){IPCC.aq.gB(value.x,'endPoint'+'.x');IPCC.aq.gB(value.y,'endPoint'+'.y');if(this.K&&this.K!==null){var as=this.K.get_points();switch(this.av){case Mark.Type.LineAnnotation:as.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.vS=value;return this;};if(R.vS){R.getEndPoint=getEndPoint;R.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(R,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.K&&this.K!==null){var DQ;switch(this.av){case Mark.Type.LineAnnotation:DQ=this.K.get_endHeadType();switch(DQ){case IPCC.Web.UI.LineHeadType.None:this.mb=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mb=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mb;};function setEndHeadType(value){var DQ;switch(value){case Mark.LineHeadType.None:DQ=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:DQ=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.K&&this.K!==null){switch(this.av){case Mark.Type.LineAnnotation:this.K.set_endHeadType(DQ);break;}}this.mb=value;return this;};if(R.mb){R.getEndHeadType=getEndHeadType;R.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(R,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.K&&this.K!==null){var Gt=this.K.get_points();var dn=Gt.get_length();var agt=[];var aaW=function(atT,bv){agt.push(atT.getPoint(bv));};if(dn>1){switch(this.av){case Mark.Type.PolylineAnnotation:for(var G=0;G<dn;G++){aaW(Gt,G);}this.as=agt;break;}}}return this.as.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bo=0;bo<value.length;bo++){IPCC.aq.bK(value[bo],'PolylinePoint');}if(this.K&&this.K!==null){var Gt=this.K.get_points();var aDm=function(bv){Gt.addPoint(new IPCC.Web.UI.Point(value[bv].x,value[bv].y));};switch(this.av){case Mark.Type.PolylineAnnotation:Gt.removeAllPoints();for(var G=0;G<value.length;G++){aDm(G);}}}this.as=value;return this;};if(R.as){R.getPoints=getPoints;R.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(R,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.K){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aF=this.K.get_rectangle();if(aF instanceof IPCC.Web.UI.Rectangle){this.J={width:aF.width,height:aF.height,x:aF.x,y:aF.y};}break;}}return this.J;};function setRectangle(value){IPCC.aq.gB(value.x,'rectangle'+'.x');IPCC.aq.gB(value.y,'rectangle'+'.y');IPCC.aq.gB(value.width,'rectangle'+'.width');IPCC.aq.gB(value.height,'rectangle'+'.height');if(this.K&&this.K!==null){switch(this.av){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aF=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.K.set_rectangle(aF);break;}}this.J=value;return this;};if(R.J){R.getRectangle=getRectangle;R.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(R,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dh=0;if(this.K&&this.K.dE){dh=this.K.dE.length;}else if(this.K){dh=IPCC.C.reduce([this.K].concat(this.bD||[]),function(dn,K){return dn+K.get_textLength();},0);}return this.K?{startIndex:this.K.bQ,length:dh}:this.cN;};function setPosition(value){IPCC.aq.gB(value.startIndex,'position.startIndex');IPCC.aq.gB(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.K===undefined||this.K===null){throw new Error("The mark must be on a page.");}var al;var ag;var bj=this.aa-1;var uu= -value.startIndex;var oX=[];var dE="";var cU;while(true){if(bj>=this.cg.get_length()){throw new Error("The specified length is out of range.");}al=this.cg.getPage(bj);if(al.cB()&&al.cB().yS()&&al.cB().mR()===true){var aal=uu;var Wk=al.cB().Cd();uu+=Wk.length;if(uu<0||(uu===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var UF=0;if(bj===this.aa-1){UF=value.startIndex;}if(uu>=value.length){cU=value.startIndex+value.length-1;if(aal>=0){cU=value.length-1-aal;}oX.push({pageIndex:bj,endIndex:cU});dE+=Wk.substring(UF,cU+1);break;}else{cU=al.cB().Cd().length-1;oX.push({pageIndex:bj,endIndex:cU});dE+=Wk.substring(UF,cU+1);}}else{throw new Error("The text has not been retrieved for this page.");}bj++;}this.bS=IPCC.vl();var G=0;if(this.bD){if(this.K){this.K.bS=this.bS;ag=this.ar.fY(this.cg.getPage(this.K.bj));if(this.K.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var UK=this.K.aj.length-1;UK>=0;UK--){ag.removeMark(this.K.aj[UK]);this.K.aj.pop();}}}for(G=this.bD.length-1;G>=0;G--){var lX=this.bD[G];ag=this.ar.fY(this.cg.getPage(lX.bj));ag.removeMark(lX);this.bD.splice(G,1);}}else{this.bD=[];}IO.call(this,oX,cU,dE,value);this.cN=value;return this;};function IO(oX,cU,dE,value,Zt){var G,bj,al,ag;Zt=Zt||{};var aj;this.bD=this.bD||[];var adt=(this.K.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?awV:avL;for(G=0;G<oX.length;G++){bj=oX[G].pageIndex;al=this.cg.getPage(bj);var anC=al.cB().hl();ag=this.ar.fY(al);var cn;var bQ=0;cU=oX[G].endIndex;if(G===0){bQ=value.startIndex;}bj=oX[G].pageIndex;aj=Zt[bj]||IPCC.C.We(anC,bQ,cU);if(G===0){cn=adt(this.K,bQ,cU-bQ+1,dE,aj,bj,this.bS,this.K.get_type(),ag);this.K.kf=true;}else{cn=adt(null,bQ,cU-bQ+1,dE,aj,bj,this.bS,this.K.get_type(),ag);this.bD.push(cn);ag.addMark(cn);cn.set_selected(this.K.get_selected());if(this.getFillColor){cn.set_fillColor(this.K.get_fillColor());}if(this.getColor){cn.set_lineColor(this.K.get_lineColor());}if(this.getThickness){cn.set_lineWidth(this.K.get_lineWidth());}if(this.getHref){cn.set_href(this.K.get_href());}if(this.getReason){cn.set_text(this.K.get_text());}}if(G===oX.length-1){cn.jL=true;}}};if(R.cN){R.getPosition=getPosition;R.setPosition=setPosition;R.IO=IO;if(Object.defineProperties){Object.defineProperties(R,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function avL(R,bQ,dh,dE,aj,bj,ke,be,ag){if(!R){R=new IPCC.Web.UI.Mark(be);}R.bQ=bQ;R.cz=dh;R.jI='y';R.bS=ke;R.dE=dE;R.aj=aj||[];R.bj=bj;var TU=IPCC.C.reduce(R.aj,function(Jr,aF){if(!Jr){return aF.clone();}else{return Jr.union(aF);}},null);R.set_rectangle(TU);return R;};function awV(R,bQ,dh,dE,aj,bj,ke,be,ag){if(!R){R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}R.bQ=bQ;R.cz=dh;R.bS=ke;R.dE=dE;R.bj=bj;R.aj=IPCC.C.map(aj,function(aF){var xA=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);xA.set_rectangle(aF);xA.kJ(true);xA.set_fillColor('#000000');xA.set_text(R.bm);xA.set_lineWidth(0);xA.bS=ke;ag.addMark(xA);return xA;});var TU=IPCC.C.reduce(aj,function(Jr,aF){if(!Jr){return aF.clone();}else{return Jr.union(aF);}},null);R.set_rectangle(TU);return R;};function getText(){if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bm=(typeof this.K.get_text()==="string")?this.K.get_text():this.bm;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(R.K.dE){this.bm=R.K.dE;}break;}}return this.bm;};function setText(value){IPCC.aq.lB(value,'text');this.bm=value;if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.K.set_text(value);break;}}return this;};if(R.bm!==undefined){R.getText=getText;var be=R.getType();if(be!==Mark.Type.HighlightAnnotation&&be!==Mark.Type.TextSelectionRedaction&&be!==Mark.Type.TextHyperlinkAnnotation&&be!==Mark.Type.StrikethroughAnnotation){R.setText=setText;}if(Object.defineProperties){var adx={enumerable:true,get:function(){return this.getText();}};if(R.setText!==undefined){adx.set=function(value){return this.setText(value);};}Object.defineProperties(R,{"text":adx});}}function getFontColor(){if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gO=this.K.get_textColor()||this.gO;break;}}return this.gO;};function setFontColor(value){IPCC.aq.cY(value,'fontColor');this.gO=value;if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.K.set_textColor(value);break;}}return this;};if(R.gO){R.getFontColor=getFontColor;R.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(R,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gq=this.K.get_fontName()||this.gq;break;}}return this.gq;};function setFontName(value){IPCC.aq.lB(value,'fontName');this.gq=value;if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.K.set_fontName(value);break;}}return this;};if(R.gq!==undefined){R.getFontName=getFontName;R.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(R,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.cE=this.K.get_fontSize()||this.cE;break;}}return this.cE;};function setFontSize(value){IPCC.aq.ki(value,'fontSize',0.1,288);this.cE=value;if(this.K){switch(this.av){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.K.set_fontSize(value);break;}}return this;};if(R.cE){R.getFontSize=getFontSize;R.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(R,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.K){var zB=this.K.get_textHorizontalAlignment();switch(zB){case IPCC.Web.UI.HorizontalAlignment.Center:this.mw="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.mw="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.mw="Right";break;}}return this.mw;};function setHorizontalAlignment(value){IPCC.aq.lB(value,'horizontalAlignment');var qQ=Rj(value,PCCViewer.Mark.HorizontalAlignment);var zB;switch(qQ){case 'Center':zB=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':zB=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':zB=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}R.mw=qQ;if(this.K&&zB!==undefined){this.K.set_textHorizontalAlignment(zB);this.mw=qQ;}return this;};if(R.mw){R.getHorizontalAlignment=getHorizontalAlignment;R.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(R,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function anH(Ut){var AU=[];for(var G=0;G<Ut.length;G++){switch(Ut[G]){case "Bold":AU.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":AU.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":AU.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":AU.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Ut[G]);}}if(AU.length===0){AU.push(IPCC.Web.UI.FontStyle.Regular);}return AU;};function getFontStyle(){if(this.K){var qM=[];switch(this.av){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var wo=this.K.get_fontStyle();if(wo&IPCC.Web.UI.FontStyle.Bold){qM.push("Bold");}if(wo&IPCC.Web.UI.FontStyle.Italic){qM.push("Italic");}if(wo&IPCC.Web.UI.FontStyle.Strikeout){qM.push("Strikeout");}if(wo&IPCC.Web.UI.FontStyle.Underline){qM.push("Underline");}if(qM.length>0){this.dg=qM;}break;}}return this.dg;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var MA,G,afz=[];for(G=0;G<value.length;G++){MA=Rj(value[G],PCCViewer.Mark.FontStyles);if(MA===null){throw new RangeError("The value of font styles "+value[G]+" is invalid.");}else{IPCC.aq.lB(MA,'fontStyle');afz.push(MA);}}this.dg=afz;var wo=[];wo=anH(this.dg);var bp=this;function avc(bu){setTimeout(function(){bp.K.set_fontStyle(bu);},2);};if(this.K){switch(this.av){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ajn=wo[0];for(G=1;G<wo.length;G++){ajn|=wo[G];}avc(ajn);break;}}return this;};if(R.dg){R.getFontStyle=getFontStyle;R.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(R,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.K){switch(this.av){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.vI=this.K.get_text()||this.vI;break;}}return this.vI;};function setLabel(value){IPCC.aq.lB(value,'label');this.vI=value;if(this.K){switch(this.av){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.K.set_text(value);break;}}return this;};if(typeof R.vI!=='undefined'){R.getLabel=getLabel;R.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(R,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.nV===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.K){switch(this.av){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.eu=this.K.get_text()||this.eu;break;}}return this.eu;};function setReason(value){if(this.nV===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.aq.lB(value,'text');this.eu=value;if(this.K){switch(this.av){case Mark.Type.RectangleRedaction:this.K.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.K.set_text(value);if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].set_text(value);}}break;}}return this;};if(typeof R.eu!=='undefined'){R.getReason=getReason;R.setReason=setReason;if(Object.defineProperties){Object.defineProperties(R,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.nV===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.ge.slice();};function setReasons(value){if(this.nV===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.aq.vq(value);IPCC.C.forEach(value,function(reason){IPCC.aq.lB(reason);});this.ge=value.slice();if(this.K){var Wl=this.ge.join("; ");switch(this.av){case Mark.Type.RectangleRedaction:this.K.set_text(Wl);break;case Mark.Type.TextSelectionRedaction:this.K.set_text(Wl);if(this.bD&&this.bD.length){for(var G=0;G<this.bD.length;G++){this.bD[G].set_text(Wl);}}break;}}return this;};if(typeof R.ge!=='undefined'){R.getReasons=getReasons;R.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(R,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.K){return this.K.get_pathString();}else{return this.gT;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vj=IPCC.C.Yz(path);this.gT=path;if(this.K){this.K.set_pathString(path);this.K.set_pathWidth(vj.width);this.K.set_pathHeight(vj.height);}return this;};if(R.gT){R.setPath=setPath;R.getPath=getPath;if(Object.defineProperties){Object.defineProperties(R,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.K){return this.K.get_href();}else{return this.kS;}};function setHref(href){if(href!==null){var av=typeof href;if(av!=="undefined"&&av!=="number"&&av!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.kS=href;if(this.K){this.K.set_href(href);}if(this.bD){IPCC.C.forEach(this.bD,function(K){K.set_href(href);});}return this;};if(typeof R.kS!=='undefined'){R.setHref=setHref;R.getHref=getHref;if(Object.defineProperties){Object.defineProperties(R,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.hJ=maxLength;if(this.K){this.K.set_maxLength(this.hJ);}return this;};function getMaxLength(){if(this.K){this.hJ=this.K.get_maxLength();}return this.hJ;};if(typeof R.hJ!=='undefined'){R.getMaxLength=getMaxLength;R.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(R,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.ih=maxFontSize;if(this.K){this.K.set_maxFontSize(this.ih);}return this;};function getMaxFontSize(){if(this.K){this.ih=this.K.get_maxFontSize();}return this.ih;};if(typeof R.ih!=='undefined'){R.getMaxFontSize=getMaxFontSize;R.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(R,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.jf;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.jf=null;if(this.K){this.K.set_mask(this.jf);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var aiJ=false;IPCC.C.forEach(mask.translations,function(val,key){aiJ=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!aiJ){throw new Error('`mask.translations` must have at least one translation.');}this.jf=mask;if(this.K){this.K.set_mask(this.jf);}return this;};if(typeof R.jf!=='undefined'){R.getMask=getMask;R.setMask=setMask;if(Object.defineProperties){Object.defineProperties(R,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var jg=function(viewerControl,markReferences){var h=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dz=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.dJ=viewerControl;this.bA=undefined;this.Wa=undefined;this.aiH=undefined;this.ad=[];this.hx={};this.mA=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.ae){this.ae=viewerControl.ae;}else{var My=function(){viewerControl.off('ViewerReady',My);viewerControl.off('ViewingSessionChanged',My);h.ae=viewerControl.ae;};viewerControl.on('ViewerReady',My);viewerControl.on('ViewingSessionChanged',My);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.C.forEach(markReferences,function(pA){var Om=pA.markUid;pA.markupLayer=h;if(h.hx[Om]){h.hx[Om]=h.hx[Om].concat(pA);}else{h.hx[Om]=[pA];}});}var nQ={};EventEmitter.extend(nQ);nQ.Qv=function(Di,cJ){var h=this;return setTimeout(function(){h.trigger(Di,cJ);},0);};EventEmitter.extend(this);this.cr=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.CO=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){h.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};jg.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};jg.prototype.getViewerControl=function(){return this.dJ;};jg.prototype.addMarks=function(marks){var h=this,aoq=function(bX){bX.iS=h;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<marks.length;G++){if(!(marks[G]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[G].getId())){marks.splice(G,1);continue;}IPCC.C.forEach(marks[G].getConversation().getComments(),aoq);}if(marks.length){this.ad=this.ad.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};jg.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var G=0;G<this.ad.length;G++){for(var bo=0;bo<marks.length;bo++){if(this.ad[G].getUid()===marks[bo].getUid()){this.ad.splice(G,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bo]]});break;}}}};jg.prototype.getMarks=function(){var akg=[];IPCC.C.forEach(this.ad,function(R){akg.push(R);});return akg;};jg.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var G=0,agJ=false,R;for(G;G<this.ad.length;G++){R=this.ad[G];if(R.getId()===markId){agJ=true;break;}}return agJ;};jg.prototype.getMarkReferences=function(){var hx=[];for(var lG in this.hx){if(this.hx.hasOwnProperty(lG)){hx=hx.concat(this.hx[lG]);}}return hx;};jg.prototype.hide=function(){var dJ=this.ae;dJ.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};jg.prototype.show=function(){var dJ=this.ae;dJ.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};jg.prototype.copyLayers=function(markupLayers){var dJ=this.ae,h=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var ad=[];IPCC.C.forEach(markupLayers,function(iS){dJ.getMarkupLayerCollection().getItem(iS.getId());ad=ad.concat(iS.getMarks());});var copiedMarks=dJ.copyMarks(ad);this.addMarks(copiedMarks);IPCC.C.forEach(this.ad,function(R){IPCC.C.forEach(R.getConversation().getComments(),function(bX){bX.iS=h;});});return this;};jg.prototype.getId=function(){return this.dz;};jg.prototype.getName=function(){return this.bA;};jg.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.bA=name;return this;};jg.prototype.getRecordId=function(){return this.Wa;};jg.prototype.destroy=function(){this.ae.getMarkupLayerCollection().removeItem(this.dz);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};jg.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mA=interactionMode;IPCC.C.forEach(this.ad,function(R){R.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};jg.prototype.getOriginalXmlName=function(){return this.aiH;};jg.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.aiH=name;return this;};if(Object.defineProperties){Object.defineProperties(jg.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=jg;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dJ=viewerControl;this.rz={};this.ad={};this.hM={};this.qJ=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.dJ;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.C.forEach(this.rz,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.rz[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qJ;};MarkupLayerCollection.prototype.getAll=function(){var akQ=[],YE;for(YE in this.rz){if(this.rz.hasOwnProperty(YE)){akQ.push(this.rz[YE]);}}return akQ;};MarkupLayerCollection.prototype.addItem=function(layer){var h=this,hx,Yk=layer.hx,JL=function(R,pA){var bX=R.getConversation().addComment(pA.text);bX.creationTime=new Date(pA.creationDateTime);bX.iS=pA.markupLayer;for(var tK in pA.data){if(pA.data.hasOwnProperty(tK)){bX.setData(tK,pA.data[tK]);}}},aza=function(auw){JL(h.ad[wG],auw);},afu=function(R){var lG=R.getUid();h.ad[R.getUid()]=R;if(h.hM[lG]){IPCC.C.forEach(h.hM[lG],function(qT){JL(R,qT);});delete h.hM[lG];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.rz[layer.getId()]=layer;for(var wG in Yk){if(Yk.hasOwnProperty(wG)){hx=Yk[wG];if(h.ad[wG]){IPCC.C.forEach(hx,aza);}else if(h.hM[wG]){h.hM[wG]=h.hM[wG].concat(hx);}else{h.hM[wG]=hx;}}}IPCC.C.forEach(layer.getMarks(),function(R){afu(R);});this.qJ++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.C.forEach(ev.marks,function(R){afu(R);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var aCu=ev.cP;IPCC.C.forEach(ev.marks,function(R){var lG=R.getUid();IPCC.C.forEach(h.ad[lG].getConversation().getComments(),function(Fd){if(aCu.id!==Fd.iS.id){var qT={creationDateTime:IPCC.C.vh(Fd.creationTime),data:Fd.cr.yd(),markUid:R.getUid(),markupLayer:Fd.iS,text:Fd.text};if(h.hM[lG]){h.hM[lG]=h.hM[lG].concat([qT]);}else{h.hM[lG]=[qT];}}});h.uc(R);});});return this;};MarkupLayerCollection.prototype.uc=function(R){var Ng;IPCC.C.forEach(this.rz,function(fL){var aiw=fL.hasMark(R.getId());Ng=(typeof Ng!=='undefined')? +aiw^Ng: +aiw;});if(Ng===0){delete this.ad[R.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var fL=this.rz[layerId],h=this,axb=function(qT,bv){if(qT.markupLayer.getId()===layerId){h.hM[dz].splice(bv);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.C.forEach(this.ad,function(R){var gI=R.getConversation().getComments();var NA=fL.hasMark(R.getId());IPCC.C.forEach(gI,function(bX){if(NA&&bX.iS.getId()!==layerId){var adj={"markUid":R.getUid(),"markupLayer":bX.iS,"text":bX.getText(),"data":bX.cr.cr,"creationDateTime":IPCC.C.vh(bX.getCreationTime())};if(h.hM[R.getUid()]){h.hM[R.getUid()].push(adj);}else{h.hM[R.getUid()]=[adj];}R.getConversation().deleteComments(bX);}else if(NA&&bX.iS.getId()===layerId){R.getConversation().deleteComments(bX);}else if(!NA&&bX.iS.getId()===layerId){R.getConversation().deleteComments(bX);}});if(NA&&h.ad[R.getUid()]){h.uc(R);}});for(var dz in this.hM){if(this.hM.hasOwnProperty(dz)){IPCC.C.forEach(this.hM[dz],axb);}}delete this.rz[layerId];this.qJ--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.rz={};this.qJ=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.bA=name;var Iw=avT(type);if(Iw===null){throw new RangeError("The value of type was invalid.");}this.av=Iw;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bA;};MouseTool.prototype.getType=function(){return this.av;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function avT(YG){var WP=YG.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===WP){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var av=mouseTool.getType();switch(av){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.zG=false;break;case MouseTool.Type.PanAndEdit:mouseTool.zG=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bk=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bk=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bk=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bk=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bk=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bk=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bk=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bk=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bk=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bk=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bk=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bk=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bk=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bk=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bk=new Mark({type:'PlaceSignature',zd:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bk=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bk=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bk=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bk=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bk=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bk){mouseTool.getTemplateMark=function(){return this.bk;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bk){this.bk.reset();}};var MouseTools={uJ:{},createMouseTool:function(name,type){if(!this.uJ){this.uJ={};createDefaultMouseTools();}var zU=name.toLowerCase();var existingTool=this.uJ[zU];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.uJ[zU]=new MouseTool(name,type);}return this.uJ[zU];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.uJ){this.uJ={};createDefaultMouseTools();}var zU=name.toLowerCase();return this.uJ[zU];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.uJ;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var AN=[];var nQ={};EventEmitter.extend(nQ);nQ.Qv=function(Di,cJ){var h=this;return setTimeout(function(){h.trigger(Di,cJ);},0);};this.add=function(item){AN.push(item);nQ.Qv(this.EventType.ItemAdded,{item:item,count:AN.length});return this;};this.remove=function(item){var h=this;this.forEach(function(e,idx){if(e===item){AN.splice(idx,1);nQ.Qv(h.EventType.ItemRemoved,{item:item,count:AN.length});}});return this;};this.removeAll=function(){AN=[];nQ.Qv(this.EventType.ItemRemoved,{count:AN.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.C.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(AN);};this.on=function(eventType,handler){nQ.on.apply(nQ,arguments);return this;};this.off=function(eventType,handler){nQ.off.apply(nQ,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var Gp={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=Gp;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Vl){this.Vl=Vl;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Vl(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Yo=function Yo(af,dP,T){if(af.addEventListener){af.addEventListener(dP,T,false);}else if(af.attachEvent){af.attachEvent('on'+dP,T);}};var Wt=function Wt(af,dP,T){if(af.removeEventListener){af.removeEventListener(dP,T,false);}else if(af.detachEvent){af.detachEvent('on'+dP,T);}};function aoP(eh){var adJ={};eh=eh.split('&');for(var i=eh.length;i--;){var q=eh[i].split('=');adJ[q.shift()]=q.join('=');}return adJ;};function arO(){var xv=document.getElementById('pccPrintFrame');if(xv){if(xv.contentWindow&&xv.contentWindow.destroy){xv.contentWindow.destroy();}if(xv.parentElement){xv.parentElement.removeChild(xv);}}};function azd(bE){bE.amr();arO();bE.aig();if(!bE.algorithm){bE.algorithm=printAlgorithm.standard;}var gR;var fX=document.createElement('iframe');fX.id='pccPrintFrame';fX.className='pccPrintFrame';fX.style.position='absolute';fX.style.bottom=fX.style.right='0px';fX.style.width=fX.style.height='1px';fX.style.zIndex='0';fX.style.border='none';if(bE.algorithm!==printAlgorithm.contentWindowContents){fX.style.visibility='0';}function Nc(){Wt(window,'message',ale);};function acg(){Wt(fX,'load',acg);if(fX.contentDocument){gR=fX.contentDocument;}else if(fX.contentWindow){gR=fX.contentWindow.document;}else{gR=fX.document;}if(bE.algorithm===printAlgorithm.contentWindowContents){fX.contentWindow.contents=bE.template;fX.src='javascript:window["contents"]';}else{gR.open();gR.write(bE.template);gR.close();}};var ale=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var aff=JSON.parse(message.data);var ag=bE.afG(aff.pageIndex);bE.amr();fX.contentWindow[aff.callbackName](ag);bE.aig();}else if(message.data==='extra'){var FL=bE.ahm(bE);fX.contentWindow['extra'](bE.encryption,FL);}else if(message.data==='done'){if(bE.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){fX.contentWindow.focus();fX.contentWindow.document.execCommand('print',false,null);window.focus();Nc();bE.wB.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){fX.contentWindow.focus();fX.contentWindow.print();window.focus();Nc();bE.wB.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){Nc();bE.wB.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var sG=aoP(message.data);sG.index= +sG.index;sG.pageNumber= +sG.pageNumber;sG.totalPages= +sG.totalPages;bE.wB.acq= +sG.index+1;bE.wB.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,sG);}};Yo(window,'message',ale);Yo(fX,'load',acg);document.body.appendChild(fX);return Nc;};function asJ(dJ){return function afG(bj){return dJ.ar.fY(dJ.cg.getPage(bj));};};function aso(dJ){return function ahm(options){var ad,R,vd=[],yp=[],GF={},IV={},xH={},eu={},Ea='',acm,dG,bv,HK,aF,Kl,aa,ajW={},CS={},G=0,cX=0,bo=0,aqr=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){ad=dJ.getAllMarks();for(G=0;G<options.pages.length;G++){ajW[options.pages[G]]=true;}for(cX=0;cX<ad.length;cX++){R=ad[cX];aa=R.aa;if(options.includeReasons!=='none'&&(R.getReason||R.getReasons)){Ea=R.K.get_text();if(Ea){if(!xH[aa]){eu[Ea]=1;xH[aa]=eu;eu={};}else{if(xH[aa][Ea]){xH[aa][Ea]+=1;}else{xH[aa][Ea]=1;}}}}if(R.ou||R.av.search("Redaction")!== -1){if(CS[aa]){CS[aa]+=1;}else{CS[aa]=1;}}if(options.range.length&&ajW[aa]!==true|| !options.includeRedactions&&R.ou|| !options.includeAnnotations&& !R.ou){continue;}dG=R.getConversation();if(dG&&dG.getComments().length){if(!HK){HK=aa;}else if(aa!==HK){vd.sort(aqr);for(bo=0;bo<vd.length;bo++){yp=yp.concat(GF[vd[bo]]);}IV[HK]=yp;HK=aa;vd=[];GF={};yp=[];}bv=dJ.getCharacterIndex(R);acm=aa;aF=R.K.get_boundingRectangle();Kl=(bv>0)?bv*10000+aF.y:aF.y;vd.push(Kl);if(!GF[Kl]){GF[Kl]=[dG];}else{GF[Kl].push(dG);}}}if(vd.length){vd.sort(function(a,b){return a-b;});for(G=0;G<vd.length;G++){yp=yp.concat(GF[vd[G]]);}IV[acm]=yp;}}return{IV:IV,xH:xH,CS:CS};};};function asr(dJ){return function(){if(dJ&&dJ.ar){dJ.ar.remove_markChanged(dJ.lT);}};};function XL(dJ){return function(){if(dJ&&dJ.ar){dJ.ar.add_markChanged(dJ.lT);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cc=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var oR=this.bE.imageHandlerUrl;var avn=this.bE.documentID;var aoG=this.azn;options.vsID=avn;options.handler=oR;options.pages=cc;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aoG.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bE.viewerAssetsPath);options.encryption= ! !this.bE.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var UH;function bn(){if(! !UH){UH();}};var wB=new PCCViewer.PrintRequest(options,cc.length,bn,this);this.aU.trigger(PCCViewer.EventType.PrintRequested,{printRequest:wB});options.wB=wB;options.afG=asJ(this);options.ahm=aso(this);options.amr=asr(this);options.aig=XL(this);UH=azd(options);return wB;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bE=options;this.bn=cancelFunc;this.acq=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.bn();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bE.pages.toString(),orientation:this.bE.orientation,paperSize:this.bE.paperSize,margins:this.bE.margins,includeMarks:this.bE.includeMarks,includeAnnotations:this.bE.includeAnnotations,includeRedactions:this.bE.includeRedactions,includeComments:this.bE.includeComments,includeReasons:this.bE.includeReasons,redactionViewMode:this.bE.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bE.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.acq;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var adF=[];IPCC.C.Zv=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function xg(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function auY(aa,Jg){var jZ=[];jZ.push("pageNumber="+(1+aa));jZ.push("index="+Jg);jZ.push("totalPages="+options.pages.length);return jZ.join('&');};function iP(aa,Jg,next){var aw={documentIdentifier:options.vsID,pageNumber:aa,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var ix=document.createElement('div');ix.className=options.paperSize+" ";ix.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';ix.id='printpage'+aa;if(options.margins==='none'){ix.className+=' nomargins';}domElement.appendChild(ix);var pv=IPCC.initializePageViewPlugin(ix,aw);pv.set_debug(false);pv.set_requireRequestsOptimize(true);adF.push(pv);var xo=false;function Ke(){xg(auY(aa,Jg));next();};pv.add_pageOpened(function(){var aA=pv.lq(),bM=pv.iT();var vz=(options.orientation==='portrait'&&aA>bM)||(options.orientation==='landscape'&&bM>aA);if(vz){pv.vz(90);}});pv.add_pageDisplayed(function(){if(!xo){Ke();}});pv.add_textPageReady(function(){if(xo){pv.dC();Ke();}});pv.add_pageOpenFailed(function(){xg('fail');});pv.add_textExtractionFailed(function(){if(xo){xg('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.oq(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.oq(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var aey='loadArt'+aa;var sG={pageIndex:aa,callbackName:aey};window[aey]=function(ag){var mV,KE,G,dG={},PU={},Am='',nN,ge,eu,DU='';var MB=[];ag.BP(function(R){if(R.get_type()===IPCC.Web.UI.MarkType.HighlightText){xo=true;}if(options.includeRedactions&&R.jC()){MB.push(R);}if(options.includeAnnotations&& !R.jC()){MB.push(R);}});var adA=new IPCC.Web.UI.ArtPage();IPCC.C.forEach(MB,function(R){R.mv(undefined);adA.addMark(R);});aw.artPage=adA;PU=options.pagedConversations[aa+1];if(options.pagedConversations&&PU&&options.includeComments==='followingPage'){mV=document.createElement('div');mV.className+='commentPage';mV.id='printcommentpage'+aa;if(options.margins==='none'){mV.className+=' nomargins';}KE='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(G=0;G<PU.length;G++){dG=PU[G];Am+=agb(dG,aa+1);}mV.innerHTML=KE.replace('{{pageNumber}}',aa+1).replace('{{conversationList}}',Am);domElement.appendChild(mV);}ge=options.pagedReasons[aa+1];if(options.pagedReasons&&ge&&options.includeReasons==='followingPage'){nN=document.createElement('div');nN.className+='reasonPage';nN.id='printreasonpage'+aa;if(options.margins==='none'){nN.className+=' nomargins';}KE='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eu in ge){if(ge.hasOwnProperty(eu)){DU+=aiW(eu,ge[eu]);}}nN.innerHTML=KE.replace('{{pageNumber}}',aa+1).replace('{{reasonList}}',DU).replace('{{date}}',akC()).replace('{{count}}',options.pagedRedactionCount[aa+1]);domElement.appendChild(nN);}pv.openPage(aw);IPCC.C.forEach(MB,function(R){R.mv(ag);});};xg(JSON.stringify(sG));}else{pv.openPage(aw);}};function agb(dG,aa){var ahN='',ji='',R=dG.getMark(),gI,bX,G;switch(R.K.jc()){case IPCC.Web.UI.MarkType.Rectangle:ji=(R.K.jC())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:ji='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ji='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:ji=(R.mb==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:ji='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:ji='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:ji='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:ji='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:ji='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:ji='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:ji='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:ji='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:ji='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:ji='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:ji='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:ji='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:ji='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:ji='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:ji='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ji='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:ji='Strikethrough Annotation';break;default:break;}gI=dG.getComments();for(G=0;G<gI.length;G++){bX=gI[G];ahN+='<li>'+aFI({text:bX.getText(),createDate:bX.oz.ZT,pageNumber:aa+1})+'</li>';}return '<h3>'+ji+'</h3><ul>'+ahN+'</ul>';};function aFI(bX){var jt=new Date(bX.createDate),Vy='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',jt.getMonth()+1).replace('{{day}}',jt.getDate()).replace('{{year}}',jt.getFullYear()).replace('{{hour}}',(jt.getHours()<10?'0':'')+jt.getHours()).replace('{{minutes}}',(jt.getMinutes()<10?'0':'')+jt.getMinutes()).replace('{{period}}',jt.getHours()<12?'am':'pm');var bm=bX.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bm).replace('{{date}}',Vy);};function akC(){var jt=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',jt.getMonth()+1).replace('{{day}}',jt.getDate()).replace('{{year}}',jt.getFullYear());};function aiW(eu,qJ){eu=eu.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var avw=(qJ>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eu).replace('{{count}}',qJ).replace('{{times}}',avw);};function atn(){window.onerror=function(ev){xg('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function anI(aa,Jg){return function(next){iP(aa,Jg,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var al= +options.pages[i]-1;funcs.push(anI(al,i));}sync(funcs,function(){var mV,KG='',al,BH='',Am='',dG,R,ahY='<h1>Comments</h1><hr>{{pageSections}}',nN,DU='',azi='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(al in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(al)){if(!mV){mV=document.createElement('div');mV.className+=' commentPage';mV.id='printpage_comments';if(options.margins==='none'){mV.className+=' nomargins';}}KG='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Am='';for(var G=0;G<options.pagedConversations[al].length;G++){dG=options.pagedConversations[al][G];R=dG.getMark();Am+=agb(dG,R.pageNumber);}BH+=KG.replace('{{pageNumber}}',R.pageNumber).replace('{{conversationList}}',Am);if(Am.length){mV.innerHTML=ahY.replace('{{pageSections}}',BH);domElement.appendChild(mV);}}}}if(options.includeReasons==='documentEnd'){BH='';ahY='';KG='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(al in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(al)){if(!nN){nN=document.createElement('div');nN.className+='reasonPage';nN.id='printpage_reason';if(options.margins==='none'){nN.className+=' nomargins';}}DU='';for(var eu in options.pagedReasons[al]){if(options.pagedReasons[al].hasOwnProperty(eu)){DU+=aiW(eu,options.pagedReasons[al][eu]);}}BH+=KG.replace('{{pageNumber}}',al).replace('{{reasonList}}',DU).replace('{{date}}',akC()).replace('{{count}}',options.pagedRedactionCount[al]);}}if(BH.length){nN.innerHTML=azi.replace('{{pageSections}}',BH);domElement.appendChild(nN);}}xg('done');});};function arS(){window['extra']=function(bool,FL){options.encryption= ! !bool;options.pagedConversations=FL.IV;options.pagedReasons=FL.xH;options.pagedRedactionCount=FL.CS;atn();window['extra']=function(){};};xg('extra');};function axe(){var ag;IPCC.C.forEach(adF,function(aB){ag=aB.get_artPage();if(ag){ag.removeAllMarks();}aB.dispose();ag=undefined;});};window['destroy']=axe;arS();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aCH={Draft:"Draft",Normal:"Normal"};module.exports=aCH;},{}],160:[function(require,module,exports){var Revision=function(){this.dz=0;this.wy=0;this.av='';};Revision.prototype.getId=function(){return this.dz;};Revision.prototype.getEndPageNumber=function(){return this.wy;};Revision.prototype.getType=function(){return this.av;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.wy;}},"id":{enumerable:true,get:function(){return this.dz;}},"type":{enumerable:true,get:function(){return this.av;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var GL=function(bE){var il=new PCCViewer.RevisionsRequest(true);function atk(av){for(var ST in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(ST)){if(ST.toLowerCase()===av.toLowerCase()){return PCCViewer.Revision.Type[ST];}}}return PCCViewer.Revision.Type.Unknown;};function aoK(gu,bQ){var vR=[];if(gu.changes&&gu.changes.length){vR=gu.changes.map(function(TW){var Nl=new PCCViewer.Revision();Nl.dz=TW.id;Nl.wy=TW.endPageIndex+1;Nl.av=atk(TW.type);return Nl;});}return vR;};function arb(Ln){var Yu=Ln?'&continueToken='+Ln:'';var auT=bE.imageHandlerUrl+'/v2/viewingSessions/'+bE.documentID;return auT+'/revisionData?limit=100'+Yu;};function ajQ(Ln){var bO=PCCViewer.Deferred();var bd=arb(Ln);PCCViewer.Ajax.eT({url:bd,method:'GET'}).then(function eZ(aT){var cr=JSON.parse(aT.responseText);var BM=cr.continueToken;var vR=aoK(cr,il.Hy.length);il.Hy=il.Hy.concat(vR);if(BM){if(vR.length){il.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:vR});}setTimeout(function(){ajQ(BM);},cr.continueAfter||0);}else{if(vR.length){il.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:vR});}il.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:il.getRevisions()});il.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:il.getRevisions()});}bO.resolve();},function ft(aC){var eo='RequestFailed';var ds='The request to get revisions failed.';var ph=aC.response.responseText?JSON.parse(aC.response.responseText):'';var jd=aC.response.status;if(ph&&(jd===580||(jd===480&&ph.errorCode==='DocumentNotProvidedYet'))){eo=ph.errorCode;}il.eo=eo;il.ds=ds;il.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:il.getErrorMessage()});il.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:il.getRevisions()});bO.reject(aC.error);});};this.avk=function(){setTimeout(function(){ajQ();},0);return il;};};var RevisionsRequest=function(vx){this.Hy=[];this.eo=null;this.ds=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !vx,enumerable:true,get:function(){return this.Hy;}},"errorCode":{configurable: ! !vx,enumerable:true,get:function(){return this.eo;}},"errorMessage":{configurable: ! !vx,enumerable:true,get:function(){return this.ds;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Hy;};RevisionsRequest.prototype.getErrorCode=function(){return this.eo;};RevisionsRequest.prototype.getErrorMessage=function(){return this.ds;};module.exports={RevisionsRequest:RevisionsRequest,GL:GL};},{}],162:[function(require,module,exports){var FT={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=FT;},{}],163:[function(require,module,exports){var _Search=function(){this.bH='';this.JG={};this.cf={};this.OE=0;this.aM=new PCCViewer.SearchRequest();var h=this;this.Sx=function(){var Nt=[];for(var G=0;G<h.JG.searchTerms.length;G++){var bH=h.JG.searchTerms[G];var og=IPCC.C.NT(bH.type);var Ni;switch(og){case 'proximity':var wX={wE:bH,cf:[],type:bH.type,highlightColor:this.aao(bH.highlightColor),distance:bH.distance,contextPadding:bH.contextPadding};for(var x=0;x<bH.terms.length;x++){var Vk=bH.terms[x];Ni=this.ahI(Vk);wX.cf=wX.cf.concat(Ni);}Nt.push(wX);break;default:Ni=this.ahI(bH);Nt=Nt.concat(Ni);break;}}return Nt;};this.ahI=function(bH){var fI=[];var cf={};if(bH.matchingOptions.exactPhrase===false&&bH.searchTermIsRegex===false){var AV=bH.searchTerm.split(' ');for(var bo=0;bo<AV.length;bo++){cf={};if(AV[bo].length<0){continue;}cf.searchText=AV[bo];cf.wE=bH;if(bH.matchingOptions.matchWholeWord){cf.searchTerm=this.amw(this.Cr(AV[bo]),bH.matchingOptions);}else{if(bH.matchingOptions.wildcard===true){cf.searchTerm=this.ajT(this.Cr(AV[bo]),bH.matchingOptions);}else if(bH.matchingOptions.beginsWith===true||bH.matchingOptions.endsWith===true){cf.searchTerm=this.akk(this.Cr(AV[bo]),bH.matchingOptions);}else{cf.searchTerm=this.aei(AV[bo],bH.matchingOptions,false);}}cf.highlightColor=this.aao(bH.highlightColor);fI.push(cf);}}else{cf={};cf.searchText=bH.searchTerm;cf.wE=bH;if(bH.matchingOptions.matchWholeWord){cf.searchTerm=this.amw(this.Cr(bH.searchTerm),bH.matchingOptions);}else{if(bH.matchingOptions.wildcard===true){cf.searchTerm=this.ajT(this.Cr(bH.searchTerm),bH.matchingOptions);}else if(bH.matchingOptions.beginsWith===true||bH.matchingOptions.endsWith===true){cf.searchTerm=this.akk(this.Cr(bH.searchTerm),bH.matchingOptions);}else{cf.searchTerm=this.aei(bH.searchTerm,bH.matchingOptions,bH.searchTermIsRegex);}}cf.highlightColor=this.aao(bH.highlightColor);fI.push(cf);}return fI;};this.amw=function(sf,wf){var Kk=new RegExp('\\b'+sf+'\\b',this.HU(wf.matchCase));return Kk;};this.akk=function(sf,wf){if(wf.beginsWith){return new RegExp("\\b"+sf+'(\\w*)',this.HU(wf.matchCase));}if(wf.endsWith){sf=sf.replace("*","");return new RegExp('(\\w*)'+sf+"\\b",this.HU(wf.matchCase));}};this.Cr=function(sf){return sf.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.ajT=function(sJ,wf){sJ=sJ.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(sJ==='\\*'){var dq=new Error('The search term must contain one or more non-wildcard characters.');dq.aof=true;throw dq;}var regexFlags='gim';if(wf.matchCase){regexFlags='gm';}sJ=sJ.replace(/\*/g,'\S*');sJ=sJ.replace(/\?/g,'\S');var Kk=new RegExp('(\\s|^)'+sJ+'(?=\\s|$)',regexFlags);return Kk;};this.VC=function(sf){return sf.replace(/\ /g,'\\s+');};this.aei=function(MD,matchingOptions,isRegex){var vt='';if(isRegex===true){vt=this.VC(MD);}else if(matchingOptions.wildcard===true){vt=MD.replace(/[-[\]{}()+,^$|#]/g,"\\$&");vt=this.VC(vt);}else if(matchingOptions.exactPhrase){vt=MD.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");vt=this.VC(vt);}else{vt=MD.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var aBJ=vt.replace(/'/g,'[\'|‘|’]').replace(/"/g,'["|“|”]');return new RegExp(aBJ,this.HU(matchingOptions.matchCase));};this.HU=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aIE=function(sJ){var Kk=new RegExp('\\b'+sJ+'\\b',h.HU());return Kk;};var alg=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.aao=function(cY){if(!cY){return alg[h.OE++ %alg.length];}else{return cY;}};this.SV=function(cZ){if(typeof cZ==='string'){cZ={searchTerms:[{searchTerm:cZ,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return cZ;}IPCC.C.forEach(cZ.searchTerms,function(bH){if(!bH.matchingOptions){bH.matchingOptions={};}var og=IPCC.C.NT(bH.type);switch(og){case 'proximity':IPCC.C.forEach(bH.terms,function(Vk){h.ajL(Vk);});break;default:h.ajL(bH);break;}});return cZ;};this.ajL=function(bH){if(typeof bH.contextPadding==="undefined"){bH.contextPadding=25;}if(typeof bH.searchTermIsRegex==="undefined"){bH.searchTermIsRegex=false;}if(typeof bH.matchingOptions==="undefined"){bH.matchingOptions={};}if(!bH.matchingOptions.hasOwnProperty('matchCase')){bH.matchingOptions.matchCase=false;}if(!bH.matchingOptions.hasOwnProperty('exactPhrase')){bH.matchingOptions.exactPhrase=true;}if(!bH.matchingOptions.hasOwnProperty('matchWholeWord')){bH.matchingOptions.matchWholeWord=false;}if(!bH.matchingOptions.hasOwnProperty('beginsWith')){bH.matchingOptions.beginsWith=false;}if(!bH.matchingOptions.hasOwnProperty('endsWith')){bH.matchingOptions.endsWith=false;}if(!bH.matchingOptions.hasOwnProperty('wildcard')){bH.matchingOptions.wildcard=false;}if(typeof bH.highlightColor!=='undefined'){try{IPCC.aq.cY(bH.highlightColor,"selectText");}catch(e){bH.highlightColor=undefined;}}};this.aov=function(){return h.cf;};this.aiD=function(e){h.aM.ds=e.message;h.aM.eo="1010";h.aM.tJ=true;setTimeout(function(){h.aM.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){h.aM.trigger("SearchCompleted",{completedSearchResults:(h.rS)});},10);return h.aM;};this.tS=function(cZ,aZ){this.cf={};this.JG=cZ;this.bH=cZ;this.OE=0;var tS=new PCCViewer.QB();try{h.cf=this.Sx();return tS.Xk(aZ,h.cf,cZ,h.aM);}catch(e){return h.aiD(e);}};this.Be=function(cZ,aZ){this.cf={};this.JG=cZ;this.bH=cZ;this.OE=0;var Be=new PCCViewer.Si();try{h.cf=this.Sx();return Be.Xk(aZ,h.cf,cZ,h.aM);}catch(e){return h.aiD(e);}};};_Search.prototype.zr=function(searchQuery){this.cf={};this.aM=new PCCViewer.SearchRequest();this.JG=searchQuery;this.aM.cZ=searchQuery;this.bH=searchQuery;this.OE=0;return this.aM;};var SearchTask=function(searchQuery){this.afF(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.SV(searchQuery);this.aM=_search.zr(searchQuery);try{_search.cf=_search.Sx();}catch(e){if(e.aof){throw new Error(e.message);}else{throw new Error(e.message);}}var tS=new PCCViewer.QB();this.search=function(text){tS.rS=[];tS.aP=0;tS.cf=_search.cf;tS.ayO(text);return tS.rS;};};SearchTask.prototype.afF=function(searchQuery){if(typeof searchQuery==='string'){return;}var Ah;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){Ah=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.C.forEach(Ah,function(uS,G){var og=uS.type?IPCC.C.trim(uS.type).toLowerCase():undefined;switch(og){case 'proximity':IPCC.C.forEach(uS.terms,function(aAd,bi){if(!aie(aAd)){throw new Error("Search term index "+bi+" under Proximity search term index "+G+" does not have a valid `searchTerm` string property.");}});break;default:if(!aie(uS)){throw new Error("Search term index "+G+" does not have a valid `searchTerm` string property.");}break;}});function aie(uS){return(typeof uS.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function aDc(cZ){var Ah=cZ.map(function(bH,aeD){if(bH.type==='proximity'){return{type:'proximity',distance:bH.distance,subTerms:bH.cf.map(function(aeW){return{pattern:aeW.searchTerm.source,caseSensitive:aeW.wE.matchingOptions.matchCase};}),termId:aeD.toString(),contextPadding:bH.contextPadding};}return{type:'simple',pattern:bH.searchTerm.source,caseSensitive:bH.wE.matchingOptions.matchCase,termId:aeD.toString(),contextPadding:bH.contextPadding};});return{input:{searchTerms:Ah}};};var Si=function(){var h=this;var zr,BM,aiF;var NV=[];this.AL=false;this.zJ={};this.Ad=[];function axO(){var Yu=BM?'&continueToken='+BM:'';return h.aZ.qb+'/v2/searchTasks/'+zr.processId+'/results?limit=100'+Yu;};function aCC(fI){var Ld=h.zJ.input.searchTerms.reduce(function(pP,uS){pP[uS.termId]=h.cf[uS.termId];return pP;},{});return fI.map(function(aC){var ec=new PCCViewer.SearchResult();if(h.cf[0].wE.matchingOptions.wildcard&&(aC.text[0]===" "||aC.text[0]==="\n")){aC.text=aC.text.substring(1);aC.startIndex+=1;aC.startIndexInContext+=1;}ec.nd=aC.boundingRectangle;ec.dp=aC.context;ec.Af=aC.startIndexInContext;ec.lC=aC.id;ec.cf=h.cf;ec.aj=aC.lineRectangles;ec.fU=aC.pageData;ec.qL=aC.startIndex;ec.bm=aC.text;ec.aa=aC.pageIndex+1;ec.dz=aC.id;ec.HV=h.aZ.get_documentIdentifier();ec.bH=Ld[aC.searchTerm.termId].wE;ec.sx=Ld[aC.searchTerm.termId].highlightColor;return ec;});};function rZ(Mg,VK){switch(Mg){case 'failed':setTimeout(function(){h.aM.trigger(PCCViewer.EventType.SearchFailed,VK);},10);break;case 'complete':h.aM.VI=h.Ad;h.aM.tJ=true;setTimeout(function(){h.aM.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(h.aM.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){h.aM.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(h.aM.getResults())});},10);};function awI(mx){var bd=h.aZ.qb+'/v2/viewingSessions/'+encodeURIComponent(h.aZ.get_documentIdentifier())+'/searchTasks';function eZ(aT){var aC=JSON.parse(aT.responseText);zr=aC;if(NV.length){NV.forEach(function(vO){vO();});}NV=[];mx();};function ft(aS){h.aM.off('SearchCancelled',h.aeM);h.aM.ds='The request to create a search task failed.';var aAV=aS&&aS.response&&aS.response.status===501;var azD=aS&&aS.response&&aS.response.status===480&&(function(aqG){try{return JSON.parse(aqG).errorCode==='FeatureDisabled';}catch(e){return false;}}(aS.response.responseText));if(aAV||azD){h.aM.eo='ServerSearchUnavailable';h.aM.ds='Server-side search is not available.';rZ('failed',{errorMessage:h.aM.ds});return;}rZ('failed',{errorMessage:h.aM.ds});};PCCViewer.Ajax.eT({url:bd,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(h.zJ)}).then(eZ,ft);};function Pm(mx){var bd=axO();var jo={};if(zr.affinityToken){jo['Accusoft-Affinity-Token']=zr.affinityToken;}if(!h.AL){return;}function eZ(aT){if(!h.AL){return;}var aC=JSON.parse(aT.responseText);var Vr=aCC(aC.results);h.Ad=aC.pagesWithoutText;h.aM.fI.push.apply(h.aM.fI,Vr);if(Vr.length){setTimeout(function(){IPCC.C.forEach(Vr.reduce(function(pP,aC){var cT=aC.aa;if(!pP[cT]){pP[cT]=[];}pP[cT].push(aC);return pP;},{}),function(fI,cT){h.aM.trigger('PartialSearchResultsAvailable',{partialSearchResults:fI,pagesWithoutText:h.Ad});});},10);}if(aC.continueToken){BM=aC.continueToken;aiF=aC.continueAfter;mx();}else if(h.AL){rZ('complete');}};function ft(aC){if(!h.AL){return;}h.AL=false;h.aM.ds='The request to poll the search task failed.';h.aM.tJ=true;rZ('failed',{errorMessage:h.aM.ds});};PCCViewer.Ajax.eT({method:'GET',url:bd,headers:jo}).then(eZ,ft);};function anP(){(function aoS(){setTimeout(function(){Pm(aoS);},aiF||0);}());};function aeM(){rZ('cancelled');h.AL=false;function anw(){};if(!zr){NV.push(anw);return;}anw();};this.Xk=function(aZ,cf,cZ,aM){h.aZ=aZ;h.cf=cf;h.aM=aM;h.aM.cZ=cZ;h.zJ=aDc(h.cf);h.AL=true;h.aM.on('SearchCancelled',aeM);awI(function(){anP();});return h.aM;};};module.exports=Si;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function afo(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function yl(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new yl(this.x,this.y);};};function UN(bB){return(bB&&bB.nodeType===1);};function MK(Ak,Iy){var Ts=(Iy&&IPCC.C.CC)?'m':'M';var YN=(Iy&&IPCC.C.CC)?'l':'L';return IPCC.C.map(Ak,function(el,i){if(i===0){return Ts+el.x+','+el.y;}else{return YN+el.x+','+el.y;}}).join('');};function acI(dp,oe,fd){return function(aS){if(IPCC.C.Dh&&aS.type.match('mouse')){aS.preventDefault();aS.stopPropagation();return false;}if(aS.preventDefault){aS.preventDefault();}else{aS.returnValue=false;}var x,y;if(aS.changedTouches){var gE=aS.changedTouches[0];if(aS.type==='touchstart'){oe=aS.target.getBoundingClientRect();}else if(aS.type==='touchend'){fd&&fd();return;}x=gE.clientX-oe.left;y=gE.clientY-oe.top;}else{x=aS.clientX-oe.left;y=aS.clientY-oe.top;}var bK=new yl(x,y);dp.Ak.push(bK);var wV=MK(dp.Ak);if(IPCC.C.CC){dp.gT.path=wV.toLowerCase();}else{dp.gT.setAttribute('d',wV);}fd&&fd();};};function arG(points){var ys=3,co='',rD;var qV=(points.length<ys)?points:IPCC.C.filter(points,function(el){if(rD&&rD.close(el)){return false;}else{rD=el;return true;}});if(qV.length<ys){qV=[points[0],points[points.length-1]];}rD=undefined;if(qV.length<ys){co+=MK(qV);}else{co='M'+IPCC.C.bspline(qV);co=co.replace(/\d*\.?\d*/g,function(bu){var Fb=bu.indexOf('.');if(bu.length&&Fb>0){return bu.substr(0,Fb+3);}else if(bu!==""){return bu;}else{return bu;}});}return co;};function SignatureControl(dom){var h=this;if(typeof dom==='string'){this.dF=document.querySelector(dom);if(!(UN(this.dF))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(UN(dom)){this.dF=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.If=[];this.oe=new afo(this.dF.getBoundingClientRect());this.dU=IPCC.C.CK.SVG([0,0,this.oe.width,this.oe.height].join(' '));this.dF.appendChild(this.dU);function BO(ev){var gT=IPCC.C.CK.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});h.dU.appendChild(gT);var dp={Ak:[],gT:gT,fd:function(){h.If.push(dp.Ak);IPCC.C.removeEvent(h.dF,'mousemove',Ae);IPCC.C.removeEvent(h.dF,'mouseup',By);if(IPCC.C.Dh){IPCC.C.removeEvent(h.dF,IPCC.C.oj['move'],Ae);IPCC.C.removeEvent(h.dF,IPCC.C.oj['up'],By);}if(IPCC.C.JQ){IPCC.C.removeEvent(h.dF,'touchmove',Ae);IPCC.C.removeEvent(h.dF,'touchend',By);}}};var Ae=acI(dp,h.oe);var By=acI(dp,h.oe,dp.fd);Ae(ev);IPCC.C.addEvent(h.dF,'mousemove',Ae);IPCC.C.addEvent(h.dF,'mouseup',By);if(IPCC.C.Dh){IPCC.C.addEvent(h.dF,IPCC.C.oj['move'],Ae);IPCC.C.addEvent(h.dF,IPCC.C.oj['up'],By);}if(IPCC.C.JQ){IPCC.C.addEvent(h.dF,'touchmove',Ae);IPCC.C.addEvent(h.dF,'touchend',By);}};IPCC.C.addEvent(h.dF,'mousedown',BO);if(IPCC.C.Dh){this.dF.style['-ms-touch-action']='none';this.dF.style['touch-action']='none';IPCC.C.addEvent(h.dF,IPCC.C.oj['down'],BO);}if(IPCC.C.JQ){IPCC.C.addEvent(h.dF,'touchstart',BO);}this.SD=function(){h.oe=new afo(h.dF.getBoundingClientRect());h.dU.setAttribute('viewBox',[0,0,h.oe.width,h.oe.height].join(' '));};IPCC.C.addEvent(window,'resize',this.SD);this.ahU=function(){IPCC.C.removeEvent(window,'resize',h.SD);IPCC.C.removeEvent(h.dF,'mousedown',BO);if(IPCC.C.Dh){IPCC.C.removeEvent(h.dF,IPCC.C.oj['down'],BO);}if(IPCC.C.JQ){IPCC.C.removeEvent(h.dF,'touchstart',BO);}while(h.dF.firstChild){h.dF.removeChild(h.dF.firstChild);}};};SignatureControl.prototype.done=function(){var mT,nu,mK,nb,wV='M0,0',aeq=this;IPCC.C.forEach(aeq.If,function(nK){IPCC.C.forEach(nK,function(p){if(mT===undefined||mT>p.x){mT=p.x;}if(nu===undefined||nu>p.y){nu=p.y;}if(mK===undefined||mK<p.x){mK=p.x;}if(nb===undefined||nb<p.y){nb=p.y;}});});IPCC.C.forEach(aeq.If,function(nK){var aCO=IPCC.C.map(nK,function(p){return new yl(p.x-mT,p.y-nu);});wV+=arG(aCO);});this.ahU();return{type:'path',path:wV,width:(mK-mT)||0,height:(nb-nu)||0};};SignatureControl.prototype.resize=function(){this.SD();return this;};SignatureControl.prototype.clear=function(){var svg=this.dU;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.If=[];return this;};SignatureControl.prototype.undo=function(){if(this.dU.lastChild){this.dU.removeChild(this.dU.lastChild);}this.If.pop();return this;};SignatureControl.prototype.cancel=function(){this.ahU();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var pH=IPCC.C.Yz(signature.path);var dU=IPCC.C.CK.SVG([0,0,pH.width,pH.height].join(' '));var gT=IPCC.C.CK.Path(signature.path,{width:pH.width,height:pH.height,color:'black',thickness:4});if(IPCC.C.CC){var avr=(pH.height/pH.width)*100;dU.style.width=gT.style.width='100%';dU.style.height=gT.style.height='0px';dU.style.paddingBottom=gT.style.paddingBottom=avr+'%';}else{dU.style.width='100%';dU.style.maxHeight='100%';dU.setAttribute('preserveAspectRatio','xMinYMin meet');}dU.appendChild(gT);domElement.appendChild(dU);return{width:pH.width,height:pH.height,clear:function(){domElement.removeChild(dU);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var ix=document.createElement('div');var lE=document.createTextNode(signature.text);var ia=(typeof signature.fontName==='string')?signature.fontName:'serif';ix.appendChild(lE);ix.style.textAlign='center';ix.style.fontFamily='"'+ia+'", cursive';ix.style.fontSize='2.5em';ix.style.overflow='hidden';domElement.appendChild(ix);var pH=IPCC.C.vr(signature.text,ia);return{width:pH.width,height:pH.height,clear:function(){domElement.removeChild(ix);}};};if(!UN(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var ro=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var bZ=require('./PCCViewer.MarkDeserializer');var en=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.C.uE(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var h=this;this.XT=viewerControlFacade;this.aU=new PCCViewer.tY(viewerControlFacade);IPCC.C.Cx(element);var kC=document.createElement('div');kC.className='pccViewerControl';kC.id='pccViewerControl-'+IPCC.vl();element.appendChild(kC);this.dA=kC;this.ej=element;var sS=document.createElement('div');sS.className='pccPageListLoading';kC.appendChild(sS);this.sS=sS;this.nM=false;this.bE=ro.sI({},SingleSessionViewerControl.AM,options);this.bE.language=ro.sI({},SingleSessionViewerControl.azG,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bE.pageLayout.toLowerCase()==="vertical"){this.bE.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bE.pageLayout.toLowerCase()==="horizontal"){this.bE.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bE.viewMode.toLowerCase()==="document"){this.bE.viewMode=IPCC.ViewMode.Document;}else if(this.bE.viewMode.toLowerCase()==="equalwidthpages"){this.bE.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bE.viewMode.toLowerCase()==="equalfitpages"){this.bE.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bE.viewMode.toLowerCase()==="singlepage"){this.bE.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(h.bE.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bE.searchMethodPageCountThreshold)&&(typeof this.bE.searchMethodPageCountThreshold!=='number')&&this.bE.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bE.redactionViewMode){if(this.bE.redactionViewMode.toLowerCase()==="draft"){this.bE.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bE.redactionViewMode.toLowerCase()==="normal"){this.bE.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bE.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var jA=this.bE.pageRotation%360;if(jA!==0){var vL=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jA||vL.indexOf(jA)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jA||IPCC.Web.kK(vL,jA)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bE.pageRotation=jA;if(this.bE.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bE.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bE.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bE.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bE.serviceResponseTimeout)||typeof this.bE.serviceResponseTimeout!=='number'||this.bE.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bE.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bE.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.bE.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.kb={};this.bd="";this.eP=1;this.aiV=1;this.afA=0;this.lJ=1;this.ar=undefined;this.XW=new PCCViewer.Deferred();this.so=this.XW.getPromise();this.eY=false;this.aZ=undefined;this.Mo=0;this.cg=undefined;this.bP=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.nj=false;this.wv=false;this.DS=false;this.DI=[];this.Rn=new PCCViewer.Deferred();this.azs=this.Rn.getPromise();this.vk=[];this.dN={};this.Dv=[];this.Eb=[];this.an=null;this.Lz={};this.gJ=null;this.mh=new PCCViewer.MarkupLayerCollection(this.XT);this.wu=new PCCViewer.MarkupLayer(this.XT);this.mh.addItem(this.wu);this.rJ=true;setTimeout(function(){h.amh(kC,h.bE);},0);this.wt=null;this.aM=null;this.AB=false;this.HN= -1;this.FB={};this.acl=false;this.azn=this.bE.printTemplate||(this.bE.template?this.bE.template.print:"");this.lv=null;this.yZ=null;this.or=function(dG,eV,aip){var dQ=document.createElement('div'),ew=dQ.style;ew.position='absolute';if(eV.isSelected){ew.backgroundColor='white';}else{ew.backgroundColor='lightgray';}ew.left='10px';ew.right='0';ew.textAlign='left';IPCC.C.forEach(dG.getComments(),function(nP,G){var SK=document.createElement('div'),Nz=SK.style;Nz.position='relative';Nz.padding='5px';Nz.border='1px solid gray';if(G>0){Nz.borderTop='none';}SK.appendChild(document.createTextNode(nP.getText()));dQ.appendChild(SK);});return dQ;};return h;};SingleSessionViewerControl.AM={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.azG={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.amh=function(element,options){if(this.nM){return;}var h=this;var Zj=function(){if(h.bE.viewMode===IPCC.ViewMode.SinglePage||h.nM){return;}var avS=h.ar.get_pageNodeId(h.getPageNumber()-1);var bh=document.getElementById(avS);var Ss=h.dA.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!bh){return;}IPCC.C.forEach(Ss,function(jq){if(bh!==jq){if(document.documentMode===8&&jq.style.outline){jq.style.outline='';}else if(jq.style.boxShadow){jq.style.boxShadow='';}}});if(document.documentMode===8){bh.style.outline='2px solid #aaa';}else{bh.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function aBV(){var bO=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var mU=document.createElement('div'),BA=document.createElement('div'),Xl=function(){mU.classList.add('open');},Rh=function(){if(mU.parentNode!==null){mU.parentNode.removeChild(mU);}};BA.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var acX=document.createElement('p');BA.appendChild(acX);function updateRemainingSeconds(){acX.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();mU.className='pccPageListNagModal';mU.appendChild(BA);h.dA.appendChild(mU);Xl();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{Rh();clearInterval(intervalId);}},1000);};function eZ(aT){if(aT.status===200){var aC=JSON.parse(aT.responseText);if(aC.delayEnabled){showNagDialog(aC.delaySecondsRemaining);}}};function ft(aT){bO.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.eT({method:'GET',url:h.bE.imageHandlerUrl+'/v2/ViewingSessions/'+h.bE.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(eZ,ft);};var anx=function(){if(h.sS.parentNode){h.sS.parentNode.removeChild(h.sS);}h.ar.remove_pageOpenFailed(Vj);h.ar.remove_pageDisplayed(anx);var bj=arguments[1].pageIndex;setTimeout(function(){h.aU.trigger("PageDisplayed",{pageNumber:(bj+1)});Zj();},10);if(bj!==0){return;}function eZ(aT){if(h.nM){return;}var aC;if(aT.status===200){aC=JSON.parse(aT.responseText);if(aC.pageCountConfidence<100){var bd;if(!(/^[\x00-\x7F]*$/.test(qm))){bd=h.bE.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qm+'&DesiredPageCountConfidence=100';}else{bd=h.bE.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(h.bE.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.eT({method:'GET',url:bd,headers:{'Content-Type':'application/json'}}).then(eZ,ft);h.eP=aC.pageCount;h.aZ.eP=aC.pageCount;h.DS=true;setTimeout(function(){h.aU.trigger("EstimatedPageCountReady",{pageCount:aC.pageCount});},10);agP();}else{if(h.eP>1){h.aZ.eP=aC.pageCount;setTimeout(function(){var G;if(aC.pageCount<h.eP){for(G=h.eP-1;G>=aC.pageCount;G--){h.cg.removePage(G);}}else if(aC.pageCount>h.eP){for(G=h.eP;G<aC.pageCount;G++){var TE=new IPCC.Web.UI.ImGearPage({pageNumber:G});h.cg.addPage(TE);}}h.eP=aC.pageCount;if(h.eY===true){h.nj=true;h.wv=true;setTimeout(function(){h.aU.trigger("PageCountReady",{pageCount:aC.pageCount});},30);}},30);}else{h.eP=aC.pageCount;h.aZ.eP=aC.pageCount;if(h.eY===true){agP(function(){h.nj=true;h.wv=true;setTimeout(function(){h.aU.trigger("PageCountReady",{pageCount:aC.pageCount});},0);});}}}}};function ft(aC){if(h.nM){return;}var Us="None",anO,VN;var apg=aC.response.getResponseHeader('Accusoft-Status-Message');if(apg){Us=apg;VN=aC.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xQ(VN)){anO=parseInt(VN,10);}}else if(aC.response.statusText){Us=aC.response.statusText;}setTimeout(function(){h.aU.trigger("PageLoadFailed",{statusCode:aC.response.status,errorMessage:Us,accusoftErrorNumber:anO});},1);throw("Unable to obtain document information from the server");};var qm=IPCC.fT.rU(h.bE.documentID);if(!qm||qm===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(qm))){h.bd=h.bE.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qm+'&DesiredPageCountConfidence=50';}else{h.bd=h.bE.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(h.bE.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.eT({method:'GET',url:h.bd,headers:{'Content-Type':'application/json'}}).then(eZ,ft);};function agP(ri){ri=ri||function(){};var akl=h.eP;function agR(){h.ar.remove_allPagesAdded(agR);ri();};if(akl>1){h.ar.add_allPagesAdded(agR);if(!h.aib){h.ar.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cJ=arguments[1];setTimeout(function(){h.aU.trigger('PageChanged',{pageNumber:cJ.pageIndex+1});Zj();},0);});h.ar.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cJ=arguments[1];if(h.lv){h.lv();h.lv=null;if(h.gJ){h.gJ.resolve();}h.gJ=null;}setTimeout(function(){h.aU.trigger('PageDisplayed',{pageNumber:cJ.pageIndex+1});Zj();},0);setTimeout(function(){h.requestPageText(cJ.pageIndex+1).then(function CP(){h.VB(cJ.pageIndex+1,h.HN);});},10);});h.ar.add_pageOpenFailed(function(){alG(arguments);});h.aib=true;}for(var G=h.Mo;G<akl;G++){h.cg.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:G}));h.Mo++;}}else{ri();}};var ayn=function(cJ){var bh=document.getElementById(cJ.pageNodeID),bB=document.createElement('div'),AO=document.createElement('button'),aes='pccPageLoadFailRetry'+cJ.pageIndex,ahu=function(){h.ar.Oo(cJ.pageIndex);},asZ=PCCViewer.Language.data.pageLoadFailed,arr=PCCViewer.Language.getValue("pageLoadFailedPassword"),aru=PCCViewer.Language.data.pageLoadFailedRetry,azr=cJ.exception.statusCode===480&&cJ.exception.customErrorCode===4001;if(bh===null){return;}AO.id=aes;AO.innerHTML=aru;bB.className='pccPageLoadFail';if(azr){bB.innerHTML=arr+'<br>';bh.appendChild(bB);}else{bB.innerHTML=asZ+'<br>';bB.appendChild(AO);bh.appendChild(bB);AO=document.getElementById(aes);if(!AO.addEventListener){AO.attachEvent('onclick',ahu);}else{AO.addEventListener('click',ahu,false);}}};function alG(DA){if(DA.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var alF,anp,cJ=DA[1];if(DA[1].exception.customErrorCode!==undefined){anp=DA[1].exception.customErrorCode;}if(DA[1].exception.message!==undefined){alF=DA[1].exception.message;}setTimeout(function(){h.aU.trigger('PageLoadFailed',{statusCode:cJ.exception.statusCode,pageNumber:cJ.pageIndex+1,errorMessage:alF,accusoftErrorNumber:anp});ayn(cJ);},0);};function azO(){if(h.ar&&typeof h.ar.dispose==="function"){h.ar.dispose();}h.bd="";h.ar=undefined;while(h.dA.firstChild){h.dA.removeChild(h.dA.firstChild);}};function aHH(amu){var bO=new PCCViewer.Deferred();if(typeof amu==="string"){PCCViewer.Ajax.eT({url:h.bE.imageHandlerUrl+'/ViewingSession/u'+h.bE.documentID+'/Replacement',body:JSON.stringify({password:amu}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHX(aT){var result=JSON.parse(aT.responseText);var akX=result.viewingSessionId;h.bE.documentID=akX;azO();h.amh(h.dA,h.bE);bO.resolve(akX);},function aGM(err){bO.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{bO.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return bO.getPromise();};function Vj(){h.ar.remove_pageOpenFailed(Vj);alG(arguments);};var azu=function(bV,V){h.ub=true;var Vp={width:V.width,height:V.height,pageNumber:V.pageNumber};h.aU.trigger("PageOpening",Vp);};function ajR(){h.XW.resolve(h.ar);h.ar.remove_pageOpened(ajR);h.eY=true;var bp=h;setTimeout(function(){h.aU.trigger("ViewerReady",{});if(bp.nj===true&&bp.wv===false){bp.wv=true;setTimeout(function(){h.aU.trigger("PageCountReady",{pageCount:bp.getPageCount()});},10);}},10);h.setCurrentMouseTool("AccusoftPanAndEdit");};var atX=function(bV,V){if(V.containsText===true){h.Rn.resolve(true);}var Ab= -1;if(Array.prototype.indexOf){Ab=(h.vk.indexOf(V.pageIndex)>=0);}else{Ab=(IPCC.Web.kK(h.vk,V.pageIndex)>=0);}if(Ab===false){h.vk.push(V.pageIndex);if(h.vk.length===h.eP){h.Rn.resolve(false);}}setTimeout(function(){h.aU.trigger("PageTextReady",{pageNumber:V.pageIndex+1});},0);};var auQ=function(bV,V){var Ab= -1;if(Array.prototype.indexOf){Ab=(h.vk.indexOf(V.pageIndex)>=0);}else{Ab=(IPCC.Web.kK(h.vk,V.pageIndex)>=0);}if(Ab===false){h.vk.push(V.pageIndex);if(h.vk.length===h.eP){h.Rn.resolve(false);}}};function asz(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ib=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ib.push(eventArgs.pageNumbers[i]+1);}var hi=[],uu= -eventArgs.startIndex,bQ,cU,iR,aj,j,k;for(j=0;j<ib.length;j++){iR=h.cg.iP(ib[j]-1).cB().hl();uu+=iR.eQ();bQ=0;if(j===0){bQ=eventArgs.startIndex;}if(uu>=eventArgs.text.length){cU=uu-eventArgs.text.length-1;}else{cU=iR.eQ()-1;}aj=IPCC.C.We(iR,bQ,cU);for(k=0;k<aj.length;k++){hi.push({x:aj[k].x,y:aj[k].y,width:aj[k].width,height:aj[k].height,pageNumber:ib[j]});}}h.an={pageNumber:ib[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:hi};var R,afO={selectedText:eventArgs.text,pageNumbers:ib,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:h.an};function aog(){var vV=h.iG;h.afx=true;h.iG=function(sender,args){h.iG=vV;setTimeout(function(){h.aU.trigger(PCCViewer.EventType.MarkCreated,{mark:R,pageNumber:ib[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){R=h.dN[eventArgs.previousFirstMark.get_markID()];h.ar.remove_markRemoved(h.Cc);h.ar.remove_markSelectionChanged(h.Bu);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.bj){var aAy=R.K.YS;var UR;if(R.getReason){UR=R.K.get_text();}var Uy;if(R.getFillColor){Uy=R.K.get_fillColor();}var UJ;if(R.getColor){UJ=R.K.get_lineColor();}var VZ;if(R.getThickness){VZ=R.K.get_lineWidth();}var Wc;if(R.getHref){Wc=R.K.get_href();}var azZ=new PCCViewer.Conversation(R);var ag=h.ar.fY(h.cg.getPage(R.K.bj));ag.removeMark(R.K);for(var G=R.bD.length-1;G>=0;G--){var lX=R.bD[G];ag=h.ar.fY(h.cg.getPage(lX.bj));ag.removeMark(lX);R.bD.splice(G,1);}R.K=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());R.K.bj=eventArgs.pageNumbers[0];R.aa=eventArgs.pageNumbers[0]+1;R.K.kf=true;R.K.YS=aAy;var vV=h.iG;h.iG=null;h.ar.remove_markChanged(h.lT);ag=h.ar.fY(h.cg.getPage(R.K.bj));ag.addMark(R.K);if(UR){R.K.set_text(UR);}if(Uy){R.K.set_fillColor(Uy);}if(UJ){R.K.set_lineColor(UJ);}if(VZ){R.K.set_lineWidth(VZ);}if(Wc){R.K.set_href(Wc);}R.dG=new PCCViewer.Conversation(R);PCCViewer.Conversation.sX(azZ,R.dG);h.ar.add_markChanged(h.lT);h.iG=vV;}R.K.set_selected(true);R.K.set_visible(true);R.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});h.ar.add_markRemoved(h.Cc);h.ar.add_markSelectionChanged(h.Bu);h.nJ(R,eventArgs.pageNumbers[0]);return;}var xO=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:xO='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:xO='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:xO='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:xO='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:awb(eventArgs.text);h.Lz[ib[0]]='selectText';break;}var bP=PCCViewer.MouseTools.getMouseTool(h.getCurrentMouseTool());var bk=(bP&&bP.getTemplateMark)?bP.getTemplateMark():undefined;var anV=bk?bk.getType():"";if(xO){aog();h.aU.trigger(PCCViewer.EventType.TextSelected,afO);R=h.addMark(ib[0],xO);if(h.rJ){h.wu.addMarks(R);}R.K.kf=true;R.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(anV===xO){if(bk.getFillColor){R.setFillColor(bk.getFillColor());}if(bk.getReason&& !R.nV){R.setReason(bk.getReason());}if(bk.getReasons&&R.nV){R.setReasons(bk.getReasons());}if(bk.getHref){R.setHref(bk.getHref());}if(bk.getColor){R.setColor(bk.getColor());}if(bk.getThickness){R.setThickness(bk.getThickness());}PCCViewer.Data.pa(bk,R);}return;}setTimeout(function(){h.aU.trigger(PCCViewer.EventType.TextSelected,afO);},0);};function awZ(){var bh=h.dA,bB=document.createElement('div');bB.className='pccCopyText';bh.appendChild(bB);h.HD=bB;};function awb(bm){var lE,aHJ=bm.split('\n'),JR=document.createDocumentFragment(),Ed,jQ;lE=document.createTextNode(bm);JR.appendChild(lE);IPCC.C.Cx(h.HD);h.HD.appendChild(JR);if(document.body.createTextRange){Ed=document.body.createTextRange();Ed.moveToElementText(h.HD);Ed.select();}else if(window.getSelection){jQ=window.getSelection();Ed=document.createRange();Ed.selectNodeContents(h.HD);jQ.removeAllRanges();jQ.addRange(Ed);}};this.aZ=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bE.documentID,imageServicePath:this.bE.imageHandlerUrl});this.aZ.set_encryption(this.bE.encryption||false);var TE=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aZ.get_pages().addPage(TE);this.cg=this.aZ.get_pages();this.ar=IPCC.initializePageListPlugin(element,options);aBV();this.ar.get_documents().addDocument(this.aZ);this.Mo=1;this.ar.add_pageDisplayed(anx);this.ar.add_pageOpenFailed(Vj);this.ar.add_pageOpening(azu);this.ar.add_pageOpened(ajR);this.ar.add_textPageReady(atX);this.ar.add_textExtractionFailed(auQ);this.ar.set_conversationDOMFactory(function(K,eV,aip){var R=h.dN[K.get_markID()];if(R){return h.or(R.getConversation(),eV,aip);}});IPCC.C.auh(element,function(Gf){if(!Gf&&IPCC.C.Ba!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!h.eY){IPCC.C.Ba='svg';return;}else if(h.nj){IPCC.C.Ba='svg';h.ar.disposeDisplayedPages();h.ar.displayAll();}else{var oC=function(){h.aU.off(PCCViewer.EventType.PageCountReady,oC);IPCC.C.Ba='svg';h.ar.disposeDisplayedPages();h.ar.displayAll();};h.aU.on(PCCViewer.EventType.PageCountReady,oC);}}});awZ();this.ar.add_selectTextMouseToolCompleted(asz);this.ar.add_propertyChanged(function(qG,dP){var proprtyName=dP.aqn();if(proprtyName==="mouseTool"){setTimeout(function(){h.aU.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:h.bP.getName()});},0);}});this.ar.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&h.dN[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bS!==undefined){h.nJ(eventArgs.mark,eventArgs.pageIndex);}if(h.iG){var be=eventArgs.mark.get_type();if(be!==IPCC.Web.UI.MarkType.Highlight&& !(be===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bS!==undefined)){h.iG(sender,eventArgs);}}});this.ar.add_markCreating(function(sender,eventArgs){if(h.Ja){h.Ja(sender,eventArgs);}});this.ar.Sl(function(sender,eventArgs){var CA=0;var AF=0;var acr=0;var tO=0;var uV=0;var LQ=0;var awu=h.bP.getName().toLowerCase(),avO=h.bP.getType();if(avO===PCCViewer.MouseTool.Type.PlaceSignature){var bP=h.bP;var bk=bP.getTemplateMark(),jV=bk.getSignature(),afy=bk.getRectangle(),R,J={};if(!jV){return;}h.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vj;if(attributes.width>0){AF=afy.width||(attributes.width/5);}if(jV.path&&jV.path.length>0){vj=IPCC.C.Yz(jV.path);J={x:0,y:0,width:vj.width,height:vj.height};R=h.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);R.setPath(jV.path);R.setThickness(jV.thickness||4);}if(jV.text&&jV.text.length){vj=IPCC.C.vr(jV.text,jV.fontName);R=h.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);J={x:0,y:0,width:vj.width,height:vj.height};R.setText(jV.text);R.setFontName(jV.fontName);}acr=(J.width/AF);CA=afy.height||(J.height/acr);tO=(eventArgs.imagePoint.x-(AF/2));uV=(eventArgs.imagePoint.y-(CA/2));if(tO<=0){tO=0;}if(uV<=0){uV=0;}if((tO+AF)>=attributes.width){LQ=(tO+AF)-attributes.width;tO=tO-LQ;}if((uV+CA)>=attributes.height){LQ=(uV+CA)-attributes.height;uV=uV-LQ;}J={x:tO,y:uV,width:AF,height:CA};R.setRectangle({x:tO,y:uV,width:AF,height:CA});PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());});h.setCurrentMouseTool(awu);}});function MouseEvent(aS){var h=this;for(var i in aS){if(i){h[i]=aS[i];}}};this.ar.Rz(function(sender,eventArgs){var an=null,ec=null,R=null,gM=null,wj=false,Ma=eventArgs.upTarget.type,Ly=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Ly=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){wj=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Ly===false){h.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){gM=h.awY(eventArgs.upMark);wj=gM!==null;Ma="documentHyperlink";}else{R=h.dN[eventArgs.upMark.get_markID()];if(R===undefined){for(var iv in h.dN){if(h.dN.hasOwnProperty(iv)){if(h.dN[iv].K.bS===eventArgs.upMark.bS&&h.dN[iv].K.bS===eventArgs.downMark.bS){R=h.dN[iv];eventArgs.pageIndex=R.aa-1;wj=true;var aqy=h.getCurrentMouseTool();var apB=PCCViewer.MouseTools.getMouseTool(aqy);var abd=apB.getType();if(Ly===false&&eventArgs.domEvent.button===0){if(abd===PCCViewer.MouseTool.Type.PanAndEdit||abd===PCCViewer.MouseTool.Type.EditMarks){h.deselectAllMarks();R.K.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.nf()===eventArgs.upMark.nf()){wj=true;if(Ly===false&&eventArgs.downTarget.alreadySelected===false){h.deselectAllMarks();R.K.set_selected(true);}}if(R===undefined){if(h.aM&&h.Lz[eventArgs.upTarget.pageIndex+1]==='search'){var fI=h.aM.getResults();for(var G=0;G<fI.length;G++){if(fI[G].aa===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.bQ!=='undefined'&&typeof eventArgs.upMark.bQ!=='undefined'&&typeof eventArgs.downMark.cz!=='undefined'&&typeof eventArgs.upMark.cz!=='undefined'&&eventArgs.downMark.bQ>=fI[G].getStartIndexInPage()&&eventArgs.downMark.bQ+eventArgs.downMark.cz<=fI[G].getStartIndexInPage()+fI[G].getText().length&&eventArgs.upMark.bQ>=fI[G].getStartIndexInPage()&&eventArgs.upMark.bQ+eventArgs.upMark.cz<=fI[G].getStartIndexInPage()+fI[G].getText().length){Ma='searchResult';ec=fI[G];eventArgs.upTarget.pageIndex=ec.aa-1;wj=true;break;}}}}if(wj===false&&R===undefined&&h.Lz[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.bQ!=='undefined'&&typeof eventArgs.upMark.bQ!=='undefined'&&eventArgs.downMark.bQ>=h.an.startIndex&&eventArgs.downMark.bQ+eventArgs.downMark.cz<=h.an.startIndex+h.an.length&&eventArgs.upMark.bQ>=h.an.startIndex&&eventArgs.upMark.bQ+eventArgs.upMark.cz<=h.an.startIndex+h.an.length){Ma='textSelection';an=h.an;wj=true;}}}var VS=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var axg=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var V={pageNumber:axg,targetType:Ma,textSelection:an,searchResult:ec,mark:R,originalEvent:VS,hyperlink:gM,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(wj===true){h.aU.trigger('Click',V);}},0);});(function(){var za=null;h.ar.QJ(function(sender,eventArgs){var VS=new MouseEvent(eventArgs.domEvent);var V={originalEvent:VS,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(za!==null){V.mark=h.dN[za];za=null;setTimeout(function(){h.aU.trigger('MarkMouseLeave',V);},0);}}else{V.mark=h.dN[eventArgs.mark.get_markID()];if(V.mark===undefined){for(var iv in h.dN){if(h.dN.hasOwnProperty(iv)){if(h.dN[iv].K.bS===eventArgs.mark.bS){V.mark=h.dN[iv];break;}}}}if(!V.mark){return;}setTimeout(function(){if(za!==V.mark.getId()){if(za!==null){h.aU.trigger('MarkMouseLeave',IPCC.C.extend({},V,{mark:h.dN[za]}));}za=V.mark.getId();h.aU.trigger('MarkMouseEnter',V);}h.aU.trigger('MarkMouseOver',V);},0);}});})();this.ar.add_hyperlinkPageReady(function(sender,eventArgs){if(h.Dv[eventArgs.pageIndex]!==undefined){return;}var bj=eventArgs.pageIndex,al=h.cg.getPage(bj),Fm=al.get_hyperlinkPage().Jp(),yz=h.Dv[bj]=[];Fm.kR(function(AI){yz.push(new PCCViewer.DocumentHyperlink({aa:bj+1,AI:AI}));});if(!h.Eb[bj]){h.Eb[bj]=new PCCViewer.Deferred();}h.Eb[bj].resolve(yz);});this.nJ=function(R,ig){var WL=false;function Ve(){var ly=false;var ca=h.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()===ig){ly=true;break;}}return ly;};function RM(hs){if(h.ar){h.ar.dC(hs);}};if(Ve()){if(Array.prototype.indexOf){if(IPCC.Web.kK(h.DI,ig)>=0){WL=true;}}else{if(IPCC.Web.kK(h.DI,ig)>=0){WL=true;}}if(!WL){h.DI.push(ig);setTimeout(function(){var dn=h.DI.length;if(dn>0){for(var G=0;G<dn;G++){RM(h.DI[G]);}h.DI.splice(0,dn);}},10);}}};var Gs={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.bE.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.bE.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var KT={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.lT=function(bV,V){var R=h.dN[V.mark.get_markID()];var av;if(R){av=R.av;}if(av&&Gs[av]&&Gs[av][V.propertyName]===false){return;}var df;if(av){df=Gs[av]&&Gs[av][V.propertyName]?Gs[av][V.propertyName]:KT[V.propertyName]?KT[V.propertyName]:V.propertyName;}else{df=KT[V.propertyName]?KT[V.propertyName]:V.propertyName;}if(V.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||V.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||V.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||V.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.mark.bS!==undefined)){if(R){setTimeout(function(){h.aU.trigger('MarkChanged',{mark:R,pageNumber:V.pageIndex+1,propertyName:df});},0);}else{for(var iv in h.dN){if(h.dN.hasOwnProperty(iv)){R=h.dN[iv];if(R.bS===V.mark.bS){break;}}}}h.nJ(R,V.pageIndex);}else if(R&&V.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&df==='points'){if(R.abv){clearTimeout(R.abv);}R.abv=setTimeout(function(){R.abv=undefined;h.nJ(R,V.pageIndex);h.aU.trigger('MarkChanged',{mark:R,pageNumber:V.pageIndex+1,propertyName:df});},1);}else if(R){h.nJ(R,V.pageIndex);setTimeout(function(){h.aU.trigger('MarkChanged',{mark:R,pageNumber:V.pageIndex+1,propertyName:df});},0);}if(R&&R.type===PCCViewer.Mark.Type.TextRedaction){R.K.set_opacity(0);}if(R&&(R.av===PCCViewer.Mark.Type.TextInputSignature||R.av===PCCViewer.Mark.Type.TextAreaSignature)){R.K.set_lineVisible(false);}};this.ar.add_markChanged(h.lT);this.ar.add_markReordered(function(sender,eventArgs){var R=h.dN[eventArgs.mark.get_markID()];setTimeout(function(){h.aU.trigger('MarkReordered',{mark:R,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Bu=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var R;for(var ND in h.dN){if(h.dN.hasOwnProperty(ND)){R=h.dN[ND];if(R.K.bS===eventArgs.mark.bS){R.K.set_selected(eventArgs.mark.get_selected());h.nJ(R.K,R.K.bj);for(var G=0;G<R.bD.length;G++){R.bD[G].set_selected(eventArgs.mark.get_selected());h.nJ(R.bD[G],R.bD[G].bj);}}}}}setTimeout(function(){h.aU.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.ar.add_markSelectionChanged(h.Bu);this.ar.add_markTextSelectionChanged(function(sender,eventArgs){h.nJ(eventArgs.mark,eventArgs.pageIndex);});this.Cc=function(sender,eventArgs){var R;if(eventArgs.mark){R=h.dN[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&R===undefined&&eventArgs.mark.bS!==undefined){h.nJ(eventArgs.mark,eventArgs.pageIndex);}else if(R){setTimeout(function(){h.aU.trigger(PCCViewer.EventType.MarkRemoved,{mark:R,pageNumber:eventArgs.pageIndex});},0);}}};this.ar.add_markRemoved(h.Cc);this.ar.add_commentAdding(function(sender,eventArgs){var R=h.dN[eventArgs.mark.get_markID()];if(eventArgs.comment.Jc.iS===undefined){eventArgs.comment.Jc.iS=h.getActiveMarkupLayer();}});this.ar.add_commentAdded(function(sender,eventArgs){var R=h.dN[eventArgs.mark.get_markID()];h.aU.trigger(PCCViewer.EventType.CommentCreated,{conversation:R.getConversation(),comment:eventArgs.comment.Jc});});this.ar.add_commentRemoved(function(sender,eventArgs){var R=h.dN[eventArgs.mark.get_markID()];h.aU.trigger(PCCViewer.EventType.CommentRemoved,{conversation:R.getConversation(),comment:eventArgs.comment.Jc});});this.ar.add_commentChanged(function(sender,eventArgs){var R=h.dN[eventArgs.mark.get_markID()];h.aU.trigger(PCCViewer.EventType.CommentChanged,{conversation:R.getConversation(),comment:eventArgs.comment.Jc});});this.ar.add_scaleChanged(function(sender,eventArgs){var fj;switch(eventArgs.fitType){case 0:fj=PCCViewer.FitType.FullWidth;break;case 1:fj=PCCViewer.FitType.ShrinkToWidth;break;case 2:fj=PCCViewer.FitType.ActualSize;break;case 3:fj=PCCViewer.FitType.FullHeight;break;case 4:fj=PCCViewer.FitType.FullPage;break;default:break;}h.aU.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:fj,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.eP;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.ar)?(this.ar.ant().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var aa;if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=Number(pageNumber);}}if(parseInt(aa,10)!==aa){throw new Error("The 'pageNumber' value "+aa+" is not an integer page number.");}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aa){return this;}if(this.ar){this.ar.scrollToPage(aa-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.ar){if(this.DS||this.nj){this.ar.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.ar){if(this.DS||this.nj){this.ar.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.ar){if(this.DS||this.nj){this.ar.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.ar){if(this.DS||this.nj){this.ar.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eY){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var h=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){h.ar.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{h.ar.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.eY){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gJ){this.gJ.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gJ=null;this.lv=null;}var h=this;var HI=function(){h.ar.scrollConversationIntoView(target.getMark().K.get_conversation());if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};var ud=function(ev){if(ev.target.yZ===target){h.aU.off(PCCViewer.EventType.CommentCreated,ud);h.yZ=null;h.scrollTo(target);}else if(ev.target.yZ===null){h.aU.off(PCCViewer.EventType.CommentCreated,ud);}if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};var Hk=function(aa,hv){h.ar.prefetchPages();h.ar.scrollRegionIntoView(aa-1,hv);if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};adL(h,target,ud,HI,Hk);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.gJ){this.gJ.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gJ=null;this.lv=null;}var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this;h.gJ=bO;try{var HI=function(){h.ar.scrollConversationIntoView(target.getMark().K.get_conversation());if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};var ud=function(ev){if(ev.target.yZ===target){h.aU.off(PCCViewer.EventType.CommentCreated,ud);h.yZ=null;h.scrollTo(target);}else if(ev.target.yZ===null){h.aU.off(PCCViewer.EventType.CommentCreated,ud);}if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};var Hk=function(aa,hv){h.ar.prefetchPages();h.ar.scrollRegionIntoView(aa-1,hv);if(h.gJ){h.gJ.resolve();}h.gJ=null;h.lv=null;};if(adL(h,target,ud,HI,Hk)===true){bO.resolve();}}catch(e){h.gJ=null;h.lv=null;bO.reject(new PCCViewer.Error("Error",e));}return cd;};function adL(dJ,cP,ud,HI,Hk){var hv,aa,aF;dJ.yZ=null;if(cP instanceof PCCViewer.Conversation){if(dJ.dN[cP.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var agn=dJ.ar.scrollConversationIntoView(cP.getMark().K.get_conversation());if(agn==="PageOutOfView"){dJ.lv=HI;dJ.setPageNumber(cP.getMark().getPageNumber());return false;}else if(agn==="ConversationDivDoesNotExist"&&cP.getMark().K.get_conversation().get_length()>0){dJ.yZ=cP;dJ.aU.on(PCCViewer.EventType.CommentCreated,ud);return false;}else{dJ.lv=null;return true;}}else if(cP instanceof PCCViewer.SearchResult){if(cP.HV!==dJ.aZ.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aF=cP.getBoundingRectangle();hv=new IPCC.Web.UI.Rectangle(aF.x,aF.y,aF.width,aF.height);aa=cP.getPageNumber();}else if(cP instanceof PCCViewer.Mark){if(dJ.dN[cP.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aF=cP.getBoundingRectangle();hv=new IPCC.Web.UI.Rectangle(aF.x,aF.y,aF.width,aF.height);aa=cP.getPageNumber();}else if(cP!==undefined&&cP!==null){if(typeof cP.x==='number'&&typeof cP.y==='number'){hv=new IPCC.Web.UI.Rectangle(+cP.x,+cP.y,0,0);}else{if(isNaN(+cP.x)||isNaN(+cP.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{hv=new IPCC.Web.UI.Rectangle(Number(+cP.x),Number(+cP.y),0,0);}}if(cP.width){if(typeof cP.width==='number'){hv.width=cP.width;}else{if(isNaN(+cP.width)){throw new Error('The parameter target does not contain a valid width value.');}else{hv.width=Number(+cP.width);}}}if(cP.height){if(typeof cP.height==='number'){hv.height=cP.height;}else{if(isNaN(+cP.height)){throw new Error('The parameter target does not contain a valid height value.');}else{hv.height=Number(+cP.height);}}}if(typeof cP.pageNumber==='number'){aa= +cP.pageNumber;}else{if(isNaN(+cP.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aa=Number(+cP.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aa<1||aa>dJ.getPageCount()|| !isFinite(aa)){throw new RangeError("The parameter pageNumber is out of range.");}if(dJ.ar.scrollRegionIntoView(aa-1,hv)===false){dJ.lv=function(){Hk(aa,hv);};dJ.setPageNumber(aa);return false;}else{dJ.lv=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eY){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(AD(this.getPageNumber()-1,this)===false){this.ar.dC(this.getPageNumber()-1);}var jA=degreesClockwise%360,h=this;if(jA!==0){var vL=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jA||vL.indexOf(jA)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jA||IPCC.Web.kK(vL,jA)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.ar.rotate(jA);}setTimeout(function(){h.aU.trigger("PageRotated",{degreesClockwise:jA,pageNumber:(h.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eY){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(AD(this.getPageNumber()-1,this)===false){this.ar.dC(this.getPageNumber()-1);}var jA=degreesClockwise%360,h=this;if(jA!==0){var vL=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jA||vL.indexOf(jA)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jA||IPCC.Web.kK(vL,jA)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.ar.aht(jA);}setTimeout(function(){h.aU.trigger("DocumentRotated",{degreesClockwise:jA});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.ub){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.ar.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.ub){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.ar.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.ub){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.ar.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.ub){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.ar.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.ub){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.ar){this.ar.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.ub){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.ar){this.ar.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var mY;if(this.ar&&this.ar.get_viewMode){mY=this.ar.get_viewMode();}else{mY=this.bE.viewMode;}if(mY===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(mY===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(mY===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var mY;switch(viewMode){case PCCViewer.ViewMode.Document:mY=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:mY=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:mY=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:mY=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.ar&&this.ar.set_viewMode){var FM=this.ar.get_viewMode();if(FM!==mY){if(FM===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(mY===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.ar.set_viewMode(mY);}}else{this.bE.viewMode=mY;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var xn;if(this.ar&&this.ar.get_pageLayout){xn=this.ar.get_pageLayout();}else{xn=this.bE.pageLayout;}if(xn===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var xn;if(this.bE.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:xn=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.ar&&this.ar.closeCommentsPanel){this.ar.closeCommentsPanel();var h=this;setTimeout(function(){h.aU.trigger("CommentsPanelToggled",{isOpen:false});},10);}xn=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.ar&&this.ar.set_pageLayout){this.ar.set_pageLayout(xn);}else{this.bE.pageLayout=xn;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.ub){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.ar.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.ub){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.ar.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.ub){throw "The fitContent method cannot be called before the initial PageOpening event.";}var De;switch(fitType){case PCCViewer.FitType.FullWidth:De=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:De=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}De=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:De=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:De=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.so.then(function(qG){qG.fitPages(De);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eY){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aa;if(arguments.length>0){if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aa=Number(pageNumber);}}if(parseInt(aa,10)!==aa){throw new Error("The 'pageNumber' value "+aa+" is not an integer page number.");}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw new Error("The parameter pageNumber is out of range.");}return this.ar.aaS(aa-1);}else{return this.ar.aaS();}};SingleSessionViewerControl.prototype.search=function(cZ){var bE=this.bE;var aFN=bE.searchMethodType.toLowerCase();var awE=bE.searchMethodPageCountThreshold;var h=this;var Ro;var iL;var GY=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(GY,{"searchQuery":{enumerable:true,get:function(){return iL.getSearchQuery();}},"results":{enumerable:true,get:function(){return iL.getResults();}},"isComplete":{enumerable:true,get:function(){return iL.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return iL.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return iL.getErrorMessage();}}});}function Jq(bA){return function(){GY.trigger.apply(GY,[bA].concat([].slice.call(arguments)));};};var ack=Jq(PCCViewer.EventType.SearchCompleted);var adM=Jq(PCCViewer.EventType.SearchCancelled);var adI=Jq(PCCViewer.EventType.SearchResultsAvailable);var acb=Jq(PCCViewer.EventType.PartialSearchResultsAvailable);var acW=function(aS){var eo=Ro.getErrorCode();if(eo==='ServerSearchUnavailable'){h.acl=true;h.AB=false;avC();iL=h.clientSearch(cZ);aeo();}else{Jq(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var aeo=function(){iL.on(PCCViewer.EventType.SearchCompleted,ack);iL.on(PCCViewer.EventType.SearchFailed,acW);iL.on(PCCViewer.EventType.SearchCancelled,adM);iL.on(PCCViewer.EventType.SearchResultsAvailable,adI);iL.on(PCCViewer.EventType.PartialSearchResultsAvailable,acb);};var avC=function(){iL.off(PCCViewer.EventType.SearchCompleted,ack);iL.off(PCCViewer.EventType.SearchFailed,acW);iL.off(PCCViewer.EventType.SearchCancelled,adM);iL.off(PCCViewer.EventType.SearchResultsAvailable,adI);iL.off(PCCViewer.EventType.PartialSearchResultsAvailable,acb);};var Be=function(){if(h.acl===false){Ro=h.serverSearch(cZ);iL=Ro;aeo();IPCC.C.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(bA){GY[bA]=function(){return iL[bA].apply(iL,arguments);};});return GY;}else{return h.clientSearch(cZ);}};switch(aFN){case('auto'):if(awE>=this.eP){return this.clientSearch(cZ);}else{return Be();}break;case('client'):return this.clientSearch(cZ);case('server'):return Be();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.aeg=function(cZ,awW){var h=this;var cf=new PCCViewer._Search();this.aM=cf.aov();PCCViewer.SearchTask.prototype.afF(cZ);if(awW===true){if(h.wv!==true){h.so.then(function(qG){var Kt=function(){h.aU.off('PageCountReady',Kt);h.clientSearch(cZ);};h.aU.on('PageCountReady',Kt);return h.aM;});}if(!this.aZ.aqk()){this.aZ.QR(0,this.aZ.eP-1,this.aZ.eP);}}this.wt=null;this.FB={};this.ar.clearAllSelectedText();return cf;};SingleSessionViewerControl.prototype.ahS=function(){var bp=this;this.aM.on('PartialSearchResultsAvailable',function(dP){if(bp.nM){return;}var Mv=[];var OH={};Mv=dP.partialSearchResults;var aC=Mv[0];if(bp.FB[aC.getPageNumber()]!==undefined){OH=bp.FB[aC.getPageNumber()];}else{OH.bQ=aC.getId();}aC=Mv[Mv.length-1];OH.cU=aC.getId();bp.FB[aC.getPageNumber()]=OH;function CP(al){if(bp.nM){return;}bp.amx(al.get_pageNumber(),Mv);};var ca=bp.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()+1===aC.getPageNumber()){bp.requestPageText(al.get_pageNumber()+1).then(CP.bind(null,al));}}});this.aM.on('SearchCompleted',function(dP){bp.AB=false;});this.aM.on('SearchCancelled',function(dP){bp.AB=false;});this.aU.trigger('SearchPerformed',{searchRequest:this.aM});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var bp=this;var cf=bp.aeg(searchQuery,true);searchQuery=cf.SV(searchQuery);if(this.AB===false){bp.ar.set_retainPageText(true);this.aM=cf.tS(searchQuery,this.aZ);this.AB=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bp.ahS();return this.aM;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var bp=this;var cf=bp.aeg(searchQuery,false);searchQuery=cf.SV(searchQuery);if(this.AB===false){this.aM=cf.Be(searchQuery,this.aZ);this.AB=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bp.ahS();return this.aM;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.aM;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.eY){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var h=this;if(this.getSelectedSearchResult()){this.wt=null;setTimeout(function(){h.aU.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.ar.clearAllSelectedText();this.aM=null;setTimeout(function(){h.aU.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(cZ){var eR={errorsExist:false};var searchTermObj,afc,G,bo,XE,KY,Mc;if(typeof cZ!=='object'&&typeof cZ!=='string'){eR.errorsExist=true;eR.summaryMsg="Search query must be either an object or string.";return eR;}if(typeof cZ==='string'&&cZ.length<0){eR.errorsExist=true;eR.summaryMsg="Search term must contain at least 3 characters.";return eR;}else if(typeof cZ==='string'){return eR;}if(!cZ.hasOwnProperty('searchTerms')){eR.errorsExist=true;eR.summaryMsg="Search options must have a 'searchTerms' key.";return eR;}if(Object.prototype.toString.call(cZ.searchTerms)!=='[object Array]'){eR.errorsExist=true;eR.summaryMsg="Search terms value must be an array.";return eR;}if(!cZ.searchTerms.length){eR.errorsExist=true;eR.summaryMsg="Search terms array must contain at least one value.";return eR;}eR.searchTerms=[];IPCC.C.forEach(cZ.searchTerms,function(searchTermObj){var IR=aiR(searchTermObj);if(IR.errorsExist){eR.errorsExist=true;}eR.searchTerms=eR.searchTerms.concat(IR.searchTerms);});return eR;};function aiR(kO){var eR={errorsExist:false,searchTerms:[]};var aEb=kO.type?IPCC.C.trim(kO.type).toLowerCase():undefined;if(aEb==='proximity'){if(Object.prototype.toString.call(kO.terms)!=='[object Array]'){eR.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eR.errorsExist=true;return eR;}if(kO.terms.length<2){eR.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eR.errorsExist=true;return eR;}if(!kO.distance){eR.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eR.errorsExist=true;return eR;}IPCC.C.forEach(kO.terms,function(aAP){var IR=aiR(aAP);if(IR.errorsExist){eR.errorsExist=true;}eR.searchTerms=eR.searchTerms.concat(IR.searchTerms);});return eR;}var XE,Mc;var KY=(typeof kO.matchingOptions!=='undefined'&&kO.matchingOptions.hasOwnProperty('matchCase'))?kO.matchingOptions.matchCase:false;if(typeof kO.searchTerm==='undefined'||typeof kO.searchTerm!=='string'||(kO.searchTermIsRegex===true&& !awd(kO.searchTerm,KY))){eR.errorsExist=true;eR.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eR;}XE=(typeof kO.matchingOptions!=='undefined'&&kO.matchingOptions.hasOwnProperty('exactPhrase'))?kO.matchingOptions.exactPhrase:false;if(XE){if(kO.searchTerm.length<0){eR.errorsExist=true;eR.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eR;}}else{var afc=kO.searchTerm.split(' ');IPCC.C.forEach(afc,function(Mc){if(Mc.length>0&&Mc.length<0){eR.errorsExist=true;eR.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eR.searchTerms.length){eR.searchTerms.push({isValid:true,message:null});}return eR;};var awd=function(UC,KY){var are,SS,Lf;if(KY){SS='gm';}else{SS='igm';}if(!UC&&UC!==null){Lf=false;}else{try{are=new RegExp(UC,SS);Lf=true;}catch(err){Lf=false;}}return Lf;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.il=new PCCViewer.GL({imageHandlerUrl:this.bE.imageHandlerUrl,documentID:this.bE.documentID});return this.il.avk();};SingleSessionViewerControl.prototype.gV=function(abl){var zV=false,ca=this.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()===abl){zV=true;}}return zV;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var bd;if(!(/^[\x00-\x7F]*$/.test(this.aZ))){bd=this.bE.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bE.documentID+'/SourceFile';}else{bd=this.bE.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bE.documentID);}return bd;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aa;var bO=PCCViewer.Deferred();var cd=bO.getPromise();var dJ=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var abz=this.Eb[aa-1];if(!abz){abz=this.Eb[aa-1]=new PCCViewer.Deferred();this.so.then(function(){var al=dJ.cg.getPage(aa-1);al.xu();});}bO.resolve(abz.getPromise());}catch(e){bO.reject(new PCCViewer.Error('Error',e));}return cd;};SingleSessionViewerControl.prototype.awY=function(aok){var i,j,yz;for(j=0;j<this.Dv.length;j++){yz=this.Dv[j];if(yz){for(i=0;i<yz.length;i++){if(yz[i].AI.OQ()===aok){return yz[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eY===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var h=this;var eP=h.getPageCount();var ff;if(typeof values==='string'){try{ff=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{ff=values;}if(ff.constructor!==Array){ff=[ff];}function OC(eu,aP){throw new Error('Cannot serialize mark (at index '+aP+') because of '+eu);};var Zd=IPCC.C.map(h.getAllMarks(),function(R){return R.getUid();});IPCC.C.forEach(ff,function validateObject(af,aP){if(!af.pageNumber||isNaN(+af.pageNumber)||af.pageNumber<1||af.pageNumber>eP){OC('unknown page number '+af.pageNumber,aP);}if(!PCCViewer.Mark.Type[af.type]){OC('unknown type '+af.type,aP);}if(af.type==='RectangleRedaction'||af.type==='TextSelectionRedaction'){if(!h.bE.enableMultipleRedactionReasons&&af.hasOwnProperty('reasons')){OC('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',aP);}}if(IPCC.C.contains(Zd,af.uid)){OC('uid '+af.uid+' is being duplicated or already exists',aP);}else if(af.uid!==undefined){Zd.push(af.uid);}});if(ff.length===0){return[];}var cc=h.aZ.get_pages();var arj=[];cc.kR(function(al){arj.push(h.ar.fY(al));});var ad=IPCC.C.reduce(ff,function(aC,af){var al=cc.iP(af.pageNumber-1);var Xq=al.get_pageWidth();var aay=al.get_pageHeight();var fU=af.pageData;if(!fU&&(!Xq|| !aay)){var asM=IPCC.C.find(af.lineGroups,function(adv){return(adv.pageNumber&&adv.pageNumber===af.pageNumber);});fU=asM.pageData;}var aA=Xq||fU.width;var bM=aay||fU.height;var R=bZ[af.type].call(h,af,{aA:aA,bM:bM});if(af.uid===undefined){Zd.push(R.getUid());}if(!Xq&&af.maintainMarkScaling!==true){al.AY=true;al.ajf(aA);al.aix(bM);}if(!R.K.has_unsafe_href()){aC.push(R);}else{h.deleteMarks(R);}return aC;},[]);return ad;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this,ad,aws=false;function acV(eu){setTimeout(function(){bO.reject(eu);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){ad=marks;}else if(marks){ad=[marks];aws=true;}else{acV(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return cd;}var Lp;ad=IPCC.C.filter(ad,function(kE,aP){var FS=kE instanceof PCCViewer.Mark&&kE===h.getMarkById(kE.getId())&& ! !en[kE.getType()];if(!FS&& !Lp){Lp=aP;}return FS;});if(Lp){acV(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Lp+' because it is not a valid mark or a mark known to ViewerControl'));return cd;}var WJ=h.aZ.get_pages();var cc=IPCC.C.reduce(ad,function(er,kE){var aa=kE.getPageNumber();if(er[aa]){return er;}er[aa]=WJ.getPage(aa-1);return er;},{});function ave(R,al,aBp){return function(mx){en[R.getType()]({mark:R,page:al,vc:h},function(dq,cr){if(!dq){aBp(cr);mx();}else{bO.reject(dq);}});};};var rQ=[];var aFS=IPCC.C.map(ad,function(kE,aP){return ave(kE,cc[kE.getPageNumber()],function(cr){rQ[aP]=cr;});});IPCC.C.aaI(aFS,function(){bO.resolve(rQ);});return cd;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Mi,Xr;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Mi=true;Xr=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Mi=false;Xr=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.ar&&this.ar.set_redactionDraftMode){var avR=this.ar.get_redactionDraftMode();if(avR!==Mi){this.ar.set_redactionDraftMode(Mi);}}else{this.bE.redactionViewMode=Xr;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var agX;if(this.ar&&this.ar.get_redactionDraftMode){agX=this.ar.get_redactionDraftMode();if(agX===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bE.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var h=this;var ec=searchResult;if(this.eY===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(ec instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(ec instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(ec.HV!==this.aZ.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var al=h.cg.getPage(ec.getPageNumber()-1);if(!(al.cB()&&al.cB().yS()&&al.cB().mR()===true)){throw new Error("The text has not been retrieved for this page.");}var ir=ec.getStartIndexInPage();var fd=ec.getStartIndexInPage()+ec.getText().length;var ke=IPCC.vl();var ag=h.ar.fY(al);var fR=al.cB().hl();var cn=ayr(ag,fR,ir,fd,ke,ec.getPageNumber()-1);var R=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:cn,pageNumber:ec.getPageNumber()});R.K=cn;R.bD=[];this.dN[cn.get_markID()]=R;var vV=h.iG;h.iG=function(sender,eventArgs){if(h.rJ){h.wu.addMarks(R);}setTimeout(function(){h.aU.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};ag.addMark(cn);h.iG=vV;h.ar.display(ec.getPageNumber()-1);return R;};var ayr=function(ag,fR,ir,fd,ke,ajV){var cn=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);cn.bS=ke;cn.bj=ajV;var R=null;var kD={gS:Number.MAX_VALUE,iB:0,_top:Number.MAX_VALUE,kG:0};for(var bo=ir;bo<fd;bo++){var fk=fR.lo(bo);if(R){var vW=R.get_rectangle();if(Math.abs(fk.az.y-vW.y)<1&&Math.abs(fk.az.height-vW.height)<1&&fk.az.x+fk.az.width>=vW.x+vW.width){R.set_rectangle(new IPCC.Web.UI.Rectangle(vW.x,vW.y,fk.az.x+fk.az.width-vW.x,vW.height));}else{abW(ag,cn,R,kD);R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);R.set_rectangle(fk.az);R.kJ(true);R.set_fillColor('#000000');R.set_text(cn.bm);R.set_lineWidth(0);R.bS=ke;}}else{R=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);R.set_rectangle(fk.az);R.kJ(true);R.set_fillColor('#000000');R.set_text(cn.bm);R.set_lineWidth(0);R.bS=ke;}R.bj=ajV;}if(R!==null){abW(ag,cn,R,kD);}cn.set_rectangle(new IPCC.Web.UI.Rectangle(kD.gS,kD._top,kD.iB-kD.gS,kD.kG-kD._top));return cn;};var abW=function(ag,cn,R,kD){var J=R.get_rectangle();if(J.x<kD.gS){kD.gS=J.x;}if(J.y<kD._top){kD._top=J.y;}if(J.x+J.width>kD.iB){kD.iB=J.x+J.width;}if(J.y+J.height>kD.kG){kD.kG=J.y+J.height;}ag.addMark(R);cn.aj.push(R);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var ec=searchResult;if(this.eY===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(ec instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(ec instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(ec.HV!==this.aZ.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var cn;var ajo;var ag;var aC=ec;var ir=aC.getStartIndexInPage();var fd=aC.getStartIndexInPage()+aC.getText().length;var ke=IPCC.vl();var h=this;var R;ag=this.ar.fY(this.cg.getPage(aC.getPageNumber()-1));cn=aho(IPCC.Web.UI.MarkType.HighlightText,aC,ir,ke);R=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:cn,pageNumber:aC.getPageNumber()});for(ir;ir<fd;ir++){ajo=aho(IPCC.Web.UI.MarkType.Highlight,aC,ir,ke);ag.addMark(ajo);}this.dN[cn.get_markID()]=R;var vV=this.iG;this.iG=function(sender,eventArgs){if(h.rJ){h.wu.addMarks(R);}setTimeout(function(){h.aU.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};ag.addMark(cn);h.iG=vV;this.ar.display(aC.getPageNumber()-1);R.fillColor=aC.getHighlightColor();return R;};var aho=function(be,aC,ask,ke){var R=new IPCC.Web.UI.Mark(be);if(be===IPCC.Web.UI.MarkType.HighlightText){R.dE=aC.getText();}R.bQ=ask;R.set_rectangle({x:0,y:0,width:0,height:0});R.cz=aC.getText().length;R.aHw=aC.getStartIndexInPage()+aC.getText().length;R.cS=127;R.eF=aC.getHighlightColor();R.jI='y';R.bS=ke;return R;};SingleSessionViewerControl.prototype.amx=function(bj,fI){var aC={};for(var bo=0;bo<fI.length;bo++){aC=fI[bo];this.ar.selectText(aC.getPageNumber()-1,aC.getStartIndexInPage(),aC.getText().length,aC.getHighlightColor());}this.ar.display(aC.getPageNumber()-1);this.Lz[aC.getPageNumber()]='search';};SingleSessionViewerControl.prototype.VB=function(bj,searchResult){var aC={};if(this.aM===null||typeof this.aM.getResults!=='function'){return;}var fI=this.aM.getResults();this.ar.clearSelectedText(bj-1);var ZF=this.FB[bj];if(!ZF){return;}for(var bo=ZF.bQ;bo<ZF.cU+1;bo++){aC=fI[bo];if(aC.getPageNumber()===bj){this.ar.selectText(aC.getPageNumber()-1,aC.getStartIndexInPage(),aC.getText().length,aC.getHighlightColor());if(searchResult===aC.getId()){this.ar.selectText(aC.getPageNumber()-1,aC.getStartIndexInPage(),aC.getText().length,aC.getHighlightColor());}}}this.ar.display(aC.getPageNumber()-1);this.Lz[aC.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eY){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.HN= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.aM){throw "There is no current SearchRequest object available.";}var afp=this.aM.getResults();if(afp[searchResult.getId()].lC!==searchResult.lC){throw "The parameter searchResult is not current. There is a newer version of search result available.";}afp=null;this.HN=searchResult.getId();if(scrollTo){var aF=searchResult.getBoundingRectangle();var hv=new IPCC.Web.UI.Rectangle(aF.x,aF.y,aF.width,aF.height);if(this.ar.scrollRegionIntoView(searchResult.getPageNumber()-1,hv)===false){this.lv=function(){h.ar.scrollRegionIntoView(searchResult.getPageNumber()-1,hv);};this.setPageNumber(searchResult.getPageNumber());}else{this.lv=null;}}}var h=this;var axo=searchResult!==null?searchResult.getPageNumber(): -1;if(this.wt&&this.wt.getPageNumber()!==axo){h.requestPageText(h.wt.getPageNumber()).then(function CP(){h.VB(h.wt.getPageNumber(),h.HN);});}if(searchResult){h.requestPageText(searchResult.getPageNumber()).then(function CP(){h.VB(searchResult.getPageNumber(),h.HN);});}this.wt=searchResult;setTimeout(function(){h.aU.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eY){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.wt;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var aa;var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.so.then(function(qG){var al=h.cg.getPage(aa-1);var dW=al.cB();dW.afT(true);if(dW&&dW.yS()){if(dW.mR()===true){var bm=al.cB().Cd();bO.resolve(bm);}else{bO.resolve("");}}else{var IJ=function(bV,cJ){if(cJ.containsText===true){var bm=dW.Cd();bO.resolve(bm);}else{bO.resolve("");}al.GH(IJ);al.FG(Kf);};var Kf=function(bV,cJ){if(cJ.exception&&cJ.exception.message){bO.reject(new PCCViewer.Error("TextExtractionFailed",cJ.exception.message));}else{bO.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}al.GH(IJ);al.FG(Kf);};al.zo(IJ);al.AA(Kf);al.xu();}});}catch(e){bO.reject(new PCCViewer.Error("Error",e));}return cd;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var aa;var h=this;if(!this.eY){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(h.ar.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var ca=h.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var acH=ca.getPage(G);if(acH.get_pageNumber()===aa-1){acH.cB().afT(false);return this;}}var al=h.cg.getPage(aa-1);al.aaH();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aq.nG(pageNumber,"pageNumber",1,this.getPageCount());var al;return(this.ar&&this.cg&&(al=this.cg.getPage(pageNumber-1))&&al.cB()&&al.cB().yS())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.azs;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var aa;var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this;try{if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.so.then(function(qG){var al=h.cg.getPage(aa-1);if(al.lq()>0||al.iT()>0){bO.resolve({'width':al.lq(),'height':al.iT()});}else{var Ai=function(aO,by){bO.resolve({'width':aO,'height':by});};var As=function(errorMessage){bO.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};qG.requestPageAttributes(al,Ai,As);}});}catch(e){bO.reject(new PCCViewer.Error("Error",e));}return cd;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.nM){this.Dv=undefined;this.Eb=undefined;this.wu=undefined;this.mh=undefined;this.il=undefined;this.jk=undefined;if(this.ar&&typeof this.ar.dispose==="function"){this.ar.dispose();}this.bd="";this.eP=0;delete this.ar;this.aZ=undefined;this.Mo=0;this.cg=undefined;this.aib=false;if(this.ej){IPCC.C.Cx(this.ej);this.ej=this.dA=undefined;}this.nj=false;this.wv=false;this.DS=false;this.ar=undefined;this.RR=undefined;this.XW=undefined;this.so=undefined;PCCViewer.MouseTools.uJ=undefined;this.or=undefined;this.Dv=undefined;this.HD=undefined;for(var Gd in this.dN){if(this.dN.hasOwnProperty(Gd)){this.dN[Gd].cr=undefined;this.dN[Gd].dG=undefined;this.dN[Gd].K=undefined;this.dN[Gd]=undefined;}}this.dN=undefined;this.eY=false;this.nM=true;this.aU={on:function JW(){},off:function JW(){},trigger:function JW(){}};this.kb=undefined;this.kb={};}};SingleSessionViewerControl.prototype.aAn=function(){if(this.ej){this.ar.preserveScrollPosition();this.RR=this.ej.childNodes[0];IPCC.C.Cx(this.ej);}};SingleSessionViewerControl.prototype.axG=function(){if(this.RR){IPCC.C.Cx(this.ej);this.ej.appendChild(this.RR);this.RR=undefined;this.ar.restoreScrollPosition();}};SingleSessionViewerControl.prototype.aqI=function(){this.aU.stop();};SingleSessionViewerControl.prototype.axU=function(){this.aU.resume();};SingleSessionViewerControl.prototype.aqh=function(interceptor){this.aU.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var h=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(h.dN[markId]){return h.dN[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var aaT=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}ajI(markType);if(!this.ar){return aaT;}var G=0;var dh=this.cg.get_length();var h=this;function azF(K){var R=h.dN[K.get_markID()];if(R&&R.getType().toLowerCase()===markType.toLowerCase()){aaT.push(R);}};for(G=0;G<dh;G++){var ag=this.ar.fY(this.cg.getPage(G));if(ag){ag.forEachMark(azF);}}return aaT;};SingleSessionViewerControl.prototype.getAllMarks=function(){var Eg=[];if(!this.ar){return Eg;}var dh=this.cg.get_length();var h=this;var G=0;var R;function Qs(K){var R=h.dN[K.get_markID()];if(typeof R!=='undefined'){Eg.push(R);}};for(G=0;G<dh;G++){var ag=this.ar.fY(this.cg.getPage(G));if(ag){ag.forEachMark(Qs);}}return Eg;};function ajI(markType){var fm;switch(markType.toLowerCase()){case "lineannotation":fm=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fm=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fm=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fm=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fm=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fm=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fm=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fm=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fm=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fm=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fm=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fm=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fm=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fm=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fm=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":fm=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":fm=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fm=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fm=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fm=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fm=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fm;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var h=this,fU;if(h.eY===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.fU.width===0){var Jy=h.aZ.cc.iP(0);fU={width:Jy.lq(),height:Jy.iT()};}else{fU=searchResult.fU;}var adN=IPCC.C.vh(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:adN,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.aj,pageData:fU,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],maintainMarkScaling:true,modificationDateTime:adN,pageNumber:searchResult.pageNumber,pageData:fU,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var QV=h.deserializeMarks(markInfo);return QV[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eY===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aa;if(typeof(pageNumber)==='number'){aa=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aa=parseInt(pageNumber,10);}}if(aa<1||aa>this.cg.get_length()|| !isFinite(aa)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var R=this.abM(aa,markType);return this.aef(R);};SingleSessionViewerControl.prototype.abM=function(aa,be,bE){var h=this;bE=bE||{};var fm=ajI(be);var K=new IPCC.Web.UI.Mark(fm);K.bj=aa-1;var RY={type:be,igMark:K,pageNumber:aa,uid:bE.uid,viewerControl:this};if(be.toLowerCase()==="highlightannotation"||be.toLowerCase()==="textselectionredaction"||be.toLowerCase()==="strikethroughannotation"||be.toLowerCase()==="texthyperlinkannotation"){RY.cg=h.cg;RY.ar=h.ar;}if(be.toLowerCase()==="rectangleredaction"||be.toLowerCase()==="textselectionredaction"){RY.enableMultipleRedactionReasons=this.bE.enableMultipleRedactionReasons;}var R=new PCCViewer.Mark(RY);return R;};SingleSessionViewerControl.prototype.aef=function(R){var h=this;if(h.afx===true){h.afx=false;}else{var vV=h.iG;h.iG=function(sender,eventArgs){h.iG=vV;if(h.rJ){h.wu.addMarks(R);}setTimeout(function(){h.aU.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var ag=this.ar.fY(this.cg.getPage(R.aa-1));ag.addMark(R.K);h.dN[R.K.get_markID()]=R;h.nJ(R,R.aa-1);return R;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var h=this;var G=0;var R;if(!this.eY){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Ob(qD){var bj=qD.getPageNumber()-1;var bS='';var av='';var Hh=bj;var ag=h.ar.fY(h.cg.getPage(bj));ag.removeMark(qD.K);if(h.dN[qD.getId()]){bS=qD.K.bS;av=qD.getType();delete h.dN[qD.getId()];}var Nm=av.toLowerCase();if((Nm==='highlightannotation'||Nm==='textselectionredaction'||Nm==='strikethroughannotation'||Nm==='texthyperlinkannotation')&&(qD.bD&&qD.bD.length)){for(var G=0;G<qD.bD.length;G++){var lX=qD.bD[G];ag=h.ar.fY(h.cg.getPage(lX.bj));ag.removeMark(lX);h.nJ(lX,lX.bj);}}h.mh.forEach(function(fL){if(fL.hasMark(qD.getId())){fL.removeMarks(qD);}});};if(marks instanceof Array){for(G=0;G<marks.length;G++){R=marks[G];if(!(R instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(h.dN[R.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(G=0;G<marks.length;G++){Ob(marks[G]);h.nJ(marks[G],marks[G].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(h.dN[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Ob(marks);h.nJ(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var Eg=this.getAllMarks();if(Eg.length>0){return this.deleteMarks(Eg);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){aaY(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){aaY(this,marks,true,'showMarks');return this;};function aaY(dJ,ad,yv,aFu){var G=0;var R;if(!dJ.eY){throw new PCCViewer.Error("InvalidArgument","The method "+aFu+" can not be used until 'ViewerReady' state is reached.");}if(ad instanceof Array){for(G=0;G<ad.length;G++){R=ad[G];if(!(R instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(dJ.dN[R.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(G=0;G<ad.length;G++){ad[G].setVisible(yv);}}else{if(ad instanceof PCCViewer.Mark){if(!(dJ.dN[ad.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ad.setVisible(yv);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function AD(atS,jT){var ly=false;var ca=jT.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()===atS){ly=true;break;}}return ly;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var ag;var ig;if(!this.eY){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){ig=mark.getPageNumber();if(mark.getPageNumber()>0){ag=this.ar.fY(this.cg.getPage(ig-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.K){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ag){if(mark.K instanceof IPCC.Web.UI.Mark){mark.K.moveToFront();if(AD(ig-1,this)===true){var jT=this;setTimeout(function(){jT.ar.dC(ig-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var ag;var ig;if(!this.eY){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ig=mark.getPageNumber();if(ig>=1){ag=this.ar.fY(this.cg.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.K){throw "The parameter, mark may be a templateMark or has not been initialized";}if(ag){if(mark.K instanceof IPCC.Web.UI.Mark){mark.K.moveToBack();if(AD(ig-1,this)===true){var jT=this;setTimeout(function(){jT.ar.dC(ig-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var ag,ig;if(!this.eY){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ig=mark.getPageNumber();if(ig>=1){ag=this.ar.fY(this.cg.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.K){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ag){if(mark.K instanceof IPCC.Web.UI.Mark){mark.K.moveForward();if(AD(ig-1,this)===true){var jT=this;setTimeout(function(){jT.ar.dC(ig-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var ag,ig;if(!this.eY){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}ig=mark.getPageNumber();if(ig>=1){ag=this.ar.fY(this.cg.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.K){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(ag){if(mark.K instanceof IPCC.Web.UI.Mark){mark.K.moveBackward();if(AD(ig-1,this)===true){var jT=this;setTimeout(function(){jT.ar.dC(ig-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var ad=[];var Sq=[];if(this.eY===false){return ad;}var dh=this.cg.get_length(),ag,fM;var h=this;function apu(OT){if(OT){var Pv=OT.get_type();if(Pv===IPCC.Web.UI.MarkType.HighlightText||Pv===IPCC.Web.UI.MarkType.TextSelectionRedaction||Pv===IPCC.Web.UI.MarkType.Strikethrough||Pv===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var iv in h.dN){if(h.dN.hasOwnProperty(iv)){fM=h.dN[iv];if(OT.bS===fM.K.bS){for(var G=0;G<Sq.length;G++){if(fM.K.bS===Sq[G]){return;}}Sq.push(fM.K.bS);break;}}}}else{fM=h.dN[OT.get_markID()];}if(fM&&fM instanceof PCCViewer.Mark){ad.push(fM);}else{return ad;}}};for(var G=0;G<dh;G++){ag=this.ar.fY(this.cg.getPage(G));if(ag){ag.get_selectedMarks().forEach(apu,{});}}return ad;};function aeL(ad,asB,jT){var fM,G;function Ve(hs){var ly=false;var ca=jT.ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()===hs){ly=true;break;}}return ly;};if(!ad.length){return;}for(G=0;G<ad.length;G++){if(ad[G]instanceof PCCViewer.Mark){fM=jT.dN[parseInt(ad[G].getId(),10)];if(fM&&fM instanceof PCCViewer.Mark){if(fM.K&&fM.K instanceof IPCC.Web.UI.Mark){if(fM.getId()!==fM.K.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(G+1)+" is invalid";}}var nZ=[];var uj=false;for(G=0;G<ad.length;G++){fM=jT.dN[parseInt(ad[G].getId(),10)];uj=false;if(fM){if(fM.getId()===fM.K.get_markID().toString()){fM.K.set_selected(asB);if(Array.prototype.IndexOf){uj=(nZ.IndexOf(fM.getPageNumber())>=0);}else{uj=(IPCC.Web.kK(nZ,fM.getPageNumber())>=0);}}if(!uj){var cT=fM.getPageNumber();if(Ve(cT-1)){nZ.push(cT);}}}}if(nZ.length>0){setTimeout(function(){for(G=0;G<nZ.length;G++){jT.ar.dC(nZ[G]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.eY===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var ad=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ad.push(marks);}}else{ad=marks;}if(ad.length===0){return this;}aeL(ad,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.eY===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var ad=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ad.push(marks);}}else{ad=marks;}if(ad.length===0){return this;}aeL(ad,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var nZ=[];var ad=this.getSelectedMarks();var uj=false,G,fM;for(G=0;G<ad.length;G++){fM=this.dN[parseInt(ad[G].getId(),10)];uj=false;if(fM){if(fM.getId()===fM.K.get_markID().toString()){fM.K.set_selected(false);if(Array.prototype.IndexOf){uj=(nZ.IndexOf(fM.getPageNumber())>=0);}else{uj=(IPCC.Web.kK(nZ,fM.getPageNumber())>=0);}}if(!uj){var cT=fM.getPageNumber();if(AD(cT-1,this)===true){nZ.push(cT);}}}}if(nZ.length>0){var jT=this;setTimeout(function(){for(G=0;G<nZ.length;G++){jT.ar.dC(nZ[G]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var dJ=this,QV;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var ad=[];IPCC.C.forEach(marks,function(R){if(R instanceof PCCViewer.Mark){if(dJ.dN[R.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ad.push(R);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rQ=[];IPCC.C.forEach(ad,function(R,bv){en[R.getType()]({mark:R},function(dq,cr){cr.uid=undefined;rQ[bv]=cr;});});this.rJ=false;QV=dJ.deserializeMarks(rQ);this.rJ=true;return QV;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(R){var dJ=this,ar=this.ar;var adS=function(abl){var zV=false,ca=ar.get_displayedPages();for(var G=0;G<ca.get_length();G++){var al=ca.getPage(G);if(al.get_pageNumber()===abl){zV=true;}ar.nH(al.get_pageNumber());}return zV;};if(typeof R==="undefined"||R===null){adS(-1);}else{if(this.eY===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(R instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var agz=this.dN[parseInt(R.getId(),10)];if(!(agz&&agz instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(R.K&&R.K instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(R.getId()!==R.K.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var be=R.getType();if(be!==PCCViewer.Mark.Type.TextAnnotation&&be!==PCCViewer.Mark.Type.TextRedaction&&be!==PCCViewer.Mark.Type.TextInputSignature&&be!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var zV=adS(R.getPageNumber()-1);if(zV){dJ.ar.vp(R.getPageNumber()-1,R.K);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eY===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Iu= -1;var cF;var aF;var aa=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cF=sortableObject.getStartPoint();}else{aF=(sortableObject.K)?sortableObject.K.get_boundingRectangle():sortableObject.getRectangle();cF={x:aF.x,y:aF.y};}aa=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cF={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cF={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aa= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aa=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aa<1||aa>this.getPageCount()|| !isFinite(aa)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aa)){return-2;}var al=this.cg.getPage(aa-1);var ww=al.cB().Ub();var fR=al.cB().hl();function acJ(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function ahi(dc,fq){var bi=Math.max(Math.min(fq.x,dc.x+dc.width),dc.x);var de=Math.max(Math.min(fq.y,dc.y+dc.height),dc.y);return(fq.x-bi)*(fq.x-bi)+(fq.y-de)*(fq.y-de);};var BB;var MT=Number.MAX_VALUE;for(var G=0;G<ww.eQ();G++){var ga=ww.aoe(G);if(acJ(ga.fJ(),cF)){for(var bo=ga.akn();bo<ga.alx();bo++){var ZC=fR.lo(bo);var rH=ZC.tu();if(acJ(rH,cF)){return bo;}BB=ahi(rH,cF);if(BB<MT){Iu=bo;MT=BB;}}return Iu;}BB=ahi(ga.fJ(),cF);if(BB<MT){if(ga.fJ().y>cF.y){Iu=ga.akn()-1;}else{Iu=ga.alx();}MT=BB;}}return Iu;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.bP.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var h=this;if(this.eY===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var zU=name.toLowerCase();var bP=PCCViewer.MouseTools.getMouseTool(zU);if(!bP){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gU,gW;switch(bP.getType()){case PCCViewer.MouseTool.Type.Magnifier:gU=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gU=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gU=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gU=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gU=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gU=IPCC.Web.UI.MouseTool.CreateLineMark;gW=azx(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gU=IPCC.Web.UI.MouseTool.CreateRectangleMark;gW=ado(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gU=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gW=avA(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gU=IPCC.Web.UI.MouseTool.CreateRectangleMark;gW=avp(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gU=IPCC.Web.UI.MouseTool.CreateEllipseMark;gW=ado(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gU=IPCC.Web.UI.MouseTool.CreateTextMark;gW=arJ(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gU=IPCC.Web.UI.MouseTool.CreateTextMark;gW=YQ(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gU=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gW=YQ(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gU=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gW=YQ(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gU=IPCC.Web.UI.MouseTool.CreateStampMark;gW=arA(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gU=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gW=OX(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gU=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gW=OX(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gU=IPCC.Web.UI.MouseTool.CreateFreehandMark;gW=auy(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gU=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gW=OX(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aDv=this.bE.resourcePath+'/placeSignatureCursor.cur';this.ar.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.ar.set_allowMarkEdits(false);this.ar.set_mouseCursor('url('+aDv+'), pointer');this.bP=bP;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gU=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gW=amK(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gU=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gW=amK(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gU=IPCC.Web.UI.MouseTool.CreatePolylineMark;gW=atK(bP.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gU=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gW=OX(bP.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var avH=this.ar.get_mouseTool();if(this.bP!==bP&&avH===gU){setTimeout(function(){h.aU.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:h.bP.getName()});},0);}this.bP=bP;if(gW){this.Ja=gW.onCreating;this.iG=gW.onAdded;}else{this.Ja=undefined;this.iG=undefined;}this.ar.set_mouseTool(gU);this.ar.set_allowMarkEdits((bP.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Uv(dJ,XV,lp){if(dJ.wv!==true){var Kt=function(){dJ.aU.off('PageCountReady',Kt);Uv(dJ,XV,lp);};dJ.aU.on('PageCountReady',Kt);return;}var bp=dJ;var yc;var kL={},uY={},rf=[];var gn=bp.eP;var kk;var bE;if(XV){bE=XV;}var aau=[];var WJ=bp.aZ.get_pages();var aps=function(al,done){var aIi=false;var iP=al;var aa=al.get_pageNumber();var fG=iP.get_pageWidth();var dV=iP.get_pageHeight();try{if(iP){var fY=bp.ar.fY(iP),DW=0,Ef=0,eu="",aHf=false;var getArt=function getArt(){var LT;if(bE&&bE.Ff&&bE.Ff[aa]){LT=IPCC.C.extend({},bE);LT.Ff=bE.Ff[aa];}else{LT=bE;}var bo,Tn;var Kq=fY.aya(aa,DW,Ef,LT);if(Kq.kL){kL[aa]=Kq.kL;}else{var aro=aoD(aa,kk,Ef,DW);kL[aa]=aro;}if(Kq.rf){for(bo=0;bo<Kq.rf.length;bo++){Tn=Kq.rf[bo];uY[Tn.aD.imageStampId]=Tn;}}done();};if(fY){if(!fG|| !dV){if(fY.get_markCount()>0){bp.ar.OY(al,function(aO,by){DW=aO;if(DW){iP.Mz(DW);}Ef=by;if(Ef){iP.NK(Ef);}getArt();},function(mW){done(mW);});}else{getArt();}}else{DW=fG;Ef=dV;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};WJ.forEach(function(al,aP,jk){aau.push(function(done){aps(al,done);});});var Vx=function(bh,al){var wP="";var G;if(!bh.gx){if(bh.toString()){return bh.toString();}else{return '<![CDATA[]]>';}}if((gn===1||al===0||(al>0&&bh.gx!=="documentAnnotations"&&bh.gx!=="pages"))&&bh.gx!=="highlights"){wP='<'+bh.gx;for(var ze in bh.aD){if(bh.aD.hasOwnProperty(ze)){var RA=bh.aD[ze];if(RA===undefined||RA===null){continue;}var aD=RA.toString();aD=aD.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wP=wP+' '+ze+'="'+aD+'"';}}wP+='>';}for(G=0;G<bh.ci.length;G++){wP+=Vx(bh.ci[G],al);}if(gn===1||(al===gn-1)||(al!==gn-1&&bh.gx!=="documentAnnotations"&&bh.gx!=="pages"&&bh.gx!=="highlights")){if(bh.gx!=="highlights"){wP+='</'+bh.gx+'>';}else{wP+='<'+bh.gx+' />';}}return wP;};IPCC.C.aaI(aau,function(dq){if(dq){lp(dq);return;}yc='<?xml version="1.0"?>';for(var G=0;G<(bp.eP);G++){yc=yc+Vx(kL[G],G);}var stampImageXml='';for(var GN in uY){if(uY.hasOwnProperty(GN)){stampImageXml+=Vx(uY[GN],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';yc=yc.replace('</documentAnnotations>',stampImagesXml);}lp(undefined,yc);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.bE.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var bO=PCCViewer.Deferred();var cd=bO.getPromise();var bE;if(options){bE=options;}else{bE={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bO.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return cd;}if(!asT(recordName)){bO.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cd;}var bp=this;this.so.then(function(qG){var zs=recordName;Uv(bp,bE,function(err,yc){if(err){bO.reject(new PCCViewer.Error("Error",err));return cd;}var QY=IPCC.fT.rU(zs);var bd;if(!(/^[\x00-\x7F]*$/.test(bp.aZ.get_documentIdentifier()))){bd=bp.bE.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bp.bE.documentID+'&AnnotationID=e'+QY;}else{bd=bp.bE.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bp.bE.documentID)+'&AnnotationID=u'+encodeURIComponent(zs);}function eZ(aT){bO.resolve(zs);setTimeout(function(){bp.aU.trigger('MarkupSaved',{name:zs});},0);};function ft(aC){bO.reject(new PCCViewer.Error("AjaxError","Status Code "+aC.response.status+" "+aC.response.statusText));};PCCViewer.Ajax.eT({method:'POST',url:bd,headers:{'Content-Type':'application/xml;charset=utf-8'},body:yc}).then(eZ,ft);});});}catch(e){bO.reject(new PCCViewer.Error("Error",e.message));}return cd;};var asT=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var ZQ=function(kq){var bi=kq.firstChild;while(bi.nodeType!==1){bi=bi.nextSibling;}return bi;};var aoD=function(cT,kk,dV,fG){var kL={gx:'documentAnnotations',ci:[],aD:{}};var amR={gx:'pages',ci:[],aD:{}};kL.ci.push(amR);var lb={gx:'highlights',ci:[],aD:{}};var al={gx:'page',ci:[],aD:{id:(cT+1).toString(),pageWidth:fG,pageHeight:dV}};kL.ci.push(lb);try{if(kk){var bi=kk.getElementsByTagName("documentAnnotations");if(bi.length>1){throw 'ERROR: Invalid PCC annotations XML';}var QK;var Dq;if(document.documentMode<9){var So=kk.firstChild.nodeName;if(So.toLowerCase()==='xml'){QK=kk.firstChild.nextSibling;}else{QK=kk.firstChild;}}else{QK=kk.firstChild;}var cc=ZQ(QK);if(cc.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cc.hasChildNodes()){var G;var mc=false;for(G=0;G<cc.childNodes.length;G++){Dq=cc.childNodes[G];if(Dq.nodeName!=='page'){continue;}var xL=Dq.getAttribute('id');mc=false;if(xL&&parseFloat(xL)===cT+1){mc=true;for(var bo=0;bo<Dq.childNodes.length;bo++){var bw=Dq.childNodes[bo];var ao={gx:'annotation',ci:[],aD:{}};if(bw.nodeName!=='annotation'){continue;}var RC=Dq.childNodes[bo].attributes;if(RC.length>0){for(var cX=0;cX<RC.length;cX++){ao.aD[RC[cX].name]=RC[cX].value;}}if(bw.childNodes[0].data){ao.ci.push('<![CDATA['+bw.childNodes[0].data+']]>');}else{ao.ci.push('');}al.ci.push(ao);}break;}}}}amR.ci.push(al);return kL;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var EP=recordName;var bO=PCCViewer.Deferred(),cd=bO.getPromise(),bp=this;var bE=options||{};var vn=bE.retainExistingMarks;var iS=bE.markupLayer;var wz=bE.loadAsHidden;this.so.then(function(qG){var bd,QY,ar=bp.ar,cg=bp.cg;if(typeof EP!=="string"){bO.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(vn!==undefined){if(typeof vn!=='boolean'){bO.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(iS!==undefined){if(!(iS instanceof PCCViewer.MarkupLayer)){bO.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bp.mh.getItem(iS.getId())===undefined){bO.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function eZ(aT){var aab,Lw=aT.responseText,Nb;if(Lw.indexOf('xml')=== -1){bO.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Lw=Lw.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.C.os(p2)+p3;});if(window.DOMParser){Nb=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Nb=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Nb=function(){return null;};}aab=Nb(Lw);var aky=aab.getElementsByTagName('stampImage');var rf={};var aaW=function(bv){R.as.push(aiT.getPoint(bv));};for(var G=0;G<aky.length;G++){var TC=aky[G];rf[TC.getAttribute('imageStampId')]={imageStampId:TC.getAttribute('imageStampId'),base64format:TC.getAttribute('base64format')};}ar.set_annotationXmlDom(aab,rf,vn===true,wz===true);if(vn!==true){bp.dN={};}var dh=bp.cg.get_length();var R;var be,fm;var wA={};var EU=[];for(G=0;G<dh;G++){var ag=bp.ar.fY(bp.cg.getPage(G));if(ag){var Dm={};var bo=0;for(bo=0;bo<ag.get_markCount();bo++){var K=ag.getMark(bo);if(bp.dN[K.get_markID()]!==undefined){continue;}fm=K.get_type();switch(fm){case IPCC.Web.UI.MarkType.Rectangle:if(K.jC()===true){if(K.get_opacity()===255){be=PCCViewer.Mark.Type.RectangleRedaction;}else{be=PCCViewer.Mark.Type.TransparentRectangleRedaction;}R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});}else{be=PCCViewer.Mark.Type.RectangleAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.lL=K.get_lineWidth();R.eF=K.get_fillColor();R.nL=K.get_lineColor();R.cS=K.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:be=PCCViewer.Mark.Type.EllipseAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.lL=K.get_lineWidth();R.eF=K.get_fillColor();R.nL=K.get_lineColor();R.cS=K.get_opacity();break;case IPCC.Web.UI.MarkType.Line:be=PCCViewer.Mark.Type.LineAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.nY=K.get_lineWidth();R.cY=K.get_lineColor();R.cS=K.get_opacity();if(K.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){R.mb="FilledTriangle";}else{R.mb="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(K.jC()===true){be=PCCViewer.Mark.Type.StampRedaction;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});}else{be=PCCViewer.Mark.Type.StampAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.cY=K.get_fillColor();}R.vI=K.get_text();break;case IPCC.Web.UI.MarkType.Text:if(K.jC()===true){be=PCCViewer.Mark.Type.TextRedaction;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});}else{be=PCCViewer.Mark.Type.TextAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.lL=K.get_lineWidth();R.eF=K.get_fillColor();R.nL=K.get_lineColor();R.cS=K.get_opacity();}R.hJ=K.get_maxLength();R.gq=K.get_fontName();R.gO=K.get_textColor();R.cE=K.get_fontSize();var dg=K.get_fontStyle();var pu=[];if((dg&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pu.push("Bold");}if((dg&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pu.push("Italic");}if((dg&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pu.push("Strikeout");}if((dg&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pu.push("Underline");}R.dg=pu;var qQ;switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qQ="right";break;}R.mw=qQ;break;case IPCC.Web.UI.MarkType.TextAreaSignature:be=PCCViewer.Mark.Type.TextAreaSignature;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.lL=K.get_lineWidth();R.hJ=K.get_maxLength();R.gq=K.get_fontName();R.gO=K.get_textColor();R.ih=K.get_maxFontSize();dg=K.get_fontStyle();pu=[];if((dg&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pu.push("Bold");}if((dg&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pu.push("Italic");}if((dg&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pu.push("Strikeout");}if((dg&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pu.push("Underline");}R.dg=pu;switch(K.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qQ="right";break;}R.mw=qQ;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:be=(fm===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fm===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fm===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var YA=K.bS;if(typeof wA[YA]==='undefined'){R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,cg:cg,ar:ar,uid:K.aD.lk});R.bD=[];if(be===PCCViewer.Mark.Type.HighlightAnnotation){R.eF=K.get_fillColor();}wA[YA]=R;K.bj=G;K.kf=true;}else{K.bj=G;wA[YA].bD.push(K);}break;case IPCC.Web.UI.MarkType.Freehand:be=PCCViewer.Mark.Type.FreehandAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.nY=K.get_lineWidth();R.cY=K.get_lineColor();R.cS=K.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:be=PCCViewer.Mark.Type.FreehandSignature;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.nY=K.get_lineWidth();R.cY=K.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:be=PCCViewer.Mark.Type.TextSignature;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.gq=K.get_fontName();R.cY=K.get_fillColor();R.bm=K.get_text();break;case IPCC.Web.UI.MarkType.TextLine:be=PCCViewer.Mark.Type.TextInputSignature;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.gq=K.get_fontName();R.gO=K.get_textColor();R.bm=K.get_text();R.hJ=K.get_maxLength();R.jf=K.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!K.bS){be=PCCViewer.Mark.Type.RectangleRedaction;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,cg:cg,ar:ar,uid:K.aD.lk});R.lL=K.get_lineWidth();R.eF=K.get_fillColor();R.nL=K.get_lineColor();R.cS=K.get_opacity();}else{if(Dm[K.bS]===undefined){Dm[K.bS]=[];}Dm[K.bS].push(K);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:be=(fm===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.setImage({dataUrl:K.get_image(),id:K.qZ});break;case IPCC.Web.UI.MarkType.Polyline:be=PCCViewer.Mark.Type.PolylineAnnotation;R=new PCCViewer.Mark({type:be,igMark:K,pageNumber:G+1,uid:K.aD.lk});R.nY=K.get_lineWidth();R.cY=K.get_lineColor();R.cS=K.get_opacity();var aiT=K.get_points();R.as=[];for(var ak=0;ak<aiT.get_length();ak++){aaW(ak);}break;default:R=undefined;continue;}if(typeof R!=='undefined'&&fm!==IPCC.Web.UI.MarkType.HighlightText&& !(fm===IPCC.Web.UI.MarkType.RectangleRedaction&&K.bS!==undefined)&&fm!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fm!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fm!==IPCC.Web.UI.MarkType.Strikethrough){bp.dN[K.get_markID()]=R;EU.push(R);}}for(var Pu in Dm){if(Dm.hasOwnProperty(Pu)&&wA[Pu]){var Dr=wA[Pu];var amD=Dr.K;if(Dr.bD&&Dr.bD.length>0){for(var Nj=0;Nj<Dr.bD.length;Nj++){if(Dr.bD[Nj].bj===G){amD=Dr.bD[Nj];}}}var aj=Dm[Pu];for(var Wb=0;Wb<aj.length;Wb++){amD.aj.push(aj[Wb]);}}}}}for(var nK in wA){if(wA.hasOwnProperty(nK)){var wi=wA[nK];bp.dN[wi.K.get_markID()]=wi;EU.push(wi);if(wi.bD&&wi.bD.length>0){wi.bD[wi.bD.length-1].jL=true;}else{wi.K.jL=true;}}}bO.resolve(EP);if(iS!==undefined){iS.addMarks(EU);}else{bp.getActiveMarkupLayer().addMarks(EU);}bp.aU.trigger('MarkupLoaded',{name:EP,loadedMarks:EU});};function ft(aC){bO.reject(new PCCViewer.Error("Error","Status Code "+aC.response.status+" "+aC.response.statusText));};QY=IPCC.fT.rU(EP);if(!(/^[\x00-\x7F]*$/.test(bp.aZ.get_documentIdentifier()))){bd=bp.bE.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bp.bE.documentID+'&AnnotationID=e'+QY;}else{bd=bp.bE.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bp.bE.documentID)+'&AnnotationID=u'+encodeURIComponent(EP);}PCCViewer.Ajax.eT({method:'GET',url:bd,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(eZ,ft);});return cd;};function ags(context,message){var mU=document.createElement('div'),BA=document.createElement('div'),mp=document.createElement('button'),Xl=function(){mU.classList.add('open');},Rh=function(){if(mU.parentNode!==null){mU.parentNode.removeChild(mU);}};mp.innerHTML='&#215;';mp.setAttribute('type','button');BA.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';mU.className='pccPageListNagModal';mU.appendChild(mp);mU.appendChild(BA);context.dA.appendChild(mU);Xl();if(!mp.addEventListener){mp.attachEvent('onclick',Rh);}else{mp.addEventListener('click',Rh,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this;try{var G=0,Ht=0;var zs='';var bd=this.bE.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bE.documentID)+'&AnnotationID=u'+encodeURIComponent(zs);var eZ=function(aT){var sZ;if(typeof aT.responseText!=='unknown'&&aT.responseText.length>0){try{sZ=JSON.parse(aT.responseText);}catch(e){}}var abH=[],Ht=0;for(var G=0,dn=sZ.annotationFiles.length;G<dn;G++){if(sZ.annotationFiles[G].annotationLabel){abH[Ht]={};abH[Ht].name=sZ.annotationFiles[G].annotationLabel;Ht++;}}bO.resolve(abH);};var ft=function(aC){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(aC&&aC.response){var jd=aC.response.status;var oP;try{oP=JSON.parse(aC.response.responseText);}catch(e){}if(jd===480&&oP&&oP.errorCode==='LicenseCouldNotBeVerified'){ags(h,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(oP.errorCode,"License error.");}}bO.reject(error);};PCCViewer.Ajax.eT({method:'GET',url:bd}).then(eZ,ft);}catch(e){bO.reject(new PCCViewer.Error("Error",e.message));}return cd;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.mh){this.mh=new PCCViewer.MarkupLayerCollection(this);}return this.mh;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bO=PCCViewer.Deferred(),cd=bO.getPromise(),bd,aCD=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aZ.get_documentIdentifier()))){bd=this.bE.imageHandlerUrl+'/MarkupLayers/e'+this.bE.documentID+'/';}else{bd=this.bE.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bE.documentID)+'/';}if(metadata){var aCo=aCD(metadata);bd+=aCo;}bd+='?nocache='+new Date().getTime();PCCViewer.Ajax.eT({url:bd,method:'GET'}).then(function eZ(aT){var atm=JSON.parse(aT.responseText);bO.resolve(atm);},function ft(aC){bO.reject(aC.error);});return cd;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.wu;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.mh.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.wu=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var Yi,h=this;Yi=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.XT,options||{});function xU(){setTimeout(function(){Yi.DN();},20);};function oC(){h.aU.off(PCCViewer.EventType.PageCountReady,oC);xU();};if(this.nj===false){h.aU.on(PCCViewer.EventType.PageCountReady,oC);}else{xU();}return Yi;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var bO=PCCViewer.Deferred();var cd=bO.getPromise();var h=this;if(typeof id!=='string'|| !id){bO.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return cd;}var fL=this.mh?this.mh.getItem(id):undefined;if(!fL){bO.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cd;}function asv(ri){var Nk=fL.getMarks();if(!Nk.length){ri(undefined,[]);}else{h.serializeMarks(Nk).then(function gh(ad){ri(undefined,IPCC.C.map(ad,function(R){if(R.conversation&&R.conversation.comments){delete R.conversation.comments;}return R;}));},function _f(eu){ri(eu);});}};function asl(ri){var Nk=fL.getMarks();var YI=function(er,gI,kx){var Vn=IPCC.C.filter(gI,function(nP){return!nP.iS||nP.iS===fL;});IPCC.C.forEach(Vn,function(bX){var af=en.Comment(bX);af.markUid=kx;er.push(af);});return er;};var Wx=IPCC.C.reduce(Nk,function(er,R){var dG=R.getConversation();var gI=dG.getComments();return gI.length?YI(er,gI,R.getUid()):er;},[]);ri(undefined,Wx);};function ath(ri){var axj=IPCC.C.reduce(h.mh.getAll(),function(er,ahM){return er.concat(fL===ahM?[]:ahM.getMarks());},[]);var YI=function(er,gI,kx){var Vn=IPCC.C.filter(gI,function(nP){return nP.iS===fL;});IPCC.C.forEach(Vn,function(nP){var af=en.Comment(nP);af.markUid=kx;er.push(af);});return er;};var Wx=IPCC.C.reduce(axj,function(er,R){var dG=R.getConversation();var gI=dG.getComments();return gI.length?YI(er,gI,R.getUid()):er;},[]);ri(undefined,Wx);};var adK=[],aFz=function(qT){if(qT.markupLayer===fL){adK.push({text:qT.text,data:qT.data,creationDateTime:qT.creationDateTime,markUid:qT.markUid});}};for(var agq in this.mh.hM){if(this.mh.hM.hasOwnProperty(agq)){IPCC.C.forEach(this.mh.hM[agq],aFz);}}var Ay={layerRecordId:fL.getRecordId(),name:fL.getName(),originalXmlName:fL.getOriginalXmlName(),comments:adK,data:en.Data(fL)};var yV;IPCC.C.aaI([function(mx){asv(function(dq,cr){if(dq&& !yV){yV=dq;}else{Ay.marks=cr;}mx();});},function(mx){asl(function(dq,cr){if(dq&& !yV){yV=dq;}else{Ay.comments=Ay.comments.concat(cr);}mx();});},function(mx){ath(function(dq,cr){if(dq&& !yV){yV=dq;}else{Ay.comments=Ay.comments.concat(cr);}mx();});}],function(){if(!yV){auf(Ay);}else{bO.reject(new PCCViewer.Error('SerializationError',yV.message));}});function auf(aGZ){var yA,he={method:'POST',body:JSON.stringify(Ay),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(h.aZ.get_documentIdentifier()))){yA=h.bE.imageHandlerUrl+'/MarkupLayers/e'+h.bE.documentID+'/';}else{yA=h.bE.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(h.bE.documentID)+'/';}if(fL.getRecordId()){he.url=yA+fL.getRecordId();he.headers['X-HTTP-Method-Override']='PUT';}else{he.url=yA;}PCCViewer.Ajax.eT(he).then(eZ,ft);};function eZ(aT){if(aT.responseText&&typeof aT.responseText==='string'){var oP;try{oP=JSON.parse(aT.responseText);}catch(e){}if(oP&&oP.layerRecordId){fL.Wa=oP.layerRecordId;}}bO.resolve({layerRecordId:fL.getRecordId()});};function ft(aC){var error=new PCCViewer.Error("AjaxError",aC.error.message||'An unknown server error occurred.');if(aC&&aC.response){var jd=aC.response.status;var oP;try{oP=JSON.parse(aC.response.responseText);}catch(e){}if(jd===480&&oP&&oP.errorCode==='LicenseCouldNotBeVerified'){ags(h,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(oP.errorCode,'License error.');}}bO.reject(error);};return cd;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var iw={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var Hb;var acu;var abm;var aHi=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){Hb=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){Hb=burnOptions.marks;}iw={marks:Hb};}else{iw.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:iw.burnSignatures;iw.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:iw.burnRedactions;iw.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:iw.burnAnnotations;}if(typeof burnOptions.filename==='string'){iw.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var PB,FS=true;for(PB=0;PB<burnOptions.removeFormFields.length;PB++){if(burnOptions.removeFormFields[PB]!=='acroform'){FS=false;}}if(FS){iw.removeFormFields=['acroform'];}else{iw.mW={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{iw.mW={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{iw.mW={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){iw.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{iw.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{iw.mW={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){iw.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{iw.mW={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var zw=new PCCViewer.BurnRequest(iw),h=this;if(Hb){var ee=[];for(var G=0,dn=this.getPageCount();G<dn;G++){ee[G]=[];}ee=IPCC.C.reduce(Hb,function(ad,bB){var aa=bB.getPageNumber()-1;if(!(typeof bB==='object'&&bB instanceof PCCViewer.Mark&&bB.K)){zw.SJ(new Error('The burnOptions.marks parameter is an invalid object.'));return ad;}if(!h.getMarkById(bB.dz)){zw.SJ(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return ad;}ad[aa].push(bB.K);if(bB.K.aj){for(var G=0,dn=bB.K.aj.length;G<dn;G++){if(bB.K.aj[G]instanceof IPCC.Web.UI.Mark){ad[aa].push(bB.K.aj[G]);}}}if(bB.bD){for(var bo=0,aug=bB.bD.length;bo<aug;bo++){ad[aa+1+bo].push(bB.bD[bo]);if(bB.bD[bo].aj){for(var cX=0,avg=bB.bD[bo].aj.length;cX<avg;cX++){if(bB.bD[bo].aj[cX]instanceof IPCC.Web.UI.Mark){ad[aa+1+bo].push(bB.bD[bo].aj[cX]);}}}}}return ad;},ee);abm={Ff:ee,uG:true};}else{abm={includeAnnotations:iw.burnAnnotations,includeRedactions:iw.burnRedactions,includeSignatures:iw.burnSignatures,uG:true};}function abY(){Uv(h,abm,function(dq,acu){if(dq){setTimeout(function(){zw.SJ(dq);},20);}else{zw.MG({aZ:h.aZ,bE:h.bE});zw.aDh(acu);setTimeout(function(){zw.DN();},20);}});};function oC(){h.aU.off(PCCViewer.EventType.PageCountReady,oC);abY();};if(this.nj===false){h.aU.on(PCCViewer.EventType.PageCountReady,oC);}else{abY();}return zw;};SingleSessionViewerControl.prototype.convertDocument=function(zY){var vN,h=this,AM={targetExtension:'pdf',filename:'document'},bE={};ro.sI(bE,AM,zY);bE.xr=1;vN=new PCCViewer.ConversionRequest(bE);function xU(){vN.MG({aZ:h.aZ,bE:h.bE});setTimeout(function(){vN.DN(bE);},20);};function oC(){h.aU.off(PCCViewer.EventType.PageCountReady,oC);xU();};if(this.nj===false){h.aU.on(PCCViewer.EventType.PageCountReady,oC);}else{xU();}return vN;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(zY){var vN,h=this,AM={targetExtension:'pdf',filename:'document'},bE={};ro.sI(bE,AM,zY);bE.xr=2;vN=new PCCViewer.ConversionRequest(bE);function xU(){vN.MG({aZ:h.aZ,bE:h.bE});setTimeout(function(){vN.DN(bE);},20);};function oC(){h.aU.off(PCCViewer.EventType.PageCountReady,oC);xU();};if(this.nj===false){h.aU.on(PCCViewer.EventType.PageCountReady,oC);}else{xU();}return vN;};SingleSessionViewerControl.prototype.loadAttachments=function(){var bO=PCCViewer.Deferred();var cd=bO.getPromise();try{var G=0,Ht=0;var zs='';var bd=this.bE.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bE.documentID)+'/Attachments';var azQ=function(aT){var GB=JSON.parse(aT.responseText);if(GB===null||GB.status!=='complete'){setTimeout(anv,500);return;}bO.resolve(GB.attachments||[]);};var ft=function(aC){bO.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var anv=function(){PCCViewer.Ajax.eT({method:'GET',url:bd}).then(azQ,ft);};anv();}catch(e){bO.reject(new PCCViewer.Error("Error",e.message));}return cd;};function qc(){return function(sender,eventArgs){var h=this;var R=h.dN[eventArgs.mark.get_markID()];if(h.rJ){h.wu.addMarks(R);}setTimeout(function(){if(R){h.aU.trigger('MarkCreated',{mark:R,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function azx(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setThickness(bk.getThickness());R.setColor(bk.getColor());R.setOpacity(bk.getOpacity());R.setEndHeadType(bk.getEndHeadType());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function ado(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setBorderThickness(bk.getBorderThickness());R.setFillColor(bk.getFillColor());R.setBorderColor(bk.getBorderColor());R.setOpacity(bk.getOpacity());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function avp(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;},onAdded:qc()};};function avA(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;if(R.nV){R.setReasons(bk.getReasons());}else{R.setReason(bk.getReason());}R.setBorderThickness(bk.getBorderThickness());R.setFillColor(bk.getFillColor());R.setBorderColor(bk.getBorderColor());R.setFontColor(bk.getFontColor());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function arJ(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setBorderThickness(bk.getBorderThickness());R.setFillColor(bk.getFillColor());R.setBorderColor(bk.getBorderColor());R.setOpacity(bk.getOpacity());R.setFontName(bk.getFontName());R.setFontColor(bk.getFontColor());R.setFontSize(bk.getFontSize());R.setFontStyle(bk.getFontStyle());R.setHorizontalAlignment(bk.getHorizontalAlignment());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function YQ(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setFontName(bk.getFontName());R.setFontColor(bk.getFontColor());R.setText(bk.getText());if(R.setFontSize){R.setFontSize(bk.getFontSize());}PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function arA(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;if(bk.getType()===PCCViewer.MouseTool.Type.StampAnnotation){R.setColor(bk.getColor());}R.setLabel(bk.getLabel());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};var aGY;function OX(bk){return{onCreating:function(bV,V){},onAdded:qc()};};function auy(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setThickness(bk.getThickness());R.setColor(bk.getColor());R.setOpacity(bk.getOpacity());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function amK(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setImage(bk.getImage());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};function atK(bk){return{onCreating:function(bV,V){var R=new PCCViewer.Mark({type:bk.getType(),igMark:V.mark,pageNumber:V.pageIndex+1,enableMultipleRedactionReasons:this.bE.enableMultipleRedactionReasons});this.dN[V.mark.get_markID()]=R;R.setThickness(bk.getThickness());R.setColor(bk.getColor());R.setOpacity(bk.getOpacity());PCCViewer.Data.pa(bk,R);PCCViewer.Conversation.sX(bk.getConversation(),R.getConversation());},onAdded:qc()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var xM;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:xM=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:xM=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.ar&&this.ar.set_markHandleMode){this.ar.set_markHandleMode(xM);}else{this.bE.markHandleMode=xM;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var xM;if(this.ar&&this.ar.get_markHandleMode){xM=this.ar.get_markHandleMode();}else{xM=this.bE.markHandleMode;}if(xM===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.or=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.or;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var WV,adE=(conversations===undefined);function ahl(dG,aP){throw new Error(dG+((aP!==undefined)?' (Array index '+aP+')':'')+' is not a valid PCCViewer.Conversation object.');};function arK(dG,aP){throw new Error(dG+((aP!==undefined)?' (Array index '+aP+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){WV=[conversations];}else if(conversations instanceof Array){WV=conversations;}else if(!adE){ahl(conversations);}var akz=IPCC.C.map(this.getAllMarks(),function(bB){return bB.getConversation();});var Ze=IPCC.C.map(WV||akz,function(bB,G){if(!(bB instanceof PCCViewer.Conversation)){ahl(bB,G);}if(!adE&& !IPCC.C.inArray(akz,bB)){arK(bB,G);}return bB.getMark().dz;});this.ar.refreshConversations(Ze);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.eY===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.ar.openCommentsPanel();var h=this;setTimeout(function(){h.aU.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.eY===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.ar.closeCommentsPanel();var h=this;setTimeout(function(){h.aU.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eY===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.ar.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eY===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.ar.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var lX=conversation.getMark();if(lX){var xt=lX.K.get_conversation();this.ar.set_selectedConversation(xt);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.eY===false){return null;}var hW=this.ar.get_selectedConversation();if(hW){var lX=this.dN[hW.get_mark().get_markID()];if(lX){return lX.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var h=this,zJ=h.aM;function alA(bj,ir,dh){var Vo=[bj+1];var al=h.cg.getPage(bj),dW=al.cB();if(dW.mR()){var bm=dW.Cd(),afi=bm.substr(ir);if(afi.length>dh){return Vo;}else{return Vo.concat(alA(bj+1,0,dh-afi.length));}}else{return Vo;}};this.ar.ug();function CP(WZ,aa){h.amx(aa,WZ);};if(zJ&&zJ.getResults().length){var cc=alA(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),fI=zJ.getResults(),ahP=false,MQ={};if(fI.length){IPCC.C.forEach(fI,function(bB){var aDU=IPCC.C.contains(cc,bB.aa);if(aDU){ahP=true;MQ[bB.aa]=MQ[bB.aa]||[];MQ[bB.aa].push(bB);}});}if(ahP){IPCC.C.forEach(MQ,function(WZ,aa){h.requestPageText(aa).then(CP.bind(null,WZ,aa));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eY===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var xQ=function(n){return typeof n==='number'&& !isNaN(n);};var wZ,ahJ=true;if(points&&points.constructor===Array){wZ=points;}else{wZ=[points];ahJ=false;}var ajg=function(bK,aP,bu){throw new PCCViewer.Error('InvalidArgument',bK+' (Array index '+aP+') does not have a valid '+bu+' property');};if(wZ.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.C.forEach(wZ,function(bK,aP){if(!xQ(bK.x)){ajg(bK,aP,'x');}if(!xQ(bK.y)){ajg(bK,aP,'y');}});var Cu=this.ar.aoU(pageNumber,wZ);if(Cu===null){return null;}else if(ahJ){return Cu;}else{return Cu[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.eY===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var h=this;var ar=h.ar;var Xa=ar.FK();if(!Xa){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Xa==='singleline'){ar.Js();}else if(Xa==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return h;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var h=this;h.afA=amount;if(this.eY===false){this.so.then(function(qG){var ar=h.ar;ar.DC(amount);});}else{var ar=h.ar;ar.DC(amount);}return h;};SingleSessionViewerControl.prototype.getSharpening=function(){var h=this;if(this.eY===false){return h.afA;}else{var ar=h.ar;return ar.apT();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var h=this;h.aiV=amount;if(this.eY===false){this.so.then(function(qG){var ar=h.ar;ar.Er(amount);});}else{var ar=h.ar;ar.Er(amount);}return h;};SingleSessionViewerControl.prototype.getGamma=function(){var h=this;if(this.eY===false){return h.aiV;}else{var ar=h.ar;return ar.apj();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var h=this;h.lJ=amount;if(this.eY===false){this.so.then(function(qG){h.ar.DR(amount);});}else{h.ar.DR(amount);}return h;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var h=this;if(this.eY===false){return h.lJ;}else{var ar=h.ar;return ar.aqW();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aM;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var JW=function(){},jd={amc:0,azV:1,Jx:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.C.uE(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var h=this;this.jd=jd.amc;this.bE=viewerControl.ae.bE;this._debug= ! !this.bE.debug;this.aIl="Single";this.KO=[];this.te={};if(!this.dJ){this.dJ=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bb=domElement;if(viewerControl.ae.nj){h.jd=jd.Jx;h.Ey(viewerControl.getPageCount());h.YD(h.bb);}else{h.jd=jd.azV;h.Ey(1,0);var Kd=function(){viewerControl.off('PageCountReady',Kd);h.Ey(viewerControl.getPageCount(),1);h.YD(h.bb);};viewerControl.on('PageCountReady',Kd);}viewerControl.on('PageRotated',function(aS){IPCC.C.forEach(h.te,function(am){if(am.bj===(aS.pageNumber-1)){if(am.yo===true){h.abh(am);}}});});viewerControl.on('DocumentRotated',function(aS){IPCC.C.forEach(h.te,function(am){if(am.yo===true){h.abh(am);}});});viewerControl.on('ViewingSessionChanging',function(aS){h.aiZ();h.YJ([]);});viewerControl.on('ViewingSessionChanged',function(aS){h.bE=viewerControl.ae.bE;if(viewerControl.ae.nj){h.Ey(viewerControl.getPageCount());}else{h.Ey(1,0);var Kd=function(){viewerControl.off('PageCountReady',Kd);h.Ey(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',Kd);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.dJ;};ThumbnailControl.prototype.Ey=function(eP,gg){gg=gg||0;var h=this,JR=document.createDocumentFragment();for(var i=gg;i<eP;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var eJ=document.createElement('div');eJ.className='pccThumbnail';var ru=document.createElement('div');ru.className='pccThumbnailView';ru.id='pcc-thumbnailPage-'+i+'-'+IPCC.vl();eJ.appendChild(ru);_parent.appendChild(eJ);JR.appendChild(_parent);h.te[i]={abA:_parent,dF:eJ,ru:ru,bj:i,aB:{},yo:false,ij:0,kW:0,gs:0};}IPCC.C.forEach(h.te,function(am){var YT=document.createElement('div'),vI=document.createElement('span'),asR=document.createTextNode(am.bj+1);YT.className='pccThumbnailLabel';vI.appendChild(asR);YT.appendChild(vI);am.dF.appendChild(YT);am.dF.onclick=function(){h.YJ([am.bj+1]);};});h.bb.appendChild(JR);this.Tj();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jd){return[];}return[].concat(this.KO);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jd){return this;}var eP=this.dJ.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.C.forEach(pageNumbers,function(hs,G){if(isNaN(hs)){throw new Error(hs+' (array index '+G+') is not a number');}if(hs<1||hs>eP){throw new Error(hs+' (array index '+G+') is out of range');}});this.YJ([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var hs=Number(pageNumber);if(hs!==(hs|0)||hs<1||hs>this.dJ.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mc=false,h=this,bE=options||{};IPCC.C.forEach(this.te,function(am){if(mc){return;}if(am.bj+1===hs){mc=true;h.Xn(am,undefined,! !bE.forceAlignTop);}});return this;};ThumbnailControl.prototype.Xn=function(am,ka,apS){ka=ka||IPCC.C.SB(this.bb.getBoundingClientRect());var tm=IPCC.C.SB(am.abA.getBoundingClientRect());if(tm.top>ka.top&&tm.bottom<ka.bottom){return;}var aeG=window.getComputedStyle?getComputedStyle(am.abA):am.abA.currentStyle,gy;if(tm.top<ka.top||apS){gy=tm.top-ka.top+this.bb.scrollTop-parseInt(aeG.marginTop,10);}else if(tm.bottom>ka.bottom){gy=tm.bottom-ka.top-ka.height+this.bb.scrollTop+parseInt(aeG.marginBottom,10);}if(gy!==undefined){this.bb.scrollTop=gy;}return this;};ThumbnailControl.prototype.YJ=function(ib){if(IPCC.C.aoF(this.KO,ib)){return this;}var Ue='pcc-thumbnail-selected',Gq=new RegExp(Ue),SG=false,alJ=[].concat(ib),amP=alJ.shift(),agi=false,ka=IPCC.C.SB(this.bb.getBoundingClientRect()),h=this;IPCC.C.forEach(this.te,function(am){if(am.bj===amP-1){IPCC.C.aez(am.dF,Ue);SG=true;amP=alJ.shift()||0;if(!agi){agi=true;h.Xn(am,ka);}return;}if(Gq.test(am.dF.className)){IPCC.C.adk(am.dF,Ue);SG=true;}});this.KO=ib;if(SG){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.KO)});}return this;};ThumbnailControl.prototype.aoi=function(){var eC=this.Oj(),h=this,wD;IPCC.C.forEach(eC,function(am){if(!wD&&IPCC.C.inArray(h.KO,am.bj+1)){wD=am;}});if(!wD){wD=eC[0];}return wD;};ThumbnailControl.prototype.reflow=function(){if(!this.jd){return this;}var EA,Eo,aA,bM,NG,Mn,gs,wD=this.aoi();IPCC.C.forEach(this.te,function(am){if(am.yo){am.dF.style.height=am.ru.style.height='';am.dF.style.width=am.ru.style.width='';}});IPCC.C.forEach(this.te,function(am){if(am.yo&&am.aB.fz()){EA=am.dF.offsetWidth;Eo=am.dF.offsetHeight;gs=am.aB.aqp();if(Math.abs(gs)===90||Math.abs(gs)===270){bM=am.aB.lq();aA=am.aB.iT();}else{aA=am.aB.lq();bM=am.aB.iT();}NG=aA/bM;Mn=EA/Eo;var ij,kW;if(NG<Mn){kW=Eo;ij=Math.floor(kW*aA/bM);}else{ij=EA;kW=Math.floor(ij*bM/aA);}am.ij=ij;am.kW=kW;}});IPCC.C.forEach(this.te,function(am){if(am.yo&&am.aB&&am.aB.fz()){am.ru.style.height=am.kW+'px';am.ru.style.width=am.ij+'px';am.aB.Xg(IPCC.Web.UI.FitType.FullImage);am.aB.dC();}});if(wD){this.Xn(wD);}this.Tj();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.jd){return this;}this.jd=jd.amc;this.aiZ();this.on=this.off=this.trigger=JW;this.kb={};};ThumbnailControl.prototype.aiZ=function(){IPCC.C.forEach(this.te,function(am){if(am.aB&&am.aB.dispose){am.aB.dispose();}});while(this.bb.firstChild){this.bb.removeChild(this.bb.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jd){return[];}var eC=this.Oj();return IPCC.C.map(eC,function(am){return am.bj+1;});};ThumbnailControl.prototype.Oj=function Oj(){var aCA=this.bb.getBoundingClientRect(),tm;function UB(ka,RD){return(!(RD.top>=ka.bottom||RD.left>=ka.right||RD.bottom<=ka.top||RD.right<=ka.left));};return IPCC.C.filter(this.te,function(am){tm=am.dF.getBoundingClientRect();return UB(aCA,tm);});};ThumbnailControl.prototype.Tj=function(){var h=this,eC=h.Oj();IPCC.C.forEach(eC,function(am){if(!am.yo){am.aB=h.iP(am);am.yo=true;}});return this;};ThumbnailControl.prototype.YD=function YD(dF){var KL={},h=this;function arN(bA,vO,ob){if(KL[bA]){clearTimeout(KL[bA]);KL[bA]=undefined;}KL[bA]=setTimeout(vO,ob||0);};IPCC.Web.UI.bC.addHandler(dF,'scroll',function(ev){arN('scroll',function(){h.Tj();},300);});};ThumbnailControl.prototype.iP=function(am,mx){var h=this;mx=mx||JW;var aw={documentIdentifier:h.bE.documentID,pageNumber:am.bj,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:h.bE.imageHandlerUrl,encryption:h.bE.encryption,handleTouchEvents:false};var aB=IPCC.initializePageViewPlugin(am.ru,aw);aB.set_debug(h._debug);aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);var xo=false;function Ke(){mx();};aB.add_pageOpened(function(){h.abh(am);});aB.add_pageDisplayed(function(){if(!xo){Ke();}});aB.add_textPageReady(function(){if(xo){aB.dC();Ke();}});aB.add_pageOpenFailed(function(){});aB.add_textExtractionFailed(function(){});var ae=h.dJ.ae;aw.artPage=ae.ar.fY(ae.cg.getPage(am.bj));aw.artPage.BP(function(R){if(R.get_type()===608){xo=true;}});aB.aGI(aw);aB.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aB;};ThumbnailControl.prototype.abh=function(am){var h=this;var ae=h.dJ.ae;var DB=ae.ar.aaS(am.bj);var gs=am.gs;var afU=gs;if(DB!==am.gs){afU=DB-gs;}var aB=am.aB,ix=am.ru,bM,aA;if(!am.yo|| !aB.fz()){return;}ix.style.height='';ix.style.width='';if(Math.abs(DB)===90||Math.abs(DB)===270){bM=aB.lq();aA=aB.iT();}else{bM=aB.iT();aA=aB.lq();}var EA=ix.offsetWidth,Eo=ix.offsetHeight;if(am.gs!==DB){aB.rotate(afU);am.gs=DB;}var NG=aA/bM,Mn=EA/Eo;var ij,kW;if(NG<Mn){kW=Eo;ij=Math.floor(kW*aA/bM);}else{ij=EA;kW=Math.floor(ij*bM/aA);}ix.style.height=kW+'px';ix.style.width=ij+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function acc(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function app(aAc){var bJ=[];var alM=function(n){return!(isNaN(+n));};var afd=aAc.split(',');var Ov,Vq;var Lm=0;var wy=0;for(var G=0;G<afd.length;G++){var Kb=afd[G].split('-');var Cy=Kb[0].replace(/\s+/g,'');if(Cy.length===0){continue;}var IS=Cy;if(Kb[1]!==undefined&&Kb[1]!==""){IS=Kb[1].replace(/\s+/g,'');}Cy= +(Cy);IS= +(IS);if(alM(Cy)===true){Lm=parseInt(Cy);}if(alM(IS)===true){wy=parseInt(IS);}if(Lm<wy){Ov=Lm;Vq=wy;}else{Ov=wy;Vq=Lm;}if(Kb.length>1){for(var bv=Ov;bv<=Vq;bv++){bJ.push(bv);}}else{bJ.push(Ov);}}bJ.sort(function(a,b){return a-b;});for(G=bJ.length-1;G>0;G--){if(bJ[G-1]===bJ[G]){bJ.splice(G,1);}}return bJ;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hm;if(!(selections instanceof Array)){hm=[selections];}else{hm=selections;}IPCC.C.forEach(hm,function(ct){IPCC.aq.nG(ct.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aq.nG(ct.length,'selection.length',1,Number.MAX_VALUE);IPCC.aq.cY(ct.color,'selection.color');IPCC.aq.nG(ct.opacity,'selection.opacity',0,255);});IPCC.aq.cY(backgroundColor,'backgroundColor');var apE=IPCC.C.aeR(hm);return IPCC.C.map(apE,function(bB){bB.length=bB.endIndex-bB.startIndex+1;return bB;});},layerColors:function(colors,backgroundColor){var Pd;if(!(colors instanceof Array)){Pd=[colors];}else{Pd=colors;}IPCC.C.forEach(Pd,function(ct){IPCC.aq.cY(ct.color,'selection.color');IPCC.aq.nG(ct.opacity,'selection.opacity',0,255);});IPCC.aq.cY(backgroundColor,'backgroundColor');return IPCC.C.aij(Pd,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw acc('Illegal page range value',pageRange);}var cc=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cc.unshift(upperLimit--);}}else{cc=app(pageRange);if((cc.length===0&& !allowEmpty)||cc[0]<lowerLimit||cc[cc.length-1]>upperLimit){throw acc('Pages are out of range',cc.join(', '));}}return cc;}};module.exports=Util;},{}],169:[function(require,module,exports){var Cq={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=Cq;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var aeF=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.xB=IPCC.C.extend({},options);this.ae=new aeF(element,this,options);this.Lv={};return this;};ViewerControl.prototype.getPageCount=function(){return this.ae.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.ae.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.ae.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.ae.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.ae.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.ae.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.ae.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.ae.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.ae.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.ae.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.ae.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.ae.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.ae.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.ae.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.ae.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.ae.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.ae.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.ae.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.ae.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.ae.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.ae.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.ae.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.ae.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.ae.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.ae.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.ae.getPageRotation(pageNumber);}else{return this.ae.getPageRotation();}};ViewerControl.prototype.search=function(cZ){return this.ae.search(cZ);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.ae.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.ae.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.ae.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.ae.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(cZ){return this.ae.validateSearch(cZ);};ViewerControl.prototype.requestRevisions=function(){return this.ae.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.ae.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.ae.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.ae.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.ae.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.ae.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.ae.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.ae.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.ae.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.ae.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.ae.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.ae.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.ae.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.ae.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.ae.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.ae.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.ae.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.ae.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.ae.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.ae.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.ae){this.ae.destroy();}this.ae=null;this.nM=true;};ViewerControl.prototype.getMarkById=function(markId){return this.ae.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.ae.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.ae.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.ae.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.ae.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.ae.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.ae.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.ae.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.ae.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.ae.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.ae.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.ae.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.ae.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.ae.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.ae.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.ae.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.ae.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.ae.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(R){this.ae.enterTextMarkEditingMode(R);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.ae.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.ae.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.ae.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.ae.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.ae.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.ae.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.ae.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.ae.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.ae.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.ae.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.ae.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.ae.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.ae.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(zY){return this.ae.convertDocument(zY);};ViewerControl.prototype.requestDocumentConversion=function(zY){return this.ae.requestDocumentConversion(zY);};ViewerControl.prototype.loadAttachments=function(){return this.ae.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.ae.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.ae.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.ae.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.ae.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.ae.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.ae.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.ae.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.ae.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.ae.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.ae.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.ae.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.ae.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.ae.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.ae.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.ae.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.ae.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.ae.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.ae.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.ae.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var h=this;var He=h.ae;var dA=He.ej;var adr=h.xB.documentID;if(h.Tp){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(h.ae.eY===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(adr===viewingSessionId){return h;}h.Tp=true;h.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){h.Lv[adr]={control:He,options:h.xB};He.aqI();He.aAn();}else{He.destroy();}if(h.Lv[viewingSessionId]){var ajS=h.Lv[viewingSessionId];h.xB=ajS.options;h.ae=ajS.control;h.ae.axU();h.ae.axG();h.Tp=false;h.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(h.ae.wv){h.trigger("PageCountReady",{pageCount:h.ae.eP});}delete h.Lv[viewingSessionId];}else{h.xB=IPCC.C.extend({},h.xB);h.xB.documentID=viewingSessionId;h.ae=null;h.ae=new aeF(dA,h,h.xB);h.ae.aqh(function(){h.Tp=false;h.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return h;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.ae.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.ae.getPageNumber();},set:function(value){return this.ae.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.ae.aM;}},"selectedSearchResult":{enumerable:true,get:function(){return this.ae.getSelectedSearchResult();},set:function(val){return this.ae.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.ae.getCurrentMouseTool();},set:function(value){return this.ae.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.ae.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.ae.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.ae.getScaleFactor();},set:function(value){return this.ae.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.ae.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.ae.getViewMode();},set:function(value){return this.ae.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.ae.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.ae.getSelectedConversation();},set:function(conversation){return this.ae.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.ae.getRedactionViewMode();},set:function(value){return this.ae.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.ae.getMarkHandleMode();},set:function(value){return this.ae.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),tY:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aqm:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),ro:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,Si:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,QB:require('./PCCViewer.ClientSearch'),Hm:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),GL:require('./PCCViewer.RevisionsRequest').GL,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(vx){this.kb={};this.cZ={};this.fI=[];this.tJ=false;this.eo=null;this.ds=null;this.VI=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !vx,enumerable:true,get:function(){return this.cZ;}},"results":{configurable: ! !vx,enumerable:true,get:function(){return this.fI;}},"isComplete":{configurable: ! !vx,enumerable:true,get:function(){return this.tJ;}},"errorCode":{configurable: ! !vx,enumerable:true,get:function(){return this.eo;}},"errorMessage":{configurable: ! !vx,enumerable:true,get:function(){return this.ds;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.cZ;};SearchRequest.prototype.getResults=function(){return this.fI;};SearchRequest.prototype.getIsComplete=function(){return this.tJ;};SearchRequest.prototype.getErrorCode=function(){return this.eo;};SearchRequest.prototype.getErrorMessage=function(){return this.ds;};SearchRequest.prototype.getPagesWithoutText=function(){return this.VI;};SearchRequest.prototype.cancel=function(){this.rg=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.dz=0;this.aa=0;this.bQ=0;this.bm='';this.sx='';this.qL=0;this.dp='';this.Af=0;this.bH='';this.HV='';this.nd=null;};SearchResult.prototype.getId=function(){return this.dz;};SearchResult.prototype.getPageNumber=function(){return this.aa;};SearchResult.prototype.getText=function(){return this.bm;};SearchResult.prototype.getHighlightColor=function(){return this.sx;};SearchResult.prototype.getStartIndexInPage=function(){return this.qL;};SearchResult.prototype.getContext=function(){return this.dp;};SearchResult.prototype.getStartIndexInContext=function(){return this.Af;};SearchResult.prototype.getSearchTerm=function(){return this.bH;};SearchResult.prototype.getBoundingRectangle=function(){return this.nd;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aa;}},"id":{enumerable:true,get:function(){return this.dz;}},"text":{enumerable:true,get:function(){return this.bm;}},"highlightColor":{enumerable:true,get:function(){return this.sx;}},"startIndexInPage":{enumerable:true,get:function(){return this.qL;}},"context":{enumerable:true,get:function(){return this.dp;}},"startIndexInContext":{enumerable:true,get:function(){return this.Af;}},"searchTerm":{enumerable:true,get:function(){return this.bH;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.dz=0;this.bQ=0;this.bm='';this.sx='';this.qL=0;this.dp='';this.Af=0;this.bH='';};SearchTaskResult.prototype.getId=function(){return this.dz;};SearchTaskResult.prototype.getText=function(){return this.bm;};SearchTaskResult.prototype.getHighlightColor=function(){return this.sx;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.qL;};SearchTaskResult.prototype.getContext=function(){return this.dp;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Af;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bH;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.dz;}},"text":{enumerable:true,get:function(){return this.bm;}},"highlightColor":{enumerable:true,get:function(){return this.sx;}},"startIndexInInput":{enumerable:true,get:function(){return this.qL;}},"context":{enumerable:true,get:function(){return this.dp;}},"startIndexInContext":{enumerable:true,get:function(){return this.Af;}},"searchTerm":{enumerable:true,get:function(){return this.bH;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 