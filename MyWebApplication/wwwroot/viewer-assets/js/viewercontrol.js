// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.14.13
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pccv .pcc-load,\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccv .pccPageListLoading svg,\n.pccv .pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccv .pccPageListLoading,\n.pccv .pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var lv=function(){this.ah=false;this.L=false;this.aU=IPCC.bK.AddFreehandMark;};lv.prototype.mU=function(L){this.L=L;};lv.prototype.fv=function(){this.L=false;};lv.prototype.aJ=function(){if(this.ah){this.V=null;this.nB=null;this.L.os(null);this.ah=false;this.L.cl();}};lv.prototype.qx=function(){this.aJ();};lv.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){this.ah=true;this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.V.get_points().addPoint(h.imagePoint);this.nB=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.L.os(this.V,this.nB);this.V.set_lineWidth(this.nB.fF);this.V.set_lineColor(this.nB.kR);this.V.set_opacity(this.nB.de);this.qH=h.imagePoint;this.uo=h.windowPoint;this.L.cl();}};lv.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){this.V.get_points().addPoint(h.imagePoint);this.L.cl();}};lv.prototype.xz=function(h){if(this.ah){this.aJ();}};lv.prototype.kk=function(h){if(this.ah&&h.domEvent.button===0){this.V.get_points().addPoint(h.imagePoint);var aif=this.V.get_points();var bL=[];var fR=Number.MAX_VALUE,im=0,_top=Number.MAX_VALUE,kf=0;var K=0;for(K=0;K<aif.get_length();K++){var sf=aif.getPoint(K);if(sf.x<fR){fR=sf.x;}if(sf.x>im){im=sf.x;}if(sf.y<_top){_top=sf.y;}if(sf.y>kf){kf=sf.y;}bL.push({x:sf.x,y:sf.y});}var yK=3;var rs;var qj=(bL.length<yK)?bL:IPCC.G.filter(bL,function(bC){if(rs){var aD=bC.x-rs.x,cF=bC.y-rs.y,fr=aD*aD+cF*cF;if(Math.sqrt(fr)<4){return false;}}bC.x=bC.x-fR;bC.y=bC.y-_top;rs=bC;return true;});if(qj.length<yK){qj=[bL[0],bL[bL.length-1]];}var cN='';rs=undefined;if(qj.length<yK){cN+=this.MO(qj);}else{cN='M'+IPCC.G.bspline(qj);cN=cN.replace(/\d*\.?\d*/g,function(ak){var JA=ak.indexOf('.');if(ak.length&&JA>0){return ak.substr(0,JA+3);}else if(ak!==""){return ak;}else{return ak;}});}var bz=im-fR;var cq=kf-_top;if(cq===0&&bz===0){this.aJ();return;}var qF={clientX:h.domEvent.clientX,clientY:h.domEvent.clientY};this.nB.set_rectangle({x:fR,y:_top,width:bz,height:cq});this.nB.set_pathString(cN);this.nB.set_pathWidth(bz);this.nB.set_pathHeight(cq);this.L.os(null);this.L.en().addMark(this.nB,qF);this.L.cl();}this.aJ();};lv.prototype.MO=function(An,Ip){var SC=(Ip&&IPCC.G.BA)?'m':'M';var WJ=(Ip&&IPCC.G.BA)?'l':'L';return IPCC.G.map(An,function(bC,K){if(K===0){return SC+bC.x+','+bC.y;}else{return WJ+bC.x+','+bC.y;}}).join('');};lv.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};lv.prototype.mQ=function(){this.aJ();};module.exports=lv;},{}],13:[function(require,module,exports){var oR=function(){this.ah=false;this.L=false;this.aU=IPCC.bK.AddLineMark;};oR.prototype.mU=function(L){this.L=L;};oR.prototype.fv=function(){this.L=false;};oR.prototype.aJ=function(){if(this.ah){this.V=null;this.L.os(null);this.ah=false;this.L.cl();}};oR.prototype.qx=function(){this.aJ();};oR.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){this.ah=true;this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.V.get_points().setPoint(0,h.imagePoint);this.V.get_points().setPoint(1,h.imagePoint);this.L.os(this.V);this.qH=h.imagePoint;this.uo=h.windowPoint;}};oR.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){this.V.get_points().setPoint(1,h.imagePoint);this.L.cl();}};oR.prototype.kk=function(h){if(this.ah&&h.domEvent.button===0){var eW=h.windowPoint.x-this.uo.x;var gj=eW*eW;eW=h.windowPoint.y-this.uo.y;gj+=eW*eW;if(gj>25){var L=this.L;var qF={clientX:h.domEvent.clientX,clientY:h.domEvent.clientY};this.V.get_points().setPoint(1,h.imagePoint);this.L.os(null);this.L.en().addMark(this.V,qF);L.cl();}}this.aJ();};oR.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};oR.prototype.mQ=function(){this.aJ();};module.exports=oR;},{}],14:[function(require,module,exports){var kv=function(bi){this.ah=false;this.L=false;this.bi=bi;switch(this.bi){case IPCC.Web.UI.MarkType.Polygon:this.aU=IPCC.bK.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aU=IPCC.bK.AddPolylineMark;this.aaB=false;break;}};kv.prototype.mU=function(L){this.L=L;};kv.prototype.fv=function(){this.L=false;};kv.prototype.aJ=function(){if(this.ah){if(arguments[0]){if(arguments[0]===true){if(this.V&&this.aaB===false){this.L.en().addMark(this.V);this.aaB=true;this.L.cl();}}}this.V=null;this.L.os(null);this.ah=false;this.L.cl();}};kv.prototype.qx=function(){this.aJ();};kv.prototype.kD=function(h){if(h.domEvent.button===0){if(!this.ah){this.ah=true;this.V=new IPCC.Web.UI.Mark(this.bi);this.V.get_points().addPoint(h.imagePoint);this.L.os(this.V);}var bL=this.V.get_points();if(bL.get_length()>0){bL.setPoint(bL.get_length()-1,h.imagePoint);}bL.addPoint(h.imagePoint);this.qH=h.imagePoint;this.uo=h.windowPoint;this.L.cl();}else{this.aJ();}};kv.prototype.xz=function(h){if(this.ah&&h.domEvent.button===0){var bL=this.V.get_points(),cf=bL.get_length(),Rk,TM;if(cf>2){var abM=true;while(abM){cf=bL.get_length();Rk=bL.getPoint(cf-1);TM=bL.getPoint(cf-2);if(Rk.x===TM.x&&Rk.y===TM.y){bL.removePoint(cf-1);}else{abM=false;}}}if(bL.get_length()>0){bL.setPoint(bL.get_length()-1,h.imagePoint);}this.L.os(null);var qF={clientX:h.domEvent.clientX,clientY:h.domEvent.clientY};this.L.en().addMark(this.V,qF);this.aaB=true;this.L.cl();}this.aJ();};kv.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){var bL=this.V.get_points();if(bL.get_length()>0){bL.setPoint(bL.get_length()-1,h.imagePoint);}this.L.cl();}};kv.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};kv.prototype.mQ=function(){this.aJ();};module.exports=kv;},{}],15:[function(require,module,exports){var eg=function(bi){this.ah=false;this.L=false;this.bi=bi;switch(this.bi){case IPCC.Web.UI.MarkType.Rectangle:this.aU=IPCC.bK.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aU=IPCC.bK.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aU=IPCC.bK.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aU=IPCC.bK.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aU=IPCC.bK.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aU=IPCC.bK.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aU=IPCC.bK.AddRectangleMark;break;}};eg.prototype.mU=function(L){this.L=L;};eg.prototype.fv=function(){this.L=false;};eg.prototype.aJ=function(){if(this.ah){this.V=null;this.L.os(null);this.ah=false;this.L.cl();}};eg.prototype.qx=function(){this.aJ();};eg.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){this.ah=true;this.V=new IPCC.Web.UI.Mark(this.bi);this.V.set_rectangle({x:h.imagePoint.x,y:h.imagePoint.y,width:0,height:0});this.L.os(this.V);this.qH=h.imagePoint;this.uo=h.windowPoint;}};eg.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){var kg={x:Math.min(h.imagePoint.x,this.qH.x),y:Math.min(h.imagePoint.y,this.qH.y)};kg.width=Math.max(h.imagePoint.x,this.qH.x)-kg.x;kg.height=Math.max(h.imagePoint.y,this.qH.y)-kg.y;this.V.set_rectangle(kg);this.L.cl();}};eg.prototype.kk=function(h){if(this.ah&&h.domEvent.button===0){var eW=h.windowPoint.x-this.uo.x;var gj=eW*eW;eW=h.windowPoint.y-this.uo.y;gj+=eW*eW;if(gj>25){var kg={x:Math.min(h.imagePoint.x,this.qH.x),y:Math.min(h.imagePoint.y,this.qH.y)};kg.width=Math.max(h.imagePoint.x,this.qH.x)-kg.x;kg.height=Math.max(h.imagePoint.y,this.qH.y)-kg.y;this.L.os(null);this.V.set_rectangle(kg);var bE=this.V;var L=this.L;var qF={clientX:h.domEvent.clientX,clientY:h.domEvent.clientY};this.L.en().addMark(this.V,qF);if(bE.hU()===IPCC.Web.UI.MarkType.Text||bE.hU()===IPCC.Web.UI.MarkType.TextLine||bE.hU()===IPCC.Web.UI.MarkType.TextAreaSignature){L.wN(bE);}L.cl();}}this.aJ();};eg.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};eg.prototype.mQ=function(){this.aJ();};module.exports=eg;},{}],16:[function(require,module,exports){var cY={};var avz=require('./ArtUIDirector');var Rq=require('./ArtSVGUIDirector');cY.uZ={Ja:function(){var wI=IPCC.cY.uZ;if(wI.uc===null){
/*@cc_on@if(@_jscript)wI.uc=document.documentMode>8;@else@*/ wI.uc=true;/*@end@*/}return wI.uc;},uc:null};cY.DG=1;cY.dc=avz;cY.Rq=Rq;module.exports=cY;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var amS=function(){};amS.prototype={avY:function(L,aN,bB){this.L=L;this.aS=L.az();this.aN=aN;this.ec=bB.width;this.fa=bB.height;this.Gc=bB.hA;this.aGq=bB.gH;aN.Cy=this.dB('g');this.cT(aN.Cy,{'fill-opacity':1});aN.Aa.appendChild(aN.Cy);},awT:function(F){var il='',R,T=this;switch(F.V.get_type()){case IPCC.Web.UI.MarkType.Rectangle:F.ab=this.dB('rect');if(F.V.iE()&&F.V.get_opacity()===255){F.ab.addEventListener("mouseover",function(h){if(F.V.get_selected()===false&&F.ab&&(h.which===0||h.buttons===0)){F.ab.style.opacity=127/255;}},false);F.ab.addEventListener("mouseout",function(h){if(F.ab&&(h.which===0||h.buttons===0)){F.ab.style.opacity=F.V.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:il="highlighttextannotation-"+F.V.ke();F.ab=this.dB('g');F.iT=this.dB('g');F.ab.appendChild(F.iT);F.lp=this.dB('g');F.lp.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.lp);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:il="texthyperlinkannotation-"+F.V.ke();F.ab=this.dB('g');F.ab.style.cursor=IPCC.bK.dX(IPCC.bK.Link);F.iT=this.dB('g');F.ab.appendChild(F.iT);F.lp=this.dB('g');F.lp.style.opacity=IPCC.cY.dc.ajr();F.lp.style.fill="blue";F.lp.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.lp);F.jY=this.dB('g');F.jY.style.stroke="blue";F.jY.style.opacity=IPCC.cY.dc.Go(false);F.jY.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.jY);F.ab.addEventListener("mouseover",function(h){if(F.jY){F.jY.style.opacity=IPCC.cY.dc.Go(true,F.V.get_selected());}},false);F.ab.addEventListener("mouseout",function(h){if(F.jY){F.jY.style.opacity=IPCC.cY.dc.Go(false,F.V.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:il="documenthyperlink-"+F.V.ke();F.ab=this.dB('g');F.ab.style.cursor=IPCC.bK.dX(IPCC.bK.Link);F.R=this.dB('rect');F.R.style['fill-opacity']=IPCC.cY.dc.ajr();if(F.V.Lm!=='Underline'){F.R.style.stroke=F.V.kR;F.R.style['stroke-width']=F.V.fF+'px';F.R.style['stroke-opacity']=(F.V.fF===0)?0:F.V.rw/255;if(F.V.Lm==='Dashed'){F.R.style['stroke-dasharray']=F.V.BF.join(', ');}F.R.setAttribute('rx',F.V.Fh);F.R.setAttribute('ry',F.V.Fg);}else{F.tY=this.dB('line');F.tY.style.stroke=F.V.kR;F.tY.style['stroke-opacity']=F.V.rw/255;F.tY.style['stroke-width']=F.V.fF+'px';F.ab.appendChild(F.tY);}F.R.style.fill='transparent';F.R.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.R);break;case IPCC.Web.UI.MarkType.RectangleRedaction:il="textmark-"+F.V.ke();F.ab=this.dB('g');F.eb=this.dB('rect');F.gI=this.dB('g');F.gI.setAttribute('data-pcc-mark',il);if(IPCC.G.ud.aDr){F.gI.style.cursor='pointer';}F.Aq=document.createTextNode('');if(document.documentMode>8||IPCC.G.ud.zi){F.cW=this.dB('text');F.cW.setAttribute('data-pcc-mark',il);F.cW.appendChild(F.Aq);F.zy=this.dB('clipPath');F.Cd=this.dB('rect');F.gI.appendChild(F.zy);F.zy.appendChild(F.Cd);F.gI.appendChild(F.cW);F.IR="PCC"+IPCC.cY.DG;IPCC.cY.DG++;this.cT(F.zy,{id:F.IR,clipPathUnits:"userSpaceOnUse"});R=F.V.get_rectangle();this.cT(F.Cd,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":il});var acw=function(h){if(F.V.get_selected()===false&&F.eb&&(h.which===0||h.buttons===0)){if(T.L.mO()===false){F.ab.style.opacity=0.5;F.cW.style.opacity=0;}}};F.ab.addEventListener("mouseover",function(h){acw(h);},false);F.gI.addEventListener("mouseover",function(h){acw(h);},false);F.gI.addEventListener("mouseout",function(h){if(F.eb&&(h.which===0||h.buttons===0)){if(T.L.mO()===false){F.ab.style.opacity=1;F.cW.style.opacity=1;}}},false);F.ab.addEventListener("mouseout",function(h){if(F.eb&&(h.which===0||h.buttons===0)){if(T.L.mO()===false){F.ab.style.opacity=1;F.cW.style.opacity=1;}}},false);}else{F.mA=document.createElement('div');this.cT(F.mA,{"data-pcc-mark":il});F.mA.appendChild(F.Aq);F.MT=document.createElement('div');this.cT(F.MT,{"data-pcc-mark":il});F.MT.appendChild(F.mA);F.uj=document.createElement('body');this.cT(F.uj,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":il});F.uj.appendChild(F.MT);F.Gq=this.dB('foreignObject');F.Gq.appendChild(F.uj);F.gI.appendChild(F.Gq);F.uj.addEventListener("mouseover",function(h){if(F.V.get_selected()===false&&F.eb&&(h.which===0||h.buttons===0)){F.eb.style.opacity=0.5;F.mA.style.opacity=0;}},false);F.uj.addEventListener("mouseout",function(h){if(F.eb&&(h.which===0||h.buttons===0)){if(T.L.mO()===false){F.eb.style.opacity=1;F.mA.style.opacity=1;}}},false);}F.ab.appendChild(F.eb);break;case IPCC.Web.UI.MarkType.Ellipse:F.ab=this.dB('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:F.ab=this.dB('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F.ab=this.dB('g');F.iT=F.ab;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:F.ab=this.dB('g');F.so=this.dB('polyline');F.Zr=this.dB('path');F.Yg=this.dB('path');F.ab.appendChild(F.so);F.ab.appendChild(F.Zr);F.ab.appendChild(F.Yg);F.so.setAttribute('stroke-linejoin','miter');F.so.setAttribute('stroke-linecap','butt');F.so.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:F.ab=this.dB('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:il="textmark-"+F.V.ke();F.ab=this.dB('g');F.Km=this.dB('polygon');F.so=this.dB('path');F.Yl=this.dB('path');F.gI=this.dB('g');F.ab.appendChild(F.Km);F.ab.appendChild(F.so);F.ab.appendChild(F.Yl);this.cT(F.Km,{style:'stroke:none;'});F.gI.setAttribute('data-pcc-mark',il);F.Aq=document.createTextNode('');if(document.documentMode>8||IPCC.G.ud.zi){F.cW=this.dB('text');F.cW.setAttribute('data-pcc-mark',il);F.cW.appendChild(F.Aq);F.zy=this.dB('clipPath');F.Cd=this.dB('rect');F.gI.appendChild(F.zy);F.zy.appendChild(F.Cd);F.afp=this.dB('g');F.gI.appendChild(F.afp);F.gI.appendChild(F.cW);F.IR="PCC"+IPCC.cY.DG;IPCC.cY.DG++;this.cT(F.zy,{id:F.IR,clipPathUnits:"userSpaceOnUse"});R=F.V.get_rectangle();this.cT(F.Cd,{x:0,y:0,width:R.width,height:R.height,"data-pcc-mark":il});}else{F.mA=document.createElement('div');F.mA.appendChild(F.Aq);F.uj=document.createElement('body');this.cT(F.uj,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":il});F.uj.appendChild(F.mA);F.Gq=this.dB('foreignObject');F.Gq.appendChild(F.uj);F.gI.appendChild(F.Gq);}F.Km.setAttribute('data-pcc-mark',il);break;case IPCC.Web.UI.MarkType.Stamp:F.ab=this.dB('g');F.tq=this.dB('rect');F.tq.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.eb=this.dB('rect');F.Ju=this.XA(F);F.ab.appendChild(F.tq);F.ab.appendChild(F.eb);F.ab.appendChild(F.Ju);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F.ab=this.dB('g');F.tq=this.dB('rect');F.tq.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.eb=this.dB('rect');F.aiu=this.awr(F);F.aiu.setAttribute('data-pcc-mark',"mark-"+F.V.ke());F.ab.appendChild(F.tq);F.ab.appendChild(F.eb);F.ab.appendChild(F.aiu);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var V=F.V;var akY=V.fl();var bz=akY.width;var cq=akY.height;var JO=V.get_pathWidth();var JE=V.get_pathHeight();var ug=V.get_pathString();var hv=IPCC.G.zI.Path(ug,{width:bz,height:cq,multiplier:100,thickness:V.get_lineWidth(),color:V.get_lineColor()});var er=IPCC.G.zI.SVG('0 0 '+JO+' '+JE,100);var au=IPCC.G.zI.Rect(JO,JE,'fill:rgba(255, 255, 255, 0);stroke:none;');er.appendChild(au);er.appendChild(hv);F.ab=er;F.aAy=hv;F.adG=au;this.amK(F.ab,V.ie);break;case IPCC.Web.UI.MarkType.SignatureText:F.ab=this.dB('g');F.eb=this.dB('rect');F.eb.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Ju=this.XA(F);F.ab.appendChild(F.eb);F.ab.appendChild(F.Ju);F.V.jd=false;break;case IPCC.Web.UI.MarkType.TextLine:F.ab=this.dB('g');F.eb=this.dB('rect');F.eb.style='fill:rgba(255, 255, 255, 0);stroke:none;';F.Ju=this.XA(F);F.ab.appendChild(F.eb);F.ab.appendChild(F.Ju);break;case IPCC.Web.UI.MarkType.Strikethrough:il="strikethroughannotation-"+F.V.ke();F.ab=this.dB('g');F.iT=this.dB('g');F.ab.appendChild(F.iT);F.lp=this.dB('g');F.lp.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.lp);F.wW=this.dB('g');F.wW.setAttribute('data-pcc-mark',il);F.ab.appendChild(F.wW);break;}F.ab.ImGearMarkRelation=F;F.ab.setAttribute('data-pcc-mark',"mark-"+F.V.ke());this.aN.Cy.appendChild(F.ab);if(F.gI){F.gI.ImGearMarkRelation=F;this.aN.Cy.appendChild(F.gI);}this.ajg(F);},XA:function(F){var V=F.V;var EG=V.aq;if(!EG){EG=V.cj[0];if(!EG){if(V.get_type()===IPCC.Web.UI.MarkType.Stamp){EG="APPROVED";}else{EG="";}}}var R=V.fl();F.cW=this.dB('text');F.IR="PCC"+IPCC.cY.DG;IPCC.cY.DG++;var mI=document.createTextNode(EG);F.cW.setAttribute("font-size","22px");if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){F.cW.setAttribute("style",'white-space:pre;');}switch(F.V.ie){case IPCC.Web.UI.HorizontalAlignment.Left:F.cW.setAttribute('text-anchor','start');F.cW.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cW.setAttribute('text-anchor','end');F.cW.setAttribute("x",R.x+R.width);break;default:F.cW.setAttribute('text-anchor','middle');F.cW.setAttribute("x",R.x+(R.width/2));break;}F.cW.setAttribute('y',R.y+(R.height/2));F.cW.appendChild(mI);return F.cW;},awr:function(F){var V=F.V;F.akw=document.createElementNS('http://www.w3.org/2000/svg','svg');F.wU=document.createElementNS('http://www.w3.org/2000/svg','image');F.wU.setAttribute('id','childimg');F.wU.setAttributeNS('http://www.w3.org/1999/xlink','href',V.get_image());F.akw.appendChild(F.wU);return F.akw;},avO:function(F,ie){var V=F.V;var R=V.fl();var aq=V.aq;var Fj=aq.split('\n');var cW=F.cW;var Ys=0;var YN=0;var ZV=0;var wg=0;var agn=0;var adh=this.Gc/72;var afK=V.dg*adh;var wE=[];var aEz=/(.*\s)(.*)/;var mI,ji,EY,BM,_parent,alP,HG,Ku,aaj,zL,agm,CG;alP=cW.childNodes.length;if(alP>=1){_parent=cW.parentNode;HG=this.dB('text');HG.setAttribute('data-pcc-mark',F.gI.getAttribute('data-pcc-mark'));HG.setAttribute('width',F.gI.getAttribute('width')-F.V.fF);_parent.replaceChild(HG,cW);F.cW=HG;F.cW.appendChild(F.Aq);F.gI.appendChild(F.cW);cW={};cW=F.cW;}cW.style.fontSize=V.dg*this.Gc/72+'px';cW.style.fontFamily=V.fP;cW.width-=4;Ku=(V.fF/2);if(ie){switch(ie){case IPCC.Web.UI.HorizontalAlignment.Center:Ku=(R.width/2)-(V.fF/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Ku=R.width-V.fF;break;}}for(var K=0;K<Fj.length;K++){zL='';agm=1;if(Fj[K].length>0){EY=Fj[K].split('');ji=this.dB('tspan');ji.setAttributeNS(null,"x",Ku);if(K>0){ji.setAttributeNS(null,"dy",afK*(ZV+1));}mI=window.document.createTextNode(EY[0]);ji.appendChild(mI);cW.appendChild(ji);for(var bJ=1;bJ<EY.length;bJ++){agn=ji.firstChild.data.length;BM=EY[bJ];ji.firstChild.data+=EY[bJ];zL+=BM;aaj=zL.length*(V.dg*adh);Ys=ji.getComputedTextLength();if(Ys===0){YN=aaj;}else{YN=Ys;}if(YN>=(R.width-V.fF-2)){agm++;zL='';CG=ji.firstChild.data.match(aEz);if(CG){BM=CG[2];}if(CG&&CG[1].length>0){ji.firstChild.data=CG[1];zL+=BM;}else{ji.firstChild.data=ji.firstChild.data.slice(0,agn);zL+=BM;}if(zL.length>=1){wE.push({aX:wg,abT:ji});ji=this.dB('tspan');ji.setAttributeNS(null,"x",Ku);ji.setAttributeNS(null,"dy",afK);mI=window.document.createTextNode(BM);ji.appendChild(mI);cW.appendChild(ji);}}}if(ji.firstChild.data.length>0){wE.push({aX:wg,abT:ji});}wg+=ji.firstChild.data.length+1;ZV=0;}else{ZV++;}}return wE;},atM:function(kT,act,iT,wg){if(kT.length>0){var alf=act.getNumberOfChars();if(kT[0].aX>wg+alf){return;}for(var K=Math.max(kT[0].aX-wg,0);K<alf;K++){var R=act.getExtentOfChar(K);var au=this.dB('rect');this.cT(au,{x:R.x,y:R.y,width:R.width,height:R.height,fill:kT[0].Bc});iT.appendChild(au);if(kT[0].dM===K+wg){kT.shift();if(kT.length===0){return;}K=kT[0].aX-wg-1;}}}},BS:function(dG,sZ,tO){var hv='M',K;for(K=0;K<sZ.length;K++){if(K>0){hv+=' L';}hv+=sZ[K].x+','+sZ[K].y;}if(tO){hv+='Z';}this.cT(dG,{d:hv});},Uv:function(dG,sZ,tO){var Pz='',K;for(K=0;K<sZ.length;K++){if(K>0){Pz+=' ';}Pz+=sZ[K].x+','+sZ[K].y;}if(tO&&sZ.length>2){Pz+=' '+sZ[0].x+','+sZ[0].y;}this.cT(dG,{points:Pz});},aid:function(hg,ky,Ao,sS,zf,SN,Gx){var dw=this.awN(hg,ky,Ao,sS,zf);var fB='';fB+='stroke:'+SN+';';switch(zf){case IPCC.Web.UI.LineHeadType.None:fB='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.BS(Gx,[dw.EJ,hg,dw.DZ],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.BS(Gx,[dw.EJ,hg,dw.DZ],true);fB+='fill:'+SN+';';break;case IPCC.Web.UI.LineHeadType.Open:this.BS(Gx,[dw.EJ,hg,dw.DZ],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.BS(Gx,[dw.EJ,hg,dw.DZ,dw.FQ],true);fB+='fill:'+SN+';';break;}this.cT(Gx,{style:fB});return dw;},aoB:function(F){var V=F.V;var bL,hE,K,aea,anc,iv='',DO;bL=V.get_points();hE=[];for(K=0;K<bL.get_length();K++){hE.push(bL.getPoint(K));}if(hE.length<2||V.tO){this.cT(F.Zr,{style:'display:none;'});this.cT(F.Yg,{style:'display:none;'});}else{V.ze=V.kR;DO=this.akF(hE,true);aea=this.aid(DO.hg,DO.ky,V.FK,V.Gi,V.FY,V.ze,F.Zr);DO=this.akF(hE,false);anc=this.aid(DO.hg,DO.ky,V.GI,V.ET,V.oh,V.ze,F.Yg);hE[0]=aea.FQ;hE[hE.length-1]=anc.FQ;}this.Uv(F.so,hE,V.tO);var ys=this.YK(V.iv);if(ys!==''){iv+='stroke-dasharray:'+ys+';';}this.cT(F.so,{style:iv});},ahZ:function(F){var Cf=this.awg(F);this.Uv(F.Km,Cf.agk,false);var ahB='',iv='fill:none;',rK='fill:none;';if(Cf.Xj){ahB='stroke:none;';}if(Cf.abN){this.BS(F.so,Cf.abN,false);}else{iv+='display:none;';}if(Cf.MZ){this.BS(F.Yl,Cf.MZ,false);}else{rK+='display:none;';}var V=F.V;if(V.zK){rK+='stroke:'+V.Di+';stroke-width:'+V.DA+';';var ys=this.YK(V.rK);if(ys!==''){rK+='stroke-dasharray:'+ys+';';}}this.cT(F.so,{style:iv});this.cT(F.Yl,{style:rK});this.cT(F.Km,{style:ahB});},UC:function(F){var V=F.V,Dm;if(!V){return;}var R=V.fl();var Co=V.dg*this.Gc/72;V.Co=Co;var qB=R.width,oK=R.height,Fx=false,eW;var gk,fN=0,fJ=0;var uF=1;if(V.jd){uF+=V.fF/2;}switch(V.Ai){case IPCC.Web.UI.Orientation.TopLeft:gk='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gk='-1,0,0,1';fN=qB-uF;break;case IPCC.Web.UI.Orientation.BottomRight:gk='-1,0,0,-1';fN=qB-uF;fJ=oK-uF;break;case IPCC.Web.UI.Orientation.BottomLeft:gk='1,0,0,-1';fJ=oK-uF;break;case IPCC.Web.UI.Orientation.LeftTop:gk='0,1,1,0';Fx=true;break;case IPCC.Web.UI.Orientation.RightTop:gk='0,1,-1,0';fN=qB-uF;Fx=true;break;case IPCC.Web.UI.Orientation.RightBottom:gk='0,-1,-1,0';fN=qB-uF;fJ=oK-uF;Fx=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gk='0,-1,1,0';fJ=oK-uF;Fx=true;break;}if(V.eI==="#c0c0c0"){V.eI='#ffffff';}if(V.get_type()===IPCC.Web.UI.MarkType.Text){if(V.iE()===true){V.eI='#ffffff';}else{V.set_opacity(V.de);}}if(Fx){eW=qB;qB=oK;oK=eW;}if(qB<0){qB=0;}if(oK<0){oK=0;}var Tz='normal';var dm='normal';var lU='';var ru;lU+='word-wrap:break-word;background-color:transparent;line-height:1;';var AF=0;if(V.rf.length===7&&V.rf.charAt(0)==='#'){AF=parseInt(V.rf.slice(1),16);}var de=Math.min(1,Math.max(0,V.AI/255));if(document.documentMode>8||IPCC.G.ud.zi){dm='normal';if(V.dm&IPCC.Web.UI.FontStyle.Italic){dm='italic';}Tz='normal';if(V.dm&IPCC.Web.UI.FontStyle.Bold){Tz='bold';}ru='none';if((V.dm&IPCC.Web.UI.FontStyle.Underline)&&(V.dm&IPCC.Web.UI.FontStyle.Strikeout)){ru='underline line-through';}else if(V.dm&IPCC.Web.UI.FontStyle.Underline){ru='underline';}else if(V.dm&IPCC.Web.UI.FontStyle.Strikeout){ru='line-through';}}else{lU+='color:rgba('+(AF>>16)+','+((AF>>8)&255)+','+(AF&255)+','+de+');';lU+='font-family:'+V.fP+';';lU+='font-size:'+Co+'px;';if(V.dm&IPCC.Web.UI.FontStyle.Italic){lU+='font-style:italic;';}if(V.dm&IPCC.Web.UI.FontStyle.Bold){lU+='font-weight:bold;';}if((V.dm&IPCC.Web.UI.FontStyle.Underline)&&(V.dm&IPCC.Web.UI.FontStyle.Strikeout)){lU+='text-decoration:underline line-through;';}else if(V.dm&IPCC.Web.UI.FontStyle.Underline){lU+='text-decoration:underline;';}else if(V.dm&IPCC.Web.UI.FontStyle.Strikeout){lU+='text-decoration:line-through;';}}var Cn={x:2,anchor:'start'};switch(V.ie){case IPCC.Web.UI.HorizontalAlignment.Left:lU+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:lU+='text-align:center;';Cn.x=(R.width/2)-3;Cn.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:lU+='text-align:right;';Cn.x=R.width-8;Cn.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.G.ud.zi){switch(V.wy){case IPCC.Web.UI.VerticalAlignment.Center:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cT(F.MT,{style:'display:table; width: 100%;'});lU+='display: table-cell; white-space: normal; vertical-align: middle; height:'+oK+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cT(F.mA,{style:lU+'padding:2px;'});this.cT(F.gI,{transform:'matrix('+gk+','+(fN+R.x+(V.fF/2))+','+(fJ+R.y+(V.fF/2))+')',});this.cT(F.Gq,{x:0,y:0,width:qB>V.fF?qB-V.fF:qB,height:oK>V.fF?oK-V.fF:oK,});this.aoh(F);}else{var wE=this.avO(F,V.ie);var alz=wE.length;switch(V.wy){case IPCC.Web.UI.VerticalAlignment.Center:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Dm=(R.height/2)+(V.dg/4);if(alz>1){Dm-=(alz-1)*(V.dg/2);}if(Dm<0){Dm=V.dg;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cT(F.Cd,{x:0,y:0,width:R.width-V.fF,height:R.height-V.fF});var awV="url(#"+F.IR+")";var aat={x:Cn.x,y:(this.Gc/72)*V.dg,width:R.width-V.fF,height:R.height-V.fF,'font-family':V.fP,'font-size':Co,fill:'rgba('+(AF>>16)+', '+((AF>>8)&255)+', '+(AF&255)+', '+de+')','font-weight':Tz,'font-style':dm,'text-decoration':ru,'text-anchor':Cn.anchor};if(typeof Dm!=='undefined'){delete aat.y;aat.dy=Dm;}this.cT(F.cW,aat);F.cW.style.opacity=de;this.cT(F.gI,{transform:'matrix('+gk+','+(fN+R.x+(V.fF/2))+','+(fJ+R.y+(V.fF/2))+')','clip-path':awV});var iT=F.afp;while(iT&&iT.firstChild){iT.removeChild(iT.firstChild);}if(V.fb){var kT=this.amY(V.fb);for(var K=0;K<wE.length;K++){this.atM(kT,wE[K].abT,iT,wE[K].aX);}}}},Wq:function(F){var V=F.V;if(V.aC===null||V.aC===undefined){return;}if(V.aC.length===0&&V.cU>0&&this.L.dj().mw()){V.aC=IPCC.G.VU(this.L.dj().hJ(),V.aX,V.aX+V.cU-1);}if(!F.aX|| !F.cU||F.aX!==V.aX||F.cU!==V.cU||V.ca===false||V.ca===true){while(F.lp.firstChild){F.lp.removeChild(F.lp.firstChild);}if(F.jY){while(F.jY.firstChild){F.jY.removeChild(F.jY.firstChild);}}if(F.wW){while(F.wW.firstChild){F.wW.removeChild(F.wW.firstChild);}}if(V.ca===false){return;}IPCC.G.forEach(F.V.aC,function(ho){var WM=this.dB('rect');F.lp.appendChild(WM);this.cT(WM,{x:ho.x,y:ho.y,width:ho.width,height:ho.height});if(F.jY){var tY=this.dB('line');this.cT(tY,{x1:ho.x,y1:ho.y+ho.height-1,x2:ho.x+ho.width,y2:ho.y+ho.height-1,"stroke-width":2});F.jY.appendChild(tY);}if(F.wW){WM.setAttribute('fill','transparent');var agR=this.dB('line');var strikethroughY=ho.y+(ho.height/2);this.cT(agR,{x1:ho.x,y1:strikethroughY,x2:ho.x+ho.width,y2:strikethroughY,stroke:F.V.kR,"stroke-width":F.V.fF});F.wW.appendChild(agR);}},this);F.aX=V.aX;F.cU=V.cU;}},ajg:function(F){var V=F.V;if(!V){return;}var ab=F.ab;var R,fB='',bL,jd=true,mX,vz,vP,SY,vg,CC;var kN=false;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kN=true;this.aoB(F);break;case IPCC.Web.UI.MarkType.Rectangle:R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Wq(F);F.lp.style.fill=V.eI;F.lp.style.opacity=(V.de/255);this.QR(F);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Wq(F);F.lp.style.fill=V.eI;F.jY.style.stroke=V.eI;if(F.V.get_selected()){F.jY.style.opacity=IPCC.cY.dc.Go(false,F.V.get_selected());}else{F.jY.style.opacity=IPCC.cY.dc.Go(false,F.V.get_selected());}this.QR(F);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=V.get_rectangle();this.cT(F.R,{x:R.x,y:R.y,width:R.width,height:R.height});if(F.tY){this.cT(F.tY,{x1:R.x,y1:R.y+R.height,x2:R.x+R.width,y2:R.y+R.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof F.eb!=='undefined'){if(this.L.mO()===true){F.eb.style.opacity=0.5;if(typeof F.mA!=='undefined'){F.mA.style.opacity=0;}else{F.cW.style.opacity=0;}}else{F.eb.style.opacity=1;if(typeof F.mA!=='undefined'){F.mA.style.opacity=1;}}}R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});this.cT(F.eb,{x:R.x,y:R.y,width:R.width,height:R.height});if(this.L.mO()===false){this.UC(F);}break;case IPCC.Web.UI.MarkType.Ellipse:R=V.get_rectangle();this.cT(ab,{cx:R.x+R.width/2,cy:R.y+R.height/2,rx:R.width/2,ry:R.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bL=this.Zy(V);this.Uv(ab,bL,false);fB+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.ahZ(F);this.UC(F);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var dk=IPCC.G.akO();var pB=IPCC.G.alq();pB.nodeValue=V.get_text();var iL=V.iL;var an=this.L.mz().jq();R=V.get_rectangle();dk.style.width=(R.width-V.fF/2)+'px';dk.style.height=(R.height-V.fF/2)+'px';dk.style.fontFamily=V.fP;dk.style.padding='2px';dk.style.fontStyle=V.dm;V.dg=IPCC.G.WT(dk,iL,an)*72/this.Gc;this.ahZ(F);this.UC(F);break;case IPCC.Web.UI.MarkType.Stamp:R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});this.cT(F.tq,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.tq.style.opacity=1;this.cT(F.eb,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':V.eI,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}mX=F.V.get_text();if(!mX){mX='APPROVED';}F.cW.childNodes[0].data=mX;var sU=mX.length*textFontSize;if(sU>R.width){textFontSize=((R.width/mX.length));}CC=Math.round(textFontSize);V.stampSize=CC.toString();this.cT(F.cW,{x:R.x+(R.width/2),y:R.y+(R.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':V.eI,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});this.cT(F.tq,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.tq.style.opacity=1;this.cT(F.eb,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':V.eI,'stroke-width':'0','fill':'none'});F.wU.setAttribute('height',R.height);F.wU.setAttribute('width',R.width);F.wU.setAttribute('x',R.x);F.wU.setAttribute('y',R.y);F.wU.setAttributeNS('http://www.w3.org/1999/xlink','href',V.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.QR(F);break;case IPCC.Web.UI.MarkType.Highlight:R=V.get_rectangle();if(R.x===0&&R.y===0){var hI=this.L.dj().hJ();if(hI.eQ()>0){var eB=hI.ld(V.aX);R=eB.aB;}V.kW='y';}this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});var Oi=F.aAy;if(V.alY===true){V.alY=false;Oi.setAttribute("d",V.get_pathString());var JO=V.get_pathWidth();var JE=V.get_pathHeight();ab.setAttribute('viewBox','0 0 '+JO+' '+JE);F.adG.setAttribute('width',JO);F.adG.setAttribute('height',JE);}if(V.get_visible()){F.ab.style.display='block';}else{F.ab.style.display='none';}this.amK(F.ab,V.ie);Oi.style.stroke=V.get_lineColor();Oi.style.strokeWidth=V.get_lineWidth()+'px';Oi.style.opacity=V.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});this.cT(F.eb,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});F.eb.style.opacity=1;var aor=F.V.get_text()||"";F.cW.childNodes[0].data=aor;vz=12*R.width/(V.za||1);vP=12*R.height/(V.BE||1);vg=Math.min(vz,vP);var asc=Math.floor(vg);V.stampSize=asc.toString();switch(V.ie){case IPCC.Web.UI.HorizontalAlignment.Left:F.cW.setAttribute('text-anchor','start');F.cW.setAttribute('x',R.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cW.setAttribute('text-anchor','end');F.cW.setAttribute("x",R.x+R.width);break;default:F.cW.setAttribute('text-anchor','middle');F.cW.setAttribute("x",R.x+(R.width/2));break;}this.cT(F.cW,{y:R.y+(R.height/2+(vg/3)),'font-size':vg,'stroke':"none",'fill':V.get_fillColor(),'font-family':V.get_fontName()});if(V.get_visible()){F.ab.style.display='block';}else{F.ab.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cT(ab,{style:'fill:none;opacity:1;'+V.ca?'display:block;':'display:none;'});R=V.get_rectangle();this.cT(ab,{x:R.x,y:R.y,width:R.width,height:R.height});fB='stroke:'+(V.jd?'black':'none')+';stroke-width:1;';this.cT(F.eb,{x:R.x,y:R.y,width:R.width,height:R.height,'stroke':V.jd?'black':'none','fill':'rgba(255, 255, 255, 0)','style':fB});F.cW.style.opacity=1;mX=F.V.get_text()||"";F.cW.childNodes[0].data=mX;SY=IPCC.G.ahv(mX,V.get_fontName(),R.width,R.height,{uV:"pre",er:F.ab});vg=SY.fontSize;V.Co=vg;V.stampSize=vg;V.Jn=true;V.ob=SY;switch(V.ie){case IPCC.Web.UI.HorizontalAlignment.Center:F.cW.setAttribute('text-anchor','middle');F.cW.setAttribute("x",R.x+(R.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:F.cW.setAttribute('text-anchor','end');F.cW.setAttribute("x",R.x+R.width);break;default:F.cW.setAttribute('text-anchor','start');F.cW.setAttribute('x',R.x);break;}this.cT(F.cW,{y:R.y+(R.height/2+(vg/3)),'font-size':vg,'stroke':"none",'fill':V.get_textColor(),'font-family':V.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Wq(F);this.QR(F);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',V.get_type());}if(V.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&V.get_type()!==IPCC.Web.UI.MarkType.Freehand&&V.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&V.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&V.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&V.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&V.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&V.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kN){fB+='fill:none;';}else{if(V.JV){fB+='fill:'+V.eI+';';}else{fB+='fill:none;';}jd=V.jd;var ys=this.YK(V.iv);if(ys!==''){fB+='stroke-dasharray:'+ys+';';}}if(jd){fB+='stroke:'+V.get_lineColor()+';';fB+='stroke-width:'+V.fF+';';}else{fB+='stroke:none;';}if(V.get_type()===IPCC.Web.UI.MarkType.SignatureText){fB+='opacity:'+1+';';}else{fB+='opacity:'+(V.de/255)+';';}if(!V.ca){fB+='display:none;';if(F.gI){F.gI.style.display='none';}}else{if(F.gI){F.gI.style.display='block';}}this.cT(ab,{style:fB});}if(V.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!V.ca){fB+='display:none;';}else{fB+='display:block;';}this.cT(ab,{style:fB});}var aU;if(!this.L.get_areMarksEditable()){aU=this.L.get_cursor();}else if(V.lM===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&V.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&V.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aU='default';}else if(V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aU=IPCC.bK.Link;}else if(V.get_type()!==IPCC.Web.UI.MarkType.Highlight&&V.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&V.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&V.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be)){aU=IPCC.bK.Move;}else{aU=IPCC.bK.Arrow;}ab.style.cursor=IPCC.bK.dX(aU);if(F.gI){F.gI.style.cursor=IPCC.bK.dX(aU);}},amK:function(ab,Jx){switch(Jx){case IPCC.Web.UI.HorizontalAlignment.Left:ab.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:ab.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:ab.setAttribute('preserveAspectRatio','xMaxYMid');break;}},QR:function(F){var V=F.V,aDt=V.get_visible();var R=V.get_rectangle();if(R.x===0&&R.y===0){return;}var iT=F.iT;while(iT.firstChild){iT.removeChild(iT.firstChild);}var hO;for(var K=0;K<V.fb.length;K++){for(var bJ=0;bJ<V.fb[K].length;bJ++){var amR=this.L.dj().hJ();if(amR.eQ()>0){var avC=amR.ld(V.fb[K].startIndex+bJ);hO=avC.aB;}var au=this.dB('rect');this.cT(au,{x:hO.x,y:hO.y,width:hO.width,height:hO.height,fill:V.fb[K].color,display:(aDt)?'block':'none'});au.style.opacity=(V.fb[K].opacity)?(V.fb[K].opacity)/255.0:0.5;iT.appendChild(au);}}},YK:function(iv){switch(iv){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},NU:function(F){if(F.ab){this.aN.Cy.removeChild(F.ab);}if(F.gI){this.aN.Cy.removeChild(F.gI);}delete F.ab;},aIb:function(){},axo:function(){this.aN=undefined;},dB:function(al){return document.createElementNS('http://www.w3.org/2000/svg',al);},cT:function(ab,bj){var K;for(K in bj){if(bj.hasOwnProperty(K)){var attr=bj[K];ab.setAttribute(K,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=amS;},{}],18:[function(require,module,exports){var Rq=require('./ArtSVGUIDirector');var dc=Rq;dc.Go=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dc.ajr=function(){return 39/255;};dc.aHk=function(isSelected){return isSelected?"purple":"blue";};dc.prototype.awN=function(hg,ky,Ao,sS,zf){var dw={hg:hg,ky:ky,Ao:Ao,sS:sS,zf:zf};if(hg.x===ky.x&&hg.y===ky.y){dw.zf=IPCC.Web.UI.LineHeadType.None;}var Ok=Math.atan2(hg.x-ky.x,-(hg.y-ky.y))+Math.PI/2;Ao*=Math.PI/180;var iF=Ok+Ao;dw.EJ={x:hg.x+Math.cos(iF)*sS,y:hg.y+Math.sin(iF)*sS};iF=Ok-Ao;dw.DZ={x:hg.x+Math.cos(iF)*sS,y:hg.y+Math.sin(iF)*sS};switch(dw.zf){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dw.FQ={x:(dw.EJ.x+dw.DZ.x)/2,y:(dw.EJ.y+dw.DZ.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dw.FQ={x:hg.x+Math.cos(Ok)*sS/2,y:hg.y+Math.sin(Ok)*sS/2};break;default:dw.FQ=hg;break;}return dw;};dc.prototype.awg=function(F){var V=F.V;var R=V.get_rectangle();var HC={x:V.lO.x+R.x+0.00001,y:V.lO.y+R.y+0.00001};var av={};var ha=[{x:R.x,y:R.y},{x:R.x+R.width,y:R.y},{x:R.x+R.width,y:R.y+R.height},{x:R.x,y:R.y+R.height}];if(!V.xA){av.agk=ha;av.Xj= !V.jd;return av;}var K,abL=[];for(K=0;K<4;K++){abL.push({x:(ha[K].x+ha[(K+3)%4].x)/2,y:(ha[K].y+ha[(K+3)%4].y)/2,aBa:true});}for(K=3;K>=0;K--){ha.splice(K,0,abL[K]);}function acf(OG){var vJ,aiQ;vJ=(HC.x-(ha[OG].x+ha[(OG+1)%8].x)/2)*R.height;aiQ=vJ*vJ;vJ=(HC.y-(ha[OG].y+ha[(OG+1)%8].y)/2)*R.width;return aiQ+vJ*vJ;};var Ty=0,anf=acf(0),gj;for(K=1;K<8;K++){gj=acf(K);if(gj<anf){anf=gj;Ty=K;}}ha=ha.slice(Ty+1).concat(ha.slice(0,Ty+1));var Dy=ha[0],CV=ha[7];for(K=ha.length-1;K>=0;K--){if(ha[K].aBa){ha.splice(K,1);}}switch(V.Dc){case IPCC.Web.UI.CalloutType.Triangle:ha.splice(0,0,{x:(Dy.x*3+CV.x)/4,y:(Dy.y*3+CV.y)/4});ha.push({x:(Dy.x+CV.x*3)/4,y:(Dy.y+CV.y*3)/4});if(V.zK){av.Xj=true;av.abN=[].concat(ha);av.MZ=[ha[0],HC,ha[ha.length-1]];}ha.push(HC);break;default:case IPCC.Web.UI.CalloutType.Line:av.MZ=[{x:(Dy.x+CV.x)/2,y:(Dy.y+CV.y)/2},HC];break;}av.agk=ha;if(!V.jd){av.Xj=true;delete av.abN;delete av.MZ;}return av;};dc.prototype.Zy=function(V){var bL=V.get_points();var hE=[],K;for(K=0;K<bL.get_length();K++){hE.push(bL.getPoint(K));}return hE;};dc.prototype.akF=function(hE,auP){var aA=0,QD=1,adV=hE.length-2,hg,ky;if(!auP){aA=hE.length-1;QD= -1;}hg=hE[aA];aA+=QD;ky=hE[aA];aA+=QD;while(hg.x===ky.x&&hg.y===ky.y&&adV>0){ky=hE[aA];aA+=QD;adV--;}return{hg:hg,ky:ky};};dc.prototype.ajB=function(L,aN,bQ,lj){if(IPCC.G.YJ){return;}if(!aN.nu){aN.nu=[];}var nu=aN.nu;if(bQ.length<1&&nu.length<1){if(aN.yX.firstChild){aN.yX.innerHTML='';}return;}var bf=L.en();var eV=bf.zk();if(this.gy===undefined){this.gy=40;var zY=document.createElement("div");zY.className='pccMarkHandleTopLeft';zY.visibility='hidden';document.body.appendChild(zY);if(zY.currentStyle){this.gy=parseInt(zY.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var auI=document.defaultView.getComputedStyle(zY);this.gy=parseInt(auI.width,10)||0;}document.body.removeChild(zY);}var K,HE=[];for(K=0;K<bQ.length;K++){if(bQ[K].get_visible()===true){if(eV.GH(bQ[K])>=0||(bQ[K].get_selected()===true&&(bQ[K].kI===true||bQ[K].kX===true))||bQ[K].xn===true){HE.push(bQ[K]);}}}for(K=0;K<nu.length;K++){while(K<nu.length&&(K>=HE.length||nu[K].V!==HE[K])){aN.yX.removeChild(nu[K].gn);nu.splice(K,1);}if(K<nu.length){this.ahM(nu[K],lj);}}for(K=nu.length;K<HE.length;K++){nu[K]={V:HE[K]};this.aws(aN.yX,nu[K]);this.ahM(nu[K],lj);}};dc.prototype.vn=function(gn,awd,DW,vh,ary,aU,cI){var ck=[],K,dr;if(cI===undefined){cI='handle';}for(K=0;K<awd;K++){dr={ab:document.createElement('div')};dr.ab.ImGearMarkHandle=dr;dr.aU=aU;dr.al=vh;dr.aA=ary+K;gn.appendChild(dr.ab);dr.ab.setAttribute('data-pcc-mark',cI+'-'+gn.ImGearMarkRelation.V.ke());ck.push(dr);}return ck;};dc.prototype.apl=function(bM){if(bM.ck===undefined||this.L.get_areMarksEditable()===false){return;}var K;for(K=0;K<bM.ck.length;K++){var dr=bM.ck[K];dr.ab.style.cursor=IPCC.bK.dX(dr.aU);}};dc.prototype.aws=function(yX,bM){bM.gn=document.createElement('div');bM.gn.style.width='0px';bM.gn.style.height='0px';bM.gn.style.left='0px';bM.gn.style.top='0px';bM.gn.style.zIndex='1';var K,V=bM.V,dr;bM.gn.ImGearMarkRelation=bM;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bM.ck=this.vn(bM.gn,2,this.gy,this.HY,0,IPCC.bK.Move);bM.ck=bM.ck.concat(this.vn(bM.gn,2,this.gy,this.FJ,0,IPCC.bK.Move));break;case IPCC.Web.UI.MarkType.Polygon:bM.ck=[];break;case IPCC.Web.UI.MarkType.Freehand:bM.ck=[];bM.iY=document.createElement('div');bM.iY.style.border='1px solid gray';bM.iY.style.position='absolute';bM.gn.appendChild(bM.iY);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be!==undefined){break;}bM.iY=document.createElement('div');bM.iY.style.border='1px solid gray';bM.iY.style.position='absolute';bM.gn.appendChild(bM.iY);bM.ck=this.vn(bM.gn,4,this.gy,this.abJ,0,-1);bM.ck=bM.ck.concat(this.vn(bM.gn,4,this.gy,this.abr,0,-1));for(K=4;K<8;K++){dr=bM.ck[K];dr.avm=bM.ck[K-4];dr.avK=bM.ck[(K+1)%4];}if(V.get_type()===IPCC.Web.UI.MarkType.Text){bM.ck=bM.ck.concat(this.vn(bM.gn,1,this.gy,this.XQ,0,IPCC.bK.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bM.ck=this.vn(bM.gn,1,this.gy,this.HY,0,IPCC.bK.Move,'texthandlestart');bM.ck=bM.ck.concat(this.vn(bM.gn,1,this.gy,this.HY,1,IPCC.bK.Move,'texthandleend'));break;}if(V.hU()===IPCC.Web.UI.MarkType.Text||V.hU()===IPCC.Web.UI.MarkType.TextLine||V.hU()===IPCC.Web.UI.MarkType.TextAreaSignature){var pm=document.createElement('div');pm.className='pccEditMarkButton';pm.setAttribute('data-pcc-mark','edit-'+V.ke());pm.onclick=function(as){as=as||{};as.stopPropagation?as.stopPropagation():as.cancelBubble=true;as.preventDefault?as.preventDefault():as.returnValue=false;var qa;var vV=bM.gn;while(vV&&(vV.parentNode||vV.ownerSVGElement)){if(vV.parentNode.id&&vV.parentNode.id.indexOf("__pViewId")!== -1){qa=vV.parentNode;}vV=vV.ownerSVGElement||vV.parentNode;}qa&&qa.aV.aze(as,V);};bM.gn.appendChild(pm);var avn={ab:pm};bM.ck.push(avn);}yX.appendChild(bM.gn);};dc.lh={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dc.prototype.abJ=0;dc.prototype.abr=1;dc.prototype.FJ=2;dc.prototype.HY=3;dc.prototype.XQ=4;dc.prototype.abk=function(dr,auy){switch(auy){case IPCC.cY.dc.lh.TopLeft:dr.ab.className='pccMarkHandleTopLeft';break;case IPCC.cY.dc.lh.TopCenter:dr.ab.className='pccMarkHandleTopCenter';break;case IPCC.cY.dc.lh.TopRight:dr.ab.className='pccMarkHandleTopRight';break;case IPCC.cY.dc.lh.MidLeft:dr.ab.className='pccMarkHandleMidLeft';break;case IPCC.cY.dc.lh.MidRight:dr.ab.className='pccMarkHandleMidRight';break;case IPCC.cY.dc.lh.BottomLeft:dr.ab.className='pccMarkHandleBottomLeft';break;case IPCC.cY.dc.lh.BottomCenter:dr.ab.className='pccMarkHandleBottomCenter';break;case IPCC.cY.dc.lh.BottomRight:dr.ab.className='pccMarkHandleBottomRight';break;case IPCC.cY.dc.lh.Point:dr.ab.className='pccMarkHandlePoint';break;case IPCC.cY.dc.lh.TextSelectionStart:dr.ab.className='pccMarkHandleTextSelectionStart';break;case IPCC.cY.dc.lh.TextSelectionEnd:dr.ab.className='pccMarkHandleTextSelectionEnd';break;default:dr.ab.className='pccMarkHandlePoint';break;}};dc.prototype.Ax=function(dr,aAM,lj,DW,nr){dr.bw=lj.transform(aAM);dr.ab.style.left=(dr.bw.x-DW/2)+'px';dr.ab.style.top=(dr.bw.y-DW/2)+'px';dr.ab.style.display='block';dr.ab.style.zIndex='1';this.abk(dr,nr);};dc.prototype.ajV=function(dr,DW,nr){dr.ab.style.left=(dr.bw.x-DW/2)+'px';dr.ab.style.top=(dr.bw.y-DW/2)+'px';dr.ab.style.display='block';dr.ab.style.zIndex='1';this.abk(dr,nr);};dc.prototype.sF=function(dr){dr.ab.style.display='none';};dc.prototype.ahM=function(bM,lj){if(this.L.get_areMarksEditable()===true){bM.gn.style.cursor='move';}var K,V=bM.V,ck=bM.ck,dr;var hE,R,pZ,mL,vh,dY;var gj,Ey,fN,fJ,NC;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:hE=this.Zy(V);Ey=hE.length+2-ck.length;if(Ey>0){bM.ck=bM.ck.concat(this.vn(bM.gn,Ey,this.gy,this.FJ,ck.length-2,IPCC.bK.Move));ck=bM.ck;}for(K=0;K<hE.length;K++){this.Ax(ck[K+2],hE[K],lj,this.gy,IPCC.cY.dc.lh.Point);}for(K=hE.length+2;K<ck.length;K++){this.sF(ck[K+2]);}break;case IPCC.Web.UI.MarkType.Polygon:hE=this.Zy(V);Ey=hE.length-ck.length;if(Ey>0){bM.ck=bM.ck.concat(this.vn(bM.gn,Ey,this.gy,this.FJ,ck.length,IPCC.bK.Move));ck=bM.ck;}for(K=0;K<hE.length;K++){this.Ax(ck[K],hE[K],lj,this.gy,IPCC.cY.dc.lh.Point);}for(K=hE.length;K<ck.length;K++){this.sF(ck[K]);}break;case IPCC.Web.UI.MarkType.Freehand:R=V.fl();pZ=lj.transform({x:R.x,y:R.y});mL=lj.transform({x:R.x+R.width,y:R.y+R.height});dY={x:Math.min(pZ.x,mL.x),y:Math.min(pZ.y,mL.y)};dY.width=Math.max(pZ.x,mL.x)-dY.x;dY.height=Math.max(pZ.y,mL.y)-dY.y;bM.iY.style.left=dY.x+'px';bM.iY.style.top=dY.y+'px';bM.iY.style.width=dY.width+'px';bM.iY.style.height=dY.height+'px';bM.iY.setAttribute('data-pcc-mark','outline-'+V.ke());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be!==undefined){break;}R=V.fl();ck[0].bw=lj.transform({x:R.x,y:R.y});ck[1].bw=lj.transform({x:R.x+R.width,y:R.y});ck[2].bw=lj.transform({x:R.x+R.width,y:R.y+R.height});ck[3].bw=lj.transform({x:R.x,y:R.y+R.height});dY={x:Math.min(ck[0].bw.x,ck[2].bw.x),y:Math.min(ck[0].bw.y,ck[2].bw.y)};dY.width=Math.max(ck[0].bw.x,ck[2].bw.x)-dY.x;dY.height=Math.max(ck[0].bw.y,ck[2].bw.y)-dY.y;NC={x:dY.x+dY.width/2,y:dY.y+dY.height/2};for(K=0;K<4;K++){dr=ck[K];vh=(dr.bw.x<NC.x)?((dr.bw.y<NC.y)?0:2):((dr.bw.y<NC.y)?1:3);this.ajV(dr,this.gy,vh);switch(vh){case 0:dr.aU=IPCC.bK.ResizeNW;break;case 1:dr.aU=IPCC.bK.ResizeNE;break;case 2:dr.aU=IPCC.bK.ResizeSW;break;case 3:dr.aU=IPCC.bK.ResizeSE;break;}}bM.iY.style.left=dY.x+'px';bM.iY.style.top=dY.y+'px';bM.iY.style.width=dY.width+'px';bM.iY.style.height=dY.height+'px';bM.iY.setAttribute('data-pcc-mark','outline-'+V.ke());var aFO=dY.x+dY.width/4;var anL=dY.x+dY.width*3/4;var aGc=dY.y+dY.height/4;var aoN=dY.y+dY.height*3/4;if(this.aS.zV()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){pZ=ck[0].bw;mL=ck[1].bw;var azZ=ck[2].bw;fN=pZ.x-mL.x;fJ=mL.y-azZ.y;var arA=fN*fN;var asz=fJ*fJ;if(Math.min(arA,asz)<this.gy*this.gy*5){this.sF(ck[0]);this.sF(ck[1]);this.sF(ck[2]);this.sF(ck[3]);}}for(K=4;K<8;K++){dr=ck[K];pZ=dr.avm.bw;mL=dr.avK.bw;fN=pZ.x-mL.x;fJ=pZ.y-mL.y;gj=fN*fN+fJ*fJ;if(this.aS.zV()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&gj<this.gy*this.gy*5){this.sF(dr);}else{dr.bw={x:(pZ.x+mL.x)/2,y:(pZ.y+mL.y)/2};this.ajV(dr,this.gy,K);if(dr.bw.x<aFO){dr.aU=IPCC.bK.ResizeW;}else if(dr.bw.x>anL){dr.aU=IPCC.bK.ResizeE;}else if(dr.bw.y<aGc){dr.aU=IPCC.bK.ResizeN;}else if(dr.bw.y>aoN){dr.aU=IPCC.bK.ResizeS;}}}if(V.get_type()===IPCC.Web.UI.MarkType.Text){if(V.xA){this.Ax(ck[8],{x:R.x+V.lO.x,y:R.y+V.lO.y},lj,this.gy,IPCC.cY.dc.lh.Callout);}else{this.sF(ck[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bM.gn.style.cursor='move';var eB,hO,Az;var Jk=this.L.dj();var hI=Jk.hJ();if(V.kI===true){Az=V.aX;if(Az>=hI.eQ()){eB=hI.ld(hI.eQ()-1);hO=eB.uD();this.Ax(ck[0],new IPCC.Web.UI.Point(hO.x+hO.width,hO.y),lj,this.gy,IPCC.cY.dc.lh.TextSelectionStart);break;}eB=hI.ld(V.aX);hO=eB.uD();this.Ax(ck[0],new IPCC.Web.UI.Point(hO.x,hO.y),lj,this.gy,IPCC.cY.dc.lh.TextSelectionStart);}else{this.sF(ck[0]);}if(V.kX===true){Az=V.aX+V.cU-1;if(Az<0){eB=hI.ld(0);hO=eB.uD();this.Ax(ck[1],new IPCC.Web.UI.Point(hO.x,hO.y+hO.height),lj,this.gy,IPCC.cY.dc.lh.TextSelectionEnd);break;}eB=hI.ld(Az);hO=eB.uD();this.Ax(ck[1],new IPCC.Web.UI.Point(hO.x+hO.width,hO.y+hO.height),lj,this.gy,IPCC.cY.dc.lh.TextSelectionEnd);}else{this.sF(ck[1]);}break;}if(V.get_type()===IPCC.Web.UI.MarkType.Text||V.get_type()===IPCC.Web.UI.MarkType.TextLine||V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var wa=ck[ck.length-1];if(wa.ab.className.match(/pcc/)){var Vq=bM.iY.clientHeight;var VE=bM.iY.clientWidth;var alX=bM.iY.offsetTop;var amz=bM.iY.offsetLeft;var agV=wa.ab.clientHeight;var abz=wa.ab.clientWidth;wa.ab.style.position='absolute';wa.ab.style.zIndex='2';if(Vq>agV+10&&VE>abz+10){wa.ab.style.top=(Vq-agV)/2+alX+'px';wa.ab.style.left=(VE-abz)/2+amz+'px';}else{wa.ab.style.top=Vq+alX+10+'px';wa.ab.style.left=(VE-abz)/2+amz+'px';}}}this.apl(bM);};dc.prototype.amY=function(gO,wn){var aBX=IPCC.G.ani(gO,wn||'#ffffff'),aBw=IPCC.G.map(aBX,function(bC){return{aX:bC.startIndex,dM:bC.endIndex,Bc:bC.color};});return aBw;};dc.prototype.aoh=function(F){var V=F.V;if(V.fb){var kT=this.amY(V.fb);var BB=V.aq;var zM='';for(var K=kT.length-1;K>=0;K--){var Yo=kT[K];var aX=Yo.aX;var dM=Yo.dM;var dz=Yo.Bc;var ds=IPCC.G.Ji(BB.substr(aX,dM-aX+1));var aoM=IPCC.G.Ji(BB.substr(dM+1,BB.length-dM+1));BB=BB.substr(0,aX);zM="<span style='background-color:"+dz+";'>"+ds+'</span>'+aoM+zM;}zM=IPCC.G.Ji(BB)+zM;zM=zM.replace(/\n/g,'<br/>');F.mA.innerHTML=zM;}else{F.Aq.data=V.aq;}};module.exports=dc;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var uZ={Ja:function(){var wI=IPCC.uZ;if(wI.uc===null){
/*@cc_on@if(@_jscript)wI.uc=document.documentMode>8;@else@*/ wI.uc=true;/*@end@*/}return wI.uc;},uc:null};module.exports=uZ;},{}],20:[function(require,module,exports){var eU=function(WN,aGl){this.L=false;this.WN=WN;var ma=IPCC.Web.UI;var bN=aGl;if(!bN||bN===null){bN=IPCC.agX;}this.bN=bN;var aoe={aq:bN.zoomInMenuItem,hq:IPCC.fk.aeJ,C:1.25};var aph={aq:bN.zoomOutMenuItem,hq:IPCC.fk.ade,C:1.25};var asy={aq:bN.fullImageMenuItem,C:ma.FitType.FullImage};var asS={aq:bN.fullWidthMenuItem,C:ma.FitType.FullWidth};var arQ={aq:bN.fullHeightMenuItem,C:ma.FitType.FullHeight};var aGt={aq:bN.oneToOneRatioMenuItem,C:ma.FitType.OneToOne};var asE={aq:bN.actualSizeMenuItem,C:ma.FitType.ActualSize};var aAC={aq:bN.rotateRightMenuItem,hq:IPCC.fk.aaK,C:90};var azI={aq:bN.rotateLeftMenuItem,hq:IPCC.fk.aaK,C: -90};var aDD={aq:bN.mirrorHorizontalMenuItem,hq:IPCC.fk.adU};var aCV={aq:bN.mirrorVerticalMenuItem,hq:IPCC.fk.alI};var Va={aq:bN.panToolMenuItem,C:ma.MouseTool.HandPan};var VQ={aq:bN.areaSelectionToolMenuItem,C:ma.MouseTool.Select};var UW={aq:bN.zoomRectangleToolMenuItem,C:ma.MouseTool.RectangleZoom};var Yr={aq:bN.flyingMagnifierToolMenuItem,C:ma.MouseTool.Magnifier};var avT={aq:bN.createTextMarkToolMenuItem,C:ma.MouseTool.CreateTextMark};var awG={aq:bN.createLineMarkToolMenuItem,C:ma.MouseTool.CreateLineMark};var awy={aq:bN.createRectangleMarkToolMenuItem,C:ma.MouseTool.CreateRectangleMark};var awi={aq:bN.createEllipseMarkToolMenuItem,C:ma.MouseTool.CreateEllipseMark};var aym={aq:bN.editMarksToolMenuItem,C:ma.MouseTool.EditMarks};var awa={aq:bN.createStampMarkToolMenuItem,C:ma.MouseTool.CreateStampMark};var avS={aq:bN.createHighlightMarkToolMenuItem,C:ma.MouseTool.CreateHighlightTextMark};var acO={bz:55,dP:[{aq:bN.thicknessMenu.item1,C:1},{aq:bN.thicknessMenu.item2,C:2},{aq:bN.thicknessMenu.item3,C:3},{aq:bN.thicknessMenu.item4,C:4},{aq:bN.thicknessMenu.item5,C:5},{aq:bN.thicknessMenu.item6,C:6},{aq:bN.thicknessMenu.item7,C:7},{aq:bN.thicknessMenu.item8,C:8}]};var aDz={bz:145,dP:[{aq:bN.opacityMenu.translucent,C:127},{aq:bN.opacityMenu.opaque,C:255}]};var LB={aq:bN.borderThicknessMenuItem,hq:IPCC.fk.Gh,bu:'lineWidth',lN:acO};var Ll={aq:bN.borderColorMenuItem,hq:IPCC.fk.LQ,bu:'lineColor'};var Kz={aq:bN.fillColorMenuItem,hq:IPCC.fk.LQ,bu:'fillColor'};var agf={aq:bN.lineThicknessMenuItem,hq:IPCC.fk.Gh,bu:'lineWidth',lN:acO};var aeZ={aq:bN.lineColorMenuItem,hq:IPCC.fk.LQ,bu:'lineColor'};var atd={aq:bN.fontMenuItem,hq:IPCC.fk.ahh};var Nb={aq:bN.opacityMenuItem,hq:IPCC.fk.Gh,bu:'opacity',lN:aDz};var aGa={aq:bN.moveToBackMenuItem,hq:IPCC.fk.amg};var aFC={aq:bN.moveBackwardMenuItem,hq:IPCC.fk.amM};var aFA={aq:bN.moveForwardMenuItem,hq:IPCC.fk.alH};var aGk={aq:bN.moveToFrontMenuItem,hq:IPCC.fk.amt};var uu={aq:bN.deleteMarkMenuItem,hq:IPCC.fk.amf};var aoG={bz:180,dP:[asy,asS,arQ,aGt,asE]};var apg={aq:bN.zoomToFitMenuItem,hq:IPCC.fk.abb,lN:aoG};var aFp={bz:200,dP:[aAC,azI,aDD,aCV]};var aGw={aq:bN.orientationMenuItem,lN:aFp};var Pm;if(IPCC.cY){if(IPCC.gF===false){Pm={bz:180,dP:[Va,UW,Yr,VQ,null]};}else{Pm={bz:180,dP:[Va,UW,Yr,VQ,null,aym,avT,awG,awy,awi,awa,avS]};}}else{Pm={bz:180,dP:[Va,UW,Yr,VQ]};}var aFz={aq:bN.mouseToolsMenuItem,hq:IPCC.fk.adp,lN:Pm};var aCp={bz:150,dP:[Kz,LB,Ll,null,Nb]};var axV={bz:150,dP:[Kz,LB,Ll,null,null]};var aBq={bz:150,aq:bN.rectangleMarkPropertiesMenuItem,lN:aCp};var axs={bz:150,aq:bN.rectangleMarkPropertiesMenuItem,lN:axV};var anS={bz:150,dP:[atd,Kz,LB,Ll,null,null,null,Nb]};var app={aq:bN.textMarkPropertiesMenuItem,lN:anS};var aAn={bz:150,dP:[Kz,LB,Ll,null,Nb]};var aAF={aq:bN.polygonMarkPropertiesMenuItem,lN:aAn};var aAu={bz:140,dP:[agf,aeZ,null,Nb]};var aAo={aq:bN.polylineMarkPropertiesMenuItem,lN:aAu};var aEk={bz:140,dP:[agf,aeZ,null,null]};var aCU={aq:bN.lineMarkPropertiesMenuItem,lN:aEk};var aDR={bz:140,dP:[aGk,aFA,aFC,aGa]};var wT={aq:bN.markOrderingMenuItem,lN:aDR};var apa={bz:150,dP:[Kz]};var anw={aq:bN.stampMarkPropertiesMenuItem,lN:apa};this.aop={bz:180,dP:[aoe,aph,apg,aGw,aFz]};this.apd={bz:140,dP:[app,wT,uu]};this.aBr={bz:140,dP:[aBq,wT,uu]};this.aoR={bz:140,dP:[anw,wT,uu]};this.anU={bz:140,dP:[null,wT,uu]};this.ayT={bz:140,dP:[axs,wT,uu]};this.azz={bz:140,dP:[aAF,wT,uu]};this.aAH={bz:140,dP:[aAo,wT,uu]};this.aDd={bz:140,dP:[aCU,wT,uu]};this.atu={bz:140,dP:[anw,null,uu]};};eU.prototype.mU=function(L){this.L=L;};eU.prototype.fv=function(){this.L=false;};eU.prototype.aJ=function(){};eU.prototype.UK=function(h){var gE;if(h.mark&&this.WN){var Lh=h.mark.iE();switch(h.mark.get_type()){case IPCC.Web.UI.MarkType.Line:gE=this.aDd;break;case IPCC.Web.UI.MarkType.Polyline:gE=this.aAH;break;case IPCC.Web.UI.MarkType.Rectangle:gE=this.aBr;break;case IPCC.Web.UI.MarkType.Ellipse:gE=this.ayT;break;case IPCC.Web.UI.MarkType.Polygon:gE=this.azz;break;case IPCC.Web.UI.MarkType.Text:gE=this.apd;break;case IPCC.Web.UI.MarkType.Stamp:if(Lh===true){gE=this.anU;}else{gE=this.aoR;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(h.mark.kW==='y'){gE=this.atu;}break;}}if(!gE){gE=this.aop;}var tn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var tG=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aaa=new IPCC.Web.UI.Point(h.domEvent.clientX+tn,h.domEvent.clientY+tG);var T=this;function xb(bb){if(sz){var bV=bb.target;if(bV&&bV===null){return;}var Ez,alD;while(bV&&bV!==document.body&&bV.parentNode!==null){if(bV&&bV!==null){if(bV===sz){alD=true;}if(!Ez&&bV.ImGearCommand){Ez=bV.ImGearCommand;}bV=bV.parentNode;}}if(!alD||Ez){IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xb);IPCC.Web.UI.aE.removeHandler(document.body,'mousemove',abF);document.body.removeChild(sz);sz=null;if(Ez){Ez.Vd=h;T.axO(Ez);}}}};function abQ(Kg,AA,Ac,Fn){var ca=false,K,bV;for(K=0;K<AA.length;K++){if(Kg===AA[K]){ca=true;}}if(!ca&&Kg.ImGearType==='menu'){Kg.style.display='none';}else{Kg.style.display='block';}bV=Kg.firstChild;while(bV){if(bV.ImGearType==='menuItemHighlight'){if(bV===Fn){bV.style.display='block';}else{bV.style.display='none';}}if(bV.firstChild){abQ(bV,AA,Ac,Fn);}bV=bV.nextSibling;}};function abF(bb){if(sz){var bV=bb.target;if(bV&&bV===null){return;}var AA=[sz],Ac,Fn;while(bV&&bV!==document.body&&bV.parentNode!==null){if(!Ac&&bV.ImGearType==='menuItem'){Ac=bV;}if(bV.ImGearType==='menu'){AA.push(bV);}bV=bV.parentNode;}if(Ac){bV=Ac.firstChild;while(bV){if(bV.ImGearType==='menuItemHighlight'){Fn=bV;}else if(bV.ImGearType==='menu'){AA.push(bV);}bV=bV.nextSibling;}}abQ(sz,AA,Ac,Fn);}};var aB;if(window.innerWidth){aB={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aB={x:tn,y:tG,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aB={x:tn,y:tG,width:document.body.clientWidth,height:document.body.clientHeight};}var sz=this.aeR(gE,false,false,aaa,aaa,true,aB,document.body,h.mark);abQ(sz,[sz],null,null);document.body.appendChild(sz);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xb);IPCC.Web.UI.aE.addHandler(document.body,'mousemove',abF);};eU.prototype.aeR=function(gE,hq,bu,Ye,abU,DI,aB,aAr,V){var aga=24,abw=1;var K,TG=0;for(K=0;K<gE.dP.length;K++){var aDs=gE.dP[K];if(aDs){TG+=aga;}else{TG+=abw;}}var OU;if(DI){OU=abU.x+gE.bz;if(OU>aB.x+aB.width){DI=false;}}if(!DI){OU=Ye.x-gE.bz;if(OU<aB.x){DI=true;}}var qR={x:abU.x,y:abU.y};if(!DI){qR={x:Ye.x-gE.bz-2,y:Ye.y-2};}var ahf=aB.y+aB.height-TG-8;if(qR.y>ahf){qR.y=ahf;}if(qR.y<aB.y+2){qR.y=aB.y+2;}function hD(qT){var yc=document.createElement('div');var K;for(K in qT){if(qT.hasOwnProperty(K)){yc.style[K]=qT[K];}}return yc;};var MF=hD({zIndex:2,width:gE.bz+'px',left:qR.x+'px',top:qR.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});MF.ImGearType='menu';for(K=0;K<gE.dP.length;K++){var vT=gE.dP[K];var uW;if(vT){uW=hD({position:'relative',height:'24px'});uW.ImGearType='menuItem';var yY=hD({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});uW.appendChild(yY);var ahc=hD({textOverflow:'ellipsis',whiteSpace:'nowrap',width:gE.bz-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});uW.appendChild(ahc);var ags=hD({display:'none',position:'absolute',height:'24px',width:gE.bz+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});ags.ImGearType='menuItemHighlight';uW.appendChild(ags);ahc.appendChild(document.createTextNode(vT.aq));var Mv=vT.hq||hq;var Gb=vT.bu||bu;if(Gb){if(Mv===IPCC.fk.Gh){var arS=V['get_'+Gb]();if(arS===vT.C){if(this.L.ur()){yY.style.backgroundImage='url(\''+this.L.ur()+'/MenuIcons.png'+'\')';}else{yY.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yY.style.backgroundPosition='0px';}}else if(Mv===IPCC.fk.ajq){var arO=V['get_'+Gb]();if(arO){if(this.L.ur()){yY.style.backgroundImage='url(\''+this.L.ur()+'/MenuIcons.png'+'\')';}else{yY.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}yY.style.backgroundPosition='24px 0px';}}}if(!vT.lN){uW.ImGearCommand={hq:Mv,bu:Gb,C:vT.C};}else{var aFj={x:aB.x-qR.x,y:aB.y-qR.y,width:aB.width,height:aB.height};this.aeR(vT.lN,Mv,Gb,{x:0,y: -1},{x:gE.bz,y: -1},DI,aFj,uW,V);}qR.y+=aga;}else{uW=hD({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qR.y+=abw;}MF.appendChild(uW);}aAr.appendChild(MF);return MF;};eU.prototype.ayy=function(V,cg,L){var tn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var tG=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aB;if(window.innerWidth){aB={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aB={x:tn,y:tG,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aB={x:tn,y:tG,width:document.body.clientWidth,height:document.body.clientHeight};}var mc=aB.x+aB.width/2;var ni=aB.y+aB.height/2;var hS=document.createElement('div');hS.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ni-85)+'px;left:'+(mc-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bN.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bN.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bN.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.bN.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hS);var Yd=document.getElementById('ImGearColorRed');var ajD=document.getElementById('ImGearColorGreen');var ahx=document.getElementById('ImGearColorBlue');var Iv=document.getElementById('ImGearColorOKButton');var FM=document.getElementById('ImGearColorCancelButton');var UD=V['get_'+cg]();var NN;if(UD.length===7&&UD.charAt(0)==='#'){NN=parseInt(UD.slice(1),16);}Yd.value=(NN>>16);ajD.value=((NN>>8)&255);ahx.value=(NN&255);function Zo(Yf){var C=Math.floor(+(Yf.value));if(!isFinite(C)){C=0;}if(C<0){C=0;}if(C>255){C=255;}return C;};function zq(){IPCC.Web.UI.aE.removeHandler(Iv,'click',Hv);IPCC.Web.UI.aE.removeHandler(FM,'click',HA);IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xb);};function Hv(){var dz=Zo(Yd)*65536+Zo(ajD)*256+Zo(ahx);V['set_'+cg]('#'+(0x1000000+dz).toString(16).slice(1));zq();document.body.removeChild(hS);hS=null;L.cl();};function HA(){zq();document.body.removeChild(hS);hS=null;};function xb(bb){if(hS){var bV=bb.target;var Ks;while(bV!==document.body){if(bV===hS){Ks=true;}bV=bV.parentNode;}if(!Ks){zq();document.body.removeChild(hS);hS=null;}}};IPCC.Web.UI.aE.addHandler(Iv,'click',Hv);IPCC.Web.UI.aE.addHandler(FM,'click',HA);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xb);Yd.focus();};eU.prototype.ayg=function(V,L){var tn=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var tG=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aB;if(window.innerWidth){aB={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aB={x:tn,y:tG,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aB={x:tn,y:tG,width:document.body.clientWidth,height:document.body.clientHeight};}var mc=aB.x+aB.width/2;var ni=aB.y+aB.height/2;var hS=document.createElement('div');hS.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(ni-85)+'px;left:'+(mc-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.bN.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bN.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bN.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bN.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.bN.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.bN.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hS);var ZM=document.getElementById('ImGearFontFamily');var adq=document.getElementById('ImGearFontSize');var adl=document.getElementById('ImGearFontItalic');var afm=document.getElementById('ImGearFontBold');var acH=document.getElementById('ImGearFontUnderline');var acq=document.getElementById('ImGearFontStrikeout');var Iv=document.getElementById('ImGearFontOKButton');var FM=document.getElementById('ImGearFontCancelButton');var aEa=V.get_fontName();var aDy=V.get_fontSize();var ti=V.get_fontStyle();ZM.value=aEa;adq.value=aDy;adl.checked=ti&IPCC.Web.UI.FontStyle.Italic;afm.checked=ti&IPCC.Web.UI.FontStyle.Bold;acH.checked=ti&IPCC.Web.UI.FontStyle.Underline;acq.checked=ti&IPCC.Web.UI.FontStyle.Strikeout;function aEU(Yf){var C=Math.floor(+(Yf.value));if(!isFinite(C)){C=12;}if(C<0.1){C=0.1;}if(C>288){C=288;}return C;};function zq(){IPCC.Web.UI.aE.removeHandler(Iv,'click',Hv);IPCC.Web.UI.aE.removeHandler(FM,'click',HA);IPCC.Web.UI.aE.removeHandler(document.body,'mousedown',xb);};function Hv(){V.set_fontName(ZM.value);var dg=aEU(adq);V.set_fontSize(dg);var fB=0;if(adl.checked){fB|=IPCC.Web.UI.FontStyle.Italic;}if(afm.checked){fB|=IPCC.Web.UI.FontStyle.Bold;}if(acH.checked){fB|=IPCC.Web.UI.FontStyle.Underline;}if(acq.checked){fB|=IPCC.Web.UI.FontStyle.Strikeout;}V.set_fontStyle(fB);zq();document.body.removeChild(hS);hS=null;L.cl();};function HA(){zq();document.body.removeChild(hS);hS=null;};function xb(bb){if(hS){var bV=bb.target;var Ks;while(bV!==document.body){if(bV===hS){Ks=true;}bV=bV.parentNode;}if(!Ks){zq();document.body.removeChild(hS);hS=null;}}};IPCC.Web.UI.aE.addHandler(Iv,'click',Hv);IPCC.Web.UI.aE.addHandler(FM,'click',HA);IPCC.Web.UI.aE.addHandler(document.body,'mousedown',xb);ZM.focus();};eU.prototype.axO=function(h){var V=h.Vd.mark;switch(h.hq){case IPCC.fk.Gh:V['set_'+h.bu](h.C);this.L.cl();break;case IPCC.fk.LQ:this.ayy(V,h.bu,this.L);break;case IPCC.fk.ahh:this.ayg(V,this.L);break;case IPCC.fk.ajq:V['set_'+h.bu](!V['get_'+h.bu]());this.L.cl();break;case IPCC.fk.amg:V.moveToBack();this.L.cl();break;case IPCC.fk.amM:V.moveBackward();this.L.cl();break;case IPCC.fk.alH:V.moveForward();this.L.cl();break;case IPCC.fk.amt:V.moveToFront();this.L.cl();break;case IPCC.fk.amf:V.removeFromPage();this.L.cl();break;default:this.L.aAa(h);break;}};module.exports=eU;},{}],21:[function(require,module,exports){var bK={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,dX:function(aU){if(typeof aU==='string'){return aU;}switch(aU){case IPCC.bK.Default:case IPCC.bK.Magnifier:case IPCC.bK.None:case IPCC.bK.RunMarks:return 'auto';case IPCC.bK.Arrow:case IPCC.bK.EditMarks:return 'default';case IPCC.bK.Crosshair:case IPCC.bK.RectangleZoom:case IPCC.bK.AddRectangleMark:case IPCC.bK.AddEllipseMark:case IPCC.bK.AddLineMark:case IPCC.bK.AddFreehandLineMark:case IPCC.bK.AddPolygonMark:case IPCC.bK.AddPolylineMark:case IPCC.bK.AddTextMark:case IPCC.bK.AddRectangleRedactionMark:case IPCC.bK.AddImageStampMark:case IPCC.bK.AddStampMark:return 'crosshair';case IPCC.bK.Link:return 'pointer';case IPCC.bK.HandOpen:case IPCC.bK.HandClosed:case IPCC.bK.Move:return 'move';case IPCC.bK.ResizeN:return 'n-resize';case IPCC.bK.ResizeE:return 'e-resize';case IPCC.bK.ResizeS:return 's-resize';case IPCC.bK.ResizeW:return 'w-resize';case IPCC.bK.ResizeNW:return 'nw-resize';case IPCC.bK.ResizeNE:return 'ne-resize';case IPCC.bK.ResizeSE:return 'se-resize';case IPCC.bK.ResizeSW:return 'sw-resize';case IPCC.bK.Text:return 'text';}return 'auto';}};module.exports=bK;},{}],22:[function(require,module,exports){var iZ={rO:function(jl,KY){var al,cN,fp;if(jl===null){return 'null';}if(!KY){KY=0;}al=typeof(jl);if(al==='undefined'){return 'undefined';}else if(al==='number'||al==='boolean'){return jl.toString();}else if(al==='string'){return '\''+jl+'\'';}else if(al==='function'){return 'function';}else{if(KY<0){return 'jl';}cN='{';for(fp in jl){if(jl.hasOwnProperty(fp)){if(cN.length>2){cN+=', ';}cN+=fp;cN+=': ';cN+=IPCC.iZ.rO(jl[fp],KY-1);}}cN+='}';return cN;}},RO:function(aq){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aq+'\n';}},aIu:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},nF:function(kV,GJ,bU,En,AB){var aq="PCC Controls - ";aq+=(En)?En:" ";aq+=" parent Div id = ";aq+=(AB)?AB:" ";if(GJ){switch(GJ){case 0:aq+=" FunctionCall ";break;case 1:aq+=" Exception ";break;case 2:aq+=" Custom ";break;case 3:aq+=" UserAction ";break;case 4:aq+=" Warning ";break;default:aq+=" unknown ";}}aq+=" - "+kV;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(aq);}if(window.console&&window.console.log){window.console.log(aq);}if(window.opera){window.opera.postError(aq);}if(window.debugService){window.debugService.trace(aq);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aq+'\n';}var Mr;try{Mr=onPCCItemLogged;}catch(ex){}if(Mr&&(typeof(Mr)).toLowerCase()==='function'){var dC=new IPCC.Web.UI.LogItemEventArgs();dC.message=kV;dC.cause=GJ;dC.level=bU;dC.id=AB;Mr(dC);}}};module.exports=iZ;},{}],23:[function(require,module,exports){var mC=function(){this.ah=false;this.L=false;};mC.prototype.mU=function(L){this.L=L;this.L.acB(true);this.aS=L.az();};mC.prototype.fv=function(){if(arguments[0]){if(arguments[0]===true){this.L=false;return;}}this.L.acB(false);this.L=false;};mC.prototype.aJ=function(){if(this.ah){this.L.Fp(true);this.aS.oS();this.ah=false;this.L.cl();}};mC.prototype.xz=function(h){this.aJ();var V=h.mark;if(V&&V.hU()===IPCC.Web.UI.MarkType.Text){this.L.wN(V);this.L.cl();}};mC.prototype.kD=function(h){this.aJ();var jj=h.domEvent;if(jj.button===0){var cV=jj.target;this.dr=cV.ImGearMarkHandle;if(this.dr){this.vh=this.dr.al;this.nr=this.dr.aA;}else{this.vh=null;this.nr=null;}while(!(cV.ImGearMarkRelation)&&cV.parentNode&&cV!==document.body){cV=cV.parentNode;}this.F=cV.ImGearMarkRelation;if(this.F){this.V=this.F.V;}else{this.V=null;}this.ah=true;this.Rf=h.imagePoint;this.Gp=h.imagePoint;var V=this.V;if(!V||V.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jj.shiftKey){this.L.en().zk().removeAllMarks();}this.aS.Bm(h.imagePoint);}else{var gr,R;switch(this.vh){case IPCC.cY.dc.prototype.abJ:this.js=V.fl();this.ZE=Math.abs(this.js.width);this.FP=Math.abs(this.js.height);gr={x:this.js.x,y:this.js.y};this.RH={x:this.js.x+this.js.width,y:this.js.y+this.js.height};if(this.nr>0&&this.nr<3){gr.x+=this.js.width;this.RH.x-=this.js.width;}if(this.nr>1){gr.y+=this.js.height;this.RH.y-=this.js.height;}this.aFB=gr;break;case IPCC.cY.dc.prototype.abr:R=V.fl();this.js=R;gr={x:R.x+R.width/2,y:R.y+R.height/2};switch(this.nr){case 0:this.zS=R.y+R.height;gr.y=R.y;break;case 1:this.zS=R.x;gr.x=R.x+R.width;break;case 2:this.zS=R.y;gr.y=R.y+R.height;break;case 3:this.zS=R.x+R.width;gr.x=R.x;break;}break;case IPCC.cY.dc.prototype.FJ:this.bL=V.qO();if(this.nr<0||this.nr>this.bL.eQ()){this.aJ();}gr=this.bL.getPoint(this.nr);break;case IPCC.cY.dc.prototype.HY:break;case IPCC.cY.dc.prototype.XQ:R=V.fl();gr={x:R.x+V.lO.x,y:R.y+V.lO.y};break;default:var vN=V.get_selected();if(jj.ctrlKey||jj.shiftKey){vN= !vN;V.set_selected(vN);}else{if(!vN){vN=true;this.L.en().zk().removeAllMarks();if(V.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var K=0;K<this.L.en().get_markCount();K++){var Wj=this.L.en().getMark(K);if(Wj.hU()===608&&Wj.be===V.be){Wj.set_selected(vN);}}}else{V.set_selected(vN);}}}if(!vN){this.aJ();}break;}if(this.ah&&gr){this.ayw=gr.x-this.Rf.x;this.axw=gr.y-this.Rf.y;if(this.dr){this.aS.aqJ(this.dr.aU);}}}if(this.ah){this.L.Fp(false);}}this.L.cl();};mC.prototype.kl=function(h){var jj=h.domEvent;var Gp;function aBD(apr){apr.Kk(h.imagePoint.x-Gp.x,h.imagePoint.y-Gp.y);};if(jj.button!==0){this.aJ();}if(this.ah){var V=this.V;if(!V||V.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aS.xF(h.imagePoint);}else{var gr={x:h.imagePoint.x+this.ayw,y:h.imagePoint.y+this.axw};var R;switch(this.vh){case IPCC.cY.dc.prototype.abJ:var od={x:gr.x,y:gr.y};var lu={x:this.RH.x,y:this.RH.y};if(jj.ctrlKey){lu.x=this.js.x+this.js.width/2;lu.y=this.js.y+this.js.height/2;}if(jj.shiftKey){var rZ=Math.abs(od.x-lu.x);var tz=Math.abs(od.y-lu.y);if(rZ*this.FP<tz*this.ZE){if(this.FP>0.001){rZ=tz*this.ZE/this.FP;}}else{if(this.FP>0.001){tz=rZ*this.FP/this.ZE;}}if(od.x<lu.x){rZ= -rZ;}if(od.y<lu.y){tz= -tz;}od.x=lu.x+rZ;od.y=lu.y+tz;}if(jj.ctrlKey){lu={x:lu.x-(od.x-lu.x),y:lu.y-(od.y-lu.y)};}R={};R.x=Math.min(lu.x,od.x);R.width=Math.max(lu.x,od.x)-R.x;R.y=Math.min(lu.y,od.y);R.height=Math.max(lu.y,od.y)-R.y;V.set_rectangle(R);break;case IPCC.cY.dc.prototype.abr:R=V.fl();var Ca;if(this.nr&1){if(jj.ctrlKey){Ca=this.js.x+this.js.width/2;R.width=Math.abs(gr.x-Ca)*2;R.x=Ca-R.width/2;}else{R.x=Math.min(gr.x,this.zS);R.width=Math.max(gr.x,this.zS)-R.x;}}else{if(jj.ctrlKey){Ca=this.js.y+this.js.height/2;R.height=Math.abs(gr.y-Ca)*2;R.y=Ca-R.height/2;}else{R.y=Math.min(gr.y,this.zS);R.height=Math.max(gr.y,this.zS)-R.y;}}V.set_rectangle(R);break;case IPCC.cY.dc.prototype.FJ:this.bL=V.qO();gr=this.bL.setPoint(this.nr,gr);break;case IPCC.cY.dc.prototype.HY:break;case IPCC.cY.dc.prototype.XQ:R=V.fl();V.set_calloutPoint({x:gr.x-R.x,y:gr.y-R.y});break;default:Gp=this.Gp;this.Gp=h.imagePoint;this.L.en().zk().mo(aBD);break;}}this.L.cl();}};mC.prototype.kk=function(){function aDe(V){var Fw=V.aci();if(adi.contains(Fw)&&adi.contains({x:Fw.x+Fw.width,y:Fw.y+Fw.height})){V.set_selected(true);}};if(this.ah){if(!this.V){var adi=this.aS.yd();this.L.en().Fe(aDe);this.aS.oS();}this.aJ();}};mC.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};mC.prototype.mQ=function(){this.aJ();};module.exports=mC;},{}],24:[function(require,module,exports){var cZ=require('./IPCC.Util').regClass;var RV=function(){return this;};RV.registerClass=cZ;RV.prototype={};RV.registerClass('IPCC.ExceptionEventArgs');module.exports=RV;},{"./IPCC.Util":28}],25:[function(require,module,exports){var eC=require('./IPCC.Util').regEnum;var nC=function(){};nC.registerEnum=eC;nC.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nC.registerEnum('IPCC.FitType',false);module.exports=nC;},{"./IPCC.Util":28}],26:[function(require,module,exports){var yT=function(){function Du(){return Math.floor((Math.random()*10)).toString();};var jo=new Date();return Du()+Du()+'_'+jo.getTime()+"_"+Du()+Du()+Du()+Du();};module.exports=yT;},{}],27:[function(require,module,exports){var oc=function(){this.ah=false;this.L=false;};oc.prototype.mU=function(L){this.L=L;};oc.prototype.fv=function(){this.L=false;};oc.prototype.aJ=function(){if(this.ah){this.ah=false;}};oc.prototype.qx=function(){this.aJ();};oc.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){this.ah=true;this.Rf=h.imagePoint;}};oc.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){var L=this.L;var aS=L.az();var bm=aS.eT();var aa=L.eo();bm.Vv(this.Rf,h.windowPoint);bm.iV(L.bZ(),aa);L.bF('userModifiedViewState',{});aS.jg(bm);L.cl();}};oc.prototype.kk=function(){this.aJ();};oc.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};oc.prototype.mQ=function(){this.aJ();};module.exports=oc;},{}],28:[function(require,module,exports){var G={};G.Vn=(function(){var kr={};var AV=[];kr.get=function aGC(qv){if(AV.length===0){return;}for(var i=0;i<qv.length;i++){if(AV[i]&&AV[i].qv===qv){return AV[i].iA;}}};kr.set=function aEP(qv,iA){AV.push({qv:qv,iA:iA});if(AV.length>10){AV.shift();}};kr.contains=function jw(qv){return kr.get(qv)!==undefined;};kr.cacheReponse=function aHK(qv,iA){if(iA.readyState===4){kr.set(qv,iA);}else{var aCz=iA.onreadystatechange;iA.onreadystatechange=function(){if(iA.readyState===XMLHttpRequest.DONE&&iA.status===200){kr.set(qv,iA);}aCz();};}};return kr;})();G.YJ=false;G.Qa=(function(){var Qa=false;var sJ=navigator.userAgent,abd=((sJ.indexOf('Mozilla/5.0')> -1&&sJ.indexOf('Android ')> -1&&sJ.indexOf('AppleWebKit')> -1)&& !(sJ.indexOf('Chrome')> -1)),aep=new RegExp(/AppleWebKit\/([\d.]+)/),aCx=aep.exec(sJ),akN=(aCx===null?null:parseFloat(aep.exec(sJ)[1]));Qa=abd&&akN!==null&&akN<537;return Qa;})();G.aDS=(function(){var aic=false;var sJ=navigator.userAgent,abd=/Android/i.test(sJ),aEc=/iPhone|iPad|iPod/i.test(sJ),aCT=/IEMobile/i.test(sJ);aic=(abd||aEc||aCT);return aic;})();G.Cb=(function(){var Cb=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){Cb=true;}return Cb;})();G.zQ=(function(){var aoW=navigator.userAgent;if(document.documentMode===10||G.Qa){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(aoW)&& !G.aDS){return 'svga';}else{return 'svgb';}})();G.BA=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();G.CQ=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();G.Ly=G.CQ||(function(){return('ontouchstart'in document.documentElement);})();G.aEw=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();G.ajG=function(){return G.avM.btoa((Math.random().toString(36).slice(-4))+'_'+G.tp(new Date())+'_'+(Math.random().toString(36).slice(-6)));};G.inArray=function(cE,di){for(var i=0,l=cE.length;i<l;i++){if(cE[i]===di){return true;}}return false;};G.forEach=function(bD,aH,cK){var rn=[].forEach,aun=Object.prototype.hasOwnProperty;if(rn&&bD.forEach===rn){aH&&bD.forEach(aH,cK);}else if(bD.length=== +bD.length){for(var i=0,length=bD.length;i<length;i++){aH&&aH.call(cK,bD[i],i,bD);}}else{for(var bu in bD){if(aun.call(bD,bu)){aH&&aH.call(cK,bD[bu],bu,bD);}}}};G.map=function(cE,aH,cK){var rn=[].map,uf=[];if(rn&&cE.map===rn){uf=cE.map(aH,cK);}else{G.forEach(cE,function(el,i){uf.push(aH.call(cK,el,i,cE));});}return uf;};G.filter=function(cE,aH,cK){var rn=[].filter,uf=[],acX=false;if(rn&&cE.filter===rn){uf=cE.filter(aH,cK);}else{G.forEach(cE,function(bC,i){acX=aH.call(cK,bC,i,cE);if(acX){uf.push(bC);}});}return uf;};G.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};G.remove=function(cE,aH,cK){var Zk=[];var apD=G.filter(cE,aH,cK);G.forEach(apD,function(di){var aA=G.indexOf(cE,di);if(aA=== -1){return;}Zk=Zk.concat(cE.splice(aA,1));});return Zk;};G.keys=function(bD){if(Object&&Object.keys){return Object.keys(bD);}else{var lL=[];for(var K in bD){if(bD.hasOwnProperty&&bD.hasOwnProperty(K)){lL.push(K);}}return lL;}};G.indexOf=function(cE,aax,afw){if(Array.prototype.indexOf){return cE.indexOf(aax,afw);}var k;if(cE==null){throw new TypeError('"cE" is null or not defined');}var O=Object(cE);var len=O.length>>>0;if(len===0){return-1;}var n= +afw||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===aax){return k;}k++;}return-1;};G.reduce=function(cE,aH,ek,cK){var rn=[].reduce;var HM=(arguments.length===2)?undefined:ek;if(rn&&typeof rn==='function'&&cE.reduce===rn&&cK===undefined){if(ek!==undefined){return cE.reduce(aH,ek,cK);}return cE.reduce(aH);}IPCC.G.forEach(cE,function(ak,bo){if(HM===undefined){HM=ak;return;}HM=aH.call(cK,HM,ak,bo,cE);});return HM;};G.reduceLeft=function(cE,aH,ek,cK){var uf=cE.reverse();return G.reduce.call(undefined,uf,aH,ek,cK);};G.contains=function(cE,ak){var cO=cE.length;while(cO--){if(cE[cO]===ak){return true;}}return false;};G.awt=function(Ug,alU){if(Ug.length!==alU.length){return false;}for(var i=0,l=Ug.length;i<l;i++){if(Ug[i]!==alU[i]){return false;}}return true;};G.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};G.trim=function(cN){if(String.prototype.trim){return cN.trim();}return cN.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};G.getPageFromPoint=function(aD,cF,cK){var axk=function(hn){return hn.left<=aD&&aD<=hn.right&&hn.top<=cF&&cF<=hn.bottom;};var ayc=function(){return G.filter(cK.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(ib){return axk(ib.getBoundingClientRect());});};if(!cK){cK=document;}return ayc(aD,cF)[0];};G.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};G.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Md in baseType.prototype){if(baseType.prototype.hasOwnProperty(Md)){var aDh=baseType.prototype[Md];if(!this.prototype[Md]){this.prototype[Md]=aDh;}}}}return this;};G.ajQ=function(XO,TU,ahH){if(TU){if(!ahH){TU.apply(XO);}else{TU.apply(XO,ahH);}}return XO;};G.aml=function aml(vS,api,akL){var qo;return function(){var cK=this,dC=arguments;var aEC=function(){qo=undefined;if(!akL){vS.apply(cK,dC);}};var avU=akL&& !qo;clearTimeout(qo);qo=setTimeout(aEC,api);if(avU){vS.apply(cK,dC);}};};G.aeX=function aeX(da,sK){if(da.classList){da.classList.add(sK);}else{da.className+=' '+sK;}};G.aaS=function aaS(da,sK){if(da.classList){da.classList.remove(sK);}else{da.className=da.className.replace(sK,'');}};G.SB=function(iB){return{width:iB.width||(iB.right-iB.left),height:iB.height||(iB.bottom-iB.top),top:iB.top,bottom:iB.bottom,left:iB.left,right:iB.right};};G.abW=function(alphabet,size){var si='';for(var K=0;K<size;K++){si+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return si;};G.ass=function(){var awf='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aDF='AQgw';return G.abW(awf,21)+G.abW(aDF,1);};G.agh=function(){var jF={'Accusoft-Gid':G.ass(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return jF;};G.qP=function(ad){if(ad instanceof G.qP){return ad;}this.jF=G.reduce(ad.headers||{},function(rk,ak,ac){ac=ac.toLowerCase();if(rk[ac]){rk[ac]+=', '+ak;}else{rk[ac]=ak;}return rk;},{});this.status=ad.status;this.statusText=ad.statusText;this.responseText=ad.responseText;if(typeof ad.responseBody!=='undefined'){this.responseBody=ad.responseBody;}return this;};G.qP.prototype.getResponseHeader=function(Dg){var ad=this.jF[Dg.toLowerCase()];return ad!==undefined?ad:null;};G.oa=(function(){var yO={};yO.jF={};yO.MN=undefined;function ado(aju){if(!aju){return{};}return aju.split('\r\n').reduce(function(Op,pn){var aA=pn.indexOf(': ');if(aA>0){var ac=pn.slice(0,aA);var C=pn.slice(aA+2);if(Op[ac]){C=Op[ac]+', '+C;}Op[ac]=C;}return Op;},{});};yO.fh=function(aDH){var zB={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},kn=PCCViewer.Deferred(),dF=kn.getPromise(),pw;var ag=G.extend({},zB,aDH);ag.headers=G.extend({},yO.jF,ag.headers);if(typeof yO.MN==='function'){pw=yO.MN(ag);if(typeof pw==='object'&&typeof pw.then==='function'){pw.then(function(av){kn.resolve(av);},function(av){kn.reject(av);});return dF;}}if(ag.cache&&G.Vn.contains(ag.url)){var iA=G.Vn.get(ag.url);var ad,vm={};vm={status:iA.status,headers:ado(iA.getAllResponseHeaders())};try{vm.responseText=iA.responseText;}catch(e){}if(typeof iA.responseBody!=='undefined'){vm.responseBody=iA.responseBody;}ad=new G.qP(vm);if(iA.status>=200&&iA.status<300||status===304){kn.resolve(ad);}else{kn.reject({response:ad,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iA.status+" "+iA.statusText)});}return dF;}var iH,qo;try{iH=new XMLHttpRequest();}catch(e){kn.reject(new PCCViewer.Error("Error",e.message));}if(iH){iH.open(ag.method,ag.url,true);if(ag.timeout){qo=window.setTimeout(function(){iH.abort();kn.reject({error:new PCCViewer.Error("Error","Request timed out")});},ag.timeout);}iH.onreadystatechange=function(){var ad,vm={};if(iH.readyState===4){if(qo){window.clearTimeout(qo);}vm={status:iH.status,headers:ado(iH.getAllResponseHeaders())};try{vm.responseText=iH.responseText;}catch(e){}if(typeof iH.responseBody!=='undefined'){vm.responseBody=iH.responseBody;}ad=new G.qP(vm);if(iH.status>=200&&iH.status<300||status===304){kn.resolve(ad);}else{kn.reject({response:ad,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iH.status+" "+iH.statusText)});}}};var YV=G.extend({},ag.headers,G.agh());for(var ac in YV){if(YV.hasOwnProperty(ac)){iH.setRequestHeader(ac,YV[ac]);}}if(typeof ag.mimeType==='string'&&typeof iH.overrideMimeType==='function'){iH.overrideMimeType(ag.mimeType);}if(ag.cache){G.Vn.cacheReponse(ag.url,iH);}iH.send(ag.body);}return dF;};return yO;})();G.VU=function(hI,iP,fv){var fY=[],sa=null,uh=null,bJ;var aDl=function(uh,sa){if(!sa){return false;}else{return Math.abs(uh.y-sa.y)<1&&Math.abs(uh.height-sa.height)<1&&uh.x+uh.width>=sa.x+sa.width;}};for(bJ=iP;bJ<fv+1;bJ++){uh=hI.ld(bJ).aB;if(aDl(uh,sa)){sa.union(uh);}else{sa=uh.clone();fY.push(sa);}}return fY;};G.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};G.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};G.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bL){var avW=G.map(bL,function(bC){return[bC.x,bC.y];});return d3_svg_lineBasis(avW);};})();G.aHz=function(cN){if(cN.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var auF=G.filter(cN.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var awF=G.map(auF,function(el){var avl=el.replace(/[a-zA-Z]/g,'|').split('|');return G.map(avl,function(hq){var akb=hq.split(',');return{x: +akb[0],y: +akb[1]};});});return awF;};G.ahv=function(cN,it,jE,kK,ag){ag.dg="12px";var jv=G.uJ(cN,it,ag),vz=12*jE/(jv.width||1),vP=12*kK/(jv.height||1),arE=Math.min(vz,vP);ag.dg=arE;return G.agJ(cN,it,jE,kK,ag);};G.agJ=function(cN,it,jE,kK,ag,KI){KI=KI||1;var lK={},jv=G.uJ(cN,it,ag),dg=ag.dg;lK.width=jv.width;lK.height=jv.height;lK.fontSize=dg;if(KI>3){return lK;}if((jv.width<jE+1)&&(jv.height<kK+1)){return lK;}else{var vz=dg*jE/(jv.width||1),vP=dg*kK/(jv.height||1),xS=Math.min(vz,vP);if(xS>=ag.dg){return lK;}else{ag.dg=xS;return G.agJ(cN,it,jE,kK,ag,KI+1);}}};G.uJ=function(cN,it,ag){ag=ag||{};if(document.createElementNS){return G.aus(cN,it,ag);}else{return G.alA(cN,it,ag);}};G.aus=function(cN,it,ag){var svg,anp=false;if(ag.er){svg=ag.er;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');anp=true;document.body.appendChild(svg);}var dg=ag.dg||"12px";if(typeof dg==="number"){dg=dg+"px";}var cW=document.createElementNS("http://www.w3.org/2000/svg","text");G.forEach({x:0,y:0,'font-size':dg,'stroke':"none",'fill':"#000000",'font-family':it},function(value,name){cW.setAttribute(name,value);});if(ag.uV){cW.setAttribute('style','white-space:'+ag.uV);}var mI=document.createTextNode(cN);cW.appendChild(mI);svg.appendChild(cW);var wB=cW.getBBox(),Jf=wB.width,IQ=wB.height;svg.removeChild(cW);if(anp){document.body.removeChild(svg);}if(Jf===0&&IQ===0&&cN!=="M"){return G.uJ("M",it,ag);}else{return{width:Jf,height:IQ};}};G.alA=function(cN,it,ag){var mI=document.createTextNode(cN),Ev=document.createElement('div');var dg=ag.dg||"12px";if(typeof dg==="number"){dg=dg+"px";}G.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:dg,fontFamily:it},function(value,name){Ev.style[name]=value;});if(ag.uV){Ev.style.whiteSpace=ag.uV;}Ev.appendChild(mI);document.body.appendChild(Ev);var wB=Ev.getBoundingClientRect(),Jf=wB.width||wB.right-wB.left,IQ=wB.height||wB.bottom-wB.top;document.body.removeChild(Ev);if(Jf===0&&IQ===0&&cN!=="M"){return G.alA("M",it,dg);}else{return{width:Jf,height:IQ};}};G.ZA=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};G.zI={SVG:function SVG(apA){var er=document.createElementNS("http://www.w3.org/2000/svg","svg");er.setAttribute('viewBox',apA);return er;},Path:function Path(wq,kh){var hv=document.createElementNS("http://www.w3.org/2000/svg","path");hv.style.fill='none';hv.style.stroke=kh.color||'#000000';hv.style.strokeWidth=kh.thickness||4;if(wq){hv.setAttribute('d',wq.toString().trim());}return hv;},Rect:function Rect(bz,cq,fB){var au=document.createElementNS("http://www.w3.org/2000/svg","rect");au.setAttribute('width',bz||0);au.setAttribute('height',cq||0);if(fB){au.setAttribute('style',fB);}return au;}};G.HH=function HH(kj){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(kj);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(kj+' cannot be parsed as an ISO 8601 date.');}};G.tp=function aFL(jo){if(jo.toISOString&&typeof jo.toISOString==='function'){return jo.toISOString();}else{return new Error(jo+' is not a Date object.');}};G.uw=function uw(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};G.DK=function DK(o){if(G.uw(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};G.YO=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};G.ajA=function(ak){ak=String(ak).replace(/[^0-9a-f]/gi,"");if(ak.length<6){ak=ak[0]+ak[0]+ak[1]+ak[1]+ak[2]+ak[2];}var UM=function(cN){return parseInt(cN,16);};var r=UM(ak.substring(0,2));var g=UM(ak.substring(2,4));var b=UM(ak.substring(4,6));return{r:r,g:g,b:b};};G.azw=function(ak){var Po="";var Ny=function(n){while(n.length<2){n='0'+n;}return n;};var VY=function(n){return Ny(n.toString(16));};Po+=VY(Math.floor(ak.r));Po+=VY(Math.floor(ak.g));Po+=VY(Math.floor(ak.b));return '#'+Po;};G.apK=function(axT,avj,ayJ){var DM=ayJ,Ym=G.ajA(axT),nJ=G.ajA(avj);nJ.r=(1-DM)*nJ.r+(Ym.r*DM);nJ.g=(1-DM)*nJ.g+(Ym.g*DM);nJ.b=(1-DM)*nJ.b+(Ym.b*DM);nJ.r=Math.floor(nJ.r);nJ.g=Math.floor(nJ.g);nJ.b=Math.floor(nJ.b);return G.azw(nJ);};G.agq=function(awe,wn){var asF=G.reduceLeft(awe,function(ek,dz){if(dz.opacity===undefined){dz.opacity=127;}var aDN=dz.opacity/255;return G.apK(dz.color,ek,aDN);},wn);return asF;};G.ani=function(gO){if(gO.length===0){return gO;}var fb=gO.slice(0);fb.sort(function(a,b){return a.startIndex-b.startIndex;});var Sx=null;var kT=[];var aaT=0,Ln=[];var K=fb[0].startIndex;while(fb.length>0){aaT=0;Ln=null;Ln=[];var bJ=0;while(bJ<fb.length&&fb[bJ].startIndex<=K){if(K<=fb[bJ].startIndex+fb[bJ].length-1){aaT++;Ln.push(fb[bJ]);bJ++;}else{fb.splice(bJ,1);}}if(aaT>0){var Bc=G.agq(Ln,'#ffffff');if(Bc===Sx){kT[kT.length-1].endIndex=K;}else{kT.push({startIndex:K,endIndex:K,color:Bc});}Sx=Bc;K++;}else{if(fb.length>0){K=fb[0].startIndex;}Sx=null;}}return kT;};G.Ji=function(ZC){return ZC.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};G.afX=function(ae){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(ae);};G.Ny=function(jz,cO){var cN=""+jz;while(cN.length<cO){cN='0'+cN;}return cN;};G.aHM=function(fr){var hk=fr.getTimezoneOffset();hk=((hk<0?'+':'-')+G.Ny(parseInt(Math.abs(hk/60),10),2)+G.Ny(Math.abs(hk%60),2));return hk;};G.agM=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];G.TK=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];G.aau=function(XL){var aAW=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,av=aAW.exec(XL),ans,Ef,ahD,ahQ,ant,yu,adK;if(!av){return null;}else{ans=av[1].toLowerCase();ahD=av[2];ahQ=av[3];ant=av[4];yu=av[5];adK=av[6];for(Ef=0;Ef<12;Ef++){if(G.TK[Ef].toLowerCase()===ans){break;}}if(Ef>=12){return null;}return new Date(Date.UTC(adK,Ef,ahD,ahQ,ant,yu));}};G.ajJ=function(fr){return(G.agM[fr.getUTCDay()]+" "+G.TK[fr.getUTCMonth()]+" "+fr.getUTCDate()+" "+fr.getUTCHours()+':'+fr.getUTCMinutes()+':'+fr.getUTCSeconds()+" "+"GMT+0000 "+fr.getUTCFullYear());};G.atH=function(fr){return(G.agM[fr.getUTCDay()]+" "+G.TK[fr.getUTCMonth()]+" "+fr.getUTCDate()+" "+fr.getUTCFullYear());};G.auS=function(fr){return(fr.getUTCHours()+':'+fr.getUTCMinutes()+':'+fr.getUTCSeconds()+" "+"GMT+0000");};G.oi=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};G.yD=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};G.avM=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();G.pe=(function(){var pe=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var agi={};pe.forEach(function(agg){agi[agg]='pointer'+agg;});return agi;}if(window.navigator.msPointerEnabled){var amW={};for(var K=0;K<pe.length;K++){var UJ=pe[K];var aGn='MSPointer'+UJ.charAt(0).toUpperCase()+UJ.slice(1);amW[UJ]=aGn;}return amW;}return{};})();G.ud=(function(){return{zi: ! !navigator.userAgent.match('Edge'),aHX:document.documentMode!==undefined,aHm:document.documentMode===8,aHt:document.documentMode===9,aHS:document.documentMode===10,aIE:document.documentMode===11,aDr:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),azo:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();G.Pk=(function(og){if(!og|| !IPCC.G.trim(og)){return 'regular';}return IPCC.G.trim(og).toLowerCase();});G.aIn=function(arg,value){return typeof arg!=='undefined'?arg:value;};G.Np=function(value){return Number(value.replace(/[a-z]+$/,''));};G.QZ=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};G.alq=function(){if(this.pB===undefined){this.pB=document.createTextNode('');}return this.pB;};G.akO=function(){if(this.dk===undefined){this.dk=document.createElement('textarea');this.pB=document.createTextNode('');this.dk.appendChild(G.pB);this.dk.style.position='absolute';this.dk.style.overflow='hidden';this.dk.style.width='80px';this.dk.style.height='80px';this.dk.style.resize='none';this.dk.style.top='-9999px';this.dk.style.left='-9999px';this.dk.style.whiteSpace='pre-wrap';this.dk.style.border=0;this.dk.style.padding='2px';document.body.appendChild(this.dk);}return this.dk;};G.WT=function(dk,Db,an){var Yz=0.1;var Jm;if(Db===0||Db>an){Db=an;}while(Yz<=Db){Jm=(Yz+Db)/2;dk.style.fontSize=Jm+'px';if(dk.scrollHeight<=dk.offsetHeight){Yz=Jm+0.1;}else{Db=Jm-0.1;}}var acY=(Jm-0.5)*0.95;dk.style.fontSize=acY+'px';return acY;};G.Le=function(vS,qk,Wn,pw){if(vS(qk,Wn)!==Wn){return typeof(pw)==='number'?pw:Wn;}return qk;};G.Ow=function(qk,aDI,pw){return G.Le(Math.min,qk,aDI,pw);};G.Mj=function(qk,aDm,pw){return G.Le(Math.max,qk,aDm,pw);};G.anO=(function(){var Kq;return function(arn,jX,axM){if(Kq!==undefined&& !axM){setTimeout(jX.bind(null,Kq),0);return;}aGD(arn,function(si){Kq=si;jX(si);});};function aGD(Nj,jX){var it='jctqxvjmncyjagibfltptfzhknc';var jp='@font-face {font-family:'+it+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var fB;var oX;var aiz;var akn,akE;aAP();aFQ(function(si){azU();jX(si);});function aAP(){fB=document.createElement('style');fB.innerText=jp;Nj.appendChild(fB);oX=document.createElement('div');oX.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';akn=aky(oX,'monospace');akE=aky(oX,'arial');Nj.appendChild(oX);};function azU(){clearInterval(aiz);Nj.removeChild(oX);Nj.removeChild(fB);};function aFQ(aH){var apW=Date.now();var qo=500;var aEI=25;aiz=setInterval(function(){var afn=akn.offsetWidth===akE.offsetWidth;if(afn||Date.now()-apW>qo){aH(afn);}},aEI);};function aky(oX,jp){var avR='!!';var amc=document.createElement('div');var GK=document.createElement('span');GK.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';GK.innerText=avR;GK.style.fontFamily=it+', '+jp;amc.appendChild(GK);oX.appendChild(amc);return GK;}}})();G.awK=function(hf,vK,nb){var uG=document.createElement('div');if(!IPCC.G.ud.azo){hf=hf.replace(/href="#/g,'href="#'+nb);hf=hf.replace(/url\("?#(.+?)"?\)/g,'url(#'+nb+'$1)');hf=hf.replace(/ id="/g,' id="'+nb);uG.innerHTML=hf;return uG;}uG.innerHTML=hf;var awZ=uG.querySelectorAll('[id]');var avB=uG.querySelectorAll("*");var aww=vK.replace(/"/g,'\\$&');var aCG=['href','xlink:href'];var anB=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.G.forEach(awZ,function(bC){bC.id=nb+bC.id;});IPCC.G.forEach(avB,function(bC){IPCC.G.forEach(aCG,function(qq){if(bC.hasAttribute(qq)&&bC.getAttribute(qq).indexOf('#')===0){bC.setAttribute(qq,bC.getAttribute(qq).replace('#',vK+'#'+nb));}});IPCC.G.forEach(anB,function(qq){if(bC.hasAttribute(qq)&&bC.getAttribute(qq).match(/^url\("?#/)){bC.setAttribute(qq,bC.getAttribute(qq).replace(/^url\("?#(.+?)\"?\)$/,'url("'+vK+'#'+nb+'$1")'));}});if(bC.hasAttribute('style')){var Ec=bC.style.cssText;Ec=Ec.replace(/url\("?#(.+?)"?\)/g,'url("'+aww+'#'+nb+'$1")');bC.style.cssText=Ec;}});return uG;};module.exports=G;},{}],29:[function(require,module,exports){var zc=require('./Type');zc.registerNamespace('IPCC');module.exports={Pagecounter:1,gF:true,agX:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),nN:require('./predefinedContextMenu'),XP:require('./indexOf'),MW:require('./setProperties'),bd:require('./PageItem'),yT:require('./GetUniqueID'),To:require('./ViewerState'),uZ:require('./Configuration'),bK:require('./Cursor'),ks:require('./Res'),aL:require('./Validate'),iZ:require('./Debug'),fk:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:zc,G:require('./IPCC.Util'),cY:require('./Art'),kM:require('./SelectTextController'),fo:require('./Matrix'),Tf:require('./ViewerModel'),eU:require('./ContextMenuController'),eA:require('./SvgUIDirector'),qs:require('./PropertyChangedEventArgs'),Aw:require('./StringBuilder'),cn:require('./MultiTouchController'),pW:require('./ImagePyramid'),cL:require('./SingleTouchController'),kv:require('./AddPolyMarkController'),oM:require('./SelectController'),eg:require('./AddRectangularMarkController'),lv:require('./AddFreehandMarkController'),oR:require('./AddLineMarkController'),dI:require('./MouseWheelController'),oc:require('./HandPanController'),lY:require('./RectangleZoomController'),qU:require('./MagnifierController'),mC:require('./EditMarksController'),Ah:require('./RunMarksController'),DN:require('./Space'),gG:require('./Image'),QS:require('./ImagePool'),Fi:require('./PyramidLevel'),wf:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var gG=function(md,aZ,bz,cq,hA,gH){IPCC.DN.call(this,0,0,0,0);this.width=bz;this.height=cq;this.hA=hA;this.gH=gH;this.aZ=aZ||0;this.eY=0;this.qz=true;this.awB={};this.zp=false;var T=this;this.aZ=aZ;this.get_url=function(gp,dS,bp){dS=dS||'Image';bp=bp||'';var BN=gG.JF(md);var Fb=false;if(/^[\x00-\x7F]*$/.test(BN)){Fb=true;}if(bp===null||bp===''){if(dS==='Attributes'){var tu='';if(!IPCC.uZ.Ja()){tu='&ContentType=png';}if(!Fb){return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=e'+md+tu;}else{return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=u'+encodeURIComponent(BN)+tu;}}else{if(dS==='SvgImage'){if(!Fb){return gp+'/Page/q/'+aZ.toString()+'?DocumentID=e'+md+'&'+bp;}else{return gp+'/Page/q/'+aZ.toString()+'?DocumentID=u'+encodeURIComponent(BN)+'&'+bp;}}if(!Fb){return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=e'+md+'&'+bp;}else{return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=u'+encodeURIComponent(BN)+'&'+bp;}}}else{if(dS==='SvgImage'){if(!Fb){return gp+'/Page/q/'+aZ.toString()+'?DocumentID=e'+md+'&'+bp;}else{return gp+'/Page/q/'+aZ.toString()+'?DocumentID=u'+encodeURIComponent(BN)+'&'+bp;}}if(!Fb){return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=e'+md+'&'+bp;}else{return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=u'+encodeURIComponent(BN)+'&'+bp;}}};this.get_urlArt=function(gp,dS,bp){dS=dS||'Art';bp=bp||'';if(bp===null||bp===''){if(dS==='Art'){return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=e'+md;}}else{return gp+'/Page/q/'+aZ.toString()+'/'+dS+'?DocumentID=e'+md+'&'+bp;}};this.get_identifier=function(){return IPCC.gG.JF(md);};this.get_encodedIdentifier=function(){return md;};this.toString=function(){return 'Image("'+md+'", '+this.aZ+', '+this.width+' x '+this.height+', '+this.hA+', '+this.gH+')';};function ajY(aqQ,L){if(L.aaD()){T.qz=true;T.zp=false;return;}var abq=aqQ.split(',');var lD=false;for(var ar=0;ar<abq.length;ar++){if(abq[ar]==="SVG"||abq[ar]==="svg"){if(IPCC.uZ.Ja()){T.zp=true;T.qz=false;}else{T.zp=false;}lD=true;break;}}if(!lD){T.zp=false;T.qz=true;}if(L){if(L.OA){L.OA(T.zp);}}};this.XS=function(gp,L,yC){L.aZ=this.aZ;var oE=0;var nq=L.As();if(nq){if(document.documentMode<9){nq=false;}}var sk=true;if(L.kG()===0){sk=false;}var pD=function(fz,ad){try{if(fz===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fz.errorCode){if(fz.errorCode==='SvgNotAvailable'){nq=false;T.width= +(fz.pageAttributes.imageWidth);T.height= +(fz.pageAttributes.imageHeight);T.hA= +(fz.pageAttributes.imageXResolution);if(T.hA<=0){T.hA=72;}T.gH= +(fz.pageAttributes.imageYResolution);if(T.gH<=0){T.gH=72;}T.eY= +(fz.pageAttributes.pageCount);T.qz=fz.pageAttributes.isRaster!=='false';ajY(fz.pageAttributes.contentType,L);}}else{T.width= +(fz.imageWidth);T.height= +(fz.imageHeight);T.hA= +(fz.imageXResolution);if(T.hA<=0){T.hA=72;}T.gH= +(fz.imageYResolution);if(T.gH<=0){T.gH=72;}T.eY= +(fz.pageCount);T.qz=fz.isRaster!=='false';ajY(fz.contentType,L);}var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");var FD=false;if(ow==="true"){FD=true;}L.acd(FD);if(yC){yC();}}catch(e){L.by('openPage',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};function Ot(){nq=false;if(oE<1){var gL={method:'GET',url:T.get_url(gp,'Attributes'),headers:{'Content-Type':'application/json'}};if(sk===true){gL.timeout=L.kG();}IPCC.G.oa.fh(gL).then(dV,dZ);oE++;}};var aAO=function(hf,ad){var bz;var cq;function aEj(){var aai;try{aai=JSON.parse(hf);}catch(bb){aai=undefined;nq=true;}return aai;};try{bz=hf.match(/width=\"([0-9.]+)\"/);cq=hf.match(/height=\"([0-9.]+)\"/);if(bz&&cq){bz=Number(bz[1]);cq=Number(cq[1]);}else{throw "error";}if(isNaN(bz)||isNaN(cq)){throw "error";}T.width=bz;T.height=cq;T.hA=72;T.gH=72;T.zp=true;T.qz=false;if(L){if(typeof(L.OA==='function')){L.OA(T.zp);}}if(yC){yC();}}catch(e){var av=aEj();if(av){pD(av,ad);return;}if(nq){if(oE<1){nq=false;setTimeout(Ot,10);return;}}L.by('openPage',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};function dV(ad){var av=null,cr;try{if(!nq){av=JSON.parse(ad.responseText);pD(av,ad);}else{var oy;var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");if(ow==='true'&&L.ij()===true){var wC=IPCC.Web.gf.sy.tX(ad.getResponseHeader("Accusoft-Data-SK"));var ac=IPCC.Web.Jl(wC,iS);var fD=IPCC.Web.GZ(ad);var uk=IPCC.Web.DR(fD,ac,iS);oy=IPCC.Web.gf.GE.mW(uk);}else{oy=ad.responseText;}var Zp;if(oy.length>=1000){Zp=oy.substring(0,1000);}else{Zp=oy.substring(0,oy.length);}aAO(Zp,ad);}}catch(ex){if(nq){nq=false;if(oE<1){setTimeout(Ot,10);return;}}cr="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cr);}};function dZ(av){try{var cr,lX,mx;if(!av.response){throw new IPCC.Web.UI.ImGearHttpException(av.response.status,"Client timed out on load");}if(av.response.status===403){oE++;if(av.response.statusText&&av.response.statusText!==""){cr="Expired viewer session ID, error message from the server: "+av.response.statusText;}else{cr="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(av.response.status,cr);}if(nq){nq=false;if(oE<1){setTimeout(Ot,10);return;}}mx=av.response.getResponseHeader('Accusoft-Status-Message');if(mx){var rg;lX=av.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xL(lX)){rg=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(av.response.status,mx,rg);}else{if(av.response.statusText&&av.response.statusText!==""){cr="Error message from the service: "+av.response.statusText;}else{cr="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(av.response.status,cr);}}catch(e){if(nq){nq=false;if(oE<1){setTimeout(Ot,10);return;}}L.by('openPage',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};var iS=IPCC.Web.GU.aiC(4,IPCC.Web.LC());var pU=IPCC.Web.gf.Kr.mW(iS);var gL={method:'GET',cache:true};if(!nq){gL.url=this.get_url(gp,'Attributes');gL.headers={'Content-Type':'application/json'};}else{var ae;if(L.ij()===true){iS=IPCC.Web.GU.YZ(4,IPCC.Web.LC());pU=IPCC.Web.gf.Kr.mW(iS);ae=this.get_url(gp,'SvgImage','Scale=1&ContentType='+IPCC.G.zQ+'&iv='+pU);}else{ae=this.get_url(gp,'SvgImage','Scale=1&ContentType='+IPCC.G.zQ);}gL.url=ae;}IPCC.G.oa.fh(gL).then(dV,dZ);};this.aDG=function(gp,L,yC){L.aZ=this.aZ;var oE=0;var sk=true;if(L.kG()===0){sk=false;}var pD=function(fz,ad){try{if(fz===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}T.width= +(fz.imageWidth);T.height= +(fz.imageHeight);T.hA= +(fz.imageXResolution);if(T.hA<=0){T.hA=72;}T.gH= +(fz.imageYResolution);if(T.gH<=0){T.gH=72;}T.eY= +(fz.pageCount);T.qz=true;var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");var FD=false;if(ow==="true"){FD=true;}L.acd(FD);if(yC){yC();}}catch(e){L.by('openPage',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};function dV(ad){try{var hj=ad.status,av,cr;if(hj===200){av=null;try{av=JSON.parse(ad.responseText);pD(av,ad);}catch(ex){cr="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,cr);}}}catch(e){L.by('openPageForRaster',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};function dZ(av){try{var hj=av.response.status,cr,mx,lX;if(!av.response){throw new IPCC.Web.UI.ImGearHttpException(hj,"Client timed out on load");}if(hj===403){oE++;if(av.response.statusText&&av.response.statusText!==""){cr="Expired viewer session ID, error message from the server: "+av.response.statusText;}else{cr="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}mx=av.response.getResponseHeader('Accusoft-Status-Message');if(mx){var rg;lX=av.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xL(lX)){rg=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,mx,rg);}else{if(av.response.statusText&&av.response.statusText!==""){cr="Error message from the service: "+av.response.statusText;}else{cr="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}}catch(e){L.by('openPageForRaster',e);if(typeof(L.bF)==='function'){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};var aas={method:'GET',url:this.get_url(gp,'Attributes'),headers:{'Content-Type':'application/json'}};if(sk===true){aas.timeout=L.kG();}IPCC.G.oa.fh(aas).then(dV,dZ);};return this;};gG.prototype.clone=function(){var TW=new gG(this.get_encodedIdentifier(),this.aZ,this.width,this.height,this.hA,this.gH);TW.eY=this.eY;TW.qz=this.qz;return TW;};gG.prototype.equals=function(C){if(this.get_encodedIdentifier()!==C.get_encodedIdentifier()){return false;}if(this.aZ!==C.aZ){return false;}return true;};gG.prototype.sN=8;gG.prototype.rC=0.000001;gG.akc=function(bp){var Im=bp.referenceDocumentIdentifier;var afl=gG.uC(Im);var hx=bp.encodedDocumentIdentifier;var lw=bp.documentIdentifier;var eW;if(hx===''){hx=undefined;}if(lw===''){lw=undefined;}if(Im&&Im!==''){if(hx===afl){hx=undefined;}if(lw===Im){lw=undefined;}}if(lw){eW=IPCC.gG.uC(lw);if(hx){if(hx!==eW){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hx=eW;}}else{if(hx){lw=IPCC.gG.JF(hx);}}if(!hx){lw=Im;hx=afl;}var ax=bp.pageNumber;var afu=bp.referencePageNumber;if(ax===afu){ax=undefined;}if(ax!==0&& !ax){ax=afu;}bp.encodedDocumentIdentifier=hx;bp.documentIdentifier=lw;bp.pageNumber=ax;};gG.uC=function(iK){if(!iK||iK===''){return '';}var lF=[];var K;for(K=0;K<iK.length;K++){lF.push(iK.charCodeAt(K)%256);lF.push(Math.floor(iK.charCodeAt(K)/256));}lF.push(0);lF.push(0);var OP='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var pr=[],su;for(K=0;K<lF.length-1;K+=3){su=lF[K]*0x10000+lF[K+1]*0x100+lF[K+2];pr.push(OP.charAt(Math.floor(su/0x40000)));pr.push(OP.charAt(Math.floor(su/0x1000)%0x40));pr.push(OP.charAt(Math.floor(su/0x40)%0x40));pr.push(OP.charAt(su%0x40));}var WE=Math.ceil(iK.length*16/6);while(pr.length>WE){pr.pop();}if((pr.length%4)===3){pr.push('1');}else if((pr.length%4)===2){pr.push('2');}else if((pr.length%4)===0){pr.push('0');}return pr.join('');};gG.JF=function(md){if(!md||md===''){return '';}var ajs=md.length-1;var KF=[],su;var pS,lF=[],oY=[];var K;for(K=0;K<ajs;K++){pS=md.charCodeAt(K);if(pS>64&&pS<91){oY.push(pS-65);}else if(pS>96&&pS<123){oY.push(pS-97+26);}else if(pS>47&&pS<58){oY.push(pS-48+52);}else if(pS===45){oY.push(62);}else if(pS===95){oY.push(63);}else{return '';}}oY.push(0);oY.push(0);oY.push(0);for(K=0;K<oY.length-3;K+=4){su=oY[K]*0x40000+oY[K+1]*0x1000+oY[K+2]*0x40+oY[K+3];lF.push(Math.floor(su/0x10000));lF.push(Math.floor(su/0x100)%256);lF.push(su%256);}for(K=0;K<lF.length-1;K+=2){KF.push(String.fromCharCode(lF[K]+lF[K+1]*0x100));}var WE=Math.floor(ajs*6/16);while(KF.length>WE){KF.pop();}return KF.join('');};module.exports=gG;},{}],31:[function(require,module,exports){var QS=function(){this.dP=[];this.parentElementID='';this.lockTile=function(ef){var di,K,RD,WQ;if(this.Yt(ef)){return;}RD=0;for(K=this.dP.length-1;K>=0;K--){if(!(this.dP[K].locked)){RD++;WQ=K;}}if(RD>4){di=this.dP[WQ];this.uiDirector.ale(di);this.dP.splice(WQ,1);}di=new aum();di.pool=this;this.uiDirector.awP(di);this.dP.push(di);di.locked=true;di.tile=ef;ef.poolItem=di;return;};this.Yt=function(ef){var di,K;if(this.locked){return true;}for(K=0;K<this.dP.length;K++){if(this.dP[K].tile===ef){di=this.dP[K];di.locked=true;ef.poolItem=di;return true;}}return false;};this.aim=function(ef){var ix,K;ix=ef.poolItem;if(ix!==undefined&&ix.locked){this.uiDirector.atr(ix);ix.locked=false;ef.poolItem=undefined;for(K=0;K<this.dP.length;K++){if(this.dP[K]===ix){this.dP.splice(K,1);this.dP.push(ix);return;}}}};return this;};QS.prototype.ayj=function(){var K;for(K=0;K<this.dP.length;K++){if(!this.dP[K].locked){this.uiDirector.ale(this.dP[K]);}}};var aum=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=QS;},{}],32:[function(require,module,exports){var pW=function(){this.ej=[];return this;};pW.prototype.aqe=function(cS,eL){var cB=cS.qG();var K,lG,pl;var de=1;var adn;var wb=[];var vf=[];var vM=[];var DY,RR;pl=this.ej.length;for(K=0;K<this.ej.length;K++){if(this.ej[K].cB>cB){pl=K;break;}}lG=pl-1;if(lG<0){lG=0;}if(pl>=this.ej.length){pl=this.ej.length-1;}if(lG!==pl){adn=(cB-this.ej[lG].cB)/(this.ej[pl].cB-this.ej[lG].cB);de=adn*1.0;if(de>=0.15){de=1;lG=pl;}if(de<=0.15){de=1;pl=lG;}}vf=this.ej[lG].Oq(eL);vM=this.ej[pl].Oq(eL);var NQ=function(nn){var K;for(K=0;K<nn.length;K++){nn[K].level.pool.Yt(nn[K]);}};var Yc=function(nn){var aps=[];var K;for(K=0;K<nn.length;K++){if(!nn[K].get_isLockedAndLoaded()){aps.push(nn[K]);}}return aps;};var ahl=function(nn){var ahd=[];var K;for(K=0;K<nn.length;K++){if(nn[K].get_isLockedAndLoaded()){ahd.push(nn[K]);}}return ahd;};if(lG>0&&lG===pl&&this.ej[pl].tiles.length>1){lG=pl-1;vf=this.ej[lG].Oq(eL);}NQ(vf);wb=Yc(vf);if(wb.length>0){for(DY=lG-1;DY>=0;DY--){RR=this.ej[DY].Oq(eL);NQ(RR);if(Yc(RR).length<1){break;}}if(DY<0){vf=ahl(vf);}else{lG=DY;vf=RR;de=1;}}else{NQ(vM);wb=Yc(vM);}NQ(vM);vM=ahl(vM);if(wb.length>3){wb.splice(3,wb.length-3);}function aEX(){var av;function Xg(Et){var av='',K,bU;if(Et.length<1){return '';}bU=Et[0].level;av+='level '+bU.id.toString()+' - ';for(K=0;K<Et.length;K++){if(K>0){av+=', ';}av+='('+(Et[K].x/bU.nk).toString()+','+(Et[K].y/bU.zO).toString()+')';if(Et[K].get_isLockedAndLoaded()){av+='*';}}return av;};av='tilesToRequest: '+Xg(wb)+'<br/>';av+='opaqueTiles: '+Xg(vf)+'<br/>';av+='translucentTiles: '+Xg(vM)+'<br/>';av+='opacity: '+de.toString()+'<br/>';av+='anA: '+cB.toString()+'<br/>';av+='cS: '+cS.toString()+'<br/>';return av;};return{opaqueTiles:vf,translucentTiles:vM,opacity:de,tilesToRequest:wb,toString:aEX,anA:cB,cS:cS.toString()};};pW.prototype.aBJ=function(oV){var EV=[];var rU=[];var K,j;var bU,tile;for(K=0;K<this.ej.length;K++){bU=this.ej[K];for(j=0;j<bU.tiles.length;j++){tile=bU.tiles[j];if(tile.poolItem!==undefined){EV.push(tile);}}}var akP=function(VM,amT){var K,j,WF,XY;for(K=0;K<amT.length;K++){WF=amT[K];XY=true;for(j=0;j<VM.length;j++){if(WF===VM[j]){XY=false;break;}}if(XY){VM.push(WF);}}};rU=oV.tilesToRequest.concat();akP(rU,oV.opaqueTiles);akP(rU,oV.translucentTiles);for(K=EV.length-1;K>=0;K--){var avi=EV[K];for(j=0;j<rU.length;j++){if(rU[j]===avi){EV.splice(K,1);break;}}}for(K=0;K<EV.length;K++){EV[K].unlock();}for(K=0;K<rU.length;K++){rU[K].relock();}for(K=0;K<rU.length;K++){if(rU[K].poolItem===undefined){rU[K].lock();}}};pW.prototype.unlockAllItems=function(){var K,j,bU;for(K=0;K<this.ej.length;K++){bU=this.ej[K];for(j=0;j<bU.tiles.length;j++){if(bU.tiles[j].poolItem!==undefined){bU.pool.aim(bU.tiles[j]);}}}};pW.prototype.aIh=function(){var K;for(K=0;K<this.ej.length;K++){this.ej[K].pool.ayj();}};pW.prototype.toString=function(){var av='',K,j,bU;for(K=0;K<this.ej.length;K++){bU=this.ej[K];av+='Level '+K.toString()+':   scaleFactor='+bU.cB.toString()+'  image='+bU.width.toString()+'x'+bU.height.toString()+'  tile='+bU.nk.toString()+'x'+bU.zO.toString()+'\n';for(j=0;j<bU.tiles.length;j++){if(j>0){av+=', ';}av+='('+bU.tiles[j].x.toString()+', '+bU.tiles[j].y.toString()+')';}av+='\n';}return av;};pW.prototype.expandTile=function(ef,Wl,Zm,ahE,agC,bU){ef.x=IPCC.G.Ow(Wl-ef.xB,0,Wl,Wl-ef.xB);ef.y=IPCC.G.Ow(Zm-ef.wo,0,Zm,Zm-ef.wo);ef.bz=IPCC.G.Mj(ahE+(2*ef.xB),bU.width,ahE);ef.cq=IPCC.G.Mj(agC+(2*ef.wo),bU.height,agC);if(ef.x+ef.bz>bU.width){ef.x=ef.x-ef.xB;ef.bz=bU.width-ef.x;ef.xB=0;}if(ef.y+ef.cq>bU.height){ef.y=ef.y-ef.wo;ef.wo=0;ef.cq=bU.height-ef.y;}return ef;};pW.prototype.createPyramid=function(iC,L){var aEr=6000000;var ahF=5000;var nk=1024;var aDT=nk*nk*3*150;var aet=0.5;var aEe=2;var bx=L.bZ();var AT=bx.width*bx.height*3;var yP;var bU;var cB;var K;var aD,cF;var tile;var Ce,BO;this.ej=[];if(bx.qz){cB=1.0;yP=AT*cB*cB;while(this.ej.length<aEe||yP>ahF){bU=new IPCC.Fi();bU.cB=cB;this.ej.unshift(bU);cB*=aet;yP=AT*cB*cB;}}else{if(L.qp()===true){AT=bx.width*bx.height;}cB=Math.sqrt(ahF/AT);var aBF=cB*bx.hA;cB=Math.ceil(aBF)/bx.hA;yP=AT*cB*cB;if(L.qp()===false){while(yP<aDT){bU=new IPCC.Fi();bU.cB=cB;this.ej.push(bU);cB/=aet;yP=AT*cB*cB;}}else{bU=new IPCC.Fi();bU.cB=1;this.ej.push(bU);}}bx.sN=this.ej[this.ej.length-1].cB*8;for(K=0;K<this.ej.length;K++){bU=this.ej[K];bU.KD=85;if(K===this.ej.length-1){bU.KD=100;}bU.pyramid=this;bU.id=K;bU.pool=new IPCC.QS();bU.pool.uiDirector=iC;yP=AT*bU.cB*bU.cB;bU.width=Math.round(bx.width*bU.cB);bU.height=Math.round(bx.height*bU.cB);bU.nk=bU.width;bU.zO=bU.height;if(K>2&&K>this.ej.length-2){bU.nk=Math.min(nk/2,bU.width);bU.zO=Math.min(nk/2,bU.height);}if(yP>aEr){bU.nk=Math.min(nk,bU.width);bU.zO=Math.min(nk,bU.height);}bU.tiles=[];Ce=bU.nk;for(aD=0;aD<bU.width;aD+=Ce){Ce=bU.nk;if(aD+Ce*1.25>bU.width){Ce=bU.width-aD;}BO=bU.zO;for(cF=0;cF<bU.height;cF+=BO){BO=bU.zO;if(cF+BO*1.25>bU.height){BO=bU.height-cF;}tile=new IPCC.wf();tile.level=bU;if(L.qp()===false){var QC='jpeg';if(bU.KD>=100){QC='png';}tile.contentType=QC;tile.wo=2;tile.xB=2;tile=this.expandTile(tile,aD,cF,Ce,BO,bU);if(tile.bz!==bU.width||tile.cq!==bU.height){tile.url=L.Wh('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bz.toString()+'/'+tile.cq.toString(),'Scale='+bU.cB.toString()+'&Quality='+bU.KD+'&ContentType='+QC);}else{tile.url=L.Wh('','Scale='+bU.cB.toString()+'&Quality='+bU.KD+'&ContentType='+QC);}}else{tile.url=L.Wh('','Scale='+bU.cB.toString()+'&ContentType='+IPCC.G.zQ);tile.aGV=iC.aiN();}tile.right=tile.x+tile.bz;tile.bottom=tile.y+tile.cq;bU.tiles.push(tile);}}}};module.exports=pW;},{}],33:[function(require,module,exports){var qU=function(){this.ah=false;this.L=false;};qU.prototype.mU=function(L){this.L=L;};qU.prototype.fv=function(){this.L=false;};qU.prototype.aJ=function(){if(this.ah){this.L.az().hideMagnifier();this.ah=false;}};qU.prototype.qx=function(){this.aJ();};qU.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){this.ah=true;this.L.az().showMagnifier(h.windowPoint);this.L.cl();}};qU.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){this.L.az().showMagnifier(h.windowPoint);this.L.cl();}};qU.prototype.kk=function(){this.aJ();this.L.cl();};qU.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};module.exports=qU;},{}],34:[function(require,module,exports){var fo=function(gK,jr,iX,hC,fg,fE){if(arguments.length===0){gK=hC=1;jr=iX=fg=fE=0;}this.amX=function(){return gK*hC-jr*iX;};this.aHy=function(){return gK===1&&jr===0&&iX===0&&hC===1&&fg===0&&fE===0;};this.pE=function(){return gK;};this.qW=function(){return jr;};this.rq=function(){return iX;};this.sT=function(){return hC;};this.xd=function(){return fg;};this.wl=function(){return fE;};this.append=function(cS){var IL=gK*cS.pE()+jr*cS.rq();var Jd=gK*cS.qW()+jr*cS.sT();var JG=iX*cS.pE()+hC*cS.rq();var Jz=iX*cS.qW()+hC*cS.sT();var Ha=fg*cS.pE()+fE*cS.rq()+cS.xd();var GL=fg*cS.qW()+fE*cS.sT()+cS.wl();gK=IL;jr=Jd;iX=JG;hC=Jz;fg=Ha;fE=GL;};this.equals=function(C){if(gK!==C.pE()){return false;}if(jr!==C.qW()){return false;}if(iX!==C.rq()){return false;}if(hC!==C.sT()){return false;}if(fg!==C.xd()){return false;}if(fE!==C.wl()){return false;}return true;};this.yx=function(){if(!this.ang()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Dz=this.amX();var IL=hC/Dz;var Jd= -jr/Dz;var JG= -iX/Dz;var Jz=gK/Dz;var Ha=(iX*fE-hC*fg)/Dz;var GL=(jr*fg-gK*fE)/Dz;gK=IL;jr=Jd;iX=JG;hC=Jz;fg=Ha;fE=GL;};this.GW=function(cS){var IL=cS.pE()*gK+cS.qW()*iX;var Jd=cS.pE()*jr+cS.qW()*hC;var JG=cS.rq()*gK+cS.sT()*iX;var Jz=cS.rq()*jr+cS.sT()*hC;var Ha=cS.xd()*gK+cS.wl()*iX+fg;var GL=cS.xd()*jr+cS.wl()*hC+fE;gK=IL;jr=Jd;iX=JG;hC=Jz;fg=Ha;fE=GL;};this.wp=function(ic,sY,mc,ni){fg-=mc;fE-=ni;this.scale(ic,sY);fg+=mc;fE+=ni;};this.apb=function(){gK=hC=1;jr=iX=fg=fE=0;};this.transform=function(bw){var aD=bw.x*gK+bw.y*iX+fg;var cF=bw.y*hC+bw.x*jr+fE;return new IPCC.Web.UI.Point(aD,cF);};this.mi=function(Vc,UZ){fg+=Vc;fE+=UZ;};this.aGu=function(C){if(Math.abs(gK-C.pE())>1e-8){return false;}if(Math.abs(jr-C.qW())>1e-8){return false;}if(Math.abs(iX-C.rq())>1e-8){return false;}if(Math.abs(hC-C.sT())>1e-8){return false;}if(Math.abs(fg-C.xd())>1e-8){return false;}if(Math.abs(fE-C.wl())>1e-8){return false;}return true;};this.toString=function(){return '{'+gK.toFixed(6)+', '+jr.toFixed(6)+', '+iX.toFixed(6)+', '+hC.toFixed(6)+', '+fg.toFixed(3)+', '+fE.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fo(gK,jr,iX,hC,fg,fE);};this.Pi=function(gQ){gK=gQ.pE();jr=gQ.qW();iX=gQ.rq();hC=gQ.sT();fg=gQ.xd();fE=gQ.wl();};this.aoF=function(bB,aa){gK=1;hC=aa.gH*bB.hA/(bB.gH*aa.hA);jr=iX=fg=fE=0;};this.Ru=function(al,bB,aa){switch(al){case IPCC.Web.UI.FitType.FullImage:this.aog(bB,aa);break;case IPCC.Web.UI.FitType.FullWidth:this.aio(bB,aa);break;case IPCC.Web.UI.FitType.FullHeight:this.aiJ(bB,aa);break;case IPCC.Web.UI.FitType.ActualSize:this.aiT(bB,aa);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bB.qz)){this.aiT(bB,aa);}else{this.aoI(bB,aa);}break;}};this.aio=function(bB,aa){var mu=this.pY(bB);var BD=aa.width-2;if(BD<1){BD=1;}var bv=BD/mu.width;this.scale(bv,bv);mu=this.pY(bB);if(mu.y<0){this.mi(0,-mu.y);}};this.aiJ=function(bB,aa){var mu=this.pY(bB);var BD=aa.height-2;if(BD<1){BD=1;}var bv=BD/mu.height;this.scale(bv,bv);mu=this.pY(bB);if(mu.x<0){this.mi(-mu.x,0);}};this.aog=function(bB,aa){var la=this.clone();la.aio(bB,aa);this.aiJ(bB,aa);if(Math.max(Math.abs(gK),Math.abs(jr))>Math.max(Math.abs(la.pE()),Math.abs(la.qW()))){this.Pi(la);}};this.aiT=function(bB,aa){var mu=this.pY({x:0,y:0,width:bB.hA,height:bB.gH});var bv=aa.hA/mu.width;this.scale(bv,bv);};this.aoI=function(bB,aa){var mu=this.pY({x:0,y:0,width:1,height:1});var bv=1/Math.min(mu.width,mu.height);this.scale(bv,bv);if(Math.abs(gK-1)<0.0001){gK=1;}if(Math.abs(hC-1)<0.0001){hC=1;}};return this;};fo.prototype.ang=function(){return Math.abs(this.amX())>1e-14;};fo.prototype.rotate=function(BZ){this.acx(BZ,0,0);};fo.prototype.acx=function(BZ,mc,ni){var KB=BZ*Math.PI*2/360;var jy=Math.sin(KB);var fK=Math.cos(KB);var cS=new IPCC.fo(fK,jy,-jy,fK,mc*(1-fK)+ni*jy,ni*(1-fK)-mc*jy);this.append(cS);};fo.prototype.azY=function(BZ,mc,ni){var KB=BZ*Math.PI*2/360;var jy=Math.sin(KB);var fK=Math.cos(KB);var cS=new IPCC.fo(fK,jy,-jy,fK,mc*(1-fK)+ni*jy,ni*(1-fK)-mc*jy);this.GW(cS);};fo.prototype.aGO=function(BZ){this.azY(BZ,0,0);};fo.prototype.scale=function(ic,sY){var cS=new IPCC.fo(ic,0,0,sY,0,0);this.append(cS);};fo.prototype.aHi=function(ic,sY,mc,ni){var cS=new IPCC.fo(ic,0,0,sY,mc*(1-ic),ni*(1-sY));this.GW(cS);};fo.prototype.aIg=function(ic,sY){var cS=new IPCC.fo(ic,0,0,sY,0,0);this.GW(cS);};fo.prototype.skew=function(pI,ro){var cS=new IPCC.fo(1,Math.tan(ro*Math.PI*2/360),Math.tan(pI*Math.PI*2/360),1,0,0);this.append(cS);};fo.prototype.aFX=function(pI,ro){var cS=new IPCC.fo(1,Math.tan(ro*Math.PI*2/360),Math.tan(pI*Math.PI*2/360),1,0,0);this.GW(cS);};fo.prototype.aGT=function(Vc,UZ){var cS=new IPCC.fo(1,0,0,1,Vc,UZ);this.GW(cS);};fo.prototype.zR=function(R){var fp=this.transform({x:R.x,y:R.y});var mK=fp.x;var ml=fp.x;var jJ=fp.y;var nx=fp.y;fp=this.transform({x:R.x+R.width,y:R.y});mK=Math.min(mK,fp.x);ml=Math.max(ml,fp.x);jJ=Math.min(jJ,fp.y);nx=Math.max(nx,fp.y);fp=this.transform({x:R.x+R.width,y:R.y+R.height});mK=Math.min(mK,fp.x);ml=Math.max(ml,fp.x);jJ=Math.min(jJ,fp.y);nx=Math.max(nx,fp.y);fp=this.transform({x:R.x,y:R.y+R.height});mK=Math.min(mK,fp.x);ml=Math.max(ml,fp.x);jJ=Math.min(jJ,fp.y);nx=Math.max(nx,fp.y);return new IPCC.Web.UI.Rectangle(mK,jJ,ml-mK,nx-jJ);};fo.prototype.anK=function(bB,aa,dY){var aiw=this.clone();aiw.yx();var aAA=aiw.transform({x:dY.x+dY.width/2,y:dY.y+dY.height/2});var bv=Math.min(aa.width/dY.width,aa.height/dY.height);bv-=1e-10;var jT=this.qG();if(jT*bv>bB.sN){bv=bB.sN/jT;}if(jT*bv<bB.rC){bv=bB.rC/jT;}this.scale(bv,bv);this.aiZ(aa,aAA);};fo.prototype.QL=function(bB,aa,eL){this.anK(bB,aa,this.zR(eL));};fo.prototype.aHI=function(aa){this.wp(1,-1,aa.width/2,aa.height/2);};fo.prototype.aov=function(aa){this.wp(-1,1,aa.width/2,aa.height/2);};fo.prototype.Vv=function(awh,ane){var air=this.transform(awh);this.mi(ane.x-air.x,ane.y-air.y);};fo.prototype.aiZ=function(aa,df){var alh=this.transform(df);this.mi(aa.width/2-alh.x,aa.height/2-alh.y);};fo.prototype.iV=function(bx,aa){var aD=0,cF=0,end;var mY=this.pY(bx);if(mY.width<aa.width){aD=(aa.width-mY.width)/2-mY.x;}else{end=mY.x+mY.width;if(end<aa.width){aD=aa.width-end;}if(mY.x>0){aD= -mY.x;}}if(mY.height<aa.height){cF=(aa.height-mY.height)/2-mY.y;}else{end=mY.y+mY.height;if(end<aa.height){cF=aa.height-end;}if(mY.y>0){cF= -mY.y;}}this.mi(aD,cF);};fo.prototype.pY=function(bx){return this.zR({x:0,y:0,width:bx.width,height:bx.height});};fo.prototype.arJ=function(){var ip,zC,im,yM,acG,iF;ip=this.transform({x:0,y:0});zC=this.transform({x:0,y:1});im=this.transform({x:1,y:0});yM=Math.atan2(zC.y-ip.y,zC.x-ip.x);acG=Math.atan2(im.y-ip.y,im.x-ip.x);iF=yM-acG;if(iF>Math.PI){iF=iF-2*Math.PI;}if(iF< -Math.PI){iF=iF+2*Math.PI;}return iF<0;};fo.prototype.agc=function(){var ip,zC,yM;ip=this.transform({x:0,y:0});zC=this.transform({x:0,y:1});yM=Math.atan2(zC.y-ip.y,zC.x-ip.x)-Math.PI/2;if(yM<0){yM=yM+2*Math.PI;}return yM*360/(Math.PI*2);};fo.prototype.qG=function(){var gj;var ip,qi;var fN,fJ,cB;ip=this.transform({x:0,y:0});qi=this.transform({x:1,y:0});fN=qi.x-ip.x;fJ=qi.y-ip.y;gj=fN*fN+fJ*fJ;qi=this.transform({x:0,y:1});fN=qi.x-ip.x;fJ=qi.y-ip.y;cB=Math.min(gj,fN*fN+fJ*fJ);qi=this.transform({x:1,y:1});fN=qi.x-ip.x;fJ=qi.y-ip.y;cB=Math.min(gj,fN*fN+fJ*fJ);qi=this.transform({x:1,y: -1});fN=qi.x-ip.x;fJ=qi.y-ip.y;cB=Math.min(gj,fN*fN+fJ*fJ);return Math.sqrt(gj);};fo.aIz=function(){return new IPCC.fo(1,0,0,1,0,0);};module.exports=fo;},{}],35:[function(require,module,exports){var fk={aeJ:1,ade:2,aaK:3,adU:4,alI:5,Gh:6,LQ:7,ahh:8,ajq:9,amg:10,amM:11,alH:12,amt:13,amf:14,abb:15,adp:16};module.exports=fk;},{}],36:[function(require,module,exports){var dI=function(){this.L=false;this.ayu=1.5;};dI.prototype.mU=function(L){this.L=L;};dI.prototype.fv=function(){this.L=false;};dI.prototype.aJ=function(){};dI.prototype.mQ=function(h){var aS=this.L.az();var bB=this.L.bZ();var aa=this.L.eo();var bm=aS.eT();var MC=h.wheelDelta/120;if(h.domEvent.ctrlKey){h.domEvent.preventDefault();var bv=((this.ayu-1)/2)+1;if(MC<0){bv=1/bv;}var jT=bm.qG();if(jT*bv>bB.sN){bv=bB.sN/jT;}if(jT*bv<bB.rC){bv=bB.rC/jT;}bm.wp(bv,bv,h.windowPoint.x,h.windowPoint.y);bm.iV(bB,aa);this.L.bF('userModifiedViewState',{});aS.jg(bm);}else{var adZ=bm.transform({x:0,y:0});bm.mi(0,MC*aa.gH);bm.iV(bB,aa);var aeK=bm.transform({x:0,y:0});if(Math.abs(adZ.x-aeK.x)>0.001||Math.abs(adZ.y-aeK.y)>0.001){h.domEvent.preventDefault();this.L.bF('userModifiedViewState',{});aS.jg(bm);}}this.L.cl();};module.exports=dI;},{}],37:[function(require,module,exports){var cn=function(alK){this.alK=alK;this.SU=0;this.OX=1;this.Pu=2;this.TE=3;this.Tj=4;this.cP=this.SU;this.L=false;this.nb=0;};cn.prototype.mU=function(L){this.L=L;this.aS=L.az();};cn.prototype.fv=function(){this.L=false;};cn.prototype.aJ=function(){if(this.cP===this.Pu){this.L.az().hideMagnifier();}this.cP=this.SU;};cn.prototype.NA=function(h){var bb=h.domEvent.rawEvent;switch(this.cP){case this.SU:if(bb.touches.length===1){this.ayI(h);}else if(bb.touches.length===2){this.acU(h);}else if(bb.touches.length===3){this.Ur(h);}else{this.aJ();}break;case this.OX:if(bb.touches.length===2){this.acU(h);}else if(bb.touches.length===3){this.Ur(h);}else{this.aJ();}break;case this.Tj:if(bb.touches.length!==3){this.aJ();}break;case this.Pu:this.aJ();break;case this.TE:if(bb.touches.length===3){this.Ur(h);}else if(bb.touches.length!==2){this.aJ();}break;}};cn.prototype.Nc=function(h){switch(this.cP){case this.OX:this.nb++;break;case this.Pu:this.aan(h);break;case this.TE:this.azE(h);break;case this.Tj:this.awX(h);break;}};cn.prototype.Ng=function(){this.aJ();};cn.prototype.IM=function(){this.aJ();};cn.prototype.ayI=function(h){this.cP=this.OX;this.nb++;var aFv=this.nb;var T=this;function att(){if(T.cP===this.OX&&aFv===T.nb){T.axY(h);}};setTimeout(att,1000);};cn.prototype.axY=function(h){this.L.fU('qx',h);this.aan(h);this.cP=this.Pu;};cn.prototype.Ur=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length!==3){this.aJ();return;}var gU=bb.touches[0];var dq={x:gU.screenX,y:gU.screenY};var cS=this.aS.eT();cS.yx();this.RJ=dq;this.aAK=dq;this.Yn=cS.transform(dq);this.cP=this.Tj;this.aGz=this.aS.eT();this.adT=true;this.adQ=true;};cn.prototype.awX=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length!==3){this.aJ();return;}var gU=bb.touches[0];var dq={x:gU.screenX,y:gU.screenY};var arw=Math.abs(dq.x-this.RJ.x);var ast=Math.abs(dq.y-this.RJ.y);if(arw>35){this.adQ=false;}if(ast>35){this.adT=false;}if(this.adT){dq.y=this.RJ.y;}if(this.adQ){dq.x=this.RJ.x;}this.aAK=dq;var bm=this.aS.eT();var aa=this.L.eo();var bB=this.L.bZ();bm.Vv(this.Yn,dq);bm.iV(bB,aa);this.aS.jg(bm);};cn.prototype.aIe=function(){};cn.prototype.aiW=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length!==2){this.aJ();return{};}var Qc=bb.touches[0];var KC=bb.touches[1];var fN=Qc.screenX-KC.screenX;var fJ=Qc.screenY-KC.screenY;var vs=Math.sqrt(fN*fN+fJ*fJ);var iF=Math.atan2(fN,fJ)*180/Math.PI;var bw={x:(Qc.screenX+KC.screenX)/2,y:(Qc.screenY+KC.screenY)/2};return{vs:vs,iF:iF,afV:bw};};cn.prototype.acU=function(h){this.cP=this.TE;this.aDw=this.aiW(h);this.Qe=this.aDw;var cS=this.aS.eT();cS.yx();this.Yn=cS.transform(this.Qe.afV);this.FU=this.Qe.iF;};cn.prototype.aan=function(h){var bb=h.domEvent.rawEvent;var gU=bb.touches[0];var dq={x:gU.screenX,y:gU.screenY};this.aS.showMagnifier(dq);};cn.prototype.azE=function(h){var ya=this.aiW(h);var cB=ya.vs/this.Qe.vs;var bm=this.aS.eT();var aa=this.L.eo();var bB=this.L.bZ();bm.scale(cB,cB);var Bx=this.FU-ya.iF;var amj=this.FU-ya.iF-360;var alC=this.FU-ya.iF+360;if(Math.abs(Bx)>Math.abs(amj)){Bx=amj;}if(Math.abs(Bx)>Math.abs(alC)){Bx=alC;}if(Bx< -40){bm.rotate(-90);this.FU=ya.iF;}else if(Bx>40){bm.rotate(90);this.FU=ya.iF;}bm.Vv(this.Yn,ya.afV);bm.iV(bB,aa);this.aS.jg(bm);this.Qe=ya;};cn.prototype.aIl=function(h){var bm=this.aS.eT();var aa=this.L.eo();var bB=this.L.bZ();bm.Ru(IPCC.Web.UI.FitType.FullImage,bB,aa);bm.iV(bB,aa);this.aS.jg(bm);};cn.prototype.mQ=function(){this.aJ();};module.exports=cn;},{}],38:[function(require,module,exports){var cZ=require('./IPCC.Util').regClass;var MP=function(){return this;};MP.registerClass=cZ;MP.prototype={};MP.registerClass('IPCC.OpenPageEventArgs');module.exports=MP;},{"./IPCC.Util":28}],39:[function(require,module,exports){var cZ=require('./IPCC.Util').regClass;var ME=function(){return this;};ME.registerClass=cZ;ME.prototype={};ME.registerClass('IPCC.PageEventArgs');module.exports=ME;},{"./IPCC.Util":28}],40:[function(require,module,exports){var bd=function(bp){this.ep=bp.page;this.ay=0;this.an=0;this.gz=0;this.fS=0;var bh=new IPCC.Web.UI.gd();this.aft=undefined;this.he=false;this.avr=false;this.Hl=0;this.aHU=undefined;this.zW=false;this.vQ=false;this.Dk=false;this.gA=0;this.Ed=0;this.CP=false;this.Fq=false;this.bf=new IPCC.Web.UI.ArtPage();this.fL=new IPCC.Web.UI.ArtPage();this.ct=this.ep.get_pageNumber();this.bG=this.ep.aW.OR+'_'+this.ct+'__pViewId';this.aW=this.ep.aW;this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};return this;};bd.prototype.jK=function(){if(this.ep){return this.ep.jP()||this.ay;}return this.ay;};bd.prototype.qZ=function(){if(this.ep){return this.ep.jq()||this.an;}return this.an;};bd.prototype.UE=function(bool){bool= ! !bool;if(this.ep){this.ep.CP=bool;}this.CP=bool;};bd.prototype.ahN=function(){if(this.ep){return this.ep.CP||this.CP;}return this.CP;};module.exports=bd;},{}],41:[function(require,module,exports){var eC=require('./IPCC.Util').regEnum;var CL=function(){};CL.registerEnum=eC;CL.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};CL.registerEnum('IPCC.PageLayout',false);module.exports=CL;},{"./IPCC.Util":28}],42:[function(require,module,exports){var cZ=require('./IPCC.Util').regClass;var avD=function(){this.dK=undefined;return this;};var Ns=function(element){var T=this;var Hb=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var awI=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bh=new IPCC.Web.UI.gd();var af=[];var aqP;var am='';var AW='';var aj='';var ko='';var JT='';var Kf=0;this.zj=new IPCC.Web.UI.ImGearDocumentCollection();var Jc=[];this.aIq=0;this.aEO={x:0,y:0};var lV=0;var oe=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var mN=false;var cD=0;var uM=false;var QO=[];var EW='';var cv=1;var qw=0;var lb=1;var sq=1;var aw=IPCC.Web.UI.MouseTool.None;var Bg=false;var rW=true;var aU=IPCC.bK.None;var iq;var hi=0;var jD=0;var acZ=0;var eE=0;var fZ=15;var iO=0;var gP=15;var oZ=0;var nS=0;var qu=0;var pk=0;var asp=0;var gb=0;var fO=0;var ox=1;var et=IPCC.PageLayout.VerticalScrollDirection;var dN=IPCC.ViewMode.Document;var mj=null;var TC=null;var Pw=0;var VS=0;var ym=0;var AP=false;var le=null;var IY=0;var Kp='';var FS='';var rr=[];var CU=0;var wY=3;var RN=0.5;var IS=true;var Oj=false;var QK=false;var XD;var rz=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var tJ=true;var kL;var cc={};var uU=false;var lC=function(){return null;};var ig=null;var acF="font-size:11px;color:#888;text-align:center;cursor:pointer;";var ati=acF+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var arX=acF+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var dn=96;var aP;function nA(Jg){if(!_debug){return false;}return oe>=Jg;};this.by=function(iR,ik){if(!nA(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var du=iR+'() threw an exception ('+ik.name+'), "'+ik.message+'"';du=du.replace(/\n/g," ");IPCC.iZ.nF(du,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mE().id);var lQ=new IPCC.ExceptionEventArgs();lQ.functionName=iR;lQ.exception=ik;this.bF('exceptionThrown',lQ);};this.aK=function(iR,lk,tj){if(!nA(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],(tj?tj:0));}du+=')';this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);};this.CT=function(iR,lk,lK,tj){if(!nA(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],(tj?tj:0));}du+=') = ';du+=IPCC.iZ.rO(lK,1);this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);};this.dH=function(iR,lk,lK){if(!nA(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],0);}du+=') = ';du+=IPCC.iZ.rO(lK,1);this.tw(du,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tw=function(kV,bU){IPCC.iZ.nF(kV,IPCC.Web.UI.DebugItemCause.FunctionCall,bU,'PageList',this.mE().id);};this.nF=function(kV){IPCC.iZ.nF(kV,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.mE().id);};this.JP=function(){return _debug;};this.YG=function(C){var Hh= ! !C;if(_debug===Hh){return;}_debug=Hh;var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K=0;for(K=0;K<bY.length;K++){var bq;if(af[bY[K]].bG){bq=document.getElementById(af[bY[K]].bG).aV;}if(bq){bq.set_debug(_debug);}}this.dE('debug');};this.zz=function(){return oe;};this.Iw=function(C){IPCC.aL.kw(C,'value',IPCC.Web.UI.DebugErrorLevel);if(oe===C){return;}oe=C;var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K=0;for(K=0;K<bY.length;K++){var bq;if(af[bY[K]].bG){bq=document.getElementById(af[bY[K]].bG).aV;}if(bq){bq.set_debugErrorLevel(oe);}}this.dE('debugErrorLevel');};function cX(dA,H){bh.addHandler(dA,H);};function dh(dA,H){bh.removeHandler(dA,H);};this.Or=function(H){cX('mouseDown',H);};this.Zi=function(H){dh('mouseDown',H);};this.Nf=function(H){cX('mouseMove',H);};this.Zv=function(H){dh('mouseMove',H);};this.NL=function(H){cX('mouseUp',H);};this.Yh=function(H){dh('mouseUp',H);};this.Vz=function(H){cX('selectTextMouseToolCompleted',H);};this.YM=function(H){dh('selectTextMouseToolCompleted',H);};this.Cc=function(H){cX('textPageReady',H);};this.Do=function(H){dh('textPageReady',H);};this.US=function(H){cX('hyperlinkPageReady',H);};this.afz=function(H){dh('hyperlinkPageReady',H);};this.art=function(H){cX('allPagesAdded',H);};this.aCm=function(H){dh('allPagesAdded',H);};this.VT=function(H){cX('pageOpening',H);};this.ZR=function(H){dh('pageOpening',H);};this.Wb=function(H){cX('pageOpened',H);};this.YQ=function(H){dh('pageOpened',H);};this.JL=function(H){cX('pageOpenFailed',H);};this.HQ=function(H){dh('pageOpenFailed',H);};this.VJ=function(H){cX('pageDisplayed',H);};this.Yk=function(H){dh('pageDisplayed',H);};this.jS=function(H){cX('propertyChanged',H);};this.nv=function(H){dh('propertyChanged',H);};this.Vs=function(H){cX('exceptionThrown',H);};this.Ze=function(H){dh('exceptionThrown',H);};this.zP=function(H){cX('textExtractionFailed',H);};this.Eh=function(H){dh('textExtractionFailed',H);};this.zo=function(H){cX('markAdded',H);};this.xI=function(H){dh('markAdded',H);};this.Uq=function(H){cX('markCreating',H);};this.ZS=function(H){dh('markCreating',H);};this.Ie=function(H){cX('markChanged',H);};this.He=function(H){dh('markChanged',H);};this.Jv=function(H){cX('markReordered',H);};this.HS=function(H){dh('markReordered',H);};this.JZ=function(H){cX('markSelectionChanged',H);};this.Hg=function(H){dh('markSelectionChanged',H);};this.Ki=function(H){cX('markTextSelectionChanged',H);};this.Ho=function(H){dh('markTextSelectionChanged',H);};this.zx=function(H){cX('markRemoved',H);};this.xO=function(H){dh('markRemoved',H);};this.ash=function(H){cX('commentAdding',H);};this.aBv=function(H){dh('commentAdding',H);};this.vB=function(H){cX('commentAdded',H);};this.CW=function(H){dh('commentAdded',H);};this.vL=function(H){cX('commentRemoved',H);};this.Dh=function(H){dh('commentRemoved',H);};this.sM=function(H){cX('commentChanged',H);};this.ub=function(H){dh('commentChanged',H);};this.VA=function(H){cX('scaleChanged',H);};this.ZB=function(H){dh('scaleChanged',H);};this.NP=function(){var aV=document.getElementById(af[cD].bG).aV;if(aV){return aV.get_currentState();}else{return null;}};this.ana=function(){var aR=IPCC.G.find(af,function(fp){return fp.ct===cD;});if(!aR){return;}return aR.ep;};this.asT=function(aZ){var aR=IPCC.G.find(af,function(fp){return fp.ct===cD;});if(!aR){return;}return aR.bG;};this.qG=function(){return cv;};this.apq=function(cB){kE(cB,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Qk=function(bv,qV,Un,eh){eh=eh||IPCC.ScaleTrigger.Zoom;kE(cv*bv,Un,undefined,undefined,undefined,qV,eh);};this.aoo=function(bv,aD,cF,EA,eh){eh=eh||IPCC.ScaleTrigger.Zoom;if(cv*bv<8){kE(cv*bv,false,aD,cF,EA,undefined,eh);}else{kE(8,false,aD,cF,EA);}};this.Wz=function(bv,eh){eh=eh||IPCC.ScaleTrigger.Zoom;kE(cv/bv,false,undefined,undefined,undefined,undefined,eh);};this.auk=function(){return RM();};this.aeM=function(eh,ea,abm){var Kd,Kt,ay,an;var Rs=0;var K=0;for(K=0;K<af.length;K++){ay=af[K].jK();an=af[K].qZ();if(hZ(af[K].gA)===true){var Gg=ay;ay=an;an=Gg;}if(ay>0&&an>0){var JJ=ay/an;if(JJ>Rs){Rs=JJ;Kd=an;Kt=ay;}}}if(Rs>0){var aqI=(am.offsetWidth-IPCC.Web.nY()-vO()-(fZ+gP+nS+pk));var ard=aqI/(Kt*dn/af[0].gz);var fM=hi;var fG=jD;if(hZ(af[0].gA)===true){fM=jD;fG=hi;}var ajU=Kd/fG*ard;var jW=(am.clientHeight-(eE+iO+oZ+qu))/(fG*dn/af[0].fS);var Jo=ajU;if(abm===true&&ajU>jW){Jo=jW;}kE(Jo,true,undefined,undefined,undefined,undefined,eh,ea);}};this.aeG=function(eh,ea,abm){var Kd,Kt,ay,an;var Tw=0;var K=0;for(K=0;K<af.length;K++){ay=af[K].jK();an=af[K].qZ();if(hZ(af[K].gA)===true){var Gg=ay;ay=an;an=Gg;}if(ay>0&&an>0){var JJ=an/ay;if(JJ>Tw){Tw=JJ;Kd=an;Kt=ay;}}}if(Tw>0){var aoT=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu));var aqG=aoT/(Kd*dn/af[0].fS);var fM=hi;var fG=jD;if(hZ(af[0].gA)===true){fM=jD;fG=hi;}var ajX=Kt/fM*aqG;var jW=(am.clientWidth-vO()-(fZ+gP+nS+pk))/(fM*dn/af[0].gz);var Jo=ajX;if(abm===true&&ajX>jW){Jo=jW;}kE(Jo,true,undefined,undefined,undefined,undefined,eh,ea);}};this.arP=function(ea,eh){if(T.vp&&typeof T.vp==='function'){T.vp();}var ay;var an;var eO;var lg=1;eh=eh||IPCC.ScaleTrigger.Fit;if(ea===IPCC.FitType.FitToWidth){if(dN===IPCC.ViewMode.Document){lg=(am.offsetWidth-IPCC.Web.nY()-vO()-(fZ+gP+nS+pk))/(gb/cv);kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else if(dN===IPCC.ViewMode.SinglePage){if(hZ(af[cD].gA)===true){ay=af[cD].qZ();eO=dn/af[cD].fS;}else{ay=af[cD].jK();eO=dn/af[cD].gz;}lg=(am.offsetWidth-IPCC.Web.nY()-vO()-(fZ+gP+nS+pk))/(ay*eO);kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else{if(et===IPCC.PageLayout.VerticalScrollDirection){abf(eh,ea);}else{T.aeM(eh,ea);}}}else if(ea===IPCC.FitType.ShrinkToWidth){var apU=am.clientWidth-vO();var anG=20;var XF=apU-anG;if(dN===IPCC.ViewMode.SinglePage){if(hZ(af[cD].gA)===true){ay=af[cD].qZ();eO=dn/af[cD].fS;}else{ay=af[cD].jK();eO=dn/af[cD].gz;}if(XF<cv*ay*eO){lg=(am.offsetWidth-IPCC.Web.nY()-vO()-(fZ+gP+nS+pk))/(ay*eO);kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}}else{if(XF<gb){kE(cv*XF/gb,true,undefined,undefined,undefined,undefined,eh,ea);}}}else if(ea===IPCC.FitType.ActualSize){if(dN===IPCC.ViewMode.Document||dN===IPCC.ViewMode.SinglePage){kE(1,true,undefined,undefined,undefined,undefined,eh,ea);}}else if(ea===IPCC.FitType.FitToHeight){if(dN===IPCC.ViewMode.Document){lg=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu))/(fO/cv);kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else if(dN===IPCC.ViewMode.SinglePage){if(hZ(af[cD].gA)===true){an=af[cD].jK();eO=dn/af[cD].gz;}else{an=af[cD].qZ();eO=dn/af[cD].fS;}lg=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu))/(an*eO);kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else{if(et===IPCC.PageLayout.HorizontalScrollDirection){abf(eh,ea);}else{T.aeG(eh,ea);}}}else if(ea===IPCC.FitType.BestFit){var CR;if(dN===IPCC.ViewMode.Document){lg=(am.offsetWidth-IPCC.Web.nY()-(fZ+gP+nS+pk))/(gb/cv);CR=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu))/(fO/cv);if(CR<lg){lg=CR;}kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else if(dN===IPCC.ViewMode.SinglePage){if(hZ(af[cD].gA)===true){ay=af[cD].qZ();an=af[cD].jK();eO=dn/af[cD].gz;}else{ay=af[cD].jK();an=af[cD].qZ();eO=dn/af[cD].fS;}lg=(am.offsetWidth-IPCC.Web.nY()-vO()-(fZ+gP+nS+pk))/(ay*eO);CR=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu))/(an*eO);if(CR<lg){lg=CR;}kE(lg,true,undefined,undefined,undefined,undefined,eh,ea);}else{if(et===IPCC.PageLayout.HorizontalScrollDirection){T.aeM(eh,ea,true);}else{T.aeG(eh,ea,true);}}}};this.avX=function(ax,bL){var aR=af[ax-1];var bn=document.getElementById(aR.bG);var CB=[];if(bn){var fs,AY,bw;try{fs=Vw(bn);}catch(e){return null;}CB=IPCC.G.map(bL,function(fp){AY=bn.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(fp.x,fp.y),true);bw=ahg(bn,AY.x,AY.y,fs);return{clientX:bw.x,clientY:bw.y};});return CB;}else{return null;}};this.axv=function(){var K=0;for(K=0;K<af.length;K++){T.cl(K);}iW();oD();};this.cl=function(aZ){var bA;if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}T.yH(bA,aZ);};this.Kb=function(aZ){var bA;if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}if(bA){var bq=bA.aV;bq.Kb();}};this.yH=function(bA,aZ){if(bA&&bA.aV&&bA.aV.eP()===true){var bq=bA.aV;bq.display();af[aZ].he=true;if(dN===IPCC.ViewMode.SinglePage){var oW= -1;if(Array.prototype.indexOf){oW=rr.indexOf(aZ);}else{oW=IPCC.Web.kQ(rr,aZ);}if(oW!== -1){rr.splice(oW,1);}}}};function aiv(bY){var bA;for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);var aZ=aR.get_pageNumber();if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}if(bA&&bA.aV&&bA.aV.Eu()!==null){return bA.aV;}}return null;};this.Hq=function(){var bY=this.get_displayedPages();var PG=aiv(bY);PG.Hq();};this.BH=function(bv){var gT=0;var hH=af.length-1;for(var ar=gT;ar<=hH;ar++){var bq;var bA=document.getElementById(af[ar].bG);if(bA){bq=bA.aV;}else{continue;}bq.set_sharpening(bv);if(bq&&af[ar].he===true&&bq.eP()===true){bq.display();}}qw=bv;};this.auj=function(){return qw;};this.Fd=function(bv){var gT=0;var hH=af.length-1;for(var ar=gT;ar<=hH;ar++){var bq;var bA=document.getElementById(af[ar].bG);if(bA){bq=bA.aV;}else{continue;}bq.set_gamma(bv);if(bq&&af[ar].he===true&&bq.eP()===true){bq.display();}}sq=bv;};this.auB=function(){return sq;};this.Cu=function(bv){var gT=0;var hH=af.length-1;for(var ar=gT;ar<=hH;ar++){var bq;var bA=document.getElementById(af[ar].bG);if(bA){bq=bA.aV;}else{continue;}bq.set_svgLineWidthMultiplier(bv);if(bq&&af[ar].he===true&&bq.eP()===true){bq.display();}}lb=bv;};this.atI=function(){return lb;};this.Eu=function(){var bY=this.get_displayedPages();var PG=aiv(bY);if(PG){return PG.Eu();}return null;};this.wN=function(aZ,V){var bA;if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}if(bA&&bA.aV){bA.aV.wN(V);}};this.oz=function(aZ){var bA;if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}if(bA&&bA.aV){bA.aV.oz();}};var tI='';this.vG=function(C){tI=C;};this.mE=function(){return tI;};this.bF=function(dA,h){try{var H=bh.getHandler(dA);if(H!==null){H(T,h);}}catch(e){T.by(dA+'Event',e);}};this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};this.axl=function(H){bh.addHandler('currentPageChanged',H);};this.aBK=function(H){bh.removeHandler('currentPageChanged',H);};this.AJ=function(dG,C){dG.style.cursor='move';dG.style.cursor='-webkit-'+C;dG.style.cursor='-moz-'+C;dG.style.cursor=C;};this.anu=function(){return aj.style.cursor||'auto';};this.apM=function(C){aj.style.cursor=C||'auto';var K=0;for(K=0;K<af.length;K++){if(af[K].bG){var bA=document.getElementById(af[K].bG);if(bA){var bq=bA.aV;bA.style.cursor=C;if(bq){bq.set_cursor(C);if(af[K].he===true&&bq.eP()===true){bq.display();}}}}}};this.SZ=function(){return aw;};this.HV=function(C){IPCC.aL.kw(C,'value',IPCC.Web.UI.MouseTool);var pp=false;if(aw!==C){iq=null;aw=C;switch(aw){case IPCC.Web.UI.MouseTool.HandPan:aU='grab';T.AJ(aj,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:T.vw();aU=IPCC.bK.Text;aj.style.cursor=IPCC.bK.dX(aU);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:T.vw();aU=IPCC.bK.Text;aj.style.cursor=IPCC.bK.dX(aU);break;case IPCC.Web.UI.MouseTool.None:aU=IPCC.bK.None;aj.style.cursor=IPCC.bK.dX(aU);break;case IPCC.Web.UI.MouseTool.Magnifier:aU=IPCC.bK.Magnifier;aj.style.cursor=IPCC.bK.dX(aU);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aU=IPCC.bK.RectangleZoom;aj.style.cursor=IPCC.bK.dX(aU);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aU=IPCC.bK.AddRectangleMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aU=IPCC.bK.AddRectangleRedactionMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aU=IPCC.bK.AddEllipseMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aU=IPCC.bK.AddLineMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.oR()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aU=IPCC.bK.AddStampMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aU=IPCC.bK.AddImageStampMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aU=IPCC.bK.AddImageStampMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aU=IPCC.bK.AddTextMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aU=IPCC.bK.AddTextMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aU=IPCC.bK.AddTextMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.eg(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aU=IPCC.bK.AddFreehandLineMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.lv()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aU=IPCC.bK.AddPolylineMark;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.kv(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aU=IPCC.bK.EditMarks;aj.style.cursor=IPCC.bK.dX(aU);pp=true;iq=function(){return[new IPCC.mC(IPCC.Web.UI.MarkType.Text)];};break;default:aU=IPCC.bK.None;aj.style.cursor=IPCC.bK.dX(aU);break;}var K=0;for(K=0;K<af.length;K++){if(af[K].bG){var bA=document.getElementById(af[K].bG);if(bA){var bq=bA.aV;if(aU==='grab'){T.AJ(bA,'grab');}else{bA.style.cursor=IPCC.bK.dX(aU);}if(bq){bq.set_cursor(aU);bq.LF(aw===IPCC.Web.UI.MouseTool.HandPan||aw===IPCC.Web.UI.MouseTool.EditMarks);if(pp===true){bq.HT(iq());}else{bq.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(af[K].he===true&&bq.eP()===true){bq.display();}}}}}this.dE('mouseTool');}};this.asM=function(){return Bg;};this.aqA=function(bool){Bg= ! !bool;};this.zV=function(){return rz;};this.Ic=function(C){if(rz!==C){rz=C;var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K=0;for(K=0;K<bY.length;K++){var bA;var bq;bA=document.getElementById(af[bY[K]].bG);bq=bA.aV;if(bq){bq.set_markHandleMode(rz);this.yH(bA,K);}}this.dE('markHandleMode');}};this.kB=function(){return rW;};this.Ib=function(C){if(rW!==C){rW=C;var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K=0;for(K=0;K<bY.length;K++){var bq;if(af[bY[K]].bG){bq=document.getElementById(af[bY[K]].bG).aV;}if(bq){bq.set_textRequired(rW);}}this.dE('textRequired');}};this.asN=function(){return wY;};this.apO=function(C){if(C<0){C=0;}if(wY!==C){wY=C;this.dE('maxPrefetch');}};this.asw=function(){return IS;};this.arW=function(C){if(IS!==C){IS=C;this.dE('displayPagesWhenScrolling');}};this.asH=function(){return CU;};this.apy=function(C){if(C<0){C=0;}if(CU!==C){CU=C;this.dE('maxOutOfViewDisplay');}};this.arL=function(){return Oj;};this.asv=function(C){if(Oj!==C){Oj= ! !C;this.dE('discardOutOfViewText');}};this.ask=function(){return QK;};this.apY=function(C){if(QK!==C){QK= ! !C;this.dE('retainPageText');}};this.auc=function(){return RN;};this.arj=function(C){if(C<0){C=0;}if(RN!==C){RN=C;this.dE('scrollDisplayThreshold');}};this.arN=function(){return et;};this.anZ=function(C){if(et===C){return;}et=C;if(am===''||am.clientHeight<=0||dN===IPCC.ViewMode.SinglePage){this.dE('pageLayout');return;}var tZ=cD;var Kl=dN;if(dN===IPCC.ViewMode.EqualWidthPages||dN===IPCC.ViewMode.EqualFitPages){T.NV(IPCC.ViewMode.Document);}am.scrollLeft=0;am.scrollTop=0;var K=0;var bA;if(et===IPCC.PageLayout.VerticalScrollDirection){if(JT){JT.setAttribute('style',ati);}AW.insertBefore(ko,JT);for(K=0;K<af.length;K++){bA=document.getElementById(af[K].bG);bA.style.display='block';if(hi>0){bA.style.margin=eE+'px auto '+iO+'px auto';}}aj.style.margin='0px '+fZ+'px 0px '+gP+'px';am.scrollLeft=(gb-am.clientWidth)/2+fZ+nS;}else{if(JT){JT.setAttribute('style',arX);}AW.removeChild(ko);for(K=0;K<af.length;K++){bA=document.getElementById(af[K].bG);if(bA){bA.style.display='inline-block';if(hi>0){bA.style.margin=eE+'px '+fZ+'px '+iO+'px '+gP+'px';}}}aj.style.margin='0px';am.scrollTop=(fO-am.clientHeight)/2+eE+oZ;}if(Kl===IPCC.ViewMode.EqualWidthPages){T.NV(IPCC.ViewMode.EqualWidthPages);}else if(Kl===IPCC.ViewMode.EqualFitPages){T.NV(IPCC.ViewMode.EqualFitPages);}this.pK(tZ);oD();this.dE('layout');};this.ato=function(){return dN;};this.NV=function(C,eh){eh=eh||IPCC.ScaleTrigger.ViewMode;if(dN===C){return;}dN=C;if(am===''||am.clientHeight<=0){this.dE('viewMode');return;}var tZ=cD;this.pK(tZ);if(dN===IPCC.ViewMode.Document){var jW=1;var ay=hi;var an=jD;if(hZ(qf)===true){ay=jD;an=hi;}if(et===IPCC.PageLayout.VerticalScrollDirection){jW=(am.clientWidth-(fZ+gP+nS+pk))/ay;}else{jW=(am.clientHeight-(eE+iO+oZ+qu))/an;}kE(jW,true,undefined,undefined,undefined,undefined,eh);}else{abf(eh);}this.pK(tZ);this.dE('viewMode');Bl(cc,true);lf(cc,true);};var qf=0;this.atc=function(){return qf;};this.arb=function(C){if(qf!==C){qf=C;var K=0;for(K=0;K<af.length;K++){if(af[K].Ed===0){af[K].gA=qf;}}this.dE('pageRotation');}};this.WU=function(ax){var ct;if(arguments.length>0){if(!isNaN(ax)){ct=ax;}else{ct=cD;}}else{ct=cD;}for(var K=0;K<af.length;K++){if(ct===K){return af[K].gA;}}return 0;};var or=false;this.ij=function(){return or;};this.nZ=function(C){if(typeof C!=="boolean"){return;}if(C===or){return;}or=C;};this.asW=function(){return XD;};this.arf=function(C,qM,yf,va){if(XD!==C){XD=C;for(var K=0;K<af.length;K++){af[K].bf.aCI(C,K,af[K].jK(),af[K].qZ(),af[K].ep,qM,yf,va);var aDL= !af[K].jK();af[K].UE(aDL);}this.dE('annotationXmlDom');}};var qb;this.Hi=function(C){qb=C;};this.ur=function(){return qb;};var rm=false;this.mO=function(){return rm;};this.nU=function(C){if(typeof C!=="boolean"){return;}if(C===rm){return;}rm=C;IPCC.G.forEach(af,function(bd,K){var bq;if(af[K].bG){var bA=document.getElementById(af[K].bG);if(bA){bq=bA.aV;}}if(bq){bq.nU(rm);bq=undefined;}});};this.aoX=function(C){if(EW!==C){EW=C;this.dE('loadingContent');}};this.asn=function(){return EW;};this.asj=function(){var cC=iW();var bY=[];if(cC){bY=qe(cC);}var adP=new IPCC.Web.UI.ImGearPageCollection();var K=0;for(K=0;K<bY.length;K++){adP.amQ(af[bY[K]].ep);}return adP;};this.auV=function(aZ){if(af[aZ]){return af[aZ].bG;}};this.As=function(){return tJ;};this.HK=function(C){tJ=C;};this.kG=function(){return kL;};this.wA=function(C){kL=C;};this.Ma=function(aR,BY,Cs){var T=this;if(aR.jP()>0||aR.jq()>0){BY(aR.jP(),aR.jq());return;}aR.requestPageAttributes(function(bz,cq){if(af[aR.get_pageNumber()].ahN()===true){var gg=bz/aR.amI();if(gg!==1){var bf=T.gx(aR);if(bf){acM(bf,gg);}}}af[aR.get_pageNumber()].UE(false);BY(bz,cq);},function(fj){Cs(fj);});};this.aEM=function(){if(uU===true){return;}uU=true;this.ey(ko,'pccHidden');Bl(cc,true);lf(cc,true);};this.awm=function(){if(uU===false){return;}uU=false;this.lB(ko,'pccHidden');};this.asJ=function(){return uU;};this.lB=function(dG,sK){var Hx=new RegExp('(?:^|\\s)'+sK+'(?!\\S)','g');if(dG.className.match(Hx)===null){dG.className=dG.className+' '+sK;}};this.ey=function(dG,sK){var Hx=new RegExp('(?:^|\\s)'+sK+'(?!\\S)','g');dG.className=dG.className.replace(Hx,'');};this.asD=function(){return lC;};this.ara=function(C){lC=C;};this.auJ=function(){return ig;};this.ari=function(C){if(ig===C){return;}var V,dK,wO;if(ig){V=ig.get_mark();wO=cc[V.get_markID()];dK=lC(V,{isSelected:true},(wO)?wO.dK:undefined);if(wO){Es(V,cc,dK);}}V=dK=wO=undefined;ig=C;if(ig){V=ig.get_mark();wO=cc[V.get_markID()];dK=lC(V,{isSelected:true},(wO)?wO.dK:undefined);if(wO){Es(V,cc,dK);}}lf(cc,true);};this.aBk=function(aaR){var kA=xc();IPCC.G.forEach(aaR,function(KT){var di=cc[KT];if(di){var jM=lC(di.V,{isSelected:(di.V.get_conversation()===ig)},di.dK);if(!IPCC.G.uw(jM)){throw new Error(jM+' is not a valid HTMLElement');}if(jM!==di.dK){Es(di.V,cc,jM);}}});lf(cc,false,kA);};this.azl=function(){T.azP={top:am.scrollTop,left:am.scrollLeft};};this.aAz=function(){var oU=T.azP;if(oU){am.scrollTop=oU.top;am.scrollLeft=oU.left;}};this.initialize=function(){var co=this.mE();var K;for(K=co.childNodes.length-1;K>=0;K--){if(co.childNodes[K].tagName!=='INPUT'){co.removeChild(co.childNodes[K]);}}this.zj.add_documentAdded(aCP);this.zj.add_pageAdded(SP);this.zj.add_pageRemoved(Sq);this.acC(true);co.aV=this;aiX();var Rc='webkit moz o'.split(' '),FO='';if(aj.style.animationName!==undefined){Kp='animationend';FS='transitionend';return;}for(K=0;K<Rc.length;K++){if(aj.style[Rc[K]+'Animation']!==undefined){FO=Rc[K];Kp=FO+'AnimationEnd';FS=FO+'TransitionEnd';break;}}};this.arK=function(){return mN;};this.acC=function(C){mN=C;this.dE('enabled');};this.aCo=function(){if(cD+1<af.length){T.pK(cD+1);}};this.aCb=function(){var Us=cD-1;if(Us<0){Us=0;}T.pK(Us);};function Ei(h){IPCC.Web.UI.aE.removeHandler(h.target,Kp,Ei);IPCC.Web.UI.aE.removeHandler(h.target,FS,Ei);if(IY>cD){T.ey(h.target,'pccNextPageIn');T.ey(h.target,'pccPreviousPageIn');T.ey(h.target,'pccCurrentPage');T.ey(h.target,'pccPageBack');T.ey(h.target,'pccPageForward');T.lB(h.target,'pccNextPage');}else if(IY<cD){T.ey(h.target,'pccNextPageIn');T.ey(h.target,'pccPreviousPageIn');T.ey(h.target,'pccCurrentPage');T.ey(h.target,'pccPageBack');T.ey(h.target,'pccPageForward');T.lB(h.target,'pccPreviousPage');}T.ey(aj,'pccPageListContainerPageChanging');am.style.overflow='auto';le=null;aj.style.overflow='hidden';var mP=IPCC.G.filter(cc,function(bC){return bC.ax===cD+1;});KN(mP);setTimeout(function(){oD();},60);};this.pK=function aGG(aZ){var IF=cD;var mP;if(dN===IPCC.ViewMode.SinglePage){mP=IPCC.G.filter(cc,function(bC){return bC.ax!==aZ+1;});Kw(mP);}else{uM=true;var afj=afF(aZ);if(et===IPCC.PageLayout.VerticalScrollDirection){am.scrollTop=afj;}else{am.scrollLeft=afj;}}var zH=[];if(cD!==aZ){cD=aZ;var bd=af[cD];var h=new IPCC.PageEventArgs();h.imGearPage=T.get_currentPage();h.pageIndex=cD;h.pageNodeID=bd.bG;T.bF('currentPageChanged',h);if(dN===IPCC.ViewMode.SinglePage){var hz=document.getElementById(af[cD].bG);var qA=document.getElementById(af[IF].bG);if(hz===null){hz=JC(af[cD].ep);zH.push(af[cD]);hz.className='pccPageListItem pccCurrentPage';rr.push(cD);if(hi>0){var kh=aao(af[cD]);hz.style.width=kh.bz+'px';hz.style.height=kh.cq+'px';}else{hz.style.width=aj.clientWidth-fZ-gP+'px';hz.style.height=aj.clientWidth*0.8+'px';}hz.style.display='block';hz.setAttribute('id',af[cD].bG);aj.appendChild(hz);}if(FS.length>0){am.style.overflow='hidden';aj.style.width=hz.style.width;aj.style.height=hz.style.height;aj.style.overflow='visible';if(le!==null){IPCC.Web.UI.aE.removeHandler(le,Kp,Ei);IPCC.Web.UI.aE.removeHandler(le,FS,Ei);if(IY>cD){this.ey(le,'pccNextPageIn');this.ey(le,'pccPreviousPageIn');this.ey(le,'pccCurrentPage');this.ey(le,'pccPageForward');this.ey(le,'pccPageBack');this.lB(le,'pccNextPage');}else if(IY<cD){this.ey(le,'pccNextPageIn');this.ey(le,'pccPreviousPageIn');this.ey(le,'pccCurrentPage');this.ey(le,'pccPageForward');this.ey(le,'pccPageBack');this.lB(le,'pccPreviousPage');}}IPCC.Web.UI.aE.addHandler(qA,Kp,Ei);IPCC.Web.UI.aE.addHandler(qA,FS,Ei);le=qA;IY=IF;this.lB(aj,'pccPageListContainerPageChanging');if(cD>IF){this.lB(qA,'pccPageForward');this.ey(hz,'pccPageBack');this.ey(hz,'pccPreviousPage');this.ey(hz,'pccPreviousPageIn');this.ey(hz,'pccNextPage');this.lB(hz,'pccCurrentPage');this.lB(hz,'pccNextPageIn');}else{this.lB(qA,'pccPageBack');this.ey(hz,'pccPageForward');this.ey(hz,'pccPreviousPage');this.ey(hz,'pccNextPage');this.ey(hz,'pccNextPageIn');this.lB(hz,'pccCurrentPage');this.lB(hz,'pccPreviousPageIn');}}else{aj.style.width=hz.style.width;aj.style.height=hz.style.height;if(cD>IF){this.ey(qA,'pccNextPage');this.ey(qA,'pccCurrentPage');this.lB(qA,'pccPreviousPage');}else{this.ey(qA,'pccPreviousPage');this.ey(qA,'pccCurrentPage');this.lB(qA,'pccNextPage');}this.ey(hz,'pccPreviousPage');this.ey(hz,'pccNextPage');this.lB(hz,'pccCurrentPage');mP=IPCC.G.filter(cc,function(el){return el.ax===aZ+1;});KN(mP);setTimeout(function(){oD();},60);}IPCC.G.forEach(zH,anx);}}};this.aCl=function(){if(af.length>0){T.pK(0);}};this.aCt=function(){if(cD<af.length-1){T.pK(af.length-1);}};this.aCk=function(cG){if(uU===false){return "CommentsPanelClosed";}var ee=cc[cG.get_mark().get_markID()];if(!ee){return "ConversationDivDoesNotExist";}if(dN===IPCC.ViewMode.SinglePage&&ee.ax-1!==cD){return "SinglePageModePageNotShown";}var aR=document.getElementById(af[ee.ax-1].bG);if(af[ee.ax-1].he===false||aR===undefined||aR.aV===undefined||aR.aV===null||aR.aV.eP()===false){return "PageOutOfView";}var R=cG.get_mark().get_boundingRectangle();var pG=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var Ak=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y),true);pG.x=aj.offsetWidth;Ak.x=aj.offsetWidth+vO();T.abZ(aR.offsetTop,aR.offsetLeft,pG,Ak);return "Success";};this.aBO=function(aZ,R){if(dN===IPCC.ViewMode.SinglePage&&aZ!==cD){return true;}var aR=document.getElementById(af[aZ].bG);if(af[aZ].he===false||aR===undefined||aR.aV===undefined||aR.aV===null||aR.aV.eP()===false){return false;}var pG=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x,R.y),true);var Ak=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(R.x+R.width,R.y+R.height),true);T.abZ(aR.offsetTop,aR.offsetLeft,pG,Ak);return true;};this.aBs=function(are,anE){am.scrollTop+=Math.round(anE);am.scrollLeft+=Math.round(are);};this.abZ=function(azV,azk,pG,Ak){var aeA=Ak.x-pG.x;var adx=Ak.y-pG.y;var dq=new IPCC.Web.UI.Point(0,0);if(aeA>am.clientWidth){dq.x=pG.x;}else{dq.x=pG.x+(aeA/2);}if(adx>am.clientHeight){dq.y=pG.y;}else{dq.y=pG.y+(adx/2);}if(et===IPCC.PageLayout.VerticalScrollDirection){am.scrollTop=azV+dq.y-am.clientHeight/2;am.scrollLeft=dq.x-am.clientWidth/2;}else{am.scrollLeft=azk+dq.x-am.clientWidth/2;am.scrollTop=dq.y-am.clientHeight/2;}};this.axt=function(){var K=0;for(K=0;K<af.length;K++){CF(K,true);}};this.awQ=function(){var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K=0;for(K=0;K<bY.length;K++){CF(bY[K]);}if(T.zj.get_length()>0){T.zj.removeAllDocuments();}};this.Wy=function(aZ,aX,dM,dz){if(af[aZ]&&af[aZ].he===true){var bA=document.getElementById(af[aZ].bG);if(bA&&bA.aV&&bA.aV.eP()===true){if(dz){IPCC.aL.dz(dz,"selectText");var hG=bA.aV.CY();var aFU=hG.kR;var aFT=hG.eI;hG.kR=dz;hG.eI=dz;bA.aV.showTextSelection(aX,dM);hG.kR=aFU;hG.eI=aFT;}else{bA.aV.showTextSelection(aX,dM);}}}};this.avq=function(){var cC=iW();var bY=[];if(cC){bY=qe(cC);}var K;for(K=0;K<bY.length;K++){if(af[bY[K]].he===true){var fc=document.getElementById(af[bY[K]].bG),aV=fc?fc.aV:undefined;if(aV&&aV.eP()===true){aV.showEmptyTextSelection(0);aV.extendTextSelection(undefined);aV.display();}}}};this.awA=function(aZ){if(af[aZ]&&af[aZ].he===true){var fc=document.getElementById(af[aZ].bG),aV=fc?fc.aV:undefined;if(aV&&aV.eP()===true){aV.showEmptyTextSelection(0);aV.extendTextSelection(undefined);aV.display();}}};this.vw=function(){var aR,da,aV;aP=null;IPCC.G.forEach(QO,function(K){aR=af[K];da=document.getElementById(aR.bG);if(da){aV=da.aV;}if(aV){if(aV.eP()&&aV.EZ()){aV.showEmptyTextSelection(0);aV.extendTextSelection(undefined);if(aR.he){aV.display();}}}aR=da=aV=undefined;});};this.wZ=function(aZ,sX){var bA;var bq;var adA=function(ayS,aFh){return(ayS+aFh)%360;};af[aZ].gA=adA(af[aZ].gA,sX);if(af[aZ].bG){bA=document.getElementById(af[aZ].bG);}if(bA===undefined||bA===null){return;}bq=bA.aV;if(bq&&bq.eP()===false){af[aZ].Ed=adA(af[aZ].Ed,sX);return;}uM=true;if(bq&&bq.eP()===true){bq.rotate(sX);}var ay=0;var an=0;var fM=hi;var fG=jD;if(hZ(qf)===true){fM=jD;fG=hi;}if(hZ(af[aZ].gA)===true){if(bq&&bq.eP()===true){ay=bq.get_pageHeight();an=bq.get_pageWidth();}else{ay=jD;an=hi;}}else{if(bq&&bq.eP()===true){ay=bq.get_pageWidth();an=bq.get_pageHeight();}else{ay=hi;an=jD;}}uM=true;if(dN===IPCC.ViewMode.SinglePage){bA.style.width=ay*cv*dn/af[aZ].gz+'px';bA.style.height=an*cv*dn/af[aZ].fS+'px';if(aZ===cD){aj.style.width=ay*cv*dn/af[aZ].gz+'px';aj.style.height=an*cv*dn/af[aZ].fS+'px';}}else if(dN===IPCC.ViewMode.Document){bA.style.width=ay*cv*dn/af[aZ].gz+'px';bA.style.height=an*cv*dn/af[aZ].fS+'px';var K=0;if(et===IPCC.PageLayout.VerticalScrollDirection){if(ay*cv*dn/af[aZ].gz>gb){gb=ay*cv*dn/af[aZ].gz;}else if(bA.clientHeight>=gb-10){gb=0;for(K=0;K<af.length;K++){bA=document.getElementById(af[K].bG);if(bA&&bA.clientWidth>gb){gb=bA.clientWidth;}}}if(an*cv*dn/af[aZ].fS>fO){fO=an*cv*dn/af[aZ].fS;}}else{if(an*cv*dn/af[aZ].fS>fO){fO=an*cv*dn/af[aZ].fS;}else if(bA.clientWidth>=fO-10){fO=0;for(K=0;K<af.length;K++){bA=document.getElementById(af[K].bG);if(bA&&bA.clientHeight>fO){fO=bA.clientHeight;}}}if(ay*cv*dn/af[aZ].gz>gb){gb=ay*cv*dn/af[aZ].gz;}}}else{var gJ;if(et===IPCC.PageLayout.VerticalScrollDirection){gJ=fM/ay*cv*dn/af[aZ].fS;if(bq&&bq.eP()===true){bq.zoom(gJ);}uM=true;bA.style.width=fM*cv*dn/af[aZ].gz+'px';bA.style.height=gJ*an+'px';}else{gJ=fG/an*cv*dn/af[aZ].fS;if(bq&&bq.eP()===true){bq.zoom(gJ);}uM=true;bA.style.height=fG*cv*dn/af[aZ].fS+'px';bA.style.width=gJ*ay+'px';}if(fM*cv*dn/af[aZ].gz>gb){gb=fM*cv*dn/af[aZ].gz;}if(fG*cv*dn/af[aZ].fS>fO){fO=fG*cv*dn/af[aZ].fS;}}if(bq&&bq.eP()===true){uM=true;this.yH(bA,aZ);setTimeout(function(){if(uU===false){return;}var kA=xc();var mP=IPCC.G.filter(cc,function(el){return aZ===el.ax-1;});Bl(mP);lf(mP,true,kA);},0);}};this.aza=function(sX){var tZ=cD;this.wZ(cD,sX);if(dN!==IPCC.ViewMode.SinglePage){var T=this;setTimeout(function(){T.pK(tZ);},10);}};this.adM=function(sX){var tZ=cD;var cC=iW();if(dN!==IPCC.ViewMode.SinglePage){this.pK(tZ);}var gT=0;var hH=af.length-1;var K;for(K=gT;K<=hH;K++){this.wZ(K,sX);}if(dN!==IPCC.ViewMode.SinglePage){var T=this;setTimeout(function(){acr(cC);T.pK(tZ);},10);}};function aeC(At,pb){var ov=0;var ps=0;var Gd=false;uM=true;var cC=iW();if(cC){IPCC.G.forEach(cC.Kv,function(ak){var hk=et===IPCC.PageLayout.VerticalScrollDirection?ak.cq+eE:ak.bz+fZ+gP;var ayG=At.Kv[ak.bo];if(ayG.xy){Gd=true;return;}if(pb&&ak.bo>=pb.hX&&ak.bo<=pb.kd){var bA=document.getElementById(af[ak.bo].bG);if(bA){return;}}if(Gd){ps+=hk;}else{ov+=hk;}});}return{ps:ps,ov:ov};};function acr(At){if(dN===IPCC.ViewMode.SinglePage){return;}var pb=RU(At);var re=aeC(At,pb);if(et===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=re.ov+'px';aj.style.paddingBottom=re.ps+'px';}else{aj.style.paddingLeft=re.ov+'px';aj.style.paddingRight=re.ps+'px';}};function aFi(At){if(dN===IPCC.ViewMode.SinglePage){return;}var Pa;var pb;if(et===IPCC.PageLayout.VerticalScrollDirection){Pa=parseInt(window.getComputedStyle(aj,null).getPropertyValue('padding-top'),10);}else{Pa=parseInt(window.getComputedStyle(aj,null).getPropertyValue('padding-left'),10);}pb=RU(At);var re=aeC(At,pb);if(et===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=re.ov+'px';aj.style.paddingBottom=re.ps+'px';am.scrollTop=am.scrollTop+re.ov-Pa;}else{aj.style.paddingLeft=re.ov+'px';aj.style.paddingRight=re.ps+'px';am.scrollLeft=am.scrollLeft+re.ov-Pa;}};this.NF=function(aZ){IPCC.aL.jI(aZ,'pageIndex',0,af.length-1);var aR=af[aZ];if(aR&&aR.bG&&(aR.Dk===true||aR.vQ===false)){var aG;var bA=document.getElementById(aR.bG);if(bA.aV){bA.aV.dispose();}ads(bA);aG=new IPCC.Web.UI.PageView(bA,false,am);if(aG){aG.set_autoUpdate(false);aG.vG(bA);aG.initialize();aG.set_imageHandlerUrl(aR.aW.pO);aG.set_requireRequestsOptimize(tJ);if(kL!==undefined){aG.set_serviceResponseTimeout(kL);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.LF(aw===IPCC.Web.UI.MouseTool.HandPan||aw===IPCC.Web.UI.MouseTool.EditMarks);aar(aG,aR);VB(aG);Ti(aG);TJ(aG);XB(aG);}aG.set_textRequired(rW);aG.set_markHandleMode(rz);aG.set_debug(_debug);aG.set_gamma(sq);aG.set_sharpening(qw);aG.set_svgLineWidthMultiplier(lb);aG.set_debugErrorLevel(oe);aG.nZ(T.ij());if(qb){aG.set_resourcePath(qb);}if(iq){aG.HT(iq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.nU(T.mO());aR.Dk=false;aR.zW=false;var zA={encodedDocumentIdentifier:aR.aW.get_encodedDocumentIdentifier(),pageNumber:aZ,artServiceOption:0,documentArtPage:aR.fL,viewRotationDegreesClockwise:aR.gA};if(aR.bf){zA.artPage=aR.bf;}if(aR.fL){zA.documentArtPage=aR.fL;}aG.openPage(zA);aR.vQ=true;lV++;}};function abf(eh,ea){if(hi<=0){return;}var fM=hi;var fG=jD;var eO=dn/af[0].gz;if(hZ(qf)===true){fM=jD;fG=hi;eO=dn/af[0].fS;}var jW=1;if(et===IPCC.PageLayout.VerticalScrollDirection){jW=(am.clientWidth-vO()-(fZ+gP+nS+pk))/(fM*eO);}else{jW=(am.clientHeight-(eE+iO+oZ+qu))/(fG*eO);}var uH;if(cv<=jW){uH=false;}else if(cv>jW){uH=true;}if(isNaN(jW)||jW<=0||Math.abs(jW)===Infinity){return;}cv=jW;gb=0;fO=0;var gT=0;var hH=af.length-1;var ar=0;var bq;for(ar=gT;ar<=hH;ar++,bq=undefined){var bA=document.getElementById(af[ar].bG);if(bA){bq=bA.aV;}if(bq===undefined){continue;}var ay=fM;var an=fG;if(af[ar].jK()>0){if(hZ(af[ar].gA)===true){ay=af[ar].qZ();an=af[ar].jK();}else{ay=af[ar].jK();an=af[ar].qZ();}}var gJ=1;if(et===IPCC.PageLayout.VerticalScrollDirection){gJ=fM/ay*cv*eO;bA.style.width=fM*cv*eO+'px';bA.style.height=an*gJ+'px';if(fM*cv*eO>gb){gb=fM*cv*eO;}if(an*gJ*dn/af[ar].fS>fO){fO=an*gJ*eO;}}else{gJ=fG/an*cv;bA.style.height=fG*cv*eO+'px';bA.style.width=ay*gJ*eO+'px';if(ay*cv*dn/af[ar].gz>gb){gb=ay*cv*eO;}if(fG*gJ*eO>fO){fO=fG*gJ*eO;}}if(bq&&af[ar].he===true&&bq.eP()===true){bq.zoom(gJ);}if(bq&&af[ar].he===true&&bq.eP()===true){bq.display();}bq=undefined;}iW();oD();setTimeout(function(){Bl(cc);lf(cc);},0);T.bF('scaleChanged',{scaleType:(uH)?"scaledDown":"scaledUp",scaleTrigger:eh,fitType:ea,scaleFactor:cv});};function hZ(gc){switch(gc){case 90:case 270:case-90:case-270:return true;default:return false;}};function hD(qT){var yc=document.createElement('div');var K;for(K in qT){if(qT.hasOwnProperty(K)){yc.style[K]=qT[K];}}return yc;};this.awv=function(){if(Kf===undefined||Kf===null){Kf=1;}var cI=this.mE().id.toString()+'_'+Kf.toString();Kf++;return cI;};this.Vf=function(){return this.zj;};this.gx=function(atz){for(var qX=0;qX<af.length;qX++){var aoY=af[qX];if(atz===aoY.ep){return af[qX].bf;}}return null;};this.aIw=function(jB){var bA=document.getElementById(af[jB.get_pageNumber()].bG);if(bA){return bA.aV.mf();}return null;};function aCP(bS,h){Vt(h);};function Vt(bp){var ga=bp.imGearDocument;var axL=T.awv();ga.OR=axL;var db=ga.get_pages();var cf=db.get_length();if(cf>0){var Oa=document.createDocumentFragment();for(var ar=0;ar<cf;ar++){var aR=db.getPage(ar);if(!aR.aW){aR.aW=ga;}JC(aR,aR.get_pageNumber()===0?null:Oa);}aj.appendChild(Oa);}};var ayY=IPCC.G.aml(function(){if(Jc.length>0&&mN){var ct;var IG;var Jy=0;IPCC.G.forEach(Jc,akk);var abj=iW();if(!abj){return;}var kh=abj.Kv;IPCC.G.forEach(Jc,function(aR,bo){ct=aR.po();IG=kh[ct];if(et===IPCC.PageLayout.VerticalScrollDirection){Jy+=IG.cq+eE;}else{Jy+=IG.bz+fZ;}});if(Jy&&dN!==IPCC.ViewMode.SinglePage){if(et===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingBottom=Jy+'px';}else{aj.style.paddingRight=Jy+'px';}}Bl(cc,true);lf(cc,true);if(T.zj.ND(0).eY===af.length){T.bF('allPagesAdded');}oD();}Jc=[];},10);function SP(bS,h){if(h.imGearPage.get_pageNumber()===0){JC(h.imGearPage);return;}Jc.push(h.imGearPage);ayY();};function Sq(bS,h){var ct=h.imGearPage.get_pageNumber();var VI=h.imGearPage.aW.get_documentIdentifier();for(var ar=0;ar<af.length;ar++){if(af[ar].ep.get_pageNumber()===ct&&af[ar].ep.aW.get_documentIdentifier()===VI){var bA=document.getElementById(af[ar].bG);if(bA){aj.removeChild(bA);if(bA.aV){bA.aV.dispose();var mP=IPCC.G.filter(cc,function(el){return el.ax===af[ar].ct+1;});Kw(mP);}}af.splice(ar,1);}}};function akk(jB){if(!IPCC.G.contains(af,jB)){var bd=new IPCC.bd({page:jB});if(qf){bd.gA=qf;}if(!bd.aW){bd.aW=jB.aW;}af.push(bd);IPCC.Pagecounter++;af=af.sort(function(cw,es){return cw.ct-es.ct;});anH(jB);aou(jB);aod(jB);bd.avr=false;bd.zW=false;apL(bd);aof(bd);WI(bd);arp(bd);aqg(bd);asQ(bd);aqs(bd);aqj(bd);aqy(bd);apt(bd);return bd;}};function JC(aR,Oa){var MI=aR.get_pageNumber();var co=T.mE();var ga=null;var aaF;var cf=T.get_documents().get_length();for(var bJ=0;bJ<cf;bJ++){ga=T.get_documents().getDocument(bJ);if(ga!==null){aaF=ga.OR;if(aaF===aR.aW.OR){break;}}}var gY=IPCC.G.find(af,function(bd){return bd.ep&&bd.ep===aR;});if(!gY){gY=akk(aR);}gY.Fq=true;var afb=gY.bG;if(gY.Hl===1){return document.getElementById(afb);}gY.Hl=1;if(aj===''){aiX();}var jO=(function(){var bV;if(dN!==IPCC.ViewMode.SinglePage){bV=hD({overflow:'hidden',position:'relative'});}else{bV=hD({overflow:'hidden',position:'absolute',margin:'0px'});if(gY.ct>cD){T.lB(bV,'pccNextPage');}else if(gY.ct<cD){T.lB(bV,'pccPreviousPage');}else{T.lB(bV,'pccCurrentPage');}}rr.push(aR.ct);T.lB(bV,'pccPageListItem');ads(bV);var Dr=aao(gY);bV.style.width=Dr.bz+'px';bV.style.height=Dr.cq+'px';var cC=iW();var Mx;if(et===IPCC.PageLayout.VerticalScrollDirection||dN===IPCC.ViewMode.SinglePage){bV.style.display='block';if(hi>0){bV.style.margin=eE+'px auto '+iO+'px auto';}if(cC.ca.length>0&&dN!==IPCC.ViewMode.SinglePage){Mx=cC.ca[0];if(MI<Mx.bo){var axW=IPCC.G.QZ(aj,'padding-top');var ayQ=IPCC.G.Np(axW);var VK=ayQ-Dr.cq-eE;if(VK<0){VK=0;}aj.style.paddingTop=VK+'px';}else{var axE=IPCC.G.QZ(aj,'padding-bottom');var ayq=IPCC.G.Np(axE);var TA=ayq-Dr.cq-eE;if(TA<0){TA=0;}aj.style.paddingBottom=TA+'px';}}}else{bV.style.display='inline-block';if(hi>0){bV.style.margin=eE+'px '+fZ+'px '+iO+'px '+gP+'px';}if(cC.ca.length>0&&dN!==IPCC.ViewMode.SinglePage){Mx=cC.ca[0];if(MI<Mx.bo){var axm=IPCC.G.QZ(aj,'padding-left');var axr=IPCC.G.Np(axm);var Ue=axr-Dr.bz-fZ;if(Ue<0){Ue=0;}aj.style.paddingLeft=Ue+'px';}else{var ayt=IPCC.G.QZ(aj,'padding-right');var axF=IPCC.G.Np(ayt);var Xb=axF-Dr.bz-fZ;if(Xb<0){Xb=0;}aj.style.paddingRight=Xb+'px';}}}bV.setAttribute('id',afb);return bV;}());gY.ep=gY.ep||aR;gY.aft=gY.aft||aaF;gY.gA=gY.gA!==undefined?gY.gA:qf;gY.he=false;function ayR(fc){var Za=fc.childNodes;var aCW=IPCC.G.find(af,function(bd){if(bd.ct<=MI){return;}var ib=IPCC.G.find(Za,function(ib){return ib.id&&ib.id===bd.bG;});if(!ib){return;}if(bd.ct>MI){ib.parentElement.insertBefore(jO,ib);return true;}});if(!aCW){fc.appendChild(jO);}}(function aFG(){if(af.length===1){aj.appendChild(jO);}else{return ayR(Oa||aj);}}());var avx=false;if(jO&&co.clientWidth>0){var avH=co.clientWidth/(jO.clientWidth+(jO.clientLeft*2));var azh=co.clientHeight/(jO.clientHeight+(jO.clientTop*2));if(af.length<(avH*azh)){avx=true;}}if(af.length<2){var aG=new IPCC.Web.UI.PageView(jO,false,am);if(aG){aG.set_autoUpdate(false);aG.vG(jO);aG.initialize();aG.set_imageHandlerUrl(aR.aW.pO);aG.set_imGearPage(gY.ep);aG.set_artPage(gY.bf);aG.set_documentArtPage(gY.fL);aG.set_requireRequestsOptimize(tJ);if(kL!==undefined){aG.set_serviceResponseTimeout(kL);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.set_textRequired(rW);aG.set_markHandleMode(rz);aG.set_debug(_debug);aG.set_gamma(sq);aG.set_sharpening(qw);aG.set_svgLineWidthMultiplier(lb);aG.set_debugErrorLevel(oe);aG.nZ(T.ij());if(qb){aG.set_resourcePath(qb);}if(iq){aG.HT(iq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.nU(T.mO());aG.LF(aw===IPCC.Web.UI.MouseTool.HandPan||aw===IPCC.Web.UI.MouseTool.EditMarks);}aar(aG,gY);Ti(aG);TJ(aG);VB(aG);XB(aG);aG.openPage({encodedDocumentIdentifier:aR.aW.get_encodedDocumentIdentifier(),pageNumber:aR.get_pageNumber(),artServiceOption:0,imGearPage:gY.ep,artPage:gY.bf,documentArtPage:gY.fL,viewRotationDegreesClockwise:gY.gA});gY.vQ=true;lV++;}return jO;};function amD(bd){return bd.Fq;};function oD(){if(lV>0||mN===false||le!==null){return;}if(AP){return;}var cC=iW();if(!cC){return;}af.forEach(function(aR,bo){if(!aR.he){return;}T.Kb(bo);});var zH=atL(cC);IPCC.G.forEach(zH||[],function(bo){var aR=af[bo];if(aR){anx(aR);}});IPCC.G.forEach(cC.ca,function(IG){var bd=af[IG.bo];if(amD(bd)&& !bd.he&&bd.Hl){PF(bd);}});var pb=RU(cC);for(var bo=pb.hX;bo<=pb.kd;bo++){var bd=af[bo];if(!amD(bd)){bd.Fq=true;var Vk=T.Vf();var ga=Vk.ND(0);var jB=ga.db.ju(bo);JC(jB);amw(bd,false);}}aEL();};function atL(cC){var atp=qe(cC);var zH=[];IPCC.G.forEach(atp,function(bo){var aR=af[bo];if(aR&&aR.Hl===0){var Vk=T.Vf();var ga=Vk.ND(0);var jB=ga.db.ju(bo);JC(jB);zH.push(bo);}});return zH;};function aEL(){var tQ=am.scrollTop;var wM=am.scrollLeft;var wG=am.clientHeight;var vH=am.clientWidth;var un=am.scrollWidth;var wd=am.scrollHeight;var cC=VN({tQ:tQ,wM:wM,wG:wG,vH:vH,un:un,wd:wd});var pb=RU(cC);var amy=aoK(cC);var ov=0;var ps=0;var Gd=false;IPCC.G.forEach(cC.Kv,function(ak){var hk=et===IPCC.PageLayout.VerticalScrollDirection?ak.cq+eE:ak.bz+fZ+gP;var bo= +ak.bo;if(ak.xy||(dN===IPCC.ViewMode.SinglePage&&bo===cD)){Gd=true;return;}if(bo>=pb.hX&&bo<=pb.kd){if(bo>=amy.hX&&bo<=amy.kd){return;}if(Gd){if(CF(bo,true)> -1){ps+=hk;}}else{if(CF(bo,true)> -1){ov+=hk;}}return;}if(Gd){ps+=hk;CF(bo);}else{ov+=hk;CF(bo);}});if(dN===IPCC.ViewMode.SinglePage){return;}if(et===IPCC.PageLayout.VerticalScrollDirection){aj.style.paddingTop=ov+'px';aj.style.paddingBottom=ps+'px';}else{aj.style.paddingLeft=ov+'px';aj.style.paddingRight=ps+'px';}};function CF(ar,aCX){var aR=af[ar];if(!aR){return-1;}var ct=aR.ct;if(aCX===true&& !aR.he){return-1;}aR.zW=false;aR.vQ=false;aR.he=false;aR.Hl=0;aR.Fq=false;if(Oj&& !aR.ep.dj().arV()&&QK!==true){aR.ep.amx();}var AO=document.getElementById(aR.bG);if(!AO){return-1;}if(AO.aV){AO.aV.dispose();var mP=IPCC.G.filter(cc,function(el){return el.ax===ct+1;});Kw(mP);AO.parentElement.removeChild(AO);return ar;}else{AO.parentElement.removeChild(AO);}return-1;};function PF(bd){var bV=document.getElementById(bd.bG);T.yH(bV,bd.ct);};function anx(bd){amw(bd,true);PF(bd);};function amw(aR,arD){var bV=document.getElementById(aR.bG);if(bV===null){return;}var aG=new IPCC.Web.UI.PageView(bV,false,am);aG.set_autoUpdate(false);aG.vG(document.getElementById(aR.bG));aG.initialize();aG.set_imageHandlerUrl(aR.aW.pO);aG.set_imGearPage(aR.ep);aG.set_artPage(aR.bf);aG.set_requireRequestsOptimize(tJ);if(kL!==undefined){aG.set_serviceResponseTimeout(kL);}aG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);aG.set_textRequired(rW);aG.set_markHandleMode(rz);aG.set_debug(_debug);aG.set_gamma(sq);aG.set_sharpening(qw);aG.set_svgLineWidthMultiplier(lb);aG.set_debugErrorLevel(oe);aG.nZ(T.ij());if(qb){aG.set_resourcePath(qb);}if(iq){aG.HT(iq());}else{aG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}aG.nU(T.mO());aG.LF(aw===IPCC.Web.UI.MouseTool.HandPan||aw===IPCC.Web.UI.MouseTool.EditMarks);aar(aG,aR);Ti(aG);TJ(aG);VB(aG);XB(aG);if(arD===true){aG.add_pageOpened(function aFr(as){T.yH(bV,aR.ct);});}if(aR.zW===false&&aR.ep){aR.Fq=true;var zA={encodedDocumentIdentifier:aR.ep.aW.get_encodedDocumentIdentifier(),pageNumber:aR.ep.get_pageNumber(),imGearPage:aR.ep,viewRotationDegreesClockwise:aR.gA};if(aR.bf){zA.artPage=aR.bf;}if(aR.fL){zA.documentArtPage=aR.fL;}aG.openPage(zA);aR.vQ=true;lV++;}};function acM(bf,gg){var au;bf.forEachMark(function(V){switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:var bL=V.get_points();var bw=bL.zs(0);var mL=bL.zs(1);bL.setPoint(0,new IPCC.Web.UI.Point(bw.x*gg,bw.y*gg));bL.setPoint(1,new IPCC.Web.UI.Point(mL.x*gg,mL.y*gg));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:au=V.get_rectangle();V.set_rectangle({x:au.x*gg,y:au.y*gg,width:au.width*gg,height:au.height*gg});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:au=V.get_rectangle();V.set_rectangle({x:au.x*gg,y:au.y*gg,width:au.width*gg,height:au.height*gg});var aC=V.aC,ho;for(var i=0;i<aC.length;i++){ho=aC[i];ho.x=ho.x*gg;ho.y=ho.y*gg;ho.width=ho.width*gg;ho.height=ho.height*gg;}break;default:break;}});};function aar(aG,aR){function azr(sender,evnt){var acl=function(bz,cq,ax){var UH={'width':bz,'height':cq,'pageNumber':ax};T.bF('pageOpening',UH);};var ct=evnt.pageNumber;var VI=evnt.documentIdentifier;aR.ay=aG.get_pageWidth();aR.an=aG.get_pageHeight();var hA=aG.get_pageXResolution();var gH=aG.get_pageYResolution();if(!isNaN(parseFloat(hA))&&isFinite(hA)){aR.gz=hA;}if(!isNaN(parseFloat(gH))&&isFinite(gH)){aR.fS=gH;}aG=null;for(var ar=0;ar<af.length;ar++){if(mN&&af[ar].ep.get_pageNumber()===ct&&af[ar].ep.aW.get_documentIdentifier()===VI){af[ar].vQ=false;af[ar].zW=true;af[ar].Dk=false;if(dN===IPCC.ViewMode.SinglePage){var oW= -1;if(Array.prototype.indexOf){oW=rr.indexOf(ar);}else{oW=IPCC.Web.kQ(rr,ar);}if(oW!== -1){rr.splice(oW,1);}}var alj=false;for(var bJ=0;bJ<QO.length;bJ++){if(QO[bJ]===ar){alj=true;}}if(alj===false){QO.push(ar);}var lo=0;var kS=0;var bA=document.getElementById(af[ar].bG);var bq=bA.aV;var fM;var fG;var SV;if(hi===0&&(ar===0||af[0].Dk===true)){if(bA.currentStyle){oZ=parseInt(bA.currentStyle.borderTopWidth,10)||0;eE=parseInt(bA.currentStyle.marginTop,10)||0;nS=parseInt(bA.currentStyle.borderLeftWidth,10)||0;fZ=parseInt(bA.currentStyle.marginLeft,10)||0;qu=parseInt(bA.currentStyle.borderBottomWidth,10)||0;iO=parseInt(bA.currentStyle.marginBottom,10)||0;pk=parseInt(bA.currentStyle.borderRightWidth,10)||0;gP=parseInt(bA.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var xY=document.defaultView.getComputedStyle(bA);oZ=parseInt(xY.borderTopWidth,10)||0;eE=parseInt(xY.marginTop,10)||0;nS=parseInt(xY.borderLeftWidth,10)||0;fZ=parseInt(xY.marginLeft,10)||0;qu=parseInt(xY.borderBottomWidth,10)||0;iO=parseInt(xY.marginBottom,10)||0;pk=parseInt(xY.borderRightWidth,10)||0;gP=parseInt(xY.marginRight,10)||0;}if(dN===IPCC.ViewMode.SinglePage){bA.style.margin=eE+'px 0px '+iO+'px 0px';aj.style.margin="0px auto";}else{if(et===IPCC.PageLayout.VerticalScrollDirection){bA.style.margin=eE+'px auto '+iO+'px auto';}else{bA.style.margin=eE+'px '+gP+'px '+iO+'px '+fZ+'px';aj.style.margin='0px '+gP+'px 0px '+fZ+'px';}}hi=bq.get_pageWidth();jD=bq.get_pageHeight();acZ=hA;fM=hi;fG=jD;var eO=dn/af[ar].gz;if(hZ(af[ar].gA)===true){fG=hi;fM=jD;eO=dn/af[ar].fS;}if(dN===IPCC.ViewMode.SinglePage){var aqb=(am.offsetWidth-(fZ+gP+nS+pk));var aqd=(am.offsetHeight-(eE+iO+oZ+qu+asp));ox=aqb/(fM*eO);SV=aqd/(fG*eO);if(SV<ox){ox=SV;}bq.zoom(ox*eO);}else if(et===IPCC.PageLayout.VerticalScrollDirection){ox=(am.offsetWidth-IPCC.Web.nY()-(fZ+gP+nS+pk))/(fM*eO);bq.zoom(ox*eO);}else{ox=(am.offsetHeight-IPCC.Web.nY()-(eE+iO+oZ+qu))/(fG*eO);bq.zoom(ox*eO);}lo=fM*ox*eO;kS=fG*ox*eO;bA.style.width=lo+'px';bA.style.height=kS+'px';if(dN===IPCC.ViewMode.SinglePage){aj.style.width=lo+'px';aj.style.height=kS+'px';}if(dN!==IPCC.ViewMode.SinglePage){for(var qX=0;qX<af.length;qX++){if(af[qX].he===false&&qX!==ar){if(af[qX].bG){bA=document.getElementById(af[qX].bG);bA.style.width=fM*ox+'px';bA.style.height=fG*ox+'px';if(et===IPCC.PageLayout.VerticalScrollDirection){bA.style.margin=eE+'px auto '+iO+'px auto';}else{bA.style.margin=eE+'px '+gP+'px '+iO+'px '+fZ+'px';}}}}}cv=ox;acl(aR.ay,aR.an,ct+1);bA.aV.display();}else{if(dN===IPCC.ViewMode.Document||dN===IPCC.ViewMode.SinglePage){if(hZ(af[ar].gA)===true){lo=bq.get_pageHeight()*cv*dn/af[ar].gz;kS=bq.get_pageWidth()*cv*dn/af[ar].fS;}else{lo=bq.get_pageWidth()*cv*dn/af[ar].gz;kS=bq.get_pageHeight()*cv*dn/af[ar].fS;}}else{var gJ;var ay=bq.get_pageWidth();var an=bq.get_pageHeight();fM=hi;fG=jD;if(hZ(qf)===true){fM=jD;fG=hi;}if(hZ(af[ar].gA)===true){ay=bq.get_pageHeight();an=bq.get_pageWidth();}if(et===IPCC.PageLayout.VerticalScrollDirection){gJ=fM/ay*cv*dn/af[0].fS;lo=fM*cv*dn/af[0].gz;kS=an*gJ;}else{gJ=fG/an*cv*dn/af[0].gz;kS=fG*cv*dn/af[0].fS;lo=ay*gJ;}}if(lo!==Math.round(lo)){lo=Math.floor(lo*100)/100;}if(kS!==Math.round(kS)){kS=Math.floor(kS*100)/100;}if(bA.style.width!==lo+'px'||bA.style.height!==kS+'px'){if(et===IPCC.PageLayout.VerticalScrollDirection){bA.style.width=lo+'px';bA.style.height=kS+'px';}else{bA.style.width=lo+'px';bA.style.height=kS+'px';}Bl(cc,true);lf(cc,true);}acl(aR.ay,aR.an,ct+1);}if(lo>gb){gb=lo;if(et===IPCC.PageLayout.VerticalScrollDirection){am.scrollLeft=(gb-am.clientWidth)/2;}}if(kS>fO){fO=kS;if(et===IPCC.PageLayout.HorizontalScrollDirection){am.scrollTop=(fO-am.clientHeight)/2;}}if(af[ar].Ed>0){var SS=document.getElementById(af[ar].bG).aV;if(SS){SS.rotate(af[ar].Ed);SS.display();af[ar].Ed=0;}}if(lV>0){lV=lV-1;}if(af[ar].ahN()===true){var jB=af[ar].ep;var gg=af[ar].jK()/jB.amI();if(gg!==1){var bf=T.gx(jB);if(bf){acM(bf,gg);}}}af[ar].UE(false);iW();var Jq=new IPCC.OpenPageEventArgs();Jq.pageIndex=evnt.pageNumber;Jq.imGearPage=evnt.imGearPage;Jq.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Jq.pageNodeID=af[ar].bG;T.bF('pageOpened',Jq);break;}}if(lV===0&&mj===null&&le===null){setTimeout(function(){oD();},60);}};aG.add_pageOpened(azr);};function Ti(aG){function aBS(bS,ba){if(mN===false){return;}var yv;if(ba.pageNumber>=0){if(af[ba.pageNumber].bG){yv=af[ba.pageNumber].bG;}}af[ba.pageNumber].Dk=true;af[ba.pageNumber].vQ=false;af[ba.pageNumber].zW=false;af[ba.pageNumber].he=false;var lQ=new IPCC.ExceptionEventArgs();lQ.exception=ba.exception;lQ.pageIndex=ba.pageNumber;lQ.pageNodeID=yv;T.bF('pageOpenFailed',lQ);if(lV>0){lV=lV-1;if(lV===0){setTimeout(function(){oD();},60);}}};aG.add_pageOpenFailed(aBS);};function TJ(aG){function azN(bS,ba){if(mN===false){return;}var h=new IPCC.PageEventArgs();h.pageIndex=ba.ax;h.imGearPage=af[ba.ax].ep;h.pageNodeID=af[ba.ax].bG;af[ba.ax].he=true;if(dN===IPCC.ViewMode.SinglePage){var oW= -1;if(Array.prototype.indexOf){oW=rr.indexOf(ba.ax);}else{oW=IPCC.Web.kQ(rr,ba.ax);}if(oW!== -1){rr.splice(oW,1);}}T.bF('pageDisplayed',h);setTimeout(function(){var mP=IPCC.G.filter(cc,function(el){if(dN===IPCC.ViewMode.SinglePage){return ba.ax===el.ax-1&&el.ax-1===cD;}else{return ba.ax===el.ax-1;}});Bl(mP);lf(mP);},0);};aG.add_pageDisplayed(azN);};function aou(aR){function Ix(bS,ba){if(mN===false){return;}T.bF('textPageReady',{pageIndex:ba.pageNumber,containsText:ba.containsText});var cC=iW();var bY=[];if(cC){bY=qe(cC);}if(ba.containsText===true&&ba.pageNumber>=bY[0]&&ba.pageNumber<=bY[bY.length-1]){if(af[ba.pageNumber].bf&&af[ba.pageNumber].bf.get_markCount()>0){var bA=document.getElementById(af[ba.pageNumber].bG);T.yH(bA,ba.pageNumber);}}};aR.Cc(Ix);};function aod(aR){function aAq(bS,ba){if(mN===false){return;}var fL=af[ba.pageNumber].fL;aR.akm().Jp().mo(function(jA){var V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),au=jA.fl();V.set_rectangle(new IPCC.Web.UI.Rectangle(au.x,au.y,au.width,au.height));V.set_href(jA.amA());V.set_lineColor(jA.atQ());V.set_lineWidth(jA.aur());V.set_borderPattern(jA.aup());V.set_borderType(jA.atD());V.set_borderHorizontalRadius(jA.avc());V.set_borderVerticalRadius(jA.arC());V.set_borderOpacity(jA.avf());fL.addMark(V);jA.aqw(V);});T.bF('hyperlinkPageReady',{pageIndex:ba.pageNumber});var cC=iW();var bY=[];if(cC){bY=qe(cC);}if(ba.pageNumber>=bY[0]&&ba.pageNumber<=bY[bY.length-1]){var bA=document.getElementById(af[ba.pageNumber].bG);T.yH(bA,ba.pageNumber);}};aR.US(aAq);};function anH(aR){function Ir(bS,ba){if(mN===false){return;}var yv;if(ba.pageNumber>=0){if(af[ba.pageNumber].bG){yv=af[ba.pageNumber].bG;}}T.bF('textExtractionFailed',{'exception':ba.exception,'pageIndex':ba.pageNumber,'pageNodeID':yv});};aR.zP(Ir);};function VB(aG){function aCq(bS,ba){if(mN===false){return;}var yv;if(isNaN(ba.pageNumber)===false){if(ba.pageNumber>=0){if(af[ba.pageNumber].bG){yv=af[ba.pageNumber].bG;}}af[ba.pageNumber].Dk=true;af[ba.pageNumber].vQ=false;af[ba.pageNumber].zW=false;af[ba.pageNumber].he=false;}var lQ=new IPCC.ExceptionEventArgs();lQ.functionName=ba.function_name;lQ.exception=ba.exception;lQ.pageIndex=ba.pageNumber;lQ.pageNodeID=yv;T.bF('exceptionThrown',lQ);if(lV>0){lV=lV-1;if(lV===0){setTimeout(function(){oD();},60);}}};aG.add_exceptionThrown(aCq);};function XB(aG){function HX(bS,ba){T.bF('markCreating',ba);};aG.add_markCreating(HX);};function apL(bd){function aco(){if(mN===false){return;}var cC=iW();var bY=[];if(cC){bY=qe(cC);}if(bd.ct>=bY[0]&&bd.ct<=bY[bY.length-1]){var bA=document.getElementById(bd.bG);T.yH(bA,bd.ct);}var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;T.bF('marksLoaded',h);};bd.bf.add_marksLoaded(aco);};function aof(bd){function iu(bS,ba){var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;h.clientX=ba.clientX;h.clientY=ba.clientY;T.bF('markAdded',h);};bd.bf.add_markAdded(iu);};function WI(bd){var UR,pu=false,YB,ZQ;function HU(J,ee){if(uU===false){return;}var kA=xc();adY(J,ee,kA);lf(cc,true,kA);};function aFM(J,ee){YB=J;ZQ=ee;if(pu&& !UR){UR=Hb(function(){pu=false;UR=undefined;if(YB&&ZQ){HU(YB,ZQ);}else{HU(J,ee);}});}};function mJ(bS,ba){if(ba.mark.xn===true){return;}var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;h.propertyName=ba.propertyName;T.bF('markChanged',h);var ee=cc[ba.mark.get_markID()];if(ee&&(ba.propertyName==='rectangle'||ba.propertyName==='points'||ba.propertyName==='startPoint'||ba.propertyName==='endPoint')){pu=true;aFM(ba.mark,ee);}else if(ee&&ba.propertyName==='visible'){var aDY=ba.mark.get_visible();var Sz=(function(di){return IPCC.G.inArray(Rg(),di.ax-1);})(ee);if(aDY&&Sz){KN([ee]);lf(cc,true,xc());}else{Kw([ee]);}}};bd.bf.add_markChanged(mJ);};function arp(bd){function abR(bS,ba){var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;h.oldZIndex=ba.oldZIndex;T.bF('markReordered',h);};bd.bf.add_markReordered(abR);};function aqg(bd){function Dq(bS,ba){if(ba.mark.xn===true){return;}var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;T.bF('markSelectionChanged',h);};bd.bf.add_markSelectionChanged(Dq);};function aqs(bd){function Ek(bS,ba){if(ba.mark){var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;T.bF('markRemoved',h);var ee=cc[ba.mark.get_markID()];if(ee){if(ba.mark.get_conversation()===ig){ig=null;}ee.dK.parentElement.removeChild(ee.dK);delete cc[ba.mark.get_markID()];lf(cc,true);}}};bd.bf.add_markRemoved(Ek);};function asQ(bd){function zn(bS,ba){var h=new IPCC.Web.UI.MarkEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.zIndex=ba.zIndex;T.bF('markTextSelectionChanged',h);};bd.bf.add_markTextSelectionChanged(zn);};function adY(J,ee,Rr){var bd=af[ee.ax-1],aR=document.getElementById(bd.bG),Be=YL(J,bd.ct+1);if(aR.aV){var dq=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(Be.x,Be.y),true);var qN=(eE*bd.ct);var JD=(aR.offsetTop-qN+dq.y)/(Rr-(eE*af.length));ee.au=Be;ee.TF=JD;}};function Kw(iI,ax){var atW=typeof ax==='undefined';IPCC.G.forEach(iI,function(bC){if(bC&&(atW||bC.pageNumber===ax)){bC.dK.style.display='none';bC.xy=false;}});};function vO(){if(ko.currentStyle&&ko.currentStyle.display==='none'){return 0;}return ko.clientWidth;};function xc(){if(ko.currentStyle&&ko.currentStyle.display==='none'){return 0;}return ko.offsetHeight;};function KN(iI,ax){var apI=typeof ax==='undefined';IPCC.G.forEach(iI,function(el){if(apI||el.pageNumber===ax){el.dK.style.display='';el.xy=true;if(el&&el.V&&el.V.get_visible()===false){el.dK.style.display='none';el.xy=false;}}});};function Bl(iI,abn){if(uU===false){return;}var KW=(! !abn)?IPCC.G.filter(cc,function(di){return IPCC.G.contains(Rg(),di.ax-1);}):iI;var kA=xc();IPCC.G.forEach(KW,function(el){adY(el.V,el,kA);});};function aEb(a,b){return(a.au.y!==b.au.y)?(a.au.y-b.au.y):(a.au.x!==b.au.x)?(a.au.x-b.au.x):(a.xP-b.xP);};function aty(a,b){return(a.au.x!==b.au.x)?(a.au.x-b.au.x):(a.au.y!==b.au.y)?(b.au.y-a.au.y):(a.xP-b.xP);};function atm(a,b){return(a.au.y!==b.au.y)?(b.au.y-a.au.y):(a.au.x!==b.au.x)?(b.au.x-a.au.x):(a.xP-b.xP);};function atO(a,b){return(a.au.x!==b.au.x)?(b.au.x-a.au.x):(a.au.y!==b.au.y)?(a.au.y-b.au.y):(a.xP-b.xP);};function azq(XW,kA,zX){zX=zX||0;var _top,alv,Ff,VX=(eE*af.length),Wf=kA-VX;IPCC.G.forEach(XW,function(di){Ff=(eE*(di.ax-1));alv=(di.TF*Wf)+Ff;_top=Math.max(zX+5,alv);if(di.dK.style.top!==_top+'px'){di.dK.style.top=_top+'px';}zX=_top+di.YF;});};function aAV(XW,kA){var PW,_top,Lx,Ff,agP,VX=(eE*af.length),Wf=kA-VX;IPCC.G.forEach(XW,function(di){Ff=(eE*(di.ax-1));Lx=(di.TF*Wf)+Ff;if(PW===undefined){PW=Lx;}if(di.V.get_conversation()===ig){_top=Lx;agP=_top+di.YF;}else{_top=Math.min(PW-5-di.YF,Lx);}if(di.dK.style.top!==_top+'px'){di.dK.style.top=_top+'px';}PW=_top;});return agP;};function lf(iI,abn,kA){if(uU===false){return;}if(!kA){kA=xc();}var apP=function(a,b){if(a.ax!==b.ax){return(a.ax-b.ax);}var aR=af[a.ax-1],gc=aR.gA;switch(gc){case 90:return aty(a,b);case 180:return atm(a,b);case 270:return atO(a,b);default:return aEb(a,b);}};var KW=(! !abn)?IPCC.G.filter(cc,function(di){return IPCC.G.inArray(Rg(),di.ax-1);}):iI;KN(KW);var apG=IPCC.G.map(KW,function(di,ac){di.YF=di.dK.offsetHeight;return di;});var Xl=apG.sort(apP);var La=[],aaE=[],VL=false;if(ig){var aos=cc[ig.get_mark().get_markID()];if(!IPCC.G.inArray(Xl,aos)){VL=true;}IPCC.G.forEach(Xl,function(di){if(VL){aaE.push(di);}else if(di.V.get_conversation()===ig){La.unshift(di);VL=true;}else{La.unshift(di);}});}else{aaE=Xl;}var zX=0;if(La.length){zX=aAV(La,kA);}azq(aaE,kA,zX);};function auZ(iI,J,ct){var di=iI[J.ke()];di.ax=ct;di.V=J;di.au=YL(J,ct);di.xP=J.en().oA(J);};function Es(J,iI,jM){var ee=iI[J.get_markID()];if(ee){ee.dK.parentElement.replaceChild(jM,ee.dK);ee.dK=jM;}return ee;};function anX(J,iI,jM,azn,aFf,JD,ct){var ee=new avD();ee.dK=jM;cc[J.get_markID()]=ee;auZ(cc,J,ct);ee.TF=JD;azn.appendChild(jM);return ee;};function YL(J,ax){var au=(J.get_boundingRectangle)?J.get_boundingRectangle():{},gc=af[ax-1].gA;switch(gc){case 90:return{x:au.x,y:au.y+(au.height||0)};case 180:return{x:au.x+(au.width||0),y:au.y+(au.height||0)};case 270:return{x:au.x+(au.width||0),y:au.y};default:return{x:au.x,y:au.y};}};function aqj(bd){function Sl(bS,ba){var h=new IPCC.Web.UI.CommentEventArgs();h.pageIndex=bd.ct;h.mark=ba.mark;h.index=ba.index;h.comment=ba.comment;var aR=document.getElementById(bd.bG);T.bF('commentAdding',h);setTimeout(function(){var Rr=xc(),ee,dK;if(ba.index===0){dK=lC(ba.mark,{isSelected:false},null);if(!dK){return;}else if(!IPCC.G.uw(dK)){throw new Error(dK+' is not a valid HTMLElement');}var Be=YL(ba.mark,bd.ct+1),aFJ=Be.x,aAd=Be.y;var dq;if(aR&&aR.aV){dq=aR.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(aFJ,aAd),true);}else{dq=new IPCC.Web.UI.Point(0,0);}var qN=(eE*(bd.ct));var JD=(afF(bd.ct)-qN+dq.y)/(Rr-(eE*af.length));ee=anX(ba.mark,cc,dK,ko,dq,JD,bd.ct+1);}else{var FH=ba.mark.get_conversation()===ig;var currentConversationDiv=cc[ba.mark.get_markID()];if(!currentConversationDiv){return;}dK=lC(ba.mark,{isSelected:FH},currentConversationDiv.dK);if(!dK){return;}else if(!IPCC.G.uw(dK)){throw new Error(dK+' is not a valid HTMLElement');}ee=Es(ba.mark,cc,dK);}if(IPCC.G.contains(Rg(),bd.ct)){lf(cc,true,Rr);}else{Kw([ee]);}T.bF('commentAdded',h);},0);};bd.bf.add_commentAdded(Sl);};function aqy(bd){function Qx(bS,ba){var dK=null;if(cc[ba.mark.get_markID()]){dK=cc[ba.mark.get_markID()].dK;var FH=ba.mark.get_conversation()===ig;dK=lC(ba.mark,{isSelected:FH},dK);}if(!dK){T.bF('commentChanged',ba);return;}else if(!IPCC.G.uw(dK)){throw new Error(dK+' is not a valid HTMLElement');}if(dK){var kA=xc();Es(ba.mark,cc,dK);lf(cc,true,kA);}T.bF('commentChanged',ba);};bd.bf.add_commentChanged(Qx);};function apt(bd){function Sj(bS,ba){var dK=null;if(cc[ba.mark.get_markID()]){dK=cc[ba.mark.get_markID()].dK;}var FH=ba.mark.get_conversation()===ig;dK=lC(ba.mark,{isSelected:FH},dK);if(IPCC.G.uw(dK)){Es(ba.mark,cc,dK);}else{var ee=cc[ba.mark.get_markID()];if(ee){if(ba.mark.get_conversation()===ig){ig=null;}ee.dK.parentElement.removeChild(ee.dK);delete cc[ba.mark.get_markID()];}}lf(cc,true);T.bF('commentRemoved',ba);};bd.bf.add_commentRemoved(Sj);};function RM(){var cq=jD;var bz=hi;var aoj=function(iB){return{width:iB.width||(iB.right-iB.left),height:iB.height||(iB.bottom-iB.top),top:iB.top,bottom:iB.bottom,left:iB.left,right:iB.right};};var amo=aoj(am.getBoundingClientRect());var pd={height:amo.height/2};pd.width=pd.height*bz/cq;if(pd.width>bz/2){pd.width=bz/2;}if(pd.height>cq/2){pd.height=cq/2;}var YH=8;var ahJ={height:cq*YH,width:bz*YH};var awH=bz*cv<pd.width+5;var awM=bz*cv>ahJ.width-5;return{min:pd,max:ahJ,page:{width:bz,height:cq},viewport:amo,atMin:awH,atMax:awM,maxFactor:YH,minFactor:pd.width/bz};};function kE(bv,Un){if(Un){adm.apply(this,arguments);return;}var uH=(bv<cv)?true:false;var nG=RM();if((nG.atMin&&uH)||(nG.atMax&& !uH)){return;}if(bv>nG.maxFactor){bv=nG.maxFactor;}else if(bv<nG.minFactor){bv=nG.minFactor;}if(!nG.atMax|| !nG.atMin){adm.apply(this,arguments);}};function adm(bv,aIk,aD,cF,EA,qV,eh,ea){if(isNaN(bv)||bv<=0||Math.abs(bv)===Infinity){return;}var Uj=cD;var cC=iW();var uH=(bv<cv)?true:false;var gT=0;var hH=af.length-1;if(dN===IPCC.ViewMode.SinglePage){if(cD-wY>=0){gT=cD-wY;}if(cD+wY<af.length-1){hH=cD+wY;}}var PE=bv/cv;cv=bv;var BX=am.getBoundingClientRect();var acW=(qV&&qV.x!==undefined)?qV.x:am.scrollLeft+(BX.width/2);var aag=(qV&&qV.y!==undefined)?qV.y:am.scrollTop+(BX.height/2);var auz=qV&&qV.x!==undefined&&qV.y!==undefined;gb=0;fO=0;for(var ar=gT;ar<=hH;ar++){var bq;var bA=document.getElementById(af[ar].bG);if(bA){bq=bA.aV;}else{continue;}if(ar===Uj){var Qd=bA.getBoundingClientRect();if(!auz){if(et===IPCC.PageLayout.HorizontalScrollDirection&&BX.height>Qd.height){aag-=((BX.height-Qd.height)/2);}else if(et===IPCC.PageLayout.VerticalScrollDirection&&BX.width>Qd.width){acW-=((BX.width-Qd.width)/2);}}}var hb=bv*dn/af[ar].gz;var ay=hi;var an=jD;var fM=hi;var fG=jD;if(hZ(qf)===true){fM=jD;fG=hi;}if(af[ar].jK()>0){if(hZ(af[ar].gA)===true){ay=af[ar].qZ();an=af[ar].jK();}else{ay=af[ar].jK();an=af[ar].qZ();}}else{hb=bv*dn/af[0].gz;if(hZ(af[ar].gA)===true){var Gg=ay;ay=an;an=Gg;hb=bv*dn/af[0].fS;}}var HN,HF,gJ;if(dN===IPCC.ViewMode.SinglePage){HF=ay*hb;HN=an*hb;bA.style.width=HF+'px';bA.style.height=HN+'px';if(ar===cD){aj.style.width=HF+'px';aj.style.height=HN+'px';}if(bq&&af[ar].he===true&&bq.eP()===true){bq.zoom(hb);}}else if(dN===IPCC.ViewMode.Document){HF=ay*hb;HN=an*hb;bA.style.width=HF+'px';bA.style.height=HN+'px';if(bq&&af[ar].he===true&&bq.eP()===true){bq.zoom(hb);}if(ay*hb>gb){gb=ay*hb;}if(an*hb>fO){fO=an*hb;}}else{hb=bv*dn/af[0].gz;if(et===IPCC.PageLayout.VerticalScrollDirection){gJ=fM/ay*hb;bA.style.width=fM*hb+'px';bA.style.height=an*gJ+'px';if(fM*hb>gb){gb=fM*hb;}if(an*hb>fO){fO=an*hb;}}else{gJ=fG/an*hb;bA.style.height=fG*hb+'px';bA.style.width=ay*gJ+'px';if(ay*hb>gb){gb=ay*hb;}if(fG*hb>fO){fO=fG*hb;}}if(bq&&af[ar].he===true&&bq.eP()===true){bq.zoom(gJ);}}if(bq&&af[ar].he===true&&bq.eP()===true){bq.display();if(IPCC.G.ud.zi){var aDZ=am.style.display;am.style.display='none';am.style.display=aDZ;aDg();}}}if(et===IPCC.PageLayout.VerticalScrollDirection){Pw=am.scrollTop;}else{Pw=am.scrollLeft;}var OO,RA,Lu=0,KH=0;if(EA){OO=EA.offsetLeft+PE*aD;RA=EA.offsetTop+PE*cF;am.scrollLeft=OO-(am.clientWidth/2)+Lu;am.scrollTop=RA-(am.clientHeight/2)+KH;aFi(cC);}else{if(et===IPCC.PageLayout.VerticalScrollDirection){KH=eE*(Uj+1);}else{Lu=gP+((fZ+gP)*(Uj+1));}OO=PE*(acW-Lu);RA=PE*(aag-KH);acr(cC);am.scrollLeft=OO-(am.clientWidth/2)+Lu;am.scrollTop=RA-(am.clientHeight/2)+KH;}if(dN!==IPCC.ViewMode.SinglePage&&(eh===IPCC.ScaleTrigger.Pinch||uH===true)){oD();}lf(cc,true);T.bF('scaleChanged',{scaleType:(uH)?"scaledDown":"scaledUp",scaleTrigger:eh,fitType:ea,scaleFactor:cv});};function aDg(){var dummy=document.createElement('div');setTimeout(function(){am.appendChild(dummy);am.removeChild(dummy);},0);};function ahg(bn,ei,fw,fs){var gS=bn.igElements;fs=fs||Vw(bn);if(fs&&(fs.right-fs.left)>0&&(fs.bottom-fs.top)>0){return new IPCC.Web.UI.Point(ei+fs.left+gS.nl.scrollLeft,fw+fs.top+gS.nl.scrollTop);}else{return;}};function Vw(bn){var gS=bn.igElements;var fs=null;if(!bn|| !gS|| !gS.mp){return null;}if(gS.mp.getBoundingClientRect){try{fs=gS.mp.getBoundingClientRect();}catch(bb){return;}}else{var fc=gS.mp;var vq=document.documentElement;fs={left:vq.clientLeft-vq.scrollLeft,top:vq.clientTop-vq.scrollTop};fc=fc.offsetParent;while(fc){fs.top+=fc.offsetTop-fc.scrollTop;fs.left+=fc.offsetLeft-fc.scrollLeft;fc=fc.offsetParent;}}return fs;};function aiX(){var co=T.mE();var NY=co.id;var vE;var wx;var nt;var Wm;var WV;var ah=false;var bn;var oq=[];var vj= -1;var hF=0;var oO;var Bn;var xK;var kz=0;var bW=0;var sv=null;var wR=null;if(aj===''){am=hD({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});am.className='pccPageListContainerWrapper';am.tabIndex=2;var Ww=function(ei,fw){return IPCC.G.getPageFromPoint(ei,fw,am)||false;};var ZU=function(bn,ei,fw){var gS=bn.igElements;var fs=Vw(bn);if(fs&&(fs.right-fs.left)>0&&(fs.bottom-fs.top)>0){return new IPCC.Web.UI.Point(ei-fs.left-gS.nl.scrollLeft,fw-fs.top-gS.nl.scrollTop);}else{return;}};var aoZ=function(qa){qa.HT([new IPCC.mC(IPCC.Web.UI.MarkType.Text)]);};var aoq=function(qa){qa.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var KP=false,aEK="";var alr=function aHF(bb,jn,aR){if(jn.match(/edit/)){KP=true;return;}aoZ(aR.aV);KP=true;aEK=jn;aR.aV.Io("touchstart",bb);};var aln=function(aR){KP=false;aoq(aR.aV);};var YA=function(bb){if(bb.target&&bb.target.attributes&&bb.target.getAttribute('data-pcc-mark')){return bb.target;}else if(bb.target.parentElement&&bb.target.parentElement.attributes&&bb.target.parentElement.getAttribute('data-pcc-mark')){return bb.target.parentElement;}else if(bb.target.parentNode&&bb.target.parentNode.attributes&&bb.target.parentNode.getAttribute('data-pcc-mark')){return bb.target.parentNode;}else{return undefined;}};var ZT=function(bb){var dG=YA(bb);if(dG){return dG.getAttribute('data-pcc-mark');}return undefined;};var amF=function(qa){if(qa&&qa.en()){qa.en().Fe(function(V){V.set_selected(false);});qa.display();}};var PQ,abD=false;var Mq=function(bb,h){var lP={cV:undefined,V:undefined,aZ:null};var jV=YA(bb);if(jV){if(typeof bn!=='undefined'&&bn!==false&&bn.aV&&bn.igElements&&bn.aV.eP()===true){lP.aZ=bn.aV.po();}if(jV.ImGearMarkRelation){lP.cV='mark';lP.V=jV.ImGearMarkRelation.V;lP.WC=lP.V.get_selected();return lP;}else{while(!(jV.ImGearMarkRelation)&&jV.parentNode&&jV!==document.body){jV=jV.parentNode;if(jV.ImGearMarkRelation){lP.cV='mark';lP.V=jV.ImGearMarkRelation.V;lP.WC=lP.V.get_selected();return lP;}}}}if(typeof bn!=='undefined'&&bn!==false&&bn.aV&&bn.igElements&&bn.aV.eP()===true){lP.aZ=bn.aV.po();var aZ=0;for(aZ=0;aZ<af.length;aZ++){if(af[aZ].bG===bn.id){if(typeof h.targetType==='undefined'||h.targetType===null){lP.cV='page';return lP;}break;}}}return lP;};var Os=function(aZ,sH,ii,azC){if(aP===null||aP===undefined){return;}var WW=false;if(sH===undefined){sH=aP.sH;WW=true;}if(ii===undefined){ii=aP.ii;WW=true;}var V;var aR=document.getElementById(af[aZ].bG);if(azC===true){V=aP.xE;}else{V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);V.set_rectangle({x:0,y:0,width:0,height:0});V.de=127;V.eI='#3366CC';V.aC=null;aR.aV.mf().addMark(V);}V.set_selected(true);if(WW===true){if(aP.gT===aP.hH){V.aX=hF;V.cU=ii-hF+1;V.kI=true;V.kX=true;aR.aV.display();}else if(aZ===aP.gT){V.aX=hF;V.cU=aR.aV.dj().hJ().eQ()-1-sH;V.kI=true;V.kX=false;aR.aV.display();}else if(aZ===aP.hH){V.aX=0;V.cU=ii+1;V.kI=false;V.kX=true;aR.aV.display();}else{V.aX=0;V.cU=aR.aV.dj().hJ().eQ()-1-hF;V.kI=false;V.kX=false;}}else{if(aP.gT===aP.hH){V.kI=true;V.kX=true;}else if(aZ===aP.gT){V.kI=true;V.kX=false;}else if(aZ===aP.hH){V.kI=false;V.kX=true;}else{V.kI=false;V.kX=false;}}aP.ff[aZ]=V;};var ahp=function(dG,aD,cF,Nu){if(dG){var OW=dG.getBoundingClientRect();aD=IPCC.G.Ow(aD,OW.left+Nu);aD=IPCC.G.Mj(aD,OW.right-Nu);cF=IPCC.G.Ow(cF,OW.top+Nu);cF=IPCC.G.Mj(cF,OW.bottom-Nu);}return{x:aD,y:cF};};var kD=function(bb){if(xK){if(xK.clientX===bb.clientX&&xK.clientY===bb.clientY){if(bb.rawEvent.preventDefault){bb.rawEvent.preventDefault();}else if(bb.preventDefault){bb.preventDefault();}if(bb.rawEvent.stopPropagation){bb.rawEvent.stopPropagation();}else if(bb.stopPropagation){bb.stopPropagation();}abD=true;xK=undefined;return false;}}PQ=bb;ajz(bb,bb.clientX,bb.clientY,bb.button);};var aiA=function(bb,h){nt=Mq(bb,h);};var ajz=function(bb,ei,fw,pm){var h=new IPCC.Web.UI.MouseEventArgs();bn=Ww(ei,fw);aiA(bb,h);var jn;var jV=YA(bb);if(jV){jn=jV.getAttribute('data-pcc-mark');}var XV=false;var Mk=jn&&jn.substring(0,10);if(jn&&Mk==='texthandle'){Bn=true;XV=true;Mk=jn.substring(10,13);var V=jV.parentNode.ImGearMarkRelation.V;if(aP&&V.aC===null){oq=aP.rI.slice();oq[h.pageIndex]=undefined;}else{aP=null;oq=[];T.vw();}var aaJ=function(aCJ){hF=aP.sH;var K;for(K=aP.hH;K>=aP.gT;K--){var aR=document.getElementById(af[K].bG);if(aR.aV===undefined||aR.aV===null){continue;}var xp=hF;if(K!==aP.gT){xp=0;}var sO;if(K===aP.hH){sO=aP.ii;}else{sO=aR.aV.get_textPage().hJ().eQ()-1;}aCJ(aR,xp,sO);if(K!==aP.qh){Os(K);}}sv=aw;aw=IPCC.Web.UI.MouseTool.SelectText;ah=true;};var K,aZ,bf,Lf,eD,sr,ds;if(Mk==='sta'){if(aP===null||aP===undefined){aZ=V.aZ;aP={};aP.ff=[];aP.gT=aZ;aP.sH=V.aX;hF=V.aX;while(aZ<af.length){bf=af[aZ].bf;Lf=bf.get_markCount();for(K=0;K<Lf;K++){eD=bf.getMark(K);if(V.be===eD.be&&eD.get_type()===V.get_type()){aP.ff[aZ]=eD;for(sr=eD.aC.length-1;sr>=0;sr--){if(eD.aC[sr].set_visible){eD.aC[sr].set_visible(false);}else{eD.set_visible(false);break;}}if(aZ===V.aZ){wR=eD;}else{oq[aZ]=ds.substring(eD.aX,eD.cU);eD.set_selected(false);}ds=eD.ds.substring(eD.cU);if(eD.kX===true){aP.ii=eD.aX+eD.cU-1;aP.hH=aZ;break;}}}aZ++;}}oO=aP.ii+1;kz=aP.hH;var aqF=function(aR,xp,sO){aR.aV.showEmptyTextSelection(sO+1);aR.aV.extendTextSelection(undefined);aR.aV.extendTextSelection(sO);aR.aV.extendTextSelection(xp);};aP.ff[aP.gT].xn=true;aP.qh=aP.gT;aP.xE=aP.ff[aP.gT];aaJ(aqF);}else if(Mk==='end'){if(aP===null||aP===undefined){aZ=V.aZ;aP={};aP.ff=[];aP.hH=aZ;aP.ii=V.aX+V.cU-1;while(aZ>=0){bf=af[aZ].bf;Lf=bf.get_markCount();for(K=0;K<Lf;K++){eD=bf.getMark(K);if(V.be===eD.be&&eD.get_type()===V.get_type()){aP.ff[aZ]=eD;for(sr=eD.aC.length-1;sr>=0;sr--){if(eD.aC[sr].set_visible){eD.aC[sr].set_visible(false);}else{eD.set_visible(false);break;}}if(aZ===V.aZ){ds=eD.ds;}else{oq[aZ]=ds.substring(ds.length-eD.cU);eD.set_selected(false);}ds=eD.ds.substring(0,ds.length-eD.cU);if(eD.kI===true){aP.sH=eD.aX;hF=eD.aX;aP.gT=aZ;wR=eD;break;}}}aZ--;}}oO=aP.sH;kz=aP.gT;var apF=function(aR,xp,sO){aR.aV.showEmptyTextSelection(xp);aR.aV.extendTextSelection(undefined);aR.aV.extendTextSelection(xp);aR.aV.extendTextSelection(sO);};aP.ff[aP.hH].xn=true;aP.qh=aP.hH;aP.xE=aP.ff[aP.hH];aaJ(apF);}if(wR){bn.aV.display();}}var AE=bb.target.tagName&&bb.target.tagName.toLowerCase()==='textarea';if(AE){return;}var Ae=bb.target.tagName&&bb.target.tagName.toLowerCase()==='input'&&bb.target.type&&bb.target.type.toLowerCase()==='text';if(Ae){return;}if(aw===IPCC.Web.UI.MouseTool.HandPan&&Bg&&jn&&XV===false){if(!nt||nt.V.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){alr(bb,jn,bn);return;}}var df;var ft;if(bn!==false&&bn.aV&&bn.igElements&&bn.aV.eP()===true){var aA=0;for(aA=0;aA<af.length;aA++){if(af[aA].bG===bn.id){h.pageIndex=aA;break;}}h.pointLiesWithinImage=true;ft=ZU(bn,ei,fw);if(ft){df=bn.aV.LG(ft,false);h.imagePoint=df;h.constrainedImagePoint=df;}else{h.pointLiesWithinImage=false;}}else{h.pointLiesWithinImage=false;}h.domEvent=bb;h.windowPoint=new IPCC.Web.UI.Point(ei,fw);if(XV===true){vj= -1;bW=h.pageIndex;bb.preventDefault();T.bF('mouseDown',h);return;}switch(aw){case IPCC.Web.UI.MouseTool.None:bb.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bb.preventDefault();vE=fw;wx=ei;Wm=am.scrollTop;WV=am.scrollLeft;ah=true;T.AJ(aj,'grabbing');if(bn&&bn.aV){T.AJ(bn,'grabbing');bn.aV.set_cursor('grabbing');bn.aV.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bb.preventDefault();if(pm===0&&bn&&bn.aV&&df){T.vw();oq=[];vj= -1;Bn=undefined;var cz=bn.aV.transformPagePointToTextIndex(df);hF=cz;oO=cz;ah=true;if(cz===undefined){T.bF('mouseDown',h);return;}bn.aV.showEmptyTextSelection(cz);bn.aV.extendTextSelection(undefined);bn.aV.extendTextSelection(cz);bn.aV.display();kz=h.pageIndex;bW=h.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:bb.preventDefault();if(pm===0&&bn&&bn.aV&&ft){var jN=IPCC.bK.dX(IPCC.bK.None);aj.style.cursor=jN;bn.aV.showMagnifier(ft);bn.aV.display();}ah=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bb.preventDefault();if(pm===0&&bn&&bn.aV&&df){ah=true;vE=ft.y;wx=ft.x;bn.aV.showEmptySelection(df);bn.aV.display();}break;}T.bF('mouseDown',h);};var kl=function(bb){ajx(bb,bb.clientX,bb.clientY,bb.button);};var agv=function(h,ei,fw,cs){h.windowPoint=new IPCC.Web.UI.Point(ei,fw);cs=Ww(ei,fw);var df,ft;if(cs!==false&&cs.aV&&cs.igElements&&cs.aV.eP()===true){h.pointLiesWithinImage=true;ft=ZU(cs,ei,fw);if(ft){df=cs.aV.LG(ft,false);h.imagePoint=df;h.constrainedImagePoint=df;}else{h.pointLiesWithinImage=false;}}else{h.pointLiesWithinImage=false;}return{h:h,ei:ei,fw:fw,cs:cs,df:df,ft:ft};};var ajx=function(bb,ei,fw,pm){var AE=bb.target.tagName&&bb.target.tagName.toLowerCase()==='textarea';if(AE){return;}var Ae=bb.target.tagName&&bb.target.tagName.toLowerCase()==='input'&&bb.target.type&&bb.target.type.toLowerCase()==='text';if(Ae){return;}var h=new IPCC.Web.UI.MouseEventArgs();var df,ft,cs;var HO=function(ei,fw){var nT=agv(h,ei,fw,cs);h=nT.h;h.domEvent=bb;ei=nT.ei;fw=nT.fw;cs=nT.cs;df=nT.df;ft=nT.ft;};HO(ei,fw);var jV=Mq(bb,h);if(jV&&jV.V){h.mark=jV.V;}var jN;switch(aw){case IPCC.Web.UI.MouseTool.None:bb.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bb.preventDefault();if(ah){var axJ=fw;var axg=ei;var azW=vE-axJ;var aAv=wx-axg;am.scrollTop=Wm+azW;am.scrollLeft=WV+aAv;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bb.preventDefault();if(ah){if(pm!==0){DU();}var gZ;if(!cs){T.bF('mouseMove',h);return;}if(hF===undefined){bn=cs;}else if(cs!==bn&&cs.aV&&ft){vj= -1;var jG=0;var K=0;for(K=0;K<af.length;K++){if(af[K].bG===cs.id){jG=K;break;}}if(jG>bW){if(jG>kz){gZ=bn.aV.get_textPage().hJ().eQ()-1;if(gZ<0){DU();T.bF('mouseMove',h);return;}bn.aV.extendTextSelection(gZ);if(aP){gZ=bn.aV.get_textPage().hJ().eQ()-1;aP.ff[bW].set_startIndex(bn.aV.KO());aP.ff[bW].set_textLength(bn.aV.DH());aP.hH=jG;hF=bn.aV.KO();}oq[bW]=bn.aV.getSelectedText();cs.aV.showEmptyTextSelection(0);cs.aV.extendTextSelection(undefined);vj=0;bn.aV.display();bn=cs;}else{hF=0;oq[bW]=undefined;oq[jG]=undefined;bn.aV.showEmptyTextSelection(0);bn.aV.extendTextSelection(undefined);if(aP&&aP.ff[bW]){aP.ff[bW].kI=false;}bn.aV.display();bn=cs;if(aP&&aP.ff[bW]){aP.ff[bW]=undefined;aP.gT=jG;aP.ff[jG].set_startIndex(0);aP.ff[jG].set_textLength(aP.ff[jG].get_startIndex()+aP.ff[jG].get_textLength());aP.ff[jG].kI=true;bn.aV.display();}}}else if(jG<bW){if(jG<kz){gZ=bn.aV.get_currentTextIndex();if(gZ!==0){bn.aV.extendTextSelection(0);}if(aP){aP.ff[bW].set_startIndex(bn.aV.KO());aP.ff[bW].set_textLength(bn.aV.DH());aP.gT=jG;}oq[bW]=bn.aV.getSelectedText();bn.aV.display();gZ=cs.aV.dj().hJ().eQ()-1;vj=gZ;hF=0;cs.aV.showEmptyTextSelection(gZ+1);cs.aV.extendTextSelection(undefined);bn=cs;bn.aV.display();}else{oq[bW]=undefined;oq[jG]=undefined;bn.aV.showEmptyTextSelection(0);bn.aV.extendTextSelection(undefined);if(aP&&aP.ff[bW]){aP.ff[bW].kX=false;}bn.aV.display();bn=cs;if(aP&&aP.ff[bW]){aP.ff[bW]=undefined;aP.hH=jG;gZ=bn.aV.dj().hJ().eQ()-1;aP.ff[jG].set_textLength(cs.aV.DH());aP.ff[jG].kX=true;bn.aV.display();}}}bW=jG;}var avs=(bW<kz),avJ=(bW>kz);if(bn&&bn.aV&&bn.aV.eP()===true&&ft){ft=ZU(bn,ei,fw);df=bn.aV.LG(ft,false);var cz=bn.aV.transformPagePointToTextIndex(df);if(hF===undefined){hF=cz;oO=cz;if(cz===undefined){T.bF('mouseMove',h);return;}bn.aV.showEmptyTextSelection(cz);bn.aV.extendTextSelection(undefined);bn.aV.extendTextSelection(cz);bn.aV.display();var bJ=0;for(bJ=0;bJ<af.length;bJ++){if(af[bJ].bG===bn.id){kz=bJ;bW=bJ;break;}}}else{if(hF=== +hF&&cz=== +cz){if(avs){hF=cz;}else if(!avJ){hF=Math.min(oO,cz);}}}gZ=bn.aV.get_currentTextIndex();if(gZ===cz||cz===undefined){T.bF('mouseMove',h);return;}if(vj!== -1){if(cz!==vj){bn.aV.extendTextSelection(vj);}vj= -1;}if((cz>oO&&bW===kz)||bW>kz){if(aP){if(aP.ff[bW]===undefined||aP.ff[bW]===null){Os(bW,0,0,bW===aP.qh);if(bW-1>=0&&aP.ff[bW-1]){aP.ff[bW-1].kX=false;document.getElementById(af[bW-1].bG).aV.display();}}aP.ff[bW].kX=true;}if(Bn===undefined){Bn=false;}}else if(cz<oO||bW<kz){if(aP){if(aP.ff[bW]===undefined||aP.ff[bW]===null){Os(bW,bn.aV.dj().hJ().eQ()-1,0,bW===aP.qh);if(aP.ff[bW+1]){aP.ff[bW+1].kI=false;document.getElementById(af[bW+1].bG).aV.display();}}aP.ff[bW].kI=true;}if(Bn===undefined){Bn=true;oO++;bn.aV.showEmptyTextSelection(oO);bn.aV.extendTextSelection(undefined);var sO=bn.aV.dj().hJ().eQ();if(oO>=sO){bn.aV.extendTextSelection(sO-1);}else{bn.aV.extendTextSelection(oO);}}}bn.aV.extendTextSelection(cz);if(aP&&aP.ff[bW]){aP.ff[bW].set_startIndex(bn.aV.KO());aP.ff[bW].set_textLength(bn.aV.DH());}bn.aV.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:bb.preventDefault();if(ah){if(pm!==0||(bn&&bn.aV&&bn!==cs)){bn.aV.hideMagnifier();jN=IPCC.bK.dX(IPCC.bK.Magnifier);aj.style.cursor=jN;bn.aV.display();}if(cs&&cs.aV&&ft){bn=cs;jN=IPCC.bK.dX(IPCC.bK.None);aj.style.cursor=jN;cs.aV.showMagnifier(ft);cs.aV.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:bb.preventDefault();if(ah){var Gf=ahp(bn,ei,fw,1);HO(Gf.x,Gf.y);if(cs&&cs.aV&&df&&cs===bn){if(pm!==0){cs.aV.hideSelection();cs.aV.display();ah=false;}else{cs.aV.extendSelection(df);cs.aV.display();}}}break;}T.bF('mouseMove',h);};var kk=function(bb){if(abD!==true){Vl(bb,bb.clientX,bb.clientY);}else{abD=false;}};var ajj=function(bb,h){h.upTargetType=null;var Cv=Mq(bb,h);h.originalEvent=bb.rawEvent;h.clientX=bb.clientX;h.clientY=bb.clientY;h.downTarget={type:undefined,pageIndex:undefined};if(typeof nt!=='undefined'&&typeof nt.cV!=='undefined'){h.downTarget.type=nt.cV;}if(typeof nt!=='undefined'&&typeof nt.aZ!=='undefined'){h.downTarget.pageIndex=nt.aZ;}if(typeof nt!=='undefined'&&typeof nt.WC!=='undefined'){h.downTarget.alreadySelected=nt.WC;}h.downMark=(typeof nt!=='undefined')?nt.V:undefined;h.upMark=Cv.V;switch(Cv.cV){case 'page':case 'mark':h.upTarget={type:Cv.cV,pageIndex:Cv.aZ};break;}if(h.pointLiesWithinImage===false&&Cv.cV==='page'){Cv.aZ= -1;}};var Vl=function(bb,ei,fw){var h=new IPCC.Web.UI.MouseEventArgs();var cs;var df;var ft;var HO=function(ei,fw){var nT=agv(h,ei,fw,cs);h=nT.h;h.domEvent=bb;ei=nT.ei;fw=nT.fw;cs=nT.cs;df=nT.df;ft=nT.ft;};HO(ei,fw);if(bb){ajj(bb,h);T.bF('mouseUp',h);}nt=undefined;var jN;switch(aw){case IPCC.Web.UI.MouseTool.None:bb.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:bb.preventDefault();if(ah){wx=undefined;vE=undefined;Wm=undefined;WV=undefined;ah=false;jN='move';T.AJ(aj,'grab');if(bn&&bn.aV){T.AJ(bn,'grab');bn.aV.set_cursor('grab');bn.aV.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(bb){bb.preventDefault();}if(ah){var qL=new IPCC.Web.UI.TextSelectedEventArgs(),kF=[],K,yk,Bj;var ii;var JU=bn.aV.getSelectedText();var rI=oq.slice();if(JU.length>0){rI[bW]=bn.aV.getSelectedText();}else{if(bW>kz){bW--;bn=document.getElementById(af[bW].bG);if(rI[bW]){JU=rI[bW];}}else if(bW<kz){bW++;bn=document.getElementById(af[bW].bG);if(rI[bW]){JU=rI[bW];}}}qL.text=rI.join('');var Tm=true;if(bW>=kz){if(bW===kz){if(bn.aV.get_currentTextIndex()>=oO){Tm=false;}ii=hF+JU.length-1;}else{ii=JU.length-1;}if(ii<0){ii=0;}yk=kz;Bj=bW;}else{Tm=false;ii=oO-1;yk=bW;Bj=kz;}for(K=yk;K<=Bj;K++){kF.push(K);}if(qL.text.length===0){DU();kF=[];}qL.pageNumbers=kF;qL.clientX=ei;qL.clientY=fw;if(hF!==undefined){if(aw===IPCC.Web.UI.MouseTool.SelectText){var atZ=function(aR,Az){var Jk=aR.aV.dj();var hI=Jk.hJ();var eB=hI.ld(Az);return eB.uD();};var gZ=bn.aV.get_currentTextIndex();var Nr=atZ(bn,gZ);var fg=0,fE=0;if(Tm===false){fg=Nr.width;fE=Nr.height;}var AY=bn.aV.transformPagePointToWindow(new IPCC.Web.UI.Point(Nr.x+fg,Nr.y+fE),true);var dq=ahg(bn,AY.x,AY.y);qL.handleClientX=dq.x;qL.handleClientY=dq.y;}var ayv=aP===undefined||aP===null;if(wR){qL.previousFirstMark=wR;qL.firstMark=aP.ff[yk];if(aP.qh<yk||aP.qh>Bj){var FW=document.getElementById(af[aP.qh].bG);if(FW.aV){FW.aV.mf().removeMark(aP.xE);}}aP.xE.xn=false;T.vw();if(sv!==null){aw=sv;}sv=null;}else if(ayv===true){if(aw===IPCC.Web.UI.MouseTool.SelectText){aP={gT:yk,sH:hF,hH:Bj,ii:ii,rI:rI.slice(),ff:[]};for(K=0;K<kF.length;K++){Os(kF[K]);}}else{T.vw();}}else{if(aP.qh<yk||aP.qh>Bj){var ail=document.getElementById(af[aP.qh].bG);if(ail.aV){ail.aV.mf().removeMark(aP.xE);}}aP.xE.xn=false;aP.gT=yk;aP.sH=hF;aP.hH=Bj;aP.ii=ii;aP.rI=rI.slice();if(sv!==null){aw=sv;}sv=null;}qL.mouseTool=aw;qL.startIndex=hF;T.bF('selectTextMouseToolCompleted',qL);if(wR){wR=null;aP=null;}}ah=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:bb.preventDefault();if(cs&&cs.aV){cs.aV.hideMagnifier();jN=IPCC.bK.dX(IPCC.bK.Magnifier);aj.style.cursor=jN;cs.aV.display();}ah=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:bb.preventDefault();var Gf=ahp(bn,ei,fw,1);HO(Gf.x,Gf.y);if(ah&&ft){var DB=0;var Ew=0;var SQ=0;var abI=0;if(ft.x<wx){DB=wx-ft.x;SQ=ft.x+DB/2;}else{DB=ft.x-wx;SQ=wx+DB/2;}if(ft.y<vE){Ew=vE-ft.y;abI=ft.y+Ew/2;}else{Ew=ft.y-vE;abI=vE+Ew/2;}var aol=am.clientWidth/DB;var amO=am.clientHeight/Ew;var om=aol;if(aol>amO){om=amO;}if(cs&&cs.aV){cs.aV.oS();cs.aV.display();}ah=false;if(DB*2+Ew*2>25){T.aoo(om,SQ,abI,cs);}}break;}var AE=false;var Ae=false;if(bb){AE=bb.target.tagName&&bb.target.tagName.toLowerCase()==='textarea';Ae=bb.target.tagName&&bb.target.tagName.toLowerCase()==='input'&&bb.target.type&&bb.target.type.toLowerCase()==='text';}if(KP&& !AE&& !Ae){aln(bn);}else if(aw===IPCC.Web.UI.MouseTool.HandPan&&PQ&& !AE&& !Ae&&bb&&PQ.clientX===bb.clientX&&PQ.clientY===bb.clientY&&bb.shiftKey!==true&&bb.ctrlKey!==true){amF(bn.aV);}};var atN=function(){var jN;switch(aw){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:T.AJ(aj,'grab');ah=false;break;case IPCC.Web.UI.MouseTool.SelectText:DU();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bn&&bn.aV){bn.aV.hideMagnifier();jN=IPCC.bK.dX(IPCC.bK.Magnifier);aj.style.cursor=jN;bn.aV.display();}ah=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bn&&bn.aV){bn.aV.hideSelection();bn.aV.display();ah=false;}break;}};var aDp=function(){atN();};var aFl=function(){if(aw===IPCC.Web.UI.MouseTool.Magnifier){if(bn&&bn.aV){bn.aV.hideMagnifier();var jN=IPCC.bK.dX(IPCC.bK.Magnifier);aj.style.cursor=jN;bn.aV.display();}ah=false;}else if(aw===IPCC.Web.UI.MouseTool.RectangleZoom){if(bn&&bn.aV){bn.aV.hideSelection();bn.aV.display();ah=false;}}else if(aw===IPCC.Web.UI.MouseTool.SelectText){DU();}};var mQ=function(bb){if(bb.ctrlKey){switch(aw){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var MC=bb.rawEvent.wheelDelta;bb.preventDefault();if(MC<0){T.zoomOut(1.5);}else{T.zoomIn(1.5);}break;}}else{bb.preventDefault();am.scrollTop-=bb.rawEvent.wheelDelta*0.72;}if(aw===IPCC.Web.UI.MouseTool.Magnifier){if(bn&&bn.aV){bn.aV.hideMagnifier();var jN=IPCC.bK.dX(IPCC.bK.Magnifier);aj.style.cursor=jN;bn.aV.display();}ah=false;}else if(aw===IPCC.Web.UI.MouseTool.RectangleZoom){if(bn&&bn.aV){bn.aV.hideSelection();bn.aV.display();ah=false;}}else if(aw===IPCC.Web.UI.MouseTool.SelectText){DU();}};var auK=function(as){var h=new IPCC.Web.UI.MouseEventArgs();h.upTarget={type:'comments',element:as.target};h.downTarget={type:'comments',element:as.target};h.originalEvent=as.rawEvent;h.clientX=as.clientX;h.clientY=as.clientY;h.pageIndex=undefined;T.bF('mouseUp',h);};var DU=function(){if(ah===true){if(aP&&aP.qh!==undefined){if(wR){Vl(null,0,0);return;}else{var FW=document.getElementById(af[aP.qh].bG);if(FW.aV){FW.aV.mf().removeMark(aP.xE);}aP.xE.xn=false;}}T.vw();wR=null;ah=false;if(sv!==null){aw=sv;}sv=null;}};AW=hD({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dN===IPCC.ViewMode.SinglePage){aj=hD({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});aj.className='pccPageListContainer pccSinglePageView';}else{aj=hD({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});aj.className='pccPageListContainer';}IPCC.Web.UI.aE.addHandler(am,"mousedown",kD);IPCC.Web.UI.aE.addHandler(am,"mouseup",kk);IPCC.Web.UI.aE.addHandler(am,"mousemove",kl);IPCC.Web.UI.aE.addHandler(am,"mouseleave",aDp);IPCC.Web.UI.aE.addHandler(am,"mousewheel",mQ);IPCC.Web.UI.aE.addHandler(am,"DOMMouseScroll",aFl);am.onscroll=(! !Hb)?aBB:aBT;aj.setAttribute('id',NY+'_ListContainer');am.setAttribute('id',NY+'_ListWrapper');aqP=NY+'_ListWrapper';ko=hD();ko.className='pccPageListComments pccHidden';ko.setAttribute('id',NY+'_CommentsPanel');var VD=[];if(IPCC.G.aEw){VD.push('touchend');}else{VD.push('click');}IPCC.G.forEach(VD,function(evName){IPCC.Web.UI.aE.addHandler(ko,evName,auK);});AW.appendChild(aj);AW.appendChild(ko);am.appendChild(AW);co.appendChild(am);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bz='',cq='',rZ='',tz='',qg;var vp=function(){qg=getComputedStyle(co);rZ=qg.getPropertyValue('width');tz=qg.getPropertyValue('height');if(rZ!==bz||tz!==cq){bz=rZ;cq=tz;am.style.width=bz;am.style.height=cq;}};setInterval(vp,1000);window.addEventListener('resize',vp);vp();T.vp=vp;}var atv=IPCC.G.Ly;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&atv&&window.addEventListener&&document.querySelector){axI(am);}var auW=function(aj,aGQ){var kZ;var SG=function(as){var dA=as.rawEvent,gU=dA.touches[0]||dA.changedTouches[0];as.clientX=gU.clientX;as.clientY=gU.clientY;as.preventDefault=function(){dA.preventDefault();};as.stopPropagation=function(){dA.stopPropagation();};return as;};var Eo=function(jm,as){var h=new IPCC.Web.UI.MouseEventArgs(),BI=(jm==='touchstart')?'mouseDown':(jm==='touchend')?'mouseUp':null;var BV=(jm==='touchstart')?ajz:(jm==='touchmove')?ajx:(jm==='touchend')?Vl:null;kZ=Ww(as.clientX,as.clientY);if(jm==='doubleTap'){kZ&&kZ.aV&&kZ.aV.Io(jm,as);}var jn;jn=ZT(as);if(jn){if(jn.substring(0,5)==='texth'){as.preventDefault();as.stopPropagation();if(jm==='touchstart'){xK=as;}BV&&BV(as,as.clientX,as.clientY,0);return;}}switch(aw){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:kZ&&kZ.aV&&kZ.aV.Io(jm,as);if(BI==='mouseUp'){ajj(as,h);}else if(BI==='mouseDown'){aiA(as,h);}T.bF(jm,h);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:as.preventDefault();as.stopPropagation();if(jm==='touchstart'){xK=as;if(jn){T.vw();break;}}BV&&BV(as,as.clientX,as.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:as.preventDefault();as.stopPropagation();if(jm==='touchstart'){xK=as;}BV&&BV(as,as.clientX,as.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(jn===undefined){jn=ZT(as);}var F=Mq(as,{});if(jn&&Bg){if(!F||F.V.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jm==='touchstart'){alr(as,jn,kZ);}else if(jm==='touchmove'){kZ&&kZ.aV&&kZ.aV.Io(jm,as);}else if(jm==='touchend'){kZ&&kZ.aV&&kZ.aV.Io(jm,as);aln(kZ);}}}break;}};var Dw,yV,tE;var atR=function(as){if(as.rawEvent.touches.length>1){clearTimeout(tE);tE=yV=Dw=undefined;return;}as=SG(as);Dw=as;if(aw===IPCC.Web.UI.MouseTool.CreatePolylineMark){as.preventDefault();}yV=function(){Eo('touchstart',as);tE=yV=Dw=undefined;};tE=setTimeout(function(){yV();},200);};var Hu,Gv;var atV=function(as){as=SG(as);pu=false;var avo=function(){if(!Gv){return false;}var fN=Gv.clientX-as.clientX;var fJ=Gv.clientY-as.clientY;var gj=fN*fN+fJ*fJ;return gj<2500;};var afc=function(){Hu=Gv=undefined;var jn=ZT(as);if(!jn&&aw===IPCC.Web.UI.MouseTool.HandPan&&Bg&&kZ){amF(kZ.aV);}};var apk=function(){var agQ=yV;if(Hu&&avo()){clearTimeout(Hu);Gv=Hu=undefined;agQ();Eo('touchend',as);Eo('doubleTap',as);}else{Hu=setTimeout(function(){agQ();Eo('touchend',as);afc();},300);Gv=as;}};if(Dw&&tE){clearTimeout(tE);if(aw===IPCC.Web.UI.MouseTool.CreatePolylineMark){apk();}else{afc();}tE=yV=Dw=undefined;return;}Eo('touchend',as);};var agr,pu=false;var ava=function(as){if(as.rawEvent.touches.length>1){return;}agr=as;if(Dw&&tE){clearTimeout(tE);yV();}aAh();};function aAh(){var as=SG(agr);Eo('touchmove',as);};IPCC.Web.UI.aE.addHandler(aj,"touchstart",atR);IPCC.Web.UI.aE.addHandler(aj,"touchmove",ava);IPCC.Web.UI.aE.addHandler(aj,"touchend",atV);};auW(aj,ko);}};function axI(hh){var ahw=function(){},cB=1;function ada(acb,aca,ip,aDi){hh.style['-ms-transform']=acb;hh.style['-moz-transform']=acb;hh.style['-webkit-transform']=aca;hh.style['transform']=aca;hh.style['-ms-transform-origin']=ip;hh.style['-moz-transform-origin']=ip;hh.style['-webkit-transform-origin']=ip;hh.style['transform-origin']=ip;hh.style.overflow=aDi||'';};function afk(){ada('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};afk();function azS(om,hk,MY,ve,ahr){var fg=(-hk.x/om)-MY.x,fE=(-hk.y/om)-MY.y,aCd="scale3d("+om+","+om+",1) translate3d("+fg+"px,"+fE+"px,0px)",aCi="scale("+om+", "+om+") translate("+fg+"px,"+fE+"px)";var apQ=ahr.x+'px '+ahr.y+'px';ada(aCi,aCd,apQ,'visible');ahw=function(){var aB=hh.getBoundingClientRect();var Sy={x:(hh.clientWidth/2+ -aB.left+ve.left)/om,y:(hh.clientHeight/2+ -aB.top+ve.top)/om};if(et===IPCC.PageLayout.VerticalScrollDirection&&ve.akK){Sy.x=Sy.x-(ve.akK/2);}afk();T.Qk(om,Sy,undefined,IPCC.ScaleTrigger.Pinch);AP=false;};return hh;};function aal(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function adS(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function apn(ako,Kk){return{x:ako.x-Kk.x,y:ako.y-Kk.y};};var Wk=false;hh.addEventListener('touchstart',function(ev){if(AP){return;}if(!Wk&&ev.touches.length===2){acT(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var xC,Yq=false,ye={};PCCViewer.EventEmitter.extend(ye);hh.addEventListener(IPCC.G.pe['down'],function(as){Yq=true;as=standardizeMSTouch(as);if(xC){var dA={};dA.touches=[xC,as];dA.changedTouches=[xC,as];dA.preventDefault=function(){xC.rawEvent.preventDefault();as.rawEvent.preventDefault();};dA.stopPropagation=function(){xC.rawEvent.stopPropagation();as.rawEvent.stopPropagation();};acT(dA);}else{xC=as;}});hh.addEventListener(IPCC.G.pe['move'],function(as){ye.trigger('touchmove',{rawEvent:as});});hh.addEventListener(IPCC.G.pe['up'],function(as){ye.trigger('touchend',{rawEvent:as});xC=undefined;});function acT(ev){AP=true;var MY={x:hh.scrollLeft,y:hh.scrollTop};var ve=hh.getBoundingClientRect();var nG=RM();var KU=hh.querySelector('.pccPageListItem');if(et===IPCC.PageLayout.VerticalScrollDirection&&KU.clientWidth<ve.width-30){ve.akK=ve.width-KU.clientWidth;}var hk={x:0,y:0,set:function(aho){this.x=aho.x;this.y=aho.y;return this;}};var pu=false;Wk=true;ev.preventDefault();ev.stopPropagation();function PU(gU){gU.x=gU.clientX||gU.pageX||gU.screenX;gU.y=gU.clientY||gU.pageY||gU.screenY;return gU;};var hX=PU(ev.touches[0]);var yu=PU(ev.touches[1]);var vs=aal(hX.x,hX.y,yu.x,yu.y);var agG=adS(hX.x,hX.y,yu.x,yu.y);var yA,xe;function Sv(as){as.preventDefault();[].forEach.call(as.changedTouches,function(t){if(t.identifier===hX.identifier){yA=PU(t);}else if(t.identifier===yu.identifier){xe=PU(t);}});if(!yA|| !xe){return;}var aEY=aal(yA.x,yA.y,xe.x,xe.y);var aFR=adS(yA.x,yA.y,xe.x,xe.y);cB=aEY/vs;if((cv*cB)<nG.minFactor){cB=nG.minFactor/cv;}else if((cv*cB)>nG.maxFactor){cB=nG.maxFactor/cv;}hk.set(apn(agG,aFR));if(!pu){pu=true;HU();}};function Uh(){Wk=false;pu=false;hh.removeEventListener('touchmove',Sv);hh.removeEventListener('touchend',Uh);if(Yq){ye.off('touchmove',anl);ye.off('touchend',amH);}if(!yA|| !xe){AP=false;return;}Hb(ahw);};var anl=function(as){var amP=standardizeMSTouch(as.rawEvent);amP.preventDefault=function(){};Sv(amP);};var amH=function(as){Uh(standardizeMSTouch(as.rawEvent));};hh.addEventListener('touchmove',Sv);hh.addEventListener('touchend',Uh);if(Yq){ye.on('touchmove',anl);ye.on('touchend',amH);}function HU(){if(pu){Hb(function(){if(!pu){return;}azS(cB,hk,MY,ve,agG);HU();});}}}};function aBB(){if(dN===IPCC.ViewMode.SinglePage){return;}if(AP){return;}if(mj){clearTimeout(mj);}if(TC){awI(TC);}arr();mj=setTimeout(function(){mj=null;TC=Hb(function aFd(){if(AP){return;}oD();});},40);};function aBT(){if(mN===false||dN===IPCC.ViewMode.SinglePage){return;}iW(true);if(mj!==null){clearTimeout(mj);}var awx=am.scrollHeight/af.length;var LJ=0;if(et===IPCC.PageLayout.VerticalScrollDirection){LJ=am.scrollTop;}else{LJ=am.scrollLeft;}var aCN=LJ-Pw;Pw=LJ;var axN=new Date().getTime();var aaz=axN-ym;if(aaz>1000){aaz=1000;}VS=aCN/awx*1000/aaz;mj=setTimeout(function(){mj=null;ym=0;ym=new Date().getTime();oD();},1000);ym=new Date().getTime();if(VS!==0&&Math.abs(VS)<RN){if(IS&&mj!==null){clearTimeout(mj);mj=null;}ym=0;ym=new Date().getTime();setTimeout(function(){if(IS&&mj!==null){clearTimeout(mj);mj=null;}ym=0;ym=new Date().getTime();oD();},40);}};function aAe(){function xV(ayX,ayb,bk,de){var Gz=document.createElementNS('http://www.w3.org/2000/svg','circle');Gz.setAttribute('cx',ayX);Gz.setAttribute('cy',ayb);Gz.setAttribute('r',bk);Gz.setAttribute('opacity',de);return Gz;};var qY=document.createElementNS('http://www.w3.org/2000/svg','svg');qY.setAttribute('viewBox','0 0 52 52');qY.appendChild(xV(26,13.813,2.813,1));qY.appendChild(xV(24,38.188,2.813,0.4));qY.appendChild(xV(13.813,26,2.813,0.1));qY.appendChild(xV(38.188,26,2.813,0.7));qY.appendChild(xV(34.618,34.618,2.813,0.55));qY.appendChild(xV(17.382,34.618,2.813,0.25));qY.appendChild(xV(34.618,17.382,2.813,0.85));return qY;};function ads(jO){var bJ=0;var ajw=false;var KL;var Gt;var qY;for(bJ=0;bJ<jO.childNodes.length;bJ++){if(jO.childNodes[bJ].className==="pccPageListItemLoading"){ajw=true;}}if(ajw===false){Gt=document.createElement('div');Gt.className='pccPageListItemLoading';qY=aAe();jO.innerHTML="";jO.appendChild(Gt);Gt.appendChild(qY);if(EW.length>0){KL=document.createElement('div');KL.className='pccPageListItemLoadingContent';KL.innerHTML=EW;Gt.appendChild(KL);}}};function arr(){var tQ=am.scrollTop;var wM=am.scrollLeft;var wG=am.clientHeight;var vH=am.clientWidth;var un=am.scrollWidth;var wd=am.scrollHeight;var cC=VN({tQ:tQ,wM:wM,wG:wG,vH:vH,un:un,wd:wd});var K=cC.ahX;if(mN&&uM===false&&cD!==K&&K>=0){cD=K;var h=new IPCC.PageEventArgs();h.imGearPage=T.get_currentPage();h.pageIndex=cD;h.pageNodeID=af[cD].bG;T.bF('currentPageChanged',h);}};function aao(bd){var bz=bd.ay||hi;var cq=bd.an||jD;if(bd.gA%180){var sQ=bz;bz=cq;cq=sQ;}var si=bd.gz||acZ;return{bz:bz*(cv*dn/si),cq:cq*(cv*dn/si),aGB:si,bo:bd.ct};};function TN(aAp){return IPCC.G.reduce(aAp,function(ek,ak,bo){ek[bo]=aao(ak);return ek;},{});};function afF(aZ){var oU,Eg,zU,vW,qN;if(et===IPCC.PageLayout.VerticalScrollDirection){oU=am.scrollTop;Eg=am.scrollHeight;zU=am.clientHeight;vW='cq';qN=eE;}else{oU=am.scrollLeft;Eg=am.scrollWidth;zU=am.clientWidth;vW='bz';qN=fZ+gP;}var kh=TN(af);var FE=et===IPCC.PageLayout.VerticalScrollDirection?eE:fZ;var alM=false;IPCC.G.forEach(kh,function(ak,bo){if(ak.bo===aZ){alM=true;}if(alM){return;}FE+=ak[vW]+qN;});return FE-(qN/2);};function qe(cC){var EO=IPCC.G.map(cC.ca,function(ak){return+ak.bo;}).sort();var hX=EO[0];var kd=EO[EO.length-1];var eY=af.length;for(var K=CU;K;K--){hX-=1;kd+=1;if(hX>=0){EO.unshift(hX);}if(kd<eY){EO.push(kd);}}return EO.sort();};function RU(cC){var hX=Math.max(cC.ca[0].bo-wY,0);var kd=Math.min(cC.ca[cC.ca.length-1].bo+wY,af.length-1);return{hX:hX,kd:kd};};function aoK(cC){var hX=Math.max(cC.ca[0].bo-CU,0);var kd=Math.min(cC.ca[cC.ca.length-1].bo+CU,af.length-1);return{hX:hX,kd:kd};};function VN(bI){if(dN===IPCC.ViewMode.SinglePage){return aak();}var oU,Eg,zU,vW,qN;if(et===IPCC.PageLayout.VerticalScrollDirection){oU=bI.tQ;Eg=bI.wd;zU=bI.wG;vW='cq';qN=eE;}else{oU=bI.wM;Eg=bI.un;zU=bI.vH;vW='bz';qN=fZ+gP;}var aoH=oU;var aon=oU+zU;var kh=TN(af);var FE=et===IPCC.PageLayout.VerticalScrollDirection?eE:fZ;var aBI=oU/Eg;var QG=(aBI*zU)+oU;var UG=Number.MAX_VALUE;var pn= -1;var ca=[];IPCC.G.forEach(kh,function(ak,bo){var iP=FE;var fv=iP+ak[vW];if(iP<aon&&fv>aoH){ak.xy=true;ca.push(ak);}var amC=Math.min(Math.abs(iP-QG),Math.abs(fv-QG));if(iP<QG&&fv>QG){UG=0;pn=bo;}else if(amC<UG){pn=bo;UG=amC;}FE+=ak[vW]+qN;});if(ca.length===0&&kh[pn]!==undefined){ca.push(kh[pn]);}return{ca:ca,ahX:Number(pn)||0,Kv:kh};};function aak(){var kh=TN(af);var aoQ=[cD];var ca=IPCC.G.filter(kh,function(ak){return IPCC.G.contains(aoQ,+ak.bo);});return{ca:ca,ahX:cD,Kv:kh};};function Rg(){var cC=iW();if(!cC){return[];}return IPCC.G.map(cC.ca,function(ak){return ak.bo;});};function iW(){if(dN===IPCC.ViewMode.SinglePage){return aak();}if(am===''||am.clientHeight<=0){return;}var tQ=am.scrollTop;var wM=am.scrollLeft;var wG=am.clientHeight;var vH=am.clientWidth;var un=am.scrollWidth;var wd=am.scrollHeight;var aoL=VN({tQ:tQ,wM:wM,wG:wG,vH:vH,un:un,wd:wd});uM=false;return aoL;}};Ns.prototype={dispose:function(){this.aK('dispose',arguments);this.acC(false);this.awQ();},disposeDisplayedPages:function(){this.axt();},get_debug:function(){try{var bk=this.JP();this.dH('get_debug',arguments,bk);return bk;}catch(e){this.by('get_debug',e);throw e;}},set_debug:function(value){try{this.aK('set_debug',arguments);var xQ=this.JP();this.YG(value);if(!xQ){this.aK('set_debug',arguments);}}catch(e){this.by('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bk=this.zz();this.dH('get_debugErrorLevel',arguments,bk);return bk;}catch(e){this.by('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aK('set_debugErrorLevel',arguments);var xQ=this.zz();this.Iw(value);if(xQ<IPCC.Web.UI.DebugErrorLevel.Development){this.aK('set_debugErrorLevel',arguments);}}catch(e){this.by('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Or(handler);}catch(e){this.by('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Zi(handler);}catch(e){this.by('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Nf(handler);}catch(e){this.by('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Zv(handler);}catch(e){this.by('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NL(handler);}catch(e){this.by('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yh(handler);}catch(e){this.by('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Vz(handler);}catch(e){this.by('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.YM(handler);}catch(e){this.by('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.axl(handler);}catch(e){this.by('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aBK(handler);}catch(e){this.by('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.Cc(handler);}catch(e){this.by('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Do(handler);}catch(e){this.by('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.US(handler);}catch(e){this.by('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.afz(handler);}catch(e){this.by('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.zP(handler);},remove_textExtractionFailed:function(handler){this.Eh(handler);},add_allPagesAdded:function(handler){try{this.art(handler);}catch(e){this.by('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aCm(handler);}catch(e){this.by('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.VT(handler);}catch(e){this.by('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.ZR(handler);}catch(e){this.by('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Wb(handler);}catch(e){this.by('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.YQ(handler);}catch(e){this.by('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.JL(handler);}catch(e){this.by('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.HQ(handler);}catch(e){this.by('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.VJ(handler);}catch(e){this.by('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yk(handler);}catch(e){this.by('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.jS(handler);}catch(e){this.by('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nv(handler);}catch(e){this.by('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.zo(handler);}catch(e){this.by('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xI(handler);}catch(e){this.by('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Uq(handler);}catch(e){this.by('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.ZS(handler);}catch(e){this.by('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ie(handler);}catch(e){this.by('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.He(handler);}catch(e){this.by('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Jv(handler);}catch(e){this.by('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HS(handler);}catch(e){this.by('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JZ(handler);}catch(e){this.by('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Hg(handler);}catch(e){this.by('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Ki(handler);}catch(e){this.by('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Ho(handler);}catch(e){this.by('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zx(handler);}catch(e){this.by('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.xO(handler);}catch(e){this.by('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.ash(handler);}catch(e){this.by('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aBv(handler);}catch(e){this.by('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.vB(handler);}catch(e){this.by('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.CW(handler);}catch(e){this.by('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vL(handler);}catch(e){this.by('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Dh(handler);}catch(e){this.by('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sM(handler);}catch(e){this.by('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.ub(handler);}catch(e){this.by('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.VA(handler);}catch(e){this.by('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.ZB(handler);}catch(e){this.by('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Vs(handler);},remove_exceptionThrown:function(handler){this.Ze(handler);},writeToLog:function(message){try{this.nF(message);}catch(e){this.by('writeToLog',e);throw e;}},get_currentState:function(){try{var bk=this.NP();this.dH('get_currentState',arguments,bk);return bk;}catch(e){this.by('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bk=this.qG();this.dH('get_scaleFactor',arguments,bk);return bk;}catch(e){this.by('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.aK('set_scaleFactor',arguments);this.apq(scaleFactor);}catch(e){this.by('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.aK('zoomIn',arguments);this.Qk(factor);}catch(e){this.by('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aK('zoomOut',arguments);this.Wz(factor);}catch(e){this.by('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.auk();},displayAll:function(){try{this.aK('displayAll',arguments,1);this.axv();}catch(e){this.by('displayAll',e);throw e;}},display:function(pageIndex){try{this.aK('display',arguments);this.cl(pageIndex);}catch(e){this.by('display',e);throw e;}},get_textRequired:function(){try{var bk=this.kB();this.dH('get_textRequired',arguments,bk);return bk;}catch(e){this.by('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.aK('set_textRequired',arguments);this.Ib(value);}catch(e){this.by('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.aK('selectText',arguments,1);this.Wy(pageIndex,startIndex,endIndex,color);}catch(e){this.by('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.aK('clearSelectedText',arguments,1);this.awA(pageIndex);}catch(e){this.by('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.aK('clearAllSelectedText',arguments);this.avq();}catch(e){this.by('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bk=this.asN();this.dH('get_maxPrefetch',arguments,bk);return bk;}catch(e){this.by('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.aK('set_maxPrefetch',arguments);this.apO(value);}catch(e){this.by('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bk=this.asw();this.dH('get_displayPagesWhenScrolling',arguments,bk);return bk;}catch(e){this.by('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.aK('set_displayPagesWhenScrolling',arguments);this.arW(value);}catch(e){this.by('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bk=this.asH();this.dH('get_maxOutOfViewDisplay',arguments,bk);return bk;}catch(e){this.by('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.aK('set_maxOutOfViewDisplay',arguments);this.apy(value);}catch(e){this.by('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bk=this.arL();this.dH('get_discardOutOfViewText',arguments,bk);return bk;}catch(e){this.by('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.aK('set_discardOutOfViewText',arguments);this.asv(value);}catch(e){this.by('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bk=this.auc();this.dH('get_scrollDisplayThreshold',arguments,bk);return bk;}catch(e){this.by('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.aK('set_scrollDisplayThreshold',arguments);this.arj(value);}catch(e){this.by('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bk=this.anu();this.dH('get_mouseCursor',arguments,bk);return bk;}catch(e){this.by('anu',e);throw e;}},set_mouseCursor:function(value){try{this.aK('set_mouseCursor',arguments);this.apM(value);}catch(e){this.by('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bk=this.SZ();this.dH('get_mouseTool',arguments,bk);return bk;}catch(e){this.by('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aK('set_mouseTool',arguments);this.HV(value);}catch(e){this.by('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bk=this.zV();this.aK('get_markHandleMode',arguments);return bk;}catch(e){this.by('get_markHandleMode',e);throw e;}},set_markHandleMode:function(C){try{this.aK('set_markHandleMode',arguments);this.Ic(C);}catch(e){this.by('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bk=this.ask();this.aK('get_retainPageText',arguments);return bk;}catch(e){this.by('get_retainPageText',e);throw e;}},set_retainPageText:function(C){try{this.aK('set_retainPageText',arguments);this.apY(C);}catch(e){this.by('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bk=this.asM();this.aK('get_allowMarkEdits',arguments);return bk;}catch(e){this.by('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.aK('set_allowMarkEdits',arguments);this.aqA(! !bool);}catch(e){this.by('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bk=this.ana();this.dH('get_currentPage',arguments,bk);return bk;}catch(e){this.by('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var ams=this.asT(pageIndex);this.dH('get_pageNodeId',arguments,ams);return ams;}catch(e){this.by('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.aK('scrollToNextPage',arguments);this.aCo();}catch(e){this.by('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.aK('scrollToPreviousPage',arguments);this.aCb();}catch(e){this.by('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.aK('scrollToFirstPage',arguments);this.aCl();}catch(e){this.by('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.aK('scrollToLastPage',arguments);this.aCt();}catch(e){this.by('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.aK('scrollToPage',arguments,1);this.pK(pageIndex);}catch(e){this.by('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.aK('rotate',arguments,1);this.aza(degreesClockwise);}catch(e){this.by('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.aK('rotateAll',arguments,1);this.adM(degreesClockwise,true);}catch(e){this.by('rotateAll',e);throw e;}},get_enabled:function(){try{var bk=this.arK();this.dH('get_enabled',arguments,bk);return bk;}catch(e){this.by('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bk=this.arN();this.dH('get_pageLayout',arguments,bk);return bk;}catch(e){this.by('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.aK('set_pageLayout',arguments);this.anZ(value);}catch(e){this.by('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bk=this.ato();this.dH('get_viewMode',arguments,bk);return bk;}catch(e){this.by('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.aK('set_viewMode',arguments);this.NV(value);}catch(e){this.by('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bk=this.asn();this.dH('get_loadingContent',arguments,bk);return bk;}catch(e){this.by('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.aK('set_loadingContent',arguments);this.aoX(value);}catch(e){this.by('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.aK('fitPages',arguments,1);this.arP(fitType);}catch(e){this.by('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.aK('openPage',arguments,1);this.NF(pageIndex);}catch(e){this.by('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.aK('requestPageAttributes',arguments,1);this.Ma(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.by('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.aK('scrollRegionIntoView',arguments,1);return this.aBO(pageIndex,rectangle);}catch(e){this.by('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.aK('scrollBy',arguments,1);return this.aBs(xVal,yVal);}catch(e){this.by('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.aK('scrollConversationIntoView',arguments,1);return this.aCk(conversation);}catch(e){this.by('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Vf();},get_encryption:function(){try{var bk=this.ij();this.dH('get_encryption',arguments,bk);return bk;}catch(e){this.by('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aK('set_encryption',arguments);this.nZ(value);}catch(e){this.by('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bk=this.asW();return bk;}catch(e){this.by('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.arf(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.by('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bk=this.ur();this.dH('get_resourcePath',arguments,bk);return bk;}catch(e){this.by('get_resourcePath',e);throw e;}},set_resourcePath:function(C){try{this.aK('set_resourcePath',arguments);this.Hi(C);}catch(e){this.by('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bk=this.mO();this.dH('get_redactionDraftMode',arguments,bk);return bk;}catch(e){this.by('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.aK('set_redactionDraftMode',arguments);this.nU(value);}catch(e){this.by('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bk=this.asj();this.dH('get_displayedPages',arguments,bk);return bk;}catch(e){this.by('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bk=this.As();this.dH('get_requireRequestsOptimize',arguments,bk);return bk;}catch(e){this.by('As',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aK('set_requireRequestsOptimize',arguments);this.HK(value);}catch(e){this.by('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bk=this.kG();this.dH('get_serviceResponseTimeout',arguments,bk);return bk;}catch(e){this.by('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aK('set_serviceResponseTimeout',arguments);this.wA(value);}catch(e){this.by('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bk=this.atc();this.dH('get_pageRotation',arguments,bk);return bk;}catch(e){this.by('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.aK('set_pageRotation',arguments);this.arb(value);}catch(e){this.by('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.aK('getNodeID',arguments,1);return this.auV(pageIndex);}catch(e){this.by('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bk=this.asJ();this.dH('get_isCommentsPanelOpen',arguments,bk);return bk;}catch(e){this.by('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.aK('openCommentsPanel',arguments);this.aEM();}catch(e){this.by('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.aK('closeCommentsPanel',arguments);this.awm();}catch(e){this.by('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bk=this.asD();this.dH('get_conversationDOMFactory',arguments,bk);return bk;}catch(e){this.by('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.aK('set_conversationDOMFactory',arguments);this.ara(value);}catch(e){this.by('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bk=this.auJ();this.dH('get_selectedConversation',arguments,bk);return bk;}catch(e){this.by('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.aK('set_selectedConversation',arguments);this.ari(value);}catch(e){this.by('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.aK('refreshConversations',arguments);this.aBk(markIDs);}catch(e){this.by('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.azl();}catch(e){this.by('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.aAz();}catch(e){this.by('restoreScrollPosition',e);throw e;}}};Ns.registerClass=cZ;Ns.registerClass('IPCC.PageList',{});module.exports=Ns;},{"./IPCC.Util":28}],43:[function(require,module,exports){var qs=function(cg,xR){var T=this;this.cg=cg;this.xR=xR;this.asY=function(){return T.cg;};this.aHW=function(){return T.xR;};};qs.prototype.get_propertyName=function(){return this.cg;};qs.prototype.get_propertyInfo=function(){return this.xR;};module.exports=qs;},{}],44:[function(require,module,exports){var Fi=function(){this.cB=1;this.width=0;this.height=0;this.nk=0;this.zO=0;this.pool=undefined;return this;};Fi.prototype.Oq=function(eL){if(eL.width<1||eL.height<1){return[];}var mK=Math.floor(eL.x*this.cB);var jJ=Math.floor(eL.y*this.cB);var ml=Math.ceil((eL.x+eL.width)*this.cB);var nx=Math.ceil((eL.y+eL.height)*this.cB);var nn=[];var K,ef;var cf=this.tiles.length;for(K=0;K<cf;K++){ef=this.tiles[K];if(ef.x<=ml&&ef.right>=mK&&ef.y<=nx&&ef.bottom>=jJ){nn.push(ef);}}return nn;};module.exports=Fi;},{}],45:[function(require,module,exports){var wf=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bz=0;this.cq=0;this.xB=0;this.wo=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};wf.prototype.unlock=function(){this.level.pool.aim(this);};wf.prototype.lock=function(){this.level.pool.lockTile(this);};wf.prototype.relock=function(){return this.level.pool.Yt(this);};wf.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};wf.prototype.toString=function(){var av='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){av='scale:'+this.level.cB.toString()+', '+av;}return av;};module.exports=wf;},{}],46:[function(require,module,exports){var lY=function(){this.ah=false;this.L=false;};lY.prototype.mU=function(L){this.L=L;};lY.prototype.fv=function(){this.L=false;};lY.prototype.aJ=function(){if(this.ah){this.L.az().oS();this.ah=false;this.L.cl();}};lY.prototype.qx=function(){this.aJ();this.L.cl();};lY.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){var aS=this.L.az();this.ah=true;aS.Bm(h.constrainedImagePoint);this.uo=h.windowPoint;this.L.cl();}};lY.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){var aS=this.L.az();aS.xF(h.constrainedImagePoint);this.L.cl();}};lY.prototype.kk=function(h){if(this.ah&&h.domEvent.button===0){var eW=h.windowPoint.x-this.uo.x;var gj=eW*eW;eW=h.windowPoint.y-this.uo.y;gj+=eW*eW;if(gj>25){var L=this.L;var aS=L.az();var bm=aS.eT();var aa=L.eo();var aFb=aa.width;var aFa=aa.height;var bB=L.bZ();aS.xF(h.constrainedImagePoint);var jh=aS.yd();aS.oS();L.bF('userModifiedViewState',{});bm.QL(bB,aa,jh);bm.iV(bB,aa);aS.jg(bm);L.cl();if(aFb!==aa.width||aFa!==aa.height){bm=aS.eT();bm.QL(bB,aa,jh);bm.iV(bB,aa);aS.jg(bm);}}}this.aJ();};lY.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};lY.prototype.mQ=function(){this.aJ();};module.exports=lY;},{}],47:[function(require,module,exports){var ks={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=ks;},{}],48:[function(require,module,exports){var Ah=function(){};Ah.prototype.mU=function(L){this.L=L;this.aS=L.az();};Ah.prototype.fv=function(){this.L=false;};Ah.prototype.aJ=function(){};module.exports=Ah;},{}],49:[function(require,module,exports){var eC=require('./IPCC.Util').regEnum;var EE=function(){};EE.registerEnum=eC;EE.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};EE.registerEnum('IPCC.ScaleTrigger',false);module.exports=EE;},{"./IPCC.Util":28}],50:[function(require,module,exports){var oM=function(){this.ah=false;this.L=false;};oM.prototype.mU=function(L){this.L=L;};oM.prototype.fv=function(){this.L=false;};oM.prototype.aJ=function(){if(this.ah){this.L.oS();this.ah=false;this.L.cl();}};oM.prototype.qx=function(){this.aJ();};oM.prototype.kD=function(h){this.aJ();if(h.domEvent.button===0){var aS=this.L.az();this.ah=true;aS.Bm(h.constrainedImagePoint);this.L.cl();}};oM.prototype.kl=function(h){if(h.domEvent.button!==0){this.aJ();}if(this.ah){var aS=this.L.az();aS.xF(h.constrainedImagePoint);this.L.cl();}};oM.prototype.kk=function(h){if(h.domEvent.button===0){this.ah=false;}this.aJ();};oM.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};oM.prototype.mQ=function(){this.aJ();};module.exports=oM;},{}],51:[function(require,module,exports){var kM=function(){this.ah=false;this.L=false;};kM.prototype.mU=function(L){this.L=L;};kM.prototype.fv=function(){this.L=false;};kM.prototype.aJ=function(){if(this.ah){this.L.az().WH();this.ah=false;}};kM.prototype.qx=function(){this.aJ();};kM.prototype.kD=function(h){if(h.domEvent.button===0){var aS=this.L.az();this.ah=true;var cz=this.L.Jt(h.constrainedImagePoint);this.L.hF=cz;if(!cz){return;}this.L.zG(cz);aS.zG(cz);aS.us(undefined);this.L.cl();}};kM.prototype.kl=function(h){var L=this.L;L.aDu=true;if(h.domEvent.button!==0){this.aJ();}if(this.ah){var aS=L.az();var cz=L.Jt(h.constrainedImagePoint);var gZ=aS.By();if(gZ===cz){return;}L.us(cz);L.cl();}};kM.prototype.kk=function(h){if(h.domEvent.button===0){this.ah=false;}var L=this.L;var aS=this.L.az();var cO=aS.hL.length;if(cO===0){this.aJ();return;}var aX=aS.hL[0].cz;var dM=aS.hL[cO-1].cz;if(L.EU===true){if(aX>dM){aX=dM;}var K;var jU=IPCC.yT();this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.V.aX=aX;this.V.ds=L.EZ();this.V.cU=cO;this.V.set_fillColor(L.sh);this.V.kW='y';this.V.be=jU;for(K=0;K<aS.hL.length;K++){var bD=aS.hL[K];var DP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var Ar=bD.V.fl();DP.set_fillColor(L.sh);DP.set_opacity(bD.V.get_opacity());DP.set_rectangle(Ar);DP.be=jU;DP.kW='y';this.L.en().addMark(DP);}aS.hL=[];if(cO>0){this.L.en().addMark(this.V);}L.mf().removeAllMarks();}cO=aS.hL.length;var alk=new IPCC.Web.UI.TextSelectedEventArgs();alk.text=L.EZ();L.bF('selectTextMouseToolCompleted',alk);L.cl();this.aJ();};kM.prototype.oJ=function(h){var aa=this.L.eo();if(h.windowPoint.x<=0||h.windowPoint.x>=aa.width-2){this.aJ();}if(h.windowPoint.y<=0||h.windowPoint.y>=aa.height-2){this.aJ();}};kM.prototype.mQ=function(){this.aJ();};module.exports=kM;},{}],52:[function(require,module,exports){var cL=function(){this.L=false;this.GP=0;this.aGv=1;this.akI=2;this.ajH=3;};cL.prototype.mU=function(L){this.L=L;this.cP=this.GP;};cL.prototype.fv=function(){this.L=false;};cL.prototype.aJ=function(){this.cP=this.GP;};cL.prototype.afH=function(h){var axi=new Date()-this.aob;if(axi<750){var fN=this.afG.x-h.windowPoint.x;var fJ=this.afG.y-h.windowPoint.y;var gj=fN*fN+fJ*fJ;if(gj<2500){return true;}}return false;};cL.prototype.adr=function(h){this.aob=new Date();this.afG=new IPCC.Web.UI.Point(h.windowPoint.x,h.windowPoint.y);};cL.prototype.NA=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length===1){if(this.cP===this.akI&&this.afH(h)){this.cP=this.ajH;}else{this.cP=this.aGv;}this.adr(h);this.L.fU('kD',h);}else{this.cP=this.GP;this.L.fU('qx',h);}};cL.prototype.Nc=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length===1){this.L.fU('kl',h);}};cL.prototype.Ng=function(h){var bb=h.domEvent.rawEvent;if(bb.touches.length===0){if(this.afH(h)){if(this.cP===this.ajH){this.cP=this.GP;this.L.fU('kk',h);this.L.fU('xz',h);}else{this.adr(h);this.cP=this.akI;this.L.fU('kk',h);}}else{this.cP=this.GP;this.L.fU('kk',h);}}};cL.prototype.IM=function(h){this.L.fU('qx',h);};module.exports=cL;},{}],53:[function(require,module,exports){var DN=function(bz,cq,hA,gH){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bz;this.height=cq;this.hA=hA;this.gH=gH;return this;};DN.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.hA+', '+this.gH+')';};module.exports=DN;},{}],54:[function(require,module,exports){var Aw=function(Rn){this.wD=(typeof(Rn)!=='undefined'&&Rn!==null&&Rn!=='')?[Rn.toString()]:[];this.C={};this.cf=0;};Aw.prototype.aFw=function(aq){this.wD[this.wD.length]=aq;};Aw.prototype.aGF=function(aq){this.wD[this.wD.length]=((typeof(aq)==='undefined')||(aq===null)||(aq===''))?'\r\n':aq+'\r\n';};Aw.prototype.aHq=function(){this.wD=[];this.C={};this.cf=0;};Aw.prototype.aGY=function(){if(this.wD.length===0){return true;}return this.toString()==='';};Aw.prototype.aHN=function(xU){xU=xU||'';var parts=this.wD;if(this.cf!==parts.length){this.C={};this.cf=parts.length;}var val=this.C;if(typeof(val[xU])==='undefined'){if(xU!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[xU]=this.wD.join(xU);}return val[xU];};module.exports=Aw;},{}],55:[function(require,module,exports){var eA=function(L,oQ){this.NX=false;this.Uy=false;this.Cr=true;this.Tp=false;this.OZ=false;this.vY=0;this.wu=0;var aM=this;this.aEi='opacity';this.aDf=function(de){return de.toString();};var aeW=function aeW(aN,fe,ot,bB,mk,lZ){var gk;if(this.L.qp()===true){aN.vy.setAttribute('width',ot.width);aN.vy.setAttribute('height',ot.height);aN.wn.setAttribute('width',ot.width);aN.wn.setAttribute('height',ot.height);gk=fe.pE().toString()+','+fe.qW().toString()+','+fe.rq().toString()+','+fe.sT().toString()+','+(fe.xd()+mk).toString()+','+(fe.wl()+lZ).toString();this.gq(aN.Aa,'transform','matrix('+gk+')');}else{aN.vy.setAttribute('width',ot.width);aN.vy.setAttribute('height',ot.height);aN.wn.setAttribute('width',ot.width);aN.wn.setAttribute('height',ot.height);gk=fe.pE().toString()+','+fe.qW().toString()+','+fe.rq().toString()+','+fe.sT().toString()+','+(fe.xd()+mk).toString()+','+(fe.wl()+lZ).toString();this.gq(aN.Aa,'transform','matrix('+gk+')');}};function auM(aN){var pathList=aN.vy.getElementsByTagName('path');var gList=aN.vy.getElementsByTagName('g');aN.RG=[];function adk(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aN.RG.push(pathItem);}}};IPCC.G.forEach(pathList,adk);IPCC.G.forEach(gList,adk);};this.ais=function(aN){var aS=L.az();var axz=1;var lb=aS.auL();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*lb));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*lb;}};if(aN.RG===undefined){auM(aN);}if(lb===axz){IPCC.G.forEach(aN.RG,setStrokeWidthToOriginalValue);}else{IPCC.G.forEach(aN.RG,updateStrokeWidthByLineWidthMultiplier);}aS.aom(false);};function atb(aN,bv){aN.sR.setAttribute('exponent',bv);aN.rA.setAttribute('exponent',bv);aN.rF.setAttribute('exponent',bv);};function aut(aN,bv){var avG=841;var ln=(bv/avG)* -1;var gk;if(IPCC.G.Cb){gk='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gk=gk.replace('{00}',ln).replace('{01}',ln).replace('{02}',ln).replace('{10}',ln).replace('{11}',1).replace('{12}',ln).replace('{20}',ln).replace('{21}',ln).replace('{22}',ln);}else{gk='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gk=gk.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',ln).replace('{12}',ln).replace('{13}',ln).replace('{14}',0).replace('{20}',0).replace('{21}',ln).replace('{22}',1).replace('{23}',ln).replace('{24}',0).replace('{30}',0).replace('{31}',ln).replace('{32}',ln).replace('{33}',ln).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aN.ly.setAttribute('kernelMatrix',gk);};this.aoC=function(aN){var aS=L.az();var sq=aS.atk();var qw=aS.avg();if(qw===0&&sq===1){aN.Aa.removeAttribute('filter','url(#'+aN.Jj+')');}else{aN.Aa.setAttribute('filter','url(#'+aN.Jj+')');}atb(aN,sq);aut(aN,qw);};var ZJ,Zd;this.ajh=function(aN,fe,ot,bB,mk,lZ){if(aN.YS.match('maglevel')){aeW.apply(this,arguments);return;}var aB=aN.eS.parentElement.getBoundingClientRect();var ic=aB.width/bB.width;var agI=function(val){return Math.abs(val)<1.0e-14;};var fg=0,fE=0;var atn=function(){var pI=fe.qW();if(agI(pI)){pI=0;}var ro=fe.rq();if(agI(ro)){ro=0;}var aFF=fe.pE();var gc=(pI>=0&&ro<0)?90:(pI<0&&ro>=0)?270:(aFF<0)?180:(pI>=0&&ro>=0)?0:0;switch(gc){case 90:fg=aB.width;break;case 180:fg=aB.width;fE=aB.height;break;case 270:fE=aB.height;break;}return gc*(Math.PI/180);};var gc=atn();if(parseInt(gc,10)===1||parseInt(gc,10)===4){ic=aB.height/bB.width;}if(ic===ZJ&&gc===Zd){return;}else{ZJ=ic;Zd=gc;}var fK=1,jy=0;if(gc!==0){fK=Math.cos(gc);jy=Math.sin(gc);}var bm={ic:fK*ic,sY:fK*ic,pI:jy*ic,ro:jy* -1*ic,fg:fg,fE:fE};var aub=new IPCC.fo(bm.ic,bm.pI,bm.ro,bm.sY,bm.fg,bm.fE);fe.Pi(aub);L.az().jg(fe);var gk='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gk=gk.replace('{scaleX}',bm.ic).replace('{scaleY}',bm.sY).replace('{skewX}',bm.pI).replace('{skewY}',bm.ro).replace('{moveX}',bm.fg).replace('{moveY}',bm.fE);this.gq(aN.Aa,'transform',gk);};this.awb=function(){ZJ=undefined;Zd=undefined;};this.aul(L);this.awC=function(dG){var aa=new IPCC.DN(dG.clientWidth,dG.clientHeight,96,96);return aa;};this.aeY=function(bb){bb.preventDefault();aM.kD(bb);};this.abE=function(bb){bb.preventDefault();aM.kl(bb);};this.abi=function(bb){bb.preventDefault();aM.kk(bb);};this.anh=function(bb){aM.kD(bb);};this.abG=function(bb){aM.xz(bb);};this.alW=function(bb){aM.kl(bb);};this.SA=function(bb){aM.mQ(bb);};this.amm=function(bb){aM.kk(bb);};this.ace=function(bb){aM.xz(bb);};this.ajP=function(bb){aM.UK(bb);};this.RE=function(bb){if(bb.target!==document.activeElement){aM.aEp(bb);}};this.agl=function(bb){if(bb.target!==document.activeElement){aM.aEx(bb);}};this.oJ=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;aM.qr(h);L.aAU(h);}catch(ex){L.by('mouseOut',ex);}};this.NA=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;aM.qr(h);L.aBd(h);}catch(ex){L.by('touchStart',ex);}};this.Nc=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;aM.qr(h);L.aBR(h);}catch(ex){L.by('touchMove',ex);}};this.Ng=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;aM.qr(h);L.aBW(h);}catch(ex){L.by('touchEnd',ex);}};this.IM=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;aM.qr(h);L.aBE(h);}catch(ex){L.by('touchCancel',ex);}};this.ajZ=function(bb){try{bb.preventDefault();}catch(ex){L.by('dragStart',ex);}};this.axa=function(){var dU=L.lE().igElements.mp;IPCC.Web.UI.aE.addHandler(dU,"mousewheel",this.SA);IPCC.Web.UI.aE.addHandler(dU,"DOMMouseScroll",this.SA);if(oQ){IPCC.Web.UI.aE.addHandler(dU,"touchstart",this.NA);IPCC.Web.UI.aE.addHandler(dU,"touchmove",this.Nc);IPCC.Web.UI.aE.addHandler(dU,"touchend",this.Ng);IPCC.Web.UI.aE.addHandler(dU,"touchcancel",this.IM);}IPCC.Web.UI.aE.addHandler(dU,"mouseout",this.oJ);IPCC.Web.UI.aE.addHandler(dU,"dragstart",this.ajZ);};this.ayo=function(){var dU=L.lE().igElements.mp;IPCC.Web.UI.aE.removeHandler(dU,"DOMMouseScroll",this.SA);IPCC.Web.UI.aE.removeHandler(dU,"mouseout",this.oJ);if(oQ){IPCC.Web.UI.aE.removeHandler(dU,"touchstart",this.NA);IPCC.Web.UI.aE.removeHandler(dU,"touchmove",this.Nc);IPCC.Web.UI.aE.removeHandler(dU,"touchend",this.Ng);IPCC.Web.UI.aE.removeHandler(dU,"touchcancel",this.IM);}IPCC.Web.UI.aE.removeHandler(dU,"dragstart",this.ajZ);};function aFY(aN,jb){var pV=document.createElementNS('http://www.w3.org/2000/svg','filter');var Jj='filter'+jb;aN.Jj=Jj;pV.setAttribute('id',Jj);pV.setAttribute('x','0');pV.setAttribute('y','0');pV.setAttribute('filterUnits','objectBoundingBox');pV.setAttribute('color-interpolation-filters','sRGB');return pV;};function azT(jb){var ly=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');ly.setAttribute('in','SourceGraphic');ly.setAttribute('result',jb+'ly');ly.setAttribute('preserveAlpha','true');if(IPCC.G.Cb){ly.setAttribute('order','3 3');ly.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{ly.setAttribute('order','5 5');ly.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return ly;};function aAB(jb){var oB=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');oB.setAttribute('in',jb+'ly');oB.setAttribute('result',jb+'oB');return oB;};function aAj(jb){var sR=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sR.setAttribute('type','gamma');sR.setAttribute('amplitude','1');sR.setAttribute('exponent','1');sR.setAttribute('offset','0');var rA=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');rA.setAttribute('type','gamma');rA.setAttribute('amplitude','1');rA.setAttribute('exponent','1');rA.setAttribute('offset','0');var rF=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');rF.setAttribute('type','gamma');rF.setAttribute('amplitude','1');rF.setAttribute('exponent','1');rF.setAttribute('offset','0');return{sR:sR,rA:rA,rF:rF};};function aED(aN,jb){var Js=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var aeB=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var adX=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');aeB.setAttribute('in',jb+'ly');adX.setAttribute('in',jb+'oB');Js.appendChild(aeB);Js.appendChild(adX);return Js;};this.awu=function(aN,eS,sI,jb){var K,bU,dG,YE;var Oy=function(al,cI,bj){var dG=document.createElementNS('http://www.w3.org/2000/svg',al);var K;if(cI){dG.setAttribute('id',cI);}for(K in bj){if(bj.hasOwnProperty(K)){dG.setAttribute(K,bj[K]);}}return dG;};var er=Oy('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var pV=aFY(aN,jb);aN.aGM=pV;var ly=azT(jb);aN.ly=ly;pV.appendChild(ly);var oB=aAB(jb);aN.oB=oB;pV.appendChild(oB);var FB=aAj();oB.appendChild(FB.sR);oB.appendChild(FB.rA);oB.appendChild(FB.rF);aN.sR=FB.sR;aN.rA=FB.rA;aN.rF=FB.rF;var Js=aED(aN,jb);pV.appendChild(Js);er.appendChild(pV);aN.wn=Oy('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});er.appendChild(aN.wn);var aba=Oy('g',null,{});aN.Aa=aba;er.appendChild(aba);var cf;if(L.qp()===false){cf=sI.ej.length;}else{cf=1;}for(K=0;K<cf;K++){bU=sI.ej[K];bU.pool.parentElementID=jb+K.toString();YE=1/bU.cB;dG=Oy('g',bU.pool.parentElementID,{transform:'matrix('+YE.toString()+',0,0,'+YE.toString()+',0,0)'});aba.appendChild(dG);}aN.vy=er;eS.appendChild(er);};this.awP=function(ix){var anT=this.aiN();ix.elementID=anT;};this.atr=function(ix){var dG=document.getElementById(ix.elementID);this.gq(dG,'display','none');};this.ale=function(ix){var dG=document.getElementById(ix.elementID);if(dG===null){ix.elementID='';return;}dG.setAttributeNS('http://www.w3.org/1999/xlink','href','');dG.parentNode.removeChild(dG);ix.elementID='';};var aEn=function(bb){try{bb.target.onload=undefined;bb.target.onerror=undefined;bb.target.onabort=undefined;var ix=bb.target.poolItem;ix.loaded=true;aM.AM();}catch(ex){L.by('downloadImage',ex);}};var akR=function(bb){try{bb.target.onload=undefined;bb.target.onerror=undefined;bb.target.onabort=undefined;bb.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');bb.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){L.by('downloadImage',ex);var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=ex;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}};this.aBc=function(zg){var K;var cf=zg.length;if(L.qp()===false){cf=zg.length;}else{cf=1;}for(K=0;K<cf;K++){var ed=zg[K];var dG=document.getElementById(ed.poolItem.elementID);if(dG===null){var ix=ed.poolItem;var Pe=ix.pool;var eS=document.getElementById(Pe.parentElementID);dG=document.createElementNS('http://www.w3.org/2000/svg','image');this.gq(dG,'id',ix.elementID);this.gq(dG,'externalResourcesRequired','true');dG.poolItem=ix;dG.onload=aEn;dG.onerror=akR;dG.onabort=akR;if(document.documentMode>8||IPCC.G.ud.zi){ix.loaded=true;}dG.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aFZ(dG,ed.url,'image/'+ed.contentType);eS.appendChild(dG);this.gq(dG,'display','block');var bz=ed.right-ed.x;var cq=ed.bottom-ed.y;this.gq(dG,'x',ed.x);this.gq(dG,'y',ed.y);this.gq(dG,'width',bz);this.gq(dG,'height',cq);if(cf>1){var avF=bz-ed.xB;var awW=cq-ed.wo;var Mo=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Mo.id=dG.id+'_clip';var eb=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gq(eb,'x',ed.x-ed.xB);this.gq(eb,'y',ed.y-ed.wo);this.gq(eb,'width',avF);this.gq(eb,'height',awW);this.gq(eb,'class','expand-on-print');Mo.appendChild(eb);var insertBeforeElement=null;for(var i=0;i<eS.childNodes.length;i++){if(eS.childNodes.item(i).getAttribute('x')<ed.x||eS.childNodes.item(i).getAttribute('y')<ed.y){insertBeforeElement=eS.childNodes.item(i);break;}}eS.insertBefore(dG,insertBeforeElement);eS.appendChild(Mo);this.gq(dG,'style','clip-path: url(#'+Mo.id+')');this.gq(dG,'class','no-clip-on-print');}}this.gq(dG,'display','block');}if((document.documentMode>8||IPCC.G.ud.zi)&&zg.length>0){aM.AM();}};this.aFZ=function(dG,ae,tu){var sk=true;var oE=0;if(L.kG()===0){sk=false;}function dV(ad){var cr,cJ;try{var fD=IPCC.Web.GZ(ad),Su;var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");if(ow==='true'&&L.ij()===true){var wC=IPCC.Web.gf.sy.tX(ad.getResponseHeader("Accusoft-Data-SK"));var ac=IPCC.Web.Jl(wC,iS);var uk=IPCC.Web.DR(fD,ac,iS);Su=IPCC.Web.gf.sy.mW(uk,0,0);}else{Su=IPCC.Web.gf.sy.mW(fD,0,0);}dG.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+tu+';base64,'+Su);}catch(ex){cr="Image error, Error message = "+ex.message;cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=ex;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);throw new IPCC.Web.UI.ImGearArgumentException(null,cr);}};function dZ(av){var hj=av.response.status,cr,mx,lX;if(!av.response){throw new IPCC.Web.UI.ImGearHttpException(hj,"Client Image load timeout");}if(hj===403){oE++;if(av.response.statusText&&av.response.statusText!==""){cr="Expired viewer session ID, error message from the server: "+av.response.statusText;}else{cr="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}mx=av.response.getResponseHeader('Accusoft-Status-Message');if(mx){var rg;lX=av.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xL(lX)){rg=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,mx,rg);}else{if(av.response.statusText&&av.response.statusText!==""){cr=av.response.statusText;}else{cr="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}};var gL={method:'GET'};if(sk===true){gL.timeout=L.kG();}if(L.atg()&&L.ij()===true){var iS=IPCC.Web.GU.aiC(4);var pU=IPCC.Web.gf.Kr.mW(iS);var ayk=ae+'&iv='+pU;gL.url=ayk;}else{gL.mimeType='text/plain; charset=x-user-defined';gL.url=ae;}IPCC.G.oa.fh(gL).then(dV,dZ);};this.aBm=function(aN){var T=this;if(aN.Xn){return;}var oE=0;var ed=aN.sI.ej[0].tiles[0];if(!ed){return;}var Pe=ed.level.pool;var eS=document.getElementById(Pe.parentElementID);var sk=true;if(L.kG()===0){sk=false;}var wK=L.VZ();if(aN.Gr){if(wK===2){delete aN.Gr;if(eS.childNodes.length>0){eS.removeChild(eS.childNodes[0]);}}else if(wK===1){if(eS.childNodes.length>0){eS.removeChild(eS.childNodes[0]);}}else{if(eS.childNodes.length===0){eS.appendChild(aN.ath);}}L.vZ=true;return;}if(wK>0){return;}function dV(ad){var cJ,cr;aN.Xn=false;try{try{var oy;var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");if(ow==='true'&&L.ij()===true){var wC=IPCC.Web.gf.sy.tX(ad.getResponseHeader("Accusoft-Data-SK"));var ac=IPCC.Web.Jl(wC,iS);var fD=IPCC.Web.GZ(ad);var uk=IPCC.Web.DR(fD,ac,iS);oy=IPCC.Web.gf.GE.mW(uk);}else{oy=ad.responseText;}aDV(oy);}catch(ex){cr="SVG image error, Error message = "+ex.message;cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=ex;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);throw new IPCC.Web.UI.ImGearArgumentException(null,cr);}}catch(e){L.by('openPage',e);if(typeof(L.bF)==='function'){cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};function dZ(av){var cJ,cr,mx,lX;aN.Xn=false;try{if(!av.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var hj=av.response.status;if(hj===480){oE++;if(av.response.statusText&&av.response.statusText!==""){cr=cr="PDF file password required, error message from the server: "+av.response.statusText;}else{cr="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}if(hj===403){oE++;if(av.response.statusText&&av.response.statusText!==""){cr="Expired viewer session ID, error message from the server: "+av.response.statusText;}else{cr="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}mx=av.response.getResponseHeader('Accusoft-Status-Message');if(mx){var rg;lX=av.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xL(lX)){rg=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(hj,mx,rg);}else{if(av.response.statusText&&av.response.statusText!==""){cr=av.response.statusText;}else{cr="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hj,cr);}}catch(e){L.by('openPage',e);if(typeof(L.bF)==='function'){cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=L.aZ;L.bF('pageOpenFailed',cJ);}}};var aqL=function(){var aS=L.az();var AS=aS.ame();L.vZ=true;L.bF('pageDisplayed',{ax:L.aZ});if(AS){T.ais(aN);}};var aDV=function(hf){var nb=Pe.parentElementID.toString();var Lw=(IPCC.G.Cb||IPCC.G.YJ)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var uG=IPCC.G.awK(hf,Lw,nb);var qg=uG.querySelectorAll('style');IPCC.G.forEach(qg,function(bC){var Ec=(bC.styleSheet)?bC.styleSheet.cssText:bC.textContent;if(bC.styleSheet){bC.styleSheet.cssText=Ec;}else{bC.appendChild(document.createTextNode(Ec));}});var lq=null;var Gn=uG.firstChild;while(Gn!==null){if(Gn.nodeName==='svg'){lq=Gn;break;}Gn=Gn.nextSibling;}if(lq===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aN.Gr){aN.ath=lq;eS.appendChild(lq);aN.Gr=true;if(!L.vZ&&aN.Gr){setTimeout(aqL,1);}}};var ae;var iS,pU;L.vZ=false;if(L.ij()===true){iS=IPCC.Web.GU.YZ(4,IPCC.Web.LC());pU=IPCC.Web.gf.Kr.mW(iS);ae=ed.url+'&iv='+pU;}else{ae=ed.url;}var gL={method:'GET',url:ae,cache:true};if(sk===true){gL.timeout=L.kG();}aN.Xn=true;IPCC.G.oa.fh(gL).then(dV,dZ);};this.aqN=function(ed,de){if(!ed){return;}var Gy=document.getElementById(ed.poolItem.elementID);this.gq(Gy,'x',ed.x);this.gq(Gy,'y',ed.y);this.gq(Gy,'width',ed.right-ed.x);this.gq(Gy,'height',ed.bottom-ed.y);this.gq(Gy,'opacity',de);this.gq(Gy,'display','block');};this.aly=function(zg,de,fe){var K;if(L.qp()===false){for(K=0;K<zg.length;K++){this.aqN(zg[K],de);}}};return this;};eA.viewerCounter=0;eA.tileCounter=0;eA.imageIDCounter=0;eA.prototype.aul=function(L){this.jb=IPCC.eA.viewerCounter.toString();IPCC.eA.viewerCounter++;this.L=L;if(IPCC.cY){this.nM=new IPCC.Web.UI.MarkCollection();}var T=this;function azF(bS,h){T.aDB(h);};function yB(bS,h){T.aGJ(h);};L.jS(azF);L.add_markAdded(yB);L.add_markChanged(yB);L.add_inProgressMarkChanged(yB);L.add_markRemoved(yB);L.add_markReordered(yB);L.add_marksLoaded(yB);L.add_markSelectionChanged(yB);L.add_markTextSelectionChanged(yB);};eA.prototype.aiN=function(){var cI='igtile'+IPCC.eA.tileCounter.toString();IPCC.eA.tileCounter++;return cI;};eA.prototype.AM=function(){this.NX=true;this.Cr=this.Cr&&this.Uy;var T=this;var azO=function(){if(!T.NX){return;}T.cl(T.L.bZ(),T.L.az(),T.L.eo());T.Cr=true;};window.setTimeout(azO,0);};eA.prototype.aDB=function(h){var tC=h.get_propertyName();switch(tC){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.L.az().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.JK=true;if(this.L.AG()===true){this.AM();}return;case 'displayedPageRectangle':if(this.L.vZ===true){this.AM();return;}break;case 'redactionDraftMode':this.JK=true;this.AM();return;}if(this.L.AG()===true){this.AM();}};eA.prototype.aGJ=function(h){if(h.mark&& !this.JK){this.nM.addMark(h.mark);}else{this.JK=true;}if(this.L.AG()===true){this.AM();}};eA.prototype.UY=function(){this.ll=this.fe.clone();this.ll.mi(this.afd,this.aen);this.ll.iV(this.L.bZ(),this.L.eo());this.tk=this.ll.clone();this.tk.yx();};eA.prototype.cl=function(bx,aS,aa){try{this.NX=false;if(this.Pl===true){return;}var co=this.L.lE();if(co===null){return;}var ce=co.igElements;try{this.Pl=true;if(this.GA===undefined||bx===undefined|| !(this.GA.equals(bx))){if(this.Tp){if(this.jf){this.ayo(this.jf);var dU=ce.mp;IPCC.Web.UI.aE.removeHandler(dU,"mousedown",this.anh);IPCC.Web.UI.aE.removeHandler(dU,"mousemove",this.alW);IPCC.Web.UI.aE.removeHandler(dU,"mouseup",this.amm);IPCC.Web.UI.aE.removeHandler(dU,"dblclick",this.ace);IPCC.Web.UI.aE.removeHandler(dU,"contextmenu",this.ajP);IPCC.Web.UI.aE.removeHandler(ce.eK,"blur",this.RE);IPCC.Web.UI.aE.removeHandler(ce.ge,"blur",this.agl);IPCC.Web.UI.aE.removeHandler(ce.dk,"blur",this.RE);}delete this.jf;this.agt(ce.qS);this.agt(ce.CS);this.Tp=false;if(this.Ga!==undefined){this.Ga.unlockAllItems();}if(this.GQ!==undefined){this.GQ.unlockAllItems();}this.Ga=undefined;this.GQ=undefined;co.igElements.nl.onscroll=null;co.igElements.nl.onresize=null;}if(co.querySelectorAll){if(co.querySelectorAll(".pccPageLoadFail").length===0){co.innerHTML='';}}this.L.oz(true);if(bx===undefined){this.Pl=false;this.GA=undefined;this.awb();return;}this.GA=bx.clone();this.Ga=new IPCC.pW();this.Ga.createPyramid(this,this.L);this.GQ=new IPCC.pW();this.GQ.createPyramid(this,this.L);this.Tp=true;this.awY(this.jb);}this.fe=aS.eT();var Pq=this.fe.pY(bx);this.fe.mi(-Pq.x,-Pq.y);this.awn=this.fe.clone();this.awn.yx();this.afd=Math.round(Pq.x);this.aen=Math.round(Pq.y);this.UY();this.aok(bx,aS,aa);if(bx.aZ===0){this.UY();}}finally{this.Pl=false;this.JK=false;if(this.nM){this.nM.removeAllMarks();}}this.adj(true);}catch(e){this.L.by('display',e);throw e;}};eA.prototype.apo=function(yi,wc,wt){if(yi[wc]===wt){return;}yi[wc]=wt;};eA.prototype.gq=function(yi,wc,wt){if(yi.getAttribute(wc)===wt){return;}yi.setAttribute(wc,wt);};eA.prototype.yF=function(yi,wc,wt){if(yi.style[wc]===wt){return;}yi.style[wc]=wt;};eA.prototype.adj=function(awJ){if(this.Pl){return;}if(this.NX&& !this.Cr){return;}if(!awJ){try{this.Uy=true;var co=this.L.lE();if(co){this.vY=co.igElements.nl.scrollLeft;this.wu=co.igElements.nl.scrollTop;}this.aoU();this.UY();this.L.az().jg(this.ll);this.L.bF('userModifiedViewState',{});this.L.oz(false);}finally{this.Uy=false;}}};eA.prototype.aoD=function(aN,fe,ayF){var sI=aN.sI;var oV=sI.aqe(fe,ayF);if(!this.L.vZ&&oV.tilesToRequest.length===0&&(oV.opaqueTiles.length+oV.translucentTiles.length)>0){this.L.vZ=true;this.L.bF('pageDisplayed',{ax:this.L.aZ});}sI.aBJ(oV);if(this.L.qp()===false){this.aBc(oV.tilesToRequest);this.aly(oV.opaqueTiles,1,fe);this.aly(oV.translucentTiles,oV.opacity,fe);}};eA.prototype.awY=function(jb){var L=this.L;var co=L.lE();var aS=L.az();var aM=this;function hD(qT){var yc=document.createElement('div');var K;for(K in qT){if(qT.hasOwnProperty(K)){yc.style[K]=qT[K];}}return yc;};var ce={};co.igElements=ce;var kO=hD({width:'100%',height:'100%',position:'relative',overflow:aS.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});ce.nl=kO;kO.setAttribute('class','igViewerScroller');kO.onscroll=function(){aM.adj(false);};kO.onresize=function(){var aa=L.eo();aa.width=kO.clientWidth;aa.height=kO.clientHeight;L.bF('resize',{});};var dU=hD({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kO.appendChild(dU);ce.mp=dU;dU.setAttribute('class','igViewerGraphics');this.AZ=2;this.BQ=2;this.vY=0;this.wu=0;var aN={};aN.sI=this.Ga;aN.YS='ig'+jb+'level';ce.qS=aN;this.aia(aN,dU,hD);aN.rv=this.rv;var kU;if(L.qp()===false){kU=hD({position:'absolute',display:'none',width:(aS.uY().width+4)+'px',height:(aS.uY().height+4)+'px',backgroundColor:'#000000'});}else{kU=hD({position:'absolute',display:'none',width:(aS.uY().width+4)+'px',height:(aS.uY().height+4)+'px',backgroundColor:'#cccccc'});}dU.appendChild(kU);ce.kU=kU;kU.setAttribute('class','igMagnifierFrame');var ql=hD({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});ce.ql=ql;kU.appendChild(ql);aN={};aN.sI=this.GQ;aN.YS='ig'+jb+'maglevel';ce.CS=aN;this.aia(aN,ql,hD);aN.rv=this.awj;var Mh=document.createTextNode('');ce.Mh=Mh;var eK=document.createElement('textarea');eK.appendChild(Mh);eK.style.position='absolute';eK.style.overflow='auto';eK.style.width='80px';eK.style.height='80px';eK.style.resize='none';eK.style.display='none';kO.appendChild(eK);ce.eK=eK;var Tq=document.createTextNode('');ce.Tq=Tq;var ge=document.createElement('input');ge.type="text";ge.style.position='absolute';ge.style.overflow='hidden';ge.style.width='80px';ge.style.height='80px';ge.style.resize='none';ge.style.display='none';ge.style.padding='0px';ge.style.margin='0px';ge.style.lineHeight='normal';ge.className="no-ms-clear";var akH=function(ev){var vt=ge,bz=parseFloat(vt.style['width']),cq=parseFloat(vt.style['height']),it=vt.style['fontFamily'];var aEE=vt.value.length>vt.placeholder.length?vt.value:vt.placeholder;var jv=IPCC.G.uJ(aEE,it,{uV:'pre',er:ce.qS.vy}),vz=12*bz/(jv.width||1),vP=12*cq/(jv.height||1),xS=Math.floor(Math.min(vz,vP))*0.9;vt.style.fontSize=xS+'px';};ge.onkeyup=akH;ge.onfocus=function(ev){akH(ev);if(ge.setSelectionRange){var hn=ge.value.length*2;ge.setSelectionRange(hn,hn);}};kO.appendChild(ge);ce.ge=ge;var pB=document.createTextNode('');ce.pB=pB;var dk=document.createElement('textarea');dk.appendChild(pB);dk.style.position='absolute';dk.style.overflow='hidden';dk.style.width='80px';dk.style.height='80px';dk.style.resize='none';dk.style.display='none';dk.style.whiteSpace='pre-wrap';dk.style.border=0;dk.style.padding='2px';dk.style.fontStyle='normal';var aCZ=function(as){var aqc=L.JW();var cB=L.az().eT().qG();var iL=aqc.iL*cB;var an=L.mz().jq()*cB;IPCC.G.WT(dk,iL,an);};dk.onkeyup=aCZ;kO.appendChild(dk);ce.dk=dk;this.jf={};this.axa(this.jf);IPCC.Web.UI.aE.addHandler(dU,"mousedown",this.anh);IPCC.Web.UI.aE.addHandler(dU,"mousemove",this.alW);IPCC.Web.UI.aE.addHandler(dU,"mouseup",this.amm);IPCC.Web.UI.aE.addHandler(dU,"dblclick",this.ace);IPCC.Web.UI.aE.addHandler(dU,"contextmenu",this.ajP);IPCC.Web.UI.aE.addHandler(eK,"blur",this.RE);IPCC.Web.UI.aE.addHandler(ge,"blur",this.agl);IPCC.Web.UI.aE.addHandler(dk,"blur",this.RE);co.appendChild(kO);};eA.prototype.aia=function(aN,eS,hD){var rX=hD({width:'2px',height:'2px',position:'absolute'});aN.eS=eS;eS.appendChild(rX);aN.ajT=rX;rX.setAttribute('class','igAnchor');this.awu(aN,rX,aN.sI,aN.YS);aN.yX=hD({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});rX.appendChild(aN.yX);var jh=hD({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});jh.style[this.aEi]=this.aDf(0.5);rX.appendChild(jh);aN.jh=jh;};eA.prototype.agt=function(aN){if(aN&&aN.OZ){aN.rv.axo();aN.OZ=false;}aN.eS=null;};eA.prototype.aok=function(bx,aS,aa){var L=this.L;var mv=this.ll.pY(bx);var co=L.lE();var awE=L.asl();var Ag=L.ars();var ce=co.igElements;var qS=ce.qS;var CS=ce.CS;var kO=ce.nl;var dU=ce.mp;var rX=qS.ajT;var kU=ce.kU;var ql=ce.ql;var ago=CS.ajT;var Ii=Math.max(0,-mv.x);var GS=Math.max(0,-mv.y);var ats=Math.max(mv.width,aa.width);var atF=Math.max(mv.height,aa.height);var mk=Math.max(0,mv.x);var lZ=Math.max(0,mv.y);var acn=false;var Dp=false;if(aS.zh()){Dp=aS.yd();}var ayd=this.AZ;this.AZ=Math.floor(ats-1);if(this.AZ<0){this.AZ=0;}var axR=this.BQ;this.BQ=Math.floor(atF-1);if(this.BQ<0){this.BQ=0;}if(L.qp()===true){if(this.BQ===0){this.BQ=2;}if(this.AZ===0){this.AZ=2;}}var aAQ=this.vY;var azt=this.wu;if(!this.Cr){this.vY=Math.floor(Ii);this.wu=Math.floor(GS);}if(this.ama){this.yF(rX,'left',mk+'px');this.yF(rX,'top',lZ+'px');}var fe=aS.eT();fe.mi(Ii-mk,GS-lZ);this.aih(qS,aS.eT(),fe,bx,aa,Dp,mk,lZ);this.yF(kO,'overflow',aS.get_overflow());if(aa.width!==kO.clientWidth||aa.height!==kO.clientHeight){aa.width=kO.clientWidth;aa.height=kO.clientHeight;acn=true;}this.apo(rX.style,'visibility','visible');if(aS.get_magnifierIsVisible()){var uB=aS.get_magnifierWindowPosition();var yS=aS.uY();var LZ=aS.Qh();var LW=aS.Qo();var Vo=aS.asR();var aCs=Math.round(uB.x-yS.width/2+Ii+LZ);var aEd=Math.round(uB.y-yS.height/2+GS+LW);var Nl=Vo.pY(bx);var aBZ=Math.max(0,-Nl.x);var aBg=Math.max(0,-Nl.y);this.yF(ago,'left',Nl.x+'px');this.yF(ago,'top',Nl.y+'px');var MB=2;kU.style.width=(yS.width+MB*2)+'px';kU.style.height=(yS.height+MB*2)+'px';ql.style.width=yS.width+'px';ql.style.height=yS.height+'px';ql.style.left=MB+'px';ql.style.top=MB+'px';kU.style.left=aCs+'px';kU.style.top=aEd+'px';var adI=Vo.clone();adI.mi(aBZ,aBg);this.aih(CS,Vo,adI,bx,yS,Dp,0,0);kU.style.display='block';}else{kU.style.display='none';}if(L.akv()){var hM=L.JW();var aqZ=hM.fl();var gC=this.ll.zR(aqZ);var pd=(hM.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aaw=hM.fF* -1,aiO=hM.fF* -1;if(gC.width<pd){gC.width=pd;}if(gC.height<pd){gC.height=pd;}if(gC.width>aa.width){gC.width=aa.width;}if(gC.height>aa.height){gC.height=aa.height;}if(gC.x<0){gC.x=0;}if(gC.y<0){gC.y=0;}if(gC.x+gC.width+1>=aa.width){gC.x=aa.width-gC.width;aaw= -8;}if(gC.y+gC.height+1>=aa.height){gC.y=aa.height-gC.height;aiO= -8;}var ia=this.IK(hM);ia.style.left=this.vY+gC.x+1+(hM.fF/2)+'px';ia.style.top=this.wu+gC.y+1+(hM.fF/2)+'px';ia.style.width=gC.width+aaw-1+'px';ia.style.height=gC.height+aiO-1+'px';if(ia.style.display!=='block'){ia.style.display='block';ia.style.whiteSpace='pre-wrap';var ti=hM.dm;var ru='';if(ti&IPCC.Web.UI.FontStyle.Italic){ia.style.fontStyle="italic";}if(ti&IPCC.Web.UI.FontStyle.Bold){ia.style.fontWeight="bold";}if(ti&IPCC.Web.UI.FontStyle.Underline){ru+="underline";}if(ti&IPCC.Web.UI.FontStyle.Strikeout){if(ti&IPCC.Web.UI.FontStyle.Underline){ru+=" line-through";}else{ru="line-through";}}ia.style.textDecoration=ru;ia.style.color=hM.rf;ia.style.backgroundColor=hM.eI;ia.style.fontFamily=hM.fP;ia.style['z-index']=100;var xS=hM.Co*this.ll.qG();if(xS){ia.style.fontSize=xS+"px";}switch(hM.ie){case IPCC.Web.UI.HorizontalAlignment.Center:ia.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:ia.style.textAlign='right';break;default:ia.style.textAlign='left';break;}if(hM.hw){setTimeout(function(){ce.eK.maxLength=hM.hw;ce.ge.maxLength=hM.hw;ce.dk.maxLength=hM.hw;},0);}if(hM.io){if(Ag){Ag.destroy();L.Zz(null);}L.Zz(new PCCViewer.aDC(ia,hM.io));}if(hM.hU()===IPCC.Web.UI.MarkType.TextAreaSignature){var dk=IPCC.G.akO();dk.style.width=ce.dk.style.width;dk.style.height=ce.dk.style.height;dk.style.fontFamily=ce.dk.style.fontFamily;dk.style.fontStyle=ce.dk.style.fontStyle;dk.style.fontWeight=ce.dk.style.fontWeight;var cB=L.az().eT().qG();var iL=hM.iL*cB;var an=L.mz().jq()*cB;IPCC.G.alq().nodeValue=hM.aq||'m';ce.dk.style.fontSize=IPCC.G.WT(dk,iL,an)+'px';}ia.focus();}}else{ce.eK.style.display='none';ce.ge.style.display='none';ce.dk.style.display='none';ce.eK.removeAttribute('maxlength');ce.ge.removeAttribute('maxlength');ce.dk.removeAttribute('maxlength');if(Ag){Ag.destroy();L.Zz(null);}if(document.activeElement===ce.eK){ce.eK.blur();}if(document.activeElement===ce.ge){ce.ge.blur();}if(document.activeElement===ce.dk){ce.dk.blur();}}if(acn){L.bF('resize',{});}if(this.AZ!==ayd){this.yF(dU,'width','100%');}if(this.BQ!==axR){this.yF(dU,'height','100%');}if(this.vY!==aAQ){kO.scrollLeft=this.vY;}if(this.wu!==azt){kO.scrollTop=this.wu;}if(awE==="PageView"&& !this.Cr){aS=L.az();var bm=aS.eT();var xk=(+bm.qG().toFixed(6));if(L.Ov!==xk){L.Ov=xk;setTimeout(function(){L.bF('scaleChanged',{scaleFactor:xk,pageNumber:L.aZ});},1);L.bF('scaleChanged',{scaleFactor:xk,pageNumber:L.aZ});}}};eA.prototype.aih=function(aN,ll,fe,bB,aa,Dp,mk,lZ){var mv=ll.pY(bB);var ot={};ot.width=Math.max(mv.width,aa.width);ot.height=Math.max(mv.height,aa.height);this.aoS(aN,ll,fe,bB,aa,mk,lZ);this.ajh(aN,fe,ot,bB,mk,lZ);if(this.L.qp()===false){this.agN(aN,aa,ll,fe);}else{this.aBm(aN);var aS=this.L.az();var AS=aS.ame();if(this.L.vZ&&AS){this.ais(aN);}}this.aoC(aN);if(Dp){var El=fe.zR(Dp);if(this.ama){aN.jh.style.left=(El.x-2)+'px';aN.jh.style.top=(El.y-2)+'px';}else{aN.jh.style.left=(El.x-2+mk)+'px';aN.jh.style.top=(El.y-2+lZ)+'px';}aN.jh.style.width=El.width+'px';aN.jh.style.height=El.height+'px';aN.jh.style.display='block';}else{aN.jh.style.display='none';}};eA.prototype.agN=function(aN,aa,ll,fe){var abA=this.L.atE();var Is={x:0,y:0,width:aa.width,height:aa.height};if(abA){var yb=abA.getBoundingClientRect();var hs=aN.eS.getBoundingClientRect();var LH;if(hs.left<yb.left){LH=yb.left-hs.left;Is.x=(LH/hs.width)*aa.width;}if(hs.right>yb.right){Is.width=yb.width;}if(hs.top<yb.top){LH=yb.top-hs.top;Is.y=(LH/hs.height)*aa.height;}if(hs.bottom>yb.bottom){Is.height=yb.height;}}var tk=ll.clone();tk.yx();var aox=tk.zR(Is);this.aoD(aN,fe,aox);};eA.prototype.aoS=function(aN,ll,fe,bB,aa,mk,lZ){var bf=this.L.en();var ht=this.L.mf();var fL=this.L.NB();var ait=0;var T=this;if(aN.me){ait=aN.me.length;}if(!aN.rv|| !bf){return;}var nR=this.L.asq();if(bf.get_markCount()<=0&&ht.get_markCount()<=0&&fL.get_markCount()<=0&&ait<=0&& !nR){return;}if(!aN.OZ){aN.rv.avY(this.L,aN,bB);aN.me=[];aN.OZ=true;}ht=this.L.mf();var bQ=[];function avu(V){if((T.L.kB()&&T.L.dj().mw()===true)||V.get_type()!==IPCC.Web.UI.MarkType.Highlight){bQ.push(V);}};function acv(V){bQ.push(V);};fL.forEachMark(acv);ht.forEachMark(acv);bf.forEachMark(avu);if(nR){bQ.push(nR);}var K,me=aN.me;for(K=0;K<me.length;K++){while(K<me.length&&(K>=bQ.length||me[K].V!==bQ[K])){aN.rv.NU(me[K]);me.splice(K,1);}if(K<me.length&&(this.JK||this.nM.contains(me[K].V))){aN.rv.ajg(me[K]);}}for(K=me.length;K<bQ.length;K++){me[K]={V:bQ[K]};var F=me[K];if(!F){continue;}aN.rv.awT(me[K]);}if(this.ama){aN.rv.ajB(this.L,aN,bQ,fe,this.L.anq());}else{var aii=fe.clone();aii.mi(mk,lZ);aN.rv.ajB(this.L,aN,bQ,aii,this.L.anq());}};eA.prototype.ajh=function(){};eA.prototype.aoU=function(){var co=this.L.lE();if(co){this.afd=co.igElements.mp.offsetLeft-this.vY;this.aen=co.igElements.mp.offsetTop-this.wu;}};eA.prototype.qr=function(h,cl){var gS=this.L.lE().igElements;var jj=h.domEvent;var fs;if(gS.mp.getBoundingClientRect){fs=gS.mp.getBoundingClientRect();}else{var fc=gS.mp;var vq=document.documentElement;fs={left:vq.clientLeft-vq.scrollLeft,top:vq.clientTop-vq.scrollTop};fc=fc.offsetParent;while(fc){fs.top+=fc.offsetTop-fc.scrollTop;fs.left+=fc.offsetLeft-fc.scrollLeft;fc=fc.offsetParent;}}if(jj.rawEvent.touches){if(jj.rawEvent.touches.length>0){this.Og=new IPCC.Web.UI.Point(jj.rawEvent.touches[0].clientX-gS.nl.scrollLeft-fs.left,jj.rawEvent.touches[0].clientY-gS.nl.scrollTop-fs.top);}if(!this.Og){this.Og=new IPCC.Web.UI.Point(0,0);}h.windowPoint=new IPCC.Web.UI.Point(this.Og.x,this.Og.y);jj.button=0;}else{h.windowPoint=new IPCC.Web.UI.Point(jj.clientX-fs.left-gS.nl.scrollLeft,jj.clientY-fs.top-gS.nl.scrollTop);}var Si=this.tk.transform(h.windowPoint);h.imagePoint=new IPCC.Web.UI.Point(Si.x,Si.y);h.constrainedImagePoint=new IPCC.Web.UI.Point(Si.x,Si.y);h.constrainedImagePoint.x=Math.min(Math.max(h.constrainedImagePoint.x,0),this.GA.width);h.constrainedImagePoint.y=Math.min(Math.max(h.constrainedImagePoint.y,0),this.GA.height);h.pointLiesWithinImage=(h.constrainedImagePoint.x===h.imagePoint.x&&h.constrainedImagePoint.y===h.imagePoint.y);h.mark=null;try{var cV=jj.target;while(!(cV.ImGearMarkRelation)&&cV.parentNode&&cV!==document.body){cV=cV.parentNode;}if(cV.ImGearMarkRelation){h.mark=cV.ImGearMarkRelation.V;}}catch(bb){}};eA.prototype.kD=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);this.L.aAx(h);}catch(ex){this.L.by('mouseDown',ex);}};eA.prototype.kl=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);this.L.aAc(h);}catch(ex){this.L.by('mouseMove',ex);}};eA.prototype.mQ=function(bb){try{var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);if(!bb.rawEvent.wheelDelta){h.wheelDelta= -bb.rawEvent.detail*120;}else{h.wheelDelta=bb.rawEvent.wheelDelta;}this.L.aCy(h);}catch(ex){this.L.by('mouseWheel',ex);}};eA.prototype.xz=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);this.L.azM(h);}catch(ex){this.L.by('mouseDoubleClick',ex);}};eA.prototype.kk=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);this.L.azd(h);}catch(ex){this.L.by('mouseUp',ex);}};eA.prototype.UK=function(bb){try{bb.preventDefault();var h=new IPCC.Web.UI.MouseEventArgs();h.domEvent=bb;this.qr(h);this.L.aAi(h);}catch(ex){this.L.by('contextMenu',ex);}};eA.prototype.aEp=function(bb){try{this.L.oz(true);}catch(ex){this.L.by('textAreaBlur',ex);}};eA.prototype.aEx=function(bb){try{this.L.oz(true);}catch(ex){this.L.by('textInputBlur',ex);}};eA.prototype.aBe=function(V){var eK=this.IK(V);eK.value=V.aq||"";};eA.prototype.azK=function(){var L=this.L;var V=L.JW();if(!V|| !L.akv()){return;}var Tu=this.IK(V);if(document.activeElement===Tu){Tu.blur();}var aq=Tu.value;aq=aq.replace(/(\n|\n\r|\r\n|\r)/g,'\n');V.set_text(aq);};eA.prototype.IK=function(V){var gS=this.L.lE().igElements,eK=null;if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){eK=gS.ge;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eK=gS.dk;}else if(V.get_type()===IPCC.Web.UI.MarkType.Text){eK=gS.eK;}return eK;};module.exports=eA;},{}],56:[function(require,module,exports){var zc={};zc.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=zc;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aL={al:function(C,bu,al){if(typeof(C)!==al){throw new ImGearExceptions.zZ(bu,typeof(C),al);}},kj:function(C,bu){aL.al(C,bu,'string');},jo:function(C,bu){if(!(C instanceof Date)){throw new ImGearExceptions.zZ(bu,typeof(C),"Date");}},jz:function(C,bu){aL.al(C,bu,'number');if(!isFinite(C)){throw new ImGearExceptions.qt(bu,C,'The value must be a number.');}},jI:function(C,bu,wH,wr){aL.al(C,bu,'number');if(C<wH||C>wr|| !isFinite(C)){throw new ImGearExceptions.qt(bu,C,'The value must be a number between '+wH+' and '+wr+' inclusive.');}},Wt:function(C,bu,GR){aL.al(C,bu,'number');var K;for(K=0;K<GR.length;K++){if(C===GR[K]){return;}}var LE='';for(K=0;K<GR.length;K++){if(K>0){if(K===GR.length-1){LE+=' or ';}else{LE+=', ';}}LE+=GR[K];}throw new ImGearExceptions.qt(bu,C,'The value must be '+LE+'.');},nj:function(C,bu,wH,wr){aL.jI(C,bu,wH,wr);if(C!==Math.floor(C)){throw new ImGearExceptions.sg(bu,'The value must be an integer.');}},dz:function(C,bu){aL.al(C,bu,'string');if(!C.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.sg(bu,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},abu:function(C,bu){aL.al(C,bu,'string');if(!C.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.sg(bu,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kw:function(C,bu,kw,akf){aL.al(C,bu,'number');var cg;var Zg=0;for(cg in kw){if(kw.hasOwnProperty(cg)){if(akf){Zg|=kw[cg];}else{if(C===kw[cg]){return;}}}}var cN="";if(akf){if((C|Zg)===Zg){return;}else{throw new ImGearExceptions.qt(bu,C,'The value must be zero or more members of the '+cN+' enumeration.');}}throw new ImGearExceptions.qt(bu,C,'The value must be a member of the '+cN+' enumeration.');},bw:function(C,bu){aL.jz(C.x,bu+'.x');aL.jz(C.y,bu+'.y');},R:function(C,bu){aL.jz(C.x,bu+'.x');aL.jz(C.y,bu+'.y');aL.jz(C.width,bu+'.width');aL.jz(C.height,bu+'.height');},yq:function(C,bu){if(!Array.isArray(C)){throw new ImGearExceptions.sg(bu,'The value must be an array.');}}};module.exports=aL;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var eC=require('./IPCC.Util').regEnum;var DC=function(){};DC.registerEnum=eC;DC.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};DC.registerEnum('IPCC.ViewMode',false);module.exports=DC;},{"./IPCC.Util":28}],59:[function(require,module,exports){var Tf=function(oQ){var aS;var bx;var iC;var aa;var aM=this;var AB;var En='';var _debug=false;var oe=IPCC.Web.UI.DebugErrorLevel.Production;var nh=[];var bh=new IPCC.Web.UI.gd();var bf;var fL;var nR=null;var IU=false;var wS=false;var vx;var amu=IPCC.Web.UI.ImGearArtDataServices.None;var GN=false;var tI='';var qb;var aja=false;var aiF=false;var wK=0;var rW=true;var jB;var ht;var tJ=false;var agD=true,or=false;var ajm=false;var Ag=null;var MU;var WD=false;var aU=null;this.Ov=0.0;this.nA=function(Jg){if(!_debug){return false;}return oe>=Jg;};this.nF=function(kV,GJ,bU){IPCC.iZ.nF(kV,GJ,bU,En,AB);};this.by=function(iR,ik){if(!this.nA(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var du=iR+'() threw an exception ('+ik.name+'), "'+ik.message+'"';du=du.replace(/\n/g," ");this.nF(du,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);aM.bF('exceptionThrown',{"function_name":iR,"exception":ik,"pageNumber":aM.aZ});};this.IK=function(V){var gS=this.lE().igElements,eK=null;if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){eK=gS.ge;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eK=gS.dk;}else if(V.get_type()===IPCC.Web.UI.MarkType.Text){eK=gS.eK;}return eK;};this.get_debug=function(){return _debug;};this.set_debug=function(C){var Hh= ! !C;if(_debug===Hh){return;}_debug=Hh;this.dE('debug');};this.zz=function(){return oe;};this.Iw=function(C){if(oe===C){return;}oe=C;this.dE('debugErrorLevel');};this.get_areMarksEditable=function(){return WD;};this.set_areMarksEditable=function(C){if(WD===C){return;}WD=C;this.dE('areMarksEditable');};this.get_cursor=function(){return aU;};this.set_cursor=function(C){if(aU===C){return;}aU=C;this.dE('cursor');};this.aql=function(C){En=C;};this.asl=function(){return En;};this.aot=function(C){AB=C;};this.ark=function(C){MU=C;};this.atE=function(){return MU;};this.fd=function(aFV){this.oz(false);var K;for(K=nh.length-1;K>=0;K--){if(nh[K]instanceof IPCC.kv){nh[K].aJ(true);}else{nh[K].aJ();}if(nh[K]instanceof IPCC.mC){nh[K].fv(true);}else{nh[K].fv();}}nh=aFV;for(K=0;K<nh.length;K++){nh[K].mU(this);}};this.aGL=function(){var K;for(K=0;K<nh.length;K++){nh[K].aJ();}};this.fU=function(agY,h){var K;for(K=0;K<nh.length;K++){if(h&&h.aji&&h.aji()){return;}if(nh[K][agY]){nh[K][agY](h);}}};this.azg=function(jm,dC){switch(jm){case 'touchstart':iC.aeY&&iC.aeY(dC);break;case 'touchmove':iC.abE&&iC.abE(dC);break;case 'touchend':iC.abi&&iC.abi(dC);break;case 'doubleTap':iC.abG&&iC.abG(dC);break;}};this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.add_mouseDown=function(H){bh.addHandler('mouseDown',H);};this.remove_mouseDown=function(H){bh.removeHandler('mouseDown',H);};this.add_mouseMove=function(H){bh.addHandler('mouseMove',H);};this.remove_mouseMove=function(H){bh.removeHandler('mouseMove',H);};this.add_mouseUp=function(H){bh.addHandler('mouseUp',H);};this.remove_mouseUp=function(H){bh.removeHandler('mouseUp',H);};this.add_contextMenu=function(H){bh.addHandler('contextMenu',H);};this.remove_contextMenu=function(H){bh.removeHandler('contextMenu',H);};this.arR=function(H){bh.addHandler('contextMenuCommand',H);};this.aIf=function(H){bh.removeHandler('contextMenuCommand',H);};this.add_mouseWheel=function(H){bh.addHandler('mouseWheel',H);};this.remove_mouseWheel=function(H){bh.removeHandler('mouseWheel',H);};this.add_mouseOut=function(H){bh.addHandler('mouseOut',H);};this.remove_mouseOut=function(H){bh.removeHandler('mouseOut',H);};this.axA=function(H){bh.addHandler('resize',H);};this.aIp=function(H){bh.removeHandler('resize',H);};this.ayx=function(H){bh.addHandler('userModifiedViewState',H);};this.aHJ=function(H){bh.removeHandler('userModifiedViewState',H);};this.add_scaleChanged=function(H){bh.addHandler('scaleChanged',H);};this.remove_scaleChanged=function(H){bh.removeHandler('scaleChanged',H);};this.add_markAdded=function(H){bh.addHandler('markAdded',H);};this.remove_markAdded=function(H){bh.removeHandler('markAdded',H);};this.add_markCreating=function(H){bh.addHandler('markCreating',H);};this.remove_markCreating=function(H){bh.removeHandler('markCreating',H);};this.add_markChanged=function(H){bh.addHandler('markChanged',H);};this.remove_markChanged=function(H){bh.removeHandler('markChanged',H);};this.add_inProgressMarkChanged=function(H){bh.addHandler('inProgressMarkChanged',H);};this.remove_inProgressMarkChanged=function(H){bh.removeHandler('inProgressMarkChanged',H);};this.add_markRemoved=function(H){bh.addHandler('markRemoved',H);};this.remove_markRemoved=function(H){bh.removeHandler('markRemoved',H);};this.add_markReordered=function(H){bh.addHandler('markReordered',H);};this.remove_markReordered=function(H){bh.removeHandler('markReordered',H);};this.add_marksLoaded=function(H){bh.addHandler('marksLoaded',H);};this.remove_marksLoaded=function(H){bh.removeHandler('marksLoaded',H);};this.add_marksSaved=function(H){bh.addHandler('marksSaved',H);};this.remove_marksSaved=function(H){bh.removeHandler('marksSaved',H);};this.add_markSelectionChanged=function(H){bh.addHandler('markSelectionChanged',H);};this.remove_markSelectionChanged=function(H){bh.removeHandler('markSelectionChanged',H);};this.add_markTextSelectionChanged=function(H){bh.addHandler('markTextSelectionChanged',H);};this.remove_markTextSelectionChanged=function(H){bh.removeHandler('markTextSelectionChanged',H);};this.add_pageOpenFailed=function(H){bh.addHandler('pageOpenFailed',H);};this.add_pageDisplayed=function(H){bh.addHandler('pageDisplayed',H);};this.remove_pageOpenFailed=function(H){bh.removeHandler('pageOpenFailed',H);};this.add_textPageReady=function(H){bh.addHandler('textPageReady',H);};this.remove_textPageReady=function(H){bh.removeHandler('textPageReady',H);};this.add_selectTextMouseToolCompleted=function(H){bh.addHandler('selectTextMouseToolCompleted',H);};this.remove_selectTextMouseToolCompleted=function(H){bh.removeHandler('selectTextMouseToolCompleted',H);};this.add_exceptionThrown=function(H){bh.cX('exceptionThrown',H);};this.remove_exceptionThrown=function(H){bh.dh('exceptionThrown',H);};this.add_textExtractionFailed=function(H){bh.cX('textExtractionFailed',H);};this.remove_textExtractionFailed=function(H){bh.dh('textExtractionFailed',H);};this.dE=function(cg,xR){var H=bh.getHandler("propertyChanged");if(H){H(this,new IPCC.qs(cg,xR));}};this.lE=function(){var _parent=document.getElementById(AB);return _parent;};this.az=function(){return aS;};this.aIx=function(){return bh;};function Bz(bS,h){GN=true;h.pageIndex=aM.aZ;aM.bF('markAdded',h);aM.fU('iu',h);};function Bk(bS,h){GN=true;h.pageIndex=aM.aZ;aM.bF('markChanged',h);aM.fU('mJ',h);};function abH(bS,h){h=new IPCC.Web.UI.MarkEventArgs();h.mark=nR;h.pageIndex=aM.aZ;aM.bF('inProgressMarkChanged',h);aM.fU('_onInProgressMarkChanged',h);};function EF(bS,h){GN=true;h.pageIndex=aM.aZ;aM.bF('markRemoved',h);aM.fU('Ek',h);};function auf(bS,h){aM.bF('textPageReady',h);};function auw(bS,h){aM.bF('textExtractionFailed',h);};function CE(bS,h){GN=true;h.pageIndex=aM.aZ;aM.bF('markReordered',h);aM.fU('abR',h);};function Da(bS,h){h.pageIndex=aM.aZ;aM.bF('marksLoaded',h);aM.fU('aco',h);};function Er(bS,h){h.pageIndex=aM.aZ;aM.bF('markSelectionChanged',h);aM.fU('Dq',h);};function alw(bS,h){h.pageIndex=aM.aZ;aM.bF('markTextSelectionChanged',h);};this.aBn=function(bS,h){this.fU('_onTextMarkEditCompleted',h);};function Bp(bS,h){h.pageIndex=aM.aZ;aM.bF('propertyChanged',h);};this.ng=function(C){if(C===bf){return;}if(bf){bf.remove_markAdded(Bz);bf.remove_markChanged(Bk);bf.remove_markRemoved(EF);bf.remove_markReordered(CE);bf.remove_marksLoaded(Da);bf.remove_markSelectionChanged(Er);bf.nv(Bp);bf.Fp(true);}bf=C;if(bf){bf.add_markAdded(Bz);bf.add_markChanged(Bk);bf.add_markRemoved(EF);bf.add_markReordered(CE);bf.add_marksLoaded(Da);bf.add_markSelectionChanged(Er);bf.add_markTextSelectionChanged(alw);bf.jS(Bp);}this.dE('artPage');};this.en=function(){return bf;};this.GV=function(C){if(C===fL){return;}if(fL){fL.remove_markAdded(Bz);fL.remove_markChanged(Bk);fL.remove_markRemoved(EF);fL.remove_markReordered(CE);fL.remove_marksLoaded(Da);fL.remove_markSelectionChanged(Er);fL.nv(Bp);fL.Fp(true);}fL=C;if(fL){fL.add_markAdded(Bz);fL.add_markChanged(Bk);fL.add_markRemoved(EF);fL.add_markReordered(CE);fL.add_marksLoaded(Da);fL.add_markSelectionChanged(Er);fL.add_markTextSelectionChanged(alw);fL.jS(Bp);}this.dE('documentArtPage');};this.NB=function(){return fL;};this.mf=function(){return ht;};this.Cw=function(C){if(C===ht){return;}if(ht){ht.remove_markAdded(Bz);ht.remove_markChanged(Bk);ht.remove_markRemoved(EF);ht.remove_markReordered(CE);ht.remove_marksLoaded(Da);ht.remove_markSelectionChanged(Er);ht.nv(Bp);}ht=C;if(ht){ht.add_markAdded(Bz);ht.add_markChanged(Bk);ht.add_markRemoved(EF);ht.add_markReordered(CE);ht.add_marksLoaded(Da);ht.add_markSelectionChanged(Er);ht.jS(Bp);}this.dE('transientArtPage');};var hG;this.CY=function(){if(!hG){if(IPCC.Web.UI.Mark){hG=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hG.set_opacity(100);hG.set_fillColor('#3366CC');hG.set_fillVisible(true);}}return hG;};this.YC=function(C){amu=C;this.dE('artServiceOption');};this.Wc=function(){return amu;};this.os=function(V,nB){if(nR===V){return;}if(nR){nR.remove_propertyChanged(abH);}if(V&& !nR){var h=new IPCC.Web.UI.MarkEventArgs();h.mark=nB?nB:V;h.pageIndex=this.aZ;this.bF('markCreating',h);}nR=V;if(nR){nR.add_propertyChanged(abH);}this.dE('inProgressMark');};this.asq=function(){return nR;};this.AR=function(C){if(C===bx){return;}bx=C;this.vZ=false;aS.oS();this.dE('image');};this.bZ=function(){return bx;};this.acB=function(C){if(C===IU){return;}IU=C;this.dE('IU');};this.anq=function(){return IU;};this.Hq=function(){var vx=this.JW();var agA=this.IK(vx);var apf=agA.value;setTimeout(function(){agA.setSelectionRange(0,apf.length);},1);};this.wN=function(V){this.oz(false);iC.aBe(V);wS=true;vx=V;this.dE('wS');};this.afN=function(aX,cO){if(this.kB()&&this.dj().mw()===true){var hI=this.dj().hJ();var K=aX;for(;K<aX+cO;K++){var eB=hI.ld(K);var vv='#3366CC';var Hd='#3366CC';ht.YI(eB.aB,Hd,vv,false,K);}}};this.aHQ=function(au){var K;try{var bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hG){hG=aM.CY();}for(K in hG){if(hG.hasOwnProperty(K)){bE[K]=hG[K];}}bE.set_rectangle({x:au.x,y:au.y,width:au.width,height:au.height});aM.os(bE);ht.addMark(bE);return bE;}catch(axn){var aDj=axn.message;window.console.log(aDj);}};this.Jt=function(df){var Jk;var hI;var Uk;Jk=aM.dj();hI=aM.dj().hJ();function auh(Sp){var sB=Sp.uD();if((df.x>=sB.x-10&&df.x<=sB.x+sB.width+1)&&(df.y>=sB.y-1&&df.y<=sB.y+sB.height+1)){return true;}sB=undefined;};if(!Uk){for(var K=0;K<hI.eQ();K++){if(auh(hI.ld(K))){Uk=K;break;}}}return Uk;};this.aDu=false;this.zG=function(cz){if(cz===undefined){return;}if(aM.kB()&&aM.dj().mw()===true){var JB=aM.dj().hJ().eQ();IPCC.aL.nj(cz,'textIndex',0,JB);aM.az().zG(cz);aM.mf().Fe(function(V){if(V.xn!==true&&V.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){aM.mf().tm(V);}});if(aM.AG()===true){aM.cl();}}};this.Xy=function(){var FI=aM.az().get_transientHighlightMarks();while(FI.length>0){aM.mf().removeMark(FI.pop());}};this.Nt=function(wJ,cO){if(aM.kB()&&aM.dj().mw()===true){var K=wJ;var hI=this.dj().hJ();var dM=wJ+cO;if(!hG){hG=aM.CY();}var FI=aM.az().get_transientHighlightMarks();for(;K<dM;K++){var eB=hI.ld(K);FI.push(ht.avZ(eB.aB,hG,K));}}};this.aHY=function(aFD,cO){var aS=aM.az();for(var bJ=cO-1;bJ>cO;bJ--){var bD=aS.hL[bJ];ht.removeMark(bD.V);}};this.us=function(cz){if(cz===undefined){return;}var eB;var aS=aM.az();var gZ=aS.By();var vv='#3366CC';var Hd='#3366CC';var de=100;if(!hG){hG=aM.CY();}de=hG.get_opacity();if(!de){de=100;}vv=hG.get_fillColor();if(vv===undefined){vv='#3366CC';}var hI=aM.dj().hJ();if(gZ===undefined){eB=hI.ld(cz);var V=ht.YI(eB.aB,Hd,vv,false,de,cz);aS.us(cz,V,eB.lA);return;}var bJ;function aaO(aA,ayn){for(bJ=aS.hL.length-1;bJ>=0;bJ--){var bD=aS.hL[bJ];if(bD.cz===aA){aS.hL.splice(bJ,1);ht.removeMark(bD.V);aS.apX(ayn);aS.apm(aA);return bJ;}}return-1;};function QB(aA){eB=hI.ld(aA);var ahi=ht.YI(eB.aB,Hd,vv,false,de,aA);if(aS.us(aA,ahi,eB.lA)===false){ht.removeMark(ahi);}};var Rv=aS.amh();var K;if(cz>gZ){for(K=gZ;K<=cz;K++){if(K===cz){if(K<Rv){continue;}QB(K);}else if(K>=Rv){if(K===gZ){continue;}QB(K);}else{aaO(K,cz);}}}else if(cz<gZ){for(K=gZ;K>=cz;K--){if(K===cz){if(K>=Rv){continue;}QB(K);}else if(K<Rv){if(K===gZ){continue;}QB(K);}else{aaO(K,cz);}}}};this.EZ=function(){var aez="";try{var aS=aM.az();if(aM.az().IP()){var apN=aM.dj().hJ();if(aS.hL.length>0){var EC=[];for(var K=0;K<aS.hL.length;K++){EC.push(aS.hL[K].cz);}if(EC[0]>EC[1]){EC.reverse();}for(K=0;K<EC.length;K++){aez+=apN.ld(EC[K]).ata();}}}return aez;}catch(e){window.console.log(e.message);}};this.oz=function(aCf){if(wS){if(aCf){iC.azK();}wS=false;vx=null;this.aBn();this.dE('wS');aM.cl();}};this.akv=function(){return wS;};this.JW=function(){return vx;};this.Eu=function(){var vx=this.JW();if(!vx){return null;}var TQ=vx.hU();if(TQ===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(TQ===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(TQ===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aec=function(C){aiF=C;};this.aaD=function(){return aiF;};this.Zz=function(C){Ag=C;};this.ars=function(){return Ag;};this.ajd=function(C){if(C===wK){return;}wK=C;this.dE('wK');};this.VZ=function(){return wK;};this.Fp=function(C){if(bf){bf.Fp(C);}};this.Oe=function(){if(bf){return bf.Oe();}return true;};this.aEy=function(aFP){var aa=iC.awC(this.lE());this.apR(aa);};this.apR=function(C){if(C===aa){return;}aa=C;this.dE('windowSpace');};this.eo=function(){return aa;};this.cl=function(){iC.cl(bx,aS,aa);};this.Kb=function(){if(this.qp()===false){var ll=aS.eT();var L=this;var mv=ll.pY(bx);var co=L.lE();var ce=co.igElements;var aN=ce.qS;var Ii=Math.max(0,-mv.x);var GS=Math.max(0,-mv.y);var mk=Math.max(0,mv.x);var lZ=Math.max(0,mv.y);var fe=aS.eT();fe.mi(Ii-mk,GS-lZ);iC.agN(aN,aa,ll,fe);}};this.Hi=function(C){qb=C;};this.ur=function(){return qb;};this.dj=function(){return jB.dj();};var kL=0;this.mz=function(){return jB;};this.Fo=function(C){if(C===this.mz()){return;}jB=C;if(jB){jB.Cc(auf);jB.zP(auw);}};this.kB=function(){return rW;};this.Ib=function(C){rW=C;this.dE('textRequired');};this.As=function(){return tJ;};this.HK=function(C){if(tJ===C){return;}tJ=C;this.dE('requireRequestsOptimize');};this.AG=function(){return agD;};this.Zw=function(C){agD=C;this.dE('autoUpdate');};var rm=false;this.mO=function(){return rm;};this.nU=function(C){if(typeof C!=="boolean"){return;}if(C===rm){return;}rm=C;if(bf){var adt=false;bf.forEachMark(function(V){if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){adt=true;}});if(adt===true){bf.nU(rm);}}};this.kG=function(){return kL;};this.wA=function(C){if(kL===C){return;}if(isNaN(C)){return;}kL=C;this.dE('serviceResponseTimeout');};var pF='';this.Wh=function(dS,bp){if(dS!==''){dS='/'+dS;}bp=bp||'';if(bp===null||bp===''){if(dS==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bx.get_identifier())){return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=u'+encodeURIComponent(bx.get_identifier());}else{return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=e'+bx.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bx.get_identifier())){return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=u'+encodeURIComponent(bx.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=e'+bx.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bx.get_identifier())){return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=u'+encodeURIComponent(bx.get_identifier())+'&'+bp;}else{return pF+'/Page/q/'+bx.aZ.toString()+dS+'?DocumentID=e'+bx.get_encodedIdentifier()+'&'+bp;}}};this.asU=function(dS,bp){dS=dS||'Art';bp=bp||'';if(bp===null||bp===''){if(dS==='Art'){return pF+'/Page/q/'+bx.aZ.toString()+'/'+dS+'?DocumentID=e'+bx.get_encodedIdentifier();}}else{return pF+'/Page/q/'+bx.aZ.toString()+'/'+dS+'?DocumentID=e'+bx.get_encodedIdentifier()+'&'+bp;}};this.Tn=function(Ep){if(GN===false){if(Ep){Ep();}return;}IPCC.G.oa.fh({method:'POST',url:this.asU('Art'),headers:{'Content-Type':'application/json'},body:bf.saveToJson()}).then(function(){if(Ep){Ep();}});};this.vD=function(){return pF;};this.Qs=function(C){pF=C;this.dE('imageHandlerUrl');};this.qp=function(){return aja;};this.OA=function(C){aja=C;};this.atg=function(){return ajm;};this.acd=function(C){ajm=C;};this.mE=function(){return tI;};this.vG=function(C){tI=C;tI.tabIndex= -1;};this.ij=function(){return or;};this.nZ=function(C){if(typeof C!=="boolean"){return;}if(C===or){return;}or=C;};this.aAx=function(h){if(wS){this.oz(true);}else{this.bF('mouseDown',h);this.fU('kD',h);}};this.aAc=function(h){this.bF('mouseMove',h);this.fU('kl',h);};this.azd=function(h){this.bF('mouseUp',h);this.fU('kk',h);};this.aCy=function(h){this.bF('mouseWheel',h);this.fU('mQ',h);};this.azM=function(h){this.bF('mouseDoubleClick',h);this.fU('xz',h);};this.aAi=function(h){this.bF('contextMenu',h);this.fU('UK',h);};this.aAa=function(h){this.bF('contextMenuCommand',h);};this.aAU=function(h){this.bF('mouseOut',h);this.fU('oJ',h);};this.aBd=function(h){this.bF('touchStart',h);this.fU('kD',h);};this.aBR=function(h){this.bF('touchMove',h);this.fU('kl',h);};this.aBW=function(h){this.bF('touchEnd',h);this.fU('kk',h);};this.aBE=function(h){this.bF('touchCancel',h);this.fU('IM',h);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(aM,h);}};var ake=function(L,oQ){aS=new IPCC.To();function yZ(bS,h){aM.bF('propertyChanged',h);};aS.jS(yZ);iC=new IPCC.eA(L,oQ);if(IPCC.cY){iC.rv=new IPCC.cY.dc(L);iC.awj=new IPCC.cY.dc(L);}};if(oQ===false){ake(this,false);}else{ake(this,true);}return this;};module.exports=Tf;},{}],60:[function(require,module,exports){var To=function(){var qw=0;var sq=1;var lb=1;var AS=false;var cS=new IPCC.fo();var Df=false;var uT;var qn;var Ml=false;var EN=new IPCC.DN(200,150,96,96);var uB={x:0,y:0};var LU=3;var LZ=0,LW=0;var gy=0.2;var rz=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Dn=new IPCC.fo();var JI=0;var IT=0;var EL=false;var WR;this.hL=[];var VH=IPCC.Web.UI.ScrollBars.Auto;var FI=[];this.get_transientHighlightMarks=function(){return FI;};this.get_scrollBars=function(){return VH;};this.get_overflow=function(){switch(VH){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(C){VH=C;this.dE('scrollBars');};var bh=new IPCC.Web.UI.gd();this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};var onSelectionChanged=function(aS){var h={};h.selectionIsVisible=Df;h.selectionRectangle=aS.yd();aS.dE('selection');};this.oS=function(){uT={x:0,y:0};qn={x:0,y:0};if(!Df){return;}Df=false;onSelectionChanged(this);};this.showSelection=function(eL){uT.x=eL.x;uT.y=eL.y;qn.x=eL.x+eL.width;qn.y=eL.y+eL.height;Df=true;onSelectionChanged(this);};this.Bm=function(df){uT.x=df.x;uT.y=df.y;qn.x=df.x;qn.y=df.y;Df=true;onSelectionChanged(this);};this.xF=function(df){qn.x=df.x;qn.y=df.y;onSelectionChanged(this);};this.zh=function(){return Df;};this.yd=function(){var R=new IPCC.Web.UI.Rectangle(Math.min(uT.x,qn.x),Math.min(uT.y,qn.y),0,0);R.width=Math.max(uT.x,qn.x)-R.x;R.height=Math.max(uT.y,qn.y)-R.y;return R;};var Fl=function(){if(!Ml){Dn.apb();return;}Dn.Pi(cS);Dn.mi(-uB.x,-uB.y);Dn.scale(LU,LU);Dn.mi(EN.width/2,EN.height/2);};this.hideMagnifier=function(){Ml=false;Fl();this.dE('magnifierIsVisible');};this.showMagnifier=function(dq){uB.x=dq.x;uB.y=dq.y;Ml=true;Fl();this.dE('magnifierWindowPosition');this.dE('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Ml;};this.get_magnifierWindowPosition=function(){return{x:uB.x,y:uB.y};};this.get_magnifierMagnification=function(){return LU;};this.set_magnifierMagnification=function(C){LU=C;Fl();this.dE('magnifierMagnification');};this.Qh=function(){return LZ;};this.Qw=function(C){LZ=C;this.dE('magnifierXOffset');};this.Qo=function(){return LW;};this.QI=function(C){LW=C;this.dE('magnifierYOffset');};this.uY=function(){return{width:EN.width,height:EN.height};};this.set_magnifierWindowSize=function(newMagnifierSize){EN.width=newMagnifierSize.width;EN.height=newMagnifierSize.height;Fl();this.dE('magnifierWindowSize');};this.asR=function(){return Dn.clone();};this.eT=function(){return cS.clone();};this.RX=function(){return gy;};this.Tl=function(C){gy=C;this.dE('markHandleSize');};this.zV=function(){return rz;};this.Ic=function(C){rz=C;this.dE('markHandleMode');};this.jg=function(C){if(C===cS||C.aGu(cS)){return;}if(!C.ang()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cS.Pi(C);Fl();this.dE('displayedPageRectangle');};var aey='0';this.get_presentationQuality=function(){return aey;};this.set_presentationQuality=function(C){aey=C;this.dE('presentationQuality');};this.atk=function(){return sq;};this.Fd=function(C){sq=C;};this.avg=function(){return qw;};this.BH=function(C){qw=C;};this.auL=function(){return lb;};this.Cu=function(C){if(C!==lb){AS=true;}lb=C;};this.aom=function(C){AS=C;};this.ame=function(){return AS;};var aac=IPCC.bK.Default;this.aHo=function(){return aac;};this.aqJ=function(C){if(aac!==C){aac=C;this.dE('markCursor');}};this.zG=function(cz){JI=cz;EL=false;IT=0;};this.Nt=function(wJ,cO){if(wJ!==JI){JI=wJ;}IT=cO;EL=true;};this.WH=function(){if(EL===true){for(var K=0;K<this.hL.length;K++){this.hL[K].V.set_visible(false);}EL=false;}};this.IP=function(){return EL;};this.us=function(cz,V,lA){WR=cz;if(cz!==undefined){if(this.hL.length>0&&this.hL[this.hL.length-1].cz===cz){return false;}this.hL.push({cz:cz,V:V,lA:lA});EL=true;IT++;}else{this.hL=[];IT=0;}return true;};this.By=function(){return WR;};this.apX=function(C){if(C===undefined){return;}WR=C;};var ahC;this.aHg=function(){return ahC;};this.apm=function(C){if(C===undefined){return;}ahC=C;};this.amh=function(){return JI;};this.aHc=function(){return JI+IT;};this.DH=function(){return this.hL.length;};this.oS();this.hideMagnifier();return this;};module.exports=To;},{}],61:[function(require,module,exports){var zm={};zm.alV=function(ac){if(!this.Gs[0][0][0]){this.Ws();}var K,bJ,eH,JS,Yp,kJ=this.Gs[0][4],uE=this.Gs[1],sC=ac.length,Lo=1;if(sC!==4&&sC!==6&&sC!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.ac=[JS=ac.slice(0),Yp=[]];for(K=sC;K<4*sC+28;K++){eH=JS[K-1];if(K%sC===0||(sC===8&&K%sC===4)){eH=kJ[eH>>>24]<<24^kJ[eH>>16&255]<<16^kJ[eH>>8&255]<<8^kJ[eH&255];if(K%sC===0){eH=eH<<8^eH>>>24^Lo<<24;Lo=Lo<<1^(Lo>>7)*283;}}JS[K]=JS[K-sC]^eH;}for(bJ=0;K;bJ++,K--){eH=JS[bJ&3?K:K-4];if(K<=4||bJ<4){Yp[bJ]=eH;}else{Yp[bJ]=uE[0][kJ[eH>>>24]]^uE[1][kJ[eH>>16&255]]^uE[2][kJ[eH>>8&255]]^uE[3][kJ[eH&255]];}}};zm.alV.prototype={aaA:function(cd){return this.awk(cd,1);},Gs:[[[],[],[],[],[]],[[],[],[],[],[]]],Ws:function(){var LD=this.Gs[0],uE=this.Gs[1],kJ=LD[4],aAX=uE[4],K,aD,yI,fr=[],aaf=[],TO,adN,aeT,jy,Rx,QP;for(K=0;K<256;K++){aaf[(fr[K]=K<<1^(K>>7)*283)^K]=K;}for(aD=yI=0;!kJ[aD];aD^=TO||1,yI=aaf[yI]||1){jy=yI^yI<<1^yI<<2^yI<<3^yI<<4;jy=jy>>8^jy&255^99;kJ[aD]=jy;aAX[jy]=aD;aeT=fr[adN=fr[TO=fr[aD]]];QP=aeT*0x1010101^adN*0x10001^TO*0x101^aD*0x1010100;Rx=fr[jy]*0x101^jy*0x1010100;for(K=0;K<4;K++){LD[K][aD]=Rx=Rx<<24^Rx>>>8;uE[K][jy]=QP=QP<<24^QP>>>8;}}for(K=0;K<5;K++){LD[K]=LD[K].slice(0);uE[K]=uE[K].slice(0);}},awk:function(qk,LX){if(qk.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var ac=this.ac[LX],cw=qk[0]^ac[0],es=qk[LX?3:1]^ac[1],fK=qk[2]^ac[2],fr=qk[LX?1:3]^ac[3],wh,agS,agZ,aEV=ac.length/4-2,K,Bd=4,fA=[0,0,0,0],Ge=this.Gs[LX],Ql=Ge[0],Pr=Ge[1],OD=Ge[2],OE=Ge[3],kJ=Ge[4];for(K=0;K<aEV;K++){wh=Ql[cw>>>24]^Pr[es>>16&255]^OD[fK>>8&255]^OE[fr&255]^ac[Bd];agS=Ql[es>>>24]^Pr[fK>>16&255]^OD[fr>>8&255]^OE[cw&255]^ac[Bd+1];agZ=Ql[fK>>>24]^Pr[fr>>16&255]^OD[cw>>8&255]^OE[es&255]^ac[Bd+2];fr=Ql[fr>>>24]^Pr[cw>>16&255]^OD[es>>8&255]^OE[fK&255]^ac[Bd+3];Bd+=4;cw=wh;es=agS;fK=agZ;}for(K=0;K<4;K++){fA[LX?3& -K:K]=kJ[cw>>>24]<<24^kJ[es>>16&255]<<16^kJ[fK>>8&255]<<8^kJ[fr&255]^ac[Bd++];wh=cw;cw=es;es=fK;fK=fr;fr=wh;}return fA;}};module.exports=zm;},{}],62:[function(require,module,exports){var gf={};gf.GE={mW:function(cE){var fA="",pJ=IPCC.Web.gu.uS(cE),K,eH;for(K=0;K<pJ/8;K++){if((K&3)===0){eH=cE[K/4];}fA+=String.fromCharCode(eH>>>24);eH<<=8;}return decodeURIComponent(escape(fA));},tX:function(cN){cN=unescape(encodeURIComponent(cN));var fA=[],K,eH=0;for(K=0;K<cN.length;K++){eH=eH<<8|cN.charCodeAt(K);if((K&3)===3){fA.push(eH);eH=0;}}if(K&3){fA.push(IPCC.Web.gu.HL(8*(K&3),eH));}return fA;}};gf.sy={yn:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mW:function(cE,aGo,ae){var fA="",K,fD=0,fK=IPCC.Web.gf.sy.yn,ws=0,pJ=IPCC.Web.gu.uS(cE);if(ae){fK=fK.substr(0,62)+'-_';}for(K=0;fA.length*6<pJ;){fA+=fK.charAt((ws^cE[K]>>>fD)>>>26);if(fD<6){ws=cE[K]<<(6-fD);fD+=26;K++;}else{ws<<=6;fD-=6;}}while((fA.length&3)&& !aGo){fA+="=";}return fA;},tX:function(cN,ae){cN=cN.replace(/\s|=/g,'');var fA=[],K,fD=0,fK=IPCC.Web.gf.sy.yn,ws=0,aD;if(ae){fK=fK.substr(0,62)+'-_';}for(K=0;K<cN.length;K++){aD=fK.indexOf(cN.charAt(K));if(aD<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fD>26){fD-=26;fA.push(ws^aD>>>fD);ws=aD<<(32-fD);}else{fD+=6;ws^=aD<<(32-fD);}}if(fD&56){fA.push(IPCC.Web.gu.HL(fD&56,ws,1));}return fA;}};gf.Kr={mW:function(cE){return IPCC.Web.gf.sy.mW(cE,1,1);},tX:function(cN){return IPCC.Web.gf.sy.tX(cN,1);}};module.exports=gf;},{}],63:[function(require,module,exports){var pa={};pa.VW=function(pa){if(!this.ac[0]){this.Ws();}if(pa){this.fH=pa.fH.slice(0);this.AC=pa.AC.slice(0);this.cO=pa.cO;}else{this.abo();}};pa.VW.pa=function(cd){return(new IPCC.Web.pa.VW()).aoa(cd).arY();};pa.VW.prototype={aHA:512,abo:function(){this.fH=this.akx.slice(0);this.AC=[];this.cO=0;return this;},aoa:function(cd){if(typeof cd==="string"){cd=IPCC.Web.Codec.GE.tX(cd);}var K,es=this.AC=IPCC.Web.gu.Yj(this.AC,cd),ajI=this.cO,aFS=this.cO=ajI+IPCC.Web.gu.uS(cd);for(K=512+ajI& -512;K<=aFS;K+=512){this.oX(es.splice(0,16));}return this;},arY:function(){var K,es=this.AC,fH=this.fH;es=IPCC.Web.gu.Yj(es,[IPCC.Web.gu.HL(1,1)]);for(K=es.length+2;K&15;K++){es.push(0);}es.push(Math.floor(this.cO/0x100000000));es.push(this.cO|0);while(es.length){this.oX(es.splice(0,16));}this.abo();return fH;},akx:[],ac:[],Ws:function(){var K=0,HJ=2,bv;function agW(aD){return(aD-Math.floor(aD))*0x100000000|0;};aFK:for(;K<64;HJ++){for(bv=2;bv*bv<=HJ;bv++){if(HJ%bv===0){continue aFK;}}if(K<8){this.akx[K]=agW(Math.pow(HJ,1/2));}this.ac[K]=agW(Math.pow(HJ,1/3));K++;}},oX:function(aqx){var K,eH,cw,es,ir=aqx.slice(0),fH=this.fH,dp=this.ac,XH=fH[0],rQ=fH[1],Ky=fH[2],QY=fH[3],rV=fH[4],PO=fH[5],Kx=fH[6],Xf=fH[7];for(K=0;K<64;K++){if(K<16){eH=ir[K];}else{cw=ir[(K+1)&15];es=ir[(K+14)&15];eH=ir[K&15]=((cw>>>7^cw>>>18^cw>>>3^cw<<25^cw<<14)+(es>>>17^es>>>19^es>>>10^es<<15^es<<13)+ir[K&15]+ir[(K+9)&15])|0;}eH=(eH+Xf+(rV>>>6^rV>>>11^rV>>>25^rV<<26^rV<<21^rV<<7)+(Kx^rV&(PO^Kx))+dp[K]);Xf=Kx;Kx=PO;PO=rV;rV=QY+eH|0;QY=Ky;Ky=rQ;rQ=XH;XH=(eH+((rQ&Ky)^(QY&(rQ^Ky)))+(rQ>>>2^rQ>>>13^rQ>>>22^rQ<<30^rQ<<19^rQ<<10))|0;}fH[0]=fH[0]+XH|0;fH[1]=fH[1]+rQ|0;fH[2]=fH[2]+Ky|0;fH[3]=fH[3]+QY|0;fH[4]=fH[4]+rV|0;fH[5]=fH[5]+PO|0;fH[6]=fH[6]+Kx|0;fH[7]=fH[7]+Xf|0;}};module.exports=pa;},{}],64:[function(require,module,exports){var Ds={};Ds.avQ={bu:"cbc",akQ:function(Pg,XR,gm,wV){if(wV&&wV.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gu.uS(gm)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var K,ir=IPCC.Web.gu,Mz=ir.afe,pJ=ir.uS(XR),agu=0,qy=[];if(pJ&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(K=0;agu+128<=pJ;K+=4,agu+=128){gm=Pg.akQ(Mz(gm,XR.slice(K,K+4)));qy.splice(K,0,gm[0],gm[1],gm[2],gm[3]);}pJ=(16-((pJ>>3)&15))*0x1010101;gm=Pg.akQ(Mz(gm,ir.Yj(XR,[pJ,pJ,pJ,pJ]).slice(K,K+4)));qy.splice(K,0,gm[0],gm[1],gm[2],gm[3]);return qy;},aaA:function(Pg,ML,gm,wV){if(wV&&wV.length){throw new IPCC.Web.UI.ImGearArgumentException(wV,"cbc can't authenticate data");}if(IPCC.Web.gu.uS(gm)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gu.uS(ML)&127)|| !ML.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var K,ir=IPCC.Web.gu,Mz=ir.afe,sV,tc,qy=[];wV=wV||[];for(K=0;K<ML.length;K+=4){sV=ML.slice(K,K+4);tc=Mz(gm,Pg.aaA(sV));qy.splice(K,0,tc[0],tc[1],tc[2],tc[3]);gm=sV;}sV=qy[K-1]&255;if(sV===0||sV>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}tc=sV*0x1010101;if(!ir.axp(ir.ZW([tc,tc,tc,tc],0,sV*8),ir.ZW(qy,qy.length*32-sV*8,qy.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return ir.ZW(qy,0,qy.length*32-sV*8);}};module.exports=Ds;},{}],65:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var PJ=function(){var bQ=[];var bh=new IPCC.Web.UI.gd();var eV=new IPCC.Web.UI.MarkCollection();var T=this;var JX=true;this.atw=[];function onMarkSelectionChanged(bS,h){var V=h.mark;if(V.aC&&V.aC[0]&&V.aC[0].ca===false){return;}var dv;var ape=h.mark.get_selected();if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be!==undefined){eV.remove_markAdded(onMarkSelectionChanged);eV.remove_markRemoved(onMarkSelectionChanged);for(var K=0;K<bQ.length;K++){if(bQ[K].be===V.be){if(bQ[K].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){dv=bQ[K];}else{bQ[K].set_selected(h.mark.get_selected());}}}eV.add_markAdded(onMarkSelectionChanged);eV.add_markRemoved(onMarkSelectionChanged);if(dv){dv.set_selected(ape);}return;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eV.remove_markAdded(onMarkSelectionChanged);eV.remove_markRemoved(onMarkSelectionChanged);for(var ar=0;ar<V.aC.length;ar++){V.aC[ar].set_selected(h.mark.get_selected());}eV.add_markAdded(onMarkSelectionChanged);eV.add_markRemoved(onMarkSelectionChanged);}var eZ=new IPCC.Web.UI.MarkEventArgs();eZ.mark=V;eZ.zIndex=T.oA(V);eZ.length=1;T.bF('markSelectionChanged',eZ);};eV.add_markAdded(onMarkSelectionChanged);eV.add_markRemoved(onMarkSelectionChanged);var aDv=eV.addMark;eV.addMark=function(V){if(T.oA(V)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eV.contains(V)){aDv.call(eV,V);V.dE('selected');}};var aFN=eV.addMarks;eV.addMarks=function(yN){var nM=[];function abS(V){if(T.oA(V)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eV.contains(V)){nM.push(V);}};yN.forEach(abS,{});aFN.call(eV,yN);var K;for(K=0;K<nM.length;K++){nM[K].dE('selected');}};var aGf=eV.removeMark;eV.removeMark=function(V){if(eV.contains(V)){aGf.call(eV,V);V.dE('selected');}};var aGg=eV.removeAllMarks;eV.removeAllMarks=function(){var nM=[];function abS(V){if(eV.contains(V)){nM.push(V);}};eV.forEach(abS,{});aGg.call(eV);var K;for(K=0;K<nM.length;K++){nM[K].dE('selected');}};function afE(kt){IPCC.aL.nj(kt,'zIndex',0,bQ.length-1);};this.Re=function(){return bQ.length;};this.alB=function(){var K=0;for(;K<bQ.length;K++){if(bQ[K].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bQ[K].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bQ[K].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bQ[K].be!==undefined)){break;}}return K;};this.zk=function(){return eV;};this.Fp=function(C){if(C===JX){return;}JX=C;this.dE('JX');};this.Oe=function(){return JX;};var rm=false;this.mO=function(){return rm;};this.nU=function(C){if(typeof C!=="boolean"){return;}rm=C;this.dE('redactionDraftMode');};function mJ(bS,h){if(h.get_propertyName()==='selected'){return;}var eZ=new IPCC.Web.UI.MarkEventArgs();eZ.mark=bS;eZ.zIndex=T.oA(bS);eZ.propertyName=h.cg;eZ.length=1;if(eZ.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(eZ.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&eZ.mark.be!=='undefined')){T.anC(bS);}T.bF('markChanged',eZ);};function zn(bS){var eZ=new IPCC.Web.UI.MarkEventArgs();eZ.mark=bS;eZ.zIndex=T.oA(bS);eZ.length=1;T.bF('markTextSelectionChanged',eZ);};function Sl(bS,h){var eZ=new IPCC.Web.UI.CommentEventArgs();eZ.mark=bS;eZ.comment=h.comment;eZ.index=h.index;T.bF('commentAdded',eZ);};function Sj(bS,h){var eZ=new IPCC.Web.UI.CommentEventArgs();eZ.mark=bS;eZ.comment=h.comment;eZ.index=h.index;T.bF('commentRemoved',eZ);};function Qx(bS,h){var eZ=new IPCC.Web.UI.CommentEventArgs();eZ.mark=bS;eZ.comment=h.comment;eZ.index=h.index;T.bF('commentChanged',eZ);};this.Om=function(V,qF){qF=qF||{};var kt=this.oA(V);if(kt>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(V.en()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bQ.push(V);V.ng(this);V.add_propertyChanged(mJ);V.add_markTextSelectionChanged(zn);V.vB(Sl);V.vL(Sj);V.sM(Qx);var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;if(V.get_type()===IPCC.Web.UI.MarkType.Highlight||V.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||V.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be!==undefined)){this.adJ(V,0);}else{h.zIndex=bQ.length-1;}h.clientX=qF.clientX;h.clientY=qF.clientY;h.length=1;T.bF('markAdded',h);};this.Fe=function(iQ,cK){var FT=[].concat(bQ);var K;for(K=0;K<FT.length;K++){iQ.call(cK,FT[K],K,this);}};this.Qv=function(kt){afE(kt);return bQ[kt];};this.oA=function(V){var K;for(K=0;K<bQ.length;K++){if(bQ[K]===V){return K;}}return-1;};this.aCC=function(fz){var eN=JSON.parse(fz);this.Xi();var GT=[];var K;var LA=eN.m;if(LA){for(K=0;K<LA.length;K++){var bE=new IPCC.Web.UI.Mark(LA[K].t);bE.aBb(LA[K]);bE.ng(this);bE.add_propertyChanged(mJ);bE.add_markTextSelectionChanged(zn);GT.push(bE);}}bQ=GT;T.bF('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.awU=function(){var kH=new Array(36);var aA=0;var K;var bJ;for(K=0;K<8;K++){kH[aA++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(K=0;K<3;K++){kH[aA++]=45;for(bJ=0;bJ<4;bJ++){kH[aA++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kH[aA++]=45;var aqa=new Date().getTime();var apz=("0000000"+aqa.toString(16).toUpperCase()).substr(-8);for(K=0;K<8;K++){kH[aA++]=apz.charCodeAt(K);}for(K=0;K<4;K++){kH[aA++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kH);};function Zh(lq){var aD=lq.firstChild;while(aD.nodeType!==1){aD=aD.nextSibling;}return aD;};function Pp(uR,alE,axZ){var aAb=parseFloat(uR.getAttribute(alE));var aAJ=parseFloat(uR.getAttribute(alE+'WA'));return axZ/(aAb/aAJ);};function aAI(MQ,ay,an){if(ay<=0&&an<=0){return 1;}var amJ=MQ.getAttribute('pageWidth');var amb=MQ.getAttribute('pageHeight');var MA,VR,bv,uR,K;if(amJ&&amb){MA=parseFloat(amJ);VR=parseFloat(amb);if(isFinite(MA)&&isFinite(VR)&&MA>0&&VR>0){return ay/MA;}}for(K=0;K<MQ.childNodes.length;K++){uR=MQ.childNodes[K];if(uR.nodeName!=='annotation'){continue;}bv=Pp(uR,'width',ay);if(isFinite(bv)&&bv>0){return bv;}bv=Pp(uR,'height',an);if(isFinite(bv)&&bv>0){return bv;}bv=Pp(uR,'x',ay);if(isFinite(bv)&&bv>0){return bv;}bv=Pp(uR,'y',an);if(isFinite(bv)&&bv>0){return bv;}}return 1;};this.aCI=function(ki,ax,ay,an,aaU,stampImages,yf,va){var T=this;if(yf!==true){this.Xi();}if(ki){var hK;if(IPCC.uZ.Ja()){hK=ki.firstChild;}else{var Sn=ki.firstChild.nodeName;if(Sn.toLowerCase()==='xml'){hK=ki.firstChild.nextSibling;}else{hK=ki.firstChild;}}var db=Zh(hK);if(db.nodeName!=='pages'){throw 'ERROR: pages';}if(db.hasChildNodes()){var K;for(K=0;K<db.childNodes.length;K++){var aR=db.childNodes[K];if(aR.nodeName!=='page'){continue;}var zJ=aR.getAttribute('id');var lD=false;var uy;var pQ='';var Kn=[];var jp;var nD,ar=0;var cU,ds,aX;if(aaU){var aer=aR.getAttribute('pageWidth'),afq=aR.getAttribute('pageHeight');if(aer){aaU.aeF(aer);}if(afq){aaU.ack(afq);}}var mD=[],MR={},aC;if((zJ&&parseInt(zJ,10))===(ax+1)){lD=true;var GT=[];var bJ;var bE;var jk,gW,nI,sj,sl,hw;var mr=1;var ajn=aAI(aR,ay,an);if(ajn>0){mr=ajn;}for(bJ=0;bJ<aR.childNodes.length;bJ++){var ao=aR.childNodes[bJ];if(ao.nodeName!=='annotation'){continue;}var iz=parseFloat(ao.getAttribute('width'))*mr;var iy=parseFloat(ao.getAttribute('height'))*mr;var gR=parseFloat(ao.getAttribute('x'))*mr;var hu=parseFloat(ao.getAttribute('y'))*mr;var aaV=ao.getAttribute('fillColor'),Uz,qc,aaG=ao.getAttribute('lineColor'),akp,iG,adB=ao.getAttribute('fontColor'),akM,Ck;if(aaV==='transparent'){Uz=qc=aaV;}else{Uz=parseInt(aaV||0,10);qc=parseInt(Uz,10).toString(16);while(qc.length<6){qc='0'+qc;}qc='#'+qc;}if(aaG==='transparent'){iG=aaG;}else{akp=parseInt(aaG||0,10);iG=parseInt(akp,10).toString(16);while(iG.length<6){iG='0'+iG;}iG='#'+iG;}if(adB){akM=parseInt(adB||0,10);Ck=parseInt(akM,10).toString(16);while(Ck.length<6){Ck='0'+Ck;}Ck='#'+Ck;}var avt=ao.getAttribute('stampSize');var PR=ao.getAttribute('dragDirection');var Hn=parseInt(ao.getAttribute('opacity'),10);if(isNaN(Hn)){Hn=255;}if(ao.nodeName==='annotation'){var akA=ao.getAttribute('label');if(!akA){akA='';}var jL=ao.getAttribute('drawType');var kP;switch(jL){case 'imagestamp':case 'imagestamp_redact':var nK=ao.getAttribute('imageStampId');var bi=(jL==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bE=new IPCC.Web.UI.Mark(bi);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_image(stampImages[nK].base64format);bE.nK=nK;jk=true;if(jL==='imagestamp_redact'){bE.kp(true);}break;case 'circle':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});jk=true;bE.set_lineColor(iG);bE.set_fillVisible(false);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});jk=true;bE.set_fillColor(qc);bE.set_lineColor(iG);bE.set_fillVisible(true);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fontName('verdana');bE.set_fontSize(10);bE.set_opacity(0);uy=undefined;bE.set_fillColor('#000000');if(jL==='text_redact'){bE.kp(true);}if(jL==='text'){bE.set_fillColor(qc);bE.set_lineColor(iG);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));bE.set_fillVisible(true);bE.set_opacity(Hn);}hw=parseInt(ao.getAttribute('maxLength'));if(!isNaN(hw)){bE.set_maxLength(hw);}mD=[];gW=ao.firstChild;while((gW)&&(gW.nodeType!==4)){gW=gW.nextSibling;}if((gW)&&(gW.nodeType===4)){kP=gW.innerText||gW.textContent||gW.data;bE.bj.aq=kP;nD=kP.split("</TEXTFORMAT>");pQ='';Kn=[];for(ar=0;ar<nD.length;ar++){if(nD[ar].match(/<TEXTFORMAT/)){nD[ar]=nD[ar]+"</TEXTFORMAT>";mD.push(nD[ar]);}}for(ar=0;ar<mD.length;ar++){if(mD[ar].match(/<P/)){uy=this.aeU(mD[ar]);Kn.push(uy);pQ+=uy+" ";if(ar===0){jp=this.aes(mD[ar]);afJ(jp,bE);}}pQ=pQ.replace(/\s+$/g,"");bE.set_text(pQ);var Jx=this.aeg(mD[ar]);switch(Jx){case 'CENTER':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bL=bE.qO();if(PR==='br'){bL.setPoint(1,new IPCC.Web.UI.Point(gR+iz,hu+iy));bL.setPoint(0,new IPCC.Web.UI.Point(gR,hu));}else if(PR==='bl'){bL.setPoint(1,new IPCC.Web.UI.Point(gR,hu+iy));bL.setPoint(0,new IPCC.Web.UI.Point(gR+iz,hu));}else if(PR==='tr'){bL.setPoint(1,new IPCC.Web.UI.Point(gR+iz,hu));bL.setPoint(0,new IPCC.Web.UI.Point(gR,hu+iy));}else if(PR==='tl'){bL.setPoint(1,new IPCC.Web.UI.Point(gR,hu));bL.setPoint(0,new IPCC.Web.UI.Point(gR+iz,hu+iy));}bE.set_lineColor(iG);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));if(jL==='arrow'){bE.set_headFillColor(iG);bE.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bE.set_startHeadAngle(30);bE.set_startHeadLength(35);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fillColor(iG);if(jL==='stamp_redact'){bE.kp(true);bE.set_fillColor('#000000');}gW=ao.firstChild;while((gW)&&(gW.nodeType!==4)){gW=gW.nextSibling;}if((gW)&&(gW.nodeType===4)){kP=gW.innerText||gW.textContent||gW.data;bE.bj.aq=kP;bE.set_text(kP);}break;case 'highlightText':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fillColor(iG);bE.be=ao.getAttribute('highlightGroupID');if(ao.getAttribute('textLength')){bE.cU=parseInt(ao.getAttribute('textLength'),10);}bE.ds=ao.getAttribute('selectedText');if(ao.getAttribute('startIndex')){bE.aX=parseInt(ao.getAttribute('startIndex'),10);}bE.kW=ao.getAttribute('isHighlight');bE.set_opacity(127);aC=St(ao,mr);if(aC){bE.aC=aC;}break;case 'rectangle_filled_redact':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fillColor(qc||'#000000');bE.set_lineColor(iG);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));bE.set_textColor(Ck||'#ffffff');bE.set_fillVisible(true);bE.kp(true);nI=ao.getAttribute('highlightGroupID');bE.set_text(IPCC.G.yD(ao.getAttribute('meta')));if(nI){bE.set_lineWidth(0);bE.be=nI;var dv=MR[nI];if(!dv){dv=MR[nI]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dv.be=nI;dv.set_rectangle(bE.get_rectangle());dv.kp(true);dv.set_text(IPCC.G.yD(ao.getAttribute('meta')));}else{var JN=false;var pR=dv.get_rectangle();var fR=pR.x,im=pR.x+pR.width,_top=pR.y,kf=pR.y+pR.height;if(pR.x>gR){JN=true;fR=gR;}if(pR.y>hu){JN=true;_top=hu;}if(pR.x+pR.width<gR+iz){JN=true;im=gR+iz;}if(pR.y+pR.height<hu+iy){JN=true;kf=hu+iy;}if(JN===true){dv.set_rectangle({x:fR,y:_top,width:im-fR,height:kf-_top});}}}break;case 'text_selection_redaction':nI=ao.getAttribute('highlightGroupID');bE=MR[nI];if(!bE){bE=MR[nI]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bE.be=nI;bE.set_rectangle({x:0,y:0,width:0,height:0});bE.kp(true);bE.set_text(ao.getAttribute('meta'));}cU=ao.getAttribute('textLength');if(cU){bE.cU=parseInt(cU,10);}ds=ao.getAttribute('selectedText');if(ds){bE.ds=ds;}aX=ao.getAttribute('startIndex');if(aX){bE.aX=parseInt(aX,10);}break;case 'text_hyperlink_annotation':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);bE.set_fillColor(iG);nI=ao.getAttribute('highlightGroupID');bE.be=nI;var nf=ao.getAttribute('href');if(nf){bE.set_href(IPCC.G.yD(nf));}cU=ao.getAttribute('textLength');if(cU){bE.cU=parseInt(cU,10);}ds=ao.getAttribute('selectedText');if(ds){bE.ds=ds;}aX=ao.getAttribute('startIndex');if(aX){bE.aX=parseInt(aX,10);}var kW=ao.getAttribute('isHighlight');bE.kW=kW?kW:'n';bE.aC=St(ao,mr);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});break;case 'rectangle':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_lineVisible(true);bE.set_lineColor(iG);bE.set_fillVisible(false);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));break;case 'rectangle_filled':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fillColor(qc);bE.set_lineColor(iG);bE.set_fillVisible(true);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fillColor(qc);bE.set_lineColor(iG);bE.set_fillVisible(true);if(jL==='rectangle_trans_redact'){bE.kp(true);}bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(jL==='freehand'){bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(ao.getAttribute('align').toUpperCase()){case 'LEFT':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_pathWidth(parseFloat(ao.getAttribute('pathWidth')));bE.set_pathHeight(parseFloat(ao.getAttribute('pathHeight')));bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));bE.set_lineColor(iG);var ts=ao.firstChild;while((ts)&&(ts.nodeType!==4)){ts=ts.nextSibling;}if((ts)&&(ts.nodeType===4)){kP=ts.innerText||ts.textContent||ts.data;bE.bj.aq=kP;bE.set_pathString(kP);}break;case 'signature_text':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fontSize(10);bE.set_lineWidth=0;bE.set_fillVisible(true);bE.set_opacity(1);gW=ao.firstChild;this.Vu(gW,bE);bE.za=parseFloat(ao.getAttribute('fontWidth'));bE.BE=parseFloat(ao.getAttribute('fontHeight'));break;case 'text_area_signature':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_fontName('verdana');uy=undefined;hw=parseInt(ao.getAttribute('maxLength'));if(!isNaN(hw)){bE.set_maxLength(hw);}var iL=parseInt(ao.getAttribute('maxFontSize'));if(!isNaN(iL)){bE.set_maxFontSize(iL);}gW=ao.firstChild;this.Vu(gW,bE);break;case 'text_input_signature':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});gW=ao.firstChild;this.Vu(gW,bE);bE.za=parseFloat(ao.getAttribute('fontWidth'));bE.BE=parseFloat(ao.getAttribute('fontHeight'));bE.set_lineVisible(false);hw=parseInt(ao.getAttribute('maxLength'));if(!isNaN(hw)){bE.set_maxLength(hw);}ays(ao,bE);break;case 'polyline':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));bE.set_lineColor(iG);var vF=ao.firstChild;while((vF)&&(vF.nodeType!==4)){vF=vF.nextSibling;}var HD;if((vF)&&(vF.nodeType===4)){kP=vF.innerText||vF.textContent||vF.data;if(kP&&kP!=='undefined'){HD=JSON.parse(kP);bL=bE.qO();if(HD){for(K=0;K<HD.length;K++){bL.addPoint(new IPCC.Web.UI.Point(HD[K].x*mr,HD[K].y*mr));}}}}break;case 'strikethrough':bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);bE.set_rectangle({x:gR,y:hu,width:iz,height:iy});bE.set_lineWidth(parseFloat(ao.getAttribute('lineWidth')));bE.set_lineColor(iG);bE.be=ao.getAttribute('highlightGroupID');var textLength=ao.getAttribute('textLength');if(textLength){bE.cU=parseInt(textLength,10);}bE.ds=ao.getAttribute('selectedText');var startIndex=ao.getAttribute('startIndex');if(startIndex){bE.aX=parseInt(startIndex,10);}bE.kW=ao.getAttribute('isHighlight');aC=St(ao,mr);if(aC){bE.aC=aC;}break;default:}if(bE){bE.bj.kx=ao.getAttribute('nodeId');if(Hn>=0&&(jL==='rectangle_trans_redact'|| !bE.iE())&&jL!=='stamp'&&jL!=='imagestamp'&&jL!=='imagestamp_redact'&&jL!=='text_hyperlink_annotation'&&jL!=='text_input_signature'&&jL!=='text_area_signature'&&jL!=='strikethrough'){bE.set_opacity(Hn);}bE.bj.CC=avt;bE.bj.aIs=jL;bE.bj.fF=ao.getAttribute('lineWidth');bE.bj.eI=ao.getAttribute('fillColor');bE.bj.kR=ao.getAttribute('lineColor');bE.bj.aGK=ao.getAttribute('dragDirection');bE.bj.zJ=zJ;bE.bj.aD=ao.getAttribute('x');bE.bj.cF=ao.getAttribute('y');bE.bj.cq=ao.getAttribute('height');bE.bj.bz=ao.getAttribute('width');bE.bj.aGy=ao.getAttribute('x_percent');bE.bj.aFI=ao.getAttribute('y_percent');bE.bj.aHw=ao.getAttribute('height_percent');bE.bj.aET=ao.getAttribute('width_percent');bE.bj.aHP=ao.getAttribute('formUser');bE.bj.aGZ=ao.getAttribute('created');bE.bj.aFs=ao.getAttribute('modified');bE.bj.aHB=ao.getAttribute('saveDate');bE.bj.aHj=ao.getAttribute('saveTime');bE.bj.kh=ao.getAttribute('meta');var AK=ao.firstChild;while((AK)&&(AK.nodeType!==4)){AK=AK.nextSibling;}if((AK)&&(AK.nodeType===4)){bE.cj.push(AK.data);}else{bE.cj.push('');}var lM=parseInt(ao.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;bE.set_interactionMode(lM);bE.ng(this);bE.add_propertyChanged(mJ);bE.add_markTextSelectionChanged(zn);bE.vB(Sl);bE.vL(Sj);bE.sM(Qx);GT.push(bE);ayf(ao,bE);sj=IPCC.G.aau(ao.getAttribute('created'));sl=IPCC.G.aau(ao.getAttribute('modified'));sj=sj||new Date();sl=sl||new Date();bE.initializeDates(sj,sl);if(va){bE.set_visible(false);}}}}bQ=bQ.concat(GT);T.bF('marksLoaded',{});}if(lD){atB(ki,ax);break;}}}}};this.Vu=function(uN,bE){var K,kP,nD,pQ,Kn,uy,mD=[],AU=bE.get_type()===IPCC.Web.UI.MarkType.SignatureText,axq=AU?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,jp;while((uN)&&(uN.nodeType!==4)){uN=uN.nextSibling;}if((uN)&&(uN.nodeType===4)){kP=uN.innerText||uN.textContent||uN.data;bE.bj.aq=kP;nD=kP.split("</TEXTFORMAT>");for(K=0;K<nD.length;K++){if(nD[K].match(/<TEXTFORMAT/)){nD[K]=nD[K]+"</TEXTFORMAT>";mD.push(nD[K]);}}pQ='';Kn=[];for(K=0;K<mD.length;K++){if(mD[K].match(/<P/)){uy=this.aeU(mD[K]);Kn.push(uy);pQ+=uy+" ";if(K===0){jp=this.aes(mD[K]);afJ(jp,bE);}}pQ=pQ.replace(/\s+$/g,"");bE.set_text(pQ);var Jx=this.aeg(mD[K]);switch(Jx){case 'LEFT':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bE.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bE.set_textHorizontalAlignment(axq);break;}}}};function ZI(age,cd){for(var i=0;i<age.childNodes.length;i++){var Zx=age.childNodes[i];if(Zx.nodeName==='kvp'){var ac=Zx.getAttribute("key");var C=Zx.getAttribute("value");cd.set_data(ac,C);}}};function ayl(QW,cG){var cA=new IPCC.Web.UI.Comment(IPCC.G.yD(QW.getAttribute("text")));cA.set_creationTime(QW.getAttribute("created"));cG.addComment(cA);for(var i=0;i<QW.childNodes.length;i++){var aij=QW.childNodes[i];if(aij.nodeName==='data'){ZI(aij,cA.get_data());}}};function ayP(akS,cG){for(var i=0;i<akS.childNodes.length;i++){var Rm=akS.childNodes[i];if(Rm.nodeName==='comments'){var fX=Rm;for(var j=0;j<fX.childNodes.length;j++){var ajC=fX.childNodes[j];if(ajC.nodeName==='comment'){ayl(ajC,cG);}}}else if(Rm.nodeName==='data'){ZI(Rm,cG.get_data());}}};function ayf(Ik,V){for(var i=0;i<Ik.childNodes.length;i++){var vd=Ik.childNodes[i];if(vd.nodeName==='conversation'){ayP(vd,V.get_conversation());}else if(vd.nodeName==='data'){ZI(vd,V.get_data());}}};function ays(Ik,V){var C=null,IH={};for(var i=0;i<Ik.childNodes.length;i++){var vd=Ik.childNodes[i];if(vd.nodeName==='inputMask'){C=IPCC.G.yD(vd.getAttribute('value'));for(var j=0;j<vd.childNodes.length;j++){var Yu=vd.childNodes[j];if(Yu.nodeName==='translation'){IH[IPCC.G.yD(Yu.getAttribute('key'))]=new RegExp(IPCC.G.yD(Yu.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(C!==null){V.set_mask({value:C,translations:IH});}};function St(tM,vI){var fY=null,ib;for(var i=0;i<tM.childNodes.length;i++){ib=tM.childNodes[i];if(ib.nodeName==='line-rectangles'){if(!fY){fY=avw(ib,vI);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return fY;};function avw(tM,vI){var fY=[],ib;for(var i=0;i<tM.childNodes.length;i++){ib=tM.childNodes[i];if(ib.nodeName==='rectangle'){fY.push(ayW(ib,vI));}}return fY;};function ayW(tM,vI){var aD=parseFloat(tM.getAttribute("x"))*vI;var cF=parseFloat(tM.getAttribute("y"))*vI;var bz=parseFloat(tM.getAttribute("width"))*vI;var cq=parseFloat(tM.getAttribute("height"))*vI;return new IPCC.Web.UI.Rectangle(aD,cF,bz,cq);};this.YI=function(au,Hd,vv,jd,de,aA){var bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bE.set_rectangle({x:au.x,y:au.y,width:au.width,height:au.height});bE.set_fillColor(vv);bE.set_fillVisible(true);bE.aX=aA;bE.cU=1;if(de){bE.set_opacity(de);}else{bE.set_opacity(127);}T.addMark(bE);return bE;};this.avZ=function(au,TI,aA){var bE=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bE.set_rectangle({x:au.x,y:au.y,width:au.width,height:au.height});bE.set_fillColor(TI.get_fillColor());bE.set_fillVisible(true);bE.aX=aA;bE.cU=1;if(TI.get_opacity()){bE.set_opacity(TI.get_opacity());}else{bE.set_opacity(127);}T.addMark(bE);return bE;};function afJ(jp,bE){for(var dp=0;dp<jp.length;dp++){var dP=jp[dp].attribs;var lD=false;if(jp[dp].attribs.length>1&& !lD&&jp[dp].GB==='font'){lD=true;for(var bJ=0;bJ<dP.length;bJ++){if(dP[bJ].bu==="FACE"){bE.set_fontName(dP[bJ].C);}else if(dP[bJ].bu==="SIZE"&&bE.get_type()!==IPCC.Web.UI.MarkType.TextLine&&bE.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var sG=parseFloat(dP[bJ].C);bE.set_fontSize(sG);}else if(dP[bJ].bu==="COLOR"){var akT=dP[bJ].C;if(bE.get_type()===IPCC.Web.UI.MarkType.SignatureText){bE.set_fillColor(akT);}else{bE.set_textColor(akT);}}}var lz=false;if(jp[dp+1]&&bE.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(jp[dp+1].tagName==='font'){break;}else{var vR=jp[dp+1].GB;if(vR==='b'||vR==='i'||vR==='u'||vR==='s'){if(vR==='b'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(vR==='i'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(vR==='u'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(vR==='s'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}lz=true;}}if(jp[dp+2]){var aqi=jp[dp+2].GB;lz=We(bE,lz,aqi);}if(jp[dp+3]){var atj=jp[dp+3].GB;lz=We(bE,lz,atj);}if(jp[dp+4]){var asg=jp[dp+4].GB;lz=We(bE,lz,asg);}if(lD){break;}}}}};function We(V,akZ,xr){var lz=akZ;var bE=V;if(akZ){if(xr==='b'){bE.set_fontStyle(bE.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);lz=true;}else if(xr==='i'){bE.set_fontStyle(bE.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);lz=true;}else if(xr==='u'){bE.set_fontStyle(bE.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);lz=true;}else if(xr==='s'){bE.set_fontStyle(bE.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);lz=true;}}else{if(xr==='b'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);lz=true;}else if(xr==='i'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);lz=true;}else if(xr==='u'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);lz=true;}else if(xr==='s'){bE.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);lz=true;}}return lz;};function BL(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aeQ=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aaP=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,avy=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aye=BL("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var oX=BL("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aEN=BL("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var awc=BL("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var arx=BL("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aqD=BL("script,style");this.alo=function(html,handler){var aA,yn,wk,nc=[],kd=html;function parseEndTag(tag,tagName){var hn;if(!tagName){hn=0;}else{for(hn=nc.length-1;hn>=0;hn--){if(nc[hn]===tagName){break;}}}if(hn>=0){for(var i=nc.length-1;i>=hn;i--){if(handler.end){handler.end(nc[i]);}}nc.length=hn;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(oX[tagName]){while(nc.last()&&aEN[nc.last()]){parseEndTag("",nc.last());}}if(awc[tagName]&&nc.last()===tagName){parseEndTag("",tagName);}unary=aye[tagName]|| ! !unary;if(!unary){nc.push(tagName);}if(handler.start){var attrs=[];rest.replace(avy,function(wk,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:arx[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};nc.last=function(){return this[this.length-1];};function aGp(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){yn=true;if(!nc.last()|| !aqD[nc.last()]){if(html.indexOf("<!--")===0){aA=html.indexOf("-->");if(aA>=0){if(handler.comment){handler.comment(html.substring(4,aA));}html=html.substring(aA+3);yn=false;}}else if(html.indexOf("</")===0){wk=html.match(aaP);if(wk){html=html.substring(wk[0].length);wk[0].replace(aaP,parseEndTag);yn=false;}}else if(html.indexOf("<")===0){wk=html.match(aeQ);if(wk){html=html.substring(wk[0].length);wk[0].replace(aeQ,parseStartTag);yn=false;}}if(yn){aA=html.indexOf("<");var text=aA<0?html:html.substring(0,aA);text=IPCC.G.yD(text);html=aA<0?"":html.substring(aA);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+nc.last()+"[^>]*>"),aGp);parseEndTag("",nc.last());}if(html===kd){throw " Parse Error in annotation Html Text: "+html;}kd=html;}parseEndTag();};this.aeU=function(html){var results="";this.alo(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aes=function(html){var fm=[];this.alo(html,{start:function(tag,attrs){var eW;eW=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var vX={};vX.GB=tag;vX.attribs=[];if(tag==='b'){vX.aHd=true;}else if(tag==='i'){vX.aHp=true;}else if(tag==='u'){vX.aIA=true;}else if(tag==='s'){vX.aGU=true;}else{for(var i=0;i<attrs.length;i++){var Cx={};Cx.bu=attrs[i].name;Cx.C=attrs[i].value;vX.attribs.push(Cx);}}fm.push(vX);}},end:function(){},chars:function(){},comment:function(){}});return fm;};this.aeg=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function atB(ki,azH){var mH=ki.getElementsByTagName("highlights")[0];if(mH.hasChildNodes()){var jQ;var ct;for(var K=0;K<mH.childNodes.length;K++){jQ=mH.childNodes[K];if(jQ.nodeType===1){ct=jQ.getAttribute('page');if(ct&&parseInt(ct,10)===azH+1){var jC=new IPCC.Web.UI.XT();jC.atS=jQ.nodeName;switch(jC.atS){case 'tag':jC.ER=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jC.ER=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jC.ER=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jC.ER=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':jC.ER=IPCC.Web.UI.HighLightType.Strikethrough;break;default:jC.ER=undefined;}if(jQ.childNodes[0].data){jC.cj.push(jQ.childNodes[0].data);}jC.bj.cI=jQ.getAttribute('id');jC.bj.aId=jQ.getAttribute('userid');jC.bj.aFx=jQ.getAttribute('mode');jC.bj.dz=jQ.getAttribute('color');jC.bj.aFm=jQ.getAttribute('occurence');jC.bj.ao=jQ.getAttribute('annotation');jC.bj.aR=jQ.getAttribute('page');jC.bj.aHs=jQ.getAttribute('documentname');jC.bj.aHR=jQ.getAttribute('tooltip');jC.bj.aEQ=jQ.getAttribute('allowdelete');jC.bj.iP=jQ.getAttribute('start');jC.bj.aES=jQ.getAttribute('end');T.atw.push(jC);}}}}};this.Xi=function(){var h;if(bQ.length<1){return;}eV.removeAllMarks();var K;for(K=bQ.length-1;K>=0;K--){bQ[K].remove_propertyChanged(mJ);bQ[K].remove_markTextSelectionChanged(zn);bQ[K].ng(null);h=new IPCC.Web.UI.MarkEventArgs();h.length=bQ.length;h.zIndex=0;h.mark=bQ.pop();T.bF('markRemoved',h);}h=new IPCC.Web.UI.MarkEventArgs();h.length=bQ.length;h.zIndex=0;T.bF('markRemoved',h);};this.tm=function(V){var kt=this.oA(V);var uQ=V.be;if(kt>=0){V.remove_propertyChanged(mJ);V.remove_markTextSelectionChanged(zn);V.ng(null);bQ.splice(kt,1);eV.removeMark(V);var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;h.zIndex=kt;h.length=1;T.bF('markRemoved',h);if(uQ){this.ayA(uQ);}}};this.aHD=function(pH){var tL=bQ.length;var uQ=pH.be;while(tL--){var V=bQ[tL];if(V.be===uQ){V.set_fillColor(pH.get_fillColor());}}};this.anC=function(pH){var tL=bQ.length;var uQ=pH.be;if(!uQ){pH.set_text(pH.get_text());return;}while(tL--){var V=bQ[tL];if(V.be===uQ){if(V.get_text()!==pH.get_text()){V.set_text(pH.get_text());}if(V.get_fontName()!==pH.get_fontName()){V.set_fontName(pH.get_fontName());}if(V.get_fontSize()!==pH.get_fontSize()){V.set_fontSize(pH.get_fontSize());}}}};this.ayA=function(uQ){var tL=bQ.length;while(tL--){var V=bQ[tL];if(V.be===uQ){var kt=this.oA(V);eV.removeMark(V);bQ.splice(tL,1);var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;h.zIndex=kt;h.length=1;}}};this.adJ=function(V,kt){var OH=this.oA(V);if(OH<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(OH===kt){return;}afE(kt);bQ.splice(OH,1);bQ.splice(kt,0,V);if(V.get_type()===IPCC.Web.UI.MarkType.Highlight||V.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||V.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.be!==undefined)){return;}var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;h.zIndex=kt;h.oldZIndex=OH;h.length=1;T.bF('markReordered',h);};function ZO(fY,ec,fa){if(!fY){return undefined;}var iJ={gD:'line-rectangles',cj:[],bj:{}};IPCC.G.forEach(fY,function(R){iJ.cj.push({gD:'rectangle',cj:[],bj:{x:R.x,y:R.y,height:R.height,width:R.width}});});return iJ;};function arI(io){if(!io){return undefined;}var iJ={gD:'inputMask',cj:[],bj:{value:IPCC.G.oi(io.value)}};IPCC.G.forEach(io.translations,function(C,ac){iJ.cj.push({gD:'translation',cj:[],bj:{key:IPCC.G.oi(ac),value:IPCC.G.oi(C.toString())}});});return iJ;};function Ve(cd){if(!cd){return undefined;}var lL=cd.get_dataKeys();if(lL.length===0){return undefined;}var iJ={gD:'data',cj:[],bj:{}};IPCC.G.forEach(lL,function(ac){var C=cd.get_data(ac);iJ.cj.push({gD:'kvp',cj:[],bj:{key:ac,value:C}});});return iJ;};function azQ(cA){if(!cA){return undefined;}var Cz={gD:'comment',cj:[],bj:{}};Cz.bj.text=IPCC.G.oi(cA.get_text());Cz.bj.created=cA.get_creationTime();var iJ=Ve(cA.get_data());if(iJ){Cz.cj.push(iJ);}return Cz;};function azp(cG){if(!cG||cG.get_length()===0){return undefined;}var Tk={gD:'conversation',cj:[],bj:{}};var adz={gD:'comments',cj:[],bj:{}};Tk.cj.push(adz);cG.forEach(function(cA){var Cz=azQ(cA);if(Cz){adz.cj.push(Cz);}});var iJ=Ve(cG.get_data());if(iJ){Tk.cj.push(iJ);}return Tk;};this.awR=function(V,ec,fa,ue){var bi=V.get_type();var kN=false;var iM;var hc;var afr;var WZ;var gs,st,rR,aq;var bO={gD:'annotation',cj:[],bj:{}};if(!V.bj.kx){bO.bj.nodeId=T.awU();}else{bO.bj.nodeId=V.bj.kx;}var Fk,CA="",oj="";if(V.get_lineColor()){var aav=V.get_lineColor();if(aav==='transparent'){bO.bj.lineColor=aav;}else{Fk=aav.replace(/#/,"");CA=parseInt(Fk,16);oj=CA.toString();bO.bj.lineColor=oj;}}bO.bj.interactionMode=V.get_interactionMode();bO.bj.stampSize='122';var PA={};PA[IPCC.Web.UI.MarkType.Stamp]=true;PA[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;PA[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bi===IPCC.Web.UI.MarkType.Rectangle&&V.get_opacity()<255|| !V.iE())&&PA[bi]!==true){bO.bj.opacity=V.get_opacity();}if(V.get_conversation().get_length()>0){bO.cj.push(azp(V.get_conversation()));}var iJ=Ve(V.get_data());if(iJ){bO.cj.push(iJ);}kN=false;switch(bi){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:hc=V.get_fillColor();if(hc==='transparent'){bO.bj.fillColor=hc;}else if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}if(V.get_fillVisible()){if(V.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(V.get_opacity()===255){if(V.iE()===true){bO.bj.drawType='rectangle_filled_redact';if(V.be){bO.bj.highlightGroupID=V.be;}}else{bO.bj.drawType='rectangle_filled';}}else{if(V.iE()===true){bO.bj.drawType='rectangle_trans_redact';}else{bO.bj.drawType='rectangle_trans';}}}else{if(V.get_opacity()===255){bO.bj.drawType='circle_filled';if(V.iE()){bO.bj.drawType='circle_filled_redact';}}else{bO.bj.drawType='circle_trans';if(V.iE()){bO.bj.drawType='circle_trans_redact';}}}}else{if(V.get_type()===IPCC.Web.UI.MarkType.Rectangle){bO.bj.drawType='rectangle';bO.bj.fillColor=oj;}else{bO.bj.drawType='circle';bO.bj.fillColor=oj;}}bO.bj.dragDirection='br';var R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bO.bj.lineWidth=V.get_lineWidth();kN=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bO.bj.highlightGroupID=V.be;bO.bj.drawType='text_selection_redaction';if(V.ds&&V.ds.length>0){bO.bj.startIndex=V.aX;bO.bj.selectedText=V.ds;bO.bj.textLength=V.cU;}break;case IPCC.Web.UI.MarkType.Text:var jR=V.get_rectangle();bO.bj.x=jR.x;bO.bj.y=jR.y;bO.bj.x_percent=jR.x/ec;bO.bj.y_percent=jR.y/fa;bO.bj.height_percent=jR.height/fa;bO.bj.width_percent=jR.width/ec;bO.bj.height=jR.height;bO.bj.width=jR.width;bO.bj.maxLength=V.get_maxLength();hc=V.get_fillColor();if(V.iE()===true){bO.bj.drawType='text_redact';}else{bO.bj.drawType='text';bO.bj.opacity=V.get_opacity();}if(hc==='transparent'){bO.bj.fillColor=hc;}else if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();}else{bO.bj.fillColor='16776960';}var aT='';aT="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aT+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aT+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aT+="<P ALIGN=\"right\" ";break;}aT+=">";aT+="<FONT ";st=V.get_fontName();aT+="FACE="+"\""+st+"\" ";rR=V.get_fontSize().toString();aT+="SIZE= \""+rR+"\" ";gs="\""+V.get_textColor()+"\" ";aT+="COLOR="+gs+" ";aT+="LETTERSPACING=\"0\" ";aT+="KERNING=\"0\" ";aT+=">";var dm=V.get_fontStyle();if(dm&IPCC.Web.UI.FontStyle.Bold){aT+="<B>";}if(dm&IPCC.Web.UI.FontStyle.Italic){aT+="<I>";}if(dm&IPCC.Web.UI.FontStyle.Underline){aT+="<U>";}if(dm&IPCC.Web.UI.FontStyle.Strikeout){aT+="<S>";}aq=V.get_text();aq=IPCC.G.oi(aq);aT+=aq;if(dm&IPCC.Web.UI.FontStyle.Strikeout){aT+="</S>";}if(dm&IPCC.Web.UI.FontStyle.Underline){aT+="</U>";}if(dm&IPCC.Web.UI.FontStyle.Italic){aT+="</I>";}if(dm&IPCC.Web.UI.FontStyle.Bold){aT+="</B>";}aT+="</FONT>";aT+="</P>";aT+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.drawType='highlight';bO.bj.highlightGroupID=V.be;bO.bj.isHighlight=V.kW;hc=V.get_fillColor();if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();bO.bj.lineColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.drawType='text_hyperlink_annotation';bO.bj.href=IPCC.G.oi(V.nf);bO.bj.startIndex=V.aX;bO.bj.selectedText=V.ds;bO.bj.textLength=V.cU;bO.bj.highlightGroupID=V.be;bO.bj.isHighlight=V.kW;hc=V.get_fillColor();if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();bO.bj.lineColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}bO.cj.push(ZO(V.aC,ec,fa));break;case IPCC.Web.UI.MarkType.HighlightText:R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.drawType='highlightText';bO.bj.startIndex=V.aX;bO.bj.selectedText=V.ds;bO.bj.textLength=V.cU;bO.bj.highlightGroupID=V.be;bO.bj.isHighlight=V.kW;hc=V.get_fillColor();if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();bO.bj.lineColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}bO.cj.push(ZO(V.aC,ec,fa));break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=V.get_rectangle();bO.bj.drawType='rectangle_filled_redact';bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.meta=IPCC.G.oi(V.get_text());bO.bj.stampSize=V.get_fontSize();bO.bj.lineWidth=V.get_lineWidth();hc=V.get_fillColor();if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}Fk=V.get_lineColor();if(Fk){CA=Fk.replace(/#/,"");bO.bj.lineColor=parseInt(CA,16).toString();}else{bO.bj.lineColor=oj;}WZ=V.get_textColor();if(WZ){afr=WZ.replace(/#/,"");bO.bj.fontColor=parseInt(afr,16).toString();}else{bO.bj.fontColor=oj;}if(V.be){bO.bj.highlightGroupID=V.be;}break;case IPCC.Web.UI.MarkType.Stamp:hc=V.get_fillColor();if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor=parseInt(iM,16).toString();bO.bj.lineColor=parseInt(iM,16).toString();}else{bO.bj.fillColor=oj;}R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;if(V.iE()===true){bO.bj.drawType='stamp_redact';}else{bO.bj.drawType='stamp';}aq=V.get_text();bO.bj.stampSize=V.stampSize;bO.cj.push('<![CDATA['+aq+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(V.get_type()===IPCC.Web.UI.MarkType.Freehand){bO.bj.drawType='freehand';}else{bO.bj.drawType='signature_path';switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bO.bj.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bO.bj.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bO.bj.align='right';break;}}aT=V.get_pathString();bO.bj.pathWidth=V.get_pathWidth();bO.bj.pathHeight=V.get_pathHeight();R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;break;case IPCC.Web.UI.MarkType.SignatureText:hc=V.get_fillColor();var eI;if(hc){iM=hc.replace(/#/,"");bO.bj.fillColor="";bO.bj.lineColor="";eI=parseInt(iM,16).toString();}else{bO.bj.fillColor="";eI=oj;}R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.opacity=0;bO.bj.drawType='signature_text';bO.bj.stampSize=V.stampSize;bO.bj.fontWidth=V.za;bO.bj.fontHeight=V.BE;aT='';aT="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aT+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aT+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aT+="<P ALIGN=\"right\" ";break;}aT+=">";aT+="<FONT ";st=V.get_fontName();aT+="FACE="+"\""+st+"\" ";rR=V.stampSize.toString();aT+="SIZE= \""+rR+"\" ";gs="\""+V.get_fillColor()+"\" ";aT+="COLOR="+gs+" ";aT+="LETTERSPACING=\"0\" ";aT+="KERNING=\"0\" ";aT+=">";aq=IPCC.G.oi(V.get_text());aT+=aq;aT+="</FONT>";aT+="</P>";aT+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:jR=V.get_rectangle();bO.bj.x=jR.x;bO.bj.y=jR.y;bO.bj.x_percent=jR.x/ec;bO.bj.y_percent=jR.y/fa;bO.bj.height_percent=jR.height/fa;bO.bj.width_percent=jR.width/ec;bO.bj.height=jR.height;bO.bj.width=jR.width;bO.bj.maxLength=V.hw;bO.bj.maxFontSize=V.iL;if(ue){bO.bj.drawType='text';}else{bO.bj.drawType='text_area_signature';}bO.bj.fillColor='transparent';aT='';aT="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aT+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aT+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aT+="<P ALIGN=\"right\" ";break;}aT+=">";aT+="<FONT ";st=V.get_fontName();aT+="FACE="+"\""+st+"\" ";rR=V.dg.toString();aT+="SIZE= \""+rR+"\" ";gs="\""+V.get_textColor()+"\" ";aT+="COLOR="+gs+" ";aT+="LETTERSPACING=\"0\" ";aT+="KERNING=\"0\" ";aT+=">";dm=V.get_fontStyle();if(dm&IPCC.Web.UI.FontStyle.Bold){aT+="<B>";}if(dm&IPCC.Web.UI.FontStyle.Italic){aT+="<I>";}if(dm&IPCC.Web.UI.FontStyle.Underline){aT+="<U>";}if(dm&IPCC.Web.UI.FontStyle.Strikeout){aT+="<S>";}aq=V.get_text();aq=IPCC.G.oi(aq);aT+=aq;if(dm&IPCC.Web.UI.FontStyle.Strikeout){aT+="</S>";}if(dm&IPCC.Web.UI.FontStyle.Underline){aT+="</U>";}if(dm&IPCC.Web.UI.FontStyle.Italic){aT+="</I>";}if(dm&IPCC.Web.UI.FontStyle.Bold){aT+="</B>";}aT+="</FONT>";aT+="</P>";aT+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!ue){R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.maxLength=V.get_maxLength();bO.bj.width_percent=R.width/ec;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.opacity=0;bO.bj.drawType='text_input_signature';bO.bj.stampSize=V.stampSize;bO.bj.fontWidth=V.za;bO.bj.fontHeight=V.BE;aT='';aT="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aT+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aT+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aT+="<P ALIGN=\"right\" ";break;}aT+=">";aT+="<FONT ";st=V.get_fontName();aT+="FACE="+"\""+st+"\" ";rR=V.stampSize.toString();aT+="SIZE= \""+rR+"\" ";gs="\""+V.get_textColor()+"\" ";aT+="COLOR="+gs+" ";aT+="LETTERSPACING=\"0\" ";aT+="KERNING=\"0\" ";aT+=">";aq=IPCC.G.oi(V.get_text());aT+=aq;aT+="</FONT>";aT+="</P>";aT+="</TEXTFORMAT>";var afA=arI(V.get_mask());if(afA){bO.cj.push(afA);}}else{R=V.get_rectangle();var Bv=V.stampSize;var ob;if(!V.Jn|| !V.ob){var aro=IPCC.G.ahv(V.get_text(),V.get_fontName(),R.width,R.height,{uV:"pre",dg:Bv+"px"});ob=aro;V.Jn=true;V.ob=ob;}else{ob=V.ob;}Bv=ob.fontSize;var gg=ob.width/R.width,cB=1.0,MIN_BUFFER=0.85;if(/mono/i.test(V.get_fontName())){MIN_BUFFER=0.75;}if(gg>MIN_BUFFER){cB=MIN_BUFFER*R.width/ob.width;Bv=Bv*cB;}var aie=R.width,ayL=ob.height*cB,aiq=R.height-(R.height-ayL)/2,aiY=R.x,aiI=R.y+(R.height-ob.height)/2+(ob.height*(1-cB));bO.bj.x=aiY;bO.bj.y=aiI;bO.bj.x_percent=aiY/ec;bO.bj.y_percent=aiI/fa;bO.bj.height_percent=aiq/fa;bO.bj.width_percent=aie/ec;bO.bj.height=aiq;bO.bj.width=aie;bO.bj.opacity=0;bO.bj.drawType='text_redact';aT='';aT="<TEXTFORMAT>";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aT+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aT+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aT+="<P ALIGN=\"right\" ";break;}aT+=">";aT+="<FONT ";st=V.get_fontName();aT+="FACE="+"\""+st+"\" ";if(V.asu){rR=(Bv/V.asu).toString();}else{rR=Bv.toString();}aT+="SIZE= \""+rR+"\" ";gs="\""+V.get_textColor()+"\" ";aT+="COLOR="+gs+" ";aT+="LETTERSPACING=\"0\" ";aT+="KERNING=\"0\" ";aT+=">";aq=IPCC.G.oi(V.get_text());aT+=aq;aT+="</FONT>";aT+="</P>";aT+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bO.bj.drawType=(bi===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.lineWidth=V.get_lineWidth();bO.bj.x_percent=R.x/ec;bO.bj.y_percent=R.y/fa;bO.bj.height_percent=R.height/fa;bO.bj.width_percent=R.width/ec;bO.bj.imageStampId=V.nK;break;case IPCC.Web.UI.MarkType.Strikethrough:R=V.get_rectangle();bO.bj.x=R.x;bO.bj.y=R.y;bO.bj.height=R.height;bO.bj.width=R.width;bO.bj.drawType='strikethrough';bO.bj.startIndex=V.aX;bO.bj.selectedText=V.ds;bO.bj.textLength=V.cU;bO.bj.highlightGroupID=V.be;bO.bj.isHighlight=V.kW;bO.cj.push(ZO(V.aC,ec,fa));break;}if(kN){bO.bj.lineWidth=V.get_lineWidth();var au=V.get_boundingRectangle();bO.bj.x=au.x;bO.bj.y=au.y;bO.bj.x_percent=au.x/ec;bO.bj.y_percent=au.y/fa;bO.bj.height_percent=au.height/fa;bO.bj.width_percent=au.width/ec;bO.bj.height=au.height;bO.bj.width=au.width;if(bi===IPCC.Web.UI.MarkType.Line){if(V.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bO.bj.drawType='line';}else{bO.bj.drawType='arrow';}}else{bO.bj.drawType='polyline';}bO.bj.lineWidth=V.get_lineWidth();var bL=V.get_points();if(bi===IPCC.Web.UI.MarkType.Line){if((bL.getPoint(0).x<bL.getPoint(1).x)&&(bL.getPoint(0).y>bL.getPoint(1).y)){bO.bj.dragDirection='tr';}else if((bL.getPoint(0).x>bL.getPoint(1).x)&&(bL.getPoint(0).y>bL.getPoint(1).y)){bO.bj.dragDirection='tl';}else if((bL.getPoint(0).x>bL.getPoint(1).x)&&(bL.getPoint(0).y<bL.getPoint(1).y)){bO.bj.dragDirection='bl';}else if((bL.getPoint(0).x<bL.getPoint(1).x)&&(bL.getPoint(0).y<bL.getPoint(1).y)){bO.bj.dragDirection='br';}else{bO.bj.dragDirection='br';}}else{var wL=[];var cf=bL.get_length(),bw;if(cf>1){for(var bJ=0;bJ<bL.get_length();bJ++){bw=bL.getPoint(bJ);wL.push({x:bw.x,y:bw.y});}aT=JSON.stringify(wL);}}if(CA){bO.bj.fillColor=CA;}else{bO.bj.fillColor="";}}else{bO.bj.lineWidth=V.get_lineWidth();bO.bj.dragDirection='br';}if(V.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bO.bj.meta='';}bO.bj.label='';var fr=new Date();bO.bj.saveDate=IPCC.G.atH(fr);bO.bj.saveTime=IPCC.G.auS(fr);bO.bj.uuid='';bO.bj.formUser='';bO.bj.created=IPCC.G.ajJ(V.get_dateCreated());bO.bj.modified=IPCC.G.ajJ(V.get_dateModified());if(V.get_type()===IPCC.Web.UI.MarkType.Text||V.get_type()===IPCC.Web.UI.MarkType.Freehand||V.get_type()===IPCC.Web.UI.MarkType.SignaturePath||V.get_type()===IPCC.Web.UI.MarkType.SignatureText||V.get_type()===IPCC.Web.UI.MarkType.Polyline||V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||V.get_type()===IPCC.Web.UI.MarkType.TextLine){bO.cj.push('<![CDATA['+aT+']]>');}else{bO.cj.push('');}return bO;};this.aCc=function(ax,ec,fa,ag){var hK={gD:'documentAnnotations',cj:[],bj:{}};var db={gD:'pages',cj:[],bj:{}};hK.cj.push(db);var mH={gD:'highlights',cj:[],bj:{}};hK.cj.push(mH);var tS={},qM=[];var aR={gD:'page',cj:[],bj:{id:(ax+1).toString(),pageWidth:ec,pageHeight:fa}};db.cj.push(aR);ag=ag||{};var ajM=(ag.includeAnnotations!==undefined)? ! !ag.includeAnnotations:true,ali=(ag.includeRedactions!==undefined)? ! !ag.includeRedactions:true,ald=(ag.includeSignatures!==undefined)? ! !ag.includeSignatures:false,ue=(ag.ue!==undefined)? ! !ag.ue:false,TZ=(ag.DV!==undefined)?ag.DV:false,axj= ! !ue,ahe=TZ?TZ:bQ;for(var K=0;K<ahe.length;K++){var V=ahe[K];var bi=V.get_type();if(V.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(axj&& !V.get_visible()){continue;}if(!TZ){if(ajM===false&&ali===false&&ald===false){break;}if(ajM===false){if(bi===IPCC.Web.UI.MarkType.Rectangle||bi===IPCC.Web.UI.MarkType.Ellipse||bi===IPCC.Web.UI.MarkType.Line||bi===IPCC.Web.UI.MarkType.Text||bi===IPCC.Web.UI.MarkType.Stamp||bi===IPCC.Web.UI.MarkType.Highlight||bi===IPCC.Web.UI.MarkType.Strikethrough||bi===IPCC.Web.UI.MarkType.HighlightText||bi===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bi===IPCC.Web.UI.MarkType.Freehand||bi===IPCC.Web.UI.MarkType.ImageStampAnnotation||bi===IPCC.Web.UI.MarkType.Polyline){if(V.iE()===false){continue;}}}if(ali===false){if(V.iE()===true){continue;}if(bi===IPCC.Web.UI.MarkType.RectangleRedaction||bi===IPCC.Web.UI.MarkType.TextSelectionRedaction||bi===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(ald===false){if(bi===IPCC.Web.UI.MarkType.SignaturePath||bi===IPCC.Web.UI.MarkType.SignatureText||bi===IPCC.Web.UI.MarkType.SignatureImage||bi===IPCC.Web.UI.MarkType.TextAreaSignature||bi===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bi){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:tS[V.nK]={gD:'stampImage',cj:[],bj:{imageStampId:V.nK,base64format:V.bZ()}};break;}aR.cj.push(this.awR(V,ec,fa,ue));}for(var Jr in tS){if(tS.hasOwnProperty(Jr)){qM.push(tS[Jr]);}}return{hK:hK,qM:qM};};this.aCa=function(){var eN={m:[]};var K;for(K=0;K<bQ.length;K++){eN.m.push(bQ[K].aBy());}T.bF('marksSaved',{});var agj="";agj=JSON.stringify(eN);return agj;};this.zo=function(H){bh.addHandler('markAdded',H);};this.xI=function(H){bh.removeHandler('markAdded',H);};this.Ie=function(H){bh.addHandler('markChanged',H);};this.He=function(H){bh.removeHandler('markChanged',H);};this.zx=function(H){bh.addHandler('markRemoved',H);};this.xO=function(H){bh.removeHandler('markRemoved',H);};this.Jv=function(H){bh.addHandler('markReordered',H);};this.HS=function(H){bh.removeHandler('markReordered',H);};this.Vj=function(H){bh.addHandler('marksLoaded',H);};this.Ya=function(H){bh.removeHandler('marksLoaded',H);};this.aGA=function(H){bh.addHandler('marksSaved',H);};this.aHL=function(H){bh.removeHandler('marksSaved',H);};this.JZ=function(H){bh.addHandler('markSelectionChanged',H);};this.Hg=function(H){bh.removeHandler('markSelectionChanged',H);};this.Ki=function(H){bh.addHandler('markTextSelectionChanged',H);};this.Ho=function(H){bh.removeHandler('markTextSelectionChanged',H);};this.vB=function(H){bh.addHandler('commentAdded',H);};this.CW=function(H){bh.removeHandler('commentAdded',H);};this.vL=function(H){bh.addHandler('commentRemoved',H);};this.Dh=function(H){bh.removeHandler('commentRemoved',H);};this.sM=function(H){bh.addHandler('commentChanged',H);};this.ub=function(H){bh.removeHandler('commentChanged',H);};this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};this.dE=function(cg){var H=bh.getHandler("propertyChanged");if(H){H(this,new IPCC.qs(cg));}};return this;};PJ.prototype={get_markCount:function(){return this.Re();},get_selectedMarks:function(){return this.zk();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Om(mark,mouseLocation);},forEachMark:function(method,context){this.Fe(method,context);},getMark:function(zIndex){return this.Qv(zIndex);},getZIndexOfMark:function(mark){return this.oA(mark);},loadFromJson:function(json){this.aCC(json);},removeAllMarks:function(){this.Xi();},removeMark:function(mark){this.tm(mark);},reorderMark:function(mark,zIndex){this.adJ(mark,zIndex);},saveToJson:function(){return this.aCa();},add_markAdded:function(handler){this.zo(handler);},remove_markAdded:function(handler){this.xI(handler);},add_markChanged:function(handler){this.Ie(handler);},remove_markChanged:function(handler){this.He(handler);},add_markRemoved:function(handler){this.zx(handler);},remove_markRemoved:function(handler){this.xO(handler);},add_markReordered:function(handler){this.Jv(handler);},remove_markReordered:function(handler){this.HS(handler);},add_marksLoaded:function(handler){this.Vj(handler);},remove_marksLoaded:function(handler){this.Ya(handler);},add_markSelectionChanged:function(handler){this.JZ(handler);},remove_markSelectionChanged:function(handler){this.Hg(handler);},add_markTextSelectionChanged:function(handler){this.Ki(handler);},remove_markTextSelectionChanged:function(handler){this.Ho(handler);},add_commentAdded:function(handler){this.vB(handler);},remove_commentAdded:function(handler){this.CW(handler);},add_commentRemoved:function(handler){this.vL(handler);},remove_commentRemoved:function(handler){this.Dh(handler);},add_commentChanged:function(handler){this.sM(handler);},remove_commentChanged:function(handler){this.ub(handler);}};PJ.registerClass=cZ;PJ.registerClass('IPCC.Web.UI.ArtPage');module.exports=PJ;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var Oh=function(){};Oh.registerEnum=eC;Oh.prototype={Line:0,Triangle:1};Oh.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Oh;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var KJ=function(text){var bh=new IPCC.Web.UI.gd();var cd=new IPCC.Web.UI.Data();this.ZY=IPCC.G.tp(new Date());this.aq=text;this.aqr=function(aq){if(aq===this.aq){return;}this.aq=aq;var h=new IPCC.Web.UI.CommentEventArgs();h.comment=this;h.length=1;this.bF('commentChanged',h);};this.auu=function(){return this.aq;};this.apH=function(aDq){this.ZY=aDq;};this.asd=function(){return this.ZY;};this.sM=function(H){bh.addHandler('commentChanged',H);};this.ub=function(H){bh.removeHandler('commentChanged',H);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};this.vk=function(){return cd;};return this;};KJ.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sM(handler);},remove_commentChanged:function(handler){this.ub(handler);},get_text:function(){return this.auu();},set_text:function(text){this.aqr(text);},get_creationTime:function(){return this.asd();},set_creationTime:function(isoTimeString){this.apH(isoTimeString);},get_data:function(){return this.vk();}};KJ.registerClass=cZ;KJ.registerClass('IPCC.Web.UI.Comment');module.exports=KJ;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Rd=function(){return this;};Rd.registerClass=cZ;Rd.prototype={};Rd.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Rd;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var RF=function(avP){var fX=[];var bh=new IPCC.Web.UI.gd();var cd=new IPCC.Web.UI.Data();var V=avP;var T=this;function OJ(bS,h){T.bF('commentChanged',h);};this.Hz=function(cA){cA.add_commentChanged(OJ);fX.push(cA);var h=new IPCC.Web.UI.CommentEventArgs();h.comment=cA;h.length=1;h.index=fX.length-1;this.bF('commentAdded',h);};this.aCD=function(cA){var YT= -1;IPCC.G.forEach(fX,function(el,idx){if(el===cA){YT=idx;}});if(YT=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var ach=fX.splice(YT,1)[0];ach.ub(OJ);var h=new IPCC.Web.UI.CommentEventArgs();h.comment=ach;h.length=1;this.bF('commentRemoved',h);};this.mo=function(iQ,cK){var K;for(K=0;K<fX.length;K++){iQ.call(cK,fX[K],K,this);}};this.eQ=function(){return fX.length;};this.vB=function(H){bh.addHandler('commentAdded',H);};this.CW=function(H){bh.removeHandler('commentAdded',H);};this.sM=function(H){bh.addHandler('commentChanged',H);};this.ub=function(H){bh.removeHandler('commentChanged',H);};this.vL=function(H){bh.addHandler('commentRemoved',H);};this.Dh=function(H){bh.removeHandler('commentRemoved',H);};this.vk=function(){return cd;};this.OQ=function(){return V;};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};return this;};RF.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Hz(comment);},removeCommentInstance:function(comment){this.aCD(comment);},forEach:function(method,context){this.mo(method,context);},get_length:function(){return this.eQ();},add_commentAdded:function(handler){this.vB(handler);},remove_commentAdded:function(handler){this.CW(handler);},add_commentChanged:function(handler){this.sM(handler);},remove_commentChanged:function(handler){this.ub(handler);},add_commentRemoved:function(handler){this.vL(handler);},remove_commentRemoved:function(handler){this.Dh(handler);},get_data:function(){return this.vk();},get_mark:function(){return this.OQ();}};RF.registerClass=cZ;RF.registerClass('IPCC.Web.UI.Conversation');module.exports=RF;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Nm=function(){this.cd={};this.vk=function(key){if(typeof key==='undefined'){return IPCC.G.extend({},this.cd);}else if(typeof key==='string'){return this.cd[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.apZ=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.cd[key]=value;}else if(typeof value==='undefined'){delete this.cd[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.arz=function(){var keys=[];IPCC.G.forEach(this.cd,function(value,key){keys.push(key);});return keys;};return this;};Nm.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.vk(key);},set_data:function(key,value){return this.apZ(key,value);},get_dataKeys:function(){return this.arz();}};Nm.registerClass=cZ;Nm.registerClass('IPCC.Web.UI.Data');module.exports=Nm;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var Lp=function(){};Lp.prototype={Production:0,Development:1,Detailed:2};Lp.registerEnum=eC;Lp.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=Lp;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var Lz=function(){};Lz.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Lz.registerEnum=eC;Lz.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Lz;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var aE=function(axC){var as=axC;var anr=this.type=as.type.toLowerCase();var Mn=typeof as.changedTouches!=='undefined';this.rawEvent=as;this.altKey=as.altKey;if(typeof(as.button)!=='undefined'){this.button=(typeof(as.which)!=='undefined')?as.button:(as.button===4)?IPCC.Web.UI.MouseButton.middleButton:(as.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(anr==='keypress'){this.charCode=as.charCode||as.keyCode;}else if(as.keyCode&&(as.keyCode===46)){this.keyCode=127;}else{this.keyCode=as.keyCode;}this.clientX=(Mn)?as.changedTouches[0].clientX:as.clientX;this.clientY=(Mn)?as.changedTouches[0].clientY:as.clientY;this.ctrlKey=as.ctrlKey;this.target=as.target?as.target:as.srcElement;function auN(bC){var aD=0;var cF=0;while(bC&& !isNaN(bC.offsetLeft)&& !isNaN(bC.offsetTop)){aD+=bC.offsetLeft-bC.scrollLeft;cF+=bC.offsetTop-bC.scrollTop;if(bC.offsetparent){bC=bC.offsetParent;}else{bC=bC.parentNode;}}return{top:cF,left:aD};};var eH=""+anr;var FO='key';if(eH.substr(0,FO.length)!==FO){if((typeof(as.offsetX)!=='undefined')&&(typeof(as.offsetY)!=='undefined')){this.offsetX=as.offsetX;this.offsetY=as.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(as.clientX)==='number')){var Lw=auN(this.target);var fc=this.target;var ga=fc.ownerDocument||fc.document||fc;var ir=ga.defaultView||ga.parentWindow;this.offsetX=(ir.pageXOffset||0)+as.clientX-Lw.left;this.offsetY=(ir.pageYOffset||0)+as.clientY-Lw.top;}}this.screenX=(Mn)?as.changedTouches[0].screenX:as.screenX;this.screenY=(Mn)?as.changedTouches[0].screenY:as.screenY;this.shiftKey=as.shiftKey;};aE.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};aE.registerClass=cZ;aE.registerClass('IPCC.Web.UI.aE');aE.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aE.Vy(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.ks.addHandlerCantBeUsedForError);}if(!element.bh){element.bh={};}var eventCache=element.bh[eventName];if(!eventCache){element.bh[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aE(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var fc=doc.defaultView||doc.parentWindow;e=fc.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aE(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aE.amL){element.dispose=IPCC.Web.UI.aE.amL;if(typeof(d)!=="undefined"){element.afS=d;}}}};aE.clearHandlers=function(element){IPCC.Web.UI.aE.Vy(element);IPCC.Web.UI.aE.agK(element,false);};aE.agK=function(element,autoRemoving){if(element.bh){var cache=element.bh;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aE.removeHandler(element,name,entry.handler);}}}}element.bh=null;}};aE.amL=function(){IPCC.Web.UI.aE.agK(this,true);var d=this.afS,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.afS=null;if(type==="function"){this.dispose();}}};aE.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aE.dh(element,eventName,handler);};aE.dh=function(element,eventName,handler){IPCC.Web.UI.aE.Vy(element);var browserHandler=null;if((typeof(element.bh)!=='object')|| !element.bh){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bh[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aE.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};aE.Vy=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.ks.argumentDomNode);}};module.exports=aE;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var nC=function(){};nC.registerEnum=eC;nC.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nC.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nC;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var PS=function(){};PS.registerEnum=eC;PS.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};PS.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=PS;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var RI=function(){};RI.registerEnum=eC;RI.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};RI.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=RI;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var QA=function(){};QA.registerEnum=eC;QA.prototype={Left:0,Center:16,Right:32};QA.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=QA;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var Rj=function(){};Rj.registerEnum=eC;Rj.prototype={None:0,ArtDataService:1};Rj.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=Rj;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Dj=function(bp){var lw='';var hx='';var T=this;this.db=new IPCC.Web.UI.ImGearPageCollection();this.OR=undefined;this.db.aW=this;var Ox=false;this.pO=undefined;var eY=0;var NM=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bh=new IPCC.Web.UI.gd();this.iS=IPCC.Web.GU.YZ(4,IPCC.Web.LC());this.pU=IPCC.Web.gf.Kr.mW(this.iS);var zD=[];var mq=0;var lH=[];var CD=[];var fQ={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Xk=false;this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){try{H(T,h);}catch(e){IPCC.iZ.RO('raise event error in ImGearDocument, error: '+e.message);IPCC.iZ.nF(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function SP(bS,h){if(h.length>0){T.bF('pageAdded',h);}};function Sq(bS,h){if(h.length>0){T.bF('pageRemoved',h);}};function Hj(bS,h){T.bF('pageChanged',h);};this.db.add_pageAdded(SP);this.db.add_pageRemoved(Sq);this.db.add_pageChanged(Hj);function aCn(){function awo(iR,ik){var du=iR+'() threw an exception ';if(ik.name){du+='( '+ik.name+" ";}else{du+=".";}if(ik.message){du+="  exception message = "+ik.message;}if(ik.statusCode){du+="  exception statusCode = "+ik.statusCode;}du=du.replace(/\n/g," ");IPCC.iZ.nF(du,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.by=awo;this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(T,h);}};};if(arguments.length===0){var du="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',du);}if(arguments.length>0){if(bp.documentIdentifier!==undefined){lw=bp.documentIdentifier;hx=IPCC.gG.uC(lw);}if(bp.encodedDocumentIdentifier!==undefined){var vJ=bp.encodedDocumentIdentifier;if(bp.documentIdentifier!==undefined){hx=IPCC.gG.uC(lw);if(vJ!==hx){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{lw=IPCC.gG.JF(bp.encodedDocumentIdentifier);}}if(bp.imageServicePath!==undefined){this.pO=bp.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sp;if(bp.includeAllPages!==undefined){Ox=bp.includeAllPages;if(Ox===true){var aFW=new aCn();var SK=0;T.bx=new IPCC.gG(hx,0,0,0,0,0);var pD=function(){eY=T.bx.eY;NM=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;SK<eY;SK++){var acm=new IPCC.Web.UI.ImGearPage({pageNumber:SK,aW:T});acm.aW=T;T.db.addPage(acm);}};NM=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bx.XS(this.pO,aFW,pD);}catch(e){NM=IPCC.Web.UI.ImGearPageCountStatus.Failed;var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;T.bF('pageOpenFailed',cJ);throw e;}}}else if(bp.pages!==undefined){if(bp.pages.length>0){var K=0;for(K=0;K<bp.pages.length;K++){var bd=bp.pages[K];bd.document=this;this.db.addPage(bd);}}}else if(bp.pageNumber!==undefined){if(bp.pageRangeCount!==undefined){var rj=bp.pageRangeCount;if(rj>0){var ar;for(ar=bp.pageNumber;ar<=rj;ar++){sp=new IPCC.Web.UI.ImGearPage(ar);sp.aW=T;this.db.addPage(sp);}}else if(rj===0){sp=new IPCC.Web.UI.ImgearPage({pageNumber:bp.pageNumber,aW:T});sp.aW=T;T.db.addPage(sp);}}else{if(bp.selected){sp=new IPCC.Web.UI.ImGearPage({pageNumber:bp.pageNumber,aW:T,selected:true});}else{sp=new IPCC.Web.UI.ImGearPage({pageNumber:bp.pageNumber,aW:T});}sp.aW=T;T.db.addPage(sp);}}}this.Lq=function(){return lw;};this.Oo=function(){return hx;};this.amk=function(){return this.db;};this.asb=function(){return eY;};this.aso=function(){return NM;};this.arZ=function(){return Ox;};this.anQ=function(C){Ox=C;this.dE('includeAllPages');};var or=false;this.ij=function(){return or;};this.nZ=function(C){or=C;};this.Ka=function(H){bh.addHandler('pageAdded',H);};this.Hs=function(H){bh.removeHandler('pageAdded',H);};this.Jh=function(H){bh.addHandler('pageRemoved',H);};this.IA=function(H){bh.removeHandler('pageRemoved',H);};this.JL=function(H){bh.addHandler('pageOpenFailed',H);};this.HQ=function(H){bh.removeHandler('pageOpenFailed',H);};this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.KA=function(H){bh.addHandler('pageChanged',H);};this.HB=function(H){bh.removeHandler('pageChanged',H);};this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};this.ayp=function(H){bh.addHandler('textPagesReceived',H);};this.aBG=function(H){bh.removeHandler('textPagesReceived',H);};this.arv=function(){return CD.length;};this.asP=function(){return zD;};this.asC=function(){return zD.length;};this.auC=function(){return fQ;};this.auG=function(){return Xk;};this.aHf=function(C){Xk=C;};this.awO=function(gv){if(fQ.stopRequests===true){var h={};h.error=0;h.textPagesReceived=Qp(gv);if(h.textPagesReceived.length===0){if(mq>0&&mq<gv){for(var dp=mq;dp<gv;dp++){h.textPagesReceived.push(dp);}}}h.length=2;T.bF('textPagesReceived',h);return;}var jw=true;var JR=false;for(var K=0;K<mq;K++){if(Array.prototype.indexOf){if(zD.indexOf(K)<0){jw=false;JR=true;break;}}else{if(IPCC.Web.kQ(zD,K)<0){JR=true;break;}}}if(JR){T.LL(K,undefined,gv);}else if(mq<gv){for(var bJ=0;bJ<gv;bJ++){if(Array.prototype.indexOf){if(lH.indexOf(bJ)<0){jw=false;break;}}else{if(IPCC.Web.kQ(lH,bJ)<0){jw=false;break;}}}if(!jw){JR=true;T.LL(bJ,undefined,gv);}else{T.LL(mq,undefined,gv);}}else{JR=false;}};function Qp(gv){var UF=[],dp;if(lH.length>0){var jw=true;for(dp=0;dp<gv;dp++){jw=true;if(Array.prototype.indexOf){if(lH.indexOf(dp)<0){jw=false;}}else{if(IPCC.Web.kQ(lH,dp)<0){jw=false;}}if(!jw){lH.push(dp);CD.push(dp);UF.push(dp);}}}else{for(dp=0;dp<gv;dp++){lH.push(dp);CD.push(dp);UF.push(dp);}}return UF;};this.LL=function(ahq,akB,gv){Xk=true;var aX;if(!isNaN(ahq)){aX=ahq;}else{aX=0;}var DQ;if(!isNaN(gv)){DQ=gv;}var dM;if(!isNaN(akB)){dM=akB;}else if(!isNaN(DQ)){dM=DQ-1;}else{DQ=gv;if(!isNaN(DQ)){dM=DQ-1;}}if(isNaN(dM)){dM=aX+1;}if(dM-aX>9){dM=aX+9;}function RC(aq){var Vx=mq;var VF=[];var jw=true;var bH;for(var aR=0;aR<aq.pages.length;aR++){if(Array.prototype.indexOf){if(zD.indexOf(aq.pages[aR].number)<0){jw=false;}}else{if(IPCC.Web.kQ(zD,aq.pages[aR].number)<0){jw=false;}}if(!jw){zD.push(aq.pages[aR].number);if(T.db.ju(aq.pages[aR].number).dj().xm()===false){bH=T.db.ju(aq.pages[aR].number);bH.agL(aq.pages[aR]);bH.ahS(aq.pages[aR]);bH.ajy(aq.pages[aR].markup,aq.pages[aR].height,aq.pages[aR].width);}mq++;VF.push(aq.pages[aR].number);lH.push(aq.pages[aR].number);if(!aq.pages[aR].text){CD.push(aq.pages[aR].number);}}}var h={};if(aq.hasOwnProperty("errorCode")){h.error=0;T.pageExtractionFailed=true;h.textPagesReceived=VF;h.length=2;for(var zl=fQ.startPage;zl<fQ.lastPage+1;zl++){jw=true;if(Array.prototype.indexOf){if(lH.indexOf(zl)<0){jw=false;}}else{if(IPCC.Web.kQ(lH,zl)<0){jw=false;}}if(!jw){lH.push(zl);CD.push(zl);h.textPagesReceived.push(zl);}}T.bF('textPagesReceived',h);fQ.stopRequests=true;return;}if(mq>Vx){h.textPagesReceived=VF;h.length=2;h.error=0;}var oP=fQ.lastTimeout;if(fQ.startPage===aX&&fQ.lastPage===dM&&mq===Vx){if(fQ.requestCount<25){oP=oP+1000;fQ.requestCount++;}else{h.error=0;h.textPagesReceived=[];h.length=2;jw=true;var dp;for(dp=fQ.startPage;dp<fQ.lastPage+1;dp++){jw=true;if(Array.prototype.indexOf){if(lH.indexOf(dp)<0){jw=false;}}else{if(IPCC.Web.kQ(lH,dp)<0){jw=false;}}if(!jw){lH.push(dp);CD.push(dp);h.textPagesReceived.push(dp);}}if(h.textPagesReceived.length===0){if(mq>0&&mq<gv){for(dp=mq;dp<gv;dp++){h.textPagesReceived.push(dp);}}}fQ.stopRequests=true;T.bF('textPagesReceived',h);return;}}else{oP=1000;fQ.requestCount=0;}fQ.lastTimeout=oP;fQ.startPage=aX;fQ.lastPage=dM;setTimeout(function(){T.awO(gv);},oP);if(mq>Vx){T.bF('textPagesReceived',h);}};function dV(ad){var h={},hf,av;try{var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");if(ow==='true'){var wC=IPCC.Web.gf.sy.tX(ad.getResponseHeader("Accusoft-Data-SK"));var ac=IPCC.Web.Jl(wC,T.iS);var fD=IPCC.Web.GZ(ad);var uk=IPCC.Web.DR(fD,ac,T.iS);hf=IPCC.Web.gf.GE.mW(uk);}else{hf=ad.responseText;}av=JSON.parse(hf);RC(av);}catch(e){h.error= -1;Qp(gv);h.textPagesReceived=[];h.length=2;T.bF('textPagesReceived',h);return;}};function dZ(av){var h={},hj;try{hj=av.response.status;if(av.response.responseText){av=JSON.parse(av.response.responseText);if(av.hasOwnProperty("errorCode")){h.error=0;if(mq>0){if(av.pages){if(av.pages.length>0){RC(av);return;}}}else{h.error= -1;}if(lH.length===0){h.error= -1;}T.pageExtractionFailed=true;h.textPagesReceived=[];h.length=2;h.textPagesReceived=Qp(gv);T.bF('textPagesReceived',h);return;}else{throw new IPCC.Web.UI.ImGearHttpException(hj,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(hj,"Unable to obtain text");}}catch(e){h.error= -1;Qp(gv);h.textPagesReceived=[];h.length=2;T.bF('textPagesReceived',h);return;}};var iK=lw;var gp=T.pO;if(!(/^[\x00-\x7F]*$/.test(iK))){iK='e'+hx;}else{iK='u'+iK;}var ae;if(T.ij()){ae=gp+'/Document/q/'+aX.toString()+'-'+dM.toString()+'/Text?DocumentID='+iK+'&iv='+T.pU;}else{ae=gp+'/Document/q/'+aX.toString()+'-'+dM.toString()+'/Text?DocumentID='+iK;}IPCC.G.oa.fh({method:'GET',url:ae,headers:{'accept':'application/json'}}).then(dV,dZ);};return this;};Dj.encodeDocumentIdentifier=function(lw){var hx;if(lw!==undefined){hx=IPCC.gG.uC(lw);}return hx;};Dj.decodeDocumentIdentifier=function(hx){var ahb;if(hx!==undefined){ahb=IPCC.gG.JF(hx);}return ahb;};Dj.prototype={get_documentIdentifier:function(){var bk=this.Lq();return bk;},get_encodedDocumentIdentifier:function(){var bk=this.Oo();return bk;},get_pages:function(){return this.amk();},get_pageCountStatus:function(){var r=this.aso();return r;},set_pageCountStatus:function(value){this.aGX(value);},get_pageCount:function(){var r=this.asb();return r;},get_includeAllPages:function(){try{var bk=this.arZ();return bk;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.anQ(value);}catch(e){throw e;}},get_encryption:function(){var bk=this.ij();return bk;},set_encryption:function(value){this.nZ(value);},add_pageChanged:function(handler){this.KA(handler);},remove_pageChanged:function(handler){this.HB(handler);},add_pageRemoved:function(handler){this.Jh(handler);},remove_pageRemoved:function(handler){this.IA(handler);},add_pageAdded:function(handler){this.Ka(handler);},remove_pageAdded:function(handler){this.Hs(handler);},add_pageOpenFailed:function(handler){this.JL(handler);},remove_pageOpenFailed:function(handler){this.HQ(handler);},get_textRequestInfo:function(){try{var bk=this.auC();return bk;}catch(e){throw e;}},get_pagesWithText:function(){try{var bk=this.asP();return bk;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bk=this.asC();return bk;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bk=this.arv();return bk;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.ayp(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aBG(handler);}catch(e){this.by('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.jS(handler);},remove_propertyChanged:function(handler){this.nv(handler);}};Dj.registerClass=cZ;Dj.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Dj;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var QU=function(){var hT=[];var bh=new IPCC.Web.UI.gd();var T=this;function aEG(bS,h){if(h){var Ld=new IPCC.Web.UI.ImGearDocumentEventArgs();Ld.document=bS;Ld.propertyName=h.get_propertyName();Ld.length=2;T.bF('documentChanged',Ld);}};this.Vt=function(axH){this.aig(hT.length,axH);};this.aig=function(aA,aW){var bJ;var cf=hT.length;if(aA>hT.length||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA,'document index is out of range');}for(bJ=0;bJ<cf;bJ++){if(hT[bJ]===aW){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ajE=bh.getHandler('pageAdded');if(ajE){aW.add_pageAdded(ajE);}var ahL=bh.getHandler('pageRemoved');if(ahL){aW.add_pageRemoved(ahL);}var aip=bh.getHandler('pageChanged');if(aip){aW.add_pageChanged(aip);}aW.add_propertyChanged(aEG);hT.splice(aA,0,aW);var h=new IPCC.Web.UI.ImGearDocumentEventArgs();h.imGearDocument=aW;h.index=aA;h.length=1;this.bF('documentAdded',h);};function lT(aA){if(aA>hT.length-1||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA,'document index is out of range');}};this.ND=function(aA){lT(aA);return hT[aA];};this.eQ=function(){return hT.length;};this.aHx=function(iQ,cK){var ajc=[].concat(hT);var K;for(K=0;K<ajc.length;K++){iQ.call(cK,ajc[K],K,this);}};this.aam=function(aA){lT(aA);var h=new IPCC.Web.UI.ImGearDocumentEventArgs();h.imGearDocument=hT[aA];h.length=1;hT[aA].get_pages().removeAllPages();hT.splice(aA,1);this.bF('documentRemoved',h);};this.aCh=function(){var K=0;while(hT.length>0){this.aam(K);}};this.axy=function(H){bh.addHandler('documentAdded',H);};this.aCQ=function(H){bh.removeHandler('documentAdded',H);};this.ayi=function(H){bh.addHandler('documentRemoved',H);};this.aBQ=function(H){bh.removeHandler('documentRemoved',H);};this.axX=function(H){bh.addHandler('documentChanged',H);};this.aBp=function(H){bh.removeHandler('documentChanged',H);};this.Ka=function(H){bh.addHandler('pageAdded',H);};this.Hs=function(H){bh.removeHandler('pageAdded',H);for(var bJ=0;bJ<hT.length;bJ++){hT[bJ].remove_pageAdded(H);}};this.KA=function(H){bh.addHandler('pageChanged',H);};this.HB=function(H){bh.removeHandler('pageChanged',H);for(var bJ=0;bJ<hT.length;bJ++){hT[bJ].remove_pageChanged(H);}};this.Jh=function(H){bh.addHandler('pageRemoved',H);};this.IA=function(H){bh.removeHandler('pageRemoved',H);for(var bJ=0;bJ<hT.length;bJ++){hT[bJ].remove_pageRemoved(H);}};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){try{H(T,h);}catch(e){IPCC.iZ.RO('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};QU.prototype={addDocument:function(imGearDocument){this.Vt(imGearDocument);},insertDocument:function(index,imGearDocument){this.aig(index,imGearDocument);},forEach:function(method,context){this.mo(method,context);},getDocument:function(index){return this.ND(index);},get_length:function(){return this.eQ();},removeDocument:function(imGearDocument){this.aam(imGearDocument);},removeAllDocuments:function(){this.aCh();},add_documentAdded:function(handler){this.axy(handler);},remove_documentAdded:function(handler){this.aCQ(handler);},add_documentRemoved:function(handler){this.ayi(handler);},remove_documentRemoved:function(handler){this.aBQ(handler);},add_documentChanged:function(handler){this.axX(handler);},remove_documentChanged:function(handler){this.aBp(handler);},add_pageAdded:function(handler){this.Ka(handler);},remove_pageAdded:function(handler){this.Hs(handler);},add_pageRemoved:function(handler){this.Jh(handler);},remove_pageRemoved:function(handler){this.IA(handler);},add_pageChanged:function(handler){this.KA(handler);},remove_pageChanged:function(handler){this.HB(handler);}};QU.registerClass=cZ;QU.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=QU;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Sa=function(){return this;};Sa.registerClass=cZ;Sa.prototype={};Sa.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=Sa;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Qr=function(){return this;};Qr.registerClass=cZ;Qr.prototype={};Qr.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=Qr;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var aux=function(lc){var aD=0,cF=0,bz=0,cq=0,nf=lc.href||"",avV=lc.borderStyle||"Solid",mB=lc.borderThickness||0,BF=lc.borderPattern||[1],Fh=lc.borderHorizontalRadius||0,Fg=lc.borderHorizontalRadius||0,oG=lc.borderColor||"#0000FF",rw=lc.borderOpacity||255,R,V;if(typeof rw==='string'){rw=parseInt(rw,10);}if(lc.rectangle){aD=lc.rectangle.x;cF=lc.rectangle.y;bz=lc.rectangle.width;cq=lc.rectangle.height;}R=new IPCC.Web.UI.Rectangle(aD,cF,bz,cq);this.fl=function(){var abP=new IPCC.Web.UI.Rectangle(R.x,R.y,R.width,R.height);return abP;};this.Fa=function(kg){R.x=kg.x;R.y=kg.y;R.width=kg.width;R.height=kg.height;};this.amA=function(){return nf;};this.atD=function(){return avV;};this.aur=function(){return mB;};this.aup=function(){return BF;};this.avc=function(){return Fh;};this.arC=function(){return Fg;};this.atQ=function(){return oG;};this.avf=function(){return rw;};this.OQ=function(){return V;};this.aqw=function(aFg){V=aFg;};this.aEh=function(){return IPCC.G.afX(nf);};};module.exports=aux;},{}],84:[function(require,module,exports){var gd=function gd(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.EP={};};gd.prototype.cX=function(cI,H){var cE=this.Xa(cI,true);cE[cE.length]=H;};gd.prototype.addHandler=function(cI,H){this.cX(cI,H);};gd.prototype.dh=function(cI,H){var rY=this.Xa(cI);if(!rY){return;}var aA=IPCC.XP(rY,H);if(aA>=0){rY.splice(aA,1);}};gd.prototype.removeHandler=function(cI,H){this.dh(cI,H);};gd.prototype.getHandler=function(cI){var rY=this.Xa(cI);if(!rY||(rY.length===0)){return null;}var cE=rY.slice();rY=cE;return function(source,args){for(var K=0,rE=rY.length;K<rE;K++){rY[K](source,args);}};};gd.prototype.Xa=function(cI,avL){if(!this.EP[cI]){if(!avL){return null;}this.EP[cI]=[];}return this.EP[cI];};module.exports=gd;},{}],85:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var FG=function(message,errorInfo){this.message=message;var T=this;if(errorInfo){for(var ZP in errorInfo){if(errorInfo.hasOwnProperty(ZP)){T[ZP]=errorInfo[ZP];}}}};FG.prototype=new Error();FG.registerClass=cZ;FG.registerClass('IPCC.Web.UI.ImGearException');var FL=function(statusCode,message,customErrorCode){var gN="IPCC.Web.UI.ImGearHttpException: ";if(message){gN+=message;}this.message=gN;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};FL.prototype=new Error();FL.registerClass=cZ;FL.registerClass('IPCC.Web.UI.ImGearHttpException');var sg=function(paramName,message){var gN="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.ks.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gN+="\n"+IPCC.Web.xw(IPCC.ks.paramName,paramName);}}this.message=gN;this.paramName=paramName;};sg.prototype=new Error();sg.registerClass=cZ;sg.registerClass('IPCC.Web.UI.ImGearArgumentException');var DF=function(paramName,message){var gN="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.ks.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gN+="\n"+IPCC.Web.xw(IPCC.Res.paramName,paramName);}}this.message=gN;this.paramName=paramName;};DF.prototype=new Error();DF.registerClass=cZ;DF.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var qt=function(paramName,actualValue,message){var gN="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.ks.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gN+="\n"+IPCC.Web.xw(IPCC.ks.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gN+="\n"+IPCC.Web.xw(IPCC.ks.actualValue,actualValue);}this.message=gN;this.paramName=paramName;this.actualValue=actualValue;};qt.prototype=new Error();qt.registerClass=cZ;qt.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var zZ=function(paramName,actualType,expectedType,message){var gN="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gN+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gN+=IPCC.Web.xw(IPCC.ks.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gN+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gN+=IPCC.ks.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gN+="\n"+IPCC.Web.xw(IPCC.ks.paramName,paramName);}}this.message=gN;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};zZ.prototype=new Error();zZ.registerClass=cZ;zZ.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var EK=function(paramName,message){var gN="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.ks.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gN+="\n"+IPCC.Web.xw(IPCC.Res.paramName,paramName);}}this.message=gN;this.paramName=paramName;};EK.prototype=new Error();EK.registerClass=cZ;EK.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Fy=function(message){var gN="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.ks.invalidOperation);this.message=gN;};Fy.prototype=new Error();Fy.registerClass=cZ;Fy.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Gl=function(message){var gN="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.ks.notImplemented);this.message=gN;};Gl.prototype=new Error();Gl.registerClass=cZ;Gl.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var FV=function(message){var gN="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.ks.parameterCount);this.message=gN;};FV.prototype=new Error();FV.registerClass=cZ;FV.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={FG:FG,FL:FL,sg:sg,DF:DF,qt:qt,zZ:zZ,EK:EK,Fy:Fy,Gl:Gl,FV:FV};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var atG=function(){var Fs=[];this.ayC=function(auD){Fs.push(auD);};this.cO=function(){return Fs.length;};this.mo=function(iQ,cK){IPCC.G.forEach(Fs,iQ,cK);};this.aCF=function(){if(Fs.length<1){return;}Fs=[];};return this;};module.exports=atG;},{}],87:[function(require,module,exports){var auT=function(){var Fc=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Jp=function(){return Fc;};};module.exports=auT;},{}],88:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Ri=function(bp){this.aW=undefined;var ax=0;var ay=0,abx=0,abt=0;var an=0,alG=0,alZ=0;var T=this;var bh=new IPCC.Web.UI.gd();this.aIo=undefined;this.fQ={qm:0,ahk:false,rc:1000,PZ:false};var eR=new IPCC.Web.UI.ImGearTextPage();var Ry=new IPCC.Web.UI.ImGearHyperlinkPage();var kL=0;var or=false;var CI=false,Ct=0,Bs=0;function aeu(o){return!isNaN(o-0);};if(bp.pageNumber!==undefined){if(aeu(bp.pageNumber)){ax=bp.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.po=function(){return ax;};this.aHb=function(C){if(aeu(bp.pageNumber)){ax=C;}};this.jP=function(){return ay;};function aej(){if(!eR){eR=new IPCC.Web.UI.ImGearTextPage();}var apj=eR.hJ();var pz=ay/Ct,nP=an/Bs;apj.aBU(pz,nP);};function adb(){var Fc=Ry.Jp();var pz=ay/Ct,nP=an/Bs;Fc.mo(function(jA){jA.Fa(jA.fl().scale(pz,nP));var ahK=jA.OQ();ahK.set_rectangle(ahK.get_rectangle().scale(pz,nP));});};this.Pf=function(C){ay=C;if(CI&&ay&&ay!==Ct&&an&&an!==Bs){aej();adb();CI=false;}};this.jq=function(){return an;};this.Qb=function(C){an=C;if(CI&&ay&&ay!==Ct&&an&&an!==Bs){aej();adb();CI=false;}};this.amI=function(){return abx;};this.aeF=function(C){abx=C;};this.aIc=function(){return alG;};this.ack=function(C){alG=C;};this.aHe=function(){return abt;};this.aGS=function(C){abt=C;};this.aHr=function(){return alZ;};this.aIC=function(C){alZ=C;};this.asL=function(){return this.aW;};this.dj=function(){if(!eR){eR=new IPCC.Web.UI.ImGearTextPage();}return eR;};this.kG=function(){return kL;};this.wA=function(C){if(kL===C){return;}if(isNaN(C)){return;}kL=C;this.dE('serviceResponseTimeout');};this.ij=function(){return or;};this.nZ=function(C){or=C;};this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.Cc=function(H){bh.addHandler('textPageReady',H);};this.Do=function(H){bh.removeHandler('textPageReady',H);};this.akm=function(){return Ry;};this.US=function(H){bh.addHandler('hyperlinkPageReady',H);};this.afz=function(H){bh.removeHandler('hyperlinkPageReady',H);};this.zP=function(H){bh.cX('textExtractionFailed',H);};this.Eh=function(H){bh.dh('textExtractionFailed',H);};this.agL=function(fW){if(ay===0&&an===0){CI=true;Ct=fW.width;Bs=fW.height;}};this.ahS=function(fW){if(!eR){eR=new IPCC.Web.UI.ImGearTextPage();}if(eR.hJ().eQ()>0){return;}else if(fW.errorCode){var mR=new IPCC.Web.UI.ImGearException(fW.errorDescription,{name:'Text Extraction'});var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=mR;cJ.pageNumber=T.get_pageNumber();T.bF('textExtractionFailed',cJ);return;}var aqt=eR.hJ();var LT=false;var acS;function Ji(ZC){return ZC;};var nP=1;var pz=1;if(fW.height&&fW.height>0&&an>0){if(fW.height!==an){nP=an/fW.height;}}if(fW.width&&fW.width>0&&ay>0){if(fW.width!==ay){pz=ay/fW.width;}}var gB;var acP= -1;var OM;var ja,zF;for(var K=0;K<fW.rectangles.length;K++){ja=fW.rectangles[K];zF=Ji(fW.text[K]);LT=false;if(ja[2]===0){zF="\n";LT=true;if(K>0){acS=fW.rectangles[K-1];ja[2]=acS[2];}}if(pz===1&&nP===1){OM=new IPCC.Web.UI.ImGearTextCharacter(ja[0],ja[1],ja[2],ja[3],zF,LT);}else{OM=new IPCC.Web.UI.ImGearTextCharacter(ja[0]*pz,ja[1]*nP,ja[2]*pz,ja[3]*nP,zF,LT);}if(OM){aqt.axb(OM);}if(gB===undefined||acP!==ja[1]||ja[0]<gB.fl().x){if(gB){eR.XK().anm(gB);}gB=new IPCC.Web.UI.ImGearTextSection();gB.Fa(new IPCC.Web.UI.Rectangle(ja[0],ja[1],ja[2],ja[3]));gB.aqE(K);}else{if(ja[0]+ja[2]-gB.fl().x>gB.fl().width){gB.fl().width=ja[0]+ja[2]-gB.fl().x;}}gB.anJ(K);acP=ja[1];}if(gB){eR.XK().anm(gB);}eR.aqv(fW.text);if(fW.text.length>0){eR.OK(true);T.bF('textPageReady',{pageNumber:T.po(),containsText:true});}else{eR.OK(false);T.bF('textPageReady',{pageNumber:T.po(),containsText:false});}};this.ajy=function(aem,Nn,My){if(!aem){return;}Ry.Jp().aCF();var nP=1;var pz=1;if(Nn&&Nn>0&&an>0){if(Nn!==an){nP=an/Nn;}}if(My&&My>0&&ay>0){if(My!==ay){pz=ay/My;}}IPCC.G.forEach(aem,function(aed){var jA;switch(aed.markType){case "DocumentHyperlink":jA=new IPCC.Web.UI.ImGearDocumentHyperlink(aed.properties);jA.Fa(jA.fl().scale(pz,nP));if(!jA.aEh()){Ry.Jp().ayC(jA);}break;default:break;}});T.bF('hyperlinkPageReady',{pageNumber:T.po()});};this.atX=function(){T.zt();};this.zt=function(){if(!eR){eR=new IPCC.Web.UI.ImGearTextPage();}if(!T.aW){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(eR.xm()){return;}var ahO=true;if(T.kG()===0){ahO=false;}function RC(aq){if(aq.pages){var aZ;if(aq.pages.length>0){if(aq.pages[0].number!==T.po()){for(var K=0;K<aq.pages.length;K++){if(aq.pages[K].number===T.po()){aZ=K;break;}}if(!aZ){T.fQ.PZ=false;return;}}else{aZ=0;}var fW=aq.pages[aZ];T.fQ.PZ=true;if(aq.pages[aZ].text&&aq.pages[aZ].text.length>0){eR.OK(true);}else{eR.OK(false);}T.fQ.rc=1000;T.agL(fW);T.ahS(fW);T.ajy(fW.markup,fW.height,fW.width);return;}}var oP=T.fQ.rc;if(!T.fQ.PZ){if(T.fQ.qm<6){if(T.fQ.qm<2){oP=oP+1000;}else{oP=oP+3000;}T.fQ.qm++;T.fQ.rc=oP;setTimeout(T.atX,oP);}else{T.fQ.ahk=true;}}};function dV(ad){var iS=T.aW.iS,av;try{var hf;var ow=ad.getResponseHeader("Accusoft-Data-Encrypted");if(ow==='true'){var wC=IPCC.Web.gf.sy.tX(ad.getResponseHeader("Accusoft-Data-SK"));var ac=IPCC.Web.Jl(wC,iS);var fD=IPCC.Web.GZ(ad);var uk=IPCC.Web.DR(fD,ac,iS);hf=IPCC.Web.gf.GE.mW(uk);}else{hf=ad.responseText;}av=JSON.parse(hf);RC(av);}catch(e){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=T.get_pageNumber();T.bF('textExtractionFailed',cJ);return;}};function dZ(av){try{if(!av.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(av.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(av.response.status,"Unable to obtain text, Error from the service = "+av.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(av.response.status,"Unable to obtain text from the service");}}}catch(e){var cJ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();cJ.exception=e;cJ.pageNumber=T.get_pageNumber();T.bF('textExtractionFailed',cJ);return;}};var aX=T.get_pageNumber();var iK=T.aW.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iK))){iK='e'+T.aW.get_encodedDocumentIdentifier();}else{iK='u'+encodeURIComponent(iK);}var gp=T.aW.pO;var pU=T.aW.pU;var ae;if(T.ij()){ae=gp+'/Document/q/'+aX.toString()+'-'+aX.toString()+'/Text?DocumentID='+iK+'&iv='+pU;}else{ae=gp+'/Document/q/'+aX.toString()+'-'+aX.toString()+'/Text?DocumentID='+iK;}var gL={method:'GET',url:ae,headers:{'accept':'application/json'}};if(ahO===true){gL.timeout=T.kG();}IPCC.G.oa.fh(gL).then(dV,dZ);};this.dj=function(){if(!eR){eR=new IPCC.Web.UI.ImGearTextPage();}return eR;};this.aHO=function(C){if(typeof C.mw!=='function'){return;}eR=C;};this.amx=function(){eR=undefined;T.fQ={qm:0,ahk:false,rc:1000,PZ:false};CI=false;Ct=0;Bs=0;};this.Ma=function(BY,Cs){var T=this;function dV(ad){var av;av=JSON.parse(ad.responseText);if(av.imageWidth&&av.imageHeight){T.Pf(av.imageWidth);T.Qb(av.imageHeight);BY(av.imageWidth,av.imageHeight);}else{Cs("Unable to obtain document information from the server");}};function dZ(av){Cs("Unable to obtain document information from the server");};if(T.jP()>0||T.jq()>0){BY(T.jP(),T.jq());}else{var tg=IPCC.gG.uC(T.aW.get_documentIdentifier());if(!tg||tg===""){Cs("Invalid encoded Identifier");}var tu='';if(!IPCC.uZ.Ja()){tu='&ContentType=png';}var ae;if(!(/^[\x00-\x7F]*$/.test(tg))){ae=T.aW.pO+'/Page/q/'+(T.get_pageNumber())+'/Attributes?DocumentID=e'+tg+tu;}else{ae=T.aW.pO+'/Page/q/'+(T.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(T.aW.get_documentIdentifier())+tu;}IPCC.G.oa.fh({method:'GET',url:ae,headers:{'Content-Type':'application/json'}}).then(dV,dZ);}};this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){try{H(T,h);}catch(e){IPCC.iZ.RO('event raise, ImGearPage, error: '+e.message);}}};return this;};Ri.prototype={get_pageNumber:function(){var bk=this.po();return bk;},get_pageWidth:function(){var bk=this.jP();return bk;},get_pageHeight:function(){var bk=this.jq();return bk;},get_textPage:function(){var bk=this.dj();return bk;},get_encryption:function(){var bk=this.ij();return bk;},set_encryption:function(value){this.nZ(value);},get_hyperlinkPage:function(){return this.akm();},get_document:function(){var bk=this.asL();return bk;},add_propertyChanged:function(handler){this.jS(handler);},remove_propertyChanged:function(handler){this.nv(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Ma(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Ri.registerClass=cZ;Ri.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Ri;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Qu=function(){var T=this;var db=[];var bh=new IPCC.Web.UI.gd();this.aAm=false;this.azy=true;this.aW=undefined;this.amQ=function(aR){this.aiD(db.length,aR);};function lT(aA){if(aA>db.length-1||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA,'page index is out of range in the page collection');}};this.aiD=function(aA,aR){var bJ;var cf=db.length;if(aA>db.length||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA,'index of the page Collection is out of range');}if(T.azy&&T.aAm){if(cf>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bJ=0;bJ<cf;bJ++){if(db[bJ]===aR){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(T.aW){if(!aR.aW){aR.aW=T.aW;}}aR.add_propertyChanged(Hj);db.splice(aA,0,aR);var h=new IPCC.Web.UI.ImGearPageEventArgs();h.imGearPage=aR;h.length=1;T.bF('pageAdded',h);};this.ju=function(aA){lT(aA);var fp=db[aA];return fp;};this.anW=function(aA,aR){lT(aA);var VP=db[aA];if(VP===aR){return;}db[aA]=aR;var h=new IPCC.Web.UI.ImGearPageEventArgs();h.imGearPage=aR;h.length=1;this.bF('pageAdded',h);VP.remove_propertyChanged(Hj);var yJ=new IPCC.Web.UI.ImGearPageEventArgs();yJ.imGearPage=VP;yJ.length=1;this.bF('pageRemoved',yJ);};this.eQ=function(){return db.length;};this.mo=function(iQ,cK){var aiy=[].concat(db);var K;for(K=0;K<aiy.length;K++){iQ.call(cK,aiy[K],K,this);}};this.aaC=function(aA){lT(aA);var h=new IPCC.Web.UI.ImGearPageEventArgs();h.imGearPage=db[aA];db[aA].remove_propertyChanged(Hj);h.length=1;db.splice(aA,1);T.bF('pageRemoved',h);};this.aHV=function(aR){var cO=db.length;for(var K=0;K<cO;K++){if(aR===db[K]){return K;}}return-1;};this.aBu=function(){var K=0;while(db.length>0){this.aaC(K);}};function Hj(bS,h){var yJ=new IPCC.Web.UI.ImGearPageEventArgs();yJ.imGearPage=bS;yJ.length=1;T.bF('pageChanged',yJ);};this.Ka=function(H){bh.addHandler('pageAdded',H);};this.Hs=function(H){bh.removeHandler('pageAdded',H);};this.KA=function(H){bh.addHandler('pageChanged',H);};this.HB=function(H){bh.removeHandler('pageChanged',H);};this.Jh=function(H){bh.addHandler('pageRemoved',H);};this.IA=function(H){bh.removeHandler('pageRemoved',H);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){try{H(T,h);}catch(e){IPCC.iZ.RO('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Qu.prototype={addPage:function(page){this.amQ(page);},insertPage:function(index,page){this.aiD(index,page);},forEach:function(method,context){this.mo(method,context);},getPage:function(index){return this.ju(index);},setPage:function(index,page){this.anW(index,page);},get_length:function(){return this.eQ();},removePage:function(index){this.aaC(index);},removeAllPages:function(){this.aBu();},add_pageAdded:function(handler){this.Ka(handler);},remove_pageAdded:function(handler){this.Hs(handler);},add_pageChanged:function(handler){this.KA(handler);},remove_pageChanged:function(handler){this.HB(handler);},add_pageRemoved:function(handler){this.Jh(handler);},remove_pageRemoved:function(handler){this.IA(handler);}};Qu.registerClass=cZ;Qu.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Qu;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var RW=function(){};RW.registerEnum=eC;RW.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};RW.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=RW;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var Rh=function(){};Rh.registerClass=cZ;Rh.prototype={};Rh.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Rh;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var cZ=require('./../../IPCC.Util').regClass;var RZ=function(){return this;};RZ.prototype={};RZ.registerClass=cZ;RZ.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=RZ;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Ou=function(){return this;};Ou.registerClass=cZ;Ou.prototype={};Ou.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=Ou;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var auX=function(aD,cF,bz,cq,zF,aDM){this.aB=new IPCC.Web.UI.Rectangle(aD,cF,bz,cq);this.lA=zF;this.FR=aDM;this.ata=function(){return zF;};this.uD=function(){var abP=new IPCC.Web.UI.Rectangle(this.aB.x,this.aB.y,this.aB.width,this.aB.height);return abP;};this.aIV=function(){return this.FR;};};module.exports=auX;},{}],95:[function(require,module,exports){var aug=function(){var hV=[];this.axb=function(kq){hV.push(new IPCC.Web.UI.ImGearTextCharacter(kq.aB.x,kq.aB.y,kq.aB.width,kq.aB.height,kq.lA,kq.FR));};this.aFE=function(aqX){function jX(kq){hV.push(kq);};aqX.forEach(jX,{});};this.atP=function(){var acs=[];for(var bJ=0;bJ<this.eQ();bJ++){var Nx=this.ld(bJ).aB;var R=[];R.push(Nx.x);R.push(Nx.y);R.push(Nx.width);R.push(Nx.height);acs.push(R);}return acs;};this.aFu=function(aA,aka){var bJ;var cf=hV.length;if(aA>hV.length||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA,'index of theText Character Collection is out of range');}for(bJ=0;bJ<cf;bJ++){if(hV[bJ]===aka){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same aq Character instance in a kq collection).');}}hV.splice(aA,0,aka);};this.aBU=function(afv,aeP){IPCC.G.forEach(hV,function(lA){lA.aB.width=lA.aB.width*afv;lA.aB.height=lA.aB.height*aeP;lA.aB.x=lA.aB.x*afv;lA.aB.y=lA.aB.y*aeP;});};this.mo=function(iQ,cK){var Vp=[].concat(hV);var K;for(K=0;K<Vp.length;K++){iQ.call(cK,new IPCC.Web.UI.ImGearTextCharacter(Vp[K].x,Vp[K].y),K,this);}};function lT(aA){if(aA>hV.length-1||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA);}};this.ld=function(aA){lT(aA);var sQ=hV[aA];return new IPCC.Web.UI.ImGearTextCharacter(sQ.aB.x,sQ.aB.y,sQ.aB.width,sQ.aB.height,sQ.lA,sQ.FR);};this.aHv=function(aA,kq){lT(aA);var Ea=hV[aA];if(Ea.aB.x===kq.aB.x&&Ea.aB.y===kq.y&&Ea.aB.width===kq.aB.width&&Ea.aB.height===kq.aB.height&&Ea.lA===kq.lA&&Ea.FR===kq.FR){return;}hV[aA]=kq;};this.eQ=function(){return hV.length;};this.aIr=function(aA){lT(aA);hV.splice(aA,1);};this.aHC=function(){if(hV.length<1){return;}hV=[];};return this;};module.exports=aug;},{}],96:[function(require,module,exports){var aue=function(){var aqV=new IPCC.Web.UI.ImGearTextCharacterCollection();var Vh=false;var als=false;var Wo="";var wX=new IPCC.Web.UI.ImGearTextSectionCollection();var Yb=false;this.hJ=function(){return aqV;};this.mw=function(){return Vh;};this.OK=function(C){als=true;if(C===Vh){return;}if((C===true)||(C===false)){Vh=C;}};this.xm=function(){return als;};this.Bo=function(){return Wo;};this.aqv=function(C){if(C===Wo){return;}Wo=C;};this.XK=function(){return wX;};this.arV=function(){return Yb;};this.aeD=function(C){if(C===Yb){return;}if((C===true)||(C===false)){Yb=C;}};};module.exports=aue;},{}],97:[function(require,module,exports){var atJ=function(){var R=null;var aX=0;var dM=0;this.fl=function(){return R;};this.Fa=function(C){R=C;};this.ajp=function(){return aX;};this.aqE=function(C){aX=C;};this.amn=function(){return dM;};this.anJ=function(C){dM=C;};};module.exports=atJ;},{}],98:[function(require,module,exports){var avb=function(){var wX=[];this.anm=function(gB){wX.push(gB);};function lT(aA){if(aA>wX.length-1||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA);}};this.auH=function(aA){lT(aA);return wX[aA];};this.eQ=function(){return wX.length;};return this;};module.exports=avb;},{}],99:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var Mp=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Mp.registerEnum=eC;Mp.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Mp.registerEnum("IPCC.Web.UI.Key");module.exports=Mp;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var NG=function(){};NG.registerEnum=eC;NG.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};NG.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=NG;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var Ob=function(){};Ob.registerEnum=eC;Ob.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};Ob.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=Ob;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var MH=function(){return this;};MH.registerClass=cZ;MH.prototype={};MH.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=MH;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Lc=function(type){var al=type;type=undefined;var sj=new Date();var sl=new Date();var bf=null;var R;var bL;var cG;var cd=new IPCC.Web.UI.Data();var bh=new IPCC.Web.UI.gd();var T=this;var je;this.fi=function(ka,cg){if((je&ka)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cg+' is not a valid property for this type of Mark.');}};if(al===IPCC.Web.UI.MarkType.SignatureText){this.kR='#000000';this.iv=IPCC.Web.UI.LineStyle.Solid;this.fF=0;}else{this.kR='#000000';this.iv=IPCC.Web.UI.LineStyle.Solid;this.fF=1;}this.de=255;this.lM=IPCC.Web.UI.MarkInteractionMode.Full;var kN=false;switch(al){case IPCC.Web.UI.MarkType.Line:kN=true;bL=new IPCC.Web.UI.PointCollection();bL.addPoint({x:0,y:0});bL.addPoint({x:0,y:0});je=1;this.kR='#18385F';this.fF=6;break;case IPCC.Web.UI.MarkType.Polyline:kN=true;this.tO=false;bL=new IPCC.Web.UI.PointCollection();je=2;this.fF=2;break;case IPCC.Web.UI.MarkType.Rectangle:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=4;this.eI='#FB0404';this.fF=4;break;case IPCC.Web.UI.MarkType.Ellipse:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=8;this.eI='#FB0404';this.fF=4;break;case IPCC.Web.UI.MarkType.Polygon:bL=new IPCC.Web.UI.PointCollection();je=16;break;case IPCC.Web.UI.MarkType.Text:this.Di='#000000';this.zK=false;this.rK=IPCC.Web.UI.LineStyle.Solid;this.DA=1;this.lO=new IPCC.Web.UI.Point(0,0);this.Dc=IPCC.Web.UI.CalloutType.Triangle;this.xA=false;this.fP='Arial';this.dg=12;this.dm=IPCC.Web.UI.FontStyle.Regular;this.iv=IPCC.Web.UI.LineStyle.Solid;this.hw=0;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aq='';this.ie=IPCC.Web.UI.HorizontalAlignment.Left;this.wy=IPCC.Web.UI.VerticalAlignment.Top;this.rf='#000000';this.AI=255;this.Ai=IPCC.Web.UI.Orientation.TopLeft;this.fb=[];this.fF=4;this.de=127;this.eI='#FFFFFF';je=32;break;case IPCC.Web.UI.MarkType.Stamp:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=128;break;case IPCC.Web.UI.MarkType.Highlight:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.be='';this.kW='n';this.aX=0;this.ds='';this.cU=0;this.de=127;je=256;break;case IPCC.Web.UI.MarkType.HighlightText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.be='';this.kW='n';this.aX=0;this.ds='';this.cU=0;this.de=127;this.eI='#FFFF00';je=512;this.fb=[];this.aC=[];break;case IPCC.Web.UI.MarkType.Freehand:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=64;this.fF=4;this.kR='#000000';this.jd=false;this.Xh=1;this.Xo=1;this.ug='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=1024;this.ie=IPCC.Web.UI.HorizontalAlignment.Center;this.fF=4;this.kR='#000000';this.jd=false;this.Xh=1;this.Xo=1;this.ug='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=2048;this.ie=IPCC.Web.UI.HorizontalAlignment.Center;this.aq='John Doe';this.rf='#000000';this.eI='#000000';this.fP="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=4096;this.fP='Arial';this.dg=8;this.dm=IPCC.Web.UI.FontStyle.Regular;this.aq='';this.ie=IPCC.Web.UI.HorizontalAlignment.Center;this.wy=IPCC.Web.UI.VerticalAlignment.Center;this.eI='#000000';this.rf='#FFFFFF';this.AI=255;this.Ai=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aC=[];this.be='';this.fj='';this.aq='';this.fP='Arial';this.dg=8;this.aX=0;this.cU=0;je=8192;this.fb=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.nf='';this.fF=2;this.ds='';this.be='';this.kW='n';this.aX=0;this.cU=0;this.eI='#3B00FF';je=1<<14;this.fb=[];this.aC=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:R=new IPCC.Web.UI.Rectangle(0,0,0,0);je=16384;this.bx='';this.nK='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.nf='';this.Lm='';this.BF='';this.Fh=0;this.Fg=0;this.rw=255;je=32768;break;case IPCC.Web.UI.MarkType.TextLine:je=65536;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ie=IPCC.Web.UI.HorizontalAlignment.Left;this.aq='';this.rf='#000000';this.fP="Courier New";this.fF=1;this.jd=true;this.hw=0;this.CC=0;this.Jn=false;var jv=IPCC.G.uJ("M",this.fP,{uV:'pre'});this.za=jv.width;this.BE=jv.height;this.io=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Di='#000000';this.zK=false;this.rK=IPCC.Web.UI.LineStyle.Solid;this.DA=1;this.lO=new IPCC.Web.UI.Point(0,0);this.Dc=IPCC.Web.UI.CalloutType.Triangle;this.xA=false;this.fP='Courier New';this.iL=0;this.hw=0;this.dg=12;this.dm=IPCC.Web.UI.FontStyle.Regular;R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aq='';this.ie=IPCC.Web.UI.HorizontalAlignment.Left;this.wy=IPCC.Web.UI.VerticalAlignment.Top;this.rf='#000000';this.AI=255;this.Ai=IPCC.Web.UI.Orientation.TopLeft;this.fb=[];this.fF=1;this.jd=false;this.eI='#FFFFFF';this.de=0;je=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:R=new IPCC.Web.UI.Rectangle(0,0,0,0);this.be='';this.kR='#000000';this.fF=2;this.kW='n';this.aX=0;this.ds='';this.cU=0;je=1<<17;this.fb=[];this.aC=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',al);}if(al!==IPCC.Web.UI.MarkType.SignaturePath&&al!==IPCC.Web.UI.MarkType.Freehand&&al!==IPCC.Web.UI.MarkType.SignatureText&&al!==IPCC.Web.UI.MarkType.DocumentHyperlink&&al!==IPCC.Web.UI.MarkType.HighlightText&&al!==IPCC.Web.UI.MarkType.Strikethrough&&al!==IPCC.Web.UI.MarkType.TextLine){if(kN){this.GI=15;this.ET=25;this.oh=IPCC.Web.UI.LineHeadType.None;this.ze='#000000';this.FK=15;this.Gi=25;this.FY=IPCC.Web.UI.LineHeadType.None;}else{this.JV=true;this.jd=true;if(al===IPCC.Web.UI.MarkType.Highlight){this.jd=false;this.de=100;}}}this.abg=IPCC.Web.UI.aEJ++;this.ca=true;this.bj={};this.cj=[];var Lh=false;function azD(bS,h){T.bF('commentAdded',h);};function aAl(bS,h){T.bF('commentRemoved',h);};function OJ(bS,h){T.bF('commentChanged',h);};cG=new IPCC.Web.UI.Conversation(T);cG.add_commentAdded(azD);cG.add_commentChanged(OJ);cG.add_commentRemoved(aAl);this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};function ZN(bS,h){var aek='points';if(al===IPCC.Web.UI.MarkType.Line){aek=h.index===0?'startPoint':'endPoint';}T.dE(aek,h);};if(bL){bL.add_pointAdded(ZN);bL.add_pointChanged(ZN);bL.add_pointRemoved(ZN);}this.hU=function(){return al;};this.anb=function(){return sj;};this.afo=function(C){sj=C;};this.amN=function(){return sl;};this.XZ=function(C){sl=C;};this.en=function(){return bf;};this.ng=function(value){if(bf!==value){bf=value;this.dE('artPage');}};this.iE=function(){return Lh;};this.kp=function(C){Lh=C;};this.aci=function(){var na=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(al){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bL.uD();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return R.clone();case IPCC.Web.UI.MarkType.Text:var im=R.x+R.width,kf=R.y+R.height;var afO=R.x+this.lO.x,agd=R.y+this.lO.y;na.x=Math.min(R.x,Math.min(im,afO));na.y=Math.min(R.y,Math.min(kf,agd));na.width=Math.max(R.x,Math.max(im,afO))-na.x;na.height=Math.max(R.y,Math.max(kf,agd))-na.y;break;}return na;};this.fl=function(){return R.clone();};this.AR=function(C){this.CK(16384,'image','bx',C);};this.bZ=function(){return this.bx;};this.qO=function(){return bL;};this.asr=function(){return cG;};this.vk=function(){return cd;};this.Fa=function(C){var sU;if(!R.equals(C)){R=new IPCC.Web.UI.Rectangle(C.x,C.y,C.width,C.height);if(al===IPCC.Web.UI.MarkType.Stamp||al===IPCC.Web.UI.MarkType.SignatureText||al===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){sU=0;if(R.width>=R.height){sU=(R.width/14)/2;}else{sU=R.width/15;}if(sU*15>=R.width){sU=(R.width/15)/2;}this.stampSize=Math.round(sU);}else{var textFontSize=(R.width/6);if(textFontSize>R.height){textFontSize=(R.height-(R.height/6));}var mX=this.get_text();if(!mX){mX=(al===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}sU=mX.length*textFontSize;if(sU>R.width){textFontSize=((R.width/mX.length));}var CC=Math.round(textFontSize);this.stampSize=CC.toString();}}this.dE('rectangle');}};this.ke=function(){return this.abg;};this.Kk=function(fN,fJ){if(fN!==0||fJ!==0){switch(al){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bL.amB(fN,fJ);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(al===IPCC.Web.UI.MarkType.RectangleRedaction&&this.be!==undefined){break;}R.x+=fN;R.y+=fJ;this.dE('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.Wy=function(Wd){if(this.fb&&Wd!==this.fb){while(this.fb.length>0){this.fb.pop();}if(Wd){this.fb=Wd.slice(0);}this.bF('markTextSelectionChanged',{});}};this.Ki=function(H){if(this.fb){bh.addHandler('markTextSelectionChanged',H);}};this.Ho=function(H){if(this.fb){bh.removeHandler('markTextSelectionChanged',H);}};this.vB=function(H){bh.addHandler('commentAdded',H);};this.CW=function(H){bh.removeHandler('commentAdded',H);};this.vL=function(H){bh.addHandler('commentRemoved',H);};this.Dh=function(H){bh.removeHandler('commentRemoved',H);};this.sM=function(H){bh.addHandler('commentChanged',H);};this.ub=function(H){bh.removeHandler('commentChanged',H);};this.jS=function(H){bh.addHandler('propertyChanged',H);};this.nv=function(H){bh.removeHandler('propertyChanged',H);};this.dE=function(cg){var H=bh.getHandler('propertyChanged');if(H){H(this,new IPCC.qs(cg));}};this.jS(function(V){V.XZ(new Date());});return this;};Lc.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qO().getPoint(0)+' to '+this.qO().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qO().eQ()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fl();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fl();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fl();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qO().eQ()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.aq+'", at '+this.fl();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fl();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fl();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fl();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fl();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fl();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fl();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.ug+'", at '+this.fl();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.ug+'", at '+this.fl();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fl();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fl();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.fl();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fl();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fl();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.fl();}return 'Mark';},initializeDates:function(sj,sl){IPCC.aL.jo(sj,"dateCreated");IPCC.aL.jo(sl,"dateModified");this.afo(sj);this.XZ(sl);},get_dateCreated:function(){return this.anb();},get_dateModified:function(){return this.amN();},kY:function(ka,cg,kc,C){this.fi(ka,cg);if(this[kc]!==C){this[kc]=C;this.dE(cg);}},IC:function(ka,cg,kc,C){IPCC.aL.abu(C,cg);this.kY(ka,cg,kc,C);},yE:function(ka,cg,kc,C){IPCC.aL.jz(C,cg);this.kY(ka,cg,kc,C);},yg:function(ka,cg,kc,C,wH,wr){IPCC.aL.jI(C,cg,wH,wr);this.kY(ka,cg,kc,C);},So:function(ka,cg,kc,C,wH,wr){IPCC.aL.nj(C,cg,wH,wr);this.kY(ka,cg,kc,C);},CK:function(ka,cg,kc,C){IPCC.aL.al(C,cg,'string');this.kY(ka,cg,kc,C);},uO:function(ka,cg,kc,C,kw){IPCC.aL.kw(C,cg,kw);this.kY(ka,cg,kc,C);},anM:function(ka,cg,kc,C,kw){IPCC.aL.kw(C,cg,kw,true);this.kY(ka,cg,kc,C);},anV:function(ka,cg,kc,C){IPCC.aL.bw(C,cg);this.kY(ka,cg,kc,C);},get_artPage:function(){return this.en();},get_boundingRectangle:function(){return this.aci();},get_selected:function(){var bf=this.en();if(!bf){return false;}var eV=bf.zk();return eV.contains(this);},set_selected:function(value){var bf=this.en();if(bf){if(this.lM!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eV=bf.zk();if(value!==eV.contains(this)){if(value){eV.Om(this);}else{eV.tm(this);}this.dE('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fi(32,'calloutLineColor');return this.Di;},set_calloutLineColor:function(value){this.IC(32,'calloutLineColor','Di',value);},get_calloutLineIsDistinct:function(){this.fi(32,'calloutLineIsDistinct');return this.zK;},set_calloutLineIsDistinct:function(value){this.kY(32,'calloutLineIsDistinct','zK',value);},get_calloutLineStyle:function(){this.fi(32,'calloutLineStyle');return this.rK;},set_calloutLineStyle:function(value){this.uO(32,'calloutLineStyle','rK',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fi(32,'calloutLineWidth');return this.DA;},set_calloutLineWidth:function(value){this.yg(32,'calloutLineWidth','DA',value,0,50);},get_calloutPoint:function(){this.fi(32,'calloutPoint');return this.lO;},set_calloutPoint:function(value){this.anV(32,'calloutPoint','lO',value);},get_calloutType:function(){this.fi(32,'calloutType');return this.Dc;},set_calloutType:function(value){this.uO(32,'calloutType','Dc',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fi(32,'calloutVisible');return this.xA;},set_calloutVisible:function(value){if(!this.xA&&value&&this.hU()===IPCC.Web.UI.MarkType.Text){if(this.lO.x===0&&this.lO.y===0){var R=this.fl();this.set_calloutPoint({x:R.width,y:R.height*1.5});}}this.kY(32,'calloutVisible','xA',value);},get_endHeadAngle:function(){this.fi(3,'endHeadAngle');return this.GI;},set_endHeadAngle:function(value){this.yg(3,'endHeadAngle','GI',value,0,180);},get_endHeadLength:function(){this.fi(3,'endHeadLength');return this.ET;},set_endHeadLength:function(value){this.yg(3,'endHeadLength','ET',value,0,100);},get_endHeadType:function(){this.fi(3,'endHeadType');return this.oh;},set_endHeadType:function(value){this.uO(3,'endHeadType','oh',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fi(1<<14|1<<15,'href');return this.nf;},set_href:function(value){this.CK(1<<14|1<<15,'href','nf',value);},has_unsafe_href:function(){return(! !this.nf&&IPCC.G.afX(this.nf));},get_mask:function(){this.fi(65536,'mask');return this.io;},set_mask:function(value){this.kY(65536,'mask','io',value);},get_borderType:function(){this.fi(32768,'borderType');return this.Lm;},set_borderType:function(value){this.CK(32768,'borderType','Lm',value);},get_borderHorizontalRadius:function(){this.fi(32768,'borderHorizontalRadius');return this.Fh;},set_borderHorizontalRadius:function(value){this.yE(32768,'borderHorizontalRadius','Fh',value);},get_borderVerticalRadius:function(){this.fi(1<<15,'borderVerticalRadius');return this.Fg;},set_borderVerticalRadius:function(value){this.yE(32768,'borderVerticalRadius','Fg',value);},get_borderOpacity:function(){this.fi(32768,'rw');return this.rw;},set_borderOpacity:function(value){this.So(32768,'rw','rw',value,0,255);},get_borderPattern:function(){this.fi(32768,'BF');return this.BF;},set_borderPattern:function(value){this.kY(32768,'BF','BF',value,0,255);},get_fillColor:function(){this.fi(16380+(1<<14),'fillColor');return this.eI;},set_fillColor:function(value){this.IC(16380+(1<<14),'fillColor','eI',value);},get_fillVisible:function(){this.fi(16380,'fillVisible');return this.JV;},set_fillVisible:function(value){this.kY(16380,'fillVisible','JV',value);},get_fontName:function(){this.fi(6176+8192+65536+(1<<18),'fontName');return this.fP;},set_fontName:function(value){this.CK(6176+8192+65536+(1<<18),'fontName','fP',value);if(this.hU()===IPCC.Web.UI.MarkType.SignatureText||this.hU()===IPCC.Web.UI.MarkType.TextLine){var ag=(this.hU()===IPCC.Web.UI.MarkType.TextLine)?{uV:'pre'}:{};var jv=IPCC.G.uJ(this.aq,this.fP,ag);this.za=jv.width;this.BE=jv.height;}if(this.hU()===IPCC.Web.UI.MarkType.TextLine){this.Jn=false;}},get_fontSize:function(){this.fi(32+2048+4096+8192,'fontSize');return this.dg;},set_fontSize:function(value){this.yg(32+2048+4096+8192,'fontSize','dg',value,0.1,288);},get_fontStyle:function(){this.fi(6176+(1<<18),'fontStyle');return this.dm;},set_fontStyle:function(value){this.anM(6176+(1<<18),'fontStyle','dm',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fi(3,'headFillColor');return this.ze;},set_headFillColor:function(value){this.IC(3,'headFillColor','ze',value);},get_interactionMode:function(){this.fi(~0,'interactionMode');return this.lM;},set_interactionMode:function(value){this.uO(~0,'interactionMode','lM',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.fi(32+65536+(1<<18),'maxLength');return this.hw;},set_maxLength:function(value){this.yE(32+65536+(1<<18),'maxLength','hw',value);},get_maxFontSize:function(){this.fi(1<<18,'maxFontSize');return this.iL;},set_maxFontSize:function(value){this.yE(1<<18,'maxFontSize','iL',value);},get_isClosed:function(){this.fi(2,'isClosed');return this.tO;},set_isClosed:function(value){this.kY(2,'isClosed','tO',value);},get_lineColor:function(){return this.kR;},set_lineColor:function(value){this.IC(13567+32768+(1<<17),'lineColor','kR',value);},get_lineStyle:function(){return this.iv;},set_lineStyle:function(value){this.uO(63+32768,'lineStyle','iv',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.fF;},set_lineWidth:function(value){this.yg(13567+32768+(1<<17),'lineWidth','fF',value,0,50);},get_lineVisible:function(){this.fi(172+65536,'lineVisible');return this.jd;},set_lineVisible:function(value){this.kY(172+65536,'lineVisible','jd',value);},get_opacity:function(){return this.de;},set_opacity:function(value){this.So(895+2048+1024,'opacity','de',value,0,255);},get_points:function(){this.fi(19,'points');return this.qO();},get_conversation:function(){return this.asr();},get_data:function(){return this.vk();},get_image:function(){this.fi(16384,'image');return this.bZ();},set_image:function(value){this.fi(16384,'image');this.AR(value);},get_rectangle:function(){this.fi((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fl();},set_rectangle:function(value){this.fi((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aL.R(value,'rectangle');this.Fa(value);if(this.hU()===IPCC.Web.UI.MarkType.TextLine){this.Jn=false;}},get_startHeadAngle:function(){this.fi(3,'startHeadAngle');return this.FK;},set_startHeadAngle:function(value){this.yg(3,'startHeadAngle','FK',value,0,180);},get_startHeadLength:function(){this.fi(3,'startHeadLength');return this.Gi;},set_startHeadLength:function(value){this.yg(3,'startHeadLength','Gi',value,0,100);},get_startHeadType:function(){this.fi(3,'startHeadType');return this.FY;},set_startHeadType:function(value){this.uO(3,'startHeadType','FY',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fi(14496+65536+(1<<17)+(1<<18),'text');return this.aq;},set_text:function(value){if(this.aq===value){return;}this.CK(14496+65536+(1<<17)+(1<<18),'text','aq',value);if(this.hU()===IPCC.Web.UI.MarkType.SignatureText||this.hU()===IPCC.Web.UI.MarkType.TextLine){var ag=(this.hU()===IPCC.Web.UI.MarkType.TextLine)?{uV:'pre'}:{};var jv=IPCC.G.uJ(this.aq,this.fP,ag);this.za=jv.width;this.BE=jv.height;}if(this.fb){while(this.fb.length>0){this.fb.pop();}}},get_textHorizontalAlignment:function(){this.fi(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.ie;},set_textHorizontalAlignment:function(value){this.uO(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','ie',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fi(32,'textVerticalAlignment');return this.wy;},set_textVerticalAlignment:function(value){this.uO(32,'textVerticalAlignment','wy',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fi(6176+65536+(1<<18),'textColor');return this.rf;},set_textColor:function(value){this.IC(6176+65536+(1<<18),'textColor','rf',value);},get_textOpacity:function(){this.fi(32,'textOpacity');return this.AI;},set_textOpacity:function(value){this.So(32,'textOpacity','AI',value,0,255);},get_textOrientation:function(){this.fi(32,'textOrientation');return this.Ai;},set_textOrientation:function(value){this.uO(32,'textOrientation','Ai',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.hU();},get_visible:function(){return this.ca;},set_visible:function(value){this.kY((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','ca',value);},get_markID:function(){return this.ke();},get_pathString:function(){return this.ug;},set_pathString:function(value){var ug=this.get_pathString();if(ug!==value){this.alY=true;}this.CK(1088,'pathString','ug',value);},get_pathWidth:function(){return this.Xh;},set_pathWidth:function(value){this.yE(1088,'pathWidth','Xh',value);},get_pathHeight:function(){return this.Xo;},set_pathHeight:function(value){this.yE(1088,'pathHeight','Xo',value);},get_startIndex:function(){this.fi((1<<17)+(1<<14)+8192+512,'startIndex');return this.aX;},set_startIndex:function(value){this.yE((1<<17)+(1<<14)+8192+512,'startIndex','aX',value);},get_textLength:function(){this.fi((1<<17)+(1<<14)+8192+512,'textLength');return this.cU;},set_textLength:function(value){this.yE((1<<17)+(1<<14)+8192+512,'textLength','cU',value);},add_propertyChanged:function(handler){this.jS(handler);},remove_propertyChanged:function(handler){this.nv(handler);},add_markTextSelectionChanged:function(handler){this.Ki(handler);},remove_markTextSelectionChanged:function(handler){this.Ho(handler);},move:function(deltaX,deltaY){IPCC.aL.jz(deltaX,'deltaX');IPCC.aL.jz(deltaY,'deltaY');this.Kk(deltaX,deltaY);},moveBackward:function(){if(this.en()){var index=this.en().oA(this);var dw=this.en().alB();if(index>dw){this.en().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.en()){var index=this.en().oA(this);if(index<this.en().Re()-1){this.en().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.en()){var dw=0;dw=this.en().alB();this.en().reorderMark(this,dw);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.en()){this.en().reorderMark(this,this.en().Re()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.en()){this.en().removeMark(this);}},selectText:function(textRanges){this.Wy(textRanges);},aBy:function(){var eN={};var T=this;var bL,XI,bw,R,K;function dJ(cg,LN){eN[LN]=T[cg];};var kN=false;var jk=false;var yp=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kN=true;yp=true;eN.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kN=true;yp=true;eN.__type='PolyLineMark:#IPCC.Web';dJ('tO','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jk=true;eN.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:jk=true;eN.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:jk=true;eN.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:yp=true;eN.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:jk=true;eN.__type='TextMark:#IPCC.Web';dJ('Di','clc');dJ('zK','clid');dJ('rK','cls');dJ('DA','clw');dJ('Dc','ct');dJ('xA','cv');dJ('fP','fn');dJ('dg','fs');dJ('dm','fst');dJ('iv','ls');dJ('aq','te');dJ('ie','tha');dJ('wy','tva');dJ('rf','tc');dJ('AI','to');dJ('Ai','tor');bw=this.lO;if(bw.x!==0||bw.y!==0){eN.cp={x:bw.x,y:bw.y};}break;case IPCC.Web.UI.MarkType.Stamp:jk=true;eN.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:jk=true;eN.__type='HighlightText:#IPCC.Web';break;}if(kN){dJ('GI','eha');dJ('ET','ehl');dJ('oh','eht');dJ('ze','hfc');dJ('FK','sha');dJ('Gi','shl');dJ('FY','sht');}else{dJ('eI','fc');dJ('JV','fv');dJ('jd','lv');}if(jk){R=this.get_rectangle();eN.r={x:R.x,y:R.y,width:R.width,height:R.height};}eN.t=this.get_type();dJ('kR','lc');dJ('iv','ls');dJ('fF','lw');dJ('de','o');dJ('ca','v');if(yp){bL=this.qO();XI=[];for(K=0;K<bL.get_length();K++){bw=bL.getPoint(K);XI.push({x:bw.x,y:bw.y});}eN.p=XI;}return eN;},aBb:function(eN){var T=this;var bL,K;function dJ(cg,LN){if(eN.hasOwnProperty(LN)){T[cg]=eN[LN];}};var kN=false;var jk=false;var yp=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kN=true;if(eN.p&&eN.p.length===2){bL=this.qO();bL.setPoint(0,new IPCC.Web.UI.Point(eN.p[0].x,eN.p[0].y));bL.setPoint(1,new IPCC.Web.UI.Point(eN.p[1].x,eN.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kN=true;yp=true;dJ('tO','ic');break;case IPCC.Web.UI.MarkType.Rectangle:jk=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:jk=true;break;case IPCC.Web.UI.MarkType.Ellipse:jk=true;break;case IPCC.Web.UI.MarkType.Polygon:yp=true;break;case IPCC.Web.UI.MarkType.Text:jk=true;dJ('Di','clc');dJ('zK','clid');dJ('rK','cls');dJ('DA','clw');dJ('Dc','ct');dJ('xA','cv');dJ('fP','fn');dJ('dg','fs');dJ('dm','fst');dJ('iv','ls');dJ('aq','te');dJ('ie','tha');dJ('wy','tva');dJ('rf','tc');dJ('AI','to');dJ('Ai','tor');if(eN.cp){this.lO=new IPCC.Web.UI.Point(eN.cp.x,eN.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:jk=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:jk=true;break;}if(kN){dJ('GI','eha');dJ('ET','ehl');dJ('oh','eht');dJ('ze','hfc');dJ('FK','sha');dJ('Gi','shl');dJ('FY','sht');}else{dJ('eI','fc');dJ('JV','fv');dJ('jd','lv');}if(jk){if(eN.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eN.r.x,eN.r.y,eN.r.width,eN.r.height));}}eN.t=this.get_type();dJ('kR','lc');dJ('iv','ls');dJ('fF','lw');dJ('de','o');dJ('ca','v');if(eN.p&&yp){bL=this.qO();for(K=0;K<eN.p.length;K++){bL.addPoint(new IPCC.Web.UI.Point(eN.p[K].x,eN.p[K].y));}}return eN;}};Lc.registerClass=cZ;Lc.registerClass('IPCC.Web.UI.Mark');module.exports=Lc;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Lg=function(){var bQ=[];var bh=new IPCC.Web.UI.gd();this.Om=function(V){if(this.GH(V)=== -1){bQ.push(V);var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;this.bF('markAdded',h);}};this.axu=function(yN){var h=new IPCC.Web.UI.MarkEventArgs();h.length=yN.get_length();var T=this;function jX(V){if(T.GH(V)=== -1){bQ.push(V);}};yN.forEach(jX,{});if(h.length>0){this.bF('markAdded',h);}};this.mo=function(iQ,cK){var FT=[].concat(bQ);var K;for(K=0;K<FT.length;K++){iQ.call(cK,FT[K],K,this);}};this.eQ=function(){return bQ.length;};this.tm=function(V){var K=this.GH(V);if(K> -1){bQ.splice(K,1);var h=new IPCC.Web.UI.MarkEventArgs();h.mark=V;this.bF('markRemoved',h);}};this.GH=function(V){var K;for(K=0;K<bQ.length;K++){if(bQ[K]===V){return K;}}return-1;};this.zo=function(H){bh.addHandler('markAdded',H);};this.xI=function(H){bh.removeHandler('markAdded',H);};this.zx=function(H){bh.addHandler('markRemoved',H);};this.xO=function(H){bh.removeHandler('markRemoved',H);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};return this;};Lg.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Om(mark);},addMarks:function(markCollection){this.axu(markCollection);},forEach:function(method,context){this.mo(method,context);},get_length:function(){return this.eQ();},contains:function(mark){return this.GH(mark)> -1;},removeMark:function(mark){this.tm(mark);},removeAllMarks:function(){this.mo(function(V,aA,yN){yN.tm(V);});},add_markAdded:function(handler){this.zo(handler);},remove_markAdded:function(handler){this.xI(handler);},add_markRemoved:function(handler){this.zx(handler);},remove_markRemoved:function(handler){this.xO(handler);}};Lg.registerClass=cZ;Lg.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Lg;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var Mf=function(){return this;};Mf.registerClass=cZ;Mf.prototype={};Mf.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Mf;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var Bw=function(){};Bw.registerEnum=eC;Bw.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Bw.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Bw;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var LY=function(){};LY.registerEnum=eC;LY.prototype={Full:0,SelectionDisabled:1};LY.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=LY;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var KS=function(){};KS.registerEnum=eC;KS.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};KS.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=KS;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var eC=require('./../../IPCC.Util').regEnum;var Uf=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Uf.registerEnum=eC;Uf.prototype={leftButton:0,middleButton:1,rightButton:2};Uf.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var PY=function(){var ahP=false;this.azX=function(){ahP=true;};this.aji=function(){return ahP;};return this;};PY.prototype={preventDefault:function(){this.azX();}};PY.registerClass=cZ;PY.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=PY;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var OS=function(){};OS.registerEnum=eC;OS.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};OS.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=OS;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var Nh=function(){};Nh.registerEnum=eC;Nh.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};Nh.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=Nh;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var abh=function(element,oQ,MU){var hy=this;var aI;var L;var yo=0;var RY='';var PP=false;var bh=new IPCC.Web.UI.gd();var eu=null;var nN=IPCC.nN;var akd=IPCC.nN;var If=0.0;var EU=false;var Lt=0;var acE= -1;var afI= -1;var afD= -1;function nA(Jg){if(!L){return false;}return L.nA(Jg);};this.by=function(iR,ik){if(nA(IPCC.Web.UI.DebugErrorLevel.Production)){L.by(iR,ik);}};this.aK=function(iR,lk,tj){if(!nA(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],(tj?tj:0));}du+=')';this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);};this.CT=function(iR,lk,lK,tj){if(!nA(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],(tj?tj:0));}du+=') = ';du+=IPCC.iZ.rO(lK,1);this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);};this.dH=function(iR,lk,lK){if(!nA(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var du=iR+'(';var K;for(K=0;K<lk.length;K++){if(K>0){du+=', ';}du+=IPCC.iZ.rO(lk[K],0);}du+=') = ';du+=IPCC.iZ.rO(lK,1);this.tw(du,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tw=function(kV,bU){if(L){L.nF(kV,IPCC.Web.UI.DebugItemCause.FunctionCall,bU);}};this.nF=function(kV){if(L){L.nF(kV,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JP=function(){return L.get_debug();};this.YG=function(C){L.set_debug(C);};this.zz=function(){return L.zz();};this.Iw=function(C){IPCC.aL.kw(C,'value',IPCC.Web.UI.DebugErrorLevel);L.Iw(C);};this.aGR=function(C){EU=C;};this.aHn=function(){return EU;};var ph=function(){if(L.bZ()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cX(dA,H){bh.addHandler(dA,H);};function dh(dA,H){bh.removeHandler(dA,H);};this.Io=function(jm,dC){L.azg(jm,dC);};this.aze=function(dC,V){L.wN(V);L.cl();};this.VT=function(H){cX('pageOpening',H);};this.ZR=function(H){dh('pageOpening',H);};this.Wb=function(H){cX('pageOpened',H);};this.YQ=function(H){dh('pageOpened',H);};this.awS=function(H){cX('pageClosed',H);};this.aBi=function(H){dh('pageClosed',H);};this.JL=function(H){cX('pageOpenFailed',H);};this.HQ=function(H){dh('pageOpenFailed',H);};this.VJ=function(H){cX('pageDisplayed',H);};this.Yk=function(H){dh('pageDisplayed',H);};this.Or=function(H){cX('mouseDown',H);};this.Zi=function(H){dh('mouseDown',H);};this.Nf=function(H){cX('mouseMove',H);};this.Zv=function(H){dh('mouseMove',H);};this.NL=function(H){cX('mouseUp',H);};this.Yh=function(H){dh('mouseUp',H);};this.asf=function(H){cX('contextMenu',H);};this.aBj=function(H){dh('contextMenu',H);};this.zo=function(H){cX('markAdded',H);};this.xI=function(H){dh('markAdded',H);};this.Uq=function(H){cX('markCreating',H);};this.ZS=function(H){dh('markCreating',H);};this.Ie=function(H){cX('markChanged',H);};this.He=function(H){dh('markChanged',H);};this.zx=function(H){cX('markRemoved',H);};this.xO=function(H){dh('markRemoved',H);};this.Jv=function(H){cX('markReordered',H);};this.HS=function(H){dh('markReordered',H);};this.Vj=function(H){cX('marksLoaded',H);};this.Ya=function(H){dh('marksLoaded',H);};this.JZ=function(H){cX('markSelectionChanged',H);};this.Hg=function(H){dh('markSelectionChanged',H);};this.Cc=function(H){cX('textPageReady',H);};this.Do=function(H){dh('textPageReady',H);};this.Vz=function(H){cX('selectTextMouseToolCompleted',H);};this.YM=function(H){dh('selectTextMouseToolCompleted',H);};this.Vs=function(H){cX('exceptionThrown',H);};this.VA=function(H){cX('scaleChanged',H);};this.ZB=function(H){dh('scaleChanged',H);};this.Ze=function(H){dh('exceptionThrown',H);};this.zP=function(H){cX('textExtractionFailed',H);};this.Eh=function(H){dh('textExtractionFailed',H);};this.jS=function(H){cX('propertyChanged',H);};this.nv=function(H){dh('propertyChanged',H);};var bF=function(dA,h){try{var H;H=bh.getHandler(dA);if(H){H(hy,h);}}catch(e){hy.by(dA+'Event',e);}};var qC=function(dA){function yZ(bS,h){bF(dA,h);};L['add_'+dA](yZ);};var JH=function(dA){function yZ(bS,h){if(PP&&L.Oe()){Dv();}bF(dA,h);};L['add_'+dA](yZ);};function Dv(){var ez,nm,Xv;if(RY!==''){Xv=document.getElementById(RY);if(Xv){ez=hy.NP();nm='{encodedDocumentIdentifier:"'+ez.encodedDocumentIdentifier;nm+='",pageNumber:'+ez.pageNumber.toString();nm+=',viewFitType:'+ez.viewFitType.toString();if(ez.viewRectangle&&ez.viewFitType===IPCC.Web.UI.FitType.Rectangle){nm+=',viewRectangle:{x:'+ez.viewRectangle.x.toFixed(5);nm+=',y:'+ez.viewRectangle.y.toFixed(5);nm+=',width:'+ez.viewRectangle.width.toFixed(5);nm+=',height:'+ez.viewRectangle.height.toFixed(5);nm+='}';}if(ez.viewRotationDegreesClockwise){nm+=',viewRotationDegreesClockwise:'+ez.viewRotationDegreesClockwise.toString();}if(ez.viewMirror){nm+=',viewMirror:'+ez.viewMirror.toString();}if(ez.viewZoomFactor){nm+=',viewZoomFactor:'+ez.viewZoomFactor.toString();}if(PP){var bf=L.en();if(bf){nm+=',artPageJson:"'+IPCC.gG.uC(bf.saveToJson())+'"';}}nm+='}';Xv.value=nm;}}};var arF=function(){function yZ(bS,h){var Xq=true;switch(h.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Dv();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'IU':case 'wS':Xq=false;break;case 'JX':if(L.Oe()){Dv();}Xq=false;break;}if(Xq){bF('propertyChanged',h);}};L.jS(yZ);};this.YU=function(al){IPCC.aL.kw(al,'type',IPCC.Web.UI.FitType);if(al===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}ph();eu={aBf:true,viewFitType:al};Zu();};this.eP=function(){return L.bZ()!==undefined;};this.jP=function(){ph();return L.bZ().width;};this.jq=function(){ph();return L.bZ().height;};this.arH=function(){ph();return L.bZ().hA;};this.asx=function(){return L.az().eT().agc();};this.arT=function(){ph();return L.bZ().gH;};this.Lq=function(){if(!L|| !(L.bZ())){return '';}return L.bZ().get_identifier();};this.Oo=function(){if(!L|| !(L.bZ())){return '';}return L.bZ().get_encodedIdentifier();};this.po=function(){if(!L|| !(L.bZ())){return-1;}return L.bZ().aZ;};this.arG=function(){if(!L|| !(L.bZ())){return 0;}return L.bZ().eY;};this.amv=function(){var bx=L.bZ();if(!bx){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aa=L.eo();aa.x=aa.y=0;var tk=L.az().eT();tk.yx();var eL=tk.zR(aa);if(eL.x<0){eL.width+=eL.x;eL.x=0;}if(eL.y<0){eL.height+=eL.y;eL.y=0;}if(eL.x+eL.width>bx.width){eL.width=bx.width-eL.x;}if(eL.y+eL.height>bx.height){eL.height=bx.height-eL.y;}return eL;};function MV(){var cP={},cS=L.az().eT();cP.documentIdentifier=hy.Lq();cP.encodedDocumentIdentifier=hy.Oo();cP.pageNumber=hy.po();cP.artPage=hy.en();cP.referenceDocumentIdentifier=hy.Lq();cP.referencePageNumber=hy.po();cP.viewFitType=IPCC.Web.UI.FitType.Rectangle;cP.viewRectangle=hy.amv();cP.imGearPage=hy.mz();cP.transientArtPage=hy.mf();var gc=cS.agc();if(gc!==0){cP.viewRotationDegreesClockwise=gc;}if(cS.arJ()){cP.viewMirror=true;}return cP;};this.afN=function(aX,cO){L.afN(aX,cO);};this.NP=function(){var cP;if(aI){cP=new IPCC.Web.UI.PageViewState();cP.documentIdentifier=aI.documentIdentifier;cP.encodedDocumentIdentifier=aI.encodedDocumentIdentifier;cP.pageNumber=aI.pageNumber;cP.artPage=aI.artPage;cP.artPageJson=aI.artPageJson;cP.referenceDocumentIdentifier=aI.documentIdentifier;cP.referencePageNumber=aI.pageNumber;cP.viewFitType=aI.viewFitType;cP.viewRectangle=aI.viewRectangle;cP.viewRotationDegreesClockwise=aI.viewRotationDegreesClockwise;cP.viewMirror=aI.viewMirror;cP.viewZoomFactor=aI.viewZoomFactor;cP.transientArtPage=aI.transientArtPage;}else{cP=MV();}return cP;};this.Qk=function(bv){var aa=L.eo();this.aeH(bv,{x:aa.width/2,y:aa.height/2});};this.aeH=function(bv,dq){IPCC.aL.jI(bv,'factor',1.01,20);IPCC.aL.bw(dq,'point');ph();var aS=L.az();var bm=aS.eT();var bB=L.bZ();var jT=bm.qG();if(jT*bv>bB.sN){bv=bB.sN/jT;}bm.wp(bv,bv,dq.x,dq.y);bm.iV(bB,L.eo());eu=null;aS.jg(bm);};this.Wz=function(bv){var aa=L.eo();this.acI(bv,{x:aa.width/2,y:aa.height/2});};this.acI=function(bv,dq){IPCC.aL.jI(bv,'factor',1.01,20);IPCC.aL.bw(dq,'point');ph();var aS=L.az();var bm=aS.eT();var bB=L.bZ();var jT=bm.qG();if(jT/bv<bB.rC){bv=jT/bB.rC;}bm.wp(1/bv,1/bv,dq.x,dq.y);bm.iV(bB,L.eo());eu=null;aS.jg(bm);};this.kE=function(bv){var aa=L.eo();this.anF(bv,{x:aa.width/2,y:aa.height/2});};this.BH=function(bv){var aS=L.az();eu=null;aS.BH(bv);};this.Fd=function(bv){var aS=L.az();eu=null;aS.Fd(bv);};this.Cu=function(bv){var aS=L.az();eu=null;aS.Cu(bv);};this.anF=function(bv,dq){IPCC.aL.bw(dq,'point');ph();var aS=L.az();var bm=aS.eT();var bB=L.bZ();var jT=bm.qG();if(bv>bB.sN){bv=bB.sN;}else if(bv<bB.rC){bv=bB.rC;}bm.wp(bv/jT,bv/jT,dq.x,dq.y);bm.iV(bB,L.eo());eu=null;aS.jg(bm);};this.wZ=function(sX){IPCC.aL.Wt(sX,'degreesClockwise',[90,180,270,-90,-180,-270]);ph();var aS=L.az();var bm=aS.eT();var aa=L.eo();bm.acx(sX,aa.width/2,aa.height/2);bm.iV(L.bZ(),L.eo());eu=null;aS.jg(bm);};this.amE=function(){ph();var aS=L.az();var bm=aS.eT();var aa=L.eo();bm.wp(-1,1,aa.width/2,aa.height/2);bm.iV(L.bZ(),L.eo());eu=null;aS.jg(bm);};this.aqk=function(eL){IPCC.aL.R(eL,'pageRectangle');ph();var aS=L.az();var bm=aS.eT();var aa=L.eo();var bB=L.bZ();bm.QL(bB,aa,eL);bm.iV(bB,L.eo());eu=null;aS.jg(bm);};this.aqM=function(df){IPCC.aL.bw(df,'imagePoint');ph();var aS=L.az();var bm=aS.eT();var aa=L.eo();bm.aiZ(aa,df);bm.iV(L.bZ(),L.eo());eu=null;aS.jg(bm);};this.afs=function(){ph();eu=null;var aS=L.az();var bm=aS.eT();var aa=L.eo();bm.wp(1,-1,aa.width/2,aa.height/2);bm.iV(L.bZ(),L.eo());eu=null;aS.jg(bm);};this.cl=function(){L.cl();};this.Kb=function(){L.Kb();};var Zu=function(){var bB=L.bZ();var aa=L.eo();var bm;if(!eu){bm=L.az().eT();bm.iV(bB,aa);L.az().jg(bm);return;}if(eu.aBf){bm=L.az().eT();}else{bm=new IPCC.fo();bm.aoF(bB,aa);if(eu.viewRotationDegreesClockwise){bm.rotate(eu.viewRotationDegreesClockwise);}if(eu.viewMirror){bm.aov(aa);}}if(eu.viewZoomFactor){if(eu.viewZoomFactor>bB.sN){eu.viewZoomFactor=bB.sN;}else if(eu.viewZoomFactor<bB.rC){eu.viewZoomFactor=bB.rC;}eu.viewFitType=IPCC.Web.UI.FitType.ActualSize;bm.Ru(eu.viewFitType,bB,aa);bm.scale(eu.viewZoomFactor,eu.viewZoomFactor);}else{if(!eu.viewFitType&&eu.viewFitType!==0){eu.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eu.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eu.viewRectangle){eu.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eu.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bm.Ru(eu.viewFitType,bB,aa);}else{bm.QL(bB,aa,eu.viewRectangle);}}bm.iV(bB,aa);L.az().jg(bm);};var alm=function(Hm){eu=Hm;Lt=0;Zu();};this.NF=function(bp){yo++;var Wx=yo;var awl={};If=0.0;L.Ov=0.0;IPCC.gG.akc(bp);if(nA(IPCC.Web.UI.DebugErrorLevel.Development)){var du='opening documentIdentifier "'+bp.documentIdentifier+'", pageNumber '+bp.pageNumber;this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);}aI=new IPCC.Web.UI.PageViewState();var K;for(K in bp){if(bp.hasOwnProperty(K)){aI[K]=bp[K];}}if(bp.documentIdentifier===''){this.KG();return;}if(IPCC.Web.UI.ArtPage){if(aI){if(!aI.artPage){var bf=new IPCC.Web.UI.ArtPage();if(aI.artPageJson){bf.loadFromJson(aI.artPageJson);}aI.artPage=bf;}if(!aI.documentArtPage){var fL=new IPCC.Web.UI.ArtPage();aI.documentArtPage=fL;}if(this.kB()===true){if(!aI.imGearPage){var ga=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bp.documentIdentifier,imageServicePath:this.vD()});aI.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bp.pageNumber,aW:ga});ga.get_pages().addPage(aI.imGearPage);}if(!aI.transientArtPage){aI.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aI.viewRotationDegreesClockwise){IPCC.aL.Wt(aI.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aI.viewFitType){IPCC.aL.kw(aI.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aI.viewZoomFactor){IPCC.aL.jI(aI.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bF('pageOpening',bp);var bx=new IPCC.gG(bp.encodedDocumentIdentifier,bp.pageNumber,0,0,0,0);var pD=function(){if(Wx!==yo){return;}var tf=null;if(L.bZ()){tf=MV();}L.az().oS();L.AR(bx);alm(aI);if(bp.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aI){if(aI.artPage){L.ng(aI.artPage);L.en().loadFromJson(bx.awB);}}}else{if(aI){if(aI.artPage){L.ng(aI.artPage);}if(aI.documentArtPage){L.GV(aI.documentArtPage);}if(L.kB()===true){if(aI.imGearPage){var VV=aI.imGearPage.get_pageWidth();var UV=aI.imGearPage.get_pageHeight();aI.imGearPage.nZ(hy.ij());if(!VV){aI.imGearPage.Pf(hy.get_pageWidth());}if(!UV){aI.imGearPage.Qb(hy.get_pageHeight());}L.Fo(aI.imGearPage);if(typeof(L.mz().zt==='function')){if(!L.mz().dj().xm()){aI.imGearPage.wA(hy.kG());setTimeout(L.mz().zt,1000);}}}if(aI.transientArtPage){L.Cw(aI.transientArtPage);}}}}aI=null;if(tf){bF('pageClosed',tf);}Dv();bF('pageOpened',bp);};if(bp.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aI){if(!aI.artPageJson){bx.aGH(L.vD(),L,pD,awl);}else{bx.XS(L.vD(),L,pD);}}}else{bx.XS(L.vD(),L,pD);}};this.KG=function(){yo++;if(!(L.bZ())){return;}var tf=MV();L.AR(undefined);L.ng(undefined);L.Fo(undefined);L.Cw(undefined);this.cl();Dv();tf=undefined;aI=undefined;eu=undefined;var co;co=hy.mE();if(co.igElements){if(co.igElements.qS){co.igElements.qS.Aa=null;co.igElements.qS.vy=null;co.igElements.qS.Gr=null;co.igElements.qS=null;}co.igElements.CS=null;co.igElements.eK=null;co.igElements.ge=null;co.igElements.dk=null;co.igElements.nl=null;co.igElements.mp=null;co.igElements.kU=null;co.igElements.ql=null;co.igElements.Mh=null;co.igElements.Tq=null;co.igElements.pB=null;}hy=null;co.aV=null;bF('pageClosed',tf);};this.aER=function(bp){yo++;var Wx=yo;If=0.0;L.Ov=0.0;IPCC.gG.akc(bp);if(nA(IPCC.Web.UI.DebugErrorLevel.Development)){var du='opening documentIdentifier "'+bp.documentIdentifier+'", pageNumber '+bp.pageNumber;this.tw(du,IPCC.Web.UI.DebugErrorLevel.Development);}aI=new IPCC.Web.UI.PageViewState();var K;for(K in bp){if(bp.hasOwnProperty(K)){aI[K]=bp[K];}}if(bp.documentIdentifier===''){this.KG();return;}if(IPCC.Web.UI.ArtPage){if(aI){if(!aI.artPage){var bf=new IPCC.Web.UI.ArtPage();aI.artPage=bf;}if(!aI.documentArtPage){var fL=new IPCC.Web.UI.ArtPage();aI.documentArtPage=fL;}if(this.kB()===true){if(!aI.imGearPage){var ga=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bp.documentIdentifier,imageServicePath:this.vD()});aI.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bp.pageNumber,aW:ga});ga.get_pages().addPage(aI.imGearPage);}if(!aI.transientArtPage){aI.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aI.viewRotationDegreesClockwise){IPCC.aL.Wt(aI.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aI.viewFitType){IPCC.aL.kw(aI.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aI.viewZoomFactor){IPCC.aL.jI(aI.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bF('pageOpening',bp);var bx=new IPCC.gG(bp.encodedDocumentIdentifier,bp.pageNumber,0,0,0,0);var pD=function(){if(Wx!==yo){return;}var tf=null;if(L.bZ()){tf=MV();}L.az().oS();L.AR(bx);alm(aI);if(aI){if(aI.artPage){L.ng(aI.artPage);}if(aI.documentArtPage){L.GV(aI.documentArtPage);}if(L.kB()===true){if(aI.imGearPage){var VV=aI.imGearPage.get_pageWidth();var UV=aI.imGearPage.get_pageHeight();aI.imGearPage.nZ(hy.ij());if(!VV){aI.imGearPage.Pf(hy.get_pageWidth());}if(!UV){aI.imGearPage.Qb(hy.get_pageHeight());}L.Fo(aI.imGearPage);if(typeof(L.mz().zt==='function')){if(!L.mz().dj().xm()){aI.imGearPage.wA(hy.kG());setTimeout(L.mz().zt,1000);}}}if(aI.transientArtPage){L.Cw(aI.transientArtPage);}}}aI=null;if(tf){bF('pageClosed',tf);}Dv();bF('pageOpened',bp);};bx.aDG(L.vD(),L,pD);};this.aHT=function(){yo++;if(!(L.bZ())){return;}var bx=L.bZ();L.AR(undefined);this.cl();L.AR(bx);};this.Tn=function(Ep){L.Tn(Ep);};this.ng=function(C){L.ng(C);};this.en=function(){return L.en();};this.GV=function(C){L.GV(C);};this.NB=function(){return L.NB();};this.mf=function(){return L.mf();};this.Cw=function(C){L.Cw(C);};this.CY=function(){return L.CY();};this.apv=function(C){L.apv(C);};this.Hi=function(C){L.Hi(C);};this.ur=function(){return L.ur();};this.aqn=function(C){akd=this.aqC(C);};this.jt=function(){return akd;};this.aec=function(C){L.aec(C);};this.aaD=function(){return L.aaD();};this.mO=function(){return L.mO();};this.nU=function(C){L.nU(C);};this.ajd=function(C){L.ajd(C);};this.VZ=function(){return L.VZ();};this.YC=function(aFH){L.YC(aFH);};this.Wc=function(){return L.Wc();};this.aqC=function(bN){var ac='',Pn='',Uu=function(bD){var sG=0,ac;for(ac in bD){if(bD.hasOwnProperty(ac)){sG+=1;}}return sG;};for(ac in nN){if(nN.hasOwnProperty(ac)){if(typeof bN[ac]==='undefined'){bN[ac]=nN[ac];}if(typeof bN[ac]==='object'){if(!Uu(bN[ac])){bN[ac]=nN[ac];}else if(Uu(bN[ac])!==Uu(nN[ac])){for(Pn in nN[ac]){if(typeof bN[ac][Pn]==='undefined'){bN[ac][Pn]=nN[ac][Pn];}}}}}}return bN;};this.aqo=function(aqf){if(aqf===false){IPCC.gF=false;L.fd([new IPCC.lY(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}else{IPCC.gF=true;IPCC.agX=this.jt();L.fd([new IPCC.lY(),new IPCC.dI(),new IPCC.eU(),new IPCC.cL(),new IPCC.cn(false)]);}};this.oS=function(){var aS=L.az();if(!aS.zh()){return;}L.az().oS();};this.aqK=function(eL){IPCC.aL.R(eL,'pageRectangle');var bx=L.bZ();if(bx){L.az().showSelection(eL);}};this.Bm=function(df){IPCC.aL.bw(df,'imagePoint');if(L.bZ()){L.az().Bm(new IPCC.Web.UI.Point(df.x,df.y));}};this.xF=function(df){IPCC.aL.bw(df,'imagePoint');if(L.bZ()){L.az().xF(new IPCC.Web.UI.Point(df.x,df.y));}};this.yd=function(){if(L.bZ()&&L.az().zh()){return L.az().yd();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.auA=function(){if(L.bZ()&&L.az().zh()){var eL=L.az().yd();return L.az().eT().zR(eL);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.zh=function(){return! !(L.bZ()&&L.az().zh());};this.vD=function(){return L.vD();};this.Qs=function(C){IPCC.aL.kj(C,'value');L.Qs(C);};this.asG=function(){return RY;};this.arm=function(C){IPCC.aL.kj(C,'value');RY=C;};this.atf=function(){return PP;};this.aoO=function(C){PP=C;};var tI='';this.vG=function(C){L.vG(C);tI=C;};this.mE=function(){return tI;};this.asi=function(){return L.az().get_magnifierMagnification();};this.aoP=function(C){IPCC.aL.jI(C,'value',1.5,8);L.az().set_magnifierMagnification(C);};this.arq=function(){return L.az().uY().width;};this.aoi=function(C){IPCC.aL.jI(C,'value',25,500);var sG=L.az().uY();sG.width=C;L.az().set_magnifierWindowSize(sG);};this.arU=function(){return L.az().uY().height;};this.anz=function(C){IPCC.aL.jI(C,'value',25,500);var sG=L.az().uY();sG.height=C;L.az().set_magnifierWindowSize(sG);};this.Qh=function(){return L.az().Qh();};this.Qw=function(C){IPCC.aL.jI(C,'value',-500,500);L.az().Qw(C);};this.Qo=function(){return L.az().Qo();};this.QI=function(C){IPCC.aL.jI(C,'value',-500,500);L.az().QI(C);};this.RX=function(){return L.az().RX();};this.Tl=function(C){IPCC.aL.jI(C,'value',0.1,0.5);L.az().Tl(C);};this.zV=function(){return L.az().zV();};this.Ic=function(C){L.az().Ic(C);};this.raisePropertyChanged=function(cg,xR){if(L){L.dE(cg,xR);}};var aw= -1;this.SZ=function(){return aw;};this.aIi=function(C){L.sh=C;};this.LF=function(C){L.set_areMarksEditable(C);};this.aGW=function(){return L.set_areMarksEditable();};this.HV=function(C){IPCC.aL.kw(C,'value',IPCC.Web.UI.MouseTool);if(aw!==C){aw=C;var iU="None";switch(aw){case IPCC.Web.UI.MouseTool.None:L.fd([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gF===true){L.fd([new IPCC.qU(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.qU(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);iU="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gF===true){L.fd([new IPCC.lY(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.lY(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gF===true){L.fd([new IPCC.oc(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(true)]);}else{L.fd([new IPCC.oc(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(true)]);}iU="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gF===true){L.fd([new IPCC.oM(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.oM(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gF===true){L.fd([new IPCC.oR(),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.oR(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gF===true){L.fd([new IPCC.kv(IPCC.Web.UI.MarkType.Polyline),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.kv(IPCC.Web.UI.MarkType.Polyline),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gF===true){L.fd([new IPCC.lv(),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.lv(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gF===true){L.fd([new IPCC.kv(IPCC.Web.UI.MarkType.Polygon),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.kv(IPCC.Web.UI.MarkType.Polygon),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.TextLine),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.TextLine),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);iU="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gF===true){L.fd([new IPCC.mC(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.mC(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gF===true){L.fd([new IPCC.Ah(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.Ah(IPCC.Web.UI.MarkType.Text),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Stamp),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.Stamp),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gF===true){L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.eg(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:L.EU=true;if(IPCC.gF===true){L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:L.EU=false;if(IPCC.gF===true){L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.eU(false,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gF===true){L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.eU(true,this.jt()),new IPCC.cL(),new IPCC.cn(false)]);}else{L.fd([new IPCC.kM(),new IPCC.dI(),new IPCC.cL(),new IPCC.cn(false)]);}iU="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:iU});}};this.HT=function(avA){aw= -1;L.fd(avA);};this.asX=function(){return L.az().get_presentationQuality();};this.aqU=function(C){IPCC.aL.jI(C,'value',0,100);L.az().set_presentationQuality(C);};this.auY=function(){return L.az().get_scrollBars();};this.apJ=function(C){IPCC.aL.kw(C,'value',IPCC.Web.UI.ScrollBars);L.az().set_scrollBars(C);};this.aqO=function(df,awz){IPCC.aL.bw(df,'imagePoint');if(!(L.bZ())){return new IPCC.Web.UI.Point(0,0);}var dq=L.az().eT().transform(df);if(awz){dq.constrain(L.eo());}return dq;};this.LG=function(dq,awL){IPCC.aL.bw(dq,'windowPoint');var bx=L.bZ();if(!bx){return new IPCC.Web.UI.Point(0,0);}var tk=L.az().eT();tk.yx();var df=tk.transform(dq);if(awL){df.constrain(bx);}return df;};function aEu(){var co;co=hy.mE();var aki=co.clientWidth;var alc=co.clientHeight;var aBx=(eu&&eu.viewFitType===acE&&aki===afI&&alc===afD);if(aBx){if(Lt>2){return;}Lt++;}else{acE=eu?eu.viewFitType: -1;afI=aki;afD=alc;Lt=0;}Zu();};function asI(){eu=null;};function azL(bS,h){switch(h.hq){case IPCC.fk.aeJ:hy.aeH(1.25,h.Vd.windowPoint);break;case IPCC.fk.ade:hy.acI(1.25,h.Vd.windowPoint);break;case IPCC.fk.aaK:hy.wZ(h.C);break;case IPCC.fk.adU:hy.afs();break;case IPCC.fk.alI:hy.amE();break;case IPCC.fk.abb:hy.YU(h.C);break;case IPCC.fk.adp:hy.HV(h.C);break;}};this.kB=function(){return L.kB();};this.Ib=function(C){L.Ib(C);};this.dj=function(){return L.dj();};this.mz=function(){return L.mz();};this.Fo=function(C){L.Fo(C);};this.As=function(){return L.get_requireRequestsOptimize();};this.HK=function(C){L.HK(C);};this.kG=function(){return L.kG();};this.wA=function(C){L.wA(C);};this.Jt=function(df){IPCC.aL.bw(df,'imagePoint');return L.Jt(df);};this.zG=function(cz){L.zG(cz);};this.Xy=function(){L.Xy();};this.Nt=function(wJ,cO){var JB=L.dj().hJ().eQ();IPCC.aL.nj(wJ,'wJ',0,JB-1);L.Nt(wJ,cO);};this.us=function(cz){if(cz===undefined){L.az().us(cz);return false;}var JB=L.dj().hJ().eQ();IPCC.aL.nj(cz,'textIndex',0,JB-1);L.us(cz);return true;};this.IP=function(){return! !(L.bZ()&&L.kB()&&L.dj().mw()===true&&L.az().IP());};this.WH=function(){var aS=L.az();aS.WH();};this.KO=function(){if(L.kB()&&L.dj().mw()===true){return Math.min(L.az().amh(),L.az().By());}};this.DH=function(){if(L.kB()&&L.dj().mw()===true){return L.az().DH();}};this.EZ=function(){if(L.kB()&&L.dj().mw()===true&&L.az().IP()){return L.EZ();}else{return "";}};this.By=function(){return L.az().By();};this.aru=function(){return L.get_cursor();};this.aqp=function(C){L.set_cursor(C);};this.AG=function(){return L.AG();};this.Zw=function(C){L.Zw(C);};this.ij=function(){return L.ij();};this.nZ=function(C){L.nZ(C);};this.atq=function(){L.az().hideMagnifier();};this.aqq=function(dq){L.az().showMagnifier(dq);};this.wN=function(V){if(L.lE().igElements){L.wN(V);L.cl();}};this.Hq=function(){L.Hq();};this.Eu=function(){return L.Eu();};this.oz=function(){if(L.lE().igElements){L.oz(true);}};function aDX(bS,h){var xk=h.scaleFactor;var ba={scaleType:"scaledDown",pageNumber:h.pageNumber};if(If!==xk){if(xk>If){ba.scaleType="scaledUp";}If=xk;bF('scaleChanged',ba);}};this.initialize=function(){L.aot(this.mE().id);L.vG(this.mE().id);if(aw=== -1){this.HV(IPCC.Web.UI.MouseTool.RectangleZoom);}qC('mouseDown');qC('mouseMove');qC('mouseUp');qC('contextMenu');qC('markCreating');qC('pageOpenFailed');qC('textPageReady');qC('pageDisplayed');qC('exceptionThrown');qC('selectTextMouseToolCompleted');JH('markAdded');JH('markChanged');JH('markRemoved');qC('textExtractionFailed');JH('markReordered');JH('marksLoaded');qC('markSelectionChanged');arF();L.axA(aEu);L.ayx(asI);L.arR(azL);L.add_scaleChanged(aDX);L.aEy();var co=this.mE();co.aV=this;};oQ=(oQ!==false);L=new IPCC.Tf(oQ);L.aql('PageView');L.ark(MU);};abh.prototype={dispose:function(){this.aK('dispose',arguments);this.KG();},get_debug:function(){try{var bk=this.JP();this.dH('get_debug',arguments,bk);return bk;}catch(e){this.by('get_debug',e);throw e;}},set_debug:function(value){try{this.aK('set_debug',arguments);var xQ=this.JP();this.YG(value);if(!xQ){this.aK('set_debug',arguments);}}catch(e){this.by('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bk=this.zz();this.dH('get_debugErrorLevel',arguments,bk);return bk;}catch(e){this.by('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.aK('set_debugErrorLevel',arguments);var xQ=this.zz();this.Iw(value);if(xQ<IPCC.Web.UI.DebugErrorLevel.Development){this.aK('set_debugErrorLevel',arguments);}}catch(e){this.by('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bk=this.Wc();this.dH('get_artServiceOption',arguments,bk);return bk;}catch(e){this.by('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.aK('set_artServiceOption',arguments);this.YC(value);}catch(e){this.by('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.VT(handler);}catch(e){this.by('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.ZR(handler);}catch(e){this.by('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Wb(handler);}catch(e){this.by('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.YQ(handler);}catch(e){this.by('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awS(handler);}catch(e){this.by('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.aBi(handler);}catch(e){this.by('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.JL(handler);}catch(e){this.by('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.HQ(handler);}catch(e){this.by('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.VJ(handler);}catch(e){this.by('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yk(handler);}catch(e){this.by('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Or(handler);}catch(e){this.by('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Zi(handler);}catch(e){this.by('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Nf(handler);}catch(e){this.by('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.Zv(handler);}catch(e){this.by('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NL(handler);}catch(e){this.by('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yh(handler);}catch(e){this.by('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.asf(handler);}catch(e){this.by('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aBj(handler);}catch(e){this.by('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.zo(handler);}catch(e){this.by('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.xI(handler);}catch(e){this.by('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Uq(handler);}catch(e){this.by('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.ZS(handler);}catch(e){this.by('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Ie(handler);}catch(e){this.by('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.He(handler);}catch(e){this.by('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.zx(handler);}catch(e){this.by('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.xO(handler);}catch(e){this.by('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Jv(handler);}catch(e){this.by('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.HS(handler);}catch(e){this.by('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Vj(handler);}catch(e){this.by('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Ya(handler);}catch(e){this.by('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JZ(handler);}catch(e){this.by('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Hg(handler);}catch(e){this.by('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Vz(handler);}catch(e){this.by('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.YM(handler);}catch(e){this.by('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.Cc(handler);}catch(e){this.by('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Do(handler);}catch(e){this.by('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Vs(handler);},remove_exceptionThrown:function(handler){this.Ze(handler);},add_scaleChanged:function(handler){try{this.VA(handler);}catch(e){this.by('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.ZB(handler);}catch(e){this.by('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.jS(handler);}catch(e){this.by('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nv(handler);}catch(e){this.by('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.zP(handler);},remove_textExtractionFailed:function(handler){this.Eh(handler);},writeToLog:function(message){try{this.nF(message);}catch(e){this.by('writeToLog',e);throw e;}},fitPage:function(type){try{this.aK('fitPage',arguments);this.YU(type);}catch(e){this.by('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bk=this.eP();this.dH('get_pageIsOpen',arguments,bk);return bk;}catch(e){this.by('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bk=this.jP();this.dH('get_pageWidth',arguments,bk);return bk;}catch(e){this.by('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bk=this.jq();this.dH('get_pageHeight',arguments,bk);return bk;}catch(e){this.by('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bk=this.arH();this.dH('get_pageXResolution',arguments,bk);return bk;}catch(e){this.by('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bk=this.arT();this.dH('get_pageYResolution',arguments,bk);return bk;}catch(e){this.by('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bk=this.Lq();this.dH('get_documentIdentifier',arguments,bk);return bk;}catch(e){this.by('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bk=this.Oo();this.dH('get_encodedDocumentIdentifier',arguments,bk);return bk;}catch(e){this.by('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bk=this.po();this.dH('get_pageNumber',arguments,bk);return bk;}catch(e){this.by('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bk=this.arG();this.dH('get_documentPageCount',arguments,bk);return bk;}catch(e){this.by('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bk=this.amv();this.dH('get_displayedPageRectangle',arguments,bk);return bk;}catch(e){this.by('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bk=this.NP();this.dH('get_currentState',arguments,bk);return bk;}catch(e){this.by('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.aK('zoomIn',arguments);this.Qk(factor);}catch(e){this.by('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.aK('zoomOut',arguments);this.Wz(factor);}catch(e){this.by('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.aK('set_sharpening',arguments);this.BH(factor);}catch(e){this.by('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.aK('set_gamma',arguments);this.Fd(factor);}catch(e){this.by('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.aK('set_svgLineWidthMultiplier',arguments);this.Cu(factor);}catch(e){this.by('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.aK('zoom',arguments);this.kE(factor);}catch(e){this.by('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.aK('rotate',arguments);this.wZ(degreesClockwise);}catch(e){this.by('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.aK('showPageRectangle',arguments,1);this.aqk(imageRectangle);}catch(e){this.by('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.aK('showPagePointAtCenter',arguments,1);this.aqM(imagePoint);}catch(e){this.by('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.aK('mirror',arguments);this.amE();}catch(e){this.by('mirror',e);throw e;}},flip:function(){try{this.aK('flip',arguments);this.afs();}catch(e){this.by('flip',e);throw e;}},display:function(){try{this.aK('display',arguments);this.cl();}catch(e){this.by('display',e);throw e;}},openPage:function(parameters){try{this.aK('openPage',arguments,1);this.NF(parameters);}catch(e){this.by('openPage',e);throw e;}},closePage:function(){try{this.aK('closePage',arguments);this.KG();}catch(e){this.by('closePage',e);throw e;}},hideSelection:function(){try{this.aK('hideSelection',arguments);this.oS();}catch(e){this.by('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.aK('showSelection',arguments);this.aqK(imageRectangle);}catch(e){this.by('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.aK('showEmptySelection',arguments);this.Bm(imagePoint);}catch(e){this.by('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.aK('extendSelection',arguments);this.xF(imagePoint);}catch(e){this.by('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.aK('saveArtPage',arguments);this.Tn(onSave);}catch(e){this.by('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bk=this.yd();this.dH('get_selectionPageRectangle',arguments,bk);return bk;}catch(e){this.by('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bk=this.auA();this.dH('get_selectionWindowRectangle',arguments,bk);return bk;}catch(e){this.by('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bk=this.zh();this.dH('get_selectionIsVisible',arguments,bk);return bk;}catch(e){this.by('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bk=this.asG();this.dH('get_controlStateElementId',arguments,bk);return bk;}catch(e){this.by('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.aK('set_controlStateElementId',arguments);this.arm(value);}catch(e){this.by('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bk=this.atf();this.dH('get_includeArtInPostBack',arguments,bk);return bk;}catch(e){this.by('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.aK('set_includeArtInPostBack',arguments);this.aoO(value);}catch(e){this.by('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bk=this.en();this.dH('get_artPage',arguments,bk);return bk;}catch(e){this.by('get_artPage',e);throw e;}},set_artPage:function(value){try{this.aK('set_artPage',arguments);this.ng(value);}catch(e){this.by('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bk=this.NB();this.dH('get_documentArtPage',arguments,bk);return bk;}catch(e){this.by('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.aK('set_documentArtPage',arguments);this.GV(value);}catch(e){this.by('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bk=this.mf();this.dH('get_transientArtPage',arguments,bk);return bk;}catch(e){this.by('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.aK('set_transientArtPage',arguments);this.Cw(value);}catch(e){this.by('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bk=this.vD();this.dH('get_imageHandlerUrl',arguments,bk);return bk;}catch(e){this.by('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.aK('set_imageHandlerUrl',arguments);this.Qs(value);}catch(e){this.by('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bk=this.ur();this.dH('get_resourcePath',arguments,bk);return bk;}catch(e){this.by('get_resourcePath',e);throw e;}},set_resourcePath:function(C){try{this.aK('set_resourcePath',arguments);this.Hi(C);}catch(e){this.by('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bk=this.jt();this.dH('get_contextMenuLanguageDictionary',arguments,bk);return bk;}catch(e){this.by('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(C){try{this.aK('set_contextMenuLanguageDictionary',arguments);this.aqn(C);}catch(e){this.by('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bk=this.kB();this.dH('get_textRequired',arguments,bk);return bk;}catch(e){this.by('get_textRequired',e);throw e;}},set_textRequired:function(C){try{this.aK('set_textRequired',arguments);this.Ib(C);}catch(e){this.by('set_textRequired',e);throw e;}},get_textPage:function(){try{var bk=this.dj();this.dH('get_textPage',arguments,bk);return bk;}catch(e){this.by('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bk=this.IP();this.CT('textSelectionIsVisible',arguments,bk,1);return bk;}catch(e){this.by('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bk=this.EZ();this.CT('getSelectedText',arguments,bk,1);return bk;}catch(e){this.by('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bk=this.As();this.dH('get_requireRequestsOptimize',arguments,bk);return bk;}catch(e){this.by('As',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.aK('set_requireRequestsOptimize',arguments);this.HK(value);}catch(e){this.by('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bk=this.asi();this.dH('get_magnifierMagnification',arguments,bk);return bk;}catch(e){this.by('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.aK('set_magnifierMagnification',arguments);this.aoP(value);}catch(e){this.by('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bk=this.arq();this.dH('get_magnifierWidth',arguments,bk);return bk;}catch(e){this.by('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.aK('set_magnifierWidth',arguments);this.aoi(value);}catch(e){this.by('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bk=this.arU();this.dH('get_magnifierHeight',arguments,bk);return bk;}catch(e){this.by('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.aK('set_magnifierHeight',arguments);this.anz(value);}catch(e){this.by('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bk=this.Qh();this.dH('get_magnifierXOffset',arguments,bk);return bk;}catch(e){this.by('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.aK('set_magnifierXOffset',arguments);this.Qw(value);}catch(e){this.by('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bk=this.Qo();this.dH('get_magnifierYOffset',arguments,bk);return bk;}catch(e){this.by('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.aK('set_magnifierYOffset',arguments);this.QI(value);}catch(e){this.by('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.aK('showMagnifier',arguments,1);this.aqq(windowPoint);}catch(e){this.by('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.aK('hideMagnifier',arguments);this.atq();}catch(e){this.by('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bk=this.RX();this.dH('get_markHandleSize',arguments,bk);return bk;}catch(e){this.by('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.aK('set_markHandleSize',arguments);this.Tl(value);}catch(e){this.by('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bk=this.zV();this.dH('get_markHandleMode',arguments,bk);return bk;}catch(e){this.by('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.aK('set_markHandleMode',arguments);this.Ic(value);}catch(e){this.by('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bk=this.SZ();this.dH('get_mouseTool',arguments,bk);return bk;}catch(e){this.by('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.aK('set_mouseTool',arguments);this.HV(value);}catch(e){this.by('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bk=this.asX();this.dH('get_presentationQuality',arguments,bk);return bk;}catch(e){this.by('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.aK('set_presentationQuality',arguments);this.aqU(value);}catch(e){this.by('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bk=this.auY();this.dH('get_scrollBars',arguments,bk);return bk;}catch(e){this.by('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.aK('set_scrollBars',arguments);this.apJ(value);}catch(e){this.by('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bk=this.mz();this.dH('get_imGearPage',arguments,bk);return bk;}catch(e){this.by('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.aK('set_imGearPage',arguments);this.Fo(value);}catch(e){this.by('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bk=this.kG();this.dH('get_serviceResponseTimeout',arguments,bk);return bk;}catch(e){this.by('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.aK('set_serviceResponseTimeout',arguments);this.wA(value);}catch(e){this.by('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bk=this.By();this.dH('get_currentTextIndex',arguments,bk);return bk;}catch(e){this.by('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bk=this.aru();this.dH('get_cursor',arguments,bk);return bk;}catch(e){this.by('get_cursor',e);throw e;}},set_cursor:function(value){try{this.aK('set_cursor',arguments);this.aqp(value);}catch(e){this.by('set_cursor',e);throw e;}},get_encryption:function(){try{var bk=this.ij();this.dH('get_encryption',arguments,bk);return bk;}catch(e){this.by('get_encryption',e);throw e;}},set_encryption:function(value){try{this.aK('set_encryption',arguments);this.nZ(value);}catch(e){this.by('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bk=this.aqO(imagePoint,constrainResultToWindow);this.CT('transformPagePointToWindow',arguments,bk,1);return bk;}catch(e){this.by('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bk=this.LG(windowPoint,constrainResultToImage);this.CT('transformWindowPointToPage',arguments,bk,1);return bk;}catch(e){this.by('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bk=this.Jt(pagePoint);this.CT('transformPagePointToTextIndex',arguments,bk,1);return bk;}catch(e){this.by('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.aK('removeAllHighlights',arguments);this.Xy();}catch(e){this.by('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.aK('showTextSelection',arguments);this.Nt(indexOfFirstCharacter,length);}catch(e){this.by('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.aK('showEmptyTextSelection',arguments);this.zG(textIndex);}catch(e){this.by('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.aK('extendTextSelection',arguments);this.us(textIndex);}catch(e){this.by('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.aK('initializeViewControllers',arguments);this.aqo(showArtContextMenu);}catch(e){this.by('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bk=this.AG();this.dH('get_autoUpdate',arguments,bk);return bk;}catch(e){this.by('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.aK('set_autoUpdate',arguments);this.Zw(value);}catch(e){this.by('set_autoUpdate',e);throw e;}}};module.exports=abh;},{}],114:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var nC=require('./FitType');var NS=function(){return this;};NS.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nC.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};NS.registerClass=cZ;NS.registerClass('IPCC.Web.UI.PageViewState');module.exports=NS;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var vr=function(x,y){this.x=x;this.y=y;return this;};vr.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};vr.registerClass=cZ;vr.registerClass('IPCC.Web.UI.Point');module.exports=vr;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var PB=function(){var bL=[];var bh=new IPCC.Web.UI.gd();this.axc=function(bw){var h=new IPCC.Web.UI.PointEventArgs();h.point=bw;h.length=1;bL.push(new IPCC.Web.UI.Point(bw.x,bw.y));h.index=bL.length-1;this.bF('pointAdded',h);};this.avp=function(aeo){var h=new IPCC.Web.UI.PointEventArgs();h.index=bL.length;h.length=aeo.get_length();function jX(bw){bL.push(bw);};aeo.forEach(jX,{});if(h.length>0){this.bF('pointAdded',h);}};this.mo=function(iQ,cK){var Xe=[].concat(bL);var K;for(K=0;K<Xe.length;K++){iQ.call(cK,new IPCC.Web.UI.Point(Xe[K].x,Xe[K].y),K,this);}};this.zs=function(aA){lT(aA);var fp=bL[aA];return new IPCC.Web.UI.Point(fp.x,fp.y);};this.aoy=function(aA,bw){lT(aA);IPCC.aL.bw(bw,'point');var Qm=bL[aA];if(Qm.x===bw.x&&Qm.y===bw.y){return;}Qm.x=bw.x;Qm.y=bw.y;var h=new IPCC.Web.UI.PointEventArgs();h.point=bw;h.index=aA;h.length=1;this.bF('pointChanged',h);};this.eQ=function(){return bL.length;};this.aBM=function(aA){lT(aA);var h=new IPCC.Web.UI.PointEventArgs();h.point=bL[aA];h.index=aA;h.length=1;bL.splice(aA,1);this.bF('pointRemoved',h);};this.aCH=function(){if(bL.length<1){return;}var h=new IPCC.Web.UI.PointEventArgs();h.index=0;h.length=bL.length;bL=[];this.bF('pointRemoved',h);};this.amB=function(fN,fJ){if(fN===0&&fJ===0){return;}IPCC.aL.jz(fN,'deltaX');IPCC.aL.jz(fJ,'deltaY');var K;for(K=0;K<bL.length;K++){bL[K].x+=fN;bL[K].y+=fJ;}var h=new IPCC.Web.UI.PointEventArgs();h.index=0;h.length=bL.length;this.bF('pointChanged',h);};this.uD=function(){if(bL.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var K,fR=bL[0].x,im=bL[0].x,_top=bL[0].y,kf=bL[0].y;for(K=1;K<bL.length;K++){var bw=bL[K];fR=Math.min(fR,bw.x);im=Math.max(im,bw.x);_top=Math.min(_top,bw.y);kf=Math.max(kf,bw.y);}return new IPCC.Web.UI.Rectangle(fR,_top,im-fR,kf-_top);};function lT(aA){if(aA>bL.length-1||(aA<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aA);}};this.axf=function(H){bh.addHandler('pointAdded',H);};this.aCg=function(H){bh.removeHandler('pointAdded',H);};this.ayM=function(H){bh.addHandler('pointChanged',H);};this.aCu=function(H){bh.removeHandler('pointChanged',H);};this.ayH=function(H){bh.addHandler('pointRemoved',H);};this.aCO=function(H){bh.removeHandler('pointRemoved',H);};this.bF=function(dA,h){var H=bh.getHandler(dA);if(H!==null){H(this,h);}};return this;};PB.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.axc(point);},addPoints:function(pointCollection){this.avp(pointCollection);},forEach:function(method,context){this.mo(method,context);},getPoint:function(index){return this.zs(index);},setPoint:function(index,point){this.aoy(index,point);},get_length:function(){return this.eQ();},removePoint:function(index){this.aBM(index);},removeAllPoints:function(){this.aCH();},moveAllPoints:function(deltaX,deltaY){this.amB(deltaX,deltaY);},add_pointAdded:function(handler){this.axf(handler);},remove_pointAdded:function(handler){this.aCg(handler);},add_pointChanged:function(handler){this.ayM(handler);},remove_pointChanged:function(handler){this.aCu(handler);},add_pointRemoved:function(handler){this.ayH(handler);},remove_pointRemoved:function(handler){this.aCO(handler);}};PB.registerClass=cZ;PB.registerClass('IPCC.Web.UI.PointCollection');module.exports=PB;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var OI=function(){return this;};OI.registerClass=cZ;OI.prototype={};OI.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=OI;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var KM=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};KM.prototype={intersect:function(rectangle){var aD=Math.max(this.x,rectangle.x);var bz=Math.min(this.x+this.width,rectangle.x+rectangle.width)-aD;var cF=Math.max(this.y,rectangle.y);var cq=Math.min(this.y+this.height,rectangle.y+rectangle.height)-cF;if(bz<=0||cq<=0){aD=cF=bz=cq=0;}this.x=aD;this.y=cF;this.width=bz;this.height=cq;},union:function(rectangle){var fR=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var im=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kf=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=fR;this.y=_top;this.width=im-fR;this.height=kf-_top;return this;},scale:function(Xt,RS){RS=RS||Xt;var fR=this.x*Xt;var _top=this.y*RS;var bz=this.width*Xt;var cq=this.height*RS;this.x=fR;this.y=_top;this.width=bz;this.height=cq;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};KM.registerClass=cZ;KM.registerClass('IPCC.Web.UI.Rectangle');module.exports=KM;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var QQ=function(){};QQ.registerEnum=eC;QQ.prototype={None:0,Both:3,Auto:4};QQ.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=QQ;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var cZ=require('../../IPCC.Util').regClass;var NI=function(){return this;};NI.registerClass=cZ;NI.prototype={};NI.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=NI;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var zc=require('./../../Type');var Te={aEJ:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').FG,ImGearHttpException:require('./ImGearExceptions').FL,ImGearArgumentException:require('./ImGearExceptions').sg,ImGearArgumentNullException:require('./ImGearExceptions').DF,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').qt,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').EK,ImGearInvalidOperationException:require('./ImGearExceptions').Fy,ImGearNotImplementedException:require('./ImGearExceptions').Gl,ImGearParameterCountException:require('./ImGearExceptions').FV,gd:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),aE:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),XT:require('./highlightItem')};zc.registerNamespace('IPCC.Web.UI');module.exports=Te;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var eC=require('../../IPCC.Util').regEnum;var MK=function(){};MK.registerEnum=eC;MK.prototype={Top:0,Center:1,Bottom:2};MK.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=MK;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var XT=function(){this.gD=undefined;this.cj=[];this.bj={};};module.exports=XT;},{}],124:[function(require,module,exports){var Te=require('././UI/UI');var G=require('./../IPCC.Util');var zm=require('./Cipher');var atA=require('./Hash');var gf=require('./Codec');var Ds=require('./Mode');var gM={};gM.aFt=[];gM.xL=function(aD){return!isNaN(aD-0)&&aD!==null;};gM.xw=function(te,dC){return IPCC.Web.aay(false,arguments);};gM.agE=function(te,dC){return IPCC.Web.aay(true,arguments);};gM.aay=function(useLocale,dC){var av='';var te=dC[0];for(var K=0;;){var fh=te.indexOf('{',K);var nd=te.indexOf('}',K);if((fh<0)&&(nd<0)){av+=te.slice(K);break;}if((nd>0)&&((nd<fh)||(fh<0))){if(te.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}av+=te.slice(K,nd+1);K=nd+2;continue;}av+=te.slice(K,fh);K=fh+1;if(te.charAt(K)==='{'){av+='{';K++;continue;}if(nd<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var KZ=te.substring(K,nd);var Lb=KZ.indexOf(':');var alb=parseInt((Lb<0)?KZ:KZ.substring(0,Lb),10)+1;if(isNaN(alb)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Ub=(Lb<0)?'':KZ.substring(Lb+1);var rN=dC[alb];if(typeof(rN)==="undefined"||rN===null){rN='';}if(rN.toFormattedString){av+=rN.toFormattedString(Ub);}else if(useLocale&&rN.agE){av+=rN.agE(Ub);}else if(rN.format){av+=rN.format(Ub);}else{av+=rN.toString();}K=nd+1;}return av;};gM.aIm=function(yq){var rd=yq.length;var wm=Math.ceil(rd/4),OV;var fD=[];fD.length=wm;for(var lx=0,gV=0;lx<wm;lx++,gV+=4){fD[lx]=((yq[gV]&0xff)<<24)+((yq[gV+1]&0xff)<<16)+((yq[gV+2]&0xff)<<8)+(yq[gV+3]&0xff);}if(gV<rd){OV[lx]=0;for(var wv=0;gV<rd;gV++,wv++){OV[lx]+=(yq[gV++]&0xff)<<(3-wv);}}return fD;};gM.anR=function(aq){var rd=aq.length;var wm=Math.ceil(rd/4);var fD=[];fD.length=wm;for(var lx=0,gV=0;lx<wm;lx++,gV+=4){fD[lx]=((aq.charCodeAt(gV)&0xff)<<24)+((aq.charCodeAt(gV+1)&0xff)<<16)+((aq.charCodeAt(gV+2)&0xff)<<8)+((aq.charCodeAt(gV+3)&0xff));}if(gV<rd){fD[lx]=0;for(var wv=0;gV<rd;gV++,wv++){fD[lx]+=(aq.charCodeAt(gV++)&0xff)<<(3-wv);}}return fD;};gM.aGd=function(AC){var CN=new Uint8Array(AC);var rd=CN.length;var wm=Math.ceil(rd/4),OV;var fD=[];fD.length=wm;for(var lx=0,gV=0;lx<wm;lx++,gV+=4){fD[lx]=(CN[gV]<<24)+(CN[gV+1]<<16)+(CN[gV+2]<<8)+CN[gV+3];}if(gV<rd){fD[lx]=0;for(var wv=0;gV<rd;gV++,wv++){OV[lx]+=CN[gV++]<<(3-wv);}}return fD;};gM.Jl=function(fD,gm){var ac=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.DR(fD,ac,gm);};gM.DR=function(fD,ac,gm){try{var awp=new IPCC.Web.zm.alV(ac);var cd=IPCC.Web.Ds.avQ.aaA(awp,fD,gm);return cd;}catch(bb){return;}};gM.GZ=function(Ij){return IPCC.Web.anR(Ij.responseText);};gM.LC=function(){var EH=new Date();var aFk=new Date(EH.getYear(),EH.getMonth(),EH.getDate(),EH.getHours(),EH.getMinutes(),EH.getSeconds());return(+aFk);};gM.kQ=function(cE,elt){var len=cE.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in cE&&cE[from]===elt){return from;}}return-1;};gM.aEf=function aHZ(){var lq=0xefc8249d;var sd=function(cd){cd=cd.toString();for(var K=0;K<cd.length;K++){lq+=cd.charCodeAt(K);var fH=0.02519603282416938*lq;lq=fH>>>0;fH-=lq;fH*=lq;lq=fH>>>0;fH-=lq;lq+=fH*0x100000000;}return(lq>>>0)*2.3283064365386963e-10;};sd.Ab='Mash 0.9';return sd;};gM.alF=function aHH(){return(function(dC){var Eb=0;var De=0;var zN=0;var fK=1;if(dC.length===0){dC=[+new Date()];}var sd=IPCC.Web.aEf();Eb=sd(' ');De=sd(' ');zN=sd(' ');for(var K=0;K<dC.length;K++){Eb-=sd(dC[K]);if(Eb<0){Eb+=1;}De-=sd(dC[K]);if(De<0){De+=1;}zN-=sd(dC[K]);if(zN<0){zN+=1;}}sd=null;var ww=function(){var sQ=2091639*Eb+fK*2.3283064365386963e-10;Eb=De;De=zN;zN=sQ-(fK=sQ|0);return zN;};ww.afT=function(){return ww()*0x100000000;};ww.aIj=function(){return ww()+(ww()*0x200000|0)*1.1102230246251565e-16;};ww.Ab='Alea 0.9';ww.dC=dC;return ww;}(Array.prototype.slice.call(arguments)));};gM.nY=function(){if(this.aeS===undefined){var Au=document.createElement("div");Au.style.overflow='scroll';Au.style.position='absolute';Au.style.top='-9999px';document.body.appendChild(Au);this.aeS=Au.offsetWidth-Au.clientWidth;document.body.removeChild(Au);}return this.aeS;};gM.GU={aiC:function(fT){var JQ=[];var Zb=IPCC.Web.alF().afT;for(var K=0;K<fT;K++){JQ.push(Zb());}return JQ;},YZ:function(fT,ek){var JQ=[];var Zb=IPCC.Web.alF(ek).afT;for(var K=0;K<fT;K++){JQ.push(Zb());}return JQ;},aIa:function(gm,aEZ){var fT,iP=true,fA="",Fm,Wp,Xm,Lj,Qf,amZ;for(fT=0;fT<4;fT++){if(!iP){fA+='-';}else{iP=false;}Qf=0;for(Fm=0;Fm<4;Fm++){Lj=fT*32+Fm*8;Wp=IPCC.Web.gu.Vg(gm,Lj,4);fA+=Wp.toString(16).toUpperCase();Xm=IPCC.Web.gu.Vg(gm,Lj+4,4);fA+=Xm.toString(16).toUpperCase();amZ=(Wp*16+Xm+IPCC.Web.gu.Vg(IPCC.Web.ac,Lj,8))%256;Qf=Qf|(amZ<<(24-(Fm*8)));}aEZ.aFt[fT]=Qf;}return fA;}};gM.ac=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];gM.gu={ZW:function(cw,sL,agU){cw=IPCC.Web.gu.amU(cw.slice(sL/32),32-(sL&31)).slice(1);return(agU===undefined)?cw:IPCC.Web.gu.Le(cw,agU-sL);},Vg:function(cw,sL,ZZ){var aD,Vi=Math.floor((-sL-ZZ)&31);if((sL+ZZ-1^sL)& -32){aD=(cw[sL/32|0]<<(32-Vi))^(cw[sL/32+1|0]>>>Vi);}else{aD=cw[sL/32|0]>>>Vi;}return aD&((1<<ZZ)-1);},Yj:function(Am,wh){if(Am.length===0||wh.length===0){return Am.concat(wh);}var kd=Am[Am.length-1],ss=IPCC.Web.gu.abV(kd);if(ss===32){return Am.concat(wh);}else{return IPCC.Web.gu.amU(wh,ss,kd|0,Am.slice(0,Am.length-1));}},uS:function(cw){var rE=cw.length,aD;if(rE===0){return 0;}aD=cw[rE-1];return(rE-1)*32+IPCC.Web.gu.abV(aD);},Le:function(cw,cf){if(cw.length*32<cf){return cw;}cw=cw.slice(0,Math.ceil(cf/32));var rE=cw.length;cf=cf&31;if(rE>0&&cf){cw[rE-1]=IPCC.Web.gu.HL(cf,cw[rE-1]&0x80000000>>(cf-1),1);}return cw;},HL:function(cf,aD,fv){if(cf===32){return aD;}return(fv?aD|0:aD<<(32-cf))+cf*0x10000000000;},abV:function(aD){return Math.round(aD/0x10000000000)||32;},axp:function(cw,es){if(IPCC.Web.gu.uS(cw)!==IPCC.Web.gu.uS(es)){return false;}var aD=0,K;for(K=0;K<cw.length;K++){aD|=cw[K]^es[K];}return(aD===0);},amU:function(cw,ss,GD,fA){var K,ahn=0,Uo;if(fA===undefined){fA=[];}for(;ss>=32;ss-=32){fA.push(GD);GD=0;}if(ss===0){return fA.concat(cw);}for(K=0;K<cw.length;K++){fA.push(GD|cw[K]>>>ss);GD=cw[K]<<(32-ss);}ahn=cw.length?cw[cw.length-1]:0;Uo=IPCC.Web.gu.abV(ahn);fA.push(IPCC.Web.gu.HL(ss+Uo&31,(ss+Uo>32)?GD:fA.pop(),1));return fA;},afe:function(aD,cF){return[aD[0]^cF[0],aD[1]^cF[1],aD[2]^cF[2],aD[3]^cF[3]];}};gM.zm=zm;gM.pa=atA;gM.gf=gf;gM.Ds=Ds;gM.ajQ=G.ajQ;gM.UI=Te;gM.regEnum=G.regEnum;gM.regClass=G.regClass;module.exports=gM;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var XP=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=XP;},{}],126:[function(require,module,exports){var atU=function(Jw,ag){var OC=new IPCC.PageList(Jw);if(ag){IPCC.MW(OC,ag);}OC.vG(Jw);OC.initialize();return OC;};module.exports=atU;},{}],127:[function(require,module,exports){var auo=function(Jw,Uw){var oQ=Uw.handleTouchEvents!==false;var Ph=new IPCC.Web.UI.PageView(Jw,oQ);if(Uw){IPCC.MW(Ph,Uw);}Ph.vG(Jw);Ph.initialize();return Ph;};module.exports=auo;},{}],128:[function(require,module,exports){var nN={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=nN;},{}],129:[function(require,module,exports){var MW=function(cV,lc){var pn;for(var bu in lc){if(lc.hasOwnProperty(bu)){var ak=lc[bu];var atC=cV["get_"+bu];var ann=cV["set_"+bu];if(typeof(ann)==='function'){ann.apply(cV,[ak]);}else if(ak instanceof Array){pn=atC.apply(cV);if(!(pn instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bu+" is not an Array property");}for(var K=0,bJ=pn.length,rE=ak.length;K<rE;K++,bJ++){pn[bJ]=ak[K];}}}}};module.exports=MW;},{}],130:[function(require,module,exports){"use strict";var anv=function(ad){if(ad instanceof PCCViewer.AjaxResponse){return ad;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(ad);}this.qP=new IPCC.G.qP(ad);this.status=this.qP.status;this.statusText=this.qP.statusText;this.responseText=this.qP.responseText;if(typeof this.qP.responseBody!=='undefined'){this.responseBody=this.qP.responseBody;}return this;};anv.prototype.getResponseHeader=function(Dg){return this.qP.getResponseHeader(Dg);};var Bb=(function(){function aDo(){return IPCC.G.extend({},IPCC.G.oa.jF);};function aEF(jF){if(!(typeof jF==='undefined'||(typeof jF==='object'&&jF!==null&& !(jF instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof jF==='object'){var axx=Object.keys(IPCC.G.agh());Object.keys(jF).forEach(function(Dg){if(axx.indexOf(Dg)!== -1){throw new Error('Cannot overwrite the header "'+Dg+'".');}});}IPCC.G.oa.jF=IPCC.G.extend({},jF);return PCCViewer.Ajax;};function aui(){return IPCC.G.oa.MN;};function aEs(iQ){if(typeof iQ!=='undefined'&&typeof iQ!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.G.oa.MN=iQ;return PCCViewer.Ajax;};function fh(ag){var bg=PCCViewer.Deferred();if(!(typeof ag==='undefined'||(typeof ag==='object'&&ag!==null&& !(ag instanceof Array)))){throw new Error('Options should be an object or undefined.');}function dV(ad){if(!(ad instanceof PCCViewer.AjaxResponse)){ad=new PCCViewer.AjaxResponse(ad);}bg.resolve(ad);};function dZ(av){if(av.response){av.response=new PCCViewer.AjaxResponse(av.response);}bg.reject(av);};IPCC.G.oa.fh(ag).then(dV,dZ);return bg.getPromise();};return{getHeaders:aDo,setHeaders:aEF,getOverrideMethod:aui,setOverrideMethod:aEs,fh:fh,};})();if(Object.defineProperties){Object.defineProperties(Bb,{"headers":{enumerable:true,get:function(){return Bb.getHeaders();},set:function(jF){return Bb.setHeaders(jF);}},"overrideMethod":{enumerable:true,get:function(){return Bb.getOverrideMethod();},set:function(iQ){return Bb.setOverrideMethod(iQ);}}});}module.exports={AjaxResponse:anv,Ajax:Bb};},{}],131:[function(require,module,exports){var BurnRequest=function(ag){this.nz="";this.ez="";this.mV=0;this.qy="";this.eF="";this.qm=0;this.hl=false;this.rc=0;this.WB="";this.sc=false;this.bg=PCCViewer.Deferred();this.dF=this.bg.getPromise();this.then=this.dF.then;this.ag=ag;this.eF=null;this.fq=undefined;this.rD=false;this.KX=null;PCCViewer.EventEmitter.extend(this);var T=this;if(ag.mR){var mR=new PCCViewer.Error(ag.mR.code,ag.mR.message);delete T.ag.mR;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.eF=mR.code;T.bg.reject(mR);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var T=this;this.sc=true;this.eF="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.mV;};BurnRequest.prototype.getWorkerID=function(){return this.nz;};BurnRequest.prototype.getOptions=function(){return this.ag;};BurnRequest.prototype.getErrorCode=function(){return this.eF;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.KX;};BurnRequest.prototype.aoE=function(iJ){this.WB=iJ;};BurnRequest.prototype.NJ=function(fq){this.fq=fq;};BurnRequest.prototype.Um=function(){var T=this;this.eF="Failure to generate Markup XML";setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("MarkupXMLFail",T.eF));},0);return this;};BurnRequest.prototype.EQ=function(){function dV(ad){var hf,av;try{hf=ad.responseText;if(!hf){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);T.rD=true;return;}else{av=JSON.parse(hf);setTimeout(function(){axG(av);},0);}}catch(e){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);T.rD=true;return;}};function dZ(av){T.hl=false;var du=av.response.status+" "+av.response.statusText;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("StatusCode","Status Code "+du));},0);T.rD=true;return;};try{if(!this.WB){throw new Error("XMl Markup data for burn is missing");}var T=this;var ahV=function(){var Xs;if(!(/^[\x00-\x7F]*$/.test(T.fq.aW.get_documentIdentifier()))){Xs=T.fq.ag.imageHandlerUrl+'/ViewingSession/e'+T.fq.ag.documentID+'/MarkupBurner/'+T.nz;}else{Xs=T.fq.ag.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fq.ag.documentID)+'/MarkupBurner/'+T.nz;}PCCViewer.Ajax.fh({method:'GET',url:Xs,headers:{'Content-Type':'application/json'}}).then(dV,dZ);};var axG=function(hm){if(hm){if(T.sc===true){T.hl=false;return;}if(hm.percentComplete>=0&&T.hl===true){if(hm.percentComplete===100&&hm.state==='complete'){if(hm.processId){T.hl=false;T.nz=hm.processId;T.ez=hm.state;T.qm+=1;T.rc=1000;T.mV= +(hm.percentComplete);var GC;if(!(/^[\x00-\x7F]*$/.test(T.fq.aW.get_documentIdentifier()))){GC=T.fq.ag.imageHandlerUrl+'/ViewingSession/e'+T.fq.ag.documentID+'/MarkupBurner/'+T.nz+"/Document";}else{GC=T.fq.ag.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fq.ag.documentID)+'/MarkupBurner/'+T.nz+"/Document";}if(T.ag.filename){GC+="?ContentDispositionFilename="+T.ag.filename;}T.KX=GC;T.rD=true;var azb= +(hm.percentComplete);setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});T.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:azb});T.bg.resolve(GC);},10);return;}}else{if(hm.state==='error'){T.hl=false;T.eF=hm.errorCode;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+T.eF));},0);T.hl=false;T.rD=true;return;}if(hm.processId){var WA= +(hm.percentComplete);if(T.mV!==WA){setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:WA});},10);}if(!T.nz){T.nz=hm.processId;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);T.ez=hm.state;T.qm=1;T.hl=true;T.rc=1000;T.mV= +(hm.percentComplete);}if(hm.percentComplete<100){if(T.qm>1){T.rc+=1000;}T.qm+=1;T.ez=hm.state;T.mV= +(hm.percentComplete);if(T.hl===true&&T.sc===false&&T.rD===false){setTimeout(ahV,T.rc);}}}}}else{if(T.rD===false){var Yw=false;if(T.hl===false){if(hm.state==='complete'){if(!T.KX){Yw=true;}else{T.rD=true;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});T.bg.resolve(T.KX);},10);return;}}if(hm.state==='processing'&&hm.errorCode===null){if(hm.percentComplete>=0&&hm.percentComplete<100){if(T.qm>1){T.rc+=1000;}T.qm+=1;T.hl=true;T.ez=hm.state;T.mV= +(hm.percentComplete);if(T.hl===true&&T.sc===false){setTimeout(ahV,T.rc);}}else{Yw=true;}}if(hm.state==='error'||Yw===true){T.hl=false;T.eF=hm.errorCode;setTimeout(function(){T.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});T.bg.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+hm.errorCode));},0);T.hl=false;T.rD=true;return;}}}}}};var ae;if(!(/^[\x00-\x7F]*$/.test(T.fq.aW.get_documentIdentifier()))){ae=T.fq.ag.imageHandlerUrl+'/ViewingSession/e'+T.fq.ag.documentID+'/MarkupBurner';}else{ae=T.fq.ag.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(T.fq.ag.documentID)+'/MarkupBurner';}var PL=[];if(T.ag.removeFormFields){PL.push('RemoveFormFields=acroform');}if(T.ag.redactionOptions){PL.push(T.ag.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(PL.length>0){ae+=('?'+PL.join('&'));}PCCViewer.Ajax.fh({method:'POST',url:ae,headers:{'Content-Type':'application/xml;charset=utf-8'},body:T.WB}).then(dV,dZ);T.hl=true;}catch(e){this.hl=false;var aM=this,kV=e.message;setTimeout(function(){aM.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});aM.bg.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+kV));},0);this.rD=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function avd(aW,aZ){var aR=aW.db.ju(aZ);var eR=aR.dj();return eR.Bo();};function atK(aW,aZ){var aR=aW.db.ju(aZ);var eR=aR.dj();var EP=eR.hJ();return EP.atP();};function aow(yL,axS){var cf=yL.length;if(cf===0){return false;}if(cf!==axS){return false;}for(var K=0;K<cf;K++){if(yL[K]!==true){return false;}}return true;};var Mg=function(){var T=this;this.IE=false;this.yL=[];this.tN=[];this.yl=[];this.adH=0;this.bo=0;this.ik=false;function pM(Hm,Wr){switch(Hm){case 'failed':setTimeout(function(){T.aY.trigger('SearchFailed',Wr);},10);break;case 'complete':T.aY.fm=T.tN;T.aY.Vr=T.yl;T.aY.ty=true;setTimeout(function(){T.aY.trigger('SearchResultsAvailable',{completedSearchResults:(T.tN)});},10);break;case 'cancelled':break;}setTimeout(function(){T.aY.trigger('SearchCompleted',{completedSearchResults:(T.tN)});},10);};function aEl(){T.aY.cr='Unable to communicate with server, please retry loading the document.';T.aY.eF='1011';T.aY.ty=true;pM('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});T.ik=true;};function alp(ag,aBo){var aBP=IPCC.G.trim(ag.type||'').toLowerCase();var av;switch(aBP){case 'taskresult':av=new PCCViewer.SearchTaskResult();break;default:av=new PCCViewer.SearchResult();break;}IPCC.G.extend(av,aBo);var abB=av.ri+av.text.length-1;var cK=PCCViewer.Ia.formatter.getContext({text:ag.searchText,startIndex:av.ri,endIndex:abB,padding:av.ai.contextPadding});av.cK=cK.context;av.xH=cK.startIndex;if(ag.rectangles){var acD={rectangles:ag.rectangles,startIndex:av.ri,endIndex:abB};av.na=PCCViewer.Ia.formatter.getBoundingRectangle(acD);av.aC=PCCViewer.Ia.formatter.getLineRectangles(acD);}return av;};function ajl(mn,xT,LV,fY,hd){var HW=[];var aaW= !fY;var vs=xT.distance;var xD=[];IPCC.G.forEach(xT.cR,function(cR){xD.push(cR.searchTerm);});var azG=PCCViewer.Ia.proximity.getResults(LV,xD,vs);IPCC.G.forEach(azG,function(av){var dW=alp({type:aaW?'TaskResult':'Result',searchText:LV,rectangles:fY},{hd:hd,ai:xT.tU,mn:mn,sh:xT.highlightColor,ri:av.startIndex,aq:av.text});HW.push(dW);});return HW;};function Oz(mn,cR,LV,fY,hd){var aaW= !fY;var HW=[];var PV=[cR.searchTerm];var fm=PCCViewer.Ia.regex.getResults(LV,PV);IPCC.G.forEach(fm,function(av){if(cR.tU.matchingOptions.wildcard&&(av.text[0]===" "||av.text[0]==="\n")){av.text=av.text.substring(1);av.startIndex+=1;}var dW=alp({type:aaW?'TaskResult':'Result',searchText:LV,rectangles:fY},{hd:hd,mn:mn,cR:cR,ai:cR.tU,ri:av.startIndex,aq:av.text,sh:cR.highlightColor});HW.push(dW);});return HW;};function anP(adC,aZ,aW,fY){var Vm=[];var mn=Date.now();IPCC.G.forEach(T.cR,function(cR,K){var fm;var og=IPCC.G.Pk(cR.type);var aR=aW.db.ju(aZ);var hd={width:aR.jP(),height:aR.jq()};switch(og){case 'proximity':fm=ajl(mn,cR,adC,fY,hd);break;default:fm=Oz(mn,cR,adC,fY,hd);break;}IPCC.G.forEach(fm,function(av){av.cI=T.bo;av.ax=aZ+1;av.IZ=aW.get_documentIdentifier();T.tN[T.bo]=av;T.bo++;Vm.push(av);});});T.aY.fm=T.tN;if(Vm.length){setTimeout(function(){T.aY.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Vm),pagesWithoutText:(T.yl)});},10);}};function apu(aq){var mn=Date.now();IPCC.G.forEach(T.cR,function(cR,K){var og=IPCC.G.Pk(cR.type);var fm;switch(og){case 'proximity':fm=ajl(mn,cR,aq);break;default:fm=Oz(mn,cR,aq);break;}IPCC.G.forEach(fm,function(av){av.cI=T.bo;T.tN[T.bo]=av;T.bo++;});});T.aY.fm=T.tN;};function acR(zv,aW){for(var K=0;K<zv.length;K++){if(T.yL[zv[K]]===false){T.yL[zv[K]]=true;var aq=avd(aW,zv[K]);var fY=atK(aW,zv[K]);if(!aq&&aq!==null){T.yl[T.adH]=zv[K];T.adH++;continue;}anP(aq,zv[K],aW,fY);if(T.aY.sc){if(T.IE){pM('cancelled');T.IE=false;aW.remove_textPagesReceived(Pd);return;}break;}}}if(aow(T.yL,aW.eY)&& !T.aY.ty){pM('complete');T.IE=false;aW.remove_textPagesReceived(Pd);}};function Pd(sender,h){if(h.error=== -1){aEl();return T.aY;}try{if(T.ik===false){acR(h.textPagesReceived,sender);}}catch(e){T.aY.cr=e.message;T.aY.eF='1010';T.aY.ty=true;pM('failed',{errorMessage:(e.message)});T.ik=true;return T.aY;}};this.VO=function(aW,cR,dO,aY){T.cR=cR;T.aY=aY;T.aY.dO=dO;T.aY.on('SearchCancelled',function(){pM('cancelled');T.IE=false;aW.remove_textPagesReceived(Pd);});for(var K=0;K<aW.eY;K++){T.yL[K]=false;}if(aW.amk().eQ()>aW.get_numberOfPagesWithText()){T.IE=true;aW.add_textPagesReceived(Pd);}if(aW.get_numberOfPagesWithText()>0){acR(aW.get_pagesWithText(),aW);}return T.aY;};this.aya=function(aq){this.aY=new PCCViewer.SearchRequest();try{apu(aq);}catch(e){T.aY.cr=e.message;T.aY.eF='1010';return;}};};module.exports=Mg;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aHl(){return conversation;};if(typeof comment==='string'){this.pq=new IPCC.Web.UI.Comment(comment);}else{this.pq=comment;}this.pq.Iq=this;this.cd=this.pq.get_data();PCCViewer.Data.extend(this);this.CZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aGP(){return this.hQ;};Comment.prototype.getText=function aHE(){return this.pq.get_text();};Comment.prototype.setText=function aGI(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pq.set_text(text);return this;};Comment.prototype.getCreationTime=function aIB(){var ayh=IPCC.G.HH(this.pq.get_creationTime());return new Date(ayh);};Comment.prototype.setCreationTime=function aGs(time){function acV(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var aaL=IPCC.G.HH(time);if(aaL instanceof Error){acV();}time=new Date(aaL);}if(!(time instanceof Date)){acV();}this.pq.set_creationTime(IPCC.G.tp(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Qv(){return mark;};this.iI=new PCCViewer.ObservableCollection();if(typeof mark.J!=="undefined"){this.xv=mark.J.get_conversation();this.xv.forEach(function(pq){var cA=new PCCViewer.Comment(pq,this);this.iI.add(cA);},this);}else{this.xv=new IPCC.Web.UI.Conversation();}this.cd=this.xv.get_data();PCCViewer.Data.extend(this);this.CZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function Hz(commentText){var cA=new PCCViewer.Comment(commentText,this);this.iI.add(cA);this.xv.addComment(cA.pq);return cA;};Conversation.prototype.deleteComments=function(comments){var T=this;var aaM=this.iI.toArray();var aiG=function(cA){for(var i=0,length=aaM.length;i<length;i++){if(aaM[i]===cA){return true;}}return false;};function acN(cA,bo){throw new Error(cA+((bo!==undefined)?' (Array index '+bo+')':'')+' is not a PCCViewer.Comment object.');};function acj(cA,bo){throw new Error(((bo!==undefined)?' (Array index '+bo+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!aiG(comments)){acj(comments);}T.iI.remove(comments);T.xv.removeCommentInstance(comments.pq);}else if(comments instanceof Array){IPCC.G.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){acN(el,idx);}if(!aiG(el)){acj(el,idx);}});IPCC.G.forEach(comments,function(el){T.iI.remove(el);T.xv.removeCommentInstance(el.pq);});}else{acN(comments);}return this;};Conversation.prototype.getComments=function(){return this.iI.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.qJ=function(gQ,ou){if(typeof gQ.getComments!=="function"||typeof ou.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.nX(gQ,ou);var fX=gQ.getComments(),i,length=fX.length;for(i=0;i<length;i++){var ajR=fX[i];var ayU=ou.addComment(ajR.getText());PCCViewer.Data.nX(ajR,ayU);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(ag){this.nz="";this.ez="";this.mV=0;this.eF="";this.hl=false;this.sc=false;this.ag=ag;this.AH=null;this.Dx=null;this.fq=undefined;this.bg=PCCViewer.Deferred();this.dF=this.bg.getPromise();this.then=this.dF.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var T=this;this.sc=true;this.eF="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});T.bg.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.mV;};ConversionRequest.prototype.getWorkerID=function(){return this.nz;};ConversionRequest.prototype.getOptions=function(){return this.ag;};ConversionRequest.prototype.getErrorCode=function(){return this.eF;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.AH;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Dx){return this.Dx.slice();}return null;};ConversionRequest.prototype.NJ=function(fq){this.fq=fq;};ConversionRequest.prototype.EQ=function(){var T=this;T.hl=true;T.aDn().then(function onResolve(pN){T.nz=pN.processId;T.mV=pN.percentComplete;T.ez=pN.state;T.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});T.azu(pN).then(function onResolve(avk){T.hl=false;T.Dx=[];if(T.ag.Ab>1){for(var K=0;K<T.aCr;K++){var AH=T.fq.ag.imageHandlerUrl+'/v2/viewingSessions/'+T.fq.ag.documentID+'/contentConverters/'+T.nz+'/results/'+K+'/file?ContentDispositionFilename='+encodeURIComponent(T.ag.filename);T.Dx.push(AH);}T.bg.resolve(T.Dx);}else{T.AH=T.fq.ag.imageHandlerUrl+'/WorkFile/'+avk+"?ContentDispositionFilename="+encodeURIComponent(T.ag.filename);if(pN.affinityToken){T.AH+="&affinityToken="+encodeURIComponent(pN.affinityToken);}T.Dx.push(T.AH);T.bg.resolve(T.AH);}T.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){T.hl=false;T.eF=reason.error.code;T.bg.reject(reason);T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){T.hl=false;T.bg.reject(reason);T.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aDn=function(){var ae,kn=PCCViewer.Deferred();var ST;if(this.ag.Ab>1){ae=this.fq.ag.imageHandlerUrl+'/v2/viewingSessions/'+this.fq.ag.documentID+'/contentConverters/';ST={url:ae,method:'POST',headers:{"Content-Type":"application/json"}};}else{ae=this.fq.ag.imageHandlerUrl+'/contentConverters/';ST={url:ae,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fq.ag.documentID})};}PCCViewer.Ajax.fh(ST).then(function dV(ad){var av=JSON.parse(ad.responseText);kn.resolve(av);},function dZ(av){kn.reject(av.error);});return kn.getPromise();};ConversionRequest.prototype.azu=function(pN){var ae,kn=PCCViewer.Deferred(),T=this,jF;if(T.ag.Ab>1){ae=this.fq.ag.imageHandlerUrl+'/v2/viewingSessions/'+this.fq.ag.documentID+'/contentConverters/'+pN.processId;}else{ae=this.fq.ag.imageHandlerUrl+'/contentConverters/'+pN.processId;}if(pN.affinityToken){jF={"Accusoft-Affinity-Token":pN.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fh({method:'GET',url:ae,headers:jF}).then(function dV(ad){var av=JSON.parse(ad.responseText);T.nz=av.processId;T.mV=av.percentComplete;T.ez=av.state;if(T.ag.Ab>1&&av.output){T.aCr=av.output.results.length;}T.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:T.mV});if(av.percentComplete===100){if(av.state==="error"){kn.reject({response:ad,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{kn.resolve(av.output.results[0].fileId);}}else{poll();}},function dZ(av){kn.reject(av.error);});},3000);})();return kn.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.cd.get_data(key);};function setData(key,value){this.cd.set_data(key,value);return this;};function getDataKeys(){return this.cd.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},nX:function(gQ,ou){if(typeof gQ.getData!=="function"||typeof gQ.setData!=="function"||typeof gQ.getDataKeys!=="function"||typeof ou.getData!=="function"||typeof ou.setData!=="function"||typeof ou.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var lL=gQ.getDataKeys(),i,length=lL.length;for(i=0;i<length;i++){var ac=lL[i];ou.setData(ac,gQ.getData(ac));}}};})();var SessionData=(function(){function getSessionData(key){return this.CZ.get_data(key);};function setSessionData(key,value){this.CZ.set_data(key,value);return this;};function getSessionDataKeys(){return this.CZ.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHa:function(gQ,ou){if(typeof gQ.getSessionData!=="function"||typeof gQ.setSessionData!=="function"||typeof gQ.getSessionDataKeys!=="function"||typeof ou.getSessionData!=="function"||typeof ou.setSessionData!=="function"||typeof ou.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var lL=gQ.getSessionDataKeys(),i,length=lL.length;for(i=0;i<length;i++){var ac=lL[i];ou.setSessionData(ac,gQ.getSessionData(ac));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.ez=PromiseDeferred.States.Pending;this.C=null;this.fj=null;this.gw=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var AD=new PromiseDeferred();var WK,YW;if(onFulfilled&&typeof onFulfilled==='function'){var aEo=function(C){try{var bk=onFulfilled(C);AD.resolve(bk);}catch(e){AD.reject(e);}};WK=aEo;}else{var aCS=function(C){AD.resolve(C);};WK=aCS;}if(onRejected&&typeof onRejected==='function'){var aDb=function(fj){try{var bk=onRejected(fj);WL(AD,bk);}catch(e){AD.reject(e);}};YW=aDb;}else{var aDK=function(fj){AD.reject(fj);};YW=aDK;}this.gw.push({arM:WK,aBz:YW});if(this.ez===PromiseDeferred.States.Fulfilled){this.ahm();}if(this.ez===PromiseDeferred.States.Rejected){this.ahz();}return AD;};PromiseDeferred.prototype.resolve=function(x){if(!this.agp()){return;}WL(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.agp()){return;}this.AL(reason);};PromiseDeferred.prototype.Qy=function(aD){this.ez=PromiseDeferred.States.Fulfilled;this.C=aD;this.ahm();};PromiseDeferred.prototype.ahm=function(){var callback;while(this.gw.length>0){callback=this.gw.shift().arM;(function(jX,C){setTimeout(function(){jX(C);},0);})(callback,this.C);}};PromiseDeferred.prototype.ahz=function(){var callback;while(this.gw.length>0){callback=this.gw.shift().aBz;(function(jX,C){setTimeout(function(){jX(C);},0);})(callback,this.fj);}};function WL(dF,aD){if(dF===aD){dF.AL(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aD&&aD.abO&&dF.acK&&dF.acK===aD){dF.AL(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(aD&&aD.abO&&aD.abO==="PCCViewer.Promise"){aD.then(function(aqz){dF.Qy(aqz);},function(aqR){dF.AL(aqR);});}else if(aD!==null&&(typeof aD==='object'||typeof aD==='function')){var ZG;try{ZG=aD.then;}catch(e){dF.AL(e);return;}if(typeof ZG==='function'){var It=true;var aqh=function(cF){if(It){WL(dF,cF);It=false;}};var apT=function(bk){if(It){dF.AL(bk);It=false;}};try{ZG.call(aD,aqh,apT);}catch(e){if(It){dF.AL(e);}}}else{dF.Qy(aD);}}else{dF.Qy(aD);}};PromiseDeferred.prototype.AL=function(reason){this.ez=PromiseDeferred.States.Rejected;this.fj=reason;this.ahz();};PromiseDeferred.prototype.agp=function(){return this.ez===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var SI=new PromiseDeferred();function Promise(dF){this.then=function(onFulfilled,onRejected){return new Promise(dF.then(onFulfilled,onRejected));};this.abO="PCCViewer.Promise";dF.acK=this;};var promise=new Promise(SI);return{getPromise:function(){return promise;},resolve:function(value){SI.resolve(value);},reject:function(reason){SI.reject(reason);}};};var Promise={all:function(promises){var i,bg=new PCCViewer.Deferred(),UN=bg.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bg=new PCCViewer.Deferred();bg.resolve(value);return bg.getPromise();};bg.resolve([]);for(i=0;i<promises.length;i++){UN=UN.then(createPushFunction(promises[i]));}return UN;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.Aj=parameters.Aj;this.ax=parameters.ax;};DocumentHyperlink.prototype.getHref=function(){return this.Aj.amA();};DocumentHyperlink.prototype.getPageNumber=function(){return this.ax;};DocumentHyperlink.prototype.getRectangle=function(){return this.Aj.fl();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var Kh=function(code,message){var akq=Error.call(null,message);this.code=code;function azx(cV,gQ){Object.getOwnPropertyNames(gQ).forEach(function(propName){Object.defineProperty(cV,propName,Object.getOwnPropertyDescriptor(gQ,propName));});return cV;};function aAL(cV,gQ){for(var i in gQ){if(gQ.hasOwnProperty(i)){cV[i]=gQ[i];}}return cV;};if(typeof Object.create==='function'){azx(this,akq);}else{aAL(this,akq);}};var aGm=(function(){var eW=function(){};return function(adE){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adE!=='object'){throw TypeError('Argument must be an object');}eW.prototype=adE;var av=new eW();eW.prototype=null;return av;};})();if(typeof Object.create==='function'){Kh.prototype=Object.create(Error.prototype);}else{Kh.prototype=aGm(Error.prototype);}Kh.prototype.constructor=Kh;module.exports=Kh;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.cV=target;this.al=type;};Event.prototype.getTarget=function(){return this.cV;};Event.prototype.getType=function(){return this.al;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jf){this.jf={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jf[lowerCaseEventType];if(!handlers){handlers=this.jf[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jf){this.jf={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jf[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jf){this.jf={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jf[lowerCaseEventType],i,length=0;if(properties){PCCViewer.sn.pL(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var um=function(eventEmitter){this.bP=eventEmitter;this.GY=true;this.YR={};};um.prototype.on=function(eventType,handler){this.bP.on(eventType,handler);return this.bP;};um.prototype.off=function(eventType,handler){this.bP.off(eventType,handler);return this.bP;};um.prototype.trigger=function(eventType,properties){if(this.GY){var lowerCaseEventType=eventType.toLowerCase();if(this.YR[lowerCaseEventType]){var event=new PCCViewer.Event(this.bP,lowerCaseEventType);if(properties){PCCViewer.sn.pL(event,properties);}this.YR[lowerCaseEventType](event);}else{this.bP.trigger(eventType,properties);}}return this.bP;};um.prototype.stop=function(){this.GY=false;};um.prototype.resume=function(){this.GY=true;};um.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.YR[lowerCaseEventType]=handler;};module.exports=um;},{}],142:[function(require,module,exports){var axh={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=axh;},{}],143:[function(require,module,exports){var nC={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nC;},{}],144:[function(require,module,exports){var sn={};sn.pL=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=sn;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.ag=PCCViewer.sn.pL({},Options);};ImageStamps.prototype.requestImageStampList=function(){var bg=PCCViewer.Deferred();var dF=bg.getPromise();try{var ae=this.ag.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fh({method:'GET',url:ae}).then(function dV(ad){var sD;if(ad.responseText.length>0){sD=JSON.parse(ad.responseText);if(ad.status===200){bg.resolve(sD);}else{bg.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function dZ(av){bg.reject(av.error);});}catch(e){bg.reject(new PCCViewer.Error("Error",e.message));}return dF;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bg=PCCViewer.Deferred();var dF=bg.getPromise();try{var ae=this.ag.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fh({method:'GET',url:ae,}).then(function dV(ad){var sD;if(ad.responseText.length>0){sD=JSON.parse(ad.responseText);if(ad.status===200){bg.resolve(sD);}else{bg.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function dZ(av){bg.reject(av.error);});}catch(e){bg.reject(new PCCViewer.Error("Error",e.message));}return dF;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.ag.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aEt={data:{},initializeData:function(aDa){PCCViewer.Language.data=IPCC.G.extend({},aDa);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(aik){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var lL=aik.split('.'),bD=PCCViewer.Language.data,ac;while(lL.length){ac=lL.shift();bD=bD[ac];if(typeof bD==='undefined'){bD=aik;break;}}return bD;}};module.exports=aEt;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.yt=layerRecordIds;this.cQ=viewerControl;this.aO=viewerControl.aO;this.eF="";this.hl=false;this.sc=false;this.mV=0;this.bg=PCCViewer.Deferred();this.dF=this.bg.getPromise();this.then=this.dF.then;this.va=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mV;};LoadMarkupLayersRequest.prototype.cancel=function(){var T=this;this.sc=true;this.eF="User Cancelled";setTimeout(function(){T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});T.bg.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.cQ;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.eF;};LoadMarkupLayersRequest.prototype.EQ=function(){var T=this,Yx=1,aab,ZH=[];var va=this.va;var aeb=function(){T.hl=false;if(T.cQ.qd){T.bg.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{T.bg.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var sb=function(agF){function dV(ad){if(T.aO.qd){aeb();return;}var qI=JSON.parse(ad.responseText),Mt=T.aAs(qI),fC,rH=[],bQ,gh=[],afW={},KE=0,OT;for(var mg in Mt.gh){if(Mt.gh.hasOwnProperty(mg)){gh=gh.concat(Mt.gh[mg]);}}fC=new PCCViewer.MarkupLayer(T.cQ,gh);fC.aIF={ae:ae};IPCC.G.forEach(Mt.rH,function(aaq){rH.push(aaq);KE++;afW[aaq.uid]=true;});if(qI.name){fC.setName(qI.name);}if(qI.originalXmlName){fC.setOriginalXmlName(qI.originalXmlName);}if(KE>0){OT=function(ev){if(afW[ev.mark.getUid()]){KE--;}if(!KE){T.aO.bP.off(PCCViewer.EventType.MarkCreated,OT);T.aO.rM=true;}};T.aO.bP.on(PCCViewer.EventType.MarkCreated,OT);T.aO.rM=false;try{bQ=T.aO.deserializeMarks(rH);}catch(dQ){T.hl=false;T.aO.bP.off(PCCViewer.EventType.MarkCreated,OT);T.aO.rM=true;T.bg.reject(new PCCViewer.Error('Error',dQ.message));T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(va){IPCC.G.forEach(bQ,function(V){V.setVisible(false);});}fC.addMarks(bQ);}fC.aah=agF;for(var tC in qI.data){if(qI.data.hasOwnProperty(tC)){fC.setData(tC,qI.data[tC]);}}T.aO.getMarkupLayerCollection().addItem(fC);ZH.push(fC);Yx--;T.mV=(T.yt.length-Yx)/T.yt.length;T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:T.mV});if(T.mV===1){T.hl=false;T.bg.resolve(ZH);T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:ZH});}};function dZ(av){T.hl=false;T.bg.reject(av.error);T.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var ae=aab+agF+'?'+new Date().getTime();PCCViewer.Ajax.fh({url:ae,method:'GET'}).then(dV,dZ);};if(this.aO.qd){aeb();return;}if(!(/^[\x00-\x7F]*$/.test(this.aO.aW.get_documentIdentifier()))){aab=this.aO.ag.imageHandlerUrl+'/MarkupLayers/e'+this.aO.ag.documentID+'/';}else{aab=this.aO.ag.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aO.ag.documentID)+'/';}if(this.sc){return;}if(Object.prototype.toString.call(this.yt)==='[object Array]'&&this.yt.length>0){Yx=this.yt.length;this.hl=true;IPCC.G.forEach(this.yt,sb,this);}else if(typeof this.yt==="string"){this.hl=true;sb(this.yt);}else{this.hl=false;this.bg.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aAs=function(qI){var Lv={},Nk={};IPCC.G.forEach(qI.marks,function(aaZ){aaZ.conversation.comments=[];Lv[aaZ.uid]=aaZ;},this);IPCC.G.forEach(qI.comments,function(xG){if(Lv[xG.markUid]){Lv[xG.markUid].conversation.comments.push(xG);}else if(Nk[xG.markUid]){Nk[xG.markUid].push(xG);}else{Nk[xG.markUid]=[xG];}},this);return{rH:Lv,gh:Nk};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var dR={setMask:function(V,io){var IH={};IPCC.G.forEach(io.translations,function(ak,ac){IH[ac]=new RegExp(ak.replace(/^\/|\/$/g,''));});V.setMask({value:io.value,translations:IH});},calculateRectangle:function(bD,ag){if(bD.pageData===undefined||(bD.pageData.width===ag.ay&&bD.pageData.height===ag.an)){return bD.rectangle;}else{var mr=ag.ay/bD.pageData.width;return{x:bD.rectangle.x*mr,y:bD.rectangle.y*mr,width:bD.rectangle.width*mr,height:bD.rectangle.height*mr};}},setRectangle:function(V,bD,ag){V.setRectangle(dR.calculateRectangle(bD,ag));},setLines:function(V,bD,ag){var acA,oH,dM=bD.textLength+bD.startIndex-1,ds=bD.selectedText,dw={startIndex:bD.startIndex,length:bD.textLength};oH=[];var aZ,Ar;acA=IPCC.G.reduce(bD.lineGroups,function(ek,nL){aZ=nL.pageNumber-1;ek[aZ]=IPCC.G.map(nL.lines,function(hn){if(nL.pageData!==undefined){Ar=dR.calculateRectangle({rectangle:hn,pageData:nL.pageData},ag);return new IPCC.Web.UI.Rectangle(Ar.x,Ar.y,Ar.width,Ar.height);}else{return new IPCC.Web.UI.Rectangle(hn.x,hn.y,hn.width,hn.height);}});oH.push({pageIndex:aZ,endIndex:nL.startIndex+nL.textLength-1});return ek;},{});V.JY(oH,dM,ds,dw,acA);},postCreate:function(V,bD){V.J.afo(new Date(IPCC.G.HH(bD.creationDateTime)));V.J.XZ(new Date(IPCC.G.HH(bD.modificationDateTime)));return V;},calculatePoint:function(bw,hd,ag){if(hd===undefined||(hd.width===ag.ay&&hd.height===ag.an)){return bw;}else{return{x:bw.x*ag.ay/hd.width,y:bw.y*ag.an/hd.height};}},Data:function(bD,cd){IPCC.G.forEach(cd,function(ak,ac){bD.setData(ac,ak);});},Comment:function(cG,cA){var oC=cG.addComment(cA.text);oC.setCreationTime(cA.creationDateTime);dR.Data(oC,cA.data);},Conversation:function(V,cG){var ajS=V.getConversation();IPCC.G.forEach(cG.comments?cG.comments:[],function(oC){dR.Comment(ajS,oC);});dR.Data(ajS,cG.data);},Common:function(bD,ag){if(bD.uid===undefined){bD.uid=IPCC.G.ajG();}var V=this.ajf(bD.pageNumber,bD.type,{uid:bD.uid});if(bD.rectangle&&V.setRectangle){dR.setRectangle(V,bD,ag);}if(bD.startPoint&&V.setStartPoint){V.setStartPoint(dR.calculatePoint(bD.startPoint,bD.pageData,ag));}if(bD.endPoint&&V.setEndPoint){V.setEndPoint(dR.calculatePoint(bD.endPoint,bD.pageData,ag));}if(bD.points&&V.setPoints){V.setPoints(IPCC.G.map(bD.points,function(bw){return dR.calculatePoint(bw,bD.pageData,ag);}));}if(bD.lineGroups&&V.JY){V.be=bD.uid;dR.setLines(V,bD,ag);}if(bD.interactionMode){V.setInteractionMode(bD.interactionMode);}V=this.alJ(V);dR.Data(V,bD.data);dR.Conversation(V,bD.conversation);return V;},EllipseAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.borderColor){V.setBorderColor(bD.borderColor);}if(bD.borderThickness){V.setBorderThickness(bD.borderThickness);}if(bD.fillColor){V.setFillColor(bD.fillColor);}if(bD.opacity){V.setOpacity(bD.opacity);}return dR.postCreate(V,bD);},FreehandAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.opacity){V.setOpacity(bD.opacity);}if(bD.path){V.setPath(bD.path);}if(bD.thickness){V.setThickness(bD.thickness);}return dR.postCreate(V,bD);},FreehandSignature:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.path){V.setPath(bD.path);}if(bD.thickness){V.setThickness(bD.thickness);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}return dR.postCreate(V,bD);},HighlightAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.fillColor){V.setFillColor(bD.fillColor);}return dR.postCreate(V,bD);},ImageStampAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.imageDataUrl&&bD.imageId){V.setImage({id:bD.imageId,dataUrl:bD.imageDataUrl});}return dR.postCreate(V,bD);},ImageStampRedaction:function(bD,ag){return dR.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.endHeadType){V.setEndHeadType(bD.endHeadType);}if(bD.opacity){V.setOpacity(bD.opacity);}if(bD.thickness){V.setThickness(bD.thickness);}return dR.postCreate(V,bD);},PolylineAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.opacity){V.setOpacity(bD.opacity);}if(bD.thickness){V.setThickness(bD.thickness);}return dR.postCreate(V,bD);},RectangleAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.borderColor){V.setBorderColor(bD.borderColor);}if(bD.borderThickness){V.setBorderThickness(bD.borderThickness);}if(bD.fillColor){V.setFillColor(bD.fillColor);}if(bD.opacity){V.setOpacity(bD.opacity);}return dR.postCreate(V,bD);},RectangleRedaction:function(bD,ag){var V=dR.Common.apply(this,arguments);if(V.ny){var gX=bD.reasons||bD.reason;if(gX&& !Array.isArray(gX)){gX=[gX];}if(gX){V.setReasons(gX);}}else{if(bD.reason){V.setReason(bD.reason);}}if(bD.fillColor){V.setFillColor(bD.fillColor);}if(bD.borderColor){V.setBorderColor(bD.borderColor);}if(bD.borderThickness){V.setBorderThickness(bD.borderThickness);}if(bD.fontColor){V.setFontColor(bD.fontColor);}return dR.postCreate(V,bD);},StampAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.label){V.setLabel(bD.label);}if(bD.color){V.setColor(bD.color);}return dR.postCreate(V,bD);},StampRedaction:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.label){V.setLabel(bD.label);}return dR.postCreate(V,bD);},StrikethroughAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.thickness){V.setThickness(bD.thickness);}return dR.postCreate(V,bD);},TextAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.borderColor){V.setBorderColor(bD.borderColor);}if(bD.borderThickness){V.setBorderThickness(bD.borderThickness);}if(bD.fillColor){V.setFillColor(bD.fillColor);}if(bD.fontColor){V.setFontColor(bD.fontColor);}if(bD.fontName){V.setFontName(bD.fontName);}if(bD.fontSize){V.setFontSize(bD.fontSize);}if(bD.fontStyle){V.setFontStyle(bD.fontStyle);}if(bD.maxLength){V.setMaxLength(bD.maxLength);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}if(bD.opacity){V.setOpacity(bD.opacity);}if(bD.text){V.setText(bD.text);}return dR.postCreate(V,bD);},TextAreaSignature:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.text){V.setText(bD.text);}if(bD.fontColor){V.setFontColor(bD.fontColor);}if(bD.fontName){V.setFontName(bD.fontName);}if(bD.maxFontSize){V.setMaxFontSize(bD.maxFontSize);}if(bD.fontStyle){V.setFontStyle(bD.fontStyle);}if(bD.maxLength){V.setMaxLength(bD.maxLength);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}return dR.postCreate(V,bD);},TextHyperlinkAnnotation:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.fillColor){V.setFillColor(bD.fillColor);}if(bD.href){V.setHref(bD.href);}return dR.postCreate(V,bD);},TextInputSignature:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.fontColor){V.setFontColor(bD.fontColor);}if(bD.fontName){V.setFontName(bD.fontName);}if(bD.text){V.setText(bD.text);}if(bD.maxLength){V.setMaxLength(bD.maxLength);}if(bD.mask){dR.setMask(V,bD.mask);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}return dR.postCreate(V,bD);},TextRedaction:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.fontColor){V.setFontColor(bD.fontColor);}if(bD.fontName){V.setFontName(bD.fontName);}if(bD.fontSize){V.setFontSize(bD.fontSize);}if(bD.maxLength){V.setMaxLength(bD.maxLength);}if(bD.text){V.setText(bD.text);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}return dR.postCreate(V,bD);},TextSelectionRedaction:function(bD,ag){var V=dR.Common.apply(this,arguments);if(V.ny){var gX=bD.reasons||bD.reason;if(gX&& !Array.isArray(gX)){gX=[gX];}if(gX){V.setReasons(gX);}}else{if(bD.reason){V.setReason(bD.reason);}}return dR.postCreate(V,bD);},TextSignature:function(bD,ag){var V=dR.Common.apply(this,arguments);if(bD.color){V.setColor(bD.color);}if(bD.fontName){V.setFontName(bD.fontName);}if(bD.text){V.setText(bD.text);}if(bD.horizontalAlignment){V.setHorizontalAlignment(bD.horizontalAlignment);}return dR.postCreate(V,bD);},TransparentRectangleRedaction:function(bD,ag){var V=dR.Common.apply(this,arguments);return dR.postCreate(V,bD);}};module.exports=dR;},{}],149:[function(require,module,exports){var Bw={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Bw;},{}],150:[function(require,module,exports){var ew={serializeMask:function(io){var aad={value:io.value,translations:{}};IPCC.G.forEach(io.translations,function(ak,ac){aad.translations[ac]=ak.toString();});return aad;},copyRectangle:function(R){return{x:R.x,y:R.y,width:R.width,height:R.height};},Common:function(bI,aH){var an;var ay;if(bI.page){an=bI.page.get_pageHeight();ay=bI.page.get_pageWidth();}else{an=null;ay=null;}var ax=bI.mark.getPageNumber();var bD={uid:bI.mark.getUid(),interactionMode:bI.mark.getInteractionMode(),pageNumber:ax,type:bI.mark.getType(),creationDateTime:IPCC.G.tp(bI.mark.J.anb()),modificationDateTime:IPCC.G.tp(bI.mark.J.amN()),data:ew.Data(bI.mark),conversation:ew.Conversation(bI.mark.getConversation())};function zs(bw){return{x:bw.x,y:bw.y};};function aoV(){var Fj=IPCC.G.map([].concat(bI.mark.J,bI.mark.aQ),function(J){if(ay!==null){return{pageNumber:J.aZ+1,pageData:{width:ay,height:an},startIndex:J.get_startIndex(),textLength:J.get_textLength(),lines:IPCC.G.map(J.aC,function(au){if(au.get_rectangle){return ew.copyRectangle(au.get_rectangle());}else{return ew.copyRectangle(au);}})};}else{return{pageNumber:J.aZ+1,startIndex:J.get_startIndex(),textLength:J.get_textLength(),lines:IPCC.G.map(J.aC,function(au){if(au.get_rectangle){return ew.copyRectangle(au.get_rectangle());}else{return ew.copyRectangle(au);}})};}});bD.lineGroups=Fj;};function aeV(){if(bI.mark.getRectangle){bD.rectangle=ew.copyRectangle(bI.mark.getRectangle());if(ay!==null){bD.pageData={width:ay,height:an};}}if(bI.mark.getStartPoint){bD.startPoint=zs(bI.mark.getStartPoint());if(ay!==null){bD.pageData=bD.pageData||{width:ay,height:an};}}if(bI.mark.getEndPoint){bD.endPoint=zs(bI.mark.getEndPoint());if(ay!==null){bD.pageData=bD.pageData||{width:ay,height:an};}}if(bI.mark.getPoints){var bL=bI.mark.getPoints();bD.points=IPCC.G.map(bL,zs);if(ay!==null){bD.pageData={width:ay,height:an};}}if(bI.mark.J.aC){aoV();}};if(ay!==undefined&&an!==undefined&&ay!==0&&an!==0){aeV();aH(undefined,bD);}else{bI.vc.requestPageAttributes(ax).then(function aGE(qq){an=qq.height;ay=qq.width;aeV();aH(undefined,bD);},function aGr(fj){aH(fj);});}},Data:function(bD){return IPCC.G.reduce(bD.getDataKeys(),function(ek,ac){ek[ac]=bD.getData(ac);return ek;},{});},Comment:function(cA){return{text:cA.getText(),data:ew.Data(cA),creationDateTime:IPCC.G.tp(cA.getCreationTime())};},Conversation:function(cG){return{comments:IPCC.G.map(cG.getComments(),function(cA){return ew.Comment(cA);}),data:ew.Data(cG)};},EllipseAnnotation:function(bI,aH){ew.RectangleAnnotation(bI,aH);},FreehandAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),opacity:bI.mark.getOpacity(),path:bI.mark.getPath(),thickness:bI.mark.getThickness()});aH(undefined,bD);});},FreehandSignature:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),path:bI.mark.getPath(),thickness:bI.mark.getThickness(),horizontalAlignment:bI.mark.getHorizontalAlignment()});aH(undefined,bD);});},HighlightAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}var dw=bI.mark.getPosition();bD=IPCC.G.extend(bD,{fillColor:bI.mark.getFillColor(),textLength:dw.length,startIndex:dw.startIndex,selectedText:bI.mark.getText()});aH(undefined,bD);});},ImageStampAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}var bx=bI.mark.getImage();bD=IPCC.G.extend(bD,{imageDataUrl:bx.dataUrl,imageId:bx.id});aH(undefined,bD);});},ImageStampRedaction:function(bI,aH){ew.ImageStampAnnotation(bI,aH);},LineAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),endHeadType:bI.mark.getEndHeadType(),opacity:bI.mark.getOpacity(),thickness:bI.mark.getThickness()});aH(undefined,bD);});},PolylineAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),opacity:bI.mark.getOpacity(),thickness:bI.mark.getThickness()});aH(undefined,bD);});},RectangleAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{borderColor:bI.mark.getBorderColor(),borderThickness:bI.mark.getBorderThickness(),fillColor:bI.mark.getFillColor(),opacity:bI.mark.getOpacity()});aH(undefined,bD);});},RectangleRedaction:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{fillColor:bI.mark.getFillColor(),borderColor:bI.mark.getBorderColor(),borderThickness:bI.mark.getBorderThickness(),fontColor:bI.mark.getFontColor()});if(bI.mark.ny){bD.reasons=bI.mark.getReasons();}else{bD.reason=bI.mark.getReason();}aH(undefined,bD);});},StampAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{label:bI.mark.getLabel(),color:bI.mark.getColor()});aH(undefined,bD);});},StampRedaction:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{label:bI.mark.getLabel()});aH(undefined,bD);});},StrikethroughAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}var dw=bI.mark.getPosition();bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),thickness:bI.mark.getThickness(),textLength:dw.length,startIndex:dw.startIndex,selectedText:bI.mark.getText()});aH(undefined,bD);});},TextAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{borderColor:bI.mark.getBorderColor(),borderThickness:bI.mark.getBorderThickness(),fillColor:bI.mark.getFillColor(),fontColor:bI.mark.getFontColor(),fontName:bI.mark.getFontName(),fontSize:bI.mark.getFontSize(),fontStyle:bI.mark.getFontStyle(),maxLength:bI.mark.getMaxLength(),horizontalAlignment:bI.mark.getHorizontalAlignment(),opacity:bI.mark.getOpacity(),text:bI.mark.getText()});aH(undefined,bD);});},TextAreaSignature:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{text:bI.mark.getText(),fontColor:bI.mark.getFontColor(),fontName:bI.mark.getFontName(),fontStyle:bI.mark.getFontStyle(),maxFontSize:bI.mark.getMaxFontSize(),maxLength:bI.mark.getMaxLength(),horizontalAlignment:bI.mark.getHorizontalAlignment(),});aH(undefined,bD);});},TextHyperlinkAnnotation:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}var dw=bI.mark.getPosition();bD=IPCC.G.extend(bD,{href:bI.mark.getHref(),fillColor:bI.mark.getFillColor(),textLength:dw.length,startIndex:dw.startIndex,selectedText:bI.mark.getText()});aH(undefined,bD);});},TextInputSignature:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{fontColor:bI.mark.getFontColor(),fontName:bI.mark.getFontName(),text:bI.mark.getText(),mask:bI.mark.getMask(),maxLength:bI.mark.getMaxLength(),horizontalAlignment:bI.mark.getHorizontalAlignment()});if(bI.mark.getMask()){bD.mask=ew.serializeMask(bI.mark.getMask());}aH(undefined,bD);});},TextRedaction:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{fontColor:bI.mark.getFontColor(),fontName:bI.mark.getFontName(),fontSize:bI.mark.getFontSize(),text:bI.mark.getText(),maxLength:bI.mark.getMaxLength(),horizontalAlignment:bI.mark.getHorizontalAlignment()});aH(undefined,bD);});},TextSelectionRedaction:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}var dw=bI.mark.getPosition();bD=IPCC.G.extend(bD,{textLength:dw.length,startIndex:dw.startIndex,selectedText:bI.mark.getText()});if(bI.mark.ny){bD.reasons=bI.mark.getReasons();}else{bD.reason=bI.mark.getReason();}aH(undefined,bD);});},TextSignature:function(bI,aH){ew.Common(bI,function(dQ,bD){if(dQ){aH(dQ);return;}bD=IPCC.G.extend(bD,{color:bI.mark.getColor(),fontName:bI.mark.getFontName(),text:bI.mark.getText(),horizontalAlignment:bI.mark.getHorizontalAlignment()});aH(undefined,bD);});},TransparentRectangleRedaction:function(bI,aH){ew.Common(bI,aH);}};module.exports=ew;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.ax=0;this.cI=undefined;this.AU=false;this.lM=Mark.InteractionMode.Full;this.ca=true;this.ny=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(bQ,kH){IPCC.G.forEach(bQ,function validateMark(la){if(la.getUid()===kH){throw new Error('Uid '+kH+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kH=parameters.uid||IPCC.G.ajG();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.J=parameters.igMark;this.cI=this.J.get_markID().toString();this.cd=this.J.get_data();}else{this.cd=new IPCC.Web.UI.Data();}Data.extend(this);this.CZ=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aL.jz(parameters.pageNumber,'pageNumber');this.ax=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aL.kj(parameters.id,'id');this.cI=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.AU){this.al=parameters.type;this.AU=true;}else if(parameters.type!==undefined){IPCC.aL.kj(parameters.type,'type');var Ko=QF(parameters.type,Mark.Type);if(Ko===null){throw new RangeError("The value of mark type was invalid.");}this.al=Ko;}if('bX'in parameters){this.bX=parameters.bX;}if('aF'in parameters){this.aF=parameters.aF;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kH;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kH,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.al;};Mark.prototype.getId=function(){return this.cI;};Mark.prototype.getPageNumber=function(){return this.ax;};Mark.prototype.getConversation=function(){if(!this.cG){this.cG=new PCCViewer.Conversation(this);}return this.cG;};Mark.prototype.getBoundingRectangle=function(){if(this.J){var au=this.J.get_boundingRectangle();if(au instanceof IPCC.Web.UI.Rectangle){this.na={width:au.width,height:au.height,x:au.x,y:au.y};}}return this.na;};Mark.prototype.getInteractionMode=function(){if(this.J){switch(this.J.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.lM;};Mark.prototype.setInteractionMode=function(interactionMode){var lM=QF(interactionMode,PCCViewer.Mark.InteractionMode),Ss;switch(lM){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Ss=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Ss=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.J){this.J.set_interactionMode(Ss);}this.lM=lM;return this;};Mark.prototype.reset=function(){var ci=new Mark({type:this.al,AU:this.AU});this.cd={};if(this.setBorderColor&&ci.getBorderColor){this.setBorderColor(ci.getBorderColor());}if(this.setBorderThickness&&ci.getBorderThickness){this.setBorderThickness(ci.getBorderThickness());}if(this.setColor&&ci.getColor){this.setColor(ci.getColor());}if(this.setEndHeadType&&ci.getEndHeadType){this.setEndHeadType(ci.getEndHeadType());}if(this.setEndPoint&&ci.getEndPoint){this.setEndPoint(ci.getEndPoint());}if(this.setFillColor&&ci.getFillColor){this.setFillColor(ci.getFillColor());}if(this.setFontColor&&ci.getFontColor){this.setFontColor(ci.getFontColor());}if(this.setFontName&&ci.getFontName){this.setFontName(ci.getFontName());}if(this.setFontSize&&ci.getFontSize){this.setFontSize(ci.getFontSize());}if(this.setFontStyle&&ci.getFontStyle){this.setFontStyle(ci.getFontStyle());}if(this.setHorizontalAlignment&&ci.getHorizontalAlignment){this.setHorizontalAlignment(ci.getHorizontalAlignment());}if(this.setLabel&&ci.getLabel){this.setLabel(ci.getLabel());}if(this.setPosition&&this.J&&ci.getPosition){this.setPosition(ci.getPosition());}if(this.setReason&&ci.getReason&&this.ny!==true){this.setReason(ci.getReason());}if(this.setReasons&&ci.getReasons&&this.ny!==false){this.setReasons(ci.getReasons());}if(this.setOpacity&&ci.getOpacity){this.setOpacity(ci.getOpacity());}if(this.setRectangle&&ci.getRectangle){this.setRectangle(ci.getRectangle());}if(this.setStartPoint&&ci.getStartPoint){this.setStartPoint(ci.getStartPoint());}if(this.setText&&ci.getText){this.setText(ci.getText());}if(this.setThickness&&ci.getThickness){this.setThickness(ci.getThickness());}if(this.setPath&&ci.getPath){this.setPath(ci.getPath());}if(this.setHref&&ci.getHref){this.setHref(ci.getHref());}if(this.setImage&&ci.getImage){this.setImage(ci.getImage());}if(this.setInteractionMode&&ci.getInteractionMode){this.setInteractionMode(ci.getInteractionMode());}if(this.setPoints&&ci.getPoints){this.setPoints(ci.getPoints());}if(this.setMask&&ci.getMask){this.setMask(ci.getMask());}if(this.setMaxLength&&ci.getMaxLength){this.setMaxLength(ci.getMaxLength());}if(this.setMaxFontSize&&ci.getMaxFontSize){this.setMaxFontSize(ci.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function QF(abc,al){var ZL=abc.toLowerCase();for(var standardType in al){if(al.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===ZL){return standardType;}}return null;};function addMethodsToMark(V){function apB(V){V.highlightText=function(highlights){if(!this.J){throw new Error("It is invalid to highlight text on this mark.");}var mH;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){mH=[highlights];}else{mH=highlights;}for(var i=0;i<mH.length;i++){asO(mH[i]);}}else{mH=[];}var al=V.getType();switch(al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:V.J.selectText(mH);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var T=this;var QV=[];var pL=false,Pj=0,Qj,EI;var abC=function(Ft,arB,gO){var vC;var Tg= -1,Sb=[];var xq=(Ft.aX+Ft.cU);if(pL===true&&Qj>=0&&EI>=0){if(Ft.aZ-1===Qj){vC=0;if(Pj<=xq){Sb.push({startIndex:vC,length:Pj,color:gO[EI].color,opacity:(gO[EI].opacity)?gO[EI].opacity:127});pL=false;Pj=0;Qj= -1;EI= -1;}}}for(var bJ=0;bJ<gO.length;bJ++){vC=Ft.aX+gO[bJ].startIndex-arB;if(vC<0){continue;}if(Array.prototype.indexOf){Tg=QV.indexOf(bJ);}else{Tg=IPCC.Web.kQ(QV,bJ);}var de=127;if(Tg=== -1){if(vC+gO[bJ].length<=xq){if(gO[bJ].opacity){de=gO[bJ].opacity;}Sb.push({startIndex:vC,length:gO[bJ].length,color:gO[bJ].color,opacity:de});QV.push(bJ);T.CX.push(gO[bJ]);}else{var QX=xq-vC;if(QX>0){Pj=gO[bJ].length-QX;de=127;if(gO[bJ].opacity){de=gO[bJ].opacity;}Sb.push({startIndex:vC,length:QX,color:gO[bJ].color,opacity:de});QV.push(bJ);T.CX.push(gO[bJ]);pL=true;EI=bJ;Qj=Ft.aZ;}}}}return Sb;};this.CX=[];var fb=abC(this.J,0,mH);V.clearHighlights();if(fb.length>0){T.J.selectText(fb);}fb=[];var hk=this.J.cU;if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){fb=[];fb=abC(this.aQ[K],hk,mH);hk+=this.aQ[K].cU;if(fb.length>0){this.aQ[K].selectText(fb);}}}break;}return this;};function asO(Gk){IPCC.aL.nj(Gk.startIndex,'highlight.startIndex',0,V.getText().length);IPCC.aL.nj(Gk.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aL.dz(Gk.color,'highlight.color');if(Gk.opacity){IPCC.aL.nj(Gk.opacity,"highlight.opacity",0,255);}};V.clearHighlights=function(){if(this.J){if(!this.J){throw new Error("It is invalid to clear highlights on this mark.");}}var al=V.getType();switch(al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:V.J.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.J.selectText();if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].selectText();}}break;}return this;};};var al=V.getType();switch(al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:apB(V);break;default:break;}};function addPropertiesToMark(V){V.na={x:0,y:0,width:0,height:0};var al=V.getType();switch(al){case Mark.Type.LineAnnotation:V.dz='#18385F';V.iv=IPCC.Web.UI.LineStyle.Solid;V.oI=6;V.de=255;V.KR={x:0,y:0};V.xq={x:0,y:0};V.oh="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:V.eI='#FB0404';V.de=255;V.oG='#000000';V.mB=4;V.R={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:V.fj="";V.gX=[];V.eI='#000000';V.oG='#000000';V.mB=1;V.gs='#FFFFFF';V.R={x:0,y:0,width:0,height:0};V.pg=true;if(V.J){V.J.kp(V.pg);}break;case Mark.Type.TransparentRectangleRedaction:V.R={x:0,y:0,width:0,height:0};V.pg=true;if(V.J){V.J.kp(V.pg);V.J.set_fillColor('#FFFF00');V.J.set_opacity(127);V.J.set_lineWidth(1);V.J.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:V.aq='';V.eI='#FFFFFF';V.de=127;V.oG='#000000';V.mB=4;V.gs='#000000';V.fP="Arial";V.dg=12;V.dm=[];V.lJ="Left";V.hw=0;V.R={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:V.wj="Approved";V.R={x:0,y:0,width:0,height:0};if(al===Mark.Type.StampRedaction){V.pg=true;if(V.J){V.J.kp(V.pg);V.J.set_fillColor('#000000');}}else{V.dz="#000000";}break;case Mark.Type.HighlightAnnotation:V.eI="#FFFF00";V.aq='';V.ds='';if(V.J){if(V.J.ds){V.aq=V.J.ds;}}V.dw={startIndex:0,length:0};V.CX=[];V.aQ=[];break;case Mark.Type.TextSelectionRedaction:V.fj="";V.gX=[];V.aq='';V.dw={startIndex:0,length:0};if(V.J){V.J.set_fillColor('#000000');if(V.J.ds){V.aq=V.J.ds;}}V.CX=[];V.aQ=[];break;case Mark.Type.TextHyperlinkAnnotation:V.nf='';V.eI="#3B00FF";V.aq='';if(V.J){if(V.J.ds){V.aq=V.J.ds;}}V.dw={startIndex:0,length:0};V.CX=[];V.aQ=[];break;case Mark.Type.TextRedaction:V.aq='';V.gs='#000000';V.fP="Arial";V.dg=12;V.R={x:0,y:0,width:0,height:0};V.pg=true;V.hw=0;if(V.J){V.J.kp(V.pg);V.J.set_fillColor('#FFFFFF');}V.lJ="Left";break;case Mark.Type.FreehandAnnotation:V.de=255;V.R={x:0,y:0,width:0,height:0};V.oI=4;V.dz='#000000';V.hv='M0,0';break;case Mark.Type.FreehandSignature:V.R={x:0,y:0,width:0,height:0};V.oI=4;V.dz='#000000';V.lJ="Center";V.hv='M0,0';break;case Mark.Type.TextSignature:V.aq="John Doe";V.R={x:0,y:0,width:0,height:0};V.dz="#000000";if(V.J){V.dz=V.J.eI||'#000000';V.J.kp(V.pg);V.J.set_fillColor(V.dz);}V.lJ="Center";V.fP="";break;case Mark.Type.TextInputSignature:V.aq="";V.R={x:0,y:0,width:0,height:0};V.gs="#000000";V.hw=0;if(V.J){V.gs=V.J.get_textColor()||'#000000';V.J.kp(false);}V.lJ="Left";V.fP="Courier New";V.io=null;break;case Mark.Type.TextAreaSignature:V.aq="";V.R={x:0,y:0,width:0,height:0};V.gs="#000000";if(V.J){V.gs=V.J.get_textColor()||'#000000';V.J.kp(false);}V.lJ="Left";V.fP="Courier New";V.dm=[];V.hw=0;V.iL=0;break;case 'PlaceSignature':V.kb=undefined;V.R={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:V.bx="";V.nK="";V.R={x:0,y:0,width:0,height:0};if(V.J&&al===Mark.Type.ImageStampRedaction){V.pg=true;V.J.kp(V.pg);}break;case Mark.Type.PolylineAnnotation:V.dz='#000000';V.iv=IPCC.Web.UI.LineStyle.Solid;V.oI=2;V.de=255;V.bL=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:V.dz='#000000';V.iv=IPCC.Web.UI.LineStyle.Solid;V.oI=2;V.aq='';V.ds='';if(V.J){if(V.J.ds){V.aq=V.J.ds;}}V.dw={startIndex:0,length:0};V.CX=[];V.aQ=[];break;}function getSignature(){return this.kb||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.kb=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.kb=signature;return this;};if(V.kb||V.al==='PlaceSignature'){V.getSignature=getSignature;V.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(V,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dz=this.J.get_lineColor()||this.dz;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dz=this.J.get_fillColor()||this.dz;break;}}return this.dz;};function setColor(value){IPCC.aL.dz(value,'color');this.dz=value;if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.J.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.J.set_fillColor(value);break;case Mark.Type.TextSignature:this.J.set_textColor(value);this.J.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.J.set_lineColor(value);if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].set_lineColor(value);}}break;}}return this;};if(V.dz!==undefined){V.getColor=getColor;V.setColor=setColor;if(Object.defineProperties){Object.defineProperties(V,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.eI=this.J.get_fillColor()||this.eI;break;}}return this.eI;};function setFillColor(value){if(this.al===PCCViewer.Mark.Type.HighlightAnnotation||this.al===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aL.dz(value,'fillColor');}else{IPCC.aL.abu(value,'fillColor');}this.eI=value;if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.J.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.J.set_fillColor(value);if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].set_fillColor(value);}}break;}}return this;};if(V.eI!==undefined){V.getFillColor=getFillColor;V.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(V,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bx,id:this.nK};return retVal;};function setImage(params){IPCC.aL.kj(params.dataUrl,'string');IPCC.aL.kj(params.id,'string');this.bx=params.dataUrl;this.nK=params.id;if(this.J){switch(this.al){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.J.set_image(params.dataUrl);this.J.nK=params.id;break;}}return this;};if(V.bx!==undefined){V.getImage=getImage;V.setImage=setImage;if(Object.defineProperties){Object.defineProperties(V,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oG=this.J.get_lineColor()||this.oG;break;}}return this.oG;};function setBorderColor(value){IPCC.aL.abu(value,'borderColor');this.oG=value;if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.J.set_lineColor(value);break;}}return this;};if(V.oG!==undefined){V.getBorderColor=getBorderColor;V.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(V,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.de=this.J.get_opacity()||this.de;break;}}return this.de;};function setOpacity(value){IPCC.aL.nj(value,'opacity',0,255);this.de=value;if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.J.set_opacity(value);break;}}return this;};if(V.de!==undefined&&V.de>=0){V.getOpacity=getOpacity;V.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(V,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.oI=this.J.get_lineWidth()||this.oI;break;}}return this.oI;};function setThickness(value){IPCC.aL.jI(value,'thickness',1,50);this.oI=value;if(this.J){switch(this.al){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.J.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.J.set_lineWidth(value);if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].set_lineWidth(value);}}break;}}return this;};if(V.oI){V.getThickness=getThickness;V.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(V,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.mB=this.J.get_lineWidth()||this.mB;break;}}return this.mB;};function setBorderThickness(value){IPCC.aL.jI(value,'borderThickness',1,50);this.mB=value;if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.J.set_lineWidth(value);break;}}return this;};if(V.mB!==undefined){V.getBorderThickness=getBorderThickness;V.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(V,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.J){this.ca=this.J.get_visible();}return this.ca;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.ca=value;if(this.J){this.J.set_visible(value);}var K;switch(this.al){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.aQ&&this.aQ.length){for(K=0;K<this.aQ.length;K++){this.aQ[K].set_visible(value);}}if(this.al===PCCViewer.Mark.Type.TextSelectionRedaction){var dv=this.J;for(K=0;K<this.J.aC.length;K++){dv.aC[K].set_visible(value);}if(dv.be){IPCC.G.forEach(this.aQ,function(J){for(K=0;K<J.aC.length;K++){J.aC[K].set_visible(value);}});}}break;}return this;};if(V.ca!==undefined){V.getVisible=getVisible;V.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(V,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.J&&this.J!==null){var bL=this.J.get_points();if(bL.get_length()>0){switch(this.al){case Mark.Type.LineAnnotation:var bw=bL.getPoint(0);if(bw){this.KR={x:bw.x,y:bw.y};}break;}}}return this.KR;};function setStartPoint(value){IPCC.aL.jz(value.x,'startPoint'+'.x');IPCC.aL.jz(value.y,'startPoint'+'.y');if(this.J&&this.J!==null){var bL=this.J.get_points();switch(this.al){case Mark.Type.LineAnnotation:bL.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.KR=value;return this;};if(V.KR){V.getStartPoint=getStartPoint;V.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(V,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.J&&this.J!==null){var bL=this.J.get_points();if(bL.get_length()>0){switch(this.al){case Mark.Type.LineAnnotation:var bw=bL.getPoint(1);if(bw){this.xq={x:bw.x,y:bw.y};}break;}}}return this.xq;};function setEndPoint(value){IPCC.aL.jz(value.x,'endPoint'+'.x');IPCC.aL.jz(value.y,'endPoint'+'.y');if(this.J&&this.J!==null){var bL=this.J.get_points();switch(this.al){case Mark.Type.LineAnnotation:bL.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.xq=value;return this;};if(V.xq){V.getEndPoint=getEndPoint;V.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(V,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.J&&this.J!==null){var Cj;switch(this.al){case Mark.Type.LineAnnotation:Cj=this.J.get_endHeadType();switch(Cj){case IPCC.Web.UI.LineHeadType.None:this.oh=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.oh=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.oh;};function setEndHeadType(value){var Cj;switch(value){case Mark.LineHeadType.None:Cj=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Cj=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.J&&this.J!==null){switch(this.al){case Mark.Type.LineAnnotation:this.J.set_endHeadType(Cj);break;}}this.oh=value;return this;};if(V.oh){V.getEndHeadType=getEndHeadType;V.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(V,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.J&&this.J!==null){var FN=this.J.get_points();var cf=FN.get_length();var akz=[];var Zc=function(auq,aA){akz.push(auq.getPoint(aA));};if(cf>1){switch(this.al){case Mark.Type.PolylineAnnotation:for(var K=0;K<cf;K++){Zc(FN,K);}this.bL=akz;break;}}}return this.bL.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bJ=0;bJ<value.length;bJ++){IPCC.aL.bw(value[bJ],'PolylinePoint');}if(this.J&&this.J!==null){var FN=this.J.get_points();var aoJ=function(aA){FN.addPoint(new IPCC.Web.UI.Point(value[aA].x,value[aA].y));};switch(this.al){case Mark.Type.PolylineAnnotation:FN.removeAllPoints();for(var K=0;K<value.length;K++){aoJ(K);}}}this.bL=value;return this;};if(V.bL){V.getPoints=getPoints;V.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(V,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.J){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var au=this.J.get_rectangle();if(au instanceof IPCC.Web.UI.Rectangle){this.R={width:au.width,height:au.height,x:au.x,y:au.y};}break;}}return this.R;};function setRectangle(value){IPCC.aL.jz(value.x,'rectangle'+'.x');IPCC.aL.jz(value.y,'rectangle'+'.y');IPCC.aL.jz(value.width,'rectangle'+'.width');IPCC.aL.jz(value.height,'rectangle'+'.height');if(this.J&&this.J!==null){switch(this.al){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var au=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.J.set_rectangle(au);break;}}this.R=value;return this;};if(V.R){V.getRectangle=getRectangle;V.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(V,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var cO=0;if(this.J&&this.J.ds){cO=this.J.ds.length;}else if(this.J){cO=IPCC.G.reduce([this.J].concat(this.aQ||[]),function(cf,J){return cf+J.get_textLength();},0);}return this.J?{startIndex:this.J.aX,length:cO}:this.dw;};function setPosition(value){IPCC.aL.jz(value.startIndex,'position.startIndex');IPCC.aL.jz(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.J===undefined||this.J===null){throw new Error("The mark must be on a page.");}var aR;var bf;var aZ=this.ax-1;var tP= -value.startIndex;var oH=[];var ds="";var dM;while(true){if(aZ>=this.bX.get_length()){throw new Error("The specified length is out of range.");}aR=this.bX.getPage(aZ);if(aR.dj()&&aR.dj().xm()&&aR.dj().mw()===true){var abY=tP;var abp=aR.dj().Bo();tP+=abp.length;if(tP<0||(tP===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var UO=0;if(aZ===this.ax-1){UO=value.startIndex;}if(tP>=value.length){dM=value.startIndex+value.length-1;if(abY>=0){dM=value.length-1-abY;}oH.push({pageIndex:aZ,endIndex:dM});ds+=abp.substring(UO,dM+1);break;}else{dM=aR.dj().Bo().length-1;oH.push({pageIndex:aZ,endIndex:dM});ds+=abp.substring(UO,dM+1);}}else{throw new Error("The text has not been retrieved for this page.");}aZ++;}this.be=IPCC.yT();var K=0;if(this.aQ){if(this.J){this.J.be=this.be;bf=this.aF.gx(this.bX.getPage(this.J.aZ));if(this.J.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var YX=this.J.aC.length-1;YX>=0;YX--){bf.removeMark(this.J.aC[YX]);this.J.aC.pop();}}}for(K=this.aQ.length-1;K>=0;K--){var mT=this.aQ[K];bf=this.aF.gx(this.bX.getPage(mT.aZ));bf.removeMark(mT);this.aQ.splice(K,1);}}else{this.aQ=[];}JY.call(this,oH,dM,ds,value);this.dw=value;return this;};function JY(oH,dM,ds,value,Zt){var K,aZ,aR,bf;Zt=Zt||{};var aC;this.aQ=this.aQ||[];var ajt=(this.J.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?asm:ate;for(K=0;K<oH.length;K++){aZ=oH[K].pageIndex;aR=this.bX.getPage(aZ);var aqS=aR.dj().hJ();bf=this.aF.gx(aR);var dv;var aX=0;dM=oH[K].endIndex;if(K===0){aX=value.startIndex;}aZ=oH[K].pageIndex;aC=Zt[aZ]||IPCC.G.VU(aqS,aX,dM);if(K===0){dv=ajt(this.J,aX,dM-aX+1,ds,aC,aZ,this.be,this.J.get_type(),bf);this.J.kI=true;}else{dv=ajt(null,aX,dM-aX+1,ds,aC,aZ,this.be,this.J.get_type(),bf);this.aQ.push(dv);bf.addMark(dv);dv.set_selected(this.J.get_selected());if(this.getFillColor){dv.set_fillColor(this.J.get_fillColor());}if(this.getColor){dv.set_lineColor(this.J.get_lineColor());}if(this.getThickness){dv.set_lineWidth(this.J.get_lineWidth());}if(this.getHref){dv.set_href(this.J.get_href());}if(this.getReason){dv.set_text(this.J.get_text());}}if(K===oH.length-1){dv.kX=true;}}};if(V.dw){V.getPosition=getPosition;V.setPosition=setPosition;V.JY=JY;if(Object.defineProperties){Object.defineProperties(V,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function ate(V,aX,cO,ds,aC,aZ,jU,bi,bf){if(!V){V=new IPCC.Web.UI.Mark(bi);}V.aX=aX;V.cU=cO;V.kW='y';V.be=jU;V.ds=ds;V.aC=aC||[];V.aZ=aZ;var YY=IPCC.G.reduce(V.aC,function(Kc,au){if(!Kc){return au.clone();}else{return Kc.union(au);}},null);V.set_rectangle(YY);return V;};function asm(V,aX,cO,ds,aC,aZ,jU,bi,bf){if(!V){V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}V.aX=aX;V.cU=cO;V.be=jU;V.ds=ds;V.aZ=aZ;V.aC=IPCC.G.map(aC,function(au){var yW=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yW.set_rectangle(au);yW.kp(true);yW.set_fillColor('#000000');yW.set_text(V.aq);yW.set_lineWidth(0);yW.be=jU;bf.addMark(yW);return yW;});var YY=IPCC.G.reduce(aC,function(Kc,au){if(!Kc){return au.clone();}else{return Kc.union(au);}},null);V.set_rectangle(YY);return V;};function getText(){if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.aq=(typeof this.J.get_text()==="string")?this.J.get_text():this.aq;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(V.J.ds){this.aq=V.J.ds;}break;}}return this.aq;};function setText(value){IPCC.aL.kj(value,'text');this.aq=value;if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.J.set_text(value);break;}}return this;};if(V.aq!==undefined){V.getText=getText;var bi=V.getType();if(bi!==Mark.Type.HighlightAnnotation&&bi!==Mark.Type.TextSelectionRedaction&&bi!==Mark.Type.TextHyperlinkAnnotation&&bi!==Mark.Type.StrikethroughAnnotation){V.setText=setText;}if(Object.defineProperties){var amr={enumerable:true,get:function(){return this.getText();}};if(V.setText!==undefined){amr.set=function(value){return this.setText(value);};}Object.defineProperties(V,{"text":amr});}}function getFontColor(){if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gs=this.J.get_textColor()||this.gs;break;}}return this.gs;};function setFontColor(value){IPCC.aL.dz(value,'fontColor');this.gs=value;if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.J.set_textColor(value);break;}}return this;};if(V.gs){V.getFontColor=getFontColor;V.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(V,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.fP=this.J.get_fontName()||this.fP;break;}}return this.fP;};function setFontName(value){IPCC.aL.kj(value,'fontName');this.fP=value;if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.J.set_fontName(value);break;}}return this;};if(V.fP!==undefined){V.getFontName=getFontName;V.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(V,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.dg=this.J.get_fontSize()||this.dg;break;}}return this.dg;};function setFontSize(value){IPCC.aL.jI(value,'fontSize',0.1,288);this.dg=value;if(this.J){switch(this.al){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.J.set_fontSize(value);break;}}return this;};if(V.dg){V.getFontSize=getFontSize;V.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(V,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.J){var zu=this.J.get_textHorizontalAlignment();switch(zu){case IPCC.Web.UI.HorizontalAlignment.Center:this.lJ="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.lJ="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.lJ="Right";break;}}return this.lJ;};function setHorizontalAlignment(value){IPCC.aL.kj(value,'horizontalAlignment');var nV=QF(value,PCCViewer.Mark.HorizontalAlignment);var zu;switch(nV){case 'Center':zu=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':zu=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':zu=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}V.lJ=nV;if(this.J&&zu!==undefined){this.J.set_textHorizontalAlignment(zu);this.lJ=nV;}return this;};if(V.lJ){V.getHorizontalAlignment=getHorizontalAlignment;V.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(V,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function anI(Ra){var zT=[];for(var K=0;K<Ra.length;K++){switch(Ra[K]){case "Bold":zT.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zT.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zT.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zT.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Ra[K]);}}if(zT.length===0){zT.push(IPCC.Web.UI.FontStyle.Regular);}return zT;};function getFontStyle(){if(this.J){var qg=[];switch(this.al){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ut=this.J.get_fontStyle();if(ut&IPCC.Web.UI.FontStyle.Bold){qg.push("Bold");}if(ut&IPCC.Web.UI.FontStyle.Italic){qg.push("Italic");}if(ut&IPCC.Web.UI.FontStyle.Strikeout){qg.push("Strikeout");}if(ut&IPCC.Web.UI.FontStyle.Underline){qg.push("Underline");}if(qg.length>0){this.dm=qg;}break;}}return this.dm;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var PK,K,afU=[];for(K=0;K<value.length;K++){PK=QF(value[K],PCCViewer.Mark.FontStyles);if(PK===null){throw new RangeError("The value of font styles "+value[K]+" is invalid.");}else{IPCC.aL.kj(PK,'fontStyle');afU.push(PK);}}this.dm=afU;var ut=[];ut=anI(this.dm);var aM=this;function aDA(ak){setTimeout(function(){aM.J.set_fontStyle(ak);},2);};if(this.J){switch(this.al){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ajo=ut[0];for(K=1;K<ut.length;K++){ajo|=ut[K];}aDA(ajo);break;}}return this;};if(V.dm){V.getFontStyle=getFontStyle;V.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(V,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.J){switch(this.al){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.wj=this.J.get_text()||this.wj;break;}}return this.wj;};function setLabel(value){IPCC.aL.kj(value,'label');this.wj=value;if(this.J){switch(this.al){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.J.set_text(value);break;}}return this;};if(typeof V.wj!=='undefined'){V.getLabel=getLabel;V.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(V,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.ny===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.J){switch(this.al){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.fj=this.J.get_text()||this.fj;break;}}return this.fj;};function setReason(value){if(this.ny===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.aL.kj(value,'text');this.fj=value;if(this.J){switch(this.al){case Mark.Type.RectangleRedaction:this.J.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.J.set_text(value);if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].set_text(value);}}break;}}return this;};if(typeof V.fj!=='undefined'){V.getReason=getReason;V.setReason=setReason;if(Object.defineProperties){Object.defineProperties(V,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.ny===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.gX.slice();};function setReasons(value){if(this.ny===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.aL.yq(value);IPCC.G.forEach(value,function(reason){IPCC.aL.kj(reason);});this.gX=value.slice();if(this.J){var Wu=this.gX.join("; ");switch(this.al){case Mark.Type.RectangleRedaction:this.J.set_text(Wu);break;case Mark.Type.TextSelectionRedaction:this.J.set_text(Wu);if(this.aQ&&this.aQ.length){for(var K=0;K<this.aQ.length;K++){this.aQ[K].set_text(Wu);}}break;}}return this;};if(typeof V.gX!=='undefined'){V.getReasons=getReasons;V.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(V,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.J){return this.J.get_pathString();}else{return this.hv;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var tW=IPCC.G.ZA(path);this.hv=path;if(this.J){this.J.set_pathString(path);this.J.set_pathWidth(tW.width);this.J.set_pathHeight(tW.height);}return this;};if(V.hv){V.setPath=setPath;V.getPath=getPath;if(Object.defineProperties){Object.defineProperties(V,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.J){return this.J.get_href();}else{return this.nf;}};function setHref(href){if(href!==null){var al=typeof href;if(al!=="undefined"&&al!=="number"&&al!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.nf=href;if(this.J){this.J.set_href(href);}if(this.aQ){IPCC.G.forEach(this.aQ,function(J){J.set_href(href);});}return this;};if(typeof V.nf!=='undefined'){V.setHref=setHref;V.getHref=getHref;if(Object.defineProperties){Object.defineProperties(V,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.hw=maxLength;if(this.J){this.J.set_maxLength(this.hw);}return this;};function getMaxLength(){if(this.J){this.hw=this.J.get_maxLength();}return this.hw;};if(typeof V.hw!=='undefined'){V.getMaxLength=getMaxLength;V.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(V,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.iL=maxFontSize;if(this.J){this.J.set_maxFontSize(this.iL);}return this;};function getMaxFontSize(){if(this.J){this.iL=this.J.get_maxFontSize();}return this.iL;};if(typeof V.iL!=='undefined'){V.getMaxFontSize=getMaxFontSize;V.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(V,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.io;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.io=null;if(this.J){this.J.set_mask(this.io);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var ain=false;IPCC.G.forEach(mask.translations,function(val,key){ain=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!ain){throw new Error('`mask.translations` must have at least one translation.');}this.io=mask;if(this.J){this.J.set_mask(this.io);}return this;};if(typeof V.io!=='undefined'){V.getMask=getMask;V.setMask=setMask;if(Object.defineProperties){Object.defineProperties(V,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var hN=function(viewerControl,markReferences){var T=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cI=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.cQ=viewerControl;this.bu=undefined;this.aah=undefined;this.alO=undefined;this.bQ=[];this.gh={};this.lM=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.aO){this.aO=viewerControl.aO;}else{var NH=function(){viewerControl.off('ViewerReady',NH);viewerControl.off('ViewingSessionChanged',NH);T.aO=viewerControl.aO;};viewerControl.on('ViewerReady',NH);viewerControl.on('ViewingSessionChanged',NH);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.G.forEach(markReferences,function(qD){var Mu=qD.markUid;qD.markupLayer=T;if(T.gh[Mu]){T.gh[Mu]=T.gh[Mu].concat(qD);}else{T.gh[Mu]=[qD];}});}var pP={};EventEmitter.extend(pP);pP.Qn=function(BI,dC){var T=this;return setTimeout(function(){T.trigger(BI,dC);},0);};EventEmitter.extend(this);this.cd=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.CZ=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){T.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};hN.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};hN.prototype.getViewerControl=function(){return this.cQ;};hN.prototype.addMarks=function(marks){var T=this,axe=function(cA){cA.hQ=T;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var K=0;K<marks.length;K++){if(!(marks[K]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[K].getId())){marks.splice(K,1);continue;}IPCC.G.forEach(marks[K].getConversation().getComments(),axe);}if(marks.length){this.bQ=this.bQ.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};hN.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var K=0;K<this.bQ.length;K++){for(var bJ=0;bJ<marks.length;bJ++){if(this.bQ[K].getUid()===marks[bJ].getUid()){this.bQ.splice(K,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bJ]]});break;}}}};hN.prototype.getMarks=function(){var afR=[];IPCC.G.forEach(this.bQ,function(V){afR.push(V);});return afR;};hN.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var K=0,aef=false,V;for(K;K<this.bQ.length;K++){V=this.bQ[K];if(V.getId()===markId){aef=true;break;}}return aef;};hN.prototype.getMarkReferences=function(){var gh=[];for(var mg in this.gh){if(this.gh.hasOwnProperty(mg)){gh=gh.concat(this.gh[mg]);}}return gh;};hN.prototype.hide=function(){var cQ=this.aO;cQ.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};hN.prototype.show=function(){var cQ=this.aO;cQ.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};hN.prototype.copyLayers=function(markupLayers){var cQ=this.aO,T=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bQ=[];IPCC.G.forEach(markupLayers,function(hQ){cQ.getMarkupLayerCollection().getItem(hQ.getId());bQ=bQ.concat(hQ.getMarks());});var copiedMarks=cQ.copyMarks(bQ);this.addMarks(copiedMarks);IPCC.G.forEach(this.bQ,function(V){IPCC.G.forEach(V.getConversation().getComments(),function(cA){cA.hQ=T;});});return this;};hN.prototype.getId=function(){return this.cI;};hN.prototype.getName=function(){return this.bu;};hN.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.bu=name;return this;};hN.prototype.getRecordId=function(){return this.aah;};hN.prototype.destroy=function(){this.aO.getMarkupLayerCollection().removeItem(this.cI);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};hN.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.lM=interactionMode;IPCC.G.forEach(this.bQ,function(V){V.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};hN.prototype.getOriginalXmlName=function(){return this.alO;};hN.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alO=name;return this;};if(Object.defineProperties){Object.defineProperties(hN.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=hN;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cQ=viewerControl;this.rG={};this.bQ={};this.iw={};this.rj=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.cQ;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.G.forEach(this.rG,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.rG[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.rj;};MarkupLayerCollection.prototype.getAll=function(){var ahu=[],Zf;for(Zf in this.rG){if(this.rG.hasOwnProperty(Zf)){ahu.push(this.rG[Zf]);}}return ahu;};MarkupLayerCollection.prototype.addItem=function(layer){var T=this,gh,ZD=layer.gh,Hz=function(V,qD){var cA=V.getConversation().addComment(qD.text);cA.creationTime=new Date(qD.creationDateTime);cA.hQ=qD.markupLayer;for(var tC in qD.data){if(qD.data.hasOwnProperty(tC)){cA.setData(tC,qD.data[tC]);}}},aAt=function(aCe){Hz(T.bQ[xt],aCe);},ano=function(V){var mg=V.getUid();T.bQ[V.getUid()]=V;if(T.iw[mg]){IPCC.G.forEach(T.iw[mg],function(qE){Hz(V,qE);});delete T.iw[mg];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.rG[layer.getId()]=layer;for(var xt in ZD){if(ZD.hasOwnProperty(xt)){gh=ZD[xt];if(T.bQ[xt]){IPCC.G.forEach(gh,aAt);}else if(T.iw[xt]){T.iw[xt]=T.iw[xt].concat(gh);}else{T.iw[xt]=gh;}}}IPCC.G.forEach(layer.getMarks(),function(V){ano(V);});this.rj++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.G.forEach(ev.marks,function(V){ano(V);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var aAk=ev.cV;IPCC.G.forEach(ev.marks,function(V){var mg=V.getUid();IPCC.G.forEach(T.bQ[mg].getConversation().getComments(),function(ES){if(aAk.id!==ES.hQ.id){var qE={creationDateTime:IPCC.G.tp(ES.creationTime),data:ES.cd.vk(),markUid:V.getUid(),markupLayer:ES.hQ,text:ES.text};if(T.iw[mg]){T.iw[mg]=T.iw[mg].concat([qE]);}else{T.iw[mg]=[qE];}}});T.tm(V);});});return this;};MarkupLayerCollection.prototype.tm=function(V){var Mc;IPCC.G.forEach(this.rG,function(fC){var agT=fC.hasMark(V.getId());Mc=(typeof Mc!=='undefined')? +agT^Mc: +agT;});if(Mc===0){delete this.bQ[V.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var fC=this.rG[layerId],T=this,aCM=function(qE,aA){if(qE.markupLayer.getId()===layerId){T.iw[cI].splice(aA);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.G.forEach(this.bQ,function(V){var fX=V.getConversation().getComments();var MJ=fC.hasMark(V.getId());IPCC.G.forEach(fX,function(cA){if(MJ&&cA.hQ.getId()!==layerId){var aeN={"markUid":V.getUid(),"markupLayer":cA.hQ,"text":cA.getText(),"data":cA.cd.cd,"creationDateTime":IPCC.G.tp(cA.getCreationTime())};if(T.iw[V.getUid()]){T.iw[V.getUid()].push(aeN);}else{T.iw[V.getUid()]=[aeN];}V.getConversation().deleteComments(cA);}else if(MJ&&cA.hQ.getId()===layerId){V.getConversation().deleteComments(cA);}else if(!MJ&&cA.hQ.getId()===layerId){V.getConversation().deleteComments(cA);}});if(MJ&&T.bQ[V.getUid()]){T.tm(V);}});for(var cI in this.iw){if(this.iw.hasOwnProperty(cI)){IPCC.G.forEach(this.iw[cI],aCM);}}delete this.rG[layerId];this.rj--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.rG={};this.rj=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.bu=name;var Ko=ayV(type);if(Ko===null){throw new RangeError("The value of type was invalid.");}this.al=Ko;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bu;};MouseTool.prototype.getType=function(){return this.al;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function ayV(abc){var ZL=abc.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===ZL){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var al=mouseTool.getType();switch(al){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.Bg=false;break;case MouseTool.Type.PanAndEdit:mouseTool.Bg=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.ap=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.ap=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.ap=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.ap=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.ap=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.ap=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.ap=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.ap=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.ap=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.ap=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.ap=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.ap=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.ap=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.ap=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.ap=new Mark({type:'PlaceSignature',AU:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.ap=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.ap=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.ap=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.ap=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.ap=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.ap){mouseTool.getTemplateMark=function(){return this.ap;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.ap){this.ap.reset();}};var MouseTools={sx:{},createMouseTool:function(name,type){if(!this.sx){this.sx={};createDefaultMouseTools();}var yR=name.toLowerCase();var existingTool=this.sx[yR];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sx[yR]=new MouseTool(name,type);}return this.sx[yR];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sx){this.sx={};createDefaultMouseTools();}var yR=name.toLowerCase();return this.sx[yR];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sx;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var zE=[];var pP={};EventEmitter.extend(pP);pP.Qn=function(BI,dC){var T=this;return setTimeout(function(){T.trigger(BI,dC);},0);};this.add=function(item){zE.push(item);pP.Qn(this.EventType.ItemAdded,{item:item,count:zE.length});return this;};this.remove=function(item){var T=this;this.forEach(function(e,idx){if(e===item){zE.splice(idx,1);pP.Qn(T.EventType.ItemRemoved,{item:item,count:zE.length});}});return this;};this.removeAll=function(){zE=[];pP.Qn(this.EventType.ItemRemoved,{count:zE.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.G.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(zE);};this.on=function(eventType,handler){pP.on.apply(pP,arguments);return this;};this.off=function(eventType,handler){pP.off.apply(pP,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var CL={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=CL;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(YD){this.YD=YD;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.YD(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Tx=function Tx(bD,dA,H){if(bD.addEventListener){bD.addEventListener(dA,H,false);}else if(bD.attachEvent){bD.attachEvent('on'+dA,H);}};var aby=function aby(bD,dA,H){if(bD.removeEventListener){bD.removeEventListener(dA,H,false);}else if(bD.detachEvent){bD.detachEvent('on'+dA,H);}};function aAY(eW){var adg={};eW=eW.split('&');for(var i=eW.length;i--;){var q=eW[i].split('=');adg[q.shift()]=q.join('=');}return adg;};function aFy(){var AQ=document.getElementById('pccPrintFrame');if(AQ){if(AQ.contentWindow&&AQ.contentWindow.destroy){AQ.contentWindow.destroy();}if(AQ.parentElement){AQ.parentElement.removeChild(AQ);}}};function ayz(ag){ag.afY();aFy();ag.agO();if(!ag.algorithm){ag.algorithm=printAlgorithm.standard;}var ga;var fV=document.createElement('iframe');fV.id='pccPrintFrame';fV.className='pccPrintFrame';fV.style.position='absolute';fV.style.bottom=fV.style.right='0px';fV.style.width=fV.style.height='1px';fV.style.zIndex='0';fV.style.border='none';if(ag.algorithm!==printAlgorithm.contentWindowContents){fV.style.visibility='0';}function Nd(){aby(window,'message',aku);};function adW(){aby(fV,'load',adW);if(fV.contentDocument){ga=fV.contentDocument;}else if(fV.contentWindow){ga=fV.contentWindow.document;}else{ga=fV.document;}if(ag.algorithm===printAlgorithm.contentWindowContents){fV.contentWindow.contents=ag.template;fV.src='javascript:window["contents"]';}else{ga.open();ga.write(ag.template);ga.close();}};var aku=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var alS=JSON.parse(message.data);var bf=ag.afQ(alS.pageIndex);ag.afY();fV.contentWindow[alS.callbackName](bf);ag.agO();}else if(message.data==='extra'){var Gj=ag.agz(ag);fV.contentWindow['extra'](ag.encryption,Gj);}else if(message.data==='done'){if(ag.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){fV.contentWindow.focus();fV.contentWindow.document.execCommand('print',false,null);window.focus();Nd();ag.wQ.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){fV.contentWindow.focus();fV.contentWindow.print();window.focus();Nd();ag.wQ.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){Nd();ag.wQ.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rS=aAY(message.data);rS.index= +rS.index;rS.pageNumber= +rS.pageNumber;rS.totalPages= +rS.totalPages;ag.wQ.afL= +rS.index+1;ag.wQ.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rS);}};Tx(window,'message',aku);Tx(fV,'load',adW);document.body.appendChild(fV);return Nd;};function aBV(cQ){return function afQ(aZ){return cQ.aF.gx(cQ.bX.getPage(aZ));};};function aEH(cQ){return function agz(options){var bQ,V,uq=[],Af=[],AX={},II={},vi={},fj={},Fr='',akV,cG,aA,GM,au,IO,ax,amq={},Ba={},K=0,dp=0,bJ=0,arh=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bQ=cQ.getAllMarks();for(K=0;K<options.pages.length;K++){amq[options.pages[K]]=true;}for(dp=0;dp<bQ.length;dp++){V=bQ[dp];ax=V.ax;if(options.includeReasons!=='none'&&(V.getReason||V.getReasons)){Fr=V.J.get_text();if(Fr){if(!vi[ax]){fj[Fr]=1;vi[ax]=fj;fj={};}else{if(vi[ax][Fr]){vi[ax][Fr]+=1;}else{vi[ax][Fr]=1;}}}}if(V.pg||V.al.search("Redaction")!== -1){if(Ba[ax]){Ba[ax]+=1;}else{Ba[ax]=1;}}if(options.range.length&&amq[ax]!==true|| !options.includeRedactions&&V.pg|| !options.includeAnnotations&& !V.pg){continue;}cG=V.getConversation();if(cG&&cG.getComments().length){if(!GM){GM=ax;}else if(ax!==GM){uq.sort(arh);for(bJ=0;bJ<uq.length;bJ++){Af=Af.concat(AX[uq[bJ]]);}II[GM]=Af;GM=ax;uq=[];AX={};Af=[];}aA=cQ.getCharacterIndex(V);akV=ax;au=V.J.get_boundingRectangle();IO=(aA>0)?aA*10000+au.y:au.y;uq.push(IO);if(!AX[IO]){AX[IO]=[cG];}else{AX[IO].push(cG);}}}if(uq.length){uq.sort(function(a,b){return a-b;});for(K=0;K<uq.length;K++){Af=Af.concat(AX[uq[K]]);}II[akV]=Af;}}return{II:II,vi:vi,Ba:Ba};};};function aFn(cQ){return function(){if(cQ&&cQ.aF){cQ.aF.remove_markChanged(cQ.mJ);}};};function WI(cQ){return function(){if(cQ&&cQ.aF){cQ.aF.add_markChanged(cQ.mJ);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var db=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var pF=this.ag.imageHandlerUrl;var apV=this.ag.documentID;var apc=this.axQ;options.vsID=apV;options.handler=pF;options.pages=db;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=apc.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.ag.viewerAssetsPath);options.encryption= ! !this.ag.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var SJ;function aJ(){if(! !SJ){SJ();}};var wQ=new PCCViewer.PrintRequest(options,db.length,aJ,this);this.bP.trigger(PCCViewer.EventType.PrintRequested,{printRequest:wQ});options.wQ=wQ;options.afQ=aBV(this);options.agz=aEH(this);options.afY=aFn(this);options.agO=WI(this);SJ=ayz(options);return wQ;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.ag=options;this.aJ=cancelFunc;this.afL=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.aJ();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.ag.pages.toString(),orientation:this.ag.orientation,paperSize:this.ag.paperSize,margins:this.ag.margins,includeMarks:this.ag.includeMarks,includeAnnotations:this.ag.includeAnnotations,includeRedactions:this.ag.includeRedactions,includeComments:this.ag.includeComments,includeReasons:this.ag.includeReasons,redactionViewMode:this.ag.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.ag.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.afL;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var afC=[];IPCC.G.YJ=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function zw(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function azi(ax,IJ){var kV=[];kV.push("pageNumber="+(1+ax));kV.push("index="+IJ);kV.push("totalPages="+options.pages.length);return kV.join('&');};function ju(ax,IJ,next){var bI={documentIdentifier:options.vsID,pageNumber:ax,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var jc=document.createElement('div');jc.className=options.paperSize+" ";jc.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';jc.id='printpage'+ax;if(options.margins==='none'){jc.className+=' nomargins';}domElement.appendChild(jc);var pv=IPCC.initializePageViewPlugin(jc,bI);pv.set_debug(false);pv.set_requireRequestsOptimize(true);afC.push(pv);var xW=false;function Hc(){zw(azi(ax,IJ));next();};pv.add_pageOpened(function(){var ay=pv.jP(),an=pv.jq();var wZ=(options.orientation==='portrait'&&ay>an)||(options.orientation==='landscape'&&an>ay);if(wZ){pv.wZ(90);}});pv.add_pageDisplayed(function(){if(!xW){Hc();}});pv.add_textPageReady(function(){if(xW){pv.cl();Hc();}});pv.add_pageOpenFailed(function(){zw('fail');});pv.add_textExtractionFailed(function(){if(xW){zw('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.nU(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.nU(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var ahI='loadArt'+ax;var rS={pageIndex:ax,callbackName:ahI};window[ahI]=function(bf){var mG,Sf,K,cG={},Ro={},Ap='',pj,gX,fj,Fz='';var LO=[];bf.Fe(function(V){if(V.get_type()===IPCC.Web.UI.MarkType.HighlightText){xW=true;}if(options.includeRedactions&&V.iE()){LO.push(V);}if(options.includeAnnotations&& !V.iE()){LO.push(V);}});var acg=new IPCC.Web.UI.ArtPage();IPCC.G.forEach(LO,function(V){V.ng(undefined);acg.addMark(V);});bI.artPage=acg;Ro=options.pagedConversations[ax+1];if(options.pagedConversations&&Ro&&options.includeComments==='followingPage'){mG=document.createElement('div');mG.className+='commentPage';mG.id='printcommentpage'+ax;if(options.margins==='none'){mG.className+=' nomargins';}Sf='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(K=0;K<Ro.length;K++){cG=Ro[K];Ap+=akX(cG,ax+1);}mG.innerHTML=Sf.replace('{{pageNumber}}',ax+1).replace('{{conversationList}}',Ap);domElement.appendChild(mG);}gX=options.pagedReasons[ax+1];if(options.pagedReasons&&gX&&options.includeReasons==='followingPage'){pj=document.createElement('div');pj.className+='reasonPage';pj.id='printreasonpage'+ax;if(options.margins==='none'){pj.className+=' nomargins';}Sf='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fj in gX){if(gX.hasOwnProperty(fj)){Fz+=aiS(fj,gX[fj]);}}pj.innerHTML=Sf.replace('{{pageNumber}}',ax+1).replace('{{reasonList}}',Fz).replace('{{date}}',ahW()).replace('{{count}}',options.pagedRedactionCount[ax+1]);domElement.appendChild(pj);}pv.openPage(bI);IPCC.G.forEach(LO,function(V){V.ng(bf);});};zw(JSON.stringify(rS));}else{pv.openPage(bI);}};function akX(cG,ax){var ajb='',hY='',V=cG.getMark(),fX,cA,K;switch(V.J.hU()){case IPCC.Web.UI.MarkType.Rectangle:hY=(V.J.iE())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:hY='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:hY='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:hY=(V.oh==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:hY='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:hY='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:hY='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:hY='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:hY='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:hY='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:hY='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:hY='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:hY='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:hY='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:hY='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:hY='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:hY='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:hY='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:hY='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:hY='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:hY='Strikethrough Annotation';break;default:break;}fX=cG.getComments();for(K=0;K<fX.length;K++){cA=fX[K];ajb+='<li>'+avv({text:cA.getText(),createDate:cA.pq.ZY,pageNumber:ax+1})+'</li>';}return '<h3>'+hY+'</h3><ul>'+ajb+'</ul>';};function avv(cA){var jo=new Date(cA.createDate),XL='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',jo.getMonth()+1).replace('{{day}}',jo.getDate()).replace('{{year}}',jo.getFullYear()).replace('{{hour}}',(jo.getHours()<10?'0':'')+jo.getHours()).replace('{{minutes}}',(jo.getMinutes()<10?'0':'')+jo.getMinutes()).replace('{{period}}',jo.getHours()<12?'am':'pm');var aq=cA.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',aq).replace('{{date}}',XL);};function ahW(){var jo=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',jo.getMonth()+1).replace('{{day}}',jo.getDate()).replace('{{year}}',jo.getFullYear());};function aiS(fj,rj){fj=fj.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var aqY=(rj>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fj).replace('{{count}}',rj).replace('{{times}}',aqY);};function aAR(){window.onerror=function(ev){zw('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function aBY(ax,IJ){return function(next){ju(ax,IJ,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aR= +options.pages[i]-1;funcs.push(aBY(aR,i));}sync(funcs,function(){var mG,MX='',aR,DX='',Ap='',cG,V,ajF='<h1>Comments</h1><hr>{{pageSections}}',pj,Fz='',aCR='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aR in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aR)){if(!mG){mG=document.createElement('div');mG.className+=' commentPage';mG.id='printpage_comments';if(options.margins==='none'){mG.className+=' nomargins';}}MX='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Ap='';for(var K=0;K<options.pagedConversations[aR].length;K++){cG=options.pagedConversations[aR][K];V=cG.getMark();Ap+=akX(cG,V.pageNumber);}DX+=MX.replace('{{pageNumber}}',V.pageNumber).replace('{{conversationList}}',Ap);if(Ap.length){mG.innerHTML=ajF.replace('{{pageSections}}',DX);domElement.appendChild(mG);}}}}if(options.includeReasons==='documentEnd'){DX='';ajF='';MX='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aR in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aR)){if(!pj){pj=document.createElement('div');pj.className+='reasonPage';pj.id='printpage_reason';if(options.margins==='none'){pj.className+=' nomargins';}}Fz='';for(var fj in options.pagedReasons[aR]){if(options.pagedReasons[aR].hasOwnProperty(fj)){Fz+=aiS(fj,options.pagedReasons[aR][fj]);}}DX+=MX.replace('{{pageNumber}}',aR).replace('{{reasonList}}',Fz).replace('{{date}}',ahW()).replace('{{count}}',options.pagedRedactionCount[aR]);}}if(DX.length){pj.innerHTML=aCR.replace('{{pageSections}}',DX);domElement.appendChild(pj);}}zw('done');});};function aCY(){window['extra']=function(bool,Gj){options.encryption= ! !bool;options.pagedConversations=Gj.II;options.pagedReasons=Gj.vi;options.pagedRedactionCount=Gj.Ba;aAR();window['extra']=function(){};};zw('extra');};function aDJ(){var bf;IPCC.G.forEach(afC,function(bq){bf=bq.get_artPage();if(bf){bf.removeAllMarks();}bq.dispose();bf=undefined;});};window['destroy']=aDJ;aCY();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aCv={Draft:"Draft",Normal:"Normal"};module.exports=aCv;},{}],160:[function(require,module,exports){var Revision=function(){this.cI=0;this.xl=0;this.al='';};Revision.prototype.getId=function(){return this.cI;};Revision.prototype.getEndPageNumber=function(){return this.xl;};Revision.prototype.getType=function(){return this.al;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.xl;}},"id":{enumerable:true,get:function(){return this.cI;}},"type":{enumerable:true,get:function(){return this.al;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var Ih=function(ag){var kC=new PCCViewer.RevisionsRequest(true);function aua(al){for(var SL in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(SL)){if(SL.toLowerCase()===al.toLowerCase()){return PCCViewer.Revision.Type[SL];}}}return PCCViewer.Revision.Type.Unknown;};function aAZ(hf,aX){var yU=[];if(hf.changes&&hf.changes.length){yU=hf.changes.map(function(Zs){var QH=new PCCViewer.Revision();QH.cI=Zs.id;QH.xl=Zs.endPageIndex+1;QH.al=aua(Zs.type);return QH;});}return yU;};function asA(PD){var Tc=PD?'&continueToken='+PD:'';var aqm=ag.imageHandlerUrl+'/v2/viewingSessions/'+ag.documentID;return aqm+'/revisionData?limit=100'+Tc;};function ahy(PD){var bg=PCCViewer.Deferred();var ae=asA(PD);PCCViewer.Ajax.fh({url:ae,method:'GET'}).then(function dV(ad){var cd=JSON.parse(ad.responseText);var GG=cd.continueToken;var yU=aAZ(cd,kC.Hw.length);kC.Hw=kC.Hw.concat(yU);if(GG){if(yU.length){kC.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yU});}setTimeout(function(){ahy(GG);},cd.continueAfter||0);}else{if(yU.length){kC.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:yU});}kC.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:kC.getRevisions()});kC.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:kC.getRevisions()});}bg.resolve();},function dZ(av){var eF='RequestFailed';var cr='The request to get revisions failed.';var oy=av.response.responseText?JSON.parse(av.response.responseText):'';var hW=av.response.status;if(oy&&(hW===580||(hW===480&&oy.errorCode==='DocumentNotProvidedYet'))){eF=oy.errorCode;}kC.eF=eF;kC.cr=cr;kC.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:kC.getErrorMessage()});kC.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:kC.getRevisions()});bg.reject(av.error);});};this.aBl=function(){setTimeout(function(){ahy();},0);return kC;};};var RevisionsRequest=function(xa){this.Hw=[];this.eF=null;this.cr=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !xa,enumerable:true,get:function(){return this.Hw;}},"errorCode":{configurable: ! !xa,enumerable:true,get:function(){return this.eF;}},"errorMessage":{configurable: ! !xa,enumerable:true,get:function(){return this.cr;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Hw;};RevisionsRequest.prototype.getErrorCode=function(){return this.eF;};RevisionsRequest.prototype.getErrorMessage=function(){return this.cr;};module.exports={RevisionsRequest:RevisionsRequest,Ih:Ih};},{}],162:[function(require,module,exports){var EE={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=EE;},{}],163:[function(require,module,exports){var _Search=function(){this.ai='';this.IB={};this.cR={};this.KK=0;this.aY=new PCCViewer.SearchRequest();var T=this;this.Yy=function(){var Sc=[];for(var K=0;K<T.IB.searchTerms.length;K++){var ai=T.IB.searchTerms[K];var og=IPCC.G.Pk(ai.type);var Qq;switch(og){case 'proximity':var xT={tU:ai,cR:[],type:ai.type,highlightColor:this.WY(ai.highlightColor),distance:ai.distance,contextPadding:ai.contextPadding};for(var x=0;x<ai.terms.length;x++){var RQ=ai.terms[x];Qq=this.aiK(RQ);xT.cR=xT.cR.concat(Qq);}Sc.push(xT);break;default:Qq=this.aiK(ai);Sc=Sc.concat(Qq);break;}}return Sc;};this.aiK=function(ai){var fm=[];var cR={};if(ai.matchingOptions.exactPhrase===false&&ai.searchTermIsRegex===false){var zr=ai.searchTerm.split(' ');for(var bJ=0;bJ<zr.length;bJ++){cR={};if(zr[bJ].length<0){continue;}cR.searchText=zr[bJ];cR.tU=ai;if(ai.matchingOptions.matchWholeWord){cR.searchTerm=this.agb(this.FA(zr[bJ]),ai.matchingOptions);}else{if(ai.matchingOptions.wildcard===true){cR.searchTerm=this.afg(this.FA(zr[bJ]),ai.matchingOptions);}else if(ai.matchingOptions.beginsWith===true||ai.matchingOptions.endsWith===true){cR.searchTerm=this.aeh(this.FA(zr[bJ]),ai.matchingOptions);}else{cR.searchTerm=this.akG(zr[bJ],ai.matchingOptions,false);}}cR.highlightColor=this.WY(ai.highlightColor);fm.push(cR);}}else{cR={};cR.searchText=ai.searchTerm;cR.tU=ai;if(ai.matchingOptions.matchWholeWord){cR.searchTerm=this.agb(this.FA(ai.searchTerm),ai.matchingOptions);}else{if(ai.matchingOptions.wildcard===true){cR.searchTerm=this.afg(this.FA(ai.searchTerm),ai.matchingOptions);}else if(ai.matchingOptions.beginsWith===true||ai.matchingOptions.endsWith===true){cR.searchTerm=this.aeh(this.FA(ai.searchTerm),ai.matchingOptions);}else{cR.searchTerm=this.akG(ai.searchTerm,ai.matchingOptions,ai.searchTermIsRegex);}}cR.highlightColor=this.WY(ai.highlightColor);fm.push(cR);}return fm;};this.agb=function(ta,xf){var Hy=new RegExp('\\b'+ta+'\\b',this.Iy(xf.matchCase));return Hy;};this.aeh=function(ta,xf){if(xf.beginsWith){return new RegExp("\\b"+ta+'(\\w+)',this.Iy(xf.matchCase));}if(xf.endsWith){ta=ta.replace("*","");return new RegExp('(\\w+)'+ta+"\\b",this.Iy(xf.matchCase));}};this.FA=function(ta){return ta.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.afg=function(rJ,xf){rJ=rJ.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rJ==='\\*'){var dQ=new Error('The search term must contain one or more non-wildcard characters.');dQ.aDQ=true;throw dQ;}var regexFlags='gim';if(xf.matchCase){regexFlags='gm';}rJ=rJ.replace(/\*/g,'\S*');rJ=rJ.replace(/\?/g,'\S');var Hy=new RegExp('(\\s|^)'+rJ+'(?=\\s|$)',regexFlags);return Hy;};this.WP=function(ta){return ta.replace(/\ /g,'\\s+');};this.akG=function(Rz,matchingOptions,isRegex){var tK='';if(isRegex===true){tK=this.WP(Rz);}else if(matchingOptions.wildcard===true){tK=Rz.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tK=this.WP(tK);}else if(matchingOptions.exactPhrase){tK=Rz.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tK=this.WP(tK);}else{tK=Rz.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var aAG=tK.replace(/'/g,'[\'||]').replace(/"/g,'["||]');return new RegExp(aAG,this.Iy(matchingOptions.matchCase));};this.Iy=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aIv=function(rJ){var Hy=new RegExp('\\b'+rJ+'\\b',T.Iy());return Hy;};var akJ=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.WY=function(dz){if(!dz){return akJ[T.KK++ %akJ.length];}else{return dz;}};this.Ud=function(dO){if(typeof dO==='string'){dO={searchTerms:[{searchTerm:dO,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return dO;}IPCC.G.forEach(dO.searchTerms,function(ai){if(!ai.matchingOptions){ai.matchingOptions={};}var og=IPCC.G.Pk(ai.type);switch(og){case 'proximity':IPCC.G.forEach(ai.terms,function(RQ){T.ajO(RQ);});break;default:T.ajO(ai);break;}});return dO;};this.ajO=function(ai){if(typeof ai.contextPadding==="undefined"){ai.contextPadding=25;}if(typeof ai.searchTermIsRegex==="undefined"){ai.searchTermIsRegex=false;}if(typeof ai.matchingOptions==="undefined"){ai.matchingOptions={};}if(!ai.matchingOptions.hasOwnProperty('matchCase')){ai.matchingOptions.matchCase=false;}if(!ai.matchingOptions.hasOwnProperty('exactPhrase')){ai.matchingOptions.exactPhrase=true;}if(!ai.matchingOptions.hasOwnProperty('matchWholeWord')){ai.matchingOptions.matchWholeWord=false;}if(!ai.matchingOptions.hasOwnProperty('beginsWith')){ai.matchingOptions.beginsWith=false;}if(!ai.matchingOptions.hasOwnProperty('endsWith')){ai.matchingOptions.endsWith=false;}if(!ai.matchingOptions.hasOwnProperty('wildcard')){ai.matchingOptions.wildcard=false;}if(typeof ai.highlightColor!=='undefined'){try{IPCC.aL.dz(ai.highlightColor,"selectText");}catch(e){ai.highlightColor=undefined;}}};this.auR=function(){return T.cR;};this.aiH=function(e){T.aY.cr=e.message;T.aY.eF="1010";T.aY.ty=true;setTimeout(function(){T.aY.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){T.aY.trigger("SearchCompleted",{completedSearchResults:(T.tN)});},10);return T.aY;};this.wF=function(dO,aW){this.cR={};this.IB=dO;this.ai=dO;this.KK=0;var wF=new PCCViewer.Mg();try{T.cR=this.Yy();return wF.VO(aW,T.cR,dO,T.aY);}catch(e){return T.aiH(e);}};this.Ee=function(dO,aW){this.cR={};this.IB=dO;this.ai=dO;this.KK=0;var Ee=new PCCViewer.XJ();try{T.cR=this.Yy();return Ee.VO(aW,T.cR,dO,T.aY);}catch(e){return T.aiH(e);}};};_Search.prototype.xu=function(searchQuery){this.cR={};this.aY=new PCCViewer.SearchRequest();this.IB=searchQuery;this.aY.dO=searchQuery;this.ai=searchQuery;this.KK=0;return this.aY;};var SearchTask=function(searchQuery){this.aht(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.Ud(searchQuery);this.aY=_search.xu(searchQuery);try{_search.cR=_search.Yy();}catch(e){if(e.aDQ){throw new Error(e.message);}else{throw new Error(e.message);}}var wF=new PCCViewer.Mg();this.search=function(text){wF.tN=[];wF.bo=0;wF.cR=_search.cR;wF.aya(text);return wF.tN;};};SearchTask.prototype.aht=function(searchQuery){if(typeof searchQuery==='string'){return;}var xD;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){xD=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.G.forEach(xD,function(uv,K){var og=uv.type?IPCC.G.trim(uv.type).toLowerCase():undefined;switch(og){case 'proximity':IPCC.G.forEach(uv.terms,function(azJ,aD){if(!afa(azJ)){throw new Error("Search term index "+aD+" under Proximity search term index "+K+" does not have a valid `searchTerm` string property.");}});break;default:if(!afa(uv)){throw new Error("Search term index "+K+" does not have a valid `searchTerm` string property.");}break;}});function afa(uv){return(typeof uv.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function asK(dO){var xD=dO.map(function(ai,aib){if(ai.type==='proximity'){return{type:'proximity',distance:ai.distance,subTerms:ai.cR.map(function(alu){return{pattern:alu.searchTerm.source,caseSensitive:alu.tU.matchingOptions.matchCase};}),termId:aib.toString(),contextPadding:ai.contextPadding};}return{type:'simple',pattern:ai.searchTerm.source,caseSensitive:ai.tU.matchingOptions.matchCase,termId:aib.toString(),contextPadding:ai.contextPadding};});return{input:{searchTerms:xD}};};var XJ=function(){var T=this;var xu,GG,alx;var Nv=[];this.yQ=false;this.yh={};this.yl=[];function atl(){var Tc=GG?'&continueToken='+GG:'';return T.aW.pO+'/v2/searchTasks/'+xu.processId+'/results?limit=100'+Tc;};function aAN(fm){var PV=T.yh.input.searchTerms.reduce(function(rk,uv){rk[uv.termId]=T.cR[uv.termId];return rk;},{});return fm.map(function(av){var dW=new PCCViewer.SearchResult();if(T.cR[0].tU.matchingOptions.wildcard&&(av.text[0]===" "||av.text[0]==="\n")){av.text=av.text.substring(1);av.startIndex+=1;av.startIndexInContext+=1;}dW.na=av.boundingRectangle;dW.cK=av.context;dW.xH=av.startIndexInContext;dW.mn=av.id;dW.cR=T.cR;dW.aC=av.lineRectangles;dW.hd=av.pageData;dW.ri=av.startIndex;dW.aq=av.text;dW.ax=av.pageIndex+1;dW.cI=av.id;dW.IZ=T.aW.get_documentIdentifier();dW.ai=PV[av.searchTerm.termId].tU;dW.sh=PV[av.searchTerm.termId].highlightColor;return dW;});};function pM(Hm,Wr){switch(Hm){case 'failed':setTimeout(function(){T.aY.trigger(PCCViewer.EventType.SearchFailed,Wr);},10);break;case 'complete':T.aY.Vr=T.yl;T.aY.ty=true;setTimeout(function(){T.aY.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(T.aY.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){T.aY.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(T.aY.getResults())});},10);};function aGe(np){var ae=T.aW.pO+'/v2/viewingSessions/'+encodeURIComponent(T.aW.get_documentIdentifier())+'/searchTasks';function dV(ad){var av=JSON.parse(ad.responseText);xu=av;if(Nv.length){Nv.forEach(function(vS){vS();});}Nv=[];np();};function dZ(as){T.aY.off('SearchCancelled',T.afh);T.aY.cr='The request to create a search task failed.';var azj=as&&as.response&&as.response.status===501;var aAE=as&&as.response&&as.response.status===480&&(function(awq){try{return JSON.parse(awq).errorCode==='FeatureDisabled';}catch(e){return false;}}(as.response.responseText));if(azj||aAE){T.aY.eF='ServerSearchUnavailable';T.aY.cr='Server-side search is not available.';pM('failed',{errorMessage:T.aY.cr});return;}pM('failed',{errorMessage:T.aY.cr});};PCCViewer.Ajax.fh({url:ae,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(T.yh)}).then(dV,dZ);};function Oz(np){var ae=atl();var jF={};if(xu.affinityToken){jF['Accusoft-Affinity-Token']=xu.affinityToken;}if(!T.yQ){return;}function dV(ad){if(!T.yQ){return;}var av=JSON.parse(ad.responseText);var UT=aAN(av.results);T.yl=av.pagesWithoutText;T.aY.fm.push.apply(T.aY.fm,UT);if(UT.length){setTimeout(function(){IPCC.G.forEach(UT.reduce(function(rk,av){var ct=av.ax;if(!rk[ct]){rk[ct]=[];}rk[ct].push(av);return rk;},{}),function(fm,ct){T.aY.trigger('PartialSearchResultsAvailable',{partialSearchResults:fm,pagesWithoutText:T.yl});});},10);}if(av.continueToken){GG=av.continueToken;alx=av.continueAfter;np();}else if(T.yQ){pM('complete');}};function dZ(av){if(!T.yQ){return;}T.yQ=false;T.aY.cr='The request to poll the search task failed.';T.aY.ty=true;pM('failed',{errorMessage:T.aY.cr});};PCCViewer.Ajax.fh({method:'GET',url:ae,headers:jF}).then(dV,dZ);};function ayN(){(function ayO(){setTimeout(function(){Oz(ayO);},alx||0);}());};function afh(){pM('cancelled');T.yQ=false;function agB(){};if(!xu){Nv.push(agB);return;}agB();};this.VO=function(aW,cR,dO,aY){T.aW=aW;T.cR=cR;T.aY=aY;T.aY.dO=dO;T.yh=asK(T.cR);T.yQ=true;T.aY.on('SearchCancelled',afh);aGe(function(){ayN();});return T.aY;};};module.exports=XJ;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function aiB(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function vr(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new vr(this.x,this.y);};};function Xu(bC){return(bC&&bC.nodeType===1);};function MO(An,Ip){var SC=(Ip&&IPCC.G.BA)?'m':'M';var WJ=(Ip&&IPCC.G.BA)?'l':'L';return IPCC.G.map(An,function(el,i){if(i===0){return SC+el.x+','+el.y;}else{return WJ+el.x+','+el.y;}}).join('');};function afM(cK,pf,fv){return function(as){if(IPCC.G.CQ&&as.type.match('mouse')){as.preventDefault();as.stopPropagation();return false;}if(as.preventDefault){as.preventDefault();}else{as.returnValue=false;}var x,y;if(as.changedTouches){var gU=as.changedTouches[0];if(as.type==='touchstart'){pf=as.target.getBoundingClientRect();}else if(as.type==='touchend'){fv&&fv();return;}x=gU.clientX-pf.left;y=gU.clientY-pf.top;}else{x=as.clientX-pf.left;y=as.clientY-pf.top;}var bw=new vr(x,y);cK.An.push(bw);var wq=MO(cK.An);if(IPCC.G.BA){cK.hv.path=wq.toLowerCase();}else{cK.hv.setAttribute('d',wq);}fv&&fv();};};function aBt(points){var yK=3,cN='',rs;var qj=(points.length<yK)?points:IPCC.G.filter(points,function(el){if(rs&&rs.close(el)){return false;}else{rs=el;return true;}});if(qj.length<yK){qj=[points[0],points[points.length-1]];}rs=undefined;if(qj.length<yK){cN+=MO(qj);}else{cN='M'+IPCC.G.bspline(qj);cN=cN.replace(/\d*\.?\d*/g,function(ak){var JA=ak.indexOf('.');if(ak.length&&JA>0){return ak.substr(0,JA+3);}else if(ak!==""){return ak;}else{return ak;}});}return cN;};function SignatureControl(dom){var T=this;if(typeof dom==='string'){this.da=document.querySelector(dom);if(!(Xu(this.da))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Xu(dom)){this.da=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.FF=[];this.pf=new aiB(this.da.getBoundingClientRect());this.er=IPCC.G.zI.SVG([0,0,this.pf.width,this.pf.height].join(' '));this.da.appendChild(this.er);function Eq(ev){var hv=IPCC.G.zI.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});T.er.appendChild(hv);var cK={An:[],hv:hv,fv:function(){T.FF.push(cK.An);IPCC.G.removeEvent(T.da,'mousemove',xM);IPCC.G.removeEvent(T.da,'mouseup',Bq);if(IPCC.G.CQ){IPCC.G.removeEvent(T.da,IPCC.G.pe['move'],xM);IPCC.G.removeEvent(T.da,IPCC.G.pe['up'],Bq);}if(IPCC.G.Ly){IPCC.G.removeEvent(T.da,'touchmove',xM);IPCC.G.removeEvent(T.da,'touchend',Bq);}}};var xM=afM(cK,T.pf);var Bq=afM(cK,T.pf,cK.fv);xM(ev);IPCC.G.addEvent(T.da,'mousemove',xM);IPCC.G.addEvent(T.da,'mouseup',Bq);if(IPCC.G.CQ){IPCC.G.addEvent(T.da,IPCC.G.pe['move'],xM);IPCC.G.addEvent(T.da,IPCC.G.pe['up'],Bq);}if(IPCC.G.Ly){IPCC.G.addEvent(T.da,'touchmove',xM);IPCC.G.addEvent(T.da,'touchend',Bq);}};IPCC.G.addEvent(T.da,'mousedown',Eq);if(IPCC.G.CQ){this.da.style['-ms-touch-action']='none';this.da.style['touch-action']='none';IPCC.G.addEvent(T.da,IPCC.G.pe['down'],Eq);}if(IPCC.G.Ly){IPCC.G.addEvent(T.da,'touchstart',Eq);}this.Xc=function(){T.pf=new aiB(T.da.getBoundingClientRect());T.er.setAttribute('viewBox',[0,0,T.pf.width,T.pf.height].join(' '));};IPCC.G.addEvent(window,'resize',this.Xc);this.agx=function(){IPCC.G.removeEvent(window,'resize',T.Xc);IPCC.G.removeEvent(T.da,'mousedown',Eq);if(IPCC.G.CQ){IPCC.G.removeEvent(T.da,IPCC.G.pe['down'],Eq);}if(IPCC.G.Ly){IPCC.G.removeEvent(T.da,'touchstart',Eq);}while(T.da.firstChild){T.da.removeChild(T.da.firstChild);}};};SignatureControl.prototype.done=function(){var mK,jJ,ml,nx,wq='M0,0',ajK=this;IPCC.G.forEach(ajK.FF,function(nL){IPCC.G.forEach(nL,function(p){if(mK===undefined||mK>p.x){mK=p.x;}if(jJ===undefined||jJ>p.y){jJ=p.y;}if(ml===undefined||ml<p.x){ml=p.x;}if(nx===undefined||nx<p.y){nx=p.y;}});});IPCC.G.forEach(ajK.FF,function(nL){var aGj=IPCC.G.map(nL,function(p){return new vr(p.x-mK,p.y-jJ);});wq+=aBt(aGj);});this.agx();return{type:'path',path:wq,width:(ml-mK)||0,height:(nx-jJ)||0};};SignatureControl.prototype.resize=function(){this.Xc();return this;};SignatureControl.prototype.clear=function(){var svg=this.er;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.FF=[];return this;};SignatureControl.prototype.undo=function(){if(this.er.lastChild){this.er.removeChild(this.er.lastChild);}this.FF.pop();return this;};SignatureControl.prototype.cancel=function(){this.agx();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var rh=IPCC.G.ZA(signature.path);var er=IPCC.G.zI.SVG([0,0,rh.width,rh.height].join(' '));var hv=IPCC.G.zI.Path(signature.path,{width:rh.width,height:rh.height,color:'black',thickness:4});if(IPCC.G.BA){var ave=(rh.height/rh.width)*100;er.style.width=hv.style.width='100%';er.style.height=hv.style.height='0px';er.style.paddingBottom=hv.style.paddingBottom=ave+'%';}else{er.style.width='100%';er.style.maxHeight='100%';er.setAttribute('preserveAspectRatio','xMinYMin meet');}er.appendChild(hv);domElement.appendChild(er);return{width:rh.width,height:rh.height,clear:function(){domElement.removeChild(er);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var jc=document.createElement('div');var mI=document.createTextNode(signature.text);var it=(typeof signature.fontName==='string')?signature.fontName:'serif';jc.appendChild(mI);jc.style.textAlign='center';jc.style.fontFamily='"'+it+'", cursive';jc.style.fontSize='2.5em';jc.style.overflow='hidden';domElement.appendChild(jc);var rh=IPCC.G.uJ(signature.text,it);return{width:rh.width,height:rh.height,clear:function(){domElement.removeChild(jc);}};};if(!Xu(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var sn=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var dR=require('./PCCViewer.MarkDeserializer');var ew=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.G.uw(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var T=this;this.Wv=viewerControlFacade;this.bP=new PCCViewer.um(viewerControlFacade);IPCC.G.DK(element);var jM=document.createElement('div');jM.className='pccViewerControl';jM.id='pccViewerControl-'+IPCC.yT();element.appendChild(jM);this.dG=jM;this.eS=element;var sb=document.createElement('div');sb.className='pccPageListLoading';jM.appendChild(sb);this.sb=sb;this.qd=false;this.ag=sn.pL({},SingleSessionViewerControl.zB,options);this.ag.language=sn.pL({},SingleSessionViewerControl.ayB,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.ag.pageLayout.toLowerCase()==="vertical"){this.ag.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.ag.pageLayout.toLowerCase()==="horizontal"){this.ag.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.ag.viewMode.toLowerCase()==="document"){this.ag.viewMode=IPCC.ViewMode.Document;}else if(this.ag.viewMode.toLowerCase()==="equalwidthpages"){this.ag.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.ag.viewMode.toLowerCase()==="equalfitpages"){this.ag.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.ag.viewMode.toLowerCase()==="singlepage"){this.ag.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(T.ag.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.ag.searchMethodPageCountThreshold)&&(typeof this.ag.searchMethodPageCountThreshold!=='number')&&this.ag.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.ag.redactionViewMode){if(this.ag.redactionViewMode.toLowerCase()==="draft"){this.ag.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.ag.redactionViewMode.toLowerCase()==="normal"){this.ag.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.ag.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var ih=this.ag.pageRotation%360;if(ih!==0){var vA=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ih||vA.indexOf(ih)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!ih||IPCC.Web.kQ(vA,ih)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.ag.pageRotation=ih;if(this.ag.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.ag.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.ag.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.ag.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.ag.serviceResponseTimeout)||typeof this.ag.serviceResponseTimeout!=='number'||this.ag.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.ag.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.ag.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.ag.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.jf={};this.ae="";this.eY=1;this.aaH=1;this.ami=0;this.lb=1;this.aF=undefined;this.UB=new PCCViewer.Deferred();this.qQ=this.UB.getPromise();this.fI=false;this.aW=undefined;this.NT=0;this.bX=undefined;this.aw=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.mb=false;this.vu=false;this.Ej=false;this.Cp=[];this.Oc=new PCCViewer.Deferred();this.axK=this.Oc.getPromise();this.xi=[];this.cu={};this.Bh=[];this.BJ=[];this.aP=null;this.IV={};this.gi=null;this.lW=new PCCViewer.MarkupLayerCollection(this.Wv);this.uI=new PCCViewer.MarkupLayer(this.Wv);this.lW.addItem(this.uI);this.rM=true;setTimeout(function(){T.akh(jM,T.ag);},0);this.yw=null;this.aY=null;this.yj=false;this.FZ= -1;this.Fv={};this.akW=false;this.axQ=this.ag.printTemplate||(this.ag.template?this.ag.template.print:"");this.jH=null;this.xN=null;this.lC=function(cG,ez,ael){var dK=document.createElement('div'),fB=dK.style;fB.position='absolute';if(ez.isSelected){fB.backgroundColor='white';}else{fB.backgroundColor='lightgray';}fB.left='10px';fB.right='0';fB.textAlign='left';IPCC.G.forEach(cG.getComments(),function(oC,K){var ZF=document.createElement('div'),PN=ZF.style;PN.position='relative';PN.padding='5px';PN.border='1px solid gray';if(K>0){PN.borderTop='none';}ZF.appendChild(document.createTextNode(oC.getText()));dK.appendChild(ZF);});return dK;};return T;};SingleSessionViewerControl.zB={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.ayB={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.akh=function(element,options){if(this.qd){return;}var T=this;var UU=function(){if(T.ag.viewMode===IPCC.ViewMode.SinglePage||T.qd){return;}var ayZ=T.aF.get_pageNodeId(T.getPageNumber()-1);var bV=document.getElementById(ayZ);var Za=T.dG.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!bV){return;}IPCC.G.forEach(Za,function(ib){if(bV!==ib){if(document.documentMode===8&&ib.style.outline){ib.style.outline='';}else if(ib.style.boxShadow){ib.style.boxShadow='';}}});if(document.documentMode===8){bV.style.outline='2px solid #aaa';}else{bV.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function aAf(){var bg=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var mh=document.createElement('div'),Cg=document.createElement('div'),WX=function(){mh.classList.add('open');},LK=function(){if(mh.parentNode!==null){mh.parentNode.removeChild(mh);}};Cg.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var alR=document.createElement('p');Cg.appendChild(alR);function updateRemainingSeconds(){alR.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();mh.className='pccPageListNagModal';mh.appendChild(Cg);T.dG.appendChild(mh);WX();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{LK();clearInterval(intervalId);}},1000);};function dV(ad){if(ad.status===200){var av=JSON.parse(ad.responseText);if(av.delayEnabled){showNagDialog(av.delaySecondsRemaining);}}};function dZ(ad){bg.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fh({method:'GET',url:T.ag.imageHandlerUrl+'/v2/ViewingSessions/'+T.ag.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(dV,dZ);};var ajL=function(){if(T.sb.parentNode){T.sb.parentNode.removeChild(T.sb);}T.aF.remove_pageOpenFailed(Uc);T.aF.remove_pageDisplayed(ajL);var aZ=arguments[1].pageIndex;setTimeout(function(){T.bP.trigger("PageDisplayed",{pageNumber:(aZ+1)});UU();},10);if(aZ!==0){return;}function dV(ad){if(T.qd){return;}var av;if(ad.status===200){av=JSON.parse(ad.responseText);if(av.pageCountConfidence<100){var ae;if(!(/^[\x00-\x7F]*$/.test(tg))){ae=T.ag.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+tg+'&DesiredPageCountConfidence=100';}else{ae=T.ag.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(T.ag.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fh({method:'GET',url:ae,headers:{'Content-Type':'application/json'}}).then(dV,dZ);T.eY=av.pageCount;T.aW.eY=av.pageCount;T.Ej=true;setTimeout(function(){T.bP.trigger("EstimatedPageCountReady",{pageCount:av.pageCount});},10);akl();}else{if(T.eY>1){T.aW.eY=av.pageCount;setTimeout(function(){var K;if(av.pageCount<T.eY){for(K=T.eY-1;K>=av.pageCount;K--){T.bX.removePage(K);}}else if(av.pageCount>T.eY){for(K=T.eY;K<av.pageCount;K++){var TP=new IPCC.Web.UI.ImGearPage({pageNumber:K});T.bX.addPage(TP);}}T.eY=av.pageCount;if(T.fI===true){T.mb=true;T.vu=true;setTimeout(function(){T.bP.trigger("PageCountReady",{pageCount:av.pageCount});},30);}},30);}else{T.eY=av.pageCount;T.aW.eY=av.pageCount;if(T.fI===true){akl(function(){T.mb=true;T.vu=true;setTimeout(function(){T.bP.trigger("PageCountReady",{pageCount:av.pageCount});},0);});}}}}};function dZ(av){if(T.qd){return;}var Xr="None",aaY,WG;var aei=av.response.getResponseHeader('Accusoft-Status-Message');if(aei){Xr=aei;WG=av.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xL(WG)){aaY=parseInt(WG,10);}}else if(av.response.statusText){Xr=av.response.statusText;}setTimeout(function(){T.bP.trigger("PageLoadFailed",{statusCode:av.response.status,errorMessage:Xr,accusoftErrorNumber:aaY});},1);throw("Unable to obtain document information from the server");};var tg=IPCC.gG.uC(T.ag.documentID);if(!tg||tg===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(tg))){T.ae=T.ag.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+tg+'&DesiredPageCountConfidence=50';}else{T.ae=T.ag.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(T.ag.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fh({method:'GET',url:T.ae,headers:{'Content-Type':'application/json'}}).then(dV,dZ);};function akl(qK){qK=qK||function(){};var anj=T.eY;function ahY(){T.aF.remove_allPagesAdded(ahY);qK();};if(anj>1){T.aF.add_allPagesAdded(ahY);if(!T.agH){T.aF.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var dC=arguments[1];setTimeout(function(){T.bP.trigger('PageChanged',{pageNumber:dC.pageIndex+1});UU();},0);});T.aF.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var dC=arguments[1];if(T.jH){T.jH();T.jH=null;if(T.gi){T.gi.resolve();}T.gi=null;}setTimeout(function(){T.bP.trigger('PageDisplayed',{pageNumber:dC.pageIndex+1});UU();},0);setTimeout(function(){T.requestPageText(dC.pageIndex+1).then(function DS(){T.aaX(dC.pageIndex+1,T.FZ);});},10);});T.aF.add_pageOpenFailed(function(){adc(arguments);});T.agH=true;}for(var K=T.NT;K<anj;K++){T.bX.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:K}));T.NT++;}}else{qK();}};var azm=function(dC){var bV=document.getElementById(dC.pageNodeID),bC=document.createElement('div'),AN=document.createElement('button'),aje='pccPageLoadFailRetry'+dC.pageIndex,aev=function(){T.aF.NF(dC.pageIndex);},apx=PCCViewer.Language.data.pageLoadFailed,arl=PCCViewer.Language.getValue("pageLoadFailedPassword"),apw=PCCViewer.Language.data.pageLoadFailedRetry,azA=dC.exception.statusCode===480&&dC.exception.customErrorCode===4001;if(bV===null){return;}AN.id=aje;AN.innerHTML=apw;bC.className='pccPageLoadFail';if(azA){bC.innerHTML=arl+'<br>';bV.appendChild(bC);}else{bC.innerHTML=apx+'<br>';bC.appendChild(AN);bV.appendChild(bC);AN=document.getElementById(aje);if(!AN.addEventListener){AN.attachEvent('onclick',aev);}else{AN.addEventListener('click',aev,false);}}};function adc(DE){if(DE.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var akj,alQ,dC=DE[1];if(DE[1].exception.customErrorCode!==undefined){alQ=DE[1].exception.customErrorCode;}if(DE[1].exception.message!==undefined){akj=DE[1].exception.message;}setTimeout(function(){T.bP.trigger('PageLoadFailed',{statusCode:dC.exception.statusCode,pageNumber:dC.pageIndex+1,errorMessage:akj,accusoftErrorNumber:alQ});azm(dC);},0);};function azv(){if(T.aF&&typeof T.aF.dispose==="function"){T.aF.dispose();}T.ae="";T.aF=undefined;while(T.dG.firstChild){T.dG.removeChild(T.dG.firstChild);}};function aFq(acz){var bg=new PCCViewer.Deferred();if(typeof acz==="string"){PCCViewer.Ajax.fh({url:T.ag.imageHandlerUrl+'/ViewingSession/u'+T.ag.documentID+'/Replacement',body:JSON.stringify({password:acz}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aFc(ad){var result=JSON.parse(ad.responseText);var aoc=result.viewingSessionId;T.ag.documentID=aoc;azv();T.akh(T.dG,T.ag);bg.resolve(aoc);},function aGx(err){bg.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{bg.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return bg.getPromise();};function Uc(){T.aF.remove_pageOpenFailed(Uc);adc(arguments);};var azc=function(bS,h){T.vb=true;var UH={width:h.width,height:h.height,pageNumber:h.pageNumber};T.bP.trigger("PageOpening",UH);};function aiP(){T.UB.resolve(T.aF);T.aF.remove_pageOpened(aiP);T.fI=true;var aM=T;setTimeout(function(){T.bP.trigger("ViewerReady",{});if(aM.mb===true&&aM.vu===false){aM.vu=true;setTimeout(function(){T.bP.trigger("PageCountReady",{pageCount:aM.getPageCount()});},10);}},10);T.setCurrentMouseTool("AccusoftPanAndEdit");};var aqW=function(bS,h){if(h.containsText===true){T.Oc.resolve(true);}var BW= -1;if(Array.prototype.indexOf){BW=(T.xi.indexOf(h.pageIndex)>=0);}else{BW=(IPCC.Web.kQ(T.xi,h.pageIndex)>=0);}if(BW===false){T.xi.push(h.pageIndex);if(T.xi.length===T.eY){T.Oc.resolve(false);}}setTimeout(function(){T.bP.trigger("PageTextReady",{pageNumber:h.pageIndex+1});},0);};var aqH=function(bS,h){var BW= -1;if(Array.prototype.indexOf){BW=(T.xi.indexOf(h.pageIndex)>=0);}else{BW=(IPCC.Web.kQ(T.xi,h.pageIndex)>=0);}if(BW===false){T.xi.push(h.pageIndex);if(T.xi.length===T.eY){T.Oc.resolve(false);}}};function aCj(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var kF=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){kF.push(eventArgs.pageNumbers[i]+1);}var fY=[],tP= -eventArgs.startIndex,aX,dM,hV,aC,j,k;for(j=0;j<kF.length;j++){hV=T.bX.ju(kF[j]-1).dj().hJ();tP+=hV.eQ();aX=0;if(j===0){aX=eventArgs.startIndex;}if(tP>=eventArgs.text.length){dM=tP-eventArgs.text.length-1;}else{dM=hV.eQ()-1;}aC=IPCC.G.VU(hV,aX,dM);for(k=0;k<aC.length;k++){fY.push({x:aC[k].x,y:aC[k].y,width:aC[k].width,height:aC[k].height,pageNumber:kF[j]});}}T.aP={pageNumber:kF[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:fY};var V,amV={selectedText:eventArgs.text,pageNumbers:kF,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:T.aP};function aCB(){var wP=T.iu;T.akD=true;T.iu=function(sender,args){T.iu=wP;setTimeout(function(){T.bP.trigger(PCCViewer.EventType.MarkCreated,{mark:V,pageNumber:kF[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){V=T.cu[eventArgs.previousFirstMark.get_markID()];T.aF.remove_markRemoved(T.Ek);T.aF.remove_markSelectionChanged(T.Dq);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aZ){var aAS=V.J.abg;var SM;if(V.getReason){SM=V.J.get_text();}var Sm;if(V.getFillColor){Sm=V.J.get_fillColor();}var SD;if(V.getColor){SD=V.J.get_lineColor();}var SF;if(V.getThickness){SF=V.J.get_lineWidth();}var Ts;if(V.getHref){Ts=V.J.get_href();}var aAg=new PCCViewer.Conversation(V);var bf=T.aF.gx(T.bX.getPage(V.J.aZ));bf.removeMark(V.J);for(var K=V.aQ.length-1;K>=0;K--){var mT=V.aQ[K];bf=T.aF.gx(T.bX.getPage(mT.aZ));bf.removeMark(mT);V.aQ.splice(K,1);}V.J=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());V.J.aZ=eventArgs.pageNumbers[0];V.ax=eventArgs.pageNumbers[0]+1;V.J.kI=true;V.J.abg=aAS;var wP=T.iu;T.iu=null;T.aF.remove_markChanged(T.mJ);bf=T.aF.gx(T.bX.getPage(V.J.aZ));bf.addMark(V.J);if(SM){V.J.set_text(SM);}if(Sm){V.J.set_fillColor(Sm);}if(SD){V.J.set_lineColor(SD);}if(SF){V.J.set_lineWidth(SF);}if(Ts){V.J.set_href(Ts);}V.cG=new PCCViewer.Conversation(V);PCCViewer.Conversation.qJ(aAg,V.cG);T.aF.add_markChanged(T.mJ);T.iu=wP;}V.J.set_selected(true);V.J.set_visible(true);V.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});T.aF.add_markRemoved(T.Ek);T.aF.add_markSelectionChanged(T.Dq);T.op(V,eventArgs.pageNumbers[0]);return;}var xo=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:xo='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:xo='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:xo='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:xo='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:asa(eventArgs.text);T.IV[kF[0]]='selectText';break;}var aw=PCCViewer.MouseTools.getMouseTool(T.getCurrentMouseTool());var ap=(aw&&aw.getTemplateMark)?aw.getTemplateMark():undefined;var aoz=ap?ap.getType():"";if(xo){aCB();T.bP.trigger(PCCViewer.EventType.TextSelected,amV);V=T.addMark(kF[0],xo);if(T.rM){T.uI.addMarks(V);}V.J.kI=true;V.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aoz===xo){if(ap.getFillColor){V.setFillColor(ap.getFillColor());}if(ap.getReason&& !V.ny){V.setReason(ap.getReason());}if(ap.getReasons&&V.ny){V.setReasons(ap.getReasons());}if(ap.getHref){V.setHref(ap.getHref());}if(ap.getColor){V.setColor(ap.getColor());}if(ap.getThickness){V.setThickness(ap.getThickness());}PCCViewer.Data.nX(ap,V);}return;}setTimeout(function(){T.bP.trigger(PCCViewer.EventType.TextSelected,amV);},0);};function anN(){var bV=T.dG,bC=document.createElement('div');bC.className='pccCopyText';bV.appendChild(bC);T.Gu=bC;};function asa(aq){var mI,aIt=aq.split('\n'),JM=document.createDocumentFragment(),Gw,jh;mI=document.createTextNode(aq);JM.appendChild(mI);IPCC.G.DK(T.Gu);T.Gu.appendChild(JM);if(document.body.createTextRange){Gw=document.body.createTextRange();Gw.moveToElementText(T.Gu);Gw.select();}else if(window.getSelection){jh=window.getSelection();Gw=document.createRange();Gw.selectNodeContents(T.Gu);jh.removeAllRanges();jh.addRange(Gw);}};this.aW=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.ag.documentID,imageServicePath:this.ag.imageHandlerUrl});this.aW.set_encryption(this.ag.encryption||false);var TP=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aW.get_pages().addPage(TP);this.bX=this.aW.get_pages();this.aF=IPCC.initializePageListPlugin(element,options);aAf();this.aF.get_documents().addDocument(this.aW);this.NT=1;this.aF.add_pageDisplayed(ajL);this.aF.add_pageOpenFailed(Uc);this.aF.add_pageOpening(azc);this.aF.add_pageOpened(aiP);this.aF.add_textPageReady(aqW);this.aF.add_textExtractionFailed(aqH);this.aF.set_conversationDOMFactory(function(J,ez,ael){var V=T.cu[J.get_markID()];if(V){return T.lC(V.getConversation(),ez,ael);}});IPCC.G.anO(element,function(Kq){if(!Kq&&IPCC.G.zQ!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!T.fI){IPCC.G.zQ='svg';return;}else if(T.mb){IPCC.G.zQ='svg';T.aF.disposeDisplayedPages();T.aF.displayAll();}else{var mF=function(){T.bP.off(PCCViewer.EventType.PageCountReady,mF);IPCC.G.zQ='svg';T.aF.disposeDisplayedPages();T.aF.displayAll();};T.bP.on(PCCViewer.EventType.PageCountReady,mF);}}});anN();this.aF.add_selectTextMouseToolCompleted(aCj);this.aF.add_propertyChanged(function(sP,dA){var proprtyName=dA.asY();if(proprtyName==="mouseTool"){setTimeout(function(){T.bP.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:T.aw.getName()});},0);}});this.aF.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&T.cu[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.be!==undefined){T.op(eventArgs.mark,eventArgs.pageIndex);}if(T.iu){var bi=eventArgs.mark.get_type();if(bi!==IPCC.Web.UI.MarkType.Highlight&& !(bi===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.be!==undefined)){T.iu(sender,eventArgs);}}});this.aF.add_markCreating(function(sender,eventArgs){if(T.HX){T.HX(sender,eventArgs);}});this.aF.Or(function(sender,eventArgs){var DJ=0;var Al=0;var aeO=0;var tF=0;var uK=0;var QM=0;var axP=T.aw.getName().toLowerCase(),ayE=T.aw.getType();if(ayE===PCCViewer.MouseTool.Type.PlaceSignature){var aw=T.aw;var ap=aw.getTemplateMark(),kb=ap.getSignature(),aix=ap.getRectangle(),V,R={};if(!kb){return;}T.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var tW;if(attributes.width>0){Al=aix.width||(attributes.width/5);}if(kb.path&&kb.path.length>0){tW=IPCC.G.ZA(kb.path);R={x:0,y:0,width:tW.width,height:tW.height};V=T.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);V.setPath(kb.path);V.setThickness(kb.thickness||4);}if(kb.text&&kb.text.length){tW=IPCC.G.uJ(kb.text,kb.fontName);V=T.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);R={x:0,y:0,width:tW.width,height:tW.height};V.setText(kb.text);V.setFontName(kb.fontName);}aeO=(R.width/Al);DJ=aix.height||(R.height/aeO);tF=(eventArgs.imagePoint.x-(Al/2));uK=(eventArgs.imagePoint.y-(DJ/2));if(tF<=0){tF=0;}if(uK<=0){uK=0;}if((tF+Al)>=attributes.width){QM=(tF+Al)-attributes.width;tF=tF-QM;}if((uK+DJ)>=attributes.height){QM=(uK+DJ)-attributes.height;uK=uK-QM;}R={x:tF,y:uK,width:Al,height:DJ};V.setRectangle({x:tF,y:uK,width:Al,height:DJ});PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());});T.setCurrentMouseTool(axP);}});function MouseEvent(as){var T=this;for(var i in as){if(i){T[i]=as[i];}}};this.aF.NL(function(sender,eventArgs){var aP=null,dW=null,V=null,jA=null,xg=false,QT=eventArgs.upTarget.type,LM=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){LM=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){xg=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&LM===false){T.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){jA=T.asV(eventArgs.upMark);xg=jA!==null;QT="documentHyperlink";}else{V=T.cu[eventArgs.upMark.get_markID()];if(V===undefined){for(var jl in T.cu){if(T.cu.hasOwnProperty(jl)){if(T.cu[jl].J.be===eventArgs.upMark.be&&T.cu[jl].J.be===eventArgs.downMark.be){V=T.cu[jl];eventArgs.pageIndex=V.ax-1;xg=true;var aDU=T.getCurrentMouseTool();var aGi=PCCViewer.MouseTools.getMouseTool(aDU);var ahU=aGi.getType();if(LM===false&&eventArgs.domEvent.button===0){if(ahU===PCCViewer.MouseTool.Type.PanAndEdit||ahU===PCCViewer.MouseTool.Type.EditMarks){T.deselectAllMarks();V.J.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.ke()===eventArgs.upMark.ke()){xg=true;if(LM===false&&eventArgs.downTarget.alreadySelected===false){T.deselectAllMarks();V.J.set_selected(true);}}if(V===undefined){if(T.aY&&T.IV[eventArgs.upTarget.pageIndex+1]==='search'){var fm=T.aY.getResults();for(var K=0;K<fm.length;K++){if(fm[K].ax===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aX!=='undefined'&&typeof eventArgs.upMark.aX!=='undefined'&&typeof eventArgs.downMark.cU!=='undefined'&&typeof eventArgs.upMark.cU!=='undefined'&&eventArgs.downMark.aX>=fm[K].getStartIndexInPage()&&eventArgs.downMark.aX+eventArgs.downMark.cU<=fm[K].getStartIndexInPage()+fm[K].getText().length&&eventArgs.upMark.aX>=fm[K].getStartIndexInPage()&&eventArgs.upMark.aX+eventArgs.upMark.cU<=fm[K].getStartIndexInPage()+fm[K].getText().length){QT='searchResult';dW=fm[K];eventArgs.upTarget.pageIndex=dW.ax-1;xg=true;break;}}}}if(xg===false&&V===undefined&&T.IV[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aX!=='undefined'&&typeof eventArgs.upMark.aX!=='undefined'&&eventArgs.downMark.aX>=T.aP.startIndex&&eventArgs.downMark.aX+eventArgs.downMark.cU<=T.aP.startIndex+T.aP.length&&eventArgs.upMark.aX>=T.aP.startIndex&&eventArgs.upMark.aX+eventArgs.upMark.cU<=T.aP.startIndex+T.aP.length){QT='textSelection';aP=T.aP;xg=true;}}}var TS=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var azB=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var h={pageNumber:azB,targetType:QT,textSelection:aP,searchResult:dW,mark:V,originalEvent:TS,hyperlink:jA,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(xg===true){T.bP.trigger('Click',h);}},0);});(function(){var Ay=null;T.aF.Nf(function(sender,eventArgs){var TS=new MouseEvent(eventArgs.domEvent);var h={originalEvent:TS,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(Ay!==null){h.mark=T.cu[Ay];Ay=null;setTimeout(function(){T.bP.trigger('MarkMouseLeave',h);},0);}}else{h.mark=T.cu[eventArgs.mark.get_markID()];if(h.mark===undefined){for(var jl in T.cu){if(T.cu.hasOwnProperty(jl)){if(T.cu[jl].J.be===eventArgs.mark.be){h.mark=T.cu[jl];break;}}}}if(!h.mark){return;}setTimeout(function(){if(Ay!==h.mark.getId()){if(Ay!==null){T.bP.trigger('MarkMouseLeave',IPCC.G.extend({},h,{mark:T.cu[Ay]}));}Ay=h.mark.getId();T.bP.trigger('MarkMouseEnter',h);}T.bP.trigger('MarkMouseOver',h);},0);}});})();this.aF.add_hyperlinkPageReady(function(sender,eventArgs){if(T.Bh[eventArgs.pageIndex]!==undefined){return;}var aZ=eventArgs.pageIndex,aR=T.bX.getPage(aZ),Fc=aR.get_hyperlinkPage().Jp(),xh=T.Bh[aZ]=[];Fc.mo(function(Aj){xh.push(new PCCViewer.DocumentHyperlink({ax:aZ+1,Aj:Aj}));});if(!T.BJ[aZ]){T.BJ[aZ]=new PCCViewer.Deferred();}T.BJ[aZ].resolve(xh);});this.op=function(V,hB){var Wa=false;function abe(){var kr=false;var bY=T.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()===hB){kr=true;break;}}return kr;};function PF(fT){if(T.aF){T.aF.cl(fT);}};if(abe()){if(Array.prototype.indexOf){if(IPCC.Web.kQ(T.Cp,hB)>=0){Wa=true;}}else{if(IPCC.Web.kQ(T.Cp,hB)>=0){Wa=true;}}if(!Wa){T.Cp.push(hB);setTimeout(function(){var cf=T.Cp.length;if(cf>0){for(var K=0;K<cf;K++){PF(T.Cp[K]);}T.Cp.splice(0,cf);}},10);}}};var Fu={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.ag.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.ag.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Qt={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.mJ=function(bS,h){var V=T.cu[h.mark.get_markID()];var al;if(V){al=V.al;}if(al&&Fu[al]&&Fu[al][h.propertyName]===false){return;}var cg;if(al){cg=Fu[al]&&Fu[al][h.propertyName]?Fu[al][h.propertyName]:Qt[h.propertyName]?Qt[h.propertyName]:h.propertyName;}else{cg=Qt[h.propertyName]?Qt[h.propertyName]:h.propertyName;}if(h.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||h.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||h.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||h.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||h.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||h.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(h.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&h.mark.be!==undefined)){if(V){setTimeout(function(){T.bP.trigger('MarkChanged',{mark:V,pageNumber:h.pageIndex+1,propertyName:cg});},0);}else{for(var jl in T.cu){if(T.cu.hasOwnProperty(jl)){V=T.cu[jl];if(V.be===h.mark.be){break;}}}}T.op(V,h.pageIndex);}else if(V&&h.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cg==='points'){if(V.abv){clearTimeout(V.abv);}V.abv=setTimeout(function(){V.abv=undefined;T.op(V,h.pageIndex);T.bP.trigger('MarkChanged',{mark:V,pageNumber:h.pageIndex+1,propertyName:cg});},1);}else if(V){T.op(V,h.pageIndex);setTimeout(function(){T.bP.trigger('MarkChanged',{mark:V,pageNumber:h.pageIndex+1,propertyName:cg});},0);}if(V&&V.type===PCCViewer.Mark.Type.TextRedaction){V.J.set_opacity(0);}if(V&&(V.al===PCCViewer.Mark.Type.TextInputSignature||V.al===PCCViewer.Mark.Type.TextAreaSignature)){V.J.set_lineVisible(false);}};this.aF.add_markChanged(T.mJ);this.aF.add_markReordered(function(sender,eventArgs){var V=T.cu[eventArgs.mark.get_markID()];setTimeout(function(){T.bP.trigger('MarkReordered',{mark:V,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Dq=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var V;for(var KT in T.cu){if(T.cu.hasOwnProperty(KT)){V=T.cu[KT];if(V.J.be===eventArgs.mark.be){V.J.set_selected(eventArgs.mark.get_selected());T.op(V.J,V.J.aZ);for(var K=0;K<V.aQ.length;K++){V.aQ[K].set_selected(eventArgs.mark.get_selected());T.op(V.aQ[K],V.aQ[K].aZ);}}}}}setTimeout(function(){T.bP.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aF.add_markSelectionChanged(T.Dq);this.aF.add_markTextSelectionChanged(function(sender,eventArgs){T.op(eventArgs.mark,eventArgs.pageIndex);});this.Ek=function(sender,eventArgs){var V;if(eventArgs.mark){V=T.cu[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&V===undefined&&eventArgs.mark.be!==undefined){T.op(eventArgs.mark,eventArgs.pageIndex);}else if(V){setTimeout(function(){T.bP.trigger(PCCViewer.EventType.MarkRemoved,{mark:V,pageNumber:eventArgs.pageIndex});},0);}}};this.aF.add_markRemoved(T.Ek);this.aF.add_commentAdding(function(sender,eventArgs){var V=T.cu[eventArgs.mark.get_markID()];if(eventArgs.comment.Iq.hQ===undefined){eventArgs.comment.Iq.hQ=T.getActiveMarkupLayer();}});this.aF.add_commentAdded(function(sender,eventArgs){var V=T.cu[eventArgs.mark.get_markID()];T.bP.trigger(PCCViewer.EventType.CommentCreated,{conversation:V.getConversation(),comment:eventArgs.comment.Iq});});this.aF.add_commentRemoved(function(sender,eventArgs){var V=T.cu[eventArgs.mark.get_markID()];T.bP.trigger(PCCViewer.EventType.CommentRemoved,{conversation:V.getConversation(),comment:eventArgs.comment.Iq});});this.aF.add_commentChanged(function(sender,eventArgs){var V=T.cu[eventArgs.mark.get_markID()];T.bP.trigger(PCCViewer.EventType.CommentChanged,{conversation:V.getConversation(),comment:eventArgs.comment.Iq});});this.aF.add_scaleChanged(function(sender,eventArgs){var ea;switch(eventArgs.fitType){case 0:ea=PCCViewer.FitType.FullWidth;break;case 1:ea=PCCViewer.FitType.ShrinkToWidth;break;case 2:ea=PCCViewer.FitType.ActualSize;break;case 3:ea=PCCViewer.FitType.FullHeight;break;case 4:ea=PCCViewer.FitType.FullPage;break;default:break;}T.bP.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:ea,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.eY;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.aF)?(this.aF.ana().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var ax;if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ax=Number(pageNumber);}}if(parseInt(ax,10)!==ax){throw new Error("The 'pageNumber' value "+ax+" is not an integer page number.");}if(ax<1||ax>this.getPageCount()|| !isFinite(ax)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===ax){return this;}if(this.aF){this.aF.scrollToPage(ax-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.aF){if(this.Ej||this.mb){this.aF.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.aF){if(this.Ej||this.mb){this.aF.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.aF){if(this.Ej||this.mb){this.aF.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.aF){if(this.Ej||this.mb){this.aF.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fI){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var T=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){T.aF.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{T.aF.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.fI){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gi){this.gi.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gi=null;this.jH=null;}var T=this;var Ke=function(){T.aF.scrollConversationIntoView(target.getMark().J.get_conversation());if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};var tA=function(ev){if(ev.target.xN===target){T.bP.off(PCCViewer.EventType.CommentCreated,tA);T.xN=null;T.scrollTo(target);}else if(ev.target.xN===null){T.bP.off(PCCViewer.EventType.CommentCreated,tA);}if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};var IX=function(ax,hs){T.aF.scrollRegionIntoView(ax-1,hs);if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};aaI(T,target,tA,Ke,IX);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.gi){this.gi.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gi=null;this.jH=null;}var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this;T.gi=bg;try{var Ke=function(){T.aF.scrollConversationIntoView(target.getMark().J.get_conversation());if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};var tA=function(ev){if(ev.target.xN===target){T.bP.off(PCCViewer.EventType.CommentCreated,tA);T.xN=null;T.scrollTo(target);}else if(ev.target.xN===null){T.bP.off(PCCViewer.EventType.CommentCreated,tA);}if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};var IX=function(ax,hs){T.aF.scrollRegionIntoView(ax-1,hs);if(T.gi){T.gi.resolve();}T.gi=null;T.jH=null;};if(aaI(T,target,tA,Ke,IX)===true){bg.resolve();}}catch(e){T.gi=null;T.jH=null;bg.reject(new PCCViewer.Error("Error",e));}return dF;};function aaI(cQ,cV,tA,Ke,IX){var hs,ax,au;cQ.xN=null;if(cV instanceof PCCViewer.Conversation){if(cQ.cu[cV.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var adO=cQ.aF.scrollConversationIntoView(cV.getMark().J.get_conversation());if(adO==="PageOutOfView"){cQ.jH=Ke;cQ.setPageNumber(cV.getMark().getPageNumber());return false;}else if(adO==="ConversationDivDoesNotExist"&&cV.getMark().J.get_conversation().get_length()>0){cQ.xN=cV;cQ.bP.on(PCCViewer.EventType.CommentCreated,tA);return false;}else{cQ.jH=null;return true;}}else if(cV instanceof PCCViewer.SearchResult){if(cV.IZ!==cQ.aW.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}au=cV.getBoundingRectangle();hs=new IPCC.Web.UI.Rectangle(au.x,au.y,au.width,au.height);ax=cV.getPageNumber();}else if(cV instanceof PCCViewer.Mark){if(cQ.cu[cV.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}au=cV.getBoundingRectangle();hs=new IPCC.Web.UI.Rectangle(au.x,au.y,au.width,au.height);ax=cV.getPageNumber();}else if(cV!==undefined&&cV!==null){if(typeof cV.x==='number'&&typeof cV.y==='number'){hs=new IPCC.Web.UI.Rectangle(+cV.x,+cV.y,0,0);}else{if(isNaN(+cV.x)||isNaN(+cV.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{hs=new IPCC.Web.UI.Rectangle(Number(+cV.x),Number(+cV.y),0,0);}}if(cV.width){if(typeof cV.width==='number'){hs.width=cV.width;}else{if(isNaN(+cV.width)){throw new Error('The parameter target does not contain a valid width value.');}else{hs.width=Number(+cV.width);}}}if(cV.height){if(typeof cV.height==='number'){hs.height=cV.height;}else{if(isNaN(+cV.height)){throw new Error('The parameter target does not contain a valid height value.');}else{hs.height=Number(+cV.height);}}}if(typeof cV.pageNumber==='number'){ax= +cV.pageNumber;}else{if(isNaN(+cV.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{ax=Number(+cV.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(ax<1||ax>cQ.getPageCount()|| !isFinite(ax)){throw new RangeError("The parameter pageNumber is out of range.");}if(cQ.aF.scrollRegionIntoView(ax-1,hs)===false){cQ.jH=function(){IX(ax,hs);};cQ.setPageNumber(ax);return false;}else{cQ.jH=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fI){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(zb(this.getPageNumber()-1,this)===false){this.aF.cl(this.getPageNumber()-1);}var ih=degreesClockwise%360,T=this;if(ih!==0){var vA=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ih||vA.indexOf(ih)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ih||IPCC.Web.kQ(vA,ih)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aF.rotate(ih);}setTimeout(function(){T.bP.trigger("PageRotated",{degreesClockwise:ih,pageNumber:(T.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fI){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(zb(this.getPageNumber()-1,this)===false){this.aF.cl(this.getPageNumber()-1);}var ih=degreesClockwise%360,T=this;if(ih!==0){var vA=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!ih||vA.indexOf(ih)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!ih||IPCC.Web.kQ(vA,ih)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aF.adM(ih);}setTimeout(function(){T.bP.trigger("DocumentRotated",{degreesClockwise:ih});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.vb){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.aF.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.vb){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aF.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.vb){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.aF.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.vb){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.aF.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.vb){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aF){this.aF.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.vb){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aF){this.aF.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var nH;if(this.aF&&this.aF.get_viewMode){nH=this.aF.get_viewMode();}else{nH=this.ag.viewMode;}if(nH===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(nH===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(nH===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var nH;switch(viewMode){case PCCViewer.ViewMode.Document:nH=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:nH=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:nH=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:nH=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aF&&this.aF.set_viewMode){var Kl=this.aF.get_viewMode();if(Kl!==nH){if(Kl===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(nH===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aF.set_viewMode(nH);}}else{this.ag.viewMode=nH;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var yr;if(this.aF&&this.aF.get_pageLayout){yr=this.aF.get_pageLayout();}else{yr=this.ag.pageLayout;}if(yr===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var yr;if(this.ag.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:yr=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aF&&this.aF.closeCommentsPanel){this.aF.closeCommentsPanel();var T=this;setTimeout(function(){T.bP.trigger("CommentsPanelToggled",{isOpen:false});},10);}yr=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aF&&this.aF.set_pageLayout){this.aF.set_pageLayout(yr);}else{this.ag.pageLayout=yr;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.vb){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.aF.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.vb){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.aF.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.vb){throw "The fitContent method cannot be called before the initial PageOpening event.";}var Cl;switch(fitType){case PCCViewer.FitType.FullWidth:Cl=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Cl=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Cl=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Cl=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Cl=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.qQ.then(function(sP){sP.fitPages(Cl);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fI){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var ax;if(arguments.length>0){if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{ax=Number(pageNumber);}}if(parseInt(ax,10)!==ax){throw new Error("The 'pageNumber' value "+ax+" is not an integer page number.");}if(ax<1||ax>this.getPageCount()|| !isFinite(ax)){throw new Error("The parameter pageNumber is out of range.");}return this.aF.WU(ax-1);}else{return this.aF.WU();}};SingleSessionViewerControl.prototype.search=function(dO){var ag=this.ag;var aCw=ag.searchMethodType.toLowerCase();var aoA=ag.searchMethodPageCountThreshold;var T=this;var XE;var km;var Hk=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Hk,{"searchQuery":{enumerable:true,get:function(){return km.getSearchQuery();}},"results":{enumerable:true,get:function(){return km.getResults();}},"isComplete":{enumerable:true,get:function(){return km.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return km.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return km.getErrorMessage();}}});}function GX(bu){return function(){Hk.trigger.apply(Hk,[bu].concat([].slice.call(arguments)));};};var acu=GX(PCCViewer.EventType.SearchCompleted);var adL=GX(PCCViewer.EventType.SearchCancelled);var acy=GX(PCCViewer.EventType.SearchResultsAvailable);var adv=GX(PCCViewer.EventType.PartialSearchResultsAvailable);var acQ=function(as){var eF=XE.getErrorCode();if(eF==='ServerSearchUnavailable'){T.akW=true;T.yj=false;aBh();km=T.clientSearch(dO);ank();}else{GX(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var ank=function(){km.on(PCCViewer.EventType.SearchCompleted,acu);km.on(PCCViewer.EventType.SearchFailed,acQ);km.on(PCCViewer.EventType.SearchCancelled,adL);km.on(PCCViewer.EventType.SearchResultsAvailable,acy);km.on(PCCViewer.EventType.PartialSearchResultsAvailable,adv);};var aBh=function(){km.off(PCCViewer.EventType.SearchCompleted,acu);km.off(PCCViewer.EventType.SearchFailed,acQ);km.off(PCCViewer.EventType.SearchCancelled,adL);km.off(PCCViewer.EventType.SearchResultsAvailable,acy);km.off(PCCViewer.EventType.PartialSearchResultsAvailable,adv);};var Ee=function(){if(T.akW===false){XE=T.serverSearch(dO);km=XE;ank();IPCC.G.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(bu){Hk[bu]=function(){return km[bu].apply(km,arguments);};});return Hk;}else{return T.clientSearch(dO);}};switch(aCw){case('auto'):if(aoA>=this.eY){return this.clientSearch(dO);}else{return Ee();}break;case('client'):return this.clientSearch(dO);case('server'):return Ee();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.akC=function(dO,aCK){var T=this;var cR=new PCCViewer._Search();this.aY=cR.auR();PCCViewer.SearchTask.prototype.aht(dO);if(aCK===true){if(T.vu!==true){T.qQ.then(function(sP){var IW=function(){T.bP.off('PageCountReady',IW);T.clientSearch(dO);};T.bP.on('PageCountReady',IW);return T.aY;});}if(!this.aW.auG()){this.aW.LL(0,this.aW.eY-1,this.aW.eY);}}this.yw=null;this.Fv={};this.aF.clearAllSelectedText();return cR;};SingleSessionViewerControl.prototype.aiM=function(){var aM=this;this.aY.on('PartialSearchResultsAvailable',function(dA){if(aM.qd){return;}var HZ=[];var RK={};HZ=dA.partialSearchResults;var av=HZ[0];if(aM.Fv[av.getPageNumber()]!==undefined){RK=aM.Fv[av.getPageNumber()];}else{RK.aX=av.getId();}av=HZ[HZ.length-1];RK.dM=av.getId();aM.Fv[av.getPageNumber()]=RK;function DS(aR){if(aM.qd){return;}aM.aff(aR.get_pageNumber(),HZ);};var bY=aM.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()+1===av.getPageNumber()){aM.requestPageText(aR.get_pageNumber()+1).then(DS.bind(null,aR));}}});this.aY.on('SearchCompleted',function(dA){aM.yj=false;});this.aY.on('SearchCancelled',function(dA){aM.yj=false;});this.bP.trigger('SearchPerformed',{searchRequest:this.aY});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var aM=this;var cR=aM.akC(searchQuery,true);searchQuery=cR.Ud(searchQuery);if(this.yj===false){aM.aF.set_retainPageText(true);this.aY=cR.wF(searchQuery,this.aW);this.yj=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}aM.aiM();return this.aY;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var aM=this;var cR=aM.akC(searchQuery,false);searchQuery=cR.Ud(searchQuery);if(this.yj===false){this.aY=cR.Ee(searchQuery,this.aW);this.yj=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}aM.aiM();return this.aY;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.aY;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.fI){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var T=this;if(this.getSelectedSearchResult()){this.yw=null;setTimeout(function(){T.bP.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aF.clearAllSelectedText();this.aY=null;setTimeout(function(){T.bP.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(dO){var eG={errorsExist:false};var searchTermObj,aiE,K,bJ,Ta,Me,QJ;if(typeof dO!=='object'&&typeof dO!=='string'){eG.errorsExist=true;eG.summaryMsg="Search query must be either an object or string.";return eG;}if(typeof dO==='string'&&dO.length<0){eG.errorsExist=true;eG.summaryMsg="Search term must contain at least 3 characters.";return eG;}else if(typeof dO==='string'){return eG;}if(!dO.hasOwnProperty('searchTerms')){eG.errorsExist=true;eG.summaryMsg="Search options must have a 'searchTerms' key.";return eG;}if(Object.prototype.toString.call(dO.searchTerms)!=='[object Array]'){eG.errorsExist=true;eG.summaryMsg="Search terms value must be an array.";return eG;}if(!dO.searchTerms.length){eG.errorsExist=true;eG.summaryMsg="Search terms array must contain at least one value.";return eG;}eG.searchTerms=[];IPCC.G.forEach(dO.searchTerms,function(searchTermObj){var GO=aex(searchTermObj);if(GO.errorsExist){eG.errorsExist=true;}eG.searchTerms=eG.searchTerms.concat(GO.searchTerms);});return eG;};function aex(jZ){var eG={errorsExist:false,searchTerms:[]};var aBL=jZ.type?IPCC.G.trim(jZ.type).toLowerCase():undefined;if(aBL==='proximity'){if(Object.prototype.toString.call(jZ.terms)!=='[object Array]'){eG.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eG.errorsExist=true;return eG;}if(jZ.terms.length<2){eG.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eG.errorsExist=true;return eG;}if(!jZ.distance){eG.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eG.errorsExist=true;return eG;}IPCC.G.forEach(jZ.terms,function(azf){var GO=aex(azf);if(GO.errorsExist){eG.errorsExist=true;}eG.searchTerms=eG.searchTerms.concat(GO.searchTerms);});return eG;}var Ta,QJ;var Me=(typeof jZ.matchingOptions!=='undefined'&&jZ.matchingOptions.hasOwnProperty('matchCase'))?jZ.matchingOptions.matchCase:false;if(typeof jZ.searchTerm==='undefined'||typeof jZ.searchTerm!=='string'||(jZ.searchTermIsRegex===true&& !aDO(jZ.searchTerm,Me))){eG.errorsExist=true;eG.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eG;}Ta=(typeof jZ.matchingOptions!=='undefined'&&jZ.matchingOptions.hasOwnProperty('exactPhrase'))?jZ.matchingOptions.exactPhrase:false;if(Ta){if(jZ.searchTerm.length<0){eG.errorsExist=true;eG.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eG;}}else{var aiE=jZ.searchTerm.split(' ');IPCC.G.forEach(aiE,function(QJ){if(QJ.length>0&&QJ.length<0){eG.errorsExist=true;eG.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eG.searchTerms.length){eG.searchTerms.push({isValid:true,message:null});}return eG;};var aDO=function(Yi,Me){var aGh,XU,KV;if(Me){XU='gm';}else{XU='igm';}if(!Yi&&Yi!==null){KV=false;}else{try{aGh=new RegExp(Yi,XU);KV=true;}catch(err){KV=false;}}return KV;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.kC=new PCCViewer.Ih({imageHandlerUrl:this.ag.imageHandlerUrl,documentID:this.ag.documentID});return this.kC.aBl();};SingleSessionViewerControl.prototype.he=function(TY){var Ad=false,bY=this.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()===TY){Ad=true;}}return Ad;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var ae;if(!(/^[\x00-\x7F]*$/.test(this.aW))){ae=this.ag.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.ag.documentID+'/SourceFile';}else{ae=this.ag.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.ag.documentID);}return ae;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var ax;var bg=PCCViewer.Deferred();var dF=bg.getPromise();var cQ=this;try{if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ax=parseInt(pageNumber,10);}}if(ax<1||ax>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var XC=this.BJ[ax-1];if(!XC){XC=this.BJ[ax-1]=new PCCViewer.Deferred();this.qQ.then(function(){var aR=cQ.bX.getPage(ax-1);aR.zt();});}bg.resolve(XC.getPromise());}catch(e){bg.reject(new PCCViewer.Error('Error',e));}return dF;};SingleSessionViewerControl.prototype.asV=function(aEv){var i,j,xh;for(j=0;j<this.Bh.length;j++){xh=this.Bh[j];if(xh){for(i=0;i<xh.length;i++){if(xh[i].Aj.OQ()===aEv){return xh[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fI===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var T=this;var eY=T.getPageCount();var fz;if(typeof values==='string'){try{fz=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fz=values;}if(fz.constructor!==Array){fz=[fz];}function Qi(fj,bo){throw new Error('Cannot serialize mark (at index '+bo+') because of '+fj);};var YP=IPCC.G.map(T.getAllMarks(),function(V){return V.getUid();});IPCC.G.forEach(fz,function validateObject(bD,bo){if(!bD.pageNumber||isNaN(+bD.pageNumber)||bD.pageNumber<1||bD.pageNumber>eY){Qi('unknown page number '+bD.pageNumber,bo);}if(!PCCViewer.Mark.Type[bD.type]){Qi('unknown type '+bD.type,bo);}if(bD.type==='RectangleRedaction'||bD.type==='TextSelectionRedaction'){if(!T.ag.enableMultipleRedactionReasons&&bD.hasOwnProperty('reasons')){Qi('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',bo);}}if(IPCC.G.contains(YP,bD.uid)){Qi('uid '+bD.uid+' is being duplicated or already exists',bo);}else if(bD.uid!==undefined){YP.push(bD.uid);}});if(fz.length===0){return[];}var db=T.aW.get_pages();var axd=[];db.mo(function(aR){axd.push(T.aF.gx(aR));});var bQ=IPCC.G.reduce(fz,function(av,bD){var aR=db.ju(bD.pageNumber-1);var Xw=aR.get_pageWidth();var ajN=aR.get_pageHeight();var hd=bD.pageData;if(!hd&&(!Xw|| !ajN)){var aBC=IPCC.G.find(bD.lineGroups,function(aiL){return(aiL.pageNumber&&aiL.pageNumber===bD.pageNumber);});hd=aBC.pageData;}var ay=Xw||hd.width;var an=ajN||hd.height;var V=dR[bD.type].call(T,bD,{ay:ay,an:an});if(bD.uid===undefined){YP.push(V.getUid());}if(!Xw){aR.CP=true;aR.aeF(ay);aR.ack(an);}if(!V.J.has_unsafe_href()){av.push(V);}else{T.deleteMarks(V);}return av;},[]);return bQ;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this,bQ,aEg=false;function abK(fj){setTimeout(function(){bg.reject(fj);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bQ=marks;}else if(marks){bQ=[marks];aEg=true;}else{abK(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dF;}var Sk;bQ=IPCC.G.filter(bQ,function(la,bo){var Iz=la instanceof PCCViewer.Mark&&la===T.getMarkById(la.getId())&& ! !ew[la.getType()];if(!Iz&& !Sk){Sk=bo;}return Iz;});if(Sk){abK(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Sk+' because it is not a valid mark or a mark known to ViewerControl'));return dF;}var UQ=T.aW.get_pages();var db=IPCC.G.reduce(bQ,function(ek,la){var ax=la.getPageNumber();if(ek[ax]){return ek;}ek[ax]=UQ.getPage(ax-1);return ek;},{});function aEq(V,aR,aEW){return function(np){ew[V.getType()]({mark:V,page:aR,vc:T},function(dQ,cd){if(!dQ){aEW(cd);np();}else{bg.reject(dQ);}});};};var rH=[];var asB=IPCC.G.map(bQ,function(la,bo){return aEq(la,db[la.getPageNumber()],function(cd){rH[bo]=cd;});});IPCC.G.YO(asB,function(){bg.resolve(rH);});return dF;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var MG,Xp;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:MG=true;Xp=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:MG=false;Xp=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aF&&this.aF.set_redactionDraftMode){var ayK=this.aF.get_redactionDraftMode();if(ayK!==MG){this.aF.set_redactionDraftMode(MG);}}else{this.ag.redactionViewMode=Xp;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var aks;if(this.aF&&this.aF.get_redactionDraftMode){aks=this.aF.get_redactionDraftMode();if(aks===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.ag.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var T=this;var dW=searchResult;if(this.fI===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}else if(dW instanceof Array){throw new Error("Argument for this method cannot be an array.");}else if(dW instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}else if(dW.IZ!==this.aW.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var aR=T.bX.getPage(dW.getPageNumber()-1);if(!(aR.dj()&&aR.dj().xm()&&aR.dj().mw()===true)){throw new Error("The text has not been retrieved for this page.");}var iP=dW.getStartIndexInPage();var fv=dW.getStartIndexInPage()+dW.getText().length;var jU=IPCC.yT();var bf=T.aF.gx(aR);var hI=aR.dj().hJ();var dv=avI(bf,hI,iP,fv,jU,dW.getPageNumber()-1);var V=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:dv,pageNumber:dW.getPageNumber()});V.J=dv;V.aQ=[];this.cu[dv.get_markID()]=V;var wP=T.iu;T.iu=function(sender,eventArgs){if(T.rM){T.uI.addMarks(V);}setTimeout(function(){T.bP.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bf.addMark(dv);T.iu=wP;T.aF.display(dW.getPageNumber()-1);return V;};var avI=function(bf,hI,iP,fv,jU,amG){var dv=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);dv.be=jU;dv.aZ=amG;var V=null;var lm={fR:Number.MAX_VALUE,im:0,_top:Number.MAX_VALUE,kf:0};for(var bJ=iP;bJ<fv;bJ++){var eB=hI.ld(bJ);if(V){var vo=V.get_rectangle();if(Math.abs(eB.aB.y-vo.y)<1&&Math.abs(eB.aB.height-vo.height)<1&&eB.aB.x+eB.aB.width>=vo.x+vo.width){V.set_rectangle(new IPCC.Web.UI.Rectangle(vo.x,vo.y,eB.aB.x+eB.aB.width-vo.x,vo.height));}else{ajv(bf,dv,V,lm);V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);V.set_rectangle(eB.aB);V.kp(true);V.set_fillColor('#000000');V.set_text(dv.aq);V.set_lineWidth(0);V.be=jU;}}else{V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);V.set_rectangle(eB.aB);V.kp(true);V.set_fillColor('#000000');V.set_text(dv.aq);V.set_lineWidth(0);V.be=jU;}V.aZ=amG;}if(V!==null){ajv(bf,dv,V,lm);}dv.set_rectangle(new IPCC.Web.UI.Rectangle(lm.fR,lm._top,lm.im-lm.fR,lm.kf-lm._top));return dv;};var ajv=function(bf,dv,V,lm){var R=V.get_rectangle();if(R.x<lm.fR){lm.fR=R.x;}if(R.y<lm._top){lm._top=R.y;}if(R.x+R.width>lm.im){lm.im=R.x+R.width;}if(R.y+R.height>lm.kf){lm.kf=R.y+R.height;}bf.addMark(V);dv.aC.push(V);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var dW=searchResult;if(this.fI===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(dW instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(dW instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(dW.IZ!==this.aW.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var dv;var ahj;var bf;var av=dW;var iP=av.getStartIndexInPage();var fv=av.getStartIndexInPage()+av.getText().length;var jU=IPCC.yT();var T=this;var V;bf=this.aF.gx(this.bX.getPage(av.getPageNumber()-1));dv=ahR(IPCC.Web.UI.MarkType.HighlightText,av,iP,jU);V=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:dv,pageNumber:av.getPageNumber()});for(iP;iP<fv;iP++){ahj=ahR(IPCC.Web.UI.MarkType.Highlight,av,iP,jU);bf.addMark(ahj);}this.cu[dv.get_markID()]=V;var wP=this.iu;this.iu=function(sender,eventArgs){if(T.rM){T.uI.addMarks(V);}setTimeout(function(){T.bP.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bf.addMark(dv);T.iu=wP;this.aF.display(av.getPageNumber()-1);V.fillColor=av.getHighlightColor();return V;};var ahR=function(bi,av,auO,jU){var V=new IPCC.Web.UI.Mark(bi);if(bi===IPCC.Web.UI.MarkType.HighlightText){V.ds=av.getText();}V.aX=auO;V.set_rectangle({x:0,y:0,width:0,height:0});V.cU=av.getText().length;V.aHu=av.getStartIndexInPage()+av.getText().length;V.de=127;V.eI=av.getHighlightColor();V.kW='y';V.be=jU;return V;};SingleSessionViewerControl.prototype.aff=function(aZ,fm){var av={};for(var bJ=0;bJ<fm.length;bJ++){av=fm[bJ];this.aF.selectText(av.getPageNumber()-1,av.getStartIndexInPage(),av.getText().length,av.getHighlightColor());}this.aF.display(av.getPageNumber()-1);this.IV[av.getPageNumber()]='search';};SingleSessionViewerControl.prototype.aaX=function(aZ,searchResult){var av={};if(this.aY===null||typeof this.aY.getResults!=='function'){return;}var fm=this.aY.getResults();this.aF.clearSelectedText(aZ-1);var QE=this.Fv[aZ];if(!QE){return;}for(var bJ=QE.aX;bJ<QE.dM+1;bJ++){av=fm[bJ];if(av.getPageNumber()===aZ){this.aF.selectText(av.getPageNumber()-1,av.getStartIndexInPage(),av.getText().length,av.getHighlightColor());if(searchResult===av.getId()){this.aF.selectText(av.getPageNumber()-1,av.getStartIndexInPage(),av.getText().length,av.getHighlightColor());}}}this.aF.display(av.getPageNumber()-1);this.IV[av.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fI){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.FZ= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.aY){throw "There is no current SearchRequest object available.";}var aiU=this.aY.getResults();if(aiU[searchResult.getId()].mn!==searchResult.mn){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aiU=null;this.FZ=searchResult.getId();if(scrollTo){var au=searchResult.getBoundingRectangle();var hs=new IPCC.Web.UI.Rectangle(au.x,au.y,au.width,au.height);if(this.aF.scrollRegionIntoView(searchResult.getPageNumber()-1,hs)===false){this.jH=function(){T.aF.scrollRegionIntoView(searchResult.getPageNumber()-1,hs);};this.setPageNumber(searchResult.getPageNumber());}else{this.jH=null;}}}var T=this;var aAT=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yw&&this.yw.getPageNumber()!==aAT){T.requestPageText(T.yw.getPageNumber()).then(function DS(){T.aaX(T.yw.getPageNumber(),T.FZ);});}if(searchResult){T.requestPageText(searchResult.getPageNumber()).then(function DS(){T.aaX(searchResult.getPageNumber(),T.FZ);});}this.yw=searchResult;setTimeout(function(){T.bP.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fI){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.yw;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var ax;var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this;try{if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ax=parseInt(pageNumber,10);}}if(ax<1||ax>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qQ.then(function(sP){var aR=T.bX.getPage(ax-1);var eR=aR.dj();eR.aeD(true);if(eR&&eR.xm()){if(eR.mw()===true){var aq=aR.dj().Bo();bg.resolve(aq);}else{bg.resolve("");}}else{var Ix=function(bS,dC){if(dC.containsText===true){var aq=eR.Bo();bg.resolve(aq);}else{bg.resolve("");}aR.Do(Ix);aR.Eh(Ir);};var Ir=function(bS,dC){if(dC.exception&&dC.exception.message){bg.reject(new PCCViewer.Error("TextExtractionFailed",dC.exception.message));}else{bg.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aR.Do(Ix);aR.Eh(Ir);};aR.Cc(Ix);aR.zP(Ir);aR.zt();}});}catch(e){bg.reject(new PCCViewer.Error("Error",e));}return dF;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var ax;var T=this;if(!this.fI){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(T.aF.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{ax=parseInt(pageNumber,10);}}if(ax<1||ax>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var bY=T.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var akg=bY.getPage(K);if(akg.get_pageNumber()===ax-1){akg.dj().aeD(false);return this;}}var aR=T.bX.getPage(ax-1);aR.amx();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aL.nj(pageNumber,"pageNumber",1,this.getPageCount());var aR;return(this.aF&&this.bX&&(aR=this.bX.getPage(pageNumber-1))&&aR.dj()&&aR.dj().xm())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.axK;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var ax;var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this;try{if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{ax=parseInt(pageNumber,10);}}if(ax<1||ax>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qQ.then(function(sP){var aR=T.bX.getPage(ax-1);if(aR.jP()>0||aR.jq()>0){bg.resolve({'width':aR.jP(),'height':aR.jq()});}else{var BY=function(bz,cq){bg.resolve({'width':bz,'height':cq});};var Cs=function(errorMessage){bg.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};sP.requestPageAttributes(aR,BY,Cs);}});}catch(e){bg.reject(new PCCViewer.Error("Error",e));}return dF;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.qd){this.Bh=undefined;this.BJ=undefined;this.uI=undefined;this.lW=undefined;this.kC=undefined;this.iI=undefined;if(this.aF&&typeof this.aF.dispose==="function"){this.aF.dispose();}this.ae="";this.eY=0;delete this.aF;this.aW=undefined;this.NT=0;this.bX=undefined;this.agH=false;if(this.eS){IPCC.G.DK(this.eS);this.eS=this.dG=undefined;}this.mb=false;this.vu=false;this.Ej=false;this.aF=undefined;this.PM=undefined;this.UB=undefined;this.qQ=undefined;PCCViewer.MouseTools.sx=undefined;this.lC=undefined;this.Bh=undefined;this.Gu=undefined;for(var FC in this.cu){if(this.cu.hasOwnProperty(FC)){this.cu[FC].cd=undefined;this.cu[FC].cG=undefined;this.cu[FC].J=undefined;this.cu[FC]=undefined;}}this.cu=undefined;this.fI=false;this.qd=true;this.bP={on:function HI(){},off:function HI(){},trigger:function HI(){}};this.jf=undefined;this.jf={};}};SingleSessionViewerControl.prototype.ayr=function(){if(this.eS){this.aF.preserveScrollPosition();this.PM=this.eS.childNodes[0];IPCC.G.DK(this.eS);}};SingleSessionViewerControl.prototype.azR=function(){if(this.PM){IPCC.G.DK(this.eS);this.eS.appendChild(this.PM);this.PM=undefined;this.aF.restoreScrollPosition();}};SingleSessionViewerControl.prototype.aqB=function(){this.bP.stop();};SingleSessionViewerControl.prototype.aCE=function(){this.bP.resume();};SingleSessionViewerControl.prototype.aEA=function(interceptor){this.bP.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var T=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(T.cu[markId]){return T.cu[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var ZK=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}akt(markType);if(!this.aF){return ZK;}var K=0;var cO=this.bX.get_length();var T=this;function aBN(J){var V=T.cu[J.get_markID()];if(V&&V.getType().toLowerCase()===markType.toLowerCase()){ZK.push(V);}};for(K=0;K<cO;K++){var bf=this.aF.gx(this.bX.getPage(K));if(bf){bf.forEachMark(aBN);}}return ZK;};SingleSessionViewerControl.prototype.getAllMarks=function(){var CJ=[];if(!this.aF){return CJ;}var cO=this.bX.get_length();var T=this;var K=0;var V;function Qv(J){var V=T.cu[J.get_markID()];if(typeof V!=='undefined'){CJ.push(V);}};for(K=0;K<cO;K++){var bf=this.aF.gx(this.bX.getPage(K));if(bf){bf.forEachMark(Qv);}}return CJ;};function akt(markType){var eJ;switch(markType.toLowerCase()){case "lineannotation":eJ=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":eJ=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":eJ=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":eJ=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":eJ=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":eJ=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":eJ=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":eJ=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":eJ=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":eJ=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":eJ=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":eJ=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":eJ=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":eJ=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":eJ=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":eJ=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":eJ=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":eJ=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":eJ=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":eJ=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":eJ=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return eJ;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var T=this,hd;if(T.fI===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.hd.width===0){var KU=T.aW.db.ju(0);hd={width:KU.jP(),height:KU.jq()};}else{hd=searchResult.hd;}var ajk=IPCC.G.tp(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:ajk,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.aC,pageData:hd,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],modificationDateTime:ajk,pageNumber:searchResult.pageNumber,pageData:hd,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Pv=T.deserializeMarks(markInfo);return Pv[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fI===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var ax;if(typeof(pageNumber)==='number'){ax=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{ax=parseInt(pageNumber,10);}}if(ax<1||ax>this.bX.get_length()|| !isFinite(ax)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var V=this.ajf(ax,markType);return this.alJ(V);};SingleSessionViewerControl.prototype.ajf=function(ax,bi,ag){var T=this;ag=ag||{};var eJ=akt(bi);var J=new IPCC.Web.UI.Mark(eJ);J.aZ=ax-1;var Qg={type:bi,igMark:J,pageNumber:ax,uid:ag.uid,viewerControl:this};if(bi.toLowerCase()==="highlightannotation"||bi.toLowerCase()==="textselectionredaction"||bi.toLowerCase()==="strikethroughannotation"||bi.toLowerCase()==="texthyperlinkannotation"){Qg.bX=T.bX;Qg.aF=T.aF;}if(bi.toLowerCase()==="rectangleredaction"||bi.toLowerCase()==="textselectionredaction"){Qg.enableMultipleRedactionReasons=this.ag.enableMultipleRedactionReasons;}var V=new PCCViewer.Mark(Qg);return V;};SingleSessionViewerControl.prototype.alJ=function(V){var T=this;if(T.akD===true){T.akD=false;}else{var wP=T.iu;T.iu=function(sender,eventArgs){T.iu=wP;if(T.rM){T.uI.addMarks(V);}setTimeout(function(){T.bP.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bf=this.aF.gx(this.bX.getPage(V.ax-1));bf.addMark(V.J);T.cu[V.J.get_markID()]=V;T.op(V,V.ax-1);return V;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var T=this;var K=0;var V;if(!this.fI){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function NU(oT){var aZ=oT.getPageNumber()-1;var be='';var al='';var IF=aZ;var bf=T.aF.gx(T.bX.getPage(aZ));bf.removeMark(oT.J);if(T.cu[oT.getId()]){be=oT.J.be;al=oT.getType();delete T.cu[oT.getId()];}var Ps=al.toLowerCase();if((Ps==='highlightannotation'||Ps==='textselectionredaction'||Ps==='strikethroughannotation'||Ps==='texthyperlinkannotation')&&(oT.aQ&&oT.aQ.length)){for(var K=0;K<oT.aQ.length;K++){var mT=oT.aQ[K];bf=T.aF.gx(T.bX.getPage(mT.aZ));bf.removeMark(mT);T.op(mT,mT.aZ);}}T.lW.forEach(function(fC){if(fC.hasMark(oT.getId())){fC.removeMarks(oT);}});};if(marks instanceof Array){for(K=0;K<marks.length;K++){V=marks[K];if(!(V instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(T.cu[V.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(K=0;K<marks.length;K++){NU(marks[K]);T.op(marks[K],marks[K].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(T.cu[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}NU(marks);T.op(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var CJ=this.getAllMarks();if(CJ.length>0){return this.deleteMarks(CJ);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){afx(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){afx(this,marks,true,'showMarks');return this;};function afx(cQ,bQ,xy,aFe){var K=0;var V;if(!cQ.fI){throw new PCCViewer.Error("InvalidArgument","The method "+aFe+" can not be used until 'ViewerReady' state is reached.");}if(bQ instanceof Array){for(K=0;K<bQ.length;K++){V=bQ[K];if(!(V instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(cQ.cu[V.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(K=0;K<bQ.length;K++){bQ[K].setVisible(xy);}}else{if(bQ instanceof PCCViewer.Mark){if(!(cQ.cu[bQ.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bQ.setVisible(xy);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function zb(atT,ku){var kr=false;var bY=ku.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()===atT){kr=true;break;}}return kr;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var bf;var hB;if(!this.fI){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){hB=mark.getPageNumber();if(mark.getPageNumber()>0){bf=this.aF.gx(this.bX.getPage(hB-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.J){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bf){if(mark.J instanceof IPCC.Web.UI.Mark){mark.J.moveToFront();if(zb(hB-1,this)===true){var ku=this;setTimeout(function(){ku.aF.cl(hB-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var bf;var hB;if(!this.fI){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hB=mark.getPageNumber();if(hB>=1){bf=this.aF.gx(this.bX.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.J){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bf){if(mark.J instanceof IPCC.Web.UI.Mark){mark.J.moveToBack();if(zb(hB-1,this)===true){var ku=this;setTimeout(function(){ku.aF.cl(hB-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var bf,hB;if(!this.fI){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hB=mark.getPageNumber();if(hB>=1){bf=this.aF.gx(this.bX.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.J){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bf){if(mark.J instanceof IPCC.Web.UI.Mark){mark.J.moveForward();if(zb(hB-1,this)===true){var ku=this;setTimeout(function(){ku.aF.cl(hB-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var bf,hB;if(!this.fI){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hB=mark.getPageNumber();if(hB>=1){bf=this.aF.gx(this.bX.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.J){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bf){if(mark.J instanceof IPCC.Web.UI.Mark){mark.J.moveBackward();if(zb(hB-1,this)===true){var ku=this;setTimeout(function(){ku.aF.cl(hB-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var bQ=[];var SH=[];if(this.fI===false){return bQ;}var cO=this.bX.get_length(),bf,fu;var T=this;function aqT(QN){if(QN){var Qz=QN.get_type();if(Qz===IPCC.Web.UI.MarkType.HighlightText||Qz===IPCC.Web.UI.MarkType.TextSelectionRedaction||Qz===IPCC.Web.UI.MarkType.Strikethrough||Qz===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var jl in T.cu){if(T.cu.hasOwnProperty(jl)){fu=T.cu[jl];if(QN.be===fu.J.be){for(var K=0;K<SH.length;K++){if(fu.J.be===SH[K]){return;}}SH.push(fu.J.be);break;}}}}else{fu=T.cu[QN.get_markID()];}if(fu&&fu instanceof PCCViewer.Mark){bQ.push(fu);}else{return bQ;}}};for(var K=0;K<cO;K++){bf=this.aF.gx(this.bX.getPage(K));if(bf){bf.get_selectedMarks().forEach(aqT,{});}}return bQ;};function ala(bQ,apC,ku){var fu,K;function abe(fT){var kr=false;var bY=ku.aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()===fT){kr=true;break;}}return kr;};if(!bQ.length){return;}for(K=0;K<bQ.length;K++){if(bQ[K]instanceof PCCViewer.Mark){fu=ku.cu[parseInt(bQ[K].getId(),10)];if(fu&&fu instanceof PCCViewer.Mark){if(fu.J&&fu.J instanceof IPCC.Web.UI.Mark){if(fu.getId()!==fu.J.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(K+1)+" is invalid";}}var nQ=[];var tx=false;for(K=0;K<bQ.length;K++){fu=ku.cu[parseInt(bQ[K].getId(),10)];tx=false;if(fu){if(fu.getId()===fu.J.get_markID().toString()){fu.J.set_selected(apC);if(Array.prototype.IndexOf){tx=(nQ.IndexOf(fu.getPageNumber())>=0);}else{tx=(IPCC.Web.kQ(nQ,fu.getPageNumber())>=0);}}if(!tx){var ct=fu.getPageNumber();if(abe(ct-1)){nQ.push(ct);}}}}if(nQ.length>0){setTimeout(function(){for(K=0;K<nQ.length;K++){ku.aF.cl(nQ[K]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.fI===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bQ=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bQ.push(marks);}}else{bQ=marks;}if(bQ.length===0){return this;}ala(bQ,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.fI===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bQ=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bQ.push(marks);}}else{bQ=marks;}if(bQ.length===0){return this;}ala(bQ,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var nQ=[];var bQ=this.getSelectedMarks();var tx=false,K,fu;for(K=0;K<bQ.length;K++){fu=this.cu[parseInt(bQ[K].getId(),10)];tx=false;if(fu){if(fu.getId()===fu.J.get_markID().toString()){fu.J.set_selected(false);if(Array.prototype.IndexOf){tx=(nQ.IndexOf(fu.getPageNumber())>=0);}else{tx=(IPCC.Web.kQ(nQ,fu.getPageNumber())>=0);}}if(!tx){var ct=fu.getPageNumber();if(zb(ct-1,this)===true){nQ.push(ct);}}}}if(nQ.length>0){var ku=this;setTimeout(function(){for(K=0;K<nQ.length;K++){ku.aF.cl(nQ[K]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var cQ=this,Pv;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bQ=[];IPCC.G.forEach(marks,function(V){if(V instanceof PCCViewer.Mark){if(cQ.cu[V.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bQ.push(V);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rH=[];IPCC.G.forEach(bQ,function(V,aA){ew[V.getType()]({mark:V},function(dQ,cd){cd.uid=undefined;rH[aA]=cd;});});this.rM=false;Pv=cQ.deserializeMarks(rH);this.rM=true;return Pv;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(V){var cQ=this,aF=this.aF;var adu=function(TY){var Ad=false,bY=aF.get_displayedPages();for(var K=0;K<bY.get_length();K++){var aR=bY.getPage(K);if(aR.get_pageNumber()===TY){Ad=true;}aF.oz(aR.get_pageNumber());}return Ad;};if(typeof V==="undefined"||V===null){adu(-1);}else{if(this.fI===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(V instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aew=this.cu[parseInt(V.getId(),10)];if(!(aew&&aew instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(V.J&&V.J instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(V.getId()!==V.J.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bi=V.getType();if(bi!==PCCViewer.Mark.Type.TextAnnotation&&bi!==PCCViewer.Mark.Type.TextRedaction&&bi!==PCCViewer.Mark.Type.TextInputSignature&&bi!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var Ad=adu(V.getPageNumber()-1);if(Ad){cQ.aF.wN(V.getPageNumber()-1,V.J);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fI===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Il= -1;var df;var au;var ax=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){df=sortableObject.getStartPoint();}else{au=(sortableObject.J)?sortableObject.J.get_boundingRectangle():sortableObject.getRectangle();df={x:au.x,y:au.y};}ax=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){df={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{df={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){ax= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{ax=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(ax<1||ax>this.getPageCount()|| !isFinite(ax)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(ax)){return-2;}var aR=this.bX.getPage(ax-1);var wX=aR.dj().XK();var hI=aR.dj().hJ();function alN(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function adD(cw,es){var aD=Math.max(Math.min(es.x,cw.x+cw.width),cw.x);var cF=Math.max(Math.min(es.y,cw.y+cw.height),cw.y);return(es.x-aD)*(es.x-aD)+(es.y-cF)*(es.y-cF);};var BU;var Nq=Number.MAX_VALUE;for(var K=0;K<wX.eQ();K++){var gB=wX.auH(K);if(alN(gB.fl(),df)){for(var bJ=gB.ajp();bJ<gB.amn();bJ++){var Sp=hI.ld(bJ);var sB=Sp.uD();if(alN(sB,df)){return bJ;}BU=adD(sB,df);if(BU<Nq){Il=bJ;Nq=BU;}}return Il;}BU=adD(gB.fl(),df);if(BU<Nq){if(gB.fl().y>df.y){Il=gB.ajp()-1;}else{Il=gB.amn();}Nq=BU;}}return Il;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.aw.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var T=this;if(this.fI===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var yR=name.toLowerCase();var aw=PCCViewer.MouseTools.getMouseTool(yR);if(!aw){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gl,gw;switch(aw.getType()){case PCCViewer.MouseTool.Type.Magnifier:gl=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gl=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gl=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gl=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gl=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gl=IPCC.Web.UI.MouseTool.CreateLineMark;gw=axB(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gl=IPCC.Web.UI.MouseTool.CreateRectangleMark;gw=aap(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gl=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gw=aDW(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gl=IPCC.Web.UI.MouseTool.CreateRectangleMark;gw=auU(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gl=IPCC.Web.UI.MouseTool.CreateEllipseMark;gw=aap(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gl=IPCC.Web.UI.MouseTool.CreateTextMark;gw=atY(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gl=IPCC.Web.UI.MouseTool.CreateTextMark;gw=TL(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gl=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gw=TL(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gl=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gw=TL(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gl=IPCC.Web.UI.MouseTool.CreateStampMark;gw=aud(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gl=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gw=Py(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gl=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gw=Py(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gl=IPCC.Web.UI.MouseTool.CreateFreehandMark;gw=aCA(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gl=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gw=Py(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var ase=this.ag.resourcePath+'/placeSignatureCursor.cur';this.aF.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aF.set_allowMarkEdits(false);this.aF.set_mouseCursor('url('+ase+'), pointer');this.aw=aw;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gl=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gw=afy(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gl=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gw=afy(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gl=IPCC.Web.UI.MouseTool.CreatePolylineMark;gw=ayD(aw.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gl=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gw=Py(aw.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var axD=this.aF.get_mouseTool();if(this.aw!==aw&&axD===gl){setTimeout(function(){T.bP.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:T.aw.getName()});},0);}this.aw=aw;if(gw){this.HX=gw.onCreating;this.iu=gw.onAdded;}else{this.HX=undefined;this.iu=undefined;}this.aF.set_mouseTool(gl);this.aF.set_allowMarkEdits((aw.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function aae(cQ,Xd,jX){if(cQ.vu!==true){var IW=function(){cQ.bP.off('PageCountReady',IW);aae(cQ,Xd,jX);};cQ.bP.on('PageCountReady',IW);return;}var aM=cQ;var vl;var hK={},tS={},qM=[];var gv=aM.eY;var ki;var ag;if(Xd){ag=Xd;}var adF=[];var UQ=aM.aW.get_pages();var auE=function(aR,done){var aIy=false;var ju=aR;var ax=aR.get_pageNumber();var ec=ju.get_pageWidth();var fa=ju.get_pageHeight();try{if(ju){var gx=aM.aF.gx(ju),Ci=0,Bu=0,fj="",aGb=false;var getArt=function getArt(){var Ni;if(ag&&ag.DV&&ag.DV[ax]){Ni=IPCC.G.extend({},ag);Ni.DV=ag.DV[ax];}else{Ni=ag;}var bJ,SX;var Jb=gx.aCc(ax,Ci,Bu,Ni);if(Jb.hK){hK[ax]=Jb.hK;}else{var avN=auv(ax,ki,Bu,Ci);hK[ax]=avN;}if(Jb.qM){for(bJ=0;bJ<Jb.qM.length;bJ++){SX=Jb.qM[bJ];tS[SX.bj.imageStampId]=SX;}}done();};if(gx){if(!ec|| !fa){if(gx.get_markCount()>0){aM.aF.Ma(aR,function(bz,cq){Ci=bz;if(Ci){ju.Pf(Ci);}Bu=cq;if(Bu){ju.Qb(Bu);}getArt();},function(mR){done(mR);});}else{getArt();}}else{Ci=ec;Bu=fa;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};UQ.forEach(function(aR,bo,iI){adF.push(function(done){auE(aR,done);});});var TX=function(bV,aR){var xj="";var K;if(!bV.gD){if(bV.toString()){return bV.toString();}else{return '<![CDATA[]]>';}}if((gv===1||aR===0||(aR>0&&bV.gD!=="documentAnnotations"&&bV.gD!=="pages"))&&bV.gD!=="highlights"){xj='<'+bV.gD;for(var Cx in bV.bj){if(bV.bj.hasOwnProperty(Cx)){var Rw=bV.bj[Cx];if(Rw===undefined||Rw===null){continue;}var bj=Rw.toString();bj=bj.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');xj=xj+' '+Cx+'="'+bj+'"';}}xj+='>';}for(K=0;K<bV.cj.length;K++){xj+=TX(bV.cj[K],aR);}if(gv===1||(aR===gv-1)||(aR!==gv-1&&bV.gD!=="documentAnnotations"&&bV.gD!=="pages"&&bV.gD!=="highlights")){if(bV.gD!=="highlights"){xj+='</'+bV.gD+'>';}else{xj+='<'+bV.gD+' />';}}return xj;};IPCC.G.YO(adF,function(dQ){if(dQ){jX(dQ);return;}vl='<?xml version="1.0"?>';for(var K=0;K<(aM.eY);K++){vl=vl+TX(hK[K],K);}var stampImageXml='';for(var Jr in tS){if(tS.hasOwnProperty(Jr)){stampImageXml+=TX(tS[Jr],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';vl=vl.replace('</documentAnnotations>',stampImagesXml);}jX(undefined,vl);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.ag.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var bg=PCCViewer.Deferred();var dF=bg.getPromise();var ag;if(options){ag=options;}else{ag={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bg.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dF;}if(!apS(recordName)){bg.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dF;}var aM=this;this.qQ.then(function(sP){var CO=recordName;aae(aM,ag,function(err,vl){if(err){bg.reject(new PCCViewer.Error("Error",err));return dF;}var Sg=IPCC.gG.uC(CO);var ae;if(!(/^[\x00-\x7F]*$/.test(aM.aW.get_documentIdentifier()))){ae=aM.ag.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aM.ag.documentID+'&AnnotationID=e'+Sg;}else{ae=aM.ag.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aM.ag.documentID)+'&AnnotationID=u'+encodeURIComponent(CO);}function dV(ad){bg.resolve(CO);setTimeout(function(){aM.bP.trigger('MarkupSaved',{name:CO});},0);};function dZ(av){bg.reject(new PCCViewer.Error("AjaxError","Status Code "+av.response.status+" "+av.response.statusText));};PCCViewer.Ajax.fh({method:'POST',url:ae,headers:{'Content-Type':'application/xml;charset=utf-8'},body:vl}).then(dV,dZ);});});}catch(e){bg.reject(new PCCViewer.Error("Error",e.message));}return dF;};var apS=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Zh=function(lq){var aD=lq.firstChild;while(aD.nodeType!==1){aD=aD.nextSibling;}return aD;};var auv=function(ct,ki,fa,ec){var hK={gD:'documentAnnotations',cj:[],bj:{}};var aaQ={gD:'pages',cj:[],bj:{}};hK.cj.push(aaQ);var mH={gD:'highlights',cj:[],bj:{}};var aR={gD:'page',cj:[],bj:{id:(ct+1).toString(),pageWidth:ec,pageHeight:fa}};hK.cj.push(mH);try{if(ki){var aD=ki.getElementsByTagName("documentAnnotations");if(aD.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Od;var Bi;if(document.documentMode<9){var Sn=ki.firstChild.nodeName;if(Sn.toLowerCase()==='xml'){Od=ki.firstChild.nextSibling;}else{Od=ki.firstChild;}}else{Od=ki.firstChild;}var db=Zh(Od);if(db.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(db.hasChildNodes()){var K;var lD=false;for(K=0;K<db.childNodes.length;K++){Bi=db.childNodes[K];if(Bi.nodeName!=='page'){continue;}var zJ=Bi.getAttribute('id');lD=false;if(zJ&&parseFloat(zJ)===ct+1){lD=true;for(var bJ=0;bJ<Bi.childNodes.length;bJ++){var ao=Bi.childNodes[bJ];var bO={gD:'annotation',cj:[],bj:{}};if(ao.nodeName!=='annotation'){continue;}var OB=Bi.childNodes[bJ].attributes;if(OB.length>0){for(var dp=0;dp<OB.length;dp++){bO.bj[OB[dp].name]=OB[dp].value;}}if(ao.childNodes[0].data){bO.cj.push('<![CDATA['+ao.childNodes[0].data+']]>');}else{bO.cj.push('');}aR.cj.push(bO);}break;}}}}aaQ.cj.push(aR);return hK;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var Ht=recordName;var bg=PCCViewer.Deferred(),dF=bg.getPromise(),aM=this;var ag=options||{};var yf=ag.retainExistingMarks;var hQ=ag.markupLayer;var va=ag.loadAsHidden;this.qQ.then(function(sP){var ae,Sg,aF=aM.aF,bX=aM.bX;if(typeof Ht!=="string"){bg.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(yf!==undefined){if(typeof yf!=='boolean'){bg.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(hQ!==undefined){if(!(hQ instanceof PCCViewer.MarkupLayer)){bg.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(aM.lW.getItem(hQ.getId())===undefined){bg.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function dV(ad){var ZX,Lk=ad.responseText,MD;if(Lk.indexOf('xml')=== -1){bg.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Lk=Lk.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.G.oi(p2)+p3;});if(window.DOMParser){MD=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){MD=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{MD=function(){return null;};}ZX=MD(Lk);var akr=ZX.getElementsByTagName('stampImage');var qM={};var Zc=function(aA){V.bL.push(ahT.getPoint(aA));};for(var K=0;K<akr.length;K++){var SO=akr[K];qM[SO.getAttribute('imageStampId')]={imageStampId:SO.getAttribute('imageStampId'),base64format:SO.getAttribute('base64format')};}aF.set_annotationXmlDom(ZX,qM,yf===true,va===true);if(yf!==true){aM.cu={};}var cO=aM.bX.get_length();var V;var bi,eJ;var wz={};var GF=[];for(K=0;K<cO;K++){var bf=aM.aF.gx(aM.bX.getPage(K));if(bf){var EB={};var bJ=0;for(bJ=0;bJ<bf.get_markCount();bJ++){var J=bf.getMark(bJ);if(aM.cu[J.get_markID()]!==undefined){continue;}eJ=J.get_type();switch(eJ){case IPCC.Web.UI.MarkType.Rectangle:if(J.iE()===true){if(J.get_opacity()===255){bi=PCCViewer.Mark.Type.RectangleRedaction;}else{bi=PCCViewer.Mark.Type.TransparentRectangleRedaction;}V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});}else{bi=PCCViewer.Mark.Type.RectangleAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.mB=J.get_lineWidth();V.eI=J.get_fillColor();V.oG=J.get_lineColor();V.de=J.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bi=PCCViewer.Mark.Type.EllipseAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.mB=J.get_lineWidth();V.eI=J.get_fillColor();V.oG=J.get_lineColor();V.de=J.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bi=PCCViewer.Mark.Type.LineAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.oI=J.get_lineWidth();V.dz=J.get_lineColor();V.de=J.get_opacity();if(J.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){V.oh="FilledTriangle";}else{V.oh="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(J.iE()===true){bi=PCCViewer.Mark.Type.StampRedaction;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});}else{bi=PCCViewer.Mark.Type.StampAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.dz=J.get_fillColor();}V.wj=J.get_text();break;case IPCC.Web.UI.MarkType.Text:if(J.iE()===true){bi=PCCViewer.Mark.Type.TextRedaction;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});}else{bi=PCCViewer.Mark.Type.TextAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.mB=J.get_lineWidth();V.eI=J.get_fillColor();V.oG=J.get_lineColor();V.de=J.get_opacity();}V.hw=J.get_maxLength();V.fP=J.get_fontName();V.gs=J.get_textColor();V.dg=J.get_fontSize();var dm=J.get_fontStyle();var sm=[];if((dm&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sm.push("Bold");}if((dm&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sm.push("Italic");}if((dm&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sm.push("Strikeout");}if((dm&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sm.push("Underline");}V.dm=sm;var nV;switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:nV="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:nV="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:nV="right";break;}V.lJ=nV;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bi=PCCViewer.Mark.Type.TextAreaSignature;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.mB=J.get_lineWidth();V.hw=J.get_maxLength();V.fP=J.get_fontName();V.gs=J.get_textColor();V.iL=J.get_maxFontSize();dm=J.get_fontStyle();sm=[];if((dm&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sm.push("Bold");}if((dm&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sm.push("Italic");}if((dm&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sm.push("Strikeout");}if((dm&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sm.push("Underline");}V.dm=sm;switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:nV="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:nV="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:nV="right";break;}V.lJ=nV;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bi=(eJ===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(eJ===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(eJ===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var XN=J.be;if(typeof wz[XN]==='undefined'){V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,bX:bX,aF:aF,uid:J.bj.kx});V.aQ=[];if(bi===PCCViewer.Mark.Type.HighlightAnnotation){V.eI=J.get_fillColor();}wz[XN]=V;J.aZ=K;J.kI=true;}else{J.aZ=K;wz[XN].aQ.push(J);}break;case IPCC.Web.UI.MarkType.Freehand:bi=PCCViewer.Mark.Type.FreehandAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.oI=J.get_lineWidth();V.dz=J.get_lineColor();V.de=J.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bi=PCCViewer.Mark.Type.FreehandSignature;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.oI=J.get_lineWidth();V.dz=J.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bi=PCCViewer.Mark.Type.TextSignature;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.fP=J.get_fontName();V.dz=J.get_fillColor();V.aq=J.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bi=PCCViewer.Mark.Type.TextInputSignature;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.fP=J.get_fontName();V.gs=J.get_textColor();V.aq=J.get_text();V.hw=J.get_maxLength();V.io=J.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!J.be){bi=PCCViewer.Mark.Type.RectangleRedaction;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,bX:bX,aF:aF,uid:J.bj.kx});V.mB=J.get_lineWidth();V.eI=J.get_fillColor();V.oG=J.get_lineColor();V.de=J.get_opacity();}else{if(EB[J.be]===undefined){EB[J.be]=[];}EB[J.be].push(J);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bi=(eJ===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.setImage({dataUrl:J.get_image(),id:J.nK});break;case IPCC.Web.UI.MarkType.Polyline:bi=PCCViewer.Mark.Type.PolylineAnnotation;V=new PCCViewer.Mark({type:bi,igMark:J,pageNumber:K+1,uid:J.bj.kx});V.oI=J.get_lineWidth();V.dz=J.get_lineColor();V.de=J.get_opacity();var ahT=J.get_points();V.bL=[];for(var ar=0;ar<ahT.get_length();ar++){Zc(ar);}break;default:V=undefined;continue;}if(typeof V!=='undefined'&&eJ!==IPCC.Web.UI.MarkType.HighlightText&& !(eJ===IPCC.Web.UI.MarkType.RectangleRedaction&&J.be!==undefined)&&eJ!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&eJ!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&eJ!==IPCC.Web.UI.MarkType.Strikethrough){aM.cu[J.get_markID()]=V;GF.push(V);}}for(var NZ in EB){if(EB.hasOwnProperty(NZ)&&wz[NZ]){var ED=wz[NZ];var acc=ED.J;if(ED.aQ&&ED.aQ.length>0){for(var Mw=0;Mw<ED.aQ.length;Mw++){if(ED.aQ[Mw].aZ===K){acc=ED.aQ[Mw];}}}var aC=EB[NZ];for(var Zj=0;Zj<aC.length;Zj++){acc.aC.push(aC[Zj]);}}}}}for(var nL in wz){if(wz.hasOwnProperty(nL)){var vU=wz[nL];aM.cu[vU.J.get_markID()]=vU;GF.push(vU);if(vU.aQ&&vU.aQ.length>0){vU.aQ[vU.aQ.length-1].kX=true;}else{vU.J.kX=true;}}}bg.resolve(Ht);if(hQ!==undefined){hQ.addMarks(GF);}else{aM.getActiveMarkupLayer().addMarks(GF);}aM.bP.trigger('MarkupLoaded',{name:Ht,loadedMarks:GF});};function dZ(av){bg.reject(new PCCViewer.Error("Error","Status Code "+av.response.status+" "+av.response.statusText));};Sg=IPCC.gG.uC(Ht);if(!(/^[\x00-\x7F]*$/.test(aM.aW.get_documentIdentifier()))){ae=aM.ag.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+aM.ag.documentID+'&AnnotationID=e'+Sg;}else{ae=aM.ag.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(aM.ag.documentID)+'&AnnotationID=u'+encodeURIComponent(Ht);}PCCViewer.Ajax.fh({method:'GET',url:ae,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(dV,dZ);});return dF;};function adR(context,message){var mh=document.createElement('div'),Cg=document.createElement('div'),nd=document.createElement('button'),WX=function(){mh.classList.add('open');},LK=function(){if(mh.parentNode!==null){mh.parentNode.removeChild(mh);}};nd.innerHTML='&#215;';nd.setAttribute('type','button');Cg.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';mh.className='pccPageListNagModal';mh.appendChild(nd);mh.appendChild(Cg);context.dG.appendChild(mh);WX();if(!nd.addEventListener){nd.attachEvent('onclick',LK);}else{nd.addEventListener('click',LK,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this;try{var K=0,FX=0;var CO='';var ae=this.ag.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.ag.documentID)+'&AnnotationID=u'+encodeURIComponent(CO);var dV=function(ad){var sD;if(typeof ad.responseText!=='unknown'&&ad.responseText.length>0){try{sD=JSON.parse(ad.responseText);}catch(e){}}var Sd=[],FX=0;for(var K=0,cf=sD.annotationFiles.length;K<cf;K++){if(sD.annotationFiles[K].annotationLabel){Sd[FX]={};Sd[FX].name=sD.annotationFiles[K].annotationLabel;FX++;}}bg.resolve(Sd);};var dZ=function(av){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(av&&av.response){var hW=av.response.status;var mZ;try{mZ=JSON.parse(av.response.responseText);}catch(e){}if(hW===480&&mZ&&mZ.errorCode==='LicenseCouldNotBeVerified'){adR(T,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(mZ.errorCode,"License error.");}}bg.reject(error);};PCCViewer.Ajax.fh({method:'GET',url:ae}).then(dV,dZ);}catch(e){bg.reject(new PCCViewer.Error("Error",e.message));}return dF;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.lW){this.lW=new PCCViewer.MarkupLayerCollection(this);}return this.lW;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bg=PCCViewer.Deferred(),dF=bg.getPromise(),ae,aFo=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aW.get_documentIdentifier()))){ae=this.ag.imageHandlerUrl+'/MarkupLayers/e'+this.ag.documentID+'/';}else{ae=this.ag.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.ag.documentID)+'/';}if(metadata){var aAw=aFo(metadata);ae+=aAw;}ae+='?nocache='+new Date().getTime();PCCViewer.Ajax.fh({url:ae,method:'GET'}).then(function dV(ad){var aCL=JSON.parse(ad.responseText);bg.resolve(aCL);},function dZ(av){bg.reject(av.error);});return dF;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.uI;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.lW.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.uI=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var WS,T=this;WS=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.Wv,options||{});function we(){setTimeout(function(){WS.EQ();},20);};function mF(){T.bP.off(PCCViewer.EventType.PageCountReady,mF);we();};if(this.mb===false){T.bP.on(PCCViewer.EventType.PageCountReady,mF);}else{we();}return WS;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var bg=PCCViewer.Deferred();var dF=bg.getPromise();var T=this;if(typeof id!=='string'|| !id){bg.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dF;}var fC=this.lW?this.lW.getItem(id):undefined;if(!fC){bg.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dF;}function aEB(qK){var Na=fC.getMarks();if(!Na.length){qK(undefined,[]);}else{T.serializeMarks(Na).then(function jy(bQ){qK(undefined,IPCC.G.map(bQ,function(V){if(V.conversation&&V.conversation.comments){delete V.conversation.comments;}return V;}));},function _f(fj){qK(fj);});}};function aDE(qK){var Na=fC.getMarks();var VG=function(ek,fX,kH){var Ui=IPCC.G.filter(fX,function(oC){return!oC.hQ||oC.hQ===fC;});IPCC.G.forEach(Ui,function(cA){var bD=ew.Comment(cA);bD.markUid=kH;ek.push(bD);});return ek;};var VC=IPCC.G.reduce(Na,function(ek,V){var cG=V.getConversation();var fX=cG.getComments();return fX.length?VG(ek,fX,V.getUid()):ek;},[]);qK(undefined,VC);};function aEm(qK){var asZ=IPCC.G.reduce(T.lW.getAll(),function(ek,ahG){return ek.concat(fC===ahG?[]:ahG.getMarks());},[]);var VG=function(ek,fX,kH){var Ui=IPCC.G.filter(fX,function(oC){return oC.hQ===fC;});IPCC.G.forEach(Ui,function(oC){var bD=ew.Comment(oC);bD.markUid=kH;ek.push(bD);});return ek;};var VC=IPCC.G.reduce(asZ,function(ek,V){var cG=V.getConversation();var fX=cG.getComments();return fX.length?VG(ek,fX,V.getUid()):ek;},[]);qK(undefined,VC);};var aeI=[],apE=function(qE){if(qE.markupLayer===fC){aeI.push({text:qE.text,data:qE.data,creationDateTime:qE.creationDateTime,markUid:qE.markUid});}};for(var afZ in this.lW.iw){if(this.lW.iw.hasOwnProperty(afZ)){IPCC.G.forEach(this.lW.iw[afZ],apE);}}var xJ={layerRecordId:fC.getRecordId(),name:fC.getName(),originalXmlName:fC.getOriginalXmlName(),comments:aeI,data:ew.Data(fC)};var xs;IPCC.G.YO([function(np){aEB(function(dQ,cd){if(dQ&& !xs){xs=dQ;}else{xJ.marks=cd;}np();});},function(np){aDE(function(dQ,cd){if(dQ&& !xs){xs=dQ;}else{xJ.comments=xJ.comments.concat(cd);}np();});},function(np){aEm(function(dQ,cd){if(dQ&& !xs){xs=dQ;}else{xJ.comments=xJ.comments.concat(cd);}np();});}],function(){if(!xs){aDx(xJ);}else{bg.reject(new PCCViewer.Error('SerializationError',xs.message));}});function aDx(aHh){var vK,gL={method:'POST',body:JSON.stringify(xJ),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(T.aW.get_documentIdentifier()))){vK=T.ag.imageHandlerUrl+'/MarkupLayers/e'+T.ag.documentID+'/';}else{vK=T.ag.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(T.ag.documentID)+'/';}if(fC.getRecordId()){gL.url=vK+fC.getRecordId();gL.headers['X-HTTP-Method-Override']='PUT';}else{gL.url=vK;}PCCViewer.Ajax.fh(gL).then(dV,dZ);};function dV(ad){if(ad.responseText&&typeof ad.responseText==='string'){var mZ;try{mZ=JSON.parse(ad.responseText);}catch(e){}if(mZ&&mZ.layerRecordId){fC.aah=mZ.layerRecordId;}}bg.resolve({layerRecordId:fC.getRecordId()});};function dZ(av){var error=new PCCViewer.Error("AjaxError",av.error.message||'An unknown server error occurred.');if(av&&av.response){var hW=av.response.status;var mZ;try{mZ=JSON.parse(av.response.responseText);}catch(e){}if(hW===480&&mZ&&mZ.errorCode==='LicenseCouldNotBeVerified'){adR(T,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(mZ.errorCode,'License error.');}}bg.reject(error);};return dF;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var jx={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var Gm;var acp;var Zn;var aID=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){Gm=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){Gm=burnOptions.marks;}jx={marks:Gm};}else{jx.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:jx.burnSignatures;jx.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:jx.burnRedactions;jx.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:jx.burnAnnotations;}if(typeof burnOptions.filename==='string'){jx.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var PH,Iz=true;for(PH=0;PH<burnOptions.removeFormFields.length;PH++){if(burnOptions.removeFormFields[PH]!=='acroform'){Iz=false;}}if(Iz){jx.removeFormFields=['acroform'];}else{jx.mR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{jx.mR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{jx.mR={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){jx.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{jx.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{jx.mR={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){jx.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{jx.mR={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var Av=new PCCViewer.BurnRequest(jx),T=this;if(Gm){var eV=[];for(var K=0,cf=this.getPageCount();K<cf;K++){eV[K]=[];}eV=IPCC.G.reduce(Gm,function(bQ,bC){var ax=bC.getPageNumber()-1;if(!(typeof bC==='object'&&bC instanceof PCCViewer.Mark&&bC.J)){Av.Um(new Error('The burnOptions.marks parameter is an invalid object.'));return bQ;}if(!T.getMarkById(bC.cI)){Av.Um(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bQ;}bQ[ax].push(bC.J);if(bC.J.aC){for(var K=0,cf=bC.J.aC.length;K<cf;K++){if(bC.J.aC[K]instanceof IPCC.Web.UI.Mark){bQ[ax].push(bC.J.aC[K]);}}}if(bC.aQ){for(var bJ=0,aDc=bC.aQ.length;bJ<aDc;bJ++){bQ[ax+1+bJ].push(bC.aQ[bJ]);if(bC.aQ[bJ].aC){for(var dp=0,aDk=bC.aQ[bJ].aC.length;dp<aDk;dp++){if(bC.aQ[bJ].aC[dp]instanceof IPCC.Web.UI.Mark){bQ[ax+1+bJ].push(bC.aQ[bJ].aC[dp]);}}}}}return bQ;},eV);Zn={DV:eV,ue:true};}else{Zn={includeAnnotations:jx.burnAnnotations,includeRedactions:jx.burnRedactions,includeSignatures:jx.burnSignatures,ue:true};}function adf(){aae(T,Zn,function(dQ,acp){if(dQ){setTimeout(function(){Av.Um(dQ);},20);}else{Av.NJ({aW:T.aW,ag:T.ag});Av.aoE(acp);setTimeout(function(){Av.EQ();},20);}});};function mF(){T.bP.off(PCCViewer.EventType.PageCountReady,mF);adf();};if(this.mb===false){T.bP.on(PCCViewer.EventType.PageCountReady,mF);}else{adf();}return Av;};SingleSessionViewerControl.prototype.convertDocument=function(zd){var uz,T=this,zB={targetExtension:'pdf',filename:'document'},ag={};sn.pL(ag,zB,zd);ag.Ab=1;uz=new PCCViewer.ConversionRequest(ag);function we(){uz.NJ({aW:T.aW,ag:T.ag});setTimeout(function(){uz.EQ(ag);},20);};function mF(){T.bP.off(PCCViewer.EventType.PageCountReady,mF);we();};if(this.mb===false){T.bP.on(PCCViewer.EventType.PageCountReady,mF);}else{we();}return uz;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(zd){var uz,T=this,zB={targetExtension:'pdf',filename:'document'},ag={};sn.pL(ag,zB,zd);ag.Ab=2;uz=new PCCViewer.ConversionRequest(ag);function we(){uz.NJ({aW:T.aW,ag:T.ag});setTimeout(function(){uz.EQ(ag);},20);};function mF(){T.bP.off(PCCViewer.EventType.PageCountReady,mF);we();};if(this.mb===false){T.bP.on(PCCViewer.EventType.PageCountReady,mF);}else{we();}return uz;};SingleSessionViewerControl.prototype.loadAttachments=function(){var bg=PCCViewer.Deferred();var dF=bg.getPromise();try{var K=0,FX=0;var CO='';var ae=this.ag.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.ag.documentID)+'/Attachments';var aBA=function(ad){var Ij=JSON.parse(ad.responseText);if(Ij===null||Ij.status!=='complete'){setTimeout(ahA,500);return;}bg.resolve(Ij.attachments||[]);};var dZ=function(av){bg.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var ahA=function(){PCCViewer.Ajax.fh({method:'GET',url:ae}).then(aBA,dZ);};ahA();}catch(e){bg.reject(new PCCViewer.Error("Error",e.message));}return dF;};function ra(){return function(sender,eventArgs){var T=this;var V=T.cu[eventArgs.mark.get_markID()];if(T.rM){T.uI.addMarks(V);}setTimeout(function(){if(V){T.bP.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function axB(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setThickness(ap.getThickness());V.setColor(ap.getColor());V.setOpacity(ap.getOpacity());V.setEndHeadType(ap.getEndHeadType());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function aap(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setBorderThickness(ap.getBorderThickness());V.setFillColor(ap.getFillColor());V.setBorderColor(ap.getBorderColor());V.setOpacity(ap.getOpacity());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function auU(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;},onAdded:ra()};};function aDW(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;if(V.ny){V.setReasons(ap.getReasons());}else{V.setReason(ap.getReason());}V.setBorderThickness(ap.getBorderThickness());V.setFillColor(ap.getFillColor());V.setBorderColor(ap.getBorderColor());V.setFontColor(ap.getFontColor());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function atY(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setBorderThickness(ap.getBorderThickness());V.setFillColor(ap.getFillColor());V.setBorderColor(ap.getBorderColor());V.setOpacity(ap.getOpacity());V.setFontName(ap.getFontName());V.setFontColor(ap.getFontColor());V.setFontSize(ap.getFontSize());V.setFontStyle(ap.getFontStyle());V.setHorizontalAlignment(ap.getHorizontalAlignment());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function TL(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setFontName(ap.getFontName());V.setFontColor(ap.getFontColor());V.setText(ap.getText());if(V.setFontSize){V.setFontSize(ap.getFontSize());}PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function aud(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;if(ap.getType()===PCCViewer.MouseTool.Type.StampAnnotation){V.setColor(ap.getColor());}V.setLabel(ap.getLabel());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};var aHG;function Py(ap){return{onCreating:function(bS,h){},onAdded:ra()};};function aCA(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setThickness(ap.getThickness());V.setColor(ap.getColor());V.setOpacity(ap.getOpacity());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function afy(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setImage(ap.getImage());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};function ayD(ap){return{onCreating:function(bS,h){var V=new PCCViewer.Mark({type:ap.getType(),igMark:h.mark,pageNumber:h.pageIndex+1,enableMultipleRedactionReasons:this.ag.enableMultipleRedactionReasons});this.cu[h.mark.get_markID()]=V;V.setThickness(ap.getThickness());V.setColor(ap.getColor());V.setOpacity(ap.getOpacity());PCCViewer.Data.nX(ap,V);PCCViewer.Conversation.qJ(ap.getConversation(),V.getConversation());},onAdded:ra()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var yz;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:yz=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:yz=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aF&&this.aF.set_markHandleMode){this.aF.set_markHandleMode(yz);}else{this.ag.markHandleMode=yz;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var yz;if(this.aF&&this.aF.get_markHandleMode){yz=this.aF.get_markHandleMode();}else{yz=this.ag.markHandleMode;}if(yz===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.lC=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.lC;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var Sr,aeE=(conversations===undefined);function abX(cG,bo){throw new Error(cG+((bo!==undefined)?' (Array index '+bo+')':'')+' is not a valid PCCViewer.Conversation object.');};function atx(cG,bo){throw new Error(cG+((bo!==undefined)?' (Array index '+bo+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Sr=[conversations];}else if(conversations instanceof Array){Sr=conversations;}else if(!aeE){abX(conversations);}var ahs=IPCC.G.map(this.getAllMarks(),function(bC){return bC.getConversation();});var aaR=IPCC.G.map(Sr||ahs,function(bC,K){if(!(bC instanceof PCCViewer.Conversation)){abX(bC,K);}if(!aeE&& !IPCC.G.inArray(ahs,bC)){atx(bC,K);}return bC.getMark().cI;});this.aF.refreshConversations(aaR);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.fI===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aF.openCommentsPanel();var T=this;setTimeout(function(){T.bP.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.fI===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aF.closeCommentsPanel();var T=this;setTimeout(function(){T.bP.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fI===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aF.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fI===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aF.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mT=conversation.getMark();if(mT){var xv=mT.J.get_conversation();this.aF.set_selectedConversation(xv);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.fI===false){return null;}var ig=this.aF.get_selectedConversation();if(ig){var mT=this.cu[ig.get_mark().get_markID()];if(mT){return mT.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var T=this,yh=T.aY;function aiR(aZ,iP,cO){var Vb=[aZ+1];var aR=T.bX.getPage(aZ),eR=aR.dj();if(eR.mw()){var aq=eR.Bo(),afP=aq.substr(iP);if(afP.length>cO){return Vb;}else{return Vb.concat(aiR(aZ+1,0,cO-afP.length));}}else{return Vb;}};this.aF.vw();function DS(Zq,ax){T.aff(ax,Zq);};if(yh&&yh.getResults().length){var db=aiR(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),fm=yh.getResults(),afB=false,OY={};if(fm.length){IPCC.G.forEach(fm,function(bC){var avE=IPCC.G.contains(db,bC.ax);if(avE){afB=true;OY[bC.ax]=OY[bC.ax]||[];OY[bC.ax].push(bC);}});}if(afB){IPCC.G.forEach(OY,function(Zq,ax){T.requestPageText(ax).then(DS.bind(null,Zq,ax));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fI===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var xL=function(n){return typeof n==='number'&& !isNaN(n);};var wL,aee=true;if(points&&points.constructor===Array){wL=points;}else{wL=[points];aee=false;}var ady=function(bw,bo,ak){throw new PCCViewer.Error('InvalidArgument',bw+' (Array index '+bo+') does not have a valid '+ak+' property');};if(wL.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.G.forEach(wL,function(bw,bo){if(!xL(bw.x)){ady(bw,bo,'x');}if(!xL(bw.y)){ady(bw,bo,'y');}});var CB=this.aF.avX(pageNumber,wL);if(CB===null){return null;}else if(aee){return CB;}else{return CB[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.fI===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var T=this;var aF=T.aF;var Wg=aF.Eu();if(!Wg){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Wg==='singleline'){aF.Hq();}else if(Wg==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return T;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var T=this;T.ami=amount;if(this.fI===false){this.qQ.then(function(sP){var aF=T.aF;aF.BH(amount);});}else{var aF=T.aF;aF.BH(amount);}return T;};SingleSessionViewerControl.prototype.getSharpening=function(){var T=this;if(this.fI===false){return T.ami;}else{var aF=T.aF;return aF.auj();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var T=this;T.aaH=amount;if(this.fI===false){this.qQ.then(function(sP){var aF=T.aF;aF.Fd(amount);});}else{var aF=T.aF;aF.Fd(amount);}return T;};SingleSessionViewerControl.prototype.getGamma=function(){var T=this;if(this.fI===false){return T.aaH;}else{var aF=T.aF;return aF.auB();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var T=this;T.lb=amount;if(this.fI===false){this.qQ.then(function(sP){T.aF.Cu(amount);});}else{T.aF.Cu(amount);}return T;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var T=this;if(this.fI===false){return T.lb;}else{var aF=T.aF;return aF.atI();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aY;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var HI=function(){},hW={alg:0,aAD:1,GY:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.G.uw(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var T=this;this.hW=hW.alg;this.ag=viewerControl.aO.ag;this._debug= ! !this.ag.debug;this.aGN="Single";this.Je=[];this.pA={};if(!this.cQ){this.cQ=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.ab=domElement;if(viewerControl.aO.mb){T.hW=hW.GY;T.Bf(viewerControl.getPageCount());T.SR(T.ab);}else{T.hW=hW.aAD;T.Bf(1,0);var Kj=function(){viewerControl.off('PageCountReady',Kj);T.Bf(viewerControl.getPageCount(),1);T.SR(T.ab);};viewerControl.on('PageCountReady',Kj);}viewerControl.on('PageRotated',function(as){IPCC.G.forEach(T.pA,function(bH){if(bH.aZ===(as.pageNumber-1)){if(bH.xZ===true){T.XM(bH);}}});});viewerControl.on('DocumentRotated',function(as){IPCC.G.forEach(T.pA,function(bH){if(bH.xZ===true){T.XM(bH);}});});viewerControl.on('ViewingSessionChanging',function(as){T.agy();T.WO([]);});viewerControl.on('ViewingSessionChanged',function(as){T.ag=viewerControl.aO.ag;if(viewerControl.aO.mb){T.Bf(viewerControl.getPageCount());}else{T.Bf(1,0);var Kj=function(){viewerControl.off('PageCountReady',Kj);T.Bf(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',Kj);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.cQ;};ThumbnailControl.prototype.Bf=function(eY,hk){hk=hk||0;var T=this,JM=document.createDocumentFragment();for(var i=hk;i<eY;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var fc=document.createElement('div');fc.className='pccThumbnail';var sA=document.createElement('div');sA.className='pccThumbnailView';sA.id='pcc-thumbnailPage-'+i+'-'+IPCC.yT();fc.appendChild(sA);_parent.appendChild(fc);JM.appendChild(_parent);T.pA[i]={Wi:_parent,da:fc,sA:sA,aZ:i,bq:{},xZ:false,jE:0,kK:0,gc:0};}IPCC.G.forEach(T.pA,function(bH){var Yv=document.createElement('div'),wj=document.createElement('span'),aDP=document.createTextNode(bH.aZ+1);Yv.className='pccThumbnailLabel';wj.appendChild(aDP);Yv.appendChild(wj);bH.da.appendChild(Yv);bH.da.onclick=function(){T.WO([bH.aZ+1]);};});T.ab.appendChild(JM);this.XG();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.hW){return[];}return[].concat(this.Je);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.hW){return this;}var eY=this.cQ.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.G.forEach(pageNumbers,function(fT,K){if(isNaN(fT)){throw new Error(fT+' (array index '+K+') is not a number');}if(fT<1||fT>eY){throw new Error(fT+' (array index '+K+') is out of range');}});this.WO([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var fT=Number(pageNumber);if(fT!==(fT|0)||fT<1||fT>this.cQ.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var lD=false,T=this,ag=options||{};IPCC.G.forEach(this.pA,function(bH){if(lD){return;}if(bH.aZ+1===fT){lD=true;T.Ut(bH,undefined,! !ag.forceAlignTop);}});return this;};ThumbnailControl.prototype.Ut=function(bH,mt,awD){mt=mt||IPCC.G.SB(this.ab.getBoundingClientRect());var wi=IPCC.G.SB(bH.Wi.getBoundingClientRect());if(wi.top>mt.top&&wi.bottom<mt.bottom){return;}var agw=window.getComputedStyle?getComputedStyle(bH.Wi):bH.Wi.currentStyle,hn;if(wi.top<mt.top||awD){hn=wi.top-mt.top+this.ab.scrollTop-parseInt(agw.marginTop,10);}else if(wi.bottom>mt.bottom){hn=wi.bottom-mt.top-mt.height+this.ab.scrollTop+parseInt(agw.marginBottom,10);}if(hn!==undefined){this.ab.scrollTop=hn;}return this;};ThumbnailControl.prototype.WO=function(kF){if(IPCC.G.awt(this.Je,kF)){return this;}var Xz='pcc-thumbnail-selected',Hx=new RegExp(Xz),aaN=false,adw=[].concat(kF),acJ=adw.shift(),aeL=false,mt=IPCC.G.SB(this.ab.getBoundingClientRect()),T=this;IPCC.G.forEach(this.pA,function(bH){if(bH.aZ===acJ-1){IPCC.G.aeX(bH.da,Xz);aaN=true;acJ=adw.shift()||0;if(!aeL){aeL=true;T.Ut(bH,mt);}return;}if(Hx.test(bH.da.className)){IPCC.G.aaS(bH.da,Xz);aaN=true;}});this.Je=kF;if(aaN){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Je)});}return this;};ThumbnailControl.prototype.auQ=function(){var ca=this.Pb(),T=this,yG;IPCC.G.forEach(ca,function(bH){if(!yG&&IPCC.G.inArray(T.Je,bH.aZ+1)){yG=bH;}});if(!yG){yG=ca[0];}return yG;};ThumbnailControl.prototype.reflow=function(){if(!this.hW){return this;}var BC,BP,ay,an,NK,Nz,gc,yG=this.auQ();IPCC.G.forEach(this.pA,function(bH){if(bH.xZ){bH.da.style.height=bH.sA.style.height='';bH.da.style.width=bH.sA.style.width='';}});IPCC.G.forEach(this.pA,function(bH){if(bH.xZ&&bH.bq.eP()){BC=bH.da.offsetWidth;BP=bH.da.offsetHeight;gc=bH.bq.asx();if(Math.abs(gc)===90||Math.abs(gc)===270){an=bH.bq.jP();ay=bH.bq.jq();}else{ay=bH.bq.jP();an=bH.bq.jq();}NK=ay/an;Nz=BC/BP;var jE,kK;if(NK<Nz){kK=BP;jE=Math.floor(kK*ay/an);}else{jE=BC;kK=Math.floor(jE*an/ay);}bH.jE=jE;bH.kK=kK;}});IPCC.G.forEach(this.pA,function(bH){if(bH.xZ&&bH.bq&&bH.bq.eP()){bH.sA.style.height=bH.kK+'px';bH.sA.style.width=bH.jE+'px';bH.bq.YU(IPCC.Web.UI.FitType.FullImage);bH.bq.cl();}});if(yG){this.Ut(yG);}this.XG();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.hW){return this;}this.hW=hW.alg;this.agy();this.on=this.off=this.trigger=HI;this.jf={};};ThumbnailControl.prototype.agy=function(){IPCC.G.forEach(this.pA,function(bH){if(bH.bq&&bH.bq.dispose){bH.bq.dispose();}});while(this.ab.firstChild){this.ab.removeChild(this.ab.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.hW){return[];}var ca=this.Pb();return IPCC.G.map(ca,function(bH){return bH.aZ+1;});};ThumbnailControl.prototype.Pb=function Pb(){var azs=this.ab.getBoundingClientRect(),wi;function Sz(mt,Sh){return(!(Sh.top>=mt.bottom||Sh.left>=mt.right||Sh.bottom<=mt.top||Sh.right<=mt.left));};return IPCC.G.filter(this.pA,function(bH){wi=bH.da.getBoundingClientRect();return Sz(azs,wi);});};ThumbnailControl.prototype.XG=function(){var T=this,ca=T.Pb();IPCC.G.forEach(ca,function(bH){if(!bH.xZ){bH.bq=T.ju(bH);bH.xZ=true;}});return this;};ThumbnailControl.prototype.SR=function SR(da){var NR={},T=this;function avh(bu,vS,qo){if(NR[bu]){clearTimeout(NR[bu]);NR[bu]=undefined;}NR[bu]=setTimeout(vS,qo||0);};IPCC.Web.UI.aE.addHandler(da,'scroll',function(ev){avh('scroll',function(){T.XG();},300);});};ThumbnailControl.prototype.ju=function(bH,np){var T=this;np=np||HI;var bI={documentIdentifier:T.ag.documentID,pageNumber:bH.aZ,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:T.ag.imageHandlerUrl,encryption:T.ag.encryption,handleTouchEvents:false};var bq=IPCC.initializePageViewPlugin(bH.sA,bI);bq.set_debug(T._debug);bq.set_mouseTool(IPCC.Web.UI.MouseTool.None);var xW=false;function Hc(){np();};bq.add_pageOpened(function(){T.XM(bH);});bq.add_pageDisplayed(function(){if(!xW){Hc();}});bq.add_textPageReady(function(){if(xW){bq.cl();Hc();}});bq.add_pageOpenFailed(function(){});bq.add_textExtractionFailed(function(){});var aO=T.cQ.aO;bI.artPage=aO.aF.gx(aO.bX.getPage(bH.aZ));bI.artPage.Fe(function(V){if(V.get_type()===608){xW=true;}});bq.aER(bI);bq.set_mouseTool(IPCC.Web.UI.MouseTool.None);return bq;};ThumbnailControl.prototype.XM=function(bH){var T=this;var aO=T.cQ.aO;var BK=aO.aF.WU(bH.aZ);var gc=bH.gc;var aeq=gc;if(BK!==bH.gc){aeq=BK-gc;}var bq=bH.bq,jc=bH.sA,an,ay;if(!bH.xZ|| !bq.eP()){return;}jc.style.height='';jc.style.width='';if(Math.abs(BK)===90||Math.abs(BK)===270){an=bq.jP();ay=bq.jq();}else{an=bq.jq();ay=bq.jP();}var BC=jc.offsetWidth,BP=jc.offsetHeight;if(bH.gc!==BK){bq.rotate(aeq);bH.gc=BK;}var NK=ay/an,Nz=BC/BP;var jE,kK;if(NK<Nz){kK=BP;jE=Math.floor(kK*ay/an);}else{jE=BC;kK=Math.floor(jE*an/ay);}jc.style.height=kK+'px';jc.style.width=jE+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function afi(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function aBH(axU){var af=[];var akU=function(n){return!(isNaN(+n));};var aiV=axU.split(',');var LP,abl;var KQ=0;var xl=0;for(var K=0;K<aiV.length;K++){var Hf=aiV[K].split('-');var BG=Hf[0].replace(/\s+/g,'');if(BG.length===0){continue;}var Ig=BG;if(Hf[1]!==undefined&&Hf[1]!==""){Ig=Hf[1].replace(/\s+/g,'');}BG= +(BG);Ig= +(Ig);if(akU(BG)===true){KQ=parseInt(BG);}if(akU(Ig)===true){xl=parseInt(Ig);}if(KQ<xl){LP=KQ;abl=xl;}else{LP=xl;abl=KQ;}if(Hf.length>1){for(var aA=LP;aA<=abl;aA++){af.push(aA);}}else{af.push(LP);}}af.sort(function(a,b){return a-b;});for(K=af.length-1;K>0;K--){if(af[K-1]===af[K]){af.splice(K,1);}}return af;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gO;if(!(selections instanceof Array)){gO=[selections];}else{gO=selections;}IPCC.G.forEach(gO,function(di){IPCC.aL.nj(di.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aL.nj(di.length,'selection.length',1,Number.MAX_VALUE);IPCC.aL.dz(di.color,'selection.color');IPCC.aL.nj(di.opacity,'selection.opacity',0,255);});IPCC.aL.dz(backgroundColor,'backgroundColor');var aqu=IPCC.G.ani(gO);return IPCC.G.map(aqu,function(bC){bC.length=bC.endIndex-bC.startIndex+1;return bC;});},layerColors:function(colors,backgroundColor){var Mb;if(!(colors instanceof Array)){Mb=[colors];}else{Mb=colors;}IPCC.G.forEach(Mb,function(di){IPCC.aL.dz(di.color,'selection.color');IPCC.aL.nj(di.opacity,'selection.opacity',0,255);});IPCC.aL.dz(backgroundColor,'backgroundColor');return IPCC.G.agq(Mb,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw afi('Illegal page range value',pageRange);}var db=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){db.unshift(upperLimit--);}}else{db=aBH(pageRange);if((db.length===0&& !allowEmpty)||db[0]<lowerLimit||db[db.length-1]>upperLimit){throw afi('Pages are out of range',db.join(', '));}}return db;}};module.exports=Util;},{}],169:[function(require,module,exports){var DC={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=DC;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var ajW=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.Cq=IPCC.G.extend({},options);this.aO=new ajW(element,this,options);this.Mi={};return this;};ViewerControl.prototype.getPageCount=function(){return this.aO.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.aO.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.aO.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.aO.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.aO.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.aO.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.aO.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.aO.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.aO.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.aO.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.aO.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.aO.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.aO.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.aO.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.aO.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.aO.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.aO.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.aO.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.aO.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.aO.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.aO.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.aO.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.aO.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.aO.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.aO.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.aO.getPageRotation(pageNumber);}else{return this.aO.getPageRotation();}};ViewerControl.prototype.search=function(dO){return this.aO.search(dO);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.aO.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.aO.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.aO.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.aO.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(dO){return this.aO.validateSearch(dO);};ViewerControl.prototype.requestRevisions=function(){return this.aO.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.aO.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.aO.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.aO.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.aO.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.aO.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.aO.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.aO.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.aO.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.aO.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.aO.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.aO.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.aO.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.aO.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.aO.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.aO.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.aO.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.aO.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.aO.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.aO.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.aO){this.aO.destroy();}this.aO=null;this.qd=true;};ViewerControl.prototype.getMarkById=function(markId){return this.aO.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.aO.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.aO.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.aO.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.aO.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.aO.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.aO.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.aO.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.aO.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.aO.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.aO.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.aO.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.aO.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.aO.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.aO.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.aO.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.aO.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.aO.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(V){this.aO.enterTextMarkEditingMode(V);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.aO.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.aO.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.aO.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.aO.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.aO.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.aO.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.aO.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.aO.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.aO.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.aO.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.aO.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.aO.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.aO.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(zd){return this.aO.convertDocument(zd);};ViewerControl.prototype.requestDocumentConversion=function(zd){return this.aO.requestDocumentConversion(zd);};ViewerControl.prototype.loadAttachments=function(){return this.aO.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.aO.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.aO.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.aO.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.aO.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.aO.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.aO.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.aO.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.aO.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.aO.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.aO.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.aO.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.aO.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.aO.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.aO.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.aO.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.aO.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.aO.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.aO.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.aO.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var T=this;var Iu=T.aO;var dG=Iu.eS;var acL=T.Cq.documentID;if(T.Zl){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(T.aO.fI===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(acL===viewingSessionId){return T;}T.Zl=true;T.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){T.Mi[acL]={control:Iu,options:T.Cq};Iu.aqB();Iu.ayr();}else{Iu.destroy();}if(T.Mi[viewingSessionId]){var aha=T.Mi[viewingSessionId];T.Cq=aha.options;T.aO=aha.control;T.aO.aCE();T.aO.azR();T.Zl=false;T.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(T.aO.vu){T.trigger("PageCountReady",{pageCount:T.aO.eY});}delete T.Mi[viewingSessionId];}else{T.Cq=IPCC.G.extend({},T.Cq);T.Cq.documentID=viewingSessionId;T.aO=null;T.aO=new ajW(dG,T,T.Cq);T.aO.aEA(function(){T.Zl=false;T.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return T;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.aO.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.aO.getPageNumber();},set:function(value){return this.aO.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aO.aY;}},"selectedSearchResult":{enumerable:true,get:function(){return this.aO.getSelectedSearchResult();},set:function(val){return this.aO.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.aO.getCurrentMouseTool();},set:function(value){return this.aO.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.aO.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.aO.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.aO.getScaleFactor();},set:function(value){return this.aO.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.aO.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.aO.getViewMode();},set:function(value){return this.aO.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.aO.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.aO.getSelectedConversation();},set:function(conversation){return this.aO.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.aO.getRedactionViewMode();},set:function(value){return this.aO.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.aO.getMarkHandleMode();},set:function(value){return this.aO.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),um:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aDC:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),sn:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,XJ:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,Mg:require('./PCCViewer.ClientSearch'),Ia:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),Ih:require('./PCCViewer.RevisionsRequest').Ih,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(xa){this.jf={};this.dO={};this.fm=[];this.ty=false;this.eF=null;this.cr=null;this.Vr=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !xa,enumerable:true,get:function(){return this.dO;}},"results":{configurable: ! !xa,enumerable:true,get:function(){return this.fm;}},"isComplete":{configurable: ! !xa,enumerable:true,get:function(){return this.ty;}},"errorCode":{configurable: ! !xa,enumerable:true,get:function(){return this.eF;}},"errorMessage":{configurable: ! !xa,enumerable:true,get:function(){return this.cr;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.dO;};SearchRequest.prototype.getResults=function(){return this.fm;};SearchRequest.prototype.getIsComplete=function(){return this.ty;};SearchRequest.prototype.getErrorCode=function(){return this.eF;};SearchRequest.prototype.getErrorMessage=function(){return this.cr;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Vr;};SearchRequest.prototype.cancel=function(){this.sc=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.cI=0;this.ax=0;this.aX=0;this.aq='';this.sh='';this.ri=0;this.cK='';this.xH=0;this.ai='';this.IZ='';this.na=null;};SearchResult.prototype.getId=function(){return this.cI;};SearchResult.prototype.getPageNumber=function(){return this.ax;};SearchResult.prototype.getText=function(){return this.aq;};SearchResult.prototype.getHighlightColor=function(){return this.sh;};SearchResult.prototype.getStartIndexInPage=function(){return this.ri;};SearchResult.prototype.getContext=function(){return this.cK;};SearchResult.prototype.getStartIndexInContext=function(){return this.xH;};SearchResult.prototype.getSearchTerm=function(){return this.ai;};SearchResult.prototype.getBoundingRectangle=function(){return this.na;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.ax;}},"id":{enumerable:true,get:function(){return this.cI;}},"text":{enumerable:true,get:function(){return this.aq;}},"highlightColor":{enumerable:true,get:function(){return this.sh;}},"startIndexInPage":{enumerable:true,get:function(){return this.ri;}},"context":{enumerable:true,get:function(){return this.cK;}},"startIndexInContext":{enumerable:true,get:function(){return this.xH;}},"searchTerm":{enumerable:true,get:function(){return this.ai;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.cI=0;this.aX=0;this.aq='';this.sh='';this.ri=0;this.cK='';this.xH=0;this.ai='';};SearchTaskResult.prototype.getId=function(){return this.cI;};SearchTaskResult.prototype.getText=function(){return this.aq;};SearchTaskResult.prototype.getHighlightColor=function(){return this.sh;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.ri;};SearchTaskResult.prototype.getContext=function(){return this.cK;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.xH;};SearchTaskResult.prototype.getSearchTerm=function(){return this.ai;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cI;}},"text":{enumerable:true,get:function(){return this.aq;}},"highlightColor":{enumerable:true,get:function(){return this.sh;}},"startIndexInInput":{enumerable:true,get:function(){return this.ri;}},"context":{enumerable:true,get:function(){return this.cK;}},"startIndexInContext":{enumerable:true,get:function(){return this.xH;}},"searchTerm":{enumerable:true,get:function(){return this.ai;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 