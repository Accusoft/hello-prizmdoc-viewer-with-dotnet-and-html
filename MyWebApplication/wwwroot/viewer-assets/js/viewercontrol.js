// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.17.2
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pcc-load,\n.pccPageListLoading,\n.pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccPageListLoading svg,\n.pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccPageListLoading,\n.pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var lJ=function(){this.bM=false;this.L=false;this.aU=IPCC.ai.AddFreehandMark;};lJ.prototype.mC=function(L){this.L=L;};lJ.prototype.fF=function(){this.L=false;};lJ.prototype.bE=function(){if(this.bM){this.C=null;this.oT=null;this.L.oy(null);this.bM=false;this.L.cG();}};lJ.prototype.sx=function(){this.bE();};lJ.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){this.bM=true;this.C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.C.get_points().addPoint(R.imagePoint);this.oT=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.L.oy(this.C,this.oT);this.C.set_lineWidth(this.oT.fz);this.C.set_lineColor(this.oT.kv);this.C.set_opacity(this.oT.cQ);this.tc=R.imagePoint;this.nu=R.windowPoint;this.L.cG();}};lJ.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){this.C.get_points().addPoint(R.imagePoint);this.L.cG();}};lJ.prototype.Bu=function(R){if(this.bM){this.bE();}};lJ.prototype.kk=function(R){if(this.bM&&R.domEvent.button===0){this.C.get_points().addPoint(R.imagePoint);var amX=this.C.get_points();var bn=[];var jq=Number.MAX_VALUE,jb=0,_top=Number.MAX_VALUE,kg=0;var T=0;for(T=0;T<amX.get_length();T++){var uk=amX.getPoint(T);if(uk.x<jq){jq=uk.x;}if(uk.x>jb){jb=uk.x;}if(uk.y<_top){_top=uk.y;}if(uk.y>kg){kg=uk.y;}bn.push({x:uk.x,y:uk.y});}var xZ=3;var sg;var qO=(bn.length<xZ)?bn:IPCC.K.filter(bn,function(bo){if(sg){var bw=bo.x-sg.x,dc=bo.y-sg.y,ff=bw*bw+dc*dc;if(Math.sqrt(ff)<4){return false;}}bo.x=bo.x-jq;bo.y=bo.y-_top;sg=bo;return true;});if(qO.length<xZ){qO=[bn[0],bn[bn.length-1]];}var bY='';sg=undefined;if(qO.length<xZ){bY+=this.QE(qO);}else{bY='M'+IPCC.K.bspline(qO);bY=bY.replace(/\d*\.?\d*/g,function(bd){var Fd=bd.indexOf('.');if(bd.length&&Fd>0){return bd.substr(0,Fd+3);}else if(bd!==""){return bd;}else{return bd;}});}var ab=jb-jq;var aT=kg-_top;if(aT===0&&ab===0){this.bE();return;}var rg={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.oT.set_rectangle({x:jq,y:_top,width:ab,height:aT});this.oT.set_pathString(bY);this.oT.set_pathWidth(ab);this.oT.set_pathHeight(aT);this.L.oy(null);this.L.eU().addMark(this.oT,rg);this.L.cG();}this.bE();};lJ.prototype.QE=function(yA,Hk){var Uj=(Hk&&IPCC.K.BS)?'m':'M';var Yn=(Hk&&IPCC.K.BS)?'l':'L';return IPCC.K.map(yA,function(bo,T){if(T===0){return Uj+bo.x+','+bo.y;}else{return Yn+bo.x+','+bo.y;}}).join('');};lJ.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};lJ.prototype.nk=function(){this.bE();};module.exports=lJ;},{}],13:[function(require,module,exports){var mb=function(){this.bM=false;this.L=false;this.aU=IPCC.ai.AddLineMark;};mb.prototype.mC=function(L){this.L=L;};mb.prototype.fF=function(){this.L=false;};mb.prototype.bE=function(){if(this.bM){this.C=null;this.L.oy(null);this.bM=false;this.L.cG();}};mb.prototype.sx=function(){this.bE();};mb.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){this.bM=true;this.C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.C.get_points().setPoint(0,R.imagePoint);this.C.get_points().setPoint(1,R.imagePoint);this.L.oy(this.C);this.tc=R.imagePoint;this.nu=R.windowPoint;}};mb.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){this.C.get_points().setPoint(1,R.imagePoint);this.L.cG();}};mb.prototype.kk=function(R){if(this.bM&&R.domEvent.button===0){var dU=R.windowPoint.x-this.nu.x;var hG=dU*dU;dU=R.windowPoint.y-this.nu.y;hG+=dU*dU;if(hG>25){var L=this.L;var rg={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.C.get_points().setPoint(1,R.imagePoint);this.L.oy(null);this.L.eU().addMark(this.C,rg);L.cG();}}this.bE();};mb.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};mb.prototype.nk=function(){this.bE();};module.exports=mb;},{}],14:[function(require,module,exports){var kL=function(bK){this.bM=false;this.L=false;this.bK=bK;switch(this.bK){case IPCC.Web.UI.MarkType.Polygon:this.aU=IPCC.ai.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aU=IPCC.ai.AddPolylineMark;this.SG=false;break;}};kL.prototype.mC=function(L){this.L=L;};kL.prototype.fF=function(){this.L=false;};kL.prototype.bE=function(){if(this.bM){if(arguments[0]){if(arguments[0]===true){if(this.C&&this.SG===false){this.L.eU().addMark(this.C);this.SG=true;this.L.cG();}}}this.C=null;this.L.oy(null);this.bM=false;this.L.cG();}};kL.prototype.sx=function(){this.bE();};kL.prototype.ko=function(R){if(R.domEvent.button===0){if(!this.bM){this.bM=true;this.C=new IPCC.Web.UI.Mark(this.bK);this.C.get_points().addPoint(R.imagePoint);this.L.oy(this.C);}var bn=this.C.get_points();if(bn.get_length()>0){bn.setPoint(bn.get_length()-1,R.imagePoint);}bn.addPoint(R.imagePoint);this.tc=R.imagePoint;this.nu=R.windowPoint;this.L.cG();}else{this.bE();}};kL.prototype.Bu=function(R){if(this.bM&&R.domEvent.button===0){var bn=this.C.get_points(),di=bn.get_length(),Sc,TG;if(di>2){var aby=true;while(aby){di=bn.get_length();Sc=bn.getPoint(di-1);TG=bn.getPoint(di-2);if(Sc.x===TG.x&&Sc.y===TG.y){bn.removePoint(di-1);}else{aby=false;}}}if(bn.get_length()>0){bn.setPoint(bn.get_length()-1,R.imagePoint);}this.L.oy(null);var rg={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.L.eU().addMark(this.C,rg);this.SG=true;this.L.cG();}this.bE();};kL.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){var bn=this.C.get_points();if(bn.get_length()>0){bn.setPoint(bn.get_length()-1,R.imagePoint);}this.L.cG();}};kL.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};kL.prototype.nk=function(){this.bE();};module.exports=kL;},{}],15:[function(require,module,exports){var ej=function(bK){this.bM=false;this.L=false;this.bK=bK;switch(this.bK){case IPCC.Web.UI.MarkType.Rectangle:this.aU=IPCC.ai.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aU=IPCC.ai.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aU=IPCC.ai.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aU=IPCC.ai.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aU=IPCC.ai.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aU=IPCC.ai.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aU=IPCC.ai.AddRectangleMark;break;}};ej.prototype.mC=function(L){this.L=L;};ej.prototype.fF=function(){this.L=false;};ej.prototype.bE=function(){if(this.bM){this.C=null;this.L.oy(null);this.bM=false;this.L.cG();}};ej.prototype.sx=function(){this.bE();};ej.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){this.bM=true;this.C=new IPCC.Web.UI.Mark(this.bK);this.C.set_rectangle({x:R.imagePoint.x,y:R.imagePoint.y,width:0,height:0});this.L.oy(this.C);this.tc=R.imagePoint;this.nu=R.windowPoint;}};ej.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){var ma={x:Math.min(R.imagePoint.x,this.tc.x),y:Math.min(R.imagePoint.y,this.tc.y)};ma.width=Math.max(R.imagePoint.x,this.tc.x)-ma.x;ma.height=Math.max(R.imagePoint.y,this.tc.y)-ma.y;this.C.set_rectangle(ma);this.L.cG();}};ej.prototype.kk=function(R){if(this.bM&&R.domEvent.button===0){var dU=R.windowPoint.x-this.nu.x;var hG=dU*dU;dU=R.windowPoint.y-this.nu.y;hG+=dU*dU;if(hG>25){var ma={x:Math.min(R.imagePoint.x,this.tc.x),y:Math.min(R.imagePoint.y,this.tc.y)};ma.width=Math.max(R.imagePoint.x,this.tc.x)-ma.x;ma.height=Math.max(R.imagePoint.y,this.tc.y)-ma.y;this.L.oy(null);this.C.set_rectangle(ma);var ao=this.C;var L=this.L;var rg={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.L.eU().addMark(this.C,rg);if(ao.jg()===IPCC.Web.UI.MarkType.Text||ao.jg()===IPCC.Web.UI.MarkType.TextLine||ao.jg()===IPCC.Web.UI.MarkType.TextAreaSignature){L.vQ(ao);}L.cG();}}this.bE();};ej.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};ej.prototype.nk=function(){this.bE();};module.exports=ej;},{}],16:[function(require,module,exports){var cR={};var apn=require('./ArtUIDirector');var Qo=require('./ArtSVGUIDirector');cR.wQ={Jz:function(){var vt=IPCC.cR.wQ;if(vt.ub===null){
/*@cc_on@if(@_jscript)vt.ub=document.documentMode>8;@else@*/ vt.ub=true;/*@end@*/}return vt.ub;},ub:null};cR.BY=1;cR.cr=apn;cR.Qo=Qo;module.exports=cR;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var alV=function(){};alV.prototype={aqB:function(L,bG,bq){this.L=L;this.aj=L.ae();this.bG=bG;this.fJ=bq.width;this.fL=bq.height;this.GC=bq.gC;this.aHx=bq.gn;bG.EU=this.cI('g');this.dF(bG.EU,{'fill-opacity':1});bG.AP.appendChild(bG.EU);},aqt:function(J){var iv='',G,F=this;switch(J.C.get_type()){case IPCC.Web.UI.MarkType.Rectangle:J.bQ=this.cI('rect');if(J.C.iI()&&J.C.get_opacity()===255){J.bQ.addEventListener("mouseover",function(R){if(J.C.get_selected()===false&&J.bQ&&(R.which===0||R.buttons===0)){J.bQ.style.opacity=127/255;}},false);J.bQ.addEventListener("mouseout",function(R){if(J.bQ&&(R.which===0||R.buttons===0)){J.bQ.style.opacity=J.C.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iv="highlighttextannotation-"+J.C.mv();J.bQ=this.cI('g');J.jD=this.cI('g');J.bQ.appendChild(J.jD);J.lm=this.cI('g');J.lm.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.lm);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iv="texthyperlinkannotation-"+J.C.mv();J.bQ=this.cI('g');J.bQ.style.cursor=IPCC.ai.eF(IPCC.ai.Link);J.jD=this.cI('g');J.bQ.appendChild(J.jD);J.lm=this.cI('g');J.lm.style.opacity=IPCC.cR.cr.afQ();J.lm.style.fill="blue";J.lm.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.lm);J.kS=this.cI('g');J.kS.style.stroke="blue";J.kS.style.opacity=IPCC.cR.cr.FU(false);J.kS.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.kS);J.bQ.addEventListener("mouseover",function(R){if(J.kS){J.kS.style.opacity=IPCC.cR.cr.FU(true,J.C.get_selected());}},false);J.bQ.addEventListener("mouseout",function(R){if(J.kS){J.kS.style.opacity=IPCC.cR.cr.FU(false,J.C.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iv="documenthyperlink-"+J.C.mv();J.bQ=this.cI('g');J.bQ.style.cursor=IPCC.ai.eF(IPCC.ai.Link);J.G=this.cI('rect');J.G.style['fill-opacity']=IPCC.cR.cr.afQ();if(J.C.Mx!=='Underline'){J.G.style.stroke=J.C.kv;J.G.style['stroke-width']=J.C.fz+'px';J.G.style['stroke-opacity']=(J.C.fz===0)?0:J.C.qh/255;if(J.C.Mx==='Dashed'){J.G.style['stroke-dasharray']=J.C.zx.join(', ');}J.G.setAttribute('rx',J.C.FS);J.G.setAttribute('ry',J.C.IU);}else{J.uz=this.cI('line');J.uz.style.stroke=J.C.kv;J.uz.style['stroke-opacity']=J.C.qh/255;J.uz.style['stroke-width']=J.C.fz+'px';J.bQ.appendChild(J.uz);}J.G.style.fill='transparent';J.G.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.G);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iv="textmark-"+J.C.mv();J.bQ=this.cI('g');J.eS=this.cI('rect');J.gw=this.cI('g');J.gw.setAttribute('data-pcc-mark',iv);if(IPCC.K.wo.azP){J.gw.style.cursor='pointer';}J.zm=document.createTextNode('');if(document.documentMode>8||IPCC.K.wo.zS){J.cP=this.cI('text');J.cP.setAttribute('data-pcc-mark',iv);J.cP.appendChild(J.zm);J.xn=this.cI('clipPath');J.Ep=this.cI('rect');J.gw.appendChild(J.xn);J.xn.appendChild(J.Ep);J.gw.appendChild(J.cP);J.IL="PCC"+IPCC.cR.BY;IPCC.cR.BY++;this.dF(J.xn,{id:J.IL,clipPathUnits:"userSpaceOnUse"});G=J.C.get_rectangle();this.dF(J.Ep,{x:0,y:0,width:G.width,height:G.height,"data-pcc-mark":iv});var adu=function(R){if(J.C.get_selected()===false&&J.eS&&(R.which===0||R.buttons===0)){if(F.L.lP()===false){J.bQ.style.opacity=0.2;J.cP.style.opacity=0;}}};J.bQ.addEventListener("mouseover",function(R){adu(R);},false);J.gw.addEventListener("mouseover",function(R){adu(R);},false);J.gw.addEventListener("mouseout",function(R){if(J.eS&&(R.which===0||R.buttons===0)){if(F.L.lP()===false){J.bQ.style.opacity=1;J.cP.style.opacity=1;}}},false);J.bQ.addEventListener("mouseout",function(R){if(J.eS&&(R.which===0||R.buttons===0)){if(F.L.lP()===false){J.bQ.style.opacity=1;J.cP.style.opacity=1;}}},false);}else{J.oM=document.createElement('div');this.dF(J.oM,{"data-pcc-mark":iv});J.oM.appendChild(J.zm);J.Rx=document.createElement('div');this.dF(J.Rx,{"data-pcc-mark":iv});J.Rx.appendChild(J.oM);J.wn=document.createElement('body');this.dF(J.wn,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iv});J.wn.appendChild(J.Rx);J.CL=this.cI('foreignObject');J.CL.appendChild(J.wn);J.gw.appendChild(J.CL);J.wn.addEventListener("mouseover",function(R){if(J.C.get_selected()===false&&J.eS&&(R.which===0||R.buttons===0)){J.eS.style.opacity=0.2;J.oM.style.opacity=0;}},false);J.wn.addEventListener("mouseout",function(R){if(J.eS&&(R.which===0||R.buttons===0)){if(F.L.lP()===false){J.eS.style.opacity=1;J.oM.style.opacity=1;}}},false);}J.bQ.appendChild(J.eS);break;case IPCC.Web.UI.MarkType.Ellipse:J.bQ=this.cI('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:J.bQ=this.cI('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:J.bQ=this.cI('g');J.jD=J.bQ;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:J.bQ=this.cI('g');J.sq=this.cI('polyline');J.Wt=this.cI('path');J.Ze=this.cI('path');J.bQ.appendChild(J.sq);J.bQ.appendChild(J.Wt);J.bQ.appendChild(J.Ze);J.sq.setAttribute('stroke-linejoin','miter');J.sq.setAttribute('stroke-linecap','butt');J.sq.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:J.bQ=this.cI('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iv="textmark-"+J.C.mv();J.bQ=this.cI('g');J.Ie=this.cI('polygon');J.sq=this.cI('path');J.ZI=this.cI('path');J.gw=this.cI('g');J.bQ.appendChild(J.Ie);J.bQ.appendChild(J.sq);J.bQ.appendChild(J.ZI);this.dF(J.Ie,{style:'stroke:none;'});J.gw.setAttribute('data-pcc-mark',iv);J.zm=document.createTextNode('');if(document.documentMode>8||IPCC.K.wo.zS){J.cP=this.cI('text');J.cP.setAttribute('data-pcc-mark',iv);J.cP.appendChild(J.zm);J.xn=this.cI('clipPath');J.Ep=this.cI('rect');J.gw.appendChild(J.xn);J.xn.appendChild(J.Ep);J.alx=this.cI('g');J.gw.appendChild(J.alx);J.gw.appendChild(J.cP);J.IL="PCC"+IPCC.cR.BY;IPCC.cR.BY++;this.dF(J.xn,{id:J.IL,clipPathUnits:"userSpaceOnUse"});G=J.C.get_rectangle();this.dF(J.Ep,{x:0,y:0,width:G.width,height:G.height,"data-pcc-mark":iv});}else{J.oM=document.createElement('div');J.oM.appendChild(J.zm);J.wn=document.createElement('body');this.dF(J.wn,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iv});J.wn.appendChild(J.oM);J.CL=this.cI('foreignObject');J.CL.appendChild(J.wn);J.gw.appendChild(J.CL);}J.Ie.setAttribute('data-pcc-mark',iv);break;case IPCC.Web.UI.MarkType.Stamp:J.bQ=this.cI('g');J.vb=this.cI('rect');J.vb.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.eS=this.cI('rect');J.Gs=this.XB(J);J.bQ.appendChild(J.vb);J.bQ.appendChild(J.eS);J.bQ.appendChild(J.Gs);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:J.bQ=this.cI('g');J.vb=this.cI('rect');J.vb.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.eS=this.cI('rect');J.aiK=this.aqM(J);J.aiK.setAttribute('data-pcc-mark',"mark-"+J.C.mv());J.bQ.appendChild(J.vb);J.bQ.appendChild(J.eS);J.bQ.appendChild(J.aiK);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var C=J.C;var acp=C.fw();var ab=acp.width;var aT=acp.height;var Jx=C.get_pathWidth();var JW=C.get_pathHeight();var uJ=C.get_pathString();var gW=IPCC.K.ys.Path(uJ,{width:ab,height:aT,multiplier:100,thickness:C.get_lineWidth(),color:C.get_lineColor()});var fg=IPCC.K.ys.SVG('0 0 '+Jx+' '+JW,100);var aW=IPCC.K.ys.Rect(Jx,JW,'fill:rgba(255, 255, 255, 0);stroke:none;');fg.appendChild(aW);fg.appendChild(gW);J.bQ=fg;J.anX=gW;J.adU=aW;this.abg(J.bQ,C.ir);break;case IPCC.Web.UI.MarkType.SignatureText:J.bQ=this.cI('g');J.eS=this.cI('rect');J.eS.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Gs=this.XB(J);J.bQ.appendChild(J.eS);J.bQ.appendChild(J.Gs);J.C.iP=false;break;case IPCC.Web.UI.MarkType.TextLine:J.bQ=this.cI('g');J.eS=this.cI('rect');J.eS.style='fill:rgba(255, 255, 255, 0);stroke:none;';J.Gs=this.XB(J);J.bQ.appendChild(J.eS);J.bQ.appendChild(J.Gs);break;case IPCC.Web.UI.MarkType.Strikethrough:iv="strikethroughannotation-"+J.C.mv();J.bQ=this.cI('g');J.jD=this.cI('g');J.bQ.appendChild(J.jD);J.lm=this.cI('g');J.lm.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.lm);J.wD=this.cI('g');J.wD.setAttribute('data-pcc-mark',iv);J.bQ.appendChild(J.wD);break;}J.bQ.ImGearMarkRelation=J;J.bQ.setAttribute('data-pcc-mark',"mark-"+J.C.mv());this.bG.EU.appendChild(J.bQ);if(J.gw){J.gw.ImGearMarkRelation=J;this.bG.EU.appendChild(J.gw);}this.aaE(J);},XB:function(J){var C=J.C;var Ec=C.bx;if(!Ec){Ec=C.cf[0];if(!Ec){if(C.get_type()===IPCC.Web.UI.MarkType.Stamp){Ec="APPROVED";}else{Ec="";}}}var G=C.fw();J.cP=this.cI('text');J.IL="PCC"+IPCC.cR.BY;IPCC.cR.BY++;var mJ=document.createTextNode(Ec);J.cP.setAttribute("font-size","22px");if(C.get_type()===IPCC.Web.UI.MarkType.TextLine){J.cP.setAttribute("style",'white-space:pre;');}switch(J.C.ir){case IPCC.Web.UI.HorizontalAlignment.Left:J.cP.setAttribute('text-anchor','start');J.cP.setAttribute('x',G.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:J.cP.setAttribute('text-anchor','end');J.cP.setAttribute("x",G.x+G.width);break;default:J.cP.setAttribute('text-anchor','middle');J.cP.setAttribute("x",G.x+(G.width/2));break;}J.cP.setAttribute('y',G.y+(G.height/2));J.cP.appendChild(mJ);return J.cP;},aqM:function(J){var C=J.C;J.aix=document.createElementNS('http://www.w3.org/2000/svg','svg');J.xd=document.createElementNS('http://www.w3.org/2000/svg','image');J.xd.setAttribute('id','childimg');J.xd.setAttributeNS('http://www.w3.org/1999/xlink','href',C.get_image());J.aix.appendChild(J.xd);return J.aix;},aqT:function(J,ir){var C=J.C;var G=C.fw();var bx=C.bx;var IP=bx.split('\n');var cP=J.cP;var Uv=0;var Ur=0;var YT=0;var vA=0;var ale=0;var agg=this.GC/72;var aah=C.ck*agg;var vB=[];var aCI=/(.*\s)(.*)/;var mJ,iJ,HL,CC,_parent,adQ,FR,JP,afM,AD,amy,DP;adQ=cP.childNodes.length;if(adQ>=1){_parent=cP.parentNode;FR=this.cI('text');FR.setAttribute('data-pcc-mark',J.gw.getAttribute('data-pcc-mark'));FR.setAttribute('width',J.gw.getAttribute('width')-J.C.fz);_parent.replaceChild(FR,cP);J.cP=FR;J.cP.appendChild(J.zm);J.gw.appendChild(J.cP);cP={};cP=J.cP;}cP.style.fontSize=C.ck*this.GC/72+'px';cP.style.fontFamily=C.hz;cP.width-=4;JP=(C.fz/2);if(ir){switch(ir){case IPCC.Web.UI.HorizontalAlignment.Center:JP=(G.width/2)-(C.fz/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:JP=G.width-C.fz;break;}}for(var T=0;T<IP.length;T++){AD='';amy=1;if(IP[T].length>0){HL=IP[T].split('');iJ=this.cI('tspan');iJ.setAttributeNS(null,"x",JP);if(T>0){iJ.setAttributeNS(null,"dy",aah*(YT+1));}mJ=window.document.createTextNode(HL[0]);iJ.appendChild(mJ);cP.appendChild(iJ);for(var aL=1;aL<HL.length;aL++){ale=iJ.firstChild.data.length;CC=HL[aL];iJ.firstChild.data+=HL[aL];AD+=CC;afM=AD.length*(C.ck*agg);Uv=iJ.getComputedTextLength();if(Uv===0){Ur=afM;}else{Ur=Uv;}if(Ur>=(G.width-C.fz-2)){amy++;AD='';DP=iJ.firstChild.data.match(aCI);if(DP){CC=DP[2];}if(DP&&DP[1].length>0){iJ.firstChild.data=DP[1];AD+=CC;}else{iJ.firstChild.data=iJ.firstChild.data.slice(0,ale);AD+=CC;}if(AD.length>=1){vB.push({aS:vA,adq:iJ});iJ=this.cI('tspan');iJ.setAttributeNS(null,"x",JP);iJ.setAttributeNS(null,"dy",aah);mJ=window.document.createTextNode(CC);iJ.appendChild(mJ);cP.appendChild(iJ);}}}if(iJ.firstChild.data.length>0){vB.push({aS:vA,adq:iJ});}vA+=iJ.firstChild.data.length+1;YT=0;}else{YT++;}}return vB;},aBh:function(kb,adG,jD,vA){if(kb.length>0){var amG=adG.getNumberOfChars();if(kb[0].aS>vA+amG){return;}for(var T=Math.max(kb[0].aS-vA,0);T<amG;T++){var G=adG.getExtentOfChar(T);var aW=this.cI('rect');this.dF(aW,{x:G.x,y:G.y,width:G.width,height:G.height,fill:kb[0].Ee});jD.appendChild(aW);if(kb[0].cv===T+vA){kb.shift();if(kb.length===0){return;}T=kb[0].aS-vA-1;}}}},Dj:function(cY,sC,sG){var gW='M',T;for(T=0;T<sC.length;T++){if(T>0){gW+=' L';}gW+=sC[T].x+','+sC[T].y;}if(sG){gW+='Z';}this.dF(cY,{d:gW});},XP:function(cY,sC,sG){var RC='',T;for(T=0;T<sC.length;T++){if(T>0){RC+=' ';}RC+=sC[T].x+','+sC[T].y;}if(sG&&sC.length>2){RC+=' '+sC[0].x+','+sC[0].y;}this.dF(cY,{points:RC});},acV:function(gE,kF,AQ,rD,zf,WS,HT){var cO=this.asb(gE,kF,AQ,rD,zf);var eH='';eH+='stroke:'+WS+';';switch(zf){case IPCC.Web.UI.LineHeadType.None:eH='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Dj(HT,[cO.Bw,gE,cO.Bd],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Dj(HT,[cO.Bw,gE,cO.Bd],true);eH+='fill:'+WS+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Dj(HT,[cO.Bw,gE,cO.Bd],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Dj(HT,[cO.Bw,gE,cO.Bd,cO.Jv],true);eH+='fill:'+WS+';';break;}this.dF(HT,{style:eH});return cO;},avC:function(J){var C=J.C;var bn,gl,T,abP,ago,iE='',Er;bn=C.get_points();gl=[];for(T=0;T<bn.get_length();T++){gl.push(bn.getPoint(T));}if(gl.length<2||C.sG){this.dF(J.Wt,{style:'display:none;'});this.dF(J.Ze,{style:'display:none;'});}else{C.zV=C.kv;Er=this.ahq(gl,true);abP=this.acV(Er.gE,Er.kF,C.Iq,C.Fl,C.Ik,C.zV,J.Wt);Er=this.ahq(gl,false);ago=this.acV(Er.gE,Er.kF,C.Km,C.JV,C.mk,C.zV,J.Ze);gl[0]=abP.Jv;gl[gl.length-1]=ago.Jv;}this.XP(J.sq,gl,C.sG);var xy=this.WI(C.iE);if(xy!==''){iE+='stroke-dasharray:'+xy+';';}this.dF(J.sq,{style:iE});},ade:function(J){var Bn=this.aso(J);this.XP(J.Ie,Bn.alq,false);var akv='',iE='fill:none;',qr='fill:none;';if(Bn.aas){akv='stroke:none;';}if(Bn.Ti){this.Dj(J.sq,Bn.Ti,false);}else{iE+='display:none;';}if(Bn.Mn){this.Dj(J.ZI,Bn.Mn,false);}else{qr+='display:none;';}var C=J.C;if(C.zM){qr+='stroke:'+C.Fw+';stroke-width:'+C.CW+';';var xy=this.WI(C.qr);if(xy!==''){qr+='stroke-dasharray:'+xy+';';}}this.dF(J.sq,{style:iE});this.dF(J.ZI,{style:qr});this.dF(J.Ie,{style:akv});},aar:function(J){var C=J.C,DI;if(!C){return;}var G=C.fw();var Bc=C.ck*this.GC/72;C.Bc=Bc;var rF=G.width,qw=G.height,JB=false,dU;var gy,eu=0,eK=0;var uG=1;if(C.iP){uG+=C.fz/2;}switch(C.AK){case IPCC.Web.UI.Orientation.TopLeft:gy='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gy='-1,0,0,1';eu=rF-uG;break;case IPCC.Web.UI.Orientation.BottomRight:gy='-1,0,0,-1';eu=rF-uG;eK=qw-uG;break;case IPCC.Web.UI.Orientation.BottomLeft:gy='1,0,0,-1';eK=qw-uG;break;case IPCC.Web.UI.Orientation.LeftTop:gy='0,1,1,0';JB=true;break;case IPCC.Web.UI.Orientation.RightTop:gy='0,1,-1,0';eu=rF-uG;JB=true;break;case IPCC.Web.UI.Orientation.RightBottom:gy='0,-1,-1,0';eu=rF-uG;eK=qw-uG;JB=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gy='0,-1,1,0';eK=qw-uG;JB=true;break;}if(C.ey==="#c0c0c0"){C.ey='#ffffff';}if(C.get_type()===IPCC.Web.UI.MarkType.Text){if(C.iI()===true){C.ey='#ffffff';}else{C.set_opacity(C.cQ);}}if(JB){dU=rF;rF=qw;qw=dU;}if(rF<0){rF=0;}if(qw<0){qw=0;}var YW='normal';var cj='normal';var ot='';var sZ;ot+='word-wrap:break-word;background-color:transparent;line-height:1;';var AR=0;if(C.rm.length===7&&C.rm.charAt(0)==='#'){AR=parseInt(C.rm.slice(1),16);}var cQ=Math.min(1,Math.max(0,C.zJ/255));if(document.documentMode>8||IPCC.K.wo.zS){cj='normal';if(C.cj&IPCC.Web.UI.FontStyle.Italic){cj='italic';}YW='normal';if(C.cj&IPCC.Web.UI.FontStyle.Bold){YW='bold';}sZ='none';if((C.cj&IPCC.Web.UI.FontStyle.Underline)&&(C.cj&IPCC.Web.UI.FontStyle.Strikeout)){sZ='underline line-through';}else if(C.cj&IPCC.Web.UI.FontStyle.Underline){sZ='underline';}else if(C.cj&IPCC.Web.UI.FontStyle.Strikeout){sZ='line-through';}}else{ot+='color:rgba('+(AR>>16)+','+((AR>>8)&255)+','+(AR&255)+','+cQ+');';ot+='font-family:'+C.hz+';';ot+='font-size:'+Bc+'px;';if(C.cj&IPCC.Web.UI.FontStyle.Italic){ot+='font-style:italic;';}if(C.cj&IPCC.Web.UI.FontStyle.Bold){ot+='font-weight:bold;';}if((C.cj&IPCC.Web.UI.FontStyle.Underline)&&(C.cj&IPCC.Web.UI.FontStyle.Strikeout)){ot+='text-decoration:underline line-through;';}else if(C.cj&IPCC.Web.UI.FontStyle.Underline){ot+='text-decoration:underline;';}else if(C.cj&IPCC.Web.UI.FontStyle.Strikeout){ot+='text-decoration:line-through;';}}var Ca={x:2,anchor:'start'};switch(C.ir){case IPCC.Web.UI.HorizontalAlignment.Left:ot+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:ot+='text-align:center;';Ca.x=(G.width/2)-3;Ca.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:ot+='text-align:right;';Ca.x=G.width-8;Ca.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.K.wo.zS){switch(C.vi){case IPCC.Web.UI.VerticalAlignment.Center:if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.dF(J.Rx,{style:'display:table; width: 100%;'});ot+='display: table-cell; white-space: normal; vertical-align: middle; height:'+qw+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.dF(J.oM,{style:ot+'padding:2px;'});this.dF(J.gw,{transform:'matrix('+gy+','+(eu+G.x+(C.fz/2))+','+(eK+G.y+(C.fz/2))+')',});this.dF(J.CL,{x:0,y:0,width:rF>C.fz?rF-C.fz:rF,height:qw>C.fz?qw-C.fz:qw,});this.ayr(J);}else{var vB=this.aqT(J,C.ir);var amr=vB.length;switch(C.vi){case IPCC.Web.UI.VerticalAlignment.Center:if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){DI=(G.height/2)+(C.ck/4);if(amr>1){DI-=(amr-1)*(C.ck/2);}if(DI<0){DI=C.ck;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.dF(J.Ep,{x:0,y:0,width:G.width-C.fz,height:G.height-C.fz});var arW="url(#"+J.IL+")";var Sr={x:Ca.x,y:(this.GC/72)*C.ck,width:G.width-C.fz,height:G.height-C.fz,'font-family':C.hz,'font-size':Bc,fill:'rgba('+(AR>>16)+', '+((AR>>8)&255)+', '+(AR&255)+', '+cQ+')','font-weight':YW,'font-style':cj,'text-decoration':sZ,'text-anchor':Ca.anchor};if(typeof DI!=='undefined'){delete Sr.y;Sr.dy=DI;}this.dF(J.cP,Sr);J.cP.style.opacity=cQ;this.dF(J.gw,{transform:'matrix('+gy+','+(eu+G.x+(C.fz/2))+','+(eK+G.y+(C.fz/2))+')','clip-path':arW});var jD=J.alx;while(jD&&jD.firstChild){jD.removeChild(jD.firstChild);}if(C.fH){var kb=this.acx(C.fH);for(var T=0;T<vB.length;T++){this.aBh(kb,vB[T].adq,jD,vB[T].aS);}}}},Xw:function(J){var C=J.C;if(C.bm===null||C.bm===undefined){return;}if(C.bm.length===0&&C.bZ>0&&this.L.cC().oV()){C.bm=IPCC.K.YM(this.L.cC().gp(),C.aS,C.aS+C.bZ-1);}if(!J.aS|| !J.bZ||J.aS!==C.aS||J.bZ!==C.bZ||C.cB===false||C.cB===true){while(J.lm.firstChild){J.lm.removeChild(J.lm.firstChild);}if(J.kS){while(J.kS.firstChild){J.kS.removeChild(J.kS.firstChild);}}if(J.wD){while(J.wD.firstChild){J.wD.removeChild(J.wD.firstChild);}}if(C.cB===false){return;}IPCC.K.forEach(J.C.bm,function(gd){var VK=this.cI('rect');J.lm.appendChild(VK);this.dF(VK,{x:gd.x,y:gd.y,width:gd.width,height:gd.height});if(J.kS){var uz=this.cI('line');this.dF(uz,{x1:gd.x,y1:gd.y+gd.height-1,x2:gd.x+gd.width,y2:gd.y+gd.height-1,"stroke-width":2});J.kS.appendChild(uz);}if(J.wD){VK.setAttribute('fill','transparent');var abE=this.cI('line');var strikethroughY=gd.y+(gd.height/2);this.dF(abE,{x1:gd.x,y1:strikethroughY,x2:gd.x+gd.width,y2:strikethroughY,stroke:J.C.kv,"stroke-width":J.C.fz});J.wD.appendChild(abE);}},this);J.aS=C.aS;J.bZ=C.bZ;}},aaE:function(J){var C=J.C;if(!C){return;}var bQ=J.bQ;var G,eH='',bn,iP=true,mR,wN,wf,aaX,vH,Cu;var kn=false;switch(C.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kn=true;this.avC(J);break;case IPCC.Web.UI.MarkType.Rectangle:G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.Xw(J);J.lm.style.fill=C.ey;J.lm.style.opacity=(C.cQ/255);this.RD(J);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.Xw(J);J.lm.style.fill=C.ey;J.kS.style.stroke=C.ey;if(J.C.get_selected()){J.kS.style.opacity=IPCC.cR.cr.FU(false,J.C.get_selected());}else{J.kS.style.opacity=IPCC.cR.cr.FU(false,J.C.get_selected());}this.RD(J);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:G=C.get_rectangle();this.dF(J.G,{x:G.x,y:G.y,width:G.width,height:G.height});if(J.uz){this.dF(J.uz,{x1:G.x,y1:G.y+G.height,x2:G.x+G.width,y2:G.y+G.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof J.eS!=='undefined'){if(this.L.lP()===true){J.eS.style.opacity=0.2;if(typeof J.oM!=='undefined'){J.oM.style.opacity=0;}else{J.cP.style.opacity=0;}}else{J.eS.style.opacity=1;if(typeof J.oM!=='undefined'){J.oM.style.opacity=1;}}}G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});this.dF(J.eS,{x:G.x,y:G.y,width:G.width,height:G.height});if(this.L.lP()===false){this.aar(J);}break;case IPCC.Web.UI.MarkType.Ellipse:G=C.get_rectangle();this.dF(bQ,{cx:G.x+G.width/2,cy:G.y+G.height/2,rx:G.width/2,ry:G.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bn=this.XN(C);this.XP(bQ,bn,false);eH+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.ade(J);this.aar(J);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var dw=IPCC.K.ajg();var sK=IPCC.K.ajE();sK.nodeValue=C.get_text();var iq=C.iq;var bf=this.L.lE().iM();G=C.get_rectangle();dw.style.width=(G.width-C.fz/2)+'px';dw.style.height=(G.height-C.fz/2)+'px';dw.style.fontFamily=C.hz;dw.style.padding='2px';dw.style.fontStyle=C.cj;C.ck=IPCC.K.WT(dw,iq,bf)*72/this.GC;this.ade(J);this.aar(J);break;case IPCC.Web.UI.MarkType.Stamp:G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});this.dF(J.vb,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.vb.style.opacity=1;this.dF(J.eS,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':C.ey,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(G.width/6);if(textFontSize>G.height){textFontSize=(G.height-(G.height/6));}mR=J.C.get_text();if(!mR){mR='APPROVED';}J.cP.childNodes[0].data=mR;var rV=mR.length*textFontSize;if(rV>G.width){textFontSize=((G.width/mR.length));}Cu=Math.round(textFontSize);C.stampSize=Cu.toString();this.dF(J.cP,{x:G.x+(G.width/2),y:G.y+(G.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':C.ey,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});this.dF(J.vb,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.vb.style.opacity=1;this.dF(J.eS,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':C.ey,'stroke-width':'0','fill':'none'});J.xd.setAttribute('height',G.height);J.xd.setAttribute('width',G.width);J.xd.setAttribute('x',G.x);J.xd.setAttribute('y',G.y);J.xd.setAttributeNS('http://www.w3.org/1999/xlink','href',C.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.RD(J);break;case IPCC.Web.UI.MarkType.Highlight:G=C.get_rectangle();if(G.x===0&&G.y===0){var ga=this.L.cC().gp();if(ga.eY()>0){var eN=ga.kQ(C.aS);G=eN.aE;}C.ja='y';}this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});var Oi=J.anX;if(C.alY===true){C.alY=false;Oi.setAttribute("d",C.get_pathString());var Jx=C.get_pathWidth();var JW=C.get_pathHeight();bQ.setAttribute('viewBox','0 0 '+Jx+' '+JW);J.adU.setAttribute('width',Jx);J.adU.setAttribute('height',JW);}if(C.get_visible()){J.bQ.style.display='block';}else{J.bQ.style.display='none';}this.abg(J.bQ,C.ir);Oi.style.stroke=C.get_lineColor();Oi.style.strokeWidth=C.get_lineWidth()+'px';Oi.style.opacity=C.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});this.dF(J.eS,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});J.eS.style.opacity=1;var aqw=J.C.get_text()||"";J.cP.childNodes[0].data=aqw;wN=12*G.width/(C.xQ||1);wf=12*G.height/(C.yi||1);vH=Math.min(wN,wf);var aEm=Math.floor(vH);C.stampSize=aEm.toString();switch(C.ir){case IPCC.Web.UI.HorizontalAlignment.Left:J.cP.setAttribute('text-anchor','start');J.cP.setAttribute('x',G.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:J.cP.setAttribute('text-anchor','end');J.cP.setAttribute("x",G.x+G.width);break;default:J.cP.setAttribute('text-anchor','middle');J.cP.setAttribute("x",G.x+(G.width/2));break;}this.dF(J.cP,{y:G.y+(G.height/2+(vH/3)),'font-size':vH,'stroke':"none",'fill':C.get_fillColor(),'font-family':C.get_fontName()});if(C.get_visible()){J.bQ.style.display='block';}else{J.bQ.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.dF(bQ,{style:'fill:none;opacity:1;'+C.cB?'display:block;':'display:none;'});G=C.get_rectangle();this.dF(bQ,{x:G.x,y:G.y,width:G.width,height:G.height});eH='stroke:'+(C.iP?'black':'none')+';stroke-width:1;';this.dF(J.eS,{x:G.x,y:G.y,width:G.width,height:G.height,'stroke':C.iP?'black':'none','fill':'rgba(255, 255, 255, 0)','style':eH});J.cP.style.opacity=1;mR=J.C.get_text()||"";J.cP.childNodes[0].data=mR;aaX=IPCC.K.ajd(mR,C.get_fontName(),G.width,G.height,{uS:"pre",fg:J.bQ});vH=aaX.fontSize;C.Bc=vH;C.stampSize=vH;C.Iz=true;C.nB=aaX;switch(C.ir){case IPCC.Web.UI.HorizontalAlignment.Center:J.cP.setAttribute('text-anchor','middle');J.cP.setAttribute("x",G.x+(G.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:J.cP.setAttribute('text-anchor','end');J.cP.setAttribute("x",G.x+G.width);break;default:J.cP.setAttribute('text-anchor','start');J.cP.setAttribute('x',G.x);break;}this.dF(J.cP,{y:G.y+(G.height/2+(vH/3)),'font-size':vH,'stroke':"none",'fill':C.get_textColor(),'font-family':C.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.Xw(J);this.RD(J);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',C.get_type());}if(C.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&C.get_type()!==IPCC.Web.UI.MarkType.Freehand&&C.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&C.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&C.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&C.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&C.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&C.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kn){eH+='fill:none;';}else{if(C.Hg){eH+='fill:'+C.ey+';';}else{eH+='fill:none;';}iP=C.iP;var xy=this.WI(C.iE);if(xy!==''){eH+='stroke-dasharray:'+xy+';';}}if(iP){eH+='stroke:'+C.get_lineColor()+';';eH+='stroke-width:'+C.fz+';';}else{eH+='stroke:none;';}if(C.get_type()===IPCC.Web.UI.MarkType.SignatureText){eH+='opacity:'+1+';';}else{eH+='opacity:'+(C.cQ/255)+';';}if(!C.cB){eH+='display:none;';if(J.gw){J.gw.style.display='none';}}else{if(J.gw){J.gw.style.display='block';}}this.dF(bQ,{style:eH});}if(C.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!C.cB){eH+='display:none;';}else{eH+='display:block;';}this.dF(bQ,{style:eH});}var aU;if(!this.L.get_areMarksEditable()){aU=this.L.get_cursor();}else if(C.mP===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&C.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&C.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aU='default';}else if(C.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||C.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aU=IPCC.ai.Link;}else if(C.get_type()!==IPCC.Web.UI.MarkType.Highlight&&C.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&C.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&C.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU)){aU=IPCC.ai.Move;}else{aU=IPCC.ai.Arrow;}bQ.style.cursor=IPCC.ai.eF(aU);if(J.gw){J.gw.style.cursor=IPCC.ai.eF(aU);}},abg:function(bQ,JG){switch(JG){case IPCC.Web.UI.HorizontalAlignment.Left:bQ.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bQ.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bQ.setAttribute('preserveAspectRatio','xMaxYMid');break;}},RD:function(J){var C=J.C,azL=C.get_visible();var G=C.get_rectangle();if(G.x===0&&G.y===0){return;}var jD=J.jD;while(jD.firstChild){jD.removeChild(jD.firstChild);}var hW;for(var T=0;T<C.fH.length;T++){for(var aL=0;aL<C.fH[T].length;aL++){var acb=this.L.cC().gp();if(acb.eY()>0){var ars=acb.kQ(C.fH[T].startIndex+aL);hW=ars.aE;}var aW=this.cI('rect');this.dF(aW,{x:hW.x,y:hW.y,width:hW.width,height:hW.height,fill:C.fH[T].color,display:(azL)?'block':'none'});aW.style.opacity=(C.fH[T].opacity)?(C.fH[T].opacity)/255.0:0.5;jD.appendChild(aW);}}},WI:function(iE){switch(iE){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Ra:function(J){if(J.bQ){this.bG.EU.removeChild(J.bQ);}if(J.gw){this.bG.EU.removeChild(J.gw);}delete J.bQ;},aHf:function(){},aDr:function(){this.bG=undefined;},cI:function(aZ){return document.createElementNS('http://www.w3.org/2000/svg',aZ);},dF:function(bQ,al){var T;for(T in al){if(al.hasOwnProperty(T)){var attr=al[T];bQ.setAttribute(T,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=alV;},{}],18:[function(require,module,exports){var Qo=require('./ArtSVGUIDirector');var cr=Qo;cr.FU=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};cr.afQ=function(){return 39/255;};cr.aFN=function(isSelected){return isSelected?"purple":"blue";};cr.prototype.asb=function(gE,kF,AQ,rD,zf){var cO={gE:gE,kF:kF,AQ:AQ,rD:rD,zf:zf};if(gE.x===kF.x&&gE.y===kF.y){cO.zf=IPCC.Web.UI.LineHeadType.None;}var NL=Math.atan2(gE.x-kF.x,-(gE.y-kF.y))+Math.PI/2;AQ*=Math.PI/180;var hS=NL+AQ;cO.Bw={x:gE.x+Math.cos(hS)*rD,y:gE.y+Math.sin(hS)*rD};hS=NL-AQ;cO.Bd={x:gE.x+Math.cos(hS)*rD,y:gE.y+Math.sin(hS)*rD};switch(cO.zf){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cO.Jv={x:(cO.Bw.x+cO.Bd.x)/2,y:(cO.Bw.y+cO.Bd.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cO.Jv={x:gE.x+Math.cos(NL)*rD/2,y:gE.y+Math.sin(NL)*rD/2};break;default:cO.Jv=gE;break;}return cO;};cr.prototype.aso=function(J){var C=J.C;var G=C.get_rectangle();var Ku={x:C.lL.x+G.x+0.00001,y:C.lL.y+G.y+0.00001};var aR={};var gO=[{x:G.x,y:G.y},{x:G.x+G.width,y:G.y},{x:G.x+G.width,y:G.y+G.height},{x:G.x,y:G.y+G.height}];if(!C.yY){aR.alq=gO;aR.aas= !C.iP;return aR;}var T,aec=[];for(T=0;T<4;T++){aec.push({x:(gO[T].x+gO[(T+3)%4].x)/2,y:(gO[T].y+gO[(T+3)%4].y)/2,azj:true});}for(T=3;T>=0;T--){gO.splice(T,0,aec[T]);}function ahQ(MP){var wa,acZ;wa=(Ku.x-(gO[MP].x+gO[(MP+1)%8].x)/2)*G.height;acZ=wa*wa;wa=(Ku.y-(gO[MP].y+gO[(MP+1)%8].y)/2)*G.width;return acZ+wa*wa;};var Wc=0,amc=ahQ(0),hG;for(T=1;T<8;T++){hG=ahQ(T);if(hG<amc){amc=hG;Wc=T;}}gO=gO.slice(Wc+1).concat(gO.slice(0,Wc+1));var Bb=gO[0],Bj=gO[7];for(T=gO.length-1;T>=0;T--){if(gO[T].azj){gO.splice(T,1);}}switch(C.EF){case IPCC.Web.UI.CalloutType.Triangle:gO.splice(0,0,{x:(Bb.x*3+Bj.x)/4,y:(Bb.y*3+Bj.y)/4});gO.push({x:(Bb.x+Bj.x*3)/4,y:(Bb.y+Bj.y*3)/4});if(C.zM){aR.aas=true;aR.Ti=[].concat(gO);aR.Mn=[gO[0],Ku,gO[gO.length-1]];}gO.push(Ku);break;default:case IPCC.Web.UI.CalloutType.Line:aR.Mn=[{x:(Bb.x+Bj.x)/2,y:(Bb.y+Bj.y)/2},Ku];break;}aR.alq=gO;if(!C.iP){aR.aas=true;delete aR.Ti;delete aR.Mn;}return aR;};cr.prototype.XN=function(C){var bn=C.get_points();var gl=[],T;for(T=0;T<bn.get_length();T++){gl.push(bn.getPoint(T));}return gl;};cr.prototype.ahq=function(gl,aCh){var ak=0,Nr=1,aeb=gl.length-2,gE,kF;if(!aCh){ak=gl.length-1;Nr= -1;}gE=gl[ak];ak+=Nr;kF=gl[ak];ak+=Nr;while(gE.x===kF.x&&gE.y===kF.y&&aeb>0){kF=gl[ak];ak+=Nr;aeb--;}return{gE:gE,kF:kF};};cr.prototype.acX=function(L,bG,bz,kX){if(IPCC.K.ZK){return;}if(!bG.nn){bG.nn=[];}var nn=bG.nn;if(bz.length<1&&nn.length<1){if(bG.Am.firstChild){bG.Am.innerHTML='';}return;}var aQ=L.eU();var fD=aQ.xC();if(this.gL===undefined){this.gL=40;var AU=document.createElement("div");AU.className='pccMarkHandleTopLeft';AU.visibility='hidden';document.body.appendChild(AU);if(AU.currentStyle){this.gL=parseInt(AU.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aCf=document.defaultView.getComputedStyle(AU);this.gL=parseInt(aCf.width,10)||0;}document.body.removeChild(AU);}var T,Ki=[];for(T=0;T<bz.length;T++){if(bz[T].get_visible()===true){if(fD.Fi(bz[T])>=0||(bz[T].get_selected()===true&&(bz[T].kI===true||bz[T].lj===true))||bz[T].wI===true){Ki.push(bz[T]);}}}for(T=0;T<nn.length;T++){while(T<nn.length&&(T>=Ki.length||nn[T].C!==Ki[T])){bG.Am.removeChild(nn[T].gI);nn.splice(T,1);}if(T<nn.length){this.abK(nn[T],kX);}}for(T=nn.length;T<Ki.length;T++){nn[T]={C:Ki[T]};this.aqo(bG.Am,nn[T]);this.abK(nn[T],kX);}};cr.prototype.xc=function(gI,aqW,BV,vW,aFq,aU,ds){var cS=[],T,dm;if(ds===undefined){ds='handle';}for(T=0;T<aqW;T++){dm={bQ:document.createElement('div')};dm.bQ.ImGearMarkHandle=dm;dm.aU=aU;dm.aZ=vW;dm.ak=aFq+T;gI.appendChild(dm.bQ);dm.bQ.setAttribute('data-pcc-mark',ds+'-'+gI.ImGearMarkRelation.C.mv());cS.push(dm);}return cS;};cr.prototype.awp=function(cs){if(cs.cS===undefined||this.L.get_areMarksEditable()===false){return;}var T;for(T=0;T<cs.cS.length;T++){var dm=cs.cS[T];dm.bQ.style.cursor=IPCC.ai.eF(dm.aU);}};cr.prototype.aqo=function(Am,cs){cs.gI=document.createElement('div');cs.gI.style.width='0px';cs.gI.style.height='0px';cs.gI.style.left='0px';cs.gI.style.top='0px';cs.gI.style.zIndex='1';var T,C=cs.C,dm;cs.gI.ImGearMarkRelation=cs;switch(C.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cs.cS=this.xc(cs.gI,2,this.gL,this.Kn,0,IPCC.ai.Move);cs.cS=cs.cS.concat(this.xc(cs.gI,2,this.gL,this.HW,0,IPCC.ai.Move));break;case IPCC.Web.UI.MarkType.Polygon:cs.cS=[];break;case IPCC.Web.UI.MarkType.Freehand:cs.cS=[];cs.ic=document.createElement('div');cs.ic.style.border='1px solid gray';cs.ic.style.position='absolute';cs.gI.appendChild(cs.ic);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU!==undefined){break;}cs.ic=document.createElement('div');cs.ic.style.border='1px solid gray';cs.ic.style.position='absolute';cs.gI.appendChild(cs.ic);cs.cS=this.xc(cs.gI,4,this.gL,this.ZU,0,-1);cs.cS=cs.cS.concat(this.xc(cs.gI,4,this.gL,this.YA,0,-1));for(T=4;T<8;T++){dm=cs.cS[T];dm.aqG=cs.cS[T-4];dm.aqe=cs.cS[(T+1)%4];}if(C.get_type()===IPCC.Web.UI.MarkType.Text){cs.cS=cs.cS.concat(this.xc(cs.gI,1,this.gL,this.YK,0,IPCC.ai.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cs.cS=this.xc(cs.gI,1,this.gL,this.Kn,0,IPCC.ai.Move,'texthandlestart');cs.cS=cs.cS.concat(this.xc(cs.gI,1,this.gL,this.Kn,1,IPCC.ai.Move,'texthandleend'));break;}if(C.jg()===IPCC.Web.UI.MarkType.Text||C.jg()===IPCC.Web.UI.MarkType.TextLine||C.jg()===IPCC.Web.UI.MarkType.TextAreaSignature){var or=document.createElement('div');or.className='pccEditMarkButton';or.setAttribute('data-pcc-mark','edit-'+C.mv());or.onclick=function(aM){aM=aM||{};aM.stopPropagation?aM.stopPropagation():aM.cancelBubble=true;aM.preventDefault?aM.preventDefault():aM.returnValue=false;var pO;var tC=cs.gI;while(tC&&(tC.parentNode||tC.ownerSVGElement)){if(tC.parentNode.id&&tC.parentNode.id.indexOf("__pViewId")!== -1){pO=tC.parentNode;}tC=tC.ownerSVGElement||tC.parentNode;}pO&&pO.ad.aFP(aM,C);};cs.gI.appendChild(or);var aqm={bQ:or};cs.cS.push(aqm);}Am.appendChild(cs.gI);};cr.kz={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};cr.prototype.ZU=0;cr.prototype.YA=1;cr.prototype.HW=2;cr.prototype.Kn=3;cr.prototype.YK=4;cr.prototype.aab=function(dm,aBA){switch(aBA){case IPCC.cR.cr.kz.TopLeft:dm.bQ.className='pccMarkHandleTopLeft';break;case IPCC.cR.cr.kz.TopCenter:dm.bQ.className='pccMarkHandleTopCenter';break;case IPCC.cR.cr.kz.TopRight:dm.bQ.className='pccMarkHandleTopRight';break;case IPCC.cR.cr.kz.MidLeft:dm.bQ.className='pccMarkHandleMidLeft';break;case IPCC.cR.cr.kz.MidRight:dm.bQ.className='pccMarkHandleMidRight';break;case IPCC.cR.cr.kz.BottomLeft:dm.bQ.className='pccMarkHandleBottomLeft';break;case IPCC.cR.cr.kz.BottomCenter:dm.bQ.className='pccMarkHandleBottomCenter';break;case IPCC.cR.cr.kz.BottomRight:dm.bQ.className='pccMarkHandleBottomRight';break;case IPCC.cR.cr.kz.Point:dm.bQ.className='pccMarkHandlePoint';break;case IPCC.cR.cr.kz.TextSelectionStart:dm.bQ.className='pccMarkHandleTextSelectionStart';break;case IPCC.cR.cr.kz.TextSelectionEnd:dm.bQ.className='pccMarkHandleTextSelectionEnd';break;default:dm.bQ.className='pccMarkHandlePoint';break;}};cr.prototype.AN=function(dm,auQ,kX,BV,mA){dm.bF=kX.transform(auQ);dm.bQ.style.left=(dm.bF.x-BV/2)+'px';dm.bQ.style.top=(dm.bF.y-BV/2)+'px';dm.bQ.style.display='block';dm.bQ.style.zIndex='1';this.aab(dm,mA);};cr.prototype.adz=function(dm,BV,mA){dm.bQ.style.left=(dm.bF.x-BV/2)+'px';dm.bQ.style.top=(dm.bF.y-BV/2)+'px';dm.bQ.style.display='block';dm.bQ.style.zIndex='1';this.aab(dm,mA);};cr.prototype.ti=function(dm){dm.bQ.style.display='none';};cr.prototype.abK=function(cs,kX){if(this.L.get_areMarksEditable()===true){cs.gI.style.cursor='move';}var T,C=cs.C,cS=cs.cS,dm;var gl,G,ra,kO,vW,eW;var hG,CU,eu,eK,MW;switch(C.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gl=this.XN(C);CU=gl.length+2-cS.length;if(CU>0){cs.cS=cs.cS.concat(this.xc(cs.gI,CU,this.gL,this.HW,cS.length-2,IPCC.ai.Move));cS=cs.cS;}for(T=0;T<gl.length;T++){this.AN(cS[T+2],gl[T],kX,this.gL,IPCC.cR.cr.kz.Point);}for(T=gl.length+2;T<cS.length;T++){this.ti(cS[T+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gl=this.XN(C);CU=gl.length-cS.length;if(CU>0){cs.cS=cs.cS.concat(this.xc(cs.gI,CU,this.gL,this.HW,cS.length,IPCC.ai.Move));cS=cs.cS;}for(T=0;T<gl.length;T++){this.AN(cS[T],gl[T],kX,this.gL,IPCC.cR.cr.kz.Point);}for(T=gl.length;T<cS.length;T++){this.ti(cS[T]);}break;case IPCC.Web.UI.MarkType.Freehand:G=C.fw();ra=kX.transform({x:G.x,y:G.y});kO=kX.transform({x:G.x+G.width,y:G.y+G.height});eW={x:Math.min(ra.x,kO.x),y:Math.min(ra.y,kO.y)};eW.width=Math.max(ra.x,kO.x)-eW.x;eW.height=Math.max(ra.y,kO.y)-eW.y;cs.ic.style.left=eW.x+'px';cs.ic.style.top=eW.y+'px';cs.ic.style.width=eW.width+'px';cs.ic.style.height=eW.height+'px';cs.ic.setAttribute('data-pcc-mark','outline-'+C.mv());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU!==undefined){break;}G=C.fw();cS[0].bF=kX.transform({x:G.x,y:G.y});cS[1].bF=kX.transform({x:G.x+G.width,y:G.y});cS[2].bF=kX.transform({x:G.x+G.width,y:G.y+G.height});cS[3].bF=kX.transform({x:G.x,y:G.y+G.height});eW={x:Math.min(cS[0].bF.x,cS[2].bF.x),y:Math.min(cS[0].bF.y,cS[2].bF.y)};eW.width=Math.max(cS[0].bF.x,cS[2].bF.x)-eW.x;eW.height=Math.max(cS[0].bF.y,cS[2].bF.y)-eW.y;MW={x:eW.x+eW.width/2,y:eW.y+eW.height/2};for(T=0;T<4;T++){dm=cS[T];vW=(dm.bF.x<MW.x)?((dm.bF.y<MW.y)?0:2):((dm.bF.y<MW.y)?1:3);this.adz(dm,this.gL,vW);switch(vW){case 0:dm.aU=IPCC.ai.ResizeNW;break;case 1:dm.aU=IPCC.ai.ResizeNE;break;case 2:dm.aU=IPCC.ai.ResizeSW;break;case 3:dm.aU=IPCC.ai.ResizeSE;break;}}cs.ic.style.left=eW.x+'px';cs.ic.style.top=eW.y+'px';cs.ic.style.width=eW.width+'px';cs.ic.style.height=eW.height+'px';cs.ic.setAttribute('data-pcc-mark','outline-'+C.mv());var aqj=eW.x+eW.width/4;var aps=eW.x+eW.width*3/4;var aqQ=eW.y+eW.height/4;var aoL=eW.y+eW.height*3/4;if(this.aj.yf()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){ra=cS[0].bF;kO=cS[1].bF;var aoO=cS[2].bF;eu=ra.x-kO.x;eK=kO.y-aoO.y;var aEc=eu*eu;var aEp=eK*eK;if(Math.min(aEc,aEp)<this.gL*this.gL*5){this.ti(cS[0]);this.ti(cS[1]);this.ti(cS[2]);this.ti(cS[3]);}}for(T=4;T<8;T++){dm=cS[T];ra=dm.aqG.bF;kO=dm.aqe.bF;eu=ra.x-kO.x;eK=ra.y-kO.y;hG=eu*eu+eK*eK;if(this.aj.yf()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&hG<this.gL*this.gL*5){this.ti(dm);}else{dm.bF={x:(ra.x+kO.x)/2,y:(ra.y+kO.y)/2};this.adz(dm,this.gL,T);if(dm.bF.x<aqj){dm.aU=IPCC.ai.ResizeW;}else if(dm.bF.x>aps){dm.aU=IPCC.ai.ResizeE;}else if(dm.bF.y<aqQ){dm.aU=IPCC.ai.ResizeN;}else if(dm.bF.y>aoL){dm.aU=IPCC.ai.ResizeS;}}}if(C.get_type()===IPCC.Web.UI.MarkType.Text){if(C.yY){this.AN(cS[8],{x:G.x+C.lL.x,y:G.y+C.lL.y},kX,this.gL,IPCC.cR.cr.kz.Callout);}else{this.ti(cS[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cs.gI.style.cursor='move';var eN,hW,vv;var yI=this.L.cC();var ga=yI.gp();if(C.kI===true){vv=C.aS;if(vv>=ga.eY()){eN=ga.kQ(ga.eY()-1);hW=eN.rC();this.AN(cS[0],new IPCC.Web.UI.Point(hW.x+hW.width,hW.y),kX,this.gL,IPCC.cR.cr.kz.TextSelectionStart);break;}eN=ga.kQ(C.aS);hW=eN.rC();this.AN(cS[0],new IPCC.Web.UI.Point(hW.x,hW.y),kX,this.gL,IPCC.cR.cr.kz.TextSelectionStart);}else{this.ti(cS[0]);}if(C.lj===true){vv=C.aS+C.bZ-1;if(vv<0){eN=ga.kQ(0);hW=eN.rC();this.AN(cS[1],new IPCC.Web.UI.Point(hW.x,hW.y+hW.height),kX,this.gL,IPCC.cR.cr.kz.TextSelectionEnd);break;}eN=ga.kQ(vv);hW=eN.rC();this.AN(cS[1],new IPCC.Web.UI.Point(hW.x+hW.width,hW.y+hW.height),kX,this.gL,IPCC.cR.cr.kz.TextSelectionEnd);}else{this.ti(cS[1]);}break;}if(C.get_type()===IPCC.Web.UI.MarkType.Text||C.get_type()===IPCC.Web.UI.MarkType.TextLine||C.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var ur=cS[cS.length-1];if(ur.bQ.className.match(/pcc/)){var TL=cs.ic.clientHeight;var Tz=cs.ic.clientWidth;var alS=cs.ic.offsetTop;var ani=cs.ic.offsetLeft;var akM=ur.bQ.clientHeight;var YP=ur.bQ.clientWidth;ur.bQ.style.position='absolute';ur.bQ.style.zIndex='2';if(TL>akM+10&&Tz>YP+10){ur.bQ.style.top=(TL-akM)/2+alS+'px';ur.bQ.style.left=(Tz-YP)/2+ani+'px';}else{ur.bQ.style.top=TL+alS+10+'px';ur.bQ.style.left=(Tz-YP)/2+ani+'px';}}}this.awp(cs);};cr.prototype.acx=function(fV,vZ){var aBF=IPCC.K.acK(fV,vZ||'#ffffff'),aBa=IPCC.K.map(aBF,function(bo){return{aS:bo.startIndex,cv:bo.endIndex,Ee:bo.color};});return aBa;};cr.prototype.ayr=function(J){var C=J.C;if(C.fH){var kb=this.acx(C.fH);var Gy=C.bx;var Ai='';for(var T=kb.length-1;T>=0;T--){var WP=kb[T];var aS=WP.aS;var cv=WP.cv;var dK=WP.Ee;var cK=IPCC.K.Gz(Gy.substr(aS,cv-aS+1));var anF=IPCC.K.Gz(Gy.substr(cv+1,Gy.length-cv+1));Gy=Gy.substr(0,aS);Ai="<span style='background-color:"+dK+";'>"+cK+'</span>'+anF+Ai;}Ai=IPCC.K.Gz(Gy)+Ai;Ai=Ai.replace(/\n/g,'<br/>');J.oM.innerHTML=Ai;}else{J.zm.data=C.bx;}};module.exports=cr;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var wQ={Jz:function(){var vt=IPCC.wQ;if(vt.ub===null){
/*@cc_on@if(@_jscript)vt.ub=document.documentMode>8;@else@*/ vt.ub=true;/*@end@*/}return vt.ub;},ub:null};module.exports=wQ;},{}],20:[function(require,module,exports){var en=function(Wx,apq){this.L=false;this.Wx=Wx;var kZ=IPCC.Web.UI;var ar=apq;if(!ar||ar===null){ar=IPCC.afG;}this.ar=ar;var avc={bx:ar.zoomInMenuItem,gj:IPCC.fk.acR,h:1.25};var aui={bx:ar.zoomOutMenuItem,gj:IPCC.fk.ads,h:1.25};var aGh={bx:ar.fullImageMenuItem,h:kZ.FitType.FullImage};var aGm={bx:ar.fullWidthMenuItem,h:kZ.FitType.FullWidth};var aFC={bx:ar.fullHeightMenuItem,h:kZ.FitType.FullHeight};var apg={bx:ar.oneToOneRatioMenuItem,h:kZ.FitType.OneToOne};var aoq={bx:ar.actualSizeMenuItem,h:kZ.FitType.ActualSize};var ayE={bx:ar.rotateRightMenuItem,gj:IPCC.fk.Xv,h:90};var ayP={bx:ar.rotateLeftMenuItem,gj:IPCC.fk.Xv,h: -90};var aEG={bx:ar.mirrorHorizontalMenuItem,gj:IPCC.fk.agR};var aDm={bx:ar.mirrorVerticalMenuItem,gj:IPCC.fk.amo};var Uf={bx:ar.panToolMenuItem,h:kZ.MouseTool.HandPan};var Vj={bx:ar.areaSelectionToolMenuItem,h:kZ.MouseTool.Select};var So={bx:ar.zoomRectangleToolMenuItem,h:kZ.MouseTool.RectangleZoom};var ZP={bx:ar.flyingMagnifierToolMenuItem,h:kZ.MouseTool.Magnifier};var arb={bx:ar.createTextMarkToolMenuItem,h:kZ.MouseTool.CreateTextMark};var aqL={bx:ar.createLineMarkToolMenuItem,h:kZ.MouseTool.CreateLineMark};var ara={bx:ar.createRectangleMarkToolMenuItem,h:kZ.MouseTool.CreateRectangleMark};var apW={bx:ar.createEllipseMarkToolMenuItem,h:kZ.MouseTool.CreateEllipseMark};var aBD={bx:ar.editMarksToolMenuItem,h:kZ.MouseTool.EditMarks};var apy={bx:ar.createStampMarkToolMenuItem,h:kZ.MouseTool.CreateStampMark};var apP={bx:ar.createHighlightMarkToolMenuItem,h:kZ.MouseTool.CreateHighlightTextMark};var acP={ab:55,cz:[{bx:ar.thicknessMenu.item1,h:1},{bx:ar.thicknessMenu.item2,h:2},{bx:ar.thicknessMenu.item3,h:3},{bx:ar.thicknessMenu.item4,h:4},{bx:ar.thicknessMenu.item5,h:5},{bx:ar.thicknessMenu.item6,h:6},{bx:ar.thicknessMenu.item7,h:7},{bx:ar.thicknessMenu.item8,h:8}]};var auE={ab:145,cz:[{bx:ar.opacityMenu.translucent,h:127},{bx:ar.opacityMenu.opaque,h:255}]};var LN={bx:ar.borderThicknessMenuItem,gj:IPCC.fk.GW,am:'lineWidth',mo:acP};var Mz={bx:ar.borderColorMenuItem,gj:IPCC.fk.Og,am:'lineColor'};var Hl={bx:ar.fillColorMenuItem,gj:IPCC.fk.Og,am:'fillColor'};var alG={bx:ar.lineThicknessMenuItem,gj:IPCC.fk.GW,am:'lineWidth',mo:acP};var amv={bx:ar.lineColorMenuItem,gj:IPCC.fk.Og,am:'lineColor'};var aFB={bx:ar.fontMenuItem,gj:IPCC.fk.alH};var PO={bx:ar.opacityMenuItem,gj:IPCC.fk.GW,am:'opacity',mo:auE};var asZ={bx:ar.moveToBackMenuItem,gj:IPCC.fk.anf};var apQ={bx:ar.moveBackwardMenuItem,gj:IPCC.fk.ams};var apz={bx:ar.moveForwardMenuItem,gj:IPCC.fk.ame};var ate={bx:ar.moveToFrontMenuItem,gj:IPCC.fk.anc};var ve={bx:ar.deleteMarkMenuItem,gj:IPCC.fk.agj};var aue={ab:180,cz:[aGh,aGm,aFC,apg,aoq]};var auA={bx:ar.zoomToFitMenuItem,gj:IPCC.fk.acG,mo:aue};var awI={ab:200,cz:[ayE,ayP,aEG,aDm]};var avp={bx:ar.orientationMenuItem,mo:awI};var RA;if(IPCC.cR){if(IPCC.gr===false){RA={ab:180,cz:[Uf,So,ZP,Vj,null]};}else{RA={ab:180,cz:[Uf,So,ZP,Vj,null,aBD,arb,aqL,ara,apW,apy,apP]};}}else{RA={ab:180,cz:[Uf,So,ZP,Vj]};}var aqi={bx:ar.mouseToolsMenuItem,gj:IPCC.fk.abV,mo:RA};var aAi={ab:150,cz:[Hl,LN,Mz,null,PO]};var aCx={ab:150,cz:[Hl,LN,Mz,null,null]};var aAK={ab:150,bx:ar.rectangleMarkPropertiesMenuItem,mo:aAi};var aBX={ab:150,bx:ar.rectangleMarkPropertiesMenuItem,mo:aCx};var aom={ab:150,cz:[aFB,Hl,LN,Mz,null,null,null,PO]};var aoM={bx:ar.textMarkPropertiesMenuItem,mo:aom};var aqX={ab:150,cz:[Hl,LN,Mz,null,PO]};var arn={bx:ar.polygonMarkPropertiesMenuItem,mo:aqX};var apJ={ab:140,cz:[alG,amv,null,PO]};var apS={bx:ar.polylineMarkPropertiesMenuItem,mo:apJ};var azO={ab:140,cz:[alG,amv,null,null]};var aAO={bx:ar.lineMarkPropertiesMenuItem,mo:azO};var aGJ={ab:140,cz:[ate,apz,apQ,asZ]};var xR={bx:ar.markOrderingMenuItem,mo:aGJ};var aEa={ab:150,cz:[Hl]};var abM={bx:ar.stampMarkPropertiesMenuItem,mo:aEa};this.atO={ab:180,cz:[avc,aui,auA,avp,aqi]};this.anC={ab:140,cz:[aoM,xR,ve]};this.azQ={ab:140,cz:[aAK,xR,ve]};this.aDD={ab:140,cz:[abM,xR,ve]};this.aEs={ab:140,cz:[null,xR,ve]};this.aCA={ab:140,cz:[aBX,xR,ve]};this.aqd={ab:140,cz:[arn,xR,ve]};this.aqS={ab:140,cz:[apS,xR,ve]};this.azD={ab:140,cz:[aAO,xR,ve]};this.aCb={ab:140,cz:[abM,null,ve]};};en.prototype.mC=function(L){this.L=L;};en.prototype.fF=function(){this.L=false;};en.prototype.bE=function(){};en.prototype.SR=function(R){var fO;if(R.mark&&this.Wx){var KJ=R.mark.iI();switch(R.mark.get_type()){case IPCC.Web.UI.MarkType.Line:fO=this.azD;break;case IPCC.Web.UI.MarkType.Polyline:fO=this.aqS;break;case IPCC.Web.UI.MarkType.Rectangle:fO=this.azQ;break;case IPCC.Web.UI.MarkType.Ellipse:fO=this.aCA;break;case IPCC.Web.UI.MarkType.Polygon:fO=this.aqd;break;case IPCC.Web.UI.MarkType.Text:fO=this.anC;break;case IPCC.Web.UI.MarkType.Stamp:if(KJ===true){fO=this.aEs;}else{fO=this.aDD;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(R.mark.ja==='y'){fO=this.aCb;}break;}}if(!fO){fO=this.atO;}var vo=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ww=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var act=new IPCC.Web.UI.Point(R.domEvent.clientX+vo,R.domEvent.clientY+ww);var F=this;function xO(aX){if(sN){var ax=aX.target;if(ax&&ax===null){return;}var DK,amu;while(ax&&ax!==document.body&&ax.parentNode!==null){if(ax&&ax!==null){if(ax===sN){amu=true;}if(!DK&&ax.ImGearCommand){DK=ax.ImGearCommand;}ax=ax.parentNode;}}if(!amu||DK){IPCC.Web.UI.bb.removeHandler(document.body,'mousedown',xO);IPCC.Web.UI.bb.removeHandler(document.body,'mousemove',ajt);document.body.removeChild(sN);sN=null;if(DK){DK.RU=R;F.aEU(DK);}}}};function YF(Ks,xW,xs,Fp){var cB=false,T,ax;for(T=0;T<xW.length;T++){if(Ks===xW[T]){cB=true;}}if(!cB&&Ks.ImGearType==='menu'){Ks.style.display='none';}else{Ks.style.display='block';}ax=Ks.firstChild;while(ax){if(ax.ImGearType==='menuItemHighlight'){if(ax===Fp){ax.style.display='block';}else{ax.style.display='none';}}if(ax.firstChild){YF(ax,xW,xs,Fp);}ax=ax.nextSibling;}};function ajt(aX){if(sN){var ax=aX.target;if(ax&&ax===null){return;}var xW=[sN],xs,Fp;while(ax&&ax!==document.body&&ax.parentNode!==null){if(!xs&&ax.ImGearType==='menuItem'){xs=ax;}if(ax.ImGearType==='menu'){xW.push(ax);}ax=ax.parentNode;}if(xs){ax=xs.firstChild;while(ax){if(ax.ImGearType==='menuItemHighlight'){Fp=ax;}else if(ax.ImGearType==='menu'){xW.push(ax);}ax=ax.nextSibling;}}YF(sN,xW,xs,Fp);}};var aE;if(window.innerWidth){aE={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aE={x:vo,y:ww,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aE={x:vo,y:ww,width:document.body.clientWidth,height:document.body.clientHeight};}var sN=this.anv(fO,false,false,act,act,true,aE,document.body,R.mark);YF(sN,[sN],null,null);document.body.appendChild(sN);IPCC.Web.UI.bb.addHandler(document.body,'mousedown',xO);IPCC.Web.UI.bb.addHandler(document.body,'mousemove',ajt);};en.prototype.anv=function(fO,gj,am,Zg,WK,EH,aE,atv,C){var ano=24,afL=1;var T,Vs=0;for(T=0;T<fO.cz.length;T++){var aCM=fO.cz[T];if(aCM){Vs+=ano;}else{Vs+=afL;}}var PM;if(EH){PM=WK.x+fO.ab;if(PM>aE.x+aE.width){EH=false;}}if(!EH){PM=Zg.x-fO.ab;if(PM<aE.x){EH=true;}}var rY={x:WK.x,y:WK.y};if(!EH){rY={x:Zg.x-fO.ab-2,y:Zg.y-2};}var akj=aE.y+aE.height-Vs-8;if(rY.y>akj){rY.y=akj;}if(rY.y<aE.y+2){rY.y=aE.y+2;}function gs(ro){var yR=document.createElement('div');var T;for(T in ro){if(ro.hasOwnProperty(T)){yR.style[T]=ro[T];}}return yR;};var Mf=gs({zIndex:2,width:fO.ab+'px',left:rY.x+'px',top:rY.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Mf.ImGearType='menu';for(T=0;T<fO.cz.length;T++){var wW=fO.cz[T];var tQ;if(wW){tQ=gs({position:'relative',height:'24px'});tQ.ImGearType='menuItem';var Ay=gs({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});tQ.appendChild(Ay);var amK=gs({textOverflow:'ellipsis',whiteSpace:'nowrap',width:fO.ab-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});tQ.appendChild(amK);var alW=gs({display:'none',position:'absolute',height:'24px',width:fO.ab+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});alW.ImGearType='menuItemHighlight';tQ.appendChild(alW);amK.appendChild(document.createTextNode(wW.bx));var MC=wW.gj||gj;var IS=wW.am||am;if(IS){if(MC===IPCC.fk.GW){var anH=C['get_'+IS]();if(anH===wW.h){if(this.L.tU()){Ay.style.backgroundImage='url(\''+this.L.tU()+'/MenuIcons.png'+'\')';}else{Ay.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Ay.style.backgroundPosition='0px';}}else if(MC===IPCC.fk.amB){var aoD=C['get_'+IS]();if(aoD){if(this.L.tU()){Ay.style.backgroundImage='url(\''+this.L.tU()+'/MenuIcons.png'+'\')';}else{Ay.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Ay.style.backgroundPosition='24px 0px';}}}if(!wW.mo){tQ.ImGearCommand={gj:MC,am:IS,h:wW.h};}else{var aqp={x:aE.x-rY.x,y:aE.y-rY.y,width:aE.width,height:aE.height};this.anv(wW.mo,MC,IS,{x:0,y: -1},{x:fO.ab,y: -1},EH,aqp,tQ,C);}rY.y+=ano;}else{tQ=gs({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});rY.y+=afL;}Mf.appendChild(tQ);}atv.appendChild(Mf);return Mf;};en.prototype.aAX=function(C,cq,L){var vo=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ww=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aE;if(window.innerWidth){aE={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aE={x:vo,y:ww,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aE={x:vo,y:ww,width:document.body.clientWidth,height:document.body.clientHeight};}var mQ=aE.x+aE.width/2;var mu=aE.y+aE.height/2;var hT=document.createElement('div');hT.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mu-85)+'px;left:'+(mQ-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ar.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ar.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ar.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.ar.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hT);var Zu=document.getElementById('ImGearColorRed');var aiG=document.getElementById('ImGearColorGreen');var akx=document.getElementById('ImGearColorBlue');var Mu=document.getElementById('ImGearColorOKButton');var Jd=document.getElementById('ImGearColorCancelButton');var Sg=C['get_'+cq]();var PG;if(Sg.length===7&&Sg.charAt(0)==='#'){PG=parseInt(Sg.slice(1),16);}Zu.value=(PG>>16);aiG.value=((PG>>8)&255);akx.value=(PG&255);function Vt(YV){var h=Math.floor(+(YV.value));if(!isFinite(h)){h=0;}if(h<0){h=0;}if(h>255){h=255;}return h;};function AH(){IPCC.Web.UI.bb.removeHandler(Mu,'click',FW);IPCC.Web.UI.bb.removeHandler(Jd,'click',IC);IPCC.Web.UI.bb.removeHandler(document.body,'mousedown',xO);};function FW(){var dK=Vt(Zu)*65536+Vt(aiG)*256+Vt(akx);C['set_'+cq]('#'+(0x1000000+dK).toString(16).slice(1));AH();document.body.removeChild(hT);hT=null;L.cG();};function IC(){AH();document.body.removeChild(hT);hT=null;};function xO(aX){if(hT){var ax=aX.target;var IM;while(ax!==document.body){if(ax===hT){IM=true;}ax=ax.parentNode;}if(!IM){AH();document.body.removeChild(hT);hT=null;}}};IPCC.Web.UI.bb.addHandler(Mu,'click',FW);IPCC.Web.UI.bb.addHandler(Jd,'click',IC);IPCC.Web.UI.bb.addHandler(document.body,'mousedown',xO);Zu.focus();};en.prototype.aCz=function(C,L){var vo=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var ww=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var aE;if(window.innerWidth){aE={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){aE={x:vo,y:ww,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{aE={x:vo,y:ww,width:document.body.clientWidth,height:document.body.clientHeight};}var mQ=aE.x+aE.width/2;var mu=aE.y+aE.height/2;var hT=document.createElement('div');hT.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mu-85)+'px;left:'+(mQ-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.ar.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ar.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ar.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ar.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.ar.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.ar.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hT);var Ys=document.getElementById('ImGearFontFamily');var agd=document.getElementById('ImGearFontSize');var agr=document.getElementById('ImGearFontItalic');var ahc=document.getElementById('ImGearFontBold');var agJ=document.getElementById('ImGearFontUnderline');var agu=document.getElementById('ImGearFontStrikeout');var Mu=document.getElementById('ImGearFontOKButton');var Jd=document.getElementById('ImGearFontCancelButton');var axc=C.get_fontName();var avT=C.get_fontSize();var rA=C.get_fontStyle();Ys.value=axc;agd.value=avT;agr.checked=rA&IPCC.Web.UI.FontStyle.Italic;ahc.checked=rA&IPCC.Web.UI.FontStyle.Bold;agJ.checked=rA&IPCC.Web.UI.FontStyle.Underline;agu.checked=rA&IPCC.Web.UI.FontStyle.Strikeout;function awT(YV){var h=Math.floor(+(YV.value));if(!isFinite(h)){h=12;}if(h<0.1){h=0.1;}if(h>288){h=288;}return h;};function AH(){IPCC.Web.UI.bb.removeHandler(Mu,'click',FW);IPCC.Web.UI.bb.removeHandler(Jd,'click',IC);IPCC.Web.UI.bb.removeHandler(document.body,'mousedown',xO);};function FW(){C.set_fontName(Ys.value);var ck=awT(agd);C.set_fontSize(ck);var eH=0;if(agr.checked){eH|=IPCC.Web.UI.FontStyle.Italic;}if(ahc.checked){eH|=IPCC.Web.UI.FontStyle.Bold;}if(agJ.checked){eH|=IPCC.Web.UI.FontStyle.Underline;}if(agu.checked){eH|=IPCC.Web.UI.FontStyle.Strikeout;}C.set_fontStyle(eH);AH();document.body.removeChild(hT);hT=null;L.cG();};function IC(){AH();document.body.removeChild(hT);hT=null;};function xO(aX){if(hT){var ax=aX.target;var IM;while(ax!==document.body){if(ax===hT){IM=true;}ax=ax.parentNode;}if(!IM){AH();document.body.removeChild(hT);hT=null;}}};IPCC.Web.UI.bb.addHandler(Mu,'click',FW);IPCC.Web.UI.bb.addHandler(Jd,'click',IC);IPCC.Web.UI.bb.addHandler(document.body,'mousedown',xO);Ys.focus();};en.prototype.aEU=function(R){var C=R.RU.mark;switch(R.gj){case IPCC.fk.GW:C['set_'+R.am](R.h);this.L.cG();break;case IPCC.fk.Og:this.aAX(C,R.am,this.L);break;case IPCC.fk.alH:this.aCz(C,this.L);break;case IPCC.fk.amB:C['set_'+R.am](!C['get_'+R.am]());this.L.cG();break;case IPCC.fk.anf:C.moveToBack();this.L.cG();break;case IPCC.fk.ams:C.moveBackward();this.L.cG();break;case IPCC.fk.ame:C.moveForward();this.L.cG();break;case IPCC.fk.anc:C.moveToFront();this.L.cG();break;case IPCC.fk.agj:C.removeFromPage();this.L.cG();break;default:this.L.axE(R);break;}};module.exports=en;},{}],21:[function(require,module,exports){var ai={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,eF:function(aU){if(typeof aU==='string'){return aU;}switch(aU){case IPCC.ai.Default:case IPCC.ai.Magnifier:case IPCC.ai.None:case IPCC.ai.RunMarks:return 'auto';case IPCC.ai.Arrow:case IPCC.ai.EditMarks:return 'default';case IPCC.ai.Crosshair:case IPCC.ai.RectangleZoom:case IPCC.ai.AddRectangleMark:case IPCC.ai.AddEllipseMark:case IPCC.ai.AddLineMark:case IPCC.ai.AddFreehandLineMark:case IPCC.ai.AddPolygonMark:case IPCC.ai.AddPolylineMark:case IPCC.ai.AddTextMark:case IPCC.ai.AddRectangleRedactionMark:case IPCC.ai.AddImageStampMark:case IPCC.ai.AddStampMark:return 'crosshair';case IPCC.ai.Link:return 'pointer';case IPCC.ai.HandOpen:case IPCC.ai.HandClosed:case IPCC.ai.Move:return 'move';case IPCC.ai.ResizeN:return 'n-resize';case IPCC.ai.ResizeE:return 'e-resize';case IPCC.ai.ResizeS:return 's-resize';case IPCC.ai.ResizeW:return 'w-resize';case IPCC.ai.ResizeNW:return 'nw-resize';case IPCC.ai.ResizeNE:return 'ne-resize';case IPCC.ai.ResizeSE:return 'se-resize';case IPCC.ai.ResizeSW:return 'sw-resize';case IPCC.ai.Text:return 'text';}return 'auto';}};module.exports=ai;},{}],22:[function(require,module,exports){var ik={qI:function(hN,Lp){var aZ,bY,fv;if(hN===null){return 'null';}if(!Lp){Lp=0;}aZ=typeof(hN);if(aZ==='undefined'){return 'undefined';}else if(aZ==='number'||aZ==='boolean'){return hN.toString();}else if(aZ==='string'){return '\''+hN+'\'';}else if(aZ==='function'){return 'function';}else{if(Lp<0){return 'hN';}bY='{';for(fv in hN){if(hN.hasOwnProperty(fv)){if(bY.length>2){bY+=', ';}bY+=fv;bY+=': ';bY+=IPCC.ik.qI(hN[fv],Lp-1);}}bY+='}';return bY;}},Nh:function(bx){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bx+'\n';}},aGP:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},nM:function(kf,Gv,bV,CD,yN){var bx="PCC Controls - ";bx+=(CD)?CD:" ";bx+=" parent Div id = ";bx+=(yN)?yN:" ";if(Gv){switch(Gv){case 0:bx+=" FunctionCall ";break;case 1:bx+=" Exception ";break;case 2:bx+=" Custom ";break;case 3:bx+=" UserAction ";break;case 4:bx+=" Warning ";break;default:bx+=" unknown ";}}bx+=" - "+kf;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bx);}if(window.console&&window.console.log){window.console.log(bx);}if(window.opera){window.opera.postError(bx);}if(window.debugService){window.debugService.trace(bx);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bx+'\n';}var Lz;try{Lz=onPCCItemLogged;}catch(ex){}if(Lz&&(typeof(Lz)).toLowerCase()==='function'){var dM=new IPCC.Web.UI.LogItemEventArgs();dM.message=kf;dM.cause=Gv;dM.level=bV;dM.id=yN;Lz(dM);}}};module.exports=ik;},{}],23:[function(require,module,exports){var me=function(){this.bM=false;this.L=false;};me.prototype.mC=function(L){this.L=L;this.L.aeB(true);this.aj=L.ae();};me.prototype.fF=function(){if(arguments[0]){if(arguments[0]===true){this.L=false;return;}}this.L.aeB(false);this.L=false;};me.prototype.bE=function(){if(this.bM){this.L.Gn(true);this.aj.oI();this.bM=false;this.L.cG();}};me.prototype.Bu=function(R){this.bE();var C=R.mark;if(C&&C.jg()===IPCC.Web.UI.MarkType.Text){this.L.vQ(C);this.L.cG();}};me.prototype.ko=function(R){this.bE();var iZ=R.domEvent;if(iZ.button===0){var dI=iZ.target;this.dm=dI.ImGearMarkHandle;if(this.dm){this.vW=this.dm.aZ;this.mA=this.dm.ak;}else{this.vW=null;this.mA=null;}while(!(dI.ImGearMarkRelation)&&dI.parentNode&&dI!==document.body){dI=dI.parentNode;}this.J=dI.ImGearMarkRelation;if(this.J){this.C=this.J.C;}else{this.C=null;}this.bM=true;this.KM=R.imagePoint;this.DQ=R.imagePoint;var C=this.C;if(!C||C.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!iZ.shiftKey){this.L.eU().xC().removeAllMarks();}this.aj.EE(R.imagePoint);}else{var gA,G;switch(this.vW){case IPCC.cR.cr.prototype.ZU:this.io=C.fw();this.Zm=Math.abs(this.io.width);this.Ho=Math.abs(this.io.height);gA={x:this.io.x,y:this.io.y};this.Lx={x:this.io.x+this.io.width,y:this.io.y+this.io.height};if(this.mA>0&&this.mA<3){gA.x+=this.io.width;this.Lx.x-=this.io.width;}if(this.mA>1){gA.y+=this.io.height;this.Lx.y-=this.io.height;}this.aHP=gA;break;case IPCC.cR.cr.prototype.YA:G=C.fw();this.io=G;gA={x:G.x+G.width/2,y:G.y+G.height/2};switch(this.mA){case 0:this.zZ=G.y+G.height;gA.y=G.y;break;case 1:this.zZ=G.x;gA.x=G.x+G.width;break;case 2:this.zZ=G.y;gA.y=G.y+G.height;break;case 3:this.zZ=G.x+G.width;gA.x=G.x;break;}break;case IPCC.cR.cr.prototype.HW:this.bn=C.pH();if(this.mA<0||this.mA>this.bn.eY()){this.bE();}gA=this.bn.getPoint(this.mA);break;case IPCC.cR.cr.prototype.Kn:break;case IPCC.cR.cr.prototype.YK:G=C.fw();gA={x:G.x+C.lL.x,y:G.y+C.lL.y};break;default:var xf=C.get_selected();if(iZ.ctrlKey||iZ.shiftKey){xf= !xf;C.set_selected(xf);}else{if(!xf){xf=true;this.L.eU().xC().removeAllMarks();if(C.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var T=0;T<this.L.eU().get_markCount();T++){var Us=this.L.eU().getMark(T);if(Us.jg()===608&&Us.bU===C.bU){Us.set_selected(xf);}}}else{C.set_selected(xf);}}}if(!xf){this.bE();}break;}if(this.bM&&gA){this.aEM=gA.x-this.KM.x;this.aDY=gA.y-this.KM.y;if(this.dm){this.aj.aFU(this.dm.aU);}}}if(this.bM){this.L.Gn(false);}}this.L.cG();};me.prototype.jG=function(R){var iZ=R.domEvent;var DQ;function avw(azx){azx.HM(R.imagePoint.x-DQ.x,R.imagePoint.y-DQ.y);};if(iZ.button!==0){this.bE();}if(this.bM){var C=this.C;if(!C||C.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aj.AE(R.imagePoint);}else{var gA={x:R.imagePoint.x+this.aEM,y:R.imagePoint.y+this.aDY};var G;switch(this.vW){case IPCC.cR.cr.prototype.ZU:var rk={x:gA.x,y:gA.y};var kB={x:this.Lx.x,y:this.Lx.y};if(iZ.ctrlKey){kB.x=this.io.x+this.io.width/2;kB.y=this.io.y+this.io.height/2;}if(iZ.shiftKey){var sX=Math.abs(rk.x-kB.x);var sF=Math.abs(rk.y-kB.y);if(sX*this.Ho<sF*this.Zm){if(this.Ho>0.001){sX=sF*this.Zm/this.Ho;}}else{if(this.Ho>0.001){sF=sX*this.Ho/this.Zm;}}if(rk.x<kB.x){sX= -sX;}if(rk.y<kB.y){sF= -sF;}rk.x=kB.x+sX;rk.y=kB.y+sF;}if(iZ.ctrlKey){kB={x:kB.x-(rk.x-kB.x),y:kB.y-(rk.y-kB.y)};}G={};G.x=Math.min(kB.x,rk.x);G.width=Math.max(kB.x,rk.x)-G.x;G.y=Math.min(kB.y,rk.y);G.height=Math.max(kB.y,rk.y)-G.y;C.set_rectangle(G);break;case IPCC.cR.cr.prototype.YA:G=C.fw();var Cc;if(this.mA&1){if(iZ.ctrlKey){Cc=this.io.x+this.io.width/2;G.width=Math.abs(gA.x-Cc)*2;G.x=Cc-G.width/2;}else{G.x=Math.min(gA.x,this.zZ);G.width=Math.max(gA.x,this.zZ)-G.x;}}else{if(iZ.ctrlKey){Cc=this.io.y+this.io.height/2;G.height=Math.abs(gA.y-Cc)*2;G.y=Cc-G.height/2;}else{G.y=Math.min(gA.y,this.zZ);G.height=Math.max(gA.y,this.zZ)-G.y;}}C.set_rectangle(G);break;case IPCC.cR.cr.prototype.HW:this.bn=C.pH();gA=this.bn.setPoint(this.mA,gA);break;case IPCC.cR.cr.prototype.Kn:break;case IPCC.cR.cr.prototype.YK:G=C.fw();C.set_calloutPoint({x:gA.x-G.x,y:gA.y-G.y});break;default:DQ=this.DQ;this.DQ=R.imagePoint;this.L.eU().xC().kH(avw);break;}}this.L.cG();}};me.prototype.kk=function(){function atE(C){var Kx=C.ags();if(adD.contains(Kx)&&adD.contains({x:Kx.x+Kx.width,y:Kx.y+Kx.height})){C.set_selected(true);}};if(this.bM){if(!this.C){var adD=this.aj.wk();this.L.eU().BW(atE);this.aj.oI();}this.bE();}};me.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};me.prototype.nk=function(){this.bE();};module.exports=me;},{}],24:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var Qd=function(){return this;};Qd.registerClass=dh;Qd.prototype={};Qd.registerClass('IPCC.ExceptionEventArgs');module.exports=Qd;},{"./IPCC.Util":28}],25:[function(require,module,exports){var ep=require('./IPCC.Util').regEnum;var oa=function(){};oa.registerEnum=ep;oa.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};oa.registerEnum('IPCC.FitType',false);module.exports=oa;},{"./IPCC.Util":28}],26:[function(require,module,exports){var Ct=function(){function Dk(){return Math.floor((Math.random()*10)).toString();};var iu=new Date();return Dk()+Dk()+'_'+iu.getTime()+"_"+Dk()+Dk()+Dk()+Dk();};module.exports=Ct;},{}],27:[function(require,module,exports){var oD=function(){this.bM=false;this.L=false;};oD.prototype.mC=function(L){this.L=L;};oD.prototype.fF=function(){this.L=false;};oD.prototype.bE=function(){if(this.bM){this.bM=false;}};oD.prototype.sx=function(){this.bE();};oD.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){this.bM=true;this.KM=R.imagePoint;}};oD.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){var L=this.L;var aj=L.ae();var ba=aj.fa();var bA=L.es();ba.aaZ(this.KM,R.windowPoint);ba.jJ(L.cJ(),bA);L.af('userModifiedViewState',{});aj.jC(ba);L.cG();}};oD.prototype.kk=function(){this.bE();};oD.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};oD.prototype.nk=function(){this.bE();};module.exports=oD;},{}],28:[function(require,module,exports){var K={};K.VI=(function(){var ky={};var AV=[];ky.get=function aHl(rW){if(AV.length===0){return;}for(var i=0;i<rW.length;i++){if(AV[i]&&AV[i].rW===rW){return AV[i].iK;}}};ky.set=function aIx(rW,iK){AV.push({rW:rW,iK:iK});if(AV.length>10){AV.shift();}};ky.contains=function jr(rW){return ky.get(rW)!==undefined;};ky.cacheReponse=function aIv(rW,iK){if(iK.readyState===4){ky.set(rW,iK);}else{var ayn=iK.onreadystatechange;iK.onreadystatechange=function(){if(iK.readyState===XMLHttpRequest.DONE&&iK.status===200){ky.set(rW,iK);}ayn();};}};return ky;})();K.ZK=false;K.MR=(function(){var MR=false;var sc=navigator.userAgent,Yo=((sc.indexOf('Mozilla/5.0')> -1&&sc.indexOf('Android ')> -1&&sc.indexOf('AppleWebKit')> -1)&& !(sc.indexOf('Chrome')> -1)),aeP=new RegExp(/AppleWebKit\/([\d.]+)/),aCg=aeP.exec(sc),akh=(aCg===null?null:parseFloat(aeP.exec(sc)[1]));MR=Yo&&akh!==null&&akh<537;return MR;})();K.aAF=(function(){var amV=false;var sc=navigator.userAgent,Yo=/Android/i.test(sc),aAr=/iPhone|iPad|iPod/i.test(sc),aAB=/IEMobile/i.test(sc);amV=(Yo||aAr||aAB);return amV;})();K.DW=(function(){var DW=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){DW=true;}return DW;})();K.zF=(function(){var avu=navigator.userAgent;if(document.documentMode===10||K.MR){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(avu)&& !K.aAF){return 'svga';}else{return 'svgb';}})();K.BS=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();K.Fz=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();K.HA=K.Fz||(function(){return('ontouchstart'in document.documentElement);})();K.aCq=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();K.aiY=function(){return K.aoE.btoa((Math.random().toString(36).slice(-4))+'_'+K.tq(new Date())+'_'+(Math.random().toString(36).slice(-6)));};K.inArray=function(dR,ce){for(var i=0,l=dR.length;i<l;i++){if(dR[i]===ce){return true;}}return false;};K.forEach=function(aK,bv,cF){var qs=[].forEach,aBc=Object.prototype.hasOwnProperty;if(qs&&aK.forEach===qs){bv&&aK.forEach(bv,cF);}else if(aK.length=== +aK.length){for(var i=0,length=aK.length;i<length;i++){bv&&bv.call(cF,aK[i],i,aK);}}else{for(var am in aK){if(aBc.call(aK,am)){bv&&bv.call(cF,aK[am],am,aK);}}}};K.map=function(dR,bv,cF){var qs=[].map,uo=[];if(qs&&dR.map===qs){uo=dR.map(bv,cF);}else{K.forEach(dR,function(el,i){uo.push(bv.call(cF,el,i,dR));});}return uo;};K.filter=function(dR,bv,cF){var qs=[].filter,uo=[],acN=false;if(qs&&dR.filter===qs){uo=dR.filter(bv,cF);}else{K.forEach(dR,function(bo,i){acN=bv.call(cF,bo,i,dR);if(acN){uo.push(bo);}});}return uo;};K.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};K.remove=function(dR,bv,cF){var abI=[];var awW=K.filter(dR,bv,cF);K.forEach(awW,function(ce){var ak=K.indexOf(dR,ce);if(ak=== -1){return;}abI=abI.concat(dR.splice(ak,1));});return abI;};K.keys=function(aK){if(Object&&Object.keys){return Object.keys(aK);}else{var na=[];for(var T in aK){if(aK.hasOwnProperty&&aK.hasOwnProperty(T)){na.push(T);}}return na;}};K.indexOf=function(dR,ach,agS){if(Array.prototype.indexOf){return dR.indexOf(ach,agS);}var k;if(dR==null){throw new TypeError('"dR" is null or not defined');}var O=Object(dR);var len=O.length>>>0;if(len===0){return-1;}var n= +agS||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===ach){return k;}k++;}return-1;};K.reduce=function(dR,bv,fl,cF){var qs=[].reduce;var Je=(arguments.length===2)?undefined:fl;if(qs&&typeof qs==='function'&&dR.reduce===qs&&cF===undefined){if(fl!==undefined){return dR.reduce(bv,fl,cF);}return dR.reduce(bv);}IPCC.K.forEach(dR,function(bd,aN){if(Je===undefined){Je=bd;return;}Je=bv.call(cF,Je,bd,aN,dR);});return Je;};K.reduceLeft=function(dR,bv,fl,cF){var uo=dR.reverse();return K.reduce.call(undefined,uo,bv,fl,cF);};K.contains=function(dR,bd){var cE=dR.length;while(cE--){if(dR[cE]===bd){return true;}}return false;};K.anK=function(St,anw){if(St.length!==anw.length){return false;}for(var i=0,l=St.length;i<l;i++){if(St[i]!==anw[i]){return false;}}return true;};K.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};K.trim=function(bY){if(String.prototype.trim){return bY.trim();}return bY.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};K.getPageFromPoint=function(bw,dc,cF){var aBM=function(gM){return gM.left<=bw&&bw<=gM.right&&gM.top<=dc&&dc<=gM.bottom;};var aCL=function(){return K.filter(cF.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iH){return aBM(iH.getBoundingClientRect());});};if(!cF){cF=document;}return aCL(bw,dc)[0];};K.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};K.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Ll in baseType.prototype){if(baseType.prototype.hasOwnProperty(Ll)){var aCU=baseType.prototype[Ll];if(!this.prototype[Ll]){this.prototype[Ll]=aCU;}}}}return this;};K.ahx=function(Zs,Rh,akn){if(Rh){if(!akn){Rh.apply(Zs);}else{Rh.apply(Zs,akn);}}return Zs;};K.aiw=function aiw(wF,arQ,aiS){var nV;return function(){var cF=this,dM=arguments;var axP=function(){nV=undefined;if(!aiS){wF.apply(cF,dM);}};var aqJ=aiS&& !nV;clearTimeout(nV);nV=setTimeout(axP,arQ);if(aqJ){wF.apply(cF,dM);}};};K.ald=function ald(cZ,rQ){if(cZ.classList){cZ.classList.add(rQ);}else{cZ.className+=' '+rQ;}};K.ajp=function ajp(cZ,rQ){if(cZ.classList){cZ.classList.remove(rQ);}else{cZ.className=cZ.className.replace(rQ,'');}};K.WR=function(ii){return{width:ii.width||(ii.right-ii.left),height:ii.height||(ii.bottom-ii.top),top:ii.top,bottom:ii.bottom,left:ii.left,right:ii.right};};K.agZ=function(alphabet,size){var rh='';for(var T=0;T<size;T++){rh+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return rh;};K.aFW=function(){var apk='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aCy='AQgw';return K.agZ(apk,21)+K.agZ(aCy,1);};K.aiW=function(){var iA={'Accusoft-Gid':K.aFW(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return iA;};K.qJ=function(ah){if(ah instanceof K.qJ){return ah;}this.iA=K.reduce(ah.headers||{},function(qZ,bd,by){by=by.toLowerCase();if(qZ[by]){qZ[by]+=', '+bd;}else{qZ[by]=bd;}return qZ;},{});this.status=ah.status;this.statusText=ah.statusText;this.responseText=ah.responseText;if(typeof ah.responseBody!=='undefined'){this.responseBody=ah.responseBody;}return this;};K.qJ.prototype.getResponseHeader=function(DG){var ah=this.iA[DG.toLowerCase()];return ah!==undefined?ah:null;};K.mY=(function(){var zD={};zD.iA={};zD.PE=undefined;function ahN(afX){if(!afX){return{};}return afX.split('\r\n').reduce(function(PQ,mt){var ak=mt.indexOf(': ');if(ak>0){var by=mt.slice(0,ak);var h=mt.slice(ak+2);if(PQ[by]){h=PQ[by]+', '+h;}PQ[by]=h;}return PQ;},{});};zD.fE=function(asj){var An={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},jR=PCCViewer.Deferred(),cd=jR.getPromise(),sz;var bk=K.extend({},An,asj);bk.headers=K.extend({},zD.iA,bk.headers);if(typeof zD.PE==='function'){sz=zD.PE(bk);if(typeof sz==='object'&&typeof sz.then==='function'){sz.then(function(aR){jR.resolve(aR);},function(aR){jR.reject(aR);});return cd;}}if(bk.cache&&K.VI.contains(bk.url)){var iK=K.VI.get(bk.url);var ah,tA={};tA={status:iK.status,headers:ahN(iK.getAllResponseHeaders())};try{tA.responseText=iK.responseText;}catch(e){}if(typeof iK.responseBody!=='undefined'){tA.responseBody=iK.responseBody;}ah=new K.qJ(tA);if(iK.status>=200&&iK.status<300||status===304){jR.resolve(ah);}else{jR.reject({response:ah,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iK.status+" "+iK.statusText)});}return cd;}var iC,nV;try{iC=new XMLHttpRequest();}catch(e){jR.reject(new PCCViewer.Error("Error",e.message));}if(iC){iC.open(bk.method,bk.url,true);if(bk.timeout){nV=window.setTimeout(function(){iC.abort();jR.reject({error:new PCCViewer.Error("Error","Request timed out")});},bk.timeout);}iC.onreadystatechange=function(){var ah,tA={};if(iC.readyState===4){if(nV){window.clearTimeout(nV);}tA={status:iC.status,headers:ahN(iC.getAllResponseHeaders())};try{tA.responseText=iC.responseText;}catch(e){}if(typeof iC.responseBody!=='undefined'){tA.responseBody=iC.responseBody;}ah=new K.qJ(tA);if(iC.status>=200&&iC.status<300||status===304){jR.resolve(ah);}else{jR.reject({response:ah,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iC.status+" "+iC.statusText)});}}};var WV=K.extend({},bk.headers,K.aiW());for(var by in WV){if(WV.hasOwnProperty(by)){iC.setRequestHeader(by,WV[by]);}}if(typeof bk.mimeType==='string'&&typeof iC.overrideMimeType==='function'){iC.overrideMimeType(bk.mimeType);}if(bk.cache){K.VI.cacheReponse(bk.url,iC);}iC.send(bk.body);}return cd;};return zD;})();K.YM=function(ga,nQ,fF){var gu=[],uy=null,wc=null,aL;var aza=function(wc,uy){if(!uy){return false;}else{return Math.abs(wc.y-uy.y)<1&&Math.abs(wc.height-uy.height)<1&&wc.x+wc.width>=uy.x+uy.width;}};for(aL=nQ;aL<fF+1;aL++){wc=ga.kQ(aL).aE;if(aza(wc,uy)){uy.union(wc);}else{uy=wc.clone();gu.push(uy);}}return gu;};K.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};K.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};K.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bn){var aqU=K.map(bn,function(bo){return[bo.x,bo.y];});return d3_svg_lineBasis(aqU);};})();K.aGL=function(bY){if(bY.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aCn=K.filter(bY.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqk=K.map(aCn,function(el){var asr=el.replace(/[a-zA-Z]/g,'|').split('|');return K.map(asr,function(gj){var akg=gj.split(',');return{x: +akg[0],y: +akg[1]};});});return aqk;};K.ajd=function(bY,iL,kt,lq,bk){bk.ck="12px";var jt=K.tY(bY,iL,bk),wN=12*kt/(jt.width||1),wf=12*lq/(jt.height||1),apO=Math.min(wN,wf);bk.ck=apO;return K.ajh(bY,iL,kt,lq,bk);};K.ajh=function(bY,iL,kt,lq,bk,NF){NF=NF||1;var nc={},jt=K.tY(bY,iL,bk),ck=bk.ck;nc.width=jt.width;nc.height=jt.height;nc.fontSize=ck;if(NF>3){return nc;}if((jt.width<kt+1)&&(jt.height<lq+1)){return nc;}else{var wN=ck*kt/(jt.width||1),wf=ck*lq/(jt.height||1),zN=Math.min(wN,wf);if(zN>=bk.ck){return nc;}else{bk.ck=zN;return K.ajh(bY,iL,kt,lq,bk,NF+1);}}};K.tY=function(bY,iL,bk){bk=bk||{};if(document.createElementNS){return K.aBt(bY,iL,bk);}else{return K.ajj(bY,iL,bk);}};K.aBt=function(bY,iL,bk){var svg,agc=false;if(bk.fg){svg=bk.fg;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');agc=true;document.body.appendChild(svg);}var ck=bk.ck||"12px";if(typeof ck==="number"){ck=ck+"px";}var cP=document.createElementNS("http://www.w3.org/2000/svg","text");K.forEach({x:0,y:0,'font-size':ck,'stroke':"none",'fill':"#000000",'font-family':iL},function(value,name){cP.setAttribute(name,value);});if(bk.uS){cP.setAttribute('style','white-space:'+bk.uS);}var mJ=document.createTextNode(bY);cP.appendChild(mJ);svg.appendChild(cP);var vF=cP.getBBox(),FN=vF.width,EY=vF.height;svg.removeChild(cP);if(agc){document.body.removeChild(svg);}if(FN===0&&EY===0&&bY!=="M"){return K.tY("M",iL,bk);}else{return{width:FN,height:EY};}};K.ajj=function(bY,iL,bk){var mJ=document.createTextNode(bY),CF=document.createElement('div');var ck=bk.ck||"12px";if(typeof ck==="number"){ck=ck+"px";}K.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:ck,fontFamily:iL},function(value,name){CF.style[name]=value;});if(bk.uS){CF.style.whiteSpace=bk.uS;}CF.appendChild(mJ);document.body.appendChild(CF);var vF=CF.getBoundingClientRect(),FN=vF.width||vF.right-vF.left,EY=vF.height||vF.bottom-vF.top;document.body.removeChild(CF);if(FN===0&&EY===0&&bY!=="M"){return K.ajj("M",iL,ck);}else{return{width:FN,height:EY};}};K.Wq=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};K.ys={SVG:function SVG(asn){var fg=document.createElementNS("http://www.w3.org/2000/svg","svg");fg.setAttribute('viewBox',asn);return fg;},Path:function Path(wh,ka){var gW=document.createElementNS("http://www.w3.org/2000/svg","path");gW.style.fill='none';gW.style.stroke=ka.color||'#000000';gW.style.strokeWidth=ka.thickness||4;if(wh){gW.setAttribute('d',wh.toString().trim());}return gW;},Rect:function Rect(ab,aT,eH){var aW=document.createElementNS("http://www.w3.org/2000/svg","rect");aW.setAttribute('width',ab||0);aW.setAttribute('height',aT||0);if(eH){aW.setAttribute('style',eH);}return aW;}};K.Fk=function Fk(ly){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(ly);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(ly+' cannot be parsed as an ISO 8601 date.');}};K.tq=function aIf(iu){if(iu.toISOString&&typeof iu.toISOString==='function'){return iu.toISOString();}else{return new Error(iu+' is not a Date object.');}};K.un=function un(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};K.Df=function Df(o){if(K.un(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};K.Ui=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};K.ahr=function(bd){bd=String(bd).replace(/[^0-9a-f]/gi,"");if(bd.length<6){bd=bd[0]+bd[0]+bd[1]+bd[1]+bd[2]+bd[2];}var Yh=function(bY){return parseInt(bY,16);};var r=Yh(bd.substring(0,2));var g=Yh(bd.substring(2,4));var b=Yh(bd.substring(4,6));return{r:r,g:g,b:b};};K.ayZ=function(bd){var Rw="";var OX=function(n){while(n.length<2){n='0'+n;}return n;};var ZT=function(n){return OX(n.toString(16));};Rw+=ZT(Math.floor(bd.r));Rw+=ZT(Math.floor(bd.g));Rw+=ZT(Math.floor(bd.b));return '#'+Rw;};K.aEC=function(aCR,asy,aBv){var DS=aBv,Wp=K.ahr(aCR),oK=K.ahr(asy);oK.r=(1-DS)*oK.r+(Wp.r*DS);oK.g=(1-DS)*oK.g+(Wp.g*DS);oK.b=(1-DS)*oK.b+(Wp.b*DS);oK.r=Math.floor(oK.r);oK.g=Math.floor(oK.g);oK.b=Math.floor(oK.b);return K.ayZ(oK);};K.amA=function(asX,vZ){var aFo=K.reduceLeft(asX,function(fl,dK){if(dK.opacity===undefined){dK.opacity=127;}var atL=dK.opacity/255;return K.aEC(dK.color,fl,atL);},vZ);return aFo;};K.acK=function(fV){if(fV.length===0){return fV;}var fH=fV.slice(0);fH.sort(function(a,b){return a.startIndex-b.startIndex;});var Tq=null;var kb=[];var Vo=0,Om=[];var T=fH[0].startIndex;while(fH.length>0){Vo=0;Om=null;Om=[];var aL=0;while(aL<fH.length&&fH[aL].startIndex<=T){if(T<=fH[aL].startIndex+fH[aL].length-1){Vo++;Om.push(fH[aL]);aL++;}else{fH.splice(aL,1);}}if(Vo>0){var Ee=K.amA(Om,'#ffffff');if(Ee===Tq){kb[kb.length-1].endIndex=T;}else{kb.push({startIndex:T,endIndex:T,color:Ee});}Tq=Ee;T++;}else{if(fH.length>0){T=fH[0].startIndex;}Tq=null;}}return kb;};K.Gz=function(VP){return VP.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};K.amQ=function(aq){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(aq);};K.OX=function(hc,cE){var bY=""+hc;while(bY.length<cE){bY='0'+bY;}return bY;};K.aHm=function(ff){var hf=ff.getTimezoneOffset();hf=((hf<0?'+':'-')+K.OX(parseInt(Math.abs(hf/60),10),2)+K.OX(Math.abs(hf%60),2));return hf;};K.ahG=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];K.Tn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];K.aeO=function(XT){var azk=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aR=azk.exec(XT),amf,Dg,ahC,agk,alC,vD,aaG;if(!aR){return null;}else{amf=aR[1].toLowerCase();ahC=aR[2];agk=aR[3];alC=aR[4];vD=aR[5];aaG=aR[6];for(Dg=0;Dg<12;Dg++){if(K.Tn[Dg].toLowerCase()===amf){break;}}if(Dg>=12){return null;}return new Date(Date.UTC(aaG,Dg,ahC,agk,alC,vD));}};K.ajA=function(ff){return(K.ahG[ff.getUTCDay()]+" "+K.Tn[ff.getUTCMonth()]+" "+ff.getUTCDate()+" "+ff.getUTCHours()+':'+ff.getUTCMinutes()+':'+ff.getUTCSeconds()+" "+"GMT+0000 "+ff.getUTCFullYear());};K.ayw=function(ff){return(K.ahG[ff.getUTCDay()]+" "+K.Tn[ff.getUTCMonth()]+" "+ff.getUTCDate()+" "+ff.getUTCFullYear());};K.axW=function(ff){return(ff.getUTCHours()+':'+ff.getUTCMinutes()+':'+ff.getUTCSeconds()+" "+"GMT+0000");};K.pB=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};K.wL=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};K.aoE=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();K.pj=(function(){var pj=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var aag={};pj.forEach(function(adx){aag[adx]='pointer'+adx;});return aag;}if(window.navigator.msPointerEnabled){var aml={};for(var T=0;T<pj.length;T++){var SV=pj[T];var atc='MSPointer'+SV.charAt(0).toUpperCase()+SV.slice(1);aml[SV]=atc;}return aml;}return{};})();K.wo=(function(){return{zS: ! !navigator.userAgent.match('Edge'),aFZ:document.documentMode!==undefined,aGH:document.documentMode===8,aFh:document.documentMode===9,aGC:document.documentMode===10,aFO:document.documentMode===11,azP:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),ayW:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();K.QG=(function(nA){if(!nA|| !IPCC.K.trim(nA)){return 'regular';}return IPCC.K.trim(nA).toLowerCase();});K.aHN=function(arg,value){return typeof arg!=='undefined'?arg:value;};K.MV=function(value){return Number(value.replace(/[a-z]+$/,''));};K.Qz=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};K.ajE=function(){if(this.sK===undefined){this.sK=document.createTextNode('');}return this.sK;};K.ajg=function(){if(this.dw===undefined){this.dw=document.createElement('textarea');this.sK=document.createTextNode('');this.dw.appendChild(K.sK);this.dw.style.position='absolute';this.dw.style.overflow='hidden';this.dw.style.width='80px';this.dw.style.height='80px';this.dw.style.resize='none';this.dw.style.top='-9999px';this.dw.style.left='-9999px';this.dw.style.whiteSpace='pre-wrap';this.dw.style.border=0;this.dw.style.padding='2px';document.body.appendChild(this.dw);}return this.dw;};K.WT=function(dw,De,bf){var ZG=0.1;var GQ;if(De===0||De>bf){De=bf;}while(ZG<=De){GQ=(ZG+De)/2;dw.style.fontSize=GQ+'px';if(dw.scrollHeight<=dw.offsetHeight){ZG=GQ+0.1;}else{De=GQ-0.1;}}var ahs=(GQ-0.5)*0.95;dw.style.fontSize=ahs+'px';return ahs;};K.Ry=function(wF,nF,Vc,sz){if(wF(nF,Vc)!==Vc){return typeof(sz)==='number'?sz:Vc;}return nF;};K.Nj=function(nF,aCZ,sz){return K.Ry(Math.min,nF,aCZ,sz);};K.KK=function(nF,aDd,sz){return K.Ry(Math.max,nF,aDd,sz);};K.asC=(function(){var It;return function(asM,jH,aCO){if(It!==undefined&& !aCO){setTimeout(jH.bind(null,It),0);return;}asW(asM,function(rh){It=rh;jH(rh);});};function asW(Qe,jH){var iL='jctqxvjmncyjagibfltptfzhknc';var jy='@font-face {font-family:'+iL+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var eH;var po;var agv;var abW,adM;axp();auc(function(rh){atn();jH(rh);});function axp(){eH=document.createElement('style');eH.innerText=jy;Qe.appendChild(eH);po=document.createElement('div');po.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';abW=akp(po,'monospace');adM=akp(po,'arial');Qe.appendChild(po);};function atn(){clearInterval(agv);Qe.removeChild(po);Qe.removeChild(eH);};function auc(bv){var avr=Date.now();var nV=500;var azf=25;agv=setInterval(function(){var aho=abW.offsetWidth===adM.offsetWidth;if(aho||Date.now()-avr>nV){bv(aho);}},azf);};function akp(po,jy){var arN='!!';var acd=document.createElement('div');var Ha=document.createElement('span');Ha.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';Ha.innerText=arN;Ha.style.fontFamily=iL+', '+jy;acd.appendChild(Ha);po.appendChild(acd);return Ha;}}})();K.aqP=function(hD,yT,nv){var wj=document.createElement('div');if(!IPCC.K.wo.ayW){hD=hD.replace(/href="#/g,'href="#'+nv);hD=hD.replace(/url\("?#(.+?)"?\)/g,'url(#'+nv+'$1)');hD=hD.replace(/ id="/g,' id="'+nv);wj.innerHTML=hD;return wj;}wj.innerHTML=hD;var aqR=wj.querySelectorAll('[id]');var aoB=wj.querySelectorAll("*");var arf=yT.replace(/"/g,'\\$&');var aya=['href','xlink:href'];var awn=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.K.forEach(aqR,function(bo){bo.id=nv+bo.id;});IPCC.K.forEach(aoB,function(bo){IPCC.K.forEach(aya,function(pF){if(bo.hasAttribute(pF)&&bo.getAttribute(pF).indexOf('#')===0){bo.setAttribute(pF,bo.getAttribute(pF).replace('#',yT+'#'+nv));}});IPCC.K.forEach(awn,function(pF){if(bo.hasAttribute(pF)&&bo.getAttribute(pF).match(/^url\("?#/)){bo.setAttribute(pF,bo.getAttribute(pF).replace(/^url\("?#(.+?)\"?\)$/,'url("'+yT+'#'+nv+'$1")'));}});if(bo.hasAttribute('style')){var FA=bo.style.cssText;FA=FA.replace(/url\("?#(.+?)"?\)/g,'url("'+arf+'#'+nv+'$1")');bo.style.cssText=FA;}});return wj;};module.exports=K;},{}],29:[function(require,module,exports){var zW=require('./Type');zW.registerNamespace('IPCC');module.exports={Pagecounter:1,gr:true,afG:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qn:require('./predefinedContextMenu'),Ym:require('./indexOf'),Pk:require('./setProperties'),aH:require('./PageItem'),Ct:require('./GetUniqueID'),ZW:require('./ViewerState'),wQ:require('./Configuration'),ai:require('./Cursor'),kT:require('./Res'),aF:require('./Validate'),ik:require('./Debug'),fk:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:zW,K:require('./IPCC.Util'),cR:require('./Art'),kP:require('./SelectTextController'),fp:require('./Matrix'),Zi:require('./ViewerModel'),en:require('./ContextMenuController'),eE:require('./SvgUIDirector'),pN:require('./PropertyChangedEventArgs'),yh:require('./StringBuilder'),cW:require('./MultiTouchController'),sn:require('./ImagePyramid'),cl:require('./SingleTouchController'),kL:require('./AddPolyMarkController'),oR:require('./SelectController'),ej:require('./AddRectangularMarkController'),lJ:require('./AddFreehandMarkController'),mb:require('./AddLineMarkController'),bX:require('./MouseWheelController'),oD:require('./HandPanController'),mB:require('./RectangleZoomController'),pR:require('./MagnifierController'),me:require('./EditMarksController'),zw:require('./RunMarksController'),Bp:require('./Space'),hH:require('./Image'),Ro:require('./ImagePool'),Ge:require('./PyramidLevel'),xL:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var hH=function(mW,aO,ab,aT,gC,gn){IPCC.Bp.call(this,0,0,0,0);this.width=ab;this.height=aT;this.gC=gC;this.gn=gn;this.aO=aO||0;this.eL=0;this.su=true;this.aol={};this.Cl=false;var F=this;this.aO=aO;this.get_url=function(gq,eo,an){eo=eo||'Image';an=an||'';var DV=hH.Gw(mW);var ER=false;if(/^[\x00-\x7F]*$/.test(DV)){ER=true;}if(an===null||an===''){if(eo==='Attributes'){var tG='';if(!IPCC.wQ.Jz()){tG='&ContentType=png';}if(!ER){return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=e'+mW+tG;}else{return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=u'+encodeURIComponent(DV)+tG;}}else{if(eo==='SvgImage'){if(!ER){return gq+'/Page/q/'+aO.toString()+'?DocumentID=e'+mW+'&'+an;}else{return gq+'/Page/q/'+aO.toString()+'?DocumentID=u'+encodeURIComponent(DV)+'&'+an;}}if(!ER){return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=e'+mW+'&'+an;}else{return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=u'+encodeURIComponent(DV)+'&'+an;}}}else{if(eo==='SvgImage'){if(!ER){return gq+'/Page/q/'+aO.toString()+'?DocumentID=e'+mW+'&'+an;}else{return gq+'/Page/q/'+aO.toString()+'?DocumentID=u'+encodeURIComponent(DV)+'&'+an;}}if(!ER){return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=e'+mW+'&'+an;}else{return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=u'+encodeURIComponent(DV)+'&'+an;}}};this.get_urlArt=function(gq,eo,an){eo=eo||'Art';an=an||'';if(an===null||an===''){if(eo==='Art'){return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=e'+mW;}}else{return gq+'/Page/q/'+aO.toString()+'/'+eo+'?DocumentID=e'+mW+'&'+an;}};this.get_identifier=function(){return IPCC.hH.Gw(mW);};this.get_encodedIdentifier=function(){return mW;};this.toString=function(){return 'Image("'+mW+'", '+this.aO+', '+this.width+' x '+this.height+', '+this.gC+', '+this.gn+')';};function ajF(asv,L){if(L.Vi()){F.su=true;F.Cl=false;return;}var XG=asv.split(',');var mw=false;for(var bO=0;bO<XG.length;bO++){if(XG[bO]==="SVG"||XG[bO]==="svg"){if(IPCC.wQ.Jz()){F.Cl=true;F.su=false;}else{F.Cl=false;}mw=true;break;}}if(!mw){F.Cl=false;F.su=true;}if(L){if(L.Pi){L.Pi(F.Cl);}}};this.Ut=function(gq,L,Bf){L.aO=this.aO;var ph=0;var lK=L.xB();if(lK){if(document.documentMode<9){lK=false;}}var sh=true;if(L.km()===0){sh=false;}var nC=function(fA,ah){try{if(fA===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fA.errorCode){if(fA.errorCode==='SvgNotAvailable'){lK=false;F.width= +(fA.pageAttributes.imageWidth);F.height= +(fA.pageAttributes.imageHeight);F.gC= +(fA.pageAttributes.imageXResolution);if(F.gC<=0){F.gC=72;}F.gn= +(fA.pageAttributes.imageYResolution);if(F.gn<=0){F.gn=72;}F.eL= +(fA.pageAttributes.pageCount);F.su=fA.pageAttributes.isRaster!=='false';ajF(fA.pageAttributes.contentType,L);}}else{F.width= +(fA.imageWidth);F.height= +(fA.imageHeight);F.gC= +(fA.imageXResolution);if(F.gC<=0){F.gC=72;}F.gn= +(fA.imageYResolution);if(F.gn<=0){F.gn=72;}F.eL= +(fA.pageCount);F.su=fA.isRaster!=='false';ajF(fA.contentType,L);}var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");var Kz=false;if(nL==="true"){Kz=true;}L.aen(Kz);if(Bf){Bf();}}catch(e){L.bg('openPage',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};function Or(){lK=false;if(ph<1){var fZ={method:'GET',url:F.get_url(gq,'Attributes'),headers:{'Content-Type':'application/json'}};if(sh===true){fZ.timeout=L.km();}IPCC.K.mY.fE(fZ).then(fd,er);ph++;}};var aFJ=function(hD,ah){var ab;var aT;function atd(){var Xh;try{Xh=JSON.parse(hD);}catch(aX){Xh=undefined;lK=true;}return Xh;};try{ab=hD.match(/width=\"([0-9.]+)\"/);aT=hD.match(/height=\"([0-9.]+)\"/);if(ab&&aT){ab=Number(ab[1]);aT=Number(aT[1]);}else{throw "error";}if(isNaN(ab)||isNaN(aT)){throw "error";}F.width=ab;F.height=aT;F.gC=72;F.gn=72;F.Cl=true;F.su=false;if(L){if(typeof(L.Pi==='function')){L.Pi(F.Cl);}}if(Bf){Bf();}}catch(e){var aR=atd();if(aR){nC(aR,ah);return;}if(lK){if(ph<1){lK=false;setTimeout(Or,10);return;}}L.bg('openPage',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};function fd(ah){var aR=null,dp;try{if(!lK){aR=JSON.parse(ah.responseText);nC(aR,ah);}else{var ni;var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");if(nL==='true'&&L.iW()===true){var uB=IPCC.Web.gm.si.uM(ah.getResponseHeader("Accusoft-Data-SK"));var by=IPCC.Web.HY(uB,hQ);var fM=IPCC.Web.Ke(ah);var um=IPCC.Web.Db(fM,by,hQ);ni=IPCC.Web.gm.GY.ny(um);}else{ni=ah.responseText;}var Tm;if(ni.length>=1000){Tm=ni.substring(0,1000);}else{Tm=ni.substring(0,ni.length);}aFJ(Tm,ah);}}catch(ex){if(lK){lK=false;if(ph<1){setTimeout(Or,10);return;}}dp="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dp);}};function er(aR){try{var dp,lD,lC;if(!aR.response){throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,"Client timed out on load");}if(aR.response.status===403){ph++;if(aR.response.statusText&&aR.response.statusText!==""){dp="Expired viewer session ID, error message from the server: "+aR.response.statusText;}else{dp="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,dp);}if(lK){lK=false;if(ph<1){setTimeout(Or,10);return;}}lC=aR.response.getResponseHeader('Accusoft-Status-Message');if(lC){var qx;lD=aR.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xG(lD)){qx=parseInt(lD,10);}throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,lC,qx);}else{if(aR.response.statusText&&aR.response.statusText!==""){dp="Error message from the service: "+aR.response.statusText;}else{dp="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,dp);}}catch(e){if(lK){lK=false;if(ph<1){setTimeout(Or,10);return;}}L.bg('openPage',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};var hQ=IPCC.Web.GS.ajl(4,IPCC.Web.RQ());var nX=IPCC.Web.gm.Hb.ny(hQ);var fZ={method:'GET',cache:true};if(!lK){fZ.url=this.get_url(gq,'Attributes');fZ.headers={'Content-Type':'application/json'};}else{var aq;if(L.iW()===true){hQ=IPCC.Web.GS.XH(4,IPCC.Web.RQ());nX=IPCC.Web.gm.Hb.ny(hQ);aq=this.get_url(gq,'SvgImage','Scale=1&ContentType='+IPCC.K.zF+'&iv='+nX);}else{aq=this.get_url(gq,'SvgImage','Scale=1&ContentType='+IPCC.K.zF);}fZ.url=aq;}IPCC.K.mY.fE(fZ).then(fd,er);};this.awU=function(gq,L,Bf){L.aO=this.aO;var ph=0;var sh=true;if(L.km()===0){sh=false;}var nC=function(fA,ah){try{if(fA===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}F.width= +(fA.imageWidth);F.height= +(fA.imageHeight);F.gC= +(fA.imageXResolution);if(F.gC<=0){F.gC=72;}F.gn= +(fA.imageYResolution);if(F.gn<=0){F.gn=72;}F.eL= +(fA.pageCount);F.su=true;var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");var Kz=false;if(nL==="true"){Kz=true;}L.aen(Kz);if(Bf){Bf();}}catch(e){L.bg('openPage',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};function fd(ah){try{var iV=ah.status,aR,dp;if(iV===200){aR=null;try{aR=JSON.parse(ah.responseText);nC(aR,ah);}catch(ex){dp="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dp);}}}catch(e){L.bg('openPageForRaster',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};function er(aR){try{var iV=aR.response.status,dp,lC,lD;if(!aR.response){throw new IPCC.Web.UI.ImGearHttpException(iV,"Client timed out on load");}if(iV===403){ph++;if(aR.response.statusText&&aR.response.statusText!==""){dp="Expired viewer session ID, error message from the server: "+aR.response.statusText;}else{dp="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}lC=aR.response.getResponseHeader('Accusoft-Status-Message');if(lC){var qx;lD=aR.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xG(lD)){qx=parseInt(lD,10);}throw new IPCC.Web.UI.ImGearHttpException(iV,lC,qx);}else{if(aR.response.statusText&&aR.response.statusText!==""){dp="Error message from the service: "+aR.response.statusText;}else{dp="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}}catch(e){L.bg('openPageForRaster',e);if(typeof(L.af)==='function'){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};var acQ={method:'GET',url:this.get_url(gq,'Attributes'),headers:{'Content-Type':'application/json'}};if(sh===true){acQ.timeout=L.km();}IPCC.K.mY.fE(acQ).then(fd,er);};return this;};hH.prototype.clone=function(){var VE=new hH(this.get_encodedIdentifier(),this.aO,this.width,this.height,this.gC,this.gn);VE.eL=this.eL;VE.su=this.su;return VE;};hH.prototype.equals=function(h){if(this.get_encodedIdentifier()!==h.get_encodedIdentifier()){return false;}if(this.aO!==h.aO){return false;}return true;};hH.prototype.ql=8;hH.prototype.uW=0.000001;hH.alN=function(an){var Hf=an.referenceDocumentIdentifier;var afu=hH.sp(Hf);var hu=an.encodedDocumentIdentifier;var ip=an.documentIdentifier;var dU;if(hu===''){hu=undefined;}if(ip===''){ip=undefined;}if(Hf&&Hf!==''){if(hu===afu){hu=undefined;}if(ip===Hf){ip=undefined;}}if(ip){dU=IPCC.hH.sp(ip);if(hu){if(hu!==dU){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hu=dU;}}else{if(hu){ip=IPCC.hH.Gw(hu);}}if(!hu){ip=Hf;hu=afu;}var bL=an.pageNumber;var afC=an.referencePageNumber;if(bL===afC){bL=undefined;}if(bL!==0&& !bL){bL=afC;}an.encodedDocumentIdentifier=hu;an.documentIdentifier=ip;an.pageNumber=bL;};hH.sp=function(ij){if(!ij||ij===''){return '';}var mc=[];var T;for(T=0;T<ij.length;T++){mc.push(ij.charCodeAt(T)%256);mc.push(Math.floor(ij.charCodeAt(T)/256));}mc.push(0);mc.push(0);var Ru='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var pd=[],sb;for(T=0;T<mc.length-1;T+=3){sb=mc[T]*0x10000+mc[T+1]*0x100+mc[T+2];pd.push(Ru.charAt(Math.floor(sb/0x40000)));pd.push(Ru.charAt(Math.floor(sb/0x1000)%0x40));pd.push(Ru.charAt(Math.floor(sb/0x40)%0x40));pd.push(Ru.charAt(sb%0x40));}var YG=Math.ceil(ij.length*16/6);while(pd.length>YG){pd.pop();}if((pd.length%4)===3){pd.push('1');}else if((pd.length%4)===2){pd.push('2');}else if((pd.length%4)===0){pd.push('0');}return pd.join('');};hH.Gw=function(mW){if(!mW||mW===''){return '';}var agB=mW.length-1;var QD=[],sb;var qy,mc=[],oZ=[];var T;for(T=0;T<agB;T++){qy=mW.charCodeAt(T);if(qy>64&&qy<91){oZ.push(qy-65);}else if(qy>96&&qy<123){oZ.push(qy-97+26);}else if(qy>47&&qy<58){oZ.push(qy-48+52);}else if(qy===45){oZ.push(62);}else if(qy===95){oZ.push(63);}else{return '';}}oZ.push(0);oZ.push(0);oZ.push(0);for(T=0;T<oZ.length-3;T+=4){sb=oZ[T]*0x40000+oZ[T+1]*0x1000+oZ[T+2]*0x40+oZ[T+3];mc.push(Math.floor(sb/0x10000));mc.push(Math.floor(sb/0x100)%256);mc.push(sb%256);}for(T=0;T<mc.length-1;T+=2){QD.push(String.fromCharCode(mc[T]+mc[T+1]*0x100));}var YG=Math.floor(agB*6/16);while(QD.length>YG){QD.pop();}return QD.join('');};module.exports=hH;},{}],31:[function(require,module,exports){var Ro=function(){this.cz=[];this.parentElementID='';this.lockTile=function(fo){var ce,T,Yi,Xm;if(this.aao(fo)){return;}Yi=0;for(T=this.cz.length-1;T>=0;T--){if(!(this.cz[T].locked)){Yi++;Xm=T;}}if(Yi>4){ce=this.cz[Xm];this.uiDirector.afS(ce);this.cz.splice(Xm,1);}ce=new azK();ce.pool=this;this.uiDirector.apd(ce);this.cz.push(ce);ce.locked=true;ce.tile=fo;fo.poolItem=ce;return;};this.aao=function(fo){var ce,T;if(this.locked){return true;}for(T=0;T<this.cz.length;T++){if(this.cz[T].tile===fo){ce=this.cz[T];ce.locked=true;fo.poolItem=ce;return true;}}return false;};this.afk=function(fo){var jk,T;jk=fo.poolItem;if(jk!==undefined&&jk.locked){this.uiDirector.aCD(jk);jk.locked=false;fo.poolItem=undefined;for(T=0;T<this.cz.length;T++){if(this.cz[T]===jk){this.cz.splice(T,1);this.cz.push(jk);return;}}}};return this;};Ro.prototype.aDe=function(){var T;for(T=0;T<this.cz.length;T++){if(!this.cz[T].locked){this.uiDirector.afS(this.cz[T]);}}};var azK=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Ro;},{}],32:[function(require,module,exports){var sn=function(){this.eP=[];return this;};sn.prototype.aFv=function(bW,dB){var co=bW.qC();var T,nl,pf;var cQ=1;var acU;var vU=[];var uF=[];var yd=[];var Ci,Lk;pf=this.eP.length;for(T=0;T<this.eP.length;T++){if(this.eP[T].co>co){pf=T;break;}}nl=pf-1;if(nl<0){nl=0;}if(pf>=this.eP.length){pf=this.eP.length-1;}if(nl!==pf){acU=(co-this.eP[nl].co)/(this.eP[pf].co-this.eP[nl].co);cQ=acU*1.0;if(cQ>=0.15){cQ=1;nl=pf;}if(cQ<=0.15){cQ=1;pf=nl;}}uF=this.eP[nl].Rz(dB);yd=this.eP[pf].Rz(dB);var Lf=function(mZ){var T;for(T=0;T<mZ.length;T++){mZ[T].level.pool.aao(mZ[T]);}};var XE=function(mZ){var amz=[];var T;for(T=0;T<mZ.length;T++){if(!mZ[T].get_isLockedAndLoaded()){amz.push(mZ[T]);}}return amz;};var aiq=function(mZ){var alJ=[];var T;for(T=0;T<mZ.length;T++){if(mZ[T].get_isLockedAndLoaded()){alJ.push(mZ[T]);}}return alJ;};if(nl>0&&nl===pf&&this.eP[pf].tiles.length>1){nl=pf-1;uF=this.eP[nl].Rz(dB);}Lf(uF);vU=XE(uF);if(vU.length>0){for(Ci=nl-1;Ci>=0;Ci--){Lk=this.eP[Ci].Rz(dB);Lf(Lk);if(XE(Lk).length<1){break;}}if(Ci<0){uF=aiq(uF);}else{nl=Ci;uF=Lk;cQ=1;}}else{Lf(yd);vU=XE(yd);}Lf(yd);yd=aiq(yd);if(vU.length>3){vU.splice(3,vU.length-3);}function arr(){var aR;function QT(Eg){var aR='',T,bV;if(Eg.length<1){return '';}bV=Eg[0].level;aR+='level '+bV.id.toString()+' - ';for(T=0;T<Eg.length;T++){if(T>0){aR+=', ';}aR+='('+(Eg[T].x/bV.mK).toString()+','+(Eg[T].y/bV.zy).toString()+')';if(Eg[T].get_isLockedAndLoaded()){aR+='*';}}return aR;};aR='tilesToRequest: '+QT(vU)+'<br/>';aR+='opaqueTiles: '+QT(uF)+'<br/>';aR+='translucentTiles: '+QT(yd)+'<br/>';aR+='opacity: '+cQ.toString()+'<br/>';aR+='arT: '+co.toString()+'<br/>';aR+='bW: '+bW.toString()+'<br/>';return aR;};return{opaqueTiles:uF,translucentTiles:yd,opacity:cQ,tilesToRequest:vU,toString:arr,arT:co,bW:bW.toString()};};sn.prototype.aFu=function(qE){var Ez=[];var ta=[];var T,j;var bV,tile;for(T=0;T<this.eP.length;T++){bV=this.eP[T];for(j=0;j<bV.tiles.length;j++){tile=bV.tiles[j];if(tile.poolItem!==undefined){Ez.push(tile);}}}var anb=function(XW,amY){var T,j,ZO,ZC;for(T=0;T<amY.length;T++){ZO=amY[T];ZC=true;for(j=0;j<XW.length;j++){if(ZO===XW[j]){ZC=false;break;}}if(ZC){XW.push(ZO);}}};ta=qE.tilesToRequest.concat();anb(ta,qE.opaqueTiles);anb(ta,qE.translucentTiles);for(T=Ez.length-1;T>=0;T--){var aqV=Ez[T];for(j=0;j<ta.length;j++){if(ta[j]===aqV){Ez.splice(T,1);break;}}}for(T=0;T<Ez.length;T++){Ez[T].unlock();}for(T=0;T<ta.length;T++){ta[T].relock();}for(T=0;T<ta.length;T++){if(ta[T].poolItem===undefined){ta[T].lock();}}};sn.prototype.unlockAllItems=function(){var T,j,bV;for(T=0;T<this.eP.length;T++){bV=this.eP[T];for(j=0;j<bV.tiles.length;j++){if(bV.tiles[j].poolItem!==undefined){bV.pool.afk(bV.tiles[j]);}}}};sn.prototype.aGW=function(){var T;for(T=0;T<this.eP.length;T++){this.eP[T].pool.aDe();}};sn.prototype.toString=function(){var aR='',T,j,bV;for(T=0;T<this.eP.length;T++){bV=this.eP[T];aR+='Level '+T.toString()+':   scaleFactor='+bV.co.toString()+'  image='+bV.width.toString()+'x'+bV.height.toString()+'  tile='+bV.mK.toString()+'x'+bV.zy.toString()+'\n';for(j=0;j<bV.tiles.length;j++){if(j>0){aR+=', ';}aR+='('+bV.tiles[j].x.toString()+', '+bV.tiles[j].y.toString()+')';}aR+='\n';}return aR;};sn.prototype.expandTile=function(fo,Wo,Xt,adt,acm,bV){fo.x=IPCC.K.Nj(Wo-fo.yk,0,Wo,Wo-fo.yk);fo.y=IPCC.K.Nj(Xt-fo.yB,0,Xt,Xt-fo.yB);fo.ab=IPCC.K.KK(adt+(2*fo.yk),bV.width,adt);fo.aT=IPCC.K.KK(acm+(2*fo.yB),bV.height,acm);if(fo.x+fo.ab>bV.width){fo.x=fo.x-fo.yk;fo.ab=bV.width-fo.x;fo.yk=0;}if(fo.y+fo.aT>bV.height){fo.y=fo.y-fo.yB;fo.yB=0;fo.aT=bV.height-fo.y;}return fo;};sn.prototype.createPyramid=function(jp,L){var aDn=6000000;var anu=5000;var mK=1024;var aED=mK*mK*3*150;var acg=0.5;var aCV=2;var be=L.cJ();var BH=be.width*be.height*3;var xv;var bV;var co;var T;var bw,dc;var tile;var Da,Dy;this.eP=[];if(be.su){co=1.0;xv=BH*co*co;while(this.eP.length<aCV||xv>anu){bV=new IPCC.Ge();bV.co=co;this.eP.unshift(bV);co*=acg;xv=BH*co*co;}}else{if(L.qV()===true){BH=be.width*be.height;}co=Math.sqrt(anu/BH);var axX=co*be.gC;co=Math.ceil(axX)/be.gC;xv=BH*co*co;if(L.qV()===false){while(xv<aED){bV=new IPCC.Ge();bV.co=co;this.eP.push(bV);co/=acg;xv=BH*co*co;}}else{bV=new IPCC.Ge();bV.co=1;this.eP.push(bV);}}be.ql=this.eP[this.eP.length-1].co*8;for(T=0;T<this.eP.length;T++){bV=this.eP[T];bV.Sa=85;if(T===this.eP.length-1){bV.Sa=100;}bV.pyramid=this;bV.id=T;bV.pool=new IPCC.Ro();bV.pool.uiDirector=jp;xv=BH*bV.co*bV.co;bV.width=Math.round(be.width*bV.co);bV.height=Math.round(be.height*bV.co);bV.mK=bV.width;bV.zy=bV.height;if(T>2&&T>this.eP.length-2){bV.mK=Math.min(mK/2,bV.width);bV.zy=Math.min(mK/2,bV.height);}if(xv>aDn){bV.mK=Math.min(mK,bV.width);bV.zy=Math.min(mK,bV.height);}bV.tiles=[];Da=bV.mK;for(bw=0;bw<bV.width;bw+=Da){Da=bV.mK;if(bw+Da*1.25>bV.width){Da=bV.width-bw;}Dy=bV.zy;for(dc=0;dc<bV.height;dc+=Dy){Dy=bV.zy;if(dc+Dy*1.25>bV.height){Dy=bV.height-dc;}tile=new IPCC.xL();tile.level=bV;if(L.qV()===false){var Nl='jpeg';if(bV.Sa>=100){Nl='png';}tile.contentType=Nl;tile.yB=2;tile.yk=2;tile=this.expandTile(tile,bw,dc,Da,Dy,bV);if(tile.ab!==bV.width||tile.aT!==bV.height){tile.url=L.Vv('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.ab.toString()+'/'+tile.aT.toString(),'Scale='+bV.co.toString()+'&Quality='+bV.Sa+'&ContentType='+Nl);}else{tile.url=L.Vv('','Scale='+bV.co.toString()+'&Quality='+bV.Sa+'&ContentType='+Nl);}}else{tile.url=L.Vv('','Scale='+bV.co.toString()+'&ContentType='+IPCC.K.zF);tile.aGI=jp.ahj();}tile.right=tile.x+tile.ab;tile.bottom=tile.y+tile.aT;bV.tiles.push(tile);}}}};module.exports=sn;},{}],33:[function(require,module,exports){var pR=function(){this.bM=false;this.L=false;};pR.prototype.mC=function(L){this.L=L;};pR.prototype.fF=function(){this.L=false;};pR.prototype.bE=function(){if(this.bM){this.L.ae().hideMagnifier();this.bM=false;}};pR.prototype.sx=function(){this.bE();};pR.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){this.bM=true;this.L.ae().showMagnifier(R.windowPoint);this.L.cG();}};pR.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){this.L.ae().showMagnifier(R.windowPoint);this.L.cG();}};pR.prototype.kk=function(){this.bE();this.L.cG();};pR.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};module.exports=pR;},{}],34:[function(require,module,exports){var fp=function(hl,ih,iT,gk,fm,fi){if(arguments.length===0){hl=gk=1;ih=iT=fm=fi=0;}this.aiF=function(){return hl*gk-ih*iT;};this.aIc=function(){return hl===1&&ih===0&&iT===0&&gk===1&&fm===0&&fi===0;};this.qf=function(){return hl;};this.qW=function(){return ih;};this.qQ=function(){return iT;};this.sJ=function(){return gk;};this.vK=function(){return fm;};this.wV=function(){return fi;};this.append=function(bW){var Io=hl*bW.qf()+ih*bW.qQ();var Hh=hl*bW.qW()+ih*bW.sJ();var GX=iT*bW.qf()+gk*bW.qQ();var Hw=iT*bW.qW()+gk*bW.sJ();var Gc=fm*bW.qf()+fi*bW.qQ()+bW.vK();var FL=fm*bW.qW()+fi*bW.sJ()+bW.wV();hl=Io;ih=Hh;iT=GX;gk=Hw;fm=Gc;fi=FL;};this.equals=function(h){if(hl!==h.qf()){return false;}if(ih!==h.qW()){return false;}if(iT!==h.qQ()){return false;}if(gk!==h.sJ()){return false;}if(fm!==h.vK()){return false;}if(fi!==h.wV()){return false;}return true;};this.xH=function(){if(!this.aij()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Ce=this.aiF();var Io=gk/Ce;var Hh= -ih/Ce;var GX= -iT/Ce;var Hw=hl/Ce;var Gc=(iT*fi-gk*fm)/Ce;var FL=(ih*fm-hl*fi)/Ce;hl=Io;ih=Hh;iT=GX;gk=Hw;fm=Gc;fi=FL;};this.GU=function(bW){var Io=bW.qf()*hl+bW.qW()*iT;var Hh=bW.qf()*ih+bW.qW()*gk;var GX=bW.qQ()*hl+bW.sJ()*iT;var Hw=bW.qQ()*ih+bW.sJ()*gk;var Gc=bW.vK()*hl+bW.wV()*iT+fm;var FL=bW.vK()*ih+bW.wV()*gk+fi;hl=Io;ih=Hh;iT=GX;gk=Hw;fm=Gc;fi=FL;};this.vX=function(jI,qL,mQ,mu){fm-=mQ;fi-=mu;this.scale(jI,qL);fm+=mQ;fi+=mu;};this.aBB=function(){hl=gk=1;ih=iT=fm=fi=0;};this.transform=function(bF){var bw=bF.x*hl+bF.y*iT+fm;var dc=bF.y*gk+bF.x*ih+fi;return new IPCC.Web.UI.Point(bw,dc);};this.oq=function(WQ,YI){fm+=WQ;fi+=YI;};this.ata=function(h){if(Math.abs(hl-h.qf())>1e-8){return false;}if(Math.abs(ih-h.qW())>1e-8){return false;}if(Math.abs(iT-h.qQ())>1e-8){return false;}if(Math.abs(gk-h.sJ())>1e-8){return false;}if(Math.abs(fm-h.vK())>1e-8){return false;}if(Math.abs(fi-h.wV())>1e-8){return false;}return true;};this.toString=function(){return '{'+hl.toFixed(6)+', '+ih.toFixed(6)+', '+iT.toFixed(6)+', '+gk.toFixed(6)+', '+fm.toFixed(3)+', '+fi.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fp(hl,ih,iT,gk,fm,fi);};this.OJ=function(hi){hl=hi.qf();ih=hi.qW();iT=hi.qQ();gk=hi.sJ();fm=hi.vK();fi=hi.wV();};this.aBU=function(bq,bA){hl=1;gk=bA.gn*bq.gC/(bq.gn*bA.gC);ih=iT=fm=fi=0;};this.abQ=function(aZ,bq,bA){switch(aZ){case IPCC.Web.UI.FitType.FullImage:this.awY(bq,bA);break;case IPCC.Web.UI.FitType.FullWidth:this.aev(bq,bA);break;case IPCC.Web.UI.FitType.FullHeight:this.aei(bq,bA);break;case IPCC.Web.UI.FitType.ActualSize:this.afJ(bq,bA);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bq.su)){this.afJ(bq,bA);}else{this.avA(bq,bA);}break;}};this.aev=function(bq,bA){var mz=this.qU(bq);var Cz=bA.width-2;if(Cz<1){Cz=1;}var bp=Cz/mz.width;this.scale(bp,bp);mz=this.qU(bq);if(mz.y<0){this.oq(0,-mz.y);}};this.aei=function(bq,bA){var mz=this.qU(bq);var Cz=bA.height-2;if(Cz<1){Cz=1;}var bp=Cz/mz.height;this.scale(bp,bp);mz=this.qU(bq);if(mz.x<0){this.oq(-mz.x,0);}};this.awY=function(bq,bA){var lh=this.clone();lh.aev(bq,bA);this.aei(bq,bA);if(Math.max(Math.abs(hl),Math.abs(ih))>Math.max(Math.abs(lh.qf()),Math.abs(lh.qW()))){this.OJ(lh);}};this.afJ=function(bq,bA){var mz=this.qU({x:0,y:0,width:bq.gC,height:bq.gn});var bp=bA.gC/mz.width;this.scale(bp,bp);};this.avA=function(bq,bA){var mz=this.qU({x:0,y:0,width:1,height:1});var bp=1/Math.min(mz.width,mz.height);this.scale(bp,bp);if(Math.abs(hl-1)<0.0001){hl=1;}if(Math.abs(gk-1)<0.0001){gk=1;}};return this;};fp.prototype.aij=function(){return Math.abs(this.aiF())>1e-14;};fp.prototype.rotate=function(yZ){this.afn(yZ,0,0);};fp.prototype.afn=function(yZ,mQ,mu){var HX=yZ*Math.PI*2/360;var hk=Math.sin(HX);var eA=Math.cos(HX);var bW=new IPCC.fp(eA,hk,-hk,eA,mQ*(1-eA)+mu*hk,mu*(1-eA)-mQ*hk);this.append(bW);};fp.prototype.ayz=function(yZ,mQ,mu){var HX=yZ*Math.PI*2/360;var hk=Math.sin(HX);var eA=Math.cos(HX);var bW=new IPCC.fp(eA,hk,-hk,eA,mQ*(1-eA)+mu*hk,mu*(1-eA)-mQ*hk);this.GU(bW);};fp.prototype.aGZ=function(yZ){this.ayz(yZ,0,0);};fp.prototype.scale=function(jI,qL){var bW=new IPCC.fp(jI,0,0,qL,0,0);this.append(bW);};fp.prototype.aHQ=function(jI,qL,mQ,mu){var bW=new IPCC.fp(jI,0,0,qL,mQ*(1-jI),mu*(1-qL));this.GU(bW);};fp.prototype.aIm=function(jI,qL){var bW=new IPCC.fp(jI,0,0,qL,0,0);this.GU(bW);};fp.prototype.skew=function(qk,pD){var bW=new IPCC.fp(1,Math.tan(pD*Math.PI*2/360),Math.tan(qk*Math.PI*2/360),1,0,0);this.append(bW);};fp.prototype.aES=function(qk,pD){var bW=new IPCC.fp(1,Math.tan(pD*Math.PI*2/360),Math.tan(qk*Math.PI*2/360),1,0,0);this.GU(bW);};fp.prototype.aJo=function(WQ,YI){var bW=new IPCC.fp(1,0,0,1,WQ,YI);this.GU(bW);};fp.prototype.yH=function(G){var fv=this.transform({x:G.x,y:G.y});var nr=fv.x;var ng=fv.x;var kG=fv.y;var mq=fv.y;fv=this.transform({x:G.x+G.width,y:G.y});nr=Math.min(nr,fv.x);ng=Math.max(ng,fv.x);kG=Math.min(kG,fv.y);mq=Math.max(mq,fv.y);fv=this.transform({x:G.x+G.width,y:G.y+G.height});nr=Math.min(nr,fv.x);ng=Math.max(ng,fv.x);kG=Math.min(kG,fv.y);mq=Math.max(mq,fv.y);fv=this.transform({x:G.x,y:G.y+G.height});nr=Math.min(nr,fv.x);ng=Math.max(ng,fv.x);kG=Math.min(kG,fv.y);mq=Math.max(mq,fv.y);return new IPCC.Web.UI.Rectangle(nr,kG,ng-nr,mq-kG);};fp.prototype.awQ=function(bq,bA,eW){var ahp=this.clone();ahp.xH();var atB=ahp.transform({x:eW.x+eW.width/2,y:eW.y+eW.height/2});var bp=Math.min(bA.width/eW.width,bA.height/eW.height);bp-=1e-10;var lg=this.qC();if(lg*bp>bq.ql){bp=bq.ql/lg;}if(lg*bp<bq.uW){bp=bq.uW/lg;}this.scale(bp,bp);this.aet(bA,atB);};fp.prototype.Qy=function(bq,bA,dB){this.awQ(bq,bA,this.yH(dB));};fp.prototype.aIz=function(bA){this.vX(1,-1,bA.width/2,bA.height/2);};fp.prototype.avo=function(bA){this.vX(-1,1,bA.width/2,bA.height/2);};fp.prototype.aaZ=function(arh,akb){var afZ=this.transform(arh);this.oq(akb.x-afZ.x,akb.y-afZ.y);};fp.prototype.aet=function(bA,dv){var aic=this.transform(dv);this.oq(bA.width/2-aic.x,bA.height/2-aic.y);};fp.prototype.jJ=function(be,bA){var bw=0,dc=0,end;var np=this.qU(be);if(np.width<bA.width){bw=(bA.width-np.width)/2-np.x;}else{end=np.x+np.width;if(end<bA.width){bw=bA.width-end;}if(np.x>0){bw= -np.x;}}if(np.height<bA.height){dc=(bA.height-np.height)/2-np.y;}else{end=np.y+np.height;if(end<bA.height){dc=bA.height-end;}if(np.y>0){dc= -np.y;}}this.oq(bw,dc);};fp.prototype.qU=function(be){return this.yH({x:0,y:0,width:be.width,height:be.height});};fp.prototype.aAD=function(){var gv,AO,jb,yn,aeC,hS;gv=this.transform({x:0,y:0});AO=this.transform({x:0,y:1});jb=this.transform({x:1,y:0});yn=Math.atan2(AO.y-gv.y,AO.x-gv.x);aeC=Math.atan2(jb.y-gv.y,jb.x-gv.x);hS=yn-aeC;if(hS>Math.PI){hS=hS-2*Math.PI;}if(hS< -Math.PI){hS=hS+2*Math.PI;}return hS<0;};fp.prototype.ahO=function(){var gv,AO,yn;gv=this.transform({x:0,y:0});AO=this.transform({x:0,y:1});yn=Math.atan2(AO.y-gv.y,AO.x-gv.x)-Math.PI/2;if(yn<0){yn=yn+2*Math.PI;}return yn*360/(Math.PI*2);};fp.prototype.qC=function(){var hG;var gv,nT;var eu,eK,co;gv=this.transform({x:0,y:0});nT=this.transform({x:1,y:0});eu=nT.x-gv.x;eK=nT.y-gv.y;hG=eu*eu+eK*eK;nT=this.transform({x:0,y:1});eu=nT.x-gv.x;eK=nT.y-gv.y;co=Math.min(hG,eu*eu+eK*eK);nT=this.transform({x:1,y:1});eu=nT.x-gv.x;eK=nT.y-gv.y;co=Math.min(hG,eu*eu+eK*eK);nT=this.transform({x:1,y: -1});eu=nT.x-gv.x;eK=nT.y-gv.y;co=Math.min(hG,eu*eu+eK*eK);return Math.sqrt(hG);};fp.aFM=function(){return new IPCC.fp(1,0,0,1,0,0);};module.exports=fp;},{}],35:[function(require,module,exports){var fk={acR:1,ads:2,Xv:3,agR:4,amo:5,GW:6,Og:7,alH:8,amB:9,anf:10,ams:11,ame:12,anc:13,agj:14,acG:15,abV:16};module.exports=fk;},{}],36:[function(require,module,exports){var bX=function(){this.L=false;this.aEE=1.5;};bX.prototype.mC=function(L){this.L=L;};bX.prototype.fF=function(){this.L=false;};bX.prototype.bE=function(){};bX.prototype.nk=function(R){var aj=this.L.ae();var bq=this.L.cJ();var bA=this.L.es();var ba=aj.fa();var OB=R.wheelDelta/120;if(R.domEvent.ctrlKey){R.domEvent.preventDefault();var bp=((this.aEE-1)/2)+1;if(OB<0){bp=1/bp;}var lg=ba.qC();if(lg*bp>bq.ql){bp=bq.ql/lg;}if(lg*bp<bq.uW){bp=bq.uW/lg;}ba.vX(bp,bp,R.windowPoint.x,R.windowPoint.y);ba.jJ(bq,bA);this.L.af('userModifiedViewState',{});aj.jC(ba);}else{var aey=ba.transform({x:0,y:0});ba.oq(0,OB*bA.gn);ba.jJ(bq,bA);var afr=ba.transform({x:0,y:0});if(Math.abs(aey.x-afr.x)>0.001||Math.abs(aey.y-afr.y)>0.001){R.domEvent.preventDefault();this.L.af('userModifiedViewState',{});aj.jC(ba);}}this.L.cG();};module.exports=bX;},{}],37:[function(require,module,exports){var cW=function(akN){this.akN=akN;this.Vh=0;this.Rf=1;this.Rj=2;this.UG=3;this.Wd=4;this.dC=this.Vh;this.L=false;this.nv=0;};cW.prototype.mC=function(L){this.L=L;this.aj=L.ae();};cW.prototype.fF=function(){this.L=false;};cW.prototype.bE=function(){if(this.dC===this.Rj){this.L.ae().hideMagnifier();}this.dC=this.Vh;};cW.prototype.MT=function(R){var aX=R.domEvent.rawEvent;switch(this.dC){case this.Vh:if(aX.touches.length===1){this.aCT(R);}else if(aX.touches.length===2){this.ahF(R);}else if(aX.touches.length===3){this.Zv(R);}else{this.bE();}break;case this.Rf:if(aX.touches.length===2){this.ahF(R);}else if(aX.touches.length===3){this.Zv(R);}else{this.bE();}break;case this.Wd:if(aX.touches.length!==3){this.bE();}break;case this.Rj:this.bE();break;case this.UG:if(aX.touches.length===3){this.Zv(R);}else if(aX.touches.length!==2){this.bE();}break;}};cW.prototype.NG=function(R){switch(this.dC){case this.Rf:this.nv++;break;case this.Rj:this.acB(R);break;case this.UG:this.anJ(R);break;case this.Wd:this.aCj(R);break;}};cW.prototype.Ot=function(){this.bE();};cW.prototype.Ij=function(){this.bE();};cW.prototype.aCT=function(R){this.dC=this.Rf;this.nv++;var aow=this.nv;var F=this;function awt(){if(F.dC===this.Rf&&aow===F.nv){F.aEx(R);}};setTimeout(awt,1000);};cW.prototype.aEx=function(R){this.L.hJ('sx',R);this.acB(R);this.dC=this.Rj;};cW.prototype.Zv=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length!==3){this.bE();return;}var fY=aX.touches[0];var df={x:fY.screenX,y:fY.screenY};var bW=this.aj.fa();bW.xH();this.NS=df;this.aqD=df;this.Yr=bW.transform(df);this.dC=this.Wd;this.aHW=this.aj.fa();this.ahJ=true;this.agT=true;};cW.prototype.aCj=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length!==3){this.bE();return;}var fY=aX.touches[0];var df={x:fY.screenX,y:fY.screenY};var avF=Math.abs(df.x-this.NS.x);var aoJ=Math.abs(df.y-this.NS.y);if(avF>35){this.agT=false;}if(aoJ>35){this.ahJ=false;}if(this.ahJ){df.y=this.NS.y;}if(this.agT){df.x=this.NS.x;}this.aqD=df;var ba=this.aj.fa();var bA=this.L.es();var bq=this.L.cJ();ba.aaZ(this.Yr,df);ba.jJ(bq,bA);this.aj.jC(ba);};cW.prototype.aIu=function(){};cW.prototype.ahL=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length!==2){this.bE();return{};}var Ov=aX.touches[0];var Pl=aX.touches[1];var eu=Ov.screenX-Pl.screenX;var eK=Ov.screenY-Pl.screenY;var yx=Math.sqrt(eu*eu+eK*eK);var hS=Math.atan2(eu,eK)*180/Math.PI;var bF={x:(Ov.screenX+Pl.screenX)/2,y:(Ov.screenY+Pl.screenY)/2};return{yx:yx,hS:hS,amm:bF};};cW.prototype.ahF=function(R){this.dC=this.UG;this.azs=this.ahL(R);this.Ni=this.azs;var bW=this.aj.fa();bW.xH();this.Yr=bW.transform(this.Ni.amm);this.GN=this.Ni.hS;};cW.prototype.acB=function(R){var aX=R.domEvent.rawEvent;var fY=aX.touches[0];var df={x:fY.screenX,y:fY.screenY};this.aj.showMagnifier(df);};cW.prototype.anJ=function(R){var wC=this.ahL(R);var co=wC.yx/this.Ni.yx;var ba=this.aj.fa();var bA=this.L.es();var bq=this.L.cJ();ba.scale(co,co);var BE=this.GN-wC.hS;var agY=this.GN-wC.hS-360;var ahI=this.GN-wC.hS+360;if(Math.abs(BE)>Math.abs(agY)){BE=agY;}if(Math.abs(BE)>Math.abs(ahI)){BE=ahI;}if(BE< -40){ba.rotate(-90);this.GN=wC.hS;}else if(BE>40){ba.rotate(90);this.GN=wC.hS;}ba.aaZ(this.Yr,wC.amm);ba.jJ(bq,bA);this.aj.jC(ba);this.Ni=wC;};cW.prototype.aIo=function(R){var ba=this.aj.fa();var bA=this.L.es();var bq=this.L.cJ();ba.abQ(IPCC.Web.UI.FitType.FullImage,bq,bA);ba.jJ(bq,bA);this.aj.jC(ba);};cW.prototype.nk=function(){this.bE();};module.exports=cW;},{}],38:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var PP=function(){return this;};PP.registerClass=dh;PP.prototype={};PP.registerClass('IPCC.OpenPageEventArgs');module.exports=PP;},{"./IPCC.Util":28}],39:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var Qi=function(){return this;};Qi.registerClass=dh;Qi.prototype={};Qi.registerClass('IPCC.PageEventArgs');module.exports=Qi;},{"./IPCC.Util":28}],40:[function(require,module,exports){var aH=function(an){this.fe=an.page;this.bD=0;this.bf=0;this.hE=0;this.hI=0;var bP=new IPCC.Web.UI.gx();this.ahD=undefined;this.hg=false;this.apc=false;this.IQ=0;this.aIF=undefined;this.zj=false;this.vs=false;this.Gj=false;this.gR=0;this.Bm=0;this.BN=false;this.EP=false;this.aQ=new IPCC.Web.UI.ArtPage();this.fs=new IPCC.Web.UI.ArtPage();this.cN=this.fe.get_pageNumber();this.aY=this.fe.aV.PZ+'_'+this.cN+'__pViewId';this.aV=this.fe.aV;this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};return this;};aH.prototype.lu=function(){if(this.fe){return this.fe.kl()||this.bD;}return this.bD;};aH.prototype.rj=function(){if(this.fe){return this.fe.iM()||this.bf;}return this.bf;};aH.prototype.Xp=function(bool){bool= ! !bool;if(this.fe){this.fe.BN=bool;}this.BN=bool;};aH.prototype.ahm=function(){if(this.fe){return this.fe.BN||this.BN;}return this.BN;};module.exports=aH;},{}],41:[function(require,module,exports){var ep=require('./IPCC.Util').regEnum;var By=function(){};By.registerEnum=ep;By.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};By.registerEnum('IPCC.PageLayout',false);module.exports=By;},{"./IPCC.Util":28}],42:[function(require,module,exports){var dh=require('./IPCC.Util').regClass;var aqa=function(){this.dN=undefined;return this;};var Oc=function(element){var F=this;var GI=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var apL=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bP=new IPCC.Web.UI.gx();var au=[];var asf;var bJ='';var CQ='';var bB='';var kD='';var IF='';var Jr=0;this.CR=new IPCC.Web.UI.ImGearDocumentCollection();var Iw=[];this.aHZ=0;this.aHs={x:0,y:0};var jM=0;var og=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var lQ=false;var cA=0;var va=false;var Pz=[];var Jp='';var du=1;var qq=0;var lV=1;var pV=1;var bh=IPCC.Web.UI.MouseTool.None;var Ap=false;var rH=true;var aU=IPCC.ai.None;var iF;var hb=0;var jz=0;var agn=0;var fj=0;var gH=15;var jx=0;var hA=15;var nK=0;var oS=0;var qM=0;var oz=0;var aCY=0;var gG=0;var ht=0;var pk=1;var eQ=IPCC.PageLayout.VerticalScrollDirection;var dr=IPCC.ViewMode.Document;var md=null;var To=null;var MA=0;var Uc=0;var xa=0;var xY=false;var iB=null;var Ky=0;var Fe='';var CI='';var rc=[];var CE=0;var uf=3;var Nf=0.5;var Ka=true;var PR=false;var RR=false;var Tj;var vf=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var vn=true;var mF;var cu={};var so=false;var oC=function(){return null;};var ig=null;var ahe="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aDp=ahe+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aFb=ahe+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var ct=96;var aB;function lU(Jl){if(!_debug){return false;}return og>=Jl;};this.bg=function(hM,hY){if(!lU(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var de=hM+'() threw an exception ('+hY.name+'), "'+hY.message+'"';de=de.replace(/\n/g," ");IPCC.ik.nM(de,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lY().id);var nG=new IPCC.ExceptionEventArgs();nG.functionName=hM;nG.exception=hY;this.af('exceptionThrown',nG);};this.ag=function(hM,jP,rX){if(!lU(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],(rX?rX:0));}de+=')';this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);};this.CT=function(hM,jP,nc,rX){if(!lU(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],(rX?rX:0));}de+=') = ';de+=IPCC.ik.qI(nc,1);this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);};this.dG=function(hM,jP,nc){if(!lU(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],0);}de+=') = ';de+=IPCC.ik.qI(nc,1);this.tP(de,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tP=function(kf,bV){IPCC.ik.nM(kf,IPCC.Web.UI.DebugItemCause.FunctionCall,bV,'PageList',this.lY().id);};this.nM=function(kf){IPCC.ik.nM(kf,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.lY().id);};this.Jn=function(){return _debug;};this.Yw=function(h){var GZ= ! !h;if(_debug===GZ){return;}_debug=GZ;var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T=0;for(T=0;T<cL.length;T++){var aJ;if(au[cL[T]].aY){aJ=document.getElementById(au[cL[T]].aY).ad;}if(aJ){aJ.set_debug(_debug);}}this.cg('debug');};this.BK=function(){return og;};this.Hn=function(h){IPCC.aF.kE(h,'value',IPCC.Web.UI.DebugErrorLevel);if(og===h){return;}og=h;var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T=0;for(T=0;T<cL.length;T++){var aJ;if(au[cL[T]].aY){aJ=document.getElementById(au[cL[T]].aY).ad;}if(aJ){aJ.set_debugErrorLevel(og);}}this.cg('debugErrorLevel');};function cU(cD,H){bP.addHandler(cD,H);};function dg(cD,H){bP.removeHandler(cD,H);};this.Oo=function(H){cU('mouseDown',H);};this.aaN=function(H){dg('mouseDown',H);};this.Nk=function(H){cU('mouseMove',H);};this.abR=function(H){dg('mouseMove',H);};this.OH=function(H){cU('mouseUp',H);};this.aai=function(H){dg('mouseUp',H);};this.Wi=function(H){cU('selectTextMouseToolCompleted',H);};this.aaS=function(H){dg('selectTextMouseToolCompleted',H);};this.AB=function(H){cU('textPageReady',H);};this.Gg=function(H){dg('textPageReady',H);};this.WD=function(H){cU('hyperlinkPageReady',H);};this.aeU=function(H){dg('hyperlinkPageReady',H);};this.anV=function(H){cU('allPagesAdded',H);};this.aAa=function(H){dg('allPagesAdded',H);};this.Xy=function(H){cU('pageOpening',H);};this.abf=function(H){dg('pageOpening',H);};this.We=function(H){cU('pageOpened',H);};this.aax=function(H){dg('pageOpened',H);};this.GK=function(H){cU('pageOpenFailed',H);};this.FY=function(H){dg('pageOpenFailed',H);};this.Xu=function(H){cU('pageDisplayed',H);};this.abU=function(H){dg('pageDisplayed',H);};this.lf=function(H){cU('propertyChanged',H);};this.nh=function(H){dg('propertyChanged',H);};this.Xq=function(H){cU('exceptionThrown',H);};this.abb=function(H){dg('exceptionThrown',H);};this.zn=function(H){cU('textExtractionFailed',H);};this.FP=function(H){dg('textExtractionFailed',H);};this.zc=function(H){cU('markAdded',H);};this.zl=function(H){dg('markAdded',H);};this.XI=function(H){cU('markCreating',H);};this.aaU=function(H){dg('markCreating',H);};this.JZ=function(H){cU('markChanged',H);};this.Gh=function(H){dg('markChanged',H);};this.IZ=function(H){cU('markReordered',H);};this.Gb=function(H){dg('markReordered',H);};this.JO=function(H){cU('markSelectionChanged',H);};this.GA=function(H){dg('markSelectionChanged',H);};this.JM=function(H){cU('markTextSelectionChanged',H);};this.EO=function(H){dg('markTextSelectionChanged',H);};this.ze=function(H){cU('markRemoved',H);};this.Ag=function(H){dg('markRemoved',H);};this.aob=function(H){cU('commentAdding',H);};this.aAb=function(H){dg('commentAdding',H);};this.vO=function(H){cU('commentAdded',H);};this.EK=function(H){dg('commentAdded',H);};this.vj=function(H){cU('commentRemoved',H);};this.Dm=function(H){dg('commentRemoved',H);};this.tk=function(H){cU('commentChanged',H);};this.us=function(H){dg('commentChanged',H);};this.WN=function(H){cU('scaleChanged',H);};this.aaw=function(H){dg('scaleChanged',H);};this.Od=function(){var ad=document.getElementById(au[cA].aY).ad;if(ad){return ad.get_currentState();}else{return null;}};this.aiu=function(){var aw=IPCC.K.find(au,function(fv){return fv.cN===cA;});if(!aw){return;}return aw.fe;};this.aAk=function(aO){var aw=IPCC.K.find(au,function(fv){return fv.cN===cA;});if(!aw){return;}return aw.aY;};this.qC=function(){return du;};this.aDE=function(co){iO(co,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Qa=function(bp,rO,TU,ei){ei=ei||IPCC.ScaleTrigger.Zoom;iO(du*bp,TU,undefined,undefined,undefined,rO,ei);};this.auV=function(bp,bw,dc,EB,ei){ei=ei||IPCC.ScaleTrigger.Zoom;if(du*bp<8){iO(du*bp,false,bw,dc,EB,undefined,ei);}else{iO(8,false,bw,dc,EB);}};this.Tg=function(bp,ei){ei=ei||IPCC.ScaleTrigger.Zoom;iO(du/bp,false,undefined,undefined,undefined,undefined,ei);};this.axh=function(){return Vz();};this.afs=function(ei,eG,RM){var Ir,HV,bD,bf;var VH=0;var T=0;for(T=0;T<au.length;T++){bD=au[T].lu();bf=au[T].rj();if(iY(au[T].gR)===true){var Js=bD;bD=bf;bf=Js;}if(bD>0&&bf>0){var KB=bD/bf;if(KB>VH){VH=KB;Ir=bf;HV=bD;}}}if(VH>0){var asl=(bJ.offsetWidth-IPCC.Web.oi()-tz()-(gH+hA+oS+oz));var asz=asl/(HV*ct/au[0].hE);var eT=hb;var eV=jz;if(iY(au[0].gR)===true){eT=jz;eV=hb;}var aks=Ir/eV*asz;var lB=(bJ.clientHeight-(fj+jx+nK+qM))/(eV*ct/au[0].hI);var GH=aks;if(RM===true&&aks>lB){GH=lB;}iO(GH,true,undefined,undefined,undefined,undefined,ei,eG);}};this.afI=function(ei,eG,RM){var Ir,HV,bD,bf;var Vr=0;var T=0;for(T=0;T<au.length;T++){bD=au[T].lu();bf=au[T].rj();if(iY(au[T].gR)===true){var Js=bD;bD=bf;bf=Js;}if(bD>0&&bf>0){var KB=bf/bD;if(KB>Vr){Vr=KB;Ir=bf;HV=bD;}}}if(Vr>0){var asV=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM));var ass=asV/(Ir*ct/au[0].hI);var eT=hb;var eV=jz;if(iY(au[0].gR)===true){eT=jz;eV=hb;}var akq=HV/eT*ass;var lB=(bJ.clientWidth-tz()-(gH+hA+oS+oz))/(eT*ct/au[0].hE);var GH=akq;if(RM===true&&akq>lB){GH=lB;}iO(GH,true,undefined,undefined,undefined,undefined,ei,eG);}};this.aGn=function(eG,ei){if(F.xu&&typeof F.xu==='function'){F.xu();}var bD;var bf;var fr;var lx=1;ei=ei||IPCC.ScaleTrigger.Fit;if(eG===IPCC.FitType.FitToWidth){if(dr===IPCC.ViewMode.Document){lx=(bJ.offsetWidth-IPCC.Web.oi()-tz()-(gH+hA+oS+oz))/(gG/du);iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else if(dr===IPCC.ViewMode.SinglePage){if(iY(au[cA].gR)===true){bD=au[cA].rj();fr=ct/au[cA].hI;}else{bD=au[cA].lu();fr=ct/au[cA].hE;}lx=(bJ.offsetWidth-IPCC.Web.oi()-tz()-(gH+hA+oS+oz))/(bD*fr);iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else{if(eQ===IPCC.PageLayout.VerticalScrollDirection){Zk(ei,eG);}else{F.afs(ei,eG);}}}else if(eG===IPCC.FitType.ShrinkToWidth){var atQ=bJ.clientWidth-tz();var awP=20;var TI=atQ-awP;if(dr===IPCC.ViewMode.SinglePage){if(iY(au[cA].gR)===true){bD=au[cA].rj();fr=ct/au[cA].hI;}else{bD=au[cA].lu();fr=ct/au[cA].hE;}if(TI<du*bD*fr){lx=(bJ.offsetWidth-IPCC.Web.oi()-tz()-(gH+hA+oS+oz))/(bD*fr);iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}}else{if(TI<gG){iO(du*TI/gG,true,undefined,undefined,undefined,undefined,ei,eG);}}}else if(eG===IPCC.FitType.ActualSize){if(dr===IPCC.ViewMode.Document||dr===IPCC.ViewMode.SinglePage){iO(1,true,undefined,undefined,undefined,undefined,ei,eG);}}else if(eG===IPCC.FitType.FitToHeight){if(dr===IPCC.ViewMode.Document){lx=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM))/(ht/du);iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else if(dr===IPCC.ViewMode.SinglePage){if(iY(au[cA].gR)===true){bf=au[cA].lu();fr=ct/au[cA].hE;}else{bf=au[cA].rj();fr=ct/au[cA].hI;}lx=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM))/(bf*fr);iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else{if(eQ===IPCC.PageLayout.HorizontalScrollDirection){Zk(ei,eG);}else{F.afI(ei,eG);}}}else if(eG===IPCC.FitType.BestFit){var Ea;if(dr===IPCC.ViewMode.Document){lx=(bJ.offsetWidth-IPCC.Web.oi()-(gH+hA+oS+oz))/(gG/du);Ea=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM))/(ht/du);if(Ea<lx){lx=Ea;}iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else if(dr===IPCC.ViewMode.SinglePage){if(iY(au[cA].gR)===true){bD=au[cA].rj();bf=au[cA].lu();fr=ct/au[cA].hE;}else{bD=au[cA].lu();bf=au[cA].rj();fr=ct/au[cA].hI;}lx=(bJ.offsetWidth-IPCC.Web.oi()-tz()-(gH+hA+oS+oz))/(bD*fr);Ea=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM))/(bf*fr);if(Ea<lx){lx=Ea;}iO(lx,true,undefined,undefined,undefined,undefined,ei,eG);}else{if(eQ===IPCC.PageLayout.HorizontalScrollDirection){F.afs(ei,eG,true);}else{F.afI(ei,eG,true);}}}};this.aCN=function(bL,bn){var aw=au[bL-1];var aI=document.getElementById(aw.aY);var BJ=[];if(aI){var fb,EN,bF;try{fb=TK(aI);}catch(e){return null;}BJ=IPCC.K.map(bn,function(fv){EN=aI.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(fv.x,fv.y),true);bF=ajR(aI,EN.x,EN.y,fb);return{clientX:bF.x,clientY:bF.y};});return BJ;}else{return null;}};this.aEd=function(){var T=0;for(T=0;T<au.length;T++){F.cG(T);}hZ();od();};this.cG=function(aO){var aP;if(au[aO].aY){aP=document.getElementById(au[aO].aY);}F.wO(aP,aO);};this.JJ=function(aO){var aP;if(au[aO].aY){aP=document.getElementById(au[aO].aY);}if(aP){var aJ=aP.ad;aJ.JJ();}};this.wO=function(aP,aO){if(aP&&aP.ad&&aP.ad.fI()===true){var aJ=aP.ad;aJ.display();au[aO].hg=true;if(dr===IPCC.ViewMode.SinglePage){var nz= -1;if(Array.prototype.indexOf){nz=rc.indexOf(aO);}else{nz=IPCC.Web.kw(rc,aO);}if(nz!== -1){rc.splice(nz,1);}}}};function ajX(cL){var aP;for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);var aO=aw.get_pageNumber();if(au[aO].aY){aP=document.getElementById(au[aO].aY);}if(aP&&aP.ad&&aP.ad.Ev()!==null){return aP.ad;}}return null;};this.JS=function(){var cL=this.get_displayedPages();var Nn=ajX(cL);Nn.JS();};this.Fv=function(bp){var hw=0;var gP=au.length-1;for(var bO=hw;bO<=gP;bO++){var aJ;var aP=document.getElementById(au[bO].aY);if(aP){aJ=aP.ad;}else{continue;}aJ.set_sharpening(bp);if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.display();}}qq=bp;};this.axK=function(){return qq;};this.FB=function(bp){var hw=0;var gP=au.length-1;for(var bO=hw;bO<=gP;bO++){var aJ;var aP=document.getElementById(au[bO].aY);if(aP){aJ=aP.ad;}else{continue;}aJ.set_gamma(bp);if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.display();}}pV=bp;};this.ayv=function(){return pV;};this.ET=function(bp){var hw=0;var gP=au.length-1;for(var bO=hw;bO<=gP;bO++){var aJ;var aP=document.getElementById(au[bO].aY);if(aP){aJ=aP.ad;}else{continue;}aJ.set_svgLineWidthMultiplier(bp);if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.display();}}lV=bp;};this.ayU=function(){return lV;};this.Ev=function(){var cL=this.get_displayedPages();var Nn=ajX(cL);if(Nn){return Nn.Ev();}return null;};this.vQ=function(aO,C){var aP;if(au[aO].aY){aP=document.getElementById(au[aO].aY);}if(aP&&aP.ad){aP.ad.vQ(C);}};this.qT=function(aO){var aP;if(au[aO].aY){aP=document.getElementById(au[aO].aY);}if(aP&&aP.ad){aP.ad.qT();}};var ts='';this.uO=function(h){ts=h;};this.lY=function(){return ts;};this.af=function(cD,R){try{var H=bP.getHandler(cD);if(H!==null){H(F,R);}}catch(e){F.bg(cD+'Event',e);}};this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};this.aox=function(H){bP.addHandler('currentPageChanged',H);};this.aAE=function(H){bP.removeHandler('currentPageChanged',H);};this.AW=function(cY,h){cY.style.cursor='move';cY.style.cursor='-webkit-'+h;cY.style.cursor='-moz-'+h;cY.style.cursor=h;};this.ahX=function(){return bB.style.cursor||'auto';};this.aDc=function(h){bB.style.cursor=h||'auto';var T=0;for(T=0;T<au.length;T++){if(au[T].aY){var aP=document.getElementById(au[T].aY);if(aP){var aJ=aP.ad;aP.style.cursor=h;if(aJ){aJ.set_cursor(h);if(au[T].hg===true&&aJ.fI()===true){aJ.display();}}}}}};this.Uu=function(){return bh;};this.HU=function(h){IPCC.aF.kE(h,'value',IPCC.Web.UI.MouseTool);var lN=false;if(bh!==h){iF=null;bh=h;switch(bh){case IPCC.Web.UI.MouseTool.HandPan:aU='grab';F.AW(bB,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:F.wH();aU=IPCC.ai.Text;bB.style.cursor=IPCC.ai.eF(aU);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:F.wH();aU=IPCC.ai.Text;bB.style.cursor=IPCC.ai.eF(aU);break;case IPCC.Web.UI.MouseTool.None:aU=IPCC.ai.None;bB.style.cursor=IPCC.ai.eF(aU);break;case IPCC.Web.UI.MouseTool.Magnifier:aU=IPCC.ai.Magnifier;bB.style.cursor=IPCC.ai.eF(aU);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aU=IPCC.ai.RectangleZoom;bB.style.cursor=IPCC.ai.eF(aU);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aU=IPCC.ai.AddRectangleMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aU=IPCC.ai.AddRectangleRedactionMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aU=IPCC.ai.AddEllipseMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aU=IPCC.ai.AddLineMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.mb()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aU=IPCC.ai.AddStampMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aU=IPCC.ai.AddImageStampMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aU=IPCC.ai.AddImageStampMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aU=IPCC.ai.AddTextMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aU=IPCC.ai.AddTextMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aU=IPCC.ai.AddTextMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.ej(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aU=IPCC.ai.AddFreehandLineMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.lJ()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aU=IPCC.ai.AddPolylineMark;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.kL(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aU=IPCC.ai.EditMarks;bB.style.cursor=IPCC.ai.eF(aU);lN=true;iF=function(){return[new IPCC.me(IPCC.Web.UI.MarkType.Text)];};break;default:aU=IPCC.ai.None;bB.style.cursor=IPCC.ai.eF(aU);break;}var T=0;for(T=0;T<au.length;T++){if(au[T].aY){var aP=document.getElementById(au[T].aY);if(aP){var aJ=aP.ad;if(aU==='grab'){F.AW(aP,'grab');}else{aP.style.cursor=IPCC.ai.eF(aU);}if(aJ){aJ.set_cursor(aU);aJ.Na(bh===IPCC.Web.UI.MouseTool.HandPan||bh===IPCC.Web.UI.MouseTool.EditMarks);if(lN===true){aJ.JY(iF());}else{aJ.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(au[T].hg===true&&aJ.fI()===true){aJ.display();}}}}}this.cg('mouseTool');}};this.aFL=function(){return Ap;};this.aGq=function(bool){Ap= ! !bool;};this.yf=function(){return vf;};this.IA=function(h){if(vf!==h){vf=h;var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T=0;for(T=0;T<cL.length;T++){var aP;var aJ;aP=document.getElementById(au[cL[T]].aY);aJ=aP.ad;if(aJ){aJ.set_markHandleMode(vf);this.wO(aP,T);}}this.cg('markHandleMode');}};this.jK=function(){return rH;};this.Jc=function(h){if(rH!==h){rH=h;var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T=0;for(T=0;T<cL.length;T++){var aJ;if(au[cL[T]].aY){aJ=document.getElementById(au[cL[T]].aY).ad;}if(aJ){aJ.set_textRequired(rH);}}this.cg('textRequired');}};this.aAJ=function(){return uf;};this.aCS=function(h){if(h<0){h=0;}if(uf!==h){uf=h;this.cg('maxPrefetch');}};this.axj=function(){return Ka;};this.aEZ=function(h){if(Ka!==h){Ka=h;this.cg('displayPagesWhenScrolling');}};this.azJ=function(){return CE;};this.aEQ=function(h){if(h<0){h=0;}if(CE!==h){CE=h;this.cg('maxOutOfViewDisplay');}};this.ayp=function(){return PR;};this.aFa=function(h){if(PR!==h){PR= ! !h;this.cg('discardOutOfViewText');}};this.ayh=function(){return RR;};this.aDS=function(h){if(RR!==h){RR= ! !h;this.cg('retainPageText');}};this.ayG=function(){return Nf;};this.aEr=function(h){if(h<0){h=0;}if(Nf!==h){Nf=h;this.cg('scrollDisplayThreshold');}};this.aAs=function(){return eQ;};this.aEy=function(h){if(eQ===h){return;}eQ=h;if(bJ===''||bJ.clientHeight<=0||dr===IPCC.ViewMode.SinglePage){this.cg('pageLayout');return;}var uV=cA;var FC=dr;if(dr===IPCC.ViewMode.EqualWidthPages||dr===IPCC.ViewMode.EqualFitPages){F.Po(IPCC.ViewMode.Document);}bJ.scrollLeft=0;bJ.scrollTop=0;var T=0;var aP;if(eQ===IPCC.PageLayout.VerticalScrollDirection){if(IF){IF.setAttribute('style',aDp);}CQ.insertBefore(kD,IF);for(T=0;T<au.length;T++){aP=document.getElementById(au[T].aY);aP.style.display='block';if(hb>0){aP.style.margin=fj+'px auto '+jx+'px auto';}}bB.style.margin='0px '+gH+'px 0px '+hA+'px';bJ.scrollLeft=(gG-bJ.clientWidth)/2+gH+oS;}else{if(IF){IF.setAttribute('style',aFb);}CQ.removeChild(kD);for(T=0;T<au.length;T++){aP=document.getElementById(au[T].aY);if(aP){aP.style.display='inline-block';if(hb>0){aP.style.margin=fj+'px '+gH+'px '+jx+'px '+hA+'px';}}}bB.style.margin='0px';bJ.scrollTop=(ht-bJ.clientHeight)/2+fj+nK;}if(FC===IPCC.ViewMode.EqualWidthPages){F.Po(IPCC.ViewMode.EqualWidthPages);}else if(FC===IPCC.ViewMode.EqualFitPages){F.Po(IPCC.ViewMode.EqualFitPages);}this.qF(uV);od();this.cg('layout');};this.axO=function(){return dr;};this.Po=function(h,ei){ei=ei||IPCC.ScaleTrigger.ViewMode;if(dr===h){return;}dr=h;if(bJ===''||bJ.clientHeight<=0){this.cg('viewMode');return;}var uV=cA;this.qF(uV);if(dr===IPCC.ViewMode.Document){var lB=1;var bD=hb;var bf=jz;if(iY(oW)===true){bD=jz;bf=hb;}if(eQ===IPCC.PageLayout.VerticalScrollDirection){lB=(bJ.clientWidth-(gH+hA+oS+oz))/bD;}else{lB=(bJ.clientHeight-(fj+jx+nK+qM))/bf;}iO(lB,true,undefined,undefined,undefined,undefined,ei);}else{Zk(ei);}this.qF(uV);this.cg('viewMode');AL(cu,true);mL(cu,true);};var oW=0;this.ayF=function(){return oW;};this.aEi=function(h){if(oW!==h){oW=h;var T=0;for(T=0;T<au.length;T++){if(au[T].Bm===0){au[T].gR=oW;}}this.cg('pageRotation');}};this.XU=function(bL){var cN;if(arguments.length>0){if(!isNaN(bL)){cN=bL;}else{cN=cA;}}else{cN=cA;}for(var T=0;T<au.length;T++){if(cN===T){return au[T].gR;}}return 0;};var nP=false;this.iW=function(){return nP;};this.pl=function(h){if(typeof h!=="boolean"){return;}if(h===nP){return;}nP=h;};this.aGo=function(){return Tj;};this.aGB=function(h,qd,xF,uc){if(Tj!==h){Tj=h;for(var T=0;T<au.length;T++){au[T].aQ.azc(h,T,au[T].lu(),au[T].rj(),au[T].fe,qd,xF,uc);var asd= !au[T].lu();au[T].Xp(asd);}this.cg('annotationXmlDom');}};var qi;this.Kt=function(h){qi=h;};this.tU=function(){return qi;};var pe=false;this.lP=function(){return pe;};this.qj=function(h){if(typeof h!=="boolean"){return;}if(h===pe){return;}pe=h;IPCC.K.forEach(au,function(aH,T){var aJ;if(au[T].aY){var aP=document.getElementById(au[T].aY);if(aP){aJ=aP.ad;}}if(aJ){aJ.qj(pe);aJ=undefined;}});};this.aGv=function(h){if(Jp!==h){Jp=h;this.cg('loadingContent');}};this.aAG=function(){return Jp;};this.axv=function(){var dn=hZ();var cL=[];if(dn){cL=te(dn);}var adJ=new IPCC.Web.UI.ImGearPageCollection();var T=0;for(T=0;T<cL.length;T++){adJ.akz(au[cL[T]].fe);}return adJ;};this.axl=function(aO){if(au[aO]){return au[aO].aY;}};this.xB=function(){return vn;};this.Kc=function(h){vn=h;};this.km=function(){return mF;};this.vy=function(h){mF=h;};this.Qx=function(aw,yc,Aw){var F=this;if(aw.kl()>0||aw.iM()>0){yc(aw.kl(),aw.iM());return;}aw.requestPageAttributes(function(ab,aT){if(au[aw.get_pageNumber()].ahm()===true){var gZ=ab/aw.ahU();if(gZ!==1){var aQ=F.hq(aw);if(aQ){ajC(aQ,gZ);}}}au[aw.get_pageNumber()].Xp(false);yc(ab,aT);},function(fC){Aw(fC);});};this.avk=function(){if(so===true){return;}so=true;this.ef(kD,'pccHidden');AL(cu,true);mL(cu,true);};this.arL=function(){if(so===false){return;}so=false;this.jZ(kD,'pccHidden');};this.aAo=function(){return so;};this.jZ=function(cY,rQ){var Gu=new RegExp('(?:^|\\s)'+rQ+'(?!\\S)','g');if(cY.className.match(Gu)===null){cY.className=cY.className+' '+rQ;}};this.ef=function(cY,rQ){var Gu=new RegExp('(?:^|\\s)'+rQ+'(?!\\S)','g');cY.className=cY.className.replace(Gu,'');};this.axS=function(){return oC;};this.aGz=function(h){oC=h;};this.axZ=function(){return ig;};this.aEz=function(h){if(ig===h){return;}var C,dN,uw;if(ig){C=ig.get_mark();uw=cu[C.get_markID()];dN=oC(C,{isSelected:true},(uw)?uw.dN:undefined);if(uw){CV(C,cu,dN);}}C=dN=uw=undefined;ig=h;if(ig){C=ig.get_mark();uw=cu[C.get_markID()];dN=oC(C,{isSelected:true},(uw)?uw.dN:undefined);if(uw){CV(C,cu,dN);}}mL(cu,true);};this.aAf=function(VU){var iy=yu();IPCC.K.forEach(VU,function(KH){var ce=cu[KH];if(ce){var jL=oC(ce.C,{isSelected:(ce.C.get_conversation()===ig)},ce.dN);if(!IPCC.K.un(jL)){throw new Error(jL+' is not a valid HTMLElement');}if(jL!==ce.dN){CV(ce.C,cu,jL);}}});mL(cu,false,iy);};this.apF=function(){F.apZ={top:bJ.scrollTop,left:bJ.scrollLeft};};this.aAZ=function(){var nI=F.apZ;if(nI){bJ.scrollTop=nI.top;bJ.scrollLeft=nI.left;}};this.initialize=function(){var cV=this.lY();var T;for(T=cV.childNodes.length-1;T>=0;T--){if(cV.childNodes[T].tagName!=='INPUT'){cV.removeChild(cV.childNodes[T]);}}this.CR.add_documentAdded(avP);this.CR.add_pageAdded(abS);this.CR.add_pageRemoved(aba);this.afy(true);cV.ad=this;ajT();var XY='webkit moz o'.split(' '),Dn='';if(bB.style.animationName!==undefined){Fe='animationend';CI='transitionend';return;}for(T=0;T<XY.length;T++){if(bB.style[XY[T]+'Animation']!==undefined){Dn=XY[T];Fe=Dn+'AnimationEnd';CI=Dn+'TransitionEnd';break;}}};this.ayu=function(){return lQ;};this.afy=function(h){lQ=h;this.cg('enabled');};this.azG=function(){if(cA+1<au.length){F.qF(cA+1);}};this.azu=function(){var Qt=cA-1;if(Qt<0){Qt=0;}F.qF(Qt);};function Ef(R){IPCC.Web.UI.bb.removeHandler(R.target,Fe,Ef);IPCC.Web.UI.bb.removeHandler(R.target,CI,Ef);if(Ky>cA){F.ef(R.target,'pccNextPageIn');F.ef(R.target,'pccPreviousPageIn');F.ef(R.target,'pccCurrentPage');F.ef(R.target,'pccPageBack');F.ef(R.target,'pccPageForward');F.jZ(R.target,'pccNextPage');}else if(Ky<cA){F.ef(R.target,'pccNextPageIn');F.ef(R.target,'pccPreviousPageIn');F.ef(R.target,'pccCurrentPage');F.ef(R.target,'pccPageBack');F.ef(R.target,'pccPageForward');F.jZ(R.target,'pccPreviousPage');}F.ef(bB,'pccPageListContainerPageChanging');bJ.style.overflow='auto';iB=null;bB.style.overflow='hidden';var kC=IPCC.K.filter(cu,function(bo){return bo.bL===cA+1;});OK(kC);setTimeout(function(){od();},60);};this.qF=function aHg(aO){var GF=cA;var kC;if(dr===IPCC.ViewMode.SinglePage){kC=IPCC.K.filter(cu,function(bo){return bo.bL!==aO+1;});Jh(kC);}else{va=true;var afD=aiL(aO);if(eQ===IPCC.PageLayout.VerticalScrollDirection){bJ.scrollTop=afD;}else{bJ.scrollLeft=afD;}}var yL=[];if(cA!==aO){cA=aO;var aH=au[cA];var R=new IPCC.PageEventArgs();R.imGearPage=F.get_currentPage();R.pageIndex=cA;R.pageNodeID=aH.aY;F.af('currentPageChanged',R);if(dr===IPCC.ViewMode.SinglePage){var hd=document.getElementById(au[cA].aY);var sM=document.getElementById(au[GF].aY);if(hd===null){hd=Fo(au[cA].fe);yL.push(au[cA]);hd.className='pccPageListItem pccCurrentPage';rc.push(cA);if(hb>0){var ka=SU(au[cA]);hd.style.width=ka.ab+'px';hd.style.height=ka.aT+'px';}else{hd.style.width=bB.clientWidth-gH-hA+'px';hd.style.height=bB.clientWidth*0.8+'px';}hd.style.display='block';hd.setAttribute('id',au[cA].aY);bB.appendChild(hd);}if(CI.length>0){bJ.style.overflow='hidden';bB.style.width=hd.style.width;bB.style.height=hd.style.height;bB.style.overflow='visible';if(iB!==null){IPCC.Web.UI.bb.removeHandler(iB,Fe,Ef);IPCC.Web.UI.bb.removeHandler(iB,CI,Ef);if(Ky>cA){this.ef(iB,'pccNextPageIn');this.ef(iB,'pccPreviousPageIn');this.ef(iB,'pccCurrentPage');this.ef(iB,'pccPageForward');this.ef(iB,'pccPageBack');this.jZ(iB,'pccNextPage');}else if(Ky<cA){this.ef(iB,'pccNextPageIn');this.ef(iB,'pccPreviousPageIn');this.ef(iB,'pccCurrentPage');this.ef(iB,'pccPageForward');this.ef(iB,'pccPageBack');this.jZ(iB,'pccPreviousPage');}}IPCC.Web.UI.bb.addHandler(sM,Fe,Ef);IPCC.Web.UI.bb.addHandler(sM,CI,Ef);iB=sM;Ky=GF;this.jZ(bB,'pccPageListContainerPageChanging');if(cA>GF){this.jZ(sM,'pccPageForward');this.ef(hd,'pccPageBack');this.ef(hd,'pccPreviousPage');this.ef(hd,'pccPreviousPageIn');this.ef(hd,'pccNextPage');this.jZ(hd,'pccCurrentPage');this.jZ(hd,'pccNextPageIn');}else{this.jZ(sM,'pccPageBack');this.ef(hd,'pccPageForward');this.ef(hd,'pccPreviousPage');this.ef(hd,'pccNextPage');this.ef(hd,'pccNextPageIn');this.jZ(hd,'pccCurrentPage');this.jZ(hd,'pccPreviousPageIn');}}else{bB.style.width=hd.style.width;bB.style.height=hd.style.height;if(cA>GF){this.ef(sM,'pccNextPage');this.ef(sM,'pccCurrentPage');this.jZ(sM,'pccPreviousPage');}else{this.ef(sM,'pccPreviousPage');this.ef(sM,'pccCurrentPage');this.jZ(sM,'pccNextPage');}this.ef(hd,'pccPreviousPage');this.ef(hd,'pccNextPage');this.jZ(hd,'pccCurrentPage');kC=IPCC.K.filter(cu,function(el){return el.bL===aO+1;});OK(kC);setTimeout(function(){od();},60);}IPCC.K.forEach(yL,aiT);}}};this.azq=function(){if(au.length>0){F.qF(0);}};this.aAV=function(){if(cA<au.length-1){F.qF(au.length-1);}};this.axw=function(cX){if(so===false){return "CommentsPanelClosed";}var fK=cu[cX.get_mark().get_markID()];if(!fK){return "ConversationDivDoesNotExist";}if(dr===IPCC.ViewMode.SinglePage&&fK.bL-1!==cA){return "SinglePageModePageNotShown";}var aw=document.getElementById(au[fK.bL-1].aY);if(au[fK.bL-1].hg===false||aw===undefined||aw.ad===undefined||aw.ad===null||aw.ad.fI()===false){return "PageOutOfView";}var G=cX.get_mark().get_boundingRectangle();var rR=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(G.x,G.y),true);var zq=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(G.x+G.width,G.y),true);rR.x=bB.offsetWidth;zq.x=bB.offsetWidth+tz();F.acc(aw.offsetTop,aw.offsetLeft,rR,zq);return "Success";};this.azN=function(aO,G){if(dr===IPCC.ViewMode.SinglePage&&aO!==cA){return false;}var aw=document.getElementById(au[aO].aY);if(au[aO].hg===false||aw===undefined||aw.ad===undefined||aw.ad===null||aw.ad.fI()===false){return false;}var rR=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(G.x,G.y),true);var zq=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(G.x+G.width,G.y+G.height),true);F.acc(aw.offsetTop,aw.offsetLeft,rR,zq);return true;};this.axx=function(auo,ats){bJ.scrollTop+=Math.round(ats);bJ.scrollLeft+=Math.round(auo);};this.acc=function(auP,atm,rR,zq){var abc=zq.x-rR.x;var aeu=zq.y-rR.y;var df=new IPCC.Web.UI.Point(0,0);if(abc>bJ.clientWidth){df.x=rR.x;}else{df.x=rR.x+(abc/2);}if(aeu>bJ.clientHeight){df.y=rR.y;}else{df.y=rR.y+(aeu/2);}if(eQ===IPCC.PageLayout.VerticalScrollDirection){bJ.scrollTop=auP+df.y-bJ.clientHeight/2;bJ.scrollLeft=df.x-bJ.clientWidth/2;}else{bJ.scrollLeft=atm+df.x-bJ.clientWidth/2;bJ.scrollTop=df.y-bJ.clientHeight/2;}};this.aDj=function(){var T=0;for(T=0;T<au.length;T++){Dc(T,true);}};this.asG=function(){var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T=0;for(T=0;T<cL.length;T++){Dc(cL[T]);}if(F.CR.get_length()>0){F.CR.removeAllDocuments();}};this.UM=function(aO,aS,cv,dK){if(au[aO]&&au[aO].hg===true){var aP=document.getElementById(au[aO].aY);if(aP&&aP.ad&&aP.ad.fI()===true){if(dK){IPCC.aF.dK(dK,"selectText");var gf=aP.ad.DN();var ati=gf.kv;var avJ=gf.ey;gf.kv=dK;gf.ey=dK;aP.ad.showTextSelection(aS,cv);gf.kv=ati;gf.ey=avJ;}else{aP.ad.showTextSelection(aS,cv);}}}};this.arw=function(){var dn=hZ();var cL=[];if(dn){cL=te(dn);}var T;for(T=0;T<cL.length;T++){if(au[cL[T]].hg===true){var et=document.getElementById(au[cL[T]].aY),ad=et?et.ad:undefined;if(ad&&ad.fI()===true){ad.showEmptyTextSelection(0);ad.extendTextSelection(undefined);ad.display();}}}};this.arz=function(aO){if(au[aO]&&au[aO].hg===true){var et=document.getElementById(au[aO].aY),ad=et?et.ad:undefined;if(ad&&ad.fI()===true){ad.showEmptyTextSelection(0);ad.extendTextSelection(undefined);ad.display();}}};this.wH=function(){var aw,cZ,ad;aB=null;IPCC.K.forEach(Pz,function(T){aw=au[T];cZ=document.getElementById(aw.aY);if(cZ){ad=cZ.ad;}if(ad){if(ad.fI()&&ad.Cv()){ad.showEmptyTextSelection(0);ad.extendTextSelection(undefined);if(aw.hg){ad.display();}}}aw=cZ=ad=undefined;});};this.vm=function(aO,rE){var aP;var aJ;var aer=function(aDx,ash){return(aDx+ash)%360;};au[aO].gR=aer(au[aO].gR,rE);if(au[aO].aY){aP=document.getElementById(au[aO].aY);}if(aP===undefined||aP===null){return;}aJ=aP.ad;if(aJ&&aJ.fI()===false){au[aO].Bm=aer(au[aO].Bm,rE);return;}va=true;if(aJ&&aJ.fI()===true){aJ.rotate(rE);}var bD=0;var bf=0;var eT=hb;var eV=jz;if(iY(oW)===true){eT=jz;eV=hb;}if(iY(au[aO].gR)===true){if(aJ&&aJ.fI()===true){bD=aJ.get_pageHeight();bf=aJ.get_pageWidth();}else{bD=jz;bf=hb;}}else{if(aJ&&aJ.fI()===true){bD=aJ.get_pageWidth();bf=aJ.get_pageHeight();}else{bD=hb;bf=jz;}}va=true;if(dr===IPCC.ViewMode.SinglePage){aP.style.width=bD*du*ct/au[aO].hE+'px';aP.style.height=bf*du*ct/au[aO].hI+'px';if(aO===cA){bB.style.width=bD*du*ct/au[aO].hE+'px';bB.style.height=bf*du*ct/au[aO].hI+'px';}}else if(dr===IPCC.ViewMode.Document){aP.style.width=bD*du*ct/au[aO].hE+'px';aP.style.height=bf*du*ct/au[aO].hI+'px';var T=0;if(eQ===IPCC.PageLayout.VerticalScrollDirection){if(bD*du*ct/au[aO].hE>gG){gG=bD*du*ct/au[aO].hE;}else if(aP.clientHeight>=gG-10){gG=0;for(T=0;T<au.length;T++){aP=document.getElementById(au[T].aY);if(aP&&aP.clientWidth>gG){gG=aP.clientWidth;}}}if(bf*du*ct/au[aO].hI>ht){ht=bf*du*ct/au[aO].hI;}}else{if(bf*du*ct/au[aO].hI>ht){ht=bf*du*ct/au[aO].hI;}else if(aP.clientWidth>=ht-10){ht=0;for(T=0;T<au.length;T++){aP=document.getElementById(au[T].aY);if(aP&&aP.clientHeight>ht){ht=aP.clientHeight;}}}if(bD*du*ct/au[aO].hE>gG){gG=bD*du*ct/au[aO].hE;}}}else{var hy;if(eQ===IPCC.PageLayout.VerticalScrollDirection){hy=eT/bD*du*ct/au[aO].hI;if(aJ&&aJ.fI()===true){aJ.zoom(hy);}va=true;aP.style.width=eT*du*ct/au[aO].hE+'px';aP.style.height=hy*bf+'px';}else{hy=eV/bf*du*ct/au[aO].hI;if(aJ&&aJ.fI()===true){aJ.zoom(hy);}va=true;aP.style.height=eV*du*ct/au[aO].hI+'px';aP.style.width=hy*bD+'px';}if(eT*du*ct/au[aO].hE>gG){gG=eT*du*ct/au[aO].hE;}if(eV*du*ct/au[aO].hI>ht){ht=eV*du*ct/au[aO].hI;}}if(aJ&&aJ.fI()===true){va=true;this.wO(aP,aO);setTimeout(function(){if(so===false){return;}var iy=yu();var kC=IPCC.K.filter(cu,function(el){return aO===el.bL-1;});AL(kC);mL(kC,true,iy);},0);}};this.ayS=function(rE){var uV=cA;this.vm(cA,rE);if(dr!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){F.qF(uV);},10);}};this.aeg=function(rE){var uV=cA;var dn=hZ();if(dr!==IPCC.ViewMode.SinglePage){this.qF(uV);}var hw=0;var gP=au.length-1;var T;for(T=hw;T<=gP;T++){this.vm(T,rE);}if(dr!==IPCC.ViewMode.SinglePage){var F=this;setTimeout(function(){ahY(dn);F.qF(uV);},10);}};function alb(zo,oB){var pm=0;var qR=0;var Bq=false;va=true;var dn=hZ();if(dn){IPCC.K.forEach(dn.Ii,function(bd){var hf=eQ===IPCC.PageLayout.VerticalScrollDirection?bd.aT+fj:bd.ab+gH+hA;var aDP=zo.Ii[bd.aN];if(aDP.xz){Bq=true;return;}if(oB&&bd.aN>=oB.ki&&bd.aN<=oB.jc){var aP=document.getElementById(au[bd.aN].aY);if(aP){return;}}if(Bq){qR+=hf;}else{pm+=hf;}});}return{qR:qR,pm:pm};};function ahY(zo){if(dr===IPCC.ViewMode.SinglePage){return;}var oB=Qk(zo);var pG=alb(zo,oB);if(eQ===IPCC.PageLayout.VerticalScrollDirection){bB.style.paddingTop=pG.pm+'px';bB.style.paddingBottom=pG.qR+'px';}else{bB.style.paddingLeft=pG.pm+'px';bB.style.paddingRight=pG.qR+'px';}};function avO(zo){if(dr===IPCC.ViewMode.SinglePage){return;}var QS;var oB;if(eQ===IPCC.PageLayout.VerticalScrollDirection){QS=parseInt(window.getComputedStyle(bB,null).getPropertyValue('padding-top'),10);}else{QS=parseInt(window.getComputedStyle(bB,null).getPropertyValue('padding-left'),10);}oB=Qk(zo);var pG=alb(zo,oB);if(eQ===IPCC.PageLayout.VerticalScrollDirection){bB.style.paddingTop=pG.pm+'px';bB.style.paddingBottom=pG.qR+'px';bJ.scrollTop=bJ.scrollTop+pG.pm-QS;}else{bB.style.paddingLeft=pG.pm+'px';bB.style.paddingRight=pG.qR+'px';bJ.scrollLeft=bJ.scrollLeft+pG.pm-QS;}};this.Pg=function(aO){IPCC.aF.kc(aO,'pageIndex',0,au.length-1);var aw=au[aO];if(aw&&aw.aY&&(aw.Gj===true||aw.vs===false)){var bN;var aP=document.getElementById(aw.aY);if(aP.ad){aP.ad.dispose();}aiZ(aP);bN=new IPCC.Web.UI.PageView(aP,false,bJ);if(bN){bN.set_autoUpdate(false);bN.uO(aP);bN.initialize();bN.set_imageHandlerUrl(aw.aV.sL);bN.set_requireRequestsOptimize(vn);if(mF!==undefined){bN.set_serviceResponseTimeout(mF);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.Na(bh===IPCC.Web.UI.MouseTool.HandPan||bh===IPCC.Web.UI.MouseTool.EditMarks);Tc(bN,aw);Rd(bN);Ud(bN);TQ(bN);SJ(bN);}bN.set_textRequired(rH);bN.set_markHandleMode(vf);bN.set_debug(_debug);bN.set_gamma(pV);bN.set_sharpening(qq);bN.set_svgLineWidthMultiplier(lV);bN.set_debugErrorLevel(og);bN.pl(F.iW());if(qi){bN.set_resourcePath(qi);}if(iF){bN.JY(iF());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qj(F.lP());aw.Gj=false;aw.zj=false;var Ad={encodedDocumentIdentifier:aw.aV.get_encodedDocumentIdentifier(),pageNumber:aO,artServiceOption:0,documentArtPage:aw.fs,viewRotationDegreesClockwise:aw.gR};if(aw.aQ){Ad.artPage=aw.aQ;}if(aw.fs){Ad.documentArtPage=aw.fs;}bN.openPage(Ad);aw.vs=true;jM++;}};function Zk(ei,eG){if(hb<=0){return;}var eT=hb;var eV=jz;var fr=ct/au[0].hE;if(iY(oW)===true){eT=jz;eV=hb;fr=ct/au[0].hI;}var lB=1;if(eQ===IPCC.PageLayout.VerticalScrollDirection){lB=(bJ.clientWidth-tz()-(gH+hA+oS+oz))/(eT*fr);}else{lB=(bJ.clientHeight-(fj+jx+nK+qM))/(eV*fr);}var tp;if(du<=lB){tp=false;}else if(du>lB){tp=true;}if(isNaN(lB)||lB<=0||Math.abs(lB)===Infinity){return;}du=lB;gG=0;ht=0;var hw=0;var gP=au.length-1;var bO=0;var aJ;for(bO=hw;bO<=gP;bO++,aJ=undefined){var aP=document.getElementById(au[bO].aY);if(aP){aJ=aP.ad;}if(aJ===undefined){continue;}var bD=eT;var bf=eV;if(au[bO].lu()>0){if(iY(au[bO].gR)===true){bD=au[bO].rj();bf=au[bO].lu();}else{bD=au[bO].lu();bf=au[bO].rj();}}var hy=1;if(eQ===IPCC.PageLayout.VerticalScrollDirection){hy=eT/bD*du*fr;aP.style.width=eT*du*fr+'px';aP.style.height=bf*hy+'px';if(eT*du*fr>gG){gG=eT*du*fr;}if(bf*hy*ct/au[bO].hI>ht){ht=bf*hy*fr;}}else{hy=eV/bf*du;aP.style.height=eV*du*fr+'px';aP.style.width=bD*hy*fr+'px';if(bD*du*ct/au[bO].hE>gG){gG=bD*du*fr;}if(eV*hy*fr>ht){ht=eV*hy*fr;}}if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.zoom(hy);}if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.display();}aJ=undefined;}hZ();od();setTimeout(function(){AL(cu);mL(cu);},0);F.af('scaleChanged',{scaleType:(tp)?"scaledDown":"scaledUp",scaleTrigger:ei,fitType:eG,scaleFactor:du});};function iY(hC){switch(hC){case 90:case 270:case-90:case-270:return true;default:return false;}};function gs(ro){var yR=document.createElement('div');var T;for(T in ro){if(ro.hasOwnProperty(T)){yR.style[T]=ro[T];}}return yR;};this.aqZ=function(){if(Jr===undefined||Jr===null){Jr=1;}var ds=this.lY().id.toString()+'_'+Jr.toString();Jr++;return ds;};this.VZ=function(){return this.CR;};this.hq=function(aAU){for(var sl=0;sl<au.length;sl++){var axd=au[sl];if(aAU===axd.fe){return au[sl].aQ;}}return null;};this.aIs=function(jE){var aP=document.getElementById(au[jE.get_pageNumber()].aY);if(aP){return aP.ad.ml();}return null;};this.ary=function(){if(lQ===false||iB!==null||xY){return;}var dn=hZ();ajq(dn);};function avP(aC,R){ST(R);};function ST(an){var fT=an.imGearDocument;var aDg=F.aqZ();fT.PZ=aDg;var dH=fT.get_pages();var di=dH.get_length();if(di>0){var Pp=document.createDocumentFragment();for(var bO=0;bO<di;bO++){var aw=dH.getPage(bO);if(!aw.aV){aw.aV=fT;}Fo(aw,aw.get_pageNumber()===0?null:Pp);}bB.appendChild(Pp);}};var aDC=IPCC.K.aiw(function(){if(Iw.length>0&&lQ){var cN;var GB;var JD=0;IPCC.K.forEach(Iw,ajo);var abh=hZ();if(!abh){return;}var ka=abh.Ii;IPCC.K.forEach(Iw,function(aw,aN){cN=aw.om();GB=ka[cN];if(eQ===IPCC.PageLayout.VerticalScrollDirection){JD+=GB.aT+fj;}else{JD+=GB.ab+gH;}});if(JD&&dr!==IPCC.ViewMode.SinglePage){if(eQ===IPCC.PageLayout.VerticalScrollDirection){bB.style.paddingBottom=JD+'px';}else{bB.style.paddingRight=JD+'px';}}AL(cu,true);mL(cu,true);if(F.CR.RY(0).eL===au.length){F.af('allPagesAdded');}od();}Iw=[];},10);function abS(aC,R){if(R.imGearPage.get_pageNumber()===0){Fo(R.imGearPage);return;}Iw.push(R.imGearPage);aDC();};function aba(aC,R){var cN=R.imGearPage.get_pageNumber();var Wg=R.imGearPage.aV.get_documentIdentifier();for(var bO=0;bO<au.length;bO++){if(au[bO].fe.get_pageNumber()===cN&&au[bO].fe.aV.get_documentIdentifier()===Wg){var aP=document.getElementById(au[bO].aY);if(aP){bB.removeChild(aP);if(aP.ad){aP.ad.dispose();var kC=IPCC.K.filter(cu,function(el){return el.bL===au[bO].cN+1;});Jh(kC);}}au.splice(bO,1);}}};function ajo(jE){if(!IPCC.K.contains(au,jE)){var aH=new IPCC.aH({page:jE});if(oW){aH.gR=oW;}if(!aH.aV){aH.aV=jE.aV;}au.push(aH);IPCC.Pagecounter++;au=au.sort(function(dP,ft){return dP.cN-ft.cN;});auT(jE);avd(jE);auf(jE);aH.apc=false;aH.zj=false;aus(aH);auB(aH);SI(aH);atT(aH);atG(aH);auw(aH);auI(aH);atZ(aH);auN(aH);aul(aH);return aH;}};function Fo(aw,Pp){var LD=aw.get_pageNumber();var cV=F.lY();var fT=null;var Vd;var di=F.get_documents().get_length();for(var aL=0;aL<di;aL++){fT=F.get_documents().getDocument(aL);if(fT!==null){Vd=fT.PZ;if(Vd===aw.aV.PZ){break;}}}var gF=IPCC.K.find(au,function(aH){return aH.fe&&aH.fe===aw;});if(!gF){gF=ajo(aw);}gF.EP=true;var adw=gF.aY;if(gF.IQ===1){return document.getElementById(adw);}gF.IQ=1;if(bB===''){ajT();}var lc=(function(){var ax;if(dr!==IPCC.ViewMode.SinglePage){ax=gs({overflow:'hidden',position:'relative'});}else{ax=gs({overflow:'hidden',position:'absolute',margin:'0px'});if(gF.cN>cA){F.jZ(ax,'pccNextPage');}else if(gF.cN<cA){F.jZ(ax,'pccPreviousPage');}else{F.jZ(ax,'pccCurrentPage');}}rc.push(aw.cN);F.jZ(ax,'pccPageListItem');aiZ(ax);var FQ=SU(gF);ax.style.width=FQ.ab+'px';ax.style.height=FQ.aT+'px';var dn=hZ();var Pe;if(eQ===IPCC.PageLayout.VerticalScrollDirection||dr===IPCC.ViewMode.SinglePage){ax.style.display='block';if(hb>0){ax.style.margin=fj+'px auto '+jx+'px auto';}if(dn.cB.length>0&&dr!==IPCC.ViewMode.SinglePage){Pe=dn.cB[0];if(LD<Pe.aN){var aDZ=IPCC.K.Qz(bB,'padding-top');var aEw=IPCC.K.MV(aDZ);var XF=aEw-FQ.aT-fj;if(XF<0){XF=0;}bB.style.paddingTop=XF+'px';}else{var aqY=IPCC.K.Qz(bB,'padding-bottom');var arj=IPCC.K.MV(aqY);var XQ=arj-FQ.aT-fj;if(XQ<0){XQ=0;}bB.style.paddingBottom=XQ+'px';}}}else{ax.style.display='inline-block';if(hb>0){ax.style.margin=fj+'px '+gH+'px '+jx+'px '+hA+'px';}if(dn.cB.length>0&&dr!==IPCC.ViewMode.SinglePage){Pe=dn.cB[0];if(LD<Pe.aN){var axC=IPCC.K.Qz(bB,'padding-left');var aqc=IPCC.K.MV(axC);var XS=aqc-FQ.ab-gH;if(XS<0){XS=0;}bB.style.paddingLeft=XS+'px';}else{var aEb=IPCC.K.Qz(bB,'padding-right');var aEf=IPCC.K.MV(aEb);var Wh=aEf-FQ.ab-gH;if(Wh<0){Wh=0;}bB.style.paddingRight=Wh+'px';}}}ax.setAttribute('id',adw);return ax;}());gF.fe=gF.fe||aw;gF.ahD=gF.ahD||Vd;gF.gR=gF.gR!==undefined?gF.gR:oW;gF.hg=false;function arO(et){var abm=et.childNodes;var aAI=IPCC.K.find(au,function(aH){if(aH.cN<=LD){return;}var iH=IPCC.K.find(abm,function(iH){return iH.id&&iH.id===aH.aY;});if(!iH){return;}if(aH.cN>LD){iH.parentElement.insertBefore(lc,iH);return true;}});if(!aAI){et.appendChild(lc);}}(function aHV(){if(au.length===1){bB.appendChild(lc);}else{return arO(Pp||bB);}}());var aqh=false;if(lc&&cV.clientWidth>0){var asp=cV.clientWidth/(lc.clientWidth+(lc.clientLeft*2));var axt=cV.clientHeight/(lc.clientHeight+(lc.clientTop*2));if(au.length<(asp*axt)){aqh=true;}}if(au.length<2){var bN=new IPCC.Web.UI.PageView(lc,false,bJ);if(bN){bN.set_autoUpdate(false);bN.uO(lc);bN.initialize();bN.set_imageHandlerUrl(aw.aV.sL);bN.set_imGearPage(gF.fe);bN.set_artPage(gF.aQ);bN.set_documentArtPage(gF.fs);bN.set_requireRequestsOptimize(vn);if(mF!==undefined){bN.set_serviceResponseTimeout(mF);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.set_textRequired(rH);bN.set_markHandleMode(vf);bN.set_debug(_debug);bN.set_gamma(pV);bN.set_sharpening(qq);bN.set_svgLineWidthMultiplier(lV);bN.set_debugErrorLevel(og);bN.pl(F.iW());if(qi){bN.set_resourcePath(qi);}if(iF){bN.JY(iF());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qj(F.lP());bN.Na(bh===IPCC.Web.UI.MouseTool.HandPan||bh===IPCC.Web.UI.MouseTool.EditMarks);}Tc(bN,gF);Ud(bN);TQ(bN);Rd(bN);SJ(bN);bN.openPage({encodedDocumentIdentifier:aw.aV.get_encodedDocumentIdentifier(),pageNumber:aw.get_pageNumber(),artServiceOption:0,imGearPage:gF.fe,artPage:gF.aQ,documentArtPage:gF.fs,viewRotationDegreesClockwise:gF.gR});gF.vs=true;jM++;}return lc;};function ajO(aH){return aH.EP;};function od(){if(jM>0||lQ===false||iB!==null){return;}if(xY){return;}var dn=hZ();if(!dn){return;}au.forEach(function(aw,aN){if(!aw.hg){return;}F.JJ(aN);});var yL=arM(dn);IPCC.K.forEach(yL||[],function(aN){var aw=au[aN];if(aw){aiT(aw);}});IPCC.K.forEach(dn.cB,function(GB){var aH=au[GB.aN];if(ajO(aH)&& !aH.hg&&aH.IQ){Pm(aH);}});ajq(dn);asP();};function ajq(dn){if(!dn){return;}var oB=Qk(dn);for(var aN=oB.ki;aN<=oB.jc;aN++){var aH=au[aN];if(!ajO(aH)){aH.EP=true;var Xz=F.VZ();var fT=Xz.RY(0);var jE=fT.dH.iR(aN);Fo(jE);aiI(aH,false);}}};function arM(dn){var aAC=te(dn);var yL=[];IPCC.K.forEach(aAC,function(aN){var aw=au[aN];if(aw&&aw.IQ===0){var Xz=F.VZ();var fT=Xz.RY(0);var jE=fT.dH.iR(aN);Fo(jE);yL.push(aN);}});return yL;};function asP(){var tL=bJ.scrollTop;var uj=bJ.scrollLeft;var wR=bJ.clientHeight;var ws=bJ.clientWidth;var uI=bJ.scrollWidth;var uT=bJ.scrollHeight;var dn=Ss({tL:tL,uj:uj,wR:wR,ws:ws,uI:uI,uT:uT});var oB=Qk(dn);var agV=atV(dn);var pm=0;var qR=0;var Bq=false;IPCC.K.forEach(dn.Ii,function(bd){var hf=eQ===IPCC.PageLayout.VerticalScrollDirection?bd.aT+fj:bd.ab+gH+hA;var aN= +bd.aN;if(bd.xz||(dr===IPCC.ViewMode.SinglePage&&aN===cA)){Bq=true;return;}if(aN>=oB.ki&&aN<=oB.jc){if(aN>=agV.ki&&aN<=agV.jc){return;}if(Bq){if(Dc(aN,true)> -1){qR+=hf;}}else{if(Dc(aN,true)> -1){pm+=hf;}}return;}if(Bq){qR+=hf;Dc(aN);}else{pm+=hf;Dc(aN);}});if(dr===IPCC.ViewMode.SinglePage){return;}if(eQ===IPCC.PageLayout.VerticalScrollDirection){bB.style.paddingTop=pm+'px';bB.style.paddingBottom=qR+'px';}else{bB.style.paddingLeft=pm+'px';bB.style.paddingRight=qR+'px';}};function Dc(bO,awD){var aw=au[bO];if(!aw){return-1;}var cN=aw.cN;if(awD===true&& !aw.hg){return-1;}aw.zj=false;aw.vs=false;aw.hg=false;aw.IQ=0;aw.EP=false;if(PR&& !aw.fe.cC().azm()&&RR!==true){aw.fe.agl();}var yr=document.getElementById(aw.aY);if(!yr){return-1;}if(yr.ad){yr.ad.dispose();var kC=IPCC.K.filter(cu,function(el){return el.bL===cN+1;});Jh(kC);yr.parentElement.removeChild(yr);return bO;}else{yr.parentElement.removeChild(yr);}return-1;};function Pm(aH){var ax=document.getElementById(aH.aY);F.wO(ax,aH.cN);};function aiT(aH){aiI(aH,true);Pm(aH);};function aiI(aw,apt){var ax=document.getElementById(aw.aY);if(ax===null){return;}var bN=new IPCC.Web.UI.PageView(ax,false,bJ);bN.set_autoUpdate(false);bN.uO(document.getElementById(aw.aY));bN.initialize();bN.set_imageHandlerUrl(aw.aV.sL);bN.set_imGearPage(aw.fe);bN.set_artPage(aw.aQ);bN.set_requireRequestsOptimize(vn);if(mF!==undefined){bN.set_serviceResponseTimeout(mF);}bN.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bN.set_textRequired(rH);bN.set_markHandleMode(vf);bN.set_debug(_debug);bN.set_gamma(pV);bN.set_sharpening(qq);bN.set_svgLineWidthMultiplier(lV);bN.set_debugErrorLevel(og);bN.pl(F.iW());if(qi){bN.set_resourcePath(qi);}if(iF){bN.JY(iF());}else{bN.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bN.qj(F.lP());bN.Na(bh===IPCC.Web.UI.MouseTool.HandPan||bh===IPCC.Web.UI.MouseTool.EditMarks);Tc(bN,aw);Ud(bN);TQ(bN);Rd(bN);SJ(bN);if(apt===true){bN.add_pageOpened(function aGi(aM){F.wO(ax,aw.cN);});}if(aw.zj===false&&aw.fe){aw.EP=true;var Ad={encodedDocumentIdentifier:aw.fe.aV.get_encodedDocumentIdentifier(),pageNumber:aw.fe.get_pageNumber(),imGearPage:aw.fe,viewRotationDegreesClockwise:aw.gR};if(aw.aQ){Ad.artPage=aw.aQ;}if(aw.fs){Ad.documentArtPage=aw.fs;}bN.openPage(Ad);aw.vs=true;jM++;}};function ajC(aQ,gZ){var aW;aQ.forEachMark(function(C){switch(C.get_type()){case IPCC.Web.UI.MarkType.Line:var bn=C.get_points();var bF=bn.Bs(0);var kO=bn.Bs(1);bn.setPoint(0,new IPCC.Web.UI.Point(bF.x*gZ,bF.y*gZ));bn.setPoint(1,new IPCC.Web.UI.Point(kO.x*gZ,kO.y*gZ));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aW=C.get_rectangle();C.set_rectangle({x:aW.x*gZ,y:aW.y*gZ,width:aW.width*gZ,height:aW.height*gZ});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aW=C.get_rectangle();C.set_rectangle({x:aW.x*gZ,y:aW.y*gZ,width:aW.width*gZ,height:aW.height*gZ});var bm=C.bm,gd;for(var i=0;i<bm.length;i++){gd=bm[i];gd.x=gd.x*gZ;gd.y=gd.y*gZ;gd.width=gd.width*gZ;gd.height=gd.height*gZ;}break;default:break;}});};function Tc(bN,aw){function avD(sender,evnt){var abt=function(ab,aT,bL){var Tk={'width':ab,'height':aT,'pageNumber':bL};F.af('pageOpening',Tk);};var cN=evnt.pageNumber;var Wg=evnt.documentIdentifier;aw.bD=bN.get_pageWidth();aw.bf=bN.get_pageHeight();var gC=bN.get_pageXResolution();var gn=bN.get_pageYResolution();if(!isNaN(parseFloat(gC))&&isFinite(gC)){aw.hE=gC;}if(!isNaN(parseFloat(gn))&&isFinite(gn)){aw.hI=gn;}bN=null;for(var bO=0;bO<au.length;bO++){if(lQ&&au[bO].fe.get_pageNumber()===cN&&au[bO].fe.aV.get_documentIdentifier()===Wg){au[bO].vs=false;au[bO].zj=true;au[bO].Gj=false;if(dr===IPCC.ViewMode.SinglePage){var nz= -1;if(Array.prototype.indexOf){nz=rc.indexOf(bO);}else{nz=IPCC.Web.kw(rc,bO);}if(nz!== -1){rc.splice(nz,1);}}var akA=false;for(var aL=0;aL<Pz.length;aL++){if(Pz[aL]===bO){akA=true;}}if(akA===false){Pz.push(bO);}var ku=0;var lp=0;var aP=document.getElementById(au[bO].aY);var aJ=aP.ad;var eT;var eV;var Yf;if(hb===0&&(bO===0||au[0].Gj===true)){if(aP.currentStyle){nK=parseInt(aP.currentStyle.borderTopWidth,10)||0;fj=parseInt(aP.currentStyle.marginTop,10)||0;oS=parseInt(aP.currentStyle.borderLeftWidth,10)||0;gH=parseInt(aP.currentStyle.marginLeft,10)||0;qM=parseInt(aP.currentStyle.borderBottomWidth,10)||0;jx=parseInt(aP.currentStyle.marginBottom,10)||0;oz=parseInt(aP.currentStyle.borderRightWidth,10)||0;hA=parseInt(aP.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var xM=document.defaultView.getComputedStyle(aP);nK=parseInt(xM.borderTopWidth,10)||0;fj=parseInt(xM.marginTop,10)||0;oS=parseInt(xM.borderLeftWidth,10)||0;gH=parseInt(xM.marginLeft,10)||0;qM=parseInt(xM.borderBottomWidth,10)||0;jx=parseInt(xM.marginBottom,10)||0;oz=parseInt(xM.borderRightWidth,10)||0;hA=parseInt(xM.marginRight,10)||0;}if(dr===IPCC.ViewMode.SinglePage){aP.style.margin=fj+'px 0px '+jx+'px 0px';bB.style.margin="0px auto";}else{if(eQ===IPCC.PageLayout.VerticalScrollDirection){aP.style.margin=fj+'px auto '+jx+'px auto';}else{aP.style.margin=fj+'px '+hA+'px '+jx+'px '+gH+'px';bB.style.margin='0px '+hA+'px 0px '+gH+'px';}}hb=aJ.get_pageWidth();jz=aJ.get_pageHeight();agn=gC;eT=hb;eV=jz;var fr=ct/au[bO].hE;if(iY(au[bO].gR)===true){eV=hb;eT=jz;fr=ct/au[bO].hI;}if(dr===IPCC.ViewMode.SinglePage){var arB=(bJ.offsetWidth-(gH+hA+oS+oz));var asR=(bJ.offsetHeight-(fj+jx+nK+qM+aCY));pk=arB/(eT*fr);Yf=asR/(eV*fr);if(Yf<pk){pk=Yf;}aJ.zoom(pk*fr);}else if(eQ===IPCC.PageLayout.VerticalScrollDirection){pk=(bJ.offsetWidth-IPCC.Web.oi()-(gH+hA+oS+oz))/(eT*fr);aJ.zoom(pk*fr);}else{pk=(bJ.offsetHeight-IPCC.Web.oi()-(fj+jx+nK+qM))/(eV*fr);aJ.zoom(pk*fr);}ku=eT*pk*fr;lp=eV*pk*fr;aP.style.width=ku+'px';aP.style.height=lp+'px';if(dr===IPCC.ViewMode.SinglePage){bB.style.width=ku+'px';bB.style.height=lp+'px';}if(dr!==IPCC.ViewMode.SinglePage){for(var sl=0;sl<au.length;sl++){if(au[sl].hg===false&&sl!==bO){if(au[sl].aY){aP=document.getElementById(au[sl].aY);aP.style.width=eT*pk+'px';aP.style.height=eV*pk+'px';if(eQ===IPCC.PageLayout.VerticalScrollDirection){aP.style.margin=fj+'px auto '+jx+'px auto';}else{aP.style.margin=fj+'px '+hA+'px '+jx+'px '+gH+'px';}}}}}du=pk;abt(aw.bD,aw.bf,cN+1);aP.ad.display();}else{if(dr===IPCC.ViewMode.Document||dr===IPCC.ViewMode.SinglePage){if(iY(au[bO].gR)===true){ku=aJ.get_pageHeight()*du*ct/au[bO].hE;lp=aJ.get_pageWidth()*du*ct/au[bO].hI;}else{ku=aJ.get_pageWidth()*du*ct/au[bO].hE;lp=aJ.get_pageHeight()*du*ct/au[bO].hI;}}else{var hy;var bD=aJ.get_pageWidth();var bf=aJ.get_pageHeight();eT=hb;eV=jz;if(iY(oW)===true){eT=jz;eV=hb;}if(iY(au[bO].gR)===true){bD=aJ.get_pageHeight();bf=aJ.get_pageWidth();}if(eQ===IPCC.PageLayout.VerticalScrollDirection){hy=eT/bD*du*ct/au[0].hI;ku=eT*du*ct/au[0].hE;lp=bf*hy;}else{hy=eV/bf*du*ct/au[0].hE;lp=eV*du*ct/au[0].hI;ku=bD*hy;}}if(ku!==Math.round(ku)){ku=Math.floor(ku*100)/100;}if(lp!==Math.round(lp)){lp=Math.floor(lp*100)/100;}if(aP.style.width!==ku+'px'||aP.style.height!==lp+'px'){if(eQ===IPCC.PageLayout.VerticalScrollDirection){aP.style.width=ku+'px';aP.style.height=lp+'px';}else{aP.style.width=ku+'px';aP.style.height=lp+'px';}AL(cu,true);mL(cu,true);}abt(aw.bD,aw.bf,cN+1);}if(ku>gG){gG=ku;if(eQ===IPCC.PageLayout.VerticalScrollDirection){bJ.scrollLeft=(gG-bJ.clientWidth)/2;}}if(lp>ht){ht=lp;if(eQ===IPCC.PageLayout.HorizontalScrollDirection){bJ.scrollTop=(ht-bJ.clientHeight)/2;}}if(au[bO].Bm>0){var YZ=document.getElementById(au[bO].aY).ad;if(YZ){YZ.rotate(au[bO].Bm);YZ.display();au[bO].Bm=0;}}if(jM>0){jM=jM-1;}if(au[bO].ahm()===true){var jE=au[bO].fe;var gZ=au[bO].lu()/jE.ahU();if(gZ!==1){var aQ=F.hq(jE);if(aQ){ajC(aQ,gZ);}}}au[bO].Xp(false);hZ();var Ip=new IPCC.OpenPageEventArgs();Ip.pageIndex=evnt.pageNumber;Ip.imGearPage=evnt.imGearPage;Ip.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;Ip.pageNodeID=au[bO].aY;F.af('pageOpened',Ip);break;}}if(jM===0&&md===null&&iB===null){setTimeout(function(){od();},60);}};bN.add_pageOpened(avD);};function Ud(bN){function aww(aC,aa){if(lQ===false){return;}var xj;if(aa.pageNumber>=0){if(au[aa.pageNumber].aY){xj=au[aa.pageNumber].aY;}}au[aa.pageNumber].Gj=true;au[aa.pageNumber].vs=false;au[aa.pageNumber].zj=false;au[aa.pageNumber].hg=false;var nG=new IPCC.ExceptionEventArgs();nG.exception=aa.exception;nG.pageIndex=aa.pageNumber;nG.pageNodeID=xj;F.af('pageOpenFailed',nG);if(jM>0){jM=jM-1;if(jM===0){setTimeout(function(){od();},60);}}};bN.add_pageOpenFailed(aww);};function TQ(bN){function awZ(aC,aa){if(lQ===false){return;}var R=new IPCC.PageEventArgs();R.pageIndex=aa.bL;R.imGearPage=au[aa.bL].fe;R.pageNodeID=au[aa.bL].aY;au[aa.bL].hg=true;if(dr===IPCC.ViewMode.SinglePage){var nz= -1;if(Array.prototype.indexOf){nz=rc.indexOf(aa.bL);}else{nz=IPCC.Web.kw(rc,aa.bL);}if(nz!== -1){rc.splice(nz,1);}}F.af('pageDisplayed',R);setTimeout(function(){var kC=IPCC.K.filter(cu,function(el){if(dr===IPCC.ViewMode.SinglePage){return aa.bL===el.bL-1&&el.bL-1===cA;}else{return aa.bL===el.bL-1;}});AL(kC);mL(kC);},0);};bN.add_pageDisplayed(awZ);};function avd(aw){function Gk(aC,aa){if(lQ===false){return;}F.af('textPageReady',{pageIndex:aa.pageNumber,containsText:aa.containsText});var dn=hZ();var cL=[];if(dn){cL=te(dn);}if(aa.containsText===true&&aa.pageNumber>=cL[0]&&aa.pageNumber<=cL[cL.length-1]){if(au[aa.pageNumber].aQ&&au[aa.pageNumber].aQ.get_markCount()>0){var aP=document.getElementById(au[aa.pageNumber].aY);F.wO(aP,aa.pageNumber);}}};aw.AB(Gk);};function auf(aw){function avG(aC,aa){if(lQ===false){return;}var fs=au[aa.pageNumber].fs;aw.ajm().KA().kH(function(ge){var C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aW=ge.fw();C.set_rectangle(new IPCC.Web.UI.Rectangle(aW.x,aW.y,aW.width,aW.height));C.set_href(ge.aiV());C.set_lineColor(ge.aGl());C.set_lineWidth(ge.axU());C.set_borderPattern(ge.aBe());C.set_borderType(ge.axL());C.set_borderHorizontalRadius(ge.aGf());C.set_borderVerticalRadius(ge.ayD());C.set_borderOpacity(ge.aFX());fs.addMark(C);ge.aGa(C);});F.af('hyperlinkPageReady',{pageIndex:aa.pageNumber});var dn=hZ();var cL=[];if(dn){cL=te(dn);}if(aa.pageNumber>=cL[0]&&aa.pageNumber<=cL[cL.length-1]){var aP=document.getElementById(au[aa.pageNumber].aY);F.wO(aP,aa.pageNumber);}};aw.WD(avG);};function auT(aw){function Gi(aC,aa){if(lQ===false){return;}var xj;if(aa.pageNumber>=0){if(au[aa.pageNumber].aY){xj=au[aa.pageNumber].aY;}}F.af('textExtractionFailed',{'exception':aa.exception,'pageIndex':aa.pageNumber,'pageNodeID':xj});};aw.zn(Gi);};function Rd(bN){function awr(aC,aa){if(lQ===false){return;}var xj;if(isNaN(aa.pageNumber)===false){if(aa.pageNumber>=0){if(au[aa.pageNumber].aY){xj=au[aa.pageNumber].aY;}}au[aa.pageNumber].Gj=true;au[aa.pageNumber].vs=false;au[aa.pageNumber].zj=false;au[aa.pageNumber].hg=false;}var nG=new IPCC.ExceptionEventArgs();nG.functionName=aa.function_name;nG.exception=aa.exception;nG.pageIndex=aa.pageNumber;nG.pageNodeID=xj;F.af('exceptionThrown',nG);if(jM>0){jM=jM-1;if(jM===0){setTimeout(function(){od();},60);}}};bN.add_exceptionThrown(awr);};function SJ(bN){function HG(aC,aa){F.af('markCreating',aa);};bN.add_markCreating(HG);};function aus(aH){function aiA(){if(lQ===false){return;}var dn=hZ();var cL=[];if(dn){cL=te(dn);}if(aH.cN>=cL[0]&&aH.cN<=cL[cL.length-1]){var aP=document.getElementById(aH.aY);F.wO(aP,aH.cN);}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;F.af('marksLoaded',R);};aH.aQ.add_marksLoaded(aiA);};function auB(aH){function mi(aC,aa){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;R.clientX=aa.clientX;R.clientY=aa.clientY;F.af('markAdded',R);};aH.aQ.add_markAdded(mi);};function SI(aH){var UU,tg=false,abu,aav;function Kv(V,fK){if(so===false){return;}var iy=yu();aiO(V,fK,iy);mL(cu,true,iy);};function avn(V,fK){abu=V;aav=fK;if(tg&& !UU){UU=GI(function(){tg=false;UU=undefined;if(abu&&aav){Kv(abu,aav);}else{Kv(V,fK);}});}};function nq(aC,aa){if(aa.mark.wI===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;R.propertyName=aa.propertyName;F.af('markChanged',R);var fK=cu[aa.mark.get_markID()];if(fK&&(aa.propertyName==='rectangle'||aa.propertyName==='points'||aa.propertyName==='startPoint'||aa.propertyName==='endPoint')){tg=true;avn(aa.mark,fK);}else if(fK&&aa.propertyName==='visible'){var aAR=aa.mark.get_visible();var Ye=(function(ce){return IPCC.K.inArray(PJ(),ce.bL-1);})(fK);if(aAR&&Ye){OK([fK]);mL(cu,true,yu());}else{Jh([fK]);}}};aH.aQ.add_markChanged(nq);};function atT(aH){function aiD(aC,aa){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;R.oldZIndex=aa.oldZIndex;F.af('markReordered',R);};aH.aQ.add_markReordered(aiD);};function atG(aH){function CZ(aC,aa){if(aa.mark.wI===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;F.af('markSelectionChanged',R);};aH.aQ.add_markSelectionChanged(CZ);};function auI(aH){function Cy(aC,aa){if(aa.mark){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;F.af('markRemoved',R);var fK=cu[aa.mark.get_markID()];if(fK){if(aa.mark.get_conversation()===ig){ig=null;}fK.dN.parentElement.removeChild(fK.dN);delete cu[aa.mark.get_markID()];mL(cu,true);}}};aH.aQ.add_markRemoved(Cy);};function auw(aH){function xA(aC,aa){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.zIndex=aa.zIndex;F.af('markTextSelectionChanged',R);};aH.aQ.add_markTextSelectionChanged(xA);};function aiO(V,fK,Ma){var aH=au[fK.bL-1],aw=document.getElementById(aH.aY),Ck=Wb(V,aH.cN+1);if(aw.ad){var df=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(Ck.x,Ck.y),true);var qa=(fj*aH.cN);var FO=(aw.offsetTop-qa+df.y)/(Ma-(fj*au.length));fK.aW=Ck;fK.TP=FO;}};function Jh(iX,bL){var aBw=typeof bL==='undefined';IPCC.K.forEach(iX,function(bo){if(bo&&(aBw||bo.pageNumber===bL)){bo.dN.style.display='none';bo.xz=false;}});};function tz(){if(kD.currentStyle&&kD.currentStyle.display==='none'){return 0;}return kD.clientWidth;};function yu(){if(kD.currentStyle&&kD.currentStyle.display==='none'){return 0;}return kD.offsetHeight;};function OK(iX,bL){var aEK=typeof bL==='undefined';IPCC.K.forEach(iX,function(el){if(aEK||el.pageNumber===bL){el.dN.style.display='';el.xz=true;if(el&&el.C&&el.C.get_visible()===false){el.dN.style.display='none';el.xz=false;}}});};function AL(iX,YH){if(so===false){return;}var RJ=(! !YH)?IPCC.K.filter(cu,function(ce){return IPCC.K.contains(PJ(),ce.bL-1);}):iX;var iy=yu();IPCC.K.forEach(RJ,function(el){aiO(el.C,el,iy);});};function auF(a,b){return(a.aW.y!==b.aW.y)?(a.aW.y-b.aW.y):(a.aW.x!==b.aW.x)?(a.aW.x-b.aW.x):(a.xt-b.xt);};function auu(a,b){return(a.aW.x!==b.aW.x)?(a.aW.x-b.aW.x):(a.aW.y!==b.aW.y)?(b.aW.y-a.aW.y):(a.xt-b.xt);};function auW(a,b){return(a.aW.y!==b.aW.y)?(b.aW.y-a.aW.y):(a.aW.x!==b.aW.x)?(b.aW.x-a.aW.x):(a.xt-b.xt);};function avh(a,b){return(a.aW.x!==b.aW.x)?(b.aW.x-a.aW.x):(a.aW.y!==b.aW.y)?(a.aW.y-b.aW.y):(a.xt-b.xt);};function awJ(Wr,iy,As){As=As||0;var _top,ama,Kd,WO=(fj*au.length),Ta=iy-WO;IPCC.K.forEach(Wr,function(ce){Kd=(fj*(ce.bL-1));ama=(ce.TP*Ta)+Kd;_top=Math.max(As+5,ama);if(ce.dN.style.top!==_top+'px'){ce.dN.style.top=_top+'px';}As=_top+ce.abC;});};function awH(Wr,iy){var KC,_top,MU,Kd,ana,WO=(fj*au.length),Ta=iy-WO;IPCC.K.forEach(Wr,function(ce){Kd=(fj*(ce.bL-1));MU=(ce.TP*Ta)+Kd;if(KC===undefined){KC=MU;}if(ce.C.get_conversation()===ig){_top=MU;ana=_top+ce.abC;}else{_top=Math.min(KC-5-ce.abC,MU);}if(ce.dN.style.top!==_top+'px'){ce.dN.style.top=_top+'px';}KC=_top;});return ana;};function mL(iX,YH,iy){if(so===false){return;}if(!iy){iy=yu();}var aDi=function(a,b){if(a.bL!==b.bL){return(a.bL-b.bL);}var aw=au[a.bL-1],hC=aw.gR;switch(hC){case 90:return auu(a,b);case 180:return auW(a,b);case 270:return avh(a,b);default:return auF(a,b);}};var RJ=(! !YH)?IPCC.K.filter(cu,function(ce){return IPCC.K.inArray(PJ(),ce.bL-1);}):iX;OK(RJ);var avZ=IPCC.K.map(RJ,function(ce,by){ce.abC=ce.dN.offsetHeight;return ce;});var XK=avZ.sort(aDi);var Rn=[],VW=[],Vw=false;if(ig){var axT=cu[ig.get_mark().get_markID()];if(!IPCC.K.inArray(XK,axT)){Vw=true;}IPCC.K.forEach(XK,function(ce){if(Vw){VW.push(ce);}else if(ce.C.get_conversation()===ig){Rn.unshift(ce);Vw=true;}else{Rn.unshift(ce);}});}else{VW=XK;}var As=0;if(Rn.length){As=awH(Rn,iy);}awJ(VW,iy,As);};function awl(iX,V,cN){var ce=iX[V.mv()];ce.bL=cN;ce.C=V;ce.aW=Wb(V,cN);ce.xt=V.eU().nR(V);};function CV(V,iX,jL){var fK=iX[V.get_markID()];if(fK){fK.dN.parentElement.replaceChild(jL,fK.dN);fK.dN=jL;}return fK;};function auh(V,iX,jL,avU,aHM,FO,cN){var fK=new aqa();fK.dN=jL;cu[V.get_markID()]=fK;awl(cu,V,cN);fK.TP=FO;avU.appendChild(jL);return fK;};function Wb(V,bL){var aW=(V.get_boundingRectangle)?V.get_boundingRectangle():{},hC=au[bL-1].gR;switch(hC){case 90:return{x:aW.x,y:aW.y+(aW.height||0)};case 180:return{x:aW.x+(aW.width||0),y:aW.y+(aW.height||0)};case 270:return{x:aW.x+(aW.width||0),y:aW.y};default:return{x:aW.x,y:aW.y};}};function atZ(aH){function Mp(aC,aa){var R=new IPCC.Web.UI.CommentEventArgs();R.pageIndex=aH.cN;R.mark=aa.mark;R.index=aa.index;R.comment=aa.comment;var aw=document.getElementById(aH.aY);F.af('commentAdding',R);setTimeout(function(){var Ma=yu(),fK,dN;if(aa.index===0){dN=oC(aa.mark,{isSelected:false},null);if(!dN){return;}else if(!IPCC.K.un(dN)){throw new Error(dN+' is not a valid HTMLElement');}var Ck=Wb(aa.mark,aH.cN+1),asm=Ck.x,art=Ck.y;var df;if(aw&&aw.ad){df=aw.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(asm,art),true);}else{df=new IPCC.Web.UI.Point(0,0);}var qa=(fj*(aH.cN));var FO=(aiL(aH.cN)-qa+df.y)/(Ma-(fj*au.length));fK=auh(aa.mark,cu,dN,kD,df,FO,aH.cN+1);}else{var LA=aa.mark.get_conversation()===ig;var currentConversationDiv=cu[aa.mark.get_markID()];if(!currentConversationDiv){return;}dN=oC(aa.mark,{isSelected:LA},currentConversationDiv.dN);if(!dN){return;}else if(!IPCC.K.un(dN)){throw new Error(dN+' is not a valid HTMLElement');}fK=CV(aa.mark,cu,dN);}if(IPCC.K.contains(PJ(),aH.cN)){mL(cu,true,Ma);}else{Jh([fK]);}F.af('commentAdded',R);},0);};aH.aQ.add_commentAdded(Mp);};function auN(aH){function KZ(aC,aa){var dN=null;if(cu[aa.mark.get_markID()]){dN=cu[aa.mark.get_markID()].dN;var LA=aa.mark.get_conversation()===ig;dN=oC(aa.mark,{isSelected:LA},dN);}if(!dN){F.af('commentChanged',aa);return;}else if(!IPCC.K.un(dN)){throw new Error(dN+' is not a valid HTMLElement');}if(dN){var iy=yu();CV(aa.mark,cu,dN);mL(cu,true,iy);}F.af('commentChanged',aa);};aH.aQ.add_commentChanged(KZ);};function aul(aH){function KP(aC,aa){var dN=null;if(cu[aa.mark.get_markID()]){dN=cu[aa.mark.get_markID()].dN;}var LA=aa.mark.get_conversation()===ig;dN=oC(aa.mark,{isSelected:LA},dN);if(IPCC.K.un(dN)){CV(aa.mark,cu,dN);}else{var fK=cu[aa.mark.get_markID()];if(fK){if(aa.mark.get_conversation()===ig){ig=null;}fK.dN.parentElement.removeChild(fK.dN);delete cu[aa.mark.get_markID()];}}mL(cu,true);F.af('commentRemoved',aa);};aH.aQ.add_commentRemoved(KP);};function Vz(){var aT=jz;var ab=hb;var aDu=function(ii){return{width:ii.width||(ii.right-ii.left),height:ii.height||(ii.bottom-ii.top),top:ii.top,bottom:ii.bottom,left:ii.left,right:ii.right};};var acq=aDu(bJ.getBoundingClientRect());var mg={height:acq.height/2};mg.width=mg.height*ab/aT;if(mg.width>ab/2){mg.width=ab/2;}if(mg.height>aT/2){mg.height=aT/2;}var aan=8;var amF={height:aT*aan,width:ab*aan};var aon=ab*du<mg.width+5;var aoi=ab*du>amF.width-5;return{min:mg,max:amF,page:{width:ab,height:aT},viewport:acq,atMin:aon,atMax:aoi,maxFactor:aan,minFactor:mg.width/ab};};function iO(bp,TU){if(TU){ajk.apply(this,arguments);return;}var tp=(bp<du)?true:false;var oj=Vz();if((oj.atMin&&tp)||(oj.atMax&& !tp)){return;}if(bp>oj.maxFactor){bp=oj.maxFactor;}else if(bp<oj.minFactor){bp=oj.minFactor;}if(!oj.atMax|| !oj.atMin){ajk.apply(this,arguments);}};function ajk(bp,aHD,bw,dc,EB,rO,ei,eG){if(isNaN(bp)||bp<=0||Math.abs(bp)===Infinity){return;}var Qq=cA;var dn=hZ();var tp=(bp<du)?true:false;var hw=0;var gP=au.length-1;if(dr===IPCC.ViewMode.SinglePage){if(cA-uf>=0){hw=cA-uf;}if(cA+uf<au.length-1){gP=cA+uf;}}var OS=bp/du;du=bp;var Do=bJ.getBoundingClientRect();var adX=(rO&&rO.x!==undefined)?rO.x:bJ.scrollLeft+(Do.width/2);var aeA=(rO&&rO.y!==undefined)?rO.y:bJ.scrollTop+(Do.height/2);var aCG=rO&&rO.x!==undefined&&rO.y!==undefined;gG=0;ht=0;for(var bO=hw;bO<=gP;bO++){var aJ;var aP=document.getElementById(au[bO].aY);if(aP){aJ=aP.ad;}else{continue;}if(bO===Qq){var Oe=aP.getBoundingClientRect();if(!aCG){if(eQ===IPCC.PageLayout.HorizontalScrollDirection&&Do.height>Oe.height){aeA-=((Do.height-Oe.height)/2);}else if(eQ===IPCC.PageLayout.VerticalScrollDirection&&Do.width>Oe.width){adX-=((Do.width-Oe.width)/2);}}}var gV=bp*ct/au[bO].hE;var bD=hb;var bf=jz;var eT=hb;var eV=jz;if(iY(oW)===true){eT=jz;eV=hb;}if(au[bO].lu()>0){if(iY(au[bO].gR)===true){bD=au[bO].rj();bf=au[bO].lu();}else{bD=au[bO].lu();bf=au[bO].rj();}}else{gV=bp*ct/au[0].hE;if(iY(au[bO].gR)===true){var Js=bD;bD=bf;bf=Js;gV=bp*ct/au[0].hI;}}var JL,Ju,hy;if(dr===IPCC.ViewMode.SinglePage){Ju=bD*gV;JL=bf*gV;aP.style.width=Ju+'px';aP.style.height=JL+'px';if(bO===cA){bB.style.width=Ju+'px';bB.style.height=JL+'px';}if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.zoom(gV);}}else if(dr===IPCC.ViewMode.Document){Ju=bD*gV;JL=bf*gV;aP.style.width=Ju+'px';aP.style.height=JL+'px';if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.zoom(gV);}if(bD*gV>gG){gG=bD*gV;}if(bf*gV>ht){ht=bf*gV;}}else{gV=bp*ct/au[0].hE;if(eQ===IPCC.PageLayout.VerticalScrollDirection){hy=eT/bD*gV;aP.style.width=eT*gV+'px';aP.style.height=bf*hy+'px';if(eT*gV>gG){gG=eT*gV;}if(bf*gV>ht){ht=bf*gV;}}else{hy=eV/bf*gV;aP.style.height=eV*gV+'px';aP.style.width=bD*hy+'px';if(bD*gV>gG){gG=bD*gV;}if(eV*gV>ht){ht=eV*gV;}}if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.zoom(hy);}}if(aJ&&au[bO].hg===true&&aJ.fI()===true){aJ.display();if(IPCC.K.wo.zS){var avl=bJ.style.display;bJ.style.display='none';bJ.style.display=avl;asq();}}}if(eQ===IPCC.PageLayout.VerticalScrollDirection){MA=bJ.scrollTop;}else{MA=bJ.scrollLeft;}var Qw,Qb,Mi=0,KE=0;if(EB){Qw=EB.offsetLeft+OS*bw;Qb=EB.offsetTop+OS*dc;bJ.scrollLeft=Qw-(bJ.clientWidth/2)+Mi;bJ.scrollTop=Qb-(bJ.clientHeight/2)+KE;avO(dn);}else{if(eQ===IPCC.PageLayout.VerticalScrollDirection){KE=fj*(Qq+1);}else{Mi=hA+((gH+hA)*(Qq+1));}Qw=OS*(adX-Mi);Qb=OS*(aeA-KE);ahY(dn);bJ.scrollLeft=Qw-(bJ.clientWidth/2)+Mi;bJ.scrollTop=Qb-(bJ.clientHeight/2)+KE;}if(dr!==IPCC.ViewMode.SinglePage&&(ei===IPCC.ScaleTrigger.Pinch||tp===true)){od();}mL(cu,true);F.af('scaleChanged',{scaleType:(tp)?"scaledDown":"scaledUp",scaleTrigger:ei,fitType:eG,scaleFactor:du});};function asq(){var dummy=document.createElement('div');setTimeout(function(){bJ.appendChild(dummy);bJ.removeChild(dummy);},0);};function ajR(aI,fG,eO,fb){var gK=aI.igElements;fb=fb||TK(aI);if(fb&&(fb.right-fb.left)>0&&(fb.bottom-fb.top)>0){return new IPCC.Web.UI.Point(fG+fb.left+gK.lZ.scrollLeft,eO+fb.top+gK.lZ.scrollTop);}else{return;}};function TK(aI){var gK=aI.igElements;var fb=null;if(!aI|| !gK|| !gK.nx){return null;}if(gK.nx.getBoundingClientRect){try{fb=gK.nx.getBoundingClientRect();}catch(aX){return;}}else{var et=gK.nx;var uD=document.documentElement;fb={left:uD.clientLeft-uD.scrollLeft,top:uD.clientTop-uD.scrollTop};et=et.offsetParent;while(et){fb.top+=et.offsetTop-et.scrollTop;fb.left+=et.offsetLeft-et.scrollLeft;et=et.offsetParent;}}return fb;};function ajT(){var cV=F.lY();var PA=cV.id;var xJ;var yb;var mh;var VT;var VC;var bM=false;var aI;var os=[];var tO= -1;var ha=0;var oP;var DE;var Ac;var nu={x:0,y:0};var kx=0;var ca=0;var rI=null;var tN=null;if(bB===''){bJ=gs({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bJ.className='pccPageListContainerWrapper';bJ.tabIndex=2;var XM=function(fG,eO){return IPCC.K.getPageFromPoint(fG,eO,bJ)||false;};var XZ=function(aI,fG,eO){var gK=aI.igElements;var fb=TK(aI);if(fb&&(fb.right-fb.left)>0&&(fb.bottom-fb.top)>0){return new IPCC.Web.UI.Point(fG-fb.left-gK.lZ.scrollLeft,eO-fb.top-gK.lZ.scrollTop);}else{return;}};var aBJ=function(pO){pO.JY([new IPCC.me(IPCC.Web.UI.MarkType.Text)]);};var aCd=function(pO){pO.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var KF=false,aFg="";var amj=function aHb(aX,ie,aw){if(ie.match(/edit/)){KF=true;return;}aBJ(aw.ad);KF=true;aFg=ie;aw.ad.Jb("touchstart",aX);};var anm=function(aw){KF=false;aCd(aw.ad);};var Wy=function(aX){if(aX.target&&aX.target.attributes&&aX.target.getAttribute('data-pcc-mark')){return aX.target;}else if(aX.target.parentElement&&aX.target.parentElement.attributes&&aX.target.parentElement.getAttribute('data-pcc-mark')){return aX.target.parentElement;}else if(aX.target.parentNode&&aX.target.parentNode.attributes&&aX.target.parentNode.getAttribute('data-pcc-mark')){return aX.target.parentNode;}else{return undefined;}};var WU=function(aX){var cY=Wy(aX);if(cY){return cY.getAttribute('data-pcc-mark');}return undefined;};var agD=function(pO){if(pO&&pO.eU()){pO.eU().BW(function(C){C.set_selected(false);});pO.display();}};var Qs,Xg=false;var QJ=function(aX,R){var mO={dI:undefined,C:undefined,aO:null};var lv=Wy(aX);if(lv){if(typeof aI!=='undefined'&&aI!==false&&aI.ad&&aI.igElements&&aI.ad.fI()===true){mO.aO=aI.ad.om();}if(lv.ImGearMarkRelation){mO.dI='mark';mO.C=lv.ImGearMarkRelation.C;mO.Zp=mO.C.get_selected();return mO;}else{while(!(lv.ImGearMarkRelation)&&lv.parentNode&&lv!==document.body){lv=lv.parentNode;if(lv.ImGearMarkRelation){mO.dI='mark';mO.C=lv.ImGearMarkRelation.C;mO.Zp=mO.C.get_selected();return mO;}}}}if(typeof aI!=='undefined'&&aI!==false&&aI.ad&&aI.igElements&&aI.ad.fI()===true){mO.aO=aI.ad.om();var aO=0;for(aO=0;aO<au.length;aO++){if(au[aO].aY===aI.id){if(typeof R.targetType==='undefined'||R.targetType===null){mO.dI='page';return mO;}break;}}}return mO;};var KN=function(aO,rK,kr,ayt){if(aB===null||aB===undefined){return;}var WJ=false;if(rK===undefined){rK=aB.rK;WJ=true;}if(kr===undefined){kr=aB.kr;WJ=true;}var C;var aw=document.getElementById(au[aO].aY);if(ayt===true){C=aB.vP;}else{C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);C.set_rectangle({x:0,y:0,width:0,height:0});C.cQ=127;C.ey='#3366CC';C.bm=null;aw.ad.ml().addMark(C);}C.set_selected(true);if(WJ===true){if(aB.hw===aB.gP){C.aS=ha;C.bZ=kr-ha+1;C.kI=true;C.lj=true;aw.ad.display();}else if(aO===aB.hw){C.aS=ha;C.bZ=aw.ad.cC().gp().eY()-1-rK;C.kI=true;C.lj=false;aw.ad.display();}else if(aO===aB.gP){C.aS=0;C.bZ=kr+1;C.kI=false;C.lj=true;aw.ad.display();}else{C.aS=0;C.bZ=aw.ad.cC().gp().eY()-1-ha;C.kI=false;C.lj=false;}}else{if(aB.hw===aB.gP){C.kI=true;C.lj=true;}else if(aO===aB.hw){C.kI=true;C.lj=false;}else if(aO===aB.gP){C.kI=false;C.lj=true;}else{C.kI=false;C.lj=false;}}aB.fq[aO]=C;};var ala=function(cY,bw,dc,Os){if(cY){var Ph=cY.getBoundingClientRect();bw=IPCC.K.Nj(bw,Ph.left+Os);bw=IPCC.K.KK(bw,Ph.right-Os);dc=IPCC.K.Nj(dc,Ph.top+Os);dc=IPCC.K.KK(dc,Ph.bottom-Os);}return{x:bw,y:dc};};var ko=function(aX){if(Ac){if(Ac.clientX===aX.clientX&&Ac.clientY===aX.clientY){if(aX.rawEvent.preventDefault){aX.rawEvent.preventDefault();}else if(aX.preventDefault){aX.preventDefault();}if(aX.rawEvent.stopPropagation){aX.rawEvent.stopPropagation();}else if(aX.stopPropagation){aX.stopPropagation();}Xg=true;Ac=undefined;return false;}}Qs=aX;agW(aX,aX.clientX,aX.clientY,aX.button);};var agh=function(aX,R){mh=QJ(aX,R);};var agW=function(aX,fG,eO,or){var R=new IPCC.Web.UI.MouseEventArgs();aI=XM(fG,eO);agh(aX,R);var ie;var lv=Wy(aX);if(lv){ie=lv.getAttribute('data-pcc-mark');}var Yc=false;var LK=ie&&ie.substring(0,10);if(ie&&LK==='texthandle'){DE=true;Yc=true;LK=ie.substring(10,13);var C=lv.parentNode.ImGearMarkRelation.C;if(aB&&C.bm===null){os=aB.sH.slice();os[R.pageIndex]=undefined;}else{aB=null;os=[];F.wH();}var acz=function(aCB){ha=aB.rK;var T;for(T=aB.gP;T>=aB.hw;T--){var aw=document.getElementById(au[T].aY);if(aw.ad===undefined||aw.ad===null){continue;}var zI=ha;if(T!==aB.hw){zI=0;}var qY;if(T===aB.gP){qY=aB.kr;}else{qY=aw.ad.get_textPage().gp().eY()-1;}aCB(aw,zI,qY);if(T!==aB.ov){KN(T);}}rI=bh;bh=IPCC.Web.UI.MouseTool.SelectText;bM=true;};var T,aO,aQ,NN,dW,vg,cK;if(LK==='sta'){if(aB===null||aB===undefined){aO=C.aO;aB={};aB.fq=[];aB.hw=aO;aB.rK=C.aS;ha=C.aS;while(aO<au.length){aQ=au[aO].aQ;NN=aQ.get_markCount();for(T=0;T<NN;T++){dW=aQ.getMark(T);if(C.bU===dW.bU&&dW.get_type()===C.get_type()){aB.fq[aO]=dW;for(vg=dW.bm.length-1;vg>=0;vg--){if(dW.bm[vg].set_visible){dW.bm[vg].set_visible(false);}else{dW.set_visible(false);break;}}if(aO===C.aO){tN=dW;}else{os[aO]=cK.substring(dW.aS,dW.bZ);dW.set_selected(false);}cK=dW.cK.substring(dW.bZ);if(dW.lj===true){aB.kr=dW.aS+dW.bZ-1;aB.gP=aO;break;}}}aO++;}}oP=aB.kr+1;kx=aB.gP;var aFD=function(aw,zI,qY){aw.ad.showEmptyTextSelection(qY+1);aw.ad.extendTextSelection(undefined);aw.ad.extendTextSelection(qY);aw.ad.extendTextSelection(zI);};aB.fq[aB.hw].wI=true;aB.ov=aB.hw;aB.vP=aB.fq[aB.hw];acz(aFD);}else if(LK==='end'){if(aB===null||aB===undefined){aO=C.aO;aB={};aB.fq=[];aB.gP=aO;aB.kr=C.aS+C.bZ-1;while(aO>=0){aQ=au[aO].aQ;NN=aQ.get_markCount();for(T=0;T<NN;T++){dW=aQ.getMark(T);if(C.bU===dW.bU&&dW.get_type()===C.get_type()){aB.fq[aO]=dW;for(vg=dW.bm.length-1;vg>=0;vg--){if(dW.bm[vg].set_visible){dW.bm[vg].set_visible(false);}else{dW.set_visible(false);break;}}if(aO===C.aO){cK=dW.cK;}else{os[aO]=cK.substring(cK.length-dW.bZ);dW.set_selected(false);}cK=dW.cK.substring(0,cK.length-dW.bZ);if(dW.kI===true){aB.rK=dW.aS;ha=dW.aS;aB.hw=aO;tN=dW;break;}}}aO--;}}oP=aB.rK;kx=aB.hw;var aFY=function(aw,zI,qY){aw.ad.showEmptyTextSelection(zI);aw.ad.extendTextSelection(undefined);aw.ad.extendTextSelection(zI);aw.ad.extendTextSelection(qY);};aB.fq[aB.gP].wI=true;aB.ov=aB.gP;aB.vP=aB.fq[aB.gP];acz(aFY);}if(tN){aI.ad.display();}}var zQ=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';if(zQ){return;}var zR=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';if(zR){return;}if(bh===IPCC.Web.UI.MouseTool.HandPan&&Ap&&ie&&Yc===false){if(!mh||mh.C.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){amj(aX,ie,aI);return;}}var dv;var eI;if(aI!==false&&aI.ad&&aI.igElements&&aI.ad.fI()===true){var ak=0;for(ak=0;ak<au.length;ak++){if(au[ak].aY===aI.id){R.pageIndex=ak;break;}}R.pointLiesWithinImage=true;eI=XZ(aI,fG,eO);if(eI){dv=aI.ad.MK(eI,false);R.imagePoint=dv;R.constrainedImagePoint=dv;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}R.domEvent=aX;R.windowPoint=new IPCC.Web.UI.Point(fG,eO);if(Yc===true){tO= -1;ca=R.pageIndex;aX.preventDefault();F.af('mouseDown',R);return;}switch(bh){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();xJ=eO;yb=fG;VT=bJ.scrollTop;VC=bJ.scrollLeft;bM=true;F.AW(bB,'grabbing');if(aI&&aI.ad){F.AW(aI,'grabbing');aI.ad.set_cursor('grabbing');aI.ad.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aX.preventDefault();if(or===0&&aI&&aI.ad&&dv){F.wH();os=[];tO= -1;DE=undefined;ha=undefined;oP=undefined;bM=true;nu=R.windowPoint;}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(or===0&&aI&&aI.ad&&eI){var ks=IPCC.ai.eF(IPCC.ai.None);bB.style.cursor=ks;aI.ad.showMagnifier(eI);aI.ad.display();}bM=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();if(or===0&&aI&&aI.ad&&dv){bM=true;xJ=eI.y;yb=eI.x;aI.ad.showEmptySelection(dv);aI.ad.display();}break;}F.af('mouseDown',R);};var jG=function(aX){agt(aX,aX.clientX,aX.clientY,aX.button);};var ajn=function(R,fG,eO,db){R.windowPoint=new IPCC.Web.UI.Point(fG,eO);db=XM(fG,eO);var dv,eI;if(db!==false&&db.ad&&db.igElements&&db.ad.fI()===true){R.pointLiesWithinImage=true;eI=XZ(db,fG,eO);if(eI){dv=db.ad.MK(eI,false);R.imagePoint=dv;R.constrainedImagePoint=dv;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}return{R:R,fG:fG,eO:eO,db:db,dv:dv,eI:eI};};var agt=function(aX,fG,eO,or){var zQ=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';if(zQ){return;}var zR=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';if(zR){return;}var R=new IPCC.Web.UI.MouseEventArgs();var dv,eI,db;var Jf=function(fG,eO){var ou=ajn(R,fG,eO,db);R=ou.R;R.domEvent=aX;fG=ou.fG;eO=ou.eO;db=ou.db;dv=ou.dv;eI=ou.eI;};Jf(fG,eO);var lv=QJ(aX,R);if(lv&&lv.C){R.mark=lv.C;}var ks;switch(bh){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();if(bM){var aqr=eO;var aqO=fG;var awv=xJ-aqr;var axD=yb-aqO;bJ.scrollTop=VT+awv;bJ.scrollLeft=VC+axD;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aX.preventDefault();if(bM){if(or!==0){zA();}var iQ;if(!db){F.af('mouseMove',R);return;}if(ha===undefined){aI=db;}else if(db!==aI&&db.ad&&eI){tO= -1;var iS=0;var T=0;for(T=0;T<au.length;T++){if(au[T].aY===db.id){iS=T;break;}}if(iS>ca){if(iS>kx){iQ=aI.ad.get_textPage().gp().eY()-1;if(iQ<0){zA();F.af('mouseMove',R);return;}aI.ad.extendTextSelection(iQ);if(aB){iQ=aI.ad.get_textPage().gp().eY()-1;aB.fq[ca].set_startIndex(aI.ad.RS());aB.fq[ca].set_textLength(aI.ad.Dq());aB.gP=iS;ha=aI.ad.RS();}os[ca]=aI.ad.getSelectedText();db.ad.showEmptyTextSelection(0);db.ad.extendTextSelection(undefined);tO=0;aI.ad.display();aI=db;}else{ha=0;os[ca]=undefined;os[iS]=undefined;aI.ad.showEmptyTextSelection(0);aI.ad.extendTextSelection(undefined);if(aB&&aB.fq[ca]){aB.fq[ca].kI=false;}aI.ad.display();aI=db;if(aB&&aB.fq[ca]){aB.fq[ca]=undefined;aB.hw=iS;aB.fq[iS].set_startIndex(0);aB.fq[iS].set_textLength(aB.fq[iS].get_startIndex()+aB.fq[iS].get_textLength());aB.fq[iS].kI=true;aI.ad.display();}}}else if(iS<ca){if(iS<kx){iQ=aI.ad.get_currentTextIndex();if(iQ!==0){aI.ad.extendTextSelection(0);}if(aB){aB.fq[ca].set_startIndex(aI.ad.RS());aB.fq[ca].set_textLength(aI.ad.Dq());aB.hw=iS;}os[ca]=aI.ad.getSelectedText();aI.ad.display();iQ=db.ad.cC().gp().eY()-1;tO=iQ;ha=0;db.ad.showEmptyTextSelection(iQ+1);db.ad.extendTextSelection(undefined);aI=db;aI.ad.display();}else{os[ca]=undefined;os[iS]=undefined;aI.ad.showEmptyTextSelection(0);aI.ad.extendTextSelection(undefined);if(aB&&aB.fq[ca]){aB.fq[ca].lj=false;}aI.ad.display();aI=db;if(aB&&aB.fq[ca]){aB.fq[ca]=undefined;aB.gP=iS;iQ=aI.ad.cC().gp().eY()-1;aB.fq[iS].set_textLength(db.ad.Dq());aB.fq[iS].lj=true;aI.ad.display();}}}ca=iS;}var apC=(ca<kx),aqn=(ca>kx);if(aI&&aI.ad&&aI.ad.fI()===true&&eI){eI=XZ(aI,fG,eO);dv=aI.ad.MK(eI,false);var dj=aI.ad.transformPagePointToTextIndex(dv);if(ha===undefined){if(dj===undefined){F.af('mouseMove',R);return;}var WG=function(aw,vv){var yI=aw.ad.cC();var ga=yI.gp();var eN=ga.kQ(vv);return eN.rC();};var rs=WG(aI,dj);var acI=aI.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(rs.x,rs.y),true);var aeW=aI.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(rs.x+rs.width,rs.y+rs.height),true);var afc=aeW.x-acI.x;var aAv=(eI.x>acI.x+(afc*0.3)&&eI.x<aeW.x-(afc*0.3));if(aAv){ha=dj;oP=dj;aI.ad.showEmptyTextSelection(dj);aI.ad.extendTextSelection(undefined);aI.ad.extendTextSelection(dj);aI.ad.display();var aL=0;for(aL=0;aL<au.length;aL++){if(au[aL].aY===aI.id){kx=aL;ca=aL;break;}}}else{F.af('mouseMove',R);return;}}else{if(ha=== +ha&&dj=== +dj){if(apC){ha=dj;}else if(!aqn){ha=Math.min(oP,dj);}}}iQ=aI.ad.get_currentTextIndex();if(iQ===dj||dj===undefined){F.af('mouseMove',R);return;}if(tO!== -1){if(dj!==tO){aI.ad.extendTextSelection(tO);}tO= -1;}if((dj>oP&&ca===kx)||ca>kx){if(aB){if(aB.fq[ca]===undefined||aB.fq[ca]===null){KN(ca,0,0,ca===aB.ov);if(ca-1>=0&&aB.fq[ca-1]){aB.fq[ca-1].lj=false;document.getElementById(au[ca-1].aY).ad.display();}}aB.fq[ca].lj=true;}if(DE===undefined){DE=false;}}else if(dj<oP||ca<kx){if(aB){if(aB.fq[ca]===undefined||aB.fq[ca]===null){KN(ca,aI.ad.cC().gp().eY()-1,0,ca===aB.ov);if(aB.fq[ca+1]){aB.fq[ca+1].kI=false;document.getElementById(au[ca+1].aY).ad.display();}}aB.fq[ca].kI=true;}if(DE===undefined){DE=true;oP++;aI.ad.showEmptyTextSelection(oP);aI.ad.extendTextSelection(undefined);var qY=aI.ad.cC().gp().eY();if(oP>=qY){aI.ad.extendTextSelection(qY-1);}else{aI.ad.extendTextSelection(oP);}}}aI.ad.extendTextSelection(dj);if(aB&&aB.fq[ca]){aB.fq[ca].set_startIndex(aI.ad.RS());aB.fq[ca].set_textLength(aI.ad.Dq());}aI.ad.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(bM){if(or!==0||(aI&&aI.ad&&aI!==db)){aI.ad.hideMagnifier();ks=IPCC.ai.eF(IPCC.ai.Magnifier);bB.style.cursor=ks;aI.ad.display();}if(db&&db.ad&&eI){aI=db;ks=IPCC.ai.eF(IPCC.ai.None);bB.style.cursor=ks;db.ad.showMagnifier(eI);db.ad.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();if(bM){var Kl=ala(aI,fG,eO,1);Jf(Kl.x,Kl.y);if(db&&db.ad&&dv&&db===aI){if(or!==0){db.ad.hideSelection();db.ad.display();bM=false;}else{db.ad.extendSelection(dv);db.ad.display();}}}break;}F.af('mouseMove',R);};var kk=function(aX){if(Xg!==true){Xd(aX,aX.clientX,aX.clientY);}else{Xg=false;}};var ahk=function(aX,R){R.upTargetType=null;var Ej=QJ(aX,R);R.originalEvent=aX.rawEvent;R.clientX=aX.clientX;R.clientY=aX.clientY;R.downTarget={type:undefined,pageIndex:undefined};if(typeof mh!=='undefined'&&typeof mh.dI!=='undefined'){R.downTarget.type=mh.dI;}if(typeof mh!=='undefined'&&typeof mh.aO!=='undefined'){R.downTarget.pageIndex=mh.aO;}if(typeof mh!=='undefined'&&typeof mh.Zp!=='undefined'){R.downTarget.alreadySelected=mh.Zp;}R.downMark=(typeof mh!=='undefined')?mh.C:undefined;R.upMark=Ej.C;switch(Ej.dI){case 'page':case 'mark':R.upTarget={type:Ej.dI,pageIndex:Ej.aO};break;}if(R.pointLiesWithinImage===false&&Ej.dI==='page'){Ej.aO= -1;}};var Xd=function(aX,fG,eO){var R=new IPCC.Web.UI.MouseEventArgs();var db;var dv;var eI;var Jf=function(fG,eO){var ou=ajn(R,fG,eO,db);R=ou.R;R.domEvent=aX;fG=ou.fG;eO=ou.eO;db=ou.db;dv=ou.dv;eI=ou.eI;};Jf(fG,eO);if(aX){ahk(aX,R);F.af('mouseUp',R);}mh=undefined;var ks;switch(bh){case IPCC.Web.UI.MouseTool.None:aX.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aX.preventDefault();if(bM){yb=undefined;xJ=undefined;VT=undefined;VC=undefined;bM=false;ks='move';F.AW(bB,'grab');if(aI&&aI.ad){F.AW(aI,'grab');aI.ad.set_cursor('grab');aI.ad.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(aX){aX.preventDefault();}var xD=R.windowPoint.x-nu.x;var yD=R.windowPoint.y-nu.y;if(xD===0&&yD===0){zA();}if(bM){var pu=new IPCC.Web.UI.TextSelectedEventArgs(),ll=[],T,wr,AX;var kr;var Ji=aI.ad.getSelectedText();var sH=os.slice();if(Ji.length>0){sH[ca]=aI.ad.getSelectedText();}else{if(ca>kx){ca--;aI=document.getElementById(au[ca].aY);if(sH[ca]){Ji=sH[ca];}}else if(ca<kx){ca++;aI=document.getElementById(au[ca].aY);if(sH[ca]){Ji=sH[ca];}}}pu.text=sH.join('');var Sh=true;if(ca>=kx){if(ca===kx){if(aI.ad.get_currentTextIndex()>=oP){Sh=false;}kr=ha+Ji.length-1;}else{kr=Ji.length-1;}if(kr<0){kr=0;}wr=kx;AX=ca;}else{Sh=false;kr=oP-1;wr=ca;AX=kx;}for(T=wr;T<=AX;T++){ll.push(T);}if(pu.text.length===0){zA();ll=[];}pu.pageNumbers=ll;pu.clientX=fG;pu.clientY=eO;if(ha!==undefined){if(bh===IPCC.Web.UI.MouseTool.SelectText){var WG=function(aw,vv){var yI=aw.ad.cC();var ga=yI.gp();var eN=ga.kQ(vv);return eN.rC();};var iQ=aI.ad.get_currentTextIndex();var rs=WG(aI,iQ);var fm=0,fi=0;if(Sh===false){fm=rs.width;fi=rs.height;}var EN=aI.ad.transformPagePointToWindow(new IPCC.Web.UI.Point(rs.x+fm,rs.y+fi),true);var df=ajR(aI,EN.x,EN.y);pu.handleClientX=df.x;pu.handleClientY=df.y;}var anB=aB===undefined||aB===null;if(tN){pu.previousFirstMark=tN;pu.firstMark=aB.fq[wr];if(aB.ov<wr||aB.ov>AX){var Hm=document.getElementById(au[aB.ov].aY);if(Hm.ad){Hm.ad.ml().removeMark(aB.vP);}}aB.vP.wI=false;F.wH();if(rI!==null){bh=rI;}rI=null;}else if(anB===true){if(bh===IPCC.Web.UI.MouseTool.SelectText){aB={hw:wr,rK:ha,gP:AX,kr:kr,sH:sH.slice(),fq:[]};for(T=0;T<ll.length;T++){KN(ll[T]);}}else{F.wH();}}else{if(aB.ov<wr||aB.ov>AX){var ahd=document.getElementById(au[aB.ov].aY);if(ahd.ad){ahd.ad.ml().removeMark(aB.vP);}}aB.vP.wI=false;aB.hw=wr;aB.rK=ha;aB.gP=AX;aB.kr=kr;aB.sH=sH.slice();if(rI!==null){bh=rI;}rI=null;}pu.mouseTool=bh;pu.startIndex=ha;F.af('selectTextMouseToolCompleted',pu);if(tN){tN=null;aB=null;}}bM=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aX.preventDefault();if(db&&db.ad){db.ad.hideMagnifier();ks=IPCC.ai.eF(IPCC.ai.Magnifier);bB.style.cursor=ks;db.ad.display();}bM=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aX.preventDefault();var Kl=ala(aI,fG,eO,1);Jf(Kl.x,Kl.y);if(bM&&eI){var BM=0;var BP=0;var Un=0;var VD=0;if(eI.x<yb){BM=yb-eI.x;Un=eI.x+BM/2;}else{BM=eI.x-yb;Un=yb+BM/2;}if(eI.y<xJ){BP=xJ-eI.y;VD=eI.y+BP/2;}else{BP=eI.y-xJ;VD=xJ+BP/2;}var aay=bJ.clientWidth/BM;var adl=bJ.clientHeight/BP;var ow=aay;if(aay>adl){ow=adl;}if(db&&db.ad){db.ad.oI();db.ad.display();}bM=false;if(BM*2+BP*2>25){F.auV(ow,Un,VD,db);}}break;}var zQ=false;var zR=false;if(aX){zQ=aX.target.tagName&&aX.target.tagName.toLowerCase()==='textarea';zR=aX.target.tagName&&aX.target.tagName.toLowerCase()==='input'&&aX.target.type&&aX.target.type.toLowerCase()==='text';}if(KF&& !zQ&& !zR){anm(aI);}else if(bh===IPCC.Web.UI.MouseTool.HandPan&&Qs&& !zQ&& !zR&&aX&&Qs.clientX===aX.clientX&&Qs.clientY===aX.clientY&&aX.shiftKey!==true&&aX.ctrlKey!==true){agD(aI.ad);}};var aBS=function(){var ks;switch(bh){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:F.AW(bB,'grab');bM=false;break;case IPCC.Web.UI.MouseTool.SelectText:zA();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aI&&aI.ad){aI.ad.hideMagnifier();ks=IPCC.ai.eF(IPCC.ai.Magnifier);bB.style.cursor=ks;aI.ad.display();}bM=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aI&&aI.ad){aI.ad.hideSelection();aI.ad.display();bM=false;}break;}};var avq=function(){aBS();};var aoc=function(){if(bh===IPCC.Web.UI.MouseTool.Magnifier){if(aI&&aI.ad){aI.ad.hideMagnifier();var ks=IPCC.ai.eF(IPCC.ai.Magnifier);bB.style.cursor=ks;aI.ad.display();}bM=false;}else if(bh===IPCC.Web.UI.MouseTool.RectangleZoom){if(aI&&aI.ad){aI.ad.hideSelection();aI.ad.display();bM=false;}}else if(bh===IPCC.Web.UI.MouseTool.SelectText){zA();}};var nk=function(aX){if(aX.ctrlKey){switch(bh){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var OB=aX.rawEvent.wheelDelta;aX.preventDefault();if(OB<0){F.zoomOut(1.5);}else{F.zoomIn(1.5);}break;}}else{aX.preventDefault();bJ.scrollTop-=aX.rawEvent.wheelDelta*0.72;}if(bh===IPCC.Web.UI.MouseTool.Magnifier){if(aI&&aI.ad){aI.ad.hideMagnifier();var ks=IPCC.ai.eF(IPCC.ai.Magnifier);bB.style.cursor=ks;aI.ad.display();}bM=false;}else if(bh===IPCC.Web.UI.MouseTool.RectangleZoom){if(aI&&aI.ad){aI.ad.hideSelection();aI.ad.display();bM=false;}}else if(bh===IPCC.Web.UI.MouseTool.SelectText){zA();}};var aBg=function(aM){var R=new IPCC.Web.UI.MouseEventArgs();R.upTarget={type:'comments',element:aM.target};R.downTarget={type:'comments',element:aM.target};R.originalEvent=aM.rawEvent;R.clientX=aM.clientX;R.clientY=aM.clientY;R.pageIndex=undefined;F.af('mouseUp',R);};var zA=function(){if(bM===true){if(aB&&aB.ov!==undefined){if(tN){Xd(null,0,0);return;}else{var Hm=document.getElementById(au[aB.ov].aY);if(Hm.ad){Hm.ad.ml().removeMark(aB.vP);}aB.vP.wI=false;}}F.wH();tN=null;bM=false;if(rI!==null){bh=rI;}rI=null;}};CQ=gs({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dr===IPCC.ViewMode.SinglePage){bB=gs({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});bB.className='pccPageListContainer pccSinglePageView';}else{bB=gs({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});bB.className='pccPageListContainer';}IPCC.Web.UI.bb.addHandler(bJ,"mousedown",ko);IPCC.Web.UI.bb.addHandler(bJ,"mouseup",kk);IPCC.Web.UI.bb.addHandler(bJ,"mousemove",jG);IPCC.Web.UI.bb.addHandler(bJ,"mouseleave",avq);IPCC.Web.UI.bb.addHandler(bJ,"mousewheel",nk);IPCC.Web.UI.bb.addHandler(bJ,"DOMMouseScroll",aoc);bJ.onscroll=(! !GI)?avx:awh;bB.setAttribute('id',PA+'_ListContainer');bJ.setAttribute('id',PA+'_ListWrapper');asf=PA+'_ListWrapper';kD=gs();kD.className='pccPageListComments pccHidden';kD.setAttribute('id',PA+'_CommentsPanel');var Uw=[];if(IPCC.K.aCq){Uw.push('touchend');}else{Uw.push('click');}IPCC.K.forEach(Uw,function(evName){IPCC.Web.UI.bb.addHandler(kD,evName,aBg);});CQ.appendChild(bB);CQ.appendChild(kD);bJ.appendChild(CQ);cV.appendChild(bJ);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var ab='',aT='',sX='',sF='',oh;var xu=function(){oh=getComputedStyle(cV);sX=oh.getPropertyValue('width');sF=oh.getPropertyValue('height');if(sX!==ab||sF!==aT){ab=sX;aT=sF;bJ.style.width=ab;bJ.style.height=aT;}};setInterval(xu,1000);window.addEventListener('resize',xu);xu();F.xu=xu;}var aBz=IPCC.K.HA;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aBz&&window.addEventListener&&document.querySelector){avg(bJ);}var aBy=function(bB,aIW){var lb;var Wk=function(aM){var cD=aM.rawEvent,fY=cD.touches[0]||cD.changedTouches[0];aM.clientX=fY.clientX;aM.clientY=fY.clientY;aM.preventDefault=function(){cD.preventDefault();};aM.stopPropagation=function(){cD.stopPropagation();};return aM;};var DH=function(jn,aM){var R=new IPCC.Web.UI.MouseEventArgs(),Gf=(jn==='touchstart')?'mouseDown':(jn==='touchend')?'mouseUp':null;var CP=(jn==='touchstart')?agW:(jn==='touchmove')?agt:(jn==='touchend')?Xd:null;lb=XM(aM.clientX,aM.clientY);if(jn==='doubleTap'){lb&&lb.ad&&lb.ad.Jb(jn,aM);}var ie;ie=WU(aM);if(ie){if(ie.substring(0,5)==='texth'){aM.preventDefault();aM.stopPropagation();if(jn==='touchstart'){Ac=aM;}CP&&CP(aM,aM.clientX,aM.clientY,0);return;}}switch(bh){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:lb&&lb.ad&&lb.ad.Jb(jn,aM);if(Gf==='mouseUp'){ahk(aM,R);}else if(Gf==='mouseDown'){agh(aM,R);}F.af(jn,R);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aM.preventDefault();aM.stopPropagation();if(jn==='touchstart'){Ac=aM;if(ie){F.wH();break;}}CP&&CP(aM,aM.clientX,aM.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:aM.preventDefault();aM.stopPropagation();if(jn==='touchstart'){Ac=aM;}CP&&CP(aM,aM.clientX,aM.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(ie===undefined){ie=WU(aM);}var J=QJ(aM,{});if(ie&&Ap){if(!J||J.C.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jn==='touchstart'){amj(aM,ie,lb);}else if(jn==='touchmove'){lb&&lb.ad&&lb.ad.Jb(jn,aM);}else if(jn==='touchend'){lb&&lb.ad&&lb.ad.Jb(jn,aM);anm(lb);}}}break;}};var Cr,zU,vl;var aCe=function(aM){if(aM.rawEvent.touches.length>1){clearTimeout(vl);vl=zU=Cr=undefined;return;}aM=Wk(aM);Cr=aM;if(bh===IPCC.Web.UI.MouseTool.CreatePolylineMark){aM.preventDefault();}zU=function(){DH('touchstart',aM);vl=zU=Cr=undefined;};vl=setTimeout(function(){zU();},200);};var Fm,Gr;var aBN=function(aM){aM=Wk(aM);tg=false;var arV=function(){if(!Gr){return false;}var eu=Gr.clientX-aM.clientX;var eK=Gr.clientY-aM.clientY;var hG=eu*eu+eK*eK;return hG<2500;};var adc=function(){Fm=Gr=undefined;var ie=WU(aM);if(!ie&&bh===IPCC.Web.UI.MouseTool.HandPan&&Ap&&lb){agD(lb.ad);}};var api=function(){var abO=zU;if(Fm&&arV()){clearTimeout(Fm);Gr=Fm=undefined;abO();DH('touchend',aM);DH('doubleTap',aM);}else{Fm=setTimeout(function(){abO();DH('touchend',aM);adc();},300);Gr=aM;}};if(Cr&&vl){clearTimeout(vl);if(bh===IPCC.Web.UI.MouseTool.CreatePolylineMark){api();}else{adc();}vl=zU=Cr=undefined;return;}DH('touchend',aM);};var amq,tg=false;var aBq=function(aM){if(aM.rawEvent.touches.length>1){return;}amq=aM;if(Cr&&vl){clearTimeout(vl);zU();}awX();};function awX(){var aM=Wk(amq);DH('touchmove',aM);};IPCC.Web.UI.bb.addHandler(bB,"touchstart",aCe);IPCC.Web.UI.bb.addHandler(bB,"touchmove",aBq);IPCC.Web.UI.bb.addHandler(bB,"touchend",aBN);};aBy(bB,kD);}};function avg(gz){var aci=function(){},co=1;function ahZ(aef,aeS,gv,arR){gz.style['-ms-transform']=aef;gz.style['-moz-transform']=aef;gz.style['-webkit-transform']=aeS;gz.style['transform']=aeS;gz.style['-ms-transform-origin']=gv;gz.style['-moz-transform-origin']=gv;gz.style['-webkit-transform-origin']=gv;gz.style['transform-origin']=gv;gz.style.overflow=arR||'';};function ahT(){ahZ('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};ahT();function avL(ow,hf,PB,wi,acE){var fm=(-hf.x/ow)-PB.x,fi=(-hf.y/ow)-PB.y,ayb="scale3d("+ow+","+ow+",1) translate3d("+fm+"px,"+fi+"px,0px)",axo="scale("+ow+", "+ow+") translate("+fm+"px,"+fi+"px)";var avY=acE.x+'px '+acE.y+'px';ahZ(axo,ayb,avY,'visible');aci=function(){var aE=gz.getBoundingClientRect();var Tf={x:(gz.clientWidth/2+ -aE.left+wi.left)/ow,y:(gz.clientHeight/2+ -aE.top+wi.top)/ow};if(eQ===IPCC.PageLayout.VerticalScrollDirection&&wi.ahu){Tf.x=Tf.x-(wi.ahu/2);}ahT();F.Qa(ow,Tf,undefined,IPCC.ScaleTrigger.Pinch);xY=false;};return gz;};function akD(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function aiJ(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aux(ang,HM){return{x:ang.x-HM.x,y:ang.y-HM.y};};var SZ=false;gz.addEventListener('touchstart',function(ev){if(xY){return;}if(!SZ&&ev.touches.length===2){ajw(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var zr,Yg=false,zd={};PCCViewer.EventEmitter.extend(zd);gz.addEventListener(IPCC.K.pj['down'],function(aM){Yg=true;aM=standardizeMSTouch(aM);if(zr){var cD={};cD.touches=[zr,aM];cD.changedTouches=[zr,aM];cD.preventDefault=function(){zr.rawEvent.preventDefault();aM.rawEvent.preventDefault();};cD.stopPropagation=function(){zr.rawEvent.stopPropagation();aM.rawEvent.stopPropagation();};ajw(cD);}else{zr=aM;}});gz.addEventListener(IPCC.K.pj['move'],function(aM){zd.trigger('touchmove',{rawEvent:aM});});gz.addEventListener(IPCC.K.pj['up'],function(aM){zd.trigger('touchend',{rawEvent:aM});zr=undefined;});function ajw(ev){xY=true;var PB={x:gz.scrollLeft,y:gz.scrollTop};var wi=gz.getBoundingClientRect();var oj=Vz();var Hq=gz.querySelector('.pccPageListItem');if(eQ===IPCC.PageLayout.VerticalScrollDirection&&Hq.clientWidth<wi.width-30){wi.ahu=wi.width-Hq.clientWidth;}var hf={x:0,y:0,set:function(aoT){this.x=aoT.x;this.y=aoT.y;return this;}};var tg=false;SZ=true;ev.preventDefault();ev.stopPropagation();function Mt(fY){fY.x=fY.clientX||fY.pageX||fY.screenX;fY.y=fY.clientY||fY.pageY||fY.screenY;return fY;};var ki=Mt(ev.touches[0]);var vD=Mt(ev.touches[1]);var yx=akD(ki.x,ki.y,vD.x,vD.y);var amM=aiJ(ki.x,ki.y,vD.x,vD.y);var zT,zG;function ZD(aM){aM.preventDefault();[].forEach.call(aM.changedTouches,function(t){if(t.identifier===ki.identifier){zT=Mt(t);}else if(t.identifier===vD.identifier){zG=Mt(t);}});if(!zT|| !zG){return;}var aqz=akD(zT.x,zT.y,zG.x,zG.y);var ase=aiJ(zT.x,zT.y,zG.x,zG.y);co=aqz/yx;if((du*co)<oj.minFactor){co=oj.minFactor/du;}else if((du*co)>oj.maxFactor){co=oj.maxFactor/du;}hf.set(aux(amM,ase));if(!tg){tg=true;Kv();}};function Zy(){SZ=false;tg=false;gz.removeEventListener('touchmove',ZD);gz.removeEventListener('touchend',Zy);if(Yg){zd.off('touchmove',anl);zd.off('touchend',amt);}if(!zT|| !zG){xY=false;return;}GI(aci);};var anl=function(aM){var abo=standardizeMSTouch(aM.rawEvent);abo.preventDefault=function(){};ZD(abo);};var amt=function(aM){Zy(standardizeMSTouch(aM.rawEvent));};gz.addEventListener('touchmove',ZD);gz.addEventListener('touchend',Zy);if(Yg){zd.on('touchmove',anl);zd.on('touchend',amt);}function Kv(){if(tg){GI(function(){if(!tg){return;}avL(co,hf,PB,wi,amM);Kv();});}}}};function avx(){if(dr===IPCC.ViewMode.SinglePage){return;}if(xY){return;}if(md){clearTimeout(md);}if(To){apL(To);}avV();md=setTimeout(function(){md=null;To=GI(function aHG(){if(xY){return;}od();});},40);};function awh(){if(lQ===false||dr===IPCC.ViewMode.SinglePage){return;}hZ(true);if(md!==null){clearTimeout(md);}var anL=bJ.scrollHeight/au.length;var NP=0;if(eQ===IPCC.PageLayout.VerticalScrollDirection){NP=bJ.scrollTop;}else{NP=bJ.scrollLeft;}var aym=NP-MA;MA=NP;var aEJ=new Date().getTime();var Yl=aEJ-xa;if(Yl>1000){Yl=1000;}Uc=aym/anL*1000/Yl;md=setTimeout(function(){md=null;xa=0;xa=new Date().getTime();od();},1000);xa=new Date().getTime();if(Uc!==0&&Math.abs(Uc)<Nf){if(Ka&&md!==null){clearTimeout(md);md=null;}xa=0;xa=new Date().getTime();setTimeout(function(){if(Ka&&md!==null){clearTimeout(md);md=null;}xa=0;xa=new Date().getTime();od();},40);}};function auK(){function zi(aDv,aDX,aG,cQ){var FJ=document.createElementNS('http://www.w3.org/2000/svg','circle');FJ.setAttribute('cx',aDv);FJ.setAttribute('cy',aDX);FJ.setAttribute('r',aG);FJ.setAttribute('opacity',cQ);return FJ;};var pQ=document.createElementNS('http://www.w3.org/2000/svg','svg');pQ.setAttribute('viewBox','0 0 52 52');pQ.appendChild(zi(26,13.813,2.813,1));pQ.appendChild(zi(24,38.188,2.813,0.4));pQ.appendChild(zi(13.813,26,2.813,0.1));pQ.appendChild(zi(38.188,26,2.813,0.7));pQ.appendChild(zi(34.618,34.618,2.813,0.55));pQ.appendChild(zi(17.382,34.618,2.813,0.25));pQ.appendChild(zi(34.618,17.382,2.813,0.85));return pQ;};function aiZ(lc){var aL=0;var ahh=false;var Ly;var Kk;var pQ;for(aL=0;aL<lc.childNodes.length;aL++){if(lc.childNodes[aL].className==="pccPageListItemLoading"){ahh=true;}}if(ahh===false){Kk=document.createElement('div');Kk.className='pccPageListItemLoading';pQ=auK();lc.innerHTML="";lc.appendChild(Kk);Kk.appendChild(pQ);if(Jp.length>0){Ly=document.createElement('div');Ly.className='pccPageListItemLoadingContent';Ly.innerHTML=Jp;Kk.appendChild(Ly);}}};function avV(){var tL=bJ.scrollTop;var uj=bJ.scrollLeft;var wR=bJ.clientHeight;var ws=bJ.clientWidth;var uI=bJ.scrollWidth;var uT=bJ.scrollHeight;var dn=Ss({tL:tL,uj:uj,wR:wR,ws:ws,uI:uI,uT:uT});var T=dn.afV;if(lQ&&va===false&&cA!==T&&T>=0){cA=T;var R=new IPCC.PageEventArgs();R.imGearPage=F.get_currentPage();R.pageIndex=cA;R.pageNodeID=au[cA].aY;F.af('currentPageChanged',R);}};function SU(aH){var ab=aH.bD||hb;var aT=aH.bf||jz;if(aH.gR%180){var qo=ab;ab=aT;aT=qo;}var rh=aH.hE||agn;return{ab:ab*(du*ct/rh),aT:aT*(du*ct/rh),aIl:rh,aN:aH.cN};};function Sx(atS){return IPCC.K.reduce(atS,function(fl,bd,aN){fl[aN]=SU(bd);return fl;},{});};function aiL(aO){var nI,AZ,AJ,vM,qa;if(eQ===IPCC.PageLayout.VerticalScrollDirection){nI=bJ.scrollTop;AZ=bJ.scrollHeight;AJ=bJ.clientHeight;vM='aT';qa=fj;}else{nI=bJ.scrollLeft;AZ=bJ.scrollWidth;AJ=bJ.clientWidth;vM='ab';qa=gH+hA;}var ka=Sx(au);var GP=eQ===IPCC.PageLayout.VerticalScrollDirection?fj:gH;var amR=false;IPCC.K.forEach(ka,function(bd,aN){if(bd.aN===aO){amR=true;}if(amR){return;}GP+=bd[vM]+qa;});return GP-(qa/2);};function te(dn){var Fx=IPCC.K.map(dn.cB,function(bd){return+bd.aN;}).sort();var ki=Fx[0];var jc=Fx[Fx.length-1];var eL=au.length;for(var T=CE;T;T--){ki-=1;jc+=1;if(ki>=0){Fx.unshift(ki);}if(jc<eL){Fx.push(jc);}}return Fx.sort();};function Qk(dn){var ki=Math.max(dn.cB[0].aN-uf,0);var jc=Math.min(dn.cB[dn.cB.length-1].aN+uf,au.length-1);return{ki:ki,jc:jc};};function atV(dn){var ki=Math.max(dn.cB[0].aN-CE,0);var jc=Math.min(dn.cB[dn.cB.length-1].aN+CE,au.length-1);return{ki:ki,jc:jc};};function Ss(bu){if(dr===IPCC.ViewMode.SinglePage){return akt();}var nI,AZ,AJ,vM,qa;if(eQ===IPCC.PageLayout.VerticalScrollDirection){nI=bu.tL;AZ=bu.uT;AJ=bu.wR;vM='aT';qa=fj;}else{nI=bu.uj;AZ=bu.uI;AJ=bu.ws;vM='ab';qa=gH+hA;}var asQ=nI;var ast=nI+AJ;var ka=Sx(au);var GP=eQ===IPCC.PageLayout.VerticalScrollDirection?fj:gH;var azF=nI/AZ;var Nv=(azF*AJ)+nI;var Xe=Number.MAX_VALUE;var mt= -1;var cB=[];IPCC.K.forEach(ka,function(bd,aN){var nQ=GP;var fF=nQ+bd[vM];if(nQ<ast&&fF>asQ){bd.xz=true;cB.push(bd);}var agF=Math.min(Math.abs(nQ-Nv),Math.abs(fF-Nv));if(nQ<Nv&&fF>Nv){Xe=0;mt=aN;}else if(agF<Xe){mt=aN;Xe=agF;}GP+=bd[vM]+qa;});if(cB.length===0&&ka[mt]!==undefined){cB.push(ka[mt]);}return{cB:cB,afV:Number(mt)||0,Ii:ka};};function akt(){var ka=Sx(au);var asg=[cA];var cB=IPCC.K.filter(ka,function(bd){return IPCC.K.contains(asg,+bd.aN);});return{cB:cB,afV:cA,Ii:ka};};function PJ(){var dn=hZ();if(!dn){return[];}return IPCC.K.map(dn.cB,function(bd){return bd.aN;});};function hZ(){if(dr===IPCC.ViewMode.SinglePage){return akt();}if(bJ===''||bJ.clientHeight<=0){return;}var tL=bJ.scrollTop;var uj=bJ.scrollLeft;var wR=bJ.clientHeight;var ws=bJ.clientWidth;var uI=bJ.scrollWidth;var uT=bJ.scrollHeight;var asx=Ss({tL:tL,uj:uj,wR:wR,ws:ws,uI:uI,uT:uT});va=false;return asx;}};Oc.prototype={dispose:function(){this.ag('dispose',arguments);this.afy(false);this.asG();},disposeDisplayedPages:function(){this.aDj();},get_debug:function(){try{var aG=this.Jn();this.dG('get_debug',arguments,aG);return aG;}catch(e){this.bg('get_debug',e);throw e;}},set_debug:function(value){try{this.ag('set_debug',arguments);var zK=this.Jn();this.Yw(value);if(!zK){this.ag('set_debug',arguments);}}catch(e){this.bg('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aG=this.BK();this.dG('get_debugErrorLevel',arguments,aG);return aG;}catch(e){this.bg('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ag('set_debugErrorLevel',arguments);var zK=this.BK();this.Hn(value);if(zK<IPCC.Web.UI.DebugErrorLevel.Development){this.ag('set_debugErrorLevel',arguments);}}catch(e){this.bg('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Oo(handler);}catch(e){this.bg('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.aaN(handler);}catch(e){this.bg('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Nk(handler);}catch(e){this.bg('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.abR(handler);}catch(e){this.bg('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.OH(handler);}catch(e){this.bg('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.aai(handler);}catch(e){this.bg('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wi(handler);}catch(e){this.bg('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.aaS(handler);}catch(e){this.bg('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.aox(handler);}catch(e){this.bg('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aAE(handler);}catch(e){this.bg('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.AB(handler);}catch(e){this.bg('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Gg(handler);}catch(e){this.bg('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.WD(handler);}catch(e){this.bg('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.aeU(handler);}catch(e){this.bg('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.zn(handler);},remove_textExtractionFailed:function(handler){this.FP(handler);},add_allPagesAdded:function(handler){try{this.anV(handler);}catch(e){this.bg('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aAa(handler);}catch(e){this.bg('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.Xy(handler);}catch(e){this.bg('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.abf(handler);}catch(e){this.bg('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.We(handler);}catch(e){this.bg('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.aax(handler);}catch(e){this.bg('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GK(handler);}catch(e){this.bg('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FY(handler);}catch(e){this.bg('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Xu(handler);}catch(e){this.bg('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.abU(handler);}catch(e){this.bg('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.lf(handler);}catch(e){this.bg('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nh(handler);}catch(e){this.bg('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.zc(handler);}catch(e){this.bg('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zl(handler);}catch(e){this.bg('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XI(handler);}catch(e){this.bg('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.aaU(handler);}catch(e){this.bg('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.JZ(handler);}catch(e){this.bg('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gh(handler);}catch(e){this.bg('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.IZ(handler);}catch(e){this.bg('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gb(handler);}catch(e){this.bg('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JO(handler);}catch(e){this.bg('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.GA(handler);}catch(e){this.bg('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.JM(handler);}catch(e){this.bg('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.EO(handler);}catch(e){this.bg('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.ze(handler);}catch(e){this.bg('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Ag(handler);}catch(e){this.bg('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.aob(handler);}catch(e){this.bg('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aAb(handler);}catch(e){this.bg('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.vO(handler);}catch(e){this.bg('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.EK(handler);}catch(e){this.bg('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vj(handler);}catch(e){this.bg('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Dm(handler);}catch(e){this.bg('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.tk(handler);}catch(e){this.bg('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.us(handler);}catch(e){this.bg('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.WN(handler);}catch(e){this.bg('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.aaw(handler);}catch(e){this.bg('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Xq(handler);},remove_exceptionThrown:function(handler){this.abb(handler);},writeToLog:function(message){try{this.nM(message);}catch(e){this.bg('writeToLog',e);throw e;}},get_currentState:function(){try{var aG=this.Od();this.dG('get_currentState',arguments,aG);return aG;}catch(e){this.bg('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var aG=this.qC();this.dG('get_scaleFactor',arguments,aG);return aG;}catch(e){this.bg('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.ag('set_scaleFactor',arguments);this.aDE(scaleFactor);}catch(e){this.bg('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.ag('zoomIn',arguments);this.Qa(factor);}catch(e){this.bg('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ag('zoomOut',arguments);this.Tg(factor);}catch(e){this.bg('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.axh();},displayAll:function(){try{this.ag('displayAll',arguments,1);this.aEd();}catch(e){this.bg('displayAll',e);throw e;}},display:function(pageIndex){try{this.ag('display',arguments);this.cG(pageIndex);}catch(e){this.bg('display',e);throw e;}},get_textRequired:function(){try{var aG=this.jK();this.dG('get_textRequired',arguments,aG);return aG;}catch(e){this.bg('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.ag('set_textRequired',arguments);this.Jc(value);}catch(e){this.bg('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.ag('selectText',arguments,1);this.UM(pageIndex,startIndex,endIndex,color);}catch(e){this.bg('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.ag('clearSelectedText',arguments,1);this.arz(pageIndex);}catch(e){this.bg('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.ag('clearAllSelectedText',arguments);this.arw();}catch(e){this.bg('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var aG=this.aAJ();this.dG('get_maxPrefetch',arguments,aG);return aG;}catch(e){this.bg('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.ag('set_maxPrefetch',arguments);this.aCS(value);}catch(e){this.bg('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var aG=this.axj();this.dG('get_displayPagesWhenScrolling',arguments,aG);return aG;}catch(e){this.bg('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.ag('set_displayPagesWhenScrolling',arguments);this.aEZ(value);}catch(e){this.bg('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var aG=this.azJ();this.dG('get_maxOutOfViewDisplay',arguments,aG);return aG;}catch(e){this.bg('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.ag('set_maxOutOfViewDisplay',arguments);this.aEQ(value);}catch(e){this.bg('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var aG=this.ayp();this.dG('get_discardOutOfViewText',arguments,aG);return aG;}catch(e){this.bg('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.ag('set_discardOutOfViewText',arguments);this.aFa(value);}catch(e){this.bg('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var aG=this.ayG();this.dG('get_scrollDisplayThreshold',arguments,aG);return aG;}catch(e){this.bg('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.ag('set_scrollDisplayThreshold',arguments);this.aEr(value);}catch(e){this.bg('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var aG=this.ahX();this.dG('get_mouseCursor',arguments,aG);return aG;}catch(e){this.bg('ahX',e);throw e;}},set_mouseCursor:function(value){try{this.ag('set_mouseCursor',arguments);this.aDc(value);}catch(e){this.bg('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var aG=this.Uu();this.dG('get_mouseTool',arguments,aG);return aG;}catch(e){this.bg('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ag('set_mouseTool',arguments);this.HU(value);}catch(e){this.bg('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var aG=this.yf();this.ag('get_markHandleMode',arguments);return aG;}catch(e){this.bg('get_markHandleMode',e);throw e;}},set_markHandleMode:function(h){try{this.ag('set_markHandleMode',arguments);this.IA(h);}catch(e){this.bg('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var aG=this.ayh();this.ag('get_retainPageText',arguments);return aG;}catch(e){this.bg('get_retainPageText',e);throw e;}},set_retainPageText:function(h){try{this.ag('set_retainPageText',arguments);this.aDS(h);}catch(e){this.bg('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var aG=this.aFL();this.ag('get_allowMarkEdits',arguments);return aG;}catch(e){this.bg('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.ag('set_allowMarkEdits',arguments);this.aGq(! !bool);}catch(e){this.bg('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var aG=this.aiu();this.dG('get_currentPage',arguments,aG);return aG;}catch(e){this.bg('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var amC=this.aAk(pageIndex);this.dG('get_pageNodeId',arguments,amC);return amC;}catch(e){this.bg('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.ag('scrollToNextPage',arguments);this.azG();}catch(e){this.bg('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.ag('scrollToPreviousPage',arguments);this.azu();}catch(e){this.bg('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.ag('scrollToFirstPage',arguments);this.azq();}catch(e){this.bg('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.ag('scrollToLastPage',arguments);this.aAV();}catch(e){this.bg('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.ag('scrollToPage',arguments,1);this.qF(pageIndex);}catch(e){this.bg('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.ag('rotate',arguments,1);this.ayS(degreesClockwise);}catch(e){this.bg('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.ag('rotateAll',arguments,1);this.aeg(degreesClockwise,true);}catch(e){this.bg('rotateAll',e);throw e;}},get_enabled:function(){try{var aG=this.ayu();this.dG('get_enabled',arguments,aG);return aG;}catch(e){this.bg('get_enabled',e);throw e;}},get_pageLayout:function(){try{var aG=this.aAs();this.dG('get_pageLayout',arguments,aG);return aG;}catch(e){this.bg('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.ag('set_pageLayout',arguments);this.aEy(value);}catch(e){this.bg('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var aG=this.axO();this.dG('get_viewMode',arguments,aG);return aG;}catch(e){this.bg('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.ag('set_viewMode',arguments);this.Po(value);}catch(e){this.bg('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var aG=this.aAG();this.dG('get_loadingContent',arguments,aG);return aG;}catch(e){this.bg('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.ag('set_loadingContent',arguments);this.aGv(value);}catch(e){this.bg('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.ag('fitPages',arguments,1);this.aGn(fitType);}catch(e){this.bg('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.ag('openPage',arguments,1);this.Pg(pageIndex);}catch(e){this.bg('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.ag('requestPageAttributes',arguments,1);this.Qx(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bg('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.ag('scrollRegionIntoView',arguments,1);return this.azN(pageIndex,rectangle);}catch(e){this.bg('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.ag('scrollBy',arguments,1);return this.axx(xVal,yVal);}catch(e){this.bg('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.ag('scrollConversationIntoView',arguments,1);return this.axw(conversation);}catch(e){this.bg('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.VZ();},get_encryption:function(){try{var aG=this.iW();this.dG('get_encryption',arguments,aG);return aG;}catch(e){this.bg('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ag('set_encryption',arguments);this.pl(value);}catch(e){this.bg('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var aG=this.aGo();return aG;}catch(e){this.bg('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aGB(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bg('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var aG=this.tU();this.dG('get_resourcePath',arguments,aG);return aG;}catch(e){this.bg('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.ag('set_resourcePath',arguments);this.Kt(h);}catch(e){this.bg('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var aG=this.lP();this.dG('get_redactionDraftMode',arguments,aG);return aG;}catch(e){this.bg('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.ag('set_redactionDraftMode',arguments);this.qj(value);}catch(e){this.bg('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var aG=this.axv();this.dG('get_displayedPages',arguments,aG);return aG;}catch(e){this.bg('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var aG=this.xB();this.dG('get_requireRequestsOptimize',arguments,aG);return aG;}catch(e){this.bg('xB',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ag('set_requireRequestsOptimize',arguments);this.Kc(value);}catch(e){this.bg('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var aG=this.km();this.dG('get_serviceResponseTimeout',arguments,aG);return aG;}catch(e){this.bg('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ag('set_serviceResponseTimeout',arguments);this.vy(value);}catch(e){this.bg('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var aG=this.ayF();this.dG('get_pageRotation',arguments,aG);return aG;}catch(e){this.bg('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.ag('set_pageRotation',arguments);this.aEi(value);}catch(e){this.bg('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.ag('getNodeID',arguments,1);return this.axl(pageIndex);}catch(e){this.bg('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var aG=this.aAo();this.dG('get_isCommentsPanelOpen',arguments,aG);return aG;}catch(e){this.bg('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.ag('openCommentsPanel',arguments);this.avk();}catch(e){this.bg('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.ag('closeCommentsPanel',arguments);this.arL();}catch(e){this.bg('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var aG=this.axS();this.dG('get_conversationDOMFactory',arguments,aG);return aG;}catch(e){this.bg('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.ag('set_conversationDOMFactory',arguments);this.aGz(value);}catch(e){this.bg('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var aG=this.axZ();this.dG('get_selectedConversation',arguments,aG);return aG;}catch(e){this.bg('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.ag('set_selectedConversation',arguments);this.aEz(value);}catch(e){this.bg('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.ag('refreshConversations',arguments);this.aAf(markIDs);}catch(e){this.bg('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.apF();}catch(e){this.bg('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.aAZ();}catch(e){this.bg('restoreScrollPosition',e);throw e;}},prefetchPages:function(){try{this.ary();}catch(e){this.bg('prefetchPages',e);throw e;}}};Oc.registerClass=dh;Oc.registerClass('IPCC.PageList',{});module.exports=Oc;},{"./IPCC.Util":28}],43:[function(require,module,exports){var pN=function(cq,wx){var F=this;this.cq=cq;this.wx=wx;this.ayx=function(){return F.cq;};this.aHO=function(){return F.wx;};};pN.prototype.get_propertyName=function(){return this.cq;};pN.prototype.get_propertyInfo=function(){return this.wx;};module.exports=pN;},{}],44:[function(require,module,exports){var Ge=function(){this.co=1;this.width=0;this.height=0;this.mK=0;this.zy=0;this.pool=undefined;return this;};Ge.prototype.Rz=function(dB){if(dB.width<1||dB.height<1){return[];}var nr=Math.floor(dB.x*this.co);var kG=Math.floor(dB.y*this.co);var ng=Math.ceil((dB.x+dB.width)*this.co);var mq=Math.ceil((dB.y+dB.height)*this.co);var mZ=[];var T,fo;var di=this.tiles.length;for(T=0;T<di;T++){fo=this.tiles[T];if(fo.x<=ng&&fo.right>=nr&&fo.y<=mq&&fo.bottom>=kG){mZ.push(fo);}}return mZ;};module.exports=Ge;},{}],45:[function(require,module,exports){var xL=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.ab=0;this.aT=0;this.yk=0;this.yB=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};xL.prototype.unlock=function(){this.level.pool.afk(this);};xL.prototype.lock=function(){this.level.pool.lockTile(this);};xL.prototype.relock=function(){return this.level.pool.aao(this);};xL.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};xL.prototype.toString=function(){var aR='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){aR='scale:'+this.level.co.toString()+', '+aR;}return aR;};module.exports=xL;},{}],46:[function(require,module,exports){var mB=function(){this.bM=false;this.L=false;};mB.prototype.mC=function(L){this.L=L;};mB.prototype.fF=function(){this.L=false;};mB.prototype.bE=function(){if(this.bM){this.L.ae().oI();this.bM=false;this.L.cG();}};mB.prototype.sx=function(){this.bE();this.L.cG();};mB.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){var aj=this.L.ae();this.bM=true;aj.EE(R.constrainedImagePoint);this.nu=R.windowPoint;this.L.cG();}};mB.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){var aj=this.L.ae();aj.AE(R.constrainedImagePoint);this.L.cG();}};mB.prototype.kk=function(R){if(this.bM&&R.domEvent.button===0){var dU=R.windowPoint.x-this.nu.x;var hG=dU*dU;dU=R.windowPoint.y-this.nu.y;hG+=dU*dU;if(hG>25){var L=this.L;var aj=L.ae();var ba=aj.fa();var bA=L.es();var aru=bA.width;var arK=bA.height;var bq=L.cJ();aj.AE(R.constrainedImagePoint);var lw=aj.wk();aj.oI();L.af('userModifiedViewState',{});ba.Qy(bq,bA,lw);ba.jJ(bq,bA);aj.jC(ba);L.cG();if(aru!==bA.width||arK!==bA.height){ba=aj.fa();ba.Qy(bq,bA,lw);ba.jJ(bq,bA);aj.jC(ba);}}}this.bE();};mB.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};mB.prototype.nk=function(){this.bE();};module.exports=mB;},{}],47:[function(require,module,exports){var kT={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kT;},{}],48:[function(require,module,exports){var zw=function(){};zw.prototype.mC=function(L){this.L=L;this.aj=L.ae();};zw.prototype.fF=function(){this.L=false;};zw.prototype.bE=function(){};module.exports=zw;},{}],49:[function(require,module,exports){var ep=require('./IPCC.Util').regEnum;var GJ=function(){};GJ.registerEnum=ep;GJ.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};GJ.registerEnum('IPCC.ScaleTrigger',false);module.exports=GJ;},{"./IPCC.Util":28}],50:[function(require,module,exports){var oR=function(){this.bM=false;this.L=false;};oR.prototype.mC=function(L){this.L=L;};oR.prototype.fF=function(){this.L=false;};oR.prototype.bE=function(){if(this.bM){this.L.oI();this.bM=false;this.L.cG();}};oR.prototype.sx=function(){this.bE();};oR.prototype.ko=function(R){this.bE();if(R.domEvent.button===0){var aj=this.L.ae();this.bM=true;aj.EE(R.constrainedImagePoint);this.L.cG();}};oR.prototype.jG=function(R){if(R.domEvent.button!==0){this.bE();}if(this.bM){var aj=this.L.ae();aj.AE(R.constrainedImagePoint);this.L.cG();}};oR.prototype.kk=function(R){if(R.domEvent.button===0){this.bM=false;}this.bE();};oR.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};oR.prototype.nk=function(){this.bE();};module.exports=oR;},{}],51:[function(require,module,exports){var kP=function(){this.bM=false;this.L=false;};kP.prototype.mC=function(L){this.L=L;};kP.prototype.fF=function(){this.L=false;};kP.prototype.bE=function(){if(this.bM){this.L.ae().aau();this.bM=false;}};kP.prototype.sx=function(){this.bE();};kP.prototype.ko=function(R){if(R.domEvent.button===0){var aj=this.L.ae();this.bM=true;var dj=this.L.Im(R.constrainedImagePoint);this.L.ha=dj;if(!dj){return;}this.L.AT(dj);aj.AT(dj);aj.tW(undefined);this.L.cG();}};kP.prototype.jG=function(R){var L=this.L;L.azA=true;if(R.domEvent.button!==0){this.bE();}if(this.bM){var aj=L.ae();var dj=L.Im(R.constrainedImagePoint);var iQ=aj.BZ();if(iQ===dj){return;}L.tW(dj);L.cG();}};kP.prototype.kk=function(R){if(R.domEvent.button===0){this.bM=false;}var L=this.L;var aj=this.L.ae();var cE=aj.jF.length;if(cE===0){this.bE();return;}var aS=aj.jF[0].dj;var cv=aj.jF[cE-1].dj;if(L.Lc===true){if(aS>cv){aS=cv;}var T;var nU=IPCC.Ct();this.C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.C.aS=aS;this.C.cK=L.Cv();this.C.bZ=cE;this.C.set_fillColor(L.pA);this.C.ja='y';this.C.bU=nU;for(T=0;T<aj.jF.length;T++){var aK=aj.jF[T];var CY=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var Al=aK.C.fw();CY.set_fillColor(L.pA);CY.set_opacity(aK.C.get_opacity());CY.set_rectangle(Al);CY.bU=nU;CY.ja='y';this.L.eU().addMark(CY);}aj.jF=[];if(cE>0){this.L.eU().addMark(this.C);}L.ml().removeAllMarks();}cE=aj.jF.length;var aca=new IPCC.Web.UI.TextSelectedEventArgs();aca.text=L.Cv();L.af('selectTextMouseToolCompleted',aca);L.cG();this.bE();};kP.prototype.pn=function(R){var bA=this.L.es();if(R.windowPoint.x<=0||R.windowPoint.x>=bA.width-2){this.bE();}if(R.windowPoint.y<=0||R.windowPoint.y>=bA.height-2){this.bE();}};kP.prototype.nk=function(){this.bE();};module.exports=kP;},{}],52:[function(require,module,exports){var cl=function(){this.L=false;this.Jg=0;this.aoz=1;this.adI=2;this.abY=3;};cl.prototype.mC=function(L){this.L=L;this.dC=this.Jg;};cl.prototype.fF=function(){this.L=false;};cl.prototype.bE=function(){this.dC=this.Jg;};cl.prototype.ahy=function(R){var aCJ=new Date()-this.awC;if(aCJ<750){var eu=this.aeZ.x-R.windowPoint.x;var eK=this.aeZ.y-R.windowPoint.y;var hG=eu*eu+eK*eK;if(hG<2500){return true;}}return false;};cl.prototype.afB=function(R){this.awC=new Date();this.aeZ=new IPCC.Web.UI.Point(R.windowPoint.x,R.windowPoint.y);};cl.prototype.MT=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length===1){if(this.dC===this.adI&&this.ahy(R)){this.dC=this.abY;}else{this.dC=this.aoz;}this.afB(R);this.L.hJ('ko',R);}else{this.dC=this.Jg;this.L.hJ('sx',R);}};cl.prototype.NG=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length===1){this.L.hJ('jG',R);}};cl.prototype.Ot=function(R){var aX=R.domEvent.rawEvent;if(aX.touches.length===0){if(this.ahy(R)){if(this.dC===this.abY){this.dC=this.Jg;this.L.hJ('kk',R);this.L.hJ('Bu',R);}else{this.afB(R);this.dC=this.adI;this.L.hJ('kk',R);}}else{this.dC=this.Jg;this.L.hJ('kk',R);}}};cl.prototype.Ij=function(R){this.L.hJ('sx',R);};module.exports=cl;},{}],53:[function(require,module,exports){var Bp=function(ab,aT,gC,gn){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=ab;this.height=aT;this.gC=gC;this.gn=gn;return this;};Bp.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.gC+', '+this.gn+')';};module.exports=Bp;},{}],54:[function(require,module,exports){var yh=function(Nb){this.wl=(typeof(Nb)!=='undefined'&&Nb!==null&&Nb!=='')?[Nb.toString()]:[];this.h={};this.di=0;};yh.prototype.aKw=function(bx){this.wl[this.wl.length]=bx;};yh.prototype.aJj=function(bx){this.wl[this.wl.length]=((typeof(bx)==='undefined')||(bx===null)||(bx===''))?'\r\n':bx+'\r\n';};yh.prototype.aHT=function(){this.wl=[];this.h={};this.di=0;};yh.prototype.aGS=function(){if(this.wl.length===0){return true;}return this.toString()==='';};yh.prototype.aGj=function(yw){yw=yw||'';var parts=this.wl;if(this.di!==parts.length){this.h={};this.di=parts.length;}var val=this.h;if(typeof(val[yw])==='undefined'){if(yw!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[yw]=this.wl.join(yw);}return val[yw];};module.exports=yh;},{}],55:[function(require,module,exports){var eE=function(L,nZ){this.Oy=false;this.Vx=false;this.Bk=true;this.Xk=false;this.Qm=false;this.vE=0;this.wu=0;var av=this;this.atu='opacity';this.aup=function(cQ){return cQ.toString();};var ajb=function ajb(bG,fB,oG,bq,nm,lF){var gy;if(this.L.qV()===true){bG.vJ.setAttribute('width',oG.width);bG.vJ.setAttribute('height',oG.height);bG.vZ.setAttribute('width',oG.width);bG.vZ.setAttribute('height',oG.height);gy=fB.qf().toString()+','+fB.qW().toString()+','+fB.qQ().toString()+','+fB.sJ().toString()+','+(fB.vK()+nm).toString()+','+(fB.wV()+lF).toString();this.gi(bG.AP,'transform','matrix('+gy+')');}else{bG.vJ.setAttribute('width',oG.width);bG.vJ.setAttribute('height',oG.height);bG.vZ.setAttribute('width',oG.width);bG.vZ.setAttribute('height',oG.height);gy=fB.qf().toString()+','+fB.qW().toString()+','+fB.qQ().toString()+','+fB.sJ().toString()+','+(fB.vK()+nm).toString()+','+(fB.wV()+lF).toString();this.gi(bG.AP,'transform','matrix('+gy+')');}};function awy(bG){var pathList=bG.vJ.getElementsByTagName('path');var gList=bG.vJ.getElementsByTagName('g');bG.OI=[];function ahV(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;bG.OI.push(pathItem);}}};IPCC.K.forEach(pathList,ahV);IPCC.K.forEach(gList,ahV);};this.acl=function(bG){var aj=L.ae();var aEq=1;var lV=aj.ayM();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*lV));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*lV;}};if(bG.OI===undefined){awy(bG);}if(lV===aEq){IPCC.K.forEach(bG.OI,setStrokeWidthToOriginalValue);}else{IPCC.K.forEach(bG.OI,updateStrokeWidthByLineWidthMultiplier);}aj.aFQ(false);};function awu(bG,bp){bG.sj.setAttribute('exponent',bp);bG.sP.setAttribute('exponent',bp);bG.sV.setAttribute('exponent',bp);};function awA(bG,bp){var aqy=841;var ld=(bp/aqy)* -1;var gy;if(IPCC.K.DW){gy='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gy=gy.replace('{00}',ld).replace('{01}',ld).replace('{02}',ld).replace('{10}',ld).replace('{11}',1).replace('{12}',ld).replace('{20}',ld).replace('{21}',ld).replace('{22}',ld);}else{gy='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gy=gy.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',ld).replace('{12}',ld).replace('{13}',ld).replace('{14}',0).replace('{20}',0).replace('{21}',ld).replace('{22}',1).replace('{23}',ld).replace('{24}',0).replace('{30}',0).replace('{31}',ld).replace('{32}',ld).replace('{33}',ld).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}bG.kV.setAttribute('kernelMatrix',gy);};this.avK=function(bG){var aj=L.ae();var pV=aj.ayB();var qq=aj.axi();if(qq===0&&pV===1){bG.AP.removeAttribute('filter','url(#'+bG.If+')');}else{bG.AP.setAttribute('filter','url(#'+bG.If+')');}awu(bG,pV);awA(bG,qq);};var aac,aaa;this.aeE=function(bG,fB,oG,bq,nm,lF){if(bG.YU.match('maglevel')){ajb.apply(this,arguments);return;}var aE=bG.fN.parentElement.getBoundingClientRect();var jI=aE.width/bq.width;var amO=function(val){return Math.abs(val)<1.0e-14;};var fm=0,fi=0;var axy=function(){var qk=fB.qW();if(amO(qk)){qk=0;}var pD=fB.qQ();if(amO(pD)){pD=0;}var atW=fB.qf();var hC=(qk>=0&&pD<0)?90:(qk<0&&pD>=0)?270:(atW<0)?180:(qk>=0&&pD>=0)?0:0;switch(hC){case 90:fm=aE.width;break;case 180:fm=aE.width;fi=aE.height;break;case 270:fi=aE.height;break;}return hC*(Math.PI/180);};var hC=axy();if(parseInt(hC,10)===1||parseInt(hC,10)===4){jI=aE.height/bq.width;}if(jI===aac&&hC===aaa){return;}else{aac=jI;aaa=hC;}var eA=1,hk=0;if(hC!==0){eA=Math.cos(hC);hk=Math.sin(hC);}var ba={jI:eA*jI,qL:eA*jI,qk:hk*jI,pD:hk* -1*jI,fm:fm,fi:fi};var aAH=new IPCC.fp(ba.jI,ba.qk,ba.pD,ba.qL,ba.fm,ba.fi);fB.OJ(aAH);L.ae().jC(fB);var gy='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gy=gy.replace('{scaleX}',ba.jI).replace('{scaleY}',ba.qL).replace('{skewX}',ba.qk).replace('{skewY}',ba.pD).replace('{moveX}',ba.fm).replace('{moveY}',ba.fi);this.gi(bG.AP,'transform',gy);};this.arD=function(){aac=undefined;aaa=undefined;};this.aCk(L);this.apK=function(cY){var bA=new IPCC.Bp(cY.clientWidth,cY.clientHeight,96,96);return bA;};this.adT=function(aX){aX.preventDefault();av.ko(aX);};this.aeJ=function(aX){aX.preventDefault();av.jG(aX);};this.aeF=function(aX){aX.preventDefault();av.kk(aX);};this.amP=function(aX){av.ko(aX);};this.aeY=function(aX){av.Bu(aX);};this.alQ=function(aX){av.jG(aX);};this.QZ=function(aX){av.nk(aX);};this.aor=function(aX){av.kk(aX);};this.afT=function(aX){av.Bu(aX);};this.akL=function(aX){av.SR(aX);};this.Lg=function(aX){if(aX.target!==document.activeElement){av.auv(aX);}};this.afw=function(aX){if(aX.target!==document.activeElement){av.atX(aX);}};this.pn=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;av.sB(R);L.axF(R);}catch(ex){L.bg('mouseOut',ex);}};this.MT=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;av.sB(R);L.aAY(R);}catch(ex){L.bg('touchStart',ex);}};this.NG=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;av.sB(R);L.aCC(R);}catch(ex){L.bg('touchMove',ex);}};this.Ot=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;av.sB(R);L.aBl(R);}catch(ex){L.bg('touchEnd',ex);}};this.Ij=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;av.sB(R);L.aBP(R);}catch(ex){L.bg('touchCancel',ex);}};this.anr=function(aX){try{aX.preventDefault();}catch(ex){L.bg('dragStart',ex);}};this.aoK=function(){var eg=L.mH().igElements.nx;IPCC.Web.UI.bb.addHandler(eg,"mousewheel",this.QZ);IPCC.Web.UI.bb.addHandler(eg,"DOMMouseScroll",this.QZ);if(nZ){IPCC.Web.UI.bb.addHandler(eg,"touchstart",this.MT);IPCC.Web.UI.bb.addHandler(eg,"touchmove",this.NG);IPCC.Web.UI.bb.addHandler(eg,"touchend",this.Ot);IPCC.Web.UI.bb.addHandler(eg,"touchcancel",this.Ij);}IPCC.Web.UI.bb.addHandler(eg,"mouseout",this.pn);IPCC.Web.UI.bb.addHandler(eg,"dragstart",this.anr);};this.aDI=function(){var eg=L.mH().igElements.nx;IPCC.Web.UI.bb.removeHandler(eg,"DOMMouseScroll",this.QZ);IPCC.Web.UI.bb.removeHandler(eg,"mouseout",this.pn);if(nZ){IPCC.Web.UI.bb.removeHandler(eg,"touchstart",this.MT);IPCC.Web.UI.bb.removeHandler(eg,"touchmove",this.NG);IPCC.Web.UI.bb.removeHandler(eg,"touchend",this.Ot);IPCC.Web.UI.bb.removeHandler(eg,"touchcancel",this.Ij);}IPCC.Web.UI.bb.removeHandler(eg,"dragstart",this.anr);};function auU(bG,hV){var qD=document.createElementNS('http://www.w3.org/2000/svg','filter');var If='filter'+hV;bG.If=If;qD.setAttribute('id',If);qD.setAttribute('x','0');qD.setAttribute('y','0');qD.setAttribute('filterUnits','objectBoundingBox');qD.setAttribute('color-interpolation-filters','sRGB');return qD;};function atN(hV){var kV=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');kV.setAttribute('in','SourceGraphic');kV.setAttribute('result',hV+'kV');kV.setAttribute('preserveAlpha','true');if(IPCC.K.DW){kV.setAttribute('order','3 3');kV.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{kV.setAttribute('order','5 5');kV.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return kV;};function atI(hV){var nS=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');nS.setAttribute('in',hV+'kV');nS.setAttribute('result',hV+'nS');return nS;};function atr(hV){var sj=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sj.setAttribute('type','gamma');sj.setAttribute('amplitude','1');sj.setAttribute('exponent','1');sj.setAttribute('offset','0');var sP=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sP.setAttribute('type','gamma');sP.setAttribute('amplitude','1');sP.setAttribute('exponent','1');sP.setAttribute('offset','0');var sV=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');sV.setAttribute('type','gamma');sV.setAttribute('amplitude','1');sV.setAttribute('exponent','1');sV.setAttribute('offset','0');return{sj:sj,sP:sP,sV:sV};};function awR(bG,hV){var Is=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var agU=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var agw=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');agU.setAttribute('in',hV+'kV');agw.setAttribute('in',hV+'nS');Is.appendChild(agU);Is.appendChild(agw);return Is;};this.apB=function(bG,fN,tn,hV){var T,bV,cY,Za;var PN=function(aZ,ds,al){var cY=document.createElementNS('http://www.w3.org/2000/svg',aZ);var T;if(ds){cY.setAttribute('id',ds);}for(T in al){if(al.hasOwnProperty(T)){cY.setAttribute(T,al[T]);}}return cY;};var fg=PN('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var qD=auU(bG,hV);bG.aHK=qD;var kV=atN(hV);bG.kV=kV;qD.appendChild(kV);var nS=atI(hV);bG.nS=nS;qD.appendChild(nS);var Ey=atr();nS.appendChild(Ey.sj);nS.appendChild(Ey.sP);nS.appendChild(Ey.sV);bG.sj=Ey.sj;bG.sP=Ey.sP;bG.sV=Ey.sV;var Is=awR(bG,hV);qD.appendChild(Is);fg.appendChild(qD);bG.vZ=PN('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fg.appendChild(bG.vZ);var UC=PN('g',null,{});bG.AP=UC;fg.appendChild(UC);var di;if(L.qV()===false){di=tn.eP.length;}else{di=1;}for(T=0;T<di;T++){bV=tn.eP[T];bV.pool.parentElementID=hV+T.toString();Za=1/bV.co;cY=PN('g',bV.pool.parentElementID,{transform:'matrix('+Za.toString()+',0,0,'+Za.toString()+',0,0)'});UC.appendChild(cY);}bG.vJ=fg;fN.appendChild(fg);};this.apd=function(jk){var ape=this.ahj();jk.elementID=ape;};this.aCD=function(jk){var cY=document.getElementById(jk.elementID);this.gi(cY,'display','none');};this.afS=function(jk){var cY=document.getElementById(jk.elementID);if(cY===null){jk.elementID='';return;}cY.setAttributeNS('http://www.w3.org/1999/xlink','href','');cY.parentNode.removeChild(cY);jk.elementID='';};var awo=function(aX){try{aX.target.onload=undefined;aX.target.onerror=undefined;aX.target.onabort=undefined;var jk=aX.target.poolItem;jk.loaded=true;av.Aj();}catch(ex){L.bg('downloadImage',ex);}};var amn=function(aX){try{aX.target.onload=undefined;aX.target.onerror=undefined;aX.target.onabort=undefined;aX.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aX.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){L.bg('downloadImage',ex);var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=ex;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}};this.axu=function(zY){var T;var di=zY.length;if(L.qV()===false){di=zY.length;}else{di=1;}for(T=0;T<di;T++){var ek=zY[T];var cY=document.getElementById(ek.poolItem.elementID);if(cY===null){var jk=ek.poolItem;var Rr=jk.pool;var fN=document.getElementById(Rr.parentElementID);cY=document.createElementNS('http://www.w3.org/2000/svg','image');this.gi(cY,'id',jk.elementID);this.gi(cY,'externalResourcesRequired','true');cY.poolItem=jk;cY.onload=awo;cY.onerror=amn;cY.onabort=amn;if(document.documentMode>8||IPCC.K.wo.zS){jk.loaded=true;}cY.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.apa(cY,ek.url,'image/'+ek.contentType);fN.appendChild(cY);this.gi(cY,'display','block');var ab=ek.right-ek.x;var aT=ek.bottom-ek.y;this.gi(cY,'x',ek.x);this.gi(cY,'y',ek.y);this.gi(cY,'width',ab);this.gi(cY,'height',aT);if(di>1){var asB=ab-ek.yk;var asa=aT-ek.yB;var Rk=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Rk.id=cY.id+'_clip';var eS=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gi(eS,'x',ek.x-ek.yk);this.gi(eS,'y',ek.y-ek.yB);this.gi(eS,'width',asB);this.gi(eS,'height',asa);this.gi(eS,'class','expand-on-print');Rk.appendChild(eS);var insertBeforeElement=null;for(var i=0;i<fN.childNodes.length;i++){if(fN.childNodes.item(i).getAttribute('x')<ek.x||fN.childNodes.item(i).getAttribute('y')<ek.y){insertBeforeElement=fN.childNodes.item(i);break;}}fN.insertBefore(cY,insertBeforeElement);fN.appendChild(Rk);this.gi(cY,'style','clip-path: url(#'+Rk.id+')');this.gi(cY,'class','no-clip-on-print');}}this.gi(cY,'display','block');}if((document.documentMode>8||IPCC.K.wo.zS)&&zY.length>0){av.Aj();}};this.apa=function(cY,aq,tG){var sh=true;var ph=0;if(L.km()===0){sh=false;}function fd(ah){var dp,dQ;try{var fM=IPCC.Web.Ke(ah),UT;var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");if(nL==='true'&&L.iW()===true){var uB=IPCC.Web.gm.si.uM(ah.getResponseHeader("Accusoft-Data-SK"));var by=IPCC.Web.HY(uB,hQ);var um=IPCC.Web.Db(fM,by,hQ);UT=IPCC.Web.gm.si.ny(um,0,0);}else{UT=IPCC.Web.gm.si.ny(fM,0,0);}cY.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+tG+';base64,'+UT);}catch(ex){dp="Image error, Error message = "+ex.message;dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=ex;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);throw new IPCC.Web.UI.ImGearArgumentException(null,dp);}};function er(aR){var iV=aR.response.status,dp,lC,lD;if(!aR.response){throw new IPCC.Web.UI.ImGearHttpException(iV,"Client Image load timeout");}if(iV===403){ph++;if(aR.response.statusText&&aR.response.statusText!==""){dp="Expired viewer session ID, error message from the server: "+aR.response.statusText;}else{dp="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}lC=aR.response.getResponseHeader('Accusoft-Status-Message');if(lC){var qx;lD=aR.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xG(lD)){qx=parseInt(lD,10);}throw new IPCC.Web.UI.ImGearHttpException(iV,lC,qx);}else{if(aR.response.statusText&&aR.response.statusText!==""){dp=aR.response.statusText;}else{dp="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}};var fZ={method:'GET'};if(sh===true){fZ.timeout=L.km();}if(L.aAl()&&L.iW()===true){var hQ=IPCC.Web.GS.ajl(4);var nX=IPCC.Web.gm.Hb.ny(hQ);var aDW=aq+'&iv='+nX;fZ.url=aDW;}else{fZ.mimeType='text/plain; charset=x-user-defined';fZ.url=aq;}IPCC.K.mY.fE(fZ).then(fd,er);};this.azZ=function(bG){var F=this;if(bG.Sq){return;}var ph=0;var ek=bG.tn.eP[0].tiles[0];if(!ek){return;}var Rr=ek.level.pool;var fN=document.getElementById(Rr.parentElementID);var sh=true;if(L.km()===0){sh=false;}var yF=L.VR();if(bG.IK){if(yF===2){delete bG.IK;if(fN.childNodes.length>0){fN.removeChild(fN.childNodes[0]);}}else if(yF===1){if(fN.childNodes.length>0){fN.removeChild(fN.childNodes[0]);}}else{if(fN.childNodes.length===0){fN.appendChild(bG.arp);}}L.wy=true;return;}if(yF>0){return;}function fd(ah){var dQ,dp;bG.Sq=false;try{try{var ni;var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");if(nL==='true'&&L.iW()===true){var uB=IPCC.Web.gm.si.uM(ah.getResponseHeader("Accusoft-Data-SK"));var by=IPCC.Web.HY(uB,hQ);var fM=IPCC.Web.Ke(ah);var um=IPCC.Web.Db(fM,by,hQ);ni=IPCC.Web.gm.GY.ny(um);}else{ni=ah.responseText;}aAp(ni);}catch(ex){dp="SVG image error, Error message = "+ex.message;dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=ex;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);throw new IPCC.Web.UI.ImGearArgumentException(null,dp);}}catch(e){L.bg('openPage',e);if(typeof(L.af)==='function'){dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};function er(aR){var dQ,dp,lC,lD;bG.Sq=false;try{if(!aR.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var iV=aR.response.status;if(iV===480){ph++;if(aR.response.statusText&&aR.response.statusText!==""){dp=dp="PDF file password required, error message from the server: "+aR.response.statusText;}else{dp="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}if(iV===403){ph++;if(aR.response.statusText&&aR.response.statusText!==""){dp="Expired viewer session ID, error message from the server: "+aR.response.statusText;}else{dp="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}lC=aR.response.getResponseHeader('Accusoft-Status-Message');if(lC){var qx;lD=aR.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xG(lD)){qx=parseInt(lD,10);}throw new IPCC.Web.UI.ImGearHttpException(iV,lC,qx);}else{if(aR.response.statusText&&aR.response.statusText!==""){dp=aR.response.statusText;}else{dp="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iV,dp);}}catch(e){L.bg('openPage',e);if(typeof(L.af)==='function'){dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=L.aO;L.af('pageOpenFailed',dQ);}}};var app=function(){var aj=L.ae();var zh=aj.ajB();L.wy=true;L.af('pageDisplayed',{bL:L.aO});if(zh){F.acl(bG);}};var aAp=function(hD){var nv=Rr.parentElementID.toString();var Lv=(IPCC.K.DW||IPCC.K.ZK)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var wj=IPCC.K.aqP(hD,Lv,nv);var oh=wj.querySelectorAll('style');IPCC.K.forEach(oh,function(bo){var FA=(bo.styleSheet)?bo.styleSheet.cssText:bo.textContent;if(bo.styleSheet){bo.styleSheet.cssText=FA;}else{bo.appendChild(document.createTextNode(FA));}});var kJ=null;var IY=wj.firstChild;while(IY!==null){if(IY.nodeName==='svg'){kJ=IY;break;}IY=IY.nextSibling;}if(kJ===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!bG.IK){bG.arp=kJ;fN.appendChild(kJ);bG.IK=true;if(!L.wy&&bG.IK){setTimeout(app,1);}}};var aq;var hQ,nX;L.wy=false;if(L.iW()===true){hQ=IPCC.Web.GS.XH(4,IPCC.Web.RQ());nX=IPCC.Web.gm.Hb.ny(hQ);aq=ek.url+'&iv='+nX;}else{aq=ek.url;}var fZ={method:'GET',url:aq,cache:true};if(sh===true){fZ.timeout=L.km();}bG.Sq=true;IPCC.K.mY.fE(fZ).then(fd,er);};this.aDO=function(ek,cQ){if(!ek){return;}var Fg=document.getElementById(ek.poolItem.elementID);this.gi(Fg,'x',ek.x);this.gi(Fg,'y',ek.y);this.gi(Fg,'width',ek.right-ek.x);this.gi(Fg,'height',ek.bottom-ek.y);this.gi(Fg,'opacity',cQ);this.gi(Fg,'display','block');};this.adi=function(zY,cQ,fB){var T;if(L.qV()===false){for(T=0;T<zY.length;T++){this.aDO(zY[T],cQ);}}};return this;};eE.viewerCounter=0;eE.tileCounter=0;eE.imageIDCounter=0;eE.prototype.aCk=function(L){this.hV=IPCC.eE.viewerCounter.toString();IPCC.eE.viewerCounter++;this.L=L;if(IPCC.cR){this.pb=new IPCC.Web.UI.MarkCollection();}var F=this;function awB(aC,R){F.avB(R);};function wU(aC,R){F.anG(R);};L.lf(awB);L.add_markAdded(wU);L.add_markChanged(wU);L.add_inProgressMarkChanged(wU);L.add_markRemoved(wU);L.add_markReordered(wU);L.add_marksLoaded(wU);L.add_markSelectionChanged(wU);L.add_markTextSelectionChanged(wU);};eE.prototype.ahj=function(){var ds='igtile'+IPCC.eE.tileCounter.toString();IPCC.eE.tileCounter++;return ds;};eE.prototype.Aj=function(){this.Oy=true;this.Bk=this.Bk&&this.Vx;var F=this;var aoI=function(){if(!F.Oy){return;}F.cG(F.L.cJ(),F.L.ae(),F.L.es());F.Bk=true;};window.setTimeout(aoI,0);};eE.prototype.avB=function(R){var uq=R.get_propertyName();switch(uq){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.L.ae().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.HN=true;if(this.L.xq()===true){this.Aj();}return;case 'displayedPageRectangle':if(this.L.wy===true){this.Aj();return;}break;case 'redactionDraftMode':this.HN=true;this.Aj();return;}if(this.L.xq()===true){this.Aj();}};eE.prototype.anG=function(R){if(R.mark&& !this.HN){this.pb.addMark(R.mark);}else{this.HN=true;}if(this.L.xq()===true){this.Aj();}};eE.prototype.WZ=function(){this.lk=this.fB.clone();this.lk.oq(this.adC,this.ady);this.lk.jJ(this.L.cJ(),this.L.es());this.sd=this.lk.clone();this.sd.xH();};eE.prototype.cG=function(be,aj,bA){try{this.Oy=false;if(this.RV===true){return;}var cV=this.L.mH();if(cV===null){return;}var dz=cV.igElements;try{this.RV=true;if(this.Hi===undefined||be===undefined|| !(this.Hi.equals(be))){if(this.Xk){if(this.jv){this.aDI(this.jv);var eg=dz.nx;IPCC.Web.UI.bb.removeHandler(eg,"mousedown",this.amP);IPCC.Web.UI.bb.removeHandler(eg,"mousemove",this.alQ);IPCC.Web.UI.bb.removeHandler(eg,"mouseup",this.aor);IPCC.Web.UI.bb.removeHandler(eg,"dblclick",this.afT);IPCC.Web.UI.bb.removeHandler(eg,"contextmenu",this.akL);IPCC.Web.UI.bb.removeHandler(dz.ea,"blur",this.Lg);IPCC.Web.UI.bb.removeHandler(dz.gX,"blur",this.afw);IPCC.Web.UI.bb.removeHandler(dz.dw,"blur",this.Lg);}delete this.jv;this.ahE(dz.rn);this.ahE(dz.EI);this.Xk=false;if(this.Ff!==undefined){this.Ff.unlockAllItems();}if(this.IG!==undefined){this.IG.unlockAllItems();}this.Ff=undefined;this.IG=undefined;cV.igElements.lZ.onscroll=null;cV.igElements.lZ.onresize=null;}if(cV.querySelectorAll){if(cV.querySelectorAll(".pccPageLoadFail").length===0){cV.innerHTML='';}}this.L.qT(true);if(be===undefined){this.RV=false;this.Hi=undefined;this.arD();return;}this.Hi=be.clone();this.Ff=new IPCC.sn();this.Ff.createPyramid(this,this.L);this.IG=new IPCC.sn();this.IG.createPyramid(this,this.L);this.Xk=true;this.apN(this.hV);}this.fB=aj.fa();var Rv=this.fB.qU(be);this.fB.oq(-Rv.x,-Rv.y);this.aov=this.fB.clone();this.aov.xH();this.adC=Math.round(Rv.x);this.ady=Math.round(Rv.y);this.WZ();this.avj(be,aj,bA);if(be.aO===0){this.WZ();}}finally{this.RV=false;this.HN=false;if(this.pb){this.pb.removeAllMarks();}}this.aaV(true);}catch(e){this.L.bg('display',e);throw e;}};eE.prototype.aBk=function(yO,xl,yP){if(yO[xl]===yP){return;}yO[xl]=yP;};eE.prototype.gi=function(yO,xl,yP){if(yO.getAttribute(xl)===yP){return;}yO.setAttribute(xl,yP);};eE.prototype.AS=function(yO,xl,yP){if(yO.style[xl]===yP){return;}yO.style[xl]=yP;};eE.prototype.aaV=function(aqv){if(this.RV){return;}if(this.Oy&& !this.Bk){return;}if(!aqv){try{this.Vx=true;var cV=this.L.mH();if(cV){this.vE=cV.igElements.lZ.scrollLeft;this.wu=cV.igElements.lZ.scrollTop;}this.awz();this.WZ();this.L.ae().jC(this.lk);this.L.af('userModifiedViewState',{});this.L.qT(false);}finally{this.Vx=false;}}};eE.prototype.ayg=function(bG,fB,aDa){var tn=bG.tn;var qE=tn.aFv(fB,aDa);if(!this.L.wy&&qE.tilesToRequest.length===0&&(qE.opaqueTiles.length+qE.translucentTiles.length)>0){this.L.wy=true;this.L.af('pageDisplayed',{bL:this.L.aO});}tn.aFu(qE);if(this.L.qV()===false){this.axu(qE.tilesToRequest);this.adi(qE.opaqueTiles,1,fB);this.adi(qE.translucentTiles,qE.opacity,fB);}};eE.prototype.apN=function(hV){var L=this.L;var cV=L.mH();var aj=L.ae();var av=this;function gs(ro){var yR=document.createElement('div');var T;for(T in ro){if(ro.hasOwnProperty(T)){yR.style[T]=ro[T];}}return yR;};var dz={};cV.igElements=dz;var iw=gs({width:'100%',height:'100%',position:'relative',overflow:aj.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});dz.lZ=iw;iw.setAttribute('class','igViewerScroller');iw.onscroll=function(){av.aaV(false);};iw.onresize=function(){var bA=L.es();bA.width=iw.clientWidth;bA.height=iw.clientHeight;L.af('resize',{});};var eg=gs({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});iw.appendChild(eg);dz.nx=eg;eg.setAttribute('class','igViewerGraphics');this.yt=2;this.yJ=2;this.vE=0;this.wu=0;var bG={};bG.tn=this.Ff;bG.YU='ig'+hV+'level';dz.rn=bG;this.agI(bG,eg,gs);bG.rr=this.rr;var ln;if(L.qV()===false){ln=gs({position:'absolute',display:'none',width:(aj.tI().width+4)+'px',height:(aj.tI().height+4)+'px',backgroundColor:'#000000'});}else{ln=gs({position:'absolute',display:'none',width:(aj.tI().width+4)+'px',height:(aj.tI().height+4)+'px',backgroundColor:'#cccccc'});}eg.appendChild(ln);dz.ln=ln;ln.setAttribute('class','igMagnifierFrame');var pz=gs({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});dz.pz=pz;ln.appendChild(pz);bG={};bG.tn=this.IG;bG.YU='ig'+hV+'maglevel';dz.EI=bG;this.agI(bG,pz,gs);bG.rr=this.aoW;var PF=document.createTextNode('');dz.PF=PF;var ea=document.createElement('textarea');ea.appendChild(PF);ea.style.position='absolute';ea.style.overflow='auto';ea.style.width='80px';ea.style.height='80px';ea.style.resize='none';ea.style.display='none';iw.appendChild(ea);dz.ea=ea;var TN=document.createTextNode('');dz.TN=TN;var gX=document.createElement('input');gX.type="text";gX.style.position='absolute';gX.style.overflow='hidden';gX.style.width='80px';gX.style.height='80px';gX.style.resize='none';gX.style.display='none';gX.style.padding='0px';gX.style.margin='0px';gX.style.lineHeight='normal';gX.className="no-ms-clear";var alZ=function(ev){var vx=gX,ab=parseFloat(vx.style['width']),aT=parseFloat(vx.style['height']),iL=vx.style['fontFamily'];var aDB=vx.value.length>vx.placeholder.length?vx.value:vx.placeholder;var jt=IPCC.K.tY(aDB,iL,{uS:'pre',fg:dz.rn.vJ}),wN=12*ab/(jt.width||1),wf=12*aT/(jt.height||1),zN=Math.floor(Math.min(wN,wf))*0.9;vx.style.fontSize=zN+'px';};gX.onkeyup=alZ;gX.onfocus=function(ev){alZ(ev);if(gX.setSelectionRange){var gM=gX.value.length*2;gX.setSelectionRange(gM,gM);}};iw.appendChild(gX);dz.gX=gX;var sK=document.createTextNode('');dz.sK=sK;var dw=document.createElement('textarea');dw.appendChild(sK);dw.style.position='absolute';dw.style.overflow='hidden';dw.style.width='80px';dw.style.height='80px';dw.style.resize='none';dw.style.display='none';dw.style.whiteSpace='pre-wrap';dw.style.border=0;dw.style.padding='2px';dw.style.fontStyle='normal';var aut=function(aM){var aqs=L.Ja();var co=L.ae().fa().qC();var iq=aqs.iq*co;var bf=L.lE().iM()*co;IPCC.K.WT(dw,iq,bf);};dw.onkeyup=aut;iw.appendChild(dw);dz.dw=dw;this.jv={};this.aoK(this.jv);IPCC.Web.UI.bb.addHandler(eg,"mousedown",this.amP);IPCC.Web.UI.bb.addHandler(eg,"mousemove",this.alQ);IPCC.Web.UI.bb.addHandler(eg,"mouseup",this.aor);IPCC.Web.UI.bb.addHandler(eg,"dblclick",this.afT);IPCC.Web.UI.bb.addHandler(eg,"contextmenu",this.akL);IPCC.Web.UI.bb.addHandler(ea,"blur",this.Lg);IPCC.Web.UI.bb.addHandler(gX,"blur",this.afw);IPCC.Web.UI.bb.addHandler(dw,"blur",this.Lg);cV.appendChild(iw);};eE.prototype.agI=function(bG,fN,gs){var sk=gs({width:'2px',height:'2px',position:'absolute'});bG.fN=fN;fN.appendChild(sk);bG.akB=sk;sk.setAttribute('class','igAnchor');this.apB(bG,sk,bG.tn,bG.YU);bG.Am=gs({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});sk.appendChild(bG.Am);var lw=gs({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});lw.style[this.atu]=this.aup(0.5);sk.appendChild(lw);bG.lw=lw;};eE.prototype.ahE=function(bG){if(bG&&bG.Qm){bG.rr.aDr();bG.Qm=false;}bG.fN=null;};eE.prototype.avj=function(be,aj,bA){var L=this.L;var lM=this.lk.qU(be);var cV=L.mH();var arP=L.axs();var Ab=L.ayC();var dz=cV.igElements;var rn=dz.rn;var EI=dz.EI;var iw=dz.lZ;var eg=dz.nx;var sk=rn.akB;var ln=dz.ln;var pz=dz.pz;var ans=EI.akB;var LV=Math.max(0,-lM.x);var IJ=Math.max(0,-lM.y);var aCs=Math.max(lM.width,bA.width);var aBQ=Math.max(lM.height,bA.height);var nm=Math.max(0,lM.x);var lF=Math.max(0,lM.y);var ada=false;var BL=false;if(aj.xI()){BL=aj.wk();}var aEl=this.yt;this.yt=Math.floor(aCs-1);if(this.yt<0){this.yt=0;}var aDT=this.yJ;this.yJ=Math.floor(aBQ-1);if(this.yJ<0){this.yJ=0;}if(L.qV()===true){if(this.yJ===0){this.yJ=2;}if(this.yt===0){this.yt=2;}}var aBY=this.vE;var aBE=this.wu;if(!this.Bk){this.vE=Math.floor(LV);this.wu=Math.floor(IJ);}if(this.acy){this.AS(sk,'left',nm+'px');this.AS(sk,'top',lF+'px');}var fB=aj.fa();fB.oq(LV-nm,IJ-lF);this.aaA(rn,aj.fa(),fB,be,bA,BL,nm,lF);this.AS(iw,'overflow',aj.get_overflow());if(bA.width!==iw.clientWidth||bA.height!==iw.clientHeight){bA.width=iw.clientWidth;bA.height=iw.clientHeight;ada=true;}this.aBk(sk.style,'visibility','visible');if(aj.get_magnifierIsVisible()){var tx=aj.get_magnifierWindowPosition();var AA=aj.tI();var LB=aj.OM();var LQ=aj.Pd();var RW=aj.aAL();var aGA=Math.round(tx.x-AA.width/2+LV+LB);var aFE=Math.round(tx.y-AA.height/2+IJ+LQ);var KG=RW.qU(be);var aFl=Math.max(0,-KG.x);var aGx=Math.max(0,-KG.y);this.AS(ans,'left',KG.x+'px');this.AS(ans,'top',KG.y+'px');var Mg=2;ln.style.width=(AA.width+Mg*2)+'px';ln.style.height=(AA.height+Mg*2)+'px';pz.style.width=AA.width+'px';pz.style.height=AA.height+'px';pz.style.left=Mg+'px';pz.style.top=Mg+'px';ln.style.left=aGA+'px';ln.style.top=aFE+'px';var aaz=RW.clone();aaz.oq(aFl,aGx);this.aaA(EI,RW,aaz,be,AA,BL,0,0);ln.style.display='block';}else{ln.style.display='none';}if(L.ahK()){var jj=L.Ja();var ard=jj.fw();var hB=this.lk.yH(ard);var mg=(jj.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aeH=jj.fz* -1,agx=jj.fz* -1;if(hB.width<mg){hB.width=mg;}if(hB.height<mg){hB.height=mg;}if(hB.width>bA.width){hB.width=bA.width;}if(hB.height>bA.height){hB.height=bA.height;}if(hB.x<0){hB.x=0;}if(hB.y<0){hB.y=0;}if(hB.x+hB.width+1>=bA.width){hB.x=bA.width-hB.width;aeH= -8;}if(hB.y+hB.height+1>=bA.height){hB.y=bA.height-hB.height;agx= -8;}var jh=this.Ix(jj);jh.style.left=this.vE+hB.x+1+(jj.fz/2)+'px';jh.style.top=this.wu+hB.y+1+(jj.fz/2)+'px';jh.style.width=hB.width+aeH-1+'px';jh.style.height=hB.height+agx-1+'px';if(jh.style.display!=='block'){jh.style.display='block';jh.style.whiteSpace='pre-wrap';var rA=jj.cj;var sZ='';if(rA&IPCC.Web.UI.FontStyle.Italic){jh.style.fontStyle="italic";}if(rA&IPCC.Web.UI.FontStyle.Bold){jh.style.fontWeight="bold";}if(rA&IPCC.Web.UI.FontStyle.Underline){sZ+="underline";}if(rA&IPCC.Web.UI.FontStyle.Strikeout){if(rA&IPCC.Web.UI.FontStyle.Underline){sZ+=" line-through";}else{sZ="line-through";}}jh.style.textDecoration=sZ;jh.style.color=jj.rm;jh.style.backgroundColor=jj.ey;jh.style.fontFamily=jj.hz;jh.style['z-index']=100;var zN=jj.Bc*this.lk.qC();if(zN){jh.style.fontSize=zN+"px";}switch(jj.ir){case IPCC.Web.UI.HorizontalAlignment.Center:jh.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:jh.style.textAlign='right';break;default:jh.style.textAlign='left';break;}if(jj.ed){setTimeout(function(){dz.ea.maxLength=jj.ed;dz.gX.maxLength=jj.ed;dz.dw.maxLength=jj.ed;},0);}if(jj.ju){if(Ab){Ab.destroy();L.Wf(null);}L.Wf(new PCCViewer.azo(jh,jj.ju));}if(jj.jg()===IPCC.Web.UI.MarkType.TextAreaSignature){var dw=IPCC.K.ajg();dw.style.width=dz.dw.style.width;dw.style.height=dz.dw.style.height;dw.style.fontFamily=dz.dw.style.fontFamily;dw.style.fontStyle=dz.dw.style.fontStyle;dw.style.fontWeight=dz.dw.style.fontWeight;var co=L.ae().fa().qC();var iq=jj.iq*co;var bf=L.lE().iM()*co;IPCC.K.ajE().nodeValue=jj.bx||'m';dz.dw.style.fontSize=IPCC.K.WT(dw,iq,bf)+'px';}jh.focus();}}else{dz.ea.style.display='none';dz.gX.style.display='none';dz.dw.style.display='none';dz.ea.removeAttribute('maxlength');dz.gX.removeAttribute('maxlength');dz.dw.removeAttribute('maxlength');if(Ab){Ab.destroy();L.Wf(null);}if(document.activeElement===dz.ea){dz.ea.blur();}if(document.activeElement===dz.gX){dz.gX.blur();}if(document.activeElement===dz.dw){dz.dw.blur();}}if(ada){L.af('resize',{});}if(this.yt!==aEl){this.AS(eg,'width','100%');}if(this.yJ!==aDT){this.AS(eg,'height','100%');}if(this.vE!==aBY){iw.scrollLeft=this.vE;}if(this.wu!==aBE){iw.scrollTop=this.wu;}if(arP==="PageView"&& !this.Bk){aj=L.ae();var ba=aj.fa();var vz=(+ba.qC().toFixed(6));if(L.KU!==vz){L.KU=vz;setTimeout(function(){L.af('scaleChanged',{scaleFactor:vz,pageNumber:L.aO});},1);L.af('scaleChanged',{scaleFactor:vz,pageNumber:L.aO});}}};eE.prototype.aaA=function(bG,lk,fB,bq,bA,BL,nm,lF){var lM=lk.qU(bq);var oG={};oG.width=Math.max(lM.width,bA.width);oG.height=Math.max(lM.height,bA.height);this.avN(bG,lk,fB,bq,bA,nm,lF);this.aeE(bG,fB,oG,bq,nm,lF);if(this.L.qV()===false){this.alM(bG,bA,lk,fB);}else{this.azZ(bG);var aj=this.L.ae();var zh=aj.ajB();if(this.L.wy&&zh){this.acl(bG);}}this.avK(bG);if(BL){var CA=fB.yH(BL);if(this.acy){bG.lw.style.left=(CA.x-2)+'px';bG.lw.style.top=(CA.y-2)+'px';}else{bG.lw.style.left=(CA.x-2+nm)+'px';bG.lw.style.top=(CA.y-2+lF)+'px';}bG.lw.style.width=CA.width+'px';bG.lw.style.height=CA.height+'px';bG.lw.style.display='block';}else{bG.lw.style.display='none';}};eE.prototype.alM=function(bG,bA,lk,fB){var afz=this.L.axk();var Ic={x:0,y:0,width:bA.width,height:bA.height};if(afz){var yv=afz.getBoundingClientRect();var gJ=bG.fN.getBoundingClientRect();var Lo;if(gJ.left<yv.left){Lo=yv.left-gJ.left;Ic.x=(Lo/gJ.width)*bA.width;}if(gJ.right>yv.right){Ic.width=yv.width;}if(gJ.top<yv.top){Lo=yv.top-gJ.top;Ic.y=(Lo/gJ.height)*bA.height;}if(gJ.bottom>yv.bottom){Ic.height=yv.height;}}var sd=lk.clone();sd.xH();var arE=sd.yH(Ic);this.ayg(bG,fB,arE);};eE.prototype.avN=function(bG,lk,fB,bq,bA,nm,lF){var aQ=this.L.eU();var gB=this.L.ml();var fs=this.L.Oq();var ahv=0;var F=this;if(bG.mU){ahv=bG.mU.length;}if(!bG.rr|| !aQ){return;}var oO=this.L.azB();if(aQ.get_markCount()<=0&&gB.get_markCount()<=0&&fs.get_markCount()<=0&&ahv<=0&& !oO){return;}if(!bG.Qm){bG.rr.aqB(this.L,bG,bq);bG.mU=[];bG.Qm=true;}gB=this.L.ml();var bz=[];function awE(C){if((F.L.jK()&&F.L.cC().oV()===true)||C.get_type()!==IPCC.Web.UI.MarkType.Highlight){bz.push(C);}};function ajc(C){bz.push(C);};fs.forEachMark(ajc);gB.forEachMark(ajc);aQ.forEachMark(awE);if(oO){bz.push(oO);}var T,mU=bG.mU;for(T=0;T<mU.length;T++){while(T<mU.length&&(T>=bz.length||mU[T].C!==bz[T])){bG.rr.Ra(mU[T]);mU.splice(T,1);}if(T<mU.length&&(this.HN||this.pb.contains(mU[T].C))){bG.rr.aaE(mU[T]);}}for(T=mU.length;T<bz.length;T++){mU[T]={C:bz[T]};var J=mU[T];if(!J){continue;}bG.rr.aqt(mU[T]);}if(this.acy){bG.rr.acX(this.L,bG,bz,fB,this.L.ahS());}else{var aep=fB.clone();aep.oq(nm,lF);bG.rr.acX(this.L,bG,bz,aep,this.L.ahS());}};eE.prototype.aeE=function(){};eE.prototype.awz=function(){var cV=this.L.mH();if(cV){this.adC=cV.igElements.nx.offsetLeft-this.vE;this.ady=cV.igElements.nx.offsetTop-this.wu;}};eE.prototype.sB=function(R,cG){var gK=this.L.mH().igElements;var iZ=R.domEvent;var fb;if(gK.nx.getBoundingClientRect){fb=gK.nx.getBoundingClientRect();}else{var et=gK.nx;var uD=document.documentElement;fb={left:uD.clientLeft-uD.scrollLeft,top:uD.clientTop-uD.scrollTop};et=et.offsetParent;while(et){fb.top+=et.offsetTop-et.scrollTop;fb.left+=et.offsetLeft-et.scrollLeft;et=et.offsetParent;}}if(iZ.rawEvent.touches){if(iZ.rawEvent.touches.length>0){this.KQ=new IPCC.Web.UI.Point(iZ.rawEvent.touches[0].clientX-gK.lZ.scrollLeft-fb.left,iZ.rawEvent.touches[0].clientY-gK.lZ.scrollTop-fb.top);}if(!this.KQ){this.KQ=new IPCC.Web.UI.Point(0,0);}R.windowPoint=new IPCC.Web.UI.Point(this.KQ.x,this.KQ.y);iZ.button=0;}else{R.windowPoint=new IPCC.Web.UI.Point(iZ.clientX-fb.left-gK.lZ.scrollLeft,iZ.clientY-fb.top-gK.lZ.scrollTop);}var RX=this.sd.transform(R.windowPoint);R.imagePoint=new IPCC.Web.UI.Point(RX.x,RX.y);R.constrainedImagePoint=new IPCC.Web.UI.Point(RX.x,RX.y);R.constrainedImagePoint.x=Math.min(Math.max(R.constrainedImagePoint.x,0),this.Hi.width);R.constrainedImagePoint.y=Math.min(Math.max(R.constrainedImagePoint.y,0),this.Hi.height);R.pointLiesWithinImage=(R.constrainedImagePoint.x===R.imagePoint.x&&R.constrainedImagePoint.y===R.imagePoint.y);R.mark=null;try{var dI=iZ.target;while(!(dI.ImGearMarkRelation)&&dI.parentNode&&dI!==document.body){dI=dI.parentNode;}if(dI.ImGearMarkRelation){R.mark=dI.ImGearMarkRelation.C;}}catch(aX){}};eE.prototype.ko=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);this.L.ayK(R);}catch(ex){this.L.bg('mouseDown',ex);}};eE.prototype.jG=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);this.L.ayf(R);}catch(ex){this.L.bg('mouseMove',ex);}};eE.prototype.nk=function(aX){try{var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);if(!aX.rawEvent.wheelDelta){R.wheelDelta= -aX.rawEvent.detail*120;}else{R.wheelDelta=aX.rawEvent.wheelDelta;}this.L.aCi(R);}catch(ex){this.L.bg('mouseWheel',ex);}};eE.prototype.Bu=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);this.L.ayo(R);}catch(ex){this.L.bg('mouseDoubleClick',ex);}};eE.prototype.kk=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);this.L.aBO(R);}catch(ex){this.L.bg('mouseUp',ex);}};eE.prototype.SR=function(aX){try{aX.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aX;this.sB(R);this.L.ayX(R);}catch(ex){this.L.bg('contextMenu',ex);}};eE.prototype.auv=function(aX){try{this.L.qT(true);}catch(ex){this.L.bg('textAreaBlur',ex);}};eE.prototype.atX=function(aX){try{this.L.qT(true);}catch(ex){this.L.bg('textInputBlur',ex);}};eE.prototype.ayL=function(C){var ea=this.Ix(C);ea.value=C.bx||"";};eE.prototype.axA=function(){var L=this.L;var C=L.Ja();if(!C|| !L.ahK()){return;}var Zx=this.Ix(C);if(document.activeElement===Zx){Zx.blur();}var bx=Zx.value;bx=bx.replace(/(\n|\n\r|\r\n|\r)/g,'\n');C.set_text(bx);};eE.prototype.Ix=function(C){var gK=this.L.mH().igElements,ea=null;if(C.get_type()===IPCC.Web.UI.MarkType.TextLine){ea=gK.gX;}else if(C.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){ea=gK.dw;}else if(C.get_type()===IPCC.Web.UI.MarkType.Text){ea=gK.ea;}return ea;};module.exports=eE;},{}],56:[function(require,module,exports){var zW={};zW.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=zW;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var aF={aZ:function(h,am,aZ){if(typeof(h)!==aZ){throw new ImGearExceptions.zz(am,typeof(h),aZ);}},ly:function(h,am){aF.aZ(h,am,'string');},iu:function(h,am){if(!(h instanceof Date)){throw new ImGearExceptions.zz(am,typeof(h),"Date");}},hc:function(h,am){aF.aZ(h,am,'number');if(!isFinite(h)){throw new ImGearExceptions.sf(am,h,'The value must be a number.');}},kc:function(h,am,wt,xP){aF.aZ(h,am,'number');if(h<wt||h>xP|| !isFinite(h)){throw new ImGearExceptions.sf(am,h,'The value must be a number between '+wt+' and '+xP+' inclusive.');}},SN:function(h,am,JH){aF.aZ(h,am,'number');var T;for(T=0;T<JH.length;T++){if(h===JH[T]){return;}}var Pu='';for(T=0;T<JH.length;T++){if(T>0){if(T===JH.length-1){Pu+=' or ';}else{Pu+=', ';}}Pu+=JH[T];}throw new ImGearExceptions.sf(am,h,'The value must be '+Pu+'.');},mn:function(h,am,wt,xP){aF.kc(h,am,wt,xP);if(h!==Math.floor(h)){throw new ImGearExceptions.sr(am,'The value must be an integer.');}},dK:function(h,am){aF.aZ(h,am,'string');if(!h.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.sr(am,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},XO:function(h,am){aF.aZ(h,am,'string');if(!h.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.sr(am,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},kE:function(h,am,kE,alD){aF.aZ(h,am,'number');var cq;var Wl=0;for(cq in kE){if(kE.hasOwnProperty(cq)){if(alD){Wl|=kE[cq];}else{if(h===kE[cq]){return;}}}}var bY="";if(alD){if((h|Wl)===Wl){return;}else{throw new ImGearExceptions.sf(am,h,'The value must be zero or more members of the '+bY+' enumeration.');}}throw new ImGearExceptions.sf(am,h,'The value must be a member of the '+bY+' enumeration.');},bF:function(h,am){aF.hc(h.x,am+'.x');aF.hc(h.y,am+'.y');},G:function(h,am){aF.hc(h.x,am+'.x');aF.hc(h.y,am+'.y');aF.hc(h.width,am+'.width');aF.hc(h.height,am+'.height');},vL:function(h,am){if(!Array.isArray(h)){throw new ImGearExceptions.sr(am,'The value must be an array.');}}};module.exports=aF;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var ep=require('./IPCC.Util').regEnum;var Di=function(){};Di.registerEnum=ep;Di.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};Di.registerEnum('IPCC.ViewMode',false);module.exports=Di;},{"./IPCC.Util":28}],59:[function(require,module,exports){var Zi=function(nZ){var aj;var be;var jp;var bA;var av=this;var yN;var CD='';var _debug=false;var og=IPCC.Web.UI.DebugErrorLevel.Production;var nf=[];var bP=new IPCC.Web.UI.gx();var aQ;var fs;var oO=null;var Jw=false;var yq=false;var wE;var amL=IPCC.Web.UI.ImGearArtDataServices.None;var JF=false;var ts='';var qi;var ant=false;var adn=false;var yF=0;var rH=true;var jE;var gB;var vn=false;var ajM=true,nP=false;var alO=false;var Ab=null;var ML;var UZ=false;var aU=null;this.KU=0.0;this.lU=function(Jl){if(!_debug){return false;}return og>=Jl;};this.nM=function(kf,Gv,bV){IPCC.ik.nM(kf,Gv,bV,CD,yN);};this.bg=function(hM,hY){if(!this.lU(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var de=hM+'() threw an exception ('+hY.name+'), "'+hY.message+'"';de=de.replace(/\n/g," ");this.nM(de,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);av.af('exceptionThrown',{"function_name":hM,"exception":hY,"pageNumber":av.aO});};this.Ix=function(C){var gK=this.mH().igElements,ea=null;if(C.get_type()===IPCC.Web.UI.MarkType.TextLine){ea=gK.gX;}else if(C.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){ea=gK.dw;}else if(C.get_type()===IPCC.Web.UI.MarkType.Text){ea=gK.ea;}return ea;};this.get_debug=function(){return _debug;};this.set_debug=function(h){var GZ= ! !h;if(_debug===GZ){return;}_debug=GZ;this.cg('debug');};this.BK=function(){return og;};this.Hn=function(h){if(og===h){return;}og=h;this.cg('debugErrorLevel');};this.get_areMarksEditable=function(){return UZ;};this.set_areMarksEditable=function(h){if(UZ===h){return;}UZ=h;this.cg('areMarksEditable');};this.get_cursor=function(){return aU;};this.set_cursor=function(h){if(aU===h){return;}aU=h;this.cg('cursor');};this.aFH=function(h){CD=h;};this.axs=function(){return CD;};this.aFR=function(h){yN=h;};this.aEo=function(h){ML=h;};this.axk=function(){return ML;};this.eR=function(asY){this.qT(false);var T;for(T=nf.length-1;T>=0;T--){if(nf[T]instanceof IPCC.kL){nf[T].bE(true);}else{nf[T].bE();}if(nf[T]instanceof IPCC.me){nf[T].fF(true);}else{nf[T].fF();}}nf=asY;for(T=0;T<nf.length;T++){nf[T].mC(this);}};this.aHH=function(){var T;for(T=0;T<nf.length;T++){nf[T].bE();}};this.hJ=function(afe,R){var T;for(T=0;T<nf.length;T++){if(R&&R.agC&&R.agC()){return;}if(nf[T][afe]){nf[T][afe](R);}}};this.ayA=function(jn,dM){switch(jn){case 'touchstart':jp.adT&&jp.adT(dM);break;case 'touchmove':jp.aeJ&&jp.aeJ(dM);break;case 'touchend':jp.aeF&&jp.aeF(dM);break;case 'doubleTap':jp.aeY&&jp.aeY(dM);break;}};this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.add_mouseDown=function(H){bP.addHandler('mouseDown',H);};this.remove_mouseDown=function(H){bP.removeHandler('mouseDown',H);};this.add_mouseMove=function(H){bP.addHandler('mouseMove',H);};this.remove_mouseMove=function(H){bP.removeHandler('mouseMove',H);};this.add_mouseUp=function(H){bP.addHandler('mouseUp',H);};this.remove_mouseUp=function(H){bP.removeHandler('mouseUp',H);};this.add_contextMenu=function(H){bP.addHandler('contextMenu',H);};this.remove_contextMenu=function(H){bP.removeHandler('contextMenu',H);};this.aoS=function(H){bP.addHandler('contextMenuCommand',H);};this.aHh=function(H){bP.removeHandler('contextMenuCommand',H);};this.add_mouseWheel=function(H){bP.addHandler('mouseWheel',H);};this.remove_mouseWheel=function(H){bP.removeHandler('mouseWheel',H);};this.add_mouseOut=function(H){bP.addHandler('mouseOut',H);};this.remove_mouseOut=function(H){bP.removeHandler('mouseOut',H);};this.anS=function(H){bP.addHandler('resize',H);};this.aFn=function(H){bP.removeHandler('resize',H);};this.aoA=function(H){bP.addHandler('userModifiedViewState',H);};this.aHw=function(H){bP.removeHandler('userModifiedViewState',H);};this.add_scaleChanged=function(H){bP.addHandler('scaleChanged',H);};this.remove_scaleChanged=function(H){bP.removeHandler('scaleChanged',H);};this.add_markAdded=function(H){bP.addHandler('markAdded',H);};this.remove_markAdded=function(H){bP.removeHandler('markAdded',H);};this.add_markCreating=function(H){bP.addHandler('markCreating',H);};this.remove_markCreating=function(H){bP.removeHandler('markCreating',H);};this.add_markChanged=function(H){bP.addHandler('markChanged',H);};this.remove_markChanged=function(H){bP.removeHandler('markChanged',H);};this.add_inProgressMarkChanged=function(H){bP.addHandler('inProgressMarkChanged',H);};this.remove_inProgressMarkChanged=function(H){bP.removeHandler('inProgressMarkChanged',H);};this.add_markRemoved=function(H){bP.addHandler('markRemoved',H);};this.remove_markRemoved=function(H){bP.removeHandler('markRemoved',H);};this.add_markReordered=function(H){bP.addHandler('markReordered',H);};this.remove_markReordered=function(H){bP.removeHandler('markReordered',H);};this.add_marksLoaded=function(H){bP.addHandler('marksLoaded',H);};this.remove_marksLoaded=function(H){bP.removeHandler('marksLoaded',H);};this.add_marksSaved=function(H){bP.addHandler('marksSaved',H);};this.remove_marksSaved=function(H){bP.removeHandler('marksSaved',H);};this.add_markSelectionChanged=function(H){bP.addHandler('markSelectionChanged',H);};this.remove_markSelectionChanged=function(H){bP.removeHandler('markSelectionChanged',H);};this.add_markTextSelectionChanged=function(H){bP.addHandler('markTextSelectionChanged',H);};this.remove_markTextSelectionChanged=function(H){bP.removeHandler('markTextSelectionChanged',H);};this.add_pageOpenFailed=function(H){bP.addHandler('pageOpenFailed',H);};this.add_pageDisplayed=function(H){bP.addHandler('pageDisplayed',H);};this.remove_pageOpenFailed=function(H){bP.removeHandler('pageOpenFailed',H);};this.add_textPageReady=function(H){bP.addHandler('textPageReady',H);};this.remove_textPageReady=function(H){bP.removeHandler('textPageReady',H);};this.add_selectTextMouseToolCompleted=function(H){bP.addHandler('selectTextMouseToolCompleted',H);};this.remove_selectTextMouseToolCompleted=function(H){bP.removeHandler('selectTextMouseToolCompleted',H);};this.add_exceptionThrown=function(H){bP.cU('exceptionThrown',H);};this.remove_exceptionThrown=function(H){bP.dg('exceptionThrown',H);};this.add_textExtractionFailed=function(H){bP.cU('textExtractionFailed',H);};this.remove_textExtractionFailed=function(H){bP.dg('textExtractionFailed',H);};this.cg=function(cq,wx){var H=bP.getHandler("propertyChanged");if(H){H(this,new IPCC.pN(cq,wx));}};this.mH=function(){var _parent=document.getElementById(yN);return _parent;};this.ae=function(){return aj;};this.aFj=function(){return bP;};function Ba(aC,R){JF=true;R.pageIndex=av.aO;av.af('markAdded',R);av.hJ('mi',R);};function BB(aC,R){JF=true;R.pageIndex=av.aO;av.af('markChanged',R);av.hJ('nq',R);};function aln(aC,R){R=new IPCC.Web.UI.MarkEventArgs();R.mark=oO;R.pageIndex=av.aO;av.af('inProgressMarkChanged',R);av.hJ('_onInProgressMarkChanged',R);};function BX(aC,R){JF=true;R.pageIndex=av.aO;av.af('markRemoved',R);av.hJ('Cy',R);};function awS(aC,R){av.af('textPageReady',R);};function awg(aC,R){av.af('textExtractionFailed',R);};function BC(aC,R){JF=true;R.pageIndex=av.aO;av.af('markReordered',R);av.hJ('aiD',R);};function Dw(aC,R){R.pageIndex=av.aO;av.af('marksLoaded',R);av.hJ('aiA',R);};function Cg(aC,R){R.pageIndex=av.aO;av.af('markSelectionChanged',R);av.hJ('CZ',R);};function ahW(aC,R){R.pageIndex=av.aO;av.af('markTextSelectionChanged',R);};this.aBj=function(aC,R){this.hJ('_onTextMarkEditCompleted',R);};function FT(aC,R){R.pageIndex=av.aO;av.af('propertyChanged',R);};this.lT=function(h){if(h===aQ){return;}if(aQ){aQ.remove_markAdded(Ba);aQ.remove_markChanged(BB);aQ.remove_markRemoved(BX);aQ.remove_markReordered(BC);aQ.remove_marksLoaded(Dw);aQ.remove_markSelectionChanged(Cg);aQ.nh(FT);aQ.Gn(true);}aQ=h;if(aQ){aQ.add_markAdded(Ba);aQ.add_markChanged(BB);aQ.add_markRemoved(BX);aQ.add_markReordered(BC);aQ.add_marksLoaded(Dw);aQ.add_markSelectionChanged(Cg);aQ.add_markTextSelectionChanged(ahW);aQ.lf(FT);}this.cg('artPage');};this.eU=function(){return aQ;};this.Iy=function(h){if(h===fs){return;}if(fs){fs.remove_markAdded(Ba);fs.remove_markChanged(BB);fs.remove_markRemoved(BX);fs.remove_markReordered(BC);fs.remove_marksLoaded(Dw);fs.remove_markSelectionChanged(Cg);fs.nh(FT);fs.Gn(true);}fs=h;if(fs){fs.add_markAdded(Ba);fs.add_markChanged(BB);fs.add_markRemoved(BX);fs.add_markReordered(BC);fs.add_marksLoaded(Dw);fs.add_markSelectionChanged(Cg);fs.add_markTextSelectionChanged(ahW);fs.lf(FT);}this.cg('documentArtPage');};this.Oq=function(){return fs;};this.ml=function(){return gB;};this.DB=function(h){if(h===gB){return;}if(gB){gB.remove_markAdded(Ba);gB.remove_markChanged(BB);gB.remove_markRemoved(BX);gB.remove_markReordered(BC);gB.remove_marksLoaded(Dw);gB.remove_markSelectionChanged(Cg);gB.nh(FT);}gB=h;if(gB){gB.add_markAdded(Ba);gB.add_markChanged(BB);gB.add_markRemoved(BX);gB.add_markReordered(BC);gB.add_marksLoaded(Dw);gB.add_markSelectionChanged(Cg);gB.lf(FT);}this.cg('transientArtPage');};var gf;this.DN=function(){if(!gf){if(IPCC.Web.UI.Mark){gf=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gf.set_opacity(100);gf.set_fillColor('#3366CC');gf.set_fillVisible(true);}}return gf;};this.ZF=function(h){amL=h;this.cg('artServiceOption');};this.Ve=function(){return amL;};this.oy=function(C,oT){if(oO===C){return;}if(oO){oO.remove_propertyChanged(aln);}if(C&& !oO){var R=new IPCC.Web.UI.MarkEventArgs();R.mark=oT?oT:C;R.pageIndex=this.aO;this.af('markCreating',R);}oO=C;if(oO){oO.add_propertyChanged(aln);}this.cg('inProgressMark');};this.azB=function(){return oO;};this.zP=function(h){if(h===be){return;}be=h;this.wy=false;aj.oI();this.cg('image');};this.cJ=function(){return be;};this.aeB=function(h){if(h===Jw){return;}Jw=h;this.cg('Jw');};this.ahS=function(){return Jw;};this.JS=function(){var wE=this.Ja();var afa=this.Ix(wE);var aot=afa.value;setTimeout(function(){afa.setSelectionRange(0,aot.length);},1);};this.vQ=function(C){this.qT(false);jp.ayL(C);yq=true;wE=C;this.cg('yq');};this.agf=function(aS,cE){if(this.jK()&&this.cC().oV()===true){var ga=this.cC().gp();var T=aS;for(;T<aS+cE;T++){var eN=ga.kQ(T);var uY='#3366CC';var Hj='#3366CC';gB.XD(eN.aE,Hj,uY,false,T);}}};this.aIA=function(aW){var T;try{var ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gf){gf=av.DN();}for(T in gf){if(gf.hasOwnProperty(T)){ao[T]=gf[T];}}ao.set_rectangle({x:aW.x,y:aW.y,width:aW.width,height:aW.height});av.oy(ao);gB.addMark(ao);return ao;}catch(aGG){var aBT=aGG.message;window.console.log(aBT);}};this.Im=function(dv){var yI;var ga;var Vp;yI=av.cC();ga=av.cC().gp();function atj(VG){var sO=VG.rC();if((dv.x>=sO.x-10&&dv.x<=sO.x+sO.width+1)&&(dv.y>=sO.y-1&&dv.y<=sO.y+sO.height+1)){return true;}sO=undefined;};if(!Vp){for(var T=0;T<ga.eY();T++){if(atj(ga.kQ(T))){Vp=T;break;}}}return Vp;};this.azA=false;this.AT=function(dj){if(dj===undefined){return;}if(av.jK()&&av.cC().oV()===true){var KV=av.cC().gp().eY();IPCC.aF.mn(dj,'textIndex',0,KV);av.ae().AT(dj);av.ml().BW(function(C){if(C.wI!==true&&C.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){av.ml().tm(C);}});if(av.xq()===true){av.cG();}}};this.aaK=function(){var Bl=av.ae().get_transientHighlightMarks();while(Bl.length>0){av.ml().removeMark(Bl.pop());}};this.OR=function(ud,cE){if(av.jK()&&av.cC().oV()===true){var T=ud;var ga=this.cC().gp();var cv=ud+cE;if(!gf){gf=av.DN();}var Bl=av.ae().get_transientHighlightMarks();for(;T<cv;T++){var eN=ga.kQ(T);Bl.push(gB.aDF(eN.aE,gf,T));}}};this.aIQ=function(aFk,cE){var aj=av.ae();for(var aL=cE-1;aL>cE;aL--){var aK=aj.jF[aL];gB.removeMark(aK.C);}};this.tW=function(dj){if(dj===undefined){return;}var eN;var aj=av.ae();var iQ=aj.BZ();var uY='#3366CC';var Hj='#3366CC';var cQ=100;if(!gf){gf=av.DN();}cQ=gf.get_opacity();if(!cQ){cQ=100;}uY=gf.get_fillColor();if(uY===undefined){uY='#3366CC';}var ga=av.cC().gp();if(iQ===undefined){eN=ga.kQ(dj);var C=gB.XD(eN.aE,Hj,uY,false,cQ,dj);aj.tW(dj,C,eN.jW);return;}var aL;function aiP(ak,aqI){for(aL=aj.jF.length-1;aL>=0;aL--){var aK=aj.jF[aL];if(aK.dj===ak){aj.jF.splice(aL,1);gB.removeMark(aK.C);aj.aFT(aqI);aj.aGr(ak);return aL;}}return-1;};function MG(ak){eN=ga.kQ(ak);var amT=gB.XD(eN.aE,Hj,uY,false,cQ,ak);if(aj.tW(ak,amT,eN.jW)===false){gB.removeMark(amT);}};var Mq=aj.aiR();var T;if(dj>iQ){for(T=iQ;T<=dj;T++){if(T===dj){if(T<Mq){continue;}MG(T);}else if(T>=Mq){if(T===iQ){continue;}MG(T);}else{aiP(T,dj);}}}else if(dj<iQ){for(T=iQ;T>=dj;T--){if(T===dj){if(T>=Mq){continue;}MG(T);}else if(T<Mq){if(T===iQ){continue;}MG(T);}else{aiP(T,dj);}}}};this.Cv=function(){var aff="";try{var aj=av.ae();if(av.ae().Kb()){var avb=av.cC().gp();if(aj.jF.length>0){var Cf=[];for(var T=0;T<aj.jF.length;T++){Cf.push(aj.jF[T].dj);}if(Cf[0]>Cf[1]){Cf.reverse();}for(T=0;T<Cf.length;T++){aff+=avb.kQ(Cf[T]).ayV();}}}return aff;}catch(e){window.console.log(e.message);}};this.qT=function(ayI){if(yq){if(ayI){jp.axA();}yq=false;wE=null;this.aBj();this.cg('yq');av.cG();}};this.ahK=function(){return yq;};this.Ja=function(){return wE;};this.Ev=function(){var wE=this.Ja();if(!wE){return null;}var SA=wE.jg();if(SA===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(SA===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(SA===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.acn=function(h){adn=h;};this.Vi=function(){return adn;};this.Wf=function(h){Ab=h;};this.ayC=function(){return Ab;};this.adB=function(h){if(h===yF){return;}yF=h;this.cg('yF');};this.VR=function(){return yF;};this.Gn=function(h){if(aQ){aQ.Gn(h);}};this.NB=function(){if(aQ){return aQ.NB();}return true;};this.azv=function(aIa){var bA=jp.apK(this.mH());this.aDR(bA);};this.aDR=function(h){if(h===bA){return;}bA=h;this.cg('windowSpace');};this.es=function(){return bA;};this.cG=function(){jp.cG(be,aj,bA);};this.JJ=function(){if(this.qV()===false){var lk=aj.fa();var L=this;var lM=lk.qU(be);var cV=L.mH();var dz=cV.igElements;var bG=dz.rn;var LV=Math.max(0,-lM.x);var IJ=Math.max(0,-lM.y);var nm=Math.max(0,lM.x);var lF=Math.max(0,lM.y);var fB=aj.fa();fB.oq(LV-nm,IJ-lF);jp.alM(bG,bA,lk,fB);}};this.Kt=function(h){qi=h;};this.tU=function(){return qi;};this.cC=function(){return jE.cC();};var mF=0;this.lE=function(){return jE;};this.Et=function(h){if(h===this.lE()){return;}jE=h;if(jE){jE.AB(awS);jE.zn(awg);}};this.jK=function(){return rH;};this.Jc=function(h){rH=h;this.cg('textRequired');};this.xB=function(){return vn;};this.Kc=function(h){if(vn===h){return;}vn=h;this.cg('requireRequestsOptimize');};this.xq=function(){return ajM;};this.ZL=function(h){ajM=h;this.cg('autoUpdate');};var pe=false;this.lP=function(){return pe;};this.qj=function(h){if(typeof h!=="boolean"){return;}if(h===pe){return;}pe=h;if(aQ){var aae=false;aQ.forEachMark(function(C){if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aae=true;}});if(aae===true){aQ.qj(pe);}}};this.km=function(){return mF;};this.vy=function(h){if(mF===h){return;}if(isNaN(h)){return;}mF=h;this.cg('serviceResponseTimeout');};var qe='';this.Vv=function(eo,an){if(eo!==''){eo='/'+eo;}an=an||'';if(an===null||an===''){if(eo==='/Attributes'){if(/^[\x00-\x7F]*$/.test(be.get_identifier())){return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=u'+encodeURIComponent(be.get_identifier());}else{return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=e'+be.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(be.get_identifier())){return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=u'+encodeURIComponent(be.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=e'+be.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(be.get_identifier())){return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=u'+encodeURIComponent(be.get_identifier())+'&'+an;}else{return qe+'/Page/q/'+be.aO.toString()+eo+'?DocumentID=e'+be.get_encodedIdentifier()+'&'+an;}}};this.azC=function(eo,an){eo=eo||'Art';an=an||'';if(an===null||an===''){if(eo==='Art'){return qe+'/Page/q/'+be.aO.toString()+'/'+eo+'?DocumentID=e'+be.get_encodedIdentifier();}}else{return qe+'/Page/q/'+be.aO.toString()+'/'+eo+'?DocumentID=e'+be.get_encodedIdentifier()+'&'+an;}};this.XJ=function(CJ){if(JF===false){if(CJ){CJ();}return;}IPCC.K.mY.fE({method:'POST',url:this.azC('Art'),headers:{'Content-Type':'application/json'},body:aQ.saveToJson()}).then(function(){if(CJ){CJ();}});};this.uC=function(){return qe;};this.XA=function(h){qe=h;this.cg('imageHandlerUrl');};this.qV=function(){return ant;};this.Pi=function(h){ant=h;};this.aAl=function(){return alO;};this.aen=function(h){alO=h;};this.lY=function(){return ts;};this.uO=function(h){ts=h;ts.tabIndex= -1;};this.iW=function(){return nP;};this.pl=function(h){if(typeof h!=="boolean"){return;}if(h===nP){return;}nP=h;};this.ayK=function(R){if(yq){this.qT(true);}else{this.af('mouseDown',R);this.hJ('ko',R);}};this.ayf=function(R){this.af('mouseMove',R);this.hJ('jG',R);};this.aBO=function(R){this.af('mouseUp',R);this.hJ('kk',R);};this.aCi=function(R){this.af('mouseWheel',R);this.hJ('nk',R);};this.ayo=function(R){this.af('mouseDoubleClick',R);this.hJ('Bu',R);};this.ayX=function(R){this.af('contextMenu',R);this.hJ('SR',R);};this.axE=function(R){this.af('contextMenuCommand',R);};this.axF=function(R){this.af('mouseOut',R);this.hJ('pn',R);};this.aAY=function(R){this.af('touchStart',R);this.hJ('ko',R);};this.aCC=function(R){this.af('touchMove',R);this.hJ('jG',R);};this.aBl=function(R){this.af('touchEnd',R);this.hJ('kk',R);};this.aBP=function(R){this.af('touchCancel',R);this.hJ('Ij',R);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(av,R);}};var agb=function(L,nZ){aj=new IPCC.ZW();function Cq(aC,R){av.af('propertyChanged',R);};aj.lf(Cq);jp=new IPCC.eE(L,nZ);if(IPCC.cR){jp.rr=new IPCC.cR.cr(L);jp.aoW=new IPCC.cR.cr(L);}};if(nZ===false){agb(this,false);}else{agb(this,true);}return this;};module.exports=Zi;},{}],60:[function(require,module,exports){var ZW=function(){var qq=0;var pV=1;var lV=1;var zh=false;var bW=new IPCC.fp();var CB=false;var uQ;var re;var KI=false;var EA=new IPCC.Bp(200,150,96,96);var tx={x:0,y:0};var LF=3;var LB=0,LQ=0;var gL=0.2;var vf=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var DA=new IPCC.fp();var GG=0;var JI=0;var Cd=false;var Xa;this.jF=[];var Vu=IPCC.Web.UI.ScrollBars.Auto;var Bl=[];this.get_transientHighlightMarks=function(){return Bl;};this.get_scrollBars=function(){return Vu;};this.get_overflow=function(){switch(Vu){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(h){Vu=h;this.cg('scrollBars');};var bP=new IPCC.Web.UI.gx();this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};var onSelectionChanged=function(aj){var R={};R.selectionIsVisible=CB;R.selectionRectangle=aj.wk();aj.cg('selection');};this.oI=function(){uQ={x:0,y:0};re={x:0,y:0};if(!CB){return;}CB=false;onSelectionChanged(this);};this.showSelection=function(dB){uQ.x=dB.x;uQ.y=dB.y;re.x=dB.x+dB.width;re.y=dB.y+dB.height;CB=true;onSelectionChanged(this);};this.EE=function(dv){uQ.x=dv.x;uQ.y=dv.y;re.x=dv.x;re.y=dv.y;CB=true;onSelectionChanged(this);};this.AE=function(dv){re.x=dv.x;re.y=dv.y;onSelectionChanged(this);};this.xI=function(){return CB;};this.wk=function(){var G=new IPCC.Web.UI.Rectangle(Math.min(uQ.x,re.x),Math.min(uQ.y,re.y),0,0);G.width=Math.max(uQ.x,re.x)-G.x;G.height=Math.max(uQ.y,re.y)-G.y;return G;};var GM=function(){if(!KI){DA.aBB();return;}DA.OJ(bW);DA.oq(-tx.x,-tx.y);DA.scale(LF,LF);DA.oq(EA.width/2,EA.height/2);};this.hideMagnifier=function(){KI=false;GM();this.cg('magnifierIsVisible');};this.showMagnifier=function(df){tx.x=df.x;tx.y=df.y;KI=true;GM();this.cg('magnifierWindowPosition');this.cg('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return KI;};this.get_magnifierWindowPosition=function(){return{x:tx.x,y:tx.y};};this.get_magnifierMagnification=function(){return LF;};this.set_magnifierMagnification=function(h){LF=h;GM();this.cg('magnifierMagnification');};this.OM=function(){return LB;};this.Yy=function(h){LB=h;this.cg('magnifierXOffset');};this.Pd=function(){return LQ;};this.YJ=function(h){LQ=h;this.cg('magnifierYOffset');};this.tI=function(){return{width:EA.width,height:EA.height};};this.set_magnifierWindowSize=function(newMagnifierSize){EA.width=newMagnifierSize.width;EA.height=newMagnifierSize.height;GM();this.cg('magnifierWindowSize');};this.aAL=function(){return DA.clone();};this.fa=function(){return bW.clone();};this.UE=function(){return gL;};this.ZQ=function(h){gL=h;this.cg('markHandleSize');};this.yf=function(){return vf;};this.IA=function(h){vf=h;this.cg('markHandleMode');};this.jC=function(h){if(h===bW||h.ata(bW)){return;}if(!h.aij()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}bW.OJ(h);GM();this.cg('displayedPageRectangle');};var adk='0';this.get_presentationQuality=function(){return adk;};this.set_presentationQuality=function(h){adk=h;this.cg('presentationQuality');};this.ayB=function(){return pV;};this.FB=function(h){pV=h;};this.axi=function(){return qq;};this.Fv=function(h){qq=h;};this.ayM=function(){return lV;};this.ET=function(h){if(h!==lV){zh=true;}lV=h;};this.aFQ=function(h){zh=h;};this.ajB=function(){return zh;};var RO=IPCC.ai.Default;this.aJk=function(){return RO;};this.aFU=function(h){if(RO!==h){RO=h;this.cg('markCursor');}};this.AT=function(dj){GG=dj;Cd=false;JI=0;};this.OR=function(ud,cE){if(ud!==GG){GG=ud;}JI=cE;Cd=true;};this.aau=function(){if(Cd===true){for(var T=0;T<this.jF.length;T++){this.jF[T].C.set_visible(false);}Cd=false;}};this.Kb=function(){return Cd;};this.tW=function(dj,C,jW){Xa=dj;if(dj!==undefined){if(this.jF.length>0&&this.jF[this.jF.length-1].dj===dj){return false;}this.jF.push({dj:dj,C:C,jW:jW});Cd=true;JI++;}else{this.jF=[];JI=0;}return true;};this.BZ=function(){return Xa;};this.aFT=function(h){if(h===undefined){return;}Xa=h;};var anq;this.aHE=function(){return anq;};this.aGr=function(h){if(h===undefined){return;}anq=h;};this.aiR=function(){return GG;};this.aIy=function(){return GG+JI;};this.Dq=function(){return this.jF.length;};this.oI();this.hideMagnifier();return this;};module.exports=ZW;},{}],61:[function(require,module,exports){var AM={};AM.alr=function(by){if(!this.DC[0][0][0]){this.Vn();}var T,aL,ez,JK,WX,kW=this.DC[0][4],uR=this.DC[1],sv=by.length,Nz=1;if(sv!==4&&sv!==6&&sv!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.by=[JK=by.slice(0),WX=[]];for(T=sv;T<4*sv+28;T++){ez=JK[T-1];if(T%sv===0||(sv===8&&T%sv===4)){ez=kW[ez>>>24]<<24^kW[ez>>16&255]<<16^kW[ez>>8&255]<<8^kW[ez&255];if(T%sv===0){ez=ez<<8^ez>>>24^Nz<<24;Nz=Nz<<1^(Nz>>7)*283;}}JK[T]=JK[T-sv]^ez;}for(aL=0;T;aL++,T--){ez=JK[aL&3?T:T-4];if(T<=4||aL<4){WX[aL]=ez;}else{WX[aL]=uR[0][kW[ez>>>24]]^uR[1][kW[ez>>16&255]]^uR[2][kW[ez>>8&255]]^uR[3][kW[ez&255]];}}};AM.alr.prototype={XV:function(dk){return this.apu(dk,1);},DC:[[[],[],[],[],[]],[[],[],[],[],[]]],Vn:function(){var Qg=this.DC[0],uR=this.DC[1],kW=Qg[4],ayO=uR[4],T,bw,wZ,ff=[],acO=[],UV,aeh,aew,hk,KX,QQ;for(T=0;T<256;T++){acO[(ff[T]=T<<1^(T>>7)*283)^T]=T;}for(bw=wZ=0;!kW[bw];bw^=UV||1,wZ=acO[wZ]||1){hk=wZ^wZ<<1^wZ<<2^wZ<<3^wZ<<4;hk=hk>>8^hk&255^99;kW[bw]=hk;ayO[hk]=bw;aew=ff[aeh=ff[UV=ff[bw]]];QQ=aew*0x1010101^aeh*0x10001^UV*0x101^bw*0x1010100;KX=ff[hk]*0x101^hk*0x1010100;for(T=0;T<4;T++){Qg[T][bw]=KX=KX<<24^KX>>>8;uR[T][hk]=QQ=QQ<<24^QQ>>>8;}}for(T=0;T<5;T++){Qg[T]=Qg[T].slice(0);uR[T]=uR[T].slice(0);}},apu:function(nF,IB){if(nF.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var by=this.by[IB],dP=nF[0]^by[0],ft=nF[IB?3:1]^by[1],eA=nF[2]^by[2],ff=nF[IB?1:3]^by[3],uu,alo,akS,atk=by.length/4-2,T,BG=4,dV=[0,0,0,0],GT=this.DC[IB],Si=GT[0],QK=GT[1],QB=GT[2],QV=GT[3],kW=GT[4];for(T=0;T<atk;T++){uu=Si[dP>>>24]^QK[ft>>16&255]^QB[eA>>8&255]^QV[ff&255]^by[BG];alo=Si[ft>>>24]^QK[eA>>16&255]^QB[ff>>8&255]^QV[dP&255]^by[BG+1];akS=Si[eA>>>24]^QK[ff>>16&255]^QB[dP>>8&255]^QV[ft&255]^by[BG+2];ff=Si[ff>>>24]^QK[dP>>16&255]^QB[ft>>8&255]^QV[eA&255]^by[BG+3];BG+=4;dP=uu;ft=alo;eA=akS;}for(T=0;T<4;T++){dV[IB?3& -T:T]=kW[dP>>>24]<<24^kW[ft>>16&255]<<16^kW[eA>>8&255]<<8^kW[ff&255]^by[BG++];uu=dP;dP=ft;ft=eA;eA=ff;ff=uu;}return dV;}};module.exports=AM;},{}],62:[function(require,module,exports){var gm={};gm.GY={ny:function(dR){var dV="",qg=IPCC.Web.gb.vY(dR),T,ez;for(T=0;T<qg/8;T++){if((T&3)===0){ez=dR[T/4];}dV+=String.fromCharCode(ez>>>24);ez<<=8;}return decodeURIComponent(escape(dV));},uM:function(bY){bY=unescape(encodeURIComponent(bY));var dV=[],T,ez=0;for(T=0;T<bY.length;T++){ez=ez<<8|bY.charCodeAt(T);if((T&3)===3){dV.push(ez);ez=0;}}if(T&3){dV.push(IPCC.Web.gb.HS(8*(T&3),ez));}return dV;}};gm.si={wM:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ny:function(dR,apV,aq){var dV="",T,fM=0,eA=IPCC.Web.gm.si.wM,xi=0,qg=IPCC.Web.gb.vY(dR);if(aq){eA=eA.substr(0,62)+'-_';}for(T=0;dV.length*6<qg;){dV+=eA.charAt((xi^dR[T]>>>fM)>>>26);if(fM<6){xi=dR[T]<<(6-fM);fM+=26;T++;}else{xi<<=6;fM-=6;}}while((dV.length&3)&& !apV){dV+="=";}return dV;},uM:function(bY,aq){bY=bY.replace(/\s|=/g,'');var dV=[],T,fM=0,eA=IPCC.Web.gm.si.wM,xi=0,bw;if(aq){eA=eA.substr(0,62)+'-_';}for(T=0;T<bY.length;T++){bw=eA.indexOf(bY.charAt(T));if(bw<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fM>26){fM-=26;dV.push(xi^bw>>>fM);xi=bw<<(32-fM);}else{fM+=6;xi^=bw<<(32-fM);}}if(fM&56){dV.push(IPCC.Web.gb.HS(fM&56,xi,1));}return dV;}};gm.Hb={ny:function(dR){return IPCC.Web.gm.si.ny(dR,1,1);},uM:function(bY){return IPCC.Web.gm.si.uM(bY,1);}};module.exports=gm;},{}],63:[function(require,module,exports){var pW={};pW.WW=function(pW){if(!this.by[0]){this.Vn();}if(pW){this.eB=pW.eB.slice(0);this.zX=pW.zX.slice(0);this.cE=pW.cE;}else{this.acC();}};pW.WW.pW=function(dk){return(new IPCC.Web.pW.WW()).awm(dk).aGD();};pW.WW.prototype={aIq:512,acC:function(){this.eB=this.aji.slice(0);this.zX=[];this.cE=0;return this;},awm:function(dk){if(typeof dk==="string"){dk=IPCC.Web.Codec.GY.uM(dk);}var T,ft=this.zX=IPCC.Web.gb.Uq(this.zX,dk),amJ=this.cE,aqH=this.cE=amJ+IPCC.Web.gb.vY(dk);for(T=512+amJ& -512;T<=aqH;T+=512){this.po(ft.splice(0,16));}return this;},aGD:function(){var T,ft=this.zX,eB=this.eB;ft=IPCC.Web.gb.Uq(ft,[IPCC.Web.gb.HS(1,1)]);for(T=ft.length+2;T&15;T++){ft.push(0);}ft.push(Math.floor(this.cE/0x100000000));ft.push(this.cE|0);while(ft.length){this.po(ft.splice(0,16));}this.acC();return eB;},aji:[],by:[],Vn:function(){var T=0,HD=2,bp;function ajZ(bw){return(bw-Math.floor(bw))*0x100000000|0;};arF:for(;T<64;HD++){for(bp=2;bp*bp<=HD;bp++){if(HD%bp===0){continue arF;}}if(T<8){this.aji[T]=ajZ(Math.pow(HD,1/2));}this.by[T]=ajZ(Math.pow(HD,1/3));T++;}},po:function(arI){var T,ez,dP,ft,im=arI.slice(0),eB=this.eB,dE=this.by,XC=eB[0],pY=eB[1],HZ=eB[2],QO=eB[3],sU=eB[4],RF=eB[5],Go=eB[6],XR=eB[7];for(T=0;T<64;T++){if(T<16){ez=im[T];}else{dP=im[(T+1)&15];ft=im[(T+14)&15];ez=im[T&15]=((dP>>>7^dP>>>18^dP>>>3^dP<<25^dP<<14)+(ft>>>17^ft>>>19^ft>>>10^ft<<15^ft<<13)+im[T&15]+im[(T+9)&15])|0;}ez=(ez+XR+(sU>>>6^sU>>>11^sU>>>25^sU<<26^sU<<21^sU<<7)+(Go^sU&(RF^Go))+dE[T]);XR=Go;Go=RF;RF=sU;sU=QO+ez|0;QO=HZ;HZ=pY;pY=XC;XC=(ez+((pY&HZ)^(QO&(pY^HZ)))+(pY>>>2^pY>>>13^pY>>>22^pY<<30^pY<<19^pY<<10))|0;}eB[0]=eB[0]+XC|0;eB[1]=eB[1]+pY|0;eB[2]=eB[2]+HZ|0;eB[3]=eB[3]+QO|0;eB[4]=eB[4]+sU|0;eB[5]=eB[5]+RF|0;eB[6]=eB[6]+Go|0;eB[7]=eB[7]+XR|0;}};module.exports=pW;},{}],64:[function(require,module,exports){var DY={};DY.aqq={am:"cbc",agE:function(Mc,Ub,hU,vC){if(vC&&vC.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gb.vY(hU)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var T,im=IPCC.Web.gb,Py=im.aeq,qg=im.vY(Ub),alu=0,oc=[];if(qg&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(T=0;alu+128<=qg;T+=4,alu+=128){hU=Mc.agE(Py(hU,Ub.slice(T,T+4)));oc.splice(T,0,hU[0],hU[1],hU[2],hU[3]);}qg=(16-((qg>>3)&15))*0x1010101;hU=Mc.agE(Py(hU,im.Uq(Ub,[qg,qg,qg,qg]).slice(T,T+4)));oc.splice(T,0,hU[0],hU[1],hU[2],hU[3]);return oc;},XV:function(Mc,RH,hU,vC){if(vC&&vC.length){throw new IPCC.Web.UI.ImGearArgumentException(vC,"cbc can't authenticate data");}if(IPCC.Web.gb.vY(hU)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gb.vY(RH)&127)|| !RH.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var T,im=IPCC.Web.gb,Py=im.aeq,rJ,uH,oc=[];vC=vC||[];for(T=0;T<RH.length;T+=4){rJ=RH.slice(T,T+4);uH=Py(hU,Mc.XV(rJ));oc.splice(T,0,uH[0],uH[1],uH[2],uH[3]);hU=rJ;}rJ=oc[T-1]&255;if(rJ===0||rJ>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}uH=rJ*0x1010101;if(!im.aDA(im.Tl([uH,uH,uH,uH],0,rJ*8),im.Tl(oc,oc.length*32-rJ*8,oc.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return im.Tl(oc,0,oc.length*32-rJ*8);}};module.exports=DY;},{}],65:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var MZ=function(){var bz=[];var bP=new IPCC.Web.UI.gx();var fD=new IPCC.Web.UI.MarkCollection();var F=this;var IR=true;this.aCE=[];function onMarkSelectionChanged(aC,R){var C=R.mark;if(C.bm&&C.bm[0]&&C.bm[0].cB===false){return;}var ew;var axQ=R.mark.get_selected();if(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU!==undefined){fD.remove_markAdded(onMarkSelectionChanged);fD.remove_markRemoved(onMarkSelectionChanged);for(var T=0;T<bz.length;T++){if(bz[T].bU===C.bU){if(bz[T].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ew=bz[T];}else{bz[T].set_selected(R.mark.get_selected());}}}fD.add_markAdded(onMarkSelectionChanged);fD.add_markRemoved(onMarkSelectionChanged);if(ew){ew.set_selected(axQ);}return;}else if(C.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fD.remove_markAdded(onMarkSelectionChanged);fD.remove_markRemoved(onMarkSelectionChanged);for(var bO=0;bO<C.bm.length;bO++){C.bm[bO].set_selected(R.mark.get_selected());}fD.add_markAdded(onMarkSelectionChanged);fD.add_markRemoved(onMarkSelectionChanged);}var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=C;dX.zIndex=F.nR(C);dX.length=1;F.af('markSelectionChanged',dX);};fD.add_markAdded(onMarkSelectionChanged);fD.add_markRemoved(onMarkSelectionChanged);var avX=fD.addMark;fD.addMark=function(C){if(F.nR(C)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fD.contains(C)){avX.call(fD,C);C.cg('selected');}};var avt=fD.addMarks;fD.addMarks=function(yG){var pb=[];function Uy(C){if(F.nR(C)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!fD.contains(C)){pb.push(C);}};yG.forEach(Uy,{});avt.call(fD,yG);var T;for(T=0;T<pb.length;T++){pb[T].cg('selected');}};var asK=fD.removeMark;fD.removeMark=function(C){if(fD.contains(C)){asK.call(fD,C);C.cg('selected');}};var asw=fD.removeAllMarks;fD.removeAllMarks=function(){var pb=[];function Uy(C){if(fD.contains(C)){pb.push(C);}};fD.forEach(Uy,{});asw.call(fD);var T;for(T=0;T<pb.length;T++){pb[T].cg('selected');}};function ajI(kh){IPCC.aF.mn(kh,'zIndex',0,bz.length-1);};this.VQ=function(){return bz.length;};this.aiy=function(){var T=0;for(;T<bz.length;T++){if(bz[T].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bz[T].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bz[T].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bz[T].bU!==undefined)){break;}}return T;};this.xC=function(){return fD;};this.Gn=function(h){if(h===IR){return;}IR=h;this.cg('IR');};this.NB=function(){return IR;};var pe=false;this.lP=function(){return pe;};this.qj=function(h){if(typeof h!=="boolean"){return;}pe=h;this.cg('redactionDraftMode');};function nq(aC,R){if(R.get_propertyName()==='selected'){return;}var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=aC;dX.zIndex=F.nR(aC);dX.propertyName=R.cq;dX.length=1;if(dX.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(dX.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&dX.mark.bU!=='undefined')){F.ays(aC);}F.af('markChanged',dX);};function xA(aC){var dX=new IPCC.Web.UI.MarkEventArgs();dX.mark=aC;dX.zIndex=F.nR(aC);dX.length=1;F.af('markTextSelectionChanged',dX);};function Mp(aC,R){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=aC;dX.comment=R.comment;dX.index=R.index;F.af('commentAdded',dX);};function KP(aC,R){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=aC;dX.comment=R.comment;dX.index=R.index;F.af('commentRemoved',dX);};function KZ(aC,R){var dX=new IPCC.Web.UI.CommentEventArgs();dX.mark=aC;dX.comment=R.comment;dX.index=R.index;F.af('commentChanged',dX);};this.Pj=function(C,rg){rg=rg||{};var kh=this.nR(C);if(kh>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(C.eU()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bz.push(C);C.lT(this);C.add_propertyChanged(nq);C.add_markTextSelectionChanged(xA);C.vO(Mp);C.vj(KP);C.tk(KZ);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;if(C.get_type()===IPCC.Web.UI.MarkType.Highlight||C.get_type()===IPCC.Web.UI.MarkType.HighlightText||C.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||C.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||C.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU!==undefined)){this.acJ(C,0);}else{R.zIndex=bz.length-1;}R.clientX=rg.clientX;R.clientY=rg.clientY;R.length=1;F.af('markAdded',R);};this.BW=function(jA,cF){var Jm=[].concat(bz);var T;for(T=0;T<Jm.length;T++){jA.call(cF,Jm[T],T,this);}};this.Mw=function(kh){ajI(kh);return bz[kh];};this.nR=function(C){var T;for(T=0;T<bz.length;T++){if(bz[T]===C){return T;}}return-1;};this.axN=function(fA){var fh=JSON.parse(fA);this.abd();var Ih=[];var T;var NV=fh.m;if(NV){for(T=0;T<NV.length;T++){var ao=new IPCC.Web.UI.Mark(NV[T].t);ao.ayQ(NV[T]);ao.lT(this);ao.add_propertyChanged(nq);ao.add_markTextSelectionChanged(xA);Ih.push(ao);}}bz=Ih;F.af('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aqA=function(){var kU=new Array(36);var ak=0;var T;var aL;for(T=0;T<8;T++){kU[ak++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(T=0;T<3;T++){kU[ak++]=45;for(aL=0;aL<4;aL++){kU[ak++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}kU[ak++]=45;var apf=new Date().getTime();var avQ=("0000000"+apf.toString(16).toUpperCase()).substr(-8);for(T=0;T<8;T++){kU[ak++]=avQ.charCodeAt(T);}for(T=0;T<4;T++){kU[ak++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,kU);};function TJ(kJ){var bw=kJ.firstChild;while(bw.nodeType!==1){bw=bw.nextSibling;}return bw;};function ND(vr,akC,aDH){var aoQ=parseFloat(vr.getAttribute(akC));var anO=parseFloat(vr.getAttribute(akC+'Te'));return aDH/(aoQ/anO);};function auj(PK,bD,bf){if(bD<=0&&bf<=0){return 1;}var amw=PK.getAttribute('pageWidth');var alP=PK.getAttribute('pageHeight');var Qn,Tw,bp,vr,T;if(amw&&alP){Qn=parseFloat(amw);Tw=parseFloat(alP);if(isFinite(Qn)&&isFinite(Tw)&&Qn>0&&Tw>0){return bD/Qn;}}for(T=0;T<PK.childNodes.length;T++){vr=PK.childNodes[T];if(vr.nodeName!=='annotation'){continue;}bp=ND(vr,'width',bD);if(isFinite(bp)&&bp>0){return bp;}bp=ND(vr,'height',bf);if(isFinite(bp)&&bp>0){return bp;}bp=ND(vr,'x',bD);if(isFinite(bp)&&bp>0){return bp;}bp=ND(vr,'y',bf);if(isFinite(bp)&&bp>0){return bp;}}return 1;};this.azc=function(jY,bL,bD,bf,aaJ,stampImages,xF,uc){var F=this;if(xF!==true){this.abd();}if(jY){var jU;if(IPCC.wQ.Jz()){jU=jY.firstChild;}else{var SY=jY.firstChild.nodeName;if(SY.toLowerCase()==='xml'){jU=jY.firstChild.nextSibling;}else{jU=jY.firstChild;}}var dH=TJ(jU);if(dH.nodeName!=='pages'){throw 'ERROR: pages';}if(dH.hasChildNodes()){var T;for(T=0;T<dH.childNodes.length;T++){var aw=dH.childNodes[T];if(aw.nodeName!=='page'){continue;}var zt=aw.getAttribute('id');var mw=false;var tw;var qG='';var Hz=[];var jy;var oJ,bO=0;var bZ,cK,aS;if(aaJ){var adS=aw.getAttribute('pageWidth'),acs=aw.getAttribute('pageHeight');if(adS){aaJ.abJ(adS);}if(acs){aaJ.abr(acs);}}var oE=[],My={},bm;if((zt&&parseInt(zt,10))===(bL+1)){mw=true;var Ih=[];var aL;var ao;var ib,gh,pP,rM,rG,ed;var mX=1;var akH=auj(aw,bD,bf);if(akH>0){mX=akH;}for(aL=0;aL<aw.childNodes.length;aL++){var ay=aw.childNodes[aL];if(ay.nodeName!=='annotation'){continue;}var ix=parseFloat(ay.getAttribute('width'))*mX;var jd=parseFloat(ay.getAttribute('height'))*mX;var hx=parseFloat(ay.getAttribute('x'))*mX;var fR=parseFloat(ay.getAttribute('y'))*mX;var aaR=ay.getAttribute('fillColor'),SO,qu,abF=ay.getAttribute('lineColor'),akw,iz,aeR=ay.getAttribute('fontColor'),alB,ya;if(aaR==='transparent'){SO=qu=aaR;}else{SO=parseInt(aaR||0,10);qu=parseInt(SO,10).toString(16);while(qu.length<6){qu='0'+qu;}qu='#'+qu;}if(abF==='transparent'){iz=abF;}else{akw=parseInt(abF||0,10);iz=parseInt(akw,10).toString(16);while(iz.length<6){iz='0'+iz;}iz='#'+iz;}if(aeR){alB=parseInt(aeR||0,10);ya=parseInt(alB,10).toString(16);while(ya.length<6){ya='0'+ya;}ya='#'+ya;}var aoV=ay.getAttribute('stampSize');var QP=ay.getAttribute('dragDirection');var GR=parseInt(ay.getAttribute('opacity'),10);if(isNaN(GR)){GR=255;}if(ay.nodeName==='annotation'){var akf=ay.getAttribute('label');if(!akf){akf='';}var kj=ay.getAttribute('drawType');var la;switch(kj){case 'imagestamp':case 'imagestamp_redact':var qS=ay.getAttribute('imageStampId');var bK=(kj==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;ao=new IPCC.Web.UI.Mark(bK);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_image(stampImages[qS].base64format);ao.qS=qS;ib=true;if(kj==='imagestamp_redact'){ao.jO(true);}break;case 'circle':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ib=true;ao.set_lineColor(iz);ao.set_fillVisible(false);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ib=true;ao.set_fillColor(qu);ao.set_lineColor(iz);ao.set_fillVisible(true);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));break;case 'text':case 'text_redact':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fontName('verdana');ao.set_fontSize(10);ao.set_opacity(0);tw=undefined;ao.set_fillColor('#000000');if(kj==='text_redact'){ao.jO(true);}if(kj==='text'){ao.set_fillColor(qu);ao.set_lineColor(iz);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));ao.set_fillVisible(true);ao.set_opacity(GR);}ed=parseInt(ay.getAttribute('maxLength'));if(!isNaN(ed)){ao.set_maxLength(ed);}oE=[];gh=ay.firstChild;while((gh)&&(gh.nodeType!==4)){gh=gh.nextSibling;}if((gh)&&(gh.nodeType===4)){la=gh.innerText||gh.textContent||gh.data;ao.al.bx=la;oJ=la.split("</TEXTFORMAT>");qG='';Hz=[];for(bO=0;bO<oJ.length;bO++){if(oJ[bO].match(/<TEXTFORMAT/)){oJ[bO]=oJ[bO]+"</TEXTFORMAT>";oE.push(oJ[bO]);}}for(bO=0;bO<oE.length;bO++){if(oE[bO].match(/<P/)){tw=this.aiv(oE[bO]);Hz.push(tw);qG+=tw+" ";if(bO===0){jy=this.aia(oE[bO]);ajy(jy,ao);}}qG=qG.replace(/\s+$/g,"");ao.set_text(qG);var JG=this.ajf(oE[bO]);switch(JG){case 'CENTER':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bn=ao.pH();if(QP==='br'){bn.setPoint(1,new IPCC.Web.UI.Point(hx+ix,fR+jd));bn.setPoint(0,new IPCC.Web.UI.Point(hx,fR));}else if(QP==='bl'){bn.setPoint(1,new IPCC.Web.UI.Point(hx,fR+jd));bn.setPoint(0,new IPCC.Web.UI.Point(hx+ix,fR));}else if(QP==='tr'){bn.setPoint(1,new IPCC.Web.UI.Point(hx+ix,fR));bn.setPoint(0,new IPCC.Web.UI.Point(hx,fR+jd));}else if(QP==='tl'){bn.setPoint(1,new IPCC.Web.UI.Point(hx,fR));bn.setPoint(0,new IPCC.Web.UI.Point(hx+ix,fR+jd));}ao.set_lineColor(iz);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));if(kj==='arrow'){ao.set_headFillColor(iz);ao.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);ao.set_startHeadAngle(30);ao.set_startHeadLength(35);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fillColor(iz);if(kj==='stamp_redact'){ao.jO(true);ao.set_fillColor('#000000');}gh=ay.firstChild;while((gh)&&(gh.nodeType!==4)){gh=gh.nextSibling;}if((gh)&&(gh.nodeType===4)){la=gh.innerText||gh.textContent||gh.data;ao.al.bx=la;ao.set_text(la);}break;case 'highlightText':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fillColor(iz);ao.bU=ay.getAttribute('highlightGroupID');if(ay.getAttribute('textLength')){ao.bZ=parseInt(ay.getAttribute('textLength'),10);}ao.cK=ay.getAttribute('selectedText');if(ay.getAttribute('startIndex')){ao.aS=parseInt(ay.getAttribute('startIndex'),10);}ao.ja=ay.getAttribute('isHighlight');ao.set_opacity(127);bm=aaL(ay,mX);if(bm){ao.bm=bm;}break;case 'rectangle_filled_redact':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fillColor(qu||'#000000');ao.set_lineColor(iz);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));ao.set_textColor(ya||'#ffffff');ao.set_fillVisible(true);ao.jO(true);pP=ay.getAttribute('highlightGroupID');ao.set_text(IPCC.K.wL(ay.getAttribute('meta')));if(pP){ao.set_lineWidth(0);ao.bU=pP;var ew=My[pP];if(!ew){ew=My[pP]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ew.bU=pP;ew.set_rectangle(ao.get_rectangle());ew.jO(true);ew.set_text(IPCC.K.wL(ay.getAttribute('meta')));}else{var Hv=false;var qP=ew.get_rectangle();var jq=qP.x,jb=qP.x+qP.width,_top=qP.y,kg=qP.y+qP.height;if(qP.x>hx){Hv=true;jq=hx;}if(qP.y>fR){Hv=true;_top=fR;}if(qP.x+qP.width<hx+ix){Hv=true;jb=hx+ix;}if(qP.y+qP.height<fR+jd){Hv=true;kg=fR+jd;}if(Hv===true){ew.set_rectangle({x:jq,y:_top,width:jb-jq,height:kg-_top});}}}break;case 'text_selection_redaction':pP=ay.getAttribute('highlightGroupID');ao=My[pP];if(!ao){ao=My[pP]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ao.bU=pP;ao.set_rectangle({x:0,y:0,width:0,height:0});ao.jO(true);ao.set_text(ay.getAttribute('meta'));}bZ=ay.getAttribute('textLength');if(bZ){ao.bZ=parseInt(bZ,10);}cK=ay.getAttribute('selectedText');if(cK){ao.cK=cK;}aS=ay.getAttribute('startIndex');if(aS){ao.aS=parseInt(aS,10);}break;case 'text_hyperlink_annotation':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);ao.set_fillColor(iz);pP=ay.getAttribute('highlightGroupID');ao.bU=pP;var jN=ay.getAttribute('href');if(jN){ao.set_href(IPCC.K.wL(jN));}bZ=ay.getAttribute('textLength');if(bZ){ao.bZ=parseInt(bZ,10);}cK=ay.getAttribute('selectedText');if(cK){ao.cK=cK;}aS=ay.getAttribute('startIndex');if(aS){ao.aS=parseInt(aS,10);}var ja=ay.getAttribute('isHighlight');ao.ja=ja?ja:'n';ao.bm=aaL(ay,mX);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});break;case 'rectangle':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_lineVisible(true);ao.set_lineColor(iz);ao.set_fillVisible(false);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));break;case 'rectangle_filled':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fillColor(qu);ao.set_lineColor(iz);ao.set_fillVisible(true);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fillColor(qu);ao.set_lineColor(iz);ao.set_fillVisible(true);if(kj==='rectangle_trans_redact'){ao.jO(true);}ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kj==='freehand'){ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(ay.getAttribute('align').toUpperCase()){case 'LEFT':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_pathWidth(parseFloat(ay.getAttribute('pathWidth')));ao.set_pathHeight(parseFloat(ay.getAttribute('pathHeight')));ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));ao.set_lineColor(iz);var ty=ay.firstChild;while((ty)&&(ty.nodeType!==4)){ty=ty.nextSibling;}if((ty)&&(ty.nodeType===4)){la=ty.innerText||ty.textContent||ty.data;ao.al.bx=la;ao.set_pathString(la);}break;case 'signature_text':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fontSize(10);ao.set_lineWidth=0;ao.set_fillVisible(true);ao.set_opacity(1);gh=ay.firstChild;this.Vm(gh,ao);ao.xQ=parseFloat(ay.getAttribute('fontWidth'));ao.yi=parseFloat(ay.getAttribute('fontHeight'));break;case 'text_area_signature':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_fontName('verdana');tw=undefined;ed=parseInt(ay.getAttribute('maxLength'));if(!isNaN(ed)){ao.set_maxLength(ed);}var iq=parseInt(ay.getAttribute('maxFontSize'));if(!isNaN(iq)){ao.set_maxFontSize(iq);}gh=ay.firstChild;this.Vm(gh,ao);break;case 'text_input_signature':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});gh=ay.firstChild;this.Vm(gh,ao);ao.xQ=parseFloat(ay.getAttribute('fontWidth'));ao.yi=parseFloat(ay.getAttribute('fontHeight'));ao.set_lineVisible(false);ed=parseInt(ay.getAttribute('maxLength'));if(!isNaN(ed)){ao.set_maxLength(ed);}asA(ay,ao);break;case 'polyline':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));ao.set_lineColor(iz);var tJ=ay.firstChild;while((tJ)&&(tJ.nodeType!==4)){tJ=tJ.nextSibling;}var FG;if((tJ)&&(tJ.nodeType===4)){la=tJ.innerText||tJ.textContent||tJ.data;if(la&&la!=='undefined'){FG=JSON.parse(la);bn=ao.pH();if(FG){for(T=0;T<FG.length;T++){bn.addPoint(new IPCC.Web.UI.Point(FG[T].x*mX,FG[T].y*mX));}}}}break;case 'strikethrough':ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);ao.set_rectangle({x:hx,y:fR,width:ix,height:jd});ao.set_lineWidth(parseFloat(ay.getAttribute('lineWidth')));ao.set_lineColor(iz);ao.bU=ay.getAttribute('highlightGroupID');var textLength=ay.getAttribute('textLength');if(textLength){ao.bZ=parseInt(textLength,10);}ao.cK=ay.getAttribute('selectedText');var startIndex=ay.getAttribute('startIndex');if(startIndex){ao.aS=parseInt(startIndex,10);}ao.ja=ay.getAttribute('isHighlight');bm=aaL(ay,mX);if(bm){ao.bm=bm;}break;default:}if(ao){ao.al.jw=ay.getAttribute('nodeId');if(GR>=0&&(kj==='rectangle_trans_redact'|| !ao.iI())&&kj!=='stamp'&&kj!=='imagestamp'&&kj!=='imagestamp_redact'&&kj!=='text_hyperlink_annotation'&&kj!=='text_input_signature'&&kj!=='text_area_signature'&&kj!=='strikethrough'){ao.set_opacity(GR);}ao.al.Cu=aoV;ao.al.aHt=kj;ao.al.fz=ay.getAttribute('lineWidth');ao.al.ey=ay.getAttribute('fillColor');ao.al.kv=ay.getAttribute('lineColor');ao.al.aJV=ay.getAttribute('dragDirection');ao.al.zt=zt;ao.al.bw=ay.getAttribute('x');ao.al.dc=ay.getAttribute('y');ao.al.aT=ay.getAttribute('height');ao.al.ab=ay.getAttribute('width');ao.al.aFx=ay.getAttribute('x_percent');ao.al.aHp=ay.getAttribute('y_percent');ao.al.aIB=ay.getAttribute('height_percent');ao.al.aIp=ay.getAttribute('width_percent');ao.al.aHY=ay.getAttribute('formUser');ao.al.aGu=ay.getAttribute('created');ao.al.aHa=ay.getAttribute('modified');ao.al.aIn=ay.getAttribute('saveDate');ao.al.aGQ=ay.getAttribute('saveTime');ao.al.ka=ay.getAttribute('meta');var Au=ay.firstChild;while((Au)&&(Au.nodeType!==4)){Au=Au.nextSibling;}if((Au)&&(Au.nodeType===4)){ao.cf.push(Au.data);}else{ao.cf.push('');}var mP=parseInt(ay.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;ao.set_interactionMode(mP);ao.lT(this);ao.add_propertyChanged(nq);ao.add_markTextSelectionChanged(xA);ao.vO(Mp);ao.vj(KP);ao.tk(KZ);Ih.push(ao);asJ(ay,ao);rM=IPCC.K.aeO(ay.getAttribute('created'));rG=IPCC.K.aeO(ay.getAttribute('modified'));rM=rM||new Date();rG=rG||new Date();ao.initializeDates(rM,rG);if(uc){ao.set_visible(false);}}}}bz=bz.concat(Ih);F.af('marksLoaded',{});}if(mw){arU(jY,bL);break;}}}}};this.Vm=function(wq,ao){var T,la,oJ,qG,Hz,tw,oE=[],zg=ao.get_type()===IPCC.Web.UI.MarkType.SignatureText,aDw=zg?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,jy;while((wq)&&(wq.nodeType!==4)){wq=wq.nextSibling;}if((wq)&&(wq.nodeType===4)){la=wq.innerText||wq.textContent||wq.data;ao.al.bx=la;oJ=la.split("</TEXTFORMAT>");for(T=0;T<oJ.length;T++){if(oJ[T].match(/<TEXTFORMAT/)){oJ[T]=oJ[T]+"</TEXTFORMAT>";oE.push(oJ[T]);}}qG='';Hz=[];for(T=0;T<oE.length;T++){if(oE[T].match(/<P/)){tw=this.aiv(oE[T]);Hz.push(tw);qG+=tw+" ";if(T===0){jy=this.aia(oE[T]);ajy(jy,ao);}}qG=qG.replace(/\s+$/g,"");ao.set_text(qG);var JG=this.ajf(oE[T]);switch(JG){case 'LEFT':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ao.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ao.set_textHorizontalAlignment(aDw);break;}}}};function aaB(ahn,dk){for(var i=0;i<ahn.childNodes.length;i++){var abL=ahn.childNodes[i];if(abL.nodeName==='kvp'){var by=abL.getAttribute("key");var h=abL.getAttribute("value");dk.set_data(by,h);}}};function asL(Oj,cX){var dJ=new IPCC.Web.UI.Comment(IPCC.K.wL(Oj.getAttribute("text")));dJ.set_creationTime(Oj.getAttribute("created"));cX.addComment(dJ);for(var i=0;i<Oj.childNodes.length;i++){var ako=Oj.childNodes[i];if(ako.nodeName==='data'){aaB(ako,dJ.get_data());}}};function ask(ake,cX){for(var i=0;i<ake.childNodes.length;i++){var MJ=ake.childNodes[i];if(MJ.nodeName==='comments'){var fQ=MJ;for(var j=0;j<fQ.childNodes.length;j++){var akJ=fQ.childNodes[j];if(akJ.nodeName==='comment'){asL(akJ,cX);}}}else if(MJ.nodeName==='data'){aaB(MJ,cX.get_data());}}};function asJ(Ia,C){for(var i=0;i<Ia.childNodes.length;i++){var vS=Ia.childNodes[i];if(vS.nodeName==='conversation'){ask(vS,C.get_conversation());}else if(vS.nodeName==='data'){aaB(vS,C.get_data());}}};function asA(Ia,C){var h=null,Kp={};for(var i=0;i<Ia.childNodes.length;i++){var vS=Ia.childNodes[i];if(vS.nodeName==='inputMask'){h=IPCC.K.wL(vS.getAttribute('value'));for(var j=0;j<vS.childNodes.length;j++){var YR=vS.childNodes[j];if(YR.nodeName==='translation'){Kp[IPCC.K.wL(YR.getAttribute('key'))]=new RegExp(IPCC.K.wL(YR.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(h!==null){C.set_mask({value:h,translations:Kp});}};function aaL(ru,wp){var gu=null,iH;for(var i=0;i<ru.childNodes.length;i++){iH=ru.childNodes[i];if(iH.nodeName==='line-rectangles'){if(!gu){gu=asu(iH,wp);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return gu;};function asu(ru,wp){var gu=[],iH;for(var i=0;i<ru.childNodes.length;i++){iH=ru.childNodes[i];if(iH.nodeName==='rectangle'){gu.push(arx(iH,wp));}}return gu;};function arx(ru,wp){var bw=parseFloat(ru.getAttribute("x"))*wp;var dc=parseFloat(ru.getAttribute("y"))*wp;var ab=parseFloat(ru.getAttribute("width"))*wp;var aT=parseFloat(ru.getAttribute("height"))*wp;return new IPCC.Web.UI.Rectangle(bw,dc,ab,aT);};this.XD=function(aW,Hj,uY,iP,cQ,ak){var ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ao.set_rectangle({x:aW.x,y:aW.y,width:aW.width,height:aW.height});ao.set_fillColor(uY);ao.set_fillVisible(true);ao.aS=ak;ao.bZ=1;if(cQ){ao.set_opacity(cQ);}else{ao.set_opacity(127);}F.addMark(ao);return ao;};this.aDF=function(aW,US,ak){var ao=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ao.set_rectangle({x:aW.x,y:aW.y,width:aW.width,height:aW.height});ao.set_fillColor(US.get_fillColor());ao.set_fillVisible(true);ao.aS=ak;ao.bZ=1;if(US.get_opacity()){ao.set_opacity(US.get_opacity());}else{ao.set_opacity(127);}F.addMark(ao);return ao;};function ajy(jy,ao){for(var dE=0;dE<jy.length;dE++){var cz=jy[dE].attribs;var mw=false;if(jy[dE].attribs.length>1&& !mw&&jy[dE].Hs==='font'){mw=true;for(var aL=0;aL<cz.length;aL++){if(cz[aL].am==="FACE"){ao.set_fontName(cz[aL].h);}else if(cz[aL].am==="SIZE"&&ao.get_type()!==IPCC.Web.UI.MarkType.TextLine&&ao.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var tf=parseFloat(cz[aL].h);ao.set_fontSize(tf);}else if(cz[aL].am==="COLOR"){var aka=cz[aL].h;if(ao.get_type()===IPCC.Web.UI.MarkType.SignatureText){ao.set_fillColor(aka);}else{ao.set_textColor(aka);}}}var kq=false;if(jy[dE+1]&&ao.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(jy[dE+1].tagName==='font'){break;}else{var wd=jy[dE+1].Hs;if(wd==='b'||wd==='i'||wd==='u'||wd==='s'){if(wd==='b'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wd==='i'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wd==='u'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wd==='s'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kq=true;}}if(jy[dE+2]){var aqF=jy[dE+2].Hs;kq=UJ(ao,kq,aqF);}if(jy[dE+3]){var aql=jy[dE+3].Hs;kq=UJ(ao,kq,aql);}if(jy[dE+4]){var apv=jy[dE+4].Hs;kq=UJ(ao,kq,apv);}if(mw){break;}}}}};function UJ(C,amh,wv){var kq=amh;var ao=C;if(amh){if(wv==='b'){ao.set_fontStyle(ao.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kq=true;}else if(wv==='i'){ao.set_fontStyle(ao.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kq=true;}else if(wv==='u'){ao.set_fontStyle(ao.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kq=true;}else if(wv==='s'){ao.set_fontStyle(ao.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kq=true;}}else{if(wv==='b'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kq=true;}else if(wv==='i'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kq=true;}else if(wv==='u'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kq=true;}else if(wv==='s'){ao.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kq=true;}}return kq;};function Cs(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var abi=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,afW=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,apb=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aBm=Cs("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var po=Cs("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var azi=Cs("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var asi=Cs("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aGE=Cs("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aDM=Cs("script,style");this.ahP=function(html,handler){var ak,wM,vd,nb=[],jc=html;function parseEndTag(tag,tagName){var gM;if(!tagName){gM=0;}else{for(gM=nb.length-1;gM>=0;gM--){if(nb[gM]===tagName){break;}}}if(gM>=0){for(var i=nb.length-1;i>=gM;i--){if(handler.end){handler.end(nb[i]);}}nb.length=gM;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(po[tagName]){while(nb.last()&&azi[nb.last()]){parseEndTag("",nb.last());}}if(asi[tagName]&&nb.last()===tagName){parseEndTag("",tagName);}unary=aBm[tagName]|| ! !unary;if(!unary){nb.push(tagName);}if(handler.start){var attrs=[];rest.replace(apb,function(vd,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aGE[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};nb.last=function(){return this[this.length-1];};function awa(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){wM=true;if(!nb.last()|| !aDM[nb.last()]){if(html.indexOf("<!--")===0){ak=html.indexOf("-->");if(ak>=0){if(handler.comment){handler.comment(html.substring(4,ak));}html=html.substring(ak+3);wM=false;}}else if(html.indexOf("</")===0){vd=html.match(afW);if(vd){html=html.substring(vd[0].length);vd[0].replace(afW,parseEndTag);wM=false;}}else if(html.indexOf("<")===0){vd=html.match(abi);if(vd){html=html.substring(vd[0].length);vd[0].replace(abi,parseStartTag);wM=false;}}if(wM){ak=html.indexOf("<");var text=ak<0?html:html.substring(0,ak);text=IPCC.K.wL(text);html=ak<0?"":html.substring(ak);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+nb.last()+"[^>]*>"),awa);parseEndTag("",nb.last());}if(html===jc){throw " Parse Error in annotation Html Text: "+html;}jc=html;}parseEndTag();};this.aiv=function(html){var results="";this.ahP(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aia=function(html){var ec=[];this.ahP(html,{start:function(tag,attrs){var dU;dU=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xw={};xw.Hs=tag;xw.attribs=[];if(tag==='b'){xw.aFS=true;}else if(tag==='i'){xw.aFV=true;}else if(tag==='u'){xw.aEP=true;}else if(tag==='s'){xw.aFi=true;}else{for(var i=0;i<attrs.length;i++){var CO={};CO.am=attrs[i].name;CO.h=attrs[i].value;xw.attribs.push(CO);}}ec.push(xw);}},end:function(){},chars:function(){},comment:function(){}});return ec;};this.ajf=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function arU(jY,auX){var lz=jY.getElementsByTagName("highlights")[0];if(lz.hasChildNodes()){var ke;var cN;for(var T=0;T<lz.childNodes.length;T++){ke=lz.childNodes[T];if(ke.nodeType===1){cN=ke.getAttribute('page');if(cN&&parseInt(cN,10)===auX+1){var iG=new IPCC.Web.UI.abD();iG.aBu=ke.nodeName;switch(iG.aBu){case 'tag':iG.FZ=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':iG.FZ=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':iG.FZ=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':iG.FZ=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':iG.FZ=IPCC.Web.UI.HighLightType.Strikethrough;break;default:iG.FZ=undefined;}if(ke.childNodes[0].data){iG.cf.push(ke.childNodes[0].data);}iG.al.ds=ke.getAttribute('id');iG.al.aHz=ke.getAttribute('userid');iG.al.aFt=ke.getAttribute('mode');iG.al.dK=ke.getAttribute('color');iG.al.aJU=ke.getAttribute('occurence');iG.al.ay=ke.getAttribute('annotation');iG.al.aw=ke.getAttribute('page');iG.al.aHU=ke.getAttribute('documentname');iG.al.aGY=ke.getAttribute('tooltip');iG.al.aET=ke.getAttribute('allowdelete');iG.al.nQ=ke.getAttribute('start');iG.al.aGF=ke.getAttribute('end');F.aCE.push(iG);}}}}};this.abd=function(){var R;if(bz.length<1){return;}fD.removeAllMarks();var T;for(T=bz.length-1;T>=0;T--){bz[T].remove_propertyChanged(nq);bz[T].remove_markTextSelectionChanged(xA);bz[T].lT(null);R=new IPCC.Web.UI.MarkEventArgs();R.length=bz.length;R.zIndex=0;R.mark=bz.pop();F.af('markRemoved',R);}R=new IPCC.Web.UI.MarkEventArgs();R.length=bz.length;R.zIndex=0;F.af('markRemoved',R);};this.tm=function(C){var kh=this.nR(C);var uE=C.bU;if(kh>=0){C.remove_propertyChanged(nq);C.remove_markTextSelectionChanged(xA);C.lT(null);bz.splice(kh,1);fD.removeMark(C);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;R.zIndex=kh;R.length=1;F.af('markRemoved',R);if(uE){this.aEj(uE);}}};this.aHi=function(pw){var tM=bz.length;var uE=pw.bU;while(tM--){var C=bz[tM];if(C.bU===uE){C.set_fillColor(pw.get_fillColor());}}};this.ays=function(pw){var tM=bz.length;var uE=pw.bU;if(!uE){pw.set_text(pw.get_text());return;}while(tM--){var C=bz[tM];if(C.bU===uE){if(C.get_text()!==pw.get_text()){C.set_text(pw.get_text());}if(C.get_fontName()!==pw.get_fontName()){C.set_fontName(pw.get_fontName());}if(C.get_fontSize()!==pw.get_fontSize()){C.set_fontSize(pw.get_fontSize());}}}};this.aEj=function(uE){var tM=bz.length;while(tM--){var C=bz[tM];if(C.bU===uE){var kh=this.nR(C);fD.removeMark(C);bz.splice(tM,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;R.zIndex=kh;R.length=1;}}};this.acJ=function(C,kh){var Pn=this.nR(C);if(Pn<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Pn===kh){return;}ajI(kh);bz.splice(Pn,1);bz.splice(kh,0,C);if(C.get_type()===IPCC.Web.UI.MarkType.Highlight||C.get_type()===IPCC.Web.UI.MarkType.HighlightText||C.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||C.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||C.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(C.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&C.bU!==undefined)){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;R.zIndex=kh;R.oldZIndex=Pn;R.length=1;F.af('markReordered',R);};function Wu(gu,fJ,fL){if(!gu){return undefined;}var kd={hv:'line-rectangles',cf:[],al:{}};IPCC.K.forEach(gu,function(G){kd.cf.push({hv:'rectangle',cf:[],al:{x:G.x,y:G.y,height:G.height,width:G.width}});});return kd;};function awO(ju){if(!ju){return undefined;}var kd={hv:'inputMask',cf:[],al:{value:IPCC.K.pB(ju.value)}};IPCC.K.forEach(ju.translations,function(h,by){kd.cf.push({hv:'translation',cf:[],al:{key:IPCC.K.pB(by),value:IPCC.K.pB(h.toString())}});});return kd;};function Wa(dk){if(!dk){return undefined;}var na=dk.get_dataKeys();if(na.length===0){return undefined;}var kd={hv:'data',cf:[],al:{}};IPCC.K.forEach(na,function(by){var h=dk.get_data(by);kd.cf.push({hv:'kvp',cf:[],al:{key:by,value:h}});});return kd;};function atq(dJ){if(!dJ){return undefined;}var yl={hv:'comment',cf:[],al:{}};yl.al.text=IPCC.K.pB(dJ.get_text());yl.al.created=dJ.get_creationTime();var kd=Wa(dJ.get_data());if(kd){yl.cf.push(kd);}return yl;};function atp(cX){if(!cX||cX.get_length()===0){return undefined;}var Uh={hv:'conversation',cf:[],al:{}};var aeD={hv:'comments',cf:[],al:{}};Uh.cf.push(aeD);cX.forEach(function(dJ){var yl=atq(dJ);if(yl){aeD.cf.push(yl);}});var kd=Wa(cX.get_data());if(kd){Uh.cf.push(kd);}return Uh;};this.apM=function(C,fJ,fL,tu){var bK=C.get_type();var kn=false;var jm;var gg;var ahw;var Zc;var gY,rN,rd,bx;var bi={hv:'annotation',cf:[],al:{}};if(!C.al.jw){bi.al.nodeId=F.aqA();}else{bi.al.nodeId=C.al.jw;}var Ig,En="",oe="";if(C.get_lineColor()){var Zd=C.get_lineColor();if(Zd==='transparent'){bi.al.lineColor=Zd;}else{Ig=Zd.replace(/#/,"");En=parseInt(Ig,16);oe=En.toString();bi.al.lineColor=oe;}}bi.al.interactionMode=C.get_interactionMode();bi.al.stampSize='122';var Sk={};Sk[IPCC.Web.UI.MarkType.Stamp]=true;Sk[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Sk[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bK===IPCC.Web.UI.MarkType.Rectangle&&C.get_opacity()<255|| !C.iI())&&Sk[bK]!==true){bi.al.opacity=C.get_opacity();}if(C.get_conversation().get_length()>0){bi.cf.push(atp(C.get_conversation()));}var kd=Wa(C.get_data());if(kd){bi.cf.push(kd);}kn=false;switch(bK){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:gg=C.get_fillColor();if(gg==='transparent'){bi.al.fillColor=gg;}else if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}if(C.get_fillVisible()){if(C.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(C.get_opacity()===255){if(C.iI()===true){bi.al.drawType='rectangle_filled_redact';if(C.bU){bi.al.highlightGroupID=C.bU;}}else{bi.al.drawType='rectangle_filled';}}else{if(C.iI()===true){bi.al.drawType='rectangle_trans_redact';}else{bi.al.drawType='rectangle_trans';}}}else{if(C.get_opacity()===255){bi.al.drawType='circle_filled';if(C.iI()){bi.al.drawType='circle_filled_redact';}}else{bi.al.drawType='circle_trans';if(C.iI()){bi.al.drawType='circle_trans_redact';}}}}else{if(C.get_type()===IPCC.Web.UI.MarkType.Rectangle){bi.al.drawType='rectangle';bi.al.fillColor=oe;}else{bi.al.drawType='circle';bi.al.fillColor=oe;}}bi.al.dragDirection='br';var G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bi.al.lineWidth=C.get_lineWidth();kn=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bi.al.highlightGroupID=C.bU;bi.al.drawType='text_selection_redaction';if(C.cK&&C.cK.length>0){bi.al.startIndex=C.aS;bi.al.selectedText=C.cK;bi.al.textLength=C.bZ;}break;case IPCC.Web.UI.MarkType.Text:var kp=C.get_rectangle();bi.al.x=kp.x;bi.al.y=kp.y;bi.al.x_percent=kp.x/fJ;bi.al.y_percent=kp.y/fL;bi.al.height_percent=kp.height/fL;bi.al.width_percent=kp.width/fJ;bi.al.height=kp.height;bi.al.width=kp.width;bi.al.maxLength=C.get_maxLength();gg=C.get_fillColor();if(C.iI()===true){bi.al.drawType='text_redact';}else{bi.al.drawType='text';bi.al.opacity=C.get_opacity();}if(gg==='transparent'){bi.al.fillColor=gg;}else if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();}else{bi.al.fillColor='16776960';}var bH='';bH="<TEXTFORMAT LEADING=\"2\">";switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bH+="<P ALIGN=\"right\" ";break;}bH+=">";bH+="<FONT ";rN=C.get_fontName();bH+="FACE="+"\""+rN+"\" ";rd=C.get_fontSize().toString();bH+="SIZE= \""+rd+"\" ";gY="\""+C.get_textColor()+"\" ";bH+="COLOR="+gY+" ";bH+="LETTERSPACING=\"0\" ";bH+="KERNING=\"0\" ";bH+=">";var cj=C.get_fontStyle();if(cj&IPCC.Web.UI.FontStyle.Bold){bH+="<B>";}if(cj&IPCC.Web.UI.FontStyle.Italic){bH+="<I>";}if(cj&IPCC.Web.UI.FontStyle.Underline){bH+="<U>";}if(cj&IPCC.Web.UI.FontStyle.Strikeout){bH+="<S>";}bx=C.get_text();bx=IPCC.K.pB(bx);bH+=bx;if(cj&IPCC.Web.UI.FontStyle.Strikeout){bH+="</S>";}if(cj&IPCC.Web.UI.FontStyle.Underline){bH+="</U>";}if(cj&IPCC.Web.UI.FontStyle.Italic){bH+="</I>";}if(cj&IPCC.Web.UI.FontStyle.Bold){bH+="</B>";}bH+="</FONT>";bH+="</P>";bH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;bi.al.drawType='highlight';bi.al.highlightGroupID=C.bU;bi.al.isHighlight=C.ja;gg=C.get_fillColor();if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();bi.al.lineColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.height=G.height;bi.al.width=G.width;bi.al.drawType='text_hyperlink_annotation';bi.al.href=IPCC.K.pB(C.jN);bi.al.startIndex=C.aS;bi.al.selectedText=C.cK;bi.al.textLength=C.bZ;bi.al.highlightGroupID=C.bU;bi.al.isHighlight=C.ja;gg=C.get_fillColor();if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();bi.al.lineColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}bi.cf.push(Wu(C.bm,fJ,fL));break;case IPCC.Web.UI.MarkType.HighlightText:G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;bi.al.drawType='highlightText';bi.al.startIndex=C.aS;bi.al.selectedText=C.cK;bi.al.textLength=C.bZ;bi.al.highlightGroupID=C.bU;bi.al.isHighlight=C.ja;gg=C.get_fillColor();if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();bi.al.lineColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}bi.cf.push(Wu(C.bm,fJ,fL));break;case IPCC.Web.UI.MarkType.RectangleRedaction:G=C.get_rectangle();bi.al.drawType='rectangle_filled_redact';bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;bi.al.meta=IPCC.K.pB(C.get_text());bi.al.stampSize=C.get_fontSize();bi.al.lineWidth=C.get_lineWidth();gg=C.get_fillColor();if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}Ig=C.get_lineColor();if(Ig){En=Ig.replace(/#/,"");bi.al.lineColor=parseInt(En,16).toString();}else{bi.al.lineColor=oe;}Zc=C.get_textColor();if(Zc){ahw=Zc.replace(/#/,"");bi.al.fontColor=parseInt(ahw,16).toString();}else{bi.al.fontColor=oe;}if(C.bU){bi.al.highlightGroupID=C.bU;}break;case IPCC.Web.UI.MarkType.Stamp:gg=C.get_fillColor();if(gg){jm=gg.replace(/#/,"");bi.al.fillColor=parseInt(jm,16).toString();bi.al.lineColor=parseInt(jm,16).toString();}else{bi.al.fillColor=oe;}G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;if(C.iI()===true){bi.al.drawType='stamp_redact';}else{bi.al.drawType='stamp';}bx=C.get_text();bi.al.stampSize=C.stampSize;bi.cf.push('<![CDATA['+bx+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(C.get_type()===IPCC.Web.UI.MarkType.Freehand){bi.al.drawType='freehand';}else{bi.al.drawType='signature_path';switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bi.al.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bi.al.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bi.al.align='right';break;}}bH=C.get_pathString();bi.al.pathWidth=C.get_pathWidth();bi.al.pathHeight=C.get_pathHeight();G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;break;case IPCC.Web.UI.MarkType.SignatureText:gg=C.get_fillColor();var ey;if(gg){jm=gg.replace(/#/,"");bi.al.fillColor="";bi.al.lineColor="";ey=parseInt(jm,16).toString();}else{bi.al.fillColor="";ey=oe;}G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;bi.al.opacity=0;bi.al.drawType='signature_text';bi.al.stampSize=C.stampSize;bi.al.fontWidth=C.xQ;bi.al.fontHeight=C.yi;bH='';bH="<TEXTFORMAT LEADING=\"2\">";switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bH+="<P ALIGN=\"right\" ";break;}bH+=">";bH+="<FONT ";rN=C.get_fontName();bH+="FACE="+"\""+rN+"\" ";rd=C.stampSize.toString();bH+="SIZE= \""+rd+"\" ";gY="\""+C.get_fillColor()+"\" ";bH+="COLOR="+gY+" ";bH+="LETTERSPACING=\"0\" ";bH+="KERNING=\"0\" ";bH+=">";bx=IPCC.K.pB(C.get_text());bH+=bx;bH+="</FONT>";bH+="</P>";bH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:kp=C.get_rectangle();bi.al.x=kp.x;bi.al.y=kp.y;bi.al.x_percent=kp.x/fJ;bi.al.y_percent=kp.y/fL;bi.al.height_percent=kp.height/fL;bi.al.width_percent=kp.width/fJ;bi.al.height=kp.height;bi.al.width=kp.width;bi.al.maxLength=C.ed;bi.al.maxFontSize=C.iq;if(tu){bi.al.drawType='text';}else{bi.al.drawType='text_area_signature';}bi.al.fillColor='transparent';bH='';bH="<TEXTFORMAT LEADING=\"2\">";switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bH+="<P ALIGN=\"right\" ";break;}bH+=">";bH+="<FONT ";rN=C.get_fontName();bH+="FACE="+"\""+rN+"\" ";rd=C.ck.toString();bH+="SIZE= \""+rd+"\" ";gY="\""+C.get_textColor()+"\" ";bH+="COLOR="+gY+" ";bH+="LETTERSPACING=\"0\" ";bH+="KERNING=\"0\" ";bH+=">";cj=C.get_fontStyle();if(cj&IPCC.Web.UI.FontStyle.Bold){bH+="<B>";}if(cj&IPCC.Web.UI.FontStyle.Italic){bH+="<I>";}if(cj&IPCC.Web.UI.FontStyle.Underline){bH+="<U>";}if(cj&IPCC.Web.UI.FontStyle.Strikeout){bH+="<S>";}bx=C.get_text();bx=IPCC.K.pB(bx);bH+=bx;if(cj&IPCC.Web.UI.FontStyle.Strikeout){bH+="</S>";}if(cj&IPCC.Web.UI.FontStyle.Underline){bH+="</U>";}if(cj&IPCC.Web.UI.FontStyle.Italic){bH+="</I>";}if(cj&IPCC.Web.UI.FontStyle.Bold){bH+="</B>";}bH+="</FONT>";bH+="</P>";bH+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!tu){G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.maxLength=C.get_maxLength();bi.al.width_percent=G.width/fJ;bi.al.height=G.height;bi.al.width=G.width;bi.al.opacity=0;bi.al.drawType='text_input_signature';bi.al.stampSize=C.stampSize;bi.al.fontWidth=C.xQ;bi.al.fontHeight=C.yi;bH='';bH="<TEXTFORMAT LEADING=\"2\">";switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bH+="<P ALIGN=\"right\" ";break;}bH+=">";bH+="<FONT ";rN=C.get_fontName();bH+="FACE="+"\""+rN+"\" ";rd=C.stampSize.toString();bH+="SIZE= \""+rd+"\" ";gY="\""+C.get_textColor()+"\" ";bH+="COLOR="+gY+" ";bH+="LETTERSPACING=\"0\" ";bH+="KERNING=\"0\" ";bH+=">";bx=IPCC.K.pB(C.get_text());bH+=bx;bH+="</FONT>";bH+="</P>";bH+="</TEXTFORMAT>";var aek=awO(C.get_mask());if(aek){bi.cf.push(aek);}}else{G=C.get_rectangle();var EW=C.stampSize;var nB;if(!C.Iz|| !C.nB){var aou=IPCC.K.ajd(C.get_text(),C.get_fontName(),G.width,G.height,{uS:"pre",ck:EW+"px"});nB=aou;C.Iz=true;C.nB=nB;}else{nB=C.nB;}EW=nB.fontSize;var gZ=nB.width/G.width,co=1.0,MIN_BUFFER=0.85;if(/mono/i.test(C.get_fontName())){MIN_BUFFER=0.75;}if(gZ>MIN_BUFFER){co=MIN_BUFFER*G.width/nB.width;EW=EW*co;}var ajJ=G.width,aEV=nB.height*co,akP=G.height-(G.height-aEV)/2,alj=G.x,ajQ=G.y+(G.height-nB.height)/2+(nB.height*(1-co));bi.al.x=alj;bi.al.y=ajQ;bi.al.x_percent=alj/fJ;bi.al.y_percent=ajQ/fL;bi.al.height_percent=akP/fL;bi.al.width_percent=ajJ/fJ;bi.al.height=akP;bi.al.width=ajJ;bi.al.opacity=0;bi.al.drawType='text_redact';bH='';bH="<TEXTFORMAT>";switch(C.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bH+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bH+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bH+="<P ALIGN=\"right\" ";break;}bH+=">";bH+="<FONT ";rN=C.get_fontName();bH+="FACE="+"\""+rN+"\" ";if(C.aGd){rd=(EW/C.aGd).toString();}else{rd=EW.toString();}bH+="SIZE= \""+rd+"\" ";gY="\""+C.get_textColor()+"\" ";bH+="COLOR="+gY+" ";bH+="LETTERSPACING=\"0\" ";bH+="KERNING=\"0\" ";bH+=">";bx=IPCC.K.pB(C.get_text());bH+=bx;bH+="</FONT>";bH+="</P>";bH+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bi.al.drawType=(bK===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.height=G.height;bi.al.width=G.width;bi.al.lineWidth=C.get_lineWidth();bi.al.x_percent=G.x/fJ;bi.al.y_percent=G.y/fL;bi.al.height_percent=G.height/fL;bi.al.width_percent=G.width/fJ;bi.al.imageStampId=C.qS;break;case IPCC.Web.UI.MarkType.Strikethrough:G=C.get_rectangle();bi.al.x=G.x;bi.al.y=G.y;bi.al.height=G.height;bi.al.width=G.width;bi.al.drawType='strikethrough';bi.al.startIndex=C.aS;bi.al.selectedText=C.cK;bi.al.textLength=C.bZ;bi.al.highlightGroupID=C.bU;bi.al.isHighlight=C.ja;bi.cf.push(Wu(C.bm,fJ,fL));break;}if(kn){bi.al.lineWidth=C.get_lineWidth();var aW=C.get_boundingRectangle();bi.al.x=aW.x;bi.al.y=aW.y;bi.al.x_percent=aW.x/fJ;bi.al.y_percent=aW.y/fL;bi.al.height_percent=aW.height/fL;bi.al.width_percent=aW.width/fJ;bi.al.height=aW.height;bi.al.width=aW.width;if(bK===IPCC.Web.UI.MarkType.Line){if(C.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bi.al.drawType='line';}else{bi.al.drawType='arrow';}}else{bi.al.drawType='polyline';}bi.al.lineWidth=C.get_lineWidth();var bn=C.get_points();if(bK===IPCC.Web.UI.MarkType.Line){if((bn.getPoint(0).x<bn.getPoint(1).x)&&(bn.getPoint(0).y>bn.getPoint(1).y)){bi.al.dragDirection='tr';}else if((bn.getPoint(0).x>bn.getPoint(1).x)&&(bn.getPoint(0).y>bn.getPoint(1).y)){bi.al.dragDirection='tl';}else if((bn.getPoint(0).x>bn.getPoint(1).x)&&(bn.getPoint(0).y<bn.getPoint(1).y)){bi.al.dragDirection='bl';}else if((bn.getPoint(0).x<bn.getPoint(1).x)&&(bn.getPoint(0).y<bn.getPoint(1).y)){bi.al.dragDirection='br';}else{bi.al.dragDirection='br';}}else{var vT=[];var di=bn.get_length(),bF;if(di>1){for(var aL=0;aL<bn.get_length();aL++){bF=bn.getPoint(aL);vT.push({x:bF.x,y:bF.y});}bH=JSON.stringify(vT);}}if(En){bi.al.fillColor=En;}else{bi.al.fillColor="";}}else{bi.al.lineWidth=C.get_lineWidth();bi.al.dragDirection='br';}if(C.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bi.al.meta='';}bi.al.label='';var ff=new Date();bi.al.saveDate=IPCC.K.ayw(ff);bi.al.saveTime=IPCC.K.axW(ff);bi.al.uuid='';bi.al.formUser='';bi.al.created=IPCC.K.ajA(C.get_dateCreated());bi.al.modified=IPCC.K.ajA(C.get_dateModified());if(C.get_type()===IPCC.Web.UI.MarkType.Text||C.get_type()===IPCC.Web.UI.MarkType.Freehand||C.get_type()===IPCC.Web.UI.MarkType.SignaturePath||C.get_type()===IPCC.Web.UI.MarkType.SignatureText||C.get_type()===IPCC.Web.UI.MarkType.Polyline||C.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||C.get_type()===IPCC.Web.UI.MarkType.TextLine){bi.cf.push('<![CDATA['+bH+']]>');}else{bi.cf.push('');}return bi;};this.axn=function(bL,fJ,fL,bk){var jU={hv:'documentAnnotations',cf:[],al:{}};var dH={hv:'pages',cf:[],al:{}};jU.cf.push(dH);var lz={hv:'highlights',cf:[],al:{}};jU.cf.push(lz);var tK={},qd=[];var aw={hv:'page',cf:[],al:{id:(bL+1).toString(),pageWidth:fJ,pageHeight:fL}};dH.cf.push(aw);bk=bk||{};var aje=(bk.includeAnnotations!==undefined)? ! !bk.includeAnnotations:true,ajx=(bk.includeRedactions!==undefined)? ! !bk.includeRedactions:true,ail=(bk.includeSignatures!==undefined)? ! !bk.includeSignatures:false,tu=(bk.tu!==undefined)? ! !bk.tu:false,VV=(bk.EC!==undefined)?bk.EC:false,aGg= ! !tu,anj=VV?VV:bz;for(var T=0;T<anj.length;T++){var C=anj[T];var bK=C.get_type();if(C.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aGg&& !C.get_visible()){continue;}if(!VV){if(aje===false&&ajx===false&&ail===false){break;}if(aje===false){if(bK===IPCC.Web.UI.MarkType.Rectangle||bK===IPCC.Web.UI.MarkType.Ellipse||bK===IPCC.Web.UI.MarkType.Line||bK===IPCC.Web.UI.MarkType.Text||bK===IPCC.Web.UI.MarkType.Stamp||bK===IPCC.Web.UI.MarkType.Highlight||bK===IPCC.Web.UI.MarkType.Strikethrough||bK===IPCC.Web.UI.MarkType.HighlightText||bK===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bK===IPCC.Web.UI.MarkType.Freehand||bK===IPCC.Web.UI.MarkType.ImageStampAnnotation||bK===IPCC.Web.UI.MarkType.Polyline){if(C.iI()===false){continue;}}}if(ajx===false){if(C.iI()===true){continue;}if(bK===IPCC.Web.UI.MarkType.RectangleRedaction||bK===IPCC.Web.UI.MarkType.TextSelectionRedaction||bK===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(ail===false){if(bK===IPCC.Web.UI.MarkType.SignaturePath||bK===IPCC.Web.UI.MarkType.SignatureText||bK===IPCC.Web.UI.MarkType.SignatureImage||bK===IPCC.Web.UI.MarkType.TextAreaSignature||bK===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bK){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:tK[C.qS]={hv:'stampImage',cf:[],al:{imageStampId:C.qS,base64format:C.cJ()}};break;}aw.cf.push(this.apM(C,fJ,fL,tu));}for(var FF in tK){if(tK.hasOwnProperty(FF)){qd.push(tK[FF]);}}return{jU:jU,qd:qd};};this.axr=function(){var fh={m:[]};var T;for(T=0;T<bz.length;T++){fh.m.push(bz[T].axG());}F.af('marksSaved',{});var ami="";ami=JSON.stringify(fh);return ami;};this.zc=function(H){bP.addHandler('markAdded',H);};this.zl=function(H){bP.removeHandler('markAdded',H);};this.JZ=function(H){bP.addHandler('markChanged',H);};this.Gh=function(H){bP.removeHandler('markChanged',H);};this.ze=function(H){bP.addHandler('markRemoved',H);};this.Ag=function(H){bP.removeHandler('markRemoved',H);};this.IZ=function(H){bP.addHandler('markReordered',H);};this.Gb=function(H){bP.removeHandler('markReordered',H);};this.Xo=function(H){bP.addHandler('marksLoaded',H);};this.abv=function(H){bP.removeHandler('marksLoaded',H);};this.aEX=function(H){bP.addHandler('marksSaved',H);};this.aGw=function(H){bP.removeHandler('marksSaved',H);};this.JO=function(H){bP.addHandler('markSelectionChanged',H);};this.GA=function(H){bP.removeHandler('markSelectionChanged',H);};this.JM=function(H){bP.addHandler('markTextSelectionChanged',H);};this.EO=function(H){bP.removeHandler('markTextSelectionChanged',H);};this.vO=function(H){bP.addHandler('commentAdded',H);};this.EK=function(H){bP.removeHandler('commentAdded',H);};this.vj=function(H){bP.addHandler('commentRemoved',H);};this.Dm=function(H){bP.removeHandler('commentRemoved',H);};this.tk=function(H){bP.addHandler('commentChanged',H);};this.us=function(H){bP.removeHandler('commentChanged',H);};this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};this.cg=function(cq){var H=bP.getHandler("propertyChanged");if(H){H(this,new IPCC.pN(cq));}};return this;};MZ.prototype={get_markCount:function(){return this.VQ();},get_selectedMarks:function(){return this.xC();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Pj(mark,mouseLocation);},forEachMark:function(method,context){this.BW(method,context);},getMark:function(zIndex){return this.Mw(zIndex);},getZIndexOfMark:function(mark){return this.nR(mark);},loadFromJson:function(json){this.axN(json);},removeAllMarks:function(){this.abd();},removeMark:function(mark){this.tm(mark);},reorderMark:function(mark,zIndex){this.acJ(mark,zIndex);},saveToJson:function(){return this.axr();},add_markAdded:function(handler){this.zc(handler);},remove_markAdded:function(handler){this.zl(handler);},add_markChanged:function(handler){this.JZ(handler);},remove_markChanged:function(handler){this.Gh(handler);},add_markRemoved:function(handler){this.ze(handler);},remove_markRemoved:function(handler){this.Ag(handler);},add_markReordered:function(handler){this.IZ(handler);},remove_markReordered:function(handler){this.Gb(handler);},add_marksLoaded:function(handler){this.Xo(handler);},remove_marksLoaded:function(handler){this.abv(handler);},add_markSelectionChanged:function(handler){this.JO(handler);},remove_markSelectionChanged:function(handler){this.GA(handler);},add_markTextSelectionChanged:function(handler){this.JM(handler);},remove_markTextSelectionChanged:function(handler){this.EO(handler);},add_commentAdded:function(handler){this.vO(handler);},remove_commentAdded:function(handler){this.EK(handler);},add_commentRemoved:function(handler){this.vj(handler);},remove_commentRemoved:function(handler){this.Dm(handler);},add_commentChanged:function(handler){this.tk(handler);},remove_commentChanged:function(handler){this.us(handler);}};MZ.registerClass=dh;MZ.registerClass('IPCC.Web.UI.ArtPage');module.exports=MZ;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var Mh=function(){};Mh.registerEnum=ep;Mh.prototype={Line:0,Triangle:1};Mh.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Mh;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Oa=function(text){var bP=new IPCC.Web.UI.gx();var dk=new IPCC.Web.UI.Data();this.Yz=IPCC.K.tq(new Date());this.bx=text;this.aEN=function(bx){if(bx===this.bx){return;}this.bx=bx;var R=new IPCC.Web.UI.CommentEventArgs();R.comment=this;R.length=1;this.af('commentChanged',R);};this.ayl=function(){return this.bx;};this.aGe=function(aAw){this.Yz=aAw;};this.aAy=function(){return this.Yz;};this.tk=function(H){bP.addHandler('commentChanged',H);};this.us=function(H){bP.removeHandler('commentChanged',H);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};this.wB=function(){return dk;};return this;};Oa.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.tk(handler);},remove_commentChanged:function(handler){this.us(handler);},get_text:function(){return this.ayl();},set_text:function(text){this.aEN(text);},get_creationTime:function(){return this.aAy();},set_creationTime:function(isoTimeString){this.aGe(isoTimeString);},get_data:function(){return this.wB();}};Oa.registerClass=dh;Oa.registerClass('IPCC.Web.UI.Comment');module.exports=Oa;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var NK=function(){return this;};NK.registerClass=dh;NK.prototype={};NK.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=NK;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var NH=function(anT){var fQ=[];var bP=new IPCC.Web.UI.gx();var dk=new IPCC.Web.UI.Data();var C=anT;var F=this;function MI(aC,R){F.af('commentChanged',R);};this.GL=function(dJ){dJ.add_commentChanged(MI);fQ.push(dJ);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=dJ;R.length=1;R.index=fQ.length-1;this.af('commentAdded',R);};this.aBZ=function(dJ){var Vq= -1;IPCC.K.forEach(fQ,function(el,idx){if(el===dJ){Vq=idx;}});if(Vq=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var aco=fQ.splice(Vq,1)[0];aco.us(MI);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=aco;R.length=1;this.af('commentRemoved',R);};this.kH=function(jA,cF){var T;for(T=0;T<fQ.length;T++){jA.call(cF,fQ[T],T,this);}};this.eY=function(){return fQ.length;};this.vO=function(H){bP.addHandler('commentAdded',H);};this.EK=function(H){bP.removeHandler('commentAdded',H);};this.tk=function(H){bP.addHandler('commentChanged',H);};this.us=function(H){bP.removeHandler('commentChanged',H);};this.vj=function(H){bP.addHandler('commentRemoved',H);};this.Dm=function(H){bP.removeHandler('commentRemoved',H);};this.wB=function(){return dk;};this.PY=function(){return C;};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};return this;};NH.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.GL(comment);},removeCommentInstance:function(comment){this.aBZ(comment);},forEach:function(method,context){this.kH(method,context);},get_length:function(){return this.eY();},add_commentAdded:function(handler){this.vO(handler);},remove_commentAdded:function(handler){this.EK(handler);},add_commentChanged:function(handler){this.tk(handler);},remove_commentChanged:function(handler){this.us(handler);},add_commentRemoved:function(handler){this.vj(handler);},remove_commentRemoved:function(handler){this.Dm(handler);},get_data:function(){return this.wB();},get_mark:function(){return this.PY();}};NH.registerClass=dh;NH.registerClass('IPCC.Web.UI.Conversation');module.exports=NH;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var NQ=function(){this.dk={};this.wB=function(key){if(typeof key==='undefined'){return IPCC.K.extend({},this.dk);}else if(typeof key==='string'){return this.dk[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aFK=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dk[key]=value;}else if(typeof value==='undefined'){delete this.dk[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.aAu=function(){var keys=[];IPCC.K.forEach(this.dk,function(value,key){keys.push(key);});return keys;};return this;};NQ.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.wB(key);},set_data:function(key,value){return this.aFK(key,value);},get_dataKeys:function(){return this.aAu();}};NQ.registerClass=dh;NQ.registerClass('IPCC.Web.UI.Data');module.exports=NQ;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var QX=function(){};QX.prototype={Production:0,Development:1,Detailed:2};QX.registerEnum=ep;QX.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=QX;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var Qp=function(){};Qp.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Qp.registerEnum=ep;Qp.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Qp;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var bb=function(aDU){var aM=aDU;var afo=this.type=aM.type.toLowerCase();var NA=typeof aM.changedTouches!=='undefined';this.rawEvent=aM;this.altKey=aM.altKey;if(typeof(aM.button)!=='undefined'){this.button=(typeof(aM.which)!=='undefined')?aM.button:(aM.button===4)?IPCC.Web.UI.MouseButton.middleButton:(aM.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(afo==='keypress'){this.charCode=aM.charCode||aM.keyCode;}else if(aM.keyCode&&(aM.keyCode===46)){this.keyCode=127;}else{this.keyCode=aM.keyCode;}this.clientX=(NA)?aM.changedTouches[0].clientX:aM.clientX;this.clientY=(NA)?aM.changedTouches[0].clientY:aM.clientY;this.ctrlKey=aM.ctrlKey;this.target=aM.target?aM.target:aM.srcElement;function asO(bo){var bw=0;var dc=0;while(bo&& !isNaN(bo.offsetLeft)&& !isNaN(bo.offsetTop)){bw+=bo.offsetLeft-bo.scrollLeft;dc+=bo.offsetTop-bo.scrollTop;if(bo.offsetparent){bo=bo.offsetParent;}else{bo=bo.parentNode;}}return{top:dc,left:bw};};var ez=""+afo;var Dn='key';if(ez.substr(0,Dn.length)!==Dn){if((typeof(aM.offsetX)!=='undefined')&&(typeof(aM.offsetY)!=='undefined')){this.offsetX=aM.offsetX;this.offsetY=aM.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(aM.clientX)==='number')){var Lv=asO(this.target);var et=this.target;var fT=et.ownerDocument||et.document||et;var im=fT.defaultView||fT.parentWindow;this.offsetX=(im.pageXOffset||0)+aM.clientX-Lv.left;this.offsetY=(im.pageYOffset||0)+aM.clientY-Lv.top;}}this.screenX=(NA)?aM.changedTouches[0].screenX:aM.screenX;this.screenY=(NA)?aM.changedTouches[0].screenY:aM.screenY;this.shiftKey=aM.shiftKey;};bb.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};bb.registerClass=dh;bb.registerClass('IPCC.Web.UI.bb');bb.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.bb.YE(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kT.addHandlerCantBeUsedForError);}if(!element.bP){element.bP={};}var eventCache=element.bP[eventName];if(!eventCache){element.bP[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.bb(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var et=doc.defaultView||doc.parentWindow;e=et.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.bb(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.bb.agN){element.dispose=IPCC.Web.UI.bb.agN;if(typeof(d)!=="undefined"){element.akT=d;}}}};bb.clearHandlers=function(element){IPCC.Web.UI.bb.YE(element);IPCC.Web.UI.bb.aly(element,false);};bb.aly=function(element,autoRemoving){if(element.bP){var cache=element.bP;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.bb.removeHandler(element,name,entry.handler);}}}}element.bP=null;}};bb.agN=function(){IPCC.Web.UI.bb.aly(this,true);var d=this.akT,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.akT=null;if(type==="function"){this.dispose();}}};bb.removeHandler=function(element,eventName,handler){IPCC.Web.UI.bb.dg(element,eventName,handler);};bb.dg=function(element,eventName,handler){IPCC.Web.UI.bb.YE(element);var browserHandler=null;if((typeof(element.bP)!=='object')|| !element.bP){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bP[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.bb.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};bb.YE=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kT.argumentDomNode);}};module.exports=bb;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var oa=function(){};oa.registerEnum=ep;oa.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};oa.registerEnum('IPCC.Web.UI.FitType',false);module.exports=oa;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var Ob=function(){};Ob.registerEnum=ep;Ob.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};Ob.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=Ob;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var QN=function(){};QN.registerEnum=ep;QN.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};QN.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=QN;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var QC=function(){};QC.registerEnum=ep;QC.prototype={Left:0,Center:16,Right:32};QC.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=QC;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var MX=function(){};MX.registerEnum=ep;MX.prototype={None:0,ArtDataService:1};MX.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=MX;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var El=function(an){var ip='';var hu='';var F=this;this.dH=new IPCC.Web.UI.ImGearPageCollection();this.PZ=undefined;this.dH.aV=this;var MH=false;this.sL=undefined;var eL=0;var OZ=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bP=new IPCC.Web.UI.gx();this.hQ=IPCC.Web.GS.XH(4,IPCC.Web.RQ());this.nX=IPCC.Web.gm.Hb.ny(this.hQ);var yV=[];var mN=0;var lH=[];var Cp=[];var fW={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Sp=false;this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){try{H(F,R);}catch(e){IPCC.ik.Nh('raise event error in ImGearDocument, error: '+e.message);IPCC.ik.nM(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function abS(aC,R){if(R.length>0){F.af('pageAdded',R);}};function aba(aC,R){if(R.length>0){F.af('pageRemoved',R);}};function Gq(aC,R){F.af('pageChanged',R);};this.dH.add_pageAdded(abS);this.dH.add_pageRemoved(aba);this.dH.add_pageChanged(Gq);function awk(){function arH(hM,hY){var de=hM+'() threw an exception ';if(hY.name){de+='( '+hY.name+" ";}else{de+=".";}if(hY.message){de+="  exception message = "+hY.message;}if(hY.statusCode){de+="  exception statusCode = "+hY.statusCode;}de=de.replace(/\n/g," ");IPCC.ik.nM(de,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bg=arH;this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(F,R);}};};if(arguments.length===0){var de="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',de);}if(arguments.length>0){if(an.documentIdentifier!==undefined){ip=an.documentIdentifier;hu=IPCC.hH.sp(ip);}if(an.encodedDocumentIdentifier!==undefined){var wa=an.encodedDocumentIdentifier;if(an.documentIdentifier!==undefined){hu=IPCC.hH.sp(ip);if(wa!==hu){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{ip=IPCC.hH.Gw(an.encodedDocumentIdentifier);}}if(an.imageServicePath!==undefined){this.sL=an.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sm;if(an.includeAllPages!==undefined){MH=an.includeAllPages;if(MH===true){var aoN=new awk();var abB=0;F.be=new IPCC.hH(hu,0,0,0,0,0);var nC=function(){eL=F.be.eL;OZ=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;abB<eL;abB++){var aak=new IPCC.Web.UI.ImGearPage({pageNumber:abB,aV:F});aak.aV=F;F.dH.addPage(aak);}};OZ=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.be.Ut(this.sL,aoN,nC);}catch(e){OZ=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;F.af('pageOpenFailed',dQ);throw e;}}}else if(an.pages!==undefined){if(an.pages.length>0){var T=0;for(T=0;T<an.pages.length;T++){var aH=an.pages[T];aH.document=this;this.dH.addPage(aH);}}}else if(an.pageNumber!==undefined){if(an.pageRangeCount!==undefined){var qX=an.pageRangeCount;if(qX>0){var bO;for(bO=an.pageNumber;bO<=qX;bO++){sm=new IPCC.Web.UI.ImGearPage(bO);sm.aV=F;this.dH.addPage(sm);}}else if(qX===0){sm=new IPCC.Web.UI.ImgearPage({pageNumber:an.pageNumber,aV:F});sm.aV=F;F.dH.addPage(sm);}}else{if(an.selected){sm=new IPCC.Web.UI.ImGearPage({pageNumber:an.pageNumber,aV:F,selected:true});}else{sm=new IPCC.Web.UI.ImGearPage({pageNumber:an.pageNumber,aV:F});}sm.aV=F;F.dH.addPage(sm);}}}this.Ko=function(){return ip;};this.Op=function(){return hu;};this.ais=function(){return this.dH;};this.azl=function(){return eL;};this.azR=function(){return OZ;};this.azT=function(){return MH;};this.aFs=function(h){MH=h;this.cg('includeAllPages');};var nP=false;this.iW=function(){return nP;};this.pl=function(h){nP=h;};this.JN=function(H){bP.addHandler('pageAdded',H);};this.FK=function(H){bP.removeHandler('pageAdded',H);};this.Fu=function(H){bP.addHandler('pageRemoved',H);};this.Ft=function(H){bP.removeHandler('pageRemoved',H);};this.GK=function(H){bP.addHandler('pageOpenFailed',H);};this.FY=function(H){bP.removeHandler('pageOpenFailed',H);};this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.JX=function(H){bP.addHandler('pageChanged',H);};this.Fa=function(H){bP.removeHandler('pageChanged',H);};this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};this.aoy=function(H){bP.addHandler('textPagesReceived',H);};this.aAW=function(H){bP.removeHandler('textPagesReceived',H);};this.aAc=function(){return Cp.length;};this.axM=function(){return yV;};this.azI=function(){return yV.length;};this.axJ=function(){return fW;};this.axR=function(){return Sp;};this.aHn=function(h){Sp=h;};this.atf=function(fP){if(fW.stopRequests===true){var R={};R.error=0;R.textPagesReceived=Pf(fP);if(R.textPagesReceived.length===0){if(mN>0&&mN<fP){for(var dE=mN;dE<fP;dE++){R.textPagesReceived.push(dE);}}}R.length=2;F.af('textPagesReceived',R);return;}var jr=true;var Jq=false;for(var T=0;T<mN;T++){if(Array.prototype.indexOf){if(yV.indexOf(T)<0){jr=false;Jq=true;break;}}else{if(IPCC.Web.kw(yV,T)<0){Jq=true;break;}}}if(Jq){F.QF(T,undefined,fP);}else if(mN<fP){for(var aL=0;aL<fP;aL++){if(Array.prototype.indexOf){if(lH.indexOf(aL)<0){jr=false;break;}}else{if(IPCC.Web.kw(lH,aL)<0){jr=false;break;}}}if(!jr){Jq=true;F.QF(aL,undefined,fP);}else{F.QF(mN,undefined,fP);}}else{Jq=false;}};function Pf(fP){var SM=[],dE;if(lH.length>0){var jr=true;for(dE=0;dE<fP;dE++){jr=true;if(Array.prototype.indexOf){if(lH.indexOf(dE)<0){jr=false;}}else{if(IPCC.Web.kw(lH,dE)<0){jr=false;}}if(!jr){lH.push(dE);Cp.push(dE);SM.push(dE);}}}else{for(dE=0;dE<fP;dE++){lH.push(dE);Cp.push(dE);SM.push(dE);}}return SM;};this.QF=function(acY,agy,fP){Sp=true;var aS;if(!isNaN(acY)){aS=acY;}else{aS=0;}var Du;if(!isNaN(fP)){Du=fP;}var cv;if(!isNaN(agy)){cv=agy;}else if(!isNaN(Du)){cv=Du-1;}else{Du=fP;if(!isNaN(Du)){cv=Du-1;}}if(isNaN(cv)){cv=aS+1;}if(cv-aS>9){cv=aS+9;}function QI(bx){var Sv=mN;var Sy=[];var jr=true;var ap;for(var aw=0;aw<bx.pages.length;aw++){if(Array.prototype.indexOf){if(yV.indexOf(bx.pages[aw].number)<0){jr=false;}}else{if(IPCC.Web.kw(yV,bx.pages[aw].number)<0){jr=false;}}if(!jr){yV.push(bx.pages[aw].number);if(F.dH.iR(bx.pages[aw].number).cC().Az()===false){ap=F.dH.iR(bx.pages[aw].number);ap.aaC(bx.pages[aw]);ap.abn(bx.pages[aw]);ap.acL(bx.pages[aw].markup,bx.pages[aw].height,bx.pages[aw].width);}mN++;Sy.push(bx.pages[aw].number);lH.push(bx.pages[aw].number);if(!bx.pages[aw].text){Cp.push(bx.pages[aw].number);}}}var R={};if(bx.hasOwnProperty("errorCode")){R.error=0;F.pageExtractionFailed=true;R.textPagesReceived=Sy;R.length=2;for(var Cw=fW.startPage;Cw<fW.lastPage+1;Cw++){jr=true;if(Array.prototype.indexOf){if(lH.indexOf(Cw)<0){jr=false;}}else{if(IPCC.Web.kw(lH,Cw)<0){jr=false;}}if(!jr){lH.push(Cw);Cp.push(Cw);R.textPagesReceived.push(Cw);}}F.af('textPagesReceived',R);fW.stopRequests=true;return;}if(mN>Sv){R.textPagesReceived=Sy;R.length=2;R.error=0;}var pE=fW.lastTimeout;if(fW.startPage===aS&&fW.lastPage===cv&&mN===Sv){if(fW.requestCount<25){pE=pE+1000;fW.requestCount++;}else{R.error=0;R.textPagesReceived=[];R.length=2;jr=true;var dE;for(dE=fW.startPage;dE<fW.lastPage+1;dE++){jr=true;if(Array.prototype.indexOf){if(lH.indexOf(dE)<0){jr=false;}}else{if(IPCC.Web.kw(lH,dE)<0){jr=false;}}if(!jr){lH.push(dE);Cp.push(dE);R.textPagesReceived.push(dE);}}if(R.textPagesReceived.length===0){if(mN>0&&mN<fP){for(dE=mN;dE<fP;dE++){R.textPagesReceived.push(dE);}}}fW.stopRequests=true;F.af('textPagesReceived',R);return;}}else{pE=1000;fW.requestCount=0;}fW.lastTimeout=pE;fW.startPage=aS;fW.lastPage=cv;setTimeout(function(){F.atf(fP);},pE);if(mN>Sv){F.af('textPagesReceived',R);}};function fd(ah){var R={},hD,aR;try{var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");if(nL==='true'){var uB=IPCC.Web.gm.si.uM(ah.getResponseHeader("Accusoft-Data-SK"));var by=IPCC.Web.HY(uB,F.hQ);var fM=IPCC.Web.Ke(ah);var um=IPCC.Web.Db(fM,by,F.hQ);hD=IPCC.Web.gm.GY.ny(um);}else{hD=ah.responseText;}aR=JSON.parse(hD);QI(aR);}catch(e){R.error= -1;Pf(fP);R.textPagesReceived=[];R.length=2;F.af('textPagesReceived',R);return;}};function er(aR){var R={},iV;try{iV=aR.response.status;if(aR.response.responseText){aR=JSON.parse(aR.response.responseText);if(aR.hasOwnProperty("errorCode")){R.error=0;if(mN>0){if(aR.pages){if(aR.pages.length>0){QI(aR);return;}}}else{R.error= -1;}if(lH.length===0){R.error= -1;}F.pageExtractionFailed=true;R.textPagesReceived=[];R.length=2;R.textPagesReceived=Pf(fP);F.af('textPagesReceived',R);return;}else{throw new IPCC.Web.UI.ImGearHttpException(iV,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(iV,"Unable to obtain text");}}catch(e){R.error= -1;Pf(fP);R.textPagesReceived=[];R.length=2;F.af('textPagesReceived',R);return;}};var ij=ip;var gq=F.sL;if(!(/^[\x00-\x7F]*$/.test(ij))){ij='e'+hu;}else{ij='u'+ij;}var aq;if(F.iW()){aq=gq+'/Document/q/'+aS.toString()+'-'+cv.toString()+'/Text?DocumentID='+ij+'&iv='+F.nX;}else{aq=gq+'/Document/q/'+aS.toString()+'-'+cv.toString()+'/Text?DocumentID='+ij;}IPCC.K.mY.fE({method:'GET',url:aq,headers:{'accept':'application/json'}}).then(fd,er);};return this;};El.encodeDocumentIdentifier=function(ip){var hu;if(ip!==undefined){hu=IPCC.hH.sp(ip);}return hu;};El.decodeDocumentIdentifier=function(hu){var aha;if(hu!==undefined){aha=IPCC.hH.Gw(hu);}return aha;};El.prototype={get_documentIdentifier:function(){var aG=this.Ko();return aG;},get_encodedDocumentIdentifier:function(){var aG=this.Op();return aG;},get_pages:function(){return this.ais();},get_pageCountStatus:function(){var r=this.azR();return r;},set_pageCountStatus:function(value){this.aGO(value);},get_pageCount:function(){var r=this.azl();return r;},get_includeAllPages:function(){try{var aG=this.azT();return aG;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aFs(value);}catch(e){throw e;}},get_encryption:function(){var aG=this.iW();return aG;},set_encryption:function(value){this.pl(value);},add_pageChanged:function(handler){this.JX(handler);},remove_pageChanged:function(handler){this.Fa(handler);},add_pageRemoved:function(handler){this.Fu(handler);},remove_pageRemoved:function(handler){this.Ft(handler);},add_pageAdded:function(handler){this.JN(handler);},remove_pageAdded:function(handler){this.FK(handler);},add_pageOpenFailed:function(handler){this.GK(handler);},remove_pageOpenFailed:function(handler){this.FY(handler);},get_textRequestInfo:function(){try{var aG=this.axJ();return aG;}catch(e){throw e;}},get_pagesWithText:function(){try{var aG=this.axM();return aG;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var aG=this.azI();return aG;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var aG=this.aAc();return aG;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.aoy(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aAW(handler);}catch(e){this.bg('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.lf(handler);},remove_propertyChanged:function(handler){this.nh(handler);}};El.registerClass=dh;El.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=El;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var KO=function(){var je=[];var bP=new IPCC.Web.UI.gx();var F=this;function ath(aC,R){if(R){var OD=new IPCC.Web.UI.ImGearDocumentEventArgs();OD.document=aC;OD.propertyName=R.get_propertyName();OD.length=2;F.af('documentChanged',OD);}};this.ST=function(aEB){this.ahH(je.length,aEB);};this.ahH=function(ak,aV){var aL;var di=je.length;if(ak>je.length||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak,'document index is out of range');}for(aL=0;aL<di;aL++){if(je[aL]===aV){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ahM=bP.getHandler('pageAdded');if(ahM){aV.add_pageAdded(ahM);}var agX=bP.getHandler('pageRemoved');if(agX){aV.add_pageRemoved(agX);}var aiQ=bP.getHandler('pageChanged');if(aiQ){aV.add_pageChanged(aiQ);}aV.add_propertyChanged(ath);je.splice(ak,0,aV);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=aV;R.index=ak;R.length=1;this.af('documentAdded',R);};function nt(ak){if(ak>je.length-1||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak,'document index is out of range');}};this.RY=function(ak){nt(ak);return je[ak];};this.eY=function(){return je.length;};this.aHX=function(jA,cF){var adZ=[].concat(je);var T;for(T=0;T<adZ.length;T++){jA.call(cF,adZ[T],T,this);}};this.ack=function(ak){nt(ak);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=je[ak];R.length=1;je[ak].get_pages().removeAllPages();je.splice(ak,1);this.af('documentRemoved',R);};this.aBI=function(){var T=0;while(je.length>0){this.ack(T);}};this.aph=function(H){bP.addHandler('documentAdded',H);};this.aAd=function(H){bP.removeHandler('documentAdded',H);};this.anA=function(H){bP.addHandler('documentRemoved',H);};this.azh=function(H){bP.removeHandler('documentRemoved',H);};this.anI=function(H){bP.addHandler('documentChanged',H);};this.aAe=function(H){bP.removeHandler('documentChanged',H);};this.JN=function(H){bP.addHandler('pageAdded',H);};this.FK=function(H){bP.removeHandler('pageAdded',H);for(var aL=0;aL<je.length;aL++){je[aL].remove_pageAdded(H);}};this.JX=function(H){bP.addHandler('pageChanged',H);};this.Fa=function(H){bP.removeHandler('pageChanged',H);for(var aL=0;aL<je.length;aL++){je[aL].remove_pageChanged(H);}};this.Fu=function(H){bP.addHandler('pageRemoved',H);};this.Ft=function(H){bP.removeHandler('pageRemoved',H);for(var aL=0;aL<je.length;aL++){je[aL].remove_pageRemoved(H);}};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){try{H(F,R);}catch(e){IPCC.ik.Nh('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};KO.prototype={addDocument:function(imGearDocument){this.ST(imGearDocument);},insertDocument:function(index,imGearDocument){this.ahH(index,imGearDocument);},forEach:function(method,context){this.kH(method,context);},getDocument:function(index){return this.RY(index);},get_length:function(){return this.eY();},removeDocument:function(imGearDocument){this.ack(imGearDocument);},removeAllDocuments:function(){this.aBI();},add_documentAdded:function(handler){this.aph(handler);},remove_documentAdded:function(handler){this.aAd(handler);},add_documentRemoved:function(handler){this.anA(handler);},remove_documentRemoved:function(handler){this.azh(handler);},add_documentChanged:function(handler){this.anI(handler);},remove_documentChanged:function(handler){this.aAe(handler);},add_pageAdded:function(handler){this.JN(handler);},remove_pageAdded:function(handler){this.FK(handler);},add_pageRemoved:function(handler){this.Fu(handler);},remove_pageRemoved:function(handler){this.Ft(handler);},add_pageChanged:function(handler){this.JX(handler);},remove_pageChanged:function(handler){this.Fa(handler);}};KO.registerClass=dh;KO.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=KO;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Lq=function(){return this;};Lq.registerClass=dh;Lq.prototype={};Lq.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=Lq;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var LU=function(){return this;};LU.registerClass=dh;LU.prototype={};LU.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=LU;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var azU=function(kK){var bw=0,dc=0,ab=0,aT=0,jN=kK.href||"",aqu=kK.borderStyle||"Solid",mI=kK.borderThickness||0,zx=kK.borderPattern||[1],FS=kK.borderHorizontalRadius||0,IU=kK.borderHorizontalRadius||0,oY=kK.borderColor||"#0000FF",qh=kK.borderOpacity||255,G,C;if(typeof qh==='string'){qh=parseInt(qh,10);}if(kK.rectangle){bw=kK.rectangle.x;dc=kK.rectangle.y;ab=kK.rectangle.width;aT=kK.rectangle.height;}G=new IPCC.Web.UI.Rectangle(bw,dc,ab,aT);this.fw=function(){var Zq=new IPCC.Web.UI.Rectangle(G.x,G.y,G.width,G.height);return Zq;};this.EZ=function(ma){G.x=ma.x;G.y=ma.y;G.width=ma.width;G.height=ma.height;};this.aiV=function(){return jN;};this.axL=function(){return aqu;};this.axU=function(){return mI;};this.aBe=function(){return zx;};this.aGf=function(){return FS;};this.ayD=function(){return IU;};this.aGl=function(){return oY;};this.aFX=function(){return qh;};this.PY=function(){return C;};this.aGa=function(arq){C=arq;};this.azX=function(){return IPCC.K.amQ(jN);};};module.exports=azU;},{}],84:[function(require,module,exports){var gx=function gx(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.Kw={};};gx.prototype.cU=function(ds,H){var dR=this.Wv(ds,true);dR[dR.length]=H;};gx.prototype.addHandler=function(ds,H){this.cU(ds,H);};gx.prototype.dg=function(ds,H){var sQ=this.Wv(ds);if(!sQ){return;}var ak=IPCC.Ym(sQ,H);if(ak>=0){sQ.splice(ak,1);}};gx.prototype.removeHandler=function(ds,H){this.dg(ds,H);};gx.prototype.getHandler=function(ds){var sQ=this.Wv(ds);if(!sQ||(sQ.length===0)){return null;}var dR=sQ.slice();sQ=dR;return function(source,args){for(var T=0,pS=sQ.length;T<pS;T++){sQ[T](source,args);}};};gx.prototype.Wv=function(ds,aqC){if(!this.Kw[ds]){if(!aqC){return null;}this.Kw[ds]=[];}return this.Kw[ds];};module.exports=gx;},{}],85:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var CX=function(message,errorInfo){this.message=message;var F=this;if(errorInfo){for(var ZV in errorInfo){if(errorInfo.hasOwnProperty(ZV)){F[ZV]=errorInfo[ZV];}}}};CX.prototype=new Error();CX.registerClass=dh;CX.registerClass('IPCC.Web.UI.ImGearException');var Dh=function(statusCode,message,customErrorCode){var gQ="IPCC.Web.UI.ImGearHttpException: ";if(message){gQ+=message;}this.message=gQ;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Dh.prototype=new Error();Dh.registerClass=dh;Dh.registerClass('IPCC.Web.UI.ImGearHttpException');var sr=function(paramName,message){var gQ="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kT.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gQ+="\n"+IPCC.Web.At(IPCC.kT.paramName,paramName);}}this.message=gQ;this.paramName=paramName;};sr.prototype=new Error();sr.registerClass=dh;sr.registerClass('IPCC.Web.UI.ImGearArgumentException');var DJ=function(paramName,message){var gQ="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kT.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gQ+="\n"+IPCC.Web.At(IPCC.Res.paramName,paramName);}}this.message=gQ;this.paramName=paramName;};DJ.prototype=new Error();DJ.registerClass=dh;DJ.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var sf=function(paramName,actualValue,message){var gQ="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kT.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gQ+="\n"+IPCC.Web.At(IPCC.kT.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gQ+="\n"+IPCC.Web.At(IPCC.kT.actualValue,actualValue);}this.message=gQ;this.paramName=paramName;this.actualValue=actualValue;};sf.prototype=new Error();sf.registerClass=dh;sf.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var zz=function(paramName,actualType,expectedType,message){var gQ="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gQ+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gQ+=IPCC.Web.At(IPCC.kT.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gQ+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gQ+=IPCC.kT.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gQ+="\n"+IPCC.Web.At(IPCC.kT.paramName,paramName);}}this.message=gQ;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};zz.prototype=new Error();zz.registerClass=dh;zz.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var DF=function(paramName,message){var gQ="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kT.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gQ+="\n"+IPCC.Web.At(IPCC.Res.paramName,paramName);}}this.message=gQ;this.paramName=paramName;};DF.prototype=new Error();DF.registerClass=dh;DF.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Eb=function(message){var gQ="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kT.invalidOperation);this.message=gQ;};Eb.prototype=new Error();Eb.registerClass=dh;Eb.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var EL=function(message){var gQ="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kT.notImplemented);this.message=gQ;};EL.prototype=new Error();EL.registerClass=dh;EL.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Ei=function(message){var gQ="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kT.parameterCount);this.message=gQ;};Ei.prototype=new Error();Ei.registerClass=dh;Ei.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={CX:CX,Dh:Dh,sr:sr,DJ:DJ,sf:sf,zz:zz,DF:DF,Eb:Eb,EL:EL,Ei:Ei};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var azz=function(){var Fj=[];this.aoo=function(aAn){Fj.push(aAn);};this.cE=function(){return Fj.length;};this.kH=function(jA,cF){IPCC.K.forEach(Fj,jA,cF);};this.aCm=function(){if(Fj.length<1){return;}Fj=[];};return this;};module.exports=azz;},{}],87:[function(require,module,exports){var azg=function(){var Gd=new IPCC.Web.UI.ImGearHyperlinkCollection();this.KA=function(){return Gd;};};module.exports=azg;},{}],88:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Mk=function(an){this.aV=undefined;var bL=0;var bD=0,aeQ=0,aee=0;var bf=0,amD=0,amZ=0;var F=this;var bP=new IPCC.Web.UI.gx();this.aFz=undefined;this.fW={qc:0,acS:false,qb:1000,MD:false};var eD=new IPCC.Web.UI.ImGearTextPage();var Re=new IPCC.Web.UI.ImGearHyperlinkPage();var mF=0;var nP=false;var Bz=false,DO=0,CS=0;function aiE(o){return!isNaN(o-0);};if(an.pageNumber!==undefined){if(aiE(an.pageNumber)){bL=an.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.om=function(){return bL;};this.aIw=function(h){if(aiE(an.pageNumber)){bL=h;}};this.kl=function(){return bD;};function aib(){if(!eD){eD=new IPCC.Web.UI.ImGearTextPage();}var apr=eD.gp();var qt=bD/DO,qm=bf/CS;apr.axz(qt,qm);};function aiH(){var Gd=Re.KA();var qt=bD/DO,qm=bf/CS;Gd.kH(function(ge){ge.EZ(ge.fw().scale(qt,qm));var afR=ge.PY();afR.set_rectangle(afR.get_rectangle().scale(qt,qm));});};this.Pq=function(h){bD=h;if(Bz&&bD&&bD!==DO&&bf&&bf!==CS){aib();aiH();Bz=false;}};this.iM=function(){return bf;};this.PU=function(h){bf=h;if(Bz&&bD&&bD!==DO&&bf&&bf!==CS){aib();aiH();Bz=false;}};this.ahU=function(){return aeQ;};this.abJ=function(h){aeQ=h;};this.aGN=function(){return amD;};this.abr=function(h){amD=h;};this.aIr=function(){return aee;};this.aHB=function(h){aee=h;};this.aId=function(){return amZ;};this.aIE=function(h){amZ=h;};this.ayH=function(){return this.aV;};this.cC=function(){if(!eD){eD=new IPCC.Web.UI.ImGearTextPage();}return eD;};this.km=function(){return mF;};this.vy=function(h){if(mF===h){return;}if(isNaN(h)){return;}mF=h;this.cg('serviceResponseTimeout');};this.iW=function(){return nP;};this.pl=function(h){nP=h;};this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.AB=function(H){bP.addHandler('textPageReady',H);};this.Gg=function(H){bP.removeHandler('textPageReady',H);};this.ajm=function(){return Re;};this.WD=function(H){bP.addHandler('hyperlinkPageReady',H);};this.aeU=function(H){bP.removeHandler('hyperlinkPageReady',H);};this.zn=function(H){bP.cU('textExtractionFailed',H);};this.FP=function(H){bP.dg('textExtractionFailed',H);};this.aaC=function(ho){if(bD===0&&bf===0){Bz=true;DO=ho.width;CS=ho.height;}};this.abn=function(ho){if(!eD){eD=new IPCC.Web.UI.ImGearTextPage();}eD.aCX(ho.width);eD.aFI(ho.height);if(eD.gp().eY()>0){return;}else if(ho.errorCode){var lO=new IPCC.Web.UI.ImGearException(ho.errorDescription,{name:'Text Extraction'});var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=lO;dQ.pageNumber=F.get_pageNumber();F.af('textExtractionFailed',dQ);return;}var auL=eD.gp();var NY=false;var adL;function Gz(VP){return VP;};var qm=1;var qt=1;if(ho.height&&ho.height>0&&bf>0){if(ho.height!==bf){qm=bf/ho.height;}}if(ho.width&&ho.width>0&&bD>0){if(ho.width!==bD){qt=bD/ho.width;}}var hF;var acw= -1;var PH;var hO,BQ;for(var T=0;T<ho.rectangles.length;T++){hO=ho.rectangles[T];BQ=Gz(ho.text[T]);NY=false;if(hO[2]===0){BQ="\n";NY=true;if(T>0){adL=ho.rectangles[T-1];hO[2]=adL[2];}}if(qt===1&&qm===1){PH=new IPCC.Web.UI.ImGearTextCharacter(hO[0],hO[1],hO[2],hO[3],BQ,NY);}else{PH=new IPCC.Web.UI.ImGearTextCharacter(hO[0]*qt,hO[1]*qm,hO[2]*qt,hO[3]*qm,BQ,NY);}if(PH){auL.apm(PH);}if(hF===undefined||acw!==hO[1]||hO[0]<hF.fw().x){if(hF){eD.Uo().alf(hF);}hF=new IPCC.Web.UI.ImGearTextSection();hF.EZ(new IPCC.Web.UI.Rectangle(hO[0],hO[1],hO[2],hO[3]));hF.aDl(T);}else{if(hO[0]+hO[2]-hF.fw().x>hF.fw().width){hF.fw().width=hO[0]+hO[2]-hF.fw().x;}}hF.aDJ(T);acw=hO[1];}if(hF){eD.Uo().alf(hF);}eD.aFy(ho.text);if(ho.text.length>0){eD.Ow(true);F.af('textPageReady',{pageNumber:F.om(),containsText:true});}else{eD.Ow(false);F.af('textPageReady',{pageNumber:F.om(),containsText:false});}};this.acL=function(ahb,Ps,PL){if(!ahb){return;}Re.KA().aCm();var qm=1;var qt=1;if(Ps&&Ps>0&&bf>0){if(Ps!==bf){qm=bf/Ps;}}if(PL&&PL>0&&bD>0){if(PL!==bD){qt=bD/PL;}}IPCC.K.forEach(ahb,function(ahi){var ge;switch(ahi.markType){case "DocumentHyperlink":ge=new IPCC.Web.UI.ImGearDocumentHyperlink(ahi.properties);ge.EZ(ge.fw().scale(qt,qm));if(!ge.azX()){Re.KA().aoo(ge);}break;default:break;}});F.af('hyperlinkPageReady',{pageNumber:F.om()});};this.ayd=function(){F.AF();};this.AF=function(){if(!eD){eD=new IPCC.Web.UI.ImGearTextPage();}if(!F.aV){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(eD.Az()){return;}var afE=true;if(F.km()===0){afE=false;}function QI(bx){if(bx.pages){var aO;if(bx.pages.length>0){if(bx.pages[0].number!==F.om()){for(var T=0;T<bx.pages.length;T++){if(bx.pages[T].number===F.om()){aO=T;break;}}if(!aO){F.fW.MD=false;return;}}else{aO=0;}var ho=bx.pages[aO];F.fW.MD=true;if(bx.pages[aO].text&&bx.pages[aO].text.length>0){eD.Ow(true);}else{eD.Ow(false);}F.fW.qb=1000;F.aaC(ho);F.abn(ho);F.acL(ho.markup,ho.height,ho.width);return;}}var pE=F.fW.qb;if(!F.fW.MD){if(F.fW.qc<6){if(F.fW.qc<2){pE=pE+1000;}else{pE=pE+3000;}F.fW.qc++;F.fW.qb=pE;setTimeout(F.ayd,pE);}else{F.fW.acS=true;}}};function fd(ah){var hQ=F.aV.hQ,aR;try{var hD;var nL=ah.getResponseHeader("Accusoft-Data-Encrypted");if(nL==='true'){var uB=IPCC.Web.gm.si.uM(ah.getResponseHeader("Accusoft-Data-SK"));var by=IPCC.Web.HY(uB,hQ);var fM=IPCC.Web.Ke(ah);var um=IPCC.Web.Db(fM,by,hQ);hD=IPCC.Web.gm.GY.ny(um);}else{hD=ah.responseText;}aR=JSON.parse(hD);QI(aR);}catch(e){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=F.get_pageNumber();F.af('textExtractionFailed',dQ);return;}};function er(aR){try{if(!aR.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aR.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,"Unable to obtain text, Error from the service = "+aR.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aR.response.status,"Unable to obtain text from the service");}}}catch(e){var dQ=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dQ.exception=e;dQ.pageNumber=F.get_pageNumber();F.af('textExtractionFailed',dQ);return;}};var aS=F.get_pageNumber();var ij=F.aV.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(ij))){ij='e'+F.aV.get_encodedDocumentIdentifier();}else{ij='u'+encodeURIComponent(ij);}var gq=F.aV.sL;var nX=F.aV.nX;var aq;if(F.iW()){aq=gq+'/Document/q/'+aS.toString()+'-'+aS.toString()+'/Text?DocumentID='+ij+'&iv='+nX;}else{aq=gq+'/Document/q/'+aS.toString()+'-'+aS.toString()+'/Text?DocumentID='+ij;}var fZ={method:'GET',url:aq,headers:{'accept':'application/json'}};if(afE===true){fZ.timeout=F.km();}IPCC.K.mY.fE(fZ).then(fd,er);};this.cC=function(){if(!eD){eD=new IPCC.Web.UI.ImGearTextPage();}return eD;};this.aIh=function(h){if(typeof h.oV!=='function'){return;}eD=h;};this.agl=function(){eD=undefined;F.fW={qc:0,acS:false,qb:1000,MD:false};Bz=false;DO=0;CS=0;};this.Qx=function(yc,Aw){var F=this;function fd(ah){var aR;aR=JSON.parse(ah.responseText);if(aR.imageWidth&&aR.imageHeight){F.Pq(aR.imageWidth);F.PU(aR.imageHeight);yc(aR.imageWidth,aR.imageHeight);}else{Aw("Unable to obtain document information from the server");}};function er(aR){Aw("Unable to obtain document information from the server");};if(F.kl()>0||F.iM()>0){yc(F.kl(),F.iM());}else{var rf=IPCC.hH.sp(F.aV.get_documentIdentifier());if(!rf||rf===""){Aw("Invalid encoded Identifier");}var tG='';if(!IPCC.wQ.Jz()){tG='&ContentType=png';}var aq;if(!(/^[\x00-\x7F]*$/.test(rf))){aq=F.aV.sL+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=e'+rf+tG;}else{aq=F.aV.sL+'/Page/q/'+(F.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(F.aV.get_documentIdentifier())+tG;}IPCC.K.mY.fE({method:'GET',url:aq,headers:{'Content-Type':'application/json'}}).then(fd,er);}};this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){try{H(F,R);}catch(e){IPCC.ik.Nh('event raise, ImGearPage, error: '+e.message);}}};return this;};Mk.prototype={get_pageNumber:function(){var aG=this.om();return aG;},get_pageWidth:function(){var aG=this.kl();return aG;},get_pageHeight:function(){var aG=this.iM();return aG;},get_textPage:function(){var aG=this.cC();return aG;},get_encryption:function(){var aG=this.iW();return aG;},set_encryption:function(value){this.pl(value);},get_hyperlinkPage:function(){return this.ajm();},get_document:function(){var aG=this.ayH();return aG;},add_propertyChanged:function(handler){this.lf(handler);},remove_propertyChanged:function(handler){this.nh(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Qx(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Mk.registerClass=dh;Mk.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Mk;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Lh=function(){var F=this;var dH=[];var bP=new IPCC.Web.UI.gx();this.auR=false;this.auG=true;this.aV=undefined;this.akz=function(aw){this.aig(dH.length,aw);};function nt(ak){if(ak>dH.length-1||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak,'page index is out of range in the page collection');}};this.aig=function(ak,aw){var aL;var di=dH.length;if(ak>dH.length||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak,'index of the page Collection is out of range');}if(F.auG&&F.auR){if(di>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aL=0;aL<di;aL++){if(dH[aL]===aw){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(F.aV){if(!aw.aV){aw.aV=F.aV;}}aw.add_propertyChanged(Gq);dH.splice(ak,0,aw);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=aw;R.length=1;F.af('pageAdded',R);};this.iR=function(ak){nt(ak);var fv=dH[ak];return fv;};this.aBo=function(ak,aw){nt(ak);var SF=dH[ak];if(SF===aw){return;}dH[ak]=aw;var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=aw;R.length=1;this.af('pageAdded',R);SF.remove_propertyChanged(Gq);var yz=new IPCC.Web.UI.ImGearPageEventArgs();yz.imGearPage=SF;yz.length=1;this.af('pageRemoved',yz);};this.eY=function(){return dH.length;};this.kH=function(jA,cF){var aej=[].concat(dH);var T;for(T=0;T<aej.length;T++){jA.call(cF,aej[T],T,this);}};this.abe=function(ak){nt(ak);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=dH[ak];dH[ak].remove_propertyChanged(Gq);R.length=1;dH.splice(ak,1);F.af('pageRemoved',R);};this.aGM=function(aw){var cE=dH.length;for(var T=0;T<cE;T++){if(aw===dH[T]){return T;}}return-1;};this.aCv=function(){var T=0;while(dH.length>0){this.abe(T);}};function Gq(aC,R){var yz=new IPCC.Web.UI.ImGearPageEventArgs();yz.imGearPage=aC;yz.length=1;F.af('pageChanged',yz);};this.JN=function(H){bP.addHandler('pageAdded',H);};this.FK=function(H){bP.removeHandler('pageAdded',H);};this.JX=function(H){bP.addHandler('pageChanged',H);};this.Fa=function(H){bP.removeHandler('pageChanged',H);};this.Fu=function(H){bP.addHandler('pageRemoved',H);};this.Ft=function(H){bP.removeHandler('pageRemoved',H);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){try{H(F,R);}catch(e){IPCC.ik.Nh('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Lh.prototype={addPage:function(page){this.akz(page);},insertPage:function(index,page){this.aig(index,page);},forEach:function(method,context){this.kH(method,context);},getPage:function(index){return this.iR(index);},setPage:function(index,page){this.aBo(index,page);},get_length:function(){return this.eY();},removePage:function(index){this.abe(index);},removeAllPages:function(){this.aCv();},add_pageAdded:function(handler){this.JN(handler);},remove_pageAdded:function(handler){this.FK(handler);},add_pageChanged:function(handler){this.JX(handler);},remove_pageChanged:function(handler){this.Fa(handler);},add_pageRemoved:function(handler){this.Fu(handler);},remove_pageRemoved:function(handler){this.Ft(handler);}};Lh.registerClass=dh;Lh.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Lh;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var Mo=function(){};Mo.registerEnum=ep;Mo.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};Mo.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=Mo;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var Ld=function(){};Ld.registerClass=dh;Ld.prototype={};Ld.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Ld;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var dh=require('./../../IPCC.Util').regClass;var LZ=function(){return this;};LZ.prototype={};LZ.registerClass=dh;LZ.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=LZ;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var KS=function(){return this;};KS.registerClass=dh;KS.prototype={};KS.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=KS;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var azr=function(bw,dc,ab,aT,BQ,aAT){this.aE=new IPCC.Web.UI.Rectangle(bw,dc,ab,aT);this.jW=BQ;this.Kg=aAT;this.ayV=function(){return BQ;};this.rC=function(){var Zq=new IPCC.Web.UI.Rectangle(this.aE.x,this.aE.y,this.aE.width,this.aE.height);return Zq;};this.aHR=function(){return this.Kg;};};module.exports=azr;},{}],95:[function(require,module,exports){var aAj=function(){var jo=[];this.apm=function(le){jo.push(new IPCC.Web.UI.ImGearTextCharacter(le.aE.x,le.aE.y,le.aE.width,le.aE.height,le.jW,le.Kg));};this.aIg=function(apj){function jH(le){jo.push(le);};apj.forEach(jH,{});};this.aCK=function(){var aeL=[];for(var aL=0;aL<this.eY();aL++){var NI=this.kQ(aL).aE;var G=[];G.push(NI.x);G.push(NI.y);G.push(NI.width);G.push(NI.height);aeL.push(G);}return aeL;};this.aHd=function(ak,aaP){var aL;var di=jo.length;if(ak>jo.length||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak,'index of theText Character Collection is out of range');}for(aL=0;aL<di;aL++){if(jo[aL]===aaP){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bx Character instance in a le collection).');}}jo.splice(ak,0,aaP);};this.axz=function(aex,aeK){IPCC.K.forEach(jo,function(jW){jW.aE.width=jW.aE.width*aex;jW.aE.height=jW.aE.height*aeK;jW.aE.x=jW.aE.x*aex;jW.aE.y=jW.aE.y*aeK;});};this.kH=function(jA,cF){var aaD=[].concat(jo);var T;for(T=0;T<aaD.length;T++){jA.call(cF,new IPCC.Web.UI.ImGearTextCharacter(aaD[T].x,aaD[T].y),T,this);}};function nt(ak){if(ak>jo.length-1||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak);}};this.kQ=function(ak){nt(ak);var qo=jo[ak];return new IPCC.Web.UI.ImGearTextCharacter(qo.aE.x,qo.aE.y,qo.aE.width,qo.aE.height,qo.jW,qo.Kg);};this.aIH=function(ak,le){nt(ak);var Bh=jo[ak];if(Bh.aE.x===le.aE.x&&Bh.aE.y===le.y&&Bh.aE.width===le.aE.width&&Bh.aE.height===le.aE.height&&Bh.jW===le.jW&&Bh.Kg===le.Kg){return;}jo[ak]=le;};this.eY=function(){return jo.length;};this.aJd=function(ak){nt(ak);jo.splice(ak,1);};this.aHj=function(){if(jo.length<1){return;}jo=[];};return this;};module.exports=aAj;},{}],96:[function(require,module,exports){var azw=function(){var anQ=new IPCC.Web.UI.ImGearTextCharacterCollection();var Wm=false;var aes=false;var aaT="";var wY=new IPCC.Web.UI.ImGearTextSectionCollection();var Yq=false;var ab=0;var aT=0;this.gp=function(){return anQ;};this.oV=function(){return Wm;};this.Ow=function(h){aes=true;if(h===Wm){return;}if((h===true)||(h===false)){Wm=h;}};this.Az=function(){return aes;};this.Co=function(){return aaT;};this.aFy=function(h){if(h===aaT){return;}aaT=h;};this.Uo=function(){return wY;};this.azm=function(){return Yq;};this.adV=function(h){if(h===Yq){return;}if((h===true)||(h===false)){Yq=h;}};this.aye=function(){return ab;};this.aCX=function(h){if(h===ab){return;}ab=h;};this.ayY=function(){return aT;};this.aFI=function(h){if(h===aT){return;}aT=h;};};module.exports=azw;},{}],97:[function(require,module,exports){var azH=function(){var G=null;var aS=0;var cv=0;this.fw=function(){return G;};this.EZ=function(h){G=h;};this.aja=function(){return aS;};this.aDl=function(h){aS=h;};this.ajD=function(){return cv;};this.aDJ=function(h){cv=h;};};module.exports=azH;},{}],98:[function(require,module,exports){var azy=function(){var wY=[];this.alf=function(hF){wY.push(hF);};function nt(ak){if(ak>wY.length-1||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak);}};this.aCQ=function(ak){nt(ak);return wY[ak];};this.eY=function(){return wY.length;};return this;};module.exports=azy;},{}],99:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var KW=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};KW.registerEnum=ep;KW.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};KW.registerEnum("IPCC.Web.UI.Key");module.exports=KW;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var MB=function(){};MB.registerEnum=ep;MB.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};MB.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=MB;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var NJ=function(){};NJ.registerEnum=ep;NJ.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};NJ.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=NJ;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Mb=function(){return this;};Mb.registerClass=dh;Mb.prototype={};Mb.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=Mb;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var LJ=function(type){var aZ=type;type=undefined;var rM=new Date();var rG=new Date();var aQ=null;var G;var bn;var cX;var dk=new IPCC.Web.UI.Data();var bP=new IPCC.Web.UI.gx();var F=this;var ji;this.fu=function(kY,cq){if((ji&kY)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cq+' is not a valid property for this type of Mark.');}};if(aZ===IPCC.Web.UI.MarkType.SignatureText){this.kv='#000000';this.iE=IPCC.Web.UI.LineStyle.Solid;this.fz=0;}else{this.kv='#000000';this.iE=IPCC.Web.UI.LineStyle.Solid;this.fz=1;}this.cQ=255;this.mP=IPCC.Web.UI.MarkInteractionMode.Full;var kn=false;switch(aZ){case IPCC.Web.UI.MarkType.Line:kn=true;bn=new IPCC.Web.UI.PointCollection();bn.addPoint({x:0,y:0});bn.addPoint({x:0,y:0});ji=1;this.kv='#18385F';this.fz=6;break;case IPCC.Web.UI.MarkType.Polyline:kn=true;this.sG=false;bn=new IPCC.Web.UI.PointCollection();ji=2;this.fz=2;break;case IPCC.Web.UI.MarkType.Rectangle:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=4;this.ey='#FB0404';this.fz=4;break;case IPCC.Web.UI.MarkType.Ellipse:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=8;this.ey='#FB0404';this.fz=4;break;case IPCC.Web.UI.MarkType.Polygon:bn=new IPCC.Web.UI.PointCollection();ji=16;break;case IPCC.Web.UI.MarkType.Text:this.Fw='#000000';this.zM=false;this.qr=IPCC.Web.UI.LineStyle.Solid;this.CW=1;this.lL=new IPCC.Web.UI.Point(0,0);this.EF=IPCC.Web.UI.CalloutType.Triangle;this.yY=false;this.hz='Arial';this.ck=12;this.cj=IPCC.Web.UI.FontStyle.Regular;this.iE=IPCC.Web.UI.LineStyle.Solid;this.ed=0;G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bx='';this.ir=IPCC.Web.UI.HorizontalAlignment.Left;this.vi=IPCC.Web.UI.VerticalAlignment.Top;this.rm='#000000';this.zJ=255;this.AK=IPCC.Web.UI.Orientation.TopLeft;this.fH=[];this.fz=4;this.cQ=127;this.ey='#FFFFFF';ji=32;break;case IPCC.Web.UI.MarkType.Stamp:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=128;break;case IPCC.Web.UI.MarkType.Highlight:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bU='';this.ja='n';this.aS=0;this.cK='';this.bZ=0;this.cQ=127;ji=256;break;case IPCC.Web.UI.MarkType.HighlightText:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bU='';this.ja='n';this.aS=0;this.cK='';this.bZ=0;this.cQ=127;this.ey='#FFFF00';ji=512;this.fH=[];this.bm=[];break;case IPCC.Web.UI.MarkType.Freehand:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=64;this.fz=4;this.kv='#000000';this.iP=false;this.SS=1;this.TY=1;this.uJ='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=1024;this.ir=IPCC.Web.UI.HorizontalAlignment.Center;this.fz=4;this.kv='#000000';this.iP=false;this.SS=1;this.TY=1;this.uJ='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=2048;this.ir=IPCC.Web.UI.HorizontalAlignment.Center;this.bx='John Doe';this.rm='#000000';this.ey='#000000';this.hz="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=4096;this.hz='Arial';this.ck=8;this.cj=IPCC.Web.UI.FontStyle.Regular;this.bx='';this.ir=IPCC.Web.UI.HorizontalAlignment.Center;this.vi=IPCC.Web.UI.VerticalAlignment.Center;this.ey='#000000';this.rm='#FFFFFF';this.zJ=255;this.AK=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bm=[];this.bU='';this.fC='';this.bx='';this.hz='Arial';this.ck=8;this.aS=0;this.bZ=0;ji=8192;this.fH=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jN='';this.fz=2;this.cK='';this.bU='';this.ja='n';this.aS=0;this.bZ=0;this.ey='#3B00FF';ji=1<<14;this.fH=[];this.bm=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:G=new IPCC.Web.UI.Rectangle(0,0,0,0);ji=16384;this.be='';this.qS='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jN='';this.Mx='';this.zx='';this.FS=0;this.IU=0;this.qh=255;ji=32768;break;case IPCC.Web.UI.MarkType.TextLine:ji=65536;G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ir=IPCC.Web.UI.HorizontalAlignment.Left;this.bx='';this.rm='#000000';this.hz="Courier New";this.fz=1;this.iP=true;this.ed=0;this.Cu=0;this.Iz=false;var jt=IPCC.K.tY("M",this.hz,{uS:'pre'});this.xQ=jt.width;this.yi=jt.height;this.ju=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Fw='#000000';this.zM=false;this.qr=IPCC.Web.UI.LineStyle.Solid;this.CW=1;this.lL=new IPCC.Web.UI.Point(0,0);this.EF=IPCC.Web.UI.CalloutType.Triangle;this.yY=false;this.hz='Courier New';this.iq=0;this.ed=0;this.ck=12;this.cj=IPCC.Web.UI.FontStyle.Regular;G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bx='';this.ir=IPCC.Web.UI.HorizontalAlignment.Left;this.vi=IPCC.Web.UI.VerticalAlignment.Top;this.rm='#000000';this.zJ=255;this.AK=IPCC.Web.UI.Orientation.TopLeft;this.fH=[];this.fz=1;this.iP=false;this.ey='#FFFFFF';this.cQ=0;ji=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:G=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bU='';this.kv='#000000';this.fz=2;this.ja='n';this.aS=0;this.cK='';this.bZ=0;ji=1<<17;this.fH=[];this.bm=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',aZ);}if(aZ!==IPCC.Web.UI.MarkType.SignaturePath&&aZ!==IPCC.Web.UI.MarkType.Freehand&&aZ!==IPCC.Web.UI.MarkType.SignatureText&&aZ!==IPCC.Web.UI.MarkType.DocumentHyperlink&&aZ!==IPCC.Web.UI.MarkType.HighlightText&&aZ!==IPCC.Web.UI.MarkType.Strikethrough&&aZ!==IPCC.Web.UI.MarkType.TextLine){if(kn){this.Km=15;this.JV=25;this.mk=IPCC.Web.UI.LineHeadType.None;this.zV='#000000';this.Iq=15;this.Fl=25;this.Ik=IPCC.Web.UI.LineHeadType.None;}else{this.Hg=true;this.iP=true;if(aZ===IPCC.Web.UI.MarkType.Highlight){this.iP=false;this.cQ=100;}}}this.UB=IPCC.Web.UI.aFG++;this.cB=true;this.al={};this.cf=[];var KJ=false;function aug(aC,R){F.af('commentAdded',R);};function atM(aC,R){F.af('commentRemoved',R);};function MI(aC,R){F.af('commentChanged',R);};cX=new IPCC.Web.UI.Conversation(F);cX.add_commentAdded(aug);cX.add_commentChanged(MI);cX.add_commentRemoved(atM);this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};function aaq(aC,R){var afp='points';if(aZ===IPCC.Web.UI.MarkType.Line){afp=R.index===0?'startPoint':'endPoint';}F.cg(afp,R);};if(bn){bn.add_pointAdded(aaq);bn.add_pointChanged(aaq);bn.add_pointRemoved(aaq);}this.jg=function(){return aZ;};this.aiX=function(){return rM;};this.afb=function(h){rM=h;};this.aju=function(){return rG;};this.ZS=function(h){rG=h;};this.eU=function(){return aQ;};this.lT=function(value){if(aQ!==value){aQ=value;this.cg('artPage');}};this.iI=function(){return KJ;};this.jO=function(h){KJ=h;};this.ags=function(){var mr=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(aZ){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bn.rC();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return G.clone();case IPCC.Web.UI.MarkType.Text:var jb=G.x+G.width,kg=G.y+G.height;var akc=G.x+this.lL.x,aki=G.y+this.lL.y;mr.x=Math.min(G.x,Math.min(jb,akc));mr.y=Math.min(G.y,Math.min(kg,aki));mr.width=Math.max(G.x,Math.max(jb,akc))-mr.x;mr.height=Math.max(G.y,Math.max(kg,aki))-mr.y;break;}return mr;};this.fw=function(){return G.clone();};this.zP=function(h){this.EJ(16384,'image','be',h);};this.cJ=function(){return this.be;};this.pH=function(){return bn;};this.axH=function(){return cX;};this.wB=function(){return dk;};this.EZ=function(h){var rV;if(!G.equals(h)){G=new IPCC.Web.UI.Rectangle(h.x,h.y,h.width,h.height);if(aZ===IPCC.Web.UI.MarkType.Stamp||aZ===IPCC.Web.UI.MarkType.SignatureText||aZ===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){rV=0;if(G.width>=G.height){rV=(G.width/14)/2;}else{rV=G.width/15;}if(rV*15>=G.width){rV=(G.width/15)/2;}this.stampSize=Math.round(rV);}else{var textFontSize=(G.width/6);if(textFontSize>G.height){textFontSize=(G.height-(G.height/6));}var mR=this.get_text();if(!mR){mR=(aZ===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}rV=mR.length*textFontSize;if(rV>G.width){textFontSize=((G.width/mR.length));}var Cu=Math.round(textFontSize);this.stampSize=Cu.toString();}}this.cg('rectangle');}};this.mv=function(){return this.UB;};this.HM=function(eu,eK){if(eu!==0||eK!==0){switch(aZ){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bn.alU(eu,eK);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(aZ===IPCC.Web.UI.MarkType.RectangleRedaction&&this.bU!==undefined){break;}G.x+=eu;G.y+=eK;this.cg('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.UM=function(Ty){if(this.fH&&Ty!==this.fH){while(this.fH.length>0){this.fH.pop();}if(Ty){this.fH=Ty.slice(0);}this.af('markTextSelectionChanged',{});}};this.JM=function(H){if(this.fH){bP.addHandler('markTextSelectionChanged',H);}};this.EO=function(H){if(this.fH){bP.removeHandler('markTextSelectionChanged',H);}};this.vO=function(H){bP.addHandler('commentAdded',H);};this.EK=function(H){bP.removeHandler('commentAdded',H);};this.vj=function(H){bP.addHandler('commentRemoved',H);};this.Dm=function(H){bP.removeHandler('commentRemoved',H);};this.tk=function(H){bP.addHandler('commentChanged',H);};this.us=function(H){bP.removeHandler('commentChanged',H);};this.lf=function(H){bP.addHandler('propertyChanged',H);};this.nh=function(H){bP.removeHandler('propertyChanged',H);};this.cg=function(cq){var H=bP.getHandler('propertyChanged');if(H){H(this,new IPCC.pN(cq));}};this.lf(function(C){C.ZS(new Date());});return this;};LJ.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.pH().getPoint(0)+' to '+this.pH().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.pH().eY()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fw();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fw();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fw();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.pH().eY()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bx+'", at '+this.fw();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fw();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fw();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fw();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fw();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fw();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fw();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.uJ+'", at '+this.fw();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.uJ+'", at '+this.fw();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fw();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fw();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.fw();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fw();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fw();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.fw();}return 'Mark';},initializeDates:function(rM,rG){IPCC.aF.iu(rM,"dateCreated");IPCC.aF.iu(rG,"dateModified");this.afb(rM);this.ZS(rG);},get_dateCreated:function(){return this.aiX();},get_dateModified:function(){return this.aju();},lG:function(kY,cq,jX,h){this.fu(kY,cq);if(this[jX]!==h){this[jX]=h;this.cg(cq);}},Kj:function(kY,cq,jX,h){IPCC.aF.XO(h,cq);this.lG(kY,cq,jX,h);},vR:function(kY,cq,jX,h){IPCC.aF.hc(h,cq);this.lG(kY,cq,jX,h);},zC:function(kY,cq,jX,h,wt,xP){IPCC.aF.kc(h,cq,wt,xP);this.lG(kY,cq,jX,h);},Zf:function(kY,cq,jX,h,wt,xP){IPCC.aF.mn(h,cq,wt,xP);this.lG(kY,cq,jX,h);},EJ:function(kY,cq,jX,h){IPCC.aF.aZ(h,cq,'string');this.lG(kY,cq,jX,h);},vh:function(kY,cq,jX,h,kE){IPCC.aF.kE(h,cq,kE);this.lG(kY,cq,jX,h);},aCa:function(kY,cq,jX,h,kE){IPCC.aF.kE(h,cq,kE,true);this.lG(kY,cq,jX,h);},aBn:function(kY,cq,jX,h){IPCC.aF.bF(h,cq);this.lG(kY,cq,jX,h);},get_artPage:function(){return this.eU();},get_boundingRectangle:function(){return this.ags();},get_selected:function(){var aQ=this.eU();if(!aQ){return false;}var fD=aQ.xC();return fD.contains(this);},set_selected:function(value){var aQ=this.eU();if(aQ){if(this.mP!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var fD=aQ.xC();if(value!==fD.contains(this)){if(value){fD.Pj(this);}else{fD.tm(this);}this.cg('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fu(32,'calloutLineColor');return this.Fw;},set_calloutLineColor:function(value){this.Kj(32,'calloutLineColor','Fw',value);},get_calloutLineIsDistinct:function(){this.fu(32,'calloutLineIsDistinct');return this.zM;},set_calloutLineIsDistinct:function(value){this.lG(32,'calloutLineIsDistinct','zM',value);},get_calloutLineStyle:function(){this.fu(32,'calloutLineStyle');return this.qr;},set_calloutLineStyle:function(value){this.vh(32,'calloutLineStyle','qr',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fu(32,'calloutLineWidth');return this.CW;},set_calloutLineWidth:function(value){this.zC(32,'calloutLineWidth','CW',value,0,50);},get_calloutPoint:function(){this.fu(32,'calloutPoint');return this.lL;},set_calloutPoint:function(value){this.aBn(32,'calloutPoint','lL',value);},get_calloutType:function(){this.fu(32,'calloutType');return this.EF;},set_calloutType:function(value){this.vh(32,'calloutType','EF',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fu(32,'calloutVisible');return this.yY;},set_calloutVisible:function(value){if(!this.yY&&value&&this.jg()===IPCC.Web.UI.MarkType.Text){if(this.lL.x===0&&this.lL.y===0){var G=this.fw();this.set_calloutPoint({x:G.width,y:G.height*1.5});}}this.lG(32,'calloutVisible','yY',value);},get_endHeadAngle:function(){this.fu(3,'endHeadAngle');return this.Km;},set_endHeadAngle:function(value){this.zC(3,'endHeadAngle','Km',value,0,180);},get_endHeadLength:function(){this.fu(3,'endHeadLength');return this.JV;},set_endHeadLength:function(value){this.zC(3,'endHeadLength','JV',value,0,100);},get_endHeadType:function(){this.fu(3,'endHeadType');return this.mk;},set_endHeadType:function(value){this.vh(3,'endHeadType','mk',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fu(1<<14|1<<15,'href');return this.jN;},set_href:function(value){this.EJ(1<<14|1<<15,'href','jN',value);},has_unsafe_href:function(){return(! !this.jN&&IPCC.K.amQ(this.jN));},get_mask:function(){this.fu(65536,'mask');return this.ju;},set_mask:function(value){this.lG(65536,'mask','ju',value);},get_borderType:function(){this.fu(32768,'borderType');return this.Mx;},set_borderType:function(value){this.EJ(32768,'borderType','Mx',value);},get_borderHorizontalRadius:function(){this.fu(32768,'borderHorizontalRadius');return this.FS;},set_borderHorizontalRadius:function(value){this.vR(32768,'borderHorizontalRadius','FS',value);},get_borderVerticalRadius:function(){this.fu(1<<15,'borderVerticalRadius');return this.IU;},set_borderVerticalRadius:function(value){this.vR(32768,'borderVerticalRadius','IU',value);},get_borderOpacity:function(){this.fu(32768,'qh');return this.qh;},set_borderOpacity:function(value){this.Zf(32768,'qh','qh',value,0,255);},get_borderPattern:function(){this.fu(32768,'zx');return this.zx;},set_borderPattern:function(value){this.lG(32768,'zx','zx',value,0,255);},get_fillColor:function(){this.fu(16380+(1<<14),'fillColor');return this.ey;},set_fillColor:function(value){this.Kj(16380+(1<<14),'fillColor','ey',value);},get_fillVisible:function(){this.fu(16380,'fillVisible');return this.Hg;},set_fillVisible:function(value){this.lG(16380,'fillVisible','Hg',value);},get_fontName:function(){this.fu(6176+8192+65536+(1<<18),'fontName');return this.hz;},set_fontName:function(value){this.EJ(6176+8192+65536+(1<<18),'fontName','hz',value);if(this.jg()===IPCC.Web.UI.MarkType.SignatureText||this.jg()===IPCC.Web.UI.MarkType.TextLine){var bk=(this.jg()===IPCC.Web.UI.MarkType.TextLine)?{uS:'pre'}:{};var jt=IPCC.K.tY(this.bx,this.hz,bk);this.xQ=jt.width;this.yi=jt.height;}if(this.jg()===IPCC.Web.UI.MarkType.TextLine){this.Iz=false;}},get_fontSize:function(){this.fu(32+2048+4096+8192,'fontSize');return this.ck;},set_fontSize:function(value){this.zC(32+2048+4096+8192,'fontSize','ck',value,0.1,288);},get_fontStyle:function(){this.fu(6176+(1<<18),'fontStyle');return this.cj;},set_fontStyle:function(value){this.aCa(6176+(1<<18),'fontStyle','cj',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fu(3,'headFillColor');return this.zV;},set_headFillColor:function(value){this.Kj(3,'headFillColor','zV',value);},get_interactionMode:function(){this.fu(~0,'interactionMode');return this.mP;},set_interactionMode:function(value){this.vh(~0,'interactionMode','mP',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.fu(32+65536+(1<<18),'maxLength');return this.ed;},set_maxLength:function(value){this.vR(32+65536+(1<<18),'maxLength','ed',value);},get_maxFontSize:function(){this.fu(1<<18,'maxFontSize');return this.iq;},set_maxFontSize:function(value){this.vR(1<<18,'maxFontSize','iq',value);},get_isClosed:function(){this.fu(2,'isClosed');return this.sG;},set_isClosed:function(value){this.lG(2,'isClosed','sG',value);},get_lineColor:function(){return this.kv;},set_lineColor:function(value){this.Kj(13567+32768+(1<<17),'lineColor','kv',value);},get_lineStyle:function(){return this.iE;},set_lineStyle:function(value){this.vh(63+32768,'lineStyle','iE',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.fz;},set_lineWidth:function(value){this.zC(13567+32768+(1<<17),'lineWidth','fz',value,0,50);},get_lineVisible:function(){this.fu(172+65536,'lineVisible');return this.iP;},set_lineVisible:function(value){this.lG(172+65536,'lineVisible','iP',value);},get_opacity:function(){return this.cQ;},set_opacity:function(value){this.Zf(895+2048+1024,'opacity','cQ',value,0,255);},get_points:function(){this.fu(19,'points');return this.pH();},get_conversation:function(){return this.axH();},get_data:function(){return this.wB();},get_image:function(){this.fu(16384,'image');return this.cJ();},set_image:function(value){this.fu(16384,'image');this.zP(value);},get_rectangle:function(){this.fu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fw();},set_rectangle:function(value){this.fu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.aF.G(value,'rectangle');this.EZ(value);if(this.jg()===IPCC.Web.UI.MarkType.TextLine){this.Iz=false;}},get_startHeadAngle:function(){this.fu(3,'startHeadAngle');return this.Iq;},set_startHeadAngle:function(value){this.zC(3,'startHeadAngle','Iq',value,0,180);},get_startHeadLength:function(){this.fu(3,'startHeadLength');return this.Fl;},set_startHeadLength:function(value){this.zC(3,'startHeadLength','Fl',value,0,100);},get_startHeadType:function(){this.fu(3,'startHeadType');return this.Ik;},set_startHeadType:function(value){this.vh(3,'startHeadType','Ik',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fu(14496+65536+(1<<17)+(1<<18),'text');return this.bx;},set_text:function(value){if(this.bx===value){return;}this.EJ(14496+65536+(1<<17)+(1<<18),'text','bx',value);if(this.jg()===IPCC.Web.UI.MarkType.SignatureText||this.jg()===IPCC.Web.UI.MarkType.TextLine){var bk=(this.jg()===IPCC.Web.UI.MarkType.TextLine)?{uS:'pre'}:{};var jt=IPCC.K.tY(this.bx,this.hz,bk);this.xQ=jt.width;this.yi=jt.height;}if(this.fH){while(this.fH.length>0){this.fH.pop();}}},get_textHorizontalAlignment:function(){this.fu(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.ir;},set_textHorizontalAlignment:function(value){this.vh(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','ir',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fu(32,'textVerticalAlignment');return this.vi;},set_textVerticalAlignment:function(value){this.vh(32,'textVerticalAlignment','vi',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fu(6176+65536+(1<<18),'textColor');return this.rm;},set_textColor:function(value){this.Kj(6176+65536+(1<<18),'textColor','rm',value);},get_textOpacity:function(){this.fu(32,'textOpacity');return this.zJ;},set_textOpacity:function(value){this.Zf(32,'textOpacity','zJ',value,0,255);},get_textOrientation:function(){this.fu(32,'textOrientation');return this.AK;},set_textOrientation:function(value){this.vh(32,'textOrientation','AK',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.jg();},get_visible:function(){return this.cB;},set_visible:function(value){this.lG((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','cB',value);},get_markID:function(){return this.mv();},get_pathString:function(){return this.uJ;},set_pathString:function(value){var uJ=this.get_pathString();if(uJ!==value){this.alY=true;}this.EJ(1088,'pathString','uJ',value);},get_pathWidth:function(){return this.SS;},set_pathWidth:function(value){this.vR(1088,'pathWidth','SS',value);},get_pathHeight:function(){return this.TY;},set_pathHeight:function(value){this.vR(1088,'pathHeight','TY',value);},get_startIndex:function(){this.fu((1<<17)+(1<<14)+8192+512,'startIndex');return this.aS;},set_startIndex:function(value){this.vR((1<<17)+(1<<14)+8192+512,'startIndex','aS',value);},get_textLength:function(){this.fu((1<<17)+(1<<14)+8192+512,'textLength');return this.bZ;},set_textLength:function(value){this.vR((1<<17)+(1<<14)+8192+512,'textLength','bZ',value);},add_propertyChanged:function(handler){this.lf(handler);},remove_propertyChanged:function(handler){this.nh(handler);},add_markTextSelectionChanged:function(handler){this.JM(handler);},remove_markTextSelectionChanged:function(handler){this.EO(handler);},move:function(deltaX,deltaY){IPCC.aF.hc(deltaX,'deltaX');IPCC.aF.hc(deltaY,'deltaY');this.HM(deltaX,deltaY);},moveBackward:function(){if(this.eU()){var index=this.eU().nR(this);var cO=this.eU().aiy();if(index>cO){this.eU().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eU()){var index=this.eU().nR(this);if(index<this.eU().VQ()-1){this.eU().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eU()){var cO=0;cO=this.eU().aiy();this.eU().reorderMark(this,cO);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eU()){this.eU().reorderMark(this,this.eU().VQ()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eU()){this.eU().removeMark(this);}},selectText:function(textRanges){this.UM(textRanges);},axG:function(){var fh={};var F=this;var bn,Zz,bF,G,T;function cc(cq,Lt){fh[Lt]=F[cq];};var kn=false;var ib=false;var yo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kn=true;yo=true;fh.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kn=true;yo=true;fh.__type='PolyLineMark:#IPCC.Web';cc('sG','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ib=true;fh.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:ib=true;fh.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:ib=true;fh.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:yo=true;fh.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:ib=true;fh.__type='TextMark:#IPCC.Web';cc('Fw','clc');cc('zM','clid');cc('qr','cls');cc('CW','clw');cc('EF','ct');cc('yY','cv');cc('hz','fn');cc('ck','fs');cc('cj','fst');cc('iE','ls');cc('bx','te');cc('ir','tha');cc('vi','tva');cc('rm','tc');cc('zJ','to');cc('AK','tor');bF=this.lL;if(bF.x!==0||bF.y!==0){fh.cp={x:bF.x,y:bF.y};}break;case IPCC.Web.UI.MarkType.Stamp:ib=true;fh.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:ib=true;fh.__type='HighlightText:#IPCC.Web';break;}if(kn){cc('Km','eha');cc('JV','ehl');cc('mk','eht');cc('zV','hfc');cc('Iq','sha');cc('Fl','shl');cc('Ik','sht');}else{cc('ey','fc');cc('Hg','fv');cc('iP','lv');}if(ib){G=this.get_rectangle();fh.r={x:G.x,y:G.y,width:G.width,height:G.height};}fh.t=this.get_type();cc('kv','lc');cc('iE','ls');cc('fz','lw');cc('cQ','o');cc('cB','v');if(yo){bn=this.pH();Zz=[];for(T=0;T<bn.get_length();T++){bF=bn.getPoint(T);Zz.push({x:bF.x,y:bF.y});}fh.p=Zz;}return fh;},ayQ:function(fh){var F=this;var bn,T;function cc(cq,Lt){if(fh.hasOwnProperty(Lt)){F[cq]=fh[Lt];}};var kn=false;var ib=false;var yo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kn=true;if(fh.p&&fh.p.length===2){bn=this.pH();bn.setPoint(0,new IPCC.Web.UI.Point(fh.p[0].x,fh.p[0].y));bn.setPoint(1,new IPCC.Web.UI.Point(fh.p[1].x,fh.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kn=true;yo=true;cc('sG','ic');break;case IPCC.Web.UI.MarkType.Rectangle:ib=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:ib=true;break;case IPCC.Web.UI.MarkType.Ellipse:ib=true;break;case IPCC.Web.UI.MarkType.Polygon:yo=true;break;case IPCC.Web.UI.MarkType.Text:ib=true;cc('Fw','clc');cc('zM','clid');cc('qr','cls');cc('CW','clw');cc('EF','ct');cc('yY','cv');cc('hz','fn');cc('ck','fs');cc('cj','fst');cc('iE','ls');cc('bx','te');cc('ir','tha');cc('vi','tva');cc('rm','tc');cc('zJ','to');cc('AK','tor');if(fh.cp){this.lL=new IPCC.Web.UI.Point(fh.cp.x,fh.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:ib=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:ib=true;break;}if(kn){cc('Km','eha');cc('JV','ehl');cc('mk','eht');cc('zV','hfc');cc('Iq','sha');cc('Fl','shl');cc('Ik','sht');}else{cc('ey','fc');cc('Hg','fv');cc('iP','lv');}if(ib){if(fh.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(fh.r.x,fh.r.y,fh.r.width,fh.r.height));}}fh.t=this.get_type();cc('kv','lc');cc('iE','ls');cc('fz','lw');cc('cQ','o');cc('cB','v');if(fh.p&&yo){bn=this.pH();for(T=0;T<fh.p.length;T++){bn.addPoint(new IPCC.Web.UI.Point(fh.p[T].x,fh.p[T].y));}}return fh;}};LJ.registerClass=dh;LJ.registerClass('IPCC.Web.UI.Mark');module.exports=LJ;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Ng=function(){var bz=[];var bP=new IPCC.Web.UI.gx();this.Pj=function(C){if(this.Fi(C)=== -1){bz.push(C);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;this.af('markAdded',R);}};this.anN=function(yG){var R=new IPCC.Web.UI.MarkEventArgs();R.length=yG.get_length();var F=this;function jH(C){if(F.Fi(C)=== -1){bz.push(C);}};yG.forEach(jH,{});if(R.length>0){this.af('markAdded',R);}};this.kH=function(jA,cF){var Jm=[].concat(bz);var T;for(T=0;T<Jm.length;T++){jA.call(cF,Jm[T],T,this);}};this.eY=function(){return bz.length;};this.tm=function(C){var T=this.Fi(C);if(T> -1){bz.splice(T,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=C;this.af('markRemoved',R);}};this.Fi=function(C){var T;for(T=0;T<bz.length;T++){if(bz[T]===C){return T;}}return-1;};this.zc=function(H){bP.addHandler('markAdded',H);};this.zl=function(H){bP.removeHandler('markAdded',H);};this.ze=function(H){bP.addHandler('markRemoved',H);};this.Ag=function(H){bP.removeHandler('markRemoved',H);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};return this;};Ng.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Pj(mark);},addMarks:function(markCollection){this.anN(markCollection);},forEach:function(method,context){this.kH(method,context);},get_length:function(){return this.eY();},contains:function(mark){return this.Fi(mark)> -1;},removeMark:function(mark){this.tm(mark);},removeAllMarks:function(){this.kH(function(C,ak,yG){yG.tm(C);});},add_markAdded:function(handler){this.zc(handler);},remove_markAdded:function(handler){this.zl(handler);},add_markRemoved:function(handler){this.ze(handler);},remove_markRemoved:function(handler){this.Ag(handler);}};Ng.registerClass=dh;Ng.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Ng;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var ME=function(){return this;};ME.registerClass=dh;ME.prototype={};ME.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=ME;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var FX=function(){};FX.registerEnum=ep;FX.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};FX.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=FX;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var KR=function(){};KR.registerEnum=ep;KR.prototype={Full:0,SelectionDisabled:1};KR.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=KR;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var MO=function(){};MO.registerEnum=ep;MO.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};MO.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=MO;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var ep=require('./../../IPCC.Util').regEnum;var SQ=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};SQ.registerEnum=ep;SQ.prototype={leftButton:0,middleButton:1,rightButton:2};SQ.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var RE=function(){var ahg=false;this.apI=function(){ahg=true;};this.agC=function(){return ahg;};return this;};RE.prototype={preventDefault:function(){this.apI();}};RE.registerClass=dh;RE.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=RE;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var Sd=function(){};Sd.registerEnum=ep;Sd.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Sd.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Sd;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var OE=function(){};OE.registerEnum=ep;OE.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};OE.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=OE;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var adY=function(element,nZ,ML){var hm=this;var ac;var L;var yp=0;var Ns='';var Np=false;var bP=new IPCC.Web.UI.gx();var eZ=null;var qn=IPCC.qn;var akm=IPCC.qn;var Gl=0.0;var Lc=false;var Nx=0;var aeG= -1;var afF= -1;var afx= -1;function lU(Jl){if(!L){return false;}return L.lU(Jl);};this.bg=function(hM,hY){if(lU(IPCC.Web.UI.DebugErrorLevel.Production)){L.bg(hM,hY);}};this.ag=function(hM,jP,rX){if(!lU(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],(rX?rX:0));}de+=')';this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);};this.CT=function(hM,jP,nc,rX){if(!lU(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],(rX?rX:0));}de+=') = ';de+=IPCC.ik.qI(nc,1);this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);};this.dG=function(hM,jP,nc){if(!lU(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var de=hM+'(';var T;for(T=0;T<jP.length;T++){if(T>0){de+=', ';}de+=IPCC.ik.qI(jP[T],0);}de+=') = ';de+=IPCC.ik.qI(nc,1);this.tP(de,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.tP=function(kf,bV){if(L){L.nM(kf,IPCC.Web.UI.DebugItemCause.FunctionCall,bV);}};this.nM=function(kf){if(L){L.nM(kf,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.Jn=function(){return L.get_debug();};this.Yw=function(h){L.set_debug(h);};this.BK=function(){return L.BK();};this.Hn=function(h){IPCC.aF.kE(h,'value',IPCC.Web.UI.DebugErrorLevel);L.Hn(h);};this.aGU=function(h){Lc=h;};this.aGR=function(){return Lc;};var nY=function(){if(L.cJ()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cU(cD,H){bP.addHandler(cD,H);};function dg(cD,H){bP.removeHandler(cD,H);};this.Jb=function(jn,dM){L.ayA(jn,dM);};this.aFP=function(dM,C){L.vQ(C);L.cG();};this.Xy=function(H){cU('pageOpening',H);};this.abf=function(H){dg('pageOpening',H);};this.We=function(H){cU('pageOpened',H);};this.aax=function(H){dg('pageOpened',H);};this.aog=function(H){cU('pageClosed',H);};this.azW=function(H){dg('pageClosed',H);};this.GK=function(H){cU('pageOpenFailed',H);};this.FY=function(H){dg('pageOpenFailed',H);};this.Xu=function(H){cU('pageDisplayed',H);};this.abU=function(H){dg('pageDisplayed',H);};this.Oo=function(H){cU('mouseDown',H);};this.aaN=function(H){dg('mouseDown',H);};this.Nk=function(H){cU('mouseMove',H);};this.abR=function(H){dg('mouseMove',H);};this.OH=function(H){cU('mouseUp',H);};this.aai=function(H){dg('mouseUp',H);};this.aoe=function(H){cU('contextMenu',H);};this.aAx=function(H){dg('contextMenu',H);};this.zc=function(H){cU('markAdded',H);};this.zl=function(H){dg('markAdded',H);};this.XI=function(H){cU('markCreating',H);};this.aaU=function(H){dg('markCreating',H);};this.JZ=function(H){cU('markChanged',H);};this.Gh=function(H){dg('markChanged',H);};this.ze=function(H){cU('markRemoved',H);};this.Ag=function(H){dg('markRemoved',H);};this.IZ=function(H){cU('markReordered',H);};this.Gb=function(H){dg('markReordered',H);};this.Xo=function(H){cU('marksLoaded',H);};this.abv=function(H){dg('marksLoaded',H);};this.JO=function(H){cU('markSelectionChanged',H);};this.GA=function(H){dg('markSelectionChanged',H);};this.AB=function(H){cU('textPageReady',H);};this.Gg=function(H){dg('textPageReady',H);};this.Wi=function(H){cU('selectTextMouseToolCompleted',H);};this.aaS=function(H){dg('selectTextMouseToolCompleted',H);};this.Xq=function(H){cU('exceptionThrown',H);};this.WN=function(H){cU('scaleChanged',H);};this.aaw=function(H){dg('scaleChanged',H);};this.abb=function(H){dg('exceptionThrown',H);};this.zn=function(H){cU('textExtractionFailed',H);};this.FP=function(H){dg('textExtractionFailed',H);};this.lf=function(H){cU('propertyChanged',H);};this.nh=function(H){dg('propertyChanged',H);};var af=function(cD,R){try{var H;H=bP.getHandler(cD);if(H){H(hm,R);}}catch(e){hm.bg(cD+'Event',e);}};var qz=function(cD){function Cq(aC,R){af(cD,R);};L['add_'+cD](Cq);};var Ib=function(cD){function Cq(aC,R){if(Np&&L.NB()){Ew();}af(cD,R);};L['add_'+cD](Cq);};function Ew(){var ee,nJ,aaf;if(Ns!==''){aaf=document.getElementById(Ns);if(aaf){ee=hm.Od();nJ='{encodedDocumentIdentifier:"'+ee.encodedDocumentIdentifier;nJ+='",pageNumber:'+ee.pageNumber.toString();nJ+=',viewFitType:'+ee.viewFitType.toString();if(ee.viewRectangle&&ee.viewFitType===IPCC.Web.UI.FitType.Rectangle){nJ+=',viewRectangle:{x:'+ee.viewRectangle.x.toFixed(5);nJ+=',y:'+ee.viewRectangle.y.toFixed(5);nJ+=',width:'+ee.viewRectangle.width.toFixed(5);nJ+=',height:'+ee.viewRectangle.height.toFixed(5);nJ+='}';}if(ee.viewRotationDegreesClockwise){nJ+=',viewRotationDegreesClockwise:'+ee.viewRotationDegreesClockwise.toString();}if(ee.viewMirror){nJ+=',viewMirror:'+ee.viewMirror.toString();}if(ee.viewZoomFactor){nJ+=',viewZoomFactor:'+ee.viewZoomFactor.toString();}if(Np){var aQ=L.eU();if(aQ){nJ+=',artPageJson:"'+IPCC.hH.sp(aQ.saveToJson())+'"';}}nJ+='}';aaf.value=nJ;}}};var aFw=function(){function Cq(aC,R){var VF=true;switch(R.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':Ew();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Jw':case 'yq':VF=false;break;case 'IR':if(L.NB()){Ew();}VF=false;break;}if(VF){af('propertyChanged',R);}};L.lf(Cq);};this.Xn=function(aZ){IPCC.aF.kE(aZ,'type',IPCC.Web.UI.FitType);if(aZ===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}nY();eZ={aBx:true,viewFitType:aZ};YB();};this.fI=function(){return L.cJ()!==undefined;};this.kl=function(){nY();return L.cJ().width;};this.iM=function(){nY();return L.cJ().height;};this.ayi=function(){nY();return L.cJ().gC;};this.ayN=function(){return L.ae().fa().ahO();};this.ayy=function(){nY();return L.cJ().gn;};this.Ko=function(){if(!L|| !(L.cJ())){return '';}return L.cJ().get_identifier();};this.Op=function(){if(!L|| !(L.cJ())){return '';}return L.cJ().get_encodedIdentifier();};this.om=function(){if(!L|| !(L.cJ())){return-1;}return L.cJ().aO;};this.axI=function(){if(!L|| !(L.cJ())){return 0;}return L.cJ().eL;};this.aip=function(){var be=L.cJ();if(!be){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bA=L.es();bA.x=bA.y=0;var sd=L.ae().fa();sd.xH();var dB=sd.yH(bA);if(dB.x<0){dB.width+=dB.x;dB.x=0;}if(dB.y<0){dB.height+=dB.y;dB.y=0;}if(dB.x+dB.width>be.width){dB.width=be.width-dB.x;}if(dB.y+dB.height>be.height){dB.height=be.height-dB.y;}return dB;};function Lw(){var dC={},bW=L.ae().fa();dC.documentIdentifier=hm.Ko();dC.encodedDocumentIdentifier=hm.Op();dC.pageNumber=hm.om();dC.artPage=hm.eU();dC.referenceDocumentIdentifier=hm.Ko();dC.referencePageNumber=hm.om();dC.viewFitType=IPCC.Web.UI.FitType.Rectangle;dC.viewRectangle=hm.aip();dC.imGearPage=hm.lE();dC.transientArtPage=hm.ml();var hC=bW.ahO();if(hC!==0){dC.viewRotationDegreesClockwise=hC;}if(bW.aAD()){dC.viewMirror=true;}return dC;};this.agf=function(aS,cE){L.agf(aS,cE);};this.Od=function(){var dC;if(ac){dC=new IPCC.Web.UI.PageViewState();dC.documentIdentifier=ac.documentIdentifier;dC.encodedDocumentIdentifier=ac.encodedDocumentIdentifier;dC.pageNumber=ac.pageNumber;dC.artPage=ac.artPage;dC.artPageJson=ac.artPageJson;dC.referenceDocumentIdentifier=ac.documentIdentifier;dC.referencePageNumber=ac.pageNumber;dC.viewFitType=ac.viewFitType;dC.viewRectangle=ac.viewRectangle;dC.viewRotationDegreesClockwise=ac.viewRotationDegreesClockwise;dC.viewMirror=ac.viewMirror;dC.viewZoomFactor=ac.viewZoomFactor;dC.transientArtPage=ac.transientArtPage;}else{dC=Lw();}return dC;};this.Qa=function(bp){var bA=L.es();this.acA(bp,{x:bA.width/2,y:bA.height/2});};this.acA=function(bp,df){IPCC.aF.kc(bp,'factor',1.01,20);IPCC.aF.bF(df,'point');nY();var aj=L.ae();var ba=aj.fa();var bq=L.cJ();var lg=ba.qC();if(lg*bp>bq.ql){bp=bq.ql/lg;}ba.vX(bp,bp,df.x,df.y);ba.jJ(bq,L.es());eZ=null;aj.jC(ba);};this.Tg=function(bp){var bA=L.es();this.ado(bp,{x:bA.width/2,y:bA.height/2});};this.ado=function(bp,df){IPCC.aF.kc(bp,'factor',1.01,20);IPCC.aF.bF(df,'point');nY();var aj=L.ae();var ba=aj.fa();var bq=L.cJ();var lg=ba.qC();if(lg/bp<bq.uW){bp=lg/bq.uW;}ba.vX(1/bp,1/bp,df.x,df.y);ba.jJ(bq,L.es());eZ=null;aj.jC(ba);};this.iO=function(bp){var bA=L.es();this.atx(bp,{x:bA.width/2,y:bA.height/2});};this.Fv=function(bp){var aj=L.ae();eZ=null;aj.Fv(bp);};this.FB=function(bp){var aj=L.ae();eZ=null;aj.FB(bp);};this.ET=function(bp){var aj=L.ae();eZ=null;aj.ET(bp);};this.atx=function(bp,df){IPCC.aF.bF(df,'point');nY();var aj=L.ae();var ba=aj.fa();var bq=L.cJ();var lg=ba.qC();if(bp>bq.ql){bp=bq.ql;}else if(bp<bq.uW){bp=bq.uW;}ba.vX(bp/lg,bp/lg,df.x,df.y);ba.jJ(bq,L.es());eZ=null;aj.jC(ba);};this.vm=function(rE){IPCC.aF.SN(rE,'degreesClockwise',[90,180,270,-90,-180,-270]);nY();var aj=L.ae();var ba=aj.fa();var bA=L.es();ba.afn(rE,bA.width/2,bA.height/2);ba.jJ(L.cJ(),L.es());eZ=null;aj.jC(ba);};this.apo=function(){nY();var aj=L.ae();var ba=aj.fa();var bA=L.es();ba.vX(-1,1,bA.width/2,bA.height/2);ba.jJ(L.cJ(),L.es());eZ=null;aj.jC(ba);};this.aDy=function(dB){IPCC.aF.G(dB,'pageRectangle');nY();var aj=L.ae();var ba=aj.fa();var bA=L.es();var bq=L.cJ();ba.Qy(bq,bA,dB);ba.jJ(bq,L.es());eZ=null;aj.jC(ba);};this.aEA=function(dv){IPCC.aF.bF(dv,'imagePoint');nY();var aj=L.ae();var ba=aj.fa();var bA=L.es();ba.aet(bA,dv);ba.jJ(L.cJ(),L.es());eZ=null;aj.jC(ba);};this.aht=function(){nY();eZ=null;var aj=L.ae();var ba=aj.fa();var bA=L.es();ba.vX(1,-1,bA.width/2,bA.height/2);ba.jJ(L.cJ(),L.es());eZ=null;aj.jC(ba);};this.cG=function(){L.cG();};this.JJ=function(){L.JJ();};var YB=function(){var bq=L.cJ();var bA=L.es();var ba;if(!eZ){ba=L.ae().fa();ba.jJ(bq,bA);L.ae().jC(ba);return;}if(eZ.aBx){ba=L.ae().fa();}else{ba=new IPCC.fp();ba.aBU(bq,bA);if(eZ.viewRotationDegreesClockwise){ba.rotate(eZ.viewRotationDegreesClockwise);}if(eZ.viewMirror){ba.avo(bA);}}if(eZ.viewZoomFactor){if(eZ.viewZoomFactor>bq.ql){eZ.viewZoomFactor=bq.ql;}else if(eZ.viewZoomFactor<bq.uW){eZ.viewZoomFactor=bq.uW;}eZ.viewFitType=IPCC.Web.UI.FitType.ActualSize;ba.abQ(eZ.viewFitType,bq,bA);ba.scale(eZ.viewZoomFactor,eZ.viewZoomFactor);}else{if(!eZ.viewFitType&&eZ.viewFitType!==0){eZ.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eZ.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eZ.viewRectangle){eZ.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eZ.viewFitType!==IPCC.Web.UI.FitType.Rectangle){ba.abQ(eZ.viewFitType,bq,bA);}else{ba.Qy(bq,bA,eZ.viewRectangle);}}ba.jJ(bq,bA);L.ae().jC(ba);};var anh=function(Fb){eZ=Fb;Nx=0;YB();};this.Pg=function(an){yp++;var UN=yp;var aoG={};Gl=0.0;L.KU=0.0;IPCC.hH.alN(an);if(lU(IPCC.Web.UI.DebugErrorLevel.Development)){var de='opening documentIdentifier "'+an.documentIdentifier+'", pageNumber '+an.pageNumber;this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);}ac=new IPCC.Web.UI.PageViewState();var T;for(T in an){if(an.hasOwnProperty(T)){ac[T]=an[T];}}if(an.documentIdentifier===''){this.QU();return;}if(IPCC.Web.UI.ArtPage){if(ac){if(!ac.artPage){var aQ=new IPCC.Web.UI.ArtPage();if(ac.artPageJson){aQ.loadFromJson(ac.artPageJson);}ac.artPage=aQ;}if(!ac.documentArtPage){var fs=new IPCC.Web.UI.ArtPage();ac.documentArtPage=fs;}if(this.jK()===true){if(!ac.imGearPage){var fT=new IPCC.Web.UI.ImGearDocument({documentIdentifier:an.documentIdentifier,imageServicePath:this.uC()});ac.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:an.pageNumber,aV:fT});fT.get_pages().addPage(ac.imGearPage);}if(!ac.transientArtPage){ac.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ac.viewRotationDegreesClockwise){IPCC.aF.SN(ac.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ac.viewFitType){IPCC.aF.kE(ac.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ac.viewZoomFactor){IPCC.aF.kc(ac.viewZoomFactor,'parameters.viewZoomFactor',0,20);}af('pageOpening',an);var be=new IPCC.hH(an.encodedDocumentIdentifier,an.pageNumber,0,0,0,0);var nC=function(){if(UN!==yp){return;}var sI=null;if(L.cJ()){sI=Lw();}L.ae().oI();L.zP(be);anh(ac);if(an.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ac){if(ac.artPage){L.lT(ac.artPage);L.eU().loadFromJson(be.aol);}}}else{if(ac){if(ac.artPage){L.lT(ac.artPage);}if(ac.documentArtPage){L.Iy(ac.documentArtPage);}if(L.jK()===true){if(ac.imGearPage){var TZ=ac.imGearPage.get_pageWidth();var QL=ac.imGearPage.get_pageHeight();ac.imGearPage.pl(hm.iW());if(!TZ){ac.imGearPage.Pq(hm.get_pageWidth());}if(!QL){ac.imGearPage.PU(hm.get_pageHeight());}L.Et(ac.imGearPage);if(typeof(L.lE().AF==='function')){if(!L.lE().cC().Az()){ac.imGearPage.vy(hm.km());setTimeout(L.lE().AF,1000);}}}if(ac.transientArtPage){L.DB(ac.transientArtPage);}}}}ac=null;if(sI){af('pageClosed',sI);}Ew();af('pageOpened',an);};if(an.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ac){if(!ac.artPageJson){be.aHv(L.uC(),L,nC,aoG);}else{be.Ut(L.uC(),L,nC);}}}else{be.Ut(L.uC(),L,nC);}};this.QU=function(){yp++;if(!(L.cJ())){return;}var sI=Lw();L.zP(undefined);L.lT(undefined);L.Et(undefined);L.DB(undefined);this.cG();Ew();sI=undefined;ac=undefined;eZ=undefined;var cV;cV=hm.lY();if(cV.igElements){if(cV.igElements.rn){cV.igElements.rn.AP=null;cV.igElements.rn.vJ=null;cV.igElements.rn.IK=null;cV.igElements.rn=null;}cV.igElements.EI=null;cV.igElements.ea=null;cV.igElements.gX=null;cV.igElements.dw=null;cV.igElements.lZ=null;cV.igElements.nx=null;cV.igElements.ln=null;cV.igElements.pz=null;cV.igElements.PF=null;cV.igElements.TN=null;cV.igElements.sK=null;}hm=null;cV.ad=null;af('pageClosed',sI);};this.avs=function(an){yp++;var UN=yp;Gl=0.0;L.KU=0.0;IPCC.hH.alN(an);if(lU(IPCC.Web.UI.DebugErrorLevel.Development)){var de='opening documentIdentifier "'+an.documentIdentifier+'", pageNumber '+an.pageNumber;this.tP(de,IPCC.Web.UI.DebugErrorLevel.Development);}ac=new IPCC.Web.UI.PageViewState();var T;for(T in an){if(an.hasOwnProperty(T)){ac[T]=an[T];}}if(an.documentIdentifier===''){this.QU();return;}if(IPCC.Web.UI.ArtPage){if(ac){if(!ac.artPage){var aQ=new IPCC.Web.UI.ArtPage();ac.artPage=aQ;}if(!ac.documentArtPage){var fs=new IPCC.Web.UI.ArtPage();ac.documentArtPage=fs;}if(this.jK()===true){if(!ac.imGearPage){var fT=new IPCC.Web.UI.ImGearDocument({documentIdentifier:an.documentIdentifier,imageServicePath:this.uC()});ac.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:an.pageNumber,aV:fT});fT.get_pages().addPage(ac.imGearPage);}if(!ac.transientArtPage){ac.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(ac.viewRotationDegreesClockwise){IPCC.aF.SN(ac.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(ac.viewFitType){IPCC.aF.kE(ac.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(ac.viewZoomFactor){IPCC.aF.kc(ac.viewZoomFactor,'parameters.viewZoomFactor',0,20);}af('pageOpening',an);var be=new IPCC.hH(an.encodedDocumentIdentifier,an.pageNumber,0,0,0,0);var nC=function(){if(UN!==yp){return;}var sI=null;if(L.cJ()){sI=Lw();}L.ae().oI();L.zP(be);anh(ac);if(ac){if(ac.artPage){L.lT(ac.artPage);}if(ac.documentArtPage){L.Iy(ac.documentArtPage);}if(L.jK()===true){if(ac.imGearPage){var TZ=ac.imGearPage.get_pageWidth();var QL=ac.imGearPage.get_pageHeight();ac.imGearPage.pl(hm.iW());if(!TZ){ac.imGearPage.Pq(hm.get_pageWidth());}if(!QL){ac.imGearPage.PU(hm.get_pageHeight());}L.Et(ac.imGearPage);if(typeof(L.lE().AF==='function')){if(!L.lE().cC().Az()){ac.imGearPage.vy(hm.km());setTimeout(L.lE().AF,1000);}}}if(ac.transientArtPage){L.DB(ac.transientArtPage);}}}ac=null;if(sI){af('pageClosed',sI);}Ew();af('pageOpened',an);};be.awU(L.uC(),L,nC);};this.aHe=function(){yp++;if(!(L.cJ())){return;}var be=L.cJ();L.zP(undefined);this.cG();L.zP(be);};this.XJ=function(CJ){L.XJ(CJ);};this.lT=function(h){L.lT(h);};this.eU=function(){return L.eU();};this.Iy=function(h){L.Iy(h);};this.Oq=function(){return L.Oq();};this.ml=function(){return L.ml();};this.DB=function(h){L.DB(h);};this.DN=function(){return L.DN();};this.aEv=function(h){L.aEv(h);};this.Kt=function(h){L.Kt(h);};this.tU=function(){return L.tU();};this.aFp=function(h){akm=this.awK(h);};this.iU=function(){return akm;};this.acn=function(h){L.acn(h);};this.Vi=function(){return L.Vi();};this.lP=function(){return L.lP();};this.qj=function(h){L.qj(h);};this.adB=function(h){L.adB(h);};this.VR=function(){return L.VR();};this.ZF=function(ayc){L.ZF(ayc);};this.Ve=function(){return L.Ve();};this.awK=function(ar){var by='',MY='',SB=function(aK){var tf=0,by;for(by in aK){if(aK.hasOwnProperty(by)){tf+=1;}}return tf;};for(by in qn){if(qn.hasOwnProperty(by)){if(typeof ar[by]==='undefined'){ar[by]=qn[by];}if(typeof ar[by]==='object'){if(!SB(ar[by])){ar[by]=qn[by];}else if(SB(ar[by])!==SB(qn[by])){for(MY in qn[by]){if(typeof ar[by][MY]==='undefined'){ar[by][MY]=qn[by][MY];}}}}}}return ar;};this.aEn=function(aEk){if(aEk===false){IPCC.gr=false;L.eR([new IPCC.mB(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}else{IPCC.gr=true;IPCC.afG=this.iU();L.eR([new IPCC.mB(),new IPCC.bX(),new IPCC.en(),new IPCC.cl(),new IPCC.cW(false)]);}};this.oI=function(){var aj=L.ae();if(!aj.xI()){return;}L.ae().oI();};this.aEt=function(dB){IPCC.aF.G(dB,'pageRectangle');var be=L.cJ();if(be){L.ae().showSelection(dB);}};this.EE=function(dv){IPCC.aF.bF(dv,'imagePoint');if(L.cJ()){L.ae().EE(new IPCC.Web.UI.Point(dv.x,dv.y));}};this.AE=function(dv){IPCC.aF.bF(dv,'imagePoint');if(L.cJ()){L.ae().AE(new IPCC.Web.UI.Point(dv.x,dv.y));}};this.wk=function(){if(L.cJ()&&L.ae().xI()){return L.ae().wk();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.ayk=function(){if(L.cJ()&&L.ae().xI()){var dB=L.ae().wk();return L.ae().fa().yH(dB);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.xI=function(){return! !(L.cJ()&&L.ae().xI());};this.uC=function(){return L.uC();};this.XA=function(h){IPCC.aF.ly(h,'value');L.XA(h);};this.ayj=function(){return Ns;};this.aFA=function(h){IPCC.aF.ly(h,'value');Ns=h;};this.azS=function(){return Np;};this.aFF=function(h){Np=h;};var ts='';this.uO=function(h){L.uO(h);ts=h;};this.lY=function(){return ts;};this.aAA=function(){return L.ae().get_magnifierMagnification();};this.aGt=function(h){IPCC.aF.kc(h,'value',1.5,8);L.ae().set_magnifierMagnification(h);};this.azd=function(){return L.ae().tI().width;};this.aGy=function(h){IPCC.aF.kc(h,'value',25,500);var tf=L.ae().tI();tf.width=h;L.ae().set_magnifierWindowSize(tf);};this.aAM=function(){return L.ae().tI().height;};this.aGb=function(h){IPCC.aF.kc(h,'value',25,500);var tf=L.ae().tI();tf.height=h;L.ae().set_magnifierWindowSize(tf);};this.OM=function(){return L.ae().OM();};this.Yy=function(h){IPCC.aF.kc(h,'value',-500,500);L.ae().Yy(h);};this.Pd=function(){return L.ae().Pd();};this.YJ=function(h){IPCC.aF.kc(h,'value',-500,500);L.ae().YJ(h);};this.UE=function(){return L.ae().UE();};this.ZQ=function(h){IPCC.aF.kc(h,'value',0.1,0.5);L.ae().ZQ(h);};this.yf=function(){return L.ae().yf();};this.IA=function(h){L.ae().IA(h);};this.raisePropertyChanged=function(cq,wx){if(L){L.cg(cq,wx);}};var bh= -1;this.Uu=function(){return bh;};this.aHk=function(h){L.pA=h;};this.Na=function(h){L.set_areMarksEditable(h);};this.aHc=function(){return L.set_areMarksEditable();};this.HU=function(h){IPCC.aF.kE(h,'value',IPCC.Web.UI.MouseTool);if(bh!==h){bh=h;var hL="None";switch(bh){case IPCC.Web.UI.MouseTool.None:L.eR([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gr===true){L.eR([new IPCC.pR(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.pR(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);hL="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gr===true){L.eR([new IPCC.mB(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.mB(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gr===true){L.eR([new IPCC.oD(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(true)]);}else{L.eR([new IPCC.oD(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(true)]);}hL="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gr===true){L.eR([new IPCC.oR(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.oR(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Rectangle),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Rectangle),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Ellipse),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Ellipse),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gr===true){L.eR([new IPCC.mb(),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.mb(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gr===true){L.eR([new IPCC.kL(IPCC.Web.UI.MarkType.Polyline),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.kL(IPCC.Web.UI.MarkType.Polyline),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gr===true){L.eR([new IPCC.lJ(),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.lJ(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gr===true){L.eR([new IPCC.kL(IPCC.Web.UI.MarkType.Polygon),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.kL(IPCC.Web.UI.MarkType.Polygon),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.TextLine),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.TextLine),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);hL="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gr===true){L.eR([new IPCC.me(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.me(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gr===true){L.eR([new IPCC.zw(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.zw(IPCC.Web.UI.MarkType.Text),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Stamp),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.Stamp),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gr===true){L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.ej(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:L.Lc=true;if(IPCC.gr===true){L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:L.Lc=false;if(IPCC.gr===true){L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.en(false,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gr===true){L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.en(true,this.iU()),new IPCC.cl(),new IPCC.cW(false)]);}else{L.eR([new IPCC.kP(),new IPCC.bX(),new IPCC.cl(),new IPCC.cW(false)]);}hL="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:hL});}};this.JY=function(apX){bh= -1;L.eR(apX);};this.ayJ=function(){return L.ae().get_presentationQuality();};this.aEu=function(h){IPCC.aF.kc(h,'value',0,100);L.ae().set_presentationQuality(h);};this.axg=function(){return L.ae().get_scrollBars();};this.aDs=function(h){IPCC.aF.kE(h,'value',IPCC.Web.UI.ScrollBars);L.ae().set_scrollBars(h);};this.awf=function(dv,aqE){IPCC.aF.bF(dv,'imagePoint');if(!(L.cJ())){return new IPCC.Web.UI.Point(0,0);}var df=L.ae().fa().transform(dv);if(aqE){df.constrain(L.es());}return df;};this.MK=function(df,apH){IPCC.aF.bF(df,'windowPoint');var be=L.cJ();if(!be){return new IPCC.Web.UI.Point(0,0);}var sd=L.ae().fa();sd.xH();var dv=sd.transform(df);if(apH){dv.constrain(be);}return dv;};function aud(){var cV;cV=hm.lY();var akI=cV.clientWidth;var akW=cV.clientHeight;var aCP=(eZ&&eZ.viewFitType===aeG&&akI===afF&&akW===afx);if(aCP){if(Nx>2){return;}Nx++;}else{aeG=eZ?eZ.viewFitType: -1;afF=akI;afx=akW;Nx=0;}YB();};function awN(){eZ=null;};function att(aC,R){switch(R.gj){case IPCC.fk.acR:hm.acA(1.25,R.RU.windowPoint);break;case IPCC.fk.ads:hm.ado(1.25,R.RU.windowPoint);break;case IPCC.fk.Xv:hm.vm(R.h);break;case IPCC.fk.agR:hm.aht();break;case IPCC.fk.amo:hm.apo();break;case IPCC.fk.acG:hm.Xn(R.h);break;case IPCC.fk.abV:hm.HU(R.h);break;}};this.jK=function(){return L.jK();};this.Jc=function(h){L.Jc(h);};this.cC=function(){return L.cC();};this.lE=function(){return L.lE();};this.Et=function(h){L.Et(h);};this.xB=function(){return L.get_requireRequestsOptimize();};this.Kc=function(h){L.Kc(h);};this.km=function(){return L.km();};this.vy=function(h){L.vy(h);};this.Im=function(dv){IPCC.aF.bF(dv,'imagePoint');return L.Im(dv);};this.AT=function(dj){L.AT(dj);};this.aaK=function(){L.aaK();};this.OR=function(ud,cE){var KV=L.cC().gp().eY();IPCC.aF.mn(ud,'ud',0,KV-1);L.OR(ud,cE);};this.tW=function(dj){if(dj===undefined){L.ae().tW(dj);return false;}var KV=L.cC().gp().eY();IPCC.aF.mn(dj,'textIndex',0,KV-1);L.tW(dj);return true;};this.Kb=function(){return! !(L.cJ()&&L.jK()&&L.cC().oV()===true&&L.ae().Kb());};this.aau=function(){var aj=L.ae();aj.aau();};this.RS=function(){if(L.jK()&&L.cC().oV()===true){return Math.min(L.ae().aiR(),L.ae().BZ());}};this.Dq=function(){if(L.jK()&&L.cC().oV()===true){return L.ae().Dq();}};this.Cv=function(){if(L.jK()&&L.cC().oV()===true&&L.ae().Kb()){return L.Cv();}else{return "";}};this.BZ=function(){return L.ae().BZ();};this.aAq=function(){return L.get_cursor();};this.aEW=function(h){L.set_cursor(h);};this.xq=function(){return L.xq();};this.ZL=function(h){L.ZL(h);};this.iW=function(){return L.iW();};this.pl=function(h){L.pl(h);};this.aCc=function(){L.ae().hideMagnifier();};this.aDq=function(df){L.ae().showMagnifier(df);};this.vQ=function(C){if(L.mH().igElements){L.vQ(C);L.cG();}};this.JS=function(){L.JS();};this.Ev=function(){return L.Ev();};this.qT=function(){if(L.mH().igElements){L.qT(true);}};function auk(aC,R){var vz=R.scaleFactor;var aa={scaleType:"scaledDown",pageNumber:R.pageNumber};if(Gl!==vz){if(vz>Gl){aa.scaleType="scaledUp";}Gl=vz;af('scaleChanged',aa);}};this.initialize=function(){L.aFR(this.lY().id);L.uO(this.lY().id);if(bh=== -1){this.HU(IPCC.Web.UI.MouseTool.RectangleZoom);}qz('mouseDown');qz('mouseMove');qz('mouseUp');qz('contextMenu');qz('markCreating');qz('pageOpenFailed');qz('textPageReady');qz('pageDisplayed');qz('exceptionThrown');qz('selectTextMouseToolCompleted');Ib('markAdded');Ib('markChanged');Ib('markRemoved');qz('textExtractionFailed');Ib('markReordered');Ib('marksLoaded');qz('markSelectionChanged');aFw();L.anS(aud);L.aoA(awN);L.aoS(att);L.add_scaleChanged(auk);L.azv();var cV=this.lY();cV.ad=this;};nZ=(nZ!==false);L=new IPCC.Zi(nZ);L.aFH('PageView');L.aEo(ML);};adY.prototype={dispose:function(){this.ag('dispose',arguments);this.QU();},get_debug:function(){try{var aG=this.Jn();this.dG('get_debug',arguments,aG);return aG;}catch(e){this.bg('get_debug',e);throw e;}},set_debug:function(value){try{this.ag('set_debug',arguments);var zK=this.Jn();this.Yw(value);if(!zK){this.ag('set_debug',arguments);}}catch(e){this.bg('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aG=this.BK();this.dG('get_debugErrorLevel',arguments,aG);return aG;}catch(e){this.bg('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.ag('set_debugErrorLevel',arguments);var zK=this.BK();this.Hn(value);if(zK<IPCC.Web.UI.DebugErrorLevel.Development){this.ag('set_debugErrorLevel',arguments);}}catch(e){this.bg('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var aG=this.Ve();this.dG('get_artServiceOption',arguments,aG);return aG;}catch(e){this.bg('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.ag('set_artServiceOption',arguments);this.ZF(value);}catch(e){this.bg('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Xy(handler);}catch(e){this.bg('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.abf(handler);}catch(e){this.bg('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.We(handler);}catch(e){this.bg('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.aax(handler);}catch(e){this.bg('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.aog(handler);}catch(e){this.bg('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.azW(handler);}catch(e){this.bg('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.GK(handler);}catch(e){this.bg('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FY(handler);}catch(e){this.bg('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Xu(handler);}catch(e){this.bg('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.abU(handler);}catch(e){this.bg('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Oo(handler);}catch(e){this.bg('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.aaN(handler);}catch(e){this.bg('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Nk(handler);}catch(e){this.bg('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.abR(handler);}catch(e){this.bg('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.OH(handler);}catch(e){this.bg('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.aai(handler);}catch(e){this.bg('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.aoe(handler);}catch(e){this.bg('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aAx(handler);}catch(e){this.bg('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.zc(handler);}catch(e){this.bg('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.zl(handler);}catch(e){this.bg('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.XI(handler);}catch(e){this.bg('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.aaU(handler);}catch(e){this.bg('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.JZ(handler);}catch(e){this.bg('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gh(handler);}catch(e){this.bg('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.ze(handler);}catch(e){this.bg('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Ag(handler);}catch(e){this.bg('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.IZ(handler);}catch(e){this.bg('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Gb(handler);}catch(e){this.bg('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Xo(handler);}catch(e){this.bg('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.abv(handler);}catch(e){this.bg('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JO(handler);}catch(e){this.bg('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.GA(handler);}catch(e){this.bg('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Wi(handler);}catch(e){this.bg('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.aaS(handler);}catch(e){this.bg('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.AB(handler);}catch(e){this.bg('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Gg(handler);}catch(e){this.bg('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Xq(handler);},remove_exceptionThrown:function(handler){this.abb(handler);},add_scaleChanged:function(handler){try{this.WN(handler);}catch(e){this.bg('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.aaw(handler);}catch(e){this.bg('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.lf(handler);}catch(e){this.bg('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.nh(handler);}catch(e){this.bg('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.zn(handler);},remove_textExtractionFailed:function(handler){this.FP(handler);},writeToLog:function(message){try{this.nM(message);}catch(e){this.bg('writeToLog',e);throw e;}},fitPage:function(type){try{this.ag('fitPage',arguments);this.Xn(type);}catch(e){this.bg('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var aG=this.fI();this.dG('get_pageIsOpen',arguments,aG);return aG;}catch(e){this.bg('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var aG=this.kl();this.dG('get_pageWidth',arguments,aG);return aG;}catch(e){this.bg('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var aG=this.iM();this.dG('get_pageHeight',arguments,aG);return aG;}catch(e){this.bg('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var aG=this.ayi();this.dG('get_pageXResolution',arguments,aG);return aG;}catch(e){this.bg('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var aG=this.ayy();this.dG('get_pageYResolution',arguments,aG);return aG;}catch(e){this.bg('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var aG=this.Ko();this.dG('get_documentIdentifier',arguments,aG);return aG;}catch(e){this.bg('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var aG=this.Op();this.dG('get_encodedDocumentIdentifier',arguments,aG);return aG;}catch(e){this.bg('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var aG=this.om();this.dG('get_pageNumber',arguments,aG);return aG;}catch(e){this.bg('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var aG=this.axI();this.dG('get_documentPageCount',arguments,aG);return aG;}catch(e){this.bg('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var aG=this.aip();this.dG('get_displayedPageRectangle',arguments,aG);return aG;}catch(e){this.bg('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var aG=this.Od();this.dG('get_currentState',arguments,aG);return aG;}catch(e){this.bg('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.ag('zoomIn',arguments);this.Qa(factor);}catch(e){this.bg('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.ag('zoomOut',arguments);this.Tg(factor);}catch(e){this.bg('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.ag('set_sharpening',arguments);this.Fv(factor);}catch(e){this.bg('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.ag('set_gamma',arguments);this.FB(factor);}catch(e){this.bg('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.ag('set_svgLineWidthMultiplier',arguments);this.ET(factor);}catch(e){this.bg('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.ag('zoom',arguments);this.iO(factor);}catch(e){this.bg('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.ag('rotate',arguments);this.vm(degreesClockwise);}catch(e){this.bg('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.ag('showPageRectangle',arguments,1);this.aDy(imageRectangle);}catch(e){this.bg('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.ag('showPagePointAtCenter',arguments,1);this.aEA(imagePoint);}catch(e){this.bg('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.ag('mirror',arguments);this.apo();}catch(e){this.bg('mirror',e);throw e;}},flip:function(){try{this.ag('flip',arguments);this.aht();}catch(e){this.bg('flip',e);throw e;}},display:function(){try{this.ag('display',arguments);this.cG();}catch(e){this.bg('display',e);throw e;}},openPage:function(parameters){try{this.ag('openPage',arguments,1);this.Pg(parameters);}catch(e){this.bg('openPage',e);throw e;}},closePage:function(){try{this.ag('closePage',arguments);this.QU();}catch(e){this.bg('closePage',e);throw e;}},hideSelection:function(){try{this.ag('hideSelection',arguments);this.oI();}catch(e){this.bg('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.ag('showSelection',arguments);this.aEt(imageRectangle);}catch(e){this.bg('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.ag('showEmptySelection',arguments);this.EE(imagePoint);}catch(e){this.bg('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.ag('extendSelection',arguments);this.AE(imagePoint);}catch(e){this.bg('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.ag('saveArtPage',arguments);this.XJ(onSave);}catch(e){this.bg('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var aG=this.wk();this.dG('get_selectionPageRectangle',arguments,aG);return aG;}catch(e){this.bg('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var aG=this.ayk();this.dG('get_selectionWindowRectangle',arguments,aG);return aG;}catch(e){this.bg('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var aG=this.xI();this.dG('get_selectionIsVisible',arguments,aG);return aG;}catch(e){this.bg('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var aG=this.ayj();this.dG('get_controlStateElementId',arguments,aG);return aG;}catch(e){this.bg('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.ag('set_controlStateElementId',arguments);this.aFA(value);}catch(e){this.bg('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var aG=this.azS();this.dG('get_includeArtInPostBack',arguments,aG);return aG;}catch(e){this.bg('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.ag('set_includeArtInPostBack',arguments);this.aFF(value);}catch(e){this.bg('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var aG=this.eU();this.dG('get_artPage',arguments,aG);return aG;}catch(e){this.bg('get_artPage',e);throw e;}},set_artPage:function(value){try{this.ag('set_artPage',arguments);this.lT(value);}catch(e){this.bg('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var aG=this.Oq();this.dG('get_documentArtPage',arguments,aG);return aG;}catch(e){this.bg('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.ag('set_documentArtPage',arguments);this.Iy(value);}catch(e){this.bg('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var aG=this.ml();this.dG('get_transientArtPage',arguments,aG);return aG;}catch(e){this.bg('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.ag('set_transientArtPage',arguments);this.DB(value);}catch(e){this.bg('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var aG=this.uC();this.dG('get_imageHandlerUrl',arguments,aG);return aG;}catch(e){this.bg('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.ag('set_imageHandlerUrl',arguments);this.XA(value);}catch(e){this.bg('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var aG=this.tU();this.dG('get_resourcePath',arguments,aG);return aG;}catch(e){this.bg('get_resourcePath',e);throw e;}},set_resourcePath:function(h){try{this.ag('set_resourcePath',arguments);this.Kt(h);}catch(e){this.bg('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var aG=this.iU();this.dG('get_contextMenuLanguageDictionary',arguments,aG);return aG;}catch(e){this.bg('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(h){try{this.ag('set_contextMenuLanguageDictionary',arguments);this.aFp(h);}catch(e){this.bg('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var aG=this.jK();this.dG('get_textRequired',arguments,aG);return aG;}catch(e){this.bg('get_textRequired',e);throw e;}},set_textRequired:function(h){try{this.ag('set_textRequired',arguments);this.Jc(h);}catch(e){this.bg('set_textRequired',e);throw e;}},get_textPage:function(){try{var aG=this.cC();this.dG('get_textPage',arguments,aG);return aG;}catch(e){this.bg('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var aG=this.Kb();this.CT('textSelectionIsVisible',arguments,aG,1);return aG;}catch(e){this.bg('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var aG=this.Cv();this.CT('getSelectedText',arguments,aG,1);return aG;}catch(e){this.bg('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var aG=this.xB();this.dG('get_requireRequestsOptimize',arguments,aG);return aG;}catch(e){this.bg('xB',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.ag('set_requireRequestsOptimize',arguments);this.Kc(value);}catch(e){this.bg('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var aG=this.aAA();this.dG('get_magnifierMagnification',arguments,aG);return aG;}catch(e){this.bg('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.ag('set_magnifierMagnification',arguments);this.aGt(value);}catch(e){this.bg('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var aG=this.azd();this.dG('get_magnifierWidth',arguments,aG);return aG;}catch(e){this.bg('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.ag('set_magnifierWidth',arguments);this.aGy(value);}catch(e){this.bg('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var aG=this.aAM();this.dG('get_magnifierHeight',arguments,aG);return aG;}catch(e){this.bg('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.ag('set_magnifierHeight',arguments);this.aGb(value);}catch(e){this.bg('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var aG=this.OM();this.dG('get_magnifierXOffset',arguments,aG);return aG;}catch(e){this.bg('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.ag('set_magnifierXOffset',arguments);this.Yy(value);}catch(e){this.bg('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var aG=this.Pd();this.dG('get_magnifierYOffset',arguments,aG);return aG;}catch(e){this.bg('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.ag('set_magnifierYOffset',arguments);this.YJ(value);}catch(e){this.bg('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.ag('showMagnifier',arguments,1);this.aDq(windowPoint);}catch(e){this.bg('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.ag('hideMagnifier',arguments);this.aCc();}catch(e){this.bg('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var aG=this.UE();this.dG('get_markHandleSize',arguments,aG);return aG;}catch(e){this.bg('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.ag('set_markHandleSize',arguments);this.ZQ(value);}catch(e){this.bg('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var aG=this.yf();this.dG('get_markHandleMode',arguments,aG);return aG;}catch(e){this.bg('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.ag('set_markHandleMode',arguments);this.IA(value);}catch(e){this.bg('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var aG=this.Uu();this.dG('get_mouseTool',arguments,aG);return aG;}catch(e){this.bg('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.ag('set_mouseTool',arguments);this.HU(value);}catch(e){this.bg('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var aG=this.ayJ();this.dG('get_presentationQuality',arguments,aG);return aG;}catch(e){this.bg('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.ag('set_presentationQuality',arguments);this.aEu(value);}catch(e){this.bg('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var aG=this.axg();this.dG('get_scrollBars',arguments,aG);return aG;}catch(e){this.bg('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.ag('set_scrollBars',arguments);this.aDs(value);}catch(e){this.bg('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var aG=this.lE();this.dG('get_imGearPage',arguments,aG);return aG;}catch(e){this.bg('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.ag('set_imGearPage',arguments);this.Et(value);}catch(e){this.bg('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var aG=this.km();this.dG('get_serviceResponseTimeout',arguments,aG);return aG;}catch(e){this.bg('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.ag('set_serviceResponseTimeout',arguments);this.vy(value);}catch(e){this.bg('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var aG=this.BZ();this.dG('get_currentTextIndex',arguments,aG);return aG;}catch(e){this.bg('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var aG=this.aAq();this.dG('get_cursor',arguments,aG);return aG;}catch(e){this.bg('get_cursor',e);throw e;}},set_cursor:function(value){try{this.ag('set_cursor',arguments);this.aEW(value);}catch(e){this.bg('set_cursor',e);throw e;}},get_encryption:function(){try{var aG=this.iW();this.dG('get_encryption',arguments,aG);return aG;}catch(e){this.bg('get_encryption',e);throw e;}},set_encryption:function(value){try{this.ag('set_encryption',arguments);this.pl(value);}catch(e){this.bg('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var aG=this.awf(imagePoint,constrainResultToWindow);this.CT('transformPagePointToWindow',arguments,aG,1);return aG;}catch(e){this.bg('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var aG=this.MK(windowPoint,constrainResultToImage);this.CT('transformWindowPointToPage',arguments,aG,1);return aG;}catch(e){this.bg('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var aG=this.Im(pagePoint);this.CT('transformPagePointToTextIndex',arguments,aG,1);return aG;}catch(e){this.bg('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.ag('removeAllHighlights',arguments);this.aaK();}catch(e){this.bg('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.ag('showTextSelection',arguments);this.OR(indexOfFirstCharacter,length);}catch(e){this.bg('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.ag('showEmptyTextSelection',arguments);this.AT(textIndex);}catch(e){this.bg('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.ag('extendTextSelection',arguments);this.tW(textIndex);}catch(e){this.bg('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.ag('initializeViewControllers',arguments);this.aEn(showArtContextMenu);}catch(e){this.bg('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var aG=this.xq();this.dG('get_autoUpdate',arguments,aG);return aG;}catch(e){this.bg('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.ag('set_autoUpdate',arguments);this.ZL(value);}catch(e){this.bg('set_autoUpdate',e);throw e;}}};module.exports=adY;},{}],114:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var oa=require('./FitType');var Qh=function(){return this;};Qh.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:oa.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Qh.registerClass=dh;Qh.registerClass('IPCC.Web.UI.PageViewState');module.exports=Qh;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var xN=function(x,y){this.x=x;this.y=y;return this;};xN.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};xN.registerClass=dh;xN.registerClass('IPCC.Web.UI.Point');module.exports=xN;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Rs=function(){var bn=[];var bP=new IPCC.Web.UI.gx();this.aoR=function(bF){var R=new IPCC.Web.UI.PointEventArgs();R.point=bF;R.length=1;bn.push(new IPCC.Web.UI.Point(bF.x,bF.y));R.index=bn.length-1;this.af('pointAdded',R);};this.anU=function(aeV){var R=new IPCC.Web.UI.PointEventArgs();R.index=bn.length;R.length=aeV.get_length();function jH(bF){bn.push(bF);};aeV.forEach(jH,{});if(R.length>0){this.af('pointAdded',R);}};this.kH=function(jA,cF){var abz=[].concat(bn);var T;for(T=0;T<abz.length;T++){jA.call(cF,new IPCC.Web.UI.Point(abz[T].x,abz[T].y),T,this);}};this.Bs=function(ak){nt(ak);var fv=bn[ak];return new IPCC.Web.UI.Point(fv.x,fv.y);};this.aBV=function(ak,bF){nt(ak);IPCC.aF.bF(bF,'point');var PS=bn[ak];if(PS.x===bF.x&&PS.y===bF.y){return;}PS.x=bF.x;PS.y=bF.y;var R=new IPCC.Web.UI.PointEventArgs();R.point=bF;R.index=ak;R.length=1;this.af('pointChanged',R);};this.eY=function(){return bn.length;};this.aCp=function(ak){nt(ak);var R=new IPCC.Web.UI.PointEventArgs();R.point=bn[ak];R.index=ak;R.length=1;bn.splice(ak,1);this.af('pointRemoved',R);};this.aBp=function(){if(bn.length<1){return;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=bn.length;bn=[];this.af('pointRemoved',R);};this.alU=function(eu,eK){if(eu===0&&eK===0){return;}IPCC.aF.hc(eu,'deltaX');IPCC.aF.hc(eK,'deltaY');var T;for(T=0;T<bn.length;T++){bn[T].x+=eu;bn[T].y+=eK;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=bn.length;this.af('pointChanged',R);};this.rC=function(){if(bn.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var T,jq=bn[0].x,jb=bn[0].x,_top=bn[0].y,kg=bn[0].y;for(T=1;T<bn.length;T++){var bF=bn[T];jq=Math.min(jq,bF.x);jb=Math.max(jb,bF.x);_top=Math.min(_top,bF.y);kg=Math.max(kg,bF.y);}return new IPCC.Web.UI.Rectangle(jq,_top,jb-jq,kg-_top);};function nt(ak){if(ak>bn.length-1||(ak<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ak);}};this.aof=function(H){bP.addHandler('pointAdded',H);};this.aAh=function(H){bP.removeHandler('pointAdded',H);};this.aoX=function(H){bP.addHandler('pointChanged',H);};this.aAz=function(H){bP.removeHandler('pointChanged',H);};this.anE=function(H){bP.addHandler('pointRemoved',H);};this.azb=function(H){bP.removeHandler('pointRemoved',H);};this.af=function(cD,R){var H=bP.getHandler(cD);if(H!==null){H(this,R);}};return this;};Rs.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aoR(point);},addPoints:function(pointCollection){this.anU(pointCollection);},forEach:function(method,context){this.kH(method,context);},getPoint:function(index){return this.Bs(index);},setPoint:function(index,point){this.aBV(index,point);},get_length:function(){return this.eY();},removePoint:function(index){this.aCp(index);},removeAllPoints:function(){this.aBp();},moveAllPoints:function(deltaX,deltaY){this.alU(deltaX,deltaY);},add_pointAdded:function(handler){this.aof(handler);},remove_pointAdded:function(handler){this.aAh(handler);},add_pointChanged:function(handler){this.aoX(handler);},remove_pointChanged:function(handler){this.aAz(handler);},add_pointRemoved:function(handler){this.anE(handler);},remove_pointRemoved:function(handler){this.azb(handler);}};Rs.registerClass=dh;Rs.registerClass('IPCC.Web.UI.PointCollection');module.exports=Rs;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Qv=function(){return this;};Qv.registerClass=dh;Qv.prototype={};Qv.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=Qv;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var KL=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};KL.prototype={intersect:function(rectangle){var bw=Math.max(this.x,rectangle.x);var ab=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bw;var dc=Math.max(this.y,rectangle.y);var aT=Math.min(this.y+this.height,rectangle.y+rectangle.height)-dc;if(ab<=0||aT<=0){bw=dc=ab=aT=0;}this.x=bw;this.y=dc;this.width=ab;this.height=aT;},union:function(rectangle){var jq=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var jb=Math.max(this.x+this.width,rectangle.x+rectangle.width);var kg=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=jq;this.y=_top;this.width=jb-jq;this.height=kg-_top;return this;},scale:function(VA,OU){OU=OU||VA;var jq=this.x*VA;var _top=this.y*OU;var ab=this.width*VA;var aT=this.height*OU;this.x=jq;this.y=_top;this.width=ab;this.height=aT;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};KL.registerClass=dh;KL.registerClass('IPCC.Web.UI.Rectangle');module.exports=KL;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var Nd=function(){};Nd.registerEnum=ep;Nd.prototype={None:0,Both:3,Auto:4};Nd.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=Nd;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var dh=require('../../IPCC.Util').regClass;var Qf=function(){return this;};Qf.registerClass=dh;Qf.prototype={};Qf.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=Qf;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var zW=require('./../../Type');var Vg={aFG:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').CX,ImGearHttpException:require('./ImGearExceptions').Dh,ImGearArgumentException:require('./ImGearExceptions').sr,ImGearArgumentNullException:require('./ImGearExceptions').DJ,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').sf,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').DF,ImGearInvalidOperationException:require('./ImGearExceptions').Eb,ImGearNotImplementedException:require('./ImGearExceptions').EL,ImGearParameterCountException:require('./ImGearExceptions').Ei,gx:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),bb:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),abD:require('./highlightItem')};zW.registerNamespace('IPCC.Web.UI');module.exports=Vg;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var ep=require('../../IPCC.Util').regEnum;var Mv=function(){};Mv.registerEnum=ep;Mv.prototype={Top:0,Center:1,Bottom:2};Mv.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Mv;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var abD=function(){this.hv=undefined;this.cf=[];this.al={};};module.exports=abD;},{}],124:[function(require,module,exports){var Vg=require('././UI/UI');var K=require('./../IPCC.Util');var AM=require('./Cipher');var aBW=require('./Hash');var gm=require('./Codec');var DY=require('./Mode');var hj={};hj.ark=[];hj.xG=function(bw){return!isNaN(bw-0)&&bw!==null;};hj.At=function(sR,dM){return IPCC.Web.abA(false,arguments);};hj.alX=function(sR,dM){return IPCC.Web.abA(true,arguments);};hj.abA=function(useLocale,dM){var aR='';var sR=dM[0];for(var T=0;;){var fE=sR.indexOf('{',T);var mf=sR.indexOf('}',T);if((fE<0)&&(mf<0)){aR+=sR.slice(T);break;}if((mf>0)&&((mf<fE)||(fE<0))){if(sR.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aR+=sR.slice(T,mf+1);T=mf+2;continue;}aR+=sR.slice(T,fE);T=fE+1;if(sR.charAt(T)==='{'){aR+='{';T++;continue;}if(mf<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var LW=sR.substring(T,mf);var Sb=LW.indexOf(':');var ank=parseInt((Sb<0)?LW:LW.substring(0,Sb),10)+1;if(isNaN(ank)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Vb=(Sb<0)?'':LW.substring(Sb+1);var rw=dM[ank];if(typeof(rw)==="undefined"||rw===null){rw='';}if(rw.toFormattedString){aR+=rw.toFormattedString(Vb);}else if(useLocale&&rw.alX){aR+=rw.alX(Vb);}else if(rw.format){aR+=rw.format(Vb);}else{aR+=rw.toString();}T=mf+1;}return aR;};hj.aHq=function(vL){var pJ=vL.length;var wA=Math.ceil(pJ/4),LC;var fM=[];fM.length=wA;for(var jV=0,fU=0;jV<wA;jV++,fU+=4){fM[jV]=((vL[fU]&0xff)<<24)+((vL[fU+1]&0xff)<<16)+((vL[fU+2]&0xff)<<8)+(vL[fU+3]&0xff);}if(fU<pJ){LC[jV]=0;for(var yC=0;fU<pJ;fU++,yC++){LC[jV]+=(vL[fU++]&0xff)<<(3-yC);}}return fM;};hj.aoY=function(bx){var pJ=bx.length;var wA=Math.ceil(pJ/4);var fM=[];fM.length=wA;for(var jV=0,fU=0;jV<wA;jV++,fU+=4){fM[jV]=((bx.charCodeAt(fU)&0xff)<<24)+((bx.charCodeAt(fU+1)&0xff)<<16)+((bx.charCodeAt(fU+2)&0xff)<<8)+((bx.charCodeAt(fU+3)&0xff));}if(fU<pJ){fM[jV]=0;for(var yC=0;fU<pJ;fU++,yC++){fM[jV]+=(bx.charCodeAt(fU++)&0xff)<<(3-yC);}}return fM;};hj.aIk=function(zX){var Ds=new Uint8Array(zX);var pJ=Ds.length;var wA=Math.ceil(pJ/4),LC;var fM=[];fM.length=wA;for(var jV=0,fU=0;jV<wA;jV++,fU+=4){fM[jV]=(Ds[fU]<<24)+(Ds[fU+1]<<16)+(Ds[fU+2]<<8)+Ds[fU+3];}if(fU<pJ){fM[jV]=0;for(var yC=0;fU<pJ;fU++,yC++){LC[jV]+=Ds[fU++]<<(3-yC);}}return fM;};hj.HY=function(fM,hU){var by=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Db(fM,by,hU);};hj.Db=function(fM,by,hU){try{var aqx=new IPCC.Web.AM.alr(by);var dk=IPCC.Web.DY.aqq.XV(aqx,fM,hU);return dk;}catch(aX){return;}};hj.Ke=function(Hy){return IPCC.Web.aoY(Hy.responseText);};hj.RQ=function(){var ES=new Date();var aoH=new Date(ES.getYear(),ES.getMonth(),ES.getDate(),ES.getHours(),ES.getMinutes(),ES.getSeconds());return(+aoH);};hj.kw=function(dR,elt){var len=dR.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in dR&&dR[from]===elt){return from;}}return-1;};hj.aDG=function aHL(){var kJ=0xefc8249d;var st=function(dk){dk=dk.toString();for(var T=0;T<dk.length;T++){kJ+=dk.charCodeAt(T);var eB=0.02519603282416938*kJ;kJ=eB>>>0;eB-=kJ;eB*=kJ;kJ=eB>>>0;eB-=kJ;kJ+=eB*0x100000000;}return(kJ>>>0)*2.3283064365386963e-10;};st.Aq='Mash 0.9';return st;};hj.akX=function aKn(){return(function(dM){var DZ=0;var Gx=0;var xS=0;var eA=1;if(dM.length===0){dM=[+new Date()];}var st=IPCC.Web.aDG();DZ=st(' ');Gx=st(' ');xS=st(' ');for(var T=0;T<dM.length;T++){DZ-=st(dM[T]);if(DZ<0){DZ+=1;}Gx-=st(dM[T]);if(Gx<0){Gx+=1;}xS-=st(dM[T]);if(xS<0){xS+=1;}}st=null;var wb=function(){var qo=2091639*DZ+eA*2.3283064365386963e-10;DZ=Gx;Gx=xS;xS=qo-(eA=qo|0);return xS;};wb.aea=function(){return wb()*0x100000000;};wb.aGV=function(){return wb()+(wb()*0x200000|0)*1.1102230246251565e-16;};wb.Aq='Alea 0.9';wb.dM=dM;return wb;}(Array.prototype.slice.call(arguments)));};hj.oi=function(){if(this.aed===undefined){var Ah=document.createElement("div");Ah.style.overflow='scroll';Ah.style.position='absolute';Ah.style.top='-9999px';document.body.appendChild(Ah);this.aed=Ah.offsetWidth-Ah.clientWidth;document.body.removeChild(Ah);}return this.aed;};hj.GS={ajl:function(gT){var Jy=[];var YY=IPCC.Web.akX().aea;for(var T=0;T<gT;T++){Jy.push(YY());}return Jy;},XH:function(gT,fl){var Jy=[];var YY=IPCC.Web.akX(fl).aea;for(var T=0;T<gT;T++){Jy.push(YY());}return Jy;},aHy:function(hU,arm){var gT,nQ=true,dV="",IO,Xf,Zl,Ou,Sl,apl;for(gT=0;gT<4;gT++){if(!nQ){dV+='-';}else{nQ=false;}Sl=0;for(IO=0;IO<4;IO++){Ou=gT*32+IO*8;Xf=IPCC.Web.gb.Yp(hU,Ou,4);dV+=Xf.toString(16).toUpperCase();Zl=IPCC.Web.gb.Yp(hU,Ou+4,4);dV+=Zl.toString(16).toUpperCase();apl=(Xf*16+Zl+IPCC.Web.gb.Yp(IPCC.Web.by,Ou,8))%256;Sl=Sl|(apl<<(24-(IO*8)));}arm.ark[gT]=Sl;}return dV;}};hj.by=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hj.gb={Tl:function(dP,rq,alA){dP=IPCC.Web.gb.abZ(dP.slice(rq/32),32-(rq&31)).slice(1);return(alA===undefined)?dP:IPCC.Web.gb.Ry(dP,alA-rq);},Yp:function(dP,rq,VX){var bw,WH=Math.floor((-rq-VX)&31);if((rq+VX-1^rq)& -32){bw=(dP[rq/32|0]<<(32-WH))^(dP[rq/32+1|0]>>>WH);}else{bw=dP[rq/32|0]>>>WH;}return bw&((1<<VX)-1);},Uq:function(Ax,uu){if(Ax.length===0||uu.length===0){return Ax.concat(uu);}var jc=Ax[Ax.length-1],tS=IPCC.Web.gb.WF(jc);if(tS===32){return Ax.concat(uu);}else{return IPCC.Web.gb.abZ(uu,tS,jc|0,Ax.slice(0,Ax.length-1));}},vY:function(dP){var pS=dP.length,bw;if(pS===0){return 0;}bw=dP[pS-1];return(pS-1)*32+IPCC.Web.gb.WF(bw);},Ry:function(dP,di){if(dP.length*32<di){return dP;}dP=dP.slice(0,Math.ceil(di/32));var pS=dP.length;di=di&31;if(pS>0&&di){dP[pS-1]=IPCC.Web.gb.HS(di,dP[pS-1]&0x80000000>>(di-1),1);}return dP;},HS:function(di,bw,fF){if(di===32){return bw;}return(fF?bw|0:bw<<(32-di))+di*0x10000000000;},WF:function(bw){return Math.round(bw/0x10000000000)||32;},aDA:function(dP,ft){if(IPCC.Web.gb.vY(dP)!==IPCC.Web.gb.vY(ft)){return false;}var bw=0,T;for(T=0;T<dP.length;T++){bw|=dP[T]^ft[T];}return(bw===0);},abZ:function(dP,tS,GD,dV){var T,amx=0,WC;if(dV===undefined){dV=[];}for(;tS>=32;tS-=32){dV.push(GD);GD=0;}if(tS===0){return dV.concat(dP);}for(T=0;T<dP.length;T++){dV.push(GD|dP[T]>>>tS);GD=dP[T]<<(32-tS);}amx=dP.length?dP[dP.length-1]:0;WC=IPCC.Web.gb.WF(amx);dV.push(IPCC.Web.gb.HS(tS+WC&31,(tS+WC>32)?GD:dV.pop(),1));return dV;},aeq:function(bw,dc){return[bw[0]^dc[0],bw[1]^dc[1],bw[2]^dc[2],bw[3]^dc[3]];}};hj.AM=AM;hj.pW=aBW;hj.gm=gm;hj.DY=DY;hj.ahx=K.ahx;hj.UI=Vg;hj.regEnum=K.regEnum;hj.regClass=K.regClass;module.exports=hj;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var Ym=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Ym;},{}],126:[function(require,module,exports){var aCo=function(IH,bk){var Pr=new IPCC.PageList(IH);if(bk){IPCC.Pk(Pr,bk);}Pr.uO(IH);Pr.initialize();return Pr;};module.exports=aCo;},{}],127:[function(require,module,exports){var aCu=function(IH,TW){var nZ=TW.handleTouchEvents!==false;var OP=new IPCC.Web.UI.PageView(IH,nZ);if(TW){IPCC.Pk(OP,TW);}OP.uO(IH);OP.initialize();return OP;};module.exports=aCu;},{}],128:[function(require,module,exports){var qn={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qn;},{}],129:[function(require,module,exports){var Pk=function(dI,kK){var mt;for(var am in kK){if(kK.hasOwnProperty(am)){var bd=kK[am];var ayq=dI["get_"+am];var aaQ=dI["set_"+am];if(typeof(aaQ)==='function'){aaQ.apply(dI,[bd]);}else if(bd instanceof Array){mt=ayq.apply(dI);if(!(mt instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(am+" is not an Array property");}for(var T=0,aL=mt.length,pS=bd.length;T<pS;T++,aL++){mt[aL]=bd[T];}}}}};module.exports=Pk;},{}],130:[function(require,module,exports){"use strict";var alp=function(ah){if(ah instanceof PCCViewer.AjaxResponse){return ah;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(ah);}this.qJ=new IPCC.K.qJ(ah);this.status=this.qJ.status;this.statusText=this.qJ.statusText;this.responseText=this.qJ.responseText;if(typeof this.qJ.responseBody!=='undefined'){this.responseBody=this.qJ.responseBody;}return this;};alp.prototype.getResponseHeader=function(DG){return this.qJ.getResponseHeader(DG);};var Cb=(function(){function arC(){return IPCC.K.extend({},IPCC.K.mY.iA);};function avH(iA){if(!(typeof iA==='undefined'||(typeof iA==='object'&&iA!==null&& !(iA instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof iA==='object'){var aDf=Object.keys(IPCC.K.aiW());Object.keys(iA).forEach(function(DG){if(aDf.indexOf(DG)!== -1){throw new Error('Cannot overwrite the header "'+DG+'".');}});}IPCC.K.mY.iA=IPCC.K.extend({},iA);return PCCViewer.Ajax;};function asH(){return IPCC.K.mY.PE;};function atD(jA){if(typeof jA!=='undefined'&&typeof jA!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.K.mY.PE=jA;return PCCViewer.Ajax;};function fE(bk){var bC=PCCViewer.Deferred();if(!(typeof bk==='undefined'||(typeof bk==='object'&&bk!==null&& !(bk instanceof Array)))){throw new Error('Options should be an object or undefined.');}function fd(ah){if(!(ah instanceof PCCViewer.AjaxResponse)){ah=new PCCViewer.AjaxResponse(ah);}bC.resolve(ah);};function er(aR){if(aR.response){aR.response=new PCCViewer.AjaxResponse(aR.response);}bC.reject(aR);};IPCC.K.mY.fE(bk).then(fd,er);return bC.getPromise();};return{getHeaders:arC,setHeaders:avH,getOverrideMethod:asH,setOverrideMethod:atD,fE:fE,};})();if(Object.defineProperties){Object.defineProperties(Cb,{"headers":{enumerable:true,get:function(){return Cb.getHeaders();},set:function(iA){return Cb.setHeaders(iA);}},"overrideMethod":{enumerable:true,get:function(){return Cb.getOverrideMethod();},set:function(jA){return Cb.setOverrideMethod(jA);}}});}module.exports={AjaxResponse:alp,Ajax:Cb};},{}],131:[function(require,module,exports){var BurnRequest=function(bk){this.op="";this.ee="";this.lA=0;this.oc="";this.dZ="";this.qc=0;this.fS=false;this.qb=0;this.TE="";this.qv=false;this.bC=PCCViewer.Deferred();this.cd=this.bC.getPromise();this.then=this.cd.then;this.bk=bk;this.dZ=null;this.fc=undefined;this.sa=false;this.LG=null;PCCViewer.EventEmitter.extend(this);var F=this;if(bk.lO){var lO=new PCCViewer.Error(bk.lO.code,bk.lO.message);delete F.bk.lO;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.dZ=lO.code;F.bC.reject(lO);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var F=this;this.qv=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.lA;};BurnRequest.prototype.getWorkerID=function(){return this.op;};BurnRequest.prototype.getOptions=function(){return this.bk;};BurnRequest.prototype.getErrorCode=function(){return this.dZ;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.LG;};BurnRequest.prototype.aBd=function(kd){this.TE=kd;};BurnRequest.prototype.Oz=function(fc){this.fc=fc;};BurnRequest.prototype.XL=function(){var F=this;this.dZ="Failure to generate Markup XML";setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("MarkupXMLFail",F.dZ));},0);return this;};BurnRequest.prototype.Eu=function(){function fd(ah){var hD,aR;try{hD=ah.responseText;if(!hD){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);F.sa=true;return;}else{aR=JSON.parse(hD);setTimeout(function(){aEh(aR);},0);}}catch(e){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);F.sa=true;return;}};function er(aR){F.fS=false;var de=aR.response.status+" "+aR.response.statusText;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("StatusCode","Status Code "+de));},0);F.sa=true;return;};try{if(!this.TE){throw new Error("XMl Markup data for burn is missing");}var F=this;var akY=function(){var ZA;if(!(/^[\x00-\x7F]*$/.test(F.fc.aV.get_documentIdentifier()))){ZA=F.fc.bk.imageHandlerUrl+'/ViewingSession/e'+F.fc.bk.documentID+'/MarkupBurner/'+F.op;}else{ZA=F.fc.bk.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fc.bk.documentID)+'/MarkupBurner/'+F.op;}PCCViewer.Ajax.fE({method:'GET',url:ZA,headers:{'Content-Type':'application/json'}}).then(fd,er);};var aEh=function(gN){if(gN){if(F.qv===true){F.fS=false;return;}if(gN.percentComplete>=0&&F.fS===true){if(gN.percentComplete===100&&gN.state==='complete'){if(gN.processId){F.fS=false;F.op=gN.processId;F.ee=gN.state;F.qc+=1;F.qb=1000;F.lA= +(gN.percentComplete);var FD;if(!(/^[\x00-\x7F]*$/.test(F.fc.aV.get_documentIdentifier()))){FD=F.fc.bk.imageHandlerUrl+'/ViewingSession/e'+F.fc.bk.documentID+'/MarkupBurner/'+F.op+"/Document";}else{FD=F.fc.bk.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fc.bk.documentID)+'/MarkupBurner/'+F.op+"/Document";}if(F.bk.filename){FD+="?ContentDispositionFilename="+F.bk.filename;}F.LG=FD;F.sa=true;var anW= +(gN.percentComplete);setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:anW});F.bC.resolve(FD);},10);return;}}else{if(gN.state==='error'){F.fS=false;F.dZ=gN.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+F.dZ));},0);F.fS=false;F.sa=true;return;}if(gN.processId){var Te= +(gN.percentComplete);if(F.lA!==Te){setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Te});},10);}if(!F.op){F.op=gN.processId;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);F.ee=gN.state;F.qc=1;F.fS=true;F.qb=1000;F.lA= +(gN.percentComplete);}if(gN.percentComplete<100){if(F.qc>1){F.qb+=1000;}F.qc+=1;F.ee=gN.state;F.lA= +(gN.percentComplete);if(F.fS===true&&F.qv===false&&F.sa===false){setTimeout(akY,F.qb);}}}}}else{if(F.sa===false){var WY=false;if(F.fS===false){if(gN.state==='complete'){if(!F.LG){WY=true;}else{F.sa=true;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});F.bC.resolve(F.LG);},10);return;}}if(gN.state==='processing'&&gN.errorCode===null){if(gN.percentComplete>=0&&gN.percentComplete<100){if(F.qc>1){F.qb+=1000;}F.qc+=1;F.fS=true;F.ee=gN.state;F.lA= +(gN.percentComplete);if(F.fS===true&&F.qv===false){setTimeout(akY,F.qb);}}else{WY=true;}}if(gN.state==='error'||WY===true){F.fS=false;F.dZ=gN.errorCode;setTimeout(function(){F.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});F.bC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gN.errorCode));},0);F.fS=false;F.sa=true;return;}}}}}};var aq;if(!(/^[\x00-\x7F]*$/.test(F.fc.aV.get_documentIdentifier()))){aq=F.fc.bk.imageHandlerUrl+'/ViewingSession/e'+F.fc.bk.documentID+'/MarkupBurner';}else{aq=F.fc.bk.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(F.fc.bk.documentID)+'/MarkupBurner';}var KY=[];if(F.bk.removeFormFields){KY.push('RemoveFormFields=acroform');}if(F.bk.redactionOptions){KY.push(F.bk.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(KY.length>0){aq+=('?'+KY.join('&'));}PCCViewer.Ajax.fE({method:'POST',url:aq,headers:{'Content-Type':'application/xml;charset=utf-8'},body:F.TE}).then(fd,er);F.fS=true;}catch(e){this.fS=false;var av=this,kf=e.message;setTimeout(function(){av.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});av.bC.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+kf));},0);this.sa=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function arX(aV,aO){var aw=aV.dH.iR(aO);var eD=aw.cC();return eD.Co();};function atl(aV,aO){var aw=aV.dH.iR(aO);var eD=aw.cC();var Kw=eD.gp();return Kw.aCK();};function atP(zL,aGc){var di=zL.length;if(di===0){return false;}if(di!==aGc){return false;}for(var T=0;T<di;T++){if(zL[T]!==true){return false;}}return true;};var RG=function(){var F=this;this.GV=false;this.zL=[];this.rS=[];this.za=[];this.adf=0;this.aN=0;this.hY=false;function qH(Fb,WM){switch(Fb){case 'failed':setTimeout(function(){F.bj.trigger('SearchFailed',WM);},10);break;case 'complete':F.bj.ec=F.rS;F.bj.Rg=F.za;F.bj.tX=true;setTimeout(function(){F.bj.trigger('SearchResultsAvailable',{completedSearchResults:(F.rS)});},10);break;case 'cancelled':break;}setTimeout(function(){F.bj.trigger('SearchCompleted',{completedSearchResults:(F.rS)});},10);};function awx(){F.bj.dp='Unable to communicate with server, please retry loading the document.';F.bj.dZ='1011';F.bj.tX=true;qH('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});F.hY=true;};function aiN(bk,aBH){var aBi=IPCC.K.trim(bk.type||'').toLowerCase();var aR;switch(aBi){case 'taskresult':aR=new PCCViewer.SearchTaskResult();break;default:aR=new PCCViewer.SearchResult();break;}IPCC.K.extend(aR,aBH);var aal=aR.pM+aR.text.length-1;var cF=PCCViewer.FH.formatter.getContext({text:bk.searchText,startIndex:aR.pM,endIndex:aal,padding:aR.bI.contextPadding});aR.cF=cF.context;aR.Bg=cF.startIndex;if(bk.rectangles){var aeX={rectangles:bk.rectangles,startIndex:aR.pM,endIndex:aal};aR.mr=PCCViewer.FH.formatter.getBoundingRectangle(aeX);aR.bm=PCCViewer.FH.formatter.getLineRectangles(aeX);}return aR;};function akd(mE,wg,Il,gu,hs){var La=[];var ZJ= !gu;var yx=wg.distance;var AG=[];IPCC.K.forEach(wg.cn,function(cn){AG.push(cn.searchTerm);});var aGk=PCCViewer.FH.proximity.getResults(Il,AG,yx);IPCC.K.forEach(aGk,function(aR){var fX=aiN({type:ZJ?'TaskResult':'Result',searchText:Il,rectangles:gu},{hs:hs,bI:wg.ue,mE:mE,pA:wg.highlightColor,pM:aR.startIndex,bx:aR.text});La.push(fX);});return La;};function Ml(mE,cn,Il,gu,hs){var ZJ= !gu;var La=[];var LP=[cn.searchTerm];var ec=PCCViewer.FH.regex.getResults(Il,LP);IPCC.K.forEach(ec,function(aR){if(cn.ue.matchingOptions.wildcard&&(aR.text[0]===" "||aR.text[0]==="\n")){aR.text=aR.text.substring(1);aR.startIndex+=1;}var fX=aiN({type:ZJ?'TaskResult':'Result',searchText:Il,rectangles:gu},{hs:hs,mE:mE,cn:cn,bI:cn.ue,pM:aR.startIndex,bx:aR.text,pA:cn.highlightColor});La.push(fX);});return La;};function auH(adF,aO,aV,gu){var Uz=[];var mE=Date.now();IPCC.K.forEach(F.cn,function(cn,T){var ec;var nA=IPCC.K.QG(cn.type);var aw=aV.dH.iR(aO);var eD=aw.cC();var hs={width:aw.kl()||eD.aye(),height:aw.iM()||eD.ayY()};switch(nA){case 'proximity':ec=akd(mE,cn,adF,gu,hs);break;default:ec=Ml(mE,cn,adF,gu,hs);break;}IPCC.K.forEach(ec,function(aR){aR.ds=F.aN;aR.bL=aO+1;aR.Xc=aV.get_documentIdentifier();F.rS[F.aN]=aR;F.aN++;Uz.push(aR);});});F.bj.ec=F.rS;if(Uz.length){setTimeout(function(){F.bj.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Uz),pagesWithoutText:(F.za)});},10);}};function atH(bx){var mE=Date.now();IPCC.K.forEach(F.cn,function(cn,T){var nA=IPCC.K.QG(cn.type);var ec;switch(nA){case 'proximity':ec=akd(mE,cn,bx);break;default:ec=Ml(mE,cn,bx);break;}IPCC.K.forEach(ec,function(aR){aR.ds=F.aN;F.rS[F.aN]=aR;F.aN++;});});F.bj.ec=F.rS;};function ajv(yE,aV){for(var T=0;T<yE.length;T++){if(F.zL[yE[T]]===false){F.zL[yE[T]]=true;var bx=arX(aV,yE[T]);var gu=atl(aV,yE[T]);if(!bx&&bx!==null){F.za[F.adf]=yE[T];F.adf++;continue;}auH(bx,yE[T],aV,gu);if(F.bj.qv){if(F.GV){qH('cancelled');F.GV=false;aV.remove_textPagesReceived(Ok);return;}break;}}}if(atP(F.zL,aV.eL)&& !F.bj.tX){qH('complete');F.GV=false;aV.remove_textPagesReceived(Ok);}};function Ok(sender,R){if(R.error=== -1){awx();return F.bj;}try{if(F.hY===false){ajv(R.textPagesReceived,sender);}}catch(e){F.bj.dp=e.message;F.bj.dZ='1010';F.bj.tX=true;qH('failed',{errorMessage:(e.message)});F.hY=true;return F.bj;}};this.ZR=function(aV,cn,dO,bj){F.cn=cn;F.bj=bj;F.bj.dO=dO;F.bj.on('SearchCancelled',function(){qH('cancelled');F.GV=false;aV.remove_textPagesReceived(Ok);});for(var T=0;T<aV.eL;T++){F.zL[T]=false;}if(aV.ais().eY()>aV.get_numberOfPagesWithText()){F.GV=true;aV.add_textPagesReceived(Ok);}if(aV.get_numberOfPagesWithText()>0){ajv(aV.get_pagesWithText(),aV);}return F.bj;};this.aEO=function(bx){this.bj=new PCCViewer.SearchRequest();try{atH(bx);}catch(e){F.bj.dp=e.message;F.bj.dZ='1010';return;}};};module.exports=RG;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aHA(){return conversation;};if(typeof comment==='string'){this.pp=new IPCC.Web.UI.Comment(comment);}else{this.pp=comment;}this.pp.LX=this;this.dk=this.pp.get_data();PCCViewer.Data.extend(this);this.Cx=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aID(){return this.jf;};Comment.prototype.getText=function aGX(){return this.pp.get_text();};Comment.prototype.setText=function aIM(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pp.set_text(text);return this;};Comment.prototype.getCreationTime=function aHC(){var aEe=IPCC.K.Fk(this.pp.get_creationTime());return new Date(aEe);};Comment.prototype.setCreationTime=function aIj(time){function ahR(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var agL=IPCC.K.Fk(time);if(agL instanceof Error){ahR();}time=new Date(agL);}if(!(time instanceof Date)){ahR();}this.pp.set_creationTime(IPCC.K.tq(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Mw(){return mark;};this.iX=new PCCViewer.ObservableCollection();if(typeof mark.V!=="undefined"){this.xo=mark.V.get_conversation();this.xo.forEach(function(pp){var dJ=new PCCViewer.Comment(pp,this);this.iX.add(dJ);},this);}else{this.xo=new IPCC.Web.UI.Conversation();}this.dk=this.xo.get_data();PCCViewer.Data.extend(this);this.Cx=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function GL(commentText){var dJ=new PCCViewer.Comment(commentText,this);this.iX.add(dJ);this.xo.addComment(dJ.pp);return dJ;};Conversation.prototype.deleteComments=function(comments){var F=this;var aad=this.iX.toArray();var amE=function(dJ){for(var i=0,length=aad.length;i<length;i++){if(aad[i]===dJ){return true;}}return false;};function aid(dJ,aN){throw new Error(dJ+((aN!==undefined)?' (Array index '+aN+')':'')+' is not a PCCViewer.Comment object.');};function ait(dJ,aN){throw new Error(((aN!==undefined)?' (Array index '+aN+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!amE(comments)){ait(comments);}F.iX.remove(comments);F.xo.removeCommentInstance(comments.pp);}else if(comments instanceof Array){IPCC.K.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){aid(el,idx);}if(!amE(el)){ait(el,idx);}});IPCC.K.forEach(comments,function(el){F.iX.remove(el);F.xo.removeCommentInstance(el.pp);});}else{aid(comments);}return this;};Conversation.prototype.getComments=function(){return this.iX.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.pL=function(hi,ps){if(typeof hi.getComments!=="function"||typeof ps.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.ox(hi,ps);var fQ=hi.getComments(),i,length=fQ.length;for(i=0;i<length;i++){var acv=fQ[i];var aDQ=ps.addComment(acv.getText());PCCViewer.Data.ox(acv,aDQ);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(bk){this.op="";this.ee="";this.lA=0;this.dZ="";this.fS=false;this.qv=false;this.bk=bk;this.zH=null;this.Eh=null;this.fc=undefined;this.bC=PCCViewer.Deferred();this.cd=this.bC.getPromise();this.then=this.cd.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var F=this;this.qv=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});F.bC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.lA;};ConversionRequest.prototype.getWorkerID=function(){return this.op;};ConversionRequest.prototype.getOptions=function(){return this.bk;};ConversionRequest.prototype.getErrorCode=function(){return this.dZ;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.zH;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.Eh){return this.Eh.slice();}return null;};ConversionRequest.prototype.Oz=function(fc){this.fc=fc;};ConversionRequest.prototype.Eu=function(){var F=this;F.fS=true;F.aCH().then(function onResolve(qB){F.op=qB.processId;F.lA=qB.percentComplete;F.ee=qB.state;F.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});F.arl(qB).then(function onResolve(aEY){F.fS=false;F.Eh=[];if(F.bk.Aq>1){for(var T=0;T<F.aBb;T++){var zH=F.fc.bk.imageHandlerUrl+'/v2/viewingSessions/'+F.fc.bk.documentID+'/contentConverters/'+F.op+'/results/'+T+'/file?ContentDispositionFilename='+encodeURIComponent(F.bk.filename);F.Eh.push(zH);}F.bC.resolve(F.Eh);}else{F.zH=F.fc.bk.imageHandlerUrl+'/WorkFile/'+aEY+"?ContentDispositionFilename="+encodeURIComponent(F.bk.filename);if(qB.affinityToken){F.zH+="&affinityToken="+encodeURIComponent(qB.affinityToken);}F.Eh.push(F.zH);F.bC.resolve(F.zH);}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){F.fS=false;F.dZ=reason.error.code;F.bC.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){F.fS=false;F.bC.reject(reason);F.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aCH=function(){var aq,jR=PCCViewer.Deferred();var YC;if(this.bk.Aq>1){aq=this.fc.bk.imageHandlerUrl+'/v2/viewingSessions/'+this.fc.bk.documentID+'/contentConverters/';YC={url:aq,method:'POST',headers:{"Content-Type":"application/json"}};}else{aq=this.fc.bk.imageHandlerUrl+'/contentConverters/';YC={url:aq,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fc.bk.documentID})};}PCCViewer.Ajax.fE(YC).then(function fd(ah){var aR=JSON.parse(ah.responseText);jR.resolve(aR);},function er(aR){jR.reject(aR.error);});return jR.getPromise();};ConversionRequest.prototype.arl=function(qB){var aq,jR=PCCViewer.Deferred(),F=this,iA;if(F.bk.Aq>1){aq=this.fc.bk.imageHandlerUrl+'/v2/viewingSessions/'+this.fc.bk.documentID+'/contentConverters/'+qB.processId;}else{aq=this.fc.bk.imageHandlerUrl+'/contentConverters/'+qB.processId;}if(qB.affinityToken){iA={"Accusoft-Affinity-Token":qB.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fE({method:'GET',url:aq,headers:iA}).then(function fd(ah){var aR=JSON.parse(ah.responseText);F.op=aR.processId;F.lA=aR.percentComplete;F.ee=aR.state;if(F.bk.Aq>1&&aR.output){F.aBb=aR.output.results.length;}F.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:F.lA});if(aR.percentComplete===100){if(aR.state==="error"){jR.reject({response:ah,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{jR.resolve(aR.output.results[0].fileId);}}else{poll();}},function er(aR){jR.reject(aR.error);});},3000);})();return jR.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.dk.get_data(key);};function setData(key,value){this.dk.set_data(key,value);return this;};function getDataKeys(){return this.dk.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},ox:function(hi,ps){if(typeof hi.getData!=="function"||typeof hi.setData!=="function"||typeof hi.getDataKeys!=="function"||typeof ps.getData!=="function"||typeof ps.setData!=="function"||typeof ps.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var na=hi.getDataKeys(),i,length=na.length;for(i=0;i<length;i++){var by=na[i];ps.setData(by,hi.getData(by));}}};})();var SessionData=(function(){function getSessionData(key){return this.Cx.get_data(key);};function setSessionData(key,value){this.Cx.set_data(key,value);return this;};function getSessionDataKeys(){return this.Cx.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aHJ:function(hi,ps){if(typeof hi.getSessionData!=="function"||typeof hi.setSessionData!=="function"||typeof hi.getSessionDataKeys!=="function"||typeof ps.getSessionData!=="function"||typeof ps.setSessionData!=="function"||typeof ps.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var na=hi.getSessionDataKeys(),i,length=na.length;for(i=0;i<length;i++){var by=na[i];ps.setSessionData(by,hi.getSessionData(by));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.ee=PromiseDeferred.States.Pending;this.h=null;this.fC=null;this.gc=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var AI=new PromiseDeferred();var VL,Yj;if(onFulfilled&&typeof onFulfilled==='function'){var aoh=function(h){try{var aG=onFulfilled(h);AI.resolve(aG);}catch(e){AI.reject(e);}};VL=aoh;}else{var aop=function(h){AI.resolve(h);};VL=aop;}if(onRejected&&typeof onRejected==='function'){var aua=function(fC){try{var aG=onRejected(fC);Um(AI,aG);}catch(e){AI.reject(e);}};Yj=aua;}else{var avv=function(fC){AI.reject(fC);};Yj=avv;}this.gc.push({aFc:VL,aAS:Yj});if(this.ee===PromiseDeferred.States.Fulfilled){this.alg();}if(this.ee===PromiseDeferred.States.Rejected){this.akV();}return AI;};PromiseDeferred.prototype.resolve=function(x){if(!this.alc()){return;}Um(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.alc()){return;}this.Be(reason);};PromiseDeferred.prototype.VB=function(bw){this.ee=PromiseDeferred.States.Fulfilled;this.h=bw;this.alg();};PromiseDeferred.prototype.alg=function(){var callback;while(this.gc.length>0){callback=this.gc.shift().aFc;(function(jH,h){setTimeout(function(){jH(h);},0);})(callback,this.h);}};PromiseDeferred.prototype.akV=function(){var callback;while(this.gc.length>0){callback=this.gc.shift().aAS;(function(jH,h){setTimeout(function(){jH(h);},0);})(callback,this.fC);}};function Um(cd,bw){if(cd===bw){cd.Be(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bw&&bw.YL&&cd.adA&&cd.adA===bw){cd.Be(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bw&&bw.YL&&bw.YL==="PCCViewer.Promise"){bw.then(function(atz){cd.VB(atz);},function(atA){cd.Be(atA);});}else if(bw!==null&&(typeof bw==='object'||typeof bw==='function')){var UW;try{UW=bw.then;}catch(e){cd.Be(e);return;}if(typeof UW==='function'){var HQ=true;var auz=function(dc){if(HQ){Um(cd,dc);HQ=false;}};var atw=function(aG){if(HQ){cd.Be(aG);HQ=false;}};try{UW.call(bw,auz,atw);}catch(e){if(HQ){cd.Be(e);}}}else{cd.VB(bw);}}else{cd.VB(bw);}};PromiseDeferred.prototype.Be=function(reason){this.ee=PromiseDeferred.States.Rejected;this.fC=reason;this.akV();};PromiseDeferred.prototype.alc=function(){return this.ee===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var Va=new PromiseDeferred();function Promise(cd){this.then=function(onFulfilled,onRejected){return new Promise(cd.then(onFulfilled,onRejected));};this.YL="PCCViewer.Promise";cd.adA=this;};var promise=new Promise(Va);return{getPromise:function(){return promise;},resolve:function(value){Va.resolve(value);},reject:function(reason){Va.reject(reason);}};};var Promise={all:function(promises){var i,bC=new PCCViewer.Deferred(),Vf=bC.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var bC=new PCCViewer.Deferred();bC.resolve(value);return bC.getPromise();};bC.resolve([]);for(i=0;i<promises.length;i++){Vf=Vf.then(createPushFunction(promises[i]));}return Vf;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.Af=parameters.Af;this.bL=parameters.bL;};DocumentHyperlink.prototype.getHref=function(){return this.Af.aiV();};DocumentHyperlink.prototype.getPageNumber=function(){return this.bL;};DocumentHyperlink.prototype.getRectangle=function(){return this.Af.fw();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var Jt=function(code,message){var adP=Error.call(null,message);this.code=code;function aum(dI,hi){Object.getOwnPropertyNames(hi).forEach(function(propName){Object.defineProperty(dI,propName,Object.getOwnPropertyDescriptor(hi,propName));});return dI;};function aur(dI,hi){for(var i in hi){if(hi.hasOwnProperty(i)){dI[i]=hi[i];}}return dI;};if(typeof Object.create==='function'){aum(this,adP);}else{aur(this,adP);}};var aoa=(function(){var dU=function(){};return function(abp){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof abp!=='object'){throw TypeError('Argument must be an object');}dU.prototype=abp;var aR=new dU();dU.prototype=null;return aR;};})();if(typeof Object.create==='function'){Jt.prototype=Object.create(Error.prototype);}else{Jt.prototype=aoa(Error.prototype);}Jt.prototype.constructor=Jt;module.exports=Jt;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.dI=target;this.aZ=type;};Event.prototype.getTarget=function(){return this.dI;};Event.prototype.getType=function(){return this.aZ;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.jv){this.jv={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jv[lowerCaseEventType];if(!handlers){handlers=this.jv[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jv){this.jv={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jv[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jv){this.jv={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jv[lowerCaseEventType],i,length=0;if(properties){PCCViewer.pU.qK(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var uh=function(eventEmitter){this.az=eventEmitter;this.Kh=true;this.ZN={};};uh.prototype.on=function(eventType,handler){this.az.on(eventType,handler);return this.az;};uh.prototype.off=function(eventType,handler){this.az.off(eventType,handler);return this.az;};uh.prototype.trigger=function(eventType,properties){if(this.Kh){var lowerCaseEventType=eventType.toLowerCase();if(this.ZN[lowerCaseEventType]){var event=new PCCViewer.Event(this.az,lowerCaseEventType);if(properties){PCCViewer.pU.qK(event,properties);}this.ZN[lowerCaseEventType](event);}else{this.az.trigger(eventType,properties);}}return this.az;};uh.prototype.stop=function(){this.Kh=false;};uh.prototype.resume=function(){this.Kh=true;};uh.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.ZN[lowerCaseEventType]=handler;};module.exports=uh;},{}],142:[function(require,module,exports){var aDt={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=aDt;},{}],143:[function(require,module,exports){var oa={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=oa;},{}],144:[function(require,module,exports){var pU={};pU.qK=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=pU;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bk=PCCViewer.pU.qK({},Options);};ImageStamps.prototype.requestImageStampList=function(){var bC=PCCViewer.Deferred();var cd=bC.getPromise();try{var aq=this.bk.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fE({method:'GET',url:aq}).then(function fd(ah){var sy;if(ah.responseText.length>0){sy=JSON.parse(ah.responseText);if(ah.status===200){bC.resolve(sy);}else{bC.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function er(aR){bC.reject(aR.error);});}catch(e){bC.reject(new PCCViewer.Error("Error",e.message));}return cd;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var bC=PCCViewer.Deferred();var cd=bC.getPromise();try{var aq=this.bk.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fE({method:'GET',url:aq,}).then(function fd(ah){var sy;if(ah.responseText.length>0){sy=JSON.parse(ah.responseText);if(ah.status===200){bC.resolve(sy);}else{bC.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function er(aR){bC.reject(aR.error);});}catch(e){bC.reject(new PCCViewer.Error("Error",e.message));}return cd;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bk.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aCF={data:{},initializeData:function(aBL){PCCViewer.Language.data=IPCC.K.extend({},aBL);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(age){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var na=age.split('.'),aK=PCCViewer.Language.data,by;while(na.length){by=na.shift();aK=aK[by];if(typeof aK==='undefined'){aK=age;break;}}return aK;}};module.exports=aCF;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.ym=layerRecordIds;this.dA=viewerControl;this.aD=viewerControl.aD;this.dZ="";this.fS=false;this.qv=false;this.lA=0;this.bC=PCCViewer.Deferred();this.cd=this.bC.getPromise();this.then=this.cd.then;this.uc=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.lA;};LoadMarkupLayersRequest.prototype.cancel=function(){var F=this;this.qv=true;this.dZ="User Cancelled";setTimeout(function(){F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});F.bC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.dA;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.dZ;};LoadMarkupLayersRequest.prototype.Eu=function(){var F=this,abG=1,abj,TC=[];var uc=this.uc;var aeT=function(){F.fS=false;if(F.dA.pZ){F.bC.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{F.bC.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var tF=function(amN){function fd(ah){if(F.aD.pZ){aeT();return;}var pK=JSON.parse(ah.responseText),KT=F.aDV(pK),dS,tj=[],bz,gU=[],anx={},NR=0,MQ;for(var mT in KT.gU){if(KT.gU.hasOwnProperty(mT)){gU=gU.concat(KT.gU[mT]);}}dS=new PCCViewer.MarkupLayer(F.dA,gU);dS.aIt={aq:aq};IPCC.K.forEach(KT.tj,function(afj){tj.push(afj);NR++;anx[afj.uid]=true;});if(pK.name){dS.setName(pK.name);}if(pK.originalXmlName){dS.setOriginalXmlName(pK.originalXmlName);}if(NR>0){MQ=function(ev){if(anx[ev.mark.getUid()]){NR--;}if(!NR){F.aD.az.off(PCCViewer.EventType.MarkCreated,MQ);F.aD.vw=true;}};F.aD.az.on(PCCViewer.EventType.MarkCreated,MQ);F.aD.vw=false;try{bz=F.aD.deserializeMarks(tj);}catch(da){F.fS=false;F.aD.az.off(PCCViewer.EventType.MarkCreated,MQ);F.aD.vw=true;F.bC.reject(new PCCViewer.Error('Error',da.message));F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uc){IPCC.K.forEach(bz,function(C){C.setVisible(false);});}dS.addMarks(bz);}dS.Zb=amN;for(var uq in pK.data){if(pK.data.hasOwnProperty(uq)){dS.setData(uq,pK.data[uq]);}}F.aD.getMarkupLayerCollection().addItem(dS);TC.push(dS);abG--;F.lA=(F.ym.length-abG)/F.ym.length;F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:F.lA});if(F.lA===1){F.fS=false;F.bC.resolve(TC);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:TC});}};function er(aR){F.fS=false;F.bC.reject(aR.error);F.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var aq=abj+amN+'?'+new Date().getTime();PCCViewer.Ajax.fE({url:aq,method:'GET'}).then(fd,er);};if(this.aD.pZ){aeT();return;}if(!(/^[\x00-\x7F]*$/.test(this.aD.aV.get_documentIdentifier()))){abj=this.aD.bk.imageHandlerUrl+'/MarkupLayers/e'+this.aD.bk.documentID+'/';}else{abj=this.aD.bk.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.aD.bk.documentID)+'/';}if(this.qv){return;}if(Object.prototype.toString.call(this.ym)==='[object Array]'&&this.ym.length>0){abG=this.ym.length;this.fS=true;IPCC.K.forEach(this.ym,tF,this);}else if(typeof this.ym==="string"){this.fS=true;tF(this.ym);}else{this.fS=false;this.bC.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aDV=function(pK){var LM={},Ox={};IPCC.K.forEach(pK.marks,function(Yt){Yt.conversation.comments=[];LM[Yt.uid]=Yt;},this);IPCC.K.forEach(pK.comments,function(xE){if(LM[xE.markUid]){LM[xE.markUid].conversation.comments.push(xE);}else if(Ox[xE.markUid]){Ox[xE.markUid].push(xE);}else{Ox[xE.markUid]=[xE];}},this);return{tj:LM,gU:Ox};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var cw={setMask:function(C,ju){var Kp={};IPCC.K.forEach(ju.translations,function(bd,by){Kp[by]=new RegExp(bd.replace(/^\/|\/$/g,''));});C.setMask({value:ju.value,translations:Kp});},calculateRectangle:function(aK,bk){if(aK.pageData===undefined||(aK.pageData.width===bk.bD&&aK.pageData.height===bk.bf)){return aK.rectangle;}else{var mX=bk.bD/aK.pageData.width;return{x:aK.rectangle.x*mX,y:aK.rectangle.y*mX,width:aK.rectangle.width*mX,height:aK.rectangle.height*mX};}},setRectangle:function(C,aK,bk){C.setRectangle(cw.calculateRectangle(aK,bk));},setLines:function(C,aK,bk){var afl,pa,cv=aK.textLength+aK.startIndex-1,cK=aK.selectedText,cO={startIndex:aK.startIndex,length:aK.textLength};pa=[];var aO,Al;afl=IPCC.K.reduce(aK.lineGroups,function(fl,pr){aO=pr.pageNumber-1;fl[aO]=IPCC.K.map(pr.lines,function(gM){if(pr.pageData!==undefined){Al=cw.calculateRectangle({rectangle:gM,pageData:pr.pageData},bk);return new IPCC.Web.UI.Rectangle(Al.x,Al.y,Al.width,Al.height);}else{return new IPCC.Web.UI.Rectangle(gM.x,gM.y,gM.width,gM.height);}});pa.push({pageIndex:aO,endIndex:pr.startIndex+pr.textLength-1});return fl;},{});C.Fs(pa,cv,cK,cO,afl);},postCreate:function(C,aK){C.V.afb(new Date(IPCC.K.Fk(aK.creationDateTime)));C.V.ZS(new Date(IPCC.K.Fk(aK.modificationDateTime)));return C;},calculatePoint:function(bF,hs,bk){if(hs===undefined||(hs.width===bk.bD&&hs.height===bk.bf)){return bF;}else{return{x:bF.x*bk.bD/hs.width,y:bF.y*bk.bf/hs.height};}},Data:function(aK,dk){IPCC.K.forEach(dk,function(bd,by){aK.setData(by,bd);});},Comment:function(cX,dJ){var pq=cX.addComment(dJ.text);pq.setCreationTime(dJ.creationDateTime);cw.Data(pq,dJ.data);},Conversation:function(C,cX){var alm=C.getConversation();IPCC.K.forEach(cX.comments?cX.comments:[],function(pq){cw.Comment(alm,pq);});cw.Data(alm,cX.data);},Common:function(aK,bk){if(aK.uid===undefined){aK.uid=IPCC.K.aiY();}var C=this.aga(aK.pageNumber,aK.type,{uid:aK.uid});if(aK.rectangle&&C.setRectangle){cw.setRectangle(C,aK,bk);}if(aK.startPoint&&C.setStartPoint){C.setStartPoint(cw.calculatePoint(aK.startPoint,aK.pageData,bk));}if(aK.endPoint&&C.setEndPoint){C.setEndPoint(cw.calculatePoint(aK.endPoint,aK.pageData,bk));}if(aK.points&&C.setPoints){C.setPoints(IPCC.K.map(aK.points,function(bF){return cw.calculatePoint(bF,aK.pageData,bk);}));}if(aK.lineGroups&&C.Fs){C.bU=aK.uid;cw.setLines(C,aK,bk);}if(aK.interactionMode){C.setInteractionMode(aK.interactionMode);}C=this.akZ(C);cw.Data(C,aK.data);cw.Conversation(C,aK.conversation);return C;},EllipseAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.borderColor){C.setBorderColor(aK.borderColor);}if(aK.borderThickness){C.setBorderThickness(aK.borderThickness);}if(aK.fillColor){C.setFillColor(aK.fillColor);}if(aK.opacity){C.setOpacity(aK.opacity);}return cw.postCreate(C,aK);},FreehandAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.opacity){C.setOpacity(aK.opacity);}if(aK.path){C.setPath(aK.path);}if(aK.thickness){C.setThickness(aK.thickness);}return cw.postCreate(C,aK);},FreehandSignature:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.path){C.setPath(aK.path);}if(aK.thickness){C.setThickness(aK.thickness);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}return cw.postCreate(C,aK);},HighlightAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.fillColor){C.setFillColor(aK.fillColor);}return cw.postCreate(C,aK);},ImageStampAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.imageDataUrl&&aK.imageId){C.setImage({id:aK.imageId,dataUrl:aK.imageDataUrl});}return cw.postCreate(C,aK);},ImageStampRedaction:function(aK,bk){return cw.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.endHeadType){C.setEndHeadType(aK.endHeadType);}if(aK.opacity){C.setOpacity(aK.opacity);}if(aK.thickness){C.setThickness(aK.thickness);}return cw.postCreate(C,aK);},PolylineAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.opacity){C.setOpacity(aK.opacity);}if(aK.thickness){C.setThickness(aK.thickness);}return cw.postCreate(C,aK);},RectangleAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.borderColor){C.setBorderColor(aK.borderColor);}if(aK.borderThickness){C.setBorderThickness(aK.borderThickness);}if(aK.fillColor){C.setFillColor(aK.fillColor);}if(aK.opacity){C.setOpacity(aK.opacity);}return cw.postCreate(C,aK);},RectangleRedaction:function(aK,bk){var C=cw.Common.apply(this,arguments);if(C.nH){var gS=aK.reasons||aK.reason;if(gS&& !Array.isArray(gS)){gS=[gS];}if(gS){C.setReasons(gS);}}else{if(aK.reason){C.setReason(aK.reason);}}if(aK.fillColor){C.setFillColor(aK.fillColor);}if(aK.borderColor){C.setBorderColor(aK.borderColor);}if(aK.borderThickness){C.setBorderThickness(aK.borderThickness);}if(aK.fontColor){C.setFontColor(aK.fontColor);}return cw.postCreate(C,aK);},StampAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.label){C.setLabel(aK.label);}if(aK.color){C.setColor(aK.color);}return cw.postCreate(C,aK);},StampRedaction:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.label){C.setLabel(aK.label);}return cw.postCreate(C,aK);},StrikethroughAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.thickness){C.setThickness(aK.thickness);}return cw.postCreate(C,aK);},TextAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.borderColor){C.setBorderColor(aK.borderColor);}if(aK.borderThickness){C.setBorderThickness(aK.borderThickness);}if(aK.fillColor){C.setFillColor(aK.fillColor);}if(aK.fontColor){C.setFontColor(aK.fontColor);}if(aK.fontName){C.setFontName(aK.fontName);}if(aK.fontSize){C.setFontSize(aK.fontSize);}if(aK.fontStyle){C.setFontStyle(aK.fontStyle);}if(aK.maxLength){C.setMaxLength(aK.maxLength);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}if(aK.opacity){C.setOpacity(aK.opacity);}if(aK.text){C.setText(aK.text);}return cw.postCreate(C,aK);},TextAreaSignature:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.text){C.setText(aK.text);}if(aK.fontColor){C.setFontColor(aK.fontColor);}if(aK.fontName){C.setFontName(aK.fontName);}if(aK.maxFontSize){C.setMaxFontSize(aK.maxFontSize);}if(aK.fontStyle){C.setFontStyle(aK.fontStyle);}if(aK.maxLength){C.setMaxLength(aK.maxLength);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}return cw.postCreate(C,aK);},TextHyperlinkAnnotation:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.fillColor){C.setFillColor(aK.fillColor);}if(aK.href){C.setHref(aK.href);}return cw.postCreate(C,aK);},TextInputSignature:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.fontColor){C.setFontColor(aK.fontColor);}if(aK.fontName){C.setFontName(aK.fontName);}if(aK.text){C.setText(aK.text);}if(aK.maxLength){C.setMaxLength(aK.maxLength);}if(aK.mask){cw.setMask(C,aK.mask);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}return cw.postCreate(C,aK);},TextRedaction:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.fontColor){C.setFontColor(aK.fontColor);}if(aK.fontName){C.setFontName(aK.fontName);}if(aK.fontSize){C.setFontSize(aK.fontSize);}if(aK.maxLength){C.setMaxLength(aK.maxLength);}if(aK.text){C.setText(aK.text);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}return cw.postCreate(C,aK);},TextSelectionRedaction:function(aK,bk){var C=cw.Common.apply(this,arguments);if(C.nH){var gS=aK.reasons||aK.reason;if(gS&& !Array.isArray(gS)){gS=[gS];}if(gS){C.setReasons(gS);}}else{if(aK.reason){C.setReason(aK.reason);}}return cw.postCreate(C,aK);},TextSignature:function(aK,bk){var C=cw.Common.apply(this,arguments);if(aK.color){C.setColor(aK.color);}if(aK.fontName){C.setFontName(aK.fontName);}if(aK.text){C.setText(aK.text);}if(aK.horizontalAlignment){C.setHorizontalAlignment(aK.horizontalAlignment);}return cw.postCreate(C,aK);},TransparentRectangleRedaction:function(aK,bk){var C=cw.Common.apply(this,arguments);return cw.postCreate(C,aK);}};module.exports=cw;},{}],149:[function(require,module,exports){var FX={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=FX;},{}],150:[function(require,module,exports){var eh={serializeMask:function(ju){var aeI={value:ju.value,translations:{}};IPCC.K.forEach(ju.translations,function(bd,by){aeI.translations[by]=bd.toString();});return aeI;},copyRectangle:function(G){return{x:G.x,y:G.y,width:G.width,height:G.height};},Common:function(bu,bv){var bf;var bD;if(bu.page){bf=bu.page.get_pageHeight();bD=bu.page.get_pageWidth();}else{bf=null;bD=null;}var bL=bu.mark.getPageNumber();var aK={uid:bu.mark.getUid(),interactionMode:bu.mark.getInteractionMode(),pageNumber:bL,type:bu.mark.getType(),creationDateTime:IPCC.K.tq(bu.mark.V.aiX()),modificationDateTime:IPCC.K.tq(bu.mark.V.aju()),data:eh.Data(bu.mark),conversation:eh.Conversation(bu.mark.getConversation())};function Bs(bF){return{x:bF.x,y:bF.y};};function atF(){var IP=IPCC.K.map([].concat(bu.mark.V,bu.mark.aA),function(V){if(bD!==null){return{pageNumber:V.aO+1,pageData:{width:bD,height:bf},startIndex:V.get_startIndex(),textLength:V.get_textLength(),lines:IPCC.K.map(V.bm,function(aW){if(aW.get_rectangle){return eh.copyRectangle(aW.get_rectangle());}else{return eh.copyRectangle(aW);}})};}else{return{pageNumber:V.aO+1,startIndex:V.get_startIndex(),textLength:V.get_textLength(),lines:IPCC.K.map(V.bm,function(aW){if(aW.get_rectangle){return eh.copyRectangle(aW.get_rectangle());}else{return eh.copyRectangle(aW);}})};}});aK.lineGroups=IP;};function akO(){if(bu.mark.getRectangle){aK.rectangle=eh.copyRectangle(bu.mark.getRectangle());if(bD!==null){aK.pageData={width:bD,height:bf};}}if(bu.mark.getStartPoint){aK.startPoint=Bs(bu.mark.getStartPoint());if(bD!==null){aK.pageData=aK.pageData||{width:bD,height:bf};}}if(bu.mark.getEndPoint){aK.endPoint=Bs(bu.mark.getEndPoint());if(bD!==null){aK.pageData=aK.pageData||{width:bD,height:bf};}}if(bu.mark.getPoints){var bn=bu.mark.getPoints();aK.points=IPCC.K.map(bn,Bs);if(bD!==null){aK.pageData={width:bD,height:bf};}}if(bu.mark.V.bm){atF();}};if(bD!==undefined&&bf!==undefined&&bD!==0&&bf!==0){akO();bv(undefined,aK);}else{bu.vc.requestPageAttributes(bL).then(function aHo(pF){bf=pF.height;bD=pF.width;akO();bv(undefined,aK);},function aIC(fC){bv(fC);});}},Data:function(aK){return IPCC.K.reduce(aK.getDataKeys(),function(fl,by){fl[by]=aK.getData(by);return fl;},{});},Comment:function(dJ){return{text:dJ.getText(),data:eh.Data(dJ),creationDateTime:IPCC.K.tq(dJ.getCreationTime())};},Conversation:function(cX){return{comments:IPCC.K.map(cX.getComments(),function(dJ){return eh.Comment(dJ);}),data:eh.Data(cX)};},EllipseAnnotation:function(bu,bv){eh.RectangleAnnotation(bu,bv);},FreehandAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),opacity:bu.mark.getOpacity(),path:bu.mark.getPath(),thickness:bu.mark.getThickness()});bv(undefined,aK);});},FreehandSignature:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),path:bu.mark.getPath(),thickness:bu.mark.getThickness(),horizontalAlignment:bu.mark.getHorizontalAlignment()});bv(undefined,aK);});},HighlightAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}var cO=bu.mark.getPosition();aK=IPCC.K.extend(aK,{fillColor:bu.mark.getFillColor(),textLength:cO.length,startIndex:cO.startIndex,selectedText:bu.mark.getText()});bv(undefined,aK);});},ImageStampAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}var be=bu.mark.getImage();aK=IPCC.K.extend(aK,{imageDataUrl:be.dataUrl,imageId:be.id});bv(undefined,aK);});},ImageStampRedaction:function(bu,bv){eh.ImageStampAnnotation(bu,bv);},LineAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),endHeadType:bu.mark.getEndHeadType(),opacity:bu.mark.getOpacity(),thickness:bu.mark.getThickness()});bv(undefined,aK);});},PolylineAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),opacity:bu.mark.getOpacity(),thickness:bu.mark.getThickness()});bv(undefined,aK);});},RectangleAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{borderColor:bu.mark.getBorderColor(),borderThickness:bu.mark.getBorderThickness(),fillColor:bu.mark.getFillColor(),opacity:bu.mark.getOpacity()});bv(undefined,aK);});},RectangleRedaction:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{fillColor:bu.mark.getFillColor(),borderColor:bu.mark.getBorderColor(),borderThickness:bu.mark.getBorderThickness(),fontColor:bu.mark.getFontColor()});if(bu.mark.nH){aK.reasons=bu.mark.getReasons();}else{aK.reason=bu.mark.getReason();}bv(undefined,aK);});},StampAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{label:bu.mark.getLabel(),color:bu.mark.getColor()});bv(undefined,aK);});},StampRedaction:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{label:bu.mark.getLabel()});bv(undefined,aK);});},StrikethroughAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}var cO=bu.mark.getPosition();aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),thickness:bu.mark.getThickness(),textLength:cO.length,startIndex:cO.startIndex,selectedText:bu.mark.getText()});bv(undefined,aK);});},TextAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{borderColor:bu.mark.getBorderColor(),borderThickness:bu.mark.getBorderThickness(),fillColor:bu.mark.getFillColor(),fontColor:bu.mark.getFontColor(),fontName:bu.mark.getFontName(),fontSize:bu.mark.getFontSize(),fontStyle:bu.mark.getFontStyle(),maxLength:bu.mark.getMaxLength(),horizontalAlignment:bu.mark.getHorizontalAlignment(),opacity:bu.mark.getOpacity(),text:bu.mark.getText()});bv(undefined,aK);});},TextAreaSignature:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{text:bu.mark.getText(),fontColor:bu.mark.getFontColor(),fontName:bu.mark.getFontName(),fontStyle:bu.mark.getFontStyle(),maxFontSize:bu.mark.getMaxFontSize(),maxLength:bu.mark.getMaxLength(),horizontalAlignment:bu.mark.getHorizontalAlignment(),});bv(undefined,aK);});},TextHyperlinkAnnotation:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}var cO=bu.mark.getPosition();aK=IPCC.K.extend(aK,{href:bu.mark.getHref(),fillColor:bu.mark.getFillColor(),textLength:cO.length,startIndex:cO.startIndex,selectedText:bu.mark.getText()});bv(undefined,aK);});},TextInputSignature:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{fontColor:bu.mark.getFontColor(),fontName:bu.mark.getFontName(),text:bu.mark.getText(),mask:bu.mark.getMask(),maxLength:bu.mark.getMaxLength(),horizontalAlignment:bu.mark.getHorizontalAlignment()});if(bu.mark.getMask()){aK.mask=eh.serializeMask(bu.mark.getMask());}bv(undefined,aK);});},TextRedaction:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{fontColor:bu.mark.getFontColor(),fontName:bu.mark.getFontName(),fontSize:bu.mark.getFontSize(),text:bu.mark.getText(),maxLength:bu.mark.getMaxLength(),horizontalAlignment:bu.mark.getHorizontalAlignment()});bv(undefined,aK);});},TextSelectionRedaction:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}var cO=bu.mark.getPosition();aK=IPCC.K.extend(aK,{textLength:cO.length,startIndex:cO.startIndex,selectedText:bu.mark.getText()});if(bu.mark.nH){aK.reasons=bu.mark.getReasons();}else{aK.reason=bu.mark.getReason();}bv(undefined,aK);});},TextSignature:function(bu,bv){eh.Common(bu,function(da,aK){if(da){bv(da);return;}aK=IPCC.K.extend(aK,{color:bu.mark.getColor(),fontName:bu.mark.getFontName(),text:bu.mark.getText(),horizontalAlignment:bu.mark.getHorizontalAlignment()});bv(undefined,aK);});},TransparentRectangleRedaction:function(bu,bv){eh.Common(bu,bv);}};module.exports=eh;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.bL=0;this.ds=undefined;this.zg=false;this.mP=Mark.InteractionMode.Full;this.cB=true;this.nH=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(bz,kU){IPCC.K.forEach(bz,function validateMark(lh){if(lh.getUid()===kU){throw new Error('Uid '+kU+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var kU=parameters.uid||IPCC.K.aiY();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.V=parameters.igMark;this.ds=this.V.get_markID().toString();this.dk=this.V.get_data();}else{this.dk=new IPCC.Web.UI.Data();}Data.extend(this);this.Cx=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.aF.hc(parameters.pageNumber,'pageNumber');this.bL=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.aF.ly(parameters.id,'id');this.ds=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.zg){this.aZ=parameters.type;this.zg=true;}else if(parameters.type!==undefined){IPCC.aF.ly(parameters.type,'type');var Hc=LT(parameters.type,Mark.Type);if(Hc===null){throw new RangeError("The value of mark type was invalid.");}this.aZ=Hc;}if('dq'in parameters){this.dq=parameters.dq;}if('as'in parameters){this.as=parameters.as;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return kU;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:kU,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.aZ;};Mark.prototype.getId=function(){return this.ds;};Mark.prototype.getPageNumber=function(){return this.bL;};Mark.prototype.getConversation=function(){if(!this.cX){this.cX=new PCCViewer.Conversation(this);}return this.cX;};Mark.prototype.getBoundingRectangle=function(){if(this.V){var aW=this.V.get_boundingRectangle();if(aW instanceof IPCC.Web.UI.Rectangle){this.mr={width:aW.width,height:aW.height,x:aW.x,y:aW.y};}}return this.mr;};Mark.prototype.getInteractionMode=function(){if(this.V){switch(this.V.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mP;};Mark.prototype.setInteractionMode=function(interactionMode){var mP=LT(interactionMode,PCCViewer.Mark.InteractionMode),abT;switch(mP){case PCCViewer.Mark.InteractionMode.SelectionDisabled:abT=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:abT=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.V){this.V.set_interactionMode(abT);}this.mP=mP;return this;};Mark.prototype.reset=function(){var cT=new Mark({type:this.aZ,zg:this.zg});this.dk={};if(this.setBorderColor&&cT.getBorderColor){this.setBorderColor(cT.getBorderColor());}if(this.setBorderThickness&&cT.getBorderThickness){this.setBorderThickness(cT.getBorderThickness());}if(this.setColor&&cT.getColor){this.setColor(cT.getColor());}if(this.setEndHeadType&&cT.getEndHeadType){this.setEndHeadType(cT.getEndHeadType());}if(this.setEndPoint&&cT.getEndPoint){this.setEndPoint(cT.getEndPoint());}if(this.setFillColor&&cT.getFillColor){this.setFillColor(cT.getFillColor());}if(this.setFontColor&&cT.getFontColor){this.setFontColor(cT.getFontColor());}if(this.setFontName&&cT.getFontName){this.setFontName(cT.getFontName());}if(this.setFontSize&&cT.getFontSize){this.setFontSize(cT.getFontSize());}if(this.setFontStyle&&cT.getFontStyle){this.setFontStyle(cT.getFontStyle());}if(this.setHorizontalAlignment&&cT.getHorizontalAlignment){this.setHorizontalAlignment(cT.getHorizontalAlignment());}if(this.setLabel&&cT.getLabel){this.setLabel(cT.getLabel());}if(this.setPosition&&this.V&&cT.getPosition){this.setPosition(cT.getPosition());}if(this.setReason&&cT.getReason&&this.nH!==true){this.setReason(cT.getReason());}if(this.setReasons&&cT.getReasons&&this.nH!==false){this.setReasons(cT.getReasons());}if(this.setOpacity&&cT.getOpacity){this.setOpacity(cT.getOpacity());}if(this.setRectangle&&cT.getRectangle){this.setRectangle(cT.getRectangle());}if(this.setStartPoint&&cT.getStartPoint){this.setStartPoint(cT.getStartPoint());}if(this.setText&&cT.getText){this.setText(cT.getText());}if(this.setThickness&&cT.getThickness){this.setThickness(cT.getThickness());}if(this.setPath&&cT.getPath){this.setPath(cT.getPath());}if(this.setHref&&cT.getHref){this.setHref(cT.getHref());}if(this.setImage&&cT.getImage){this.setImage(cT.getImage());}if(this.setInteractionMode&&cT.getInteractionMode){this.setInteractionMode(cT.getInteractionMode());}if(this.setPoints&&cT.getPoints){this.setPoints(cT.getPoints());}if(this.setMask&&cT.getMask){this.setMask(cT.getMask());}if(this.setMaxLength&&cT.getMaxLength){this.setMaxLength(cT.getMaxLength());}if(this.setMaxFontSize&&cT.getMaxFontSize){this.setMaxFontSize(cT.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function LT(VY,aZ){var ZE=VY.toLowerCase();for(var standardType in aZ){if(aZ.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===ZE){return standardType;}}return null;};function addMethodsToMark(C){function auS(C){C.highlightText=function(highlights){if(!this.V){throw new Error("It is invalid to highlight text on this mark.");}var lz;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){lz=[highlights];}else{lz=highlights;}for(var i=0;i<lz.length;i++){awd(lz[i]);}}else{lz=[];}var aZ=C.getType();switch(aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:C.V.selectText(lz);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var F=this;var QY=[];var qK=false,Ri=0,Rm,Bv;var afh=function(EV,apU,fV){var xp;var Tx= -1,Rc=[];var wT=(EV.aS+EV.bZ);if(qK===true&&Rm>=0&&Bv>=0){if(EV.aO-1===Rm){xp=0;if(Ri<=wT){Rc.push({startIndex:xp,length:Ri,color:fV[Bv].color,opacity:(fV[Bv].opacity)?fV[Bv].opacity:127});qK=false;Ri=0;Rm= -1;Bv= -1;}}}for(var aL=0;aL<fV.length;aL++){xp=EV.aS+fV[aL].startIndex-apU;if(xp<0){continue;}if(Array.prototype.indexOf){Tx=QY.indexOf(aL);}else{Tx=IPCC.Web.kw(QY,aL);}var cQ=127;if(Tx=== -1){if(xp+fV[aL].length<=wT){if(fV[aL].opacity){cQ=fV[aL].opacity;}Rc.push({startIndex:xp,length:fV[aL].length,color:fV[aL].color,opacity:cQ});QY.push(aL);F.Fq.push(fV[aL]);}else{var WB=wT-xp;if(WB>0){Ri=fV[aL].length-WB;cQ=127;if(fV[aL].opacity){cQ=fV[aL].opacity;}Rc.push({startIndex:xp,length:WB,color:fV[aL].color,opacity:cQ});QY.push(aL);F.Fq.push(fV[aL]);qK=true;Bv=aL;Rm=EV.aO;}}}}return Rc;};this.Fq=[];var fH=afh(this.V,0,lz);C.clearHighlights();if(fH.length>0){F.V.selectText(fH);}fH=[];var hf=this.V.bZ;if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){fH=[];fH=afh(this.aA[T],hf,lz);hf+=this.aA[T].bZ;if(fH.length>0){this.aA[T].selectText(fH);}}}break;}return this;};function awd(FV){IPCC.aF.mn(FV.startIndex,'highlight.startIndex',0,C.getText().length);IPCC.aF.mn(FV.length,'highlight.length',1,Number.MAX_VALUE);IPCC.aF.dK(FV.color,'highlight.color');if(FV.opacity){IPCC.aF.mn(FV.opacity,"highlight.opacity",0,255);}};C.clearHighlights=function(){if(this.V){if(!this.V){throw new Error("It is invalid to clear highlights on this mark.");}}var aZ=C.getType();switch(aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:C.V.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.V.selectText();if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].selectText();}}break;}return this;};};var aZ=C.getType();switch(aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:auS(C);break;default:break;}};function addPropertiesToMark(C){C.mr={x:0,y:0,width:0,height:0};var aZ=C.getType();switch(aZ){case Mark.Type.LineAnnotation:C.dK='#18385F';C.iE=IPCC.Web.UI.LineStyle.Solid;C.ob=6;C.cQ=255;C.OT={x:0,y:0};C.wT={x:0,y:0};C.mk="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:C.ey='#FB0404';C.cQ=255;C.oY='#000000';C.mI=4;C.G={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:C.fC="";C.gS=[];C.ey='#000000';C.oY='#000000';C.mI=1;C.gY='#FFFFFF';C.G={x:0,y:0,width:0,height:0};C.nN=true;if(C.V){C.V.jO(C.nN);}break;case Mark.Type.TransparentRectangleRedaction:C.G={x:0,y:0,width:0,height:0};C.nN=true;if(C.V){C.V.jO(C.nN);C.V.set_fillColor('#FFFF00');C.V.set_opacity(127);C.V.set_lineWidth(1);C.V.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:C.bx='';C.ey='#FFFFFF';C.cQ=127;C.oY='#000000';C.mI=4;C.gY='#000000';C.hz="Arial";C.ck=12;C.cj=[];C.mx="Left";C.ed=0;C.G={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:C.ug="Approved";C.G={x:0,y:0,width:0,height:0};if(aZ===Mark.Type.StampRedaction){C.nN=true;if(C.V){C.V.jO(C.nN);C.V.set_fillColor('#000000');}}else{C.dK="#000000";}break;case Mark.Type.HighlightAnnotation:C.ey="#FFFF00";C.bx='';C.cK='';if(C.V){if(C.V.cK){C.bx=C.V.cK;}}C.cO={startIndex:0,length:0};C.Fq=[];C.aA=[];break;case Mark.Type.TextSelectionRedaction:C.fC="";C.gS=[];C.bx='';C.cO={startIndex:0,length:0};if(C.V){C.V.set_fillColor('#000000');if(C.V.cK){C.bx=C.V.cK;}}C.Fq=[];C.aA=[];break;case Mark.Type.TextHyperlinkAnnotation:C.jN='';C.ey="#3B00FF";C.bx='';if(C.V){if(C.V.cK){C.bx=C.V.cK;}}C.cO={startIndex:0,length:0};C.Fq=[];C.aA=[];break;case Mark.Type.TextRedaction:C.bx='';C.gY='#000000';C.hz="Arial";C.ck=12;C.G={x:0,y:0,width:0,height:0};C.nN=true;C.ed=0;if(C.V){C.V.jO(C.nN);C.V.set_fillColor('#FFFFFF');}C.mx="Left";break;case Mark.Type.FreehandAnnotation:C.cQ=255;C.G={x:0,y:0,width:0,height:0};C.ob=4;C.dK='#000000';C.gW='M0,0';break;case Mark.Type.FreehandSignature:C.G={x:0,y:0,width:0,height:0};C.ob=4;C.dK='#000000';C.mx="Center";C.gW='M0,0';break;case Mark.Type.TextSignature:C.bx="John Doe";C.G={x:0,y:0,width:0,height:0};C.dK="#000000";if(C.V){C.dK=C.V.ey||'#000000';C.V.jO(C.nN);C.V.set_fillColor(C.dK);}C.mx="Center";C.hz="";break;case Mark.Type.TextInputSignature:C.bx="";C.G={x:0,y:0,width:0,height:0};C.gY="#000000";C.ed=0;if(C.V){C.gY=C.V.get_textColor()||'#000000';C.V.jO(false);}C.mx="Left";C.hz="Courier New";C.ju=null;break;case Mark.Type.TextAreaSignature:C.bx="";C.G={x:0,y:0,width:0,height:0};C.gY="#000000";if(C.V){C.gY=C.V.get_textColor()||'#000000';C.V.jO(false);}C.mx="Left";C.hz="Courier New";C.cj=[];C.ed=0;C.iq=0;break;case 'PlaceSignature':C.jT=undefined;C.G={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:C.be="";C.qS="";C.G={x:0,y:0,width:0,height:0};if(C.V&&aZ===Mark.Type.ImageStampRedaction){C.nN=true;C.V.jO(C.nN);}break;case Mark.Type.PolylineAnnotation:C.dK='#000000';C.iE=IPCC.Web.UI.LineStyle.Solid;C.ob=2;C.cQ=255;C.bn=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:C.dK='#000000';C.iE=IPCC.Web.UI.LineStyle.Solid;C.ob=2;C.bx='';C.cK='';if(C.V){if(C.V.cK){C.bx=C.V.cK;}}C.cO={startIndex:0,length:0};C.Fq=[];C.aA=[];break;}function getSignature(){return this.jT||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.jT=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.jT=signature;return this;};if(C.jT||C.aZ==='PlaceSignature'){C.getSignature=getSignature;C.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(C,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dK=this.V.get_lineColor()||this.dK;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dK=this.V.get_fillColor()||this.dK;break;}}return this.dK;};function setColor(value){IPCC.aF.dK(value,'color');this.dK=value;if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.V.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.V.set_fillColor(value);break;case Mark.Type.TextSignature:this.V.set_textColor(value);this.V.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.V.set_lineColor(value);if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].set_lineColor(value);}}break;}}return this;};if(C.dK!==undefined){C.getColor=getColor;C.setColor=setColor;if(Object.defineProperties){Object.defineProperties(C,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.ey=this.V.get_fillColor()||this.ey;break;}}return this.ey;};function setFillColor(value){if(this.aZ===PCCViewer.Mark.Type.HighlightAnnotation||this.aZ===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.aF.dK(value,'fillColor');}else{IPCC.aF.XO(value,'fillColor');}this.ey=value;if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.V.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.V.set_fillColor(value);if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].set_fillColor(value);}}break;}}return this;};if(C.ey!==undefined){C.getFillColor=getFillColor;C.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(C,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.be,id:this.qS};return retVal;};function setImage(params){IPCC.aF.ly(params.dataUrl,'string');IPCC.aF.ly(params.id,'string');this.be=params.dataUrl;this.qS=params.id;if(this.V){switch(this.aZ){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.V.set_image(params.dataUrl);this.V.qS=params.id;break;}}return this;};if(C.be!==undefined){C.getImage=getImage;C.setImage=setImage;if(Object.defineProperties){Object.defineProperties(C,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.oY=this.V.get_lineColor()||this.oY;break;}}return this.oY;};function setBorderColor(value){IPCC.aF.XO(value,'borderColor');this.oY=value;if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.V.set_lineColor(value);break;}}return this;};if(C.oY!==undefined){C.getBorderColor=getBorderColor;C.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(C,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cQ=this.V.get_opacity()||this.cQ;break;}}return this.cQ;};function setOpacity(value){IPCC.aF.mn(value,'opacity',0,255);this.cQ=value;if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.V.set_opacity(value);break;}}return this;};if(C.cQ!==undefined&&C.cQ>=0){C.getOpacity=getOpacity;C.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(C,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.ob=this.V.get_lineWidth()||this.ob;break;}}return this.ob;};function setThickness(value){IPCC.aF.kc(value,'thickness',1,50);this.ob=value;if(this.V){switch(this.aZ){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.V.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.V.set_lineWidth(value);if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].set_lineWidth(value);}}break;}}return this;};if(C.ob){C.getThickness=getThickness;C.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(C,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.mI=this.V.get_lineWidth()||this.mI;break;}}return this.mI;};function setBorderThickness(value){IPCC.aF.kc(value,'borderThickness',1,50);this.mI=value;if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.V.set_lineWidth(value);break;}}return this;};if(C.mI!==undefined){C.getBorderThickness=getBorderThickness;C.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(C,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.V){this.cB=this.V.get_visible();}return this.cB;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.cB=value;if(this.V){this.V.set_visible(value);}var T;switch(this.aZ){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.aA&&this.aA.length){for(T=0;T<this.aA.length;T++){this.aA[T].set_visible(value);}}if(this.aZ===PCCViewer.Mark.Type.TextSelectionRedaction){var ew=this.V;for(T=0;T<this.V.bm.length;T++){ew.bm[T].set_visible(value);}if(ew.bU){IPCC.K.forEach(this.aA,function(V){for(T=0;T<V.bm.length;T++){V.bm[T].set_visible(value);}});}}break;}return this;};if(C.cB!==undefined){C.getVisible=getVisible;C.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(C,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.V&&this.V!==null){var bn=this.V.get_points();if(bn.get_length()>0){switch(this.aZ){case Mark.Type.LineAnnotation:var bF=bn.getPoint(0);if(bF){this.OT={x:bF.x,y:bF.y};}break;}}}return this.OT;};function setStartPoint(value){IPCC.aF.hc(value.x,'startPoint'+'.x');IPCC.aF.hc(value.y,'startPoint'+'.y');if(this.V&&this.V!==null){var bn=this.V.get_points();switch(this.aZ){case Mark.Type.LineAnnotation:bn.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.OT=value;return this;};if(C.OT){C.getStartPoint=getStartPoint;C.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(C,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.V&&this.V!==null){var bn=this.V.get_points();if(bn.get_length()>0){switch(this.aZ){case Mark.Type.LineAnnotation:var bF=bn.getPoint(1);if(bF){this.wT={x:bF.x,y:bF.y};}break;}}}return this.wT;};function setEndPoint(value){IPCC.aF.hc(value.x,'endPoint'+'.x');IPCC.aF.hc(value.y,'endPoint'+'.y');if(this.V&&this.V!==null){var bn=this.V.get_points();switch(this.aZ){case Mark.Type.LineAnnotation:bn.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.wT=value;return this;};if(C.wT){C.getEndPoint=getEndPoint;C.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(C,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.V&&this.V!==null){var Fc;switch(this.aZ){case Mark.Type.LineAnnotation:Fc=this.V.get_endHeadType();switch(Fc){case IPCC.Web.UI.LineHeadType.None:this.mk=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mk=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mk;};function setEndHeadType(value){var Fc;switch(value){case Mark.LineHeadType.None:Fc=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Fc=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.V&&this.V!==null){switch(this.aZ){case Mark.Type.LineAnnotation:this.V.set_endHeadType(Fc);break;}}this.mk=value;return this;};if(C.mk){C.getEndHeadType=getEndHeadType;C.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(C,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.V&&this.V!==null){var Gt=this.V.get_points();var di=Gt.get_length();var alE=[];var WE=function(azM,ak){alE.push(azM.getPoint(ak));};if(di>1){switch(this.aZ){case Mark.Type.PolylineAnnotation:for(var T=0;T<di;T++){WE(Gt,T);}this.bn=alE;break;}}}return this.bn.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aL=0;aL<value.length;aL++){IPCC.aF.bF(value[aL],'PolylinePoint');}if(this.V&&this.V!==null){var Gt=this.V.get_points();var aBf=function(ak){Gt.addPoint(new IPCC.Web.UI.Point(value[ak].x,value[ak].y));};switch(this.aZ){case Mark.Type.PolylineAnnotation:Gt.removeAllPoints();for(var T=0;T<value.length;T++){aBf(T);}}}this.bn=value;return this;};if(C.bn){C.getPoints=getPoints;C.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(C,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.V){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aW=this.V.get_rectangle();if(aW instanceof IPCC.Web.UI.Rectangle){this.G={width:aW.width,height:aW.height,x:aW.x,y:aW.y};}break;}}return this.G;};function setRectangle(value){IPCC.aF.hc(value.x,'rectangle'+'.x');IPCC.aF.hc(value.y,'rectangle'+'.y');IPCC.aF.hc(value.width,'rectangle'+'.width');IPCC.aF.hc(value.height,'rectangle'+'.height');if(this.V&&this.V!==null){switch(this.aZ){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aW=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.V.set_rectangle(aW);break;}}this.G=value;return this;};if(C.G){C.getRectangle=getRectangle;C.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(C,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var cE=0;if(this.V&&this.V.cK){cE=this.V.cK.length;}else if(this.V){cE=IPCC.K.reduce([this.V].concat(this.aA||[]),function(di,V){return di+V.get_textLength();},0);}return this.V?{startIndex:this.V.aS,length:cE}:this.cO;};function setPosition(value){IPCC.aF.hc(value.startIndex,'position.startIndex');IPCC.aF.hc(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.V===undefined||this.V===null){throw new Error("The mark must be on a page.");}var aw;var aQ;var aO=this.bL-1;var wz= -value.startIndex;var pa=[];var cK="";var cv;while(true){if(aO>=this.dq.get_length()){throw new Error("The specified length is out of range.");}aw=this.dq.getPage(aO);if(aw.cC()&&aw.cC().Az()&&aw.cC().oV()===true){var afH=wz;var WL=aw.cC().Co();wz+=WL.length;if(wz<0||(wz===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Ts=0;if(aO===this.bL-1){Ts=value.startIndex;}if(wz>=value.length){cv=value.startIndex+value.length-1;if(afH>=0){cv=value.length-1-afH;}pa.push({pageIndex:aO,endIndex:cv});cK+=WL.substring(Ts,cv+1);break;}else{cv=aw.cC().Co().length-1;pa.push({pageIndex:aO,endIndex:cv});cK+=WL.substring(Ts,cv+1);}}else{throw new Error("The text has not been retrieved for this page.");}aO++;}this.bU=IPCC.Ct();var T=0;if(this.aA){if(this.V){this.V.bU=this.bU;aQ=this.as.hq(this.dq.getPage(this.V.aO));if(this.V.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var YS=this.V.bm.length-1;YS>=0;YS--){aQ.removeMark(this.V.bm[YS]);this.V.bm.pop();}}}for(T=this.aA.length-1;T>=0;T--){var kM=this.aA[T];aQ=this.as.hq(this.dq.getPage(kM.aO));aQ.removeMark(kM);this.aA.splice(T,1);}}else{this.aA=[];}Fs.call(this,pa,cv,cK,value);this.cO=value;return this;};function Fs(pa,cv,cK,value,Yk){var T,aO,aw,aQ;Yk=Yk||{};var bm;this.aA=this.aA||[];var acu=(this.V.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?avE:avm;for(T=0;T<pa.length;T++){aO=pa[T].pageIndex;aw=this.dq.getPage(aO);var aoU=aw.cC().gp();aQ=this.as.hq(aw);var ew;var aS=0;cv=pa[T].endIndex;if(T===0){aS=value.startIndex;}aO=pa[T].pageIndex;bm=Yk[aO]||IPCC.K.YM(aoU,aS,cv);if(T===0){ew=acu(this.V,aS,cv-aS+1,cK,bm,aO,this.bU,this.V.get_type(),aQ);this.V.kI=true;}else{ew=acu(null,aS,cv-aS+1,cK,bm,aO,this.bU,this.V.get_type(),aQ);this.aA.push(ew);aQ.addMark(ew);ew.set_selected(this.V.get_selected());if(this.getFillColor){ew.set_fillColor(this.V.get_fillColor());}if(this.getColor){ew.set_lineColor(this.V.get_lineColor());}if(this.getThickness){ew.set_lineWidth(this.V.get_lineWidth());}if(this.getHref){ew.set_href(this.V.get_href());}if(this.getReason){ew.set_text(this.V.get_text());}}if(T===pa.length-1){ew.lj=true;}}};if(C.cO){C.getPosition=getPosition;C.setPosition=setPosition;C.Fs=Fs;if(Object.defineProperties){Object.defineProperties(C,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function avm(C,aS,cE,cK,bm,aO,nU,bK,aQ){if(!C){C=new IPCC.Web.UI.Mark(bK);}C.aS=aS;C.bZ=cE;C.ja='y';C.bU=nU;C.cK=cK;C.bm=bm||[];C.aO=aO;var TF=IPCC.K.reduce(C.bm,function(IW,aW){if(!IW){return aW.clone();}else{return IW.union(aW);}},null);C.set_rectangle(TF);return C;};function avE(C,aS,cE,cK,bm,aO,nU,bK,aQ){if(!C){C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}C.aS=aS;C.bZ=cE;C.bU=nU;C.cK=cK;C.aO=aO;C.bm=IPCC.K.map(bm,function(aW){var xe=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);xe.set_rectangle(aW);xe.jO(true);xe.set_fillColor('#000000');xe.set_text(C.bx);xe.set_lineWidth(0);xe.bU=nU;aQ.addMark(xe);return xe;});var TF=IPCC.K.reduce(bm,function(IW,aW){if(!IW){return aW.clone();}else{return IW.union(aW);}},null);C.set_rectangle(TF);return C;};function getText(){if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bx=(typeof this.V.get_text()==="string")?this.V.get_text():this.bx;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(C.V.cK){this.bx=C.V.cK;}break;}}return this.bx;};function setText(value){IPCC.aF.ly(value,'text');this.bx=value;if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.V.set_text(value);break;}}return this;};if(C.bx!==undefined){C.getText=getText;var bK=C.getType();if(bK!==Mark.Type.HighlightAnnotation&&bK!==Mark.Type.TextSelectionRedaction&&bK!==Mark.Type.TextHyperlinkAnnotation&&bK!==Mark.Type.StrikethroughAnnotation){C.setText=setText;}if(Object.defineProperties){var agP={enumerable:true,get:function(){return this.getText();}};if(C.setText!==undefined){agP.set=function(value){return this.setText(value);};}Object.defineProperties(C,{"text":agP});}}function getFontColor(){if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.gY=this.V.get_textColor()||this.gY;break;}}return this.gY;};function setFontColor(value){IPCC.aF.dK(value,'fontColor');this.gY=value;if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.V.set_textColor(value);break;}}return this;};if(C.gY){C.getFontColor=getFontColor;C.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(C,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.hz=this.V.get_fontName()||this.hz;break;}}return this.hz;};function setFontName(value){IPCC.aF.ly(value,'fontName');this.hz=value;if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.V.set_fontName(value);break;}}return this;};if(C.hz!==undefined){C.getFontName=getFontName;C.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(C,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.ck=this.V.get_fontSize()||this.ck;break;}}return this.ck;};function setFontSize(value){IPCC.aF.kc(value,'fontSize',0.1,288);this.ck=value;if(this.V){switch(this.aZ){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.V.set_fontSize(value);break;}}return this;};if(C.ck){C.getFontSize=getFontSize;C.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(C,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.V){var Bx=this.V.get_textHorizontalAlignment();switch(Bx){case IPCC.Web.UI.HorizontalAlignment.Center:this.mx="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.mx="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.mx="Right";break;}}return this.mx;};function setHorizontalAlignment(value){IPCC.aF.ly(value,'horizontalAlignment');var oH=LT(value,PCCViewer.Mark.HorizontalAlignment);var Bx;switch(oH){case 'Center':Bx=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':Bx=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':Bx=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}C.mx=oH;if(this.V&&Bx!==undefined){this.V.set_textHorizontalAlignment(Bx);this.mx=oH;}return this;};if(C.mx){C.getHorizontalAlignment=getHorizontalAlignment;C.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(C,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function avf(Yu){var zE=[];for(var T=0;T<Yu.length;T++){switch(Yu[T]){case "Bold":zE.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zE.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zE.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zE.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+Yu[T]);}}if(zE.length===0){zE.push(IPCC.Web.UI.FontStyle.Regular);}return zE;};function getFontStyle(){if(this.V){var oh=[];switch(this.aZ){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var uN=this.V.get_fontStyle();if(uN&IPCC.Web.UI.FontStyle.Bold){oh.push("Bold");}if(uN&IPCC.Web.UI.FontStyle.Italic){oh.push("Italic");}if(uN&IPCC.Web.UI.FontStyle.Strikeout){oh.push("Strikeout");}if(uN&IPCC.Web.UI.FontStyle.Underline){oh.push("Underline");}if(oh.length>0){this.cj=oh;}break;}}return this.cj;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Nt,T,aaj=[];for(T=0;T<value.length;T++){Nt=LT(value[T],PCCViewer.Mark.FontStyles);if(Nt===null){throw new RangeError("The value of font styles "+value[T]+" is invalid.");}else{IPCC.aF.ly(Nt,'fontStyle');aaj.push(Nt);}}this.cj=aaj;var uN=[];uN=avf(this.cj);var av=this;function atY(bd){setTimeout(function(){av.V.set_fontStyle(bd);},2);};if(this.V){switch(this.aZ){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var ahf=uN[0];for(T=1;T<uN.length;T++){ahf|=uN[T];}atY(ahf);break;}}return this;};if(C.cj){C.getFontStyle=getFontStyle;C.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(C,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.V){switch(this.aZ){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.ug=this.V.get_text()||this.ug;break;}}return this.ug;};function setLabel(value){IPCC.aF.ly(value,'label');this.ug=value;if(this.V){switch(this.aZ){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.V.set_text(value);break;}}return this;};if(typeof C.ug!=='undefined'){C.getLabel=getLabel;C.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(C,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.nH===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.V){switch(this.aZ){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.fC=this.V.get_text()||this.fC;break;}}return this.fC;};function setReason(value){if(this.nH===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.aF.ly(value,'text');this.fC=value;if(this.V){switch(this.aZ){case Mark.Type.RectangleRedaction:this.V.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.V.set_text(value);if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].set_text(value);}}break;}}return this;};if(typeof C.fC!=='undefined'){C.getReason=getReason;C.setReason=setReason;if(Object.defineProperties){Object.defineProperties(C,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.nH===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.gS.slice();};function setReasons(value){if(this.nH===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.aF.vL(value);IPCC.K.forEach(value,function(reason){IPCC.aF.ly(reason);});this.gS=value.slice();if(this.V){var ZZ=this.gS.join("; ");switch(this.aZ){case Mark.Type.RectangleRedaction:this.V.set_text(ZZ);break;case Mark.Type.TextSelectionRedaction:this.V.set_text(ZZ);if(this.aA&&this.aA.length){for(var T=0;T<this.aA.length;T++){this.aA[T].set_text(ZZ);}}break;}}return this;};if(typeof C.gS!=='undefined'){C.getReasons=getReasons;C.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(C,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.V){return this.V.get_pathString();}else{return this.gW;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var tZ=IPCC.K.Wq(path);this.gW=path;if(this.V){this.V.set_pathString(path);this.V.set_pathWidth(tZ.width);this.V.set_pathHeight(tZ.height);}return this;};if(C.gW){C.setPath=setPath;C.getPath=getPath;if(Object.defineProperties){Object.defineProperties(C,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.V){return this.V.get_href();}else{return this.jN;}};function setHref(href){if(href!==null){var aZ=typeof href;if(aZ!=="undefined"&&aZ!=="number"&&aZ!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.jN=href;if(this.V){this.V.set_href(href);}if(this.aA){IPCC.K.forEach(this.aA,function(V){V.set_href(href);});}return this;};if(typeof C.jN!=='undefined'){C.setHref=setHref;C.getHref=getHref;if(Object.defineProperties){Object.defineProperties(C,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.ed=maxLength;if(this.V){this.V.set_maxLength(this.ed);}return this;};function getMaxLength(){if(this.V){this.ed=this.V.get_maxLength();}return this.ed;};if(typeof C.ed!=='undefined'){C.getMaxLength=getMaxLength;C.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(C,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.iq=maxFontSize;if(this.V){this.V.set_maxFontSize(this.iq);}return this;};function getMaxFontSize(){if(this.V){this.iq=this.V.get_maxFontSize();}return this.iq;};if(typeof C.iq!=='undefined'){C.getMaxFontSize=getMaxFontSize;C.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(C,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.ju;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.ju=null;if(this.V){this.V.set_mask(this.ju);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var agO=false;IPCC.K.forEach(mask.translations,function(val,key){agO=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!agO){throw new Error('`mask.translations` must have at least one translation.');}this.ju=mask;if(this.V){this.V.set_mask(this.ju);}return this;};if(typeof C.ju!=='undefined'){C.getMask=getMask;C.setMask=setMask;if(Object.defineProperties){Object.defineProperties(C,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var it=function(viewerControl,markReferences){var F=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.ds=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.dA=viewerControl;this.am=undefined;this.Zb=undefined;this.alF=undefined;this.bz=[];this.gU={};this.mP=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.aD){this.aD=viewerControl.aD;}else{var NX=function(){viewerControl.off('ViewerReady',NX);viewerControl.off('ViewingSessionChanged',NX);F.aD=viewerControl.aD;};viewerControl.on('ViewerReady',NX);viewerControl.on('ViewingSessionChanged',NX);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.K.forEach(markReferences,function(sA){var LL=sA.markUid;sA.markupLayer=F;if(F.gU[LL]){F.gU[LL]=F.gU[LL].concat(sA);}else{F.gU[LL]=[sA];}});}var oQ={};EventEmitter.extend(oQ);oQ.OV=function(Gf,dM){var F=this;return setTimeout(function(){F.trigger(Gf,dM);},0);};EventEmitter.extend(this);this.dk=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Cx=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){F.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};it.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};it.prototype.getViewerControl=function(){return this.dA;};it.prototype.addMarks=function(marks){var F=this,anM=function(dJ){dJ.jf=F;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var T=0;T<marks.length;T++){if(!(marks[T]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[T].getId())){marks.splice(T,1);continue;}IPCC.K.forEach(marks[T].getConversation().getComments(),anM);}if(marks.length){this.bz=this.bz.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};it.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var T=0;T<this.bz.length;T++){for(var aL=0;aL<marks.length;aL++){if(this.bz[T].getUid()===marks[aL].getUid()){this.bz.splice(T,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aL]]});break;}}}};it.prototype.getMarks=function(){var anz=[];IPCC.K.forEach(this.bz,function(C){anz.push(C);});return anz;};it.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var T=0,aez=false,C;for(T;T<this.bz.length;T++){C=this.bz[T];if(C.getId()===markId){aez=true;break;}}return aez;};it.prototype.getMarkReferences=function(){var gU=[];for(var mT in this.gU){if(this.gU.hasOwnProperty(mT)){gU=gU.concat(this.gU[mT]);}}return gU;};it.prototype.hide=function(){var dA=this.aD;dA.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};it.prototype.show=function(){var dA=this.aD;dA.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};it.prototype.copyLayers=function(markupLayers){var dA=this.aD,F=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bz=[];IPCC.K.forEach(markupLayers,function(jf){dA.getMarkupLayerCollection().getItem(jf.getId());bz=bz.concat(jf.getMarks());});var copiedMarks=dA.copyMarks(bz);this.addMarks(copiedMarks);IPCC.K.forEach(this.bz,function(C){IPCC.K.forEach(C.getConversation().getComments(),function(dJ){dJ.jf=F;});});return this;};it.prototype.getId=function(){return this.ds;};it.prototype.getName=function(){return this.am;};it.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.am=name;return this;};it.prototype.getRecordId=function(){return this.Zb;};it.prototype.destroy=function(){this.aD.getMarkupLayerCollection().removeItem(this.ds);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};it.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mP=interactionMode;IPCC.K.forEach(this.bz,function(C){C.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};it.prototype.getOriginalXmlName=function(){return this.alF;};it.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alF=name;return this;};if(Object.defineProperties){Object.defineProperties(it.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=it;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dA=viewerControl;this.rZ={};this.bz={};this.ia={};this.qX=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.dA;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.K.forEach(this.rZ,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.rZ[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qX;};MarkupLayerCollection.prototype.getAll=function(){var ane=[],aaF;for(aaF in this.rZ){if(this.rZ.hasOwnProperty(aaF)){ane.push(this.rZ[aaF]);}}return ane;};MarkupLayerCollection.prototype.addItem=function(layer){var F=this,gU,abl=layer.gU,GL=function(C,sA){var dJ=C.getConversation().addComment(sA.text);dJ.creationTime=new Date(sA.creationDateTime);dJ.jf=sA.markupLayer;for(var uq in sA.data){if(sA.data.hasOwnProperty(uq)){dJ.setData(uq,sA.data[uq]);}}},aDh=function(axf){GL(F.bz[xV],axf);},akQ=function(C){var mT=C.getUid();F.bz[C.getUid()]=C;if(F.ia[mT]){IPCC.K.forEach(F.ia[mT],function(qp){GL(C,qp);});delete F.ia[mT];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.rZ[layer.getId()]=layer;for(var xV in abl){if(abl.hasOwnProperty(xV)){gU=abl[xV];if(F.bz[xV]){IPCC.K.forEach(gU,aDh);}else if(F.ia[xV]){F.ia[xV]=F.ia[xV].concat(gU);}else{F.ia[xV]=gU;}}}IPCC.K.forEach(layer.getMarks(),function(C){akQ(C);});this.qX++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.K.forEach(ev.marks,function(C){akQ(C);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var auZ=ev.dI;IPCC.K.forEach(ev.marks,function(C){var mT=C.getUid();IPCC.K.forEach(F.bz[mT].getConversation().getComments(),function(Iu){if(auZ.id!==Iu.jf.id){var qp={creationDateTime:IPCC.K.tq(Iu.creationTime),data:Iu.dk.wB(),markUid:C.getUid(),markupLayer:Iu.jf,text:Iu.text};if(F.ia[mT]){F.ia[mT]=F.ia[mT].concat([qp]);}else{F.ia[mT]=[qp];}}});F.tm(C);});});return this;};MarkupLayerCollection.prototype.tm=function(C){var Mj;IPCC.K.forEach(this.rZ,function(dS){var aoj=dS.hasMark(C.getId());Mj=(typeof Mj!=='undefined')? +aoj^Mj: +aoj;});if(Mj===0){delete this.bz[C.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var dS=this.rZ[layerId],F=this,aBR=function(qp,ak){if(qp.markupLayer.getId()===layerId){F.ia[ds].splice(ak);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.K.forEach(this.bz,function(C){var fQ=C.getConversation().getComments();var OC=dS.hasMark(C.getId());IPCC.K.forEach(fQ,function(dJ){if(OC&&dJ.jf.getId()!==layerId){var acj={"markUid":C.getUid(),"markupLayer":dJ.jf,"text":dJ.getText(),"data":dJ.dk.dk,"creationDateTime":IPCC.K.tq(dJ.getCreationTime())};if(F.ia[C.getUid()]){F.ia[C.getUid()].push(acj);}else{F.ia[C.getUid()]=[acj];}C.getConversation().deleteComments(dJ);}else if(OC&&dJ.jf.getId()===layerId){C.getConversation().deleteComments(dJ);}else if(!OC&&dJ.jf.getId()===layerId){C.getConversation().deleteComments(dJ);}});if(OC&&F.bz[C.getUid()]){F.tm(C);}});for(var ds in this.ia){if(this.ia.hasOwnProperty(ds)){IPCC.K.forEach(this.ia[ds],aBR);}}delete this.rZ[layerId];this.qX--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.rZ={};this.qX=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.am=name;var Hc=asE(type);if(Hc===null){throw new RangeError("The value of type was invalid.");}this.aZ=Hc;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.am;};MouseTool.prototype.getType=function(){return this.aZ;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function asE(VY){var ZE=VY.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===ZE){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var aZ=mouseTool.getType();switch(aZ){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.Ap=false;break;case MouseTool.Type.PanAndEdit:mouseTool.Ap=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bS=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bS=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bS=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bS=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bS=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bS=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bS=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bS=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bS=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bS=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bS=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bS=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bS=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bS=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bS=new Mark({type:'PlaceSignature',zg:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bS=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bS=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bS=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bS=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bS=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bS){mouseTool.getTemplateMark=function(){return this.bS;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bS){this.bS.reset();}};var MouseTools={sS:{},createMouseTool:function(name,type){if(!this.sS){this.sS={};createDefaultMouseTools();}var zb=name.toLowerCase();var existingTool=this.sS[zb];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sS[zb]=new MouseTool(name,type);}return this.sS[zb];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sS){this.sS={};createDefaultMouseTools();}var zb=name.toLowerCase();return this.sS[zb];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sS;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var AY=[];var oQ={};EventEmitter.extend(oQ);oQ.OV=function(Gf,dM){var F=this;return setTimeout(function(){F.trigger(Gf,dM);},0);};this.add=function(item){AY.push(item);oQ.OV(this.EventType.ItemAdded,{item:item,count:AY.length});return this;};this.remove=function(item){var F=this;this.forEach(function(e,idx){if(e===item){AY.splice(idx,1);oQ.OV(F.EventType.ItemRemoved,{item:item,count:AY.length});}});return this;};this.removeAll=function(){AY=[];oQ.OV(this.EventType.ItemRemoved,{count:AY.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.K.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(AY);};this.on=function(eventType,handler){oQ.on.apply(oQ,arguments);return this;};this.off=function(eventType,handler){oQ.off.apply(oQ,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var By={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=By;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Zh){this.Zh=Zh;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Zh(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var TS=function TS(aK,cD,H){if(aK.addEventListener){aK.addEventListener(cD,H,false);}else if(aK.attachEvent){aK.attachEvent('on'+cD,H);}};var UQ=function UQ(aK,cD,H){if(aK.removeEventListener){aK.removeEventListener(cD,H,false);}else if(aK.detachEvent){aK.detachEvent('on'+cD,H);}};function awi(dU){var adg={};dU=dU.split('&');for(var i=dU.length;i--;){var q=dU[i].split('=');adg[q.shift()]=q.join('=');}return adg;};function ava(){var ye=document.getElementById('pccPrintFrame');if(ye){if(ye.contentWindow&&ye.contentWindow.destroy){ye.contentWindow.destroy();}if(ye.parentElement){ye.parentElement.removeChild(ye);}}};function arA(bk){bk.amg();ava();bk.amI();if(!bk.algorithm){bk.algorithm=printAlgorithm.standard;}var fT;var hn=document.createElement('iframe');hn.id='pccPrintFrame';hn.className='pccPrintFrame';hn.style.position='absolute';hn.style.bottom=hn.style.right='0px';hn.style.width=hn.style.height='1px';hn.style.zIndex='0';hn.style.border='none';if(bk.algorithm!==printAlgorithm.contentWindowContents){hn.style.visibility='0';}function QH(){UQ(window,'message',anZ);};function ali(){UQ(hn,'load',ali);if(hn.contentDocument){fT=hn.contentDocument;}else if(hn.contentWindow){fT=hn.contentWindow.document;}else{fT=hn.document;}if(bk.algorithm===printAlgorithm.contentWindowContents){hn.contentWindow.contents=bk.template;hn.src='javascript:window["contents"]';}else{fT.open();fT.write(bk.template);fT.close();}};var anZ=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var amW=JSON.parse(message.data);var aQ=bk.als(amW.pageIndex);bk.amg();hn.contentWindow[amW.callbackName](aQ);bk.amI();}else if(message.data==='extra'){var HO=bk.ajU(bk);hn.contentWindow['extra'](bk.encryption,HO);}else if(message.data==='done'){if(bk.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){hn.contentWindow.focus();hn.contentWindow.document.execCommand('print',false,null);window.focus();QH();bk.uZ.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){hn.contentWindow.focus();hn.contentWindow.print();window.focus();QH();bk.uZ.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){QH();bk.uZ.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var ss=awi(message.data);ss.index= +ss.index;ss.pageNumber= +ss.pageNumber;ss.totalPages= +ss.totalPages;bk.uZ.aaO= +ss.index+1;bk.uZ.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,ss);}};TS(window,'message',anZ);TS(hn,'load',ali);document.body.appendChild(hn);return QH;};function atg(dA){return function als(aO){return dA.as.hq(dA.dq.getPage(aO));};};function arZ(dA){return function ajU(options){var bz,C,uv=[],Aa=[],Eo={},JT={},we={},fC={},FI='',agM,cX,ak,EQ,aW,Kq,bL,anp={},DX={},T=0,dE=0,aL=0,aDL=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bz=dA.getAllMarks();for(T=0;T<options.pages.length;T++){anp[options.pages[T]]=true;}for(dE=0;dE<bz.length;dE++){C=bz[dE];bL=C.bL;if(options.includeReasons!=='none'&&(C.getReason||C.getReasons)){FI=C.V.get_text();if(FI){if(!we[bL]){fC[FI]=1;we[bL]=fC;fC={};}else{if(we[bL][FI]){we[bL][FI]+=1;}else{we[bL][FI]=1;}}}}if(C.nN||C.aZ.search("Redaction")!== -1){if(DX[bL]){DX[bL]+=1;}else{DX[bL]=1;}}if(options.range.length&&anp[bL]!==true|| !options.includeRedactions&&C.nN|| !options.includeAnnotations&& !C.nN){continue;}cX=C.getConversation();if(cX&&cX.getComments().length){if(!EQ){EQ=bL;}else if(bL!==EQ){uv.sort(aDL);for(aL=0;aL<uv.length;aL++){Aa=Aa.concat(Eo[uv[aL]]);}JT[EQ]=Aa;EQ=bL;uv=[];Eo={};Aa=[];}ak=dA.getCharacterIndex(C);agM=bL;aW=C.V.get_boundingRectangle();Kq=(ak>0)?ak*10000+aW.y:aW.y;uv.push(Kq);if(!Eo[Kq]){Eo[Kq]=[cX];}else{Eo[Kq].push(cX);}}}if(uv.length){uv.sort(function(a,b){return a-b;});for(T=0;T<uv.length;T++){Aa=Aa.concat(Eo[uv[T]]);}JT[agM]=Aa;}}return{JT:JT,we:we,DX:DX};};};function atJ(dA){return function(){if(dA&&dA.as){dA.as.remove_markChanged(dA.nq);}};};function SI(dA){return function(){if(dA&&dA.as){dA.as.add_markChanged(dA.nq);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dH=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var qe=this.bk.imageHandlerUrl;var asU=this.bk.documentID;var arY=this.aEI;options.vsID=asU;options.handler=qe;options.pages=dH;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=arY.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bk.viewerAssetsPath);options.encryption= ! !this.bk.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var SC;function bE(){if(! !SC){SC();}};var uZ=new PCCViewer.PrintRequest(options,dH.length,bE,this);this.az.trigger(PCCViewer.EventType.PrintRequested,{printRequest:uZ});options.uZ=uZ;options.als=atg(this);options.ajU=arZ(this);options.amg=atJ(this);options.amI=SI(this);SC=arA(options);return uZ;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bk=options;this.bE=cancelFunc;this.aaO=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.bE();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bk.pages.toString(),orientation:this.bk.orientation,paperSize:this.bk.paperSize,margins:this.bk.margins,includeMarks:this.bk.includeMarks,includeAnnotations:this.bk.includeAnnotations,includeRedactions:this.bk.includeRedactions,includeComments:this.bk.includeComments,includeReasons:this.bk.includeReasons,redactionViewMode:this.bk.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bk.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.aaO;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var acF=[];IPCC.K.ZK=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function yW(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function ayR(bL,JA){var kf=[];kf.push("pageNumber="+(1+bL));kf.push("index="+JA);kf.push("totalPages="+options.pages.length);return kf.join('&');};function iR(bL,JA,next){var bu={documentIdentifier:options.vsID,pageNumber:bL,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var js=document.createElement('div');js.className=options.paperSize+" ";js.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';js.id='printpage'+bL;if(options.margins==='none'){js.className+=' nomargins';}domElement.appendChild(js);var pv=IPCC.initializePageViewPlugin(js,bu);pv.set_debug(false);pv.set_requireRequestsOptimize(true);acF.push(pv);var yg=false;function Fr(){yW(ayR(bL,JA));next();};pv.add_pageOpened(function(){var bD=pv.kl(),bf=pv.iM();var vm=(options.orientation==='portrait'&&bD>bf)||(options.orientation==='landscape'&&bf>bD);if(vm){pv.vm(90);}});pv.add_pageDisplayed(function(){if(!yg){Fr();}});pv.add_textPageReady(function(){if(yg){pv.cG();Fr();}});pv.add_pageOpenFailed(function(){yW('fail');});pv.add_textExtractionFailed(function(){if(yg){yW('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qj(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qj(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var aky='loadArt'+bL;var ss={pageIndex:bL,callbackName:aky};window[aky]=function(aQ){var mj,LE,T,cX={},Qj={},Ao='',mV,gS,fC,Ga='';var Md=[];aQ.BW(function(C){if(C.get_type()===IPCC.Web.UI.MarkType.HighlightText){yg=true;}if(options.includeRedactions&&C.iI()){Md.push(C);}if(options.includeAnnotations&& !C.iI()){Md.push(C);}});var adp=new IPCC.Web.UI.ArtPage();IPCC.K.forEach(Md,function(C){C.lT(undefined);adp.addMark(C);});bu.artPage=adp;Qj=options.pagedConversations[bL+1];if(options.pagedConversations&&Qj&&options.includeComments==='followingPage'){mj=document.createElement('div');mj.className+='commentPage';mj.id='printcommentpage'+bL;if(options.margins==='none'){mj.className+=' nomargins';}LE='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(T=0;T<Qj.length;T++){cX=Qj[T];Ao+=akF(cX,bL+1);}mj.innerHTML=LE.replace('{{pageNumber}}',bL+1).replace('{{conversationList}}',Ao);domElement.appendChild(mj);}gS=options.pagedReasons[bL+1];if(options.pagedReasons&&gS&&options.includeReasons==='followingPage'){mV=document.createElement('div');mV.className+='reasonPage';mV.id='printreasonpage'+bL;if(options.margins==='none'){mV.className+=' nomargins';}LE='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fC in gS){if(gS.hasOwnProperty(fC)){Ga+=alw(fC,gS[fC]);}}mV.innerHTML=LE.replace('{{pageNumber}}',bL+1).replace('{{reasonList}}',Ga).replace('{{date}}',akr()).replace('{{count}}',options.pagedRedactionCount[bL+1]);domElement.appendChild(mV);}pv.openPage(bu);IPCC.K.forEach(Md,function(C){C.lT(aQ);});};yW(JSON.stringify(ss));}else{pv.openPage(bu);}};function akF(cX,bL){var alv='',hK='',C=cX.getMark(),fQ,dJ,T;switch(C.V.jg()){case IPCC.Web.UI.MarkType.Rectangle:hK=(C.V.iI())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:hK='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:hK='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:hK=(C.mk==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:hK='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:hK='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:hK='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:hK='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:hK='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:hK='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:hK='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:hK='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:hK='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:hK='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:hK='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:hK='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:hK='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:hK='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:hK='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:hK='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:hK='Strikethrough Annotation';break;default:break;}fQ=cX.getComments();for(T=0;T<fQ.length;T++){dJ=fQ[T];alv+='<li>'+atb({text:dJ.getText(),createDate:dJ.pp.Yz,pageNumber:bL+1})+'</li>';}return '<h3>'+hK+'</h3><ul>'+alv+'</ul>';};function atb(dJ){var iu=new Date(dJ.createDate),XT='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',iu.getMonth()+1).replace('{{day}}',iu.getDate()).replace('{{year}}',iu.getFullYear()).replace('{{hour}}',(iu.getHours()<10?'0':'')+iu.getHours()).replace('{{minutes}}',(iu.getMinutes()<10?'0':'')+iu.getMinutes()).replace('{{period}}',iu.getHours()<12?'am':'pm');var bx=dJ.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bx).replace('{{date}}',XT);};function akr(){var iu=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',iu.getMonth()+1).replace('{{day}}',iu.getDate()).replace('{{year}}',iu.getFullYear());};function alw(fC,qX){fC=fC.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var axa=(qX>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fC).replace('{{count}}',qX).replace('{{times}}',axa);};function axB(){window.onerror=function(ev){yW('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function avM(bL,JA){return function(next){iR(bL,JA,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var aw= +options.pages[i]-1;funcs.push(avM(aw,i));}sync(funcs,function(){var mj,KD='',aw,Cn='',Ao='',cX,C,aku='<h1>Comments</h1><hr>{{pageSections}}',mV,Ga='',azt='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(aw in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(aw)){if(!mj){mj=document.createElement('div');mj.className+=' commentPage';mj.id='printpage_comments';if(options.margins==='none'){mj.className+=' nomargins';}}KD='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Ao='';for(var T=0;T<options.pagedConversations[aw].length;T++){cX=options.pagedConversations[aw][T];C=cX.getMark();Ao+=akF(cX,C.pageNumber);}Cn+=KD.replace('{{pageNumber}}',C.pageNumber).replace('{{conversationList}}',Ao);if(Ao.length){mj.innerHTML=aku.replace('{{pageSections}}',Cn);domElement.appendChild(mj);}}}}if(options.includeReasons==='documentEnd'){Cn='';aku='';KD='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(aw in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(aw)){if(!mV){mV=document.createElement('div');mV.className+='reasonPage';mV.id='printpage_reason';if(options.margins==='none'){mV.className+=' nomargins';}}Ga='';for(var fC in options.pagedReasons[aw]){if(options.pagedReasons[aw].hasOwnProperty(fC)){Ga+=alw(fC,options.pagedReasons[aw][fC]);}}Cn+=KD.replace('{{pageNumber}}',aw).replace('{{reasonList}}',Ga).replace('{{date}}',akr()).replace('{{count}}',options.pagedRedactionCount[aw]);}}if(Cn.length){mV.innerHTML=azt.replace('{{pageSections}}',Cn);domElement.appendChild(mV);}}yW('done');});};function arJ(){window['extra']=function(bool,HO){options.encryption= ! !bool;options.pagedConversations=HO.JT;options.pagedReasons=HO.we;options.pagedRedactionCount=HO.DX;axB();window['extra']=function(){};};yW('extra');};function auq(){var aQ;IPCC.K.forEach(acF,function(aJ){aQ=aJ.get_artPage();if(aQ){aQ.removeAllMarks();}aJ.dispose();aQ=undefined;});};window['destroy']=auq;arJ();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aAg={Draft:"Draft",Normal:"Normal"};module.exports=aAg;},{}],160:[function(require,module,exports){var Revision=function(){this.ds=0;this.vN=0;this.aZ='';};Revision.prototype.getId=function(){return this.ds;};Revision.prototype.getEndPageNumber=function(){return this.vN;};Revision.prototype.getType=function(){return this.aZ;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vN;}},"id":{enumerable:true,get:function(){return this.ds;}},"type":{enumerable:true,get:function(){return this.aZ;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var Fn=function(bk){var jQ=new PCCViewer.RevisionsRequest(true);function auy(aZ){for(var Xi in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(Xi)){if(Xi.toLowerCase()===aZ.toLowerCase()){return PCCViewer.Revision.Type[Xi];}}}return PCCViewer.Revision.Type.Unknown;};function avW(hD,aS){var wJ=[];if(hD.changes&&hD.changes.length){wJ=hD.changes.map(function(Ya){var QR=new PCCViewer.Revision();QR.ds=Ya.id;QR.vN=Ya.endPageIndex+1;QR.aZ=auy(Ya.type);return QR;});}return wJ;};function asN(OG){var Yv=OG?'&continueToken='+OG:'';var awM=bk.imageHandlerUrl+'/v2/viewingSessions/'+bk.documentID;return awM+'/revisionData?limit=100'+Yv;};function ajH(OG){var bC=PCCViewer.Deferred();var aq=asN(OG);PCCViewer.Ajax.fE({url:aq,method:'GET'}).then(function fd(ah){var dk=JSON.parse(ah.responseText);var BI=dk.continueToken;var wJ=avW(dk,jQ.He.length);jQ.He=jQ.He.concat(wJ);if(BI){if(wJ.length){jQ.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:wJ});}setTimeout(function(){ajH(BI);},dk.continueAfter||0);}else{if(wJ.length){jQ.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:wJ});}jQ.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:jQ.getRevisions()});jQ.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jQ.getRevisions()});}bC.resolve();},function er(aR){var dZ='RequestFailed';var dp='The request to get revisions failed.';var ni=aR.response.responseText?JSON.parse(aR.response.responseText):'';var hX=aR.response.status;if(ni&&(hX===580||(hX===480&&ni.errorCode==='DocumentNotProvidedYet'))){dZ=ni.errorCode;}jQ.dZ=dZ;jQ.dp=dp;jQ.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:jQ.getErrorMessage()});jQ.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:jQ.getRevisions()});bC.reject(aR.error);});};this.aBs=function(){setTimeout(function(){ajH();},0);return jQ;};};var RevisionsRequest=function(vV){this.He=[];this.dZ=null;this.dp=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !vV,enumerable:true,get:function(){return this.He;}},"errorCode":{configurable: ! !vV,enumerable:true,get:function(){return this.dZ;}},"errorMessage":{configurable: ! !vV,enumerable:true,get:function(){return this.dp;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.He;};RevisionsRequest.prototype.getErrorCode=function(){return this.dZ;};RevisionsRequest.prototype.getErrorMessage=function(){return this.dp;};module.exports={RevisionsRequest:RevisionsRequest,Fn:Fn};},{}],162:[function(require,module,exports){var GJ={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=GJ;},{}],163:[function(require,module,exports){var _Search=function(){this.bI='';this.Jo={};this.cn={};this.RZ=0;this.bj=new PCCViewer.SearchRequest();var F=this;this.UR=function(){var Pa=[];for(var T=0;T<F.Jo.searchTerms.length;T++){var bI=F.Jo.searchTerms[T];var nA=IPCC.K.QG(bI.type);var Pv;switch(nA){case 'proximity':var wg={ue:bI,cn:[],type:bI.type,highlightColor:this.Ws(bI.highlightColor),distance:bI.distance,contextPadding:bI.contextPadding};for(var x=0;x<bI.terms.length;x++){var YN=bI.terms[x];Pv=this.alk(YN);wg.cn=wg.cn.concat(Pv);}Pa.push(wg);break;default:Pv=this.alk(bI);Pa=Pa.concat(Pv);break;}}return Pa;};this.alk=function(bI){var ec=[];var cn={};if(bI.matchingOptions.exactPhrase===false&&bI.searchTermIsRegex===false){var xk=bI.searchTerm.split(' ');for(var aL=0;aL<xk.length;aL++){cn={};if(xk[aL].length<0){continue;}cn.searchText=xk[aL];cn.ue=bI;if(bI.matchingOptions.matchWholeWord){cn.searchTerm=this.aod(this.BA(xk[aL]),bI.matchingOptions);}else{if(bI.matchingOptions.wildcard===true){cn.searchTerm=this.agp(this.BA(xk[aL]),bI.matchingOptions);}else if(bI.matchingOptions.beginsWith===true||bI.matchingOptions.endsWith===true){cn.searchTerm=this.agQ(this.BA(xk[aL]),bI.matchingOptions);}else{cn.searchTerm=this.adN(xk[aL],bI.matchingOptions,false);}}cn.highlightColor=this.Ws(bI.highlightColor);ec.push(cn);}}else{cn={};cn.searchText=bI.searchTerm;cn.ue=bI;if(bI.matchingOptions.matchWholeWord){cn.searchTerm=this.aod(this.BA(bI.searchTerm),bI.matchingOptions);}else{if(bI.matchingOptions.wildcard===true){cn.searchTerm=this.agp(this.BA(bI.searchTerm),bI.matchingOptions);}else if(bI.matchingOptions.beginsWith===true||bI.matchingOptions.endsWith===true){cn.searchTerm=this.agQ(this.BA(bI.searchTerm),bI.matchingOptions);}else{cn.searchTerm=this.adN(bI.searchTerm,bI.matchingOptions,bI.searchTermIsRegex);}}cn.highlightColor=this.Ws(bI.highlightColor);ec.push(cn);}return ec;};this.aod=function(ri,vk){var JU=new RegExp('\\b'+ri+'\\b',this.Jk(vk.matchCase));return JU;};this.agQ=function(ri,vk){if(vk.beginsWith){return new RegExp("\\b"+ri+'(\\w*)',this.Jk(vk.matchCase));}if(vk.endsWith){ri=ri.replace("*","");return new RegExp('(\\w*)'+ri+"\\b",this.Jk(vk.matchCase));}};this.BA=function(ri){return ri.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.agp=function(rU,vk){rU=rU.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rU==='\\*'){var da=new Error('The search term must contain one or more non-wildcard characters.');da.aAP=true;throw da;}var regexFlags='gim';if(vk.matchCase){regexFlags='gm';}rU=rU.replace(/\*/g,'\S*');rU=rU.replace(/\?/g,'\S');var JU=new RegExp('(\\s|^)'+rU+'(?=\\s|$)',regexFlags);return JU;};this.abx=function(ri){return ri.replace(/\ /g,'\\s+');};this.RI=function(ri){return ri.replace(/'/g,'[\'‘’]').replace(/"/g,'["“”]');};this.adN=function(PV,matchingOptions,isRegex){var mp='';if(isRegex===true){mp=PV;}else if(matchingOptions.wildcard===true){mp=PV.replace(/[-[\]{}()+,^$|#]/g,"\\$&");mp=this.abx(mp);mp=this.RI(mp);}else if(matchingOptions.exactPhrase){mp=PV.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");mp=this.abx(mp);mp=this.RI(mp);}else{mp=PV.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");mp=this.RI(mp);}return new RegExp(mp,this.Jk(matchingOptions.matchCase));};this.Jk=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aIb=function(rU){var JU=new RegExp('\\b'+rU+'\\b',F.Jk());return JU;};var aio=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.Ws=function(dK){if(!dK){return aio[F.RZ++ %aio.length];}else{return dK;}};this.SD=function(dO){if(typeof dO==='string'){dO={searchTerms:[{searchTerm:dO,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return dO;}IPCC.K.forEach(dO.searchTerms,function(bI){if(!bI.matchingOptions){bI.matchingOptions={};}var nA=IPCC.K.QG(bI.type);switch(nA){case 'proximity':IPCC.K.forEach(bI.terms,function(YN){F.alK(YN);});break;default:F.alK(bI);break;}});return dO;};this.alK=function(bI){if(typeof bI.contextPadding==="undefined"){bI.contextPadding=25;}if(typeof bI.searchTermIsRegex==="undefined"){bI.searchTermIsRegex=false;}if(typeof bI.matchingOptions==="undefined"){bI.matchingOptions={};}if(!bI.matchingOptions.hasOwnProperty('matchCase')){bI.matchingOptions.matchCase=false;}if(!bI.matchingOptions.hasOwnProperty('exactPhrase')){bI.matchingOptions.exactPhrase=true;}if(!bI.matchingOptions.hasOwnProperty('matchWholeWord')){bI.matchingOptions.matchWholeWord=false;}if(!bI.matchingOptions.hasOwnProperty('beginsWith')){bI.matchingOptions.beginsWith=false;}if(!bI.matchingOptions.hasOwnProperty('endsWith')){bI.matchingOptions.endsWith=false;}if(!bI.matchingOptions.hasOwnProperty('wildcard')){bI.matchingOptions.wildcard=false;}if(typeof bI.highlightColor!=='undefined'){try{IPCC.aF.dK(bI.highlightColor,"selectText");}catch(e){bI.highlightColor=undefined;}}};this.axY=function(){return F.cn;};this.agq=function(e){F.bj.dp=e.message;F.bj.dZ="1010";F.bj.tX=true;setTimeout(function(){F.bj.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){F.bj.trigger("SearchCompleted",{completedSearchResults:(F.rS)});},10);return F.bj;};this.wP=function(dO,aV){this.cn={};this.Jo=dO;this.bI=dO;this.RZ=0;var wP=new PCCViewer.RG();try{F.cn=this.UR();return wP.ZR(aV,F.cn,dO,F.bj);}catch(e){return F.agq(e);}};this.BF=function(dO,aV){this.cn={};this.Jo=dO;this.bI=dO;this.RZ=0;var BF=new PCCViewer.UH();try{F.cn=this.UR();return BF.ZR(aV,F.cn,dO,F.bj);}catch(e){return F.agq(e);}};};_Search.prototype.AC=function(searchQuery){this.cn={};this.bj=new PCCViewer.SearchRequest();this.Jo=searchQuery;this.bj.dO=searchQuery;this.bI=searchQuery;this.RZ=0;return this.bj;};var SearchTask=function(searchQuery){this.aft(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.SD(searchQuery);this.bj=_search.AC(searchQuery);try{_search.cn=_search.UR();}catch(e){if(e.aAP){throw new Error(e.message);}else{throw new Error(e.message);}}var wP=new PCCViewer.RG();this.search=function(text){wP.rS=[];wP.aN=0;wP.cn=_search.cn;wP.aEO(text);return wP.rS;};};SearchTask.prototype.aft=function(searchQuery){if(typeof searchQuery==='string'){return;}var AG;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){AG=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.K.forEach(AG,function(wS,T){var nA=wS.type?IPCC.K.trim(wS.type).toLowerCase():undefined;switch(nA){case 'proximity':IPCC.K.forEach(wS.terms,function(aGp,bw){if(!akE(aGp)){throw new Error("Search term index "+bw+" under Proximity search term index "+T+" does not have a valid `searchTerm` string property.");}});break;default:if(!akE(wS)){throw new Error("Search term index "+T+" does not have a valid `searchTerm` string property.");}break;}});function akE(wS){return(typeof wS.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function arv(dO){var AG=dO.map(function(bI,ace){if(bI.type==='proximity'){return{type:'proximity',distance:bI.distance,subTerms:bI.cn.map(function(aeM){return{pattern:aeM.searchTerm.source,caseSensitive:aeM.ue.matchingOptions.matchCase};}),termId:ace.toString(),contextPadding:bI.contextPadding};}return{type:'simple',pattern:bI.searchTerm.source,caseSensitive:bI.ue.matchingOptions.matchCase,termId:ace.toString(),contextPadding:bI.contextPadding};});return{input:{searchTerms:AG}};};var UH=function(){var F=this;var AC,BI,ajV;var NM=[];this.zu=false;this.zk={};this.za=[];function asF(){var Yv=BI?'&continueToken='+BI:'';return F.aV.sL+'/v2/searchTasks/'+AC.processId+'/results?limit=100'+Yv;};function aun(ec){var LP=F.zk.input.searchTerms.reduce(function(qZ,wS){qZ[wS.termId]=F.cn[wS.termId];return qZ;},{});return ec.map(function(aR){var fX=new PCCViewer.SearchResult();if(F.cn[0].ue.matchingOptions.wildcard&&(aR.text[0]===" "||aR.text[0]==="\n")){aR.text=aR.text.substring(1);aR.startIndex+=1;aR.startIndexInContext+=1;}fX.mr=aR.boundingRectangle;fX.cF=aR.context;fX.Bg=aR.startIndexInContext;fX.mE=aR.id;fX.cn=F.cn;fX.bm=aR.lineRectangles;fX.hs=aR.pageData;fX.pM=aR.startIndex;fX.bx=aR.text;fX.bL=aR.pageIndex+1;fX.ds=aR.id;fX.Xc=F.aV.get_documentIdentifier();fX.bI=LP[aR.searchTerm.termId].ue;fX.pA=LP[aR.searchTerm.termId].highlightColor;return fX;});};function qH(Fb,WM){switch(Fb){case 'failed':setTimeout(function(){F.bj.trigger(PCCViewer.EventType.SearchFailed,WM);},10);break;case 'complete':F.bj.Rg=F.za;F.bj.tX=true;setTimeout(function(){F.bj.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(F.bj.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){F.bj.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(F.bj.getResults())});},10);};function ave(mD){var aq=F.aV.sL+'/v2/viewingSessions/'+encodeURIComponent(F.aV.get_documentIdentifier())+'/searchTasks';function fd(ah){var aR=JSON.parse(ah.responseText);AC=aR;if(NM.length){NM.forEach(function(wF){wF();});}NM=[];mD();};function er(aM){F.bj.off('SearchCancelled',F.aih);F.bj.dp='The request to create a search task failed.';var awe=aM&&aM.response&&aM.response.status===501;var asT=aM&&aM.response&&aM.response.status===480&&(function(aqK){try{return JSON.parse(aqK).errorCode==='FeatureDisabled';}catch(e){return false;}}(aM.response.responseText));if(awe||asT){F.bj.dZ='ServerSearchUnavailable';F.bj.dp='Server-side search is not available.';qH('failed',{errorMessage:F.bj.dp});return;}qH('failed',{errorMessage:F.bj.dp});};PCCViewer.Ajax.fE({url:aq,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(F.zk)}).then(fd,er);};function Ml(mD){var aq=asF();var iA={};if(AC.affinityToken){iA['Accusoft-Affinity-Token']=AC.affinityToken;}if(!F.zu){return;}function fd(ah){if(!F.zu){return;}var aR=JSON.parse(ah.responseText);var UO=aun(aR.results);F.za=aR.pagesWithoutText;F.bj.ec.push.apply(F.bj.ec,UO);if(UO.length){setTimeout(function(){IPCC.K.forEach(UO.reduce(function(qZ,aR){var cN=aR.bL;if(!qZ[cN]){qZ[cN]=[];}qZ[cN].push(aR);return qZ;},{}),function(ec,cN){F.bj.trigger('PartialSearchResultsAvailable',{partialSearchResults:ec,pagesWithoutText:F.za});});},10);}if(aR.continueToken){BI=aR.continueToken;ajV=aR.continueAfter;mD();}else if(F.zu){qH('complete');}};function er(aR){if(!F.zu){return;}F.zu=false;F.bj.dp='The request to poll the search task failed.';F.bj.tX=true;qH('failed',{errorMessage:F.bj.dp});};PCCViewer.Ajax.fE({method:'GET',url:aq,headers:iA}).then(fd,er);};function avS(){(function aws(){setTimeout(function(){Ml(aws);},ajV||0);}());};function aih(){qH('cancelled');F.zu=false;function aim(){};if(!AC){NM.push(aim);return;}aim();};this.ZR=function(aV,cn,dO,bj){F.aV=aV;F.cn=cn;F.bj=bj;F.bj.dO=dO;F.zk=arv(F.cn);F.zu=true;F.bj.on('SearchCancelled',aih);ave(function(){avS();});return F.bj;};};module.exports=UH;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function akK(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function xN(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new xN(this.x,this.y);};};function Zt(bo){return(bo&&bo.nodeType===1);};function QE(yA,Hk){var Uj=(Hk&&IPCC.K.BS)?'m':'M';var Yn=(Hk&&IPCC.K.BS)?'l':'L';return IPCC.K.map(yA,function(el,i){if(i===0){return Uj+el.x+','+el.y;}else{return Yn+el.x+','+el.y;}}).join('');};function aiB(cF,nD,fF){return function(aM){if(IPCC.K.Fz&&aM.type.match('mouse')){aM.preventDefault();aM.stopPropagation();return false;}if(aM.preventDefault){aM.preventDefault();}else{aM.returnValue=false;}var x,y;if(aM.changedTouches){var fY=aM.changedTouches[0];if(aM.type==='touchstart'){nD=aM.target.getBoundingClientRect();}else if(aM.type==='touchend'){fF&&fF();return;}x=fY.clientX-nD.left;y=fY.clientY-nD.top;}else{x=aM.clientX-nD.left;y=aM.clientY-nD.top;}var bF=new xN(x,y);cF.yA.push(bF);var wh=QE(cF.yA);if(IPCC.K.BS){cF.gW.path=wh.toLowerCase();}else{cF.gW.setAttribute('d',wh);}fF&&fF();};};function asc(points){var xZ=3,bY='',sg;var qO=(points.length<xZ)?points:IPCC.K.filter(points,function(el){if(sg&&sg.close(el)){return false;}else{sg=el;return true;}});if(qO.length<xZ){qO=[points[0],points[points.length-1]];}sg=undefined;if(qO.length<xZ){bY+=QE(qO);}else{bY='M'+IPCC.K.bspline(qO);bY=bY.replace(/\d*\.?\d*/g,function(bd){var Fd=bd.indexOf('.');if(bd.length&&Fd>0){return bd.substr(0,Fd+3);}else if(bd!==""){return bd;}else{return bd;}});}return bY;};function SignatureControl(dom){var F=this;if(typeof dom==='string'){this.cZ=document.querySelector(dom);if(!(Zt(this.cZ))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Zt(dom)){this.cZ=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.HK=[];this.nD=new akK(this.cZ.getBoundingClientRect());this.fg=IPCC.K.ys.SVG([0,0,this.nD.width,this.nD.height].join(' '));this.cZ.appendChild(this.fg);function EG(ev){var gW=IPCC.K.ys.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});F.fg.appendChild(gW);var cF={yA:[],gW:gW,fF:function(){F.HK.push(cF.yA);IPCC.K.removeEvent(F.cZ,'mousemove',yQ);IPCC.K.removeEvent(F.cZ,'mouseup',Gm);if(IPCC.K.Fz){IPCC.K.removeEvent(F.cZ,IPCC.K.pj['move'],yQ);IPCC.K.removeEvent(F.cZ,IPCC.K.pj['up'],Gm);}if(IPCC.K.HA){IPCC.K.removeEvent(F.cZ,'touchmove',yQ);IPCC.K.removeEvent(F.cZ,'touchend',Gm);}}};var yQ=aiB(cF,F.nD);var Gm=aiB(cF,F.nD,cF.fF);yQ(ev);IPCC.K.addEvent(F.cZ,'mousemove',yQ);IPCC.K.addEvent(F.cZ,'mouseup',Gm);if(IPCC.K.Fz){IPCC.K.addEvent(F.cZ,IPCC.K.pj['move'],yQ);IPCC.K.addEvent(F.cZ,IPCC.K.pj['up'],Gm);}if(IPCC.K.HA){IPCC.K.addEvent(F.cZ,'touchmove',yQ);IPCC.K.addEvent(F.cZ,'touchend',Gm);}};IPCC.K.addEvent(F.cZ,'mousedown',EG);if(IPCC.K.Fz){this.cZ.style['-ms-touch-action']='none';this.cZ.style['touch-action']='none';IPCC.K.addEvent(F.cZ,IPCC.K.pj['down'],EG);}if(IPCC.K.HA){IPCC.K.addEvent(F.cZ,'touchstart',EG);}this.VJ=function(){F.nD=new akK(F.cZ.getBoundingClientRect());F.fg.setAttribute('viewBox',[0,0,F.nD.width,F.nD.height].join(' '));};IPCC.K.addEvent(window,'resize',this.VJ);this.alz=function(){IPCC.K.removeEvent(window,'resize',F.VJ);IPCC.K.removeEvent(F.cZ,'mousedown',EG);if(IPCC.K.Fz){IPCC.K.removeEvent(F.cZ,IPCC.K.pj['down'],EG);}if(IPCC.K.HA){IPCC.K.removeEvent(F.cZ,'touchstart',EG);}while(F.cZ.firstChild){F.cZ.removeChild(F.cZ.firstChild);}};};SignatureControl.prototype.done=function(){var nr,kG,ng,mq,wh='M0,0',acH=this;IPCC.K.forEach(acH.HK,function(pr){IPCC.K.forEach(pr,function(p){if(nr===undefined||nr>p.x){nr=p.x;}if(kG===undefined||kG>p.y){kG=p.y;}if(ng===undefined||ng<p.x){ng=p.x;}if(mq===undefined||mq<p.y){mq=p.y;}});});IPCC.K.forEach(acH.HK,function(pr){var aoP=IPCC.K.map(pr,function(p){return new xN(p.x-nr,p.y-kG);});wh+=asc(aoP);});this.alz();return{type:'path',path:wh,width:(ng-nr)||0,height:(mq-kG)||0};};SignatureControl.prototype.resize=function(){this.VJ();return this;};SignatureControl.prototype.clear=function(){var svg=this.fg;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.HK=[];return this;};SignatureControl.prototype.undo=function(){if(this.fg.lastChild){this.fg.removeChild(this.fg.lastChild);}this.HK.pop();return this;};SignatureControl.prototype.cancel=function(){this.alz();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var sY=IPCC.K.Wq(signature.path);var fg=IPCC.K.ys.SVG([0,0,sY.width,sY.height].join(' '));var gW=IPCC.K.ys.Path(signature.path,{width:sY.width,height:sY.height,color:'black',thickness:4});if(IPCC.K.BS){var aCw=(sY.height/sY.width)*100;fg.style.width=gW.style.width='100%';fg.style.height=gW.style.height='0px';fg.style.paddingBottom=gW.style.paddingBottom=aCw+'%';}else{fg.style.width='100%';fg.style.maxHeight='100%';fg.setAttribute('preserveAspectRatio','xMinYMin meet');}fg.appendChild(gW);domElement.appendChild(fg);return{width:sY.width,height:sY.height,clear:function(){domElement.removeChild(fg);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var js=document.createElement('div');var mJ=document.createTextNode(signature.text);var iL=(typeof signature.fontName==='string')?signature.fontName:'serif';js.appendChild(mJ);js.style.textAlign='center';js.style.fontFamily='"'+iL+'", cursive';js.style.fontSize='2.5em';js.style.overflow='hidden';domElement.appendChild(js);var sY=IPCC.K.tY(signature.text,iL);return{width:sY.width,height:sY.height,clear:function(){domElement.removeChild(js);}};};if(!Zt(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var pU=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var cw=require('./PCCViewer.MarkDeserializer');var eh=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.K.un(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var F=this;this.Zo=viewerControlFacade;this.az=new PCCViewer.uh(viewerControlFacade);IPCC.K.Df(element);var jL=document.createElement('div');jL.className='pccViewerControl';jL.id='pccViewerControl-'+IPCC.Ct();element.appendChild(jL);this.cY=jL;this.fN=element;var tF=document.createElement('div');tF.className='pccPageListLoading';jL.appendChild(tF);this.tF=tF;this.pZ=false;this.bk=pU.qK({},SingleSessionViewerControl.An,options);this.bk.language=pU.qK({},SingleSessionViewerControl.aEL,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bk.pageLayout.toLowerCase()==="vertical"){this.bk.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bk.pageLayout.toLowerCase()==="horizontal"){this.bk.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bk.viewMode.toLowerCase()==="document"){this.bk.viewMode=IPCC.ViewMode.Document;}else if(this.bk.viewMode.toLowerCase()==="equalwidthpages"){this.bk.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bk.viewMode.toLowerCase()==="equalfitpages"){this.bk.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bk.viewMode.toLowerCase()==="singlepage"){this.bk.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(F.bk.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bk.searchMethodPageCountThreshold)&&(typeof this.bk.searchMethodPageCountThreshold!=='number')&&this.bk.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bk.redactionViewMode){if(this.bk.redactionViewMode.toLowerCase()==="draft"){this.bk.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bk.redactionViewMode.toLowerCase()==="normal"){this.bk.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bk.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var jl=this.bk.pageRotation%360;if(jl!==0){var yj=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jl||yj.indexOf(jl)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jl||IPCC.Web.kw(yj,jl)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bk.pageRotation=jl;if(this.bk.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bk.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bk.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bk.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bk.serviceResponseTimeout)||typeof this.bk.serviceResponseTimeout!=='number'||this.bk.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bk.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bk.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.bk.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.jv={};this.aq="";this.eL=1;this.agi=1;this.adR=0;this.lV=1;this.as=undefined;this.TA=new PCCViewer.Deferred();this.rz=this.TA.getPromise();this.eJ=false;this.aV=undefined;this.MN=0;this.dq=undefined;this.bh=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.nj=false;this.vq=false;this.FM=false;this.Dx=[];this.OW=new PCCViewer.Deferred();this.aDb=this.OW.getPromise();this.xg=[];this.ci={};this.Dp=[];this.DM=[];this.aB=null;this.Kf={};this.hh=null;this.nd=new PCCViewer.MarkupLayerCollection(this.Zo);this.CG=new PCCViewer.MarkupLayer(this.Zo);this.nd.addItem(this.CG);this.vw=true;setTimeout(function(){F.afU(jL,F.bk);},0);this.vG=null;this.bj=null;this.zp=false;this.GE= -1;this.Iv={};this.ahz=false;this.aEI=this.bk.printTemplate||(this.bk.template?this.bk.template.print:"");this.jS=null;this.vu=null;this.oC=function(cX,ee,afi){var dN=document.createElement('div'),eH=dN.style;eH.position='absolute';if(ee.isSelected){eH.backgroundColor='white';}else{eH.backgroundColor='lightgray';}eH.left='10px';eH.right='0';eH.textAlign='left';IPCC.K.forEach(cX.getComments(),function(pq,T){var UF=document.createElement('div'),Nq=UF.style;Nq.position='relative';Nq.padding='5px';Nq.border='1px solid gray';if(T>0){Nq.borderTop='none';}UF.appendChild(document.createTextNode(pq.getText()));dN.appendChild(UF);});return dN;};return F;};SingleSessionViewerControl.An={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.aEL={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.afU=function(element,options){if(this.pZ){return;}var F=this;var Xl=function(){if(F.bk.viewMode===IPCC.ViewMode.SinglePage||F.pZ){return;}var aDz=F.as.get_pageNodeId(F.getPageNumber()-1);var ax=document.getElementById(aDz);var abm=F.cY.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!ax){return;}IPCC.K.forEach(abm,function(iH){if(ax!==iH){if(document.documentMode===8&&iH.style.outline){iH.style.outline='';}else if(iH.style.boxShadow){iH.style.boxShadow='';}}});if(document.documentMode===8){ax.style.outline='2px solid #aaa';}else{ax.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function ato(){var bC=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var kA=document.createElement('div'),Cj=document.createElement('div'),UD=function(){kA.classList.add('open');},Qu=function(){if(kA.parentNode!==null){kA.parentNode.removeChild(kA);}};Cj.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var aaY=document.createElement('p');Cj.appendChild(aaY);function updateRemainingSeconds(){aaY.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();kA.className='pccPageListNagModal';kA.appendChild(Cj);F.cY.appendChild(kA);UD();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{Qu();clearInterval(intervalId);}},1000);};function fd(ah){if(ah.status===200){var aR=JSON.parse(ah.responseText);if(aR.delayEnabled){showNagDialog(aR.delaySecondsRemaining);}}};function er(ah){bC.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fE({method:'GET',url:F.bk.imageHandlerUrl+'/v2/ViewingSessions/'+F.bk.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(fd,er);};var amU=function(){if(F.tF.parentNode){F.tF.parentNode.removeChild(F.tF);}F.as.remove_pageOpenFailed(YO);F.as.remove_pageDisplayed(amU);var aO=arguments[1].pageIndex;setTimeout(function(){F.az.trigger("PageDisplayed",{pageNumber:(aO+1)});Xl();},10);if(aO!==0){return;}function fd(ah){if(F.pZ){return;}var aR;if(ah.status===200){aR=JSON.parse(ah.responseText);if(aR.pageCountConfidence<100){var aq;if(!(/^[\x00-\x7F]*$/.test(rf))){aq=F.bk.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rf+'&DesiredPageCountConfidence=100';}else{aq=F.bk.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.bk.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fE({method:'GET',url:aq,headers:{'Content-Type':'application/json'}}).then(fd,er);F.eL=aR.pageCount;F.aV.eL=aR.pageCount;F.FM=true;setTimeout(function(){F.az.trigger("EstimatedPageCountReady",{pageCount:aR.pageCount});},10);akG();}else{if(F.eL>1){F.aV.eL=aR.pageCount;setTimeout(function(){var T;if(aR.pageCount<F.eL){for(T=F.eL-1;T>=aR.pageCount;T--){F.dq.removePage(T);}}else if(aR.pageCount>F.eL){for(T=F.eL;T<aR.pageCount;T++){var Tp=new IPCC.Web.UI.ImGearPage({pageNumber:T});F.dq.addPage(Tp);}}F.eL=aR.pageCount;if(F.eJ===true){F.nj=true;F.vq=true;setTimeout(function(){F.az.trigger("PageCountReady",{pageCount:aR.pageCount});},30);}},30);}else{F.eL=aR.pageCount;F.aV.eL=aR.pageCount;if(F.eJ===true){akG(function(){F.nj=true;F.vq=true;setTimeout(function(){F.az.trigger("PageCountReady",{pageCount:aR.pageCount});},0);});}}}}};function er(aR){if(F.pZ){return;}var ZB="None",afA,Zj;var agH=aR.response.getResponseHeader('Accusoft-Status-Message');if(agH){ZB=agH;Zj=aR.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.xG(Zj)){afA=parseInt(Zj,10);}}else if(aR.response.statusText){ZB=aR.response.statusText;}setTimeout(function(){F.az.trigger("PageLoadFailed",{statusCode:aR.response.status,errorMessage:ZB,accusoftErrorNumber:afA});},1);throw("Unable to obtain document information from the server");};var rf=IPCC.hH.sp(F.bk.documentID);if(!rf||rf===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(rf))){F.aq=F.bk.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rf+'&DesiredPageCountConfidence=50';}else{F.aq=F.bk.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(F.bk.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fE({method:'GET',url:F.aq,headers:{'Content-Type':'application/json'}}).then(fd,er);};function akG(pg){pg=pg||function(){};var amH=F.eL;function ajG(){F.as.remove_allPagesAdded(ajG);pg();};if(amH>1){F.as.add_allPagesAdded(ajG);if(!F.agz){F.as.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var dM=arguments[1];setTimeout(function(){F.az.trigger('PageChanged',{pageNumber:dM.pageIndex+1});Xl();},0);});F.as.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var dM=arguments[1];if(F.jS){F.jS();F.jS=null;if(F.hh){F.hh.resolve();}F.hh=null;}setTimeout(function(){F.az.trigger('PageDisplayed',{pageNumber:dM.pageIndex+1});Xl();},0);setTimeout(function(){F.requestPageText(dM.pageIndex+1).then(function Eq(){F.Wz(dM.pageIndex+1,F.GE);});},10);});F.as.add_pageOpenFailed(function(){akR(arguments);});F.agz=true;}for(var T=F.MN;T<amH;T++){F.dq.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:T}));F.MN++;}}else{pg();}};var asS=function(dM){var ax=document.getElementById(dM.pageNodeID),bo=document.createElement('div'),zO=document.createElement('button'),akk='pccPageLoadFailRetry'+dM.pageIndex,aeo=function(){F.as.Pg(dM.pageIndex);},aqg=PCCViewer.Language.data.pageLoadFailed,apG=PCCViewer.Language.getValue("pageLoadFailedPassword"),aqN=PCCViewer.Language.data.pageLoadFailedRetry,avI=dM.exception.statusCode===480&&dM.exception.customErrorCode===4001;if(ax===null){return;}zO.id=akk;zO.innerHTML=aqN;bo.className='pccPageLoadFail';if(avI){bo.innerHTML=apG+'<br>';ax.appendChild(bo);}else{bo.innerHTML=aqg+'<br>';bo.appendChild(zO);ax.appendChild(bo);zO=document.getElementById(akk);if(!zO.addEventListener){zO.attachEvent('onclick',aeo);}else{zO.addEventListener('click',aeo,false);}}};function akR(DU){if(DU.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var aeN,afg,dM=DU[1];if(DU[1].exception.customErrorCode!==undefined){afg=DU[1].exception.customErrorCode;}if(DU[1].exception.message!==undefined){aeN=DU[1].exception.message;}setTimeout(function(){F.az.trigger('PageLoadFailed',{statusCode:dM.exception.statusCode,pageNumber:dM.pageIndex+1,errorMessage:aeN,accusoftErrorNumber:afg});asS(dM);},0);};function auO(){if(F.as&&typeof F.as.dispose==="function"){F.as.dispose();}F.aq="";F.as=undefined;while(F.cY.firstChild){F.cY.removeChild(F.cY.firstChild);}};function aIe(acr){var bC=new PCCViewer.Deferred();if(typeof acr==="string"){PCCViewer.Ajax.fE({url:F.bk.imageHandlerUrl+'/ViewingSession/u'+F.bk.documentID+'/Replacement',body:JSON.stringify({password:acr}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHF(ah){var result=JSON.parse(ah.responseText);var alR=result.viewingSessionId;F.bk.documentID=alR;auO();F.afU(F.cY,F.bk);bC.resolve(alR);},function aIi(err){bC.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{bC.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return bC.getPromise();};function YO(){F.as.remove_pageOpenFailed(YO);akR(arguments);};var aty=function(aC,R){F.uU=true;var Tk={width:R.width,height:R.height,pageNumber:R.pageNumber};F.az.trigger("PageOpening",Tk);};function ajS(){F.TA.resolve(F.as);F.as.remove_pageOpened(ajS);F.eJ=true;var av=F;setTimeout(function(){F.az.trigger("ViewerReady",{});if(av.nj===true&&av.vq===false){av.vq=true;setTimeout(function(){F.az.trigger("PageCountReady",{pageCount:av.getPageCount()});},10);}},10);F.setCurrentMouseTool("AccusoftPanAndEdit");};var aos=function(aC,R){if(R.containsText===true){F.OW.resolve(true);}var Ae= -1;if(Array.prototype.indexOf){Ae=(F.xg.indexOf(R.pageIndex)>=0);}else{Ae=(IPCC.Web.kw(F.xg,R.pageIndex)>=0);}if(Ae===false){F.xg.push(R.pageIndex);if(F.xg.length===F.eL){F.OW.resolve(false);}}setTimeout(function(){F.az.trigger("PageTextReady",{pageNumber:R.pageIndex+1});},0);};var aoZ=function(aC,R){var Ae= -1;if(Array.prototype.indexOf){Ae=(F.xg.indexOf(R.pageIndex)>=0);}else{Ae=(IPCC.Web.kw(F.xg,R.pageIndex)>=0);}if(Ae===false){F.xg.push(R.pageIndex);if(F.xg.length===F.eL){F.OW.resolve(false);}}};function auM(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ll=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ll.push(eventArgs.pageNumbers[i]+1);}var gu=[],wz= -eventArgs.startIndex,aS,cv,jo,bm,j,k;for(j=0;j<ll.length;j++){jo=F.dq.iR(ll[j]-1).cC().gp();wz+=jo.eY();aS=0;if(j===0){aS=eventArgs.startIndex;}if(wz>=eventArgs.text.length){cv=wz-eventArgs.text.length-1;}else{cv=jo.eY()-1;}bm=IPCC.K.YM(jo,aS,cv);for(k=0;k<bm.length;k++){gu.push({x:bm[k].x,y:bm[k].y,width:bm[k].width,height:bm[k].height,pageNumber:ll[j]});}}F.aB={pageNumber:ll[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:gu};var C,acM={selectedText:eventArgs.text,pageNumbers:ll,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:F.aB};function awb(){var Hu=F.mi;F.ajY=true;F.mi=function(sender,args){F.mi=Hu;setTimeout(function(){F.az.trigger(PCCViewer.EventType.MarkCreated,{mark:C,pageNumber:ll[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){C=F.ci[eventArgs.previousFirstMark.get_markID()];F.as.remove_markRemoved(F.Cy);F.as.remove_markSelectionChanged(F.CZ);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aO){var aEg=C.V.UB;var Ug;if(C.getReason){Ug=C.V.get_text();}var Sn;if(C.getFillColor){Sn=C.V.get_fillColor();}var Sm;if(C.getColor){Sm=C.V.get_lineColor();}var Ue;if(C.getThickness){Ue=C.V.get_lineWidth();}var Tu;if(C.getHref){Tu=C.V.get_href();}var aDk=new PCCViewer.Conversation(C);var aQ=F.as.hq(F.dq.getPage(C.V.aO));aQ.removeMark(C.V);for(var T=C.aA.length-1;T>=0;T--){var kM=C.aA[T];aQ=F.as.hq(F.dq.getPage(kM.aO));aQ.removeMark(kM);C.aA.splice(T,1);}C.V=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());C.V.aO=eventArgs.pageNumbers[0];C.bL=eventArgs.pageNumbers[0]+1;C.V.kI=true;C.V.UB=aEg;var Hu=F.mi;F.mi=null;F.as.remove_markChanged(F.nq);aQ=F.as.hq(F.dq.getPage(C.V.aO));aQ.addMark(C.V);if(Ug){C.V.set_text(Ug);}if(Sn){C.V.set_fillColor(Sn);}if(Sm){C.V.set_lineColor(Sm);}if(Ue){C.V.set_lineWidth(Ue);}if(Tu){C.V.set_href(Tu);}C.cX=new PCCViewer.Conversation(C);PCCViewer.Conversation.pL(aDk,C.cX);F.as.add_markChanged(F.nq);F.mi=Hu;}C.V.set_selected(true);C.V.set_visible(true);C.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});F.as.add_markRemoved(F.Cy);F.as.add_markSelectionChanged(F.CZ);F.oU(C,eventArgs.pageNumbers[0]);return;}var Bi=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:Bi='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:Bi='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:Bi='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:Bi='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:awL(eventArgs.text);F.Kf[ll[0]]='selectText';break;}var bh=PCCViewer.MouseTools.getMouseTool(F.getCurrentMouseTool());var bS=(bh&&bh.getTemplateMark)?bh.getTemplateMark():undefined;var aqf=bS?bS.getType():"";if(Bi){awb();F.az.trigger(PCCViewer.EventType.TextSelected,acM);C=F.addMark(ll[0],Bi);if(F.vw){F.CG.addMarks(C);}C.V.kI=true;C.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aqf===Bi){if(bS.getFillColor){C.setFillColor(bS.getFillColor());}if(bS.getReason&& !C.nH){C.setReason(bS.getReason());}if(bS.getReasons&&C.nH){C.setReasons(bS.getReasons());}if(bS.getHref){C.setHref(bS.getHref());}if(bS.getColor){C.setColor(bS.getColor());}if(bS.getThickness){C.setThickness(bS.getThickness());}PCCViewer.Data.ox(bS,C);}return;}setTimeout(function(){F.az.trigger(PCCViewer.EventType.TextSelected,acM);},0);};function auD(){var ax=F.cY,bo=document.createElement('div');bo.className='pccCopyText';ax.appendChild(bo);F.Kr=bo;};function awL(bx){var mJ,aGK=bx.split('\n'),HJ=document.createDocumentFragment(),BD,lw;mJ=document.createTextNode(bx);HJ.appendChild(mJ);IPCC.K.Df(F.Kr);F.Kr.appendChild(HJ);if(document.body.createTextRange){BD=document.body.createTextRange();BD.moveToElementText(F.Kr);BD.select();}else if(window.getSelection){lw=window.getSelection();BD=document.createRange();BD.selectNodeContents(F.Kr);lw.removeAllRanges();lw.addRange(BD);}};this.aV=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bk.documentID,imageServicePath:this.bk.imageHandlerUrl});this.aV.set_encryption(this.bk.encryption||false);var Tp=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aV.get_pages().addPage(Tp);this.dq=this.aV.get_pages();this.as=IPCC.initializePageListPlugin(element,options);ato();this.as.get_documents().addDocument(this.aV);this.MN=1;this.as.add_pageDisplayed(amU);this.as.add_pageOpenFailed(YO);this.as.add_pageOpening(aty);this.as.add_pageOpened(ajS);this.as.add_textPageReady(aos);this.as.add_textExtractionFailed(aoZ);this.as.set_conversationDOMFactory(function(V,ee,afi){var C=F.ci[V.get_markID()];if(C){return F.oC(C.getConversation(),ee,afi);}});IPCC.K.asC(element,function(It){if(!It&&IPCC.K.zF!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!F.eJ){IPCC.K.zF='svg';return;}else if(F.nj){IPCC.K.zF='svg';F.as.disposeDisplayedPages();F.as.displayAll();}else{var lW=function(){F.az.off(PCCViewer.EventType.PageCountReady,lW);IPCC.K.zF='svg';F.as.disposeDisplayedPages();F.as.displayAll();};F.az.on(PCCViewer.EventType.PageCountReady,lW);}}});auD();this.as.add_selectTextMouseToolCompleted(auM);this.as.add_propertyChanged(function(rv,cD){var proprtyName=cD.ayx();if(proprtyName==="mouseTool"){setTimeout(function(){F.az.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.bh.getName()});},0);}});this.as.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&F.ci[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.bU!==undefined){F.oU(eventArgs.mark,eventArgs.pageIndex);}if(F.mi){var bK=eventArgs.mark.get_type();if(bK!==IPCC.Web.UI.MarkType.Highlight&& !(bK===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.bU!==undefined)){F.mi(sender,eventArgs);}}});this.as.add_markCreating(function(sender,eventArgs){if(F.HG){F.HG(sender,eventArgs);}});this.as.Oo(function(sender,eventArgs){var Ek=0;var xK=0;var abX=0;var vI=0;var xb=0;var LH=0;var apw=F.bh.getName().toLowerCase(),aqb=F.bh.getType();if(aqb===PCCViewer.MouseTool.Type.PlaceSignature){var bh=F.bh;var bS=bh.getTemplateMark(),jT=bS.getSignature(),acT=bS.getRectangle(),C,G={};if(!jT){return;}F.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var tZ;if(attributes.width>0){xK=acT.width||(attributes.width/5);}if(jT.path&&jT.path.length>0){tZ=IPCC.K.Wq(jT.path);G={x:0,y:0,width:tZ.width,height:tZ.height};C=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);C.setPath(jT.path);C.setThickness(jT.thickness||4);}if(jT.text&&jT.text.length){tZ=IPCC.K.tY(jT.text,jT.fontName);C=F.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);G={x:0,y:0,width:tZ.width,height:tZ.height};C.setText(jT.text);C.setFontName(jT.fontName);}abX=(G.width/xK);Ek=acT.height||(G.height/abX);vI=(eventArgs.imagePoint.x-(xK/2));xb=(eventArgs.imagePoint.y-(Ek/2));if(vI<=0){vI=0;}if(xb<=0){xb=0;}if((vI+xK)>=attributes.width){LH=(vI+xK)-attributes.width;vI=vI-LH;}if((xb+Ek)>=attributes.height){LH=(xb+Ek)-attributes.height;xb=xb-LH;}G={x:vI,y:xb,width:xK,height:Ek};C.setRectangle({x:vI,y:xb,width:xK,height:Ek});PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());});F.setCurrentMouseTool(apw);}});function MouseEvent(aM){var F=this;for(var i in aM){if(i){F[i]=aM[i];}}};this.as.OH(function(sender,eventArgs){var aB=null,fX=null,C=null,ge=null,xr=false,QW=eventArgs.upTarget.type,Lj=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){Lj=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){xr=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&Lj===false){F.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){ge=F.aCW(eventArgs.upMark);xr=ge!==null;QW="documentHyperlink";}else{C=F.ci[eventArgs.upMark.get_markID()];if(C===undefined){for(var hN in F.ci){if(F.ci.hasOwnProperty(hN)){if(F.ci[hN].V.bU===eventArgs.upMark.bU&&F.ci[hN].V.bU===eventArgs.downMark.bU){C=F.ci[hN];eventArgs.pageIndex=C.bL-1;xr=true;var apE=F.getCurrentMouseTool();var aro=PCCViewer.MouseTools.getMouseTool(apE);var ahB=aro.getType();if(Lj===false&&eventArgs.domEvent.button===0){if(ahB===PCCViewer.MouseTool.Type.PanAndEdit||ahB===PCCViewer.MouseTool.Type.EditMarks){F.deselectAllMarks();C.V.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.mv()===eventArgs.upMark.mv()){xr=true;if(Lj===false&&eventArgs.downTarget.alreadySelected===false){F.deselectAllMarks();C.V.set_selected(true);}}if(C===undefined){if(F.bj&&F.Kf[eventArgs.upTarget.pageIndex+1]==='search'){var ec=F.bj.getResults();for(var T=0;T<ec.length;T++){if(ec[T].bL===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.aS!=='undefined'&&typeof eventArgs.upMark.aS!=='undefined'&&typeof eventArgs.downMark.bZ!=='undefined'&&typeof eventArgs.upMark.bZ!=='undefined'&&eventArgs.downMark.aS>=ec[T].getStartIndexInPage()&&eventArgs.downMark.aS+eventArgs.downMark.bZ<=ec[T].getStartIndexInPage()+ec[T].getText().length&&eventArgs.upMark.aS>=ec[T].getStartIndexInPage()&&eventArgs.upMark.aS+eventArgs.upMark.bZ<=ec[T].getStartIndexInPage()+ec[T].getText().length){QW='searchResult';fX=ec[T];eventArgs.upTarget.pageIndex=fX.bL-1;xr=true;break;}}}}if(xr===false&&C===undefined&&F.Kf[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.aS!=='undefined'&&typeof eventArgs.upMark.aS!=='undefined'&&eventArgs.downMark.aS>=F.aB.startIndex&&eventArgs.downMark.aS+eventArgs.downMark.bZ<=F.aB.startIndex+F.aB.length&&eventArgs.upMark.aS>=F.aB.startIndex&&eventArgs.upMark.aS+eventArgs.upMark.bZ<=F.aB.startIndex+F.aB.length){QW='textSelection';aB=F.aB;xr=true;}}}var YQ=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var atC=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var R={pageNumber:atC,targetType:QW,textSelection:aB,searchResult:fX,mark:C,originalEvent:YQ,hyperlink:ge,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(xr===true){F.az.trigger('Click',R);}},0);});(function(){var zs=null;F.as.Nk(function(sender,eventArgs){var YQ=new MouseEvent(eventArgs.domEvent);var R={originalEvent:YQ,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(zs!==null){R.mark=F.ci[zs];zs=null;setTimeout(function(){F.az.trigger('MarkMouseLeave',R);},0);}}else{R.mark=F.ci[eventArgs.mark.get_markID()];if(R.mark===undefined){for(var hN in F.ci){if(F.ci.hasOwnProperty(hN)){if(F.ci[hN].V.bU===eventArgs.mark.bU){R.mark=F.ci[hN];break;}}}}if(!R.mark){return;}setTimeout(function(){if(zs!==R.mark.getId()){if(zs!==null){F.az.trigger('MarkMouseLeave',IPCC.K.extend({},R,{mark:F.ci[zs]}));}zs=R.mark.getId();F.az.trigger('MarkMouseEnter',R);}F.az.trigger('MarkMouseOver',R);},0);}});})();this.as.add_hyperlinkPageReady(function(sender,eventArgs){if(F.Dp[eventArgs.pageIndex]!==undefined){return;}var aO=eventArgs.pageIndex,aw=F.dq.getPage(aO),Gd=aw.get_hyperlinkPage().KA(),yU=F.Dp[aO]=[];Gd.kH(function(Af){yU.push(new PCCViewer.DocumentHyperlink({bL:aO+1,Af:Af}));});if(!F.DM[aO]){F.DM[aO]=new PCCViewer.Deferred();}F.DM[aO].resolve(yU);});this.oU=function(C,he){var Qr=false;function Uk(){var ky=false;var cL=F.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()===he){ky=true;break;}}return ky;};function Pm(gT){if(F.as){F.as.cG(gT);}};if(Uk()){if(Array.prototype.indexOf){if(IPCC.Web.kw(F.Dx,he)>=0){Qr=true;}}else{if(IPCC.Web.kw(F.Dx,he)>=0){Qr=true;}}if(!Qr){F.Dx.push(he);setTimeout(function(){var di=F.Dx.length;if(di>0){for(var T=0;T<di;T++){Pm(F.Dx[T]);}F.Dx.splice(0,di);}},10);}}};var Fh={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.bk.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.bk.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Lm={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.nq=function(aC,R){var C=F.ci[R.mark.get_markID()];var aZ;if(C){aZ=C.aZ;}if(aZ&&Fh[aZ]&&Fh[aZ][R.propertyName]===false){return;}var cq;if(aZ){cq=Fh[aZ]&&Fh[aZ][R.propertyName]?Fh[aZ][R.propertyName]:Lm[R.propertyName]?Lm[R.propertyName]:R.propertyName;}else{cq=Lm[R.propertyName]?Lm[R.propertyName]:R.propertyName;}if(R.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||R.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.mark.bU!==undefined)){if(C){setTimeout(function(){F.az.trigger('MarkChanged',{mark:C,pageNumber:R.pageIndex+1,propertyName:cq});},0);}else{for(var hN in F.ci){if(F.ci.hasOwnProperty(hN)){C=F.ci[hN];if(C.bU===R.mark.bU){break;}}}}F.oU(C,R.pageIndex);}else if(C&&R.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cq==='points'){if(C.Yx){clearTimeout(C.Yx);}C.Yx=setTimeout(function(){C.Yx=undefined;F.oU(C,R.pageIndex);F.az.trigger('MarkChanged',{mark:C,pageNumber:R.pageIndex+1,propertyName:cq});},1);}else if(C){F.oU(C,R.pageIndex);setTimeout(function(){F.az.trigger('MarkChanged',{mark:C,pageNumber:R.pageIndex+1,propertyName:cq});},0);}if(C&&C.type===PCCViewer.Mark.Type.TextRedaction){C.V.set_opacity(0);}if(C&&(C.aZ===PCCViewer.Mark.Type.TextInputSignature||C.aZ===PCCViewer.Mark.Type.TextAreaSignature)){C.V.set_lineVisible(false);}};this.as.add_markChanged(F.nq);this.as.add_markReordered(function(sender,eventArgs){var C=F.ci[eventArgs.mark.get_markID()];setTimeout(function(){F.az.trigger('MarkReordered',{mark:C,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.CZ=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var C;for(var KH in F.ci){if(F.ci.hasOwnProperty(KH)){C=F.ci[KH];if(C.V.bU===eventArgs.mark.bU){C.V.set_selected(eventArgs.mark.get_selected());F.oU(C.V,C.V.aO);for(var T=0;T<C.aA.length;T++){C.aA[T].set_selected(eventArgs.mark.get_selected());F.oU(C.aA[T],C.aA[T].aO);}}}}}setTimeout(function(){F.az.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.as.add_markSelectionChanged(F.CZ);this.as.add_markTextSelectionChanged(function(sender,eventArgs){F.oU(eventArgs.mark,eventArgs.pageIndex);});this.Cy=function(sender,eventArgs){var C;if(eventArgs.mark){C=F.ci[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&C===undefined&&eventArgs.mark.bU!==undefined){F.oU(eventArgs.mark,eventArgs.pageIndex);}else if(C){setTimeout(function(){F.az.trigger(PCCViewer.EventType.MarkRemoved,{mark:C,pageNumber:eventArgs.pageIndex});},0);}}};this.as.add_markRemoved(F.Cy);this.as.add_commentAdding(function(sender,eventArgs){var C=F.ci[eventArgs.mark.get_markID()];if(eventArgs.comment.LX.jf===undefined){eventArgs.comment.LX.jf=F.getActiveMarkupLayer();}});this.as.add_commentAdded(function(sender,eventArgs){var C=F.ci[eventArgs.mark.get_markID()];F.az.trigger(PCCViewer.EventType.CommentCreated,{conversation:C.getConversation(),comment:eventArgs.comment.LX});});this.as.add_commentRemoved(function(sender,eventArgs){var C=F.ci[eventArgs.mark.get_markID()];F.az.trigger(PCCViewer.EventType.CommentRemoved,{conversation:C.getConversation(),comment:eventArgs.comment.LX});});this.as.add_commentChanged(function(sender,eventArgs){var C=F.ci[eventArgs.mark.get_markID()];F.az.trigger(PCCViewer.EventType.CommentChanged,{conversation:C.getConversation(),comment:eventArgs.comment.LX});});this.as.add_scaleChanged(function(sender,eventArgs){var eG;switch(eventArgs.fitType){case 0:eG=PCCViewer.FitType.FullWidth;break;case 1:eG=PCCViewer.FitType.ShrinkToWidth;break;case 2:eG=PCCViewer.FitType.ActualSize;break;case 3:eG=PCCViewer.FitType.FullHeight;break;case 4:eG=PCCViewer.FitType.FullPage;break;default:break;}F.az.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eG,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.eL;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.as)?(this.as.aiu().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var bL;if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bL=Number(pageNumber);}}if(parseInt(bL,10)!==bL){throw new Error("The 'pageNumber' value "+bL+" is not an integer page number.");}if(bL<1||bL>this.getPageCount()|| !isFinite(bL)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===bL){return this;}if(this.as){this.as.scrollToPage(bL-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.as){if(this.FM||this.nj){this.as.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.as){if(this.FM||this.nj){this.as.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.as){if(this.FM||this.nj){this.as.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.as){if(this.FM||this.nj){this.as.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eJ){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var F=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){F.as.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{F.as.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.eJ){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hh){this.hh.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hh=null;this.jS=null;}var F=this;var Hx=function(){F.as.scrollConversationIntoView(target.getMark().V.get_conversation());if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};var uK=function(ev){if(ev.target.vu===target){F.az.off(PCCViewer.EventType.CommentCreated,uK);F.vu=null;F.scrollTo(target);}else if(ev.target.vu===null){F.az.off(PCCViewer.EventType.CommentCreated,uK);}if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};var JC=function(bL,gJ){F.as.prefetchPages();F.as.scrollRegionIntoView(bL-1,gJ);if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};aik(F,target,uK,Hx,JC);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.hh){this.hh.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hh=null;this.jS=null;}var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this;F.hh=bC;try{var Hx=function(){F.as.scrollConversationIntoView(target.getMark().V.get_conversation());if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};var uK=function(ev){if(ev.target.vu===target){F.az.off(PCCViewer.EventType.CommentCreated,uK);F.vu=null;F.scrollTo(target);}else if(ev.target.vu===null){F.az.off(PCCViewer.EventType.CommentCreated,uK);}if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};var JC=function(bL,gJ){F.as.prefetchPages();F.as.scrollRegionIntoView(bL-1,gJ);if(F.hh){F.hh.resolve();}F.hh=null;F.jS=null;};if(aik(F,target,uK,Hx,JC)===true){bC.resolve();}}catch(e){F.hh=null;F.jS=null;bC.reject(new PCCViewer.Error("Error",e));}return cd;};function aik(dA,dI,uK,Hx,JC){var gJ,bL,aW;dA.vu=null;if(dI instanceof PCCViewer.Conversation){if(dA.ci[dI.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var acD=dA.as.scrollConversationIntoView(dI.getMark().V.get_conversation());if(acD==="PageOutOfView"){dA.jS=Hx;dA.setPageNumber(dI.getMark().getPageNumber());return false;}else if(acD==="ConversationDivDoesNotExist"&&dI.getMark().V.get_conversation().get_length()>0){dA.vu=dI;dA.az.on(PCCViewer.EventType.CommentCreated,uK);return false;}else{dA.jS=null;return true;}}else if(dI instanceof PCCViewer.SearchResult){if(dI.Xc!==dA.aV.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aW=dI.getBoundingRectangle();gJ=new IPCC.Web.UI.Rectangle(aW.x,aW.y,aW.width,aW.height);bL=dI.getPageNumber();}else if(dI instanceof PCCViewer.Mark){if(dA.ci[dI.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aW=dI.getBoundingRectangle();gJ=new IPCC.Web.UI.Rectangle(aW.x,aW.y,aW.width,aW.height);bL=dI.getPageNumber();}else if(dI!==undefined&&dI!==null){if(typeof dI.x==='number'&&typeof dI.y==='number'){gJ=new IPCC.Web.UI.Rectangle(+dI.x,+dI.y,0,0);}else{if(isNaN(+dI.x)||isNaN(+dI.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gJ=new IPCC.Web.UI.Rectangle(Number(+dI.x),Number(+dI.y),0,0);}}if(dI.width){if(typeof dI.width==='number'){gJ.width=dI.width;}else{if(isNaN(+dI.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gJ.width=Number(+dI.width);}}}if(dI.height){if(typeof dI.height==='number'){gJ.height=dI.height;}else{if(isNaN(+dI.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gJ.height=Number(+dI.height);}}}if(typeof dI.pageNumber==='number'){bL= +dI.pageNumber;}else{if(isNaN(+dI.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{bL=Number(+dI.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(bL<1||bL>dA.getPageCount()|| !isFinite(bL)){throw new RangeError("The parameter pageNumber is out of range.");}if(dA.as.scrollRegionIntoView(bL-1,gJ)===false){dA.jS=function(){JC(bL,gJ);};dA.setPageNumber(bL);return false;}else{dA.jS=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eJ){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(Bo(this.getPageNumber()-1,this)===false){this.as.cG(this.getPageNumber()-1);}var jl=degreesClockwise%360,F=this;if(jl!==0){var yj=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jl||yj.indexOf(jl)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jl||IPCC.Web.kw(yj,jl)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.as.rotate(jl);}setTimeout(function(){F.az.trigger("PageRotated",{degreesClockwise:jl,pageNumber:(F.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eJ){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(Bo(this.getPageNumber()-1,this)===false){this.as.cG(this.getPageNumber()-1);}var jl=degreesClockwise%360,F=this;if(jl!==0){var yj=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jl||yj.indexOf(jl)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jl||IPCC.Web.kw(yj,jl)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.as.aeg(jl);}setTimeout(function(){F.az.trigger("DocumentRotated",{degreesClockwise:jl});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.uU){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.as.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.uU){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.as.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.uU){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.as.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.uU){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.as.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.uU){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.as){this.as.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.uU){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.as){this.as.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var oX;if(this.as&&this.as.get_viewMode){oX=this.as.get_viewMode();}else{oX=this.bk.viewMode;}if(oX===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oX===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oX===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var oX;switch(viewMode){case PCCViewer.ViewMode.Document:oX=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oX=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oX=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oX=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.as&&this.as.set_viewMode){var FC=this.as.get_viewMode();if(FC!==oX){if(FC===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oX===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.as.set_viewMode(oX);}}else{this.bk.viewMode=oX;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var yK;if(this.as&&this.as.get_pageLayout){yK=this.as.get_pageLayout();}else{yK=this.bk.pageLayout;}if(yK===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var yK;if(this.bk.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:yK=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.as&&this.as.closeCommentsPanel){this.as.closeCommentsPanel();var F=this;setTimeout(function(){F.az.trigger("CommentsPanelToggled",{isOpen:false});},10);}yK=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.as&&this.as.set_pageLayout){this.as.set_pageLayout(yK);}else{this.bk.pageLayout=yK;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.uU){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.as.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.uU){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.as.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.uU){throw "The fitContent method cannot be called before the initial PageOpening event.";}var Ed;switch(fitType){case PCCViewer.FitType.FullWidth:Ed=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Ed=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Ed=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Ed=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Ed=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.rz.then(function(rv){rv.fitPages(Ed);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eJ){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var bL;if(arguments.length>0){if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bL=Number(pageNumber);}}if(parseInt(bL,10)!==bL){throw new Error("The 'pageNumber' value "+bL+" is not an integer page number.");}if(bL<1||bL>this.getPageCount()|| !isFinite(bL)){throw new Error("The parameter pageNumber is out of range.");}return this.as.XU(bL-1);}else{return this.as.XU();}};SingleSessionViewerControl.prototype.search=function(dO){var bk=this.bk;var aAm=bk.searchMethodType.toLowerCase();var aoF=bk.searchMethodPageCountThreshold;var F=this;var VM;var il;var IT=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(IT,{"searchQuery":{enumerable:true,get:function(){return il.getSearchQuery();}},"results":{enumerable:true,get:function(){return il.getResults();}},"isComplete":{enumerable:true,get:function(){return il.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return il.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return il.getErrorMessage();}}});}function HI(am){return function(){IT.trigger.apply(IT,[am].concat([].slice.call(arguments)));};};var adm=HI(PCCViewer.EventType.SearchCompleted);var adv=HI(PCCViewer.EventType.SearchCancelled);var adb=HI(PCCViewer.EventType.SearchResultsAvailable);var abN=HI(PCCViewer.EventType.PartialSearchResultsAvailable);var acf=function(aM){var dZ=VM.getErrorCode();if(dZ==='ServerSearchUnavailable'){F.ahz=true;F.zp=false;aBG();il=F.clientSearch(dO);ajP();}else{HI(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var ajP=function(){il.on(PCCViewer.EventType.SearchCompleted,adm);il.on(PCCViewer.EventType.SearchFailed,acf);il.on(PCCViewer.EventType.SearchCancelled,adv);il.on(PCCViewer.EventType.SearchResultsAvailable,adb);il.on(PCCViewer.EventType.PartialSearchResultsAvailable,abN);};var aBG=function(){il.off(PCCViewer.EventType.SearchCompleted,adm);il.off(PCCViewer.EventType.SearchFailed,acf);il.off(PCCViewer.EventType.SearchCancelled,adv);il.off(PCCViewer.EventType.SearchResultsAvailable,adb);il.off(PCCViewer.EventType.PartialSearchResultsAvailable,abN);};var BF=function(){if(F.ahz===false){VM=F.serverSearch(dO);il=VM;ajP();IPCC.K.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(am){IT[am]=function(){return il[am].apply(il,arguments);};});return IT;}else{return F.clientSearch(dO);}};switch(aAm){case('auto'):if(aoF>=this.eL){return this.clientSearch(dO);}else{return BF();}break;case('client'):return this.clientSearch(dO);case('server'):return BF();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.abH=function(dO,aCr){var F=this;var cn=new PCCViewer._Search();this.bj=cn.axY();PCCViewer.SearchTask.prototype.aft(dO);if(aCr===true){if(F.vq!==true){F.rz.then(function(rv){var Hd=function(){F.az.off('PageCountReady',Hd);F.clientSearch(dO);};F.az.on('PageCountReady',Hd);return F.bj;});}if(!this.aV.axR()){this.aV.QF(0,this.aV.eL-1,this.aV.eL);}}this.vG=null;this.Iv={};this.as.clearAllSelectedText();return cn;};SingleSessionViewerControl.prototype.agm=function(){var av=this;this.bj.on('PartialSearchResultsAvailable',function(cD){if(av.pZ){return;}var FE=[];var RN={};FE=cD.partialSearchResults;var aR=FE[0];if(av.Iv[aR.getPageNumber()]!==undefined){RN=av.Iv[aR.getPageNumber()];}else{RN.aS=aR.getId();}aR=FE[FE.length-1];RN.cv=aR.getId();av.Iv[aR.getPageNumber()]=RN;function Eq(aw){if(av.pZ){return;}av.afY(aw.get_pageNumber(),FE);};var cL=av.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()+1===aR.getPageNumber()){av.requestPageText(aw.get_pageNumber()+1).then(Eq.bind(null,aw));}}});this.bj.on('SearchCompleted',function(cD){av.zp=false;});this.bj.on('SearchCancelled',function(cD){av.zp=false;});this.az.trigger('SearchPerformed',{searchRequest:this.bj});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var av=this;var cn=av.abH(searchQuery,true);searchQuery=cn.SD(searchQuery);if(this.zp===false){av.as.set_retainPageText(true);this.bj=cn.wP(searchQuery,this.aV);this.zp=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}av.agm();return this.bj;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var av=this;var cn=av.abH(searchQuery,false);searchQuery=cn.SD(searchQuery);if(this.zp===false){this.bj=cn.BF(searchQuery,this.aV);this.zp=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}av.agm();return this.bj;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.bj;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.eJ){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var F=this;if(this.getSelectedSearchResult()){this.vG=null;setTimeout(function(){F.az.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.as.clearAllSelectedText();this.bj=null;setTimeout(function(){F.az.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(dO){var eC={errorsExist:false};var searchTermObj,aaM,T,aL,YX,Le,NC;if(typeof dO!=='object'&&typeof dO!=='string'){eC.errorsExist=true;eC.summaryMsg="Search query must be either an object or string.";return eC;}if(typeof dO==='string'&&dO.length<0){eC.errorsExist=true;eC.summaryMsg="Search term must contain at least 3 characters.";return eC;}else if(typeof dO==='string'){return eC;}if(!dO.hasOwnProperty('searchTerms')){eC.errorsExist=true;eC.summaryMsg="Search options must have a 'searchTerms' key.";return eC;}if(Object.prototype.toString.call(dO.searchTerms)!=='[object Array]'){eC.errorsExist=true;eC.summaryMsg="Search terms value must be an array.";return eC;}if(!dO.searchTerms.length){eC.errorsExist=true;eC.summaryMsg="Search terms array must contain at least one value.";return eC;}eC.searchTerms=[];IPCC.K.forEach(dO.searchTerms,function(searchTermObj){var JQ=ajN(searchTermObj);if(JQ.errorsExist){eC.errorsExist=true;}eC.searchTerms=eC.searchTerms.concat(JQ.searchTerms);});return eC;};function ajN(kN){var eC={errorsExist:false,searchTerms:[]};var azE=kN.type?IPCC.K.trim(kN.type).toLowerCase():undefined;if(azE==='proximity'){if(Object.prototype.toString.call(kN.terms)!=='[object Array]'){eC.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eC.errorsExist=true;return eC;}if(kN.terms.length<2){eC.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eC.errorsExist=true;return eC;}if(!kN.distance){eC.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eC.errorsExist=true;return eC;}IPCC.K.forEach(kN.terms,function(aGs){var JQ=ajN(aGs);if(JQ.errorsExist){eC.errorsExist=true;}eC.searchTerms=eC.searchTerms.concat(JQ.searchTerms);});return eC;}var YX,NC;var Le=(typeof kN.matchingOptions!=='undefined'&&kN.matchingOptions.hasOwnProperty('matchCase'))?kN.matchingOptions.matchCase:false;if(typeof kN.searchTerm==='undefined'||typeof kN.searchTerm!=='string'||(kN.searchTermIsRegex===true&& !azn(kN.searchTerm,Le))){eC.errorsExist=true;eC.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eC;}YX=(typeof kN.matchingOptions!=='undefined'&&kN.matchingOptions.hasOwnProperty('exactPhrase'))?kN.matchingOptions.exactPhrase:false;if(YX){if(kN.searchTerm.length<0){eC.errorsExist=true;eC.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eC;}}else{var aaM=kN.searchTerm.split(' ');IPCC.K.forEach(aaM,function(NC){if(NC.length>0&&NC.length<0){eC.errorsExist=true;eC.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eC.searchTerms.length){eC.searchTerms.push({isValid:true,message:null});}return eC;};var azn=function(YD,Le){var arS,Zn,LO;if(Le){Zn='gm';}else{Zn='igm';}if(!YD&&YD!==null){LO=false;}else{try{arS=new RegExp(YD,Zn);LO=true;}catch(err){LO=false;}}return LO;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.jQ=new PCCViewer.Fn({imageHandlerUrl:this.bk.imageHandlerUrl,documentID:this.bk.documentID});return this.jQ.aBs();};SingleSessionViewerControl.prototype.hg=function(abq){var Ak=false,cL=this.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()===abq){Ak=true;}}return Ak;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var aq;if(!(/^[\x00-\x7F]*$/.test(this.aV))){aq=this.bk.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bk.documentID+'/SourceFile';}else{aq=this.bk.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bk.documentID);}return aq;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var bL;var bC=PCCViewer.Deferred();var cd=bC.getPromise();var dA=this;try{if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bL=parseInt(pageNumber,10);}}if(bL<1||bL>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var ZH=this.DM[bL-1];if(!ZH){ZH=this.DM[bL-1]=new PCCViewer.Deferred();this.rz.then(function(){var aw=dA.dq.getPage(bL-1);aw.AF();});}bC.resolve(ZH.getPromise());}catch(e){bC.reject(new PCCViewer.Error('Error',e));}return cd;};SingleSessionViewerControl.prototype.aCW=function(aAt){var i,j,yU;for(j=0;j<this.Dp.length;j++){yU=this.Dp[j];if(yU){for(i=0;i<yU.length;i++){if(yU[i].Af.PY()===aAt){return yU[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eJ===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var F=this;var eL=F.getPageCount();var fA;if(typeof values==='string'){try{fA=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fA=values;}if(fA.constructor!==Array){fA=[fA];}function NZ(fC,aN){throw new Error('Cannot serialize mark (at index '+aN+') because of '+fC);};var aaI=IPCC.K.map(F.getAllMarks(),function(C){return C.getUid();});IPCC.K.forEach(fA,function validateObject(aK,aN){if(!aK.pageNumber||isNaN(+aK.pageNumber)||aK.pageNumber<1||aK.pageNumber>eL){NZ('unknown page number '+aK.pageNumber,aN);}if(!PCCViewer.Mark.Type[aK.type]){NZ('unknown type '+aK.type,aN);}if(aK.type==='RectangleRedaction'||aK.type==='TextSelectionRedaction'){if(!F.bk.enableMultipleRedactionReasons&&aK.hasOwnProperty('reasons')){NZ('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',aN);}}if(IPCC.K.contains(aaI,aK.uid)){NZ('uid '+aK.uid+' is being duplicated or already exists',aN);}else if(aK.uid!==undefined){aaI.push(aK.uid);}});if(fA.length===0){return[];}var dH=F.aV.get_pages();var anR=[];dH.kH(function(aw){anR.push(F.as.hq(aw));});var bz=IPCC.K.reduce(fA,function(aR,aK){var aw=dH.iR(aK.pageNumber-1);var Xj=aw.get_pageWidth();var agA=aw.get_pageHeight();var hs=aK.pageData;if(!hs&&(!Xj|| !agA)){var azV=IPCC.K.find(aK.lineGroups,function(agK){return(agK.pageNumber&&agK.pageNumber===aK.pageNumber);});hs=azV.pageData;}var bD=Xj||hs.width;var bf=agA||hs.height;var C=cw[aK.type].call(F,aK,{bD:bD,bf:bf});if(aK.uid===undefined){aaI.push(C.getUid());}if(!Xj&&aK.maintainMarkScaling!==true){aw.BN=true;aw.abJ(bD);aw.abr(bf);}if(!C.V.has_unsafe_href()){aR.push(C);}else{F.deleteMarks(C);}return aR;},[]);return bz;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this,bz,aAQ=false;function aiM(fC){setTimeout(function(){bC.reject(fC);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bz=marks;}else if(marks){bz=[marks];aAQ=true;}else{aiM(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return cd;}var Lb;bz=IPCC.K.filter(bz,function(lh,aN){var JR=lh instanceof PCCViewer.Mark&&lh===F.getMarkById(lh.getId())&& ! !eh[lh.getType()];if(!JR&& !Lb){Lb=aN;}return JR;});if(Lb){aiM(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Lb+' because it is not a valid mark or a mark known to ViewerControl'));return cd;}var SH=F.aV.get_pages();var dH=IPCC.K.reduce(bz,function(fl,lh){var bL=lh.getPageNumber();if(fl[bL]){return fl;}fl[bL]=SH.getPage(bL-1);return fl;},{});function arG(C,aw,apT){return function(mD){eh[C.getType()]({mark:C,page:aw,vc:F},function(da,dk){if(!da){apT(dk);mD();}else{bC.reject(da);}});};};var tj=[];var aFm=IPCC.K.map(bz,function(lh,aN){return arG(lh,dH[lh.getPageNumber()],function(dk){tj[aN]=dk;});});IPCC.K.Ui(aFm,function(){bC.resolve(tj);});return cd;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Rq,aap;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Rq=true;aap=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Rq=false;aap=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.as&&this.as.set_redactionDraftMode){var are=this.as.get_redactionDraftMode();if(are!==Rq){this.as.set_redactionDraftMode(Rq);}}else{this.bk.redactionViewMode=aap;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var ajW;if(this.as&&this.as.get_redactionDraftMode){ajW=this.as.get_redactionDraftMode();if(ajW===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bk.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var F=this;var fX=searchResult;if(this.eJ===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.TextSelectionRedaction);};var aFf=function(aQ,ga,nQ,fF,nU,amb){var ew=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ew.bU=nU;ew.aO=amb;var C=null;var lo={jq:Number.MAX_VALUE,jb:0,_top:Number.MAX_VALUE,kg:0};for(var aL=nQ;aL<fF;aL++){var eN=ga.kQ(aL);if(C){var xT=C.get_rectangle();if(Math.abs(eN.aE.y-xT.y)<1&&Math.abs(eN.aE.height-xT.height)<1&&eN.aE.x+eN.aE.width>=xT.x+xT.width){C.set_rectangle(new IPCC.Web.UI.Rectangle(xT.x,xT.y,eN.aE.x+eN.aE.width-xT.x,xT.height));}else{afP(aQ,ew,C,lo);C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);C.set_rectangle(eN.aE);C.jO(true);C.set_fillColor('#000000');C.set_text(ew.bx);C.set_lineWidth(0);C.bU=nU;}}else{C=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);C.set_rectangle(eN.aE);C.jO(true);C.set_fillColor('#000000');C.set_text(ew.bx);C.set_lineWidth(0);C.bU=nU;}C.aO=amb;}if(C!==null){afP(aQ,ew,C,lo);}ew.set_rectangle(new IPCC.Web.UI.Rectangle(lo.jq,lo._top,lo.jb-lo.jq,lo.kg-lo._top));return ew;};var afP=function(aQ,ew,C,lo){var G=C.get_rectangle();if(G.x<lo.jq){lo.jq=G.x;}if(G.y<lo._top){lo._top=G.y;}if(G.x+G.width>lo.jb){lo.jb=G.x+G.width;}if(G.y+G.height>lo.kg){lo.kg=G.y+G.height;}aQ.addMark(C);ew.bm.push(C);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var fX=searchResult;if(this.eJ===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.HighlightAnnotation);};var aHI=function(bK,aR,aBK,nU){var C=new IPCC.Web.UI.Mark(bK);if(bK===IPCC.Web.UI.MarkType.HighlightText){C.cK=aR.getText();}C.aS=aBK;C.set_rectangle({x:0,y:0,width:0,height:0});C.bZ=aR.getText().length;C.aGT=aR.getStartIndexInPage()+aR.getText().length;C.cQ=127;C.ey=aR.getHighlightColor();C.ja='y';C.bU=nU;return C;};SingleSessionViewerControl.prototype.afY=function(aO,ec){var aR={};for(var aL=0;aL<ec.length;aL++){aR=ec[aL];this.as.selectText(aR.getPageNumber()-1,aR.getStartIndexInPage(),aR.getText().length,aR.getHighlightColor());}this.as.display(aR.getPageNumber()-1);this.Kf[aR.getPageNumber()]='search';};SingleSessionViewerControl.prototype.Wz=function(aO,searchResult){var aR={};if(this.bj===null||typeof this.bj.getResults!=='function'){return;}var ec=this.bj.getResults();this.as.clearSelectedText(aO-1);var Vy=this.Iv[aO];if(!Vy){return;}for(var aL=Vy.aS;aL<Vy.cv+1;aL++){aR=ec[aL];if(aR.getPageNumber()===aO){this.as.selectText(aR.getPageNumber()-1,aR.getStartIndexInPage(),aR.getText().length,aR.getHighlightColor());if(searchResult===aR.getId()){this.as.selectText(aR.getPageNumber()-1,aR.getStartIndexInPage(),aR.getText().length,aR.getHighlightColor());}}}this.as.display(aR.getPageNumber()-1);this.Kf[aR.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eJ){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.GE= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.bj){throw "There is no current SearchRequest object available.";}var adh=this.bj.getResults();if(adh[searchResult.getId()].mE!==searchResult.mE){throw "The parameter searchResult is not current. There is a newer version of search result available.";}adh=null;this.GE=searchResult.getId();if(scrollTo){var aW=searchResult.getBoundingRectangle();var gJ=new IPCC.Web.UI.Rectangle(aW.x,aW.y,aW.width,aW.height);if(this.as.scrollRegionIntoView(searchResult.getPageNumber()-1,gJ)===false){this.jS=function(){F.as.scrollRegionIntoView(searchResult.getPageNumber()-1,gJ);};this.setPageNumber(searchResult.getPageNumber());}else{this.jS=null;}}}var F=this;var auY=searchResult!==null?searchResult.getPageNumber(): -1;if(this.vG&&this.vG.getPageNumber()!==auY){F.requestPageText(F.vG.getPageNumber()).then(function Eq(){F.Wz(F.vG.getPageNumber(),F.GE);});}if(searchResult){F.requestPageText(searchResult.getPageNumber()).then(function Eq(){F.Wz(searchResult.getPageNumber(),F.GE);});}this.vG=searchResult;setTimeout(function(){F.az.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eJ){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.vG;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var bL;var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bL=parseInt(pageNumber,10);}}if(bL<1||bL>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rz.then(function(rv){var aw=F.dq.getPage(bL-1);var eD=aw.cC();eD.adV(true);if(eD&&eD.Az()){if(eD.oV()===true){var bx=aw.cC().Co();bC.resolve(bx);}else{bC.resolve("");}}else{var Gk=function(aC,dM){if(dM.containsText===true){var bx=eD.Co();bC.resolve(bx);}else{bC.resolve("");}aw.Gg(Gk);aw.FP(Gi);};var Gi=function(aC,dM){if(dM.exception&&dM.exception.message){bC.reject(new PCCViewer.Error("TextExtractionFailed",dM.exception.message));}else{bC.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}aw.Gg(Gk);aw.FP(Gi);};aw.AB(Gk);aw.zn(Gi);aw.AF();}});}catch(e){bC.reject(new PCCViewer.Error("Error",e));}return cd;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var bL;var F=this;if(!this.eJ){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(F.as.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bL=parseInt(pageNumber,10);}}if(bL<1||bL>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var cL=F.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var afO=cL.getPage(T);if(afO.get_pageNumber()===bL-1){afO.cC().adV(false);return this;}}var aw=F.dq.getPage(bL-1);aw.agl();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.aF.mn(pageNumber,"pageNumber",1,this.getPageCount());var aw;return(this.as&&this.dq&&(aw=this.dq.getPage(pageNumber-1))&&aw.cC()&&aw.cC().Az())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.aDb;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var bL;var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this;try{if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bL=parseInt(pageNumber,10);}}if(bL<1||bL>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.rz.then(function(rv){var aw=F.dq.getPage(bL-1);if(aw.kl()>0||aw.iM()>0){bC.resolve({'width':aw.kl(),'height':aw.iM()});}else{var yc=function(ab,aT){bC.resolve({'width':ab,'height':aT});};var Aw=function(errorMessage){bC.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};rv.requestPageAttributes(aw,yc,Aw);}});}catch(e){bC.reject(new PCCViewer.Error("Error",e));}return cd;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.pZ){this.Dp=undefined;this.DM=undefined;this.CG=undefined;this.nd=undefined;this.jQ=undefined;this.iX=undefined;if(this.as&&typeof this.as.dispose==="function"){this.as.dispose();}this.aq="";this.eL=0;delete this.as;this.aV=undefined;this.MN=0;this.dq=undefined;this.agz=false;if(this.fN){IPCC.K.Df(this.fN);this.fN=this.cY=undefined;}this.nj=false;this.vq=false;this.FM=false;this.as=undefined;this.Nm=undefined;this.TA=undefined;this.rz=undefined;PCCViewer.MouseTools.sS=undefined;this.oC=undefined;this.Dp=undefined;this.Kr=undefined;for(var Ht in this.ci){if(this.ci.hasOwnProperty(Ht)){this.ci[Ht].dk=undefined;this.ci[Ht].cX=undefined;this.ci[Ht].V=undefined;this.ci[Ht]=undefined;}}this.ci=undefined;this.eJ=false;this.pZ=true;this.az={on:function Jj(){},off:function Jj(){},trigger:function Jj(){}};this.jv=undefined;this.jv={};}};SingleSessionViewerControl.prototype.aDo=function(){if(this.fN){this.as.preserveScrollPosition();this.Nm=this.fN.childNodes[0];IPCC.K.Df(this.fN);}};SingleSessionViewerControl.prototype.aCt=function(){if(this.Nm){IPCC.K.Df(this.fN);this.fN.appendChild(this.Nm);this.Nm=undefined;this.as.restoreScrollPosition();}};SingleSessionViewerControl.prototype.apD=function(){this.az.stop();};SingleSessionViewerControl.prototype.aBC=function(){this.az.resume();};SingleSessionViewerControl.prototype.azp=function(interceptor){this.az.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var F=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(F.ci[markId]){return F.ci[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var VS=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}aie(markType);if(!this.as){return VS;}var T=0;var cE=this.dq.get_length();var F=this;function atR(V){var C=F.ci[V.get_markID()];if(C&&C.getType().toLowerCase()===markType.toLowerCase()){VS.push(C);}};for(T=0;T<cE;T++){var aQ=this.as.hq(this.dq.getPage(T));if(aQ){aQ.forEachMark(atR);}}return VS;};SingleSessionViewerControl.prototype.getAllMarks=function(){var CN=[];if(!this.as){return CN;}var cE=this.dq.get_length();var F=this;var T=0;var C;function Mw(V){var C=F.ci[V.get_markID()];if(typeof C!=='undefined'){CN.push(C);}};for(T=0;T<cE;T++){var aQ=this.as.hq(this.dq.getPage(T));if(aQ){aQ.forEachMark(Mw);}}return CN;};function aie(markType){var dY;switch(markType.toLowerCase()){case "lineannotation":dY=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":dY=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":dY=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":dY=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":dY=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":dY=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":dY=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":dY=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":dY=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":dY=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":dY=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":dY=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":dY=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":dY=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":dY=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":dY=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":dY=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":dY=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":dY=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":dY=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":dY=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return dY;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var F=this,hs;if(F.eJ===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.hs.width===0){var Hq=F.aV.dH.iR(0);hs={width:Hq.kl(),height:Hq.iM()};}else{hs=searchResult.hs;}var ahA=IPCC.K.tq(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:ahA,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bm,pageData:hs,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],maintainMarkScaling:true,modificationDateTime:ahA,pageNumber:searchResult.pageNumber,pageData:hs,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var MF=F.deserializeMarks(markInfo);return MF[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eJ===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var bL;if(typeof(pageNumber)==='number'){bL=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{bL=parseInt(pageNumber,10);}}if(bL<1||bL>this.dq.get_length()|| !isFinite(bL)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var C=this.aga(bL,markType);return this.akZ(C);};SingleSessionViewerControl.prototype.aga=function(bL,bK,bk){var F=this;bk=bk||{};var dY=aie(bK);var V=new IPCC.Web.UI.Mark(dY);V.aO=bL-1;var Pb={type:bK,igMark:V,pageNumber:bL,uid:bk.uid,viewerControl:this};if(bK.toLowerCase()==="highlightannotation"||bK.toLowerCase()==="textselectionredaction"||bK.toLowerCase()==="strikethroughannotation"||bK.toLowerCase()==="texthyperlinkannotation"){Pb.dq=F.dq;Pb.as=F.as;}if(bK.toLowerCase()==="rectangleredaction"||bK.toLowerCase()==="textselectionredaction"){Pb.enableMultipleRedactionReasons=this.bk.enableMultipleRedactionReasons;}var C=new PCCViewer.Mark(Pb);return C;};SingleSessionViewerControl.prototype.akZ=function(C){var F=this;if(F.ajY===true){F.ajY=false;}else{var Hu=F.mi;F.mi=function(sender,eventArgs){F.mi=Hu;if(F.vw){F.CG.addMarks(C);}setTimeout(function(){F.az.trigger('MarkCreated',{mark:C,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aQ=this.as.hq(this.dq.getPage(C.bL-1));aQ.addMark(C.V);F.ci[C.V.get_markID()]=C;F.oU(C,C.bL-1);return C;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var F=this;var T=0;var C;if(!this.eJ){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Ra(pI){var aO=pI.getPageNumber()-1;var bU='';var aZ='';var GF=aO;var aQ=F.as.hq(F.dq.getPage(aO));aQ.removeMark(pI.V);if(F.ci[pI.getId()]){bU=pI.V.bU;aZ=pI.getType();delete F.ci[pI.getId()];}var Sf=aZ.toLowerCase();if((Sf==='highlightannotation'||Sf==='textselectionredaction'||Sf==='strikethroughannotation'||Sf==='texthyperlinkannotation')&&(pI.aA&&pI.aA.length)){for(var T=0;T<pI.aA.length;T++){var kM=pI.aA[T];aQ=F.as.hq(F.dq.getPage(kM.aO));aQ.removeMark(kM);F.oU(kM,kM.aO);}}F.nd.forEach(function(dS){if(dS.hasMark(pI.getId())){dS.removeMarks(pI);}});};if(marks instanceof Array){for(T=0;T<marks.length;T++){C=marks[T];if(!(C instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(F.ci[C.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(T=0;T<marks.length;T++){Ra(marks[T]);F.oU(marks[T],marks[T].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(F.ci[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Ra(marks);F.oU(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var CN=this.getAllMarks();if(CN.length>0){return this.deleteMarks(CN);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){air(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){air(this,marks,true,'showMarks');return this;};function air(dA,bz,xz,avi){var T=0;var C;if(!dA.eJ){throw new PCCViewer.Error("InvalidArgument","The method "+avi+" can not be used until 'ViewerReady' state is reached.");}if(bz instanceof Array){for(T=0;T<bz.length;T++){C=bz[T];if(!(C instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(dA.ci[C.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(T=0;T<bz.length;T++){bz[T].setVisible(xz);}}else{if(bz instanceof PCCViewer.Mark){if(!(dA.ci[bz.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bz.setVisible(xz);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function Bo(aze,mG){var ky=false;var cL=mG.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()===aze){ky=true;break;}}return ky;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var aQ;var he;if(!this.eJ){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){he=mark.getPageNumber();if(mark.getPageNumber()>0){aQ=this.as.hq(this.dq.getPage(he-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.V){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aQ){if(mark.V instanceof IPCC.Web.UI.Mark){mark.V.moveToFront();if(Bo(he-1,this)===true){var mG=this;setTimeout(function(){mG.as.cG(he-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var aQ;var he;if(!this.eJ){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}he=mark.getPageNumber();if(he>=1){aQ=this.as.hq(this.dq.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.V){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aQ){if(mark.V instanceof IPCC.Web.UI.Mark){mark.V.moveToBack();if(Bo(he-1,this)===true){var mG=this;setTimeout(function(){mG.as.cG(he-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var aQ,he;if(!this.eJ){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}he=mark.getPageNumber();if(he>=1){aQ=this.as.hq(this.dq.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.V){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aQ){if(mark.V instanceof IPCC.Web.UI.Mark){mark.V.moveForward();if(Bo(he-1,this)===true){var mG=this;setTimeout(function(){mG.as.cG(he-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var aQ,he;if(!this.eJ){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}he=mark.getPageNumber();if(he>=1){aQ=this.as.hq(this.dq.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.V){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aQ){if(mark.V instanceof IPCC.Web.UI.Mark){mark.V.moveBackward();if(Bo(he-1,this)===true){var mG=this;setTimeout(function(){mG.as.cG(he-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var bz=[];var TO=[];if(this.eJ===false){return bz;}var cE=this.dq.get_length(),aQ,eb;var F=this;function auJ(QM){if(QM){var RK=QM.get_type();if(RK===IPCC.Web.UI.MarkType.HighlightText||RK===IPCC.Web.UI.MarkType.TextSelectionRedaction||RK===IPCC.Web.UI.MarkType.Strikethrough||RK===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var hN in F.ci){if(F.ci.hasOwnProperty(hN)){eb=F.ci[hN];if(QM.bU===eb.V.bU){for(var T=0;T<TO.length;T++){if(eb.V.bU===TO[T]){return;}}TO.push(eb.V.bU);break;}}}}else{eb=F.ci[QM.get_markID()];}if(eb&&eb instanceof PCCViewer.Mark){bz.push(eb);}else{return bz;}}};for(var T=0;T<cE;T++){aQ=this.as.hq(this.dq.getPage(T));if(aQ){aQ.get_selectedMarks().forEach(auJ,{});}}return bz;};function aiz(bz,ari,mG){var eb,T;function Uk(gT){var ky=false;var cL=mG.as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()===gT){ky=true;break;}}return ky;};if(!bz.length){return;}for(T=0;T<bz.length;T++){if(bz[T]instanceof PCCViewer.Mark){eb=mG.ci[parseInt(bz[T].getId(),10)];if(eb&&eb instanceof PCCViewer.Mark){if(eb.V&&eb.V instanceof IPCC.Web.UI.Mark){if(eb.getId()!==eb.V.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(T+1)+" is invalid";}}var oA=[];var ut=false;for(T=0;T<bz.length;T++){eb=mG.ci[parseInt(bz[T].getId(),10)];ut=false;if(eb){if(eb.getId()===eb.V.get_markID().toString()){eb.V.set_selected(ari);if(Array.prototype.IndexOf){ut=(oA.IndexOf(eb.getPageNumber())>=0);}else{ut=(IPCC.Web.kw(oA,eb.getPageNumber())>=0);}}if(!ut){var cN=eb.getPageNumber();if(Uk(cN-1)){oA.push(cN);}}}}if(oA.length>0){setTimeout(function(){for(T=0;T<oA.length;T++){mG.as.cG(oA[T]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.eJ===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bz=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bz.push(marks);}}else{bz=marks;}if(bz.length===0){return this;}aiz(bz,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.eJ===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bz=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bz.push(marks);}}else{bz=marks;}if(bz.length===0){return this;}aiz(bz,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var oA=[];var bz=this.getSelectedMarks();var ut=false,T,eb;for(T=0;T<bz.length;T++){eb=this.ci[parseInt(bz[T].getId(),10)];ut=false;if(eb){if(eb.getId()===eb.V.get_markID().toString()){eb.V.set_selected(false);if(Array.prototype.IndexOf){ut=(oA.IndexOf(eb.getPageNumber())>=0);}else{ut=(IPCC.Web.kw(oA,eb.getPageNumber())>=0);}}if(!ut){var cN=eb.getPageNumber();if(Bo(cN-1,this)===true){oA.push(cN);}}}}if(oA.length>0){var mG=this;setTimeout(function(){for(T=0;T<oA.length;T++){mG.as.cG(oA[T]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var dA=this,MF;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bz=[];IPCC.K.forEach(marks,function(C){if(C instanceof PCCViewer.Mark){if(dA.ci[C.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bz.push(C);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var tj=[];IPCC.K.forEach(bz,function(C,ak){eh[C.getType()]({mark:C},function(da,dk){dk.uid=undefined;tj[ak]=dk;});});this.vw=false;MF=dA.deserializeMarks(tj);this.vw=true;return MF;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(C){var dA=this,as=this.as;var afK=function(abq){var Ak=false,cL=as.get_displayedPages();for(var T=0;T<cL.get_length();T++){var aw=cL.getPage(T);if(aw.get_pageNumber()===abq){Ak=true;}as.qT(aw.get_pageNumber());}return Ak;};if(typeof C==="undefined"||C===null){afK(-1);}else{if(this.eJ===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(C instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var acW=this.ci[parseInt(C.getId(),10)];if(!(acW&&acW instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(C.V&&C.V instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(C.getId()!==C.V.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bK=C.getType();if(bK!==PCCViewer.Mark.Type.TextAnnotation&&bK!==PCCViewer.Mark.Type.TextRedaction&&bK!==PCCViewer.Mark.Type.TextInputSignature&&bK!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var Ak=afK(C.getPageNumber()-1);if(Ak){dA.as.vQ(C.getPageNumber()-1,C.V);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eJ===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var HB= -1;var dv;var aW;var bL=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dv=sortableObject.getStartPoint();}else{aW=(sortableObject.V)?sortableObject.V.get_boundingRectangle():sortableObject.getRectangle();dv={x:aW.x,y:aW.y};}bL=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dv={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dv={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){bL= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{bL=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(bL<1||bL>this.getPageCount()|| !isFinite(bL)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(bL)){return-2;}var aw=this.dq.getPage(bL-1);var wY=aw.cC().Uo();var ga=aw.cC().gp();function ajL(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function aif(dP,ft){var bw=Math.max(Math.min(ft.x,dP.x+dP.width),dP.x);var dc=Math.max(Math.min(ft.y,dP.y+dP.height),dP.y);return(ft.x-bw)*(ft.x-bw)+(ft.y-dc)*(ft.y-dc);};var Dr;var PD=Number.MAX_VALUE;for(var T=0;T<wY.eY();T++){var hF=wY.aCQ(T);if(ajL(hF.fw(),dv)){for(var aL=hF.aja();aL<hF.ajD();aL++){var VG=ga.kQ(aL);var sO=VG.rC();if(ajL(sO,dv)){return aL;}Dr=aif(sO,dv);if(Dr<PD){HB=aL;PD=Dr;}}return HB;}Dr=aif(hF.fw(),dv);if(Dr<PD){if(hF.fw().y>dv.y){HB=hF.aja()-1;}else{HB=hF.ajD();}PD=Dr;}}return HB;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.bh.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var F=this;if(this.eJ===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var zb=name.toLowerCase();var bh=PCCViewer.MouseTools.getMouseTool(zb);if(!bh){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gD,gc;switch(bh.getType()){case PCCViewer.MouseTool.Type.Magnifier:gD=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gD=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gD=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gD=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gD=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gD=IPCC.Web.UI.MouseTool.CreateLineMark;gc=asD(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gD=IPCC.Web.UI.MouseTool.CreateRectangleMark;gc=ajz(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gD=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gc=awV(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gD=IPCC.Web.UI.MouseTool.CreateRectangleMark;gc=awq(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gD=IPCC.Web.UI.MouseTool.CreateEllipseMark;gc=ajz(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gD=IPCC.Web.UI.MouseTool.CreateTextMark;gc=avy(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gD=IPCC.Web.UI.MouseTool.CreateTextMark;gc=Zr(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gD=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gc=Zr(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gD=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gc=Zr(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gD=IPCC.Web.UI.MouseTool.CreateStampMark;gc=atK(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gD=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gc=NU(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gD=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gc=NU(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gD=IPCC.Web.UI.MouseTool.CreateFreehandMark;gc=asI(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gD=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gc=NU(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aDK=this.bk.resourcePath+'/placeSignatureCursor.cur';this.as.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.as.set_allowMarkEdits(false);this.as.set_mouseCursor('url('+aDK+'), pointer');this.bh=bh;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gD=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gc=akl(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gD=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gc=akl(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gD=IPCC.Web.UI.MouseTool.CreatePolylineMark;gc=avR(bh.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gD=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gc=NU(bh.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var apR=this.as.get_mouseTool();if(this.bh!==bh&&apR===gD){setTimeout(function(){F.az.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:F.bh.getName()});},0);}this.bh=bh;if(gc){this.HG=gc.onCreating;this.mi=gc.onAdded;}else{this.HG=undefined;this.mi=undefined;}this.as.set_mouseTool(gD);this.as.set_allowMarkEdits((bh.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function ZY(dA,Vk,jH){if(dA.vq!==true){var Hd=function(){dA.az.off('PageCountReady',Hd);ZY(dA,Vk,jH);};dA.az.on('PageCountReady',Hd);return;}var av=dA;var vp;var jU={},tK={},qd=[];var fP=av.eL;var jY;var bk;if(Vk){bk=Vk;}var aam=[];var SH=av.aV.get_pages();var axm=function(aw,done){var aHu=false;var iR=aw;var bL=aw.get_pageNumber();var fJ=iR.get_pageWidth();var fL=iR.get_pageHeight();try{if(iR){var hq=av.as.hq(iR),ED=0,DR=0,fC="",aER=false;var getArt=function getArt(){var LY;if(bk&&bk.EC&&bk.EC[bL]){LY=IPCC.K.extend({},bk);LY.EC=bk.EC[bL];}else{LY=bk;}var aL,Xs;var GO=hq.axn(bL,ED,DR,LY);if(GO.jU){jU[bL]=GO.jU;}else{var aok=axq(bL,jY,DR,ED);jU[bL]=aok;}if(GO.qd){for(aL=0;aL<GO.qd.length;aL++){Xs=GO.qd[aL];tK[Xs.al.imageStampId]=Xs;}}done();};if(hq){if(!fJ|| !fL){if(hq.get_markCount()>0){av.as.Qx(aw,function(ab,aT){ED=ab;if(ED){iR.Pq(ED);}DR=aT;if(DR){iR.PU(DR);}getArt();},function(lO){done(lO);});}else{getArt();}}else{ED=fJ;DR=fL;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};SH.forEach(function(aw,aN,iX){aam.push(function(done){axm(aw,done);});});var Ww=function(ax,aw){var wG="";var T;if(!ax.hv){if(ax.toString()){return ax.toString();}else{return '<![CDATA[]]>';}}if((fP===1||aw===0||(aw>0&&ax.hv!=="documentAnnotations"&&ax.hv!=="pages"))&&ax.hv!=="highlights"){wG='<'+ax.hv;for(var CO in ax.al){if(ax.al.hasOwnProperty(CO)){var TX=ax.al[CO];if(TX===undefined||TX===null){continue;}var al=TX.toString();al=al.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');wG=wG+' '+CO+'="'+al+'"';}}wG+='>';}for(T=0;T<ax.cf.length;T++){wG+=Ww(ax.cf[T],aw);}if(fP===1||(aw===fP-1)||(aw!==fP-1&&ax.hv!=="documentAnnotations"&&ax.hv!=="pages"&&ax.hv!=="highlights")){if(ax.hv!=="highlights"){wG+='</'+ax.hv+'>';}else{wG+='<'+ax.hv+' />';}}return wG;};IPCC.K.Ui(aam,function(da){if(da){jH(da);return;}vp='<?xml version="1.0"?>';for(var T=0;T<(av.eL);T++){vp=vp+Ww(jU[T],T);}var stampImageXml='';for(var FF in tK){if(tK.hasOwnProperty(FF)){stampImageXml+=Ww(tK[FF],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';vp=vp.replace('</documentAnnotations>',stampImagesXml);}jH(undefined,vp);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.bk.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var bC=PCCViewer.Deferred();var cd=bC.getPromise();var bk;if(options){bk=options;}else{bk={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){bC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return cd;}if(!awG(recordName)){bC.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cd;}var av=this;this.rz.then(function(rv){var zB=recordName;ZY(av,bk,function(err,vp){if(err){bC.reject(new PCCViewer.Error("Error",err));return cd;}var OQ=IPCC.hH.sp(zB);var aq;if(!(/^[\x00-\x7F]*$/.test(av.aV.get_documentIdentifier()))){aq=av.bk.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+av.bk.documentID+'&AnnotationID=e'+OQ;}else{aq=av.bk.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(av.bk.documentID)+'&AnnotationID=u'+encodeURIComponent(zB);}function fd(ah){bC.resolve(zB);setTimeout(function(){av.az.trigger('MarkupSaved',{name:zB});},0);};function er(aR){bC.reject(new PCCViewer.Error("AjaxError","Status Code "+aR.response.status+" "+aR.response.statusText));};PCCViewer.Ajax.fE({method:'POST',url:aq,headers:{'Content-Type':'application/xml;charset=utf-8'},body:vp}).then(fd,er);});});}catch(e){bC.reject(new PCCViewer.Error("Error",e.message));}return cd;};var awG=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var TJ=function(kJ){var bw=kJ.firstChild;while(bw.nodeType!==1){bw=bw.nextSibling;}return bw;};var axq=function(cN,jY,fL,fJ){var jU={hv:'documentAnnotations',cf:[],al:{}};var abk={hv:'pages',cf:[],al:{}};jU.cf.push(abk);var lz={hv:'highlights',cf:[],al:{}};var aw={hv:'page',cf:[],al:{id:(cN+1).toString(),pageWidth:fJ,pageHeight:fL}};jU.cf.push(lz);try{if(jY){var bw=jY.getElementsByTagName("documentAnnotations");if(bw.length>1){throw 'ERROR: Invalid PCC annotations XML';}var Ql;var Dz;if(document.documentMode<9){var SY=jY.firstChild.nodeName;if(SY.toLowerCase()==='xml'){Ql=jY.firstChild.nextSibling;}else{Ql=jY.firstChild;}}else{Ql=jY.firstChild;}var dH=TJ(Ql);if(dH.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dH.hasChildNodes()){var T;var mw=false;for(T=0;T<dH.childNodes.length;T++){Dz=dH.childNodes[T];if(Dz.nodeName!=='page'){continue;}var zt=Dz.getAttribute('id');mw=false;if(zt&&parseFloat(zt)===cN+1){mw=true;for(var aL=0;aL<Dz.childNodes.length;aL++){var ay=Dz.childNodes[aL];var bi={hv:'annotation',cf:[],al:{}};if(ay.nodeName!=='annotation'){continue;}var Nu=Dz.childNodes[aL].attributes;if(Nu.length>0){for(var dE=0;dE<Nu.length;dE++){bi.al[Nu[dE].name]=Nu[dE].value;}}if(ay.childNodes[0].data){bi.cf.push('<![CDATA['+ay.childNodes[0].data+']]>');}else{bi.cf.push('');}aw.cf.push(bi);}break;}}}}abk.cf.push(aw);return jU;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var IX=recordName;var bC=PCCViewer.Deferred(),cd=bC.getPromise(),av=this;var bk=options||{};var xF=bk.retainExistingMarks;var jf=bk.markupLayer;var uc=bk.loadAsHidden;this.rz.then(function(rv){var aq,OQ,as=av.as,dq=av.dq;if(typeof IX!=="string"){bC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(xF!==undefined){if(typeof xF!=='boolean'){bC.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(jf!==undefined){if(!(jf instanceof PCCViewer.MarkupLayer)){bC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(av.nd.getItem(jf.getId())===undefined){bC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function fd(ah){var SL,Ln=ah.responseText,Oh;if(Ln.indexOf('xml')=== -1){bC.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Ln=Ln.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.K.pB(p2)+p3;});if(window.DOMParser){Oh=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Oh=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Oh=function(){return null;};}SL=Oh(Ln);var ann=SL.getElementsByTagName('stampImage');var qd={};var WE=function(ak){C.bn.push(agG.getPoint(ak));};for(var T=0;T<ann.length;T++){var TM=ann[T];qd[TM.getAttribute('imageStampId')]={imageStampId:TM.getAttribute('imageStampId'),base64format:TM.getAttribute('base64format')};}as.set_annotationXmlDom(SL,qd,xF===true,uc===true);if(xF!==true){av.ci={};}var cE=av.dq.get_length();var C;var bK,dY;var yX={};var IV=[];for(T=0;T<cE;T++){var aQ=av.as.hq(av.dq.getPage(T));if(aQ){var Fy={};var aL=0;for(aL=0;aL<aQ.get_markCount();aL++){var V=aQ.getMark(aL);if(av.ci[V.get_markID()]!==undefined){continue;}dY=V.get_type();switch(dY){case IPCC.Web.UI.MarkType.Rectangle:if(V.iI()===true){if(V.get_opacity()===255){bK=PCCViewer.Mark.Type.RectangleRedaction;}else{bK=PCCViewer.Mark.Type.TransparentRectangleRedaction;}C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});}else{bK=PCCViewer.Mark.Type.RectangleAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.mI=V.get_lineWidth();C.ey=V.get_fillColor();C.oY=V.get_lineColor();C.cQ=V.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bK=PCCViewer.Mark.Type.EllipseAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.mI=V.get_lineWidth();C.ey=V.get_fillColor();C.oY=V.get_lineColor();C.cQ=V.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bK=PCCViewer.Mark.Type.LineAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.ob=V.get_lineWidth();C.dK=V.get_lineColor();C.cQ=V.get_opacity();if(V.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){C.mk="FilledTriangle";}else{C.mk="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(V.iI()===true){bK=PCCViewer.Mark.Type.StampRedaction;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});}else{bK=PCCViewer.Mark.Type.StampAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.dK=V.get_fillColor();}C.ug=V.get_text();break;case IPCC.Web.UI.MarkType.Text:if(V.iI()===true){bK=PCCViewer.Mark.Type.TextRedaction;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});}else{bK=PCCViewer.Mark.Type.TextAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.mI=V.get_lineWidth();C.ey=V.get_fillColor();C.oY=V.get_lineColor();C.cQ=V.get_opacity();}C.ed=V.get_maxLength();C.hz=V.get_fontName();C.gY=V.get_textColor();C.ck=V.get_fontSize();var cj=V.get_fontStyle();var sT=[];if((cj&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sT.push("Bold");}if((cj&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sT.push("Italic");}if((cj&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sT.push("Strikeout");}if((cj&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sT.push("Underline");}C.cj=sT;var oH;switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:oH="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:oH="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:oH="right";break;}C.mx=oH;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bK=PCCViewer.Mark.Type.TextAreaSignature;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.mI=V.get_lineWidth();C.ed=V.get_maxLength();C.hz=V.get_fontName();C.gY=V.get_textColor();C.iq=V.get_maxFontSize();cj=V.get_fontStyle();sT=[];if((cj&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){sT.push("Bold");}if((cj&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){sT.push("Italic");}if((cj&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){sT.push("Strikeout");}if((cj&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){sT.push("Underline");}C.cj=sT;switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:oH="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:oH="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:oH="right";break;}C.mx=oH;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bK=(dY===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(dY===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(dY===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var aaH=V.bU;if(typeof yX[aaH]==='undefined'){C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,dq:dq,as:as,uid:V.al.jw});C.aA=[];if(bK===PCCViewer.Mark.Type.HighlightAnnotation){C.ey=V.get_fillColor();}yX[aaH]=C;V.aO=T;V.kI=true;}else{V.aO=T;yX[aaH].aA.push(V);}break;case IPCC.Web.UI.MarkType.Freehand:bK=PCCViewer.Mark.Type.FreehandAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.ob=V.get_lineWidth();C.dK=V.get_lineColor();C.cQ=V.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bK=PCCViewer.Mark.Type.FreehandSignature;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.ob=V.get_lineWidth();C.dK=V.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bK=PCCViewer.Mark.Type.TextSignature;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.hz=V.get_fontName();C.dK=V.get_fillColor();C.bx=V.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bK=PCCViewer.Mark.Type.TextInputSignature;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.hz=V.get_fontName();C.gY=V.get_textColor();C.bx=V.get_text();C.ed=V.get_maxLength();C.ju=V.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!V.bU){bK=PCCViewer.Mark.Type.RectangleRedaction;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,dq:dq,as:as,uid:V.al.jw});C.mI=V.get_lineWidth();C.ey=V.get_fillColor();C.oY=V.get_lineColor();C.cQ=V.get_opacity();}else{if(Fy[V.bU]===undefined){Fy[V.bU]=[];}Fy[V.bU].push(V);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bK=(dY===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.setImage({dataUrl:V.get_image(),id:V.qS});break;case IPCC.Web.UI.MarkType.Polyline:bK=PCCViewer.Mark.Type.PolylineAnnotation;C=new PCCViewer.Mark({type:bK,igMark:V,pageNumber:T+1,uid:V.al.jw});C.ob=V.get_lineWidth();C.dK=V.get_lineColor();C.cQ=V.get_opacity();var agG=V.get_points();C.bn=[];for(var bO=0;bO<agG.get_length();bO++){WE(bO);}break;default:C=undefined;continue;}if(typeof C!=='undefined'&&dY!==IPCC.Web.UI.MarkType.HighlightText&& !(dY===IPCC.Web.UI.MarkType.RectangleRedaction&&V.bU!==undefined)&&dY!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&dY!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&dY!==IPCC.Web.UI.MarkType.Strikethrough){av.ci[V.get_markID()]=C;IV.push(C);}}for(var Me in Fy){if(Fy.hasOwnProperty(Me)&&yX[Me]){var Gp=yX[Me];var afv=Gp.V;if(Gp.aA&&Gp.aA.length>0){for(var Lu=0;Lu<Gp.aA.length;Lu++){if(Gp.aA[Lu].aO===T){afv=Gp.aA[Lu];}}}var bm=Fy[Me];for(var ZM=0;ZM<bm.length;ZM++){afv.bm.push(bm[ZM]);}}}}}for(var pr in yX){if(yX.hasOwnProperty(pr)){var xm=yX[pr];av.ci[xm.V.get_markID()]=xm;IV.push(xm);if(xm.aA&&xm.aA.length>0){xm.aA[xm.aA.length-1].lj=true;}else{xm.V.lj=true;}}}bC.resolve(IX);if(jf!==undefined){jf.addMarks(IV);}else{av.getActiveMarkupLayer().addMarks(IV);}av.az.trigger('MarkupLoaded',{name:IX,loadedMarks:IV});};function er(aR){bC.reject(new PCCViewer.Error("Error","Status Code "+aR.response.status+" "+aR.response.statusText));};OQ=IPCC.hH.sp(IX);if(!(/^[\x00-\x7F]*$/.test(av.aV.get_documentIdentifier()))){aq=av.bk.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+av.bk.documentID+'&AnnotationID=e'+OQ;}else{aq=av.bk.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(av.bk.documentID)+'&AnnotationID=u'+encodeURIComponent(IX);}PCCViewer.Ajax.fE({method:'GET',url:aq,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(fd,er);});return cd;};function ain(context,message){var kA=document.createElement('div'),Cj=document.createElement('div'),mf=document.createElement('button'),UD=function(){kA.classList.add('open');},Qu=function(){if(kA.parentNode!==null){kA.parentNode.removeChild(kA);}};mf.innerHTML='&#215;';mf.setAttribute('type','button');Cj.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';kA.className='pccPageListNagModal';kA.appendChild(mf);kA.appendChild(Cj);context.cY.appendChild(kA);UD();if(!mf.addEventListener){mf.attachEvent('onclick',Qu);}else{mf.addEventListener('click',Qu,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this;try{var T=0,JE=0;var zB='';var aq=this.bk.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bk.documentID)+'&AnnotationID=u'+encodeURIComponent(zB);var fd=function(ah){var sy;if(typeof ah.responseText!=='unknown'&&ah.responseText.length>0){try{sy=JSON.parse(ah.responseText);}catch(e){}}var SP=[],JE=0;for(var T=0,di=sy.annotationFiles.length;T<di;T++){if(sy.annotationFiles[T].annotationLabel){SP[JE]={};SP[JE].name=sy.annotationFiles[T].annotationLabel;JE++;}}bC.resolve(SP);};var er=function(aR){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(aR&&aR.response){var hX=aR.response.status;var lX;try{lX=JSON.parse(aR.response.responseText);}catch(e){}if(hX===480&&lX&&lX.errorCode==='LicenseCouldNotBeVerified'){ain(F,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(lX.errorCode,"License error.");}}bC.reject(error);};PCCViewer.Ajax.fE({method:'GET',url:aq}).then(fd,er);}catch(e){bC.reject(new PCCViewer.Error("Error",e.message));}return cd;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.nd){this.nd=new PCCViewer.MarkupLayerCollection(this);}return this.nd;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var bC=PCCViewer.Deferred(),cd=bC.getPromise(),aq,anP=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aV.get_documentIdentifier()))){aq=this.bk.imageHandlerUrl+'/MarkupLayers/e'+this.bk.documentID+'/';}else{aq=this.bk.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bk.documentID)+'/';}if(metadata){var ayT=anP(metadata);aq+=ayT;}aq+='?nocache='+new Date().getTime();PCCViewer.Ajax.fE({url:aq,method:'GET'}).then(function fd(ah){var axe=JSON.parse(ah.responseText);bC.resolve(axe);},function er(aR){bC.reject(aR.error);});return cd;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.CG;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.nd.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.CG=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var ZX,F=this;ZX=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.Zo,options||{});function yM(){setTimeout(function(){ZX.Eu();},20);};function lW(){F.az.off(PCCViewer.EventType.PageCountReady,lW);yM();};if(this.nj===false){F.az.on(PCCViewer.EventType.PageCountReady,lW);}else{yM();}return ZX;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var bC=PCCViewer.Deferred();var cd=bC.getPromise();var F=this;if(typeof id!=='string'|| !id){bC.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return cd;}var dS=this.nd?this.nd.getItem(id):undefined;if(!dS){bC.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cd;}function awj(pg){var OO=dS.getMarks();if(!OO.length){pg(undefined,[]);}else{F.serializeMarks(OO).then(function hk(bz){pg(undefined,IPCC.K.map(bz,function(C){if(C.conversation&&C.conversation.comments){delete C.conversation.comments;}return C;}));},function _f(fC){pg(fC);});}};function axb(pg){var OO=dS.getMarks();var Zw=function(fl,fQ,kU){var Sz=IPCC.K.filter(fQ,function(pq){return!pq.jf||pq.jf===dS;});IPCC.K.forEach(Sz,function(dJ){var aK=eh.Comment(dJ);aK.markUid=kU;fl.push(aK);});return fl;};var SK=IPCC.K.reduce(OO,function(fl,C){var cX=C.getConversation();var fQ=cX.getComments();return fQ.length?Zw(fl,fQ,C.getUid()):fl;},[]);pg(undefined,SK);};function atU(pg){var aEH=IPCC.K.reduce(F.nd.getAll(),function(fl,alI){return fl.concat(dS===alI?[]:alI.getMarks());},[]);var Zw=function(fl,fQ,kU){var Sz=IPCC.K.filter(fQ,function(pq){return pq.jf===dS;});IPCC.K.forEach(Sz,function(pq){var aK=eh.Comment(pq);aK.markUid=kU;fl.push(aK);});return fl;};var SK=IPCC.K.reduce(aEH,function(fl,C){var cX=C.getConversation();var fQ=cX.getComments();return fQ.length?Zw(fl,fQ,C.getUid()):fl;},[]);pg(undefined,SK);};var adK=[],aFe=function(qp){if(qp.markupLayer===dS){adK.push({text:qp.text,data:qp.data,creationDateTime:qp.creationDateTime,markUid:qp.markUid});}};for(var afm in this.nd.ia){if(this.nd.ia.hasOwnProperty(afm)){IPCC.K.forEach(this.nd.ia[afm],aFe);}}var Ar={layerRecordId:dS.getRecordId(),name:dS.getName(),originalXmlName:dS.getOriginalXmlName(),comments:adK,data:eh.Data(dS)};var wK;IPCC.K.Ui([function(mD){awj(function(da,dk){if(da&& !wK){wK=da;}else{Ar.marks=dk;}mD();});},function(mD){axb(function(da,dk){if(da&& !wK){wK=da;}else{Ar.comments=Ar.comments.concat(dk);}mD();});},function(mD){atU(function(da,dk){if(da&& !wK){wK=da;}else{Ar.comments=Ar.comments.concat(dk);}mD();});}],function(){if(!wK){aub(Ar);}else{bC.reject(new PCCViewer.Error('SerializationError',wK.message));}});function aub(aFr){var yT,fZ={method:'POST',body:JSON.stringify(Ar),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(F.aV.get_documentIdentifier()))){yT=F.bk.imageHandlerUrl+'/MarkupLayers/e'+F.bk.documentID+'/';}else{yT=F.bk.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(F.bk.documentID)+'/';}if(dS.getRecordId()){fZ.url=yT+dS.getRecordId();fZ.headers['X-HTTP-Method-Override']='PUT';}else{fZ.url=yT;}PCCViewer.Ajax.fE(fZ).then(fd,er);};function fd(ah){if(ah.responseText&&typeof ah.responseText==='string'){var lX;try{lX=JSON.parse(ah.responseText);}catch(e){}if(lX&&lX.layerRecordId){dS.Zb=lX.layerRecordId;}}bC.resolve({layerRecordId:dS.getRecordId()});};function er(aR){var error=new PCCViewer.Error("AjaxError",aR.error.message||'An unknown server error occurred.');if(aR&&aR.response){var hX=aR.response.status;var lX;try{lX=JSON.parse(aR.response.responseText);}catch(e){}if(hX===480&&lX&&lX.errorCode==='LicenseCouldNotBeVerified'){ain(F,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(lX.errorCode,'License error.');}}bC.reject(error);};return cd;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var jB={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var II;var afN;var Su;var aHS=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){II=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){II=burnOptions.marks;}jB={marks:II};}else{jB.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:jB.burnSignatures;jB.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:jB.burnRedactions;jB.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:jB.burnAnnotations;}if(typeof burnOptions.filename==='string'){jB.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var Ny,JR=true;for(Ny=0;Ny<burnOptions.removeFormFields.length;Ny++){if(burnOptions.removeFormFields[Ny]!=='acroform'){JR=false;}}if(JR){jB.removeFormFields=['acroform'];}else{jB.lO={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{jB.lO={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{jB.lO={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){jB.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{jB.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{jB.lO={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){jB.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{jB.lO={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var zv=new PCCViewer.BurnRequest(jB),F=this;if(II){var fD=[];for(var T=0,di=this.getPageCount();T<di;T++){fD[T]=[];}fD=IPCC.K.reduce(II,function(bz,bo){var bL=bo.getPageNumber()-1;if(!(typeof bo==='object'&&bo instanceof PCCViewer.Mark&&bo.V)){zv.XL(new Error('The burnOptions.marks parameter is an invalid object.'));return bz;}if(!F.getMarkById(bo.ds)){zv.XL(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bz;}bz[bL].push(bo.V);if(bo.V.bm){for(var T=0,di=bo.V.bm.length;T<di;T++){if(bo.V.bm[T]instanceof IPCC.Web.UI.Mark){bz[bL].push(bo.V.bm[T]);}}}if(bo.aA){for(var aL=0,azY=bo.aA.length;aL<azY;aL++){bz[bL+1+aL].push(bo.aA[aL]);if(bo.aA[aL].bm){for(var dE=0,aCl=bo.aA[aL].bm.length;dE<aCl;dE++){if(bo.aA[aL].bm[dE]instanceof IPCC.Web.UI.Mark){bz[bL+1+aL].push(bo.aA[aL].bm[dE]);}}}}}return bz;},fD);Su={EC:fD,tu:true};}else{Su={includeAnnotations:jB.burnAnnotations,includeRedactions:jB.burnRedactions,includeSignatures:jB.burnSignatures,tu:true};}function ajs(){ZY(F,Su,function(da,afN){if(da){setTimeout(function(){zv.XL(da);},20);}else{zv.Oz({aV:F.aV,bk:F.bk});zv.aBd(afN);setTimeout(function(){zv.Eu();},20);}});};function lW(){F.az.off(PCCViewer.EventType.PageCountReady,lW);ajs();};if(this.nj===false){F.az.on(PCCViewer.EventType.PageCountReady,lW);}else{ajs();}return zv;};SingleSessionViewerControl.prototype.convertDocument=function(Av){var wm,F=this,An={targetExtension:'pdf',filename:'document'},bk={};pU.qK(bk,An,Av);bk.Aq=1;wm=new PCCViewer.ConversionRequest(bk);function yM(){wm.Oz({aV:F.aV,bk:F.bk});setTimeout(function(){wm.Eu(bk);},20);};function lW(){F.az.off(PCCViewer.EventType.PageCountReady,lW);yM();};if(this.nj===false){F.az.on(PCCViewer.EventType.PageCountReady,lW);}else{yM();}return wm;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(Av){var wm,F=this,An={targetExtension:'pdf',filename:'document'},bk={};pU.qK(bk,An,Av);bk.Aq=2;wm=new PCCViewer.ConversionRequest(bk);function yM(){wm.Oz({aV:F.aV,bk:F.bk});setTimeout(function(){wm.Eu(bk);},20);};function lW(){F.az.off(PCCViewer.EventType.PageCountReady,lW);yM();};if(this.nj===false){F.az.on(PCCViewer.EventType.PageCountReady,lW);}else{yM();}return wm;};SingleSessionViewerControl.prototype.loadAttachments=function(){var bC=PCCViewer.Deferred();var cd=bC.getPromise();try{var T=0,JE=0;var zB='';var aq=this.bk.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bk.documentID)+'/Attachments';var aAN=function(ah){var Hy=JSON.parse(ah.responseText);if(Hy===null||Hy.status!=='complete'){setTimeout(ajr,500);return;}bC.resolve(Hy.attachments||[]);};var er=function(aR){bC.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var ajr=function(){PCCViewer.Ajax.fE({method:'GET',url:aq}).then(aAN,er);};ajr();}catch(e){bC.reject(new PCCViewer.Error("Error",e.message));}return cd;};function sD(){return function(sender,eventArgs){var F=this;var C=F.ci[eventArgs.mark.get_markID()];if(F.vw){F.CG.addMarks(C);}setTimeout(function(){if(C){F.az.trigger('MarkCreated',{mark:C,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function asD(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setThickness(bS.getThickness());C.setColor(bS.getColor());C.setOpacity(bS.getOpacity());C.setEndHeadType(bS.getEndHeadType());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function ajz(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setBorderThickness(bS.getBorderThickness());C.setFillColor(bS.getFillColor());C.setBorderColor(bS.getBorderColor());C.setOpacity(bS.getOpacity());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function awq(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;},onAdded:sD()};};function awV(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;if(C.nH){C.setReasons(bS.getReasons());}else{C.setReason(bS.getReason());}C.setBorderThickness(bS.getBorderThickness());C.setFillColor(bS.getFillColor());C.setBorderColor(bS.getBorderColor());C.setFontColor(bS.getFontColor());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function avy(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setBorderThickness(bS.getBorderThickness());C.setFillColor(bS.getFillColor());C.setBorderColor(bS.getBorderColor());C.setOpacity(bS.getOpacity());C.setFontName(bS.getFontName());C.setFontColor(bS.getFontColor());C.setFontSize(bS.getFontSize());C.setFontStyle(bS.getFontStyle());C.setHorizontalAlignment(bS.getHorizontalAlignment());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function Zr(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setFontName(bS.getFontName());C.setFontColor(bS.getFontColor());C.setText(bS.getText());if(C.setFontSize){C.setFontSize(bS.getFontSize());}PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function atK(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;if(bS.getType()===PCCViewer.MouseTool.Type.StampAnnotation){C.setColor(bS.getColor());}C.setLabel(bS.getLabel());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};var aHr;function NU(bS){return{onCreating:function(aC,R){},onAdded:sD()};};function asI(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setThickness(bS.getThickness());C.setColor(bS.getColor());C.setOpacity(bS.getOpacity());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function akl(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setImage(bS.getImage());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};function avR(bS){return{onCreating:function(aC,R){var C=new PCCViewer.Mark({type:bS.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bk.enableMultipleRedactionReasons});this.ci[R.mark.get_markID()]=C;C.setThickness(bS.getThickness());C.setColor(bS.getColor());C.setOpacity(bS.getOpacity());PCCViewer.Data.ox(bS,C);PCCViewer.Conversation.pL(bS.getConversation(),C.getConversation());},onAdded:sD()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var yS;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:yS=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:yS=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.as&&this.as.set_markHandleMode){this.as.set_markHandleMode(yS);}else{this.bk.markHandleMode=yS;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var yS;if(this.as&&this.as.get_markHandleMode){yS=this.as.get_markHandleMode();}else{yS=this.bk.markHandleMode;}if(yS===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.oC=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.oC;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var Xr,ael=(conversations===undefined);function aii(cX,aN){throw new Error(cX+((aN!==undefined)?' (Array index '+aN+')':'')+' is not a valid PCCViewer.Conversation object.');};function awc(cX,aN){throw new Error(cX+((aN!==undefined)?' (Array index '+aN+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Xr=[conversations];}else if(conversations instanceof Array){Xr=conversations;}else if(!ael){aii(conversations);}var amk=IPCC.K.map(this.getAllMarks(),function(bo){return bo.getConversation();});var VU=IPCC.K.map(Xr||amk,function(bo,T){if(!(bo instanceof PCCViewer.Conversation)){aii(bo,T);}if(!ael&& !IPCC.K.inArray(amk,bo)){awc(bo,T);}return bo.getMark().ds;});this.as.refreshConversations(VU);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.eJ===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.as.openCommentsPanel();var F=this;setTimeout(function(){F.az.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.eJ===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.as.closeCommentsPanel();var F=this;setTimeout(function(){F.az.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eJ===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.as.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eJ===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.as.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var kM=conversation.getMark();if(kM){var xo=kM.V.get_conversation();this.as.set_selectedConversation(xo);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.eJ===false){return null;}var ig=this.as.get_selectedConversation();if(ig){var kM=this.ci[ig.get_mark().get_markID()];if(kM){return kM.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var F=this,zk=F.bj;function akU(aO,nQ,cE){var SX=[aO+1];var aw=F.dq.getPage(aO),eD=aw.cC();if(eD.oV()){var bx=eD.Co(),afq=bx.substr(nQ);if(afq.length>cE){return SX;}else{return SX.concat(akU(aO+1,0,cE-afq.length));}}else{return SX;}};this.as.wH();function Eq(UK,bL){F.afY(bL,UK);};if(zk&&zk.getResults().length){var dH=akU(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),ec=zk.getResults(),ahl=false,Pw={};if(ec.length){IPCC.K.forEach(ec,function(bo){var apY=IPCC.K.contains(dH,bo.bL);if(apY){ahl=true;Pw[bo.bL]=Pw[bo.bL]||[];Pw[bo.bL].push(bo);}});}if(ahl){IPCC.K.forEach(Pw,function(UK,bL){F.requestPageText(bL).then(Eq.bind(null,UK,bL));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eJ===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var xG=function(n){return typeof n==='number'&& !isNaN(n);};var vT,adW=true;if(points&&points.constructor===Array){vT=points;}else{vT=[points];adW=false;}var adO=function(bF,aN,bd){throw new PCCViewer.Error('InvalidArgument',bF+' (Array index '+aN+') does not have a valid '+bd+' property');};if(vT.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.K.forEach(vT,function(bF,aN){if(!xG(bF.x)){adO(bF,aN,'x');}if(!xG(bF.y)){adO(bF,aN,'y');}});var BJ=this.as.aCN(pageNumber,vT);if(BJ===null){return null;}else if(adW){return BJ;}else{return BJ[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.eJ===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var F=this;var as=F.as;var Yb=as.Ev();if(!Yb){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Yb==='singleline'){as.JS();}else if(Yb==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return F;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var F=this;F.adR=amount;if(this.eJ===false){this.rz.then(function(rv){var as=F.as;as.Fv(amount);});}else{var as=F.as;as.Fv(amount);}return F;};SingleSessionViewerControl.prototype.getSharpening=function(){var F=this;if(this.eJ===false){return F.adR;}else{var as=F.as;return as.axK();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var F=this;F.agi=amount;if(this.eJ===false){this.rz.then(function(rv){var as=F.as;as.FB(amount);});}else{var as=F.as;as.FB(amount);}return F;};SingleSessionViewerControl.prototype.getGamma=function(){var F=this;if(this.eJ===false){return F.agi;}else{var as=F.as;return as.ayv();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var F=this;F.lV=amount;if(this.eJ===false){this.rz.then(function(rv){F.as.ET(amount);});}else{F.as.ET(amount);}return F;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var F=this;if(this.eJ===false){return F.lV;}else{var as=F.as;return as.ayU();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.bj;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var Jj=function(){},hX={aiC:0,apx:1,Kh:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.K.un(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var F=this;this.hX=hX.aiC;this.bk=viewerControl.aD.bk;this._debug= ! !this.bk.debug;this.aFd="Single";this.HE=[];this.qA={};if(!this.dA){this.dA=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bQ=domElement;if(viewerControl.aD.nj){F.hX=hX.Kh;F.BU(viewerControl.getPageCount());F.WA(F.bQ);}else{F.hX=hX.apx;F.BU(1,0);var HH=function(){viewerControl.off('PageCountReady',HH);F.BU(viewerControl.getPageCount(),1);F.WA(F.bQ);};viewerControl.on('PageCountReady',HH);}viewerControl.on('PageRotated',function(aM){IPCC.K.forEach(F.qA,function(ap){if(ap.aO===(aM.pageNumber-1)){if(ap.xU===true){F.Wn(ap);}}});});viewerControl.on('DocumentRotated',function(aM){IPCC.K.forEach(F.qA,function(ap){if(ap.xU===true){F.Wn(ap);}});});viewerControl.on('ViewingSessionChanging',function(aM){F.ajK();F.Xb([]);});viewerControl.on('ViewingSessionChanged',function(aM){F.bk=viewerControl.aD.bk;if(viewerControl.aD.nj){F.BU(viewerControl.getPageCount());}else{F.BU(1,0);var HH=function(){viewerControl.off('PageCountReady',HH);F.BU(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',HH);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.dA;};ThumbnailControl.prototype.BU=function(eL,hf){hf=hf||0;var F=this,HJ=document.createDocumentFragment();for(var i=hf;i<eL;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var et=document.createElement('div');et.className='pccThumbnail';var qN=document.createElement('div');qN.className='pccThumbnailView';qN.id='pcc-thumbnailPage-'+i+'-'+IPCC.Ct();et.appendChild(qN);_parent.appendChild(et);HJ.appendChild(_parent);F.qA[i]={Vl:_parent,cZ:et,qN:qN,aO:i,aJ:{},xU:false,kt:0,lq:0,hC:0};}IPCC.K.forEach(F.qA,function(ap){var abw=document.createElement('div'),ug=document.createElement('span'),aBr=document.createTextNode(ap.aO+1);abw.className='pccThumbnailLabel';ug.appendChild(aBr);abw.appendChild(ug);ap.cZ.appendChild(abw);ap.cZ.onclick=function(){F.Xb([ap.aO+1]);};});F.bQ.appendChild(HJ);this.Wj();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.hX){return[];}return[].concat(this.HE);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.hX){return this;}var eL=this.dA.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.K.forEach(pageNumbers,function(gT,T){if(isNaN(gT)){throw new Error(gT+' (array index '+T+') is not a number');}if(gT<1||gT>eL){throw new Error(gT+' (array index '+T+') is out of range');}});this.Xb([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var gT=Number(pageNumber);if(gT!==(gT|0)||gT<1||gT>this.dA.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var mw=false,F=this,bk=options||{};IPCC.K.forEach(this.qA,function(ap){if(mw){return;}if(ap.aO+1===gT){mw=true;F.UY(ap,undefined,! !bk.forceAlignTop);}});return this;};ThumbnailControl.prototype.UY=function(ap,kR,apA){kR=kR||IPCC.K.WR(this.bQ.getBoundingClientRect());var tE=IPCC.K.WR(ap.Vl.getBoundingClientRect());if(tE.top>kR.top&&tE.bottom<kR.bottom){return;}var alh=window.getComputedStyle?getComputedStyle(ap.Vl):ap.Vl.currentStyle,gM;if(tE.top<kR.top||apA){gM=tE.top-kR.top+this.bQ.scrollTop-parseInt(alh.marginTop,10);}else if(tE.bottom>kR.bottom){gM=tE.bottom-kR.top-kR.height+this.bQ.scrollTop+parseInt(alh.marginBottom,10);}if(gM!==undefined){this.bQ.scrollTop=gM;}return this;};ThumbnailControl.prototype.Xb=function(ll){if(IPCC.K.anK(this.HE,ll)){return this;}var VO='pcc-thumbnail-selected',Gu=new RegExp(VO),VN=false,adH=[].concat(ll),aat=adH.shift(),afd=false,kR=IPCC.K.WR(this.bQ.getBoundingClientRect()),F=this;IPCC.K.forEach(this.qA,function(ap){if(ap.aO===aat-1){IPCC.K.ald(ap.cZ,VO);VN=true;aat=adH.shift()||0;if(!afd){afd=true;F.UY(ap,kR);}return;}if(Gu.test(ap.cZ.className)){IPCC.K.ajp(ap.cZ,VO);VN=true;}});this.HE=ll;if(VN){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.HE)});}return this;};ThumbnailControl.prototype.axV=function(){var cB=this.Qc(),F=this,wX;IPCC.K.forEach(cB,function(ap){if(!wX&&IPCC.K.inArray(F.HE,ap.aO+1)){wX=ap;}});if(!wX){wX=cB[0];}return wX;};ThumbnailControl.prototype.reflow=function(){if(!this.hX){return this;}var Dv,Es,bD,bf,PW,Sj,hC,wX=this.axV();IPCC.K.forEach(this.qA,function(ap){if(ap.xU){ap.cZ.style.height=ap.qN.style.height='';ap.cZ.style.width=ap.qN.style.width='';}});IPCC.K.forEach(this.qA,function(ap){if(ap.xU&&ap.aJ.fI()){Dv=ap.cZ.offsetWidth;Es=ap.cZ.offsetHeight;hC=ap.aJ.ayN();if(Math.abs(hC)===90||Math.abs(hC)===270){bf=ap.aJ.kl();bD=ap.aJ.iM();}else{bD=ap.aJ.kl();bf=ap.aJ.iM();}PW=bD/bf;Sj=Dv/Es;var kt,lq;if(PW<Sj){lq=Es;kt=Math.floor(lq*bD/bf);}else{kt=Dv;lq=Math.floor(kt*bf/bD);}ap.kt=kt;ap.lq=lq;}});IPCC.K.forEach(this.qA,function(ap){if(ap.xU&&ap.aJ&&ap.aJ.fI()){ap.qN.style.height=ap.lq+'px';ap.qN.style.width=ap.kt+'px';ap.aJ.Xn(IPCC.Web.UI.FitType.FullImage);ap.aJ.cG();}});if(wX){this.UY(wX);}this.Wj();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.hX){return this;}this.hX=hX.aiC;this.ajK();this.on=this.off=this.trigger=Jj;this.jv={};};ThumbnailControl.prototype.ajK=function(){IPCC.K.forEach(this.qA,function(ap){if(ap.aJ&&ap.aJ.dispose){ap.aJ.dispose();}});while(this.bQ.firstChild){this.bQ.removeChild(this.bQ.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.hX){return[];}var cB=this.Qc();return IPCC.K.map(cB,function(ap){return ap.aO+1;});};ThumbnailControl.prototype.Qc=function Qc(){var auC=this.bQ.getBoundingClientRect(),tE;function Ye(kR,OA){return(!(OA.top>=kR.bottom||OA.left>=kR.right||OA.bottom<=kR.top||OA.right<=kR.left));};return IPCC.K.filter(this.qA,function(ap){tE=ap.cZ.getBoundingClientRect();return Ye(auC,tE);});};ThumbnailControl.prototype.Wj=function(){var F=this,cB=F.Qc();IPCC.K.forEach(cB,function(ap){if(!ap.xU){ap.aJ=F.iR(ap);ap.xU=true;}});return this;};ThumbnailControl.prototype.WA=function WA(cZ){var NT={},F=this;function awF(am,wF,nV){if(NT[am]){clearTimeout(NT[am]);NT[am]=undefined;}NT[am]=setTimeout(wF,nV||0);};IPCC.Web.UI.bb.addHandler(cZ,'scroll',function(ev){awF('scroll',function(){F.Wj();},300);});};ThumbnailControl.prototype.iR=function(ap,mD){var F=this;mD=mD||Jj;var bu={documentIdentifier:F.bk.documentID,pageNumber:ap.aO,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:F.bk.imageHandlerUrl,encryption:F.bk.encryption,handleTouchEvents:false};var aJ=IPCC.initializePageViewPlugin(ap.qN,bu);aJ.set_debug(F._debug);aJ.set_mouseTool(IPCC.Web.UI.MouseTool.None);var yg=false;function Fr(){mD();};aJ.add_pageOpened(function(){F.Wn(ap);});aJ.add_pageDisplayed(function(){if(!yg){Fr();}});aJ.add_textPageReady(function(){if(yg){aJ.cG();Fr();}});aJ.add_pageOpenFailed(function(){});aJ.add_textExtractionFailed(function(){});var aD=F.dA.aD;bu.artPage=aD.as.hq(aD.dq.getPage(ap.aO));bu.artPage.BW(function(C){if(C.get_type()===608){yg=true;}});aJ.avs(bu);aJ.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aJ;};ThumbnailControl.prototype.Wn=function(ap){var F=this;var aD=F.dA.aD;var BO=aD.as.XU(ap.aO);var hC=ap.hC;var adr=hC;if(BO!==ap.hC){adr=BO-hC;}var aJ=ap.aJ,js=ap.qN,bf,bD;if(!ap.xU|| !aJ.fI()){return;}js.style.height='';js.style.width='';if(Math.abs(BO)===90||Math.abs(BO)===270){bf=aJ.kl();bD=aJ.iM();}else{bf=aJ.iM();bD=aJ.kl();}var Dv=js.offsetWidth,Es=js.offsetHeight;if(ap.hC!==BO){aJ.rotate(adr);ap.hC=BO;}var PW=bD/bf,Sj=Dv/Es;var kt,lq;if(PW<Sj){lq=Es;kt=Math.floor(lq*bD/bf);}else{kt=Dv;lq=Math.floor(kt*bf/bD);}js.style.height=lq+'px';js.style.width=kt+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function aiU(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function avz(aDN){var au=[];var aoC=function(n){return!(isNaN(+n));};var aem=aDN.split(',');var Mr,aaW;var OY=0;var vN=0;for(var T=0;T<aem.length;T++){var HF=aem[T].split('-');var CK=HF[0].replace(/\s+/g,'');if(CK.length===0){continue;}var IE=CK;if(HF[1]!==undefined&&HF[1]!==""){IE=HF[1].replace(/\s+/g,'');}CK= +(CK);IE= +(IE);if(aoC(CK)===true){OY=parseInt(CK);}if(aoC(IE)===true){vN=parseInt(IE);}if(OY<vN){Mr=OY;aaW=vN;}else{Mr=vN;aaW=OY;}if(HF.length>1){for(var ak=Mr;ak<=aaW;ak++){au.push(ak);}}else{au.push(Mr);}}au.sort(function(a,b){return a-b;});for(T=au.length-1;T>0;T--){if(au[T-1]===au[T]){au.splice(T,1);}}return au;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var fV;if(!(selections instanceof Array)){fV=[selections];}else{fV=selections;}IPCC.K.forEach(fV,function(ce){IPCC.aF.mn(ce.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.aF.mn(ce.length,'selection.length',1,Number.MAX_VALUE);IPCC.aF.dK(ce.color,'selection.color');IPCC.aF.mn(ce.opacity,'selection.opacity',0,255);});IPCC.aF.dK(backgroundColor,'backgroundColor');var aEF=IPCC.K.acK(fV);return IPCC.K.map(aEF,function(bo){bo.length=bo.endIndex-bo.startIndex+1;return bo;});},layerColors:function(colors,backgroundColor){var QA;if(!(colors instanceof Array)){QA=[colors];}else{QA=colors;}IPCC.K.forEach(QA,function(ce){IPCC.aF.dK(ce.color,'selection.color');IPCC.aF.mn(ce.opacity,'selection.opacity',0,255);});IPCC.aF.dK(backgroundColor,'backgroundColor');return IPCC.K.amA(QA,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aiU('Illegal page range value',pageRange);}var dH=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dH.unshift(upperLimit--);}}else{dH=avz(pageRange);if((dH.length===0&& !allowEmpty)||dH[0]<lowerLimit||dH[dH.length-1]>upperLimit){throw aiU('Pages are out of range',dH.join(', '));}}return dH;}};module.exports=Util;},{}],169:[function(require,module,exports){var Di={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=Di;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var adj=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.xh=IPCC.K.extend({},options);this.aD=new adj(element,this,options);this.Nc={};return this;};ViewerControl.prototype.getPageCount=function(){return this.aD.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.aD.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.aD.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.aD.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.aD.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.aD.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.aD.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.aD.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.aD.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.aD.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.aD.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.aD.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.aD.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.aD.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.aD.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.aD.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.aD.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.aD.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.aD.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.aD.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.aD.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.aD.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.aD.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.aD.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.aD.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.aD.getPageRotation(pageNumber);}else{return this.aD.getPageRotation();}};ViewerControl.prototype.search=function(dO){return this.aD.search(dO);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.aD.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.aD.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.aD.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.aD.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(dO){return this.aD.validateSearch(dO);};ViewerControl.prototype.requestRevisions=function(){return this.aD.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.aD.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.aD.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.aD.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.aD.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.aD.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.aD.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.aD.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.aD.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.aD.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.aD.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.aD.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.aD.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.aD.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.aD.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.aD.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.aD.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.aD.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.aD.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.aD.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.aD){this.aD.destroy();}this.aD=null;this.pZ=true;};ViewerControl.prototype.getMarkById=function(markId){return this.aD.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.aD.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.aD.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.aD.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.aD.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.aD.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.aD.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.aD.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.aD.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.aD.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.aD.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.aD.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.aD.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.aD.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.aD.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.aD.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.aD.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.aD.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(C){this.aD.enterTextMarkEditingMode(C);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.aD.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.aD.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.aD.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.aD.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.aD.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.aD.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.aD.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.aD.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.aD.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.aD.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.aD.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.aD.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.aD.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(Av){return this.aD.convertDocument(Av);};ViewerControl.prototype.requestDocumentConversion=function(Av){return this.aD.requestDocumentConversion(Av);};ViewerControl.prototype.loadAttachments=function(){return this.aD.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.aD.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.aD.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.aD.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.aD.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.aD.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.aD.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.aD.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.aD.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.aD.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.aD.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.aD.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.aD.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.aD.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.aD.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.aD.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.aD.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.aD.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.aD.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.aD.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var F=this;var HC=F.aD;var cY=HC.fN;var adE=F.xh.documentID;if(F.Yd){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(F.aD.eJ===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(adE===viewingSessionId){return F;}F.Yd=true;F.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){F.Nc[adE]={control:HC,options:F.xh};HC.apD();HC.aDo();}else{HC.destroy();}if(F.Nc[viewingSessionId]){var amS=F.Nc[viewingSessionId];F.xh=amS.options;F.aD=amS.control;F.aD.aBC();F.aD.aCt();F.Yd=false;F.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(F.aD.vq){F.trigger("PageCountReady",{pageCount:F.aD.eL});}delete F.Nc[viewingSessionId];}else{F.xh=IPCC.K.extend({},F.xh);F.xh.documentID=viewingSessionId;F.aD=null;F.aD=new adj(cY,F,F.xh);F.aD.azp(function(){F.Yd=false;F.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return F;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.aD.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.aD.getPageNumber();},set:function(value){return this.aD.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aD.bj;}},"selectedSearchResult":{enumerable:true,get:function(){return this.aD.getSelectedSearchResult();},set:function(val){return this.aD.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.aD.getCurrentMouseTool();},set:function(value){return this.aD.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.aD.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.aD.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.aD.getScaleFactor();},set:function(value){return this.aD.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.aD.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.aD.getViewMode();},set:function(value){return this.aD.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.aD.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.aD.getSelectedConversation();},set:function(conversation){return this.aD.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.aD.getRedactionViewMode();},set:function(value){return this.aD.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.aD.getMarkHandleMode();},set:function(value){return this.aD.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),uh:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),azo:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),pU:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,UH:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,RG:require('./PCCViewer.ClientSearch'),FH:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),Fn:require('./PCCViewer.RevisionsRequest').Fn,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(vV){this.jv={};this.dO={};this.ec=[];this.tX=false;this.dZ=null;this.dp=null;this.Rg=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !vV,enumerable:true,get:function(){return this.dO;}},"results":{configurable: ! !vV,enumerable:true,get:function(){return this.ec;}},"isComplete":{configurable: ! !vV,enumerable:true,get:function(){return this.tX;}},"errorCode":{configurable: ! !vV,enumerable:true,get:function(){return this.dZ;}},"errorMessage":{configurable: ! !vV,enumerable:true,get:function(){return this.dp;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.dO;};SearchRequest.prototype.getResults=function(){return this.ec;};SearchRequest.prototype.getIsComplete=function(){return this.tX;};SearchRequest.prototype.getErrorCode=function(){return this.dZ;};SearchRequest.prototype.getErrorMessage=function(){return this.dp;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Rg;};SearchRequest.prototype.cancel=function(){this.qv=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.ds=0;this.bL=0;this.aS=0;this.bx='';this.pA='';this.pM=0;this.cF='';this.Bg=0;this.bI='';this.Xc='';this.mr=null;};SearchResult.prototype.getId=function(){return this.ds;};SearchResult.prototype.getPageNumber=function(){return this.bL;};SearchResult.prototype.getText=function(){return this.bx;};SearchResult.prototype.getHighlightColor=function(){return this.pA;};SearchResult.prototype.getStartIndexInPage=function(){return this.pM;};SearchResult.prototype.getContext=function(){return this.cF;};SearchResult.prototype.getStartIndexInContext=function(){return this.Bg;};SearchResult.prototype.getSearchTerm=function(){return this.bI;};SearchResult.prototype.getBoundingRectangle=function(){return this.mr;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.bL;}},"id":{enumerable:true,get:function(){return this.ds;}},"text":{enumerable:true,get:function(){return this.bx;}},"highlightColor":{enumerable:true,get:function(){return this.pA;}},"startIndexInPage":{enumerable:true,get:function(){return this.pM;}},"context":{enumerable:true,get:function(){return this.cF;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bg;}},"searchTerm":{enumerable:true,get:function(){return this.bI;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.ds=0;this.aS=0;this.bx='';this.pA='';this.pM=0;this.cF='';this.Bg=0;this.bI='';};SearchTaskResult.prototype.getId=function(){return this.ds;};SearchTaskResult.prototype.getText=function(){return this.bx;};SearchTaskResult.prototype.getHighlightColor=function(){return this.pA;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.pM;};SearchTaskResult.prototype.getContext=function(){return this.cF;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Bg;};SearchTaskResult.prototype.getSearchTerm=function(){return this.bI;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.ds;}},"text":{enumerable:true,get:function(){return this.bx;}},"highlightColor":{enumerable:true,get:function(){return this.pA;}},"startIndexInInput":{enumerable:true,get:function(){return this.pM;}},"context":{enumerable:true,get:function(){return this.cF;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bg;}},"searchTerm":{enumerable:true,get:function(){return this.bI;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 