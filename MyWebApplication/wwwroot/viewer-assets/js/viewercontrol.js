// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.16.3
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pcc-load,\n.pccPageListLoading,\n.pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccPageListLoading svg,\n.pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccPageListLoading,\n.pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var nr=function(){this.as=false;this.R=false;this.ar=IPCC.ax.AddFreehandMark;};nr.prototype.mW=function(R){this.R=R;};nr.prototype.ei=function(){this.R=false;};nr.prototype.bV=function(){if(this.as){this.J=null;this.ov=null;this.R.oD(null);this.as=false;this.R.cV();}};nr.prototype.qP=function(){this.bV();};nr.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){this.as=true;this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.J.get_points().addPoint(T.imagePoint);this.ov=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.R.oD(this.J,this.ov);this.J.set_lineWidth(this.ov.dU);this.J.set_lineColor(this.ov.ke);this.J.set_opacity(this.ov.cY);this.qT=T.imagePoint;this.nb=T.windowPoint;this.R.cV();}};nr.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){this.J.get_points().addPoint(T.imagePoint);this.R.cV();}};nr.prototype.BZ=function(T){if(this.as){this.bV();}};nr.prototype.kn=function(T){if(this.as&&T.domEvent.button===0){this.J.get_points().addPoint(T.imagePoint);var anx=this.J.get_points();var bg=[];var gh=Number.MAX_VALUE,iU=0,_top=Number.MAX_VALUE,iS=0;var H=0;for(H=0;H<anx.get_length();H++){var sI=anx.getPoint(H);if(sI.x<gh){gh=sI.x;}if(sI.x>iU){iU=sI.x;}if(sI.y<_top){_top=sI.y;}if(sI.y>iS){iS=sI.y;}bg.push({x:sI.x,y:sI.y});}var zE=3;var sM;var qx=(bg.length<zE)?bg:IPCC.F.filter(bg,function(ak){if(sM){var bB=ak.x-sM.x,cc=ak.y-sM.y,fr=bB*bB+cc*cc;if(Math.sqrt(fr)<4){return false;}}ak.x=ak.x-gh;ak.y=ak.y-_top;sM=ak;return true;});if(qx.length<zE){qx=[bg[0],bg[bg.length-1]];}var bW='';sM=undefined;if(qx.length<zE){bW+=this.PB(qx);}else{bW='M'+IPCC.F.bspline(qx);bW=bW.replace(/\d*\.?\d*/g,function(aI){var HF=aI.indexOf('.');if(aI.length&&HF>0){return aI.substr(0,HF+3);}else if(aI!==""){return aI;}else{return aI;}});}var bQ=iU-gh;var aD=iS-_top;if(aD===0&&bQ===0){this.bV();return;}var pw={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.ov.set_rectangle({x:gh,y:_top,width:bQ,height:aD});this.ov.set_pathString(bW);this.ov.set_pathWidth(bQ);this.ov.set_pathHeight(aD);this.R.oD(null);this.R.eN().addMark(this.ov,pw);this.R.cV();}this.bV();};nr.prototype.PB=function(zW,Gc){var Ub=(Gc&&IPCC.F.BP)?'m':'M';var abH=(Gc&&IPCC.F.BP)?'l':'L';return IPCC.F.map(zW,function(ak,H){if(H===0){return Ub+ak.x+','+ak.y;}else{return abH+ak.x+','+ak.y;}}).join('');};nr.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};nr.prototype.na=function(){this.bV();};module.exports=nr;},{}],13:[function(require,module,exports){var lP=function(){this.as=false;this.R=false;this.ar=IPCC.ax.AddLineMark;};lP.prototype.mW=function(R){this.R=R;};lP.prototype.ei=function(){this.R=false;};lP.prototype.bV=function(){if(this.as){this.J=null;this.R.oD(null);this.as=false;this.R.cV();}};lP.prototype.qP=function(){this.bV();};lP.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){this.as=true;this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.J.get_points().setPoint(0,T.imagePoint);this.J.get_points().setPoint(1,T.imagePoint);this.R.oD(this.J);this.qT=T.imagePoint;this.nb=T.windowPoint;}};lP.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){this.J.get_points().setPoint(1,T.imagePoint);this.R.cV();}};lP.prototype.kn=function(T){if(this.as&&T.domEvent.button===0){var fJ=T.windowPoint.x-this.nb.x;var fQ=fJ*fJ;fJ=T.windowPoint.y-this.nb.y;fQ+=fJ*fJ;if(fQ>25){var R=this.R;var pw={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.J.get_points().setPoint(1,T.imagePoint);this.R.oD(null);this.R.eN().addMark(this.J,pw);R.cV();}}this.bV();};lP.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};lP.prototype.na=function(){this.bV();};module.exports=lP;},{}],14:[function(require,module,exports){var lz=function(bm){this.as=false;this.R=false;this.bm=bm;switch(this.bm){case IPCC.Web.UI.MarkType.Polygon:this.ar=IPCC.ax.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.ar=IPCC.ax.AddPolylineMark;this.Tk=false;break;}};lz.prototype.mW=function(R){this.R=R;};lz.prototype.ei=function(){this.R=false;};lz.prototype.bV=function(){if(this.as){if(arguments[0]){if(arguments[0]===true){if(this.J&&this.Tk===false){this.R.eN().addMark(this.J);this.Tk=true;this.R.cV();}}}this.J=null;this.R.oD(null);this.as=false;this.R.cV();}};lz.prototype.qP=function(){this.bV();};lz.prototype.kw=function(T){if(T.domEvent.button===0){if(!this.as){this.as=true;this.J=new IPCC.Web.UI.Mark(this.bm);this.J.get_points().addPoint(T.imagePoint);this.R.oD(this.J);}var bg=this.J.get_points();if(bg.get_length()>0){bg.setPoint(bg.get_length()-1,T.imagePoint);}bg.addPoint(T.imagePoint);this.qT=T.imagePoint;this.nb=T.windowPoint;this.R.cV();}else{this.bV();}};lz.prototype.BZ=function(T){if(this.as&&T.domEvent.button===0){var bg=this.J.get_points(),cB=bg.get_length(),RO,SG;if(cB>2){var acj=true;while(acj){cB=bg.get_length();RO=bg.getPoint(cB-1);SG=bg.getPoint(cB-2);if(RO.x===SG.x&&RO.y===SG.y){bg.removePoint(cB-1);}else{acj=false;}}}if(bg.get_length()>0){bg.setPoint(bg.get_length()-1,T.imagePoint);}this.R.oD(null);var pw={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.R.eN().addMark(this.J,pw);this.Tk=true;this.R.cV();}this.bV();};lz.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){var bg=this.J.get_points();if(bg.get_length()>0){bg.setPoint(bg.get_length()-1,T.imagePoint);}this.R.cV();}};lz.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};lz.prototype.na=function(){this.bV();};module.exports=lz;},{}],15:[function(require,module,exports){var et=function(bm){this.as=false;this.R=false;this.bm=bm;switch(this.bm){case IPCC.Web.UI.MarkType.Rectangle:this.ar=IPCC.ax.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.ar=IPCC.ax.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.ar=IPCC.ax.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.ar=IPCC.ax.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.ar=IPCC.ax.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.ar=IPCC.ax.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.ar=IPCC.ax.AddRectangleMark;break;}};et.prototype.mW=function(R){this.R=R;};et.prototype.ei=function(){this.R=false;};et.prototype.bV=function(){if(this.as){this.J=null;this.R.oD(null);this.as=false;this.R.cV();}};et.prototype.qP=function(){this.bV();};et.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){this.as=true;this.J=new IPCC.Web.UI.Mark(this.bm);this.J.set_rectangle({x:T.imagePoint.x,y:T.imagePoint.y,width:0,height:0});this.R.oD(this.J);this.qT=T.imagePoint;this.nb=T.windowPoint;}};et.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){var jO={x:Math.min(T.imagePoint.x,this.qT.x),y:Math.min(T.imagePoint.y,this.qT.y)};jO.width=Math.max(T.imagePoint.x,this.qT.x)-jO.x;jO.height=Math.max(T.imagePoint.y,this.qT.y)-jO.y;this.J.set_rectangle(jO);this.R.cV();}};et.prototype.kn=function(T){if(this.as&&T.domEvent.button===0){var fJ=T.windowPoint.x-this.nb.x;var fQ=fJ*fJ;fJ=T.windowPoint.y-this.nb.y;fQ+=fJ*fJ;if(fQ>25){var jO={x:Math.min(T.imagePoint.x,this.qT.x),y:Math.min(T.imagePoint.y,this.qT.y)};jO.width=Math.max(T.imagePoint.x,this.qT.x)-jO.x;jO.height=Math.max(T.imagePoint.y,this.qT.y)-jO.y;this.R.oD(null);this.J.set_rectangle(jO);var ab=this.J;var R=this.R;var pw={clientX:T.domEvent.clientX,clientY:T.domEvent.clientY};this.R.eN().addMark(this.J,pw);if(ab.hS()===IPCC.Web.UI.MarkType.Text||ab.hS()===IPCC.Web.UI.MarkType.TextLine||ab.hS()===IPCC.Web.UI.MarkType.TextAreaSignature){R.wy(ab);}R.cV();}}this.bV();};et.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};et.prototype.na=function(){this.bV();};module.exports=et;},{}],16:[function(require,module,exports){var cj={};var aoR=require('./ArtUIDirector');var LB=require('./ArtSVGUIDirector');cj.uH={Ke:function(){var tu=IPCC.cj.uH;if(tu.tL===null){
/*@cc_on@if(@_jscript)tu.tL=document.documentMode>8;@else@*/ tu.tL=true;/*@end@*/}return tu.tL;},tL:null};cj.Bn=1;cj.cg=aoR;cj.LB=LB;module.exports=cj;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var amf=function(){};amf.prototype={aqf:function(R,aL,aA){this.R=R;this.bJ=R.bM();this.aL=aL;this.ea=aA.width;this.eU=aA.height;this.HT=aA.fS;this.aFi=aA.gj;aL.EI=this.dr('g');this.cI(aL.EI,{'fill-opacity':1});aL.zD.appendChild(aL.EI);},apL:function(C){var iQ='',h,K=this;switch(C.J.get_type()){case IPCC.Web.UI.MarkType.Rectangle:C.ay=this.dr('rect');if(C.J.ko()&&C.J.get_opacity()===255){C.ay.addEventListener("mouseover",function(T){if(C.J.get_selected()===false&&C.ay&&(T.which===0||T.buttons===0)){C.ay.style.opacity=127/255;}},false);C.ay.addEventListener("mouseout",function(T){if(C.ay&&(T.which===0||T.buttons===0)){C.ay.style.opacity=C.J.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:iQ="highlighttextannotation-"+C.J.jW();C.ay=this.dr('g');C.jc=this.dr('g');C.ay.appendChild(C.jc);C.lb=this.dr('g');C.lb.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.lb);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iQ="texthyperlinkannotation-"+C.J.jW();C.ay=this.dr('g');C.ay.style.cursor=IPCC.ax.ew(IPCC.ax.Link);C.jc=this.dr('g');C.ay.appendChild(C.jc);C.lb=this.dr('g');C.lb.style.opacity=IPCC.cj.cg.ahm();C.lb.style.fill="blue";C.lb.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.lb);C.kc=this.dr('g');C.kc.style.stroke="blue";C.kc.style.opacity=IPCC.cj.cg.Gs(false);C.kc.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.kc);C.ay.addEventListener("mouseover",function(T){if(C.kc){C.kc.style.opacity=IPCC.cj.cg.Gs(true,C.J.get_selected());}},false);C.ay.addEventListener("mouseout",function(T){if(C.kc){C.kc.style.opacity=IPCC.cj.cg.Gs(false,C.J.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:iQ="documenthyperlink-"+C.J.jW();C.ay=this.dr('g');C.ay.style.cursor=IPCC.ax.ew(IPCC.ax.Link);C.h=this.dr('rect');C.h.style['fill-opacity']=IPCC.cj.cg.ahm();if(C.J.Pv!=='Underline'){C.h.style.stroke=C.J.ke;C.h.style['stroke-width']=C.J.dU+'px';C.h.style['stroke-opacity']=(C.J.dU===0)?0:C.J.sR/255;if(C.J.Pv==='Dashed'){C.h.style['stroke-dasharray']=C.J.zR.join(', ');}C.h.setAttribute('rx',C.J.Jf);C.h.setAttribute('ry',C.J.Ij);}else{C.vh=this.dr('line');C.vh.style.stroke=C.J.ke;C.vh.style['stroke-opacity']=C.J.sR/255;C.vh.style['stroke-width']=C.J.dU+'px';C.ay.appendChild(C.vh);}C.h.style.fill='transparent';C.h.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.h);break;case IPCC.Web.UI.MarkType.RectangleRedaction:iQ="textmark-"+C.J.jW();C.ay=this.dr('g');C.eB=this.dr('rect');C.hk=this.dr('g');C.hk.setAttribute('data-pcc-mark',iQ);if(IPCC.F.tJ.azx){C.hk.style.cursor='pointer';}C.xE=document.createTextNode('');if(document.documentMode>8||IPCC.F.tJ.Co){C.cX=this.dr('text');C.cX.setAttribute('data-pcc-mark',iQ);C.cX.appendChild(C.xE);C.An=this.dr('clipPath');C.DO=this.dr('rect');C.hk.appendChild(C.An);C.An.appendChild(C.DO);C.hk.appendChild(C.cX);C.Gp="PCC"+IPCC.cj.Bn;IPCC.cj.Bn++;this.cI(C.An,{id:C.Gp,clipPathUnits:"userSpaceOnUse"});h=C.J.get_rectangle();this.cI(C.DO,{x:0,y:0,width:h.width,height:h.height,"data-pcc-mark":iQ});var acc=function(T){if(C.J.get_selected()===false&&C.eB&&(T.which===0||T.buttons===0)){if(K.R.oP()===false){C.ay.style.opacity=0.2;C.cX.style.opacity=0;}}};C.ay.addEventListener("mouseover",function(T){acc(T);},false);C.hk.addEventListener("mouseover",function(T){acc(T);},false);C.hk.addEventListener("mouseout",function(T){if(C.eB&&(T.which===0||T.buttons===0)){if(K.R.oP()===false){C.ay.style.opacity=1;C.cX.style.opacity=1;}}},false);C.ay.addEventListener("mouseout",function(T){if(C.eB&&(T.which===0||T.buttons===0)){if(K.R.oP()===false){C.ay.style.opacity=1;C.cX.style.opacity=1;}}},false);}else{C.pd=document.createElement('div');this.cI(C.pd,{"data-pcc-mark":iQ});C.pd.appendChild(C.xE);C.Rn=document.createElement('div');this.cI(C.Rn,{"data-pcc-mark":iQ});C.Rn.appendChild(C.pd);C.us=document.createElement('body');this.cI(C.us,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iQ});C.us.appendChild(C.Rn);C.EP=this.dr('foreignObject');C.EP.appendChild(C.us);C.hk.appendChild(C.EP);C.us.addEventListener("mouseover",function(T){if(C.J.get_selected()===false&&C.eB&&(T.which===0||T.buttons===0)){C.eB.style.opacity=0.2;C.pd.style.opacity=0;}},false);C.us.addEventListener("mouseout",function(T){if(C.eB&&(T.which===0||T.buttons===0)){if(K.R.oP()===false){C.eB.style.opacity=1;C.pd.style.opacity=1;}}},false);}C.ay.appendChild(C.eB);break;case IPCC.Web.UI.MarkType.Ellipse:C.ay=this.dr('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:C.ay=this.dr('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:C.ay=this.dr('g');C.jc=C.ay;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:C.ay=this.dr('g');C.ub=this.dr('polyline');C.Ys=this.dr('path');C.UC=this.dr('path');C.ay.appendChild(C.ub);C.ay.appendChild(C.Ys);C.ay.appendChild(C.UC);C.ub.setAttribute('stroke-linejoin','miter');C.ub.setAttribute('stroke-linecap','butt');C.ub.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:C.ay=this.dr('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:iQ="textmark-"+C.J.jW();C.ay=this.dr('g');C.Jh=this.dr('polygon');C.ub=this.dr('path');C.XR=this.dr('path');C.hk=this.dr('g');C.ay.appendChild(C.Jh);C.ay.appendChild(C.ub);C.ay.appendChild(C.XR);this.cI(C.Jh,{style:'stroke:none;'});C.hk.setAttribute('data-pcc-mark',iQ);C.xE=document.createTextNode('');if(document.documentMode>8||IPCC.F.tJ.Co){C.cX=this.dr('text');C.cX.setAttribute('data-pcc-mark',iQ);C.cX.appendChild(C.xE);C.An=this.dr('clipPath');C.DO=this.dr('rect');C.hk.appendChild(C.An);C.An.appendChild(C.DO);C.aln=this.dr('g');C.hk.appendChild(C.aln);C.hk.appendChild(C.cX);C.Gp="PCC"+IPCC.cj.Bn;IPCC.cj.Bn++;this.cI(C.An,{id:C.Gp,clipPathUnits:"userSpaceOnUse"});h=C.J.get_rectangle();this.cI(C.DO,{x:0,y:0,width:h.width,height:h.height,"data-pcc-mark":iQ});}else{C.pd=document.createElement('div');C.pd.appendChild(C.xE);C.us=document.createElement('body');this.cI(C.us,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":iQ});C.us.appendChild(C.pd);C.EP=this.dr('foreignObject');C.EP.appendChild(C.us);C.hk.appendChild(C.EP);}C.Jh.setAttribute('data-pcc-mark',iQ);break;case IPCC.Web.UI.MarkType.Stamp:C.ay=this.dr('g');C.uf=this.dr('rect');C.uf.style='fill:rgba(255, 255, 255, 0);stroke:none;';C.eB=this.dr('rect');C.JR=this.ZE(C);C.ay.appendChild(C.uf);C.ay.appendChild(C.eB);C.ay.appendChild(C.JR);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:C.ay=this.dr('g');C.uf=this.dr('rect');C.uf.style='fill:rgba(255, 255, 255, 0);stroke:none;';C.eB=this.dr('rect');C.aie=this.aqr(C);C.aie.setAttribute('data-pcc-mark',"mark-"+C.J.jW());C.ay.appendChild(C.uf);C.ay.appendChild(C.eB);C.ay.appendChild(C.aie);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var J=C.J;var aeu=J.ey();var bQ=aeu.width;var aD=aeu.height;var Ky=J.get_pathWidth();var Jv=J.get_pathHeight();var vq=J.get_pathString();var gV=IPCC.F.AY.Path(vq,{width:bQ,height:aD,multiplier:100,thickness:J.get_lineWidth(),color:J.get_lineColor()});var fw=IPCC.F.AY.SVG('0 0 '+Ky+' '+Jv,100);var aH=IPCC.F.AY.Rect(Ky,Jv,'fill:rgba(255, 255, 255, 0);stroke:none;');fw.appendChild(aH);fw.appendChild(gV);C.ay=fw;C.aoT=gV;C.abE=aH;this.aeT(C.ay,J.jh);break;case IPCC.Web.UI.MarkType.SignatureText:C.ay=this.dr('g');C.eB=this.dr('rect');C.eB.style='fill:rgba(255, 255, 255, 0);stroke:none;';C.JR=this.ZE(C);C.ay.appendChild(C.eB);C.ay.appendChild(C.JR);C.J.iL=false;break;case IPCC.Web.UI.MarkType.TextLine:C.ay=this.dr('g');C.eB=this.dr('rect');C.eB.style='fill:rgba(255, 255, 255, 0);stroke:none;';C.JR=this.ZE(C);C.ay.appendChild(C.eB);C.ay.appendChild(C.JR);break;case IPCC.Web.UI.MarkType.Strikethrough:iQ="strikethroughannotation-"+C.J.jW();C.ay=this.dr('g');C.jc=this.dr('g');C.ay.appendChild(C.jc);C.lb=this.dr('g');C.lb.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.lb);C.yc=this.dr('g');C.yc.setAttribute('data-pcc-mark',iQ);C.ay.appendChild(C.yc);break;}C.ay.ImGearMarkRelation=C;C.ay.setAttribute('data-pcc-mark',"mark-"+C.J.jW());this.aL.EI.appendChild(C.ay);if(C.hk){C.hk.ImGearMarkRelation=C;this.aL.EI.appendChild(C.hk);}this.aea(C);},ZE:function(C){var J=C.J;var EK=J.aY;if(!EK){EK=J.dR[0];if(!EK){if(J.get_type()===IPCC.Web.UI.MarkType.Stamp){EK="APPROVED";}else{EK="";}}}var h=J.ey();C.cX=this.dr('text');C.Gp="PCC"+IPCC.cj.Bn;IPCC.cj.Bn++;var lC=document.createTextNode(EK);C.cX.setAttribute("font-size","22px");if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){C.cX.setAttribute("style",'white-space:pre;');}switch(C.J.jh){case IPCC.Web.UI.HorizontalAlignment.Left:C.cX.setAttribute('text-anchor','start');C.cX.setAttribute('x',h.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:C.cX.setAttribute('text-anchor','end');C.cX.setAttribute("x",h.x+h.width);break;default:C.cX.setAttribute('text-anchor','middle');C.cX.setAttribute("x",h.x+(h.width/2));break;}C.cX.setAttribute('y',h.y+(h.height/2));C.cX.appendChild(lC);return C.cX;},aqr:function(C){var J=C.J;C.aiY=document.createElementNS('http://www.w3.org/2000/svg','svg');C.xc=document.createElementNS('http://www.w3.org/2000/svg','image');C.xc.setAttribute('id','childimg');C.xc.setAttributeNS('http://www.w3.org/1999/xlink','href',J.get_image());C.aiY.appendChild(C.xc);return C.aiY;},aqP:function(C,jh){var J=C.J;var h=J.ey();var aY=J.aY;var FL=aY.split('\n');var cX=C.cX;var ZV=0;var ZG=0;var aaq=0;var vj=0;var alu=0;var agA=this.HT/72;var aaV=J.cG*agA;var vs=[];var aBj=/(.*\s)(.*)/;var lC,jj,LF,Cv,_parent,aeR,HZ,Jb,abL,yw,amn,Dc;aeR=cX.childNodes.length;if(aeR>=1){_parent=cX.parentNode;HZ=this.dr('text');HZ.setAttribute('data-pcc-mark',C.hk.getAttribute('data-pcc-mark'));HZ.setAttribute('width',C.hk.getAttribute('width')-C.J.dU);_parent.replaceChild(HZ,cX);C.cX=HZ;C.cX.appendChild(C.xE);C.hk.appendChild(C.cX);cX={};cX=C.cX;}cX.style.fontSize=J.cG*this.HT/72+'px';cX.style.fontFamily=J.hu;cX.width-=4;Jb=(J.dU/2);if(jh){switch(jh){case IPCC.Web.UI.HorizontalAlignment.Center:Jb=(h.width/2)-(J.dU/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Jb=h.width-J.dU;break;}}for(var H=0;H<FL.length;H++){yw='';amn=1;if(FL[H].length>0){LF=FL[H].split('');jj=this.dr('tspan');jj.setAttributeNS(null,"x",Jb);if(H>0){jj.setAttributeNS(null,"dy",aaV*(aaq+1));}lC=window.document.createTextNode(LF[0]);jj.appendChild(lC);cX.appendChild(jj);for(var aU=1;aU<LF.length;aU++){alu=jj.firstChild.data.length;Cv=LF[aU];jj.firstChild.data+=LF[aU];yw+=Cv;abL=yw.length*(J.cG*agA);ZV=jj.getComputedTextLength();if(ZV===0){ZG=abL;}else{ZG=ZV;}if(ZG>=(h.width-J.dU-2)){amn++;yw='';Dc=jj.firstChild.data.match(aBj);if(Dc){Cv=Dc[2];}if(Dc&&Dc[1].length>0){jj.firstChild.data=Dc[1];yw+=Cv;}else{jj.firstChild.data=jj.firstChild.data.slice(0,alu);yw+=Cv;}if(yw.length>=1){vs.push({am:vj,afL:jj});jj=this.dr('tspan');jj.setAttributeNS(null,"x",Jb);jj.setAttributeNS(null,"dy",aaV);lC=window.document.createTextNode(Cv);jj.appendChild(lC);cX.appendChild(jj);}}}if(jj.firstChild.data.length>0){vs.push({am:vj,afL:jj});}vj+=jj.firstChild.data.length+1;aaq=0;}else{aaq++;}}return vs;},aCO:function(lp,aeL,jc,vj){if(lp.length>0){var alX=aeL.getNumberOfChars();if(lp[0].am>vj+alX){return;}for(var H=Math.max(lp[0].am-vj,0);H<alX;H++){var h=aeL.getExtentOfChar(H);var aH=this.dr('rect');this.cI(aH,{x:h.x,y:h.y,width:h.width,height:h.height,fill:lp[0].EA});jc.appendChild(aH);if(lp[0].ct===H+vj){lp.shift();if(lp.length===0){return;}H=lp[0].am-vj-1;}}}},Dp:function(cN,sb,rq){var gV='M',H;for(H=0;H<sb.length;H++){if(H>0){gV+=' L';}gV+=sb[H].x+','+sb[H].y;}if(rq){gV+='Z';}this.cI(cN,{d:gV});},Vk:function(cN,sb,rq){var PJ='',H;for(H=0;H<sb.length;H++){if(H>0){PJ+=' ';}PJ+=sb[H].x+','+sb[H].y;}if(rq&&sb.length>2){PJ+=' '+sb[0].x+','+sb[0].y;}this.cI(cN,{points:PJ});},aeI:function(gf,jI,AJ,sU,zx,YZ,Ho){var dc=this.asK(gf,jI,AJ,sU,zx);var fo='';fo+='stroke:'+YZ+';';switch(zx){case IPCC.Web.UI.LineHeadType.None:fo='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Dp(Ho,[dc.Fu,gf,dc.EZ],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Dp(Ho,[dc.Fu,gf,dc.EZ],true);fo+='fill:'+YZ+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Dp(Ho,[dc.Fu,gf,dc.EZ],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Dp(Ho,[dc.Fu,gf,dc.EZ,dc.JA],true);fo+='fill:'+YZ+';';break;}this.cI(Ho,{style:fo});return dc;},awg:function(C){var J=C.J;var bg,gw,H,abn,ahJ,jx='',EY;bg=J.get_points();gw=[];for(H=0;H<bg.get_length();H++){gw.push(bg.getPoint(H));}if(gw.length<2||J.rq){this.cI(C.Ys,{style:'display:none;'});this.cI(C.UC,{style:'display:none;'});}else{J.Ae=J.ke;EY=this.agT(gw,true);abn=this.aeI(EY.gf,EY.jI,J.JF,J.IR,J.Ig,J.Ae,C.Ys);EY=this.agT(gw,false);ahJ=this.aeI(EY.gf,EY.jI,J.Hx,J.HG,J.mk,J.Ae,C.UC);gw[0]=abn.JA;gw[gw.length-1]=ahJ.JA;}this.Vk(C.ub,gw,J.rq);var wM=this.Vu(J.jx);if(wM!==''){jx+='stroke-dasharray:'+wM+';';}this.cI(C.ub,{style:jx});},aco:function(C){var BH=this.asd(C);this.Vk(C.Jh,BH.akq,false);var akB='',jx='fill:none;',rj='fill:none;';if(BH.Zh){akB='stroke:none;';}if(BH.Xl){this.Dp(C.ub,BH.Xl,false);}else{jx+='display:none;';}if(BH.MQ){this.Dp(C.XR,BH.MQ,false);}else{rj+='display:none;';}var J=C.J;if(J.zP){rj+='stroke:'+J.Ee+';stroke-width:'+J.DB+';';var wM=this.Vu(J.rj);if(wM!==''){rj+='stroke-dasharray:'+wM+';';}}this.cI(C.ub,{style:jx});this.cI(C.XR,{style:rj});this.cI(C.Jh,{style:akB});},aaH:function(C){var J=C.J,Dw;if(!J){return;}var h=J.ey();var FS=J.cG*this.HT/72;J.FS=FS;var sf=h.width,qL=h.height,Jn=false,fJ;var gp,eR=0,eg=0;var uK=1;if(J.iL){uK+=J.dU/2;}switch(J.zN){case IPCC.Web.UI.Orientation.TopLeft:gp='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:gp='-1,0,0,1';eR=sf-uK;break;case IPCC.Web.UI.Orientation.BottomRight:gp='-1,0,0,-1';eR=sf-uK;eg=qL-uK;break;case IPCC.Web.UI.Orientation.BottomLeft:gp='1,0,0,-1';eg=qL-uK;break;case IPCC.Web.UI.Orientation.LeftTop:gp='0,1,1,0';Jn=true;break;case IPCC.Web.UI.Orientation.RightTop:gp='0,1,-1,0';eR=sf-uK;Jn=true;break;case IPCC.Web.UI.Orientation.RightBottom:gp='0,-1,-1,0';eR=sf-uK;eg=qL-uK;Jn=true;break;case IPCC.Web.UI.Orientation.LeftBottom:gp='0,-1,1,0';eg=qL-uK;Jn=true;break;}if(J.fF==="#c0c0c0"){J.fF='#ffffff';}if(J.get_type()===IPCC.Web.UI.MarkType.Text){if(J.ko()===true){J.fF='#ffffff';}else{J.set_opacity(J.cY);}}if(Jn){fJ=sf;sf=qL;qL=fJ;}if(sf<0){sf=0;}if(qL<0){qL=0;}var Vq='normal';var dv='normal';var nk='';var sZ;nk+='word-wrap:break-word;background-color:transparent;line-height:1;';var za=0;if(J.ql.length===7&&J.ql.charAt(0)==='#'){za=parseInt(J.ql.slice(1),16);}var cY=Math.min(1,Math.max(0,J.zK/255));if(document.documentMode>8||IPCC.F.tJ.Co){dv='normal';if(J.dv&IPCC.Web.UI.FontStyle.Italic){dv='italic';}Vq='normal';if(J.dv&IPCC.Web.UI.FontStyle.Bold){Vq='bold';}sZ='none';if((J.dv&IPCC.Web.UI.FontStyle.Underline)&&(J.dv&IPCC.Web.UI.FontStyle.Strikeout)){sZ='underline line-through';}else if(J.dv&IPCC.Web.UI.FontStyle.Underline){sZ='underline';}else if(J.dv&IPCC.Web.UI.FontStyle.Strikeout){sZ='line-through';}}else{nk+='color:rgba('+(za>>16)+','+((za>>8)&255)+','+(za&255)+','+cY+');';nk+='font-family:'+J.hu+';';nk+='font-size:'+FS+'px;';if(J.dv&IPCC.Web.UI.FontStyle.Italic){nk+='font-style:italic;';}if(J.dv&IPCC.Web.UI.FontStyle.Bold){nk+='font-weight:bold;';}if((J.dv&IPCC.Web.UI.FontStyle.Underline)&&(J.dv&IPCC.Web.UI.FontStyle.Strikeout)){nk+='text-decoration:underline line-through;';}else if(J.dv&IPCC.Web.UI.FontStyle.Underline){nk+='text-decoration:underline;';}else if(J.dv&IPCC.Web.UI.FontStyle.Strikeout){nk+='text-decoration:line-through;';}}var Gd={x:2,anchor:'start'};switch(J.jh){case IPCC.Web.UI.HorizontalAlignment.Left:nk+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:nk+='text-align:center;';Gd.x=(h.width/2)-3;Gd.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:nk+='text-align:right;';Gd.x=h.width-8;Gd.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.F.tJ.Co){switch(J.wK){case IPCC.Web.UI.VerticalAlignment.Center:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.cI(C.Rn,{style:'display:table; width: 100%;'});nk+='display: table-cell; white-space: normal; vertical-align: middle; height:'+qL+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cI(C.pd,{style:nk+'padding:2px;'});this.cI(C.hk,{transform:'matrix('+gp+','+(eR+h.x+(J.dU/2))+','+(eg+h.y+(J.dU/2))+')',});this.cI(C.EP,{x:0,y:0,width:sf>J.dU?sf-J.dU:sf,height:qL>J.dU?qL-J.dU:qL,});this.ayN(C);}else{var vs=this.aqP(C,J.jh);var amI=vs.length;switch(J.wK){case IPCC.Web.UI.VerticalAlignment.Center:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Dw=(h.height/2)+(J.cG/4);if(amI>1){Dw-=(amI-1)*(J.cG/2);}if(Dw<0){Dw=J.cG;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.cI(C.DO,{x:0,y:0,width:h.width-J.dU,height:h.height-J.dU});var asR="url(#"+C.Gp+")";var WB={x:Gd.x,y:(this.HT/72)*J.cG,width:h.width-J.dU,height:h.height-J.dU,'font-family':J.hu,'font-size':FS,fill:'rgba('+(za>>16)+', '+((za>>8)&255)+', '+(za&255)+', '+cY+')','font-weight':Vq,'font-style':dv,'text-decoration':sZ,'text-anchor':Gd.anchor};if(typeof Dw!=='undefined'){delete WB.y;WB.dy=Dw;}this.cI(C.cX,WB);C.cX.style.opacity=cY;this.cI(C.hk,{transform:'matrix('+gp+','+(eR+h.x+(J.dU/2))+','+(eg+h.y+(J.dU/2))+')','clip-path':asR});var jc=C.aln;while(jc&&jc.firstChild){jc.removeChild(jc.firstChild);}if(J.eQ){var lp=this.afe(J.eQ);for(var H=0;H<vs.length;H++){this.aCO(lp,vs[H].afL,jc,vs[H].am);}}}},abx:function(C){var J=C.J;if(J.al===null||J.al===undefined){return;}if(J.al.length===0&&J.dp>0&&this.R.cn().oj()){J.al=IPCC.F.YT(this.R.cn().fX(),J.am,J.am+J.dp-1);}if(!C.am|| !C.dp||C.am!==J.am||C.dp!==J.dp||J.cz===false||J.cz===true){while(C.lb.firstChild){C.lb.removeChild(C.lb.firstChild);}if(C.kc){while(C.kc.firstChild){C.kc.removeChild(C.kc.firstChild);}}if(C.yc){while(C.yc.firstChild){C.yc.removeChild(C.yc.firstChild);}}if(J.cz===false){return;}IPCC.F.forEach(C.J.al,function(hz){var Yy=this.dr('rect');C.lb.appendChild(Yy);this.cI(Yy,{x:hz.x,y:hz.y,width:hz.width,height:hz.height});if(C.kc){var vh=this.dr('line');this.cI(vh,{x1:hz.x,y1:hz.y+hz.height-1,x2:hz.x+hz.width,y2:hz.y+hz.height-1,"stroke-width":2});C.kc.appendChild(vh);}if(C.yc){Yy.setAttribute('fill','transparent');var acm=this.dr('line');var strikethroughY=hz.y+(hz.height/2);this.cI(acm,{x1:hz.x,y1:strikethroughY,x2:hz.x+hz.width,y2:strikethroughY,stroke:C.J.ke,"stroke-width":C.J.dU});C.yc.appendChild(acm);}},this);C.am=J.am;C.dp=J.dp;}},aea:function(C){var J=C.J;if(!J){return;}var ay=C.ay;var h,fo='',bg,iL=true,mJ,vK,wF,Xt,tU,Eh;var kW=false;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:kW=true;this.awg(C);break;case IPCC.Web.UI.MarkType.Rectangle:h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.abx(C);C.lb.style.fill=J.fF;C.lb.style.opacity=(J.cY/255);this.Ro(C);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.abx(C);C.lb.style.fill=J.fF;C.kc.style.stroke=J.fF;if(C.J.get_selected()){C.kc.style.opacity=IPCC.cj.cg.Gs(false,C.J.get_selected());}else{C.kc.style.opacity=IPCC.cj.cg.Gs(false,C.J.get_selected());}this.Ro(C);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:h=J.get_rectangle();this.cI(C.h,{x:h.x,y:h.y,width:h.width,height:h.height});if(C.vh){this.cI(C.vh,{x1:h.x,y1:h.y+h.height,x2:h.x+h.width,y2:h.y+h.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof C.eB!=='undefined'){if(this.R.oP()===true){C.eB.style.opacity=0.2;if(typeof C.pd!=='undefined'){C.pd.style.opacity=0;}else{C.cX.style.opacity=0;}}else{C.eB.style.opacity=1;if(typeof C.pd!=='undefined'){C.pd.style.opacity=1;}}}h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});this.cI(C.eB,{x:h.x,y:h.y,width:h.width,height:h.height});if(this.R.oP()===false){this.aaH(C);}break;case IPCC.Web.UI.MarkType.Ellipse:h=J.get_rectangle();this.cI(ay,{cx:h.x+h.width/2,cy:h.y+h.height/2,rx:h.width/2,ry:h.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bg=this.Vh(J);this.Vk(ay,bg,false);fo+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.aco(C);this.aaH(C);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var cr=IPCC.F.ajC();var rS=IPCC.F.aix();rS.nodeValue=J.get_text();var ia=J.ia;var aV=this.R.pq().jn();h=J.get_rectangle();cr.style.width=(h.width-J.dU/2)+'px';cr.style.height=(h.height-J.dU/2)+'px';cr.style.fontFamily=J.hu;cr.style.padding='2px';cr.style.fontStyle=J.dv;J.cG=IPCC.F.VD(cr,ia,aV)*72/this.HT;this.aco(C);this.aaH(C);break;case IPCC.Web.UI.MarkType.Stamp:h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});this.cI(C.uf,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});C.uf.style.opacity=1;this.cI(C.eB,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':J.fF,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(h.width/6);if(textFontSize>h.height){textFontSize=(h.height-(h.height/6));}mJ=C.J.get_text();if(!mJ){mJ='APPROVED';}C.cX.childNodes[0].data=mJ;var ta=mJ.length*textFontSize;if(ta>h.width){textFontSize=((h.width/mJ.length));}Eh=Math.round(textFontSize);J.stampSize=Eh.toString();this.cI(C.cX,{x:h.x+(h.width/2),y:h.y+(h.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':J.fF,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});this.cI(C.uf,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});C.uf.style.opacity=1;this.cI(C.eB,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':J.fF,'stroke-width':'0','fill':'none'});C.xc.setAttribute('height',h.height);C.xc.setAttribute('width',h.width);C.xc.setAttribute('x',h.x);C.xc.setAttribute('y',h.y);C.xc.setAttributeNS('http://www.w3.org/1999/xlink','href',J.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Ro(C);break;case IPCC.Web.UI.MarkType.Highlight:h=J.get_rectangle();if(h.x===0&&h.y===0){var ga=this.R.cn().fX();if(ga.fE()>0){var eZ=ga.kQ(J.am);h=eZ.bq;}J.ka='y';}this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});var RU=C.aoT;if(J.anp===true){J.anp=false;RU.setAttribute("d",J.get_pathString());var Ky=J.get_pathWidth();var Jv=J.get_pathHeight();ay.setAttribute('viewBox','0 0 '+Ky+' '+Jv);C.abE.setAttribute('width',Ky);C.abE.setAttribute('height',Jv);}if(J.get_visible()){C.ay.style.display='block';}else{C.ay.style.display='none';}this.aeT(C.ay,J.jh);RU.style.stroke=J.get_lineColor();RU.style.strokeWidth=J.get_lineWidth()+'px';RU.style.opacity=J.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});this.cI(C.eB,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});C.eB.style.opacity=1;var aqI=C.J.get_text()||"";C.cX.childNodes[0].data=aqI;vK=12*h.width/(J.zS||1);wF=12*h.height/(J.Aw||1);tU=Math.min(vK,wF);var aCn=Math.floor(tU);J.stampSize=aCn.toString();switch(J.jh){case IPCC.Web.UI.HorizontalAlignment.Left:C.cX.setAttribute('text-anchor','start');C.cX.setAttribute('x',h.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:C.cX.setAttribute('text-anchor','end');C.cX.setAttribute("x",h.x+h.width);break;default:C.cX.setAttribute('text-anchor','middle');C.cX.setAttribute("x",h.x+(h.width/2));break;}this.cI(C.cX,{y:h.y+(h.height/2+(tU/3)),'font-size':tU,'stroke':"none",'fill':J.get_fillColor(),'font-family':J.get_fontName()});if(J.get_visible()){C.ay.style.display='block';}else{C.ay.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.cI(ay,{style:'fill:none;opacity:1;'+J.cz?'display:block;':'display:none;'});h=J.get_rectangle();this.cI(ay,{x:h.x,y:h.y,width:h.width,height:h.height});fo='stroke:'+(J.iL?'black':'none')+';stroke-width:1;';this.cI(C.eB,{x:h.x,y:h.y,width:h.width,height:h.height,'stroke':J.iL?'black':'none','fill':'rgba(255, 255, 255, 0)','style':fo});C.cX.style.opacity=1;mJ=C.J.get_text()||"";C.cX.childNodes[0].data=mJ;Xt=IPCC.F.aiw(mJ,J.get_fontName(),h.width,h.height,{wL:"pre",fw:C.ay});tU=Xt.fontSize;J.FS=tU;J.stampSize=tU;J.IQ=true;J.pm=Xt;switch(J.jh){case IPCC.Web.UI.HorizontalAlignment.Center:C.cX.setAttribute('text-anchor','middle');C.cX.setAttribute("x",h.x+(h.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:C.cX.setAttribute('text-anchor','end');C.cX.setAttribute("x",h.x+h.width);break;default:C.cX.setAttribute('text-anchor','start');C.cX.setAttribute('x',h.x);break;}this.cI(C.cX,{y:h.y+(h.height/2+(tU/3)),'font-size':tU,'stroke':"none",'fill':J.get_textColor(),'font-family':J.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.abx(C);this.Ro(C);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',J.get_type());}if(J.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&J.get_type()!==IPCC.Web.UI.MarkType.Freehand&&J.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&J.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&J.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&J.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&J.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&J.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(kW){fo+='fill:none;';}else{if(J.IL){fo+='fill:'+J.fF+';';}else{fo+='fill:none;';}iL=J.iL;var wM=this.Vu(J.jx);if(wM!==''){fo+='stroke-dasharray:'+wM+';';}}if(iL){fo+='stroke:'+J.get_lineColor()+';';fo+='stroke-width:'+J.dU+';';}else{fo+='stroke:none;';}if(J.get_type()===IPCC.Web.UI.MarkType.SignatureText){fo+='opacity:'+1+';';}else{fo+='opacity:'+(J.cY/255)+';';}if(!J.cz){fo+='display:none;';if(C.hk){C.hk.style.display='none';}}else{if(C.hk){C.hk.style.display='block';}}this.cI(ay,{style:fo});}if(J.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!J.cz){fo+='display:none;';}else{fo+='display:block;';}this.cI(ay,{style:fo});}var ar;if(!this.R.get_areMarksEditable()){ar=this.R.get_cursor();}else if(J.mX===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&J.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&J.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){ar='default';}else if(J.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||J.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){ar=IPCC.ax.Link;}else if(J.get_type()!==IPCC.Web.UI.MarkType.Highlight&&J.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&J.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&J.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap)){ar=IPCC.ax.Move;}else{ar=IPCC.ax.Arrow;}ay.style.cursor=IPCC.ax.ew(ar);if(C.hk){C.hk.style.cursor=IPCC.ax.ew(ar);}},aeT:function(ay,Ge){switch(Ge){case IPCC.Web.UI.HorizontalAlignment.Left:ay.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:ay.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:ay.setAttribute('preserveAspectRatio','xMaxYMid');break;}},Ro:function(C){var J=C.J,azd=J.get_visible();var h=J.get_rectangle();if(h.x===0&&h.y===0){return;}var jc=C.jc;while(jc.firstChild){jc.removeChild(jc.firstChild);}var iy;for(var H=0;H<J.eQ.length;H++){for(var aU=0;aU<J.eQ[H].length;aU++){var acV=this.R.cn().fX();if(acV.fE()>0){var asT=acV.kQ(J.eQ[H].startIndex+aU);iy=asT.bq;}var aH=this.dr('rect');this.cI(aH,{x:iy.x,y:iy.y,width:iy.width,height:iy.height,fill:J.eQ[H].color,display:(azd)?'block':'none'});aH.style.opacity=(J.eQ[H].opacity)?(J.eQ[H].opacity)/255.0:0.5;jc.appendChild(aH);}}},Vu:function(jx){switch(jx){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Qc:function(C){if(C.ay){this.aL.EI.removeChild(C.ay);}if(C.hk){this.aL.EI.removeChild(C.hk);}delete C.ay;},aJQ:function(){},aFV:function(){this.aL=undefined;},dr:function(bn){return document.createElementNS('http://www.w3.org/2000/svg',bn);},cI:function(ay,aJ){var H;for(H in aJ){if(aJ.hasOwnProperty(H)){var attr=aJ[H];ay.setAttribute(H,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=amf;},{}],18:[function(require,module,exports){var LB=require('./ArtSVGUIDirector');var cg=LB;cg.Gs=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};cg.ahm=function(){return 39/255;};cg.aGN=function(isSelected){return isSelected?"purple":"blue";};cg.prototype.asK=function(gf,jI,AJ,sU,zx){var dc={gf:gf,jI:jI,AJ:AJ,sU:sU,zx:zx};if(gf.x===jI.x&&gf.y===jI.y){dc.zx=IPCC.Web.UI.LineHeadType.None;}var Lz=Math.atan2(gf.x-jI.x,-(gf.y-jI.y))+Math.PI/2;AJ*=Math.PI/180;var ih=Lz+AJ;dc.Fu={x:gf.x+Math.cos(ih)*sU,y:gf.y+Math.sin(ih)*sU};ih=Lz-AJ;dc.EZ={x:gf.x+Math.cos(ih)*sU,y:gf.y+Math.sin(ih)*sU};switch(dc.zx){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:dc.JA={x:(dc.Fu.x+dc.EZ.x)/2,y:(dc.Fu.y+dc.EZ.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:dc.JA={x:gf.x+Math.cos(Lz)*sU/2,y:gf.y+Math.sin(Lz)*sU/2};break;default:dc.JA=gf;break;}return dc;};cg.prototype.asd=function(C){var J=C.J;var h=J.get_rectangle();var JQ={x:J.mv.x+h.x+0.00001,y:J.mv.y+h.y+0.00001};var aa={};var gJ=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}];if(!J.yV){aa.akq=gJ;aa.Zh= !J.iL;return aa;}var H,ach=[];for(H=0;H<4;H++){ach.push({x:(gJ[H].x+gJ[(H+3)%4].x)/2,y:(gJ[H].y+gJ[(H+3)%4].y)/2,aAn:true});}for(H=3;H>=0;H--){gJ.splice(H,0,ach[H]);}function aiE(OC){var xr,acN;xr=(JQ.x-(gJ[OC].x+gJ[(OC+1)%8].x)/2)*h.height;acN=xr*xr;xr=(JQ.y-(gJ[OC].y+gJ[(OC+1)%8].y)/2)*h.width;return acN+xr*xr;};var TL=0,alO=aiE(0),fQ;for(H=1;H<8;H++){fQ=aiE(H);if(fQ<alO){alO=fQ;TL=H;}}gJ=gJ.slice(TL+1).concat(gJ.slice(0,TL+1));var CK=gJ[0],Cb=gJ[7];for(H=gJ.length-1;H>=0;H--){if(gJ[H].aAn){gJ.splice(H,1);}}switch(J.DX){case IPCC.Web.UI.CalloutType.Triangle:gJ.splice(0,0,{x:(CK.x*3+Cb.x)/4,y:(CK.y*3+Cb.y)/4});gJ.push({x:(CK.x+Cb.x*3)/4,y:(CK.y+Cb.y*3)/4});if(J.zP){aa.Zh=true;aa.Xl=[].concat(gJ);aa.MQ=[gJ[0],JQ,gJ[gJ.length-1]];}gJ.push(JQ);break;default:case IPCC.Web.UI.CalloutType.Line:aa.MQ=[{x:(CK.x+Cb.x)/2,y:(CK.y+Cb.y)/2},JQ];break;}aa.akq=gJ;if(!J.iL){aa.Zh=true;delete aa.Xl;delete aa.MQ;}return aa;};cg.prototype.Vh=function(J){var bg=J.get_points();var gw=[],H;for(H=0;H<bg.get_length();H++){gw.push(bg.getPoint(H));}return gw;};cg.prototype.agT=function(gw,aCb){var ba=0,QX=1,aeo=gw.length-2,gf,jI;if(!aCb){ba=gw.length-1;QX= -1;}gf=gw[ba];ba+=QX;jI=gw[ba];ba+=QX;while(gf.x===jI.x&&gf.y===jI.y&&aeo>0){jI=gw[ba];ba+=QX;aeo--;}return{gf:gf,jI:jI};};cg.prototype.acY=function(R,aL,bD,kF){if(IPCC.F.Zx){return;}if(!aL.mp){aL.mp=[];}var mp=aL.mp;if(bD.length<1&&mp.length<1){if(aL.zr.firstChild){aL.zr.innerHTML='';}return;}var aB=R.eN();var eC=aB.yK();if(this.gl===undefined){this.gl=40;var yU=document.createElement("div");yU.className='pccMarkHandleTopLeft';yU.visibility='hidden';document.body.appendChild(yU);if(yU.currentStyle){this.gl=parseInt(yU.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aBu=document.defaultView.getComputedStyle(yU);this.gl=parseInt(aBu.width,10)||0;}document.body.removeChild(yU);}var H,HU=[];for(H=0;H<bD.length;H++){if(bD[H].get_visible()===true){if(eC.Ia(bD[H])>=0||(bD[H].get_selected()===true&&(bD[H].kI===true||bD[H].jJ===true))||bD[H].vv===true){HU.push(bD[H]);}}}for(H=0;H<mp.length;H++){while(H<mp.length&&(H>=HU.length||mp[H].J!==HU[H])){aL.zr.removeChild(mp[H].gi);mp.splice(H,1);}if(H<mp.length){this.adh(mp[H],kF);}}for(H=mp.length;H<HU.length;H++){mp[H]={J:HU[H]};this.aqh(aL.zr,mp[H]);this.adh(mp[H],kF);}};cg.prototype.vY=function(gi,aqQ,Bg,vf,aFv,ar,ds){var dg=[],H,ck;if(ds===undefined){ds='handle';}for(H=0;H<aqQ;H++){ck={ay:document.createElement('div')};ck.ay.ImGearMarkHandle=ck;ck.ar=ar;ck.bn=vf;ck.ba=aFv+H;gi.appendChild(ck.ay);ck.ay.setAttribute('data-pcc-mark',ds+'-'+gi.ImGearMarkRelation.J.jW());dg.push(ck);}return dg;};cg.prototype.awd=function(cJ){if(cJ.dg===undefined||this.R.get_areMarksEditable()===false){return;}var H;for(H=0;H<cJ.dg.length;H++){var ck=cJ.dg[H];ck.ay.style.cursor=IPCC.ax.ew(ck.ar);}};cg.prototype.aqh=function(zr,cJ){cJ.gi=document.createElement('div');cJ.gi.style.width='0px';cJ.gi.style.height='0px';cJ.gi.style.left='0px';cJ.gi.style.top='0px';cJ.gi.style.zIndex='1';var H,J=cJ.J,ck;cJ.gi.ImGearMarkRelation=cJ;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cJ.dg=this.vY(cJ.gi,2,this.gl,this.FY,0,IPCC.ax.Move);cJ.dg=cJ.dg.concat(this.vY(cJ.gi,2,this.gl,this.GB,0,IPCC.ax.Move));break;case IPCC.Web.UI.MarkType.Polygon:cJ.dg=[];break;case IPCC.Web.UI.MarkType.Freehand:cJ.dg=[];cJ.ib=document.createElement('div');cJ.ib.style.border='1px solid gray';cJ.ib.style.position='absolute';cJ.gi.appendChild(cJ.ib);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap!==undefined){break;}cJ.ib=document.createElement('div');cJ.ib.style.border='1px solid gray';cJ.ib.style.position='absolute';cJ.gi.appendChild(cJ.ib);cJ.dg=this.vY(cJ.gi,4,this.gl,this.Yc,0,-1);cJ.dg=cJ.dg.concat(this.vY(cJ.gi,4,this.gl,this.YP,0,-1));for(H=4;H<8;H++){ck=cJ.dg[H];ck.apW=cJ.dg[H-4];ck.apu=cJ.dg[(H+1)%4];}if(J.get_type()===IPCC.Web.UI.MarkType.Text){cJ.dg=cJ.dg.concat(this.vY(cJ.gi,1,this.gl,this.XT,0,IPCC.ax.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cJ.dg=this.vY(cJ.gi,1,this.gl,this.FY,0,IPCC.ax.Move,'texthandlestart');cJ.dg=cJ.dg.concat(this.vY(cJ.gi,1,this.gl,this.FY,1,IPCC.ax.Move,'texthandleend'));break;}if(J.hS()===IPCC.Web.UI.MarkType.Text||J.hS()===IPCC.Web.UI.MarkType.TextLine||J.hS()===IPCC.Web.UI.MarkType.TextAreaSignature){var nX=document.createElement('div');nX.className='pccEditMarkButton';nX.setAttribute('data-pcc-mark','edit-'+J.jW());nX.onclick=function(bS){bS=bS||{};bS.stopPropagation?bS.stopPropagation():bS.cancelBubble=true;bS.preventDefault?bS.preventDefault():bS.returnValue=false;var pR;var uU=cJ.gi;while(uU&&(uU.parentNode||uU.ownerSVGElement)){if(uU.parentNode.id&&uU.parentNode.id.indexOf("__pViewId")!== -1){pR=uU.parentNode;}uU=uU.ownerSVGElement||uU.parentNode;}pR&&pR.ae.aEj(bS,J);};cJ.gi.appendChild(nX);var asS={ay:nX};cJ.dg.push(asS);}zr.appendChild(cJ.gi);};cg.kK={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};cg.prototype.Yc=0;cg.prototype.YP=1;cg.prototype.GB=2;cg.prototype.FY=3;cg.prototype.XT=4;cg.prototype.aez=function(ck,aCl){switch(aCl){case IPCC.cj.cg.kK.TopLeft:ck.ay.className='pccMarkHandleTopLeft';break;case IPCC.cj.cg.kK.TopCenter:ck.ay.className='pccMarkHandleTopCenter';break;case IPCC.cj.cg.kK.TopRight:ck.ay.className='pccMarkHandleTopRight';break;case IPCC.cj.cg.kK.MidLeft:ck.ay.className='pccMarkHandleMidLeft';break;case IPCC.cj.cg.kK.MidRight:ck.ay.className='pccMarkHandleMidRight';break;case IPCC.cj.cg.kK.BottomLeft:ck.ay.className='pccMarkHandleBottomLeft';break;case IPCC.cj.cg.kK.BottomCenter:ck.ay.className='pccMarkHandleBottomCenter';break;case IPCC.cj.cg.kK.BottomRight:ck.ay.className='pccMarkHandleBottomRight';break;case IPCC.cj.cg.kK.Point:ck.ay.className='pccMarkHandlePoint';break;case IPCC.cj.cg.kK.TextSelectionStart:ck.ay.className='pccMarkHandleTextSelectionStart';break;case IPCC.cj.cg.kK.TextSelectionEnd:ck.ay.className='pccMarkHandleTextSelectionEnd';break;default:ck.ay.className='pccMarkHandlePoint';break;}};cg.prototype.Ao=function(ck,auC,kF,Bg,oX){ck.ad=kF.transform(auC);ck.ay.style.left=(ck.ad.x-Bg/2)+'px';ck.ay.style.top=(ck.ad.y-Bg/2)+'px';ck.ay.style.display='block';ck.ay.style.zIndex='1';this.aez(ck,oX);};cg.prototype.afo=function(ck,Bg,oX){ck.ay.style.left=(ck.ad.x-Bg/2)+'px';ck.ay.style.top=(ck.ad.y-Bg/2)+'px';ck.ay.style.display='block';ck.ay.style.zIndex='1';this.aez(ck,oX);};cg.prototype.rG=function(ck){ck.ay.style.display='none';};cg.prototype.adh=function(cJ,kF){if(this.R.get_areMarksEditable()===true){cJ.gi.style.cursor='move';}var H,J=cJ.J,dg=cJ.dg,ck;var gw,h,qF,jP,vf,fa;var fQ,DZ,eR,eg,MT;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:gw=this.Vh(J);DZ=gw.length+2-dg.length;if(DZ>0){cJ.dg=cJ.dg.concat(this.vY(cJ.gi,DZ,this.gl,this.GB,dg.length-2,IPCC.ax.Move));dg=cJ.dg;}for(H=0;H<gw.length;H++){this.Ao(dg[H+2],gw[H],kF,this.gl,IPCC.cj.cg.kK.Point);}for(H=gw.length+2;H<dg.length;H++){this.rG(dg[H+2]);}break;case IPCC.Web.UI.MarkType.Polygon:gw=this.Vh(J);DZ=gw.length-dg.length;if(DZ>0){cJ.dg=cJ.dg.concat(this.vY(cJ.gi,DZ,this.gl,this.GB,dg.length,IPCC.ax.Move));dg=cJ.dg;}for(H=0;H<gw.length;H++){this.Ao(dg[H],gw[H],kF,this.gl,IPCC.cj.cg.kK.Point);}for(H=gw.length;H<dg.length;H++){this.rG(dg[H]);}break;case IPCC.Web.UI.MarkType.Freehand:h=J.ey();qF=kF.transform({x:h.x,y:h.y});jP=kF.transform({x:h.x+h.width,y:h.y+h.height});fa={x:Math.min(qF.x,jP.x),y:Math.min(qF.y,jP.y)};fa.width=Math.max(qF.x,jP.x)-fa.x;fa.height=Math.max(qF.y,jP.y)-fa.y;cJ.ib.style.left=fa.x+'px';cJ.ib.style.top=fa.y+'px';cJ.ib.style.width=fa.width+'px';cJ.ib.style.height=fa.height+'px';cJ.ib.setAttribute('data-pcc-mark','outline-'+J.jW());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap!==undefined){break;}h=J.ey();dg[0].ad=kF.transform({x:h.x,y:h.y});dg[1].ad=kF.transform({x:h.x+h.width,y:h.y});dg[2].ad=kF.transform({x:h.x+h.width,y:h.y+h.height});dg[3].ad=kF.transform({x:h.x,y:h.y+h.height});fa={x:Math.min(dg[0].ad.x,dg[2].ad.x),y:Math.min(dg[0].ad.y,dg[2].ad.y)};fa.width=Math.max(dg[0].ad.x,dg[2].ad.x)-fa.x;fa.height=Math.max(dg[0].ad.y,dg[2].ad.y)-fa.y;MT={x:fa.x+fa.width/2,y:fa.y+fa.height/2};for(H=0;H<4;H++){ck=dg[H];vf=(ck.ad.x<MT.x)?((ck.ad.y<MT.y)?0:2):((ck.ad.y<MT.y)?1:3);this.afo(ck,this.gl,vf);switch(vf){case 0:ck.ar=IPCC.ax.ResizeNW;break;case 1:ck.ar=IPCC.ax.ResizeNE;break;case 2:ck.ar=IPCC.ax.ResizeSW;break;case 3:ck.ar=IPCC.ax.ResizeSE;break;}}cJ.ib.style.left=fa.x+'px';cJ.ib.style.top=fa.y+'px';cJ.ib.style.width=fa.width+'px';cJ.ib.style.height=fa.height+'px';cJ.ib.setAttribute('data-pcc-mark','outline-'+J.jW());var aqq=fa.x+fa.width/4;var aoa=fa.x+fa.width*3/4;var apq=fa.y+fa.height/4;var aoD=fa.y+fa.height*3/4;if(this.bJ.zj()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){qF=dg[0].ad;jP=dg[1].ad;var aof=dg[2].ad;eR=qF.x-jP.x;eg=jP.y-aof.y;var aEb=eR*eR;var aDW=eg*eg;if(Math.min(aEb,aDW)<this.gl*this.gl*5){this.rG(dg[0]);this.rG(dg[1]);this.rG(dg[2]);this.rG(dg[3]);}}for(H=4;H<8;H++){ck=dg[H];qF=ck.apW.ad;jP=ck.apu.ad;eR=qF.x-jP.x;eg=qF.y-jP.y;fQ=eR*eR+eg*eg;if(this.bJ.zj()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&fQ<this.gl*this.gl*5){this.rG(ck);}else{ck.ad={x:(qF.x+jP.x)/2,y:(qF.y+jP.y)/2};this.afo(ck,this.gl,H);if(ck.ad.x<aqq){ck.ar=IPCC.ax.ResizeW;}else if(ck.ad.x>aoa){ck.ar=IPCC.ax.ResizeE;}else if(ck.ad.y<apq){ck.ar=IPCC.ax.ResizeN;}else if(ck.ad.y>aoD){ck.ar=IPCC.ax.ResizeS;}}}if(J.get_type()===IPCC.Web.UI.MarkType.Text){if(J.yV){this.Ao(dg[8],{x:h.x+J.mv.x,y:h.y+J.mv.y},kF,this.gl,IPCC.cj.cg.kK.Callout);}else{this.rG(dg[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cJ.gi.style.cursor='move';var eZ,iy,vS;var xY=this.R.cn();var ga=xY.fX();if(J.kI===true){vS=J.am;if(vS>=ga.fE()){eZ=ga.kQ(ga.fE()-1);iy=eZ.sD();this.Ao(dg[0],new IPCC.Web.UI.Point(iy.x+iy.width,iy.y),kF,this.gl,IPCC.cj.cg.kK.TextSelectionStart);break;}eZ=ga.kQ(J.am);iy=eZ.sD();this.Ao(dg[0],new IPCC.Web.UI.Point(iy.x,iy.y),kF,this.gl,IPCC.cj.cg.kK.TextSelectionStart);}else{this.rG(dg[0]);}if(J.jJ===true){vS=J.am+J.dp-1;if(vS<0){eZ=ga.kQ(0);iy=eZ.sD();this.Ao(dg[1],new IPCC.Web.UI.Point(iy.x,iy.y+iy.height),kF,this.gl,IPCC.cj.cg.kK.TextSelectionEnd);break;}eZ=ga.kQ(vS);iy=eZ.sD();this.Ao(dg[1],new IPCC.Web.UI.Point(iy.x+iy.width,iy.y+iy.height),kF,this.gl,IPCC.cj.cg.kK.TextSelectionEnd);}else{this.rG(dg[1]);}break;}if(J.get_type()===IPCC.Web.UI.MarkType.Text||J.get_type()===IPCC.Web.UI.MarkType.TextLine||J.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var uY=dg[dg.length-1];if(uY.ay.className.match(/pcc/)){var SF=cJ.ib.clientHeight;var Sq=cJ.ib.clientWidth;var amr=cJ.ib.offsetTop;var ani=cJ.ib.offsetLeft;var akJ=uY.ay.clientHeight;var Xy=uY.ay.clientWidth;uY.ay.style.position='absolute';uY.ay.style.zIndex='2';if(SF>akJ+10&&Sq>Xy+10){uY.ay.style.top=(SF-akJ)/2+amr+'px';uY.ay.style.left=(Sq-Xy)/2+ani+'px';}else{uY.ay.style.top=SF+amr+10+'px';uY.ay.style.left=(Sq-Xy)/2+ani+'px';}}}this.awd(cJ);};cg.prototype.afe=function(gF,uF){var aBh=IPCC.F.afc(gF,uF||'#ffffff'),aBi=IPCC.F.map(aBh,function(ak){return{am:ak.startIndex,ct:ak.endIndex,EA:ak.color};});return aBi;};cg.prototype.ayN=function(C){var J=C.J;if(J.eQ){var lp=this.afe(J.eQ);var FH=J.aY;var zZ='';for(var H=lp.length-1;H>=0;H--){var XU=lp[H];var am=XU.am;var ct=XU.ct;var dm=XU.EA;var cq=IPCC.F.FV(FH.substr(am,ct-am+1));var aog=IPCC.F.FV(FH.substr(ct+1,FH.length-ct+1));FH=FH.substr(0,am);zZ="<span style='background-color:"+dm+";'>"+cq+'</span>'+aog+zZ;}zZ=IPCC.F.FV(FH)+zZ;zZ=zZ.replace(/\n/g,'<br/>');C.pd.innerHTML=zZ;}else{C.xE.data=J.aY;}};module.exports=cg;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var uH={Ke:function(){var tu=IPCC.uH;if(tu.tL===null){
/*@cc_on@if(@_jscript)tu.tL=document.documentMode>8;@else@*/ tu.tL=true;/*@end@*/}return tu.tL;},tL:null};module.exports=uH;},{}],20:[function(require,module,exports){var eh=function(Wv,aok){this.R=false;this.Wv=Wv;var jQ=IPCC.Web.UI;var aM=aok;if(!aM||aM===null){aM=IPCC.aeO;}this.aM=aM;var atP={aY:aM.zoomInMenuItem,hF:IPCC.fM.aaW,L:1.25};var aup={aY:aM.zoomOutMenuItem,hF:IPCC.fM.adP,L:1.25};var aFH={aY:aM.fullImageMenuItem,L:jQ.FitType.FullImage};var aFX={aY:aM.fullWidthMenuItem,L:jQ.FitType.FullWidth};var aFb={aY:aM.fullHeightMenuItem,L:jQ.FitType.FullHeight};var anS={aY:aM.oneToOneRatioMenuItem,L:jQ.FitType.OneToOne};var apr={aY:aM.actualSizeMenuItem,L:jQ.FitType.ActualSize};var ayp={aY:aM.rotateRightMenuItem,hF:IPCC.fM.aaS,L:90};var axF={aY:aM.rotateLeftMenuItem,hF:IPCC.fM.aaS,L: -90};var aFK={aY:aM.mirrorHorizontalMenuItem,hF:IPCC.fM.afX};var aGf={aY:aM.mirrorVerticalMenuItem,hF:IPCC.fM.alJ};var Vs={aY:aM.panToolMenuItem,L:jQ.MouseTool.HandPan};var WZ={aY:aM.areaSelectionToolMenuItem,L:jQ.MouseTool.Select};var Ti={aY:aM.zoomRectangleToolMenuItem,L:jQ.MouseTool.RectangleZoom};var Vg={aY:aM.flyingMagnifierToolMenuItem,L:jQ.MouseTool.Magnifier};var aqF={aY:aM.createTextMarkToolMenuItem,L:jQ.MouseTool.CreateTextMark};var apS={aY:aM.createLineMarkToolMenuItem,L:jQ.MouseTool.CreateLineMark};var aqc={aY:aM.createRectangleMarkToolMenuItem,L:jQ.MouseTool.CreateRectangleMark};var arj={aY:aM.createEllipseMarkToolMenuItem,L:jQ.MouseTool.CreateEllipseMark};var aEH={aY:aM.editMarksToolMenuItem,L:jQ.MouseTool.EditMarks};var aqn={aY:aM.createStampMarkToolMenuItem,L:jQ.MouseTool.CreateStampMark};var ard={aY:aM.createHighlightMarkToolMenuItem,L:jQ.MouseTool.CreateHighlightTextMark};var acB={bQ:55,cO:[{aY:aM.thicknessMenu.item1,L:1},{aY:aM.thicknessMenu.item2,L:2},{aY:aM.thicknessMenu.item3,L:3},{aY:aM.thicknessMenu.item4,L:4},{aY:aM.thicknessMenu.item5,L:5},{aY:aM.thicknessMenu.item6,L:6},{aY:aM.thicknessMenu.item7,L:7},{aY:aM.thicknessMenu.item8,L:8}]};var auZ={bQ:145,cO:[{aY:aM.opacityMenu.translucent,L:127},{aY:aM.opacityMenu.opaque,L:255}]};var Pm={aY:aM.borderThicknessMenuItem,hF:IPCC.fM.FU,bh:'lineWidth',nm:acB};var Po={aY:aM.borderColorMenuItem,hF:IPCC.fM.Mj,bh:'lineColor'};var JH={aY:aM.fillColorMenuItem,hF:IPCC.fM.Mj,bh:'fillColor'};var alR={aY:aM.lineThicknessMenuItem,hF:IPCC.fM.FU,bh:'lineWidth',nm:acB};var amm={aY:aM.lineColorMenuItem,hF:IPCC.fM.Mj,bh:'lineColor'};var aDE={aY:aM.fontMenuItem,hF:IPCC.fM.ank};var KM={aY:aM.opacityMenuItem,hF:IPCC.fM.FU,bh:'opacity',nm:auZ};var arW={aY:aM.moveToBackMenuItem,hF:IPCC.fM.amU};var ari={aY:aM.moveBackwardMenuItem,hF:IPCC.fM.alG};var apv={aY:aM.moveForwardMenuItem,hF:IPCC.fM.alZ};var arM={aY:aM.moveToFrontMenuItem,hF:IPCC.fM.ams};var tW={aY:aM.deleteMarkMenuItem,hF:IPCC.fM.agv};var atU={bQ:180,cO:[aFH,aFX,aFb,anS,apr]};var avc={aY:aM.zoomToFitMenuItem,hF:IPCC.fM.acv,nm:atU};var avJ={bQ:200,cO:[ayp,axF,aFK,aGf]};var avv={aY:aM.orientationMenuItem,nm:avJ};var Pq;if(IPCC.cj){if(IPCC.gs===false){Pq={bQ:180,cO:[Vs,Ti,Vg,WZ,null]};}else{Pq={bQ:180,cO:[Vs,Ti,Vg,WZ,null,aEH,aqF,apS,aqc,arj,aqn,ard]};}}else{Pq={bQ:180,cO:[Vs,Ti,Vg,WZ]};}var apH={aY:aM.mouseToolsMenuItem,hF:IPCC.fM.aeb,nm:Pq};var aAG={bQ:150,cO:[JH,Pm,Po,null,KM]};var aEi={bQ:150,cO:[JH,Pm,Po,null,null]};var aAp={bQ:150,aY:aM.rectangleMarkPropertiesMenuItem,nm:aAG};var aDD={bQ:150,aY:aM.rectangleMarkPropertiesMenuItem,nm:aEi};var aqy={bQ:150,cO:[aDE,JH,Pm,Po,null,null,null,KM]};var aqG={aY:aM.textMarkPropertiesMenuItem,nm:aqy};var aqL={bQ:150,cO:[JH,Pm,Po,null,KM]};var apy={aY:aM.polygonMarkPropertiesMenuItem,nm:aqL};var aqo={bQ:140,cO:[alR,amm,null,KM]};var apZ={aY:aM.polylineMarkPropertiesMenuItem,nm:aqo};var azg={bQ:140,cO:[alR,amm,null,null]};var aAB={aY:aM.lineMarkPropertiesMenuItem,nm:azg};var aFz={bQ:140,cO:[arM,apv,ari,arW]};var xB={aY:aM.markOrderingMenuItem,nm:aFz};var aFW={bQ:150,cO:[JH]};var abO={aY:aM.stampMarkPropertiesMenuItem,nm:aFW};this.atn={bQ:180,cO:[atP,aup,avc,avv,apH]};this.aoq={bQ:140,cO:[aqG,xB,tW]};this.azU={bQ:140,cO:[aAp,xB,tW]};this.aEc={bQ:140,cO:[abO,xB,tW]};this.aGJ={bQ:140,cO:[null,xB,tW]};this.aDz={bQ:140,cO:[aDD,xB,tW]};this.ark={bQ:140,cO:[apy,xB,tW]};this.are={bQ:140,cO:[apZ,xB,tW]};this.azf={bQ:140,cO:[aAB,xB,tW]};this.aBY={bQ:140,cO:[abO,null,tW]};};eh.prototype.mW=function(R){this.R=R;};eh.prototype.ei=function(){this.R=false;};eh.prototype.bV=function(){};eh.prototype.Ts=function(T){var js;if(T.mark&&this.Wv){var Nn=T.mark.ko();switch(T.mark.get_type()){case IPCC.Web.UI.MarkType.Line:js=this.azf;break;case IPCC.Web.UI.MarkType.Polyline:js=this.are;break;case IPCC.Web.UI.MarkType.Rectangle:js=this.azU;break;case IPCC.Web.UI.MarkType.Ellipse:js=this.aDz;break;case IPCC.Web.UI.MarkType.Polygon:js=this.ark;break;case IPCC.Web.UI.MarkType.Text:js=this.aoq;break;case IPCC.Web.UI.MarkType.Stamp:if(Nn===true){js=this.aGJ;}else{js=this.aEc;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(T.mark.ka==='y'){js=this.aBY;}break;}}if(!js){js=this.atn;}var wq=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var afj=new IPCC.Web.UI.Point(T.domEvent.clientX+wq,T.domEvent.clientY+uE);var K=this;function wX(aR){if(sg){var aw=aR.target;if(aw&&aw===null){return;}var FW,ann;while(aw&&aw!==document.body&&aw.parentNode!==null){if(aw&&aw!==null){if(aw===sg){ann=true;}if(!FW&&aw.ImGearCommand){FW=aw.ImGearCommand;}aw=aw.parentNode;}}if(!ann||FW){IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',wX);IPCC.Web.UI.aT.removeHandler(document.body,'mousemove',aiV);document.body.removeChild(sg);sg=null;if(FW){FW.Tj=T;K.aDe(FW);}}}};function Zf(JG,zo,Ab,Fh){var cz=false,H,aw;for(H=0;H<zo.length;H++){if(JG===zo[H]){cz=true;}}if(!cz&&JG.ImGearType==='menu'){JG.style.display='none';}else{JG.style.display='block';}aw=JG.firstChild;while(aw){if(aw.ImGearType==='menuItemHighlight'){if(aw===Fh){aw.style.display='block';}else{aw.style.display='none';}}if(aw.firstChild){Zf(aw,zo,Ab,Fh);}aw=aw.nextSibling;}};function aiV(aR){if(sg){var aw=aR.target;if(aw&&aw===null){return;}var zo=[sg],Ab,Fh;while(aw&&aw!==document.body&&aw.parentNode!==null){if(!Ab&&aw.ImGearType==='menuItem'){Ab=aw;}if(aw.ImGearType==='menu'){zo.push(aw);}aw=aw.parentNode;}if(Ab){aw=Ab.firstChild;while(aw){if(aw.ImGearType==='menuItemHighlight'){Fh=aw;}else if(aw.ImGearType==='menu'){zo.push(aw);}aw=aw.nextSibling;}}Zf(sg,zo,Ab,Fh);}};var bq;if(window.innerWidth){bq={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bq={x:wq,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bq={x:wq,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var sg=this.alM(js,false,false,afj,afj,true,bq,document.body,T.mark);Zf(sg,[sg],null,null);document.body.appendChild(sg);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',wX);IPCC.Web.UI.aT.addHandler(document.body,'mousemove',aiV);};eh.prototype.alM=function(js,hF,bh,aaP,abK,BF,bq,aun,J){var alI=24,acS=1;var H,TC=0;for(H=0;H<js.cO.length;H++){var aDM=js.cO[H];if(aDM){TC+=alI;}else{TC+=acS;}}var Pf;if(BF){Pf=abK.x+js.bQ;if(Pf>bq.x+bq.width){BF=false;}}if(!BF){Pf=aaP.x-js.bQ;if(Pf<bq.x){BF=true;}}var sh={x:abK.x,y:abK.y};if(!BF){sh={x:aaP.x-js.bQ-2,y:aaP.y-2};}var ajZ=bq.y+bq.height-TC-8;if(sh.y>ajZ){sh.y=ajZ;}if(sh.y<bq.y+2){sh.y=bq.y+2;}function gy(rv){var yG=document.createElement('div');var H;for(H in rv){if(rv.hasOwnProperty(H)){yG.style[H]=rv[H];}}return yG;};var OO=gy({zIndex:2,width:js.bQ+'px',left:sh.x+'px',top:sh.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});OO.ImGearType='menu';for(H=0;H<js.cO.length;H++){var vF=js.cO[H];var ur;if(vF){ur=gy({position:'relative',height:'24px'});ur.ImGearType='menuItem';var Aa=gy({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});ur.appendChild(Aa);var anu=gy({textOverflow:'ellipsis',whiteSpace:'nowrap',width:js.bQ-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});ur.appendChild(anu);var amO=gy({display:'none',position:'absolute',height:'24px',width:js.bQ+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});amO.ImGearType='menuItemHighlight';ur.appendChild(amO);anu.appendChild(document.createTextNode(vF.aY));var NM=vF.hF||hF;var Gl=vF.bh||bh;if(Gl){if(NM===IPCC.fM.FU){var aoW=J['get_'+Gl]();if(aoW===vF.L){if(this.R.tP()){Aa.style.backgroundImage='url(\''+this.R.tP()+'/MenuIcons.png'+'\')';}else{Aa.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Aa.style.backgroundPosition='0px';}}else if(NM===IPCC.fM.ama){var apo=J['get_'+Gl]();if(apo){if(this.R.tP()){Aa.style.backgroundImage='url(\''+this.R.tP()+'/MenuIcons.png'+'\')';}else{Aa.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}Aa.style.backgroundPosition='24px 0px';}}}if(!vF.nm){ur.ImGearCommand={hF:NM,bh:Gl,L:vF.L};}else{var aqH={x:bq.x-sh.x,y:bq.y-sh.y,width:bq.width,height:bq.height};this.alM(vF.nm,NM,Gl,{x:0,y: -1},{x:js.bQ,y: -1},BF,aqH,ur,J);}sh.y+=alI;}else{ur=gy({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});sh.y+=acS;}OO.appendChild(ur);}aun.appendChild(OO);return OO;};eh.prototype.aDR=function(J,cU,R){var wq=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bq;if(window.innerWidth){bq={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bq={x:wq,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bq={x:wq,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var lE=bq.x+bq.width/2;var mR=bq.y+bq.height/2;var io=document.createElement('div');io.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mR-85)+'px;left:'+(lE-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aM.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aM.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aM.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aM.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(io);var Zd=document.getElementById('ImGearColorRed');var air=document.getElementById('ImGearColorGreen');var akf=document.getElementById('ImGearColorBlue');var IU=document.getElementById('ImGearColorOKButton');var Ir=document.getElementById('ImGearColorCancelButton');var QR=J['get_'+cU]();var KC;if(QR.length===7&&QR.charAt(0)==='#'){KC=parseInt(QR.slice(1),16);}Zd.value=(KC>>16);air.value=((KC>>8)&255);akf.value=(KC&255);function Vn(ZQ){var L=Math.floor(+(ZQ.value));if(!isFinite(L)){L=0;}if(L<0){L=0;}if(L>255){L=255;}return L;};function Af(){IPCC.Web.UI.aT.removeHandler(IU,'click',GD);IPCC.Web.UI.aT.removeHandler(Ir,'click',IM);IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',wX);};function GD(){var dm=Vn(Zd)*65536+Vn(air)*256+Vn(akf);J['set_'+cU]('#'+(0x1000000+dm).toString(16).slice(1));Af();document.body.removeChild(io);io=null;R.cV();};function IM(){Af();document.body.removeChild(io);io=null;};function wX(aR){if(io){var aw=aR.target;var IX;while(aw!==document.body){if(aw===io){IX=true;}aw=aw.parentNode;}if(!IX){Af();document.body.removeChild(io);io=null;}}};IPCC.Web.UI.aT.addHandler(IU,'click',GD);IPCC.Web.UI.aT.addHandler(Ir,'click',IM);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',wX);Zd.focus();};eh.prototype.aDn=function(J,R){var wq=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uE=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bq;if(window.innerWidth){bq={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bq={x:wq,y:uE,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bq={x:wq,y:uE,width:document.body.clientWidth,height:document.body.clientHeight};}var lE=bq.x+bq.width/2;var mR=bq.y+bq.height/2;var io=document.createElement('div');io.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(mR-85)+'px;left:'+(lE-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aM.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aM.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aM.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aM.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aM.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aM.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(io);var UY=document.getElementById('ImGearFontFamily');var agP=document.getElementById('ImGearFontSize');var agL=document.getElementById('ImGearFontItalic');var afP=document.getElementById('ImGearFontBold');var agq=document.getElementById('ImGearFontUnderline');var agg=document.getElementById('ImGearFontStrikeout');var IU=document.getElementById('ImGearFontOKButton');var Ir=document.getElementById('ImGearFontCancelButton');var awG=J.get_fontName();var awv=J.get_fontSize();var sG=J.get_fontStyle();UY.value=awG;agP.value=awv;agL.checked=sG&IPCC.Web.UI.FontStyle.Italic;afP.checked=sG&IPCC.Web.UI.FontStyle.Bold;agq.checked=sG&IPCC.Web.UI.FontStyle.Underline;agg.checked=sG&IPCC.Web.UI.FontStyle.Strikeout;function awM(ZQ){var L=Math.floor(+(ZQ.value));if(!isFinite(L)){L=12;}if(L<0.1){L=0.1;}if(L>288){L=288;}return L;};function Af(){IPCC.Web.UI.aT.removeHandler(IU,'click',GD);IPCC.Web.UI.aT.removeHandler(Ir,'click',IM);IPCC.Web.UI.aT.removeHandler(document.body,'mousedown',wX);};function GD(){J.set_fontName(UY.value);var cG=awM(agP);J.set_fontSize(cG);var fo=0;if(agL.checked){fo|=IPCC.Web.UI.FontStyle.Italic;}if(afP.checked){fo|=IPCC.Web.UI.FontStyle.Bold;}if(agq.checked){fo|=IPCC.Web.UI.FontStyle.Underline;}if(agg.checked){fo|=IPCC.Web.UI.FontStyle.Strikeout;}J.set_fontStyle(fo);Af();document.body.removeChild(io);io=null;R.cV();};function IM(){Af();document.body.removeChild(io);io=null;};function wX(aR){if(io){var aw=aR.target;var IX;while(aw!==document.body){if(aw===io){IX=true;}aw=aw.parentNode;}if(!IX){Af();document.body.removeChild(io);io=null;}}};IPCC.Web.UI.aT.addHandler(IU,'click',GD);IPCC.Web.UI.aT.addHandler(Ir,'click',IM);IPCC.Web.UI.aT.addHandler(document.body,'mousedown',wX);UY.focus();};eh.prototype.aDe=function(T){var J=T.Tj.mark;switch(T.hF){case IPCC.fM.FU:J['set_'+T.bh](T.L);this.R.cV();break;case IPCC.fM.Mj:this.aDR(J,T.bh,this.R);break;case IPCC.fM.ank:this.aDn(J,this.R);break;case IPCC.fM.ama:J['set_'+T.bh](!J['get_'+T.bh]());this.R.cV();break;case IPCC.fM.amU:J.moveToBack();this.R.cV();break;case IPCC.fM.alG:J.moveBackward();this.R.cV();break;case IPCC.fM.alZ:J.moveForward();this.R.cV();break;case IPCC.fM.ams:J.moveToFront();this.R.cV();break;case IPCC.fM.agv:J.removeFromPage();this.R.cV();break;default:this.R.ayL(T);break;}};module.exports=eh;},{}],21:[function(require,module,exports){var ax={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,ew:function(ar){if(typeof ar==='string'){return ar;}switch(ar){case IPCC.ax.Default:case IPCC.ax.Magnifier:case IPCC.ax.None:case IPCC.ax.RunMarks:return 'auto';case IPCC.ax.Arrow:case IPCC.ax.EditMarks:return 'default';case IPCC.ax.Crosshair:case IPCC.ax.RectangleZoom:case IPCC.ax.AddRectangleMark:case IPCC.ax.AddEllipseMark:case IPCC.ax.AddLineMark:case IPCC.ax.AddFreehandLineMark:case IPCC.ax.AddPolygonMark:case IPCC.ax.AddPolylineMark:case IPCC.ax.AddTextMark:case IPCC.ax.AddRectangleRedactionMark:case IPCC.ax.AddImageStampMark:case IPCC.ax.AddStampMark:return 'crosshair';case IPCC.ax.Link:return 'pointer';case IPCC.ax.HandOpen:case IPCC.ax.HandClosed:case IPCC.ax.Move:return 'move';case IPCC.ax.ResizeN:return 'n-resize';case IPCC.ax.ResizeE:return 'e-resize';case IPCC.ax.ResizeS:return 's-resize';case IPCC.ax.ResizeW:return 'w-resize';case IPCC.ax.ResizeNW:return 'nw-resize';case IPCC.ax.ResizeNE:return 'ne-resize';case IPCC.ax.ResizeSE:return 'se-resize';case IPCC.ax.ResizeSW:return 'sw-resize';case IPCC.ax.Text:return 'text';}return 'auto';}};module.exports=ax;},{}],22:[function(require,module,exports){var il={sm:function(hZ,QS){var bn,bW,fH;if(hZ===null){return 'null';}if(!QS){QS=0;}bn=typeof(hZ);if(bn==='undefined'){return 'undefined';}else if(bn==='number'||bn==='boolean'){return hZ.toString();}else if(bn==='string'){return '\''+hZ+'\'';}else if(bn==='function'){return 'function';}else{if(QS<0){return 'hZ';}bW='{';for(fH in hZ){if(hZ.hasOwnProperty(fH)){if(bW.length>2){bW+=', ';}bW+=fH;bW+=': ';bW+=IPCC.il.sm(hZ[fH],QS-1);}}bW+='}';return bW;}},Qq:function(aY){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aY+'\n';}},aHs:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},oy:function(lh,Mp,bU,Cf,zG){var aY="PCC Controls - ";aY+=(Cf)?Cf:" ";aY+=" parent Div id = ";aY+=(zG)?zG:" ";if(Mp){switch(Mp){case 0:aY+=" FunctionCall ";break;case 1:aY+=" Exception ";break;case 2:aY+=" Custom ";break;case 3:aY+=" UserAction ";break;case 4:aY+=" Warning ";break;default:aY+=" unknown ";}}aY+=" - "+lh;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(aY);}if(window.console&&window.console.log){window.console.log(aY);}if(window.opera){window.opera.postError(aY);}if(window.debugService){window.debugService.trace(aY);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=aY+'\n';}var Nc;try{Nc=onPCCItemLogged;}catch(ex){}if(Nc&&(typeof(Nc)).toLowerCase()==='function'){var cC=new IPCC.Web.UI.LogItemEventArgs();cC.message=lh;cC.cause=Mp;cC.level=bU;cC.id=zG;Nc(cC);}}};module.exports=il;},{}],23:[function(require,module,exports){var lf=function(){this.as=false;this.R=false;};lf.prototype.mW=function(R){this.R=R;this.R.aeP(true);this.bJ=R.bM();};lf.prototype.ei=function(){if(arguments[0]){if(arguments[0]===true){this.R=false;return;}}this.R.aeP(false);this.R=false;};lf.prototype.bV=function(){if(this.as){this.R.Dv(true);this.bJ.oO();this.as=false;this.R.cV();}};lf.prototype.BZ=function(T){this.bV();var J=T.mark;if(J&&J.hS()===IPCC.Web.UI.MarkType.Text){this.R.wy(J);this.R.cV();}};lf.prototype.kw=function(T){this.bV();var jv=T.domEvent;if(jv.button===0){var cs=jv.target;this.ck=cs.ImGearMarkHandle;if(this.ck){this.vf=this.ck.bn;this.oX=this.ck.ba;}else{this.vf=null;this.oX=null;}while(!(cs.ImGearMarkRelation)&&cs.parentNode&&cs!==document.body){cs=cs.parentNode;}this.C=cs.ImGearMarkRelation;if(this.C){this.J=this.C.J;}else{this.J=null;}this.as=true;this.KU=T.imagePoint;this.Bd=T.imagePoint;var J=this.J;if(!J||J.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!jv.shiftKey){this.R.eN().yK().removeAllMarks();}this.bJ.Ew(T.imagePoint);}else{var gS,h;switch(this.vf){case IPCC.cj.cg.prototype.Yc:this.iT=J.ey();this.Yz=Math.abs(this.iT.width);this.GT=Math.abs(this.iT.height);gS={x:this.iT.x,y:this.iT.y};this.Mb={x:this.iT.x+this.iT.width,y:this.iT.y+this.iT.height};if(this.oX>0&&this.oX<3){gS.x+=this.iT.width;this.Mb.x-=this.iT.width;}if(this.oX>1){gS.y+=this.iT.height;this.Mb.y-=this.iT.height;}this.aGC=gS;break;case IPCC.cj.cg.prototype.YP:h=J.ey();this.iT=h;gS={x:h.x+h.width/2,y:h.y+h.height/2};switch(this.oX){case 0:this.AD=h.y+h.height;gS.y=h.y;break;case 1:this.AD=h.x;gS.x=h.x+h.width;break;case 2:this.AD=h.y;gS.y=h.y+h.height;break;case 3:this.AD=h.x+h.width;gS.x=h.x;break;}break;case IPCC.cj.cg.prototype.GB:this.bg=J.qz();if(this.oX<0||this.oX>this.bg.fE()){this.bV();}gS=this.bg.getPoint(this.oX);break;case IPCC.cj.cg.prototype.FY:break;case IPCC.cj.cg.prototype.XT:h=J.ey();gS={x:h.x+J.mv.x,y:h.y+J.mv.y};break;default:var xm=J.get_selected();if(jv.ctrlKey||jv.shiftKey){xm= !xm;J.set_selected(xm);}else{if(!xm){xm=true;this.R.eN().yK().removeAllMarks();if(J.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var H=0;H<this.R.eN().get_markCount();H++){var Tz=this.R.eN().getMark(H);if(Tz.hS()===608&&Tz.ap===J.ap){Tz.set_selected(xm);}}}else{J.set_selected(xm);}}}if(!xm){this.bV();}break;}if(this.as&&gS){this.aDd=gS.x-this.KU.x;this.aEr=gS.y-this.KU.y;if(this.ck){this.bJ.aBI(this.ck.ar);}}}if(this.as){this.R.Dv(false);}}this.R.cV();};lf.prototype.kU=function(T){var jv=T.domEvent;var Bd;function awQ(axN){axN.FI(T.imagePoint.x-Bd.x,T.imagePoint.y-Bd.y);};if(jv.button!==0){this.bV();}if(this.as){var J=this.J;if(!J||J.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.bJ.zI(T.imagePoint);}else{var gS={x:T.imagePoint.x+this.aDd,y:T.imagePoint.y+this.aEr};var h;switch(this.vf){case IPCC.cj.cg.prototype.Yc:var ou={x:gS.x,y:gS.y};var jZ={x:this.Mb.x,y:this.Mb.y};if(jv.ctrlKey){jZ.x=this.iT.x+this.iT.width/2;jZ.y=this.iT.y+this.iT.height/2;}if(jv.shiftKey){var sO=Math.abs(ou.x-jZ.x);var ti=Math.abs(ou.y-jZ.y);if(sO*this.GT<ti*this.Yz){if(this.GT>0.001){sO=ti*this.Yz/this.GT;}}else{if(this.GT>0.001){ti=sO*this.GT/this.Yz;}}if(ou.x<jZ.x){sO= -sO;}if(ou.y<jZ.y){ti= -ti;}ou.x=jZ.x+sO;ou.y=jZ.y+ti;}if(jv.ctrlKey){jZ={x:jZ.x-(ou.x-jZ.x),y:jZ.y-(ou.y-jZ.y)};}h={};h.x=Math.min(jZ.x,ou.x);h.width=Math.max(jZ.x,ou.x)-h.x;h.y=Math.min(jZ.y,ou.y);h.height=Math.max(jZ.y,ou.y)-h.y;J.set_rectangle(h);break;case IPCC.cj.cg.prototype.YP:h=J.ey();var Cc;if(this.oX&1){if(jv.ctrlKey){Cc=this.iT.x+this.iT.width/2;h.width=Math.abs(gS.x-Cc)*2;h.x=Cc-h.width/2;}else{h.x=Math.min(gS.x,this.AD);h.width=Math.max(gS.x,this.AD)-h.x;}}else{if(jv.ctrlKey){Cc=this.iT.y+this.iT.height/2;h.height=Math.abs(gS.y-Cc)*2;h.y=Cc-h.height/2;}else{h.y=Math.min(gS.y,this.AD);h.height=Math.max(gS.y,this.AD)-h.y;}}J.set_rectangle(h);break;case IPCC.cj.cg.prototype.GB:this.bg=J.qz();gS=this.bg.setPoint(this.oX,gS);break;case IPCC.cj.cg.prototype.FY:break;case IPCC.cj.cg.prototype.XT:h=J.ey();J.set_calloutPoint({x:gS.x-h.x,y:gS.y-h.y});break;default:Bd=this.Bd;this.Bd=T.imagePoint;this.R.eN().yK().ki(awQ);break;}}this.R.cV();}};lf.prototype.kn=function(){function auS(J){var Fs=J.ahG();if(adI.contains(Fs)&&adI.contains({x:Fs.x+Fs.width,y:Fs.y+Fs.height})){J.set_selected(true);}};if(this.as){if(!this.J){var adI=this.bJ.yC();this.R.eN().Fw(auS);this.bJ.oO();}this.bV();}};lf.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};lf.prototype.na=function(){this.bV();};module.exports=lf;},{}],24:[function(require,module,exports){var cT=require('./IPCC.Util').regClass;var Ow=function(){return this;};Ow.registerClass=cT;Ow.prototype={};Ow.registerClass('IPCC.ExceptionEventArgs');module.exports=Ow;},{"./IPCC.Util":28}],25:[function(require,module,exports){var eF=require('./IPCC.Util').regEnum;var nS=function(){};nS.registerEnum=eF;nS.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nS.registerEnum('IPCC.FitType',false);module.exports=nS;},{"./IPCC.Util":28}],26:[function(require,module,exports){var Eq=function(){function Fb(){return Math.floor((Math.random()*10)).toString();};var ju=new Date();return Fb()+Fb()+'_'+ju.getTime()+"_"+Fb()+Fb()+Fb()+Fb();};module.exports=Eq;},{}],27:[function(require,module,exports){var pe=function(){this.as=false;this.R=false;};pe.prototype.mW=function(R){this.R=R;};pe.prototype.ei=function(){this.R=false;};pe.prototype.bV=function(){if(this.as){this.as=false;}};pe.prototype.qP=function(){this.bV();};pe.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){this.as=true;this.KU=T.imagePoint;}};pe.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){var R=this.R;var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();ah.abP(this.KU,T.windowPoint);ah.iG(R.cP(),aQ);R.bz('userModifiedViewState',{});bJ.iE(ah);R.cV();}};pe.prototype.kn=function(){this.bV();};pe.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};pe.prototype.na=function(){this.bV();};module.exports=pe;},{}],28:[function(require,module,exports){var F={};F.Wz=(function(){var kO={};var zB=[];kO.get=function aFg(qC){if(zB.length===0){return;}for(var i=0;i<qC.length;i++){if(zB[i]&&zB[i].qC===qC){return zB[i].jA;}}};kO.set=function aHU(qC,jA){zB.push({qC:qC,jA:jA});if(zB.length>10){zB.shift();}};kO.contains=function jt(qC){return kO.get(qC)!==undefined;};kO.cacheReponse=function aEV(qC,jA){if(jA.readyState===4){kO.set(qC,jA);}else{var axz=jA.onreadystatechange;jA.onreadystatechange=function(){if(jA.readyState===XMLHttpRequest.DONE&&jA.status===200){kO.set(qC,jA);}axz();};}};return kO;})();F.Zx=false;F.Ob=(function(){var Ob=false;var sT=navigator.userAgent,ZO=((sT.indexOf('Mozilla/5.0')> -1&&sT.indexOf('Android ')> -1&&sT.indexOf('AppleWebKit')> -1)&& !(sT.indexOf('Chrome')> -1)),aex=new RegExp(/AppleWebKit\/([\d.]+)/),aCv=aex.exec(sT),ajG=(aCv===null?null:parseFloat(aex.exec(sT)[1]));Ob=ZO&&ajG!==null&&ajG<537;return Ob;})();F.azi=(function(){var amw=false;var sT=navigator.userAgent,ZO=/Android/i.test(sT),azL=/iPhone|iPad|iPod/i.test(sT),aAt=/IEMobile/i.test(sT);amw=(ZO||azL||aAt);return amw;})();F.EC=(function(){var EC=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){EC=true;}return EC;})();F.AN=(function(){var awZ=navigator.userAgent;if(document.documentMode===10||F.Ob){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(awZ)&& !F.azi){return 'svga';}else{return 'svgb';}})();F.BP=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();F.Cn=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();F.Hf=F.Cn||(function(){return('ontouchstart'in document.documentElement);})();F.aBw=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();F.ajd=function(){return F.aoX.btoa((Math.random().toString(36).slice(-4))+'_'+F.wB(new Date())+'_'+(Math.random().toString(36).slice(-6)));};F.inArray=function(co,cl){for(var i=0,l=co.length;i<l;i++){if(co[i]===cl){return true;}}return false;};F.forEach=function(bP,bK,dk){var qy=[].forEach,aCg=Object.prototype.hasOwnProperty;if(qy&&bP.forEach===qy){bK&&bP.forEach(bK,dk);}else if(bP.length=== +bP.length){for(var i=0,length=bP.length;i<length;i++){bK&&bK.call(dk,bP[i],i,bP);}}else{for(var bh in bP){if(aCg.call(bP,bh)){bK&&bK.call(dk,bP[bh],bh,bP);}}}};F.map=function(co,bK,dk){var qy=[].map,ty=[];if(qy&&co.map===qy){ty=co.map(bK,dk);}else{F.forEach(co,function(el,i){ty.push(bK.call(dk,el,i,co));});}return ty;};F.filter=function(co,bK,dk){var qy=[].filter,ty=[],afq=false;if(qy&&co.filter===qy){ty=co.filter(bK,dk);}else{F.forEach(co,function(ak,i){afq=bK.call(dk,ak,i,co);if(afq){ty.push(ak);}});}return ty;};F.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};F.remove=function(co,bK,dk){var YM=[];var avB=F.filter(co,bK,dk);F.forEach(avB,function(cl){var ba=F.indexOf(co,cl);if(ba=== -1){return;}YM=YM.concat(co.splice(ba,1));});return YM;};F.keys=function(bP){if(Object&&Object.keys){return Object.keys(bP);}else{var nh=[];for(var H in bP){if(bP.hasOwnProperty&&bP.hasOwnProperty(H)){nh.push(H);}}return nh;}};F.indexOf=function(co,adQ,agr){if(Array.prototype.indexOf){return co.indexOf(adQ,agr);}var k;if(co==null){throw new TypeError('"co" is null or not defined');}var O=Object(co);var len=O.length>>>0;if(len===0){return-1;}var n= +agr||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===adQ){return k;}k++;}return-1;};F.reduce=function(co,bK,fG,dk){var qy=[].reduce;var FB=(arguments.length===2)?undefined:fG;if(qy&&typeof qy==='function'&&co.reduce===qy&&dk===undefined){if(fG!==undefined){return co.reduce(bK,fG,dk);}return co.reduce(bK);}IPCC.F.forEach(co,function(aI,aK){if(FB===undefined){FB=aI;return;}FB=bK.call(dk,FB,aI,aK,co);});return FB;};F.reduceLeft=function(co,bK,fG,dk){var ty=co.reverse();return F.reduce.call(undefined,ty,bK,fG,dk);};F.contains=function(co,aI){var dF=co.length;while(dF--){if(co[dF]===aI){return true;}}return false;};F.aoO=function(Xw,amW){if(Xw.length!==amW.length){return false;}for(var i=0,l=Xw.length;i<l;i++){if(Xw[i]!==amW[i]){return false;}}return true;};F.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};F.trim=function(bW){if(String.prototype.trim){return bW.trim();}return bW.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};F.getPageFromPoint=function(bB,cc,dk){var aDX=function(gH){return gH.left<=bB&&bB<=gH.right&&gH.top<=cc&&cc<=gH.bottom;};var aEF=function(){return F.filter(dk.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iY){return aDX(iY.getBoundingClientRect());});};if(!dk){dk=document;}return aEF(bB,cc)[0];};F.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};F.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var OR in baseType.prototype){if(baseType.prototype.hasOwnProperty(OR)){var aEl=baseType.prototype[OR];if(!this.prototype[OR]){this.prototype[OR]=aEl;}}}}return this;};F.agB=function(Yu,Xb,alp){if(Xb){if(!alp){Xb.apply(Yu);}else{Xb.apply(Yu,alp);}}return Yu;};F.ajy=function ajy(vT,asG,aja){var qM;return function(){var dk=this,cC=arguments;var ayv=function(){qM=undefined;if(!aja){vT.apply(dk,cC);}};var apQ=aja&& !qM;clearTimeout(qM);qM=setTimeout(ayv,asG);if(apQ){vT.apply(dk,cC);}};};F.ake=function ake(cR,ut){if(cR.classList){cR.classList.add(ut);}else{cR.className+=' '+ut;}};F.ajf=function ajf(cR,ut){if(cR.classList){cR.classList.remove(ut);}else{cR.className=cR.className.replace(ut,'');}};F.WT=function(ij){return{width:ij.width||(ij.right-ij.left),height:ij.height||(ij.bottom-ij.top),top:ij.top,bottom:ij.bottom,left:ij.left,right:ij.right};};F.ahp=function(alphabet,size){var sA='';for(var H=0;H<size;H++){sA+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return sA;};F.aFl=function(){var anF='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var aCD='AQgw';return F.ahp(anF,21)+F.ahp(aCD,1);};F.ahW=function(){var iB={'Accusoft-Gid':F.aFl(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return iB;};F.rd=function(ac){if(ac instanceof F.rd){return ac;}this.iB=F.reduce(ac.headers||{},function(qX,aI,an){an=an.toLowerCase();if(qX[an]){qX[an]+=', '+aI;}else{qX[an]=aI;}return qX;},{});this.status=ac.status;this.statusText=ac.statusText;this.responseText=ac.responseText;if(typeof ac.responseBody!=='undefined'){this.responseBody=ac.responseBody;}return this;};F.rd.prototype.getResponseHeader=function(Fg){var ac=this.iB[Fg.toLowerCase()];return ac!==undefined?ac:null;};F.mL=(function(){var AS={};AS.iB={};AS.Oj=undefined;function aii(ahe){if(!ahe){return{};}return ahe.split('\r\n').reduce(function(KG,ng){var ba=ng.indexOf(': ');if(ba>0){var an=ng.slice(0,ba);var L=ng.slice(ba+2);if(KG[an]){L=KG[an]+', '+L;}KG[an]=L;}return KG;},{});};AS.dY=function(arZ){var zM={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},lA=PCCViewer.Deferred(),cK=lA.getPromise(),qw;var bN=F.extend({},zM,arZ);bN.headers=F.extend({},AS.iB,bN.headers);if(typeof AS.Oj==='function'){qw=AS.Oj(bN);if(typeof qw==='object'&&typeof qw.then==='function'){qw.then(function(aa){lA.resolve(aa);},function(aa){lA.reject(aa);});return cK;}}if(bN.cache&&F.Wz.contains(bN.url)){var jA=F.Wz.get(bN.url);var ac,tq={};tq={status:jA.status,headers:aii(jA.getAllResponseHeaders())};try{tq.responseText=jA.responseText;}catch(e){}if(typeof jA.responseBody!=='undefined'){tq.responseBody=jA.responseBody;}ac=new F.rd(tq);if(jA.status>=200&&jA.status<300||status===304){lA.resolve(ac);}else{lA.reject({response:ac,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jA.status+" "+jA.statusText)});}return cK;}var jl,qM;try{jl=new XMLHttpRequest();}catch(e){lA.reject(new PCCViewer.Error("Error",e.message));}if(jl){jl.open(bN.method,bN.url,true);if(bN.timeout){qM=window.setTimeout(function(){jl.abort();lA.reject({error:new PCCViewer.Error("Error","Request timed out")});},bN.timeout);}jl.onreadystatechange=function(){var ac,tq={};if(jl.readyState===4){if(qM){window.clearTimeout(qM);}tq={status:jl.status,headers:aii(jl.getAllResponseHeaders())};try{tq.responseText=jl.responseText;}catch(e){}if(typeof jl.responseBody!=='undefined'){tq.responseBody=jl.responseBody;}ac=new F.rd(tq);if(jl.status>=200&&jl.status<300||status===304){lA.resolve(ac);}else{lA.reject({response:ac,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jl.status+" "+jl.statusText)});}}};var aac=F.extend({},bN.headers,F.ahW());for(var an in aac){if(aac.hasOwnProperty(an)){jl.setRequestHeader(an,aac[an]);}}if(typeof bN.mimeType==='string'&&typeof jl.overrideMimeType==='function'){jl.overrideMimeType(bN.mimeType);}if(bN.cache){F.Wz.cacheReponse(bN.url,jl);}jl.send(bN.body);}return cK;};return AS;})();F.YT=function(ga,lK,ei){var hw=[],tI=null,uW=null,aU;var azc=function(uW,tI){if(!tI){return false;}else{return Math.abs(uW.y-tI.y)<1&&Math.abs(uW.height-tI.height)<1&&uW.x+uW.width>=tI.x+tI.width;}};for(aU=lK;aU<ei+1;aU++){uW=ga.kQ(aU).bq;if(azc(uW,tI)){tI.union(uW);}else{tI=uW.clone();hw.push(tI);}}return hw;};F.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};F.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};F.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bg){var aqj=F.map(bg,function(ak){return[ak.x,ak.y];});return d3_svg_lineBasis(aqj);};})();F.aHx=function(bW){if(bW.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aCr=F.filter(bW.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqN=F.map(aCr,function(el){var asr=el.replace(/[a-zA-Z]/g,'|').split('|');return F.map(asr,function(hF){var ajV=hF.split(',');return{x: +ajV[0],y: +ajV[1]};});});return aqN;};F.aiw=function(bW,jm,iz,jf,bN){bN.cG="12px";var hK=F.uZ(bW,jm,bN),vK=12*iz/(hK.width||1),wF=12*jf/(hK.height||1),aqC=Math.min(vK,wF);bN.cG=aqC;return F.aim(bW,jm,iz,jf,bN);};F.aim=function(bW,jm,iz,jf,bN,Lk){Lk=Lk||1;var pr={},hK=F.uZ(bW,jm,bN),cG=bN.cG;pr.width=hK.width;pr.height=hK.height;pr.fontSize=cG;if(Lk>3){return pr;}if((hK.width<iz+1)&&(hK.height<jf+1)){return pr;}else{var vK=cG*iz/(hK.width||1),wF=cG*jf/(hK.height||1),yW=Math.min(vK,wF);if(yW>=bN.cG){return pr;}else{bN.cG=yW;return F.aim(bW,jm,iz,jf,bN,Lk+1);}}};F.uZ=function(bW,jm,bN){bN=bN||{};if(document.createElementNS){return F.aBH(bW,jm,bN);}else{return F.aju(bW,jm,bN);}};F.aBH=function(bW,jm,bN){var svg,aho=false;if(bN.fw){svg=bN.fw;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');aho=true;document.body.appendChild(svg);}var cG=bN.cG||"12px";if(typeof cG==="number"){cG=cG+"px";}var cX=document.createElementNS("http://www.w3.org/2000/svg","text");F.forEach({x:0,y:0,'font-size':cG,'stroke':"none",'fill':"#000000",'font-family':jm},function(value,name){cX.setAttribute(name,value);});if(bN.wL){cX.setAttribute('style','white-space:'+bN.wL);}var lC=document.createTextNode(bW);cX.appendChild(lC);svg.appendChild(cX);var tw=cX.getBBox(),HA=tw.width,IA=tw.height;svg.removeChild(cX);if(aho){document.body.removeChild(svg);}if(HA===0&&IA===0&&bW!=="M"){return F.uZ("M",jm,bN);}else{return{width:HA,height:IA};}};F.aju=function(bW,jm,bN){var lC=document.createTextNode(bW),BE=document.createElement('div');var cG=bN.cG||"12px";if(typeof cG==="number"){cG=cG+"px";}F.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:cG,fontFamily:jm},function(value,name){BE.style[name]=value;});if(bN.wL){BE.style.whiteSpace=bN.wL;}BE.appendChild(lC);document.body.appendChild(BE);var tw=BE.getBoundingClientRect(),HA=tw.width||tw.right-tw.left,IA=tw.height||tw.bottom-tw.top;document.body.removeChild(BE);if(HA===0&&IA===0&&bW!=="M"){return F.aju("M",jm,cG);}else{return{width:HA,height:IA};}};F.abc=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};F.AY={SVG:function SVG(arU){var fw=document.createElementNS("http://www.w3.org/2000/svg","svg");fw.setAttribute('viewBox',arU);return fw;},Path:function Path(vJ,le){var gV=document.createElementNS("http://www.w3.org/2000/svg","path");gV.style.fill='none';gV.style.stroke=le.color||'#000000';gV.style.strokeWidth=le.thickness||4;if(vJ){gV.setAttribute('d',vJ.toString().trim());}return gV;},Rect:function Rect(bQ,aD,fo){var aH=document.createElementNS("http://www.w3.org/2000/svg","rect");aH.setAttribute('width',bQ||0);aH.setAttribute('height',aD||0);if(fo){aH.setAttribute('style',fo);}return aH;}};F.Hi=function Hi(mo){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(mo);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(mo+' cannot be parsed as an ISO 8601 date.');}};F.wB=function aFT(ju){if(ju.toISOString&&typeof ju.toISOString==='function'){return ju.toISOString();}else{return new Error(ju+' is not a Date object.');}};F.vg=function vg(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};F.EB=function EB(o){if(F.vg(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};F.Wq=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};F.agF=function(aI){aI=String(aI).replace(/[^0-9a-f]/gi,"");if(aI.length<6){aI=aI[0]+aI[0]+aI[1]+aI[1]+aI[2]+aI[2];}var Xf=function(bW){return parseInt(bW,16);};var r=Xf(aI.substring(0,2));var g=Xf(aI.substring(2,4));var b=Xf(aI.substring(4,6));return{r:r,g:g,b:b};};F.ayX=function(aI){var PS="";var KV=function(n){while(n.length<2){n='0'+n;}return n;};var VU=function(n){return KV(n.toString(16));};PS+=VU(Math.floor(aI.r));PS+=VU(Math.floor(aI.g));PS+=VU(Math.floor(aI.b));return '#'+PS;};F.aDG=function(aEx,asv,aDh){var Ea=aDh,VJ=F.agF(aEx),oU=F.agF(asv);oU.r=(1-Ea)*oU.r+(VJ.r*Ea);oU.g=(1-Ea)*oU.g+(VJ.g*Ea);oU.b=(1-Ea)*oU.b+(VJ.b*Ea);oU.r=Math.floor(oU.r);oU.g=Math.floor(oU.g);oU.b=Math.floor(oU.b);return F.ayX(oU);};F.amQ=function(arr,uF){var aEO=F.reduceLeft(arr,function(fG,dm){if(dm.opacity===undefined){dm.opacity=127;}var auA=dm.opacity/255;return F.aDG(dm.color,fG,auA);},uF);return aEO;};F.afc=function(gF){if(gF.length===0){return gF;}var eQ=gF.slice(0);eQ.sort(function(a,b){return a.startIndex-b.startIndex;});var TQ=null;var lp=[];var Yt=0,LA=[];var H=eQ[0].startIndex;while(eQ.length>0){Yt=0;LA=null;LA=[];var aU=0;while(aU<eQ.length&&eQ[aU].startIndex<=H){if(H<=eQ[aU].startIndex+eQ[aU].length-1){Yt++;LA.push(eQ[aU]);aU++;}else{eQ.splice(aU,1);}}if(Yt>0){var EA=F.amQ(LA,'#ffffff');if(EA===TQ){lp[lp.length-1].endIndex=H;}else{lp.push({startIndex:H,endIndex:H,color:EA});}TQ=EA;H++;}else{if(eQ.length>0){H=eQ[0].startIndex;}TQ=null;}}return lp;};F.FV=function(Xq){return Xq.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};F.amt=function(af){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(af);};F.KV=function(hG,dF){var bW=""+hG;while(bW.length<dF){bW='0'+bW;}return bW;};F.aJl=function(fr){var fO=fr.getTimezoneOffset();fO=((fO<0?'+':'-')+F.KV(parseInt(Math.abs(fO/60),10),2)+F.KV(Math.abs(fO%60),2));return fO;};F.ahv=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];F.Tu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];F.aeX=function(Wt){var azE=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aa=azE.exec(Wt),amo,Cd,agn,agO,api,yZ,abz;if(!aa){return null;}else{amo=aa[1].toLowerCase();agn=aa[2];agO=aa[3];api=aa[4];yZ=aa[5];abz=aa[6];for(Cd=0;Cd<12;Cd++){if(F.Tu[Cd].toLowerCase()===amo){break;}}if(Cd>=12){return null;}return new Date(Date.UTC(abz,Cd,agn,agO,api,yZ));}};F.aiJ=function(fr){return(F.ahv[fr.getUTCDay()]+" "+F.Tu[fr.getUTCMonth()]+" "+fr.getUTCDate()+" "+fr.getUTCHours()+':'+fr.getUTCMinutes()+':'+fr.getUTCSeconds()+" "+"GMT+0000 "+fr.getUTCFullYear());};F.ayV=function(fr){return(F.ahv[fr.getUTCDay()]+" "+F.Tu[fr.getUTCMonth()]+" "+fr.getUTCDate()+" "+fr.getUTCFullYear());};F.ayq=function(fr){return(fr.getUTCHours()+':'+fr.getUTCMinutes()+':'+fr.getUTCSeconds()+" "+"GMT+0000");};F.qr=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};F.xd=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};F.aoX=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();F.oV=(function(){var oV=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var abe={};oV.forEach(function(abC){abe[abC]='pointer'+abC;});return abe;}if(window.navigator.msPointerEnabled){var amP={};for(var H=0;H<oV.length;H++){var SK=oV[H];var atl='MSPointer'+SK.charAt(0).toUpperCase()+SK.slice(1);amP[SK]=atl;}return amP;}return{};})();F.tJ=(function(){return{Co: ! !navigator.userAgent.match('Edge'),aId:document.documentMode!==undefined,aGg:document.documentMode===8,aGI:document.documentMode===9,aIi:document.documentMode===10,aFU:document.documentMode===11,azx:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),ayJ:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();F.OM=(function(nP){if(!nP|| !IPCC.F.trim(nP)){return 'regular';}return IPCC.F.trim(nP).toLowerCase();});F.aHS=function(arg,value){return typeof arg!=='undefined'?arg:value;};F.QG=function(value){return Number(value.replace(/[a-z]+$/,''));};F.OU=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};F.aix=function(){if(this.rS===undefined){this.rS=document.createTextNode('');}return this.rS;};F.ajC=function(){if(this.cr===undefined){this.cr=document.createElement('textarea');this.rS=document.createTextNode('');this.cr.appendChild(F.rS);this.cr.style.position='absolute';this.cr.style.overflow='hidden';this.cr.style.width='80px';this.cr.style.height='80px';this.cr.style.resize='none';this.cr.style.top='-9999px';this.cr.style.left='-9999px';this.cr.style.whiteSpace='pre-wrap';this.cr.style.border=0;this.cr.style.padding='2px';document.body.appendChild(this.cr);}return this.cr;};F.VD=function(cr,Dk,aV){var Vi=0.1;var Ix;if(Dk===0||Dk>aV){Dk=aV;}while(Vi<=Dk){Ix=(Vi+Dk)/2;cr.style.fontSize=Ix+'px';if(cr.scrollHeight<=cr.offsetHeight){Vi=Ix+0.1;}else{Dk=Ix-0.1;}}var afW=(Ix-0.5)*0.95;cr.style.fontSize=afW+'px';return afW;};F.MP=function(vT,qt,Za,qw){if(vT(qt,Za)!==Za){return typeof(qw)==='number'?qw:Za;}return qt;};F.OT=function(qt,aCB,qw){return F.MP(Math.min,qt,aCB,qw);};F.Qv=function(qt,aBG,qw){return F.MP(Math.max,qt,aBG,qw);};F.arL=(function(){var Ip;return function(asX,jR,aDt){if(Ip!==undefined&& !aDt){setTimeout(jR.bind(null,Ip),0);return;}asJ(asX,function(sA){Ip=sA;jR(sA);});};function asJ(QB,jR){var jm='jctqxvjmncyjagibfltptfzhknc';var jE='@font-face {font-family:'+jm+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var fo;var nV;var agy;var aeD,adW;axv();ato(function(sA){avd();jR(sA);});function axv(){fo=document.createElement('style');fo.innerText=jE;QB.appendChild(fo);nV=document.createElement('div');nV.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';aeD=akD(nV,'monospace');adW=akD(nV,'arial');QB.appendChild(nV);};function avd(){clearInterval(agy);QB.removeChild(nV);QB.removeChild(fo);};function ato(bK){var avD=Date.now();var qM=500;var azv=25;agy=setInterval(function(){var ahB=aeD.offsetWidth===adW.offsetWidth;if(ahB||Date.now()-avD>qM){bK(ahB);}},azv);};function akD(nV,jE){var ati='!!';var afv=document.createElement('div');var JZ=document.createElement('span');JZ.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';JZ.innerText=ati;JZ.style.fontFamily=jm+', '+jE;afv.appendChild(JZ);nV.appendChild(afv);return JZ;}}})();F.apG=function(fP,yH,nM){var uO=document.createElement('div');if(!IPCC.F.tJ.ayJ){fP=fP.replace(/href="#/g,'href="#'+nM);fP=fP.replace(/url\("?#(.+?)"?\)/g,'url(#'+nM+'$1)');fP=fP.replace(/ id="/g,' id="'+nM);uO.innerHTML=fP;return uO;}uO.innerHTML=fP;var aoy=uO.querySelectorAll('[id]');var aoE=uO.querySelectorAll("*");var aqe=yH.replace(/"/g,'\\$&');var aym=['href','xlink:href'];var awb=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.F.forEach(aoy,function(ak){ak.id=nM+ak.id;});IPCC.F.forEach(aoE,function(ak){IPCC.F.forEach(aym,function(pA){if(ak.hasAttribute(pA)&&ak.getAttribute(pA).indexOf('#')===0){ak.setAttribute(pA,ak.getAttribute(pA).replace('#',yH+'#'+nM));}});IPCC.F.forEach(awb,function(pA){if(ak.hasAttribute(pA)&&ak.getAttribute(pA).match(/^url\("?#/)){ak.setAttribute(pA,ak.getAttribute(pA).replace(/^url\("?#(.+?)\"?\)$/,'url("'+yH+'#'+nM+'$1")'));}});if(ak.hasAttribute('style')){var Df=ak.style.cssText;Df=Df.replace(/url\("?#(.+?)"?\)/g,'url("'+aqe+'#'+nM+'$1")');ak.style.cssText=Df;}});return uO;};module.exports=F;},{}],29:[function(require,module,exports){var yO=require('./Type');yO.registerNamespace('IPCC');module.exports={Pagecounter:1,gs:true,aeO:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qo:require('./predefinedContextMenu'),Yw:require('./indexOf'),RA:require('./setProperties'),bC:require('./PageItem'),Eq:require('./GetUniqueID'),abM:require('./ViewerState'),uH:require('./Configuration'),ax:require('./Cursor'),kx:require('./Res'),bi:require('./Validate'),il:require('./Debug'),fM:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:yO,F:require('./IPCC.Util'),cj:require('./Art'),km:require('./SelectTextController'),eO:require('./Matrix'),aak:require('./ViewerModel'),eh:require('./ContextMenuController'),fq:require('./SvgUIDirector'),nA:require('./PropertyChangedEventArgs'),zA:require('./StringBuilder'),cW:require('./MultiTouchController'),pN:require('./ImagePyramid'),db:require('./SingleTouchController'),lz:require('./AddPolyMarkController'),nF:require('./SelectController'),et:require('./AddRectangularMarkController'),nr:require('./AddFreehandMarkController'),lP:require('./AddLineMarkController'),du:require('./MouseWheelController'),pe:require('./HandPanController'),mc:require('./RectangleZoomController'),od:require('./MagnifierController'),lf:require('./EditMarksController'),yp:require('./RunMarksController'),Bk:require('./Space'),fR:require('./Image'),Qw:require('./ImagePool'),GC:require('./PyramidLevel'),vU:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var fR=function(kE,aP,bQ,aD,fS,gj){IPCC.Bk.call(this,0,0,0,0);this.width=bQ;this.height=aD;this.fS=fS;this.gj=gj;this.aP=aP||0;this.fv=0;this.qi=true;this.aov={};this.zp=false;var K=this;this.aP=aP;this.get_url=function(gQ,dZ,aG){dZ=dZ||'Image';aG=aG||'';var Db=fR.HB(kE);var Gg=false;if(/^[\x00-\x7F]*$/.test(Db)){Gg=true;}if(aG===null||aG===''){if(dZ==='Attributes'){var wi='';if(!IPCC.uH.Ke()){wi='&ContentType=png';}if(!Gg){return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=e'+kE+wi;}else{return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=u'+encodeURIComponent(Db)+wi;}}else{if(dZ==='SvgImage'){if(!Gg){return gQ+'/Page/q/'+aP.toString()+'?DocumentID=e'+kE+'&'+aG;}else{return gQ+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Db)+'&'+aG;}}if(!Gg){return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=e'+kE+'&'+aG;}else{return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=u'+encodeURIComponent(Db)+'&'+aG;}}}else{if(dZ==='SvgImage'){if(!Gg){return gQ+'/Page/q/'+aP.toString()+'?DocumentID=e'+kE+'&'+aG;}else{return gQ+'/Page/q/'+aP.toString()+'?DocumentID=u'+encodeURIComponent(Db)+'&'+aG;}}if(!Gg){return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=e'+kE+'&'+aG;}else{return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=u'+encodeURIComponent(Db)+'&'+aG;}}};this.get_urlArt=function(gQ,dZ,aG){dZ=dZ||'Art';aG=aG||'';if(aG===null||aG===''){if(dZ==='Art'){return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=e'+kE;}}else{return gQ+'/Page/q/'+aP.toString()+'/'+dZ+'?DocumentID=e'+kE+'&'+aG;}};this.get_identifier=function(){return IPCC.fR.HB(kE);};this.get_encodedIdentifier=function(){return kE;};this.toString=function(){return 'Image("'+kE+'", '+this.aP+', '+this.width+' x '+this.height+', '+this.fS+', '+this.gj+')';};function ajl(arA,R){if(R.Wb()){K.qi=true;K.zp=false;return;}var Um=arA.split(',');var ma=false;for(var bH=0;bH<Um.length;bH++){if(Um[bH]==="SVG"||Um[bH]==="svg"){if(IPCC.uH.Ke()){K.zp=true;K.qi=false;}else{K.zp=false;}ma=true;break;}}if(!ma){K.zp=false;K.qi=true;}if(R){if(R.Pg){R.Pg(K.zp);}}};this.Su=function(gQ,R,CI){R.aP=this.aP;var nd=0;var mn=R.xt();if(mn){if(document.documentMode<9){mn=false;}}var qv=true;if(R.lk()===0){qv=false;}var pJ=function(eb,ac){try{if(eb===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(eb.errorCode){if(eb.errorCode==='SvgNotAvailable'){mn=false;K.width= +(eb.pageAttributes.imageWidth);K.height= +(eb.pageAttributes.imageHeight);K.fS= +(eb.pageAttributes.imageXResolution);if(K.fS<=0){K.fS=72;}K.gj= +(eb.pageAttributes.imageYResolution);if(K.gj<=0){K.gj=72;}K.fv= +(eb.pageAttributes.pageCount);K.qi=eb.pageAttributes.isRaster!=='false';ajl(eb.pageAttributes.contentType,R);}}else{K.width= +(eb.imageWidth);K.height= +(eb.imageHeight);K.fS= +(eb.imageXResolution);if(K.fS<=0){K.fS=72;}K.gj= +(eb.imageYResolution);if(K.gj<=0){K.gj=72;}K.fv= +(eb.pageCount);K.qi=eb.isRaster!=='false';ajl(eb.contentType,R);}var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");var Fy=false;if(pa==="true"){Fy=true;}R.afI(Fy);if(CI){CI();}}catch(e){R.bf('openPage',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};function OG(){mn=false;if(nd<1){var gI={method:'GET',url:K.get_url(gQ,'Attributes'),headers:{'Content-Type':'application/json'}};if(qv===true){gI.timeout=R.lk();}IPCC.F.mL.dY(gI).then(fD,ep);nd++;}};var aBU=function(fP,ac){var bQ;var aD;function ash(){var aaw;try{aaw=JSON.parse(fP);}catch(aR){aaw=undefined;mn=true;}return aaw;};try{bQ=fP.match(/width=\"([0-9.]+)\"/);aD=fP.match(/height=\"([0-9.]+)\"/);if(bQ&&aD){bQ=Number(bQ[1]);aD=Number(aD[1]);}else{throw "error";}if(isNaN(bQ)||isNaN(aD)){throw "error";}K.width=bQ;K.height=aD;K.fS=72;K.gj=72;K.zp=true;K.qi=false;if(R){if(typeof(R.Pg==='function')){R.Pg(K.zp);}}if(CI){CI();}}catch(e){var aa=ash();if(aa){pJ(aa,ac);return;}if(mn){if(nd<1){mn=false;setTimeout(OG,10);return;}}R.bf('openPage',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};function fD(ac){var aa=null,da;try{if(!mn){aa=JSON.parse(ac.responseText);pJ(aa,ac);}else{var ph;var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");if(pa==='true'&&R.iO()===true){var ws=IPCC.Web.gT.sd.tN(ac.getResponseHeader("Accusoft-Data-SK"));var an=IPCC.Web.JP(ws,jr);var es=IPCC.Web.JC(ac);var uT=IPCC.Web.Cp(es,an,jr);ph=IPCC.Web.gT.Ii.lW(uT);}else{ph=ac.responseText;}var XN;if(ph.length>=1000){XN=ph.substring(0,1000);}else{XN=ph.substring(0,ph.length);}aBU(XN,ac);}}catch(ex){if(mn){mn=false;if(nd<1){setTimeout(OG,10);return;}}da="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,da);}};function ep(aa){try{var da,nv,mh;if(!aa.response){throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,"Client timed out on load");}if(aa.response.status===403){nd++;if(aa.response.statusText&&aa.response.statusText!==""){da="Expired viewer session ID, error message from the server: "+aa.response.statusText;}else{da="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,da);}if(mn){mn=false;if(nd<1){setTimeout(OG,10);return;}}mh=aa.response.getResponseHeader('Accusoft-Status-Message');if(mh){var rf;nv=aa.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vk(nv)){rf=parseInt(nv,10);}throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,mh,rf);}else{if(aa.response.statusText&&aa.response.statusText!==""){da="Error message from the service: "+aa.response.statusText;}else{da="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,da);}}catch(e){if(mn){mn=false;if(nd<1){setTimeout(OG,10);return;}}R.bf('openPage',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};var jr=IPCC.Web.Fo.aiH(4,IPCC.Web.Oz());var oM=IPCC.Web.gT.Jd.lW(jr);var gI={method:'GET',cache:true};if(!mn){gI.url=this.get_url(gQ,'Attributes');gI.headers={'Content-Type':'application/json'};}else{var af;if(R.iO()===true){jr=IPCC.Web.Fo.aaE(4,IPCC.Web.Oz());oM=IPCC.Web.gT.Jd.lW(jr);af=this.get_url(gQ,'SvgImage','Scale=1&ContentType='+IPCC.F.AN+'&iv='+oM);}else{af=this.get_url(gQ,'SvgImage','Scale=1&ContentType='+IPCC.F.AN);}gI.url=af;}IPCC.F.mL.dY(gI).then(fD,ep);};this.awR=function(gQ,R,CI){R.aP=this.aP;var nd=0;var qv=true;if(R.lk()===0){qv=false;}var pJ=function(eb,ac){try{if(eb===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}K.width= +(eb.imageWidth);K.height= +(eb.imageHeight);K.fS= +(eb.imageXResolution);if(K.fS<=0){K.fS=72;}K.gj= +(eb.imageYResolution);if(K.gj<=0){K.gj=72;}K.fv= +(eb.pageCount);K.qi=true;var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");var Fy=false;if(pa==="true"){Fy=true;}R.afI(Fy);if(CI){CI();}}catch(e){R.bf('openPage',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};function fD(ac){try{var hC=ac.status,aa,da;if(hC===200){aa=null;try{aa=JSON.parse(ac.responseText);pJ(aa,ac);}catch(ex){da="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,da);}}}catch(e){R.bf('openPageForRaster',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};function ep(aa){try{var hC=aa.response.status,da,mh,nv;if(!aa.response){throw new IPCC.Web.UI.ImGearHttpException(hC,"Client timed out on load");}if(hC===403){nd++;if(aa.response.statusText&&aa.response.statusText!==""){da="Expired viewer session ID, error message from the server: "+aa.response.statusText;}else{da="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}mh=aa.response.getResponseHeader('Accusoft-Status-Message');if(mh){var rf;nv=aa.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vk(nv)){rf=parseInt(nv,10);}throw new IPCC.Web.UI.ImGearHttpException(hC,mh,rf);}else{if(aa.response.statusText&&aa.response.statusText!==""){da="Error message from the service: "+aa.response.statusText;}else{da="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}}catch(e){R.bf('openPageForRaster',e);if(typeof(R.bz)==='function'){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};var acF={method:'GET',url:this.get_url(gQ,'Attributes'),headers:{'Content-Type':'application/json'}};if(qv===true){acF.timeout=R.lk();}IPCC.F.mL.dY(acF).then(fD,ep);};return this;};fR.prototype.clone=function(){var TO=new fR(this.get_encodedIdentifier(),this.aP,this.width,this.height,this.fS,this.gj);TO.fv=this.fv;TO.qi=this.qi;return TO;};fR.prototype.equals=function(L){if(this.get_encodedIdentifier()!==L.get_encodedIdentifier()){return false;}if(this.aP!==L.aP){return false;}return true;};fR.prototype.pI=8;fR.prototype.sr=0.000001;fR.amA=function(aG){var Hv=aG.referenceDocumentIdentifier;var afw=fR.tg(Hv);var gr=aG.encodedDocumentIdentifier;var iv=aG.documentIdentifier;var fJ;if(gr===''){gr=undefined;}if(iv===''){iv=undefined;}if(Hv&&Hv!==''){if(gr===afw){gr=undefined;}if(iv===Hv){iv=undefined;}}if(iv){fJ=IPCC.fR.tg(iv);if(gr){if(gr!==fJ){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gr=fJ;}}else{if(gr){iv=IPCC.fR.HB(gr);}}if(!gr){iv=Hv;gr=afw;}var aj=aG.pageNumber;var afN=aG.referencePageNumber;if(aj===afN){aj=undefined;}if(aj!==0&& !aj){aj=afN;}aG.encodedDocumentIdentifier=gr;aG.documentIdentifier=iv;aG.pageNumber=aj;};fR.tg=function(iC){if(!iC||iC===''){return '';}var lQ=[];var H;for(H=0;H<iC.length;H++){lQ.push(iC.charCodeAt(H)%256);lQ.push(Math.floor(iC.charCodeAt(H)/256));}lQ.push(0);lQ.push(0);var PK='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var om=[],rX;for(H=0;H<lQ.length-1;H+=3){rX=lQ[H]*0x10000+lQ[H+1]*0x100+lQ[H+2];om.push(PK.charAt(Math.floor(rX/0x40000)));om.push(PK.charAt(Math.floor(rX/0x1000)%0x40));om.push(PK.charAt(Math.floor(rX/0x40)%0x40));om.push(PK.charAt(rX%0x40));}var Un=Math.ceil(iC.length*16/6);while(om.length>Un){om.pop();}if((om.length%4)===3){om.push('1');}else if((om.length%4)===2){om.push('2');}else if((om.length%4)===0){om.push('0');}return om.join('');};fR.HB=function(kE){if(!kE||kE===''){return '';}var aga=kE.length-1;var Lc=[],rX;var re,lQ=[],nJ=[];var H;for(H=0;H<aga;H++){re=kE.charCodeAt(H);if(re>64&&re<91){nJ.push(re-65);}else if(re>96&&re<123){nJ.push(re-97+26);}else if(re>47&&re<58){nJ.push(re-48+52);}else if(re===45){nJ.push(62);}else if(re===95){nJ.push(63);}else{return '';}}nJ.push(0);nJ.push(0);nJ.push(0);for(H=0;H<nJ.length-3;H+=4){rX=nJ[H]*0x40000+nJ[H+1]*0x1000+nJ[H+2]*0x40+nJ[H+3];lQ.push(Math.floor(rX/0x10000));lQ.push(Math.floor(rX/0x100)%256);lQ.push(rX%256);}for(H=0;H<lQ.length-1;H+=2){Lc.push(String.fromCharCode(lQ[H]+lQ[H+1]*0x100));}var Un=Math.floor(aga*6/16);while(Lc.length>Un){Lc.pop();}return Lc.join('');};module.exports=fR;},{}],31:[function(require,module,exports){var Qw=function(){this.cO=[];this.parentElementID='';this.lockTile=function(fI){var cl,H,Yx,UD;if(this.aao(fI)){return;}Yx=0;for(H=this.cO.length-1;H>=0;H--){if(!(this.cO[H].locked)){Yx++;UD=H;}}if(Yx>4){cl=this.cO[UD];this.uiDirector.afS(cl);this.cO.splice(UD,1);}cl=new aAw();cl.pool=this;this.uiDirector.aot(cl);this.cO.push(cl);cl.locked=true;cl.tile=fI;fI.poolItem=cl;return;};this.aao=function(fI){var cl,H;if(this.locked){return true;}for(H=0;H<this.cO.length;H++){if(this.cO[H].tile===fI){cl=this.cO[H];cl.locked=true;fI.poolItem=cl;return true;}}return false;};this.acL=function(fI){var iw,H;iw=fI.poolItem;if(iw!==undefined&&iw.locked){this.uiDirector.aAX(iw);iw.locked=false;fI.poolItem=undefined;for(H=0;H<this.cO.length;H++){if(this.cO[H]===iw){this.cO.splice(H,1);this.cO.push(iw);return;}}}};return this;};Qw.prototype.aDP=function(){var H;for(H=0;H<this.cO.length;H++){if(!this.cO[H].locked){this.uiDirector.afS(this.cO[H]);}}};var aAw=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Qw;},{}],32:[function(require,module,exports){var pN=function(){this.eE=[];return this;};pN.prototype.aFo=function(cd,dh){var dP=cd.qI();var H,lF,oH;var cY=1;var adB;var ys=[];var um=[];var wH=[];var DU,QY;oH=this.eE.length;for(H=0;H<this.eE.length;H++){if(this.eE[H].dP>dP){oH=H;break;}}lF=oH-1;if(lF<0){lF=0;}if(oH>=this.eE.length){oH=this.eE.length-1;}if(lF!==oH){adB=(dP-this.eE[lF].dP)/(this.eE[oH].dP-this.eE[lF].dP);cY=adB*1.0;if(cY>=0.15){cY=1;lF=oH;}if(cY<=0.15){cY=1;oH=lF;}}um=this.eE[lF].OX(dh);wH=this.eE[oH].OX(dh);var Rs=function(me){var H;for(H=0;H<me.length;H++){me[H].level.pool.aao(me[H]);}};var UK=function(me){var amc=[];var H;for(H=0;H<me.length;H++){if(!me[H].get_isLockedAndLoaded()){amc.push(me[H]);}}return amc;};var ajc=function(me){var amY=[];var H;for(H=0;H<me.length;H++){if(me[H].get_isLockedAndLoaded()){amY.push(me[H]);}}return amY;};if(lF>0&&lF===oH&&this.eE[oH].tiles.length>1){lF=oH-1;um=this.eE[lF].OX(dh);}Rs(um);ys=UK(um);if(ys.length>0){for(DU=lF-1;DU>=0;DU--){QY=this.eE[DU].OX(dh);Rs(QY);if(UK(QY).length<1){break;}}if(DU<0){um=ajc(um);}else{lF=DU;um=QY;cY=1;}}else{Rs(wH);ys=UK(wH);}Rs(wH);wH=ajc(wH);if(ys.length>3){ys.splice(3,ys.length-3);}function asV(){var aa;function UQ(Ds){var aa='',H,bU;if(Ds.length<1){return '';}bU=Ds[0].level;aa+='level '+bU.id.toString()+' - ';for(H=0;H<Ds.length;H++){if(H>0){aa+=', ';}aa+='('+(Ds[H].x/bU.mU).toString()+','+(Ds[H].y/bU.Al).toString()+')';if(Ds[H].get_isLockedAndLoaded()){aa+='*';}}return aa;};aa='tilesToRequest: '+UQ(ys)+'<br/>';aa+='opaqueTiles: '+UQ(um)+'<br/>';aa+='translucentTiles: '+UQ(wH)+'<br/>';aa+='opacity: '+cY.toString()+'<br/>';aa+='asn: '+dP.toString()+'<br/>';aa+='cd: '+cd.toString()+'<br/>';return aa;};return{opaqueTiles:um,translucentTiles:wH,opacity:cY,tilesToRequest:ys,toString:asV,asn:dP,cd:cd.toString()};};pN.prototype.aFA=function(qH){var Cl=[];var ss=[];var H,j;var bU,tile;for(H=0;H<this.eE.length;H++){bU=this.eE[H];for(j=0;j<bU.tiles.length;j++){tile=bU.tiles[j];if(tile.poolItem!==undefined){Cl.push(tile);}}}var ang=function(YA,amg){var H,j,WU,WM;for(H=0;H<amg.length;H++){WU=amg[H];WM=true;for(j=0;j<YA.length;j++){if(WU===YA[j]){WM=false;break;}}if(WM){YA.push(WU);}}};ss=qH.tilesToRequest.concat();ang(ss,qH.opaqueTiles);ang(ss,qH.translucentTiles);for(H=Cl.length-1;H>=0;H--){var aqA=Cl[H];for(j=0;j<ss.length;j++){if(ss[j]===aqA){Cl.splice(H,1);break;}}}for(H=0;H<Cl.length;H++){Cl[H].unlock();}for(H=0;H<ss.length;H++){ss[H].relock();}for(H=0;H<ss.length;H++){if(ss[H].poolItem===undefined){ss[H].lock();}}};pN.prototype.unlockAllItems=function(){var H,j,bU;for(H=0;H<this.eE.length;H++){bU=this.eE[H];for(j=0;j<bU.tiles.length;j++){if(bU.tiles[j].poolItem!==undefined){bU.pool.acL(bU.tiles[j]);}}}};pN.prototype.aGp=function(){var H;for(H=0;H<this.eE.length;H++){this.eE[H].pool.aDP();}};pN.prototype.toString=function(){var aa='',H,j,bU;for(H=0;H<this.eE.length;H++){bU=this.eE[H];aa+='Level '+H.toString()+':   scaleFactor='+bU.dP.toString()+'  image='+bU.width.toString()+'x'+bU.height.toString()+'  tile='+bU.mU.toString()+'x'+bU.Al.toString()+'\n';for(j=0;j<bU.tiles.length;j++){if(j>0){aa+=', ';}aa+='('+bU.tiles[j].x.toString()+', '+bU.tiles[j].y.toString()+')';}aa+='\n';}return aa;};pN.prototype.expandTile=function(fI,ZR,Yv,aaY,aar,bU){fI.x=IPCC.F.OT(ZR-fI.xo,0,ZR,ZR-fI.xo);fI.y=IPCC.F.OT(Yv-fI.vn,0,Yv,Yv-fI.vn);fI.bQ=IPCC.F.Qv(aaY+(2*fI.xo),bU.width,aaY);fI.aD=IPCC.F.Qv(aar+(2*fI.vn),bU.height,aar);if(fI.x+fI.bQ>bU.width){fI.x=fI.x-fI.xo;fI.bQ=bU.width-fI.x;fI.xo=0;}if(fI.y+fI.aD>bU.height){fI.y=fI.y-fI.vn;fI.vn=0;fI.aD=bU.height-fI.y;}return fI;};pN.prototype.createPyramid=function(jB,R){var aDu=6000000;var alQ=5000;var mU=1024;var aEw=mU*mU*3*150;var aca=0.5;var aBy=2;var bo=R.cP();var zs=bo.width*bo.height*3;var wk;var bU;var dP;var H;var bB,cc;var tile;var Cr,Cw;this.eE=[];if(bo.qi){dP=1.0;wk=zs*dP*dP;while(this.eE.length<aBy||wk>alQ){bU=new IPCC.GC();bU.dP=dP;this.eE.unshift(bU);dP*=aca;wk=zs*dP*dP;}}else{if(R.pf()===true){zs=bo.width*bo.height;}dP=Math.sqrt(alQ/zs);var axq=dP*bo.fS;dP=Math.ceil(axq)/bo.fS;wk=zs*dP*dP;if(R.pf()===false){while(wk<aEw){bU=new IPCC.GC();bU.dP=dP;this.eE.push(bU);dP/=aca;wk=zs*dP*dP;}}else{bU=new IPCC.GC();bU.dP=1;this.eE.push(bU);}}bo.pI=this.eE[this.eE.length-1].dP*8;for(H=0;H<this.eE.length;H++){bU=this.eE[H];bU.OV=85;if(H===this.eE.length-1){bU.OV=100;}bU.pyramid=this;bU.id=H;bU.pool=new IPCC.Qw();bU.pool.uiDirector=jB;wk=zs*bU.dP*bU.dP;bU.width=Math.round(bo.width*bU.dP);bU.height=Math.round(bo.height*bU.dP);bU.mU=bU.width;bU.Al=bU.height;if(H>2&&H>this.eE.length-2){bU.mU=Math.min(mU/2,bU.width);bU.Al=Math.min(mU/2,bU.height);}if(wk>aDu){bU.mU=Math.min(mU,bU.width);bU.Al=Math.min(mU,bU.height);}bU.tiles=[];Cr=bU.mU;for(bB=0;bB<bU.width;bB+=Cr){Cr=bU.mU;if(bB+Cr*1.25>bU.width){Cr=bU.width-bB;}Cw=bU.Al;for(cc=0;cc<bU.height;cc+=Cw){Cw=bU.Al;if(cc+Cw*1.25>bU.height){Cw=bU.height-cc;}tile=new IPCC.vU();tile.level=bU;if(R.pf()===false){var Og='jpeg';if(bU.OV>=100){Og='png';}tile.contentType=Og;tile.vn=2;tile.xo=2;tile=this.expandTile(tile,bB,cc,Cr,Cw,bU);if(tile.bQ!==bU.width||tile.aD!==bU.height){tile.url=R.WC('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.bQ.toString()+'/'+tile.aD.toString(),'Scale='+bU.dP.toString()+'&Quality='+bU.OV+'&ContentType='+Og);}else{tile.url=R.WC('','Scale='+bU.dP.toString()+'&Quality='+bU.OV+'&ContentType='+Og);}}else{tile.url=R.WC('','Scale='+bU.dP.toString()+'&ContentType='+IPCC.F.AN);tile.aHv=jB.agH();}tile.right=tile.x+tile.bQ;tile.bottom=tile.y+tile.aD;bU.tiles.push(tile);}}}};module.exports=pN;},{}],33:[function(require,module,exports){var od=function(){this.as=false;this.R=false;};od.prototype.mW=function(R){this.R=R;};od.prototype.ei=function(){this.R=false;};od.prototype.bV=function(){if(this.as){this.R.bM().hideMagnifier();this.as=false;}};od.prototype.qP=function(){this.bV();};od.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){this.as=true;this.R.bM().showMagnifier(T.windowPoint);this.R.cV();}};od.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){this.R.bM().showMagnifier(T.windowPoint);this.R.cV();}};od.prototype.kn=function(){this.bV();this.R.cV();};od.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};module.exports=od;},{}],34:[function(require,module,exports){var eO=function(gG,iF,hN,gA,fe,fN){if(arguments.length===0){gG=gA=1;iF=hN=fe=fN=0;}this.ajr=function(){return gG*gA-iF*hN;};this.aHG=function(){return gG===1&&iF===0&&hN===0&&gA===1&&fe===0&&fN===0;};this.qm=function(){return gG;};this.oI=function(){return iF;};this.rw=function(){return hN;};this.sl=function(){return gA;};this.wE=function(){return fe;};this.xU=function(){return fN;};this.append=function(cd){var JE=gG*cd.qm()+iF*cd.rw();var Kh=gG*cd.oI()+iF*cd.sl();var Jy=hN*cd.qm()+gA*cd.rw();var Km=hN*cd.oI()+gA*cd.sl();var Lb=fe*cd.qm()+fN*cd.rw()+cd.wE();var JX=fe*cd.oI()+fN*cd.sl()+cd.xU();gG=JE;iF=Kh;hN=Jy;gA=Km;fe=Lb;fN=JX;};this.equals=function(L){if(gG!==L.qm()){return false;}if(iF!==L.oI()){return false;}if(hN!==L.rw()){return false;}if(gA!==L.sl()){return false;}if(fe!==L.wE()){return false;}if(fN!==L.xU()){return false;}return true;};this.ye=function(){if(!this.ain()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var FQ=this.ajr();var JE=gA/FQ;var Kh= -iF/FQ;var Jy= -hN/FQ;var Km=gG/FQ;var Lb=(hN*fN-gA*fe)/FQ;var JX=(iF*fe-gG*fN)/FQ;gG=JE;iF=Kh;hN=Jy;gA=Km;fe=Lb;fN=JX;};this.ER=function(cd){var JE=cd.qm()*gG+cd.oI()*hN;var Kh=cd.qm()*iF+cd.oI()*gA;var Jy=cd.rw()*gG+cd.sl()*hN;var Km=cd.rw()*iF+cd.sl()*gA;var Lb=cd.wE()*gG+cd.xU()*hN+fe;var JX=cd.wE()*iF+cd.xU()*gA+fN;gG=JE;iF=Kh;hN=Jy;gA=Km;fe=Lb;fN=JX;};this.xu=function(kL,so,lE,mR){fe-=lE;fN-=mR;this.scale(kL,so);fe+=lE;fN+=mR;};this.aCW=function(){gG=gA=1;iF=hN=fe=fN=0;};this.transform=function(ad){var bB=ad.x*gG+ad.y*hN+fe;var cc=ad.y*gA+ad.x*iF+fN;return new IPCC.Web.UI.Point(bB,cc);};this.mN=function(Xh,Wk){fe+=Xh;fN+=Wk;};this.atk=function(L){if(Math.abs(gG-L.qm())>1e-8){return false;}if(Math.abs(iF-L.oI())>1e-8){return false;}if(Math.abs(hN-L.rw())>1e-8){return false;}if(Math.abs(gA-L.sl())>1e-8){return false;}if(Math.abs(fe-L.wE())>1e-8){return false;}if(Math.abs(fN-L.xU())>1e-8){return false;}return true;};this.toString=function(){return '{'+gG.toFixed(6)+', '+iF.toFixed(6)+', '+hN.toFixed(6)+', '+gA.toFixed(6)+', '+fe.toFixed(3)+', '+fN.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.eO(gG,iF,hN,gA,fe,fN);};this.RW=function(fU){gG=fU.qm();iF=fU.oI();hN=fU.rw();gA=fU.sl();fe=fU.wE();fN=fU.xU();};this.aEB=function(aA,aQ){gG=1;gA=aQ.gj*aA.fS/(aA.gj*aQ.fS);iF=hN=fe=fN=0;};this.aaI=function(bn,aA,aQ){switch(bn){case IPCC.Web.UI.FitType.FullImage:this.axb(aA,aQ);break;case IPCC.Web.UI.FitType.FullWidth:this.adr(aA,aQ);break;case IPCC.Web.UI.FitType.FullHeight:this.acZ(aA,aQ);break;case IPCC.Web.UI.FitType.ActualSize:this.adw(aA,aQ);break;case IPCC.Web.UI.FitType.OneToOne:if(!(aA.qi)){this.adw(aA,aQ);}else{this.axc(aA,aQ);}break;}};this.adr=function(aA,aQ){var mi=this.qG(aA);var Aj=aQ.width-2;if(Aj<1){Aj=1;}var ag=Aj/mi.width;this.scale(ag,ag);mi=this.qG(aA);if(mi.y<0){this.mN(0,-mi.y);}};this.acZ=function(aA,aQ){var mi=this.qG(aA);var Aj=aQ.height-2;if(Aj<1){Aj=1;}var ag=Aj/mi.height;this.scale(ag,ag);mi=this.qG(aA);if(mi.x<0){this.mN(-mi.x,0);}};this.axb=function(aA,aQ){var kR=this.clone();kR.adr(aA,aQ);this.acZ(aA,aQ);if(Math.max(Math.abs(gG),Math.abs(iF))>Math.max(Math.abs(kR.qm()),Math.abs(kR.oI()))){this.RW(kR);}};this.adw=function(aA,aQ){var mi=this.qG({x:0,y:0,width:aA.fS,height:aA.gj});var ag=aQ.fS/mi.width;this.scale(ag,ag);};this.axc=function(aA,aQ){var mi=this.qG({x:0,y:0,width:1,height:1});var ag=1/Math.min(mi.width,mi.height);this.scale(ag,ag);if(Math.abs(gG-1)<0.0001){gG=1;}if(Math.abs(gA-1)<0.0001){gA=1;}};return this;};eO.prototype.ain=function(){return Math.abs(this.ajr())>1e-14;};eO.prototype.rotate=function(zU){this.adK(zU,0,0);};eO.prototype.adK=function(zU,lE,mR){var GK=zU*Math.PI*2/360;var jF=Math.sin(GK);var eK=Math.cos(GK);var cd=new IPCC.eO(eK,jF,-jF,eK,lE*(1-eK)+mR*jF,mR*(1-eK)-lE*jF);this.append(cd);};eO.prototype.aya=function(zU,lE,mR){var GK=zU*Math.PI*2/360;var jF=Math.sin(GK);var eK=Math.cos(GK);var cd=new IPCC.eO(eK,jF,-jF,eK,lE*(1-eK)+mR*jF,mR*(1-eK)-lE*jF);this.ER(cd);};eO.prototype.aJH=function(zU){this.aya(zU,0,0);};eO.prototype.scale=function(kL,so){var cd=new IPCC.eO(kL,0,0,so,0,0);this.append(cd);};eO.prototype.aIq=function(kL,so,lE,mR){var cd=new IPCC.eO(kL,0,0,so,lE*(1-kL),mR*(1-so));this.ER(cd);};eO.prototype.aHi=function(kL,so){var cd=new IPCC.eO(kL,0,0,so,0,0);this.ER(cd);};eO.prototype.skew=function(pO,qd){var cd=new IPCC.eO(1,Math.tan(qd*Math.PI*2/360),Math.tan(pO*Math.PI*2/360),1,0,0);this.append(cd);};eO.prototype.aEQ=function(pO,qd){var cd=new IPCC.eO(1,Math.tan(qd*Math.PI*2/360),Math.tan(pO*Math.PI*2/360),1,0,0);this.ER(cd);};eO.prototype.aGL=function(Xh,Wk){var cd=new IPCC.eO(1,0,0,1,Xh,Wk);this.ER(cd);};eO.prototype.xl=function(h){var fH=this.transform({x:h.x,y:h.y});var mt=fH.x;var np=fH.x;var mH=fH.y;var oK=fH.y;fH=this.transform({x:h.x+h.width,y:h.y});mt=Math.min(mt,fH.x);np=Math.max(np,fH.x);mH=Math.min(mH,fH.y);oK=Math.max(oK,fH.y);fH=this.transform({x:h.x+h.width,y:h.y+h.height});mt=Math.min(mt,fH.x);np=Math.max(np,fH.x);mH=Math.min(mH,fH.y);oK=Math.max(oK,fH.y);fH=this.transform({x:h.x,y:h.y+h.height});mt=Math.min(mt,fH.x);np=Math.max(np,fH.x);mH=Math.min(mH,fH.y);oK=Math.max(oK,fH.y);return new IPCC.Web.UI.Rectangle(mt,mH,np-mt,oK-mH);};eO.prototype.awm=function(aA,aQ,fa){var afZ=this.clone();afZ.ye();var atQ=afZ.transform({x:fa.x+fa.width/2,y:fa.y+fa.height/2});var ag=Math.min(aQ.width/fa.width,aQ.height/fa.height);ag-=1e-10;var ld=this.qI();if(ld*ag>aA.pI){ag=aA.pI/ld;}if(ld*ag<aA.sr){ag=aA.sr/ld;}this.scale(ag,ag);this.acp(aQ,atQ);};eO.prototype.NN=function(aA,aQ,dh){this.awm(aA,aQ,this.xl(dh));};eO.prototype.aHE=function(aQ){this.xu(1,-1,aQ.width/2,aQ.height/2);};eO.prototype.avA=function(aQ){this.xu(-1,1,aQ.width/2,aQ.height/2);};eO.prototype.abP=function(aqs,akj){var ahC=this.transform(aqs);this.mN(akj.x-ahC.x,akj.y-ahC.y);};eO.prototype.acp=function(aQ,dn){var aiC=this.transform(dn);this.mN(aQ.width/2-aiC.x,aQ.height/2-aiC.y);};eO.prototype.iG=function(bo,aQ){var bB=0,cc=0,end;var mZ=this.qG(bo);if(mZ.width<aQ.width){bB=(aQ.width-mZ.width)/2-mZ.x;}else{end=mZ.x+mZ.width;if(end<aQ.width){bB=aQ.width-end;}if(mZ.x>0){bB= -mZ.x;}}if(mZ.height<aQ.height){cc=(aQ.height-mZ.height)/2-mZ.y;}else{end=mZ.y+mZ.height;if(end<aQ.height){cc=aQ.height-end;}if(mZ.y>0){cc= -mZ.y;}}this.mN(bB,cc);};eO.prototype.qG=function(bo){return this.xl({x:0,y:0,width:bo.width,height:bo.height});};eO.prototype.aAT=function(){var jq,AF,iU,wg,acr,ih;jq=this.transform({x:0,y:0});AF=this.transform({x:0,y:1});iU=this.transform({x:1,y:0});wg=Math.atan2(AF.y-jq.y,AF.x-jq.x);acr=Math.atan2(iU.y-jq.y,iU.x-jq.x);ih=wg-acr;if(ih>Math.PI){ih=ih-2*Math.PI;}if(ih< -Math.PI){ih=ih+2*Math.PI;}return ih<0;};eO.prototype.ajt=function(){var jq,AF,wg;jq=this.transform({x:0,y:0});AF=this.transform({x:0,y:1});wg=Math.atan2(AF.y-jq.y,AF.x-jq.x)-Math.PI/2;if(wg<0){wg=wg+2*Math.PI;}return wg*360/(Math.PI*2);};eO.prototype.qI=function(){var fQ;var jq,oZ;var eR,eg,dP;jq=this.transform({x:0,y:0});oZ=this.transform({x:1,y:0});eR=oZ.x-jq.x;eg=oZ.y-jq.y;fQ=eR*eR+eg*eg;oZ=this.transform({x:0,y:1});eR=oZ.x-jq.x;eg=oZ.y-jq.y;dP=Math.min(fQ,eR*eR+eg*eg);oZ=this.transform({x:1,y:1});eR=oZ.x-jq.x;eg=oZ.y-jq.y;dP=Math.min(fQ,eR*eR+eg*eg);oZ=this.transform({x:1,y: -1});eR=oZ.x-jq.x;eg=oZ.y-jq.y;dP=Math.min(fQ,eR*eR+eg*eg);return Math.sqrt(fQ);};eO.aGV=function(){return new IPCC.eO(1,0,0,1,0,0);};module.exports=eO;},{}],35:[function(require,module,exports){var fM={aaW:1,adP:2,aaS:3,afX:4,alJ:5,FU:6,Mj:7,ank:8,ama:9,amU:10,alG:11,alZ:12,ams:13,agv:14,acv:15,aeb:16};module.exports=fM;},{}],36:[function(require,module,exports){var du=function(){this.R=false;this.aFr=1.5;};du.prototype.mW=function(R){this.R=R;};du.prototype.ei=function(){this.R=false;};du.prototype.bV=function(){};du.prototype.na=function(T){var bJ=this.R.bM();var aA=this.R.cP();var aQ=this.R.dS();var ah=bJ.fb();var LJ=T.wheelDelta/120;if(T.domEvent.ctrlKey){T.domEvent.preventDefault();var ag=((this.aFr-1)/2)+1;if(LJ<0){ag=1/ag;}var ld=ah.qI();if(ld*ag>aA.pI){ag=aA.pI/ld;}if(ld*ag<aA.sr){ag=aA.sr/ld;}ah.xu(ag,ag,T.windowPoint.x,T.windowPoint.y);ah.iG(aA,aQ);this.R.bz('userModifiedViewState',{});bJ.iE(ah);}else{var acg=ah.transform({x:0,y:0});ah.mN(0,LJ*aQ.gj);ah.iG(aA,aQ);var adj=ah.transform({x:0,y:0});if(Math.abs(acg.x-adj.x)>0.001||Math.abs(acg.y-adj.y)>0.001){T.domEvent.preventDefault();this.R.bz('userModifiedViewState',{});bJ.iE(ah);}}this.R.cV();};module.exports=du;},{}],37:[function(require,module,exports){var cW=function(alq){this.alq=alq;this.TN=0;this.PD=1;this.PH=2;this.ST=3;this.Sp=4;this.bZ=this.TN;this.R=false;this.nM=0;};cW.prototype.mW=function(R){this.R=R;this.bJ=R.bM();};cW.prototype.ei=function(){this.R=false;};cW.prototype.bV=function(){if(this.bZ===this.PH){this.R.bM().hideMagnifier();}this.bZ=this.TN;};cW.prototype.Lf=function(T){var aR=T.domEvent.rawEvent;switch(this.bZ){case this.TN:if(aR.touches.length===1){this.aCE(T);}else if(aR.touches.length===2){this.ahj(T);}else if(aR.touches.length===3){this.VX(T);}else{this.bV();}break;case this.PD:if(aR.touches.length===2){this.ahj(T);}else if(aR.touches.length===3){this.VX(T);}else{this.bV();}break;case this.Sp:if(aR.touches.length!==3){this.bV();}break;case this.PH:this.bV();break;case this.ST:if(aR.touches.length===3){this.VX(T);}else if(aR.touches.length!==2){this.bV();}break;}};cW.prototype.Rr=function(T){switch(this.bZ){case this.PD:this.nM++;break;case this.PH:this.acQ(T);break;case this.ST:this.aon(T);break;case this.Sp:this.aCU(T);break;}};cW.prototype.RD=function(){this.bV();};cW.prototype.KD=function(){this.bV();};cW.prototype.aCE=function(T){this.bZ=this.PD;this.nM++;var apk=this.nM;var K=this;function awP(){if(K.bZ===this.PD&&apk===K.nM){K.aCI(T);}};setTimeout(awP,1000);};cW.prototype.aCI=function(T){this.R.gO('qP',T);this.acQ(T);this.bZ=this.PH;};cW.prototype.VX=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length!==3){this.bV();return;}var gY=aR.touches[0];var dG={x:gY.screenX,y:gY.screenY};var cd=this.bJ.fb();cd.ye();this.Md=dG;this.ara=dG;this.Yn=cd.transform(dG);this.bZ=this.Sp;this.aEX=this.bJ.fb();this.agd=true;this.ags=true;};cW.prototype.aCU=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length!==3){this.bV();return;}var gY=aR.touches[0];var dG={x:gY.screenX,y:gY.screenY};var awO=Math.abs(dG.x-this.Md.x);var asD=Math.abs(dG.y-this.Md.y);if(awO>35){this.ags=false;}if(asD>35){this.agd=false;}if(this.agd){dG.y=this.Md.y;}if(this.ags){dG.x=this.Md.x;}this.ara=dG;var ah=this.bJ.fb();var aQ=this.R.dS();var aA=this.R.cP();ah.abP(this.Yn,dG);ah.iG(aA,aQ);this.bJ.iE(ah);};cW.prototype.aHb=function(){};cW.prototype.ajh=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length!==2){this.bV();return{};}var Rv=aR.touches[0];var Qr=aR.touches[1];var eR=Rv.screenX-Qr.screenX;var eg=Rv.screenY-Qr.screenY;var we=Math.sqrt(eR*eR+eg*eg);var ih=Math.atan2(eR,eg)*180/Math.PI;var ad={x:(Rv.screenX+Qr.screenX)/2,y:(Rv.screenY+Qr.screenY)/2};return{we:we,ih:ih,alC:ad};};cW.prototype.ahj=function(T){this.bZ=this.ST;this.aza=this.ajh(T);this.OQ=this.aza;var cd=this.bJ.fb();cd.ye();this.Yn=cd.transform(this.OQ.alC);this.Im=this.OQ.ih;};cW.prototype.acQ=function(T){var aR=T.domEvent.rawEvent;var gY=aR.touches[0];var dG={x:gY.screenX,y:gY.screenY};this.bJ.showMagnifier(dG);};cW.prototype.aon=function(T){var xf=this.ajh(T);var dP=xf.we/this.OQ.we;var ah=this.bJ.fb();var aQ=this.R.dS();var aA=this.R.cP();ah.scale(dP,dP);var Ct=this.Im-xf.ih;var afV=this.Im-xf.ih-360;var ahl=this.Im-xf.ih+360;if(Math.abs(Ct)>Math.abs(afV)){Ct=afV;}if(Math.abs(Ct)>Math.abs(ahl)){Ct=ahl;}if(Ct< -40){ah.rotate(-90);this.Im=xf.ih;}else if(Ct>40){ah.rotate(90);this.Im=xf.ih;}ah.abP(this.Yn,xf.alC);ah.iG(aA,aQ);this.bJ.iE(ah);this.OQ=xf;};cW.prototype.aGM=function(T){var ah=this.bJ.fb();var aQ=this.R.dS();var aA=this.R.cP();ah.aaI(IPCC.Web.UI.FitType.FullImage,aA,aQ);ah.iG(aA,aQ);this.bJ.iE(ah);};cW.prototype.na=function(){this.bV();};module.exports=cW;},{}],38:[function(require,module,exports){var cT=require('./IPCC.Util').regClass;var Me=function(){return this;};Me.registerClass=cT;Me.prototype={};Me.registerClass('IPCC.OpenPageEventArgs');module.exports=Me;},{"./IPCC.Util":28}],39:[function(require,module,exports){var cT=require('./IPCC.Util').regClass;var MY=function(){return this;};MY.registerClass=cT;MY.prototype={};MY.registerClass('IPCC.PageEventArgs');module.exports=MY;},{"./IPCC.Util":28}],40:[function(require,module,exports){var bC=function(aG){this.eJ=aG.page;this.bw=0;this.aV=0;this.gn=0;this.fT=0;var bu=new IPCC.Web.UI.gZ();this.agh=undefined;this.gM=false;this.aoM=false;this.Jp=0;this.aIh=undefined;this.yF=false;this.vt=false;this.Be=false;this.hv=0;this.Cu=0;this.AX=false;this.Fn=false;this.aB=new IPCC.Web.UI.ArtPage();this.er=new IPCC.Web.UI.ArtPage();this.dO=this.eJ.get_pageNumber();this.by=this.eJ.bx.Ri+'_'+this.dO+'__pViewId';this.bx=this.eJ.bx;this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};return this;};bC.prototype.lX=function(){if(this.eJ){return this.eJ.kg()||this.bw;}return this.bw;};bC.prototype.qW=function(){if(this.eJ){return this.eJ.jn()||this.aV;}return this.aV;};bC.prototype.Vd=function(bool){bool= ! !bool;if(this.eJ){this.eJ.AX=bool;}this.AX=bool;};bC.prototype.ahi=function(){if(this.eJ){return this.eJ.AX||this.AX;}return this.AX;};module.exports=bC;},{}],41:[function(require,module,exports){var eF=require('./IPCC.Util').regEnum;var CA=function(){};CA.registerEnum=eF;CA.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};CA.registerEnum('IPCC.PageLayout',false);module.exports=CA;},{"./IPCC.Util":28}],42:[function(require,module,exports){var cT=require('./IPCC.Util').regClass;var apX=function(){this.cu=undefined;return this;};var LG=function(element){var K=this;var HQ=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var apI=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var bu=new IPCC.Web.UI.gZ();var aW=[];var arP;var be='';var Go='';var aZ='';var kh='';var GQ='';var KB=0;this.AQ=new IPCC.Web.UI.ImGearDocumentCollection();var Ji=[];this.aIs=0;this.aHh={x:0,y:0};var kb=0;var oS=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var ni=false;var dN=0;var uG=false;var OW=[];var Hz='';var dB=1;var qq=0;var lG=1;var sx=1;var bp=IPCC.Web.UI.MouseTool.None;var AK=false;var rC=true;var ar=IPCC.ax.None;var hO;var gk=0;var hW=0;var agC=0;var fp=0;var gW=15;var iA=0;var gR=15;var nT=0;var mw=0;var pp=0;var og=0;var aDI=0;var fY=0;var gN=0;var oc=1;var en=IPCC.PageLayout.VerticalScrollDirection;var dJ=IPCC.ViewMode.Document;var lD=null;var TU=null;var OD=0;var QQ=0;var yI=0;var vl=false;var iP=null;var Jg=0;var Fp='';var Gr='';var qn=[];var CL=0;var uR=3;var Qm=0.5;var Jk=true;var KZ=false;var QH=false;var WD;var rJ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var tp=true;var lu;var ce={};var rE=false;var mu=function(){return null;};var jy=null;var ahr="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aEo=ahr+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aDK=ahr+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var dQ=96;var aX;function mg(LU){if(!_debug){return false;}return oS>=LU;};this.bf=function(je,jk){if(!mg(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cS=je+'() threw an exception ('+jk.name+'), "'+jk.message+'"';cS=cS.replace(/\n/g," ");IPCC.il.oy(cS,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nN().id);var lU=new IPCC.ExceptionEventArgs();lU.functionName=je;lU.exception=jk;this.bz('exceptionThrown',lU);};this.bE=function(je,kj,sa){if(!mg(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],(sa?sa:0));}cS+=')';this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ce=function(je,kj,pr,sa){if(!mg(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],(sa?sa:0));}cS+=') = ';cS+=IPCC.il.sm(pr,1);this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);};this.cL=function(je,kj,pr){if(!mg(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],0);}cS+=') = ';cS+=IPCC.il.sm(pr,1);this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.ug=function(lh,bU){IPCC.il.oy(lh,IPCC.Web.UI.DebugItemCause.FunctionCall,bU,'PageList',this.nN().id);};this.oy=function(lh){IPCC.il.oy(lh,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nN().id);};this.Hn=function(){return _debug;};this.US=function(L){var Kq= ! !L;if(_debug===Kq){return;}_debug=Kq;var cf=ir();var dj=[];if(cf){dj=te(cf);}var H=0;for(H=0;H<dj.length;H++){var av;if(aW[dj[H]].by){av=document.getElementById(aW[dj[H]].by).ae;}if(av){av.set_debug(_debug);}}this.bX('debug');};this.AL=function(){return oS;};this.IY=function(L){IPCC.bi.lx(L,'value',IPCC.Web.UI.DebugErrorLevel);if(oS===L){return;}oS=L;var cf=ir();var dj=[];if(cf){dj=te(cf);}var H=0;for(H=0;H<dj.length;H++){var av;if(aW[dj[H]].by){av=document.getElementById(aW[dj[H]].by).ae;}if(av){av.set_debugErrorLevel(oS);}}this.bX('debugErrorLevel');};function dq(dA,V){bu.addHandler(dA,V);};function df(dA,V){bu.removeHandler(dA,V);};this.Nm=function(V){dq('mouseDown',V);};this.YO=function(V){df('mouseDown',V);};this.MF=function(V){dq('mouseMove',V);};this.ZD=function(V){df('mouseMove',V);};this.Nt=function(V){dq('mouseUp',V);};this.Yd=function(V){df('mouseUp',V);};this.ZM=function(V){dq('selectTextMouseToolCompleted',V);};this.ZB=function(V){df('selectTextMouseToolCompleted',V);};this.zd=function(V){dq('textPageReady',V);};this.Ei=function(V){df('textPageReady',V);};this.WH=function(V){dq('hyperlinkPageReady',V);};this.adV=function(V){df('hyperlinkPageReady',V);};this.aoh=function(V){dq('allPagesAdded',V);};this.aAd=function(V){df('allPagesAdded',V);};this.Zc=function(V){dq('pageOpening',V);};this.Ye=function(V){df('pageOpening',V);};this.Yh=function(V){dq('pageOpened',V);};this.Zv=function(V){df('pageOpened',V);};this.HO=function(V){dq('pageOpenFailed',V);};this.GJ=function(V){df('pageOpenFailed',V);};this.Zo=function(V){dq('pageDisplayed',V);};this.ZT=function(V){df('pageDisplayed',V);};this.lo=function(V){dq('propertyChanged',V);};this.mB=function(V){df('propertyChanged',V);};this.XZ=function(V){dq('exceptionThrown',V);};this.Zl=function(V){df('exceptionThrown',V);};this.yg=function(V){dq('textExtractionFailed',V);};this.Eb=function(V){df('textExtractionFailed',V);};this.AG=function(V){dq('markAdded',V);};this.Bw=function(V){df('markAdded',V);};this.YS=function(V){dq('markCreating',V);};this.ZY=function(V){df('markCreating',V);};this.Kv=function(V){dq('markChanged',V);};this.Gq=function(V){df('markChanged',V);};this.Ki=function(V){dq('markReordered',V);};this.Fk=function(V){df('markReordered',V);};this.JK=function(V){dq('markSelectionChanged',V);};this.GP=function(V){df('markSelectionChanged',V);};this.Jm=function(V){dq('markTextSelectionChanged',V);};this.Ft=function(V){df('markTextSelectionChanged',V);};this.Bc=function(V){dq('markRemoved',V);};this.By=function(V){df('markRemoved',V);};this.aoo=function(V){dq('commentAdding',V);};this.azZ=function(V){df('commentAdding',V);};this.yv=function(V){dq('commentAdded',V);};this.DG=function(V){df('commentAdded',V);};this.yu=function(V){dq('commentRemoved',V);};this.Dq=function(V){df('commentRemoved',V);};this.rF=function(V){dq('commentChanged',V);};this.vC=function(V){df('commentChanged',V);};this.YX=function(V){dq('scaleChanged',V);};this.YL=function(V){df('scaleChanged',V);};this.Pe=function(){var ae=document.getElementById(aW[dN].by).ae;if(ae){return ae.get_currentState();}else{return null;}};this.ahO=function(){var bb=IPCC.F.find(aW,function(fH){return fH.dO===dN;});if(!bb){return;}return bb.eJ;};this.aAc=function(aP){var bb=IPCC.F.find(aW,function(fH){return fH.dO===dN;});if(!bb){return;}return bb.by;};this.qI=function(){return dB;};this.aCK=function(dP){jw(dP,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.MC=function(ag,sF,To,fd){fd=fd||IPCC.ScaleTrigger.Zoom;jw(dB*ag,To,undefined,undefined,undefined,sF,fd);};this.atX=function(ag,bB,cc,Er,fd){fd=fd||IPCC.ScaleTrigger.Zoom;if(dB*ag<8){jw(dB*ag,false,bB,cc,Er,undefined,fd);}else{jw(8,false,bB,cc,Er);}};this.SO=function(ag,fd){fd=fd||IPCC.ScaleTrigger.Zoom;jw(dB/ag,false,undefined,undefined,undefined,undefined,fd);};this.axZ=function(){return SD();};this.ado=function(fd,fC,Ww){var JU,JW,bw,aV;var aah=0;var H=0;for(H=0;H<aW.length;H++){bw=aW[H].lX();aV=aW[H].qW();if(ip(aW[H].hv)===true){var Je=bw;bw=aV;aV=Je;}if(bw>0&&aV>0){var Ka=bw/aV;if(Ka>aah){aah=Ka;JU=aV;JW=bw;}}}if(aah>0){var asY=(be.offsetWidth-IPCC.Web.oE()-vZ()-(gW+gR+mw+og));var atg=asY/(JW*dQ/aW[0].gn);var ej=gk;var fm=hW;if(ip(aW[0].hv)===true){ej=hW;fm=gk;}var akg=JU/fm*atg;var lw=(be.clientHeight-(fp+iA+nT+pp))/(fm*dQ/aW[0].fT);var GI=akg;if(Ww===true&&akg>lw){GI=lw;}jw(GI,true,undefined,undefined,undefined,undefined,fd,fC);}};this.adR=function(fd,fC,Ww){var JU,JW,bw,aV;var abq=0;var H=0;for(H=0;H<aW.length;H++){bw=aW[H].lX();aV=aW[H].qW();if(ip(aW[H].hv)===true){var Je=bw;bw=aV;aV=Je;}if(bw>0&&aV>0){var Ka=aV/bw;if(Ka>abq){abq=Ka;JU=aV;JW=bw;}}}if(abq>0){var arC=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp));var asb=arC/(JU*dQ/aW[0].fT);var ej=gk;var fm=hW;if(ip(aW[0].hv)===true){ej=hW;fm=gk;}var akO=JW/ej*asb;var lw=(be.clientWidth-vZ()-(gW+gR+mw+og))/(ej*dQ/aW[0].gn);var GI=akO;if(Ww===true&&akO>lw){GI=lw;}jw(GI,true,undefined,undefined,undefined,undefined,fd,fC);}};this.aFZ=function(fC,fd){if(K.xz&&typeof K.xz==='function'){K.xz();}var bw;var aV;var eA;var kd=1;fd=fd||IPCC.ScaleTrigger.Fit;if(fC===IPCC.FitType.FitToWidth){if(dJ===IPCC.ViewMode.Document){kd=(be.offsetWidth-IPCC.Web.oE()-vZ()-(gW+gR+mw+og))/(fY/dB);jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else if(dJ===IPCC.ViewMode.SinglePage){if(ip(aW[dN].hv)===true){bw=aW[dN].qW();eA=dQ/aW[dN].fT;}else{bw=aW[dN].lX();eA=dQ/aW[dN].gn;}kd=(be.offsetWidth-IPCC.Web.oE()-vZ()-(gW+gR+mw+og))/(bw*eA);jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else{if(en===IPCC.PageLayout.VerticalScrollDirection){abu(fd,fC);}else{K.ado(fd,fC);}}}else if(fC===IPCC.FitType.ShrinkToWidth){var auB=be.clientWidth-vZ();var avR=20;var Rj=auB-avR;if(dJ===IPCC.ViewMode.SinglePage){if(ip(aW[dN].hv)===true){bw=aW[dN].qW();eA=dQ/aW[dN].fT;}else{bw=aW[dN].lX();eA=dQ/aW[dN].gn;}if(Rj<dB*bw*eA){kd=(be.offsetWidth-IPCC.Web.oE()-vZ()-(gW+gR+mw+og))/(bw*eA);jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}}else{if(Rj<fY){jw(dB*Rj/fY,true,undefined,undefined,undefined,undefined,fd,fC);}}}else if(fC===IPCC.FitType.ActualSize){if(dJ===IPCC.ViewMode.Document||dJ===IPCC.ViewMode.SinglePage){jw(1,true,undefined,undefined,undefined,undefined,fd,fC);}}else if(fC===IPCC.FitType.FitToHeight){if(dJ===IPCC.ViewMode.Document){kd=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp))/(gN/dB);jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else if(dJ===IPCC.ViewMode.SinglePage){if(ip(aW[dN].hv)===true){aV=aW[dN].lX();eA=dQ/aW[dN].gn;}else{aV=aW[dN].qW();eA=dQ/aW[dN].fT;}kd=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp))/(aV*eA);jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else{if(en===IPCC.PageLayout.HorizontalScrollDirection){abu(fd,fC);}else{K.adR(fd,fC);}}}else if(fC===IPCC.FitType.BestFit){var Eo;if(dJ===IPCC.ViewMode.Document){kd=(be.offsetWidth-IPCC.Web.oE()-(gW+gR+mw+og))/(fY/dB);Eo=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp))/(gN/dB);if(Eo<kd){kd=Eo;}jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else if(dJ===IPCC.ViewMode.SinglePage){if(ip(aW[dN].hv)===true){bw=aW[dN].qW();aV=aW[dN].lX();eA=dQ/aW[dN].gn;}else{bw=aW[dN].lX();aV=aW[dN].qW();eA=dQ/aW[dN].fT;}kd=(be.offsetWidth-IPCC.Web.oE()-vZ()-(gW+gR+mw+og))/(bw*eA);Eo=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp))/(aV*eA);if(Eo<kd){kd=Eo;}jw(kd,true,undefined,undefined,undefined,undefined,fd,fC);}else{if(en===IPCC.PageLayout.HorizontalScrollDirection){K.ado(fd,fC,true);}else{K.adR(fd,fC,true);}}}};this.aBa=function(aj,bg){var bb=aW[aj-1];var aq=document.getElementById(bb.by);var DH=[];if(aq){var ed,Do,ad;try{ed=abI(aq);}catch(e){return null;}DH=IPCC.F.map(bg,function(fH){Do=aq.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(fH.x,fH.y),true);ad=ajW(aq,Do.x,Do.y,ed);return{clientX:ad.x,clientY:ad.y};});return DH;}else{return null;}};this.aEf=function(){var H=0;for(H=0;H<aW.length;H++){K.cV(H);}ir();oa();};this.cV=function(aP){var aE;if(aW[aP].by){aE=document.getElementById(aW[aP].by);}K.vm(aE,aP);};this.Kj=function(aP){var aE;if(aW[aP].by){aE=document.getElementById(aW[aP].by);}if(aE){var av=aE.ae;av.Kj();}};this.vm=function(aE,aP){if(aE&&aE.ae&&aE.ae.ec()===true){var av=aE.ae;av.display();aW[aP].gM=true;if(dJ===IPCC.ViewMode.SinglePage){var ml= -1;if(Array.prototype.indexOf){ml=qn.indexOf(aP);}else{ml=IPCC.Web.kV(qn,aP);}if(ml!== -1){qn.splice(ml,1);}}}};function alr(dj){var aE;for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);var aP=bb.get_pageNumber();if(aW[aP].by){aE=document.getElementById(aW[aP].by);}if(aE&&aE.ae&&aE.ae.Ev()!==null){return aE.ae;}}return null;};this.IB=function(){var dj=this.get_displayedPages();var Nf=alr(dj);Nf.IB();};this.ED=function(ag){var hD=0;var fW=aW.length-1;for(var bH=hD;bH<=fW;bH++){var av;var aE=document.getElementById(aW[bH].by);if(aE){av=aE.ae;}else{continue;}av.set_sharpening(ag);if(av&&aW[bH].gM===true&&av.ec()===true){av.display();}}qq=ag;};this.axX=function(){return qq;};this.Ed=function(ag){var hD=0;var fW=aW.length-1;for(var bH=hD;bH<=fW;bH++){var av;var aE=document.getElementById(aW[bH].by);if(aE){av=aE.ae;}else{continue;}av.set_gamma(ag);if(av&&aW[bH].gM===true&&av.ec()===true){av.display();}}sx=ag;};this.axR=function(){return sx;};this.DJ=function(ag){var hD=0;var fW=aW.length-1;for(var bH=hD;bH<=fW;bH++){var av;var aE=document.getElementById(aW[bH].by);if(aE){av=aE.ae;}else{continue;}av.set_svgLineWidthMultiplier(ag);if(av&&aW[bH].gM===true&&av.ec()===true){av.display();}}lG=ag;};this.axT=function(){return lG;};this.Ev=function(){var dj=this.get_displayedPages();var Nf=alr(dj);if(Nf){return Nf.Ev();}return null;};this.wy=function(aP,J){var aE;if(aW[aP].by){aE=document.getElementById(aW[aP].by);}if(aE&&aE.ae){aE.ae.wy(J);}};this.qY=function(aP){var aE;if(aW[aP].by){aE=document.getElementById(aW[aP].by);}if(aE&&aE.ae){aE.ae.qY();}};var vz='';this.uc=function(L){vz=L;};this.nN=function(){return vz;};this.bz=function(dA,T){try{var V=bu.getHandler(dA);if(V!==null){V(K,T);}}catch(e){K.bf(dA+'Event',e);}};this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};this.ape=function(V){bu.addHandler('currentPageChanged',V);};this.aAu=function(V){bu.removeHandler('currentPageChanged',V);};this.Ck=function(cN,L){cN.style.cursor='move';cN.style.cursor='-webkit-'+L;cN.style.cursor='-moz-'+L;cN.style.cursor=L;};this.ahZ=function(){return aZ.style.cursor||'auto';};this.aEG=function(L){aZ.style.cursor=L||'auto';var H=0;for(H=0;H<aW.length;H++){if(aW[H].by){var aE=document.getElementById(aW[H].by);if(aE){var av=aE.ae;aE.style.cursor=L;if(av){av.set_cursor(L);if(aW[H].gM===true&&av.ec()===true){av.display();}}}}}};this.WR=function(){return bp;};this.Kn=function(L){IPCC.bi.lx(L,'value',IPCC.Web.UI.MouseTool);var mK=false;if(bp!==L){hO=null;bp=L;switch(bp){case IPCC.Web.UI.MouseTool.HandPan:ar='grab';K.Ck(aZ,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:K.tX();ar=IPCC.ax.Text;aZ.style.cursor=IPCC.ax.ew(ar);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:K.tX();ar=IPCC.ax.Text;aZ.style.cursor=IPCC.ax.ew(ar);break;case IPCC.Web.UI.MouseTool.None:ar=IPCC.ax.None;aZ.style.cursor=IPCC.ax.ew(ar);break;case IPCC.Web.UI.MouseTool.Magnifier:ar=IPCC.ax.Magnifier;aZ.style.cursor=IPCC.ax.ew(ar);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ar=IPCC.ax.RectangleZoom;aZ.style.cursor=IPCC.ax.ew(ar);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ar=IPCC.ax.AddRectangleMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ar=IPCC.ax.AddRectangleRedactionMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ar=IPCC.ax.AddEllipseMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ar=IPCC.ax.AddLineMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.lP()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ar=IPCC.ax.AddStampMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ar=IPCC.ax.AddImageStampMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ar=IPCC.ax.AddImageStampMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ar=IPCC.ax.AddTextMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ar=IPCC.ax.AddTextMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:ar=IPCC.ax.AddTextMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.et(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ar=IPCC.ax.AddFreehandLineMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.nr()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ar=IPCC.ax.AddPolylineMark;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.lz(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:ar=IPCC.ax.EditMarks;aZ.style.cursor=IPCC.ax.ew(ar);mK=true;hO=function(){return[new IPCC.lf(IPCC.Web.UI.MarkType.Text)];};break;default:ar=IPCC.ax.None;aZ.style.cursor=IPCC.ax.ew(ar);break;}var H=0;for(H=0;H<aW.length;H++){if(aW[H].by){var aE=document.getElementById(aW[H].by);if(aE){var av=aE.ae;if(ar==='grab'){K.Ck(aE,'grab');}else{aE.style.cursor=IPCC.ax.ew(ar);}if(av){av.set_cursor(ar);av.NZ(bp===IPCC.Web.UI.MouseTool.HandPan||bp===IPCC.Web.UI.MouseTool.EditMarks);if(mK===true){av.HN(hO());}else{av.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(aW[H].gM===true&&av.ec()===true){av.display();}}}}}this.bX('mouseTool');}};this.aGx=function(){return AK;};this.aDy=function(bool){AK= ! !bool;};this.zj=function(){return rJ;};this.IJ=function(L){if(rJ!==L){rJ=L;var cf=ir();var dj=[];if(cf){dj=te(cf);}var H=0;for(H=0;H<dj.length;H++){var aE;var av;aE=document.getElementById(aW[dj[H]].by);av=aE.ae;if(av){av.set_markHandleMode(rJ);this.vm(aE,H);}}this.bX('markHandleMode');}};this.jV=function(){return rC;};this.IP=function(L){if(rC!==L){rC=L;var cf=ir();var dj=[];if(cf){dj=te(cf);}var H=0;for(H=0;H<dj.length;H++){var av;if(aW[dj[H]].by){av=document.getElementById(aW[dj[H]].by).ae;}if(av){av.set_textRequired(rC);}}this.bX('textRequired');}};this.aAh=function(){return uR;};this.aDk=function(L){if(L<0){L=0;}if(uR!==L){uR=L;this.bX('maxPrefetch');}};this.ayG=function(){return Jk;};this.aEP=function(L){if(Jk!==L){Jk=L;this.bX('displayPagesWhenScrolling');}};this.azm=function(){return CL;};this.aEp=function(L){if(L<0){L=0;}if(CL!==L){CL=L;this.bX('maxOutOfViewDisplay');}};this.ayf=function(){return KZ;};this.aFD=function(L){if(KZ!==L){KZ= ! !L;this.bX('discardOutOfViewText');}};this.axx=function(){return QH;};this.aCw=function(L){if(QH!==L){QH= ! !L;this.bX('retainPageText');}};this.axr=function(){return Qm;};this.aBd=function(L){if(L<0){L=0;}if(Qm!==L){Qm=L;this.bX('scrollDisplayThreshold');}};this.azB=function(){return en;};this.aEN=function(L){if(en===L){return;}en=L;if(be===''||be.clientHeight<=0||dJ===IPCC.ViewMode.SinglePage){this.bX('pageLayout');return;}var tC=dN;var IV=dJ;if(dJ===IPCC.ViewMode.EqualWidthPages||dJ===IPCC.ViewMode.EqualFitPages){K.Sh(IPCC.ViewMode.Document);}be.scrollLeft=0;be.scrollTop=0;var H=0;var aE;if(en===IPCC.PageLayout.VerticalScrollDirection){if(GQ){GQ.setAttribute('style',aEo);}Go.insertBefore(kh,GQ);for(H=0;H<aW.length;H++){aE=document.getElementById(aW[H].by);aE.style.display='block';if(gk>0){aE.style.margin=fp+'px auto '+iA+'px auto';}}aZ.style.margin='0px '+gW+'px 0px '+gR+'px';be.scrollLeft=(fY-be.clientWidth)/2+gW+mw;}else{if(GQ){GQ.setAttribute('style',aDK);}Go.removeChild(kh);for(H=0;H<aW.length;H++){aE=document.getElementById(aW[H].by);if(aE){aE.style.display='inline-block';if(gk>0){aE.style.margin=fp+'px '+gW+'px '+iA+'px '+gR+'px';}}}aZ.style.margin='0px';be.scrollTop=(gN-be.clientHeight)/2+fp+nT;}if(IV===IPCC.ViewMode.EqualWidthPages){K.Sh(IPCC.ViewMode.EqualWidthPages);}else if(IV===IPCC.ViewMode.EqualFitPages){K.Sh(IPCC.ViewMode.EqualFitPages);}this.sc(tC);oa();this.bX('layout');};this.ayU=function(){return dJ;};this.Sh=function(L,fd){fd=fd||IPCC.ScaleTrigger.ViewMode;if(dJ===L){return;}dJ=L;if(be===''||be.clientHeight<=0){this.bX('viewMode');return;}var tC=dN;this.sc(tC);if(dJ===IPCC.ViewMode.Document){var lw=1;var bw=gk;var aV=hW;if(ip(qZ)===true){bw=hW;aV=gk;}if(en===IPCC.PageLayout.VerticalScrollDirection){lw=(be.clientWidth-(gW+gR+mw+og))/bw;}else{lw=(be.clientHeight-(fp+iA+nT+pp))/aV;}jw(lw,true,undefined,undefined,undefined,undefined,fd);}else{abu(fd);}this.sc(tC);this.bX('viewMode');xJ(ce,true);kp(ce,true);};var qZ=0;this.axO=function(){return qZ;};this.aBv=function(L){if(qZ!==L){qZ=L;var H=0;for(H=0;H<aW.length;H++){if(aW[H].Cu===0){aW[H].hv=qZ;}}this.bX('pageRotation');}};this.aaj=function(aj){var dO;if(arguments.length>0){if(!isNaN(aj)){dO=aj;}else{dO=dN;}}else{dO=dN;}for(var H=0;H<aW.length;H++){if(dO===H){return aW[H].hv;}}return 0;};var oG=false;this.iO=function(){return oG;};this.nq=function(L){if(typeof L!=="boolean"){return;}if(L===oG){return;}oG=L;};this.aGm=function(){return WD;};this.aDr=function(L,pY,yX,uu){if(WD!==L){WD=L;for(var H=0;H<aW.length;H++){aW[H].aB.azT(L,H,aW[H].lX(),aW[H].qW(),aW[H].eJ,pY,yX,uu);var ase= !aW[H].lX();aW[H].Vd(ase);}this.bX('annotationXmlDom');}};var sY;this.Ju=function(L){sY=L;};this.tP=function(){return sY;};var pK=false;this.oP=function(){return pK;};this.qO=function(L){if(typeof L!=="boolean"){return;}if(L===pK){return;}pK=L;IPCC.F.forEach(aW,function(bC,H){var av;if(aW[H].by){var aE=document.getElementById(aW[H].by);if(aE){av=aE.ae;}}if(av){av.qO(pK);av=undefined;}});};this.aDm=function(L){if(Hz!==L){Hz=L;this.bX('loadingContent');}};this.azq=function(){return Hz;};this.axL=function(){var cf=ir();var dj=[];if(cf){dj=te(cf);}var adm=new IPCC.Web.UI.ImGearPageCollection();var H=0;for(H=0;H<dj.length;H++){adm.ajI(aW[dj[H]].eJ);}return adm;};this.axk=function(aP){if(aW[aP]){return aW[aP].by;}};this.xt=function(){return tp;};this.Kd=function(L){tp=L;};this.lk=function(){return lu;};this.vw=function(L){lu=L;};this.OB=function(bb,xi,yi){var K=this;if(bb.kg()>0||bb.jn()>0){xi(bb.kg(),bb.jn());return;}bb.requestPageAttributes(function(bQ,aD){if(aW[bb.get_pageNumber()].ahi()===true){var gE=bQ/bb.aiK();if(gE!==1){var aB=K.gu(bb);if(aB){aiU(aB,gE);}}}aW[bb.get_pageNumber()].Vd(false);xi(bQ,aD);},function(eL){yi(eL);});};this.awo=function(){if(rE===true){return;}rE=true;this.fc(kh,'pccHidden');xJ(ce,true);kp(ce,true);};this.asl=function(){if(rE===false){return;}rE=false;this.jU(kh,'pccHidden');};this.aAm=function(){return rE;};this.jU=function(cN,ut){var HI=new RegExp('(?:^|\\s)'+ut+'(?!\\S)','g');if(cN.className.match(HI)===null){cN.className=cN.className+' '+ut;}};this.fc=function(cN,ut){var HI=new RegExp('(?:^|\\s)'+ut+'(?!\\S)','g');cN.className=cN.className.replace(HI,'');};this.ayi=function(){return mu;};this.aCV=function(L){mu=L;};this.axJ=function(){return jy;};this.aBB=function(L){if(jy===L){return;}var J,cu,wb;if(jy){J=jy.get_mark();wb=ce[J.get_markID()];cu=mu(J,{isSelected:true},(wb)?wb.cu:undefined);if(wb){BL(J,ce,cu);}}J=cu=wb=undefined;jy=L;if(jy){J=jy.get_mark();wb=ce[J.get_markID()];cu=mu(J,{isSelected:true},(wb)?wb.cu:undefined);if(wb){BL(J,ce,cu);}}kp(ce,true);};this.azz=function(TJ){var jp=yM();IPCC.F.forEach(TJ,function(Nr){var cl=ce[Nr];if(cl){var kH=mu(cl.J,{isSelected:(cl.J.get_conversation()===jy)},cl.cu);if(!IPCC.F.vg(kH)){throw new Error(kH+' is not a valid HTMLElement');}if(kH!==cl.cu){BL(cl.J,ce,kH);}}});kp(ce,false,jp);};this.aqY=function(){K.apF={top:be.scrollTop,left:be.scrollLeft};};this.aBW=function(){var oe=K.apF;if(oe){be.scrollTop=oe.top;be.scrollLeft=oe.left;}};this.initialize=function(){var ci=this.nN();var H;for(H=ci.childNodes.length-1;H>=0;H--){if(ci.childNodes[H].tagName!=='INPUT'){ci.removeChild(ci.childNodes[H]);}}this.AQ.add_documentAdded(awt);this.AQ.add_pageAdded(Yl);this.AQ.add_pageRemoved(aaz);this.adY(true);ci.ae=this;ajM();var UO='webkit moz o'.split(' '),Dm='';if(aZ.style.animationName!==undefined){Fp='animationend';Gr='transitionend';return;}for(H=0;H<UO.length;H++){if(aZ.style[UO[H]+'Animation']!==undefined){Dm=UO[H];Fp=Dm+'AnimationEnd';Gr=Dm+'TransitionEnd';break;}}};this.axe=function(){return ni;};this.adY=function(L){ni=L;this.bX('enabled');};this.aAJ=function(){if(dN+1<aW.length){K.sc(dN+1);}};this.aAC=function(){var Uh=dN-1;if(Uh<0){Uh=0;}K.sc(Uh);};function Ef(T){IPCC.Web.UI.aT.removeHandler(T.target,Fp,Ef);IPCC.Web.UI.aT.removeHandler(T.target,Gr,Ef);if(Jg>dN){K.fc(T.target,'pccNextPageIn');K.fc(T.target,'pccPreviousPageIn');K.fc(T.target,'pccCurrentPage');K.fc(T.target,'pccPageBack');K.fc(T.target,'pccPageForward');K.jU(T.target,'pccNextPage');}else if(Jg<dN){K.fc(T.target,'pccNextPageIn');K.fc(T.target,'pccPreviousPageIn');K.fc(T.target,'pccCurrentPage');K.fc(T.target,'pccPageBack');K.fc(T.target,'pccPageForward');K.jU(T.target,'pccPreviousPage');}K.fc(aZ,'pccPageListContainerPageChanging');be.style.overflow='auto';iP=null;aZ.style.overflow='hidden';var ly=IPCC.F.filter(ce,function(ak){return ak.aj===dN+1;});Qn(ly);setTimeout(function(){oa();},60);};this.sc=function aGX(aP){var Hm=dN;var ly;if(dJ===IPCC.ViewMode.SinglePage){ly=IPCC.F.filter(ce,function(ak){return ak.aj!==aP+1;});GF(ly);}else{uG=true;var aff=aij(aP);if(en===IPCC.PageLayout.VerticalScrollDirection){be.scrollTop=aff;}else{be.scrollLeft=aff;}}var zT=[];if(dN!==aP){dN=aP;var bC=aW[dN];var T=new IPCC.PageEventArgs();T.imGearPage=K.get_currentPage();T.pageIndex=dN;T.pageNodeID=bC.by;K.bz('currentPageChanged',T);if(dJ===IPCC.ViewMode.SinglePage){var hH=document.getElementById(aW[dN].by);var rK=document.getElementById(aW[Hm].by);if(hH===null){hH=IT(aW[dN].eJ);zT.push(aW[dN]);hH.className='pccPageListItem pccCurrentPage';qn.push(dN);if(gk>0){var le=TX(aW[dN]);hH.style.width=le.bQ+'px';hH.style.height=le.aD+'px';}else{hH.style.width=aZ.clientWidth-gW-gR+'px';hH.style.height=aZ.clientWidth*0.8+'px';}hH.style.display='block';hH.setAttribute('id',aW[dN].by);aZ.appendChild(hH);}if(Gr.length>0){be.style.overflow='hidden';aZ.style.width=hH.style.width;aZ.style.height=hH.style.height;aZ.style.overflow='visible';if(iP!==null){IPCC.Web.UI.aT.removeHandler(iP,Fp,Ef);IPCC.Web.UI.aT.removeHandler(iP,Gr,Ef);if(Jg>dN){this.fc(iP,'pccNextPageIn');this.fc(iP,'pccPreviousPageIn');this.fc(iP,'pccCurrentPage');this.fc(iP,'pccPageForward');this.fc(iP,'pccPageBack');this.jU(iP,'pccNextPage');}else if(Jg<dN){this.fc(iP,'pccNextPageIn');this.fc(iP,'pccPreviousPageIn');this.fc(iP,'pccCurrentPage');this.fc(iP,'pccPageForward');this.fc(iP,'pccPageBack');this.jU(iP,'pccPreviousPage');}}IPCC.Web.UI.aT.addHandler(rK,Fp,Ef);IPCC.Web.UI.aT.addHandler(rK,Gr,Ef);iP=rK;Jg=Hm;this.jU(aZ,'pccPageListContainerPageChanging');if(dN>Hm){this.jU(rK,'pccPageForward');this.fc(hH,'pccPageBack');this.fc(hH,'pccPreviousPage');this.fc(hH,'pccPreviousPageIn');this.fc(hH,'pccNextPage');this.jU(hH,'pccCurrentPage');this.jU(hH,'pccNextPageIn');}else{this.jU(rK,'pccPageBack');this.fc(hH,'pccPageForward');this.fc(hH,'pccPreviousPage');this.fc(hH,'pccNextPage');this.fc(hH,'pccNextPageIn');this.jU(hH,'pccCurrentPage');this.jU(hH,'pccPreviousPageIn');}}else{aZ.style.width=hH.style.width;aZ.style.height=hH.style.height;if(dN>Hm){this.fc(rK,'pccNextPage');this.fc(rK,'pccCurrentPage');this.jU(rK,'pccPreviousPage');}else{this.fc(rK,'pccPreviousPage');this.fc(rK,'pccCurrentPage');this.jU(rK,'pccNextPage');}this.fc(hH,'pccPreviousPage');this.fc(hH,'pccNextPage');this.jU(hH,'pccCurrentPage');ly=IPCC.F.filter(ce,function(el){return el.aj===aP+1;});Qn(ly);setTimeout(function(){oa();},60);}IPCC.F.forEach(zT,aih);}}};this.aAH=function(){if(aW.length>0){K.sc(0);}};this.aAf=function(){if(dN<aW.length-1){K.sc(aW.length-1);}};this.axm=function(dC){if(rE===false){return "CommentsPanelClosed";}var eo=ce[dC.get_mark().get_markID()];if(!eo){return "ConversationDivDoesNotExist";}if(dJ===IPCC.ViewMode.SinglePage&&eo.aj-1!==dN){return "SinglePageModePageNotShown";}var bb=document.getElementById(aW[eo.aj-1].by);if(aW[eo.aj-1].gM===false||bb===undefined||bb.ae===undefined||bb.ae===null||bb.ae.ec()===false){return "PageOutOfView";}var h=dC.get_mark().get_boundingRectangle();var sz=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x,h.y),true);var AA=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x+h.width,h.y),true);sz.x=aZ.offsetWidth;AA.x=aZ.offsetWidth+vZ();K.adc(bb.offsetTop,bb.offsetLeft,sz,AA);return "Success";};this.azs=function(aP,h){if(dJ===IPCC.ViewMode.SinglePage&&aP!==dN){return true;}var bb=document.getElementById(aW[aP].by);if(aW[aP].gM===false||bb===undefined||bb.ae===undefined||bb.ae===null||bb.ae.ec()===false){return false;}var sz=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x,h.y),true);var AA=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(h.x+h.width,h.y+h.height),true);K.adc(bb.offsetTop,bb.offsetLeft,sz,AA);return true;};this.axh=function(atE,auY){be.scrollTop+=Math.round(auY);be.scrollLeft+=Math.round(atE);};this.adc=function(auK,auX,sz,AA){var afk=AA.x-sz.x;var aeK=AA.y-sz.y;var dG=new IPCC.Web.UI.Point(0,0);if(afk>be.clientWidth){dG.x=sz.x;}else{dG.x=sz.x+(afk/2);}if(aeK>be.clientHeight){dG.y=sz.y;}else{dG.y=sz.y+(aeK/2);}if(en===IPCC.PageLayout.VerticalScrollDirection){be.scrollTop=auK+dG.y-be.clientHeight/2;be.scrollLeft=dG.x-be.clientWidth/2;}else{be.scrollLeft=auX+dG.x-be.clientWidth/2;be.scrollTop=dG.y-be.clientHeight/2;}};this.aEK=function(){var H=0;for(H=0;H<aW.length;H++){CT(H,true);}};this.arX=function(){var cf=ir();var dj=[];if(cf){dj=te(cf);}var H=0;for(H=0;H<dj.length;H++){CT(dj[H]);}if(K.AQ.get_length()>0){K.AQ.removeAllDocuments();}};this.WY=function(aP,am,ct,dm){if(aW[aP]&&aW[aP].gM===true){var aE=document.getElementById(aW[aP].by);if(aE&&aE.ae&&aE.ae.ec()===true){if(dm){IPCC.bi.dm(dm,"selectText");var hd=aE.ae.EN();var arq=hd.ke;var avq=hd.fF;hd.ke=dm;hd.fF=dm;aE.ae.showTextSelection(am,ct);hd.ke=arq;hd.fF=avq;}else{aE.ae.showTextSelection(am,ct);}}}};this.asN=function(){var cf=ir();var dj=[];if(cf){dj=te(cf);}var H;for(H=0;H<dj.length;H++){if(aW[dj[H]].gM===true){var eG=document.getElementById(aW[dj[H]].by),ae=eG?eG.ae:undefined;if(ae&&ae.ec()===true){ae.showEmptyTextSelection(0);ae.extendTextSelection(undefined);ae.display();}}}};this.asy=function(aP){if(aW[aP]&&aW[aP].gM===true){var eG=document.getElementById(aW[aP].by),ae=eG?eG.ae:undefined;if(ae&&ae.ec()===true){ae.showEmptyTextSelection(0);ae.extendTextSelection(undefined);ae.display();}}};this.tX=function(){var bb,cR,ae;aX=null;IPCC.F.forEach(OW,function(H){bb=aW[H];cR=document.getElementById(bb.by);if(cR){ae=cR.ae;}if(ae){if(ae.ec()&&ae.EE()){ae.showEmptyTextSelection(0);ae.extendTextSelection(undefined);if(bb.gM){ae.display();}}}bb=cR=ae=undefined;});};this.xn=function(aP,rV){var aE;var av;var aec=function(aDS,asm){return(aDS+asm)%360;};aW[aP].hv=aec(aW[aP].hv,rV);if(aW[aP].by){aE=document.getElementById(aW[aP].by);}if(aE===undefined||aE===null){return;}av=aE.ae;if(av&&av.ec()===false){aW[aP].Cu=aec(aW[aP].Cu,rV);return;}uG=true;if(av&&av.ec()===true){av.rotate(rV);}var bw=0;var aV=0;var ej=gk;var fm=hW;if(ip(qZ)===true){ej=hW;fm=gk;}if(ip(aW[aP].hv)===true){if(av&&av.ec()===true){bw=av.get_pageHeight();aV=av.get_pageWidth();}else{bw=hW;aV=gk;}}else{if(av&&av.ec()===true){bw=av.get_pageWidth();aV=av.get_pageHeight();}else{bw=gk;aV=hW;}}uG=true;if(dJ===IPCC.ViewMode.SinglePage){aE.style.width=bw*dB*dQ/aW[aP].gn+'px';aE.style.height=aV*dB*dQ/aW[aP].fT+'px';if(aP===dN){aZ.style.width=bw*dB*dQ/aW[aP].gn+'px';aZ.style.height=aV*dB*dQ/aW[aP].fT+'px';}}else if(dJ===IPCC.ViewMode.Document){aE.style.width=bw*dB*dQ/aW[aP].gn+'px';aE.style.height=aV*dB*dQ/aW[aP].fT+'px';var H=0;if(en===IPCC.PageLayout.VerticalScrollDirection){if(bw*dB*dQ/aW[aP].gn>fY){fY=bw*dB*dQ/aW[aP].gn;}else if(aE.clientHeight>=fY-10){fY=0;for(H=0;H<aW.length;H++){aE=document.getElementById(aW[H].by);if(aE&&aE.clientWidth>fY){fY=aE.clientWidth;}}}if(aV*dB*dQ/aW[aP].fT>gN){gN=aV*dB*dQ/aW[aP].fT;}}else{if(aV*dB*dQ/aW[aP].fT>gN){gN=aV*dB*dQ/aW[aP].fT;}else if(aE.clientWidth>=gN-10){gN=0;for(H=0;H<aW.length;H++){aE=document.getElementById(aW[H].by);if(aE&&aE.clientHeight>gN){gN=aE.clientHeight;}}}if(bw*dB*dQ/aW[aP].gn>fY){fY=bw*dB*dQ/aW[aP].gn;}}}else{var hn;if(en===IPCC.PageLayout.VerticalScrollDirection){hn=ej/bw*dB*dQ/aW[aP].fT;if(av&&av.ec()===true){av.zoom(hn);}uG=true;aE.style.width=ej*dB*dQ/aW[aP].gn+'px';aE.style.height=hn*aV+'px';}else{hn=fm/aV*dB*dQ/aW[aP].fT;if(av&&av.ec()===true){av.zoom(hn);}uG=true;aE.style.height=fm*dB*dQ/aW[aP].fT+'px';aE.style.width=hn*bw+'px';}if(ej*dB*dQ/aW[aP].gn>fY){fY=ej*dB*dQ/aW[aP].gn;}if(fm*dB*dQ/aW[aP].fT>gN){gN=fm*dB*dQ/aW[aP].fT;}}if(av&&av.ec()===true){uG=true;this.vm(aE,aP);setTimeout(function(){if(rE===false){return;}var jp=yM();var ly=IPCC.F.filter(ce,function(el){return aP===el.aj-1;});xJ(ly);kp(ly,true,jp);},0);}};this.axK=function(rV){var tC=dN;this.xn(dN,rV);if(dJ!==IPCC.ViewMode.SinglePage){var K=this;setTimeout(function(){K.sc(tC);},10);}};this.abZ=function(rV){var tC=dN;var cf=ir();if(dJ!==IPCC.ViewMode.SinglePage){this.sc(tC);}var hD=0;var fW=aW.length-1;var H;for(H=hD;H<=fW;H++){this.xn(H,rV);}if(dJ!==IPCC.ViewMode.SinglePage){var K=this;setTimeout(function(){aiZ(cf);K.sc(tC);},10);}};function ajT(Az,or){var nu=0;var qf=0;var CN=false;uG=true;var cf=ir();if(cf){IPCC.F.forEach(cf.Jc,function(aI){var fO=en===IPCC.PageLayout.VerticalScrollDirection?aI.aD+fp:aI.bQ+gW+gR;var aDJ=Az.Jc[aI.aK];if(aDJ.xO){CN=true;return;}if(or&&aI.aK>=or.la&&aI.aK<=or.jN){var aE=document.getElementById(aW[aI.aK].by);if(aE){return;}}if(CN){qf+=fO;}else{nu+=fO;}});}return{qf:qf,nu:nu};};function aiZ(Az){if(dJ===IPCC.ViewMode.SinglePage){return;}var or=KL(Az);var ra=ajT(Az,or);if(en===IPCC.PageLayout.VerticalScrollDirection){aZ.style.paddingTop=ra.nu+'px';aZ.style.paddingBottom=ra.qf+'px';}else{aZ.style.paddingLeft=ra.nu+'px';aZ.style.paddingRight=ra.qf+'px';}};function avS(Az){if(dJ===IPCC.ViewMode.SinglePage){return;}var OS;var or;if(en===IPCC.PageLayout.VerticalScrollDirection){OS=parseInt(window.getComputedStyle(aZ,null).getPropertyValue('padding-top'),10);}else{OS=parseInt(window.getComputedStyle(aZ,null).getPropertyValue('padding-left'),10);}or=KL(Az);var ra=ajT(Az,or);if(en===IPCC.PageLayout.VerticalScrollDirection){aZ.style.paddingTop=ra.nu+'px';aZ.style.paddingBottom=ra.qf+'px';be.scrollTop=be.scrollTop+ra.nu-OS;}else{aZ.style.paddingLeft=ra.nu+'px';aZ.style.paddingRight=ra.qf+'px';be.scrollLeft=be.scrollLeft+ra.nu-OS;}};this.Ma=function(aP){IPCC.bi.kC(aP,'pageIndex',0,aW.length-1);var bb=aW[aP];if(bb&&bb.by&&(bb.Be===true||bb.vt===false)){var ai;var aE=document.getElementById(bb.by);if(aE.ae){aE.ae.dispose();}ajz(aE);ai=new IPCC.Web.UI.PageView(aE,false,be);if(ai){ai.set_autoUpdate(false);ai.uc(aE);ai.initialize();ai.set_imageHandlerUrl(bb.bx.rh);ai.set_requireRequestsOptimize(tp);if(lu!==undefined){ai.set_serviceResponseTimeout(lu);}ai.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ai.NZ(bp===IPCC.Web.UI.MouseTool.HandPan||bp===IPCC.Web.UI.MouseTool.EditMarks);Sz(ai,bb);TW(ai);Sy(ai);RR(ai);TS(ai);}ai.set_textRequired(rC);ai.set_markHandleMode(rJ);ai.set_debug(_debug);ai.set_gamma(sx);ai.set_sharpening(qq);ai.set_svgLineWidthMultiplier(lG);ai.set_debugErrorLevel(oS);ai.nq(K.iO());if(sY){ai.set_resourcePath(sY);}if(hO){ai.HN(hO());}else{ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ai.qO(K.oP());bb.Be=false;bb.yF=false;var zJ={encodedDocumentIdentifier:bb.bx.get_encodedDocumentIdentifier(),pageNumber:aP,artServiceOption:0,documentArtPage:bb.er,viewRotationDegreesClockwise:bb.hv};if(bb.aB){zJ.artPage=bb.aB;}if(bb.er){zJ.documentArtPage=bb.er;}ai.openPage(zJ);bb.vt=true;kb++;}};function abu(fd,fC){if(gk<=0){return;}var ej=gk;var fm=hW;var eA=dQ/aW[0].gn;if(ip(qZ)===true){ej=hW;fm=gk;eA=dQ/aW[0].fT;}var lw=1;if(en===IPCC.PageLayout.VerticalScrollDirection){lw=(be.clientWidth-vZ()-(gW+gR+mw+og))/(ej*eA);}else{lw=(be.clientHeight-(fp+iA+nT+pp))/(fm*eA);}var un;if(dB<=lw){un=false;}else if(dB>lw){un=true;}if(isNaN(lw)||lw<=0||Math.abs(lw)===Infinity){return;}dB=lw;fY=0;gN=0;var hD=0;var fW=aW.length-1;var bH=0;var av;for(bH=hD;bH<=fW;bH++,av=undefined){var aE=document.getElementById(aW[bH].by);if(aE){av=aE.ae;}if(av===undefined){continue;}var bw=ej;var aV=fm;if(aW[bH].lX()>0){if(ip(aW[bH].hv)===true){bw=aW[bH].qW();aV=aW[bH].lX();}else{bw=aW[bH].lX();aV=aW[bH].qW();}}var hn=1;if(en===IPCC.PageLayout.VerticalScrollDirection){hn=ej/bw*dB*eA;aE.style.width=ej*dB*eA+'px';aE.style.height=aV*hn+'px';if(ej*dB*eA>fY){fY=ej*dB*eA;}if(aV*hn*dQ/aW[bH].fT>gN){gN=aV*hn*eA;}}else{hn=fm/aV*dB;aE.style.height=fm*dB*eA+'px';aE.style.width=bw*hn*eA+'px';if(bw*dB*dQ/aW[bH].gn>fY){fY=bw*dB*eA;}if(fm*hn*eA>gN){gN=fm*hn*eA;}}if(av&&aW[bH].gM===true&&av.ec()===true){av.zoom(hn);}if(av&&aW[bH].gM===true&&av.ec()===true){av.display();}av=undefined;}ir();oa();setTimeout(function(){xJ(ce);kp(ce);},0);K.bz('scaleChanged',{scaleType:(un)?"scaledDown":"scaledUp",scaleTrigger:fd,fitType:fC,scaleFactor:dB});};function ip(hc){switch(hc){case 90:case 270:case-90:case-270:return true;default:return false;}};function gy(rv){var yG=document.createElement('div');var H;for(H in rv){if(rv.hasOwnProperty(H)){yG.style[H]=rv[H];}}return yG;};this.aqD=function(){if(KB===undefined||KB===null){KB=1;}var ds=this.nN().id.toString()+'_'+KB.toString();KB++;return ds;};this.Xu=function(){return this.AQ;};this.gu=function(azr){for(var pz=0;pz<aW.length;pz++){var axa=aW[pz];if(azr===axa.eJ){return aW[pz].aB;}}return null;};this.aJw=function(jo){var aE=document.getElementById(aW[jo.get_pageNumber()].by);if(aE){return aE.ae.lY();}return null;};this.asW=function(){if(ni===false||iP!==null||vl){return;}var cf=ir();aiN(cf);};function awt(aN,T){Tg(T);};function Tg(aG){var hf=aG.imGearDocument;var aDB=K.aqD();hf.Ri=aDB;var dM=hf.get_pages();var cB=dM.get_length();if(cB>0){var Mi=document.createDocumentFragment();for(var bH=0;bH<cB;bH++){var bb=dM.getPage(bH);if(!bb.bx){bb.bx=hf;}IT(bb,bb.get_pageNumber()===0?null:Mi);}aZ.appendChild(Mi);}};var aFq=IPCC.F.ajy(function(){if(Ji.length>0&&ni){var dO;var Gw;var Kk=0;IPCC.F.forEach(Ji,aiX);var aaU=ir();if(!aaU){return;}var le=aaU.Jc;IPCC.F.forEach(Ji,function(bb,aK){dO=bb.nL();Gw=le[dO];if(en===IPCC.PageLayout.VerticalScrollDirection){Kk+=Gw.aD+fp;}else{Kk+=Gw.bQ+gW;}});if(Kk&&dJ!==IPCC.ViewMode.SinglePage){if(en===IPCC.PageLayout.VerticalScrollDirection){aZ.style.paddingBottom=Kk+'px';}else{aZ.style.paddingRight=Kk+'px';}}xJ(ce,true);kp(ce,true);if(K.AQ.Ox(0).fv===aW.length){K.bz('allPagesAdded');}oa();}Ji=[];},10);function Yl(aN,T){if(T.imGearPage.get_pageNumber()===0){IT(T.imGearPage);return;}Ji.push(T.imGearPage);aFq();};function aaz(aN,T){var dO=T.imGearPage.get_pageNumber();var Wm=T.imGearPage.bx.get_documentIdentifier();for(var bH=0;bH<aW.length;bH++){if(aW[bH].eJ.get_pageNumber()===dO&&aW[bH].eJ.bx.get_documentIdentifier()===Wm){var aE=document.getElementById(aW[bH].by);if(aE){aZ.removeChild(aE);if(aE.ae){aE.ae.dispose();var ly=IPCC.F.filter(ce,function(el){return el.aj===aW[bH].dO+1;});GF(ly);}}aW.splice(bH,1);}}};function aiX(jo){if(!IPCC.F.contains(aW,jo)){var bC=new IPCC.bC({page:jo});if(qZ){bC.hv=qZ;}if(!bC.bx){bC.bx=jo.bx;}aW.push(bC);IPCC.Pagecounter++;aW=aW.sort(function(cE,eT){return cE.dO-eT.dO;});auz(jo);atp(jo);atw(jo);bC.aoM=false;bC.yF=false;auP(bC);auV(bC);SR(bC);auk(bC);auN(bC);atZ(bC);avb(bC);auy(bC);auR(bC);aux(bC);return bC;}};function IT(bb,Mi){var Lo=bb.get_pageNumber();var ci=K.nN();var hf=null;var Xv;var cB=K.get_documents().get_length();for(var aU=0;aU<cB;aU++){hf=K.get_documents().getDocument(aU);if(hf!==null){Xv=hf.Ri;if(Xv===bb.bx.Ri){break;}}}var hx=IPCC.F.find(aW,function(bC){return bC.eJ&&bC.eJ===bb;});if(!hx){hx=aiX(bb);}hx.Fn=true;var acJ=hx.by;if(hx.Jp===1){return document.getElementById(acJ);}hx.Jp=1;if(aZ===''){ajM();}var lT=(function(){var aw;if(dJ!==IPCC.ViewMode.SinglePage){aw=gy({overflow:'hidden',position:'relative'});}else{aw=gy({overflow:'hidden',position:'absolute',margin:'0px'});if(hx.dO>dN){K.jU(aw,'pccNextPage');}else if(hx.dO<dN){K.jU(aw,'pccPreviousPage');}else{K.jU(aw,'pccCurrentPage');}}qn.push(bb.dO);K.jU(aw,'pccPageListItem');ajz(aw);var Ep=TX(hx);aw.style.width=Ep.bQ+'px';aw.style.height=Ep.aD+'px';var cf=ir();var OY;if(en===IPCC.PageLayout.VerticalScrollDirection||dJ===IPCC.ViewMode.SinglePage){aw.style.display='block';if(gk>0){aw.style.margin=fp+'px auto '+iA+'px auto';}if(cf.cz.length>0&&dJ!==IPCC.ViewMode.SinglePage){OY=cf.cz[0];if(Lo<OY.aK){var aGz=IPCC.F.OU(aZ,'padding-top');var aFk=IPCC.F.QG(aGz);var VY=aFk-Ep.aD-fp;if(VY<0){VY=0;}aZ.style.paddingTop=VY+'px';}else{var aql=IPCC.F.OU(aZ,'padding-bottom');var aqX=IPCC.F.QG(aql);var WP=aqX-Ep.aD-fp;if(WP<0){WP=0;}aZ.style.paddingBottom=WP+'px';}}}else{aw.style.display='inline-block';if(gk>0){aw.style.margin=fp+'px '+gW+'px '+iA+'px '+gR+'px';}if(cf.cz.length>0&&dJ!==IPCC.ViewMode.SinglePage){OY=cf.cz[0];if(Lo<OY.aK){var aqk=IPCC.F.OU(aZ,'padding-left');var arf=IPCC.F.QG(aqk);var Uo=arf-Ep.bQ-gW;if(Uo<0){Uo=0;}aZ.style.paddingLeft=Uo+'px';}else{var aEY=IPCC.F.OU(aZ,'padding-right');var aFe=IPCC.F.QG(aEY);var UR=aFe-Ep.bQ-gW;if(UR<0){UR=0;}aZ.style.paddingRight=UR+'px';}}}aw.setAttribute('id',acJ);return aw;}());hx.eJ=hx.eJ||bb;hx.agh=hx.agh||Xv;hx.hv=hx.hv!==undefined?hx.hv:qZ;hx.gM=false;function atd(eG){var Xm=eG.childNodes;var aAx=IPCC.F.find(aW,function(bC){if(bC.dO<=Lo){return;}var iY=IPCC.F.find(Xm,function(iY){return iY.id&&iY.id===bC.by;});if(!iY){return;}if(bC.dO>Lo){iY.parentElement.insertBefore(lT,iY);return true;}});if(!aAx){eG.appendChild(lT);}}(function aFO(){if(aW.length===1){aZ.appendChild(lT);}else{return atd(Mi||aZ);}}());var apc=false;if(lT&&ci.clientWidth>0){var aso=ci.clientWidth/(lT.clientWidth+(lT.clientLeft*2));var ayR=ci.clientHeight/(lT.clientHeight+(lT.clientTop*2));if(aW.length<(aso*ayR)){apc=true;}}if(aW.length<2){var ai=new IPCC.Web.UI.PageView(lT,false,be);if(ai){ai.set_autoUpdate(false);ai.uc(lT);ai.initialize();ai.set_imageHandlerUrl(bb.bx.rh);ai.set_imGearPage(hx.eJ);ai.set_artPage(hx.aB);ai.set_documentArtPage(hx.er);ai.set_requireRequestsOptimize(tp);if(lu!==undefined){ai.set_serviceResponseTimeout(lu);}ai.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ai.set_textRequired(rC);ai.set_markHandleMode(rJ);ai.set_debug(_debug);ai.set_gamma(sx);ai.set_sharpening(qq);ai.set_svgLineWidthMultiplier(lG);ai.set_debugErrorLevel(oS);ai.nq(K.iO());if(sY){ai.set_resourcePath(sY);}if(hO){ai.HN(hO());}else{ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ai.qO(K.oP());ai.NZ(bp===IPCC.Web.UI.MouseTool.HandPan||bp===IPCC.Web.UI.MouseTool.EditMarks);}Sz(ai,hx);Sy(ai);RR(ai);TW(ai);TS(ai);ai.openPage({encodedDocumentIdentifier:bb.bx.get_encodedDocumentIdentifier(),pageNumber:bb.get_pageNumber(),artServiceOption:0,imGearPage:hx.eJ,artPage:hx.aB,documentArtPage:hx.er,viewRotationDegreesClockwise:hx.hv});hx.vt=true;kb++;}return lT;};function akE(bC){return bC.Fn;};function oa(){if(kb>0||ni===false||iP!==null){return;}if(vl){return;}var cf=ir();if(!cf){return;}aW.forEach(function(bb,aK){if(!bb.gM){return;}K.Kj(aK);});var zT=arG(cf);IPCC.F.forEach(zT||[],function(aK){var bb=aW[aK];if(bb){aih(bb);}});IPCC.F.forEach(cf.cz,function(Gw){var bC=aW[Gw.aK];if(akE(bC)&& !bC.gM&&bC.Jp){QK(bC);}});aiN(cf);arT();};function aiN(cf){if(!cf){return;}var or=KL(cf);for(var aK=or.la;aK<=or.jN;aK++){var bC=aW[aK];if(!akE(bC)){bC.Fn=true;var XJ=K.Xu();var hf=XJ.Ox(0);var jo=hf.dM.hM(aK);IT(jo);aiG(bC,false);}}};function arG(cf){var azO=te(cf);var zT=[];IPCC.F.forEach(azO,function(aK){var bb=aW[aK];if(bb&&bb.Jp===0){var XJ=K.Xu();var hf=XJ.Ox(0);var jo=hf.dM.hM(aK);IT(jo);zT.push(aK);}});return zT;};function arT(){var vA=be.scrollTop;var vD=be.scrollLeft;var tS=be.clientHeight;var tG=be.clientWidth;var uz=be.scrollWidth;var vy=be.scrollHeight;var cf=Vz({vA:vA,vD:vD,tS:tS,tG:tG,uz:uz,vy:vy});var or=KL(cf);var agZ=auQ(cf);var nu=0;var qf=0;var CN=false;IPCC.F.forEach(cf.Jc,function(aI){var fO=en===IPCC.PageLayout.VerticalScrollDirection?aI.aD+fp:aI.bQ+gW+gR;var aK= +aI.aK;if(aI.xO||(dJ===IPCC.ViewMode.SinglePage&&aK===dN)){CN=true;return;}if(aK>=or.la&&aK<=or.jN){if(aK>=agZ.la&&aK<=agZ.jN){return;}if(CN){if(CT(aK,true)> -1){qf+=fO;}}else{if(CT(aK,true)> -1){nu+=fO;}}return;}if(CN){qf+=fO;CT(aK);}else{nu+=fO;CT(aK);}});if(dJ===IPCC.ViewMode.SinglePage){return;}if(en===IPCC.PageLayout.VerticalScrollDirection){aZ.style.paddingTop=nu+'px';aZ.style.paddingBottom=qf+'px';}else{aZ.style.paddingLeft=nu+'px';aZ.style.paddingRight=qf+'px';}};function CT(bH,awk){var bb=aW[bH];if(!bb){return-1;}var dO=bb.dO;if(awk===true&& !bb.gM){return-1;}bb.yF=false;bb.vt=false;bb.gM=false;bb.Jp=0;bb.Fn=false;if(KZ&& !bb.eJ.cn().aAN()&&QH!==true){bb.eJ.agt();}var AC=document.getElementById(bb.by);if(!AC){return-1;}if(AC.ae){AC.ae.dispose();var ly=IPCC.F.filter(ce,function(el){return el.aj===dO+1;});GF(ly);AC.parentElement.removeChild(AC);return bH;}else{AC.parentElement.removeChild(AC);}return-1;};function QK(bC){var aw=document.getElementById(bC.by);K.vm(aw,bC.dO);};function aih(bC){aiG(bC,true);QK(bC);};function aiG(bb,anz){var aw=document.getElementById(bb.by);if(aw===null){return;}var ai=new IPCC.Web.UI.PageView(aw,false,be);ai.set_autoUpdate(false);ai.uc(document.getElementById(bb.by));ai.initialize();ai.set_imageHandlerUrl(bb.bx.rh);ai.set_imGearPage(bb.eJ);ai.set_artPage(bb.aB);ai.set_requireRequestsOptimize(tp);if(lu!==undefined){ai.set_serviceResponseTimeout(lu);}ai.set_scrollBars(IPCC.Web.UI.ScrollBars.None);ai.set_textRequired(rC);ai.set_markHandleMode(rJ);ai.set_debug(_debug);ai.set_gamma(sx);ai.set_sharpening(qq);ai.set_svgLineWidthMultiplier(lG);ai.set_debugErrorLevel(oS);ai.nq(K.iO());if(sY){ai.set_resourcePath(sY);}if(hO){ai.HN(hO());}else{ai.set_mouseTool(IPCC.Web.UI.MouseTool.None);}ai.qO(K.oP());ai.NZ(bp===IPCC.Web.UI.MouseTool.HandPan||bp===IPCC.Web.UI.MouseTool.EditMarks);Sz(ai,bb);Sy(ai);RR(ai);TW(ai);TS(ai);if(anz===true){ai.add_pageOpened(function aGT(bS){K.vm(aw,bb.dO);});}if(bb.yF===false&&bb.eJ){bb.Fn=true;var zJ={encodedDocumentIdentifier:bb.eJ.bx.get_encodedDocumentIdentifier(),pageNumber:bb.eJ.get_pageNumber(),imGearPage:bb.eJ,viewRotationDegreesClockwise:bb.hv};if(bb.aB){zJ.artPage=bb.aB;}if(bb.er){zJ.documentArtPage=bb.er;}ai.openPage(zJ);bb.vt=true;kb++;}};function aiU(aB,gE){var aH;aB.forEachMark(function(J){switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:var bg=J.get_points();var ad=bg.zl(0);var jP=bg.zl(1);bg.setPoint(0,new IPCC.Web.UI.Point(ad.x*gE,ad.y*gE));bg.setPoint(1,new IPCC.Web.UI.Point(jP.x*gE,jP.y*gE));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aH=J.get_rectangle();J.set_rectangle({x:aH.x*gE,y:aH.y*gE,width:aH.width*gE,height:aH.height*gE});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:aH=J.get_rectangle();J.set_rectangle({x:aH.x*gE,y:aH.y*gE,width:aH.width*gE,height:aH.height*gE});var al=J.al,hz;for(var i=0;i<al.length;i++){hz=al[i];hz.x=hz.x*gE;hz.y=hz.y*gE;hz.width=hz.width*gE;hz.height=hz.height*gE;}break;default:break;}});};function Sz(ai,bb){function awe(sender,evnt){var ace=function(bQ,aD,aj){var Sx={'width':bQ,'height':aD,'pageNumber':aj};K.bz('pageOpening',Sx);};var dO=evnt.pageNumber;var Wm=evnt.documentIdentifier;bb.bw=ai.get_pageWidth();bb.aV=ai.get_pageHeight();var fS=ai.get_pageXResolution();var gj=ai.get_pageYResolution();if(!isNaN(parseFloat(fS))&&isFinite(fS)){bb.gn=fS;}if(!isNaN(parseFloat(gj))&&isFinite(gj)){bb.fT=gj;}ai=null;for(var bH=0;bH<aW.length;bH++){if(ni&&aW[bH].eJ.get_pageNumber()===dO&&aW[bH].eJ.bx.get_documentIdentifier()===Wm){aW[bH].vt=false;aW[bH].yF=true;aW[bH].Be=false;if(dJ===IPCC.ViewMode.SinglePage){var ml= -1;if(Array.prototype.indexOf){ml=qn.indexOf(bH);}else{ml=IPCC.Web.kV(qn,bH);}if(ml!== -1){qn.splice(ml,1);}}var alw=false;for(var aU=0;aU<OW.length;aU++){if(OW[aU]===bH){alw=true;}}if(alw===false){OW.push(bH);}var lO=0;var lZ=0;var aE=document.getElementById(aW[bH].by);var av=aE.ae;var ej;var fm;var abB;if(gk===0&&(bH===0||aW[0].Be===true)){if(aE.currentStyle){nT=parseInt(aE.currentStyle.borderTopWidth,10)||0;fp=parseInt(aE.currentStyle.marginTop,10)||0;mw=parseInt(aE.currentStyle.borderLeftWidth,10)||0;gW=parseInt(aE.currentStyle.marginLeft,10)||0;pp=parseInt(aE.currentStyle.borderBottomWidth,10)||0;iA=parseInt(aE.currentStyle.marginBottom,10)||0;og=parseInt(aE.currentStyle.borderRightWidth,10)||0;gR=parseInt(aE.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var vr=document.defaultView.getComputedStyle(aE);nT=parseInt(vr.borderTopWidth,10)||0;fp=parseInt(vr.marginTop,10)||0;mw=parseInt(vr.borderLeftWidth,10)||0;gW=parseInt(vr.marginLeft,10)||0;pp=parseInt(vr.borderBottomWidth,10)||0;iA=parseInt(vr.marginBottom,10)||0;og=parseInt(vr.borderRightWidth,10)||0;gR=parseInt(vr.marginRight,10)||0;}if(dJ===IPCC.ViewMode.SinglePage){aE.style.margin=fp+'px 0px '+iA+'px 0px';aZ.style.margin="0px auto";}else{if(en===IPCC.PageLayout.VerticalScrollDirection){aE.style.margin=fp+'px auto '+iA+'px auto';}else{aE.style.margin=fp+'px '+gR+'px '+iA+'px '+gW+'px';aZ.style.margin='0px '+gR+'px 0px '+gW+'px';}}gk=av.get_pageWidth();hW=av.get_pageHeight();agC=fS;ej=gk;fm=hW;var eA=dQ/aW[bH].gn;if(ip(aW[bH].hv)===true){fm=gk;ej=hW;eA=dQ/aW[bH].fT;}if(dJ===IPCC.ViewMode.SinglePage){var atb=(be.offsetWidth-(gW+gR+mw+og));var asw=(be.offsetHeight-(fp+iA+nT+pp+aDI));oc=atb/(ej*eA);abB=asw/(fm*eA);if(abB<oc){oc=abB;}av.zoom(oc*eA);}else if(en===IPCC.PageLayout.VerticalScrollDirection){oc=(be.offsetWidth-IPCC.Web.oE()-(gW+gR+mw+og))/(ej*eA);av.zoom(oc*eA);}else{oc=(be.offsetHeight-IPCC.Web.oE()-(fp+iA+nT+pp))/(fm*eA);av.zoom(oc*eA);}lO=ej*oc*eA;lZ=fm*oc*eA;aE.style.width=lO+'px';aE.style.height=lZ+'px';if(dJ===IPCC.ViewMode.SinglePage){aZ.style.width=lO+'px';aZ.style.height=lZ+'px';}if(dJ!==IPCC.ViewMode.SinglePage){for(var pz=0;pz<aW.length;pz++){if(aW[pz].gM===false&&pz!==bH){if(aW[pz].by){aE=document.getElementById(aW[pz].by);aE.style.width=ej*oc+'px';aE.style.height=fm*oc+'px';if(en===IPCC.PageLayout.VerticalScrollDirection){aE.style.margin=fp+'px auto '+iA+'px auto';}else{aE.style.margin=fp+'px '+gR+'px '+iA+'px '+gW+'px';}}}}}dB=oc;ace(bb.bw,bb.aV,dO+1);aE.ae.display();}else{if(dJ===IPCC.ViewMode.Document||dJ===IPCC.ViewMode.SinglePage){if(ip(aW[bH].hv)===true){lO=av.get_pageHeight()*dB*dQ/aW[bH].gn;lZ=av.get_pageWidth()*dB*dQ/aW[bH].fT;}else{lO=av.get_pageWidth()*dB*dQ/aW[bH].gn;lZ=av.get_pageHeight()*dB*dQ/aW[bH].fT;}}else{var hn;var bw=av.get_pageWidth();var aV=av.get_pageHeight();ej=gk;fm=hW;if(ip(qZ)===true){ej=hW;fm=gk;}if(ip(aW[bH].hv)===true){bw=av.get_pageHeight();aV=av.get_pageWidth();}if(en===IPCC.PageLayout.VerticalScrollDirection){hn=ej/bw*dB*dQ/aW[0].fT;lO=ej*dB*dQ/aW[0].gn;lZ=aV*hn;}else{hn=fm/aV*dB*dQ/aW[0].gn;lZ=fm*dB*dQ/aW[0].fT;lO=bw*hn;}}if(lO!==Math.round(lO)){lO=Math.floor(lO*100)/100;}if(lZ!==Math.round(lZ)){lZ=Math.floor(lZ*100)/100;}if(aE.style.width!==lO+'px'||aE.style.height!==lZ+'px'){if(en===IPCC.PageLayout.VerticalScrollDirection){aE.style.width=lO+'px';aE.style.height=lZ+'px';}else{aE.style.width=lO+'px';aE.style.height=lZ+'px';}xJ(ce,true);kp(ce,true);}ace(bb.bw,bb.aV,dO+1);}if(lO>fY){fY=lO;if(en===IPCC.PageLayout.VerticalScrollDirection){be.scrollLeft=(fY-be.clientWidth)/2;}}if(lZ>gN){gN=lZ;if(en===IPCC.PageLayout.HorizontalScrollDirection){be.scrollTop=(gN-be.clientHeight)/2;}}if(aW[bH].Cu>0){var abd=document.getElementById(aW[bH].by).ae;if(abd){abd.rotate(aW[bH].Cu);abd.display();aW[bH].Cu=0;}}if(kb>0){kb=kb-1;}if(aW[bH].ahi()===true){var jo=aW[bH].eJ;var gE=aW[bH].lX()/jo.aiK();if(gE!==1){var aB=K.gu(jo);if(aB){aiU(aB,gE);}}}aW[bH].Vd(false);ir();var JJ=new IPCC.OpenPageEventArgs();JJ.pageIndex=evnt.pageNumber;JJ.imGearPage=evnt.imGearPage;JJ.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;JJ.pageNodeID=aW[bH].by;K.bz('pageOpened',JJ);break;}}if(kb===0&&lD===null&&iP===null){setTimeout(function(){oa();},60);}};ai.add_pageOpened(awe);};function Sy(ai){function avz(aN,bO){if(ni===false){return;}var yY;if(bO.pageNumber>=0){if(aW[bO.pageNumber].by){yY=aW[bO.pageNumber].by;}}aW[bO.pageNumber].Be=true;aW[bO.pageNumber].vt=false;aW[bO.pageNumber].yF=false;aW[bO.pageNumber].gM=false;var lU=new IPCC.ExceptionEventArgs();lU.exception=bO.exception;lU.pageIndex=bO.pageNumber;lU.pageNodeID=yY;K.bz('pageOpenFailed',lU);if(kb>0){kb=kb-1;if(kb===0){setTimeout(function(){oa();},60);}}};ai.add_pageOpenFailed(avz);};function RR(ai){function avK(aN,bO){if(ni===false){return;}var T=new IPCC.PageEventArgs();T.pageIndex=bO.aj;T.imGearPage=aW[bO.aj].eJ;T.pageNodeID=aW[bO.aj].by;aW[bO.aj].gM=true;if(dJ===IPCC.ViewMode.SinglePage){var ml= -1;if(Array.prototype.indexOf){ml=qn.indexOf(bO.aj);}else{ml=IPCC.Web.kV(qn,bO.aj);}if(ml!== -1){qn.splice(ml,1);}}K.bz('pageDisplayed',T);setTimeout(function(){var ly=IPCC.F.filter(ce,function(el){if(dJ===IPCC.ViewMode.SinglePage){return bO.aj===el.aj-1&&el.aj-1===dN;}else{return bO.aj===el.aj-1;}});xJ(ly);kp(ly);},0);};ai.add_pageDisplayed(avK);};function atp(bb){function Gb(aN,bO){if(ni===false){return;}K.bz('textPageReady',{pageIndex:bO.pageNumber,containsText:bO.containsText});var cf=ir();var dj=[];if(cf){dj=te(cf);}if(bO.containsText===true&&bO.pageNumber>=dj[0]&&bO.pageNumber<=dj[dj.length-1]){if(aW[bO.pageNumber].aB&&aW[bO.pageNumber].aB.get_markCount()>0){var aE=document.getElementById(aW[bO.pageNumber].by);K.vm(aE,bO.pageNumber);}}};bb.zd(Gb);};function atw(bb){function awh(aN,bO){if(ni===false){return;}var er=aW[bO.pageNumber].er;bb.ahM().JI().ki(function(gg){var J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),aH=gg.ey();J.set_rectangle(new IPCC.Web.UI.Rectangle(aH.x,aH.y,aH.width,aH.height));J.set_href(gg.aiF());J.set_lineColor(gg.aFt());J.set_lineWidth(gg.axl());J.set_borderPattern(gg.aFN());J.set_borderType(gg.axC());J.set_borderHorizontalRadius(gg.aFm());J.set_borderVerticalRadius(gg.axG());J.set_borderOpacity(gg.aEW());er.addMark(J);gg.aBF(J);});K.bz('hyperlinkPageReady',{pageIndex:bO.pageNumber});var cf=ir();var dj=[];if(cf){dj=te(cf);}if(bO.pageNumber>=dj[0]&&bO.pageNumber<=dj[dj.length-1]){var aE=document.getElementById(aW[bO.pageNumber].by);K.vm(aE,bO.pageNumber);}};bb.WH(awh);};function auz(bb){function Fa(aN,bO){if(ni===false){return;}var yY;if(bO.pageNumber>=0){if(aW[bO.pageNumber].by){yY=aW[bO.pageNumber].by;}}K.bz('textExtractionFailed',{'exception':bO.exception,'pageIndex':bO.pageNumber,'pageNodeID':yY});};bb.yg(Fa);};function TW(ai){function axd(aN,bO){if(ni===false){return;}var yY;if(isNaN(bO.pageNumber)===false){if(bO.pageNumber>=0){if(aW[bO.pageNumber].by){yY=aW[bO.pageNumber].by;}}aW[bO.pageNumber].Be=true;aW[bO.pageNumber].vt=false;aW[bO.pageNumber].yF=false;aW[bO.pageNumber].gM=false;}var lU=new IPCC.ExceptionEventArgs();lU.functionName=bO.function_name;lU.exception=bO.exception;lU.pageIndex=bO.pageNumber;lU.pageNodeID=yY;K.bz('exceptionThrown',lU);if(kb>0){kb=kb-1;if(kb===0){setTimeout(function(){oa();},60);}}};ai.add_exceptionThrown(axd);};function TS(ai){function FG(aN,bO){K.bz('markCreating',bO);};ai.add_markCreating(FG);};function auP(bC){function ajD(){if(ni===false){return;}var cf=ir();var dj=[];if(cf){dj=te(cf);}if(bC.dO>=dj[0]&&bC.dO<=dj[dj.length-1]){var aE=document.getElementById(bC.by);K.vm(aE,bC.dO);}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;K.bz('marksLoaded',T);};bC.aB.add_marksLoaded(ajD);};function auV(bC){function lL(aN,bO){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;T.clientX=bO.clientX;T.clientY=bO.clientY;K.bz('markAdded',T);};bC.aB.add_markAdded(lL);};function SR(bC){var WO,pS=false,Zs,YR;function II(G,eo){if(rE===false){return;}var jp=yM();ail(G,eo,jp);kp(ce,true,jp);};function avi(G,eo){Zs=G;YR=eo;if(pS&& !WO){WO=HQ(function(){pS=false;WO=undefined;if(Zs&&YR){II(Zs,YR);}else{II(G,eo);}});}};function mV(aN,bO){if(bO.mark.vv===true){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;T.propertyName=bO.propertyName;K.bz('markChanged',T);var eo=ce[bO.mark.get_markID()];if(eo&&(bO.propertyName==='rectangle'||bO.propertyName==='points'||bO.propertyName==='startPoint'||bO.propertyName==='endPoint')){pS=true;avi(bO.mark,eo);}else if(eo&&bO.propertyName==='visible'){var azS=bO.mark.get_visible();var ZC=(function(cl){return IPCC.F.inArray(Rd(),cl.aj-1);})(eo);if(azS&&ZC){Qn([eo]);kp(ce,true,yM());}else{GF([eo]);}}};bC.aB.add_markChanged(mV);};function auk(bC){function aiu(aN,bO){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;T.oldZIndex=bO.oldZIndex;K.bz('markReordered',T);};bC.aB.add_markReordered(aiu);};function auN(bC){function DI(aN,bO){if(bO.mark.vv===true){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;K.bz('markSelectionChanged',T);};bC.aB.add_markSelectionChanged(DI);};function avb(bC){function CE(aN,bO){if(bO.mark){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;K.bz('markRemoved',T);var eo=ce[bO.mark.get_markID()];if(eo){if(bO.mark.get_conversation()===jy){jy=null;}eo.cu.parentElement.removeChild(eo.cu);delete ce[bO.mark.get_markID()];kp(ce,true);}}};bC.aB.add_markRemoved(CE);};function atZ(bC){function xM(aN,bO){var T=new IPCC.Web.UI.MarkEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.zIndex=bO.zIndex;K.bz('markTextSelectionChanged',T);};bC.aB.add_markTextSelectionChanged(xM);};function ail(G,eo,LO){var bC=aW[eo.aj-1],bb=document.getElementById(bC.by),Gi=Tm(G,bC.dO+1);if(bb.ae){var dG=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(Gi.x,Gi.y),true);var ox=(fp*bC.dO);var Fj=(bb.offsetTop-ox+dG.y)/(LO-(fp*aW.length));eo.aH=Gi;eo.Ue=Fj;}};function GF(ix,aj){var aCQ=typeof aj==='undefined';IPCC.F.forEach(ix,function(ak){if(ak&&(aCQ||ak.pageNumber===aj)){ak.cu.style.display='none';ak.xO=false;}});};function vZ(){if(kh.currentStyle&&kh.currentStyle.display==='none'){return 0;}return kh.clientWidth;};function yM(){if(kh.currentStyle&&kh.currentStyle.display==='none'){return 0;}return kh.offsetHeight;};function Qn(ix,aj){var aEA=typeof aj==='undefined';IPCC.F.forEach(ix,function(el){if(aEA||el.pageNumber===aj){el.cu.style.display='';el.xO=true;if(el&&el.J&&el.J.get_visible()===false){el.cu.style.display='none';el.xO=false;}}});};function xJ(ix,VE){if(rE===false){return;}var Lh=(! !VE)?IPCC.F.filter(ce,function(cl){return IPCC.F.contains(Rd(),cl.aj-1);}):ix;var jp=yM();IPCC.F.forEach(Lh,function(el){ail(el.J,el,jp);});};function auI(a,b){return(a.aH.y!==b.aH.y)?(a.aH.y-b.aH.y):(a.aH.x!==b.aH.x)?(a.aH.x-b.aH.x):(a.wP-b.wP);};function ava(a,b){return(a.aH.x!==b.aH.x)?(a.aH.x-b.aH.x):(a.aH.y!==b.aH.y)?(b.aH.y-a.aH.y):(a.wP-b.wP);};function atx(a,b){return(a.aH.y!==b.aH.y)?(b.aH.y-a.aH.y):(a.aH.x!==b.aH.x)?(b.aH.x-a.aH.x):(a.wP-b.wP);};function auv(a,b){return(a.aH.x!==b.aH.x)?(b.aH.x-a.aH.x):(a.aH.y!==b.aH.y)?(a.aH.y-b.aH.y):(a.wP-b.wP);};function avl(YJ,jp,At){At=At||0;var _top,aoB,Jq,VM=(fp*aW.length),Ta=jp-VM;IPCC.F.forEach(YJ,function(cl){Jq=(fp*(cl.aj-1));aoB=(cl.Ue*Ta)+Jq;_top=Math.max(At+5,aoB);if(cl.cu.style.top!==_top+'px'){cl.cu.style.top=_top+'px';}At=_top+cl.aaT;});};function avM(YJ,jp){var Pu,_top,RM,Jq,ant,VM=(fp*aW.length),Ta=jp-VM;IPCC.F.forEach(YJ,function(cl){Jq=(fp*(cl.aj-1));RM=(cl.Ue*Ta)+Jq;if(Pu===undefined){Pu=RM;}if(cl.J.get_conversation()===jy){_top=RM;ant=_top+cl.aaT;}else{_top=Math.min(Pu-5-cl.aaT,RM);}if(cl.cu.style.top!==_top+'px'){cl.cu.style.top=_top+'px';}Pu=_top;});return ant;};function kp(ix,VE,jp){if(rE===false){return;}if(!jp){jp=yM();}var aGb=function(a,b){if(a.aj!==b.aj){return(a.aj-b.aj);}var bb=aW[a.aj-1],hc=bb.hv;switch(hc){case 90:return ava(a,b);case 180:return atx(a,b);case 270:return auv(a,b);default:return auI(a,b);}};var Lh=(! !VE)?IPCC.F.filter(ce,function(cl){return IPCC.F.inArray(Rd(),cl.aj-1);}):ix;Qn(Lh);var avU=IPCC.F.map(Lh,function(cl,an){cl.aaT=cl.cu.offsetHeight;return cl;});var Zq=avU.sort(aGb);var LC=[],WQ=[],Xi=false;if(jy){var axy=ce[jy.get_mark().get_markID()];if(!IPCC.F.inArray(Zq,axy)){Xi=true;}IPCC.F.forEach(Zq,function(cl){if(Xi){WQ.push(cl);}else if(cl.J.get_conversation()===jy){LC.unshift(cl);Xi=true;}else{LC.unshift(cl);}});}else{WQ=Zq;}var At=0;if(LC.length){At=avM(LC,jp);}avl(WQ,jp,At);};function awD(ix,G,dO){var cl=ix[G.jW()];cl.aj=dO;cl.J=G;cl.aH=Tm(G,dO);cl.wP=G.eN().os(G);};function BL(G,ix,kH){var eo=ix[G.get_markID()];if(eo){eo.cu.parentElement.replaceChild(kH,eo.cu);eo.cu=kH;}return eo;};function atO(G,ix,kH,awV,aFB,Fj,dO){var eo=new apX();eo.cu=kH;ce[G.get_markID()]=eo;awD(ce,G,dO);eo.Ue=Fj;awV.appendChild(kH);return eo;};function Tm(G,aj){var aH=(G.get_boundingRectangle)?G.get_boundingRectangle():{},hc=aW[aj-1].hv;switch(hc){case 90:return{x:aH.x,y:aH.y+(aH.height||0)};case 180:return{x:aH.x+(aH.width||0),y:aH.y+(aH.height||0)};case 270:return{x:aH.x+(aH.width||0),y:aH.y};default:return{x:aH.x,y:aH.y};}};function auy(bC){function QM(aN,bO){var T=new IPCC.Web.UI.CommentEventArgs();T.pageIndex=bC.dO;T.mark=bO.mark;T.index=bO.index;T.comment=bO.comment;var bb=document.getElementById(bC.by);K.bz('commentAdding',T);setTimeout(function(){var LO=yM(),eo,cu;if(bO.index===0){cu=mu(bO.mark,{isSelected:false},null);if(!cu){return;}else if(!IPCC.F.vg(cu)){throw new Error(cu+' is not a valid HTMLElement');}var Gi=Tm(bO.mark,bC.dO+1),ast=Gi.x,asF=Gi.y;var dG;if(bb&&bb.ae){dG=bb.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(ast,asF),true);}else{dG=new IPCC.Web.UI.Point(0,0);}var ox=(fp*(bC.dO));var Fj=(aij(bC.dO)-ox+dG.y)/(LO-(fp*aW.length));eo=atO(bO.mark,ce,cu,kh,dG,Fj,bC.dO+1);}else{var Iz=bO.mark.get_conversation()===jy;var currentConversationDiv=ce[bO.mark.get_markID()];if(!currentConversationDiv){return;}cu=mu(bO.mark,{isSelected:Iz},currentConversationDiv.cu);if(!cu){return;}else if(!IPCC.F.vg(cu)){throw new Error(cu+' is not a valid HTMLElement');}eo=BL(bO.mark,ce,cu);}if(IPCC.F.contains(Rd(),bC.dO)){kp(ce,true,LO);}else{GF([eo]);}K.bz('commentAdded',T);},0);};bC.aB.add_commentAdded(QM);};function auR(bC){function RX(aN,bO){var cu=null;if(ce[bO.mark.get_markID()]){cu=ce[bO.mark.get_markID()].cu;var Iz=bO.mark.get_conversation()===jy;cu=mu(bO.mark,{isSelected:Iz},cu);}if(!cu){K.bz('commentChanged',bO);return;}else if(!IPCC.F.vg(cu)){throw new Error(cu+' is not a valid HTMLElement');}if(cu){var jp=yM();BL(bO.mark,ce,cu);kp(ce,true,jp);}K.bz('commentChanged',bO);};bC.aB.add_commentChanged(RX);};function aux(bC){function RQ(aN,bO){var cu=null;if(ce[bO.mark.get_markID()]){cu=ce[bO.mark.get_markID()].cu;}var Iz=bO.mark.get_conversation()===jy;cu=mu(bO.mark,{isSelected:Iz},cu);if(IPCC.F.vg(cu)){BL(bO.mark,ce,cu);}else{var eo=ce[bO.mark.get_markID()];if(eo){if(bO.mark.get_conversation()===jy){jy=null;}eo.cu.parentElement.removeChild(eo.cu);delete ce[bO.mark.get_markID()];}}kp(ce,true);K.bz('commentRemoved',bO);};bC.aB.add_commentRemoved(RQ);};function SD(){var aD=hW;var bQ=gk;var aFQ=function(ij){return{width:ij.width||(ij.right-ij.left),height:ij.height||(ij.bottom-ij.top),top:ij.top,bottom:ij.bottom,left:ij.left,right:ij.right};};var abN=aFQ(be.getBoundingClientRect());var ny={height:abN.height/2};ny.width=ny.height*bQ/aD;if(ny.width>bQ/2){ny.width=bQ/2;}if(ny.height>aD/2){ny.height=aD/2;}var ZH=8;var amE={height:aD*ZH,width:bQ*ZH};var apf=bQ*dB<ny.width+5;var anA=bQ*dB>amE.width-5;return{min:ny,max:amE,page:{width:bQ,height:aD},viewport:abN,atMin:apf,atMax:anA,maxFactor:ZH,minFactor:ny.width/bQ};};function jw(ag,To){if(To){aiP.apply(this,arguments);return;}var un=(ag<dB)?true:false;var pk=SD();if((pk.atMin&&un)||(pk.atMax&& !un)){return;}if(ag>pk.maxFactor){ag=pk.maxFactor;}else if(ag<pk.minFactor){ag=pk.minFactor;}if(!pk.atMax|| !pk.atMin){aiP.apply(this,arguments);}};function aiP(ag,aHq,bB,cc,Er,sF,fd,fC){if(isNaN(ag)||ag<=0||Math.abs(ag)===Infinity){return;}var SZ=dN;var cf=ir();var un=(ag<dB)?true:false;var hD=0;var fW=aW.length-1;if(dJ===IPCC.ViewMode.SinglePage){if(dN-uR>=0){hD=dN-uR;}if(dN+uR<aW.length-1){fW=dN+uR;}}var Oh=ag/dB;dB=ag;var Gk=be.getBoundingClientRect();var afH=(sF&&sF.x!==undefined)?sF.x:be.scrollLeft+(Gk.width/2);var abA=(sF&&sF.y!==undefined)?sF.y:be.scrollTop+(Gk.height/2);var aCc=sF&&sF.x!==undefined&&sF.y!==undefined;fY=0;gN=0;for(var bH=hD;bH<=fW;bH++){var av;var aE=document.getElementById(aW[bH].by);if(aE){av=aE.ae;}else{continue;}if(bH===SZ){var Mh=aE.getBoundingClientRect();if(!aCc){if(en===IPCC.PageLayout.HorizontalScrollDirection&&Gk.height>Mh.height){abA-=((Gk.height-Mh.height)/2);}else if(en===IPCC.PageLayout.VerticalScrollDirection&&Gk.width>Mh.width){afH-=((Gk.width-Mh.width)/2);}}}var gx=ag*dQ/aW[bH].gn;var bw=gk;var aV=hW;var ej=gk;var fm=hW;if(ip(qZ)===true){ej=hW;fm=gk;}if(aW[bH].lX()>0){if(ip(aW[bH].hv)===true){bw=aW[bH].qW();aV=aW[bH].lX();}else{bw=aW[bH].lX();aV=aW[bH].qW();}}else{gx=ag*dQ/aW[0].gn;if(ip(aW[bH].hv)===true){var Je=bw;bw=aV;aV=Je;gx=ag*dQ/aW[0].fT;}}var KA,IO,hn;if(dJ===IPCC.ViewMode.SinglePage){IO=bw*gx;KA=aV*gx;aE.style.width=IO+'px';aE.style.height=KA+'px';if(bH===dN){aZ.style.width=IO+'px';aZ.style.height=KA+'px';}if(av&&aW[bH].gM===true&&av.ec()===true){av.zoom(gx);}}else if(dJ===IPCC.ViewMode.Document){IO=bw*gx;KA=aV*gx;aE.style.width=IO+'px';aE.style.height=KA+'px';if(av&&aW[bH].gM===true&&av.ec()===true){av.zoom(gx);}if(bw*gx>fY){fY=bw*gx;}if(aV*gx>gN){gN=aV*gx;}}else{gx=ag*dQ/aW[0].gn;if(en===IPCC.PageLayout.VerticalScrollDirection){hn=ej/bw*gx;aE.style.width=ej*gx+'px';aE.style.height=aV*hn+'px';if(ej*gx>fY){fY=ej*gx;}if(aV*gx>gN){gN=aV*gx;}}else{hn=fm/aV*gx;aE.style.height=fm*gx+'px';aE.style.width=bw*hn+'px';if(bw*gx>fY){fY=bw*gx;}if(fm*gx>gN){gN=fm*gx;}}if(av&&aW[bH].gM===true&&av.ec()===true){av.zoom(hn);}}if(av&&aW[bH].gM===true&&av.ec()===true){av.display();if(IPCC.F.tJ.Co){var awT=be.style.display;be.style.display='none';be.style.display=awT;asU();}}}if(en===IPCC.PageLayout.VerticalScrollDirection){OD=be.scrollTop;}else{OD=be.scrollLeft;}var PV,Lu,Nb=0,Nd=0;if(Er){PV=Er.offsetLeft+Oh*bB;Lu=Er.offsetTop+Oh*cc;be.scrollLeft=PV-(be.clientWidth/2)+Nb;be.scrollTop=Lu-(be.clientHeight/2)+Nd;avS(cf);}else{if(en===IPCC.PageLayout.VerticalScrollDirection){Nd=fp*(SZ+1);}else{Nb=gR+((gW+gR)*(SZ+1));}PV=Oh*(afH-Nb);Lu=Oh*(abA-Nd);aiZ(cf);be.scrollLeft=PV-(be.clientWidth/2)+Nb;be.scrollTop=Lu-(be.clientHeight/2)+Nd;}if(dJ!==IPCC.ViewMode.SinglePage&&(fd===IPCC.ScaleTrigger.Pinch||un===true)){oa();}kp(ce,true);K.bz('scaleChanged',{scaleType:(un)?"scaledDown":"scaledUp",scaleTrigger:fd,fitType:fC,scaleFactor:dB});};function asU(){var dummy=document.createElement('div');setTimeout(function(){be.appendChild(dummy);be.removeChild(dummy);},0);};function ajW(aq,fk,dX,ed){var gq=aq.igElements;ed=ed||abI(aq);if(ed&&(ed.right-ed.left)>0&&(ed.bottom-ed.top)>0){return new IPCC.Web.UI.Point(fk+ed.left+gq.mI.scrollLeft,dX+ed.top+gq.mI.scrollTop);}else{return;}};function abI(aq){var gq=aq.igElements;var ed=null;if(!aq|| !gq|| !gq.oY){return null;}if(gq.oY.getBoundingClientRect){try{ed=gq.oY.getBoundingClientRect();}catch(aR){return;}}else{var eG=gq.oY;var wN=document.documentElement;ed={left:wN.clientLeft-wN.scrollLeft,top:wN.clientTop-wN.scrollTop};eG=eG.offsetParent;while(eG){ed.top+=eG.offsetTop-eG.scrollTop;ed.left+=eG.offsetLeft-eG.scrollLeft;eG=eG.offsetParent;}}return ed;};function ajM(){var ci=K.nN();var Qp=ci.id;var vP;var yl;var lM;var Ui;var Ve;var as=false;var aq;var nz=[];var uo= -1;var hJ=0;var oA;var De;var zc;var nb={x:0,y:0};var lm=0;var cD=0;var rY=null;var tZ=null;if(aZ===''){be=gy({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});be.className='pccPageListContainerWrapper';be.tabIndex=2;var Vb=function(fk,dX){return IPCC.F.getPageFromPoint(fk,dX,be)||false;};var aaG=function(aq,fk,dX){var gq=aq.igElements;var ed=abI(aq);if(ed&&(ed.right-ed.left)>0&&(ed.bottom-ed.top)>0){return new IPCC.Web.UI.Point(fk-ed.left-gq.mI.scrollLeft,dX-ed.top-gq.mI.scrollTop);}else{return;}};var aDN=function(pR){pR.HN([new IPCC.lf(IPCC.Web.UI.MarkType.Text)]);};var aDb=function(pR){pR.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Mg=false,aGj="";var alH=function aIE(aR,hU,bb){if(hU.match(/edit/)){Mg=true;return;}aDN(bb.ae);Mg=true;aGj=hU;bb.ae.FR("touchstart",aR);};var amX=function(bb){Mg=false;aDb(bb.ae);};var Wc=function(aR){if(aR.target&&aR.target.attributes&&aR.target.getAttribute('data-pcc-mark')){return aR.target;}else if(aR.target.parentElement&&aR.target.parentElement.attributes&&aR.target.parentElement.getAttribute('data-pcc-mark')){return aR.target.parentElement;}else if(aR.target.parentNode&&aR.target.parentNode.attributes&&aR.target.parentNode.getAttribute('data-pcc-mark')){return aR.target.parentNode;}else{return undefined;}};var VT=function(aR){var cN=Wc(aR);if(cN){return cN.getAttribute('data-pcc-mark');}return undefined;};var agx=function(pR){if(pR&&pR.eN()){pR.eN().Fw(function(J){J.set_selected(false);});pR.display();}};var QF,aaB=false;var OI=function(aR,T){var lH={cs:undefined,J:undefined,aP:null};var jT=Wc(aR);if(jT){if(typeof aq!=='undefined'&&aq!==false&&aq.ae&&aq.igElements&&aq.ae.ec()===true){lH.aP=aq.ae.nL();}if(jT.ImGearMarkRelation){lH.cs='mark';lH.J=jT.ImGearMarkRelation.J;lH.Wl=lH.J.get_selected();return lH;}else{while(!(jT.ImGearMarkRelation)&&jT.parentNode&&jT!==document.body){jT=jT.parentNode;if(jT.ImGearMarkRelation){lH.cs='mark';lH.J=jT.ImGearMarkRelation.J;lH.Wl=lH.J.get_selected();return lH;}}}}if(typeof aq!=='undefined'&&aq!==false&&aq.ae&&aq.igElements&&aq.ae.ec()===true){lH.aP=aq.ae.nL();var aP=0;for(aP=0;aP<aW.length;aP++){if(aW[aP].by===aq.id){if(typeof T.targetType==='undefined'||T.targetType===null){lH.cs='page';return lH;}break;}}}return lH;};var NV=function(aP,rM,kv,axP){if(aX===null||aX===undefined){return;}var UM=false;if(rM===undefined){rM=aX.rM;UM=true;}if(kv===undefined){kv=aX.kv;UM=true;}var J;var bb=document.getElementById(aW[aP].by);if(axP===true){J=aX.wa;}else{J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);J.set_rectangle({x:0,y:0,width:0,height:0});J.cY=127;J.fF='#3366CC';J.al=null;bb.ae.lY().addMark(J);}J.set_selected(true);if(UM===true){if(aX.hD===aX.fW){J.am=hJ;J.dp=kv-hJ+1;J.kI=true;J.jJ=true;bb.ae.display();}else if(aP===aX.hD){J.am=hJ;J.dp=bb.ae.cn().fX().fE()-1-rM;J.kI=true;J.jJ=false;bb.ae.display();}else if(aP===aX.fW){J.am=0;J.dp=kv+1;J.kI=false;J.jJ=true;bb.ae.display();}else{J.am=0;J.dp=bb.ae.cn().fX().fE()-1-hJ;J.kI=false;J.jJ=false;}}else{if(aX.hD===aX.fW){J.kI=true;J.jJ=true;}else if(aP===aX.hD){J.kI=true;J.jJ=false;}else if(aP===aX.fW){J.kI=false;J.jJ=true;}else{J.kI=false;J.jJ=false;}}aX.eY[aP]=J;};var akb=function(cN,bB,cc,LP){if(cN){var Si=cN.getBoundingClientRect();bB=IPCC.F.OT(bB,Si.left+LP);bB=IPCC.F.Qv(bB,Si.right-LP);cc=IPCC.F.OT(cc,Si.top+LP);cc=IPCC.F.Qv(cc,Si.bottom-LP);}return{x:bB,y:cc};};var kw=function(aR){if(zc){if(zc.clientX===aR.clientX&&zc.clientY===aR.clientY){if(aR.rawEvent.preventDefault){aR.rawEvent.preventDefault();}else if(aR.preventDefault){aR.preventDefault();}if(aR.rawEvent.stopPropagation){aR.rawEvent.stopPropagation();}else if(aR.stopPropagation){aR.stopPropagation();}aaB=true;zc=undefined;return false;}}QF=aR;ahF(aR,aR.clientX,aR.clientY,aR.button);};var agM=function(aR,T){lM=OI(aR,T);};var ahF=function(aR,fk,dX,nX){var T=new IPCC.Web.UI.MouseEventArgs();aq=Vb(fk,dX);agM(aR,T);var hU;var jT=Wc(aR);if(jT){hU=jT.getAttribute('data-pcc-mark');}var Xa=false;var MK=hU&&hU.substring(0,10);if(hU&&MK==='texthandle'){De=true;Xa=true;MK=hU.substring(10,13);var J=jT.parentNode.ImGearMarkRelation.J;if(aX&&J.al===null){nz=aX.qU.slice();nz[T.pageIndex]=undefined;}else{aX=null;nz=[];K.tX();}var acn=function(aBs){hJ=aX.rM;var H;for(H=aX.fW;H>=aX.hD;H--){var bb=document.getElementById(aW[H].by);if(bb.ae===undefined||bb.ae===null){continue;}var Cx=hJ;if(H!==aX.hD){Cx=0;}var rk;if(H===aX.fW){rk=aX.kv;}else{rk=bb.ae.get_textPage().fX().fE()-1;}aBs(bb,Cx,rk);if(H!==aX.qk){NV(H);}}rY=bp;bp=IPCC.Web.UI.MouseTool.SelectText;as=true;};var H,aP,aB,NP,eP,uC,cq;if(MK==='sta'){if(aX===null||aX===undefined){aP=J.aP;aX={};aX.eY=[];aX.hD=aP;aX.rM=J.am;hJ=J.am;while(aP<aW.length){aB=aW[aP].aB;NP=aB.get_markCount();for(H=0;H<NP;H++){eP=aB.getMark(H);if(J.ap===eP.ap&&eP.get_type()===J.get_type()){aX.eY[aP]=eP;for(uC=eP.al.length-1;uC>=0;uC--){if(eP.al[uC].set_visible){eP.al[uC].set_visible(false);}else{eP.set_visible(false);break;}}if(aP===J.aP){tZ=eP;}else{nz[aP]=cq.substring(eP.am,eP.dp);eP.set_selected(false);}cq=eP.cq.substring(eP.dp);if(eP.jJ===true){aX.kv=eP.am+eP.dp-1;aX.fW=aP;break;}}}aP++;}}oA=aX.kv+1;lm=aX.fW;var aFI=function(bb,Cx,rk){bb.ae.showEmptyTextSelection(rk+1);bb.ae.extendTextSelection(undefined);bb.ae.extendTextSelection(rk);bb.ae.extendTextSelection(Cx);};aX.eY[aX.hD].vv=true;aX.qk=aX.hD;aX.wa=aX.eY[aX.hD];acn(aFI);}else if(MK==='end'){if(aX===null||aX===undefined){aP=J.aP;aX={};aX.eY=[];aX.fW=aP;aX.kv=J.am+J.dp-1;while(aP>=0){aB=aW[aP].aB;NP=aB.get_markCount();for(H=0;H<NP;H++){eP=aB.getMark(H);if(J.ap===eP.ap&&eP.get_type()===J.get_type()){aX.eY[aP]=eP;for(uC=eP.al.length-1;uC>=0;uC--){if(eP.al[uC].set_visible){eP.al[uC].set_visible(false);}else{eP.set_visible(false);break;}}if(aP===J.aP){cq=eP.cq;}else{nz[aP]=cq.substring(cq.length-eP.dp);eP.set_selected(false);}cq=eP.cq.substring(0,cq.length-eP.dp);if(eP.kI===true){aX.rM=eP.am;hJ=eP.am;aX.hD=aP;tZ=eP;break;}}}aP--;}}oA=aX.rM;lm=aX.hD;var aGl=function(bb,Cx,rk){bb.ae.showEmptyTextSelection(Cx);bb.ae.extendTextSelection(undefined);bb.ae.extendTextSelection(Cx);bb.ae.extendTextSelection(rk);};aX.eY[aX.fW].vv=true;aX.qk=aX.fW;aX.wa=aX.eY[aX.fW];acn(aGl);}if(tZ){aq.ae.display();}}var Bf=aR.target.tagName&&aR.target.tagName.toLowerCase()==='textarea';if(Bf){return;}var Cs=aR.target.tagName&&aR.target.tagName.toLowerCase()==='input'&&aR.target.type&&aR.target.type.toLowerCase()==='text';if(Cs){return;}if(bp===IPCC.Web.UI.MouseTool.HandPan&&AK&&hU&&Xa===false){if(!lM||lM.J.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){alH(aR,hU,aq);return;}}var dn;var ee;if(aq!==false&&aq.ae&&aq.igElements&&aq.ae.ec()===true){var ba=0;for(ba=0;ba<aW.length;ba++){if(aW[ba].by===aq.id){T.pageIndex=ba;break;}}T.pointLiesWithinImage=true;ee=aaG(aq,fk,dX);if(ee){dn=aq.ae.PW(ee,false);T.imagePoint=dn;T.constrainedImagePoint=dn;}else{T.pointLiesWithinImage=false;}}else{T.pointLiesWithinImage=false;}T.domEvent=aR;T.windowPoint=new IPCC.Web.UI.Point(fk,dX);if(Xa===true){uo= -1;cD=T.pageIndex;aR.preventDefault();K.bz('mouseDown',T);return;}switch(bp){case IPCC.Web.UI.MouseTool.None:aR.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aR.preventDefault();vP=dX;yl=fk;Ui=be.scrollTop;Ve=be.scrollLeft;as=true;K.Ck(aZ,'grabbing');if(aq&&aq.ae){K.Ck(aq,'grabbing');aq.ae.set_cursor('grabbing');aq.ae.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aR.preventDefault();if(nX===0&&aq&&aq.ae&&dn){K.tX();nz=[];uo= -1;De=undefined;hJ=undefined;oA=undefined;as=true;nb=T.windowPoint;}break;case IPCC.Web.UI.MouseTool.Magnifier:aR.preventDefault();if(nX===0&&aq&&aq.ae&&ee){var ku=IPCC.ax.ew(IPCC.ax.None);aZ.style.cursor=ku;aq.ae.showMagnifier(ee);aq.ae.display();}as=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aR.preventDefault();if(nX===0&&aq&&aq.ae&&dn){as=true;vP=ee.y;yl=ee.x;aq.ae.showEmptySelection(dn);aq.ae.display();}break;}K.bz('mouseDown',T);};var kU=function(aR){ahk(aR,aR.clientX,aR.clientY,aR.button);};var aif=function(T,fk,dX,dw){T.windowPoint=new IPCC.Web.UI.Point(fk,dX);dw=Vb(fk,dX);var dn,ee;if(dw!==false&&dw.ae&&dw.igElements&&dw.ae.ec()===true){T.pointLiesWithinImage=true;ee=aaG(dw,fk,dX);if(ee){dn=dw.ae.PW(ee,false);T.imagePoint=dn;T.constrainedImagePoint=dn;}else{T.pointLiesWithinImage=false;}}else{T.pointLiesWithinImage=false;}return{T:T,fk:fk,dX:dX,dw:dw,dn:dn,ee:ee};};var ahk=function(aR,fk,dX,nX){var Bf=aR.target.tagName&&aR.target.tagName.toLowerCase()==='textarea';if(Bf){return;}var Cs=aR.target.tagName&&aR.target.tagName.toLowerCase()==='input'&&aR.target.type&&aR.target.type.toLowerCase()==='text';if(Cs){return;}var T=new IPCC.Web.UI.MouseEventArgs();var dn,ee,dw;var He=function(fk,dX){var nB=aif(T,fk,dX,dw);T=nB.T;T.domEvent=aR;fk=nB.fk;dX=nB.dX;dw=nB.dw;dn=nB.dn;ee=nB.ee;};He(fk,dX);var jT=OI(aR,T);if(jT&&jT.J){T.mark=jT.J;}var ku;switch(bp){case IPCC.Web.UI.MouseTool.None:aR.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aR.preventDefault();if(as){var aqx=dX;var aqb=fk;var avs=vP-aqx;var avV=yl-aqb;be.scrollTop=Ui+avs;be.scrollLeft=Ve+avV;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aR.preventDefault();if(as){if(nX!==0){zH();}var gU;if(!dw){K.bz('mouseMove',T);return;}if(hJ===undefined){aq=dw;}else if(dw!==aq&&dw.ae&&ee){uo= -1;var ll=0;var H=0;for(H=0;H<aW.length;H++){if(aW[H].by===dw.id){ll=H;break;}}if(ll>cD){if(ll>lm){gU=aq.ae.get_textPage().fX().fE()-1;if(gU<0){zH();K.bz('mouseMove',T);return;}aq.ae.extendTextSelection(gU);if(aX){gU=aq.ae.get_textPage().fX().fE()-1;aX.eY[cD].set_startIndex(aq.ae.PO());aX.eY[cD].set_textLength(aq.ae.Bb());aX.fW=ll;hJ=aq.ae.PO();}nz[cD]=aq.ae.getSelectedText();dw.ae.showEmptyTextSelection(0);dw.ae.extendTextSelection(undefined);uo=0;aq.ae.display();aq=dw;}else{hJ=0;nz[cD]=undefined;nz[ll]=undefined;aq.ae.showEmptyTextSelection(0);aq.ae.extendTextSelection(undefined);if(aX&&aX.eY[cD]){aX.eY[cD].kI=false;}aq.ae.display();aq=dw;if(aX&&aX.eY[cD]){aX.eY[cD]=undefined;aX.hD=ll;aX.eY[ll].set_startIndex(0);aX.eY[ll].set_textLength(aX.eY[ll].get_startIndex()+aX.eY[ll].get_textLength());aX.eY[ll].kI=true;aq.ae.display();}}}else if(ll<cD){if(ll<lm){gU=aq.ae.get_currentTextIndex();if(gU!==0){aq.ae.extendTextSelection(0);}if(aX){aX.eY[cD].set_startIndex(aq.ae.PO());aX.eY[cD].set_textLength(aq.ae.Bb());aX.hD=ll;}nz[cD]=aq.ae.getSelectedText();aq.ae.display();gU=dw.ae.cn().fX().fE()-1;uo=gU;hJ=0;dw.ae.showEmptyTextSelection(gU+1);dw.ae.extendTextSelection(undefined);aq=dw;aq.ae.display();}else{nz[cD]=undefined;nz[ll]=undefined;aq.ae.showEmptyTextSelection(0);aq.ae.extendTextSelection(undefined);if(aX&&aX.eY[cD]){aX.eY[cD].jJ=false;}aq.ae.display();aq=dw;if(aX&&aX.eY[cD]){aX.eY[cD]=undefined;aX.fW=ll;gU=aq.ae.cn().fX().fE()-1;aX.eY[ll].set_textLength(dw.ae.Bb());aX.eY[ll].jJ=true;aq.ae.display();}}}cD=ll;}var apz=(cD<lm),aqa=(cD>lm);if(aq&&aq.ae&&aq.ae.ec()===true&&ee){ee=aaG(aq,fk,dX);dn=aq.ae.PW(ee,false);var cA=aq.ae.transformPagePointToTextIndex(dn);if(hJ===undefined){if(cA===undefined){K.bz('mouseMove',T);return;}var abT=function(bb,vS){var xY=bb.ae.cn();var ga=xY.fX();var eZ=ga.kQ(vS);return eZ.sD();};var sv=abT(aq,cA);var aeq=aq.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(sv.x,sv.y),true);var aek=aq.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(sv.x+sv.width,sv.y+sv.height),true);var aau=aek.x-aeq.x;var azJ=(ee.x>aeq.x+(aau*0.3)&&ee.x<aek.x-(aau*0.3));if(azJ){hJ=cA;oA=cA;aq.ae.showEmptyTextSelection(cA);aq.ae.extendTextSelection(undefined);aq.ae.extendTextSelection(cA);aq.ae.display();var aU=0;for(aU=0;aU<aW.length;aU++){if(aW[aU].by===aq.id){lm=aU;cD=aU;break;}}}else{K.bz('mouseMove',T);return;}}else{if(hJ=== +hJ&&cA=== +cA){if(apz){hJ=cA;}else if(!aqa){hJ=Math.min(oA,cA);}}}gU=aq.ae.get_currentTextIndex();if(gU===cA||cA===undefined){K.bz('mouseMove',T);return;}if(uo!== -1){if(cA!==uo){aq.ae.extendTextSelection(uo);}uo= -1;}if((cA>oA&&cD===lm)||cD>lm){if(aX){if(aX.eY[cD]===undefined||aX.eY[cD]===null){NV(cD,0,0,cD===aX.qk);if(cD-1>=0&&aX.eY[cD-1]){aX.eY[cD-1].jJ=false;document.getElementById(aW[cD-1].by).ae.display();}}aX.eY[cD].jJ=true;}if(De===undefined){De=false;}}else if(cA<oA||cD<lm){if(aX){if(aX.eY[cD]===undefined||aX.eY[cD]===null){NV(cD,aq.ae.cn().fX().fE()-1,0,cD===aX.qk);if(aX.eY[cD+1]){aX.eY[cD+1].kI=false;document.getElementById(aW[cD+1].by).ae.display();}}aX.eY[cD].kI=true;}if(De===undefined){De=true;oA++;aq.ae.showEmptyTextSelection(oA);aq.ae.extendTextSelection(undefined);var rk=aq.ae.cn().fX().fE();if(oA>=rk){aq.ae.extendTextSelection(rk-1);}else{aq.ae.extendTextSelection(oA);}}}aq.ae.extendTextSelection(cA);if(aX&&aX.eY[cD]){aX.eY[cD].set_startIndex(aq.ae.PO());aX.eY[cD].set_textLength(aq.ae.Bb());}aq.ae.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aR.preventDefault();if(as){if(nX!==0||(aq&&aq.ae&&aq!==dw)){aq.ae.hideMagnifier();ku=IPCC.ax.ew(IPCC.ax.Magnifier);aZ.style.cursor=ku;aq.ae.display();}if(dw&&dw.ae&&ee){aq=dw;ku=IPCC.ax.ew(IPCC.ax.None);aZ.style.cursor=ku;dw.ae.showMagnifier(ee);dw.ae.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aR.preventDefault();if(as){var Ie=akb(aq,fk,dX,1);He(Ie.x,Ie.y);if(dw&&dw.ae&&dn&&dw===aq){if(nX!==0){dw.ae.hideSelection();dw.ae.display();as=false;}else{dw.ae.extendSelection(dn);dw.ae.display();}}}break;}K.bz('mouseMove',T);};var kn=function(aR){if(aaB!==true){aav(aR,aR.clientX,aR.clientY);}else{aaB=false;}};var agQ=function(aR,T){T.upTargetType=null;var Bl=OI(aR,T);T.originalEvent=aR.rawEvent;T.clientX=aR.clientX;T.clientY=aR.clientY;T.downTarget={type:undefined,pageIndex:undefined};if(typeof lM!=='undefined'&&typeof lM.cs!=='undefined'){T.downTarget.type=lM.cs;}if(typeof lM!=='undefined'&&typeof lM.aP!=='undefined'){T.downTarget.pageIndex=lM.aP;}if(typeof lM!=='undefined'&&typeof lM.Wl!=='undefined'){T.downTarget.alreadySelected=lM.Wl;}T.downMark=(typeof lM!=='undefined')?lM.J:undefined;T.upMark=Bl.J;switch(Bl.cs){case 'page':case 'mark':T.upTarget={type:Bl.cs,pageIndex:Bl.aP};break;}if(T.pointLiesWithinImage===false&&Bl.cs==='page'){Bl.aP= -1;}};var aav=function(aR,fk,dX){var T=new IPCC.Web.UI.MouseEventArgs();var dw;var dn;var ee;var He=function(fk,dX){var nB=aif(T,fk,dX,dw);T=nB.T;T.domEvent=aR;fk=nB.fk;dX=nB.dX;dw=nB.dw;dn=nB.dn;ee=nB.ee;};He(fk,dX);if(aR){agQ(aR,T);K.bz('mouseUp',T);}lM=undefined;var ku;switch(bp){case IPCC.Web.UI.MouseTool.None:aR.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aR.preventDefault();if(as){yl=undefined;vP=undefined;Ui=undefined;Ve=undefined;as=false;ku='move';K.Ck(aZ,'grab');if(aq&&aq.ae){K.Ck(aq,'grab');aq.ae.set_cursor('grab');aq.ae.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(aR){aR.preventDefault();}var xD=T.windowPoint.x-nb.x;var yD=T.windowPoint.y-nb.y;if(xD===0&&yD===0){zH();}if(as){var pb=new IPCC.Web.UI.TextSelectedEventArgs(),hQ=[],H,yJ,xA;var kv;var GN=aq.ae.getSelectedText();var qU=nz.slice();if(GN.length>0){qU[cD]=aq.ae.getSelectedText();}else{if(cD>lm){cD--;aq=document.getElementById(aW[cD].by);if(qU[cD]){GN=qU[cD];}}else if(cD<lm){cD++;aq=document.getElementById(aW[cD].by);if(qU[cD]){GN=qU[cD];}}}pb.text=qU.join('');var TK=true;if(cD>=lm){if(cD===lm){if(aq.ae.get_currentTextIndex()>=oA){TK=false;}kv=hJ+GN.length-1;}else{kv=GN.length-1;}if(kv<0){kv=0;}yJ=lm;xA=cD;}else{TK=false;kv=oA-1;yJ=cD;xA=lm;}for(H=yJ;H<=xA;H++){hQ.push(H);}if(pb.text.length===0){zH();hQ=[];}pb.pageNumbers=hQ;pb.clientX=fk;pb.clientY=dX;if(hJ!==undefined){if(bp===IPCC.Web.UI.MouseTool.SelectText){var abT=function(bb,vS){var xY=bb.ae.cn();var ga=xY.fX();var eZ=ga.kQ(vS);return eZ.sD();};var gU=aq.ae.get_currentTextIndex();var sv=abT(aq,gU);var fe=0,fN=0;if(TK===false){fe=sv.width;fN=sv.height;}var Do=aq.ae.transformPagePointToWindow(new IPCC.Web.UI.Point(sv.x+fe,sv.y+fN),true);var dG=ajW(aq,Do.x,Do.y);pb.handleClientX=dG.x;pb.handleClientY=dG.y;}var apj=aX===undefined||aX===null;if(tZ){pb.previousFirstMark=tZ;pb.firstMark=aX.eY[yJ];if(aX.qk<yJ||aX.qk>xA){var Hb=document.getElementById(aW[aX.qk].by);if(Hb.ae){Hb.ae.lY().removeMark(aX.wa);}}aX.wa.vv=false;K.tX();if(rY!==null){bp=rY;}rY=null;}else if(apj===true){if(bp===IPCC.Web.UI.MouseTool.SelectText){aX={hD:yJ,rM:hJ,fW:xA,kv:kv,qU:qU.slice(),eY:[]};for(H=0;H<hQ.length;H++){NV(hQ[H]);}}else{K.tX();}}else{if(aX.qk<yJ||aX.qk>xA){var afU=document.getElementById(aW[aX.qk].by);if(afU.ae){afU.ae.lY().removeMark(aX.wa);}}aX.wa.vv=false;aX.hD=yJ;aX.rM=hJ;aX.fW=xA;aX.kv=kv;aX.qU=qU.slice();if(rY!==null){bp=rY;}rY=null;}pb.mouseTool=bp;pb.startIndex=hJ;K.bz('selectTextMouseToolCompleted',pb);if(tZ){tZ=null;aX=null;}}as=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aR.preventDefault();if(dw&&dw.ae){dw.ae.hideMagnifier();ku=IPCC.ax.ew(IPCC.ax.Magnifier);aZ.style.cursor=ku;dw.ae.display();}as=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aR.preventDefault();var Ie=akb(aq,fk,dX,1);He(Ie.x,Ie.y);if(as&&ee){var Bp=0;var Ba=0;var Wj=0;var Wh=0;if(ee.x<yl){Bp=yl-ee.x;Wj=ee.x+Bp/2;}else{Bp=ee.x-yl;Wj=yl+Bp/2;}if(ee.y<vP){Ba=vP-ee.y;Wh=ee.y+Ba/2;}else{Ba=ee.y-vP;Wh=vP+Ba/2;}var aab=be.clientWidth/Bp;var adx=be.clientHeight/Ba;var rg=aab;if(aab>adx){rg=adx;}if(dw&&dw.ae){dw.ae.oO();dw.ae.display();}as=false;if(Bp*2+Ba*2>25){K.atX(rg,Wj,Wh,dw);}}break;}var Bf=false;var Cs=false;if(aR){Bf=aR.target.tagName&&aR.target.tagName.toLowerCase()==='textarea';Cs=aR.target.tagName&&aR.target.tagName.toLowerCase()==='input'&&aR.target.type&&aR.target.type.toLowerCase()==='text';}if(Mg&& !Bf&& !Cs){amX(aq);}else if(bp===IPCC.Web.UI.MouseTool.HandPan&&QF&& !Bf&& !Cs&&aR&&QF.clientX===aR.clientX&&QF.clientY===aR.clientY&&aR.shiftKey!==true&&aR.ctrlKey!==true){agx(aq.ae);}};var aCk=function(){var ku;switch(bp){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:K.Ck(aZ,'grab');as=false;break;case IPCC.Web.UI.MouseTool.SelectText:zH();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aq&&aq.ae){aq.ae.hideMagnifier();ku=IPCC.ax.ew(IPCC.ax.Magnifier);aZ.style.cursor=ku;aq.ae.display();}as=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aq&&aq.ae){aq.ae.hideSelection();aq.ae.display();as=false;}break;}};var avI=function(){aCk();};var anP=function(){if(bp===IPCC.Web.UI.MouseTool.Magnifier){if(aq&&aq.ae){aq.ae.hideMagnifier();var ku=IPCC.ax.ew(IPCC.ax.Magnifier);aZ.style.cursor=ku;aq.ae.display();}as=false;}else if(bp===IPCC.Web.UI.MouseTool.RectangleZoom){if(aq&&aq.ae){aq.ae.hideSelection();aq.ae.display();as=false;}}else if(bp===IPCC.Web.UI.MouseTool.SelectText){zH();}};var na=function(aR){if(aR.ctrlKey){switch(bp){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var LJ=aR.rawEvent.wheelDelta;aR.preventDefault();if(LJ<0){K.zoomOut(1.5);}else{K.zoomIn(1.5);}break;}}else{aR.preventDefault();be.scrollTop-=aR.rawEvent.wheelDelta*0.72;}if(bp===IPCC.Web.UI.MouseTool.Magnifier){if(aq&&aq.ae){aq.ae.hideMagnifier();var ku=IPCC.ax.ew(IPCC.ax.Magnifier);aZ.style.cursor=ku;aq.ae.display();}as=false;}else if(bp===IPCC.Web.UI.MouseTool.RectangleZoom){if(aq&&aq.ae){aq.ae.hideSelection();aq.ae.display();as=false;}}else if(bp===IPCC.Web.UI.MouseTool.SelectText){zH();}};var aCC=function(bS){var T=new IPCC.Web.UI.MouseEventArgs();T.upTarget={type:'comments',element:bS.target};T.downTarget={type:'comments',element:bS.target};T.originalEvent=bS.rawEvent;T.clientX=bS.clientX;T.clientY=bS.clientY;T.pageIndex=undefined;K.bz('mouseUp',T);};var zH=function(){if(as===true){if(aX&&aX.qk!==undefined){if(tZ){aav(null,0,0);return;}else{var Hb=document.getElementById(aW[aX.qk].by);if(Hb.ae){Hb.ae.lY().removeMark(aX.wa);}aX.wa.vv=false;}}K.tX();tZ=null;as=false;if(rY!==null){bp=rY;}rY=null;}};Go=gy({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dJ===IPCC.ViewMode.SinglePage){aZ=gy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});aZ.className='pccPageListContainer pccSinglePageView';}else{aZ=gy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});aZ.className='pccPageListContainer';}IPCC.Web.UI.aT.addHandler(be,"mousedown",kw);IPCC.Web.UI.aT.addHandler(be,"mouseup",kn);IPCC.Web.UI.aT.addHandler(be,"mousemove",kU);IPCC.Web.UI.aT.addHandler(be,"mouseleave",avI);IPCC.Web.UI.aT.addHandler(be,"mousewheel",na);IPCC.Web.UI.aT.addHandler(be,"DOMMouseScroll",anP);be.onscroll=(! !HQ)?awI:avm;aZ.setAttribute('id',Qp+'_ListContainer');be.setAttribute('id',Qp+'_ListWrapper');arP=Qp+'_ListWrapper';kh=gy();kh.className='pccPageListComments pccHidden';kh.setAttribute('id',Qp+'_CommentsPanel');var TP=[];if(IPCC.F.aBw){TP.push('touchend');}else{TP.push('click');}IPCC.F.forEach(TP,function(evName){IPCC.Web.UI.aT.addHandler(kh,evName,aCC);});Go.appendChild(aZ);Go.appendChild(kh);be.appendChild(Go);ci.appendChild(be);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var bQ='',aD='',sO='',ti='',qs;var xz=function(){qs=getComputedStyle(ci);sO=qs.getPropertyValue('width');ti=qs.getPropertyValue('height');if(sO!==bQ||ti!==aD){bQ=sO;aD=ti;be.style.width=bQ;be.style.height=aD;}};setInterval(xz,1000);window.addEventListener('resize',xz);xz();K.xz=xz;}var aBZ=IPCC.F.Hf;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aBZ&&window.addEventListener&&document.querySelector){atL(be);}var aBJ=function(aZ,aHK){var lc;var XW=function(bS){var dA=bS.rawEvent,gY=dA.touches[0]||dA.changedTouches[0];bS.clientX=gY.clientX;bS.clientY=gY.clientY;bS.preventDefault=function(){dA.preventDefault();};bS.stopPropagation=function(){dA.stopPropagation();};return bS;};var EL=function(jb,bS){var T=new IPCC.Web.UI.MouseEventArgs(),Dx=(jb==='touchstart')?'mouseDown':(jb==='touchend')?'mouseUp':null;var El=(jb==='touchstart')?ahF:(jb==='touchmove')?ahk:(jb==='touchend')?aav:null;lc=Vb(bS.clientX,bS.clientY);if(jb==='doubleTap'){lc&&lc.ae&&lc.ae.FR(jb,bS);}var hU;hU=VT(bS);if(hU){if(hU.substring(0,5)==='texth'){bS.preventDefault();bS.stopPropagation();if(jb==='touchstart'){zc=bS;}El&&El(bS,bS.clientX,bS.clientY,0);return;}}switch(bp){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:lc&&lc.ae&&lc.ae.FR(jb,bS);if(Dx==='mouseUp'){agQ(bS,T);}else if(Dx==='mouseDown'){agM(bS,T);}K.bz(jb,T);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bS.preventDefault();bS.stopPropagation();if(jb==='touchstart'){zc=bS;if(hU){K.tX();break;}}El&&El(bS,bS.clientX,bS.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bS.preventDefault();bS.stopPropagation();if(jb==='touchstart'){zc=bS;}El&&El(bS,bS.clientX,bS.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(hU===undefined){hU=VT(bS);}var C=OI(bS,{});if(hU&&AK){if(!C||C.J.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jb==='touchstart'){alH(bS,hU,lc);}else if(jb==='touchmove'){lc&&lc.ae&&lc.ae.FR(jb,bS);}else if(jb==='touchend'){lc&&lc.ae&&lc.ae.FR(jb,bS);amX(lc);}}}break;}};var Du,zq,vV;var aBL=function(bS){if(bS.rawEvent.touches.length>1){clearTimeout(vV);vV=zq=Du=undefined;return;}bS=XW(bS);Du=bS;if(bp===IPCC.Web.UI.MouseTool.CreatePolylineMark){bS.preventDefault();}zq=function(){EL('touchstart',bS);vV=zq=Du=undefined;};vV=setTimeout(function(){zq();},200);};var GU,Eg;var aCy=function(bS){bS=XW(bS);pS=false;var asO=function(){if(!Eg){return false;}var eR=Eg.clientX-bS.clientX;var eg=Eg.clientY-bS.clientY;var fQ=eR*eR+eg*eg;return fQ<2500;};var aeM=function(){GU=Eg=undefined;var hU=VT(bS);if(!hU&&bp===IPCC.Web.UI.MouseTool.HandPan&&AK&&lc){agx(lc.ae);}};var anI=function(){var aby=zq;if(GU&&asO()){clearTimeout(GU);Eg=GU=undefined;aby();EL('touchend',bS);EL('doubleTap',bS);}else{GU=setTimeout(function(){aby();EL('touchend',bS);aeM();},300);Eg=bS;}};if(Du&&vV){clearTimeout(vV);if(bp===IPCC.Web.UI.MouseTool.CreatePolylineMark){anI();}else{aeM();}vV=zq=Du=undefined;return;}EL('touchend',bS);};var anl,pS=false;var aBk=function(bS){if(bS.rawEvent.touches.length>1){return;}anl=bS;if(Du&&vV){clearTimeout(vV);zq();}awj();};function awj(){var bS=XW(anl);EL('touchmove',bS);};IPCC.Web.UI.aT.addHandler(aZ,"touchstart",aBL);IPCC.Web.UI.aT.addHandler(aZ,"touchmove",aBk);IPCC.Web.UI.aT.addHandler(aZ,"touchend",aCy);};aBJ(aZ,kh);}};function atL(gD){var aaf=function(){},dP=1;function ahN(adO,abW,jq,arv){gD.style['-ms-transform']=adO;gD.style['-moz-transform']=adO;gD.style['-webkit-transform']=abW;gD.style['transform']=abW;gD.style['-ms-transform-origin']=jq;gD.style['-moz-transform-origin']=jq;gD.style['-webkit-transform-origin']=jq;gD.style['transform-origin']=jq;gD.style.overflow=arv||'';};function aji(){ahN('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};aji();function awq(rg,fO,NJ,tM,aat){var fe=(-fO.x/rg)-NJ.x,fN=(-fO.y/rg)-NJ.y,axn="scale3d("+rg+","+rg+",1) translate3d("+fe+"px,"+fN+"px,0px)",axB="scale("+rg+", "+rg+") translate("+fe+"px,"+fN+"px)";var awu=aat.x+'px '+aat.y+'px';ahN(axB,axn,awu,'visible');aaf=function(){var bq=gD.getBoundingClientRect();var Ud={x:(gD.clientWidth/2+ -bq.left+tM.left)/rg,y:(gD.clientHeight/2+ -bq.top+tM.top)/rg};if(en===IPCC.PageLayout.VerticalScrollDirection&&tM.agD){Ud.x=Ud.x-(tM.agD/2);}aji();K.MC(rg,Ud,undefined,IPCC.ScaleTrigger.Pinch);vl=false;};return gD;};function ajO(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function ahS(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function auE(amN,FI){return{x:amN.x-FI.x,y:amN.y-FI.y};};var QZ=false;gD.addEventListener('touchstart',function(ev){if(vl){return;}if(!QZ&&ev.touches.length===2){ajm(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var xC,ZF=false,yR={};PCCViewer.EventEmitter.extend(yR);gD.addEventListener(IPCC.F.oV['down'],function(bS){ZF=true;bS=standardizeMSTouch(bS);if(xC){var dA={};dA.touches=[xC,bS];dA.changedTouches=[xC,bS];dA.preventDefault=function(){xC.rawEvent.preventDefault();bS.rawEvent.preventDefault();};dA.stopPropagation=function(){xC.rawEvent.stopPropagation();bS.rawEvent.stopPropagation();};ajm(dA);}else{xC=bS;}});gD.addEventListener(IPCC.F.oV['move'],function(bS){yR.trigger('touchmove',{rawEvent:bS});});gD.addEventListener(IPCC.F.oV['up'],function(bS){yR.trigger('touchend',{rawEvent:bS});xC=undefined;});function ajm(ev){vl=true;var NJ={x:gD.scrollLeft,y:gD.scrollTop};var tM=gD.getBoundingClientRect();var pk=SD();var Ks=gD.querySelector('.pccPageListItem');if(en===IPCC.PageLayout.VerticalScrollDirection&&Ks.clientWidth<tM.width-30){tM.agD=tM.width-Ks.clientWidth;}var fO={x:0,y:0,set:function(aoF){this.x=aoF.x;this.y=aoF.y;return this;}};var pS=false;QZ=true;ev.preventDefault();ev.stopPropagation();function Lw(gY){gY.x=gY.clientX||gY.pageX||gY.screenX;gY.y=gY.clientY||gY.pageY||gY.screenY;return gY;};var la=Lw(ev.touches[0]);var yZ=Lw(ev.touches[1]);var we=ajO(la.x,la.y,yZ.x,yZ.y);var amF=ahS(la.x,la.y,yZ.x,yZ.y);var zQ,AT;function VN(bS){bS.preventDefault();[].forEach.call(bS.changedTouches,function(t){if(t.identifier===la.identifier){zQ=Lw(t);}else if(t.identifier===yZ.identifier){AT=Lw(t);}});if(!zQ|| !AT){return;}var apM=ajO(zQ.x,zQ.y,AT.x,AT.y);var arQ=ahS(zQ.x,zQ.y,AT.x,AT.y);dP=apM/we;if((dB*dP)<pk.minFactor){dP=pk.minFactor/dB;}else if((dB*dP)>pk.maxFactor){dP=pk.maxFactor/dB;}fO.set(auE(amF,arQ));if(!pS){pS=true;II();}};function Wa(){QZ=false;pS=false;gD.removeEventListener('touchmove',VN);gD.removeEventListener('touchend',Wa);if(ZF){yR.off('touchmove',amD);yR.off('touchend',anq);}if(!zQ|| !AT){vl=false;return;}HQ(aaf);};var amD=function(bS){var abl=standardizeMSTouch(bS.rawEvent);abl.preventDefault=function(){};VN(abl);};var anq=function(bS){Wa(standardizeMSTouch(bS.rawEvent));};gD.addEventListener('touchmove',VN);gD.addEventListener('touchend',Wa);if(ZF){yR.on('touchmove',amD);yR.on('touchend',anq);}function II(){if(pS){HQ(function(){if(!pS){return;}awq(dP,fO,NJ,tM,amF);II();});}}}};function awI(){if(dJ===IPCC.ViewMode.SinglePage){return;}if(vl){return;}if(lD){clearTimeout(lD);}if(TU){apI(TU);}awA();lD=setTimeout(function(){lD=null;TU=HQ(function aGW(){if(vl){return;}oa();});},40);};function avm(){if(ni===false||dJ===IPCC.ViewMode.SinglePage){return;}ir(true);if(lD!==null){clearTimeout(lD);}var aoQ=be.scrollHeight/aW.length;var KS=0;if(en===IPCC.PageLayout.VerticalScrollDirection){KS=be.scrollTop;}else{KS=be.scrollLeft;}var ayP=KS-OD;OD=KS;var aEs=new Date().getTime();var YC=aEs-yI;if(YC>1000){YC=1000;}QQ=ayP/aoQ*1000/YC;lD=setTimeout(function(){lD=null;yI=0;yI=new Date().getTime();oa();},1000);yI=new Date().getTime();if(QQ!==0&&Math.abs(QQ)<Qm){if(Jk&&lD!==null){clearTimeout(lD);lD=null;}yI=0;yI=new Date().getTime();setTimeout(function(){if(Jk&&lD!==null){clearTimeout(lD);lD=null;}yI=0;yI=new Date().getTime();oa();},40);}};function auu(){function AE(aDL,aDw,aO,cY){var Jw=document.createElementNS('http://www.w3.org/2000/svg','circle');Jw.setAttribute('cx',aDL);Jw.setAttribute('cy',aDw);Jw.setAttribute('r',aO);Jw.setAttribute('opacity',cY);return Jw;};var ot=document.createElementNS('http://www.w3.org/2000/svg','svg');ot.setAttribute('viewBox','0 0 52 52');ot.appendChild(AE(26,13.813,2.813,1));ot.appendChild(AE(24,38.188,2.813,0.4));ot.appendChild(AE(13.813,26,2.813,0.1));ot.appendChild(AE(38.188,26,2.813,0.7));ot.appendChild(AE(34.618,34.618,2.813,0.55));ot.appendChild(AE(17.382,34.618,2.813,0.25));ot.appendChild(AE(34.618,17.382,2.813,0.85));return ot;};function ajz(lT){var aU=0;var agm=false;var Oq;var IF;var ot;for(aU=0;aU<lT.childNodes.length;aU++){if(lT.childNodes[aU].className==="pccPageListItemLoading"){agm=true;}}if(agm===false){IF=document.createElement('div');IF.className='pccPageListItemLoading';ot=auu();lT.innerHTML="";lT.appendChild(IF);IF.appendChild(ot);if(Hz.length>0){Oq=document.createElement('div');Oq.className='pccPageListItemLoadingContent';Oq.innerHTML=Hz;IF.appendChild(Oq);}}};function awA(){var vA=be.scrollTop;var vD=be.scrollLeft;var tS=be.clientHeight;var tG=be.clientWidth;var uz=be.scrollWidth;var vy=be.scrollHeight;var cf=Vz({vA:vA,vD:vD,tS:tS,tG:tG,uz:uz,vy:vy});var H=cf.agz;if(ni&&uG===false&&dN!==H&&H>=0){dN=H;var T=new IPCC.PageEventArgs();T.imGearPage=K.get_currentPage();T.pageIndex=dN;T.pageNodeID=aW[dN].by;K.bz('currentPageChanged',T);}};function TX(bC){var bQ=bC.bw||gk;var aD=bC.aV||hW;if(bC.hv%180){var qg=bQ;bQ=aD;aD=qg;}var sA=bC.gn||agC;return{bQ:bQ*(dB*dQ/sA),aD:aD*(dB*dQ/sA),aGB:sA,aK:bC.dO};};function TZ(aub){return IPCC.F.reduce(aub,function(fG,aI,aK){fG[aK]=TX(aI);return fG;},{});};function aij(aP){var oe,CV,AB,wo,ox;if(en===IPCC.PageLayout.VerticalScrollDirection){oe=be.scrollTop;CV=be.scrollHeight;AB=be.clientHeight;wo='aD';ox=fp;}else{oe=be.scrollLeft;CV=be.scrollWidth;AB=be.clientWidth;wo='bQ';ox=gW+gR;}var le=TZ(aW);var JB=en===IPCC.PageLayout.VerticalScrollDirection?fp:gW;var amk=false;IPCC.F.forEach(le,function(aI,aK){if(aI.aK===aP){amk=true;}if(amk){return;}JB+=aI[wo]+ox;});return JB-(ox/2);};function te(cf){var Dz=IPCC.F.map(cf.cz,function(aI){return+aI.aK;}).sort();var la=Dz[0];var jN=Dz[Dz.length-1];var fv=aW.length;for(var H=CL;H;H--){la-=1;jN+=1;if(la>=0){Dz.unshift(la);}if(jN<fv){Dz.push(jN);}}return Dz.sort();};function KL(cf){var la=Math.max(cf.cz[0].aK-uR,0);var jN=Math.min(cf.cz[cf.cz.length-1].aK+uR,aW.length-1);return{la:la,jN:jN};};function auQ(cf){var la=Math.max(cf.cz[0].aK-CL,0);var jN=Math.min(cf.cz[cf.cz.length-1].aK+CL,aW.length-1);return{la:la,jN:jN};};function Vz(aS){if(dJ===IPCC.ViewMode.SinglePage){return alf();}var oe,CV,AB,wo,ox;if(en===IPCC.PageLayout.VerticalScrollDirection){oe=aS.vA;CV=aS.vy;AB=aS.tS;wo='aD';ox=fp;}else{oe=aS.vD;CV=aS.uz;AB=aS.tG;wo='bQ';ox=gW+gR;}var arx=oe;var arS=oe+AB;var le=TZ(aW);var JB=en===IPCC.PageLayout.VerticalScrollDirection?fp:gW;var aAO=oe/CV;var PZ=(aAO*AB)+oe;var Yk=Number.MAX_VALUE;var ng= -1;var cz=[];IPCC.F.forEach(le,function(aI,aK){var lK=JB;var ei=lK+aI[wo];if(lK<arS&&ei>arx){aI.xO=true;cz.push(aI);}var age=Math.min(Math.abs(lK-PZ),Math.abs(ei-PZ));if(lK<PZ&&ei>PZ){Yk=0;ng=aK;}else if(age<Yk){ng=aK;Yk=age;}JB+=aI[wo]+ox;});if(cz.length===0&&le[ng]!==undefined){cz.push(le[ng]);}return{cz:cz,agz:Number(ng)||0,Jc:le};};function alf(){var le=TZ(aW);var arN=[dN];var cz=IPCC.F.filter(le,function(aI){return IPCC.F.contains(arN,+aI.aK);});return{cz:cz,agz:dN,Jc:le};};function Rd(){var cf=ir();if(!cf){return[];}return IPCC.F.map(cf.cz,function(aI){return aI.aK;});};function ir(){if(dJ===IPCC.ViewMode.SinglePage){return alf();}if(be===''||be.clientHeight<=0){return;}var vA=be.scrollTop;var vD=be.scrollLeft;var tS=be.clientHeight;var tG=be.clientWidth;var uz=be.scrollWidth;var vy=be.scrollHeight;var atj=Vz({vA:vA,vD:vD,tS:tS,tG:tG,uz:uz,vy:vy});uG=false;return atj;}};LG.prototype={dispose:function(){this.bE('dispose',arguments);this.adY(false);this.arX();},disposeDisplayedPages:function(){this.aEK();},get_debug:function(){try{var aO=this.Hn();this.cL('get_debug',arguments,aO);return aO;}catch(e){this.bf('get_debug',e);throw e;}},set_debug:function(value){try{this.bE('set_debug',arguments);var yx=this.Hn();this.US(value);if(!yx){this.bE('set_debug',arguments);}}catch(e){this.bf('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aO=this.AL();this.cL('get_debugErrorLevel',arguments,aO);return aO;}catch(e){this.bf('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bE('set_debugErrorLevel',arguments);var yx=this.AL();this.IY(value);if(yx<IPCC.Web.UI.DebugErrorLevel.Development){this.bE('set_debugErrorLevel',arguments);}}catch(e){this.bf('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.Nm(handler);}catch(e){this.bf('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.YO(handler);}catch(e){this.bf('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.MF(handler);}catch(e){this.bf('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.ZD(handler);}catch(e){this.bf('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Nt(handler);}catch(e){this.bf('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yd(handler);}catch(e){this.bf('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.ZM(handler);}catch(e){this.bf('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.ZB(handler);}catch(e){this.bf('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.ape(handler);}catch(e){this.bf('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aAu(handler);}catch(e){this.bf('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.zd(handler);}catch(e){this.bf('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Ei(handler);}catch(e){this.bf('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.WH(handler);}catch(e){this.bf('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.adV(handler);}catch(e){this.bf('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.yg(handler);},remove_textExtractionFailed:function(handler){this.Eb(handler);},add_allPagesAdded:function(handler){try{this.aoh(handler);}catch(e){this.bf('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aAd(handler);}catch(e){this.bf('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.Zc(handler);}catch(e){this.bf('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Ye(handler);}catch(e){this.bf('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Yh(handler);}catch(e){this.bf('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Zv(handler);}catch(e){this.bf('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.HO(handler);}catch(e){this.bf('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.GJ(handler);}catch(e){this.bf('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Zo(handler);}catch(e){this.bf('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.ZT(handler);}catch(e){this.bf('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.lo(handler);}catch(e){this.bf('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mB(handler);}catch(e){this.bf('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.AG(handler);}catch(e){this.bf('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Bw(handler);}catch(e){this.bf('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.YS(handler);}catch(e){this.bf('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.ZY(handler);}catch(e){this.bf('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Kv(handler);}catch(e){this.bf('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gq(handler);}catch(e){this.bf('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Ki(handler);}catch(e){this.bf('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fk(handler);}catch(e){this.bf('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JK(handler);}catch(e){this.bf('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.GP(handler);}catch(e){this.bf('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Jm(handler);}catch(e){this.bf('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Ft(handler);}catch(e){this.bf('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.Bc(handler);}catch(e){this.bf('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.By(handler);}catch(e){this.bf('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.aoo(handler);}catch(e){this.bf('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.azZ(handler);}catch(e){this.bf('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.yv(handler);}catch(e){this.bf('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.DG(handler);}catch(e){this.bf('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.yu(handler);}catch(e){this.bf('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.Dq(handler);}catch(e){this.bf('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.rF(handler);}catch(e){this.bf('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.vC(handler);}catch(e){this.bf('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.YX(handler);}catch(e){this.bf('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.YL(handler);}catch(e){this.bf('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.XZ(handler);},remove_exceptionThrown:function(handler){this.Zl(handler);},writeToLog:function(message){try{this.oy(message);}catch(e){this.bf('writeToLog',e);throw e;}},get_currentState:function(){try{var aO=this.Pe();this.cL('get_currentState',arguments,aO);return aO;}catch(e){this.bf('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var aO=this.qI();this.cL('get_scaleFactor',arguments,aO);return aO;}catch(e){this.bf('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bE('set_scaleFactor',arguments);this.aCK(scaleFactor);}catch(e){this.bf('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bE('zoomIn',arguments);this.MC(factor);}catch(e){this.bf('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bE('zoomOut',arguments);this.SO(factor);}catch(e){this.bf('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.axZ();},displayAll:function(){try{this.bE('displayAll',arguments,1);this.aEf();}catch(e){this.bf('displayAll',e);throw e;}},display:function(pageIndex){try{this.bE('display',arguments);this.cV(pageIndex);}catch(e){this.bf('display',e);throw e;}},get_textRequired:function(){try{var aO=this.jV();this.cL('get_textRequired',arguments,aO);return aO;}catch(e){this.bf('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bE('set_textRequired',arguments);this.IP(value);}catch(e){this.bf('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bE('selectText',arguments,1);this.WY(pageIndex,startIndex,endIndex,color);}catch(e){this.bf('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bE('clearSelectedText',arguments,1);this.asy(pageIndex);}catch(e){this.bf('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bE('clearAllSelectedText',arguments);this.asN();}catch(e){this.bf('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var aO=this.aAh();this.cL('get_maxPrefetch',arguments,aO);return aO;}catch(e){this.bf('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bE('set_maxPrefetch',arguments);this.aDk(value);}catch(e){this.bf('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var aO=this.ayG();this.cL('get_displayPagesWhenScrolling',arguments,aO);return aO;}catch(e){this.bf('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bE('set_displayPagesWhenScrolling',arguments);this.aEP(value);}catch(e){this.bf('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var aO=this.azm();this.cL('get_maxOutOfViewDisplay',arguments,aO);return aO;}catch(e){this.bf('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bE('set_maxOutOfViewDisplay',arguments);this.aEp(value);}catch(e){this.bf('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var aO=this.ayf();this.cL('get_discardOutOfViewText',arguments,aO);return aO;}catch(e){this.bf('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.bE('set_discardOutOfViewText',arguments);this.aFD(value);}catch(e){this.bf('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var aO=this.axr();this.cL('get_scrollDisplayThreshold',arguments,aO);return aO;}catch(e){this.bf('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bE('set_scrollDisplayThreshold',arguments);this.aBd(value);}catch(e){this.bf('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var aO=this.ahZ();this.cL('get_mouseCursor',arguments,aO);return aO;}catch(e){this.bf('ahZ',e);throw e;}},set_mouseCursor:function(value){try{this.bE('set_mouseCursor',arguments);this.aEG(value);}catch(e){this.bf('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var aO=this.WR();this.cL('get_mouseTool',arguments,aO);return aO;}catch(e){this.bf('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bE('set_mouseTool',arguments);this.Kn(value);}catch(e){this.bf('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var aO=this.zj();this.bE('get_markHandleMode',arguments);return aO;}catch(e){this.bf('get_markHandleMode',e);throw e;}},set_markHandleMode:function(L){try{this.bE('set_markHandleMode',arguments);this.IJ(L);}catch(e){this.bf('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var aO=this.axx();this.bE('get_retainPageText',arguments);return aO;}catch(e){this.bf('get_retainPageText',e);throw e;}},set_retainPageText:function(L){try{this.bE('set_retainPageText',arguments);this.aCw(L);}catch(e){this.bf('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var aO=this.aGx();this.bE('get_allowMarkEdits',arguments);return aO;}catch(e){this.bf('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bE('set_allowMarkEdits',arguments);this.aDy(! !bool);}catch(e){this.bf('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var aO=this.ahO();this.cL('get_currentPage',arguments,aO);return aO;}catch(e){this.bf('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var anQ=this.aAc(pageIndex);this.cL('get_pageNodeId',arguments,anQ);return anQ;}catch(e){this.bf('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.bE('scrollToNextPage',arguments);this.aAJ();}catch(e){this.bf('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bE('scrollToPreviousPage',arguments);this.aAC();}catch(e){this.bf('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bE('scrollToFirstPage',arguments);this.aAH();}catch(e){this.bf('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bE('scrollToLastPage',arguments);this.aAf();}catch(e){this.bf('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bE('scrollToPage',arguments,1);this.sc(pageIndex);}catch(e){this.bf('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bE('rotate',arguments,1);this.axK(degreesClockwise);}catch(e){this.bf('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bE('rotateAll',arguments,1);this.abZ(degreesClockwise,true);}catch(e){this.bf('rotateAll',e);throw e;}},get_enabled:function(){try{var aO=this.axe();this.cL('get_enabled',arguments,aO);return aO;}catch(e){this.bf('get_enabled',e);throw e;}},get_pageLayout:function(){try{var aO=this.azB();this.cL('get_pageLayout',arguments,aO);return aO;}catch(e){this.bf('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bE('set_pageLayout',arguments);this.aEN(value);}catch(e){this.bf('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var aO=this.ayU();this.cL('get_viewMode',arguments,aO);return aO;}catch(e){this.bf('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bE('set_viewMode',arguments);this.Sh(value);}catch(e){this.bf('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var aO=this.azq();this.cL('get_loadingContent',arguments,aO);return aO;}catch(e){this.bf('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bE('set_loadingContent',arguments);this.aDm(value);}catch(e){this.bf('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bE('fitPages',arguments,1);this.aFZ(fitType);}catch(e){this.bf('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bE('openPage',arguments,1);this.Ma(pageIndex);}catch(e){this.bf('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bE('requestPageAttributes',arguments,1);this.OB(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.bf('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bE('scrollRegionIntoView',arguments,1);return this.azs(pageIndex,rectangle);}catch(e){this.bf('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bE('scrollBy',arguments,1);return this.axh(xVal,yVal);}catch(e){this.bf('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bE('scrollConversationIntoView',arguments,1);return this.axm(conversation);}catch(e){this.bf('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.Xu();},get_encryption:function(){try{var aO=this.iO();this.cL('get_encryption',arguments,aO);return aO;}catch(e){this.bf('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bE('set_encryption',arguments);this.nq(value);}catch(e){this.bf('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var aO=this.aGm();return aO;}catch(e){this.bf('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aDr(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.bf('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var aO=this.tP();this.cL('get_resourcePath',arguments,aO);return aO;}catch(e){this.bf('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bE('set_resourcePath',arguments);this.Ju(L);}catch(e){this.bf('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var aO=this.oP();this.cL('get_redactionDraftMode',arguments,aO);return aO;}catch(e){this.bf('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bE('set_redactionDraftMode',arguments);this.qO(value);}catch(e){this.bf('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var aO=this.axL();this.cL('get_displayedPages',arguments,aO);return aO;}catch(e){this.bf('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var aO=this.xt();this.cL('get_requireRequestsOptimize',arguments,aO);return aO;}catch(e){this.bf('xt',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bE('set_requireRequestsOptimize',arguments);this.Kd(value);}catch(e){this.bf('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var aO=this.lk();this.cL('get_serviceResponseTimeout',arguments,aO);return aO;}catch(e){this.bf('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bE('set_serviceResponseTimeout',arguments);this.vw(value);}catch(e){this.bf('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var aO=this.axO();this.cL('get_pageRotation',arguments,aO);return aO;}catch(e){this.bf('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bE('set_pageRotation',arguments);this.aBv(value);}catch(e){this.bf('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bE('getNodeID',arguments,1);return this.axk(pageIndex);}catch(e){this.bf('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var aO=this.aAm();this.cL('get_isCommentsPanelOpen',arguments,aO);return aO;}catch(e){this.bf('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bE('openCommentsPanel',arguments);this.awo();}catch(e){this.bf('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bE('closeCommentsPanel',arguments);this.asl();}catch(e){this.bf('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var aO=this.ayi();this.cL('get_conversationDOMFactory',arguments,aO);return aO;}catch(e){this.bf('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bE('set_conversationDOMFactory',arguments);this.aCV(value);}catch(e){this.bf('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var aO=this.axJ();this.cL('get_selectedConversation',arguments,aO);return aO;}catch(e){this.bf('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bE('set_selectedConversation',arguments);this.aBB(value);}catch(e){this.bf('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bE('refreshConversations',arguments);this.azz(markIDs);}catch(e){this.bf('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.aqY();}catch(e){this.bf('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.aBW();}catch(e){this.bf('restoreScrollPosition',e);throw e;}},prefetchPages:function(){try{this.asW();}catch(e){this.bf('prefetchPages',e);throw e;}}};LG.registerClass=cT;LG.registerClass('IPCC.PageList',{});module.exports=LG;},{"./IPCC.Util":28}],43:[function(require,module,exports){var nA=function(cU,yj){var K=this;this.cU=cU;this.yj=yj;this.ayl=function(){return K.cU;};this.aHW=function(){return K.yj;};};nA.prototype.get_propertyName=function(){return this.cU;};nA.prototype.get_propertyInfo=function(){return this.yj;};module.exports=nA;},{}],44:[function(require,module,exports){var GC=function(){this.dP=1;this.width=0;this.height=0;this.mU=0;this.Al=0;this.pool=undefined;return this;};GC.prototype.OX=function(dh){if(dh.width<1||dh.height<1){return[];}var mt=Math.floor(dh.x*this.dP);var mH=Math.floor(dh.y*this.dP);var np=Math.ceil((dh.x+dh.width)*this.dP);var oK=Math.ceil((dh.y+dh.height)*this.dP);var me=[];var H,fI;var cB=this.tiles.length;for(H=0;H<cB;H++){fI=this.tiles[H];if(fI.x<=np&&fI.right>=mt&&fI.y<=oK&&fI.bottom>=mH){me.push(fI);}}return me;};module.exports=GC;},{}],45:[function(require,module,exports){var vU=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.bQ=0;this.aD=0;this.xo=0;this.vn=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};vU.prototype.unlock=function(){this.level.pool.acL(this);};vU.prototype.lock=function(){this.level.pool.lockTile(this);};vU.prototype.relock=function(){return this.level.pool.aao(this);};vU.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};vU.prototype.toString=function(){var aa='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){aa='scale:'+this.level.dP.toString()+', '+aa;}return aa;};module.exports=vU;},{}],46:[function(require,module,exports){var mc=function(){this.as=false;this.R=false;};mc.prototype.mW=function(R){this.R=R;};mc.prototype.ei=function(){this.R=false;};mc.prototype.bV=function(){if(this.as){this.R.bM().oO();this.as=false;this.R.cV();}};mc.prototype.qP=function(){this.bV();this.R.cV();};mc.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){var bJ=this.R.bM();this.as=true;bJ.Ew(T.constrainedImagePoint);this.nb=T.windowPoint;this.R.cV();}};mc.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){var bJ=this.R.bM();bJ.zI(T.constrainedImagePoint);this.R.cV();}};mc.prototype.kn=function(T){if(this.as&&T.domEvent.button===0){var fJ=T.windowPoint.x-this.nb.x;var fQ=fJ*fJ;fJ=T.windowPoint.y-this.nb.y;fQ+=fJ*fJ;if(fQ>25){var R=this.R;var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();var asz=aQ.width;var atf=aQ.height;var aA=R.cP();bJ.zI(T.constrainedImagePoint);var kT=bJ.yC();bJ.oO();R.bz('userModifiedViewState',{});ah.NN(aA,aQ,kT);ah.iG(aA,aQ);bJ.iE(ah);R.cV();if(asz!==aQ.width||atf!==aQ.height){ah=bJ.fb();ah.NN(aA,aQ,kT);ah.iG(aA,aQ);bJ.iE(ah);}}}this.bV();};mc.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};mc.prototype.na=function(){this.bV();};module.exports=mc;},{}],47:[function(require,module,exports){var kx={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=kx;},{}],48:[function(require,module,exports){var yp=function(){};yp.prototype.mW=function(R){this.R=R;this.bJ=R.bM();};yp.prototype.ei=function(){this.R=false;};yp.prototype.bV=function(){};module.exports=yp;},{}],49:[function(require,module,exports){var eF=require('./IPCC.Util').regEnum;var BX=function(){};BX.registerEnum=eF;BX.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};BX.registerEnum('IPCC.ScaleTrigger',false);module.exports=BX;},{"./IPCC.Util":28}],50:[function(require,module,exports){var nF=function(){this.as=false;this.R=false;};nF.prototype.mW=function(R){this.R=R;};nF.prototype.ei=function(){this.R=false;};nF.prototype.bV=function(){if(this.as){this.R.oO();this.as=false;this.R.cV();}};nF.prototype.qP=function(){this.bV();};nF.prototype.kw=function(T){this.bV();if(T.domEvent.button===0){var bJ=this.R.bM();this.as=true;bJ.Ew(T.constrainedImagePoint);this.R.cV();}};nF.prototype.kU=function(T){if(T.domEvent.button!==0){this.bV();}if(this.as){var bJ=this.R.bM();bJ.zI(T.constrainedImagePoint);this.R.cV();}};nF.prototype.kn=function(T){if(T.domEvent.button===0){this.as=false;}this.bV();};nF.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};nF.prototype.na=function(){this.bV();};module.exports=nF;},{}],51:[function(require,module,exports){var km=function(){this.as=false;this.R=false;};km.prototype.mW=function(R){this.R=R;};km.prototype.ei=function(){this.R=false;};km.prototype.bV=function(){if(this.as){this.R.bM().Zb();this.as=false;}};km.prototype.qP=function(){this.bV();};km.prototype.kw=function(T){if(T.domEvent.button===0){var bJ=this.R.bM();this.as=true;var cA=this.R.IG(T.constrainedImagePoint);this.R.hJ=cA;if(!cA){return;}this.R.zt(cA);bJ.zt(cA);bJ.vx(undefined);this.R.cV();}};km.prototype.kU=function(T){var R=this.R;R.aAQ=true;if(T.domEvent.button!==0){this.bV();}if(this.as){var bJ=R.bM();var cA=R.IG(T.constrainedImagePoint);var gU=bJ.BY();if(gU===cA){return;}R.vx(cA);R.cV();}};km.prototype.kn=function(T){if(T.domEvent.button===0){this.as=false;}var R=this.R;var bJ=this.R.bM();var dF=bJ.iH.length;if(dF===0){this.bV();return;}var am=bJ.iH[0].cA;var ct=bJ.iH[dF-1].cA;if(R.GV===true){if(am>ct){am=ct;}var H;var oR=IPCC.Eq();this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.J.am=am;this.J.cq=R.EE();this.J.dp=dF;this.J.set_fillColor(R.rr);this.J.ka='y';this.J.ap=oR;for(H=0;H<bJ.iH.length;H++){var bP=bJ.iH[H];var FK=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var zX=bP.J.ey();FK.set_fillColor(R.rr);FK.set_opacity(bP.J.get_opacity());FK.set_rectangle(zX);FK.ap=oR;FK.ka='y';this.R.eN().addMark(FK);}bJ.iH=[];if(dF>0){this.R.eN().addMark(this.J);}R.lY().removeAllMarks();}dF=bJ.iH.length;var acx=new IPCC.Web.UI.TextSelectedEventArgs();acx.text=R.EE();R.bz('selectTextMouseToolCompleted',acx);R.cV();this.bV();};km.prototype.ow=function(T){var aQ=this.R.dS();if(T.windowPoint.x<=0||T.windowPoint.x>=aQ.width-2){this.bV();}if(T.windowPoint.y<=0||T.windowPoint.y>=aQ.height-2){this.bV();}};km.prototype.na=function(){this.bV();};module.exports=km;},{}],52:[function(require,module,exports){var db=function(){this.R=false;this.GM=0;this.anZ=1;this.aee=2;this.aeg=3;};db.prototype.mW=function(R){this.R=R;this.bZ=this.GM;};db.prototype.ei=function(){this.R=false;};db.prototype.bV=function(){this.bZ=this.GM;};db.prototype.ahy=function(T){var aCT=new Date()-this.avQ;if(aCT<750){var eR=this.afy.x-T.windowPoint.x;var eg=this.afy.y-T.windowPoint.y;var fQ=eR*eR+eg*eg;if(fQ<2500){return true;}}return false;};db.prototype.adl=function(T){this.avQ=new Date();this.afy=new IPCC.Web.UI.Point(T.windowPoint.x,T.windowPoint.y);};db.prototype.Lf=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length===1){if(this.bZ===this.aee&&this.ahy(T)){this.bZ=this.aeg;}else{this.bZ=this.anZ;}this.adl(T);this.R.gO('kw',T);}else{this.bZ=this.GM;this.R.gO('qP',T);}};db.prototype.Rr=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length===1){this.R.gO('kU',T);}};db.prototype.RD=function(T){var aR=T.domEvent.rawEvent;if(aR.touches.length===0){if(this.ahy(T)){if(this.bZ===this.aeg){this.bZ=this.GM;this.R.gO('kn',T);this.R.gO('BZ',T);}else{this.adl(T);this.bZ=this.aee;this.R.gO('kn',T);}}else{this.bZ=this.GM;this.R.gO('kn',T);}}};db.prototype.KD=function(T){this.R.gO('qP',T);};module.exports=db;},{}],53:[function(require,module,exports){var Bk=function(bQ,aD,fS,gj){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=bQ;this.height=aD;this.fS=fS;this.gj=gj;return this;};Bk.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.fS+', '+this.gj+')';};module.exports=Bk;},{}],54:[function(require,module,exports){var zA=function(Mo){this.wO=(typeof(Mo)!=='undefined'&&Mo!==null&&Mo!=='')?[Mo.toString()]:[];this.L={};this.cB=0;};zA.prototype.aHY=function(aY){this.wO[this.wO.length]=aY;};zA.prototype.aHa=function(aY){this.wO[this.wO.length]=((typeof(aY)==='undefined')||(aY===null)||(aY===''))?'\r\n':aY+'\r\n';};zA.prototype.aII=function(){this.wO=[];this.L={};this.cB=0;};zA.prototype.aIc=function(){if(this.wO.length===0){return true;}return this.toString()==='';};zA.prototype.aIm=function(yS){yS=yS||'';var parts=this.wO;if(this.cB!==parts.length){this.L={};this.cB=parts.length;}var val=this.L;if(typeof(val[yS])==='undefined'){if(yS!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[yS]=this.wO.join(yS);}return val[yS];};module.exports=zA;},{}],55:[function(require,module,exports){var fq=function(R,nY){this.KJ=false;this.Vm=false;this.EJ=true;this.Xj=false;this.Pw=false;this.wT=0;this.wc=0;var bA=this;this.auW='opacity';this.aus=function(cY){return cY.toString();};var ahL=function ahL(aL,fA,nK,aA,mE,mj){var gp;if(this.R.pf()===true){aL.vW.setAttribute('width',nK.width);aL.vW.setAttribute('height',nK.height);aL.uF.setAttribute('width',nK.width);aL.uF.setAttribute('height',nK.height);gp=fA.qm().toString()+','+fA.oI().toString()+','+fA.rw().toString()+','+fA.sl().toString()+','+(fA.wE()+mE).toString()+','+(fA.xU()+mj).toString();this.gC(aL.zD,'transform','matrix('+gp+')');}else{aL.vW.setAttribute('width',nK.width);aL.vW.setAttribute('height',nK.height);aL.uF.setAttribute('width',nK.width);aL.uF.setAttribute('height',nK.height);gp=fA.qm().toString()+','+fA.oI().toString()+','+fA.rw().toString()+','+fA.sl().toString()+','+(fA.wE()+mE).toString()+','+(fA.xU()+mj).toString();this.gC(aL.zD,'transform','matrix('+gp+')');}};function awY(aL){var pathList=aL.vW.getElementsByTagName('path');var gList=aL.vW.getElementsByTagName('g');aL.RI=[];function ahU(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aL.RI.push(pathItem);}}};IPCC.F.forEach(pathList,ahU);IPCC.F.forEach(gList,ahU);};this.adC=function(aL){var bJ=R.bM();var aGu=1;var lG=bJ.ayz();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*lG));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*lG;}};if(aL.RI===undefined){awY(aL);}if(lG===aGu){IPCC.F.forEach(aL.RI,setStrokeWidthToOriginalValue);}else{IPCC.F.forEach(aL.RI,updateStrokeWidthByLineWidthMultiplier);}bJ.aGG(false);};function avk(aL,ag){aL.rA.setAttribute('exponent',ag);aL.ru.setAttribute('exponent',ag);aL.rZ.setAttribute('exponent',ag);};function awz(aL,ag){var aqM=841;var kz=(ag/aqM)* -1;var gp;if(IPCC.F.EC){gp='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';gp=gp.replace('{00}',kz).replace('{01}',kz).replace('{02}',kz).replace('{10}',kz).replace('{11}',1).replace('{12}',kz).replace('{20}',kz).replace('{21}',kz).replace('{22}',kz);}else{gp='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';gp=gp.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',kz).replace('{12}',kz).replace('{13}',kz).replace('{14}',0).replace('{20}',0).replace('{21}',kz).replace('{22}',1).replace('{23}',kz).replace('{24}',0).replace('{30}',0).replace('{31}',kz).replace('{32}',kz).replace('{33}',kz).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aL.kP.setAttribute('kernelMatrix',gp);};this.avY=function(aL){var bJ=R.bM();var sx=bJ.ayy();var qq=bJ.ayZ();if(qq===0&&sx===1){aL.zD.removeAttribute('filter','url(#'+aL.Ko+')');}else{aL.zD.setAttribute('filter','url(#'+aL.Ko+')');}avk(aL,sx);awz(aL,qq);};var aaN,aaX;this.aeN=function(aL,fA,nK,aA,mE,mj){if(aL.aad.match('maglevel')){ahL.apply(this,arguments);return;}var bq=aL.fz.parentElement.getBoundingClientRect();var kL=bq.width/aA.width;var amJ=function(val){return Math.abs(val)<1.0e-14;};var fe=0,fN=0;var ayO=function(){var pO=fA.oI();if(amJ(pO)){pO=0;}var qd=fA.rw();if(amJ(qd)){qd=0;}var avg=fA.qm();var hc=(pO>=0&&qd<0)?90:(pO<0&&qd>=0)?270:(avg<0)?180:(pO>=0&&qd>=0)?0:0;switch(hc){case 90:fe=bq.width;break;case 180:fe=bq.width;fN=bq.height;break;case 270:fN=bq.height;break;}return hc*(Math.PI/180);};var hc=ayO();if(parseInt(hc,10)===1||parseInt(hc,10)===4){kL=bq.height/aA.width;}if(kL===aaN&&hc===aaX){return;}else{aaN=kL;aaX=hc;}var eK=1,jF=0;if(hc!==0){eK=Math.cos(hc);jF=Math.sin(hc);}var ah={kL:eK*kL,so:eK*kL,pO:jF*kL,qd:jF* -1*kL,fe:fe,fN:fN};var azp=new IPCC.eO(ah.kL,ah.pO,ah.qd,ah.so,ah.fe,ah.fN);fA.RW(azp);R.bM().iE(fA);var gp='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';gp=gp.replace('{scaleX}',ah.kL).replace('{scaleY}',ah.so).replace('{skewX}',ah.pO).replace('{skewY}',ah.qd).replace('{moveX}',ah.fe).replace('{moveY}',ah.fN);this.gC(aL.zD,'transform',gp);};this.ask=function(){aaN=undefined;aaX=undefined;};this.aCq(R);this.aqO=function(cN){var aQ=new IPCC.Bk(cN.clientWidth,cN.clientHeight,96,96);return aQ;};this.afF=function(aR){aR.preventDefault();bA.kw(aR);};this.aeQ=function(aR){aR.preventDefault();bA.kU(aR);};this.afa=function(aR){aR.preventDefault();bA.kn(aR);};this.alU=function(aR){bA.kw(aR);};this.afp=function(aR){bA.BZ(aR);};this.anG=function(aR){bA.kU(aR);};this.RC=function(aR){bA.na(aR);};this.alV=function(aR){bA.kn(aR);};this.ahd=function(aR){bA.BZ(aR);};this.akv=function(aR){bA.Ts(aR);};this.Qe=function(aR){if(aR.target!==document.activeElement){bA.atS(aR);}};this.ade=function(aR){if(aR.target!==document.activeElement){bA.atC(aR);}};this.ow=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;bA.sS(T);R.aCL(T);}catch(ex){R.bf('mouseOut',ex);}};this.Lf=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;bA.sS(T);R.aBf(T);}catch(ex){R.bf('touchStart',ex);}};this.Rr=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;bA.sS(T);R.aCH(T);}catch(ex){R.bf('touchMove',ex);}};this.RD=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;bA.sS(T);R.aBx(T);}catch(ex){R.bf('touchEnd',ex);}};this.KD=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;bA.sS(T);R.aCG(T);}catch(ex){R.bf('touchCancel',ex);}};this.aml=function(aR){try{aR.preventDefault();}catch(ex){R.bf('dragStart',ex);}};this.aoI=function(){var ft=R.mG().igElements.oY;IPCC.Web.UI.aT.addHandler(ft,"mousewheel",this.RC);IPCC.Web.UI.aT.addHandler(ft,"DOMMouseScroll",this.RC);if(nY){IPCC.Web.UI.aT.addHandler(ft,"touchstart",this.Lf);IPCC.Web.UI.aT.addHandler(ft,"touchmove",this.Rr);IPCC.Web.UI.aT.addHandler(ft,"touchend",this.RD);IPCC.Web.UI.aT.addHandler(ft,"touchcancel",this.KD);}IPCC.Web.UI.aT.addHandler(ft,"mouseout",this.ow);IPCC.Web.UI.aT.addHandler(ft,"dragstart",this.aml);};this.aCm=function(){var ft=R.mG().igElements.oY;IPCC.Web.UI.aT.removeHandler(ft,"DOMMouseScroll",this.RC);IPCC.Web.UI.aT.removeHandler(ft,"mouseout",this.ow);if(nY){IPCC.Web.UI.aT.removeHandler(ft,"touchstart",this.Lf);IPCC.Web.UI.aT.removeHandler(ft,"touchmove",this.Rr);IPCC.Web.UI.aT.removeHandler(ft,"touchend",this.RD);IPCC.Web.UI.aT.removeHandler(ft,"touchcancel",this.KD);}IPCC.Web.UI.aT.removeHandler(ft,"dragstart",this.aml);};function atu(aL,ik){var pZ=document.createElementNS('http://www.w3.org/2000/svg','filter');var Ko='filter'+ik;aL.Ko=Ko;pZ.setAttribute('id',Ko);pZ.setAttribute('x','0');pZ.setAttribute('y','0');pZ.setAttribute('filterUnits','objectBoundingBox');pZ.setAttribute('color-interpolation-filters','sRGB');return pZ;};function atA(ik){var kP=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');kP.setAttribute('in','SourceGraphic');kP.setAttribute('result',ik+'kP');kP.setAttribute('preserveAlpha','true');if(IPCC.F.EC){kP.setAttribute('order','3 3');kP.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{kP.setAttribute('order','5 5');kP.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return kP;};function auT(ik){var pU=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');pU.setAttribute('in',ik+'kP');pU.setAttribute('result',ik+'pU');return pU;};function auL(ik){var rA=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');rA.setAttribute('type','gamma');rA.setAttribute('amplitude','1');rA.setAttribute('exponent','1');rA.setAttribute('offset','0');var ru=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');ru.setAttribute('type','gamma');ru.setAttribute('amplitude','1');ru.setAttribute('exponent','1');ru.setAttribute('offset','0');var rZ=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');rZ.setAttribute('type','gamma');rZ.setAttribute('amplitude','1');rZ.setAttribute('exponent','1');rZ.setAttribute('offset','0');return{rA:rA,ru:ru,rZ:rZ};};function avL(aL,ik){var HY=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var afr=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var agS=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');afr.setAttribute('in',ik+'kP');agS.setAttribute('in',ik+'pU');HY.appendChild(afr);HY.appendChild(agS);return HY;};this.apA=function(aL,fz,tE,ik){var H,bU,cN,ZK;var NC=function(bn,ds,aJ){var cN=document.createElementNS('http://www.w3.org/2000/svg',bn);var H;if(ds){cN.setAttribute('id',ds);}for(H in aJ){if(aJ.hasOwnProperty(H)){cN.setAttribute(H,aJ[H]);}}return cN;};var fw=NC('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var pZ=atu(aL,ik);aL.aIb=pZ;var kP=atA(ik);aL.kP=kP;pZ.appendChild(kP);var pU=auT(ik);aL.pU=pU;pZ.appendChild(pU);var FC=auL();pU.appendChild(FC.rA);pU.appendChild(FC.ru);pU.appendChild(FC.rZ);aL.rA=FC.rA;aL.ru=FC.ru;aL.rZ=FC.rZ;var HY=avL(aL,ik);pZ.appendChild(HY);fw.appendChild(pZ);aL.uF=NC('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});fw.appendChild(aL.uF);var VZ=NC('g',null,{});aL.zD=VZ;fw.appendChild(VZ);var cB;if(R.pf()===false){cB=tE.eE.length;}else{cB=1;}for(H=0;H<cB;H++){bU=tE.eE[H];bU.pool.parentElementID=ik+H.toString();ZK=1/bU.dP;cN=NC('g',bU.pool.parentElementID,{transform:'matrix('+ZK.toString()+',0,0,'+ZK.toString()+',0,0)'});VZ.appendChild(cN);}aL.vW=fw;fz.appendChild(fw);};this.aot=function(iw){var aoZ=this.agH();iw.elementID=aoZ;};this.aAX=function(iw){var cN=document.getElementById(iw.elementID);this.gC(cN,'display','none');};this.afS=function(iw){var cN=document.getElementById(iw.elementID);if(cN===null){iw.elementID='';return;}cN.setAttributeNS('http://www.w3.org/1999/xlink','href','');cN.parentNode.removeChild(cN);iw.elementID='';};var avO=function(aR){try{aR.target.onload=undefined;aR.target.onerror=undefined;aR.target.onabort=undefined;var iw=aR.target.poolItem;iw.loaded=true;bA.Au();}catch(ex){R.bf('downloadImage',ex);}};var amM=function(aR){try{aR.target.onload=undefined;aR.target.onerror=undefined;aR.target.onabort=undefined;aR.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aR.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){R.bf('downloadImage',ex);var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=ex;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}};this.axu=function(Bz){var H;var cB=Bz.length;if(R.pf()===false){cB=Bz.length;}else{cB=1;}for(H=0;H<cB;H++){var fs=Bz[H];var cN=document.getElementById(fs.poolItem.elementID);if(cN===null){var iw=fs.poolItem;var PN=iw.pool;var fz=document.getElementById(PN.parentElementID);cN=document.createElementNS('http://www.w3.org/2000/svg','image');this.gC(cN,'id',iw.elementID);this.gC(cN,'externalResourcesRequired','true');cN.poolItem=iw;cN.onload=avO;cN.onerror=amM;cN.onabort=amM;if(document.documentMode>8||IPCC.F.tJ.Co){iw.loaded=true;}cN.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.app(cN,fs.url,'image/'+fs.contentType);fz.appendChild(cN);this.gC(cN,'display','block');var bQ=fs.right-fs.x;var aD=fs.bottom-fs.y;this.gC(cN,'x',fs.x);this.gC(cN,'y',fs.y);this.gC(cN,'width',bQ);this.gC(cN,'height',aD);if(cB>1){var arz=bQ-fs.xo;var asp=aD-fs.vn;var Mz=document.createElementNS('http://www.w3.org/2000/svg','clipPath');Mz.id=cN.id+'_clip';var eB=document.createElementNS('http://www.w3.org/2000/svg','rect');this.gC(eB,'x',fs.x-fs.xo);this.gC(eB,'y',fs.y-fs.vn);this.gC(eB,'width',arz);this.gC(eB,'height',asp);this.gC(eB,'class','expand-on-print');Mz.appendChild(eB);var insertBeforeElement=null;for(var i=0;i<fz.childNodes.length;i++){if(fz.childNodes.item(i).getAttribute('x')<fs.x||fz.childNodes.item(i).getAttribute('y')<fs.y){insertBeforeElement=fz.childNodes.item(i);break;}}fz.insertBefore(cN,insertBeforeElement);fz.appendChild(Mz);this.gC(cN,'style','clip-path: url(#'+Mz.id+')');this.gC(cN,'class','no-clip-on-print');}}this.gC(cN,'display','block');}if((document.documentMode>8||IPCC.F.tJ.Co)&&Bz.length>0){bA.Au();}};this.app=function(cN,af,wi){var qv=true;var nd=0;if(R.lk()===0){qv=false;}function fD(ac){var da,dz;try{var es=IPCC.Web.JC(ac),XG;var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");if(pa==='true'&&R.iO()===true){var ws=IPCC.Web.gT.sd.tN(ac.getResponseHeader("Accusoft-Data-SK"));var an=IPCC.Web.JP(ws,jr);var uT=IPCC.Web.Cp(es,an,jr);XG=IPCC.Web.gT.sd.lW(uT,0,0);}else{XG=IPCC.Web.gT.sd.lW(es,0,0);}cN.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+wi+';base64,'+XG);}catch(ex){da="Image error, Error message = "+ex.message;dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=ex;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);throw new IPCC.Web.UI.ImGearArgumentException(null,da);}};function ep(aa){var hC=aa.response.status,da,mh,nv;if(!aa.response){throw new IPCC.Web.UI.ImGearHttpException(hC,"Client Image load timeout");}if(hC===403){nd++;if(aa.response.statusText&&aa.response.statusText!==""){da="Expired viewer session ID, error message from the server: "+aa.response.statusText;}else{da="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}mh=aa.response.getResponseHeader('Accusoft-Status-Message');if(mh){var rf;nv=aa.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vk(nv)){rf=parseInt(nv,10);}throw new IPCC.Web.UI.ImGearHttpException(hC,mh,rf);}else{if(aa.response.statusText&&aa.response.statusText!==""){da=aa.response.statusText;}else{da="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}};var gI={method:'GET'};if(qv===true){gI.timeout=R.lk();}if(R.aAP()&&R.iO()===true){var jr=IPCC.Web.Fo.aiH(4);var oM=IPCC.Web.gT.Jd.lW(jr);var aBM=af+'&iv='+oM;gI.url=aBM;}else{gI.mimeType='text/plain; charset=x-user-defined';gI.url=af;}IPCC.F.mL.dY(gI).then(fD,ep);};this.aAS=function(aL){var K=this;if(aL.Ty){return;}var nd=0;var fs=aL.tE.eE[0].tiles[0];if(!fs){return;}var PN=fs.level.pool;var fz=document.getElementById(PN.parentElementID);var qv=true;if(R.lk()===0){qv=false;}var wp=R.XE();if(aL.Ha){if(wp===2){delete aL.Ha;if(fz.childNodes.length>0){fz.removeChild(fz.childNodes[0]);}}else if(wp===1){if(fz.childNodes.length>0){fz.removeChild(fz.childNodes[0]);}}else{if(fz.childNodes.length===0){fz.appendChild(aL.asC);}}R.yB=true;return;}if(wp>0){return;}function fD(ac){var dz,da;aL.Ty=false;try{try{var ph;var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");if(pa==='true'&&R.iO()===true){var ws=IPCC.Web.gT.sd.tN(ac.getResponseHeader("Accusoft-Data-SK"));var an=IPCC.Web.JP(ws,jr);var es=IPCC.Web.JC(ac);var uT=IPCC.Web.Cp(es,an,jr);ph=IPCC.Web.gT.Ii.lW(uT);}else{ph=ac.responseText;}aAV(ph);}catch(ex){da="SVG image error, Error message = "+ex.message;dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=ex;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);throw new IPCC.Web.UI.ImGearArgumentException(null,da);}}catch(e){R.bf('openPage',e);if(typeof(R.bz)==='function'){dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};function ep(aa){var dz,da,mh,nv;aL.Ty=false;try{if(!aa.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var hC=aa.response.status;if(hC===480){nd++;if(aa.response.statusText&&aa.response.statusText!==""){da=da="PDF file password required, error message from the server: "+aa.response.statusText;}else{da="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}if(hC===403){nd++;if(aa.response.statusText&&aa.response.statusText!==""){da="Expired viewer session ID, error message from the server: "+aa.response.statusText;}else{da="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}mh=aa.response.getResponseHeader('Accusoft-Status-Message');if(mh){var rf;nv=aa.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vk(nv)){rf=parseInt(nv,10);}throw new IPCC.Web.UI.ImGearHttpException(hC,mh,rf);}else{if(aa.response.statusText&&aa.response.statusText!==""){da=aa.response.statusText;}else{da="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(hC,da);}}catch(e){R.bf('openPage',e);if(typeof(R.bz)==='function'){dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=R.aP;R.bz('pageOpenFailed',dz);}}};var anL=function(){var bJ=R.bM();var AI=bJ.ajs();R.yB=true;R.bz('pageDisplayed',{aj:R.aP});if(AI){K.adC(aL);}};var aAV=function(fP){var nM=PN.parentElementID.toString();var MZ=(IPCC.F.EC||IPCC.F.Zx)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var uO=IPCC.F.apG(fP,MZ,nM);var qs=uO.querySelectorAll('style');IPCC.F.forEach(qs,function(ak){var Df=(ak.styleSheet)?ak.styleSheet.cssText:ak.textContent;if(ak.styleSheet){ak.styleSheet.cssText=Df;}else{ak.appendChild(document.createTextNode(Df));}});var kD=null;var JS=uO.firstChild;while(JS!==null){if(JS.nodeName==='svg'){kD=JS;break;}JS=JS.nextSibling;}if(kD===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aL.Ha){aL.asC=kD;fz.appendChild(kD);aL.Ha=true;if(!R.yB&&aL.Ha){setTimeout(anL,1);}}};var af;var jr,oM;R.yB=false;if(R.iO()===true){jr=IPCC.Web.Fo.aaE(4,IPCC.Web.Oz());oM=IPCC.Web.gT.Jd.lW(jr);af=fs.url+'&iv='+oM;}else{af=fs.url;}var gI={method:'GET',url:af,cache:true};if(qv===true){gI.timeout=R.lk();}aL.Ty=true;IPCC.F.mL.dY(gI).then(fD,ep);};this.aEI=function(fs,cY){if(!fs){return;}var Fl=document.getElementById(fs.poolItem.elementID);this.gC(Fl,'x',fs.x);this.gC(Fl,'y',fs.y);this.gC(Fl,'width',fs.right-fs.x);this.gC(Fl,'height',fs.bottom-fs.y);this.gC(Fl,'opacity',cY);this.gC(Fl,'display','block');};this.aeG=function(Bz,cY,fA){var H;if(R.pf()===false){for(H=0;H<Bz.length;H++){this.aEI(Bz[H],cY);}}};return this;};fq.viewerCounter=0;fq.tileCounter=0;fq.imageIDCounter=0;fq.prototype.aCq=function(R){this.ik=IPCC.fq.viewerCounter.toString();IPCC.fq.viewerCounter++;this.R=R;if(IPCC.cj){this.nD=new IPCC.Web.UI.MarkCollection();}var K=this;function awa(aN,T){K.awf(T);};function vB(aN,T){K.anN(T);};R.lo(awa);R.add_markAdded(vB);R.add_markChanged(vB);R.add_inProgressMarkChanged(vB);R.add_markRemoved(vB);R.add_markReordered(vB);R.add_marksLoaded(vB);R.add_markSelectionChanged(vB);R.add_markTextSelectionChanged(vB);};fq.prototype.agH=function(){var ds='igtile'+IPCC.fq.tileCounter.toString();IPCC.fq.tileCounter++;return ds;};fq.prototype.Au=function(){this.KJ=true;this.EJ=this.EJ&&this.Vm;var K=this;var anV=function(){if(!K.KJ){return;}K.cV(K.R.cP(),K.R.bM(),K.R.dS());K.EJ=true;};window.setTimeout(anV,0);};fq.prototype.awf=function(T){var wR=T.get_propertyName();switch(wR){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.R.bM().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Fz=true;if(this.R.yq()===true){this.Au();}return;case 'displayedPageRectangle':if(this.R.yB===true){this.Au();return;}break;case 'redactionDraftMode':this.Fz=true;this.Au();return;}if(this.R.yq()===true){this.Au();}};fq.prototype.anN=function(T){if(T.mark&& !this.Fz){this.nD.addMark(T.mark);}else{this.Fz=true;}if(this.R.yq()===true){this.Au();}};fq.prototype.Vl=function(){this.kl=this.fA.clone();this.kl.mN(this.adg,this.ady);this.kl.iG(this.R.cP(),this.R.dS());this.tj=this.kl.clone();this.tj.ye();};fq.prototype.cV=function(bo,bJ,aQ){try{this.KJ=false;if(this.Qd===true){return;}var ci=this.R.mG();if(ci===null){return;}var di=ci.igElements;try{this.Qd=true;if(this.Gh===undefined||bo===undefined|| !(this.Gh.equals(bo))){if(this.Xj){if(this.kA){this.aCm(this.kA);var ft=di.oY;IPCC.Web.UI.aT.removeHandler(ft,"mousedown",this.alU);IPCC.Web.UI.aT.removeHandler(ft,"mousemove",this.anG);IPCC.Web.UI.aT.removeHandler(ft,"mouseup",this.alV);IPCC.Web.UI.aT.removeHandler(ft,"dblclick",this.ahd);IPCC.Web.UI.aT.removeHandler(ft,"contextmenu",this.akv);IPCC.Web.UI.aT.removeHandler(di.eu,"blur",this.Qe);IPCC.Web.UI.aT.removeHandler(di.ho,"blur",this.ade);IPCC.Web.UI.aT.removeHandler(di.cr,"blur",this.Qe);}delete this.kA;this.ahf(di.qu);this.ahf(di.Bv);this.Xj=false;if(this.Fq!==undefined){this.Fq.unlockAllItems();}if(this.Fc!==undefined){this.Fc.unlockAllItems();}this.Fq=undefined;this.Fc=undefined;ci.igElements.mI.onscroll=null;ci.igElements.mI.onresize=null;}if(ci.querySelectorAll){if(ci.querySelectorAll(".pccPageLoadFail").length===0){ci.innerHTML='';}}this.R.qY(true);if(bo===undefined){this.Qd=false;this.Gh=undefined;this.ask();return;}this.Gh=bo.clone();this.Fq=new IPCC.pN();this.Fq.createPyramid(this,this.R);this.Fc=new IPCC.pN();this.Fc.createPyramid(this,this.R);this.Xj=true;this.aqm(this.ik);}this.fA=bJ.fb();var Rc=this.fA.qG(bo);this.fA.mN(-Rc.x,-Rc.y);this.aoj=this.fA.clone();this.aoj.ye();this.adg=Math.round(Rc.x);this.ady=Math.round(Rc.y);this.Vl();this.awy(bo,bJ,aQ);if(bo.aP===0){this.Vl();}}finally{this.Qd=false;this.Fz=false;if(this.nD){this.nD.removeAllMarks();}}this.adt(true);}catch(e){this.R.bf('display',e);throw e;}};fq.prototype.aDs=function(yN,xv,vG){if(yN[xv]===vG){return;}yN[xv]=vG;};fq.prototype.gC=function(yN,xv,vG){if(yN.getAttribute(xv)===vG){return;}yN.setAttribute(xv,vG);};fq.prototype.zL=function(yN,xv,vG){if(yN.style[xv]===vG){return;}yN.style[xv]=vG;};fq.prototype.adt=function(apU){if(this.Qd){return;}if(this.KJ&& !this.EJ){return;}if(!apU){try{this.Vm=true;var ci=this.R.mG();if(ci){this.wT=ci.igElements.mI.scrollLeft;this.wc=ci.igElements.mI.scrollTop;}this.awn();this.Vl();this.R.bM().iE(this.kl);this.R.bz('userModifiedViewState',{});this.R.qY(false);}finally{this.Vm=false;}}};fq.prototype.ayC=function(aL,fA,aDo){var tE=aL.tE;var qH=tE.aFo(fA,aDo);if(!this.R.yB&&qH.tilesToRequest.length===0&&(qH.opaqueTiles.length+qH.translucentTiles.length)>0){this.R.yB=true;this.R.bz('pageDisplayed',{aj:this.R.aP});}tE.aFA(qH);if(this.R.pf()===false){this.axu(qH.tilesToRequest);this.aeG(qH.opaqueTiles,1,fA);this.aeG(qH.translucentTiles,qH.opacity,fA);}};fq.prototype.aqm=function(ik){var R=this.R;var ci=R.mG();var bJ=R.bM();var bA=this;function gy(rv){var yG=document.createElement('div');var H;for(H in rv){if(rv.hasOwnProperty(H)){yG.style[H]=rv[H];}}return yG;};var di={};ci.igElements=di;var ja=gy({width:'100%',height:'100%',position:'relative',overflow:bJ.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});di.mI=ja;ja.setAttribute('class','igViewerScroller');ja.onscroll=function(){bA.adt(false);};ja.onresize=function(){var aQ=R.dS();aQ.width=ja.clientWidth;aQ.height=ja.clientHeight;R.bz('resize',{});};var ft=gy({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});ja.appendChild(ft);di.oY=ft;ft.setAttribute('class','igViewerGraphics');this.BI=2;this.zv=2;this.wT=0;this.wc=0;var aL={};aL.tE=this.Fq;aL.aad='ig'+ik+'level';di.qu=aL;this.agW(aL,ft,gy);aL.sj=this.sj;var jH;if(R.pf()===false){jH=gy({position:'absolute',display:'none',width:(bJ.vb().width+4)+'px',height:(bJ.vb().height+4)+'px',backgroundColor:'#000000'});}else{jH=gy({position:'absolute',display:'none',width:(bJ.vb().width+4)+'px',height:(bJ.vb().height+4)+'px',backgroundColor:'#cccccc'});}ft.appendChild(jH);di.jH=jH;jH.setAttribute('class','igMagnifierFrame');var pF=gy({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});di.pF=pF;jH.appendChild(pF);aL={};aL.tE=this.Fc;aL.aad='ig'+ik+'maglevel';di.Bv=aL;this.agW(aL,pF,gy);aL.sj=this.apt;var Qh=document.createTextNode('');di.Qh=Qh;var eu=document.createElement('textarea');eu.appendChild(Qh);eu.style.position='absolute';eu.style.overflow='auto';eu.style.width='80px';eu.style.height='80px';eu.style.resize='none';eu.style.display='none';ja.appendChild(eu);di.eu=eu;var WV=document.createTextNode('');di.WV=WV;var ho=document.createElement('input');ho.type="text";ho.style.position='absolute';ho.style.overflow='hidden';ho.style.width='80px';ho.style.height='80px';ho.style.resize='none';ho.style.display='none';ho.style.padding='0px';ho.style.margin='0px';ho.style.lineHeight='normal';ho.className="no-ms-clear";var alW=function(ev){var xk=ho,bQ=parseFloat(xk.style['width']),aD=parseFloat(xk.style['height']),jm=xk.style['fontFamily'];var aDc=xk.value.length>xk.placeholder.length?xk.value:xk.placeholder;var hK=IPCC.F.uZ(aDc,jm,{wL:'pre',fw:di.qu.vW}),vK=12*bQ/(hK.width||1),wF=12*aD/(hK.height||1),yW=Math.floor(Math.min(vK,wF))*0.9;xk.style.fontSize=yW+'px';};ho.onkeyup=alW;ho.onfocus=function(ev){alW(ev);if(ho.setSelectionRange){var gH=ho.value.length*2;ho.setSelectionRange(gH,gH);}};ja.appendChild(ho);di.ho=ho;var rS=document.createTextNode('');di.rS=rS;var cr=document.createElement('textarea');cr.appendChild(rS);cr.style.position='absolute';cr.style.overflow='hidden';cr.style.width='80px';cr.style.height='80px';cr.style.resize='none';cr.style.display='none';cr.style.whiteSpace='pre-wrap';cr.style.border=0;cr.style.padding='2px';cr.style.fontStyle='normal';var aum=function(bS){var aqg=R.IZ();var dP=R.bM().fb().qI();var ia=aqg.ia*dP;var aV=R.pq().jn()*dP;IPCC.F.VD(cr,ia,aV);};cr.onkeyup=aum;ja.appendChild(cr);di.cr=cr;this.kA={};this.aoI(this.kA);IPCC.Web.UI.aT.addHandler(ft,"mousedown",this.alU);IPCC.Web.UI.aT.addHandler(ft,"mousemove",this.anG);IPCC.Web.UI.aT.addHandler(ft,"mouseup",this.alV);IPCC.Web.UI.aT.addHandler(ft,"dblclick",this.ahd);IPCC.Web.UI.aT.addHandler(ft,"contextmenu",this.akv);IPCC.Web.UI.aT.addHandler(eu,"blur",this.Qe);IPCC.Web.UI.aT.addHandler(ho,"blur",this.ade);IPCC.Web.UI.aT.addHandler(cr,"blur",this.Qe);ci.appendChild(ja);};fq.prototype.agW=function(aL,fz,gy){var sk=gy({width:'2px',height:'2px',position:'absolute'});aL.fz=fz;fz.appendChild(sk);aL.akH=sk;sk.setAttribute('class','igAnchor');this.apA(aL,sk,aL.tE,aL.aad);aL.zr=gy({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});sk.appendChild(aL.zr);var kT=gy({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kT.style[this.auW]=this.aus(0.5);sk.appendChild(kT);aL.kT=kT;};fq.prototype.ahf=function(aL){if(aL&&aL.Pw){aL.sj.aFV();aL.Pw=false;}aL.fz=null;};fq.prototype.awy=function(bo,bJ,aQ){var R=this.R;var mr=this.kl.qG(bo);var ci=R.mG();var arE=R.ayt();var AZ=R.axA();var di=ci.igElements;var qu=di.qu;var Bv=di.Bv;var ja=di.mI;var ft=di.oY;var sk=qu.akH;var jH=di.jH;var pF=di.pF;var ami=Bv.akH;var Jl=Math.max(0,-mr.x);var JL=Math.max(0,-mr.y);var aCN=Math.max(mr.width,aQ.width);var aBP=Math.max(mr.height,aQ.height);var mE=Math.max(0,mr.x);var mj=Math.max(0,mr.y);var afK=false;var Bs=false;if(bJ.xg()){Bs=bJ.yC();}var aED=this.BI;this.BI=Math.floor(aCN-1);if(this.BI<0){this.BI=0;}var aDF=this.zv;this.zv=Math.floor(aBP-1);if(this.zv<0){this.zv=0;}if(R.pf()===true){if(this.zv===0){this.zv=2;}if(this.BI===0){this.BI=2;}}var aEh=this.wT;var aDx=this.wc;if(!this.EJ){this.wT=Math.floor(Jl);this.wc=Math.floor(JL);}if(this.aei){this.zL(sk,'left',mE+'px');this.zL(sk,'top',mj+'px');}var fA=bJ.fb();fA.mN(Jl-mE,JL-mj);this.adF(qu,bJ.fb(),fA,bo,aQ,Bs,mE,mj);this.zL(ja,'overflow',bJ.get_overflow());if(aQ.width!==ja.clientWidth||aQ.height!==ja.clientHeight){aQ.width=ja.clientWidth;aQ.height=ja.clientHeight;afK=true;}this.aDs(sk.style,'visibility','visible');if(bJ.get_magnifierIsVisible()){var tF=bJ.get_magnifierWindowPosition();var zC=bJ.vb();var Lg=bJ.QD();var LD=bJ.QW();var SV=bJ.azG();var aGi=Math.round(tF.x-zC.width/2+Jl+Lg);var aGA=Math.round(tF.y-zC.height/2+JL+LD);var NG=SV.qG(bo);var aCY=Math.max(0,-NG.x);var aET=Math.max(0,-NG.y);this.zL(ami,'left',NG.x+'px');this.zL(ami,'top',NG.y+'px');var Nq=2;jH.style.width=(zC.width+Nq*2)+'px';jH.style.height=(zC.height+Nq*2)+'px';pF.style.width=zC.width+'px';pF.style.height=zC.height+'px';pF.style.left=Nq+'px';pF.style.top=Nq+'px';jH.style.left=aGi+'px';jH.style.top=aGA+'px';var abh=SV.clone();abh.mN(aCY,aET);this.adF(Bv,SV,abh,bo,zC,Bs,0,0);jH.style.display='block';}else{jH.style.display='none';}if(R.ajE()){var jg=R.IZ();var arh=jg.ey();var gm=this.kl.xl(arh);var ny=(jg.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var aaa=jg.dU* -1,ahA=jg.dU* -1;if(gm.width<ny){gm.width=ny;}if(gm.height<ny){gm.height=ny;}if(gm.width>aQ.width){gm.width=aQ.width;}if(gm.height>aQ.height){gm.height=aQ.height;}if(gm.x<0){gm.x=0;}if(gm.y<0){gm.y=0;}if(gm.x+gm.width+1>=aQ.width){gm.x=aQ.width-gm.width;aaa= -8;}if(gm.y+gm.height+1>=aQ.height){gm.y=aQ.height-gm.height;ahA= -8;}var hY=this.Ik(jg);hY.style.left=this.wT+gm.x+1+(jg.dU/2)+'px';hY.style.top=this.wc+gm.y+1+(jg.dU/2)+'px';hY.style.width=gm.width+aaa-1+'px';hY.style.height=gm.height+ahA-1+'px';if(hY.style.display!=='block'){hY.style.display='block';hY.style.whiteSpace='pre-wrap';var sG=jg.dv;var sZ='';if(sG&IPCC.Web.UI.FontStyle.Italic){hY.style.fontStyle="italic";}if(sG&IPCC.Web.UI.FontStyle.Bold){hY.style.fontWeight="bold";}if(sG&IPCC.Web.UI.FontStyle.Underline){sZ+="underline";}if(sG&IPCC.Web.UI.FontStyle.Strikeout){if(sG&IPCC.Web.UI.FontStyle.Underline){sZ+=" line-through";}else{sZ="line-through";}}hY.style.textDecoration=sZ;hY.style.color=jg.ql;hY.style.backgroundColor=jg.fF;hY.style.fontFamily=jg.hu;hY.style['z-index']=100;var yW=jg.FS*this.kl.qI();if(yW){hY.style.fontSize=yW+"px";}switch(jg.jh){case IPCC.Web.UI.HorizontalAlignment.Center:hY.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:hY.style.textAlign='right';break;default:hY.style.textAlign='left';break;}if(jg.eD){setTimeout(function(){di.eu.maxLength=jg.eD;di.ho.maxLength=jg.eD;di.cr.maxLength=jg.eD;},0);}if(jg.hV){if(AZ){AZ.destroy();R.Vr(null);}R.Vr(new PCCViewer.azY(hY,jg.hV));}if(jg.hS()===IPCC.Web.UI.MarkType.TextAreaSignature){var cr=IPCC.F.ajC();cr.style.width=di.cr.style.width;cr.style.height=di.cr.style.height;cr.style.fontFamily=di.cr.style.fontFamily;cr.style.fontStyle=di.cr.style.fontStyle;cr.style.fontWeight=di.cr.style.fontWeight;var dP=R.bM().fb().qI();var ia=jg.ia*dP;var aV=R.pq().jn()*dP;IPCC.F.aix().nodeValue=jg.aY||'m';di.cr.style.fontSize=IPCC.F.VD(cr,ia,aV)+'px';}hY.focus();}}else{di.eu.style.display='none';di.ho.style.display='none';di.cr.style.display='none';di.eu.removeAttribute('maxlength');di.ho.removeAttribute('maxlength');di.cr.removeAttribute('maxlength');if(AZ){AZ.destroy();R.Vr(null);}if(document.activeElement===di.eu){di.eu.blur();}if(document.activeElement===di.ho){di.ho.blur();}if(document.activeElement===di.cr){di.cr.blur();}}if(afK){R.bz('resize',{});}if(this.BI!==aED){this.zL(ft,'width','100%');}if(this.zv!==aDF){this.zL(ft,'height','100%');}if(this.wT!==aEh){ja.scrollLeft=this.wT;}if(this.wc!==aDx){ja.scrollTop=this.wc;}if(arE==="PageView"&& !this.EJ){bJ=R.bM();var ah=bJ.fb();var yt=(+ah.qI().toFixed(6));if(R.PU!==yt){R.PU=yt;setTimeout(function(){R.bz('scaleChanged',{scaleFactor:yt,pageNumber:R.aP});},1);R.bz('scaleChanged',{scaleFactor:yt,pageNumber:R.aP});}}};fq.prototype.adF=function(aL,kl,fA,aA,aQ,Bs,mE,mj){var mr=kl.qG(aA);var nK={};nK.width=Math.max(mr.width,aQ.width);nK.height=Math.max(mr.height,aQ.height);this.avx(aL,kl,fA,aA,aQ,mE,mj);this.aeN(aL,fA,nK,aA,mE,mj);if(this.R.pf()===false){this.ame(aL,aQ,kl,fA);}else{this.aAS(aL);var bJ=this.R.bM();var AI=bJ.ajs();if(this.R.yB&&AI){this.adC(aL);}}this.avY(aL);if(Bs){var CD=fA.xl(Bs);if(this.aei){aL.kT.style.left=(CD.x-2)+'px';aL.kT.style.top=(CD.y-2)+'px';}else{aL.kT.style.left=(CD.x-2+mE)+'px';aL.kT.style.top=(CD.y-2+mj)+'px';}aL.kT.style.width=CD.width+'px';aL.kT.style.height=CD.height+'px';aL.kT.style.display='block';}else{aL.kT.style.display='none';}};fq.prototype.ame=function(aL,aQ,kl,fA){var afD=this.R.aye();var FX={x:0,y:0,width:aQ.width,height:aQ.height};if(afD){var yA=afD.getBoundingClientRect();var gd=aL.fz.getBoundingClientRect();var KY;if(gd.left<yA.left){KY=yA.left-gd.left;FX.x=(KY/gd.width)*aQ.width;}if(gd.right>yA.right){FX.width=yA.width;}if(gd.top<yA.top){KY=yA.top-gd.top;FX.y=(KY/gd.height)*aQ.height;}if(gd.bottom>yA.bottom){FX.height=yA.height;}}var tj=kl.clone();tj.ye();var asQ=tj.xl(FX);this.ayC(aL,fA,asQ);};fq.prototype.avx=function(aL,kl,fA,aA,aQ,mE,mj){var aB=this.R.eN();var hs=this.R.lY();var er=this.R.Qf();var agj=0;var K=this;if(aL.kZ){agj=aL.kZ.length;}if(!aL.sj|| !aB){return;}var pl=this.R.azP();if(aB.get_markCount()<=0&&hs.get_markCount()<=0&&er.get_markCount()<=0&&agj<=0&& !pl){return;}if(!aL.Pw){aL.sj.aqf(this.R,aL,aA);aL.kZ=[];aL.Pw=true;}hs=this.R.lY();var bD=[];function avo(J){if((K.R.jV()&&K.R.cn().oj()===true)||J.get_type()!==IPCC.Web.UI.MarkType.Highlight){bD.push(J);}};function aiy(J){bD.push(J);};er.forEachMark(aiy);hs.forEachMark(aiy);aB.forEachMark(avo);if(pl){bD.push(pl);}var H,kZ=aL.kZ;for(H=0;H<kZ.length;H++){while(H<kZ.length&&(H>=bD.length||kZ[H].J!==bD[H])){aL.sj.Qc(kZ[H]);kZ.splice(H,1);}if(H<kZ.length&&(this.Fz||this.nD.contains(kZ[H].J))){aL.sj.aea(kZ[H]);}}for(H=kZ.length;H<bD.length;H++){kZ[H]={J:bD[H]};var C=kZ[H];if(!C){continue;}aL.sj.apL(kZ[H]);}if(this.aei){aL.sj.acY(this.R,aL,bD,fA,this.R.aiq());}else{var acR=fA.clone();acR.mN(mE,mj);aL.sj.acY(this.R,aL,bD,acR,this.R.aiq());}};fq.prototype.aeN=function(){};fq.prototype.awn=function(){var ci=this.R.mG();if(ci){this.adg=ci.igElements.oY.offsetLeft-this.wT;this.ady=ci.igElements.oY.offsetTop-this.wc;}};fq.prototype.sS=function(T,cV){var gq=this.R.mG().igElements;var jv=T.domEvent;var ed;if(gq.oY.getBoundingClientRect){ed=gq.oY.getBoundingClientRect();}else{var eG=gq.oY;var wN=document.documentElement;ed={left:wN.clientLeft-wN.scrollLeft,top:wN.clientTop-wN.scrollTop};eG=eG.offsetParent;while(eG){ed.top+=eG.offsetTop-eG.scrollTop;ed.left+=eG.offsetLeft-eG.scrollLeft;eG=eG.offsetParent;}}if(jv.rawEvent.touches){if(jv.rawEvent.touches.length>0){this.NT=new IPCC.Web.UI.Point(jv.rawEvent.touches[0].clientX-gq.mI.scrollLeft-ed.left,jv.rawEvent.touches[0].clientY-gq.mI.scrollTop-ed.top);}if(!this.NT){this.NT=new IPCC.Web.UI.Point(0,0);}T.windowPoint=new IPCC.Web.UI.Point(this.NT.x,this.NT.y);jv.button=0;}else{T.windowPoint=new IPCC.Web.UI.Point(jv.clientX-ed.left-gq.mI.scrollLeft,jv.clientY-ed.top-gq.mI.scrollTop);}var Qz=this.tj.transform(T.windowPoint);T.imagePoint=new IPCC.Web.UI.Point(Qz.x,Qz.y);T.constrainedImagePoint=new IPCC.Web.UI.Point(Qz.x,Qz.y);T.constrainedImagePoint.x=Math.min(Math.max(T.constrainedImagePoint.x,0),this.Gh.width);T.constrainedImagePoint.y=Math.min(Math.max(T.constrainedImagePoint.y,0),this.Gh.height);T.pointLiesWithinImage=(T.constrainedImagePoint.x===T.imagePoint.x&&T.constrainedImagePoint.y===T.imagePoint.y);T.mark=null;try{var cs=jv.target;while(!(cs.ImGearMarkRelation)&&cs.parentNode&&cs!==document.body){cs=cs.parentNode;}if(cs.ImGearMarkRelation){T.mark=cs.ImGearMarkRelation.J;}}catch(aR){}};fq.prototype.kw=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);this.R.ayM(T);}catch(ex){this.R.bf('mouseDown',ex);}};fq.prototype.kU=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);this.R.ayx(T);}catch(ex){this.R.bf('mouseMove',ex);}};fq.prototype.na=function(aR){try{var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);if(!aR.rawEvent.wheelDelta){T.wheelDelta= -aR.rawEvent.detail*120;}else{T.wheelDelta=aR.rawEvent.wheelDelta;}this.R.aBC(T);}catch(ex){this.R.bf('mouseWheel',ex);}};fq.prototype.BZ=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);this.R.axg(T);}catch(ex){this.R.bf('mouseDoubleClick',ex);}};fq.prototype.kn=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);this.R.aCf(T);}catch(ex){this.R.bf('mouseUp',ex);}};fq.prototype.Ts=function(aR){try{aR.preventDefault();var T=new IPCC.Web.UI.MouseEventArgs();T.domEvent=aR;this.sS(T);this.R.axD(T);}catch(ex){this.R.bf('contextMenu',ex);}};fq.prototype.atS=function(aR){try{this.R.qY(true);}catch(ex){this.R.bf('textAreaBlur',ex);}};fq.prototype.atC=function(aR){try{this.R.qY(true);}catch(ex){this.R.bf('textInputBlur',ex);}};fq.prototype.ayT=function(J){var eu=this.Ik(J);eu.value=J.aY||"";};fq.prototype.axU=function(){var R=this.R;var J=R.IZ();if(!J|| !R.ajE()){return;}var UB=this.Ik(J);if(document.activeElement===UB){UB.blur();}var aY=UB.value;aY=aY.replace(/(\n|\n\r|\r\n|\r)/g,'\n');J.set_text(aY);};fq.prototype.Ik=function(J){var gq=this.R.mG().igElements,eu=null;if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){eu=gq.ho;}else if(J.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eu=gq.cr;}else if(J.get_type()===IPCC.Web.UI.MarkType.Text){eu=gq.eu;}return eu;};module.exports=fq;},{}],56:[function(require,module,exports){var yO={};yO.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=yO;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var bi={bn:function(L,bh,bn){if(typeof(L)!==bn){throw new ImGearExceptions.CP(bh,typeof(L),bn);}},mo:function(L,bh){bi.bn(L,bh,'string');},ju:function(L,bh){if(!(L instanceof Date)){throw new ImGearExceptions.CP(bh,typeof(L),"Date");}},hG:function(L,bh){bi.bn(L,bh,'number');if(!isFinite(L)){throw new ImGearExceptions.pV(bh,L,'The value must be a number.');}},kC:function(L,bh,wU,vM){bi.bn(L,bh,'number');if(L<wU||L>vM|| !isFinite(L)){throw new ImGearExceptions.pV(bh,L,'The value must be a number between '+wU+' and '+vM+' inclusive.');}},Tl:function(L,bh,JN){bi.bn(L,bh,'number');var H;for(H=0;H<JN.length;H++){if(L===JN[H]){return;}}var Nh='';for(H=0;H<JN.length;H++){if(H>0){if(H===JN.length-1){Nh+=' or ';}else{Nh+=', ';}}Nh+=JN[H];}throw new ImGearExceptions.pV(bh,L,'The value must be '+Nh+'.');},mD:function(L,bh,wU,vM){bi.kC(L,bh,wU,vM);if(L!==Math.floor(L)){throw new ImGearExceptions.rR(bh,'The value must be an integer.');}},dm:function(L,bh){bi.bn(L,bh,'string');if(!L.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.rR(bh,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},XM:function(L,bh){bi.bn(L,bh,'string');if(!L.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.rR(bh,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},lx:function(L,bh,lx,ans){bi.bn(L,bh,'number');var cU;var VB=0;for(cU in lx){if(lx.hasOwnProperty(cU)){if(ans){VB|=lx[cU];}else{if(L===lx[cU]){return;}}}}var bW="";if(ans){if((L|VB)===VB){return;}else{throw new ImGearExceptions.pV(bh,L,'The value must be zero or more members of the '+bW+' enumeration.');}}throw new ImGearExceptions.pV(bh,L,'The value must be a member of the '+bW+' enumeration.');},ad:function(L,bh){bi.hG(L.x,bh+'.x');bi.hG(L.y,bh+'.y');},h:function(L,bh){bi.hG(L.x,bh+'.x');bi.hG(L.y,bh+'.y');bi.hG(L.width,bh+'.width');bi.hG(L.height,bh+'.height');},wt:function(L,bh){if(!Array.isArray(L)){throw new ImGearExceptions.rR(bh,'The value must be an array.');}}};module.exports=bi;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var eF=require('./IPCC.Util').regEnum;var BS=function(){};BS.registerEnum=eF;BS.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};BS.registerEnum('IPCC.ViewMode',false);module.exports=BS;},{"./IPCC.Util":28}],59:[function(require,module,exports){var aak=function(nY){var bJ;var bo;var jB;var aQ;var bA=this;var zG;var Cf='';var _debug=false;var oS=IPCC.Web.UI.DebugErrorLevel.Production;var lV=[];var bu=new IPCC.Web.UI.gZ();var aB;var er;var pl=null;var Iw=false;var xw=false;var wr;var amT=IPCC.Web.UI.ImGearArtDataServices.None;var GA=false;var vz='';var sY;var apa=false;var acW=false;var wp=0;var rC=true;var jo;var hs;var tp=false;var ajJ=true,oG=false;var anU=false;var AZ=null;var ND;var XO=false;var ar=null;this.PU=0.0;this.mg=function(LU){if(!_debug){return false;}return oS>=LU;};this.oy=function(lh,Mp,bU){IPCC.il.oy(lh,Mp,bU,Cf,zG);};this.bf=function(je,jk){if(!this.mg(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cS=je+'() threw an exception ('+jk.name+'), "'+jk.message+'"';cS=cS.replace(/\n/g," ");this.oy(cS,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bA.bz('exceptionThrown',{"function_name":je,"exception":jk,"pageNumber":bA.aP});};this.Ik=function(J){var gq=this.mG().igElements,eu=null;if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){eu=gq.ho;}else if(J.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){eu=gq.cr;}else if(J.get_type()===IPCC.Web.UI.MarkType.Text){eu=gq.eu;}return eu;};this.get_debug=function(){return _debug;};this.set_debug=function(L){var Kq= ! !L;if(_debug===Kq){return;}_debug=Kq;this.bX('debug');};this.AL=function(){return oS;};this.IY=function(L){if(oS===L){return;}oS=L;this.bX('debugErrorLevel');};this.get_areMarksEditable=function(){return XO;};this.set_areMarksEditable=function(L){if(XO===L){return;}XO=L;this.bX('areMarksEditable');};this.get_cursor=function(){return ar;};this.set_cursor=function(L){if(ar===L){return;}ar=L;this.bX('cursor');};this.aDl=function(L){Cf=L;};this.ayt=function(){return Cf;};this.aGq=function(L){zG=L;};this.aCh=function(L){ND=L;};this.aye=function(){return ND;};this.ez=function(arp){this.qY(false);var H;for(H=lV.length-1;H>=0;H--){if(lV[H]instanceof IPCC.lz){lV[H].bV(true);}else{lV[H].bV();}if(lV[H]instanceof IPCC.lf){lV[H].ei(true);}else{lV[H].ei();}}lV=arp;for(H=0;H<lV.length;H++){lV[H].mW(this);}};this.aKt=function(){var H;for(H=0;H<lV.length;H++){lV[H].bV();}};this.gO=function(afM,T){var H;for(H=0;H<lV.length;H++){if(T&&T.agf&&T.agf()){return;}if(lV[H][afM]){lV[H][afM](T);}}};this.ayA=function(jb,cC){switch(jb){case 'touchstart':jB.afF&&jB.afF(cC);break;case 'touchmove':jB.aeQ&&jB.aeQ(cC);break;case 'touchend':jB.afa&&jB.afa(cC);break;case 'doubleTap':jB.afp&&jB.afp(cC);break;}};this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.add_mouseDown=function(V){bu.addHandler('mouseDown',V);};this.remove_mouseDown=function(V){bu.removeHandler('mouseDown',V);};this.add_mouseMove=function(V){bu.addHandler('mouseMove',V);};this.remove_mouseMove=function(V){bu.removeHandler('mouseMove',V);};this.add_mouseUp=function(V){bu.addHandler('mouseUp',V);};this.remove_mouseUp=function(V){bu.removeHandler('mouseUp',V);};this.add_contextMenu=function(V){bu.addHandler('contextMenu',V);};this.remove_contextMenu=function(V){bu.removeHandler('contextMenu',V);};this.aom=function(V){bu.addHandler('contextMenuCommand',V);};this.aHn=function(V){bu.removeHandler('contextMenuCommand',V);};this.add_mouseWheel=function(V){bu.addHandler('mouseWheel',V);};this.remove_mouseWheel=function(V){bu.removeHandler('mouseWheel',V);};this.add_mouseOut=function(V){bu.addHandler('mouseOut',V);};this.remove_mouseOut=function(V){bu.removeHandler('mouseOut',V);};this.apl=function(V){bu.addHandler('resize',V);};this.aGc=function(V){bu.removeHandler('resize',V);};this.apn=function(V){bu.addHandler('userModifiedViewState',V);};this.aGk=function(V){bu.removeHandler('userModifiedViewState',V);};this.add_scaleChanged=function(V){bu.addHandler('scaleChanged',V);};this.remove_scaleChanged=function(V){bu.removeHandler('scaleChanged',V);};this.add_markAdded=function(V){bu.addHandler('markAdded',V);};this.remove_markAdded=function(V){bu.removeHandler('markAdded',V);};this.add_markCreating=function(V){bu.addHandler('markCreating',V);};this.remove_markCreating=function(V){bu.removeHandler('markCreating',V);};this.add_markChanged=function(V){bu.addHandler('markChanged',V);};this.remove_markChanged=function(V){bu.removeHandler('markChanged',V);};this.add_inProgressMarkChanged=function(V){bu.addHandler('inProgressMarkChanged',V);};this.remove_inProgressMarkChanged=function(V){bu.removeHandler('inProgressMarkChanged',V);};this.add_markRemoved=function(V){bu.addHandler('markRemoved',V);};this.remove_markRemoved=function(V){bu.removeHandler('markRemoved',V);};this.add_markReordered=function(V){bu.addHandler('markReordered',V);};this.remove_markReordered=function(V){bu.removeHandler('markReordered',V);};this.add_marksLoaded=function(V){bu.addHandler('marksLoaded',V);};this.remove_marksLoaded=function(V){bu.removeHandler('marksLoaded',V);};this.add_marksSaved=function(V){bu.addHandler('marksSaved',V);};this.remove_marksSaved=function(V){bu.removeHandler('marksSaved',V);};this.add_markSelectionChanged=function(V){bu.addHandler('markSelectionChanged',V);};this.remove_markSelectionChanged=function(V){bu.removeHandler('markSelectionChanged',V);};this.add_markTextSelectionChanged=function(V){bu.addHandler('markTextSelectionChanged',V);};this.remove_markTextSelectionChanged=function(V){bu.removeHandler('markTextSelectionChanged',V);};this.add_pageOpenFailed=function(V){bu.addHandler('pageOpenFailed',V);};this.add_pageDisplayed=function(V){bu.addHandler('pageDisplayed',V);};this.remove_pageOpenFailed=function(V){bu.removeHandler('pageOpenFailed',V);};this.add_textPageReady=function(V){bu.addHandler('textPageReady',V);};this.remove_textPageReady=function(V){bu.removeHandler('textPageReady',V);};this.add_selectTextMouseToolCompleted=function(V){bu.addHandler('selectTextMouseToolCompleted',V);};this.remove_selectTextMouseToolCompleted=function(V){bu.removeHandler('selectTextMouseToolCompleted',V);};this.add_exceptionThrown=function(V){bu.dq('exceptionThrown',V);};this.remove_exceptionThrown=function(V){bu.df('exceptionThrown',V);};this.add_textExtractionFailed=function(V){bu.dq('textExtractionFailed',V);};this.remove_textExtractionFailed=function(V){bu.df('textExtractionFailed',V);};this.bX=function(cU,yj){var V=bu.getHandler("propertyChanged");if(V){V(this,new IPCC.nA(cU,yj));}};this.mG=function(){var _parent=document.getElementById(zG);return _parent;};this.bM=function(){return bJ;};this.aIn=function(){return bu;};function CB(aN,T){GA=true;T.pageIndex=bA.aP;bA.bz('markAdded',T);bA.gO('lL',T);};function Bq(aN,T){GA=true;T.pageIndex=bA.aP;bA.bz('markChanged',T);bA.gO('mV',T);};function ako(aN,T){T=new IPCC.Web.UI.MarkEventArgs();T.mark=pl;T.pageIndex=bA.aP;bA.bz('inProgressMarkChanged',T);bA.gO('_onInProgressMarkChanged',T);};function Ci(aN,T){GA=true;T.pageIndex=bA.aP;bA.bz('markRemoved',T);bA.gO('CE',T);};function avn(aN,T){bA.bz('textPageReady',T);};function aww(aN,T){bA.bz('textExtractionFailed',T);};function BW(aN,T){GA=true;T.pageIndex=bA.aP;bA.bz('markReordered',T);bA.gO('aiu',T);};function Gz(aN,T){T.pageIndex=bA.aP;bA.bz('marksLoaded',T);bA.gO('ajD',T);};function BQ(aN,T){T.pageIndex=bA.aP;bA.bz('markSelectionChanged',T);bA.gO('DI',T);};function aiB(aN,T){T.pageIndex=bA.aP;bA.bz('markTextSelectionChanged',T);};this.aBo=function(aN,T){this.gO('_onTextMarkEditCompleted',T);};function BJ(aN,T){T.pageIndex=bA.aP;bA.bz('propertyChanged',T);};this.mO=function(L){if(L===aB){return;}if(aB){aB.remove_markAdded(CB);aB.remove_markChanged(Bq);aB.remove_markRemoved(Ci);aB.remove_markReordered(BW);aB.remove_marksLoaded(Gz);aB.remove_markSelectionChanged(BQ);aB.mB(BJ);aB.Dv(true);}aB=L;if(aB){aB.add_markAdded(CB);aB.add_markChanged(Bq);aB.add_markRemoved(Ci);aB.add_markReordered(BW);aB.add_marksLoaded(Gz);aB.add_markSelectionChanged(BQ);aB.add_markTextSelectionChanged(aiB);aB.lo(BJ);}this.bX('artPage');};this.eN=function(){return aB;};this.Kf=function(L){if(L===er){return;}if(er){er.remove_markAdded(CB);er.remove_markChanged(Bq);er.remove_markRemoved(Ci);er.remove_markReordered(BW);er.remove_marksLoaded(Gz);er.remove_markSelectionChanged(BQ);er.mB(BJ);er.Dv(true);}er=L;if(er){er.add_markAdded(CB);er.add_markChanged(Bq);er.add_markRemoved(Ci);er.add_markReordered(BW);er.add_marksLoaded(Gz);er.add_markSelectionChanged(BQ);er.add_markTextSelectionChanged(aiB);er.lo(BJ);}this.bX('documentArtPage');};this.Qf=function(){return er;};this.lY=function(){return hs;};this.Da=function(L){if(L===hs){return;}if(hs){hs.remove_markAdded(CB);hs.remove_markChanged(Bq);hs.remove_markRemoved(Ci);hs.remove_markReordered(BW);hs.remove_marksLoaded(Gz);hs.remove_markSelectionChanged(BQ);hs.mB(BJ);}hs=L;if(hs){hs.add_markAdded(CB);hs.add_markChanged(Bq);hs.add_markRemoved(Ci);hs.add_markReordered(BW);hs.add_marksLoaded(Gz);hs.add_markSelectionChanged(BQ);hs.lo(BJ);}this.bX('transientArtPage');};var hd;this.EN=function(){if(!hd){if(IPCC.Web.UI.Mark){hd=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);hd.set_opacity(100);hd.set_fillColor('#3366CC');hd.set_fillVisible(true);}}return hd;};this.UW=function(L){amT=L;this.bX('artServiceOption');};this.Xs=function(){return amT;};this.oD=function(J,ov){if(pl===J){return;}if(pl){pl.remove_propertyChanged(ako);}if(J&& !pl){var T=new IPCC.Web.UI.MarkEventArgs();T.mark=ov?ov:J;T.pageIndex=this.aP;this.bz('markCreating',T);}pl=J;if(pl){pl.add_propertyChanged(ako);}this.bX('inProgressMark');};this.azP=function(){return pl;};this.Ar=function(L){if(L===bo){return;}bo=L;this.yB=false;bJ.oO();this.bX('image');};this.cP=function(){return bo;};this.aeP=function(L){if(L===Iw){return;}Iw=L;this.bX('Iw');};this.aiq=function(){return Iw;};this.IB=function(){var wr=this.IZ();var adb=this.Ik(wr);var aoS=adb.value;setTimeout(function(){adb.setSelectionRange(0,aoS.length);},1);};this.wy=function(J){this.qY(false);jB.ayT(J);xw=true;wr=J;this.bX('xw');};this.agl=function(am,dF){if(this.jV()&&this.cn().oj()===true){var ga=this.cn().fX();var H=am;for(;H<am+dF;H++){var eZ=ga.kQ(H);var vi='#3366CC';var FO='#3366CC';hs.Uv(eZ.bq,FO,vi,false,H);}}};this.aHd=function(aH){var H;try{var ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!hd){hd=bA.EN();}for(H in hd){if(hd.hasOwnProperty(H)){ab[H]=hd[H];}}ab.set_rectangle({x:aH.x,y:aH.y,width:aH.width,height:aH.height});bA.oD(ab);hs.addMark(ab);return ab;}catch(aEd){var aDg=aEd.message;window.console.log(aDg);}};this.IG=function(dn){var xY;var ga;var Uf;xY=bA.cn();ga=bA.cn().fX();function ate(Vy){var rQ=Vy.sD();if((dn.x>=rQ.x-10&&dn.x<=rQ.x+rQ.width+1)&&(dn.y>=rQ.y-1&&dn.y<=rQ.y+rQ.height+1)){return true;}rQ=undefined;};if(!Uf){for(var H=0;H<ga.fE();H++){if(ate(ga.kQ(H))){Uf=H;break;}}}return Uf;};this.aAQ=false;this.zt=function(cA){if(cA===undefined){return;}if(bA.jV()&&bA.cn().oj()===true){var Hj=bA.cn().fX().fE();IPCC.bi.mD(cA,'textIndex',0,Hj);bA.bM().zt(cA);bA.lY().Fw(function(J){if(J.vv!==true&&J.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bA.lY().ue(J);}});if(bA.yq()===true){bA.cV();}}};this.Zy=function(){var Dj=bA.bM().get_transientHighlightMarks();while(Dj.length>0){bA.lY().removeMark(Dj.pop());}};this.Mt=function(uB,dF){if(bA.jV()&&bA.cn().oj()===true){var H=uB;var ga=this.cn().fX();var ct=uB+dF;if(!hd){hd=bA.EN();}var Dj=bA.bM().get_transientHighlightMarks();for(;H<ct;H++){var eZ=ga.kQ(H);Dj.push(hs.aEq(eZ.bq,hd,H));}}};this.aIz=function(aEU,dF){var bJ=bA.bM();for(var aU=dF-1;aU>dF;aU--){var bP=bJ.iH[aU];hs.removeMark(bP.J);}};this.vx=function(cA){if(cA===undefined){return;}var eZ;var bJ=bA.bM();var gU=bJ.BY();var vi='#3366CC';var FO='#3366CC';var cY=100;if(!hd){hd=bA.EN();}cY=hd.get_opacity();if(!cY){cY=100;}vi=hd.get_fillColor();if(vi===undefined){vi='#3366CC';}var ga=bA.cn().fX();if(gU===undefined){eZ=ga.kQ(cA);var J=hs.Uv(eZ.bq,FO,vi,false,cY,cA);bJ.vx(cA,J,eZ.kB);return;}var aU;function ahT(ba,aqU){for(aU=bJ.iH.length-1;aU>=0;aU--){var bP=bJ.iH[aU];if(bP.cA===ba){bJ.iH.splice(aU,1);hs.removeMark(bP.J);bJ.aCZ(aqU);bJ.aDf(ba);return aU;}}return-1;};function Nx(ba){eZ=ga.kQ(ba);var amR=hs.Uv(eZ.bq,FO,vi,false,cY,ba);if(bJ.vx(ba,amR,eZ.kB)===false){hs.removeMark(amR);}};var KW=bJ.aiL();var H;if(cA>gU){for(H=gU;H<=cA;H++){if(H===cA){if(H<KW){continue;}Nx(H);}else if(H>=KW){if(H===gU){continue;}Nx(H);}else{ahT(H,cA);}}}else if(cA<gU){for(H=gU;H>=cA;H--){if(H===cA){if(H>=KW){continue;}Nx(H);}else if(H<KW){if(H===gU){continue;}Nx(H);}else{ahT(H,cA);}}}};this.EE=function(){var aeZ="";try{var bJ=bA.bM();if(bA.bM().IW()){var atH=bA.cn().fX();if(bJ.iH.length>0){var BA=[];for(var H=0;H<bJ.iH.length;H++){BA.push(bJ.iH[H].cA);}if(BA[0]>BA[1]){BA.reverse();}for(H=0;H<BA.length;H++){aeZ+=atH.kQ(BA[H]).ayg();}}}return aeZ;}catch(e){window.console.log(e.message);}};this.qY=function(ayr){if(xw){if(ayr){jB.axU();}xw=false;wr=null;this.aBo();this.bX('xw');bA.cV();}};this.ajE=function(){return xw;};this.IZ=function(){return wr;};this.Ev=function(){var wr=this.IZ();if(!wr){return null;}var XB=wr.hS();if(XB===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(XB===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(XB===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.aef=function(L){acW=L;};this.Wb=function(){return acW;};this.Vr=function(L){AZ=L;};this.axA=function(){return AZ;};this.adJ=function(L){if(L===wp){return;}wp=L;this.bX('wp');};this.XE=function(){return wp;};this.Dv=function(L){if(aB){aB.Dv(L);}};this.OE=function(){if(aB){return aB.OE();}return true;};this.aAU=function(aIk){var aQ=jB.aqO(this.mG());this.aBm(aQ);};this.aBm=function(L){if(L===aQ){return;}aQ=L;this.bX('windowSpace');};this.dS=function(){return aQ;};this.cV=function(){jB.cV(bo,bJ,aQ);};this.Kj=function(){if(this.pf()===false){var kl=bJ.fb();var R=this;var mr=kl.qG(bo);var ci=R.mG();var di=ci.igElements;var aL=di.qu;var Jl=Math.max(0,-mr.x);var JL=Math.max(0,-mr.y);var mE=Math.max(0,mr.x);var mj=Math.max(0,mr.y);var fA=bJ.fb();fA.mN(Jl-mE,JL-mj);jB.ame(aL,aQ,kl,fA);}};this.Ju=function(L){sY=L;};this.tP=function(){return sY;};this.cn=function(){return jo.cn();};var lu=0;this.pq=function(){return jo;};this.EF=function(L){if(L===this.pq()){return;}jo=L;if(jo){jo.zd(avn);jo.yg(aww);}};this.jV=function(){return rC;};this.IP=function(L){rC=L;this.bX('textRequired');};this.xt=function(){return tp;};this.Kd=function(L){if(tp===L){return;}tp=L;this.bX('requireRequestsOptimize');};this.yq=function(){return ajJ;};this.Va=function(L){ajJ=L;this.bX('autoUpdate');};var pK=false;this.oP=function(){return pK;};this.qO=function(L){if(typeof L!=="boolean"){return;}if(L===pK){return;}pK=L;if(aB){var aew=false;aB.forEachMark(function(J){if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aew=true;}});if(aew===true){aB.qO(pK);}}};this.lk=function(){return lu;};this.vw=function(L){if(lu===L){return;}if(isNaN(L)){return;}lu=L;this.bX('serviceResponseTimeout');};var nH='';this.WC=function(dZ,aG){if(dZ!==''){dZ='/'+dZ;}aG=aG||'';if(aG===null||aG===''){if(dZ==='/Attributes'){if(/^[\x00-\x7F]*$/.test(bo.get_identifier())){return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=u'+encodeURIComponent(bo.get_identifier());}else{return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=e'+bo.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(bo.get_identifier())){return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=u'+encodeURIComponent(bo.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=e'+bo.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(bo.get_identifier())){return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=u'+encodeURIComponent(bo.get_identifier())+'&'+aG;}else{return nH+'/Page/q/'+bo.aP.toString()+dZ+'?DocumentID=e'+bo.get_encodedIdentifier()+'&'+aG;}}};this.aAs=function(dZ,aG){dZ=dZ||'Art';aG=aG||'';if(aG===null||aG===''){if(dZ==='Art'){return nH+'/Page/q/'+bo.aP.toString()+'/'+dZ+'?DocumentID=e'+bo.get_encodedIdentifier();}}else{return nH+'/Page/q/'+bo.aP.toString()+'/'+dZ+'?DocumentID=e'+bo.get_encodedIdentifier()+'&'+aG;}};this.WI=function(DA){if(GA===false){if(DA){DA();}return;}IPCC.F.mL.dY({method:'POST',url:this.aAs('Art'),headers:{'Content-Type':'application/json'},body:aB.saveToJson()}).then(function(){if(DA){DA();}});};this.ve=function(){return nH;};this.VV=function(L){nH=L;this.bX('imageHandlerUrl');};this.pf=function(){return apa;};this.Pg=function(L){apa=L;};this.aAP=function(){return anU;};this.afI=function(L){anU=L;};this.nN=function(){return vz;};this.uc=function(L){vz=L;vz.tabIndex= -1;};this.iO=function(){return oG;};this.nq=function(L){if(typeof L!=="boolean"){return;}if(L===oG){return;}oG=L;};this.ayM=function(T){if(xw){this.qY(true);}else{this.bz('mouseDown',T);this.gO('kw',T);}};this.ayx=function(T){this.bz('mouseMove',T);this.gO('kU',T);};this.aCf=function(T){this.bz('mouseUp',T);this.gO('kn',T);};this.aBC=function(T){this.bz('mouseWheel',T);this.gO('na',T);};this.axg=function(T){this.bz('mouseDoubleClick',T);this.gO('BZ',T);};this.axD=function(T){this.bz('contextMenu',T);this.gO('Ts',T);};this.ayL=function(T){this.bz('contextMenuCommand',T);};this.aCL=function(T){this.bz('mouseOut',T);this.gO('ow',T);};this.aBf=function(T){this.bz('touchStart',T);this.gO('kw',T);};this.aCH=function(T){this.bz('touchMove',T);this.gO('kU',T);};this.aBx=function(T){this.bz('touchEnd',T);this.gO('kn',T);};this.aCG=function(T){this.bz('touchCancel',T);this.gO('KD',T);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(bA,T);}};var ahE=function(R,nY){bJ=new IPCC.abM();function AM(aN,T){bA.bz('propertyChanged',T);};bJ.lo(AM);jB=new IPCC.fq(R,nY);if(IPCC.cj){jB.sj=new IPCC.cj.cg(R);jB.apt=new IPCC.cj.cg(R);}};if(nY===false){ahE(this,false);}else{ahE(this,true);}return this;};module.exports=aak;},{}],60:[function(require,module,exports){var abM=function(){var qq=0;var sx=1;var lG=1;var AI=false;var cd=new IPCC.eO();var CG=false;var vd;var rN;var LZ=false;var Et=new IPCC.Bk(200,150,96,96);var tF={x:0,y:0};var LT=3;var Lg=0,LD=0;var gl=0.2;var rJ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var EH=new IPCC.eO();var HE=0;var JD=0;var Cq=false;var XF;this.iH=[];var UF=IPCC.Web.UI.ScrollBars.Auto;var Dj=[];this.get_transientHighlightMarks=function(){return Dj;};this.get_scrollBars=function(){return UF;};this.get_overflow=function(){switch(UF){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(L){UF=L;this.bX('scrollBars');};var bu=new IPCC.Web.UI.gZ();this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};var onSelectionChanged=function(bJ){var T={};T.selectionIsVisible=CG;T.selectionRectangle=bJ.yC();bJ.bX('selection');};this.oO=function(){vd={x:0,y:0};rN={x:0,y:0};if(!CG){return;}CG=false;onSelectionChanged(this);};this.showSelection=function(dh){vd.x=dh.x;vd.y=dh.y;rN.x=dh.x+dh.width;rN.y=dh.y+dh.height;CG=true;onSelectionChanged(this);};this.Ew=function(dn){vd.x=dn.x;vd.y=dn.y;rN.x=dn.x;rN.y=dn.y;CG=true;onSelectionChanged(this);};this.zI=function(dn){rN.x=dn.x;rN.y=dn.y;onSelectionChanged(this);};this.xg=function(){return CG;};this.yC=function(){var h=new IPCC.Web.UI.Rectangle(Math.min(vd.x,rN.x),Math.min(vd.y,rN.y),0,0);h.width=Math.max(vd.x,rN.x)-h.x;h.height=Math.max(vd.y,rN.y)-h.y;return h;};var Jt=function(){if(!LZ){EH.aCW();return;}EH.RW(cd);EH.mN(-tF.x,-tF.y);EH.scale(LT,LT);EH.mN(Et.width/2,Et.height/2);};this.hideMagnifier=function(){LZ=false;Jt();this.bX('magnifierIsVisible');};this.showMagnifier=function(dG){tF.x=dG.x;tF.y=dG.y;LZ=true;Jt();this.bX('magnifierWindowPosition');this.bX('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return LZ;};this.get_magnifierWindowPosition=function(){return{x:tF.x,y:tF.y};};this.get_magnifierMagnification=function(){return LT;};this.set_magnifierMagnification=function(L){LT=L;Jt();this.bX('magnifierMagnification');};this.QD=function(){return Lg;};this.UN=function(L){Lg=L;this.bX('magnifierXOffset');};this.QW=function(){return LD;};this.VF=function(L){LD=L;this.bX('magnifierYOffset');};this.vb=function(){return{width:Et.width,height:Et.height};};this.set_magnifierWindowSize=function(newMagnifierSize){Et.width=newMagnifierSize.width;Et.height=newMagnifierSize.height;Jt();this.bX('magnifierWindowSize');};this.azG=function(){return EH.clone();};this.fb=function(){return cd.clone();};this.XL=function(){return gl;};this.Wd=function(L){gl=L;this.bX('markHandleSize');};this.zj=function(){return rJ;};this.IJ=function(L){rJ=L;this.bX('markHandleMode');};this.iE=function(L){if(L===cd||L.atk(cd)){return;}if(!L.ain()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cd.RW(L);Jt();this.bX('displayedPageRectangle');};var ada='0';this.get_presentationQuality=function(){return ada;};this.set_presentationQuality=function(L){ada=L;this.bX('presentationQuality');};this.ayy=function(){return sx;};this.Ed=function(L){sx=L;};this.ayZ=function(){return qq;};this.ED=function(L){qq=L;};this.ayz=function(){return lG;};this.DJ=function(L){if(L!==lG){AI=true;}lG=L;};this.aGG=function(L){AI=L;};this.ajs=function(){return AI;};var SH=IPCC.ax.Default;this.aIF=function(){return SH;};this.aBI=function(L){if(SH!==L){SH=L;this.bX('markCursor');}};this.zt=function(cA){HE=cA;Cq=false;JD=0;};this.Mt=function(uB,dF){if(uB!==HE){HE=uB;}JD=dF;Cq=true;};this.Zb=function(){if(Cq===true){for(var H=0;H<this.iH.length;H++){this.iH[H].J.set_visible(false);}Cq=false;}};this.IW=function(){return Cq;};this.vx=function(cA,J,kB){XF=cA;if(cA!==undefined){if(this.iH.length>0&&this.iH[this.iH.length-1].cA===cA){return false;}this.iH.push({cA:cA,J:J,kB:kB});Cq=true;JD++;}else{this.iH=[];JD=0;}return true;};this.BY=function(){return XF;};this.aCZ=function(L){if(L===undefined){return;}XF=L;};var amy;this.aHN=function(){return amy;};this.aDf=function(L){if(L===undefined){return;}amy=L;};this.aiL=function(){return HE;};this.aIg=function(){return HE+JD;};this.Bb=function(){return this.iH.length;};this.oO();this.hideMagnifier();return this;};module.exports=abM;},{}],61:[function(require,module,exports){var zw={};zw.aku=function(an){if(!this.DM[0][0][0]){this.Sm();}var H,aU,fh,Ih,Xn,kq=this.DM[0][4],ud=this.DM[1],rW=an.length,NY=1;if(rW!==4&&rW!==6&&rW!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.an=[Ih=an.slice(0),Xn=[]];for(H=rW;H<4*rW+28;H++){fh=Ih[H-1];if(H%rW===0||(rW===8&&H%rW===4)){fh=kq[fh>>>24]<<24^kq[fh>>16&255]<<16^kq[fh>>8&255]<<8^kq[fh&255];if(H%rW===0){fh=fh<<8^fh>>>24^NY<<24;NY=NY<<1^(NY>>7)*283;}}Ih[H]=Ih[H-rW]^fh;}for(aU=0;H;aU++,H--){fh=Ih[aU&3?H:H-4];if(H<=4||aU<4){Xn[aU]=fh;}else{Xn[aU]=ud[0][kq[fh>>>24]]^ud[1][kq[fh>>16&255]]^ud[2][kq[fh>>8&255]]^ud[3][kq[fh&255]];}}};zw.aku.prototype={Wo:function(dI){return this.aqB(dI,1);},DM:[[[],[],[],[],[]],[[],[],[],[],[]]],Sm:function(){var Rz=this.DM[0],ud=this.DM[1],kq=Rz[4],axs=ud[4],H,bB,xI,fr=[],acl=[],Tn,aeA,afh,jF,QU,Om;for(H=0;H<256;H++){acl[(fr[H]=H<<1^(H>>7)*283)^H]=H;}for(bB=xI=0;!kq[bB];bB^=Tn||1,xI=acl[xI]||1){jF=xI^xI<<1^xI<<2^xI<<3^xI<<4;jF=jF>>8^jF&255^99;kq[bB]=jF;axs[jF]=bB;afh=fr[aeA=fr[Tn=fr[bB]]];Om=afh*0x1010101^aeA*0x10001^Tn*0x101^bB*0x1010100;QU=fr[jF]*0x101^jF*0x1010100;for(H=0;H<4;H++){Rz[H][bB]=QU=QU<<24^QU>>>8;ud[H][jF]=Om=Om<<24^Om>>>8;}}for(H=0;H<5;H++){Rz[H]=Rz[H].slice(0);ud[H]=ud[H].slice(0);}},aqB:function(qt,JY){if(qt.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var an=this.an[JY],cE=qt[0]^an[0],eT=qt[JY?3:1]^an[1],eK=qt[2]^an[2],fr=qt[JY?1:3]^an[3],uV,alm,aks,aqt=an.length/4-2,H,Dn=4,dW=[0,0,0,0],Kw=this.DM[JY],KK=Kw[0],Ll=Kw[1],Oo=Kw[2],MH=Kw[3],kq=Kw[4];for(H=0;H<aqt;H++){uV=KK[cE>>>24]^Ll[eT>>16&255]^Oo[eK>>8&255]^MH[fr&255]^an[Dn];alm=KK[eT>>>24]^Ll[eK>>16&255]^Oo[fr>>8&255]^MH[cE&255]^an[Dn+1];aks=KK[eK>>>24]^Ll[fr>>16&255]^Oo[cE>>8&255]^MH[eT&255]^an[Dn+2];fr=KK[fr>>>24]^Ll[cE>>16&255]^Oo[eT>>8&255]^MH[eK&255]^an[Dn+3];Dn+=4;cE=uV;eT=alm;eK=aks;}for(H=0;H<4;H++){dW[JY?3& -H:H]=kq[cE>>>24]<<24^kq[eT>>16&255]<<16^kq[eK>>8&255]<<8^kq[fr&255]^an[Dn++];uV=cE;cE=eT;eT=eK;eK=fr;fr=uV;}return dW;}};module.exports=zw;},{}],62:[function(require,module,exports){var gT={};gT.Ii={lW:function(co){var dW="",qp=IPCC.Web.hj.tY(co),H,fh;for(H=0;H<qp/8;H++){if((H&3)===0){fh=co[H/4];}dW+=String.fromCharCode(fh>>>24);fh<<=8;}return decodeURIComponent(escape(dW));},tN:function(bW){bW=unescape(encodeURIComponent(bW));var dW=[],H,fh=0;for(H=0;H<bW.length;H++){fh=fh<<8|bW.charCodeAt(H);if((H&3)===3){dW.push(fh);fh=0;}}if(H&3){dW.push(IPCC.Web.hj.Jx(8*(H&3),fh));}return dW;}};gT.sd={yr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lW:function(co,aqz,af){var dW="",H,es=0,eK=IPCC.Web.gT.sd.yr,wD=0,qp=IPCC.Web.hj.tY(co);if(af){eK=eK.substr(0,62)+'-_';}for(H=0;dW.length*6<qp;){dW+=eK.charAt((wD^co[H]>>>es)>>>26);if(es<6){wD=co[H]<<(6-es);es+=26;H++;}else{wD<<=6;es-=6;}}while((dW.length&3)&& !aqz){dW+="=";}return dW;},tN:function(bW,af){bW=bW.replace(/\s|=/g,'');var dW=[],H,es=0,eK=IPCC.Web.gT.sd.yr,wD=0,bB;if(af){eK=eK.substr(0,62)+'-_';}for(H=0;H<bW.length;H++){bB=eK.indexOf(bW.charAt(H));if(bB<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(es>26){es-=26;dW.push(wD^bB>>>es);wD=bB<<(32-es);}else{es+=6;wD^=bB<<(32-es);}}if(es&56){dW.push(IPCC.Web.hj.Jx(es&56,wD,1));}return dW;}};gT.Jd={lW:function(co){return IPCC.Web.gT.sd.lW(co,1,1);},tN:function(bW){return IPCC.Web.gT.sd.tN(bW,1);}};module.exports=gT;},{}],63:[function(require,module,exports){var pg={};pg.VS=function(pg){if(!this.an[0]){this.Sm();}if(pg){this.dV=pg.dV.slice(0);this.xN=pg.xN.slice(0);this.dF=pg.dF;}else{this.adG();}};pg.VS.pg=function(dI){return(new IPCC.Web.pg.VS()).avW(dI).aGa();};pg.VS.prototype={aHM:512,adG:function(){this.dV=this.ahR.slice(0);this.xN=[];this.dF=0;return this;},avW:function(dI){if(typeof dI==="string"){dI=IPCC.Web.Codec.Ii.tN(dI);}var H,eT=this.xN=IPCC.Web.hj.ZN(this.xN,dI),alS=this.dF,aqJ=this.dF=alS+IPCC.Web.hj.tY(dI);for(H=512+alS& -512;H<=aqJ;H+=512){this.nV(eT.splice(0,16));}return this;},aGa:function(){var H,eT=this.xN,dV=this.dV;eT=IPCC.Web.hj.ZN(eT,[IPCC.Web.hj.Jx(1,1)]);for(H=eT.length+2;H&15;H++){eT.push(0);}eT.push(Math.floor(this.dF/0x100000000));eT.push(this.dF|0);while(eT.length){this.nV(eT.splice(0,16));}this.adG();return dV;},ahR:[],an:[],Sm:function(){var H=0,Hw=2,ag;function aly(bB){return(bB-Math.floor(bB))*0x100000000|0;};arV:for(;H<64;Hw++){for(ag=2;ag*ag<=Hw;ag++){if(Hw%ag===0){continue arV;}}if(H<8){this.ahR[H]=aly(Math.pow(Hw,1/2));}this.an[H]=aly(Math.pow(Hw,1/3));H++;}},nV:function(asi){var H,fh,cE,eT,kN=asi.slice(0),dV=this.dV,dH=this.an,aaZ=dV[0],sC=dV[1],Fx=dV[2],PY=dV[3],tc=dV[4],Qo=dV[5],Hc=dV[6],abf=dV[7];for(H=0;H<64;H++){if(H<16){fh=kN[H];}else{cE=kN[(H+1)&15];eT=kN[(H+14)&15];fh=kN[H&15]=((cE>>>7^cE>>>18^cE>>>3^cE<<25^cE<<14)+(eT>>>17^eT>>>19^eT>>>10^eT<<15^eT<<13)+kN[H&15]+kN[(H+9)&15])|0;}fh=(fh+abf+(tc>>>6^tc>>>11^tc>>>25^tc<<26^tc<<21^tc<<7)+(Hc^tc&(Qo^Hc))+dH[H]);abf=Hc;Hc=Qo;Qo=tc;tc=PY+fh|0;PY=Fx;Fx=sC;sC=aaZ;aaZ=(fh+((sC&Fx)^(PY&(sC^Fx)))+(sC>>>2^sC>>>13^sC>>>22^sC<<30^sC<<19^sC<<10))|0;}dV[0]=dV[0]+aaZ|0;dV[1]=dV[1]+sC|0;dV[2]=dV[2]+Fx|0;dV[3]=dV[3]+PY|0;dV[4]=dV[4]+tc|0;dV[5]=dV[5]+Qo|0;dV[6]=dV[6]+Hc|0;dV[7]=dV[7]+abf|0;}};module.exports=pg;},{}],64:[function(require,module,exports){var BG={};BG.aqu={bh:"cbc",agI:function(MR,Tf,hI,xS){if(xS&&xS.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hj.tY(hI)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var H,kN=IPCC.Web.hj,KN=kN.aeH,qp=kN.tY(Tf),ala=0,pW=[];if(qp&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(H=0;ala+128<=qp;H+=4,ala+=128){hI=MR.agI(KN(hI,Tf.slice(H,H+4)));pW.splice(H,0,hI[0],hI[1],hI[2],hI[3]);}qp=(16-((qp>>3)&15))*0x1010101;hI=MR.agI(KN(hI,kN.ZN(Tf,[qp,qp,qp,qp]).slice(H,H+4)));pW.splice(H,0,hI[0],hI[1],hI[2],hI[3]);return pW;},Wo:function(MR,NR,hI,xS){if(xS&&xS.length){throw new IPCC.Web.UI.ImGearArgumentException(xS,"cbc can't authenticate data");}if(IPCC.Web.hj.tY(hI)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hj.tY(NR)&127)|| !NR.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var H,kN=IPCC.Web.hj,KN=kN.aeH,rH,rs,pW=[];xS=xS||[];for(H=0;H<NR.length;H+=4){rH=NR.slice(H,H+4);rs=KN(hI,MR.Wo(rH));pW.splice(H,0,rs[0],rs[1],rs[2],rs[3]);hI=rH;}rH=pW[H-1]&255;if(rH===0||rH>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}rs=rH*0x1010101;if(!kN.aBT(kN.XA([rs,rs,rs,rs],0,rH*8),kN.XA(pW,pW.length*32-rH*8,pW.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kN.XA(pW,0,pW.length*32-rH*8);}};module.exports=BG;},{}],65:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var OK=function(){var bD=[];var bu=new IPCC.Web.UI.gZ();var eC=new IPCC.Web.UI.MarkCollection();var K=this;var HS=true;this.aBp=[];function onMarkSelectionChanged(aN,T){var J=T.mark;if(J.al&&J.al[0]&&J.al[0].cz===false){return;}var eI;var ayk=T.mark.get_selected();if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap!==undefined){eC.remove_markAdded(onMarkSelectionChanged);eC.remove_markRemoved(onMarkSelectionChanged);for(var H=0;H<bD.length;H++){if(bD[H].ap===J.ap){if(bD[H].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eI=bD[H];}else{bD[H].set_selected(T.mark.get_selected());}}}eC.add_markAdded(onMarkSelectionChanged);eC.add_markRemoved(onMarkSelectionChanged);if(eI){eI.set_selected(ayk);}return;}else if(J.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eC.remove_markAdded(onMarkSelectionChanged);eC.remove_markRemoved(onMarkSelectionChanged);for(var bH=0;bH<J.al.length;bH++){J.al[bH].set_selected(T.mark.get_selected());}eC.add_markAdded(onMarkSelectionChanged);eC.add_markRemoved(onMarkSelectionChanged);}var ff=new IPCC.Web.UI.MarkEventArgs();ff.mark=J;ff.zIndex=K.os(J);ff.length=1;K.bz('markSelectionChanged',ff);};eC.add_markAdded(onMarkSelectionChanged);eC.add_markRemoved(onMarkSelectionChanged);var awl=eC.addMark;eC.addMark=function(J){if(K.os(J)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eC.contains(J)){awl.call(eC,J);J.bX('selected');}};var awC=eC.addMarks;eC.addMarks=function(AO){var nD=[];function QV(J){if(K.os(J)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eC.contains(J)){nD.push(J);}};AO.forEach(QV,{});awC.call(eC,AO);var H;for(H=0;H<nD.length;H++){nD[H].bX('selected');}};var asI=eC.removeMark;eC.removeMark=function(J){if(eC.contains(J)){asI.call(eC,J);J.bX('selected');}};var arR=eC.removeAllMarks;eC.removeAllMarks=function(){var nD=[];function QV(J){if(eC.contains(J)){nD.push(J);}};eC.forEach(QV,{});arR.call(eC);var H;for(H=0;H<nD.length;H++){nD[H].bX('selected');}};function akT(lq){IPCC.bi.mD(lq,'zIndex',0,bD.length-1);};this.Wi=function(){return bD.length;};this.aiO=function(){var H=0;for(;H<bD.length;H++){if(bD[H].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bD[H].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bD[H].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bD[H].ap!==undefined)){break;}}return H;};this.yK=function(){return eC;};this.Dv=function(L){if(L===HS){return;}HS=L;this.bX('HS');};this.OE=function(){return HS;};var pK=false;this.oP=function(){return pK;};this.qO=function(L){if(typeof L!=="boolean"){return;}pK=L;this.bX('redactionDraftMode');};function mV(aN,T){if(T.get_propertyName()==='selected'){return;}var ff=new IPCC.Web.UI.MarkEventArgs();ff.mark=aN;ff.zIndex=K.os(aN);ff.propertyName=T.cU;ff.length=1;if(ff.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(ff.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ff.mark.ap!=='undefined')){K.ays(aN);}K.bz('markChanged',ff);};function xM(aN){var ff=new IPCC.Web.UI.MarkEventArgs();ff.mark=aN;ff.zIndex=K.os(aN);ff.length=1;K.bz('markTextSelectionChanged',ff);};function QM(aN,T){var ff=new IPCC.Web.UI.CommentEventArgs();ff.mark=aN;ff.comment=T.comment;ff.index=T.index;K.bz('commentAdded',ff);};function RQ(aN,T){var ff=new IPCC.Web.UI.CommentEventArgs();ff.mark=aN;ff.comment=T.comment;ff.index=T.index;K.bz('commentRemoved',ff);};function RX(aN,T){var ff=new IPCC.Web.UI.CommentEventArgs();ff.mark=aN;ff.comment=T.comment;ff.index=T.index;K.bz('commentChanged',ff);};this.NA=function(J,pw){pw=pw||{};var lq=this.os(J);if(lq>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(J.eN()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bD.push(J);J.mO(this);J.add_propertyChanged(mV);J.add_markTextSelectionChanged(xM);J.yv(QM);J.yu(RQ);J.rF(RX);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;if(J.get_type()===IPCC.Web.UI.MarkType.Highlight||J.get_type()===IPCC.Web.UI.MarkType.HighlightText||J.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||J.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||J.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap!==undefined)){this.acM(J,0);}else{T.zIndex=bD.length-1;}T.clientX=pw.clientX;T.clientY=pw.clientY;T.length=1;K.bz('markAdded',T);};this.Fw=function(iq,dk){var GX=[].concat(bD);var H;for(H=0;H<GX.length;H++){iq.call(dk,GX[H],H,this);}};this.Ni=function(lq){akT(lq);return bD[lq];};this.os=function(J){var H;for(H=0;H<bD.length;H++){if(bD[H]===J){return H;}}return-1;};this.axM=function(eb){var eW=JSON.parse(eb);this.YK();var JM=[];var H;var NI=eW.m;if(NI){for(H=0;H<NI.length;H++){var ab=new IPCC.Web.UI.Mark(NI[H].t);ab.axI(NI[H]);ab.mO(this);ab.add_propertyChanged(mV);ab.add_markTextSelectionChanged(xM);JM.push(ab);}}bD=JM;K.bz('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aqK=function(){var ks=new Array(36);var ba=0;var H;var aU;for(H=0;H<8;H++){ks[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(H=0;H<3;H++){ks[ba++]=45;for(aU=0;aU<4;aU++){ks[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}ks[ba++]=45;var aoz=new Date().getTime();var awH=("0000000"+aoz.toString(16).toUpperCase()).substr(-8);for(H=0;H<8;H++){ks[ba++]=awH.charCodeAt(H);}for(H=0;H<4;H++){ks[ba++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,ks);};function Tq(kD){var bB=kD.firstChild;while(bB.nodeType!==1){bB=bB.nextSibling;}return bB;};function PF(uy,akL,aDH){var aow=parseFloat(uy.getAttribute(akL));var aoY=parseFloat(uy.getAttribute(akL+'Uj'));return aDH/(aow/aoY);};function atm(Ng,bw,aV){if(bw<=0&&aV<=0){return 1;}var amb=Ng.getAttribute('pageWidth');var anh=Ng.getAttribute('pageHeight');var NL,SI,ag,uy,H;if(amb&&anh){NL=parseFloat(amb);SI=parseFloat(anh);if(isFinite(NL)&&isFinite(SI)&&NL>0&&SI>0){return bw/NL;}}for(H=0;H<Ng.childNodes.length;H++){uy=Ng.childNodes[H];if(uy.nodeName!=='annotation'){continue;}ag=PF(uy,'width',bw);if(isFinite(ag)&&ag>0){return ag;}ag=PF(uy,'height',aV);if(isFinite(ag)&&ag>0){return ag;}ag=PF(uy,'x',bw);if(isFinite(ag)&&ag>0){return ag;}ag=PF(uy,'y',aV);if(isFinite(ag)&&ag>0){return ag;}}return 1;};this.azT=function(lj,aj,bw,aV,aan,stampImages,yX,uu){var K=this;if(yX!==true){this.YK();}if(lj){var it;if(IPCC.uH.Ke()){it=lj.firstChild;}else{var Tc=lj.firstChild.nodeName;if(Tc.toLowerCase()==='xml'){it=lj.firstChild.nextSibling;}else{it=lj.firstChild;}}var dM=Tq(it);if(dM.nodeName!=='pages'){throw 'ERROR: pages';}if(dM.hasChildNodes()){var H;for(H=0;H<dM.childNodes.length;H++){var bb=dM.childNodes[H];if(bb.nodeName!=='page'){continue;}var Bh=bb.getAttribute('id');var ma=false;var uQ;var rc='';var Hs=[];var jE;var po,bH=0;var dp,cq,am;if(aan){var afb=bb.getAttribute('pageWidth'),aeS=bb.getAttribute('pageHeight');if(afb){aan.aeU(afb);}if(aeS){aan.aer(aeS);}}var oi=[],Ph={},al;if((Bh&&parseInt(Bh,10))===(aj+1)){ma=true;var JM=[];var aU;var ab;var kf,gb,qD,rO,tf,eD;var mQ=1;var alb=atm(bb,bw,aV);if(alb>0){mQ=alb;}for(aU=0;aU<bb.childNodes.length;aU++){var bL=bb.childNodes[aU];if(bL.nodeName!=='annotation'){continue;}var iM=parseFloat(bL.getAttribute('width'))*mQ;var hT=parseFloat(bL.getAttribute('height'))*mQ;var gX=parseFloat(bL.getAttribute('x'))*mQ;var ht=parseFloat(bL.getAttribute('y'))*mQ;var Zj=bL.getAttribute('fillColor'),Wf,qK,ZS=bL.getAttribute('lineColor'),akm,iu,abS=bL.getAttribute('fontColor'),ajR,Av;if(Zj==='transparent'){Wf=qK=Zj;}else{Wf=parseInt(Zj||0,10);qK=parseInt(Wf,10).toString(16);while(qK.length<6){qK='0'+qK;}qK='#'+qK;}if(ZS==='transparent'){iu=ZS;}else{akm=parseInt(ZS||0,10);iu=parseInt(akm,10).toString(16);while(iu.length<6){iu='0'+iu;}iu='#'+iu;}if(abS){ajR=parseInt(abS||0,10);Av=parseInt(ajR,10).toString(16);while(Av.length<6){Av='0'+Av;}Av='#'+Av;}var aoG=bL.getAttribute('stampSize');var LV=bL.getAttribute('dragDirection');var FP=parseInt(bL.getAttribute('opacity'),10);if(isNaN(FP)){FP=255;}if(bL.nodeName==='annotation'){var ajQ=bL.getAttribute('label');if(!ajQ){ajQ='';}var jY=bL.getAttribute('drawType');var kG;switch(jY){case 'imagestamp':case 'imagestamp_redact':var qN=bL.getAttribute('imageStampId');var bm=(jY==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;ab=new IPCC.Web.UI.Mark(bm);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_image(stampImages[qN].base64format);ab.qN=qN;kf=true;if(jY==='imagestamp_redact'){ab.jL(true);}break;case 'circle':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});kf=true;ab.set_lineColor(iu);ab.set_fillVisible(false);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});kf=true;ab.set_fillColor(qK);ab.set_lineColor(iu);ab.set_fillVisible(true);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));break;case 'text':case 'text_redact':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fontName('verdana');ab.set_fontSize(10);ab.set_opacity(0);uQ=undefined;ab.set_fillColor('#000000');if(jY==='text_redact'){ab.jL(true);}if(jY==='text'){ab.set_fillColor(qK);ab.set_lineColor(iu);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));ab.set_fillVisible(true);ab.set_opacity(FP);}eD=parseInt(bL.getAttribute('maxLength'));if(!isNaN(eD)){ab.set_maxLength(eD);}oi=[];gb=bL.firstChild;while((gb)&&(gb.nodeType!==4)){gb=gb.nextSibling;}if((gb)&&(gb.nodeType===4)){kG=gb.innerText||gb.textContent||gb.data;ab.aJ.aY=kG;po=kG.split("</TEXTFORMAT>");rc='';Hs=[];for(bH=0;bH<po.length;bH++){if(po[bH].match(/<TEXTFORMAT/)){po[bH]=po[bH]+"</TEXTFORMAT>";oi.push(po[bH]);}}for(bH=0;bH<oi.length;bH++){if(oi[bH].match(/<P/)){uQ=this.aje(oi[bH]);Hs.push(uQ);rc+=uQ+" ";if(bH===0){jE=this.aiI(oi[bH]);ajA(jE,ab);}}rc=rc.replace(/\s+$/g,"");ab.set_text(rc);var Ge=this.ajk(oi[bH]);switch(Ge){case 'CENTER':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bg=ab.qz();if(LV==='br'){bg.setPoint(1,new IPCC.Web.UI.Point(gX+iM,ht+hT));bg.setPoint(0,new IPCC.Web.UI.Point(gX,ht));}else if(LV==='bl'){bg.setPoint(1,new IPCC.Web.UI.Point(gX,ht+hT));bg.setPoint(0,new IPCC.Web.UI.Point(gX+iM,ht));}else if(LV==='tr'){bg.setPoint(1,new IPCC.Web.UI.Point(gX+iM,ht));bg.setPoint(0,new IPCC.Web.UI.Point(gX,ht+hT));}else if(LV==='tl'){bg.setPoint(1,new IPCC.Web.UI.Point(gX,ht));bg.setPoint(0,new IPCC.Web.UI.Point(gX+iM,ht+hT));}ab.set_lineColor(iu);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));if(jY==='arrow'){ab.set_headFillColor(iu);ab.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);ab.set_startHeadAngle(30);ab.set_startHeadLength(35);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fillColor(iu);if(jY==='stamp_redact'){ab.jL(true);ab.set_fillColor('#000000');}gb=bL.firstChild;while((gb)&&(gb.nodeType!==4)){gb=gb.nextSibling;}if((gb)&&(gb.nodeType===4)){kG=gb.innerText||gb.textContent||gb.data;ab.aJ.aY=kG;ab.set_text(kG);}break;case 'highlightText':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fillColor(iu);ab.ap=bL.getAttribute('highlightGroupID');if(bL.getAttribute('textLength')){ab.dp=parseInt(bL.getAttribute('textLength'),10);}ab.cq=bL.getAttribute('selectedText');if(bL.getAttribute('startIndex')){ab.am=parseInt(bL.getAttribute('startIndex'),10);}ab.ka=bL.getAttribute('isHighlight');ab.set_opacity(127);al=Ze(bL,mQ);if(al){ab.al=al;}break;case 'rectangle_filled_redact':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fillColor(qK||'#000000');ab.set_lineColor(iu);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));ab.set_textColor(Av||'#ffffff');ab.set_fillVisible(true);ab.jL(true);qD=bL.getAttribute('highlightGroupID');ab.set_text(IPCC.F.xd(bL.getAttribute('meta')));if(qD){ab.set_lineWidth(0);ab.ap=qD;var eI=Ph[qD];if(!eI){eI=Ph[qD]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eI.ap=qD;eI.set_rectangle(ab.get_rectangle());eI.jL(true);eI.set_text(IPCC.F.xd(bL.getAttribute('meta')));}else{var IK=false;var qe=eI.get_rectangle();var gh=qe.x,iU=qe.x+qe.width,_top=qe.y,iS=qe.y+qe.height;if(qe.x>gX){IK=true;gh=gX;}if(qe.y>ht){IK=true;_top=ht;}if(qe.x+qe.width<gX+iM){IK=true;iU=gX+iM;}if(qe.y+qe.height<ht+hT){IK=true;iS=ht+hT;}if(IK===true){eI.set_rectangle({x:gh,y:_top,width:iU-gh,height:iS-_top});}}}break;case 'text_selection_redaction':qD=bL.getAttribute('highlightGroupID');ab=Ph[qD];if(!ab){ab=Ph[qD]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);ab.ap=qD;ab.set_rectangle({x:0,y:0,width:0,height:0});ab.jL(true);ab.set_text(bL.getAttribute('meta'));}dp=bL.getAttribute('textLength');if(dp){ab.dp=parseInt(dp,10);}cq=bL.getAttribute('selectedText');if(cq){ab.cq=cq;}am=bL.getAttribute('startIndex');if(am){ab.am=parseInt(am,10);}break;case 'text_hyperlink_annotation':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);ab.set_fillColor(iu);qD=bL.getAttribute('highlightGroupID');ab.ap=qD;var mz=bL.getAttribute('href');if(mz){ab.set_href(IPCC.F.xd(mz));}dp=bL.getAttribute('textLength');if(dp){ab.dp=parseInt(dp,10);}cq=bL.getAttribute('selectedText');if(cq){ab.cq=cq;}am=bL.getAttribute('startIndex');if(am){ab.am=parseInt(am,10);}var ka=bL.getAttribute('isHighlight');ab.ka=ka?ka:'n';ab.al=Ze(bL,mQ);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});break;case 'rectangle':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_lineVisible(true);ab.set_lineColor(iu);ab.set_fillVisible(false);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));break;case 'rectangle_filled':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fillColor(qK);ab.set_lineColor(iu);ab.set_fillVisible(true);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fillColor(qK);ab.set_lineColor(iu);ab.set_fillVisible(true);if(jY==='rectangle_trans_redact'){ab.jL(true);}ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(jY==='freehand'){ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(bL.getAttribute('align').toUpperCase()){case 'LEFT':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_pathWidth(parseFloat(bL.getAttribute('pathWidth')));ab.set_pathHeight(parseFloat(bL.getAttribute('pathHeight')));ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));ab.set_lineColor(iu);var wm=bL.firstChild;while((wm)&&(wm.nodeType!==4)){wm=wm.nextSibling;}if((wm)&&(wm.nodeType===4)){kG=wm.innerText||wm.textContent||wm.data;ab.aJ.aY=kG;ab.set_pathString(kG);}break;case 'signature_text':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fontSize(10);ab.set_lineWidth=0;ab.set_fillVisible(true);ab.set_opacity(1);gb=bL.firstChild;this.RN(gb,ab);ab.zS=parseFloat(bL.getAttribute('fontWidth'));ab.Aw=parseFloat(bL.getAttribute('fontHeight'));break;case 'text_area_signature':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_fontName('verdana');uQ=undefined;eD=parseInt(bL.getAttribute('maxLength'));if(!isNaN(eD)){ab.set_maxLength(eD);}var ia=parseInt(bL.getAttribute('maxFontSize'));if(!isNaN(ia)){ab.set_maxFontSize(ia);}gb=bL.firstChild;this.RN(gb,ab);break;case 'text_input_signature':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});gb=bL.firstChild;this.RN(gb,ab);ab.zS=parseFloat(bL.getAttribute('fontWidth'));ab.Aw=parseFloat(bL.getAttribute('fontHeight'));ab.set_lineVisible(false);eD=parseInt(bL.getAttribute('maxLength'));if(!isNaN(eD)){ab.set_maxLength(eD);}asE(bL,ab);break;case 'polyline':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));ab.set_lineColor(iu);var ww=bL.firstChild;while((ww)&&(ww.nodeType!==4)){ww=ww.nextSibling;}var Kx;if((ww)&&(ww.nodeType===4)){kG=ww.innerText||ww.textContent||ww.data;if(kG&&kG!=='undefined'){Kx=JSON.parse(kG);bg=ab.qz();if(Kx){for(H=0;H<Kx.length;H++){bg.addPoint(new IPCC.Web.UI.Point(Kx[H].x*mQ,Kx[H].y*mQ));}}}}break;case 'strikethrough':ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);ab.set_rectangle({x:gX,y:ht,width:iM,height:hT});ab.set_lineWidth(parseFloat(bL.getAttribute('lineWidth')));ab.set_lineColor(iu);ab.ap=bL.getAttribute('highlightGroupID');var textLength=bL.getAttribute('textLength');if(textLength){ab.dp=parseInt(textLength,10);}ab.cq=bL.getAttribute('selectedText');var startIndex=bL.getAttribute('startIndex');if(startIndex){ab.am=parseInt(startIndex,10);}ab.ka=bL.getAttribute('isHighlight');al=Ze(bL,mQ);if(al){ab.al=al;}break;default:}if(ab){ab.aJ.lg=bL.getAttribute('nodeId');if(FP>=0&&(jY==='rectangle_trans_redact'|| !ab.ko())&&jY!=='stamp'&&jY!=='imagestamp'&&jY!=='imagestamp_redact'&&jY!=='text_hyperlink_annotation'&&jY!=='text_input_signature'&&jY!=='text_area_signature'&&jY!=='strikethrough'){ab.set_opacity(FP);}ab.aJ.Eh=aoG;ab.aJ.aHo=jY;ab.aJ.dU=bL.getAttribute('lineWidth');ab.aJ.fF=bL.getAttribute('fillColor');ab.aJ.ke=bL.getAttribute('lineColor');ab.aJ.aHk=bL.getAttribute('dragDirection');ab.aJ.Bh=Bh;ab.aJ.bB=bL.getAttribute('x');ab.aJ.cc=bL.getAttribute('y');ab.aJ.aD=bL.getAttribute('height');ab.aJ.bQ=bL.getAttribute('width');ab.aJ.aFG=bL.getAttribute('x_percent');ab.aJ.aHB=bL.getAttribute('y_percent');ab.aJ.aHZ=bL.getAttribute('height_percent');ab.aJ.aHV=bL.getAttribute('width_percent');ab.aJ.aHX=bL.getAttribute('formUser');ab.aJ.aFa=bL.getAttribute('created');ab.aJ.aER=bL.getAttribute('modified');ab.aJ.aHz=bL.getAttribute('saveDate');ab.aJ.aGY=bL.getAttribute('saveTime');ab.aJ.le=bL.getAttribute('meta');var zu=bL.firstChild;while((zu)&&(zu.nodeType!==4)){zu=zu.nextSibling;}if((zu)&&(zu.nodeType===4)){ab.dR.push(zu.data);}else{ab.dR.push('');}var mX=parseInt(bL.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;ab.set_interactionMode(mX);ab.mO(this);ab.add_propertyChanged(mV);ab.add_markTextSelectionChanged(xM);ab.yv(QM);ab.yu(RQ);ab.rF(RX);JM.push(ab);arD(bL,ab);rO=IPCC.F.aeX(bL.getAttribute('created'));tf=IPCC.F.aeX(bL.getAttribute('modified'));rO=rO||new Date();tf=tf||new Date();ab.initializeDates(rO,tf);if(uu){ab.set_visible(false);}}}}bD=bD.concat(JM);K.bz('marksLoaded',{});}if(ma){asa(lj,aj);break;}}}}};this.RN=function(uh,ab){var H,kG,po,rc,Hs,uQ,oi=[],Cg=ab.get_type()===IPCC.Web.UI.MarkType.SignatureText,aFM=Cg?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,jE;while((uh)&&(uh.nodeType!==4)){uh=uh.nextSibling;}if((uh)&&(uh.nodeType===4)){kG=uh.innerText||uh.textContent||uh.data;ab.aJ.aY=kG;po=kG.split("</TEXTFORMAT>");for(H=0;H<po.length;H++){if(po[H].match(/<TEXTFORMAT/)){po[H]=po[H]+"</TEXTFORMAT>";oi.push(po[H]);}}rc='';Hs=[];for(H=0;H<oi.length;H++){if(oi[H].match(/<P/)){uQ=this.aje(oi[H]);Hs.push(uQ);rc+=uQ+" ";if(H===0){jE=this.aiI(oi[H]);ajA(jE,ab);}}rc=rc.replace(/\s+$/g,"");ab.set_text(rc);var Ge=this.ajk(oi[H]);switch(Ge){case 'LEFT':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':ab.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:ab.set_textHorizontalAlignment(aFM);break;}}}};function YI(agK,dI){for(var i=0;i<agK.childNodes.length;i++){var Zg=agK.childNodes[i];if(Zg.nodeName==='kvp'){var an=Zg.getAttribute("key");var L=Zg.getAttribute("value");dI.set_data(an,L);}}};function arJ(MN,dC){var cF=new IPCC.Web.UI.Comment(IPCC.F.xd(MN.getAttribute("text")));cF.set_creationTime(MN.getAttribute("created"));dC.addComment(cF);for(var i=0;i<MN.childNodes.length;i++){var alB=MN.childNodes[i];if(alB.nodeName==='data'){YI(alB,cF.get_data());}}};function atc(akW,dC){for(var i=0;i<akW.childNodes.length;i++){var Ok=akW.childNodes[i];if(Ok.nodeName==='comments'){var hq=Ok;for(var j=0;j<hq.childNodes.length;j++){var akK=hq.childNodes[j];if(akK.nodeName==='comment'){arJ(akK,dC);}}}else if(Ok.nodeName==='data'){YI(Ok,dC.get_data());}}};function arD(HD,J){for(var i=0;i<HD.childNodes.length;i++){var tm=HD.childNodes[i];if(tm.nodeName==='conversation'){atc(tm,J.get_conversation());}else if(tm.nodeName==='data'){YI(tm,J.get_data());}}};function asE(HD,J){var L=null,Ja={};for(var i=0;i<HD.childNodes.length;i++){var tm=HD.childNodes[i];if(tm.nodeName==='inputMask'){L=IPCC.F.xd(tm.getAttribute('value'));for(var j=0;j<tm.childNodes.length;j++){var YV=tm.childNodes[j];if(YV.nodeName==='translation'){Ja[IPCC.F.xd(YV.getAttribute('key'))]=new RegExp(IPCC.F.xd(YV.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(L!==null){J.set_mask({value:L,translations:Ja});}};function Ze(sB,xb){var hw=null,iY;for(var i=0;i<sB.childNodes.length;i++){iY=sB.childNodes[i];if(iY.nodeName==='line-rectangles'){if(!hw){hw=asZ(iY,xb);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return hw;};function asZ(sB,xb){var hw=[],iY;for(var i=0;i<sB.childNodes.length;i++){iY=sB.childNodes[i];if(iY.nodeName==='rectangle'){hw.push(art(iY,xb));}}return hw;};function art(sB,xb){var bB=parseFloat(sB.getAttribute("x"))*xb;var cc=parseFloat(sB.getAttribute("y"))*xb;var bQ=parseFloat(sB.getAttribute("width"))*xb;var aD=parseFloat(sB.getAttribute("height"))*xb;return new IPCC.Web.UI.Rectangle(bB,cc,bQ,aD);};this.Uv=function(aH,FO,vi,iL,cY,ba){var ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ab.set_rectangle({x:aH.x,y:aH.y,width:aH.width,height:aH.height});ab.set_fillColor(vi);ab.set_fillVisible(true);ab.am=ba;ab.dp=1;if(cY){ab.set_opacity(cY);}else{ab.set_opacity(127);}K.addMark(ab);return ab;};this.aEq=function(aH,WX,ba){var ab=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);ab.set_rectangle({x:aH.x,y:aH.y,width:aH.width,height:aH.height});ab.set_fillColor(WX.get_fillColor());ab.set_fillVisible(true);ab.am=ba;ab.dp=1;if(WX.get_opacity()){ab.set_opacity(WX.get_opacity());}else{ab.set_opacity(127);}K.addMark(ab);return ab;};function ajA(jE,ab){for(var dH=0;dH<jE.length;dH++){var cO=jE[dH].attribs;var ma=false;if(jE[dH].attribs.length>1&& !ma&&jE[dH].JO==='font'){ma=true;for(var aU=0;aU<cO.length;aU++){if(cO[aU].bh==="FACE"){ab.set_fontName(cO[aU].L);}else if(cO[aU].bh==="SIZE"&&ab.get_type()!==IPCC.Web.UI.MarkType.TextLine&&ab.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var rI=parseFloat(cO[aU].L);ab.set_fontSize(rI);}else if(cO[aU].bh==="COLOR"){var akw=cO[aU].L;if(ab.get_type()===IPCC.Web.UI.MarkType.SignatureText){ab.set_fillColor(akw);}else{ab.set_textColor(akw);}}}var kM=false;if(jE[dH+1]&&ab.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(jE[dH+1].tagName==='font'){break;}else{var wu=jE[dH+1].JO;if(wu==='b'||wu==='i'||wu==='u'||wu==='s'){if(wu==='b'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(wu==='i'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(wu==='u'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(wu==='s'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kM=true;}}if(jE[dH+2]){var aqw=jE[dH+2].JO;kM=Us(ab,kM,aqw);}if(jE[dH+3]){var aqV=jE[dH+3].JO;kM=Us(ab,kM,aqV);}if(jE[dH+4]){var apR=jE[dH+4].JO;kM=Us(ab,kM,apR);}if(ma){break;}}}}};function Us(J,alF,wA){var kM=alF;var ab=J;if(alF){if(wA==='b'){ab.set_fontStyle(ab.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kM=true;}else if(wA==='i'){ab.set_fontStyle(ab.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kM=true;}else if(wA==='u'){ab.set_fontStyle(ab.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kM=true;}else if(wA==='s'){ab.set_fontStyle(ab.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kM=true;}}else{if(wA==='b'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kM=true;}else if(wA==='i'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kM=true;}else if(wA==='u'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kM=true;}else if(wA==='s'){ab.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kM=true;}}return kM;};function Ej(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aaR=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ahz=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,anB=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aCS=Ej("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var nV=Ej("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var azX=Ej("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var ata=Ej("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aFu=Ej("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aFy=Ej("script,style");this.ajw=function(html,handler){var ba,yr,uj,nc=[],jN=html;function parseEndTag(tag,tagName){var gH;if(!tagName){gH=0;}else{for(gH=nc.length-1;gH>=0;gH--){if(nc[gH]===tagName){break;}}}if(gH>=0){for(var i=nc.length-1;i>=gH;i--){if(handler.end){handler.end(nc[i]);}}nc.length=gH;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(nV[tagName]){while(nc.last()&&azX[nc.last()]){parseEndTag("",nc.last());}}if(ata[tagName]&&nc.last()===tagName){parseEndTag("",tagName);}unary=aCS[tagName]|| ! !unary;if(!unary){nc.push(tagName);}if(handler.start){var attrs=[];rest.replace(anB,function(uj,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aFu[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};nc.last=function(){return this[this.length-1];};function avj(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){yr=true;if(!nc.last()|| !aFy[nc.last()]){if(html.indexOf("<!--")===0){ba=html.indexOf("-->");if(ba>=0){if(handler.comment){handler.comment(html.substring(4,ba));}html=html.substring(ba+3);yr=false;}}else if(html.indexOf("</")===0){uj=html.match(ahz);if(uj){html=html.substring(uj[0].length);uj[0].replace(ahz,parseEndTag);yr=false;}}else if(html.indexOf("<")===0){uj=html.match(aaR);if(uj){html=html.substring(uj[0].length);uj[0].replace(aaR,parseStartTag);yr=false;}}if(yr){ba=html.indexOf("<");var text=ba<0?html:html.substring(0,ba);text=IPCC.F.xd(text);html=ba<0?"":html.substring(ba);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+nc.last()+"[^>]*>"),avj);parseEndTag("",nc.last());}if(html===jN){throw " Parse Error in annotation Html Text: "+html;}jN=html;}parseEndTag();};this.aje=function(html){var results="";this.ajw(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aiI=function(html){var fi=[];this.ajw(html,{start:function(tag,attrs){var fJ;fJ=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var wY={};wY.JO=tag;wY.attribs=[];if(tag==='b'){wY.aHe=true;}else if(tag==='i'){wY.aIr=true;}else if(tag==='u'){wY.aGH=true;}else if(tag==='s'){wY.aGO=true;}else{for(var i=0;i<attrs.length;i++){var yE={};yE.bh=attrs[i].name;yE.L=attrs[i].value;wY.attribs.push(yE);}}fi.push(wY);}},end:function(){},chars:function(){},comment:function(){}});return fi;};this.ajk=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function asa(lj,auJ){var nf=lj.getElementsByTagName("highlights")[0];if(nf.hasChildNodes()){var lB;var dO;for(var H=0;H<nf.childNodes.length;H++){lB=nf.childNodes[H];if(lB.nodeType===1){dO=lB.getAttribute('page');if(dO&&parseInt(dO,10)===auJ+1){var jd=new IPCC.Web.UI.YG();jd.aCA=lB.nodeName;switch(jd.aCA){case 'tag':jd.HL=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jd.HL=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jd.HL=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jd.HL=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':jd.HL=IPCC.Web.UI.HighLightType.Strikethrough;break;default:jd.HL=undefined;}if(lB.childNodes[0].data){jd.dR.push(lB.childNodes[0].data);}jd.aJ.ds=lB.getAttribute('id');jd.aJ.aIL=lB.getAttribute('userid');jd.aJ.aGh=lB.getAttribute('mode');jd.aJ.dm=lB.getAttribute('color');jd.aJ.aIl=lB.getAttribute('occurence');jd.aJ.bL=lB.getAttribute('annotation');jd.aJ.bb=lB.getAttribute('page');jd.aJ.aIw=lB.getAttribute('documentname');jd.aJ.aHH=lB.getAttribute('tooltip');jd.aJ.aIv=lB.getAttribute('allowdelete');jd.aJ.lK=lB.getAttribute('start');jd.aJ.aHI=lB.getAttribute('end');K.aBp.push(jd);}}}}};this.YK=function(){var T;if(bD.length<1){return;}eC.removeAllMarks();var H;for(H=bD.length-1;H>=0;H--){bD[H].remove_propertyChanged(mV);bD[H].remove_markTextSelectionChanged(xM);bD[H].mO(null);T=new IPCC.Web.UI.MarkEventArgs();T.length=bD.length;T.zIndex=0;T.mark=bD.pop();K.bz('markRemoved',T);}T=new IPCC.Web.UI.MarkEventArgs();T.length=bD.length;T.zIndex=0;K.bz('markRemoved',T);};this.ue=function(J){var lq=this.os(J);var tO=J.ap;if(lq>=0){J.remove_propertyChanged(mV);J.remove_markTextSelectionChanged(xM);J.mO(null);bD.splice(lq,1);eC.removeMark(J);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;T.zIndex=lq;T.length=1;K.bz('markRemoved',T);if(tO){this.aFL(tO);}}};this.aIe=function(rm){var uD=bD.length;var tO=rm.ap;while(uD--){var J=bD[uD];if(J.ap===tO){J.set_fillColor(rm.get_fillColor());}}};this.ays=function(rm){var uD=bD.length;var tO=rm.ap;if(!tO){rm.set_text(rm.get_text());return;}while(uD--){var J=bD[uD];if(J.ap===tO){if(J.get_text()!==rm.get_text()){J.set_text(rm.get_text());}if(J.get_fontName()!==rm.get_fontName()){J.set_fontName(rm.get_fontName());}if(J.get_fontSize()!==rm.get_fontSize()){J.set_fontSize(rm.get_fontSize());}}}};this.aFL=function(tO){var uD=bD.length;while(uD--){var J=bD[uD];if(J.ap===tO){var lq=this.os(J);eC.removeMark(J);bD.splice(uD,1);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;T.zIndex=lq;T.length=1;}}};this.acM=function(J,lq){var Qy=this.os(J);if(Qy<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(Qy===lq){return;}akT(lq);bD.splice(Qy,1);bD.splice(lq,0,J);if(J.get_type()===IPCC.Web.UI.MarkType.Highlight||J.get_type()===IPCC.Web.UI.MarkType.HighlightText||J.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||J.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||J.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.ap!==undefined)){return;}var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;T.zIndex=lq;T.oldZIndex=Qy;T.length=1;K.bz('markReordered',T);};function Uu(hw,ea,eU){if(!hw){return undefined;}var kJ={hi:'line-rectangles',dR:[],aJ:{}};IPCC.F.forEach(hw,function(h){kJ.dR.push({hi:'rectangle',dR:[],aJ:{x:h.x,y:h.y,height:h.height,width:h.width}});});return kJ;};function avr(hV){if(!hV){return undefined;}var kJ={hi:'inputMask',dR:[],aJ:{value:IPCC.F.qr(hV.value)}};IPCC.F.forEach(hV.translations,function(L,an){kJ.dR.push({hi:'translation',dR:[],aJ:{key:IPCC.F.qr(an),value:IPCC.F.qr(L.toString())}});});return kJ;};function SC(dI){if(!dI){return undefined;}var nh=dI.get_dataKeys();if(nh.length===0){return undefined;}var kJ={hi:'data',dR:[],aJ:{}};IPCC.F.forEach(nh,function(an){var L=dI.get_data(an);kJ.dR.push({hi:'kvp',dR:[],aJ:{key:an,value:L}});});return kJ;};function auF(cF){if(!cF){return undefined;}var zi={hi:'comment',dR:[],aJ:{}};zi.aJ.text=IPCC.F.qr(cF.get_text());zi.aJ.created=cF.get_creationTime();var kJ=SC(cF.get_data());if(kJ){zi.dR.push(kJ);}return zi;};function auO(dC){if(!dC||dC.get_length()===0){return undefined;}var Tp={hi:'conversation',dR:[],aJ:{}};var acT={hi:'comments',dR:[],aJ:{}};Tp.dR.push(acT);dC.forEach(function(cF){var zi=auF(cF);if(zi){acT.dR.push(zi);}});var kJ=SC(dC.get_data());if(kJ){Tp.dR.push(kJ);}return Tp;};this.aqS=function(J,ea,eU,vH){var bm=J.get_type();var kW=false;var iJ;var gB;var agk;var UT;var fZ,sP,sL,aY;var bv={hi:'annotation',dR:[],aJ:{}};if(!J.aJ.lg){bv.aJ.nodeId=K.aqK();}else{bv.aJ.nodeId=J.aJ.lg;}var Gf,CU="",ps="";if(J.get_lineColor()){var Zu=J.get_lineColor();if(Zu==='transparent'){bv.aJ.lineColor=Zu;}else{Gf=Zu.replace(/#/,"");CU=parseInt(Gf,16);ps=CU.toString();bv.aJ.lineColor=ps;}}bv.aJ.interactionMode=J.get_interactionMode();bv.aJ.stampSize='122';var Pn={};Pn[IPCC.Web.UI.MarkType.Stamp]=true;Pn[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Pn[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bm===IPCC.Web.UI.MarkType.Rectangle&&J.get_opacity()<255|| !J.ko())&&Pn[bm]!==true){bv.aJ.opacity=J.get_opacity();}if(J.get_conversation().get_length()>0){bv.dR.push(auO(J.get_conversation()));}var kJ=SC(J.get_data());if(kJ){bv.dR.push(kJ);}kW=false;switch(bm){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:gB=J.get_fillColor();if(gB==='transparent'){bv.aJ.fillColor=gB;}else if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}if(J.get_fillVisible()){if(J.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(J.get_opacity()===255){if(J.ko()===true){bv.aJ.drawType='rectangle_filled_redact';if(J.ap){bv.aJ.highlightGroupID=J.ap;}}else{bv.aJ.drawType='rectangle_filled';}}else{if(J.ko()===true){bv.aJ.drawType='rectangle_trans_redact';}else{bv.aJ.drawType='rectangle_trans';}}}else{if(J.get_opacity()===255){bv.aJ.drawType='circle_filled';if(J.ko()){bv.aJ.drawType='circle_filled_redact';}}else{bv.aJ.drawType='circle_trans';if(J.ko()){bv.aJ.drawType='circle_trans_redact';}}}}else{if(J.get_type()===IPCC.Web.UI.MarkType.Rectangle){bv.aJ.drawType='rectangle';bv.aJ.fillColor=ps;}else{bv.aJ.drawType='circle';bv.aJ.fillColor=ps;}}bv.aJ.dragDirection='br';var h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:bv.aJ.lineWidth=J.get_lineWidth();kW=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:bv.aJ.highlightGroupID=J.ap;bv.aJ.drawType='text_selection_redaction';if(J.cq&&J.cq.length>0){bv.aJ.startIndex=J.am;bv.aJ.selectedText=J.cq;bv.aJ.textLength=J.dp;}break;case IPCC.Web.UI.MarkType.Text:var kr=J.get_rectangle();bv.aJ.x=kr.x;bv.aJ.y=kr.y;bv.aJ.x_percent=kr.x/ea;bv.aJ.y_percent=kr.y/eU;bv.aJ.height_percent=kr.height/eU;bv.aJ.width_percent=kr.width/ea;bv.aJ.height=kr.height;bv.aJ.width=kr.width;bv.aJ.maxLength=J.get_maxLength();gB=J.get_fillColor();if(J.ko()===true){bv.aJ.drawType='text_redact';}else{bv.aJ.drawType='text';bv.aJ.opacity=J.get_opacity();}if(gB==='transparent'){bv.aJ.fillColor=gB;}else if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor='16776960';}var bd='';bd="<TEXTFORMAT LEADING=\"2\">";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bd+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bd+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bd+="<P ALIGN=\"right\" ";break;}bd+=">";bd+="<FONT ";sP=J.get_fontName();bd+="FACE="+"\""+sP+"\" ";sL=J.get_fontSize().toString();bd+="SIZE= \""+sL+"\" ";fZ="\""+J.get_textColor()+"\" ";bd+="COLOR="+fZ+" ";bd+="LETTERSPACING=\"0\" ";bd+="KERNING=\"0\" ";bd+=">";var dv=J.get_fontStyle();if(dv&IPCC.Web.UI.FontStyle.Bold){bd+="<B>";}if(dv&IPCC.Web.UI.FontStyle.Italic){bd+="<I>";}if(dv&IPCC.Web.UI.FontStyle.Underline){bd+="<U>";}if(dv&IPCC.Web.UI.FontStyle.Strikeout){bd+="<S>";}aY=J.get_text();aY=IPCC.F.qr(aY);bd+=aY;if(dv&IPCC.Web.UI.FontStyle.Strikeout){bd+="</S>";}if(dv&IPCC.Web.UI.FontStyle.Underline){bd+="</U>";}if(dv&IPCC.Web.UI.FontStyle.Italic){bd+="</I>";}if(dv&IPCC.Web.UI.FontStyle.Bold){bd+="</B>";}bd+="</FONT>";bd+="</P>";bd+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.drawType='highlight';bv.aJ.highlightGroupID=J.ap;bv.aJ.isHighlight=J.ka;gB=J.get_fillColor();if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();bv.aJ.lineColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.drawType='text_hyperlink_annotation';bv.aJ.href=IPCC.F.qr(J.mz);bv.aJ.startIndex=J.am;bv.aJ.selectedText=J.cq;bv.aJ.textLength=J.dp;bv.aJ.highlightGroupID=J.ap;bv.aJ.isHighlight=J.ka;gB=J.get_fillColor();if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();bv.aJ.lineColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}bv.dR.push(Uu(J.al,ea,eU));break;case IPCC.Web.UI.MarkType.HighlightText:h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.drawType='highlightText';bv.aJ.startIndex=J.am;bv.aJ.selectedText=J.cq;bv.aJ.textLength=J.dp;bv.aJ.highlightGroupID=J.ap;bv.aJ.isHighlight=J.ka;gB=J.get_fillColor();if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();bv.aJ.lineColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}bv.dR.push(Uu(J.al,ea,eU));break;case IPCC.Web.UI.MarkType.RectangleRedaction:h=J.get_rectangle();bv.aJ.drawType='rectangle_filled_redact';bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.meta=IPCC.F.qr(J.get_text());bv.aJ.stampSize=J.get_fontSize();bv.aJ.lineWidth=J.get_lineWidth();gB=J.get_fillColor();if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}Gf=J.get_lineColor();if(Gf){CU=Gf.replace(/#/,"");bv.aJ.lineColor=parseInt(CU,16).toString();}else{bv.aJ.lineColor=ps;}UT=J.get_textColor();if(UT){agk=UT.replace(/#/,"");bv.aJ.fontColor=parseInt(agk,16).toString();}else{bv.aJ.fontColor=ps;}if(J.ap){bv.aJ.highlightGroupID=J.ap;}break;case IPCC.Web.UI.MarkType.Stamp:gB=J.get_fillColor();if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor=parseInt(iJ,16).toString();bv.aJ.lineColor=parseInt(iJ,16).toString();}else{bv.aJ.fillColor=ps;}h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;if(J.ko()===true){bv.aJ.drawType='stamp_redact';}else{bv.aJ.drawType='stamp';}aY=J.get_text();bv.aJ.stampSize=J.stampSize;bv.dR.push('<![CDATA['+aY+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(J.get_type()===IPCC.Web.UI.MarkType.Freehand){bv.aJ.drawType='freehand';}else{bv.aJ.drawType='signature_path';switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bv.aJ.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:bv.aJ.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:bv.aJ.align='right';break;}}bd=J.get_pathString();bv.aJ.pathWidth=J.get_pathWidth();bv.aJ.pathHeight=J.get_pathHeight();h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;break;case IPCC.Web.UI.MarkType.SignatureText:gB=J.get_fillColor();var fF;if(gB){iJ=gB.replace(/#/,"");bv.aJ.fillColor="";bv.aJ.lineColor="";fF=parseInt(iJ,16).toString();}else{bv.aJ.fillColor="";fF=ps;}h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.opacity=0;bv.aJ.drawType='signature_text';bv.aJ.stampSize=J.stampSize;bv.aJ.fontWidth=J.zS;bv.aJ.fontHeight=J.Aw;bd='';bd="<TEXTFORMAT LEADING=\"2\">";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bd+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bd+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bd+="<P ALIGN=\"right\" ";break;}bd+=">";bd+="<FONT ";sP=J.get_fontName();bd+="FACE="+"\""+sP+"\" ";sL=J.stampSize.toString();bd+="SIZE= \""+sL+"\" ";fZ="\""+J.get_fillColor()+"\" ";bd+="COLOR="+fZ+" ";bd+="LETTERSPACING=\"0\" ";bd+="KERNING=\"0\" ";bd+=">";aY=IPCC.F.qr(J.get_text());bd+=aY;bd+="</FONT>";bd+="</P>";bd+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:kr=J.get_rectangle();bv.aJ.x=kr.x;bv.aJ.y=kr.y;bv.aJ.x_percent=kr.x/ea;bv.aJ.y_percent=kr.y/eU;bv.aJ.height_percent=kr.height/eU;bv.aJ.width_percent=kr.width/ea;bv.aJ.height=kr.height;bv.aJ.width=kr.width;bv.aJ.maxLength=J.eD;bv.aJ.maxFontSize=J.ia;if(vH){bv.aJ.drawType='text';}else{bv.aJ.drawType='text_area_signature';}bv.aJ.fillColor='transparent';bd='';bd="<TEXTFORMAT LEADING=\"2\">";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bd+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bd+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bd+="<P ALIGN=\"right\" ";break;}bd+=">";bd+="<FONT ";sP=J.get_fontName();bd+="FACE="+"\""+sP+"\" ";sL=J.cG.toString();bd+="SIZE= \""+sL+"\" ";fZ="\""+J.get_textColor()+"\" ";bd+="COLOR="+fZ+" ";bd+="LETTERSPACING=\"0\" ";bd+="KERNING=\"0\" ";bd+=">";dv=J.get_fontStyle();if(dv&IPCC.Web.UI.FontStyle.Bold){bd+="<B>";}if(dv&IPCC.Web.UI.FontStyle.Italic){bd+="<I>";}if(dv&IPCC.Web.UI.FontStyle.Underline){bd+="<U>";}if(dv&IPCC.Web.UI.FontStyle.Strikeout){bd+="<S>";}aY=J.get_text();aY=IPCC.F.qr(aY);bd+=aY;if(dv&IPCC.Web.UI.FontStyle.Strikeout){bd+="</S>";}if(dv&IPCC.Web.UI.FontStyle.Underline){bd+="</U>";}if(dv&IPCC.Web.UI.FontStyle.Italic){bd+="</I>";}if(dv&IPCC.Web.UI.FontStyle.Bold){bd+="</B>";}bd+="</FONT>";bd+="</P>";bd+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!vH){h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.maxLength=J.get_maxLength();bv.aJ.width_percent=h.width/ea;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.opacity=0;bv.aJ.drawType='text_input_signature';bv.aJ.stampSize=J.stampSize;bv.aJ.fontWidth=J.zS;bv.aJ.fontHeight=J.Aw;bd='';bd="<TEXTFORMAT LEADING=\"2\">";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bd+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bd+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bd+="<P ALIGN=\"right\" ";break;}bd+=">";bd+="<FONT ";sP=J.get_fontName();bd+="FACE="+"\""+sP+"\" ";sL=J.stampSize.toString();bd+="SIZE= \""+sL+"\" ";fZ="\""+J.get_textColor()+"\" ";bd+="COLOR="+fZ+" ";bd+="LETTERSPACING=\"0\" ";bd+="KERNING=\"0\" ";bd+=">";aY=IPCC.F.qr(J.get_text());bd+=aY;bd+="</FONT>";bd+="</P>";bd+="</TEXTFORMAT>";var adX=avr(J.get_mask());if(adX){bv.dR.push(adX);}}else{h=J.get_rectangle();var Ec=J.stampSize;var pm;if(!J.IQ|| !J.pm){var apm=IPCC.F.aiw(J.get_text(),J.get_fontName(),h.width,h.height,{wL:"pre",cG:Ec+"px"});pm=apm;J.IQ=true;J.pm=pm;}else{pm=J.pm;}Ec=pm.fontSize;var gE=pm.width/h.width,dP=1.0,MIN_BUFFER=0.85;if(/mono/i.test(J.get_fontName())){MIN_BUFFER=0.75;}if(gE>MIN_BUFFER){dP=MIN_BUFFER*h.width/pm.width;Ec=Ec*dP;}var akr=h.width,aGE=pm.height*dP,akF=h.height-(h.height-aGE)/2,ajX=h.x,ajS=h.y+(h.height-pm.height)/2+(pm.height*(1-dP));bv.aJ.x=ajX;bv.aJ.y=ajS;bv.aJ.x_percent=ajX/ea;bv.aJ.y_percent=ajS/eU;bv.aJ.height_percent=akF/eU;bv.aJ.width_percent=akr/ea;bv.aJ.height=akF;bv.aJ.width=akr;bv.aJ.opacity=0;bv.aJ.drawType='text_redact';bd='';bd="<TEXTFORMAT>";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:bd+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:bd+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:bd+="<P ALIGN=\"right\" ";break;}bd+=">";bd+="<FONT ";sP=J.get_fontName();bd+="FACE="+"\""+sP+"\" ";if(J.aFP){sL=(Ec/J.aFP).toString();}else{sL=Ec.toString();}bd+="SIZE= \""+sL+"\" ";fZ="\""+J.get_textColor()+"\" ";bd+="COLOR="+fZ+" ";bd+="LETTERSPACING=\"0\" ";bd+="KERNING=\"0\" ";bd+=">";aY=IPCC.F.qr(J.get_text());bd+=aY;bd+="</FONT>";bd+="</P>";bd+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bv.aJ.drawType=(bm===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.lineWidth=J.get_lineWidth();bv.aJ.x_percent=h.x/ea;bv.aJ.y_percent=h.y/eU;bv.aJ.height_percent=h.height/eU;bv.aJ.width_percent=h.width/ea;bv.aJ.imageStampId=J.qN;break;case IPCC.Web.UI.MarkType.Strikethrough:h=J.get_rectangle();bv.aJ.x=h.x;bv.aJ.y=h.y;bv.aJ.height=h.height;bv.aJ.width=h.width;bv.aJ.drawType='strikethrough';bv.aJ.startIndex=J.am;bv.aJ.selectedText=J.cq;bv.aJ.textLength=J.dp;bv.aJ.highlightGroupID=J.ap;bv.aJ.isHighlight=J.ka;bv.dR.push(Uu(J.al,ea,eU));break;}if(kW){bv.aJ.lineWidth=J.get_lineWidth();var aH=J.get_boundingRectangle();bv.aJ.x=aH.x;bv.aJ.y=aH.y;bv.aJ.x_percent=aH.x/ea;bv.aJ.y_percent=aH.y/eU;bv.aJ.height_percent=aH.height/eU;bv.aJ.width_percent=aH.width/ea;bv.aJ.height=aH.height;bv.aJ.width=aH.width;if(bm===IPCC.Web.UI.MarkType.Line){if(J.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){bv.aJ.drawType='line';}else{bv.aJ.drawType='arrow';}}else{bv.aJ.drawType='polyline';}bv.aJ.lineWidth=J.get_lineWidth();var bg=J.get_points();if(bm===IPCC.Web.UI.MarkType.Line){if((bg.getPoint(0).x<bg.getPoint(1).x)&&(bg.getPoint(0).y>bg.getPoint(1).y)){bv.aJ.dragDirection='tr';}else if((bg.getPoint(0).x>bg.getPoint(1).x)&&(bg.getPoint(0).y>bg.getPoint(1).y)){bv.aJ.dragDirection='tl';}else if((bg.getPoint(0).x>bg.getPoint(1).x)&&(bg.getPoint(0).y<bg.getPoint(1).y)){bv.aJ.dragDirection='bl';}else if((bg.getPoint(0).x<bg.getPoint(1).x)&&(bg.getPoint(0).y<bg.getPoint(1).y)){bv.aJ.dragDirection='br';}else{bv.aJ.dragDirection='br';}}else{var yb=[];var cB=bg.get_length(),ad;if(cB>1){for(var aU=0;aU<bg.get_length();aU++){ad=bg.getPoint(aU);yb.push({x:ad.x,y:ad.y});}bd=JSON.stringify(yb);}}if(CU){bv.aJ.fillColor=CU;}else{bv.aJ.fillColor="";}}else{bv.aJ.lineWidth=J.get_lineWidth();bv.aJ.dragDirection='br';}if(J.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){bv.aJ.meta='';}bv.aJ.label='';var fr=new Date();bv.aJ.saveDate=IPCC.F.ayV(fr);bv.aJ.saveTime=IPCC.F.ayq(fr);bv.aJ.uuid='';bv.aJ.formUser='';bv.aJ.created=IPCC.F.aiJ(J.get_dateCreated());bv.aJ.modified=IPCC.F.aiJ(J.get_dateModified());if(J.get_type()===IPCC.Web.UI.MarkType.Text||J.get_type()===IPCC.Web.UI.MarkType.Freehand||J.get_type()===IPCC.Web.UI.MarkType.SignaturePath||J.get_type()===IPCC.Web.UI.MarkType.SignatureText||J.get_type()===IPCC.Web.UI.MarkType.Polyline||J.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||J.get_type()===IPCC.Web.UI.MarkType.TextLine){bv.dR.push('<![CDATA['+bd+']]>');}else{bv.dR.push('');}return bv;};this.ayd=function(aj,ea,eU,bN){var it={hi:'documentAnnotations',dR:[],aJ:{}};var dM={hi:'pages',dR:[],aJ:{}};it.dR.push(dM);var nf={hi:'highlights',dR:[],aJ:{}};it.dR.push(nf);var uv={},pY=[];var bb={hi:'page',dR:[],aJ:{id:(aj+1).toString(),pageWidth:ea,pageHeight:eU}};dM.dR.push(bb);bN=bN||{};var ait=(bN.includeAnnotations!==undefined)? ! !bN.includeAnnotations:true,aig=(bN.includeRedactions!==undefined)? ! !bN.includeRedactions:true,aiW=(bN.includeSignatures!==undefined)? ! !bN.includeSignatures:false,vH=(bN.vH!==undefined)? ! !bN.vH:false,VQ=(bN.CC!==undefined)?bN.CC:false,aEz= ! !vH,amv=VQ?VQ:bD;for(var H=0;H<amv.length;H++){var J=amv[H];var bm=J.get_type();if(J.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aEz&& !J.get_visible()){continue;}if(!VQ){if(ait===false&&aig===false&&aiW===false){break;}if(ait===false){if(bm===IPCC.Web.UI.MarkType.Rectangle||bm===IPCC.Web.UI.MarkType.Ellipse||bm===IPCC.Web.UI.MarkType.Line||bm===IPCC.Web.UI.MarkType.Text||bm===IPCC.Web.UI.MarkType.Stamp||bm===IPCC.Web.UI.MarkType.Highlight||bm===IPCC.Web.UI.MarkType.Strikethrough||bm===IPCC.Web.UI.MarkType.HighlightText||bm===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bm===IPCC.Web.UI.MarkType.Freehand||bm===IPCC.Web.UI.MarkType.ImageStampAnnotation||bm===IPCC.Web.UI.MarkType.Polyline){if(J.ko()===false){continue;}}}if(aig===false){if(J.ko()===true){continue;}if(bm===IPCC.Web.UI.MarkType.RectangleRedaction||bm===IPCC.Web.UI.MarkType.TextSelectionRedaction||bm===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aiW===false){if(bm===IPCC.Web.UI.MarkType.SignaturePath||bm===IPCC.Web.UI.MarkType.SignatureText||bm===IPCC.Web.UI.MarkType.SignatureImage||bm===IPCC.Web.UI.MarkType.TextAreaSignature||bm===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bm){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:uv[J.qN]={hi:'stampImage',dR:[],aJ:{imageStampId:J.qN,base64format:J.cP()}};break;}bb.dR.push(this.aqS(J,ea,eU,vH));}for(var Js in uv){if(uv.hasOwnProperty(Js)){pY.push(uv[Js]);}}return{it:it,pY:pY};};this.ayc=function(){var eW={m:[]};var H;for(H=0;H<bD.length;H++){eW.m.push(bD[H].axw());}K.bz('marksSaved',{});var alY="";alY=JSON.stringify(eW);return alY;};this.AG=function(V){bu.addHandler('markAdded',V);};this.Bw=function(V){bu.removeHandler('markAdded',V);};this.Kv=function(V){bu.addHandler('markChanged',V);};this.Gq=function(V){bu.removeHandler('markChanged',V);};this.Bc=function(V){bu.addHandler('markRemoved',V);};this.By=function(V){bu.removeHandler('markRemoved',V);};this.Ki=function(V){bu.addHandler('markReordered',V);};this.Fk=function(V){bu.removeHandler('markReordered',V);};this.Zt=function(V){bu.addHandler('marksLoaded',V);};this.ZX=function(V){bu.removeHandler('marksLoaded',V);};this.aHT=function(V){bu.addHandler('marksSaved',V);};this.aFF=function(V){bu.removeHandler('marksSaved',V);};this.JK=function(V){bu.addHandler('markSelectionChanged',V);};this.GP=function(V){bu.removeHandler('markSelectionChanged',V);};this.Jm=function(V){bu.addHandler('markTextSelectionChanged',V);};this.Ft=function(V){bu.removeHandler('markTextSelectionChanged',V);};this.yv=function(V){bu.addHandler('commentAdded',V);};this.DG=function(V){bu.removeHandler('commentAdded',V);};this.yu=function(V){bu.addHandler('commentRemoved',V);};this.Dq=function(V){bu.removeHandler('commentRemoved',V);};this.rF=function(V){bu.addHandler('commentChanged',V);};this.vC=function(V){bu.removeHandler('commentChanged',V);};this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};this.bX=function(cU){var V=bu.getHandler("propertyChanged");if(V){V(this,new IPCC.nA(cU));}};return this;};OK.prototype={get_markCount:function(){return this.Wi();},get_selectedMarks:function(){return this.yK();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.NA(mark,mouseLocation);},forEachMark:function(method,context){this.Fw(method,context);},getMark:function(zIndex){return this.Ni(zIndex);},getZIndexOfMark:function(mark){return this.os(mark);},loadFromJson:function(json){this.axM(json);},removeAllMarks:function(){this.YK();},removeMark:function(mark){this.ue(mark);},reorderMark:function(mark,zIndex){this.acM(mark,zIndex);},saveToJson:function(){return this.ayc();},add_markAdded:function(handler){this.AG(handler);},remove_markAdded:function(handler){this.Bw(handler);},add_markChanged:function(handler){this.Kv(handler);},remove_markChanged:function(handler){this.Gq(handler);},add_markRemoved:function(handler){this.Bc(handler);},remove_markRemoved:function(handler){this.By(handler);},add_markReordered:function(handler){this.Ki(handler);},remove_markReordered:function(handler){this.Fk(handler);},add_marksLoaded:function(handler){this.Zt(handler);},remove_marksLoaded:function(handler){this.ZX(handler);},add_markSelectionChanged:function(handler){this.JK(handler);},remove_markSelectionChanged:function(handler){this.GP(handler);},add_markTextSelectionChanged:function(handler){this.Jm(handler);},remove_markTextSelectionChanged:function(handler){this.Ft(handler);},add_commentAdded:function(handler){this.yv(handler);},remove_commentAdded:function(handler){this.DG(handler);},add_commentRemoved:function(handler){this.yu(handler);},remove_commentRemoved:function(handler){this.Dq(handler);},add_commentChanged:function(handler){this.rF(handler);},remove_commentChanged:function(handler){this.vC(handler);}};OK.registerClass=cT;OK.registerClass('IPCC.Web.UI.ArtPage');module.exports=OK;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Oi=function(){};Oi.registerEnum=eF;Oi.prototype={Line:0,Triangle:1};Oi.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Oi;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var KQ=function(text){var bu=new IPCC.Web.UI.gZ();var dI=new IPCC.Web.UI.Data();this.ZZ=IPCC.F.wB(new Date());this.aY=text;this.aAY=function(aY){if(aY===this.aY){return;}this.aY=aY;var T=new IPCC.Web.UI.CommentEventArgs();T.comment=this;T.length=1;this.bz('commentChanged',T);};this.axV=function(){return this.aY;};this.aEa=function(azw){this.ZZ=azw;};this.azC=function(){return this.ZZ;};this.rF=function(V){bu.addHandler('commentChanged',V);};this.vC=function(V){bu.removeHandler('commentChanged',V);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};this.xe=function(){return dI;};return this;};KQ.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.rF(handler);},remove_commentChanged:function(handler){this.vC(handler);},get_text:function(){return this.axV();},set_text:function(text){this.aAY(text);},get_creationTime:function(){return this.azC();},set_creationTime:function(isoTimeString){this.aEa(isoTimeString);},get_data:function(){return this.xe();}};KQ.registerClass=cT;KQ.registerClass('IPCC.Web.UI.Comment');module.exports=KQ;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Ot=function(){return this;};Ot.registerClass=cT;Ot.prototype={};Ot.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Ot;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Nv=function(apb){var hq=[];var bu=new IPCC.Web.UI.gZ();var dI=new IPCC.Web.UI.Data();var J=apb;var K=this;function PM(aN,T){K.bz('commentChanged',T);};this.Gu=function(cF){cF.add_commentChanged(PM);hq.push(cF);var T=new IPCC.Web.UI.CommentEventArgs();T.comment=cF;T.length=1;T.index=hq.length-1;this.bz('commentAdded',T);};this.aBl=function(cF){var YW= -1;IPCC.F.forEach(hq,function(el,idx){if(el===cF){YW=idx;}});if(YW=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var adD=hq.splice(YW,1)[0];adD.vC(PM);var T=new IPCC.Web.UI.CommentEventArgs();T.comment=adD;T.length=1;this.bz('commentRemoved',T);};this.ki=function(iq,dk){var H;for(H=0;H<hq.length;H++){iq.call(dk,hq[H],H,this);}};this.fE=function(){return hq.length;};this.yv=function(V){bu.addHandler('commentAdded',V);};this.DG=function(V){bu.removeHandler('commentAdded',V);};this.rF=function(V){bu.addHandler('commentChanged',V);};this.vC=function(V){bu.removeHandler('commentChanged',V);};this.yu=function(V){bu.addHandler('commentRemoved',V);};this.Dq=function(V){bu.removeHandler('commentRemoved',V);};this.xe=function(){return dI;};this.Qb=function(){return J;};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};return this;};Nv.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Gu(comment);},removeCommentInstance:function(comment){this.aBl(comment);},forEach:function(method,context){this.ki(method,context);},get_length:function(){return this.fE();},add_commentAdded:function(handler){this.yv(handler);},remove_commentAdded:function(handler){this.DG(handler);},add_commentChanged:function(handler){this.rF(handler);},remove_commentChanged:function(handler){this.vC(handler);},add_commentRemoved:function(handler){this.yu(handler);},remove_commentRemoved:function(handler){this.Dq(handler);},get_data:function(){return this.xe();},get_mark:function(){return this.Qb();}};Nv.registerClass=cT;Nv.registerClass('IPCC.Web.UI.Conversation');module.exports=Nv;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var LH=function(){this.dI={};this.xe=function(key){if(typeof key==='undefined'){return IPCC.F.extend({},this.dI);}else if(typeof key==='string'){return this.dI[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aEZ=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.dI[key]=value;}else if(typeof value==='undefined'){delete this.dI[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.azF=function(){var keys=[];IPCC.F.forEach(this.dI,function(value,key){keys.push(key);});return keys;};return this;};LH.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.xe(key);},set_data:function(key,value){return this.aEZ(key,value);},get_dataKeys:function(){return this.azF();}};LH.registerClass=cT;LH.registerClass('IPCC.Web.UI.Data');module.exports=LH;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var Mw=function(){};Mw.prototype={Production:0,Development:1,Detailed:2};Mw.registerEnum=eF;Mw.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=Mw;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var KH=function(){};KH.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};KH.registerEnum=eF;KH.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=KH;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var aT=function(aEC){var bS=aEC;var afg=this.type=bS.type.toLowerCase();var Ny=typeof bS.changedTouches!=='undefined';this.rawEvent=bS;this.altKey=bS.altKey;if(typeof(bS.button)!=='undefined'){this.button=(typeof(bS.which)!=='undefined')?bS.button:(bS.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bS.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(afg==='keypress'){this.charCode=bS.charCode||bS.keyCode;}else if(bS.keyCode&&(bS.keyCode===46)){this.keyCode=127;}else{this.keyCode=bS.keyCode;}this.clientX=(Ny)?bS.changedTouches[0].clientX:bS.clientX;this.clientY=(Ny)?bS.changedTouches[0].clientY:bS.clientY;this.ctrlKey=bS.ctrlKey;this.target=bS.target?bS.target:bS.srcElement;function asM(ak){var bB=0;var cc=0;while(ak&& !isNaN(ak.offsetLeft)&& !isNaN(ak.offsetTop)){bB+=ak.offsetLeft-ak.scrollLeft;cc+=ak.offsetTop-ak.scrollTop;if(ak.offsetparent){ak=ak.offsetParent;}else{ak=ak.parentNode;}}return{top:cc,left:bB};};var fh=""+afg;var Dm='key';if(fh.substr(0,Dm.length)!==Dm){if((typeof(bS.offsetX)!=='undefined')&&(typeof(bS.offsetY)!=='undefined')){this.offsetX=bS.offsetX;this.offsetY=bS.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bS.clientX)==='number')){var MZ=asM(this.target);var eG=this.target;var hf=eG.ownerDocument||eG.document||eG;var kN=hf.defaultView||hf.parentWindow;this.offsetX=(kN.pageXOffset||0)+bS.clientX-MZ.left;this.offsetY=(kN.pageYOffset||0)+bS.clientY-MZ.top;}}this.screenX=(Ny)?bS.changedTouches[0].screenX:bS.screenX;this.screenY=(Ny)?bS.changedTouches[0].screenY:bS.screenY;this.shiftKey=bS.shiftKey;};aT.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};aT.registerClass=cT;aT.registerClass('IPCC.Web.UI.aT');aT.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aT.Vc(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.kx.addHandlerCantBeUsedForError);}if(!element.bu){element.bu={};}var eventCache=element.bu[eventName];if(!eventCache){element.bu[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aT(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var eG=doc.defaultView||doc.parentWindow;e=eG.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aT(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aT.agE){element.dispose=IPCC.Web.UI.aT.agE;if(typeof(d)!=="undefined"){element.akZ=d;}}}};aT.clearHandlers=function(element){IPCC.Web.UI.aT.Vc(element);IPCC.Web.UI.aT.ajK(element,false);};aT.ajK=function(element,autoRemoving){if(element.bu){var cache=element.bu;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aT.removeHandler(element,name,entry.handler);}}}}element.bu=null;}};aT.agE=function(){IPCC.Web.UI.aT.ajK(this,true);var d=this.akZ,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.akZ=null;if(type==="function"){this.dispose();}}};aT.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aT.df(element,eventName,handler);};aT.df=function(element,eventName,handler){IPCC.Web.UI.aT.Vc(element);var browserHandler=null;if((typeof(element.bu)!=='object')|| !element.bu){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.bu[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aT.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};aT.Vc=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.kx.argumentDomNode);}};module.exports=aT;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var nS=function(){};nS.registerEnum=eF;nS.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nS.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nS;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Pl=function(){};Pl.registerEnum=eF;Pl.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};Pl.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=Pl;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var OJ=function(){};OJ.registerEnum=eF;OJ.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};OJ.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=OJ;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Py=function(){};Py.registerEnum=eF;Py.prototype={Left:0,Center:16,Right:32};Py.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=Py;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var Qs=function(){};Qs.registerEnum=eF;Qs.prototype={None:0,ArtDataService:1};Qs.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=Qs;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var Fe=function(aG){var iv='';var gr='';var K=this;this.dM=new IPCC.Web.UI.ImGearPageCollection();this.Ri=undefined;this.dM.bx=this;var Qu=false;this.rh=undefined;var fv=0;var Mn=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var bu=new IPCC.Web.UI.gZ();this.jr=IPCC.Web.Fo.aaE(4,IPCC.Web.Oz());this.oM=IPCC.Web.gT.Jd.lW(this.jr);var AH=[];var mP=0;var mb=[];var DR=[];var gv={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var XK=false;this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){try{V(K,T);}catch(e){IPCC.il.Qq('raise event error in ImGearDocument, error: '+e.message);IPCC.il.oy(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function Yl(aN,T){if(T.length>0){K.bz('pageAdded',T);}};function aaz(aN,T){if(T.length>0){K.bz('pageRemoved',T);}};function Ic(aN,T){K.bz('pageChanged',T);};this.dM.add_pageAdded(Yl);this.dM.add_pageRemoved(aaz);this.dM.add_pageChanged(Ic);function awp(){function asA(je,jk){var cS=je+'() threw an exception ';if(jk.name){cS+='( '+jk.name+" ";}else{cS+=".";}if(jk.message){cS+="  exception message = "+jk.message;}if(jk.statusCode){cS+="  exception statusCode = "+jk.statusCode;}cS=cS.replace(/\n/g," ");IPCC.il.oy(cS,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.bf=asA;this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(K,T);}};};if(arguments.length===0){var cS="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cS);}if(arguments.length>0){if(aG.documentIdentifier!==undefined){iv=aG.documentIdentifier;gr=IPCC.fR.tg(iv);}if(aG.encodedDocumentIdentifier!==undefined){var xr=aG.encodedDocumentIdentifier;if(aG.documentIdentifier!==undefined){gr=IPCC.fR.tg(iv);if(xr!==gr){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{iv=IPCC.fR.HB(aG.encodedDocumentIdentifier);}}if(aG.imageServicePath!==undefined){this.rh=aG.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var uI;if(aG.includeAllPages!==undefined){Qu=aG.includeAllPages;if(Qu===true){var aor=new awp();var ZW=0;K.bo=new IPCC.fR(gr,0,0,0,0,0);var pJ=function(){fv=K.bo.fv;Mn=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;ZW<fv;ZW++){var aeW=new IPCC.Web.UI.ImGearPage({pageNumber:ZW,bx:K});aeW.bx=K;K.dM.addPage(aeW);}};Mn=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.bo.Su(this.rh,aor,pJ);}catch(e){Mn=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;K.bz('pageOpenFailed',dz);throw e;}}}else if(aG.pages!==undefined){if(aG.pages.length>0){var H=0;for(H=0;H<aG.pages.length;H++){var bC=aG.pages[H];bC.document=this;this.dM.addPage(bC);}}}else if(aG.pageNumber!==undefined){if(aG.pageRangeCount!==undefined){var qj=aG.pageRangeCount;if(qj>0){var bH;for(bH=aG.pageNumber;bH<=qj;bH++){uI=new IPCC.Web.UI.ImGearPage(bH);uI.bx=K;this.dM.addPage(uI);}}else if(qj===0){uI=new IPCC.Web.UI.ImgearPage({pageNumber:aG.pageNumber,bx:K});uI.bx=K;K.dM.addPage(uI);}}else{if(aG.selected){uI=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,bx:K,selected:true});}else{uI=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,bx:K});}uI.bx=K;K.dM.addPage(uI);}}}this.Hg=function(){return iv;};this.Pa=function(){return gr;};this.aia=function(){return this.dM;};this.aAl=function(){return fv;};this.aAr=function(){return Mn;};this.aAe=function(){return Qu;};this.aFS=function(L){Qu=L;this.bX('includeAllPages');};var oG=false;this.iO=function(){return oG;};this.nq=function(L){oG=L;};this.If=function(V){bu.addHandler('pageAdded',V);};this.GH=function(V){bu.removeHandler('pageAdded',V);};this.Hk=function(V){bu.addHandler('pageRemoved',V);};this.GG=function(V){bu.removeHandler('pageRemoved',V);};this.HO=function(V){bu.addHandler('pageOpenFailed',V);};this.GJ=function(V){bu.removeHandler('pageOpenFailed',V);};this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.HC=function(V){bu.addHandler('pageChanged',V);};this.Hh=function(V){bu.removeHandler('pageChanged',V);};this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};this.anR=function(V){bu.addHandler('textPagesReceived',V);};this.aCP=function(V){bu.removeHandler('textPagesReceived',V);};this.aAk=function(){return DR.length;};this.ayb=function(){return AH;};this.azW=function(){return AH.length;};this.ayn=function(){return gv;};this.ayQ=function(){return XK;};this.aJj=function(L){XK=L;};this.arw=function(hA){if(gv.stopRequests===true){var T={};T.error=0;T.textPagesReceived=Qi(hA);if(T.textPagesReceived.length===0){if(mP>0&&mP<hA){for(var dH=mP;dH<hA;dH++){T.textPagesReceived.push(dH);}}}T.length=2;K.bz('textPagesReceived',T);return;}var jt=true;var FN=false;for(var H=0;H<mP;H++){if(Array.prototype.indexOf){if(AH.indexOf(H)<0){jt=false;FN=true;break;}}else{if(IPCC.Web.kV(AH,H)<0){FN=true;break;}}}if(FN){K.Pz(H,undefined,hA);}else if(mP<hA){for(var aU=0;aU<hA;aU++){if(Array.prototype.indexOf){if(mb.indexOf(aU)<0){jt=false;break;}}else{if(IPCC.Web.kV(mb,aU)<0){jt=false;break;}}}if(!jt){FN=true;K.Pz(aU,undefined,hA);}else{K.Pz(mP,undefined,hA);}}else{FN=false;}};function Qi(hA){var TF=[],dH;if(mb.length>0){var jt=true;for(dH=0;dH<hA;dH++){jt=true;if(Array.prototype.indexOf){if(mb.indexOf(dH)<0){jt=false;}}else{if(IPCC.Web.kV(mb,dH)<0){jt=false;}}if(!jt){mb.push(dH);DR.push(dH);TF.push(dH);}}}else{for(dH=0;dH<hA;dH++){mb.push(dH);DR.push(dH);TF.push(dH);}}return TF;};this.Pz=function(abU,afT,hA){XK=true;var am;if(!isNaN(abU)){am=abU;}else{am=0;}var Ca;if(!isNaN(hA)){Ca=hA;}var ct;if(!isNaN(afT)){ct=afT;}else if(!isNaN(Ca)){ct=Ca-1;}else{Ca=hA;if(!isNaN(Ca)){ct=Ca-1;}}if(isNaN(ct)){ct=am+1;}if(ct-am>9){ct=am+9;}function Ov(aY){var Rf=mP;var Xd=[];var jt=true;var au;for(var bb=0;bb<aY.pages.length;bb++){if(Array.prototype.indexOf){if(AH.indexOf(aY.pages[bb].number)<0){jt=false;}}else{if(IPCC.Web.kV(AH,aY.pages[bb].number)<0){jt=false;}}if(!jt){AH.push(aY.pages[bb].number);if(K.dM.hM(aY.pages[bb].number).cn().yQ()===false){au=K.dM.hM(aY.pages[bb].number);au.adp(aY.pages[bb]);au.act(aY.pages[bb]);au.adE(aY.pages[bb].markup,aY.pages[bb].height,aY.pages[bb].width);}mP++;Xd.push(aY.pages[bb].number);mb.push(aY.pages[bb].number);if(!aY.pages[bb].text){DR.push(aY.pages[bb].number);}}}var T={};if(aY.hasOwnProperty("errorCode")){T.error=0;K.pageExtractionFailed=true;T.textPagesReceived=Xd;T.length=2;for(var AP=gv.startPage;AP<gv.lastPage+1;AP++){jt=true;if(Array.prototype.indexOf){if(mb.indexOf(AP)<0){jt=false;}}else{if(IPCC.Web.kV(mb,AP)<0){jt=false;}}if(!jt){mb.push(AP);DR.push(AP);T.textPagesReceived.push(AP);}}K.bz('textPagesReceived',T);gv.stopRequests=true;return;}if(mP>Rf){T.textPagesReceived=Xd;T.length=2;T.error=0;}var qR=gv.lastTimeout;if(gv.startPage===am&&gv.lastPage===ct&&mP===Rf){if(gv.requestCount<25){qR=qR+1000;gv.requestCount++;}else{T.error=0;T.textPagesReceived=[];T.length=2;jt=true;var dH;for(dH=gv.startPage;dH<gv.lastPage+1;dH++){jt=true;if(Array.prototype.indexOf){if(mb.indexOf(dH)<0){jt=false;}}else{if(IPCC.Web.kV(mb,dH)<0){jt=false;}}if(!jt){mb.push(dH);DR.push(dH);T.textPagesReceived.push(dH);}}if(T.textPagesReceived.length===0){if(mP>0&&mP<hA){for(dH=mP;dH<hA;dH++){T.textPagesReceived.push(dH);}}}gv.stopRequests=true;K.bz('textPagesReceived',T);return;}}else{qR=1000;gv.requestCount=0;}gv.lastTimeout=qR;gv.startPage=am;gv.lastPage=ct;setTimeout(function(){K.arw(hA);},qR);if(mP>Rf){K.bz('textPagesReceived',T);}};function fD(ac){var T={},fP,aa;try{var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");if(pa==='true'){var ws=IPCC.Web.gT.sd.tN(ac.getResponseHeader("Accusoft-Data-SK"));var an=IPCC.Web.JP(ws,K.jr);var es=IPCC.Web.JC(ac);var uT=IPCC.Web.Cp(es,an,K.jr);fP=IPCC.Web.gT.Ii.lW(uT);}else{fP=ac.responseText;}aa=JSON.parse(fP);Ov(aa);}catch(e){T.error= -1;Qi(hA);T.textPagesReceived=[];T.length=2;K.bz('textPagesReceived',T);return;}};function ep(aa){var T={},hC;try{hC=aa.response.status;if(aa.response.responseText){aa=JSON.parse(aa.response.responseText);if(aa.hasOwnProperty("errorCode")){T.error=0;if(mP>0){if(aa.pages){if(aa.pages.length>0){Ov(aa);return;}}}else{T.error= -1;}if(mb.length===0){T.error= -1;}K.pageExtractionFailed=true;T.textPagesReceived=[];T.length=2;T.textPagesReceived=Qi(hA);K.bz('textPagesReceived',T);return;}else{throw new IPCC.Web.UI.ImGearHttpException(hC,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(hC,"Unable to obtain text");}}catch(e){T.error= -1;Qi(hA);T.textPagesReceived=[];T.length=2;K.bz('textPagesReceived',T);return;}};var iC=iv;var gQ=K.rh;if(!(/^[\x00-\x7F]*$/.test(iC))){iC='e'+gr;}else{iC='u'+iC;}var af;if(K.iO()){af=gQ+'/Document/q/'+am.toString()+'-'+ct.toString()+'/Text?DocumentID='+iC+'&iv='+K.oM;}else{af=gQ+'/Document/q/'+am.toString()+'-'+ct.toString()+'/Text?DocumentID='+iC;}IPCC.F.mL.dY({method:'GET',url:af,headers:{'accept':'application/json'}}).then(fD,ep);};return this;};Fe.encodeDocumentIdentifier=function(iv){var gr;if(iv!==undefined){gr=IPCC.fR.tg(iv);}return gr;};Fe.decodeDocumentIdentifier=function(gr){var aha;if(gr!==undefined){aha=IPCC.fR.HB(gr);}return aha;};Fe.prototype={get_documentIdentifier:function(){var aO=this.Hg();return aO;},get_encodedDocumentIdentifier:function(){var aO=this.Pa();return aO;},get_pages:function(){return this.aia();},get_pageCountStatus:function(){var r=this.aAr();return r;},set_pageCountStatus:function(value){this.aHr(value);},get_pageCount:function(){var r=this.aAl();return r;},get_includeAllPages:function(){try{var aO=this.aAe();return aO;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aFS(value);}catch(e){throw e;}},get_encryption:function(){var aO=this.iO();return aO;},set_encryption:function(value){this.nq(value);},add_pageChanged:function(handler){this.HC(handler);},remove_pageChanged:function(handler){this.Hh(handler);},add_pageRemoved:function(handler){this.Hk(handler);},remove_pageRemoved:function(handler){this.GG(handler);},add_pageAdded:function(handler){this.If(handler);},remove_pageAdded:function(handler){this.GH(handler);},add_pageOpenFailed:function(handler){this.HO(handler);},remove_pageOpenFailed:function(handler){this.GJ(handler);},get_textRequestInfo:function(){try{var aO=this.ayn();return aO;}catch(e){throw e;}},get_pagesWithText:function(){try{var aO=this.ayb();return aO;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var aO=this.azW();return aO;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var aO=this.aAk();return aO;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.anR(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.aCP(handler);}catch(e){this.bf('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.lo(handler);},remove_propertyChanged:function(handler){this.mB(handler);}};Fe.registerClass=cT;Fe.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Fe;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var RK=function(){var iV=[];var bu=new IPCC.Web.UI.gZ();var K=this;function arK(aN,T){if(T){var QC=new IPCC.Web.UI.ImGearDocumentEventArgs();QC.document=aN;QC.propertyName=T.get_propertyName();QC.length=2;K.bz('documentChanged',QC);}};this.Tg=function(aDQ){this.afR(iV.length,aDQ);};this.afR=function(ba,bx){var aU;var cB=iV.length;if(ba>iV.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'document index is out of range');}for(aU=0;aU<cB;aU++){if(iV[aU]===bx){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var ajp=bu.getHandler('pageAdded');if(ajp){bx.add_pageAdded(ajp);}var ahx=bu.getHandler('pageRemoved');if(ahx){bx.add_pageRemoved(ahx);}var ajF=bu.getHandler('pageChanged');if(ajF){bx.add_pageChanged(ajF);}bx.add_propertyChanged(arK);iV.splice(ba,0,bx);var T=new IPCC.Web.UI.ImGearDocumentEventArgs();T.imGearDocument=bx;T.index=ba;T.length=1;this.bz('documentAdded',T);};function jM(ba){if(ba>iV.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'document index is out of range');}};this.Ox=function(ba){jM(ba);return iV[ba];};this.fE=function(){return iV.length;};this.aHL=function(iq,dk){var ack=[].concat(iV);var H;for(H=0;H<ack.length;H++){iq.call(dk,ack[H],H,this);}};this.adq=function(ba){jM(ba);var T=new IPCC.Web.UI.ImGearDocumentEventArgs();T.imGearDocument=iV[ba];T.length=1;iV[ba].get_pages().removeAllPages();iV.splice(ba,1);this.bz('documentRemoved',T);};this.aAZ=function(){var H=0;while(iV.length>0){this.adq(H);}};this.anT=function(V){bu.addHandler('documentAdded',V);};this.aAI=function(V){bu.removeHandler('documentAdded',V);};this.anK=function(V){bu.addHandler('documentRemoved',V);};this.azN=function(V){bu.removeHandler('documentRemoved',V);};this.aoC=function(V){bu.addHandler('documentChanged',V);};this.azh=function(V){bu.removeHandler('documentChanged',V);};this.If=function(V){bu.addHandler('pageAdded',V);};this.GH=function(V){bu.removeHandler('pageAdded',V);for(var aU=0;aU<iV.length;aU++){iV[aU].remove_pageAdded(V);}};this.HC=function(V){bu.addHandler('pageChanged',V);};this.Hh=function(V){bu.removeHandler('pageChanged',V);for(var aU=0;aU<iV.length;aU++){iV[aU].remove_pageChanged(V);}};this.Hk=function(V){bu.addHandler('pageRemoved',V);};this.GG=function(V){bu.removeHandler('pageRemoved',V);for(var aU=0;aU<iV.length;aU++){iV[aU].remove_pageRemoved(V);}};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){try{V(K,T);}catch(e){IPCC.il.Qq('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};RK.prototype={addDocument:function(imGearDocument){this.Tg(imGearDocument);},insertDocument:function(index,imGearDocument){this.afR(index,imGearDocument);},forEach:function(method,context){this.ki(method,context);},getDocument:function(index){return this.Ox(index);},get_length:function(){return this.fE();},removeDocument:function(imGearDocument){this.adq(imGearDocument);},removeAllDocuments:function(){this.aAZ();},add_documentAdded:function(handler){this.anT(handler);},remove_documentAdded:function(handler){this.aAI(handler);},add_documentRemoved:function(handler){this.anK(handler);},remove_documentRemoved:function(handler){this.azN(handler);},add_documentChanged:function(handler){this.aoC(handler);},remove_documentChanged:function(handler){this.azh(handler);},add_pageAdded:function(handler){this.If(handler);},remove_pageAdded:function(handler){this.GH(handler);},add_pageRemoved:function(handler){this.Hk(handler);},remove_pageRemoved:function(handler){this.GG(handler);},add_pageChanged:function(handler){this.HC(handler);},remove_pageChanged:function(handler){this.Hh(handler);}};RK.registerClass=cT;RK.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=RK;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var RH=function(){return this;};RH.registerClass=cT;RH.prototype={};RH.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=RH;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var QO=function(){return this;};QO.registerClass=cT;QO.prototype={};QO.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=QO;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var aAi=function(kk){var bB=0,cc=0,bQ=0,aD=0,mz=kk.href||"",apP=kk.borderStyle||"Solid",mA=kk.borderThickness||0,zR=kk.borderPattern||[1],Jf=kk.borderHorizontalRadius||0,Ij=kk.borderHorizontalRadius||0,nQ=kk.borderColor||"#0000FF",sR=kk.borderOpacity||255,h,J;if(typeof sR==='string'){sR=parseInt(sR,10);}if(kk.rectangle){bB=kk.rectangle.x;cc=kk.rectangle.y;bQ=kk.rectangle.width;aD=kk.rectangle.height;}h=new IPCC.Web.UI.Rectangle(bB,cc,bQ,aD);this.ey=function(){var abw=new IPCC.Web.UI.Rectangle(h.x,h.y,h.width,h.height);return abw;};this.Bx=function(jO){h.x=jO.x;h.y=jO.y;h.width=jO.width;h.height=jO.height;};this.aiF=function(){return mz;};this.axC=function(){return apP;};this.axl=function(){return mA;};this.aFN=function(){return zR;};this.aFm=function(){return Jf;};this.axG=function(){return Ij;};this.aFt=function(){return nQ;};this.aEW=function(){return sR;};this.Qb=function(){return J;};this.aBF=function(apw){J=apw;};this.aAq=function(){return IPCC.F.amt(mz);};};module.exports=aAi;},{}],84:[function(require,module,exports){var gZ=function gZ(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.FF={};};gZ.prototype.dq=function(ds,V){var co=this.Uz(ds,true);co[co.length]=V;};gZ.prototype.addHandler=function(ds,V){this.dq(ds,V);};gZ.prototype.df=function(ds,V){var sQ=this.Uz(ds);if(!sQ){return;}var ba=IPCC.Yw(sQ,V);if(ba>=0){sQ.splice(ba,1);}};gZ.prototype.removeHandler=function(ds,V){this.df(ds,V);};gZ.prototype.getHandler=function(ds){var sQ=this.Uz(ds);if(!sQ||(sQ.length===0)){return null;}var co=sQ.slice();sQ=co;return function(source,args){for(var H=0,qa=sQ.length;H<qa;H++){sQ[H](source,args);}};};gZ.prototype.Uz=function(ds,apC){if(!this.FF[ds]){if(!apC){return null;}this.FF[ds]=[];}return this.FF[ds];};module.exports=gZ;},{}],85:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var EG=function(message,errorInfo){this.message=message;var K=this;if(errorInfo){for(var YY in errorInfo){if(errorInfo.hasOwnProperty(YY)){K[YY]=errorInfo[YY];}}}};EG.prototype=new Error();EG.registerClass=cT;EG.registerClass('IPCC.Web.UI.ImGearException');var Ez=function(statusCode,message,customErrorCode){var hB="IPCC.Web.UI.ImGearHttpException: ";if(message){hB+=message;}this.message=hB;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Ez.prototype=new Error();Ez.registerClass=cT;Ez.registerClass('IPCC.Web.UI.ImGearHttpException');var rR=function(paramName,message){var hB="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.kx.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hB+="\n"+IPCC.Web.zb(IPCC.kx.paramName,paramName);}}this.message=hB;this.paramName=paramName;};rR.prototype=new Error();rR.registerClass=cT;rR.registerClass('IPCC.Web.UI.ImGearArgumentException');var AW=function(paramName,message){var hB="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.kx.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hB+="\n"+IPCC.Web.zb(IPCC.Res.paramName,paramName);}}this.message=hB;this.paramName=paramName;};AW.prototype=new Error();AW.registerClass=cT;AW.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var pV=function(paramName,actualValue,message){var hB="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.kx.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hB+="\n"+IPCC.Web.zb(IPCC.kx.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){hB+="\n"+IPCC.Web.zb(IPCC.kx.actualValue,actualValue);}this.message=hB;this.paramName=paramName;this.actualValue=actualValue;};pV.prototype=new Error();pV.registerClass=cT;pV.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var CP=function(paramName,actualType,expectedType,message){var hB="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){hB+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){hB+=IPCC.Web.zb(IPCC.kx.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{hB+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{hB+=IPCC.kx.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hB+="\n"+IPCC.Web.zb(IPCC.kx.paramName,paramName);}}this.message=hB;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};CP.prototype=new Error();CP.registerClass=cT;CP.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var FZ=function(paramName,message){var hB="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.kx.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hB+="\n"+IPCC.Web.zb(IPCC.Res.paramName,paramName);}}this.message=hB;this.paramName=paramName;};FZ.prototype=new Error();FZ.registerClass=cT;FZ.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var DS=function(message){var hB="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.kx.invalidOperation);this.message=hB;};DS.prototype=new Error();DS.registerClass=cT;DS.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var Ga=function(message){var hB="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.kx.notImplemented);this.message=hB;};Ga.prototype=new Error();Ga.registerClass=cT;Ga.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Gx=function(message){var hB="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.kx.parameterCount);this.message=hB;};Gx.prototype=new Error();Gx.registerClass=cT;Gx.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={EG:EG,Ez:Ez,rR:rR,AW:AW,pV:pV,CP:CP,FZ:FZ,DS:DS,Ga:Ga,Gx:Gx};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var aAz=function(){var EV=[];this.aoU=function(azb){EV.push(azb);};this.dF=function(){return EV.length;};this.ki=function(iq,dk){IPCC.F.forEach(EV,iq,dk);};this.aBA=function(){if(EV.length<1){return;}EV=[];};return this;};module.exports=aAz;},{}],87:[function(require,module,exports){var aAb=function(){var GE=new IPCC.Web.UI.ImGearHyperlinkCollection();this.JI=function(){return GE;};};module.exports=aAb;},{}],88:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var RF=function(aG){this.bx=undefined;var aj=0;var bw=0,aaF=0,abF=0;var aV=0,amu=0,ane=0;var K=this;var bu=new IPCC.Web.UI.gZ();this.aHj=undefined;this.gv={sX:0,abV:false,qb:1000,MB:false};var fL=new IPCC.Web.UI.ImGearTextPage();var Qg=new IPCC.Web.UI.ImGearHyperlinkPage();var lu=0;var oG=false;var Gj=false,Cy=0,Fd=0;function ahK(o){return!isNaN(o-0);};if(aG.pageNumber!==undefined){if(ahK(aG.pageNumber)){aj=aG.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.nL=function(){return aj;};this.aIj=function(L){if(ahK(aG.pageNumber)){aj=L;}};this.kg=function(){return bw;};function aiT(){if(!fL){fL=new IPCC.Web.UI.ImGearTextPage();}var aoJ=fL.fX();var pQ=bw/Cy,oB=aV/Fd;aoJ.axo(pQ,oB);};function aiA(){var GE=Qg.JI();var pQ=bw/Cy,oB=aV/Fd;GE.ki(function(gg){gg.Bx(gg.ey().scale(pQ,oB));var ahq=gg.Qb();ahq.set_rectangle(ahq.get_rectangle().scale(pQ,oB));});};this.Sa=function(L){bw=L;if(Gj&&bw&&bw!==Cy&&aV&&aV!==Fd){aiT();aiA();Gj=false;}};this.jn=function(){return aV;};this.Rx=function(L){aV=L;if(Gj&&bw&&bw!==Cy&&aV&&aV!==Fd){aiT();aiA();Gj=false;}};this.aiK=function(){return aaF;};this.aeU=function(L){aaF=L;};this.aGP=function(){return amu;};this.aer=function(L){amu=L;};this.aIt=function(){return abF;};this.aGS=function(L){abF=L;};this.aIo=function(){return ane;};this.aHQ=function(L){ane=L;};this.ayK=function(){return this.bx;};this.cn=function(){if(!fL){fL=new IPCC.Web.UI.ImGearTextPage();}return fL;};this.lk=function(){return lu;};this.vw=function(L){if(lu===L){return;}if(isNaN(L)){return;}lu=L;this.bX('serviceResponseTimeout');};this.iO=function(){return oG;};this.nq=function(L){oG=L;};this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.zd=function(V){bu.addHandler('textPageReady',V);};this.Ei=function(V){bu.removeHandler('textPageReady',V);};this.ahM=function(){return Qg;};this.WH=function(V){bu.addHandler('hyperlinkPageReady',V);};this.adV=function(V){bu.removeHandler('hyperlinkPageReady',V);};this.yg=function(V){bu.dq('textExtractionFailed',V);};this.Eb=function(V){bu.df('textExtractionFailed',V);};this.adp=function(gL){if(bw===0&&aV===0){Gj=true;Cy=gL.width;Fd=gL.height;}};this.act=function(gL){if(!fL){fL=new IPCC.Web.UI.ImGearTextPage();}fL.aCo(gL.width);fL.aGt(gL.height);if(fL.fX().fE()>0){return;}else if(gL.errorCode){var nt=new IPCC.Web.UI.ImGearException(gL.errorDescription,{name:'Text Extraction'});var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=nt;dz.pageNumber=K.get_pageNumber();K.bz('textExtractionFailed',dz);return;}var atI=fL.fX();var Oe=false;var aeC;function FV(Xq){return Xq;};var oB=1;var pQ=1;if(gL.height&&gL.height>0&&aV>0){if(gL.height!==aV){oB=aV/gL.height;}}if(gL.width&&gL.width>0&&bw>0){if(gL.width!==bw){pQ=bw/gL.width;}}var ji;var aen= -1;var Pr;var jD,Ad;for(var H=0;H<gL.rectangles.length;H++){jD=gL.rectangles[H];Ad=FV(gL.text[H]);Oe=false;if(jD[2]===0){Ad="\n";Oe=true;if(H>0){aeC=gL.rectangles[H-1];jD[2]=aeC[2];}}if(pQ===1&&oB===1){Pr=new IPCC.Web.UI.ImGearTextCharacter(jD[0],jD[1],jD[2],jD[3],Ad,Oe);}else{Pr=new IPCC.Web.UI.ImGearTextCharacter(jD[0]*pQ,jD[1]*oB,jD[2]*pQ,jD[3]*oB,Ad,Oe);}if(Pr){atI.aoV(Pr);}if(ji===undefined||aen!==jD[1]||jD[0]<ji.ey().x){if(ji){fL.Vt().akh(ji);}ji=new IPCC.Web.UI.ImGearTextSection();ji.Bx(new IPCC.Web.UI.Rectangle(jD[0],jD[1],jD[2],jD[3]));ji.aBe(H);}else{if(jD[0]+jD[2]-ji.ey().x>ji.ey().width){ji.ey().width=jD[0]+jD[2]-ji.ey().x;}}ji.aGF(H);aen=jD[1];}if(ji){fL.Vt().akh(ji);}fL.aDZ(gL.text);if(gL.text.length>0){fL.Ql(true);K.bz('textPageReady',{pageNumber:K.nL(),containsText:true});}else{fL.Ql(false);K.bz('textPageReady',{pageNumber:K.nL(),containsText:false});}};this.adE=function(agN,MA,NK){if(!agN){return;}Qg.JI().aBA();var oB=1;var pQ=1;if(MA&&MA>0&&aV>0){if(MA!==aV){oB=aV/MA;}}if(NK&&NK>0&&bw>0){if(NK!==bw){pQ=bw/NK;}}IPCC.F.forEach(agN,function(agc){var gg;switch(agc.markType){case "DocumentHyperlink":gg=new IPCC.Web.UI.ImGearDocumentHyperlink(agc.properties);gg.Bx(gg.ey().scale(pQ,oB));if(!gg.aAq()){Qg.JI().aoU(gg);}break;default:break;}});K.bz('hyperlinkPageReady',{pageNumber:K.nL()});};this.axt=function(){K.xy();};this.xy=function(){if(!fL){fL=new IPCC.Web.UI.ImGearTextPage();}if(!K.bx){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(fL.yQ()){return;}var afJ=true;if(K.lk()===0){afJ=false;}function Ov(aY){if(aY.pages){var aP;if(aY.pages.length>0){if(aY.pages[0].number!==K.nL()){for(var H=0;H<aY.pages.length;H++){if(aY.pages[H].number===K.nL()){aP=H;break;}}if(!aP){K.gv.MB=false;return;}}else{aP=0;}var gL=aY.pages[aP];K.gv.MB=true;if(aY.pages[aP].text&&aY.pages[aP].text.length>0){fL.Ql(true);}else{fL.Ql(false);}K.gv.qb=1000;K.adp(gL);K.act(gL);K.adE(gL.markup,gL.height,gL.width);return;}}var qR=K.gv.qb;if(!K.gv.MB){if(K.gv.sX<6){if(K.gv.sX<2){qR=qR+1000;}else{qR=qR+3000;}K.gv.sX++;K.gv.qb=qR;setTimeout(K.axt,qR);}else{K.gv.abV=true;}}};function fD(ac){var jr=K.bx.jr,aa;try{var fP;var pa=ac.getResponseHeader("Accusoft-Data-Encrypted");if(pa==='true'){var ws=IPCC.Web.gT.sd.tN(ac.getResponseHeader("Accusoft-Data-SK"));var an=IPCC.Web.JP(ws,jr);var es=IPCC.Web.JC(ac);var uT=IPCC.Web.Cp(es,an,jr);fP=IPCC.Web.gT.Ii.lW(uT);}else{fP=ac.responseText;}aa=JSON.parse(fP);Ov(aa);}catch(e){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=K.get_pageNumber();K.bz('textExtractionFailed',dz);return;}};function ep(aa){try{if(!aa.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aa.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,"Unable to obtain text, Error from the service = "+aa.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aa.response.status,"Unable to obtain text from the service");}}}catch(e){var dz=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dz.exception=e;dz.pageNumber=K.get_pageNumber();K.bz('textExtractionFailed',dz);return;}};var am=K.get_pageNumber();var iC=K.bx.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(iC))){iC='e'+K.bx.get_encodedDocumentIdentifier();}else{iC='u'+encodeURIComponent(iC);}var gQ=K.bx.rh;var oM=K.bx.oM;var af;if(K.iO()){af=gQ+'/Document/q/'+am.toString()+'-'+am.toString()+'/Text?DocumentID='+iC+'&iv='+oM;}else{af=gQ+'/Document/q/'+am.toString()+'-'+am.toString()+'/Text?DocumentID='+iC;}var gI={method:'GET',url:af,headers:{'accept':'application/json'}};if(afJ===true){gI.timeout=K.lk();}IPCC.F.mL.dY(gI).then(fD,ep);};this.cn=function(){if(!fL){fL=new IPCC.Web.UI.ImGearTextPage();}return fL;};this.aKy=function(L){if(typeof L.oj!=='function'){return;}fL=L;};this.agt=function(){fL=undefined;K.gv={sX:0,abV:false,qb:1000,MB:false};Gj=false;Cy=0;Fd=0;};this.OB=function(xi,yi){var K=this;function fD(ac){var aa;aa=JSON.parse(ac.responseText);if(aa.imageWidth&&aa.imageHeight){K.Sa(aa.imageWidth);K.Rx(aa.imageHeight);xi(aa.imageWidth,aa.imageHeight);}else{yi("Unable to obtain document information from the server");}};function ep(aa){yi("Unable to obtain document information from the server");};if(K.kg()>0||K.jn()>0){xi(K.kg(),K.jn());}else{var qJ=IPCC.fR.tg(K.bx.get_documentIdentifier());if(!qJ||qJ===""){yi("Invalid encoded Identifier");}var wi='';if(!IPCC.uH.Ke()){wi='&ContentType=png';}var af;if(!(/^[\x00-\x7F]*$/.test(qJ))){af=K.bx.rh+'/Page/q/'+(K.get_pageNumber())+'/Attributes?DocumentID=e'+qJ+wi;}else{af=K.bx.rh+'/Page/q/'+(K.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(K.bx.get_documentIdentifier())+wi;}IPCC.F.mL.dY({method:'GET',url:af,headers:{'Content-Type':'application/json'}}).then(fD,ep);}};this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){try{V(K,T);}catch(e){IPCC.il.Qq('event raise, ImGearPage, error: '+e.message);}}};return this;};RF.prototype={get_pageNumber:function(){var aO=this.nL();return aO;},get_pageWidth:function(){var aO=this.kg();return aO;},get_pageHeight:function(){var aO=this.jn();return aO;},get_textPage:function(){var aO=this.cn();return aO;},get_encryption:function(){var aO=this.iO();return aO;},set_encryption:function(value){this.nq(value);},get_hyperlinkPage:function(){return this.ahM();},get_document:function(){var aO=this.ayK();return aO;},add_propertyChanged:function(handler){this.lo(handler);},remove_propertyChanged:function(handler){this.mB(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.OB(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};RF.registerClass=cT;RF.registerClass('IPCC.Web.UI.ImGearPage');module.exports=RF;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var Sb=function(){var K=this;var dM=[];var bu=new IPCC.Web.UI.gZ();this.atV=false;this.auG=true;this.bx=undefined;this.ajI=function(bb){this.ahn(dM.length,bb);};function jM(ba){if(ba>dM.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'page index is out of range in the page collection');}};this.ahn=function(ba,bb){var aU;var cB=dM.length;if(ba>dM.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'index of the page Collection is out of range');}if(K.auG&&K.atV){if(cB>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(aU=0;aU<cB;aU++){if(dM[aU]===bb){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(K.bx){if(!bb.bx){bb.bx=K.bx;}}bb.add_propertyChanged(Ic);dM.splice(ba,0,bb);var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=bb;T.length=1;K.bz('pageAdded',T);};this.hM=function(ba){jM(ba);var fH=dM[ba];return fH;};this.aDO=function(ba,bb){jM(ba);var Sr=dM[ba];if(Sr===bb){return;}dM[ba]=bb;var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=bb;T.length=1;this.bz('pageAdded',T);Sr.remove_propertyChanged(Ic);var ya=new IPCC.Web.UI.ImGearPageEventArgs();ya.imGearPage=Sr;ya.length=1;this.bz('pageRemoved',ya);};this.fE=function(){return dM.length;};this.ki=function(iq,dk){var acu=[].concat(dM);var H;for(H=0;H<acu.length;H++){iq.call(dk,acu[H],H,this);}};this.abY=function(ba){jM(ba);var T=new IPCC.Web.UI.ImGearPageEventArgs();T.imGearPage=dM[ba];dM[ba].remove_propertyChanged(Ic);T.length=1;dM.splice(ba,1);K.bz('pageRemoved',T);};this.aHP=function(bb){var dF=dM.length;for(var H=0;H<dF;H++){if(bb===dM[H]){return H;}}return-1;};this.aCe=function(){var H=0;while(dM.length>0){this.abY(H);}};function Ic(aN,T){var ya=new IPCC.Web.UI.ImGearPageEventArgs();ya.imGearPage=aN;ya.length=1;K.bz('pageChanged',ya);};this.If=function(V){bu.addHandler('pageAdded',V);};this.GH=function(V){bu.removeHandler('pageAdded',V);};this.HC=function(V){bu.addHandler('pageChanged',V);};this.Hh=function(V){bu.removeHandler('pageChanged',V);};this.Hk=function(V){bu.addHandler('pageRemoved',V);};this.GG=function(V){bu.removeHandler('pageRemoved',V);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){try{V(K,T);}catch(e){IPCC.il.Qq('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};Sb.prototype={addPage:function(page){this.ajI(page);},insertPage:function(index,page){this.ahn(index,page);},forEach:function(method,context){this.ki(method,context);},getPage:function(index){return this.hM(index);},setPage:function(index,page){this.aDO(index,page);},get_length:function(){return this.fE();},removePage:function(index){this.abY(index);},removeAllPages:function(){this.aCe();},add_pageAdded:function(handler){this.If(handler);},remove_pageAdded:function(handler){this.GH(handler);},add_pageChanged:function(handler){this.HC(handler);},remove_pageChanged:function(handler){this.Hh(handler);},add_pageRemoved:function(handler){this.Hk(handler);},remove_pageRemoved:function(handler){this.GG(handler);}};Sb.registerClass=cT;Sb.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=Sb;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var RE=function(){};RE.registerEnum=eF;RE.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};RE.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=RE;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var Sj=function(){};Sj.registerClass=cT;Sj.prototype={};Sj.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Sj;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var cT=require('./../../IPCC.Util').regClass;var QE=function(){return this;};QE.prototype={};QE.registerClass=cT;QE.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=QE;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Rk=function(){return this;};Rk.registerClass=cT;Rk.prototype={};Rk.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=Rk;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var azI=function(bB,cc,bQ,aD,Ad,aAg){this.bq=new IPCC.Web.UI.Rectangle(bB,cc,bQ,aD);this.kB=Ad;this.HW=aAg;this.ayg=function(){return Ad;};this.sD=function(){var abw=new IPCC.Web.UI.Rectangle(this.bq.x,this.bq.y,this.bq.width,this.bq.height);return abw;};this.aHw=function(){return this.HW;};};module.exports=azI;},{}],95:[function(require,module,exports){var aAo=function(){var hL=[];this.aoV=function(kY){hL.push(new IPCC.Web.UI.ImGearTextCharacter(kY.bq.x,kY.bq.y,kY.bq.width,kY.bq.height,kY.kB,kY.HW));};this.aHc=function(apd){function jR(kY){hL.push(kY);};apd.forEach(jR,{});};this.azj=function(){var aai=[];for(var aU=0;aU<this.fE();aU++){var NX=this.kQ(aU).bq;var h=[];h.push(NX.x);h.push(NX.y);h.push(NX.width);h.push(NX.height);aai.push(h);}return aai;};this.aGD=function(ba,acd){var aU;var cB=hL.length;if(ba>hL.length||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba,'index of theText Character Collection is out of range');}for(aU=0;aU<cB;aU++){if(hL[aU]===acd){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same aY Character instance in a kY collection).');}}hL.splice(ba,0,acd);};this.axo=function(afn,aey){IPCC.F.forEach(hL,function(kB){kB.bq.width=kB.bq.width*afn;kB.bq.height=kB.bq.height*aey;kB.bq.x=kB.bq.x*afn;kB.bq.y=kB.bq.y*aey;});};this.ki=function(iq,dk){var XS=[].concat(hL);var H;for(H=0;H<XS.length;H++){iq.call(dk,new IPCC.Web.UI.ImGearTextCharacter(XS[H].x,XS[H].y),H,this);}};function jM(ba){if(ba>hL.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.kQ=function(ba){jM(ba);var qg=hL[ba];return new IPCC.Web.UI.ImGearTextCharacter(qg.bq.x,qg.bq.y,qg.bq.width,qg.bq.height,qg.kB,qg.HW);};this.aHy=function(ba,kY){jM(ba);var Fi=hL[ba];if(Fi.bq.x===kY.bq.x&&Fi.bq.y===kY.y&&Fi.bq.width===kY.bq.width&&Fi.bq.height===kY.bq.height&&Fi.kB===kY.kB&&Fi.HW===kY.HW){return;}hL[ba]=kY;};this.fE=function(){return hL.length;};this.aGK=function(ba){jM(ba);hL.splice(ba,1);};this.aIB=function(){if(hL.length<1){return;}hL=[];};return this;};module.exports=aAo;},{}],96:[function(require,module,exports){var aAy=function(){var aoc=new IPCC.Web.UI.ImGearTextCharacterCollection();var YH=false;var acy=false;var WG="";var uM=new IPCC.Web.UI.ImGearTextSectionCollection();var ZU=false;var bQ=0;var aD=0;this.fX=function(){return aoc;};this.oj=function(){return YH;};this.Ql=function(L){acy=true;if(L===YH){return;}if((L===true)||(L===false)){YH=L;}};this.yQ=function(){return acy;};this.BD=function(){return WG;};this.aDZ=function(L){if(L===WG){return;}WG=L;};this.Vt=function(){return uM;};this.aAN=function(){return ZU;};this.afd=function(L){if(L===ZU){return;}if((L===true)||(L===false)){ZU=L;}};this.ayD=function(){return bQ;};this.aCo=function(L){if(L===bQ){return;}bQ=L;};this.ayo=function(){return aD;};this.aGt=function(L){if(L===aD){return;}aD=L;};};module.exports=aAy;},{}],97:[function(require,module,exports){var azt=function(){var h=null;var am=0;var ct=0;this.ey=function(){return h;};this.Bx=function(L){h=L;};this.ajv=function(){return am;};this.aBe=function(L){am=L;};this.aic=function(){return ct;};this.aGF=function(L){ct=L;};};module.exports=azt;},{}],98:[function(require,module,exports){var azV=function(){var uM=[];this.akh=function(ji){uM.push(ji);};function jM(ba){if(ba>uM.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.aAW=function(ba){jM(ba);return uM[ba];};this.fE=function(){return uM.length;};return this;};module.exports=azV;},{}],99:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var MJ=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};MJ.registerEnum=eF;MJ.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};MJ.registerEnum("IPCC.Web.UI.Key");module.exports=MJ;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Lx=function(){};Lx.registerEnum=eF;Lx.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Lx.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Lx;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var MD=function(){};MD.registerEnum=eF;MD.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};MD.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=MD;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Od=function(){return this;};Od.registerClass=cT;Od.prototype={};Od.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=Od;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var NB=function(type){var bn=type;type=undefined;var rO=new Date();var tf=new Date();var aB=null;var h;var bg;var dC;var dI=new IPCC.Web.UI.Data();var bu=new IPCC.Web.UI.gZ();var K=this;var ig;this.ek=function(jC,cU){if((ig&jC)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(cU+' is not a valid property for this type of Mark.');}};if(bn===IPCC.Web.UI.MarkType.SignatureText){this.ke='#000000';this.jx=IPCC.Web.UI.LineStyle.Solid;this.dU=0;}else{this.ke='#000000';this.jx=IPCC.Web.UI.LineStyle.Solid;this.dU=1;}this.cY=255;this.mX=IPCC.Web.UI.MarkInteractionMode.Full;var kW=false;switch(bn){case IPCC.Web.UI.MarkType.Line:kW=true;bg=new IPCC.Web.UI.PointCollection();bg.addPoint({x:0,y:0});bg.addPoint({x:0,y:0});ig=1;this.ke='#18385F';this.dU=6;break;case IPCC.Web.UI.MarkType.Polyline:kW=true;this.rq=false;bg=new IPCC.Web.UI.PointCollection();ig=2;this.dU=2;break;case IPCC.Web.UI.MarkType.Rectangle:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=4;this.fF='#FB0404';this.dU=4;break;case IPCC.Web.UI.MarkType.Ellipse:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=8;this.fF='#FB0404';this.dU=4;break;case IPCC.Web.UI.MarkType.Polygon:bg=new IPCC.Web.UI.PointCollection();ig=16;break;case IPCC.Web.UI.MarkType.Text:this.Ee='#000000';this.zP=false;this.rj=IPCC.Web.UI.LineStyle.Solid;this.DB=1;this.mv=new IPCC.Web.UI.Point(0,0);this.DX=IPCC.Web.UI.CalloutType.Triangle;this.yV=false;this.hu='Arial';this.cG=12;this.dv=IPCC.Web.UI.FontStyle.Regular;this.jx=IPCC.Web.UI.LineStyle.Solid;this.eD=0;h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.jh=IPCC.Web.UI.HorizontalAlignment.Left;this.wK=IPCC.Web.UI.VerticalAlignment.Top;this.ql='#000000';this.zK=255;this.zN=IPCC.Web.UI.Orientation.TopLeft;this.eQ=[];this.dU=4;this.cY=127;this.fF='#FFFFFF';ig=32;break;case IPCC.Web.UI.MarkType.Stamp:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=128;break;case IPCC.Web.UI.MarkType.Highlight:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ap='';this.ka='n';this.am=0;this.cq='';this.dp=0;this.cY=127;ig=256;break;case IPCC.Web.UI.MarkType.HighlightText:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ap='';this.ka='n';this.am=0;this.cq='';this.dp=0;this.cY=127;this.fF='#FFFF00';ig=512;this.eQ=[];this.al=[];break;case IPCC.Web.UI.MarkType.Freehand:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=64;this.dU=4;this.ke='#000000';this.iL=false;this.SQ=1;this.TA=1;this.vq='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=1024;this.jh=IPCC.Web.UI.HorizontalAlignment.Center;this.dU=4;this.ke='#000000';this.iL=false;this.SQ=1;this.TA=1;this.vq='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=2048;this.jh=IPCC.Web.UI.HorizontalAlignment.Center;this.aY='John Doe';this.ql='#000000';this.fF='#000000';this.hu="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=4096;this.hu='Arial';this.cG=8;this.dv=IPCC.Web.UI.FontStyle.Regular;this.aY='';this.jh=IPCC.Web.UI.HorizontalAlignment.Center;this.wK=IPCC.Web.UI.VerticalAlignment.Center;this.fF='#000000';this.ql='#FFFFFF';this.zK=255;this.zN=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.al=[];this.ap='';this.eL='';this.aY='';this.hu='Arial';this.cG=8;this.am=0;this.dp=0;ig=8192;this.eQ=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mz='';this.dU=2;this.cq='';this.ap='';this.ka='n';this.am=0;this.dp=0;this.fF='#3B00FF';ig=1<<14;this.eQ=[];this.al=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:h=new IPCC.Web.UI.Rectangle(0,0,0,0);ig=16384;this.bo='';this.qN='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.mz='';this.Pv='';this.zR='';this.Jf=0;this.Ij=0;this.sR=255;ig=32768;break;case IPCC.Web.UI.MarkType.TextLine:ig=65536;h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.jh=IPCC.Web.UI.HorizontalAlignment.Left;this.aY='';this.ql='#000000';this.hu="Courier New";this.dU=1;this.iL=true;this.eD=0;this.Eh=0;this.IQ=false;var hK=IPCC.F.uZ("M",this.hu,{wL:'pre'});this.zS=hK.width;this.Aw=hK.height;this.hV=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.Ee='#000000';this.zP=false;this.rj=IPCC.Web.UI.LineStyle.Solid;this.DB=1;this.mv=new IPCC.Web.UI.Point(0,0);this.DX=IPCC.Web.UI.CalloutType.Triangle;this.yV=false;this.hu='Courier New';this.ia=0;this.eD=0;this.cG=12;this.dv=IPCC.Web.UI.FontStyle.Regular;h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.jh=IPCC.Web.UI.HorizontalAlignment.Left;this.wK=IPCC.Web.UI.VerticalAlignment.Top;this.ql='#000000';this.zK=255;this.zN=IPCC.Web.UI.Orientation.TopLeft;this.eQ=[];this.dU=1;this.iL=false;this.fF='#FFFFFF';this.cY=0;ig=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:h=new IPCC.Web.UI.Rectangle(0,0,0,0);this.ap='';this.ke='#000000';this.dU=2;this.ka='n';this.am=0;this.cq='';this.dp=0;ig=1<<17;this.eQ=[];this.al=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bn);}if(bn!==IPCC.Web.UI.MarkType.SignaturePath&&bn!==IPCC.Web.UI.MarkType.Freehand&&bn!==IPCC.Web.UI.MarkType.SignatureText&&bn!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bn!==IPCC.Web.UI.MarkType.HighlightText&&bn!==IPCC.Web.UI.MarkType.Strikethrough&&bn!==IPCC.Web.UI.MarkType.TextLine){if(kW){this.Hx=15;this.HG=25;this.mk=IPCC.Web.UI.LineHeadType.None;this.Ae='#000000';this.JF=15;this.IR=25;this.Ig=IPCC.Web.UI.LineHeadType.None;}else{this.IL=true;this.iL=true;if(bn===IPCC.Web.UI.MarkType.Highlight){this.iL=false;this.cY=100;}}}this.TY=IPCC.Web.UI.aGr++;this.cz=true;this.aJ={};this.dR=[];var Nn=false;function auD(aN,T){K.bz('commentAdded',T);};function atK(aN,T){K.bz('commentRemoved',T);};function PM(aN,T){K.bz('commentChanged',T);};dC=new IPCC.Web.UI.Conversation(K);dC.add_commentAdded(auD);dC.add_commentChanged(PM);dC.add_commentRemoved(atK);this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};function aae(aN,T){var aeF='points';if(bn===IPCC.Web.UI.MarkType.Line){aeF=T.index===0?'startPoint':'endPoint';}K.bX(aeF,T);};if(bg){bg.add_pointAdded(aae);bg.add_pointChanged(aae);bg.add_pointRemoved(aae);}this.hS=function(){return bn;};this.ajj=function(){return rO;};this.adS=function(L){rO=L;};this.ahY=function(){return tf;};this.VH=function(L){tf=L;};this.eN=function(){return aB;};this.mO=function(value){if(aB!==value){aB=value;this.bX('artPage');}};this.ko=function(){return Nn;};this.jL=function(L){Nn=L;};this.ahG=function(){var lJ=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bn){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bg.sD();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return h.clone();case IPCC.Web.UI.MarkType.Text:var iU=h.x+h.width,iS=h.y+h.height;var alh=h.x+this.mv.x,akx=h.y+this.mv.y;lJ.x=Math.min(h.x,Math.min(iU,alh));lJ.y=Math.min(h.y,Math.min(iS,akx));lJ.width=Math.max(h.x,Math.max(iU,alh))-lJ.x;lJ.height=Math.max(h.y,Math.max(iS,akx))-lJ.y;break;}return lJ;};this.ey=function(){return h.clone();};this.Ar=function(L){this.CS(16384,'image','bo',L);};this.cP=function(){return this.bo;};this.qz=function(){return bg;};this.axH=function(){return dC;};this.xe=function(){return dI;};this.Bx=function(L){var ta;if(!h.equals(L)){h=new IPCC.Web.UI.Rectangle(L.x,L.y,L.width,L.height);if(bn===IPCC.Web.UI.MarkType.Stamp||bn===IPCC.Web.UI.MarkType.SignatureText||bn===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){ta=0;if(h.width>=h.height){ta=(h.width/14)/2;}else{ta=h.width/15;}if(ta*15>=h.width){ta=(h.width/15)/2;}this.stampSize=Math.round(ta);}else{var textFontSize=(h.width/6);if(textFontSize>h.height){textFontSize=(h.height-(h.height/6));}var mJ=this.get_text();if(!mJ){mJ=(bn===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}ta=mJ.length*textFontSize;if(ta>h.width){textFontSize=((h.width/mJ.length));}var Eh=Math.round(textFontSize);this.stampSize=Eh.toString();}}this.bX('rectangle');}};this.jW=function(){return this.TY;};this.FI=function(eR,eg){if(eR!==0||eg!==0){switch(bn){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bg.aob(eR,eg);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bn===IPCC.Web.UI.MarkType.RectangleRedaction&&this.ap!==undefined){break;}h.x+=eR;h.y+=eg;this.bX('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.WY=function(WJ){if(this.eQ&&WJ!==this.eQ){while(this.eQ.length>0){this.eQ.pop();}if(WJ){this.eQ=WJ.slice(0);}this.bz('markTextSelectionChanged',{});}};this.Jm=function(V){if(this.eQ){bu.addHandler('markTextSelectionChanged',V);}};this.Ft=function(V){if(this.eQ){bu.removeHandler('markTextSelectionChanged',V);}};this.yv=function(V){bu.addHandler('commentAdded',V);};this.DG=function(V){bu.removeHandler('commentAdded',V);};this.yu=function(V){bu.addHandler('commentRemoved',V);};this.Dq=function(V){bu.removeHandler('commentRemoved',V);};this.rF=function(V){bu.addHandler('commentChanged',V);};this.vC=function(V){bu.removeHandler('commentChanged',V);};this.lo=function(V){bu.addHandler('propertyChanged',V);};this.mB=function(V){bu.removeHandler('propertyChanged',V);};this.bX=function(cU){var V=bu.getHandler('propertyChanged');if(V){V(this,new IPCC.nA(cU));}};this.lo(function(J){J.VH(new Date());});return this;};NB.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qz().getPoint(0)+' to '+this.qz().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qz().fE()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.ey();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.ey();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.ey();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qz().fE()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.aY+'", at '+this.ey();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.ey();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.ey();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.ey();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.ey();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.ey();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.ey();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.vq+'", at '+this.ey();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.vq+'", at '+this.ey();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.ey();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.ey();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.ey();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.ey();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.ey();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.ey();}return 'Mark';},initializeDates:function(rO,tf){IPCC.bi.ju(rO,"dateCreated");IPCC.bi.ju(tf,"dateModified");this.adS(rO);this.VH(tf);},get_dateCreated:function(){return this.ajj();},get_dateModified:function(){return this.ahY();},jG:function(jC,cU,jS,L){this.ek(jC,cU);if(this[jS]!==L){this[jS]=L;this.bX(cU);}},Iy:function(jC,cU,jS,L){IPCC.bi.XM(L,cU);this.jG(jC,cU,jS,L);},wG:function(jC,cU,jS,L){IPCC.bi.hG(L,cU);this.jG(jC,cU,jS,L);},CF:function(jC,cU,jS,L,wU,vM){IPCC.bi.kC(L,cU,wU,vM);this.jG(jC,cU,jS,L);},Vo:function(jC,cU,jS,L,wU,vM){IPCC.bi.mD(L,cU,wU,vM);this.jG(jC,cU,jS,L);},CS:function(jC,cU,jS,L){IPCC.bi.bn(L,cU,'string');this.jG(jC,cU,jS,L);},wW:function(jC,cU,jS,L,lx){IPCC.bi.lx(L,cU,lx);this.jG(jC,cU,jS,L);},aDV:function(jC,cU,jS,L,lx){IPCC.bi.lx(L,cU,lx,true);this.jG(jC,cU,jS,L);},aEE:function(jC,cU,jS,L){IPCC.bi.ad(L,cU);this.jG(jC,cU,jS,L);},get_artPage:function(){return this.eN();},get_boundingRectangle:function(){return this.ahG();},get_selected:function(){var aB=this.eN();if(!aB){return false;}var eC=aB.yK();return eC.contains(this);},set_selected:function(value){var aB=this.eN();if(aB){if(this.mX!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eC=aB.yK();if(value!==eC.contains(this)){if(value){eC.NA(this);}else{eC.ue(this);}this.bX('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.ek(32,'calloutLineColor');return this.Ee;},set_calloutLineColor:function(value){this.Iy(32,'calloutLineColor','Ee',value);},get_calloutLineIsDistinct:function(){this.ek(32,'calloutLineIsDistinct');return this.zP;},set_calloutLineIsDistinct:function(value){this.jG(32,'calloutLineIsDistinct','zP',value);},get_calloutLineStyle:function(){this.ek(32,'calloutLineStyle');return this.rj;},set_calloutLineStyle:function(value){this.wW(32,'calloutLineStyle','rj',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.ek(32,'calloutLineWidth');return this.DB;},set_calloutLineWidth:function(value){this.CF(32,'calloutLineWidth','DB',value,0,50);},get_calloutPoint:function(){this.ek(32,'calloutPoint');return this.mv;},set_calloutPoint:function(value){this.aEE(32,'calloutPoint','mv',value);},get_calloutType:function(){this.ek(32,'calloutType');return this.DX;},set_calloutType:function(value){this.wW(32,'calloutType','DX',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.ek(32,'calloutVisible');return this.yV;},set_calloutVisible:function(value){if(!this.yV&&value&&this.hS()===IPCC.Web.UI.MarkType.Text){if(this.mv.x===0&&this.mv.y===0){var h=this.ey();this.set_calloutPoint({x:h.width,y:h.height*1.5});}}this.jG(32,'calloutVisible','yV',value);},get_endHeadAngle:function(){this.ek(3,'endHeadAngle');return this.Hx;},set_endHeadAngle:function(value){this.CF(3,'endHeadAngle','Hx',value,0,180);},get_endHeadLength:function(){this.ek(3,'endHeadLength');return this.HG;},set_endHeadLength:function(value){this.CF(3,'endHeadLength','HG',value,0,100);},get_endHeadType:function(){this.ek(3,'endHeadType');return this.mk;},set_endHeadType:function(value){this.wW(3,'endHeadType','mk',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.ek(1<<14|1<<15,'href');return this.mz;},set_href:function(value){this.CS(1<<14|1<<15,'href','mz',value);},has_unsafe_href:function(){return(! !this.mz&&IPCC.F.amt(this.mz));},get_mask:function(){this.ek(65536,'mask');return this.hV;},set_mask:function(value){this.jG(65536,'mask','hV',value);},get_borderType:function(){this.ek(32768,'borderType');return this.Pv;},set_borderType:function(value){this.CS(32768,'borderType','Pv',value);},get_borderHorizontalRadius:function(){this.ek(32768,'borderHorizontalRadius');return this.Jf;},set_borderHorizontalRadius:function(value){this.wG(32768,'borderHorizontalRadius','Jf',value);},get_borderVerticalRadius:function(){this.ek(1<<15,'borderVerticalRadius');return this.Ij;},set_borderVerticalRadius:function(value){this.wG(32768,'borderVerticalRadius','Ij',value);},get_borderOpacity:function(){this.ek(32768,'sR');return this.sR;},set_borderOpacity:function(value){this.Vo(32768,'sR','sR',value,0,255);},get_borderPattern:function(){this.ek(32768,'zR');return this.zR;},set_borderPattern:function(value){this.jG(32768,'zR','zR',value,0,255);},get_fillColor:function(){this.ek(16380+(1<<14),'fillColor');return this.fF;},set_fillColor:function(value){this.Iy(16380+(1<<14),'fillColor','fF',value);},get_fillVisible:function(){this.ek(16380,'fillVisible');return this.IL;},set_fillVisible:function(value){this.jG(16380,'fillVisible','IL',value);},get_fontName:function(){this.ek(6176+8192+65536+(1<<18),'fontName');return this.hu;},set_fontName:function(value){this.CS(6176+8192+65536+(1<<18),'fontName','hu',value);if(this.hS()===IPCC.Web.UI.MarkType.SignatureText||this.hS()===IPCC.Web.UI.MarkType.TextLine){var bN=(this.hS()===IPCC.Web.UI.MarkType.TextLine)?{wL:'pre'}:{};var hK=IPCC.F.uZ(this.aY,this.hu,bN);this.zS=hK.width;this.Aw=hK.height;}if(this.hS()===IPCC.Web.UI.MarkType.TextLine){this.IQ=false;}},get_fontSize:function(){this.ek(32+2048+4096+8192,'fontSize');return this.cG;},set_fontSize:function(value){this.CF(32+2048+4096+8192,'fontSize','cG',value,0.1,288);},get_fontStyle:function(){this.ek(6176+(1<<18),'fontStyle');return this.dv;},set_fontStyle:function(value){this.aDV(6176+(1<<18),'fontStyle','dv',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.ek(3,'headFillColor');return this.Ae;},set_headFillColor:function(value){this.Iy(3,'headFillColor','Ae',value);},get_interactionMode:function(){this.ek(~0,'interactionMode');return this.mX;},set_interactionMode:function(value){this.wW(~0,'interactionMode','mX',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.ek(32+65536+(1<<18),'maxLength');return this.eD;},set_maxLength:function(value){this.wG(32+65536+(1<<18),'maxLength','eD',value);},get_maxFontSize:function(){this.ek(1<<18,'maxFontSize');return this.ia;},set_maxFontSize:function(value){this.wG(1<<18,'maxFontSize','ia',value);},get_isClosed:function(){this.ek(2,'isClosed');return this.rq;},set_isClosed:function(value){this.jG(2,'isClosed','rq',value);},get_lineColor:function(){return this.ke;},set_lineColor:function(value){this.Iy(13567+32768+(1<<17),'lineColor','ke',value);},get_lineStyle:function(){return this.jx;},set_lineStyle:function(value){this.wW(63+32768,'lineStyle','jx',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.dU;},set_lineWidth:function(value){this.CF(13567+32768+(1<<17),'lineWidth','dU',value,0,50);},get_lineVisible:function(){this.ek(172+65536,'lineVisible');return this.iL;},set_lineVisible:function(value){this.jG(172+65536,'lineVisible','iL',value);},get_opacity:function(){return this.cY;},set_opacity:function(value){this.Vo(895+2048+1024,'opacity','cY',value,0,255);},get_points:function(){this.ek(19,'points');return this.qz();},get_conversation:function(){return this.axH();},get_data:function(){return this.xe();},get_image:function(){this.ek(16384,'image');return this.cP();},set_image:function(value){this.ek(16384,'image');this.Ar(value);},get_rectangle:function(){this.ek((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.ey();},set_rectangle:function(value){this.ek((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bi.h(value,'rectangle');this.Bx(value);if(this.hS()===IPCC.Web.UI.MarkType.TextLine){this.IQ=false;}},get_startHeadAngle:function(){this.ek(3,'startHeadAngle');return this.JF;},set_startHeadAngle:function(value){this.CF(3,'startHeadAngle','JF',value,0,180);},get_startHeadLength:function(){this.ek(3,'startHeadLength');return this.IR;},set_startHeadLength:function(value){this.CF(3,'startHeadLength','IR',value,0,100);},get_startHeadType:function(){this.ek(3,'startHeadType');return this.Ig;},set_startHeadType:function(value){this.wW(3,'startHeadType','Ig',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.ek(14496+65536+(1<<17)+(1<<18),'text');return this.aY;},set_text:function(value){if(this.aY===value){return;}this.CS(14496+65536+(1<<17)+(1<<18),'text','aY',value);if(this.hS()===IPCC.Web.UI.MarkType.SignatureText||this.hS()===IPCC.Web.UI.MarkType.TextLine){var bN=(this.hS()===IPCC.Web.UI.MarkType.TextLine)?{wL:'pre'}:{};var hK=IPCC.F.uZ(this.aY,this.hu,bN);this.zS=hK.width;this.Aw=hK.height;}if(this.eQ){while(this.eQ.length>0){this.eQ.pop();}}},get_textHorizontalAlignment:function(){this.ek(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.jh;},set_textHorizontalAlignment:function(value){this.wW(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','jh',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.ek(32,'textVerticalAlignment');return this.wK;},set_textVerticalAlignment:function(value){this.wW(32,'textVerticalAlignment','wK',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.ek(6176+65536+(1<<18),'textColor');return this.ql;},set_textColor:function(value){this.Iy(6176+65536+(1<<18),'textColor','ql',value);},get_textOpacity:function(){this.ek(32,'textOpacity');return this.zK;},set_textOpacity:function(value){this.Vo(32,'textOpacity','zK',value,0,255);},get_textOrientation:function(){this.ek(32,'textOrientation');return this.zN;},set_textOrientation:function(value){this.wW(32,'textOrientation','zN',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.hS();},get_visible:function(){return this.cz;},set_visible:function(value){this.jG((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','cz',value);},get_markID:function(){return this.jW();},get_pathString:function(){return this.vq;},set_pathString:function(value){var vq=this.get_pathString();if(vq!==value){this.anp=true;}this.CS(1088,'pathString','vq',value);},get_pathWidth:function(){return this.SQ;},set_pathWidth:function(value){this.wG(1088,'pathWidth','SQ',value);},get_pathHeight:function(){return this.TA;},set_pathHeight:function(value){this.wG(1088,'pathHeight','TA',value);},get_startIndex:function(){this.ek((1<<17)+(1<<14)+8192+512,'startIndex');return this.am;},set_startIndex:function(value){this.wG((1<<17)+(1<<14)+8192+512,'startIndex','am',value);},get_textLength:function(){this.ek((1<<17)+(1<<14)+8192+512,'textLength');return this.dp;},set_textLength:function(value){this.wG((1<<17)+(1<<14)+8192+512,'textLength','dp',value);},add_propertyChanged:function(handler){this.lo(handler);},remove_propertyChanged:function(handler){this.mB(handler);},add_markTextSelectionChanged:function(handler){this.Jm(handler);},remove_markTextSelectionChanged:function(handler){this.Ft(handler);},move:function(deltaX,deltaY){IPCC.bi.hG(deltaX,'deltaX');IPCC.bi.hG(deltaY,'deltaY');this.FI(deltaX,deltaY);},moveBackward:function(){if(this.eN()){var index=this.eN().os(this);var dc=this.eN().aiO();if(index>dc){this.eN().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.eN()){var index=this.eN().os(this);if(index<this.eN().Wi()-1){this.eN().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.eN()){var dc=0;dc=this.eN().aiO();this.eN().reorderMark(this,dc);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.eN()){this.eN().reorderMark(this,this.eN().Wi()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.eN()){this.eN().removeMark(this);}},selectText:function(textRanges){this.WY(textRanges);},axw:function(){var eW={};var K=this;var bg,Ym,ad,h,H;function cQ(cU,NF){eW[NF]=K[cU];};var kW=false;var kf=false;var vo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kW=true;vo=true;eW.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:kW=true;vo=true;eW.__type='PolyLineMark:#IPCC.Web';cQ('rq','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kf=true;eW.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:kf=true;eW.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:kf=true;eW.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:vo=true;eW.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:kf=true;eW.__type='TextMark:#IPCC.Web';cQ('Ee','clc');cQ('zP','clid');cQ('rj','cls');cQ('DB','clw');cQ('DX','ct');cQ('yV','cv');cQ('hu','fn');cQ('cG','fs');cQ('dv','fst');cQ('jx','ls');cQ('aY','te');cQ('jh','tha');cQ('wK','tva');cQ('ql','tc');cQ('zK','to');cQ('zN','tor');ad=this.mv;if(ad.x!==0||ad.y!==0){eW.cp={x:ad.x,y:ad.y};}break;case IPCC.Web.UI.MarkType.Stamp:kf=true;eW.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:kf=true;eW.__type='HighlightText:#IPCC.Web';break;}if(kW){cQ('Hx','eha');cQ('HG','ehl');cQ('mk','eht');cQ('Ae','hfc');cQ('JF','sha');cQ('IR','shl');cQ('Ig','sht');}else{cQ('fF','fc');cQ('IL','fv');cQ('iL','lv');}if(kf){h=this.get_rectangle();eW.r={x:h.x,y:h.y,width:h.width,height:h.height};}eW.t=this.get_type();cQ('ke','lc');cQ('jx','ls');cQ('dU','lw');cQ('cY','o');cQ('cz','v');if(vo){bg=this.qz();Ym=[];for(H=0;H<bg.get_length();H++){ad=bg.getPoint(H);Ym.push({x:ad.x,y:ad.y});}eW.p=Ym;}return eW;},axI:function(eW){var K=this;var bg,H;function cQ(cU,NF){if(eW.hasOwnProperty(NF)){K[cU]=eW[NF];}};var kW=false;var kf=false;var vo=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:kW=true;if(eW.p&&eW.p.length===2){bg=this.qz();bg.setPoint(0,new IPCC.Web.UI.Point(eW.p[0].x,eW.p[0].y));bg.setPoint(1,new IPCC.Web.UI.Point(eW.p[1].x,eW.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:kW=true;vo=true;cQ('rq','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kf=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:kf=true;break;case IPCC.Web.UI.MarkType.Ellipse:kf=true;break;case IPCC.Web.UI.MarkType.Polygon:vo=true;break;case IPCC.Web.UI.MarkType.Text:kf=true;cQ('Ee','clc');cQ('zP','clid');cQ('rj','cls');cQ('DB','clw');cQ('DX','ct');cQ('yV','cv');cQ('hu','fn');cQ('cG','fs');cQ('dv','fst');cQ('jx','ls');cQ('aY','te');cQ('jh','tha');cQ('wK','tva');cQ('ql','tc');cQ('zK','to');cQ('zN','tor');if(eW.cp){this.mv=new IPCC.Web.UI.Point(eW.cp.x,eW.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:kf=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:kf=true;break;}if(kW){cQ('Hx','eha');cQ('HG','ehl');cQ('mk','eht');cQ('Ae','hfc');cQ('JF','sha');cQ('IR','shl');cQ('Ig','sht');}else{cQ('fF','fc');cQ('IL','fv');cQ('iL','lv');}if(kf){if(eW.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eW.r.x,eW.r.y,eW.r.width,eW.r.height));}}eW.t=this.get_type();cQ('ke','lc');cQ('jx','ls');cQ('dU','lw');cQ('cY','o');cQ('cz','v');if(eW.p&&vo){bg=this.qz();for(H=0;H<eW.p.length;H++){bg.addPoint(new IPCC.Web.UI.Point(eW.p[H].x,eW.p[H].y));}}return eW;}};NB.registerClass=cT;NB.registerClass('IPCC.Web.UI.Mark');module.exports=NB;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Oc=function(){var bD=[];var bu=new IPCC.Web.UI.gZ();this.NA=function(J){if(this.Ia(J)=== -1){bD.push(J);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;this.bz('markAdded',T);}};this.aph=function(AO){var T=new IPCC.Web.UI.MarkEventArgs();T.length=AO.get_length();var K=this;function jR(J){if(K.Ia(J)=== -1){bD.push(J);}};AO.forEach(jR,{});if(T.length>0){this.bz('markAdded',T);}};this.ki=function(iq,dk){var GX=[].concat(bD);var H;for(H=0;H<GX.length;H++){iq.call(dk,GX[H],H,this);}};this.fE=function(){return bD.length;};this.ue=function(J){var H=this.Ia(J);if(H> -1){bD.splice(H,1);var T=new IPCC.Web.UI.MarkEventArgs();T.mark=J;this.bz('markRemoved',T);}};this.Ia=function(J){var H;for(H=0;H<bD.length;H++){if(bD[H]===J){return H;}}return-1;};this.AG=function(V){bu.addHandler('markAdded',V);};this.Bw=function(V){bu.removeHandler('markAdded',V);};this.Bc=function(V){bu.addHandler('markRemoved',V);};this.By=function(V){bu.removeHandler('markRemoved',V);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};return this;};Oc.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.NA(mark);},addMarks:function(markCollection){this.aph(markCollection);},forEach:function(method,context){this.ki(method,context);},get_length:function(){return this.fE();},contains:function(mark){return this.Ia(mark)> -1;},removeMark:function(mark){this.ue(mark);},removeAllMarks:function(){this.ki(function(J,ba,AO){AO.ue(J);});},add_markAdded:function(handler){this.AG(handler);},remove_markAdded:function(handler){this.Bw(handler);},add_markRemoved:function(handler){this.Bc(handler);},remove_markRemoved:function(handler){this.By(handler);}};Oc.registerClass=cT;Oc.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Oc;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Ns=function(){return this;};Ns.registerClass=cT;Ns.prototype={};Ns.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Ns;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Es=function(){};Es.registerEnum=eF;Es.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Es.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Es;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Mk=function(){};Mk.registerEnum=eF;Mk.prototype={Full:0,SelectionDisabled:1};Mk.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=Mk;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Ln=function(){};Ln.registerEnum=eF;Ln.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};Ln.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=Ln;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var eF=require('./../../IPCC.Util').regEnum;var Te=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Te.registerEnum=eF;Te.prototype={leftButton:0,middleButton:1,rightButton:2};Te.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var PP=function(){var ahH=false;this.apJ=function(){ahH=true;};this.agf=function(){return ahH;};return this;};PP.prototype={preventDefault:function(){this.apJ();}};PP.registerClass=cT;PP.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=PP;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Pd=function(){};Pd.registerEnum=eF;Pd.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Pd.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Pd;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var LN=function(){};LN.registerEnum=eF;LN.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};LN.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=LN;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var aas=function(element,nY,ND){var hh=this;var bG;var R;var yz=0;var Oa='';var Ry=false;var bu=new IPCC.Web.UI.gZ();var fj=null;var qo=IPCC.qo;var ajU=IPCC.qo;var IC=0.0;var GV=false;var Np=0;var acq= -1;var adu= -1;var acK= -1;function mg(LU){if(!R){return false;}return R.mg(LU);};this.bf=function(je,jk){if(mg(IPCC.Web.UI.DebugErrorLevel.Production)){R.bf(je,jk);}};this.bE=function(je,kj,sa){if(!mg(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],(sa?sa:0));}cS+=')';this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);};this.Ce=function(je,kj,pr,sa){if(!mg(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],(sa?sa:0));}cS+=') = ';cS+=IPCC.il.sm(pr,1);this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);};this.cL=function(je,kj,pr){if(!mg(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cS=je+'(';var H;for(H=0;H<kj.length;H++){if(H>0){cS+=', ';}cS+=IPCC.il.sm(kj[H],0);}cS+=') = ';cS+=IPCC.il.sm(pr,1);this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.ug=function(lh,bU){if(R){R.oy(lh,IPCC.Web.UI.DebugItemCause.FunctionCall,bU);}};this.oy=function(lh){if(R){R.oy(lh,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.Hn=function(){return R.get_debug();};this.US=function(L){R.set_debug(L);};this.AL=function(){return R.AL();};this.IY=function(L){IPCC.bi.lx(L,'value',IPCC.Web.UI.DebugErrorLevel);R.IY(L);};this.aID=function(L){GV=L;};this.aGZ=function(){return GV;};var nZ=function(){if(R.cP()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function dq(dA,V){bu.addHandler(dA,V);};function df(dA,V){bu.removeHandler(dA,V);};this.FR=function(jb,cC){R.ayA(jb,cC);};this.aEj=function(cC,J){R.wy(J);R.cV();};this.Zc=function(V){dq('pageOpening',V);};this.Ye=function(V){df('pageOpening',V);};this.Yh=function(V){dq('pageOpened',V);};this.Zv=function(V){df('pageOpened',V);};this.aos=function(V){dq('pageClosed',V);};this.azK=function(V){df('pageClosed',V);};this.HO=function(V){dq('pageOpenFailed',V);};this.GJ=function(V){df('pageOpenFailed',V);};this.Zo=function(V){dq('pageDisplayed',V);};this.ZT=function(V){df('pageDisplayed',V);};this.Nm=function(V){dq('mouseDown',V);};this.YO=function(V){df('mouseDown',V);};this.MF=function(V){dq('mouseMove',V);};this.ZD=function(V){df('mouseMove',V);};this.Nt=function(V){dq('mouseUp',V);};this.Yd=function(V){df('mouseUp',V);};this.aoA=function(V){dq('contextMenu',V);};this.azA=function(V){df('contextMenu',V);};this.AG=function(V){dq('markAdded',V);};this.Bw=function(V){df('markAdded',V);};this.YS=function(V){dq('markCreating',V);};this.ZY=function(V){df('markCreating',V);};this.Kv=function(V){dq('markChanged',V);};this.Gq=function(V){df('markChanged',V);};this.Bc=function(V){dq('markRemoved',V);};this.By=function(V){df('markRemoved',V);};this.Ki=function(V){dq('markReordered',V);};this.Fk=function(V){df('markReordered',V);};this.Zt=function(V){dq('marksLoaded',V);};this.ZX=function(V){df('marksLoaded',V);};this.JK=function(V){dq('markSelectionChanged',V);};this.GP=function(V){df('markSelectionChanged',V);};this.zd=function(V){dq('textPageReady',V);};this.Ei=function(V){df('textPageReady',V);};this.ZM=function(V){dq('selectTextMouseToolCompleted',V);};this.ZB=function(V){df('selectTextMouseToolCompleted',V);};this.XZ=function(V){dq('exceptionThrown',V);};this.YX=function(V){dq('scaleChanged',V);};this.YL=function(V){df('scaleChanged',V);};this.Zl=function(V){df('exceptionThrown',V);};this.yg=function(V){dq('textExtractionFailed',V);};this.Eb=function(V){df('textExtractionFailed',V);};this.lo=function(V){dq('propertyChanged',V);};this.mB=function(V){df('propertyChanged',V);};var bz=function(dA,T){try{var V;V=bu.getHandler(dA);if(V){V(hh,T);}}catch(e){hh.bf(dA+'Event',e);}};var oQ=function(dA){function AM(aN,T){bz(dA,T);};R['add_'+dA](AM);};var Io=function(dA){function AM(aN,T){if(Ry&&R.OE()){BO();}bz(dA,T);};R['add_'+dA](AM);};function BO(){var eS,mC,Yr;if(Oa!==''){Yr=document.getElementById(Oa);if(Yr){eS=hh.Pe();mC='{encodedDocumentIdentifier:"'+eS.encodedDocumentIdentifier;mC+='",pageNumber:'+eS.pageNumber.toString();mC+=',viewFitType:'+eS.viewFitType.toString();if(eS.viewRectangle&&eS.viewFitType===IPCC.Web.UI.FitType.Rectangle){mC+=',viewRectangle:{x:'+eS.viewRectangle.x.toFixed(5);mC+=',y:'+eS.viewRectangle.y.toFixed(5);mC+=',width:'+eS.viewRectangle.width.toFixed(5);mC+=',height:'+eS.viewRectangle.height.toFixed(5);mC+='}';}if(eS.viewRotationDegreesClockwise){mC+=',viewRotationDegreesClockwise:'+eS.viewRotationDegreesClockwise.toString();}if(eS.viewMirror){mC+=',viewMirror:'+eS.viewMirror.toString();}if(eS.viewZoomFactor){mC+=',viewZoomFactor:'+eS.viewZoomFactor.toString();}if(Ry){var aB=R.eN();if(aB){mC+=',artPageJson:"'+IPCC.fR.tg(aB.saveToJson())+'"';}}mC+='}';Yr.value=mC;}}};var aGe=function(){function AM(aN,T){var Wr=true;switch(T.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':BO();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'Iw':case 'xw':Wr=false;break;case 'HS':if(R.OE()){BO();}Wr=false;break;}if(Wr){bz('propertyChanged',T);}};R.lo(AM);};this.VK=function(bn){IPCC.bi.lx(bn,'type',IPCC.Web.UI.FitType);if(bn===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}nZ();fj={aCJ:true,viewFitType:bn};Yg();};this.ec=function(){return R.cP()!==undefined;};this.kg=function(){nZ();return R.cP().width;};this.jn=function(){nZ();return R.cP().height;};this.ayB=function(){nZ();return R.cP().fS;};this.axQ=function(){return R.bM().fb().ajt();};this.axS=function(){nZ();return R.cP().gj;};this.Hg=function(){if(!R|| !(R.cP())){return '';}return R.cP().get_identifier();};this.Pa=function(){if(!R|| !(R.cP())){return '';}return R.cP().get_encodedIdentifier();};this.nL=function(){if(!R|| !(R.cP())){return-1;}return R.cP().aP;};this.ayS=function(){if(!R|| !(R.cP())){return 0;}return R.cP().fv;};this.aib=function(){var bo=R.cP();if(!bo){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var aQ=R.dS();aQ.x=aQ.y=0;var tj=R.bM().fb();tj.ye();var dh=tj.xl(aQ);if(dh.x<0){dh.width+=dh.x;dh.x=0;}if(dh.y<0){dh.height+=dh.y;dh.y=0;}if(dh.x+dh.width>bo.width){dh.width=bo.width-dh.x;}if(dh.y+dh.height>bo.height){dh.height=bo.height-dh.y;}return dh;};function Mq(){var bZ={},cd=R.bM().fb();bZ.documentIdentifier=hh.Hg();bZ.encodedDocumentIdentifier=hh.Pa();bZ.pageNumber=hh.nL();bZ.artPage=hh.eN();bZ.referenceDocumentIdentifier=hh.Hg();bZ.referencePageNumber=hh.nL();bZ.viewFitType=IPCC.Web.UI.FitType.Rectangle;bZ.viewRectangle=hh.aib();bZ.imGearPage=hh.pq();bZ.transientArtPage=hh.lY();var hc=cd.ajt();if(hc!==0){bZ.viewRotationDegreesClockwise=hc;}if(cd.aAT()){bZ.viewMirror=true;}return bZ;};this.agl=function(am,dF){R.agl(am,dF);};this.Pe=function(){var bZ;if(bG){bZ=new IPCC.Web.UI.PageViewState();bZ.documentIdentifier=bG.documentIdentifier;bZ.encodedDocumentIdentifier=bG.encodedDocumentIdentifier;bZ.pageNumber=bG.pageNumber;bZ.artPage=bG.artPage;bZ.artPageJson=bG.artPageJson;bZ.referenceDocumentIdentifier=bG.documentIdentifier;bZ.referencePageNumber=bG.pageNumber;bZ.viewFitType=bG.viewFitType;bZ.viewRectangle=bG.viewRectangle;bZ.viewRotationDegreesClockwise=bG.viewRotationDegreesClockwise;bZ.viewMirror=bG.viewMirror;bZ.viewZoomFactor=bG.viewZoomFactor;bZ.transientArtPage=bG.transientArtPage;}else{bZ=Mq();}return bZ;};this.MC=function(ag){var aQ=R.dS();this.acw(ag,{x:aQ.width/2,y:aQ.height/2});};this.acw=function(ag,dG){IPCC.bi.kC(ag,'factor',1.01,20);IPCC.bi.ad(dG,'point');nZ();var bJ=R.bM();var ah=bJ.fb();var aA=R.cP();var ld=ah.qI();if(ld*ag>aA.pI){ag=aA.pI/ld;}ah.xu(ag,ag,dG.x,dG.y);ah.iG(aA,R.dS());fj=null;bJ.iE(ah);};this.SO=function(ag){var aQ=R.dS();this.acI(ag,{x:aQ.width/2,y:aQ.height/2});};this.acI=function(ag,dG){IPCC.bi.kC(ag,'factor',1.01,20);IPCC.bi.ad(dG,'point');nZ();var bJ=R.bM();var ah=bJ.fb();var aA=R.cP();var ld=ah.qI();if(ld/ag<aA.sr){ag=ld/aA.sr;}ah.xu(1/ag,1/ag,dG.x,dG.y);ah.iG(aA,R.dS());fj=null;bJ.iE(ah);};this.jw=function(ag){var aQ=R.dS();this.atD(ag,{x:aQ.width/2,y:aQ.height/2});};this.ED=function(ag){var bJ=R.bM();fj=null;bJ.ED(ag);};this.Ed=function(ag){var bJ=R.bM();fj=null;bJ.Ed(ag);};this.DJ=function(ag){var bJ=R.bM();fj=null;bJ.DJ(ag);};this.atD=function(ag,dG){IPCC.bi.ad(dG,'point');nZ();var bJ=R.bM();var ah=bJ.fb();var aA=R.cP();var ld=ah.qI();if(ag>aA.pI){ag=aA.pI;}else if(ag<aA.sr){ag=aA.sr;}ah.xu(ag/ld,ag/ld,dG.x,dG.y);ah.iG(aA,R.dS());fj=null;bJ.iE(ah);};this.xn=function(rV){IPCC.bi.Tl(rV,'degreesClockwise',[90,180,270,-90,-180,-270]);nZ();var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();ah.adK(rV,aQ.width/2,aQ.height/2);ah.iG(R.cP(),R.dS());fj=null;bJ.iE(ah);};this.anv=function(){nZ();var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();ah.xu(-1,1,aQ.width/2,aQ.height/2);ah.iG(R.cP(),R.dS());fj=null;bJ.iE(ah);};this.aEv=function(dh){IPCC.bi.h(dh,'pageRectangle');nZ();var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();var aA=R.cP();ah.NN(aA,aQ,dh);ah.iG(aA,R.dS());fj=null;bJ.iE(ah);};this.aEJ=function(dn){IPCC.bi.ad(dn,'imagePoint');nZ();var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();ah.acp(aQ,dn);ah.iG(R.cP(),R.dS());fj=null;bJ.iE(ah);};this.ahg=function(){nZ();fj=null;var bJ=R.bM();var ah=bJ.fb();var aQ=R.dS();ah.xu(1,-1,aQ.width/2,aQ.height/2);ah.iG(R.cP(),R.dS());fj=null;bJ.iE(ah);};this.cV=function(){R.cV();};this.Kj=function(){R.Kj();};var Yg=function(){var aA=R.cP();var aQ=R.dS();var ah;if(!fj){ah=R.bM().fb();ah.iG(aA,aQ);R.bM().iE(ah);return;}if(fj.aCJ){ah=R.bM().fb();}else{ah=new IPCC.eO();ah.aEB(aA,aQ);if(fj.viewRotationDegreesClockwise){ah.rotate(fj.viewRotationDegreesClockwise);}if(fj.viewMirror){ah.avA(aQ);}}if(fj.viewZoomFactor){if(fj.viewZoomFactor>aA.pI){fj.viewZoomFactor=aA.pI;}else if(fj.viewZoomFactor<aA.sr){fj.viewZoomFactor=aA.sr;}fj.viewFitType=IPCC.Web.UI.FitType.ActualSize;ah.aaI(fj.viewFitType,aA,aQ);ah.scale(fj.viewZoomFactor,fj.viewZoomFactor);}else{if(!fj.viewFitType&&fj.viewFitType!==0){fj.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fj.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !fj.viewRectangle){fj.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(fj.viewFitType!==IPCC.Web.UI.FitType.Rectangle){ah.aaI(fj.viewFitType,aA,aQ);}else{ah.NN(aA,aQ,fj.viewRectangle);}}ah.iG(aA,aQ);R.bM().iE(ah);};var akY=function(GS){fj=GS;Np=0;Yg();};this.Ma=function(aG){yz++;var Wy=yz;var aoe={};IC=0.0;R.PU=0.0;IPCC.fR.amA(aG);if(mg(IPCC.Web.UI.DebugErrorLevel.Development)){var cS='opening documentIdentifier "'+aG.documentIdentifier+'", pageNumber '+aG.pageNumber;this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);}bG=new IPCC.Web.UI.PageViewState();var H;for(H in aG){if(aG.hasOwnProperty(H)){bG[H]=aG[H];}}if(aG.documentIdentifier===''){this.My();return;}if(IPCC.Web.UI.ArtPage){if(bG){if(!bG.artPage){var aB=new IPCC.Web.UI.ArtPage();if(bG.artPageJson){aB.loadFromJson(bG.artPageJson);}bG.artPage=aB;}if(!bG.documentArtPage){var er=new IPCC.Web.UI.ArtPage();bG.documentArtPage=er;}if(this.jV()===true){if(!bG.imGearPage){var hf=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aG.documentIdentifier,imageServicePath:this.ve()});bG.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,bx:hf});hf.get_pages().addPage(bG.imGearPage);}if(!bG.transientArtPage){bG.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bG.viewRotationDegreesClockwise){IPCC.bi.Tl(bG.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bG.viewFitType){IPCC.bi.lx(bG.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bG.viewZoomFactor){IPCC.bi.kC(bG.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bz('pageOpening',aG);var bo=new IPCC.fR(aG.encodedDocumentIdentifier,aG.pageNumber,0,0,0,0);var pJ=function(){if(Wy!==yz){return;}var rD=null;if(R.cP()){rD=Mq();}R.bM().oO();R.Ar(bo);akY(bG);if(aG.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bG){if(bG.artPage){R.mO(bG.artPage);R.eN().loadFromJson(bo.aov);}}}else{if(bG){if(bG.artPage){R.mO(bG.artPage);}if(bG.documentArtPage){R.Kf(bG.documentArtPage);}if(R.jV()===true){if(bG.imGearPage){var Sl=bG.imGearPage.get_pageWidth();var Tw=bG.imGearPage.get_pageHeight();bG.imGearPage.nq(hh.iO());if(!Sl){bG.imGearPage.Sa(hh.get_pageWidth());}if(!Tw){bG.imGearPage.Rx(hh.get_pageHeight());}R.EF(bG.imGearPage);if(typeof(R.pq().xy==='function')){if(!R.pq().cn().yQ()){bG.imGearPage.vw(hh.lk());setTimeout(R.pq().xy,1000);}}}if(bG.transientArtPage){R.Da(bG.transientArtPage);}}}}bG=null;if(rD){bz('pageClosed',rD);}BO();bz('pageOpened',aG);};if(aG.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bG){if(!bG.artPageJson){bo.aIf(R.ve(),R,pJ,aoe);}else{bo.Su(R.ve(),R,pJ);}}}else{bo.Su(R.ve(),R,pJ);}};this.My=function(){yz++;if(!(R.cP())){return;}var rD=Mq();R.Ar(undefined);R.mO(undefined);R.EF(undefined);R.Da(undefined);this.cV();BO();rD=undefined;bG=undefined;fj=undefined;var ci;ci=hh.nN();if(ci.igElements){if(ci.igElements.qu){ci.igElements.qu.zD=null;ci.igElements.qu.vW=null;ci.igElements.qu.Ha=null;ci.igElements.qu=null;}ci.igElements.Bv=null;ci.igElements.eu=null;ci.igElements.ho=null;ci.igElements.cr=null;ci.igElements.mI=null;ci.igElements.oY=null;ci.igElements.jH=null;ci.igElements.pF=null;ci.igElements.Qh=null;ci.igElements.WV=null;ci.igElements.rS=null;}hh=null;ci.ae=null;bz('pageClosed',rD);};this.aws=function(aG){yz++;var Wy=yz;IC=0.0;R.PU=0.0;IPCC.fR.amA(aG);if(mg(IPCC.Web.UI.DebugErrorLevel.Development)){var cS='opening documentIdentifier "'+aG.documentIdentifier+'", pageNumber '+aG.pageNumber;this.ug(cS,IPCC.Web.UI.DebugErrorLevel.Development);}bG=new IPCC.Web.UI.PageViewState();var H;for(H in aG){if(aG.hasOwnProperty(H)){bG[H]=aG[H];}}if(aG.documentIdentifier===''){this.My();return;}if(IPCC.Web.UI.ArtPage){if(bG){if(!bG.artPage){var aB=new IPCC.Web.UI.ArtPage();bG.artPage=aB;}if(!bG.documentArtPage){var er=new IPCC.Web.UI.ArtPage();bG.documentArtPage=er;}if(this.jV()===true){if(!bG.imGearPage){var hf=new IPCC.Web.UI.ImGearDocument({documentIdentifier:aG.documentIdentifier,imageServicePath:this.ve()});bG.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:aG.pageNumber,bx:hf});hf.get_pages().addPage(bG.imGearPage);}if(!bG.transientArtPage){bG.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bG.viewRotationDegreesClockwise){IPCC.bi.Tl(bG.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bG.viewFitType){IPCC.bi.lx(bG.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bG.viewZoomFactor){IPCC.bi.kC(bG.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bz('pageOpening',aG);var bo=new IPCC.fR(aG.encodedDocumentIdentifier,aG.pageNumber,0,0,0,0);var pJ=function(){if(Wy!==yz){return;}var rD=null;if(R.cP()){rD=Mq();}R.bM().oO();R.Ar(bo);akY(bG);if(bG){if(bG.artPage){R.mO(bG.artPage);}if(bG.documentArtPage){R.Kf(bG.documentArtPage);}if(R.jV()===true){if(bG.imGearPage){var Sl=bG.imGearPage.get_pageWidth();var Tw=bG.imGearPage.get_pageHeight();bG.imGearPage.nq(hh.iO());if(!Sl){bG.imGearPage.Sa(hh.get_pageWidth());}if(!Tw){bG.imGearPage.Rx(hh.get_pageHeight());}R.EF(bG.imGearPage);if(typeof(R.pq().xy==='function')){if(!R.pq().cn().yQ()){bG.imGearPage.vw(hh.lk());setTimeout(R.pq().xy,1000);}}}if(bG.transientArtPage){R.Da(bG.transientArtPage);}}}bG=null;if(rD){bz('pageClosed',rD);}BO();bz('pageOpened',aG);};bo.awR(R.ve(),R,pJ);};this.aKc=function(){yz++;if(!(R.cP())){return;}var bo=R.cP();R.Ar(undefined);this.cV();R.Ar(bo);};this.WI=function(DA){R.WI(DA);};this.mO=function(L){R.mO(L);};this.eN=function(){return R.eN();};this.Kf=function(L){R.Kf(L);};this.Qf=function(){return R.Qf();};this.lY=function(){return R.lY();};this.Da=function(L){R.Da(L);};this.EN=function(){return R.EN();};this.aBQ=function(L){R.aBQ(L);};this.Ju=function(L){R.Ju(L);};this.tP=function(){return R.tP();};this.aGn=function(L){ajU=this.avN(L);};this.iK=function(){return ajU;};this.aef=function(L){R.aef(L);};this.Wb=function(){return R.Wb();};this.oP=function(){return R.oP();};this.qO=function(L){R.qO(L);};this.adJ=function(L){R.adJ(L);};this.XE=function(){return R.XE();};this.UW=function(ayE){R.UW(ayE);};this.Xs=function(){return R.Xs();};this.avN=function(aM){var an='',Pp='',Ur=function(bP){var rI=0,an;for(an in bP){if(bP.hasOwnProperty(an)){rI+=1;}}return rI;};for(an in qo){if(qo.hasOwnProperty(an)){if(typeof aM[an]==='undefined'){aM[an]=qo[an];}if(typeof aM[an]==='object'){if(!Ur(aM[an])){aM[an]=qo[an];}else if(Ur(aM[an])!==Ur(qo[an])){for(Pp in qo[an]){if(typeof aM[an][Pp]==='undefined'){aM[an][Pp]=qo[an][Pp];}}}}}}return aM;};this.aEy=function(aEt){if(aEt===false){IPCC.gs=false;R.ez([new IPCC.mc(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}else{IPCC.gs=true;IPCC.aeO=this.iK();R.ez([new IPCC.mc(),new IPCC.du(),new IPCC.eh(),new IPCC.db(),new IPCC.cW(false)]);}};this.oO=function(){var bJ=R.bM();if(!bJ.xg()){return;}R.bM().oO();};this.aDY=function(dh){IPCC.bi.h(dh,'pageRectangle');var bo=R.cP();if(bo){R.bM().showSelection(dh);}};this.Ew=function(dn){IPCC.bi.ad(dn,'imagePoint');if(R.cP()){R.bM().Ew(new IPCC.Web.UI.Point(dn.x,dn.y));}};this.zI=function(dn){IPCC.bi.ad(dn,'imagePoint');if(R.cP()){R.bM().zI(new IPCC.Web.UI.Point(dn.x,dn.y));}};this.yC=function(){if(R.cP()&&R.bM().xg()){return R.bM().yC();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.ayh=function(){if(R.cP()&&R.bM().xg()){var dh=R.bM().yC();return R.bM().fb().xl(dh);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.xg=function(){return! !(R.cP()&&R.bM().xg());};this.ve=function(){return R.ve();};this.VV=function(L){IPCC.bi.mo(L,'value');R.VV(L);};this.ayF=function(){return Oa;};this.aFR=function(L){IPCC.bi.mo(L,'value');Oa=L;};this.aAR=function(){return Ry;};this.aFx=function(L){Ry=L;};var vz='';this.uc=function(L){R.uc(L);vz=L;};this.nN=function(){return vz;};this.azy=function(){return R.bM().get_magnifierMagnification();};this.aEm=function(L){IPCC.bi.kC(L,'value',1.5,8);R.bM().set_magnifierMagnification(L);};this.azk=function(){return R.bM().vb().width;};this.aEe=function(L){IPCC.bi.kC(L,'value',25,500);var rI=R.bM().vb();rI.width=L;R.bM().set_magnifierWindowSize(rI);};this.aAv=function(){return R.bM().vb().height;};this.aCX=function(L){IPCC.bi.kC(L,'value',25,500);var rI=R.bM().vb();rI.height=L;R.bM().set_magnifierWindowSize(rI);};this.QD=function(){return R.bM().QD();};this.UN=function(L){IPCC.bi.kC(L,'value',-500,500);R.bM().UN(L);};this.QW=function(){return R.bM().QW();};this.VF=function(L){IPCC.bi.kC(L,'value',-500,500);R.bM().VF(L);};this.XL=function(){return R.bM().XL();};this.Wd=function(L){IPCC.bi.kC(L,'value',0.1,0.5);R.bM().Wd(L);};this.zj=function(){return R.bM().zj();};this.IJ=function(L){R.bM().IJ(L);};this.raisePropertyChanged=function(cU,yj){if(R){R.bX(cU,yj);}};var bp= -1;this.WR=function(){return bp;};this.aHC=function(L){R.rr=L;};this.NZ=function(L){R.set_areMarksEditable(L);};this.aIu=function(){return R.set_areMarksEditable();};this.Kn=function(L){IPCC.bi.lx(L,'value',IPCC.Web.UI.MouseTool);if(bp!==L){bp=L;var ii="None";switch(bp){case IPCC.Web.UI.MouseTool.None:R.ez([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gs===true){R.ez([new IPCC.od(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.od(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);ii="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gs===true){R.ez([new IPCC.mc(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.mc(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gs===true){R.ez([new IPCC.pe(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(true)]);}else{R.ez([new IPCC.pe(),new IPCC.du(),new IPCC.db(),new IPCC.cW(true)]);}ii="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gs===true){R.ez([new IPCC.nF(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.nF(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Rectangle),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Rectangle),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Ellipse),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Ellipse),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gs===true){R.ez([new IPCC.lP(),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.lP(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gs===true){R.ez([new IPCC.lz(IPCC.Web.UI.MarkType.Polyline),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.lz(IPCC.Web.UI.MarkType.Polyline),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gs===true){R.ez([new IPCC.nr(),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.nr(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gs===true){R.ez([new IPCC.lz(IPCC.Web.UI.MarkType.Polygon),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.lz(IPCC.Web.UI.MarkType.Polygon),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.TextLine),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.TextLine),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:R.ez([new IPCC.et(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);ii="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gs===true){R.ez([new IPCC.lf(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.lf(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gs===true){R.ez([new IPCC.yp(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.yp(IPCC.Web.UI.MarkType.Text),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Stamp),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.Stamp),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gs===true){R.ez([new IPCC.et(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.et(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:R.GV=true;if(IPCC.gs===true){R.ez([new IPCC.km(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.km(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:R.GV=false;if(IPCC.gs===true){R.ez([new IPCC.km(),new IPCC.du(),new IPCC.eh(false,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.km(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gs===true){R.ez([new IPCC.km(),new IPCC.du(),new IPCC.eh(true,this.iK()),new IPCC.db(),new IPCC.cW(false)]);}else{R.ez([new IPCC.km(),new IPCC.du(),new IPCC.db(),new IPCC.cW(false)]);}ii="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:ii});}};this.HN=function(apE){bp= -1;R.ez(apE);};this.ayj=function(){return R.bM().get_presentationQuality();};this.aCa=function(L){IPCC.bi.kC(L,'value',0,100);R.bM().set_presentationQuality(L);};this.axj=function(){return R.bM().get_scrollBars();};this.aCi=function(L){IPCC.bi.lx(L,'value',IPCC.Web.UI.ScrollBars);R.bM().set_scrollBars(L);};this.awU=function(dn,apD){IPCC.bi.ad(dn,'imagePoint');if(!(R.cP())){return new IPCC.Web.UI.Point(0,0);}var dG=R.bM().fb().transform(dn);if(apD){dG.constrain(R.dS());}return dG;};this.PW=function(dG,apT){IPCC.bi.ad(dG,'windowPoint');var bo=R.cP();if(!bo){return new IPCC.Web.UI.Point(0,0);}var tj=R.bM().fb();tj.ye();var dn=tj.transform(dG);if(apT){dn.constrain(bo);}return dn;};function atq(){var ci;ci=hh.nN();var akd=ci.clientWidth;var ajL=ci.clientHeight;var aCM=(fj&&fj.viewFitType===acq&&akd===adu&&ajL===acK);if(aCM){if(Np>2){return;}Np++;}else{acq=fj?fj.viewFitType: -1;adu=akd;acK=ajL;Np=0;}Yg();};function awB(){fj=null;};function atT(aN,T){switch(T.hF){case IPCC.fM.aaW:hh.acw(1.25,T.Tj.windowPoint);break;case IPCC.fM.adP:hh.acI(1.25,T.Tj.windowPoint);break;case IPCC.fM.aaS:hh.xn(T.L);break;case IPCC.fM.afX:hh.ahg();break;case IPCC.fM.alJ:hh.anv();break;case IPCC.fM.acv:hh.VK(T.L);break;case IPCC.fM.aeb:hh.Kn(T.L);break;}};this.jV=function(){return R.jV();};this.IP=function(L){R.IP(L);};this.cn=function(){return R.cn();};this.pq=function(){return R.pq();};this.EF=function(L){R.EF(L);};this.xt=function(){return R.get_requireRequestsOptimize();};this.Kd=function(L){R.Kd(L);};this.lk=function(){return R.lk();};this.vw=function(L){R.vw(L);};this.IG=function(dn){IPCC.bi.ad(dn,'imagePoint');return R.IG(dn);};this.zt=function(cA){R.zt(cA);};this.Zy=function(){R.Zy();};this.Mt=function(uB,dF){var Hj=R.cn().fX().fE();IPCC.bi.mD(uB,'uB',0,Hj-1);R.Mt(uB,dF);};this.vx=function(cA){if(cA===undefined){R.bM().vx(cA);return false;}var Hj=R.cn().fX().fE();IPCC.bi.mD(cA,'textIndex',0,Hj-1);R.vx(cA);return true;};this.IW=function(){return! !(R.cP()&&R.jV()&&R.cn().oj()===true&&R.bM().IW());};this.Zb=function(){var bJ=R.bM();bJ.Zb();};this.PO=function(){if(R.jV()&&R.cn().oj()===true){return Math.min(R.bM().aiL(),R.bM().BY());}};this.Bb=function(){if(R.jV()&&R.cn().oj()===true){return R.bM().Bb();}};this.EE=function(){if(R.jV()&&R.cn().oj()===true&&R.bM().IW()){return R.EE();}else{return "";}};this.BY=function(){return R.bM().BY();};this.aAD=function(){return R.get_cursor();};this.aEn=function(L){R.set_cursor(L);};this.yq=function(){return R.yq();};this.Va=function(L){R.Va(L);};this.iO=function(){return R.iO();};this.nq=function(L){R.nq(L);};this.aBR=function(){R.bM().hideMagnifier();};this.aEg=function(dG){R.bM().showMagnifier(dG);};this.wy=function(J){if(R.mG().igElements){R.wy(J);R.cV();}};this.IB=function(){R.IB();};this.Ev=function(){return R.Ev();};this.qY=function(){if(R.mG().igElements){R.qY(true);}};function atN(aN,T){var yt=T.scaleFactor;var bO={scaleType:"scaledDown",pageNumber:T.pageNumber};if(IC!==yt){if(yt>IC){bO.scaleType="scaledUp";}IC=yt;bz('scaleChanged',bO);}};this.initialize=function(){R.aGq(this.nN().id);R.uc(this.nN().id);if(bp=== -1){this.Kn(IPCC.Web.UI.MouseTool.RectangleZoom);}oQ('mouseDown');oQ('mouseMove');oQ('mouseUp');oQ('contextMenu');oQ('markCreating');oQ('pageOpenFailed');oQ('textPageReady');oQ('pageDisplayed');oQ('exceptionThrown');oQ('selectTextMouseToolCompleted');Io('markAdded');Io('markChanged');Io('markRemoved');oQ('textExtractionFailed');Io('markReordered');Io('marksLoaded');oQ('markSelectionChanged');aGe();R.apl(atq);R.apn(awB);R.aom(atT);R.add_scaleChanged(atN);R.aAU();var ci=this.nN();ci.ae=this;};nY=(nY!==false);R=new IPCC.aak(nY);R.aDl('PageView');R.aCh(ND);};aas.prototype={dispose:function(){this.bE('dispose',arguments);this.My();},get_debug:function(){try{var aO=this.Hn();this.cL('get_debug',arguments,aO);return aO;}catch(e){this.bf('get_debug',e);throw e;}},set_debug:function(value){try{this.bE('set_debug',arguments);var yx=this.Hn();this.US(value);if(!yx){this.bE('set_debug',arguments);}}catch(e){this.bf('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var aO=this.AL();this.cL('get_debugErrorLevel',arguments,aO);return aO;}catch(e){this.bf('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bE('set_debugErrorLevel',arguments);var yx=this.AL();this.IY(value);if(yx<IPCC.Web.UI.DebugErrorLevel.Development){this.bE('set_debugErrorLevel',arguments);}}catch(e){this.bf('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var aO=this.Xs();this.cL('get_artServiceOption',arguments,aO);return aO;}catch(e){this.bf('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bE('set_artServiceOption',arguments);this.UW(value);}catch(e){this.bf('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.Zc(handler);}catch(e){this.bf('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Ye(handler);}catch(e){this.bf('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.Yh(handler);}catch(e){this.bf('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Zv(handler);}catch(e){this.bf('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.aos(handler);}catch(e){this.bf('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.azK(handler);}catch(e){this.bf('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.HO(handler);}catch(e){this.bf('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.GJ(handler);}catch(e){this.bf('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.Zo(handler);}catch(e){this.bf('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.ZT(handler);}catch(e){this.bf('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.Nm(handler);}catch(e){this.bf('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.YO(handler);}catch(e){this.bf('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.MF(handler);}catch(e){this.bf('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.ZD(handler);}catch(e){this.bf('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.Nt(handler);}catch(e){this.bf('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Yd(handler);}catch(e){this.bf('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.aoA(handler);}catch(e){this.bf('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.azA(handler);}catch(e){this.bf('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.AG(handler);}catch(e){this.bf('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Bw(handler);}catch(e){this.bf('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.YS(handler);}catch(e){this.bf('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.ZY(handler);}catch(e){this.bf('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.Kv(handler);}catch(e){this.bf('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Gq(handler);}catch(e){this.bf('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.Bc(handler);}catch(e){this.bf('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.By(handler);}catch(e){this.bf('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Ki(handler);}catch(e){this.bf('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fk(handler);}catch(e){this.bf('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Zt(handler);}catch(e){this.bf('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.ZX(handler);}catch(e){this.bf('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.JK(handler);}catch(e){this.bf('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.GP(handler);}catch(e){this.bf('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.ZM(handler);}catch(e){this.bf('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.ZB(handler);}catch(e){this.bf('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.zd(handler);}catch(e){this.bf('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.Ei(handler);}catch(e){this.bf('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.XZ(handler);},remove_exceptionThrown:function(handler){this.Zl(handler);},add_scaleChanged:function(handler){try{this.YX(handler);}catch(e){this.bf('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.YL(handler);}catch(e){this.bf('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.lo(handler);}catch(e){this.bf('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mB(handler);}catch(e){this.bf('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.yg(handler);},remove_textExtractionFailed:function(handler){this.Eb(handler);},writeToLog:function(message){try{this.oy(message);}catch(e){this.bf('writeToLog',e);throw e;}},fitPage:function(type){try{this.bE('fitPage',arguments);this.VK(type);}catch(e){this.bf('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var aO=this.ec();this.cL('get_pageIsOpen',arguments,aO);return aO;}catch(e){this.bf('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var aO=this.kg();this.cL('get_pageWidth',arguments,aO);return aO;}catch(e){this.bf('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var aO=this.jn();this.cL('get_pageHeight',arguments,aO);return aO;}catch(e){this.bf('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var aO=this.ayB();this.cL('get_pageXResolution',arguments,aO);return aO;}catch(e){this.bf('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var aO=this.axS();this.cL('get_pageYResolution',arguments,aO);return aO;}catch(e){this.bf('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var aO=this.Hg();this.cL('get_documentIdentifier',arguments,aO);return aO;}catch(e){this.bf('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var aO=this.Pa();this.cL('get_encodedDocumentIdentifier',arguments,aO);return aO;}catch(e){this.bf('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var aO=this.nL();this.cL('get_pageNumber',arguments,aO);return aO;}catch(e){this.bf('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var aO=this.ayS();this.cL('get_documentPageCount',arguments,aO);return aO;}catch(e){this.bf('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var aO=this.aib();this.cL('get_displayedPageRectangle',arguments,aO);return aO;}catch(e){this.bf('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var aO=this.Pe();this.cL('get_currentState',arguments,aO);return aO;}catch(e){this.bf('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bE('zoomIn',arguments);this.MC(factor);}catch(e){this.bf('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bE('zoomOut',arguments);this.SO(factor);}catch(e){this.bf('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.bE('set_sharpening',arguments);this.ED(factor);}catch(e){this.bf('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.bE('set_gamma',arguments);this.Ed(factor);}catch(e){this.bf('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.bE('set_svgLineWidthMultiplier',arguments);this.DJ(factor);}catch(e){this.bf('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.bE('zoom',arguments);this.jw(factor);}catch(e){this.bf('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bE('rotate',arguments);this.xn(degreesClockwise);}catch(e){this.bf('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bE('showPageRectangle',arguments,1);this.aEv(imageRectangle);}catch(e){this.bf('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bE('showPagePointAtCenter',arguments,1);this.aEJ(imagePoint);}catch(e){this.bf('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bE('mirror',arguments);this.anv();}catch(e){this.bf('mirror',e);throw e;}},flip:function(){try{this.bE('flip',arguments);this.ahg();}catch(e){this.bf('flip',e);throw e;}},display:function(){try{this.bE('display',arguments);this.cV();}catch(e){this.bf('display',e);throw e;}},openPage:function(parameters){try{this.bE('openPage',arguments,1);this.Ma(parameters);}catch(e){this.bf('openPage',e);throw e;}},closePage:function(){try{this.bE('closePage',arguments);this.My();}catch(e){this.bf('closePage',e);throw e;}},hideSelection:function(){try{this.bE('hideSelection',arguments);this.oO();}catch(e){this.bf('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bE('showSelection',arguments);this.aDY(imageRectangle);}catch(e){this.bf('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bE('showEmptySelection',arguments);this.Ew(imagePoint);}catch(e){this.bf('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bE('extendSelection',arguments);this.zI(imagePoint);}catch(e){this.bf('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bE('saveArtPage',arguments);this.WI(onSave);}catch(e){this.bf('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var aO=this.yC();this.cL('get_selectionPageRectangle',arguments,aO);return aO;}catch(e){this.bf('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var aO=this.ayh();this.cL('get_selectionWindowRectangle',arguments,aO);return aO;}catch(e){this.bf('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var aO=this.xg();this.cL('get_selectionIsVisible',arguments,aO);return aO;}catch(e){this.bf('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var aO=this.ayF();this.cL('get_controlStateElementId',arguments,aO);return aO;}catch(e){this.bf('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bE('set_controlStateElementId',arguments);this.aFR(value);}catch(e){this.bf('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var aO=this.aAR();this.cL('get_includeArtInPostBack',arguments,aO);return aO;}catch(e){this.bf('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bE('set_includeArtInPostBack',arguments);this.aFx(value);}catch(e){this.bf('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var aO=this.eN();this.cL('get_artPage',arguments,aO);return aO;}catch(e){this.bf('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bE('set_artPage',arguments);this.mO(value);}catch(e){this.bf('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var aO=this.Qf();this.cL('get_documentArtPage',arguments,aO);return aO;}catch(e){this.bf('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bE('set_documentArtPage',arguments);this.Kf(value);}catch(e){this.bf('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var aO=this.lY();this.cL('get_transientArtPage',arguments,aO);return aO;}catch(e){this.bf('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bE('set_transientArtPage',arguments);this.Da(value);}catch(e){this.bf('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var aO=this.ve();this.cL('get_imageHandlerUrl',arguments,aO);return aO;}catch(e){this.bf('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bE('set_imageHandlerUrl',arguments);this.VV(value);}catch(e){this.bf('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var aO=this.tP();this.cL('get_resourcePath',arguments,aO);return aO;}catch(e){this.bf('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bE('set_resourcePath',arguments);this.Ju(L);}catch(e){this.bf('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var aO=this.iK();this.cL('get_contextMenuLanguageDictionary',arguments,aO);return aO;}catch(e){this.bf('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(L){try{this.bE('set_contextMenuLanguageDictionary',arguments);this.aGn(L);}catch(e){this.bf('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var aO=this.jV();this.cL('get_textRequired',arguments,aO);return aO;}catch(e){this.bf('get_textRequired',e);throw e;}},set_textRequired:function(L){try{this.bE('set_textRequired',arguments);this.IP(L);}catch(e){this.bf('set_textRequired',e);throw e;}},get_textPage:function(){try{var aO=this.cn();this.cL('get_textPage',arguments,aO);return aO;}catch(e){this.bf('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var aO=this.IW();this.Ce('textSelectionIsVisible',arguments,aO,1);return aO;}catch(e){this.bf('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var aO=this.EE();this.Ce('getSelectedText',arguments,aO,1);return aO;}catch(e){this.bf('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var aO=this.xt();this.cL('get_requireRequestsOptimize',arguments,aO);return aO;}catch(e){this.bf('xt',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bE('set_requireRequestsOptimize',arguments);this.Kd(value);}catch(e){this.bf('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var aO=this.azy();this.cL('get_magnifierMagnification',arguments,aO);return aO;}catch(e){this.bf('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bE('set_magnifierMagnification',arguments);this.aEm(value);}catch(e){this.bf('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var aO=this.azk();this.cL('get_magnifierWidth',arguments,aO);return aO;}catch(e){this.bf('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bE('set_magnifierWidth',arguments);this.aEe(value);}catch(e){this.bf('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var aO=this.aAv();this.cL('get_magnifierHeight',arguments,aO);return aO;}catch(e){this.bf('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bE('set_magnifierHeight',arguments);this.aCX(value);}catch(e){this.bf('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var aO=this.QD();this.cL('get_magnifierXOffset',arguments,aO);return aO;}catch(e){this.bf('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bE('set_magnifierXOffset',arguments);this.UN(value);}catch(e){this.bf('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var aO=this.QW();this.cL('get_magnifierYOffset',arguments,aO);return aO;}catch(e){this.bf('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bE('set_magnifierYOffset',arguments);this.VF(value);}catch(e){this.bf('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bE('showMagnifier',arguments,1);this.aEg(windowPoint);}catch(e){this.bf('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bE('hideMagnifier',arguments);this.aBR();}catch(e){this.bf('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var aO=this.XL();this.cL('get_markHandleSize',arguments,aO);return aO;}catch(e){this.bf('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bE('set_markHandleSize',arguments);this.Wd(value);}catch(e){this.bf('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var aO=this.zj();this.cL('get_markHandleMode',arguments,aO);return aO;}catch(e){this.bf('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bE('set_markHandleMode',arguments);this.IJ(value);}catch(e){this.bf('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var aO=this.WR();this.cL('get_mouseTool',arguments,aO);return aO;}catch(e){this.bf('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bE('set_mouseTool',arguments);this.Kn(value);}catch(e){this.bf('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var aO=this.ayj();this.cL('get_presentationQuality',arguments,aO);return aO;}catch(e){this.bf('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bE('set_presentationQuality',arguments);this.aCa(value);}catch(e){this.bf('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var aO=this.axj();this.cL('get_scrollBars',arguments,aO);return aO;}catch(e){this.bf('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bE('set_scrollBars',arguments);this.aCi(value);}catch(e){this.bf('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var aO=this.pq();this.cL('get_imGearPage',arguments,aO);return aO;}catch(e){this.bf('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bE('set_imGearPage',arguments);this.EF(value);}catch(e){this.bf('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var aO=this.lk();this.cL('get_serviceResponseTimeout',arguments,aO);return aO;}catch(e){this.bf('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bE('set_serviceResponseTimeout',arguments);this.vw(value);}catch(e){this.bf('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var aO=this.BY();this.cL('get_currentTextIndex',arguments,aO);return aO;}catch(e){this.bf('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var aO=this.aAD();this.cL('get_cursor',arguments,aO);return aO;}catch(e){this.bf('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bE('set_cursor',arguments);this.aEn(value);}catch(e){this.bf('set_cursor',e);throw e;}},get_encryption:function(){try{var aO=this.iO();this.cL('get_encryption',arguments,aO);return aO;}catch(e){this.bf('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bE('set_encryption',arguments);this.nq(value);}catch(e){this.bf('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var aO=this.awU(imagePoint,constrainResultToWindow);this.Ce('transformPagePointToWindow',arguments,aO,1);return aO;}catch(e){this.bf('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var aO=this.PW(windowPoint,constrainResultToImage);this.Ce('transformWindowPointToPage',arguments,aO,1);return aO;}catch(e){this.bf('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var aO=this.IG(pagePoint);this.Ce('transformPagePointToTextIndex',arguments,aO,1);return aO;}catch(e){this.bf('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bE('removeAllHighlights',arguments);this.Zy();}catch(e){this.bf('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bE('showTextSelection',arguments);this.Mt(indexOfFirstCharacter,length);}catch(e){this.bf('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bE('showEmptyTextSelection',arguments);this.zt(textIndex);}catch(e){this.bf('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bE('extendTextSelection',arguments);this.vx(textIndex);}catch(e){this.bf('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bE('initializeViewControllers',arguments);this.aEy(showArtContextMenu);}catch(e){this.bf('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var aO=this.yq();this.cL('get_autoUpdate',arguments,aO);return aO;}catch(e){this.bf('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bE('set_autoUpdate',arguments);this.Va(value);}catch(e){this.bf('set_autoUpdate',e);throw e;}}};module.exports=aas;},{}],114:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var nS=require('./FitType');var KP=function(){return this;};KP.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nS.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};KP.registerClass=cT;KP.registerClass('IPCC.Web.UI.PageViewState');module.exports=KP;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var xF=function(x,y){this.x=x;this.y=y;return this;};xF.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};xF.registerClass=cT;xF.registerClass('IPCC.Web.UI.Point');module.exports=xF;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Pj=function(){var bg=[];var bu=new IPCC.Web.UI.gZ();this.aoP=function(ad){var T=new IPCC.Web.UI.PointEventArgs();T.point=ad;T.length=1;bg.push(new IPCC.Web.UI.Point(ad.x,ad.y));T.index=bg.length-1;this.bz('pointAdded',T);};this.anW=function(adv){var T=new IPCC.Web.UI.PointEventArgs();T.index=bg.length;T.length=adv.get_length();function jR(ad){bg.push(ad);};adv.forEach(jR,{});if(T.length>0){this.bz('pointAdded',T);}};this.ki=function(iq,dk){var Xo=[].concat(bg);var H;for(H=0;H<Xo.length;H++){iq.call(dk,new IPCC.Web.UI.Point(Xo[H].x,Xo[H].y),H,this);}};this.zl=function(ba){jM(ba);var fH=bg[ba];return new IPCC.Web.UI.Point(fH.x,fH.y);};this.aDq=function(ba,ad){jM(ba);IPCC.bi.ad(ad,'point');var Rw=bg[ba];if(Rw.x===ad.x&&Rw.y===ad.y){return;}Rw.x=ad.x;Rw.y=ad.y;var T=new IPCC.Web.UI.PointEventArgs();T.point=ad;T.index=ba;T.length=1;this.bz('pointChanged',T);};this.fE=function(){return bg.length;};this.aCd=function(ba){jM(ba);var T=new IPCC.Web.UI.PointEventArgs();T.point=bg[ba];T.index=ba;T.length=1;bg.splice(ba,1);this.bz('pointRemoved',T);};this.aBc=function(){if(bg.length<1){return;}var T=new IPCC.Web.UI.PointEventArgs();T.index=0;T.length=bg.length;bg=[];this.bz('pointRemoved',T);};this.aob=function(eR,eg){if(eR===0&&eg===0){return;}IPCC.bi.hG(eR,'deltaX');IPCC.bi.hG(eg,'deltaY');var H;for(H=0;H<bg.length;H++){bg[H].x+=eR;bg[H].y+=eg;}var T=new IPCC.Web.UI.PointEventArgs();T.index=0;T.length=bg.length;this.bz('pointChanged',T);};this.sD=function(){if(bg.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var H,gh=bg[0].x,iU=bg[0].x,_top=bg[0].y,iS=bg[0].y;for(H=1;H<bg.length;H++){var ad=bg[H];gh=Math.min(gh,ad.x);iU=Math.max(iU,ad.x);_top=Math.min(_top,ad.y);iS=Math.max(iS,ad.y);}return new IPCC.Web.UI.Rectangle(gh,_top,iU-gh,iS-_top);};function jM(ba){if(ba>bg.length-1||(ba<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',ba);}};this.aps=function(V){bu.addHandler('pointAdded',V);};this.azo=function(V){bu.removeHandler('pointAdded',V);};this.anH=function(V){bu.addHandler('pointChanged',V);};this.azH=function(V){bu.removeHandler('pointChanged',V);};this.aol=function(V){bu.addHandler('pointRemoved',V);};this.aAA=function(V){bu.removeHandler('pointRemoved',V);};this.bz=function(dA,T){var V=bu.getHandler(dA);if(V!==null){V(this,T);}};return this;};Pj.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aoP(point);},addPoints:function(pointCollection){this.anW(pointCollection);},forEach:function(method,context){this.ki(method,context);},getPoint:function(index){return this.zl(index);},setPoint:function(index,point){this.aDq(index,point);},get_length:function(){return this.fE();},removePoint:function(index){this.aCd(index);},removeAllPoints:function(){this.aBc();},moveAllPoints:function(deltaX,deltaY){this.aob(deltaX,deltaY);},add_pointAdded:function(handler){this.aps(handler);},remove_pointAdded:function(handler){this.azo(handler);},add_pointChanged:function(handler){this.anH(handler);},remove_pointChanged:function(handler){this.azH(handler);},add_pointRemoved:function(handler){this.aol(handler);},remove_pointRemoved:function(handler){this.aAA(handler);}};Pj.registerClass=cT;Pj.registerClass('IPCC.Web.UI.PointCollection');module.exports=Pj;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var OP=function(){return this;};OP.registerClass=cT;OP.prototype={};OP.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=OP;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var Lq=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};Lq.prototype={intersect:function(rectangle){var bB=Math.max(this.x,rectangle.x);var bQ=Math.min(this.x+this.width,rectangle.x+rectangle.width)-bB;var cc=Math.max(this.y,rectangle.y);var aD=Math.min(this.y+this.height,rectangle.y+rectangle.height)-cc;if(bQ<=0||aD<=0){bB=cc=bQ=aD=0;}this.x=bB;this.y=cc;this.width=bQ;this.height=aD;},union:function(rectangle){var gh=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var iU=Math.max(this.x+this.width,rectangle.x+rectangle.width);var iS=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=gh;this.y=_top;this.width=iU-gh;this.height=iS-_top;return this;},scale:function(So,Nz){Nz=Nz||So;var gh=this.x*So;var _top=this.y*Nz;var bQ=this.width*So;var aD=this.height*Nz;this.x=gh;this.y=_top;this.width=bQ;this.height=aD;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};Lq.registerClass=cT;Lq.registerClass('IPCC.Web.UI.Rectangle');module.exports=Lq;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var Pk=function(){};Pk.registerEnum=eF;Pk.prototype={None:0,Both:3,Auto:4};Pk.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=Pk;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var cT=require('../../IPCC.Util').regClass;var OZ=function(){return this;};OZ.registerClass=cT;OZ.prototype={};OZ.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=OZ;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var yO=require('./../../Type');var Xg={aGr:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').EG,ImGearHttpException:require('./ImGearExceptions').Ez,ImGearArgumentException:require('./ImGearExceptions').rR,ImGearArgumentNullException:require('./ImGearExceptions').AW,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').pV,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').FZ,ImGearInvalidOperationException:require('./ImGearExceptions').DS,ImGearNotImplementedException:require('./ImGearExceptions').Ga,ImGearParameterCountException:require('./ImGearExceptions').Gx,gZ:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),aT:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),YG:require('./highlightItem')};yO.registerNamespace('IPCC.Web.UI');module.exports=Xg;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var eF=require('../../IPCC.Util').regEnum;var NU=function(){};NU.registerEnum=eF;NU.prototype={Top:0,Center:1,Bottom:2};NU.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=NU;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var YG=function(){this.hi=undefined;this.dR=[];this.aJ={};};module.exports=YG;},{}],124:[function(require,module,exports){var Xg=require('././UI/UI');var F=require('./../IPCC.Util');var zw=require('./Cipher');var aCx=require('./Hash');var gT=require('./Codec');var BG=require('./Mode');var hm={};hm.asq=[];hm.vk=function(bB){return!isNaN(bB-0)&&bB!==null;};hm.zb=function(tk,cC){return IPCC.Web.afE(false,arguments);};hm.amS=function(tk,cC){return IPCC.Web.afE(true,arguments);};hm.afE=function(useLocale,cC){var aa='';var tk=cC[0];for(var H=0;;){var dY=tk.indexOf('{',H);var nl=tk.indexOf('}',H);if((dY<0)&&(nl<0)){aa+=tk.slice(H);break;}if((nl>0)&&((nl<dY)||(dY<0))){if(tk.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aa+=tk.slice(H,nl+1);H=nl+2;continue;}aa+=tk.slice(H,dY);H=dY+1;if(tk.charAt(H)==='{'){aa+='{';H++;continue;}if(nl<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var Ou=tk.substring(H,nl);var KO=Ou.indexOf(':');var alD=parseInt((KO<0)?Ou:Ou.substring(0,KO),10)+1;if(isNaN(alD)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var Wp=(KO<0)?'':Ou.substring(KO+1);var sK=cC[alD];if(typeof(sK)==="undefined"||sK===null){sK='';}if(sK.toFormattedString){aa+=sK.toFormattedString(Wp);}else if(useLocale&&sK.amS){aa+=sK.amS(Wp);}else if(sK.format){aa+=sK.format(Wp);}else{aa+=sK.toString();}H=nl+1;}return aa;};hm.aIC=function(wt){var pH=wt.length;var vp=Math.ceil(pH/4),Mf;var es=[];es.length=vp;for(var ln=0,gK=0;ln<vp;ln++,gK+=4){es[ln]=((wt[gK]&0xff)<<24)+((wt[gK+1]&0xff)<<16)+((wt[gK+2]&0xff)<<8)+(wt[gK+3]&0xff);}if(gK<pH){Mf[ln]=0;for(var wx=0;gK<pH;gK++,wx++){Mf[ln]+=(wt[gK++]&0xff)<<(3-wx);}}return es;};hm.aoi=function(aY){var pH=aY.length;var vp=Math.ceil(pH/4);var es=[];es.length=vp;for(var ln=0,gK=0;ln<vp;ln++,gK+=4){es[ln]=((aY.charCodeAt(gK)&0xff)<<24)+((aY.charCodeAt(gK+1)&0xff)<<16)+((aY.charCodeAt(gK+2)&0xff)<<8)+((aY.charCodeAt(gK+3)&0xff));}if(gK<pH){es[ln]=0;for(var wx=0;gK<pH;gK++,wx++){es[ln]+=(aY.charCodeAt(gK++)&0xff)<<(3-wx);}}return es;};hm.aHF=function(xN){var DP=new Uint8Array(xN);var pH=DP.length;var vp=Math.ceil(pH/4),Mf;var es=[];es.length=vp;for(var ln=0,gK=0;ln<vp;ln++,gK+=4){es[ln]=(DP[gK]<<24)+(DP[gK+1]<<16)+(DP[gK+2]<<8)+DP[gK+3];}if(gK<pH){es[ln]=0;for(var wx=0;gK<pH;gK++,wx++){Mf[ln]+=DP[gK++]<<(3-wx);}}return es;};hm.JP=function(es,hI){var an=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Cp(es,an,hI);};hm.Cp=function(es,an,hI){try{var apg=new IPCC.Web.zw.aku(an);var dI=IPCC.Web.BG.aqu.Wo(apg,es,hI);return dI;}catch(aR){return;}};hm.JC=function(EQ){return IPCC.Web.aoi(EQ.responseText);};hm.Oz=function(){var DN=new Date();var aoK=new Date(DN.getYear(),DN.getMonth(),DN.getDate(),DN.getHours(),DN.getMinutes(),DN.getSeconds());return(+aoK);};hm.kV=function(co,elt){var len=co.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in co&&co[from]===elt){return from;}}return-1;};hm.aCs=function aHO(){var kD=0xefc8249d;var su=function(dI){dI=dI.toString();for(var H=0;H<dI.length;H++){kD+=dI.charCodeAt(H);var dV=0.02519603282416938*kD;kD=dV>>>0;dV-=kD;dV*=kD;kD=dV>>>0;dV-=kD;kD+=dV*0x100000000;}return(kD>>>0)*2.3283064365386963e-10;};su.Ak='Mash 0.9';return su;};hm.akn=function aHu(){return(function(cC){var BC=0;var DY=0;var yP=0;var eK=1;if(cC.length===0){cC=[+new Date()];}var su=IPCC.Web.aCs();BC=su(' ');DY=su(' ');yP=su(' ');for(var H=0;H<cC.length;H++){BC-=su(cC[H]);if(BC<0){BC+=1;}DY-=su(cC[H]);if(DY<0){DY+=1;}yP-=su(cC[H]);if(yP<0){yP+=1;}}su=null;var xp=function(){var qg=2091639*BC+eK*2.3283064365386963e-10;BC=DY;DY=yP;yP=qg-(eK=qg|0);return yP;};xp.acA=function(){return xp()*0x100000000;};xp.aHt=function(){return xp()+(xp()*0x200000|0)*1.1102230246251565e-16;};xp.Ak='Alea 0.9';xp.cC=cC;return xp;}(Array.prototype.slice.call(arguments)));};hm.oE=function(){if(this.afu===undefined){var yo=document.createElement("div");yo.style.overflow='scroll';yo.style.position='absolute';yo.style.top='-9999px';document.body.appendChild(yo);this.afu=yo.offsetWidth-yo.clientWidth;document.body.removeChild(yo);}return this.afu;};hm.Fo={aiH:function(gP){var Jz=[];var Yb=IPCC.Web.akn().acA;for(var H=0;H<gP;H++){Jz.push(Yb());}return Jz;},aaE:function(gP,fG){var Jz=[];var Yb=IPCC.Web.akn(fG).acA;for(var H=0;H<gP;H++){Jz.push(Yb());}return Jz;},aIa:function(hI,aqE){var gP,lK=true,dW="",IH,ZI,YQ,MO,Qa,amh;for(gP=0;gP<4;gP++){if(!lK){dW+='-';}else{lK=false;}Qa=0;for(IH=0;IH<4;IH++){MO=gP*32+IH*8;ZI=IPCC.Web.hj.UH(hI,MO,4);dW+=ZI.toString(16).toUpperCase();YQ=IPCC.Web.hj.UH(hI,MO+4,4);dW+=YQ.toString(16).toUpperCase();amh=(ZI*16+YQ+IPCC.Web.hj.UH(IPCC.Web.an,MO,8))%256;Qa=Qa|(amh<<(24-(IH*8)));}aqE.asq[gP]=Qa;}return dW;}};hm.an=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hm.hj={XA:function(cE,sy,akI){cE=IPCC.Web.hj.ael(cE.slice(sy/32),32-(sy&31)).slice(1);return(akI===undefined)?cE:IPCC.Web.hj.MP(cE,akI-sy);},UH:function(cE,sy,WF){var bB,Vj=Math.floor((-sy-WF)&31);if((sy+WF-1^sy)& -32){bB=(cE[sy/32|0]<<(32-Vj))^(cE[sy/32+1|0]>>>Vj);}else{bB=cE[sy/32|0]>>>Vj;}return bB&((1<<WF)-1);},ZN:function(zh,uV){if(zh.length===0||uV.length===0){return zh.concat(uV);}var jN=zh[zh.length-1],st=IPCC.Web.hj.aaQ(jN);if(st===32){return zh.concat(uV);}else{return IPCC.Web.hj.ael(uV,st,jN|0,zh.slice(0,zh.length-1));}},tY:function(cE){var qa=cE.length,bB;if(qa===0){return 0;}bB=cE[qa-1];return(qa-1)*32+IPCC.Web.hj.aaQ(bB);},MP:function(cE,cB){if(cE.length*32<cB){return cE;}cE=cE.slice(0,Math.ceil(cB/32));var qa=cE.length;cB=cB&31;if(qa>0&&cB){cE[qa-1]=IPCC.Web.hj.Jx(cB,cE[qa-1]&0x80000000>>(cB-1),1);}return cE;},Jx:function(cB,bB,ei){if(cB===32){return bB;}return(ei?bB|0:bB<<(32-cB))+cB*0x10000000000;},aaQ:function(bB){return Math.round(bB/0x10000000000)||32;},aBT:function(cE,eT){if(IPCC.Web.hj.tY(cE)!==IPCC.Web.hj.tY(eT)){return false;}var bB=0,H;for(H=0;H<cE.length;H++){bB|=cE[H]^eT[H];}return(bB===0);},ael:function(cE,st,KF,dW){var H,amB=0,WA;if(dW===undefined){dW=[];}for(;st>=32;st-=32){dW.push(KF);KF=0;}if(st===0){return dW.concat(cE);}for(H=0;H<cE.length;H++){dW.push(KF|cE[H]>>>st);KF=cE[H]<<(32-st);}amB=cE.length?cE[cE.length-1]:0;WA=IPCC.Web.hj.aaQ(amB);dW.push(IPCC.Web.hj.Jx(st+WA&31,(st+WA>32)?KF:dW.pop(),1));return dW;},aeH:function(bB,cc){return[bB[0]^cc[0],bB[1]^cc[1],bB[2]^cc[2],bB[3]^cc[3]];}};hm.zw=zw;hm.pg=aCx;hm.gT=gT;hm.BG=BG;hm.agB=F.agB;hm.UI=Xg;hm.regEnum=F.regEnum;hm.regClass=F.regClass;module.exports=hm;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var Yw=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=Yw;},{}],126:[function(require,module,exports){var aBt=function(HV,bN){var Na=new IPCC.PageList(HV);if(bN){IPCC.RA(Na,bN);}Na.uc(HV);Na.initialize();return Na;};module.exports=aBt;},{}],127:[function(require,module,exports){var aBE=function(HV,Tx){var nY=Tx.handleTouchEvents!==false;var MW=new IPCC.Web.UI.PageView(HV,nY);if(Tx){IPCC.RA(MW,Tx);}MW.uc(HV);MW.initialize();return MW;};module.exports=aBE;},{}],128:[function(require,module,exports){var qo={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qo;},{}],129:[function(require,module,exports){var RA=function(cs,kk){var ng;for(var bh in kk){if(kk.hasOwnProperty(bh)){var aI=kk[bh];var ayw=cs["get_"+bh];var afi=cs["set_"+bh];if(typeof(afi)==='function'){afi.apply(cs,[aI]);}else if(aI instanceof Array){ng=ayw.apply(cs);if(!(ng instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bh+" is not an Array property");}for(var H=0,aU=ng.length,qa=aI.length;H<qa;H++,aU++){ng[aU]=aI[H];}}}}};module.exports=RA;},{}],130:[function(require,module,exports){"use strict";var akN=function(ac){if(ac instanceof PCCViewer.AjaxResponse){return ac;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(ac);}this.rd=new IPCC.F.rd(ac);this.status=this.rd.status;this.statusText=this.rd.statusText;this.responseText=this.rd.responseText;if(typeof this.rd.responseBody!=='undefined'){this.responseBody=this.rd.responseBody;}return this;};akN.prototype.getResponseHeader=function(Fg){return this.rd.getResponseHeader(Fg);};var DQ=(function(){function arO(){return IPCC.F.extend({},IPCC.F.mL.iB);};function avP(iB){if(!(typeof iB==='undefined'||(typeof iB==='object'&&iB!==null&& !(iB instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof iB==='object'){var aDp=Object.keys(IPCC.F.ahW());Object.keys(iB).forEach(function(Fg){if(aDp.indexOf(Fg)!== -1){throw new Error('Cannot overwrite the header "'+Fg+'".');}});}IPCC.F.mL.iB=IPCC.F.extend({},iB);return PCCViewer.Ajax;};function ass(){return IPCC.F.mL.Oj;};function ats(iq){if(typeof iq!=='undefined'&&typeof iq!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.F.mL.Oj=iq;return PCCViewer.Ajax;};function dY(bN){var aC=PCCViewer.Deferred();if(!(typeof bN==='undefined'||(typeof bN==='object'&&bN!==null&& !(bN instanceof Array)))){throw new Error('Options should be an object or undefined.');}function fD(ac){if(!(ac instanceof PCCViewer.AjaxResponse)){ac=new PCCViewer.AjaxResponse(ac);}aC.resolve(ac);};function ep(aa){if(aa.response){aa.response=new PCCViewer.AjaxResponse(aa.response);}aC.reject(aa);};IPCC.F.mL.dY(bN).then(fD,ep);return aC.getPromise();};return{getHeaders:arO,setHeaders:avP,getOverrideMethod:ass,setOverrideMethod:ats,dY:dY,};})();if(Object.defineProperties){Object.defineProperties(DQ,{"headers":{enumerable:true,get:function(){return DQ.getHeaders();},set:function(iB){return DQ.setHeaders(iB);}},"overrideMethod":{enumerable:true,get:function(){return DQ.getOverrideMethod();},set:function(iq){return DQ.setOverrideMethod(iq);}}});}module.exports={AjaxResponse:akN,Ajax:DQ};},{}],131:[function(require,module,exports){var BurnRequest=function(bN){this.nU="";this.eS="";this.kX=0;this.pW="";this.fl="";this.sX=0;this.hE=false;this.qb=0;this.SX="";this.qE=false;this.aC=PCCViewer.Deferred();this.cK=this.aC.getPromise();this.then=this.cK.then;this.bN=bN;this.fl=null;this.fK=undefined;this.sn=false;this.Sg=null;PCCViewer.EventEmitter.extend(this);var K=this;if(bN.nt){var nt=new PCCViewer.Error(bN.nt.code,bN.nt.message);delete K.bN.nt;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.fl=nt.code;K.aC.reject(nt);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var K=this;this.qE=true;this.fl="User Cancelled";setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.kX;};BurnRequest.prototype.getWorkerID=function(){return this.nU;};BurnRequest.prototype.getOptions=function(){return this.bN;};BurnRequest.prototype.getErrorCode=function(){return this.fl;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.Sg;};BurnRequest.prototype.aDA=function(kJ){this.SX=kJ;};BurnRequest.prototype.Rh=function(fK){this.fK=fK;};BurnRequest.prototype.Vp=function(){var K=this;this.fl="Failure to generate Markup XML";setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("MarkupXMLFail",K.fl));},0);return this;};BurnRequest.prototype.Dh=function(){function fD(ac){var fP,aa;try{fP=ac.responseText;if(!fP){setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);K.sn=true;return;}else{aa=JSON.parse(fP);setTimeout(function(){aCz(aa);},0);}}catch(e){setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);K.sn=true;return;}};function ep(aa){K.hE=false;var cS=aa.response.status+" "+aa.response.statusText;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("StatusCode","Status Code "+cS));},0);K.sn=true;return;};try{if(!this.SX){throw new Error("XMl Markup data for burn is missing");}var K=this;var akV=function(){var Yq;if(!(/^[\x00-\x7F]*$/.test(K.fK.bx.get_documentIdentifier()))){Yq=K.fK.bN.imageHandlerUrl+'/ViewingSession/e'+K.fK.bN.documentID+'/MarkupBurner/'+K.nU;}else{Yq=K.fK.bN.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fK.bN.documentID)+'/MarkupBurner/'+K.nU;}PCCViewer.Ajax.dY({method:'GET',url:Yq,headers:{'Content-Type':'application/json'}}).then(fD,ep);};var aCz=function(hg){if(hg){if(K.qE===true){K.hE=false;return;}if(hg.percentComplete>=0&&K.hE===true){if(hg.percentComplete===100&&hg.state==='complete'){if(hg.processId){K.hE=false;K.nU=hg.processId;K.eS=hg.state;K.sX+=1;K.qb=1000;K.kX= +(hg.percentComplete);var FD;if(!(/^[\x00-\x7F]*$/.test(K.fK.bx.get_documentIdentifier()))){FD=K.fK.bN.imageHandlerUrl+'/ViewingSession/e'+K.fK.bN.documentID+'/MarkupBurner/'+K.nU+"/Document";}else{FD=K.fK.bN.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fK.bN.documentID)+'/MarkupBurner/'+K.nU+"/Document";}if(K.bN.filename){FD+="?ContentDispositionFilename="+K.bN.filename;}K.Sg=FD;K.sn=true;var anJ= +(hg.percentComplete);setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});K.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:anJ});K.aC.resolve(FD);},10);return;}}else{if(hg.state==='error'){K.hE=false;K.fl=hg.errorCode;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+K.fl));},0);K.hE=false;K.sn=true;return;}if(hg.processId){var Uj= +(hg.percentComplete);if(K.kX!==Uj){setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:Uj});},10);}if(!K.nU){K.nU=hg.processId;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);K.eS=hg.state;K.sX=1;K.hE=true;K.qb=1000;K.kX= +(hg.percentComplete);}if(hg.percentComplete<100){if(K.sX>1){K.qb+=1000;}K.sX+=1;K.eS=hg.state;K.kX= +(hg.percentComplete);if(K.hE===true&&K.qE===false&&K.sn===false){setTimeout(akV,K.qb);}}}}}else{if(K.sn===false){var YB=false;if(K.hE===false){if(hg.state==='complete'){if(!K.Sg){YB=true;}else{K.sn=true;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});K.aC.resolve(K.Sg);},10);return;}}if(hg.state==='processing'&&hg.errorCode===null){if(hg.percentComplete>=0&&hg.percentComplete<100){if(K.sX>1){K.qb+=1000;}K.sX+=1;K.hE=true;K.eS=hg.state;K.kX= +(hg.percentComplete);if(K.hE===true&&K.qE===false){setTimeout(akV,K.qb);}}else{YB=true;}}if(hg.state==='error'||YB===true){K.hE=false;K.fl=hg.errorCode;setTimeout(function(){K.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});K.aC.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+hg.errorCode));},0);K.hE=false;K.sn=true;return;}}}}}};var af;if(!(/^[\x00-\x7F]*$/.test(K.fK.bx.get_documentIdentifier()))){af=K.fK.bN.imageHandlerUrl+'/ViewingSession/e'+K.fK.bN.documentID+'/MarkupBurner';}else{af=K.fK.bN.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(K.fK.bN.documentID)+'/MarkupBurner';}var LW=[];if(K.bN.removeFormFields){LW.push('RemoveFormFields=acroform');}if(K.bN.redactionOptions){LW.push(K.bN.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(LW.length>0){af+=('?'+LW.join('&'));}PCCViewer.Ajax.dY({method:'POST',url:af,headers:{'Content-Type':'application/xml;charset=utf-8'},body:K.SX}).then(fD,ep);K.hE=true;}catch(e){this.hE=false;var bA=this,lh=e.message;setTimeout(function(){bA.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bA.aC.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+lh));},0);this.sn=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function asB(bx,aP){var bb=bx.dM.hM(aP);var fL=bb.cn();return fL.BD();};function asg(bx,aP){var bb=bx.dM.hM(aP);var fL=bb.cn();var FF=fL.fX();return FF.azj();};function auH(xK,aDC){var cB=xK.length;if(cB===0){return false;}if(cB!==aDC){return false;}for(var H=0;H<cB;H++){if(xK[H]!==true){return false;}}return true;};var MG=function(){var K=this;this.Fv=false;this.xK=[];this.rz=[];this.xV=[];this.acE=0;this.aK=0;this.jk=false;function qS(GS,Zm){switch(GS){case 'failed':setTimeout(function(){K.aF.trigger('SearchFailed',Zm);},10);break;case 'complete':K.aF.fi=K.rz;K.aF.TM=K.xV;K.aF.tn=true;setTimeout(function(){K.aF.trigger('SearchResultsAvailable',{completedSearchResults:(K.rz)});},10);break;case 'cancelled':break;}setTimeout(function(){K.aF.trigger('SearchCompleted',{completedSearchResults:(K.rz)});},10);};function avG(){K.aF.da='Unable to communicate with server, please retry loading the document.';K.aF.fl='1011';K.aF.tn=true;qS('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});K.jk=true;};function ahQ(bN,aBz){var aBq=IPCC.F.trim(bN.type||'').toLowerCase();var aa;switch(aBq){case 'taskresult':aa=new PCCViewer.SearchTaskResult();break;default:aa=new PCCViewer.SearchResult();break;}IPCC.F.extend(aa,aBz);var acG=aa.pu+aa.text.length-1;var dk=PCCViewer.FM.formatter.getContext({text:bN.searchText,startIndex:aa.pu,endIndex:acG,padding:aa.ao.contextPadding});aa.dk=dk.context;aa.Bj=dk.startIndex;if(bN.rectangles){var aax={rectangles:bN.rectangles,startIndex:aa.pu,endIndex:acG};aa.lJ=PCCViewer.FM.formatter.getBoundingRectangle(aax);aa.al=PCCViewer.FM.formatter.getLineRectangles(aax);}return aa;};function aki(mT,vN,HM,hw,hy){var Kp=[];var Zi= !hw;var we=vN.distance;var Aq=[];IPCC.F.forEach(vN.cw,function(cw){Aq.push(cw.searchTerm);});var aFE=PCCViewer.FM.proximity.getResults(HM,Aq,we);IPCC.F.forEach(aFE,function(aa){var fV=ahQ({type:Zi?'TaskResult':'Result',searchText:HM,rectangles:hw},{hy:hy,ao:vN.tK,mT:mT,rr:vN.highlightColor,pu:aa.startIndex,aY:aa.text});Kp.push(fV);});return Kp;};function LL(mT,cw,HM,hw,hy){var Zi= !hw;var Kp=[];var PL=[cw.searchTerm];var fi=PCCViewer.FM.regex.getResults(HM,PL);IPCC.F.forEach(fi,function(aa){if(cw.tK.matchingOptions.wildcard&&(aa.text[0]===" "||aa.text[0]==="\n")){aa.text=aa.text.substring(1);aa.startIndex+=1;}var fV=ahQ({type:Zi?'TaskResult':'Result',searchText:HM,rectangles:hw},{hy:hy,mT:mT,cw:cw,ao:cw.tK,pu:aa.startIndex,aY:aa.text,rr:cw.highlightColor});Kp.push(fV);});return Kp;};function atR(adA,aP,bx,hw){var UG=[];var mT=Date.now();IPCC.F.forEach(K.cw,function(cw,H){var fi;var nP=IPCC.F.OM(cw.type);var bb=bx.dM.hM(aP);var fL=bb.cn();var hy={width:bb.kg()||fL.ayD(),height:bb.jn()||fL.ayo()};switch(nP){case 'proximity':fi=aki(mT,cw,adA,hw,hy);break;default:fi=LL(mT,cw,adA,hw,hy);break;}IPCC.F.forEach(fi,function(aa){aa.ds=K.aK;aa.aj=aP+1;aa.YE=bx.get_documentIdentifier();K.rz[K.aK]=aa;K.aK++;UG.push(aa);});});K.aF.fi=K.rz;if(UG.length){setTimeout(function(){K.aF.trigger('PartialSearchResultsAvailable',{partialSearchResults:(UG),pagesWithoutText:(K.xV)});},10);}};function atJ(aY){var mT=Date.now();IPCC.F.forEach(K.cw,function(cw,H){var nP=IPCC.F.OM(cw.type);var fi;switch(nP){case 'proximity':fi=aki(mT,cw,aY);break;default:fi=LL(mT,cw,aY);break;}IPCC.F.forEach(fi,function(aa){aa.ds=K.aK;K.rz[K.aK]=aa;K.aK++;});});K.aF.fi=K.rz;};function aid(zY,bx){for(var H=0;H<zY.length;H++){if(K.xK[zY[H]]===false){K.xK[zY[H]]=true;var aY=asB(bx,zY[H]);var hw=asg(bx,zY[H]);if(!aY&&aY!==null){K.xV[K.acE]=zY[H];K.acE++;continue;}atR(aY,zY[H],bx,hw);if(K.aF.qE){if(K.Fv){qS('cancelled');K.Fv=false;bx.remove_textPagesReceived(RG);return;}break;}}}if(auH(K.xK,bx.fv)&& !K.aF.tn){qS('complete');K.Fv=false;bx.remove_textPagesReceived(RG);}};function RG(sender,T){if(T.error=== -1){avG();return K.aF;}try{if(K.jk===false){aid(T.textPagesReceived,sender);}}catch(e){K.aF.da=e.message;K.aF.fl='1010';K.aF.tn=true;qS('failed',{errorMessage:(e.message)});K.jk=true;return K.aF;}};this.VI=function(bx,cw,cZ,aF){K.cw=cw;K.aF=aF;K.aF.cZ=cZ;K.aF.on('SearchCancelled',function(){qS('cancelled');K.Fv=false;bx.remove_textPagesReceived(RG);});for(var H=0;H<bx.fv;H++){K.xK[H]=false;}if(bx.aia().fE()>bx.get_numberOfPagesWithText()){K.Fv=true;bx.add_textPagesReceived(RG);}if(bx.get_numberOfPagesWithText()>0){aid(bx.get_pagesWithText(),bx);}return K.aF;};this.aEk=function(aY){this.aF=new PCCViewer.SearchRequest();try{atJ(aY);}catch(e){K.aF.da=e.message;K.aF.fl='1010';return;}};};module.exports=MG;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aGQ(){return conversation;};if(typeof comment==='string'){this.oT=new IPCC.Web.UI.Comment(comment);}else{this.oT=comment;}this.oT.HX=this;this.dI=this.oT.get_data();PCCViewer.Data.extend(this);this.Fm=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aHg(){return this.iX;};Comment.prototype.getText=function aIx(){return this.oT.get_text();};Comment.prototype.setText=function aHR(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.oT.set_text(text);return this;};Comment.prototype.getCreationTime=function aIA(){var aFp=IPCC.F.Hi(this.oT.get_creationTime());return new Date(aFp);};Comment.prototype.setCreationTime=function aHA(time){function ajb(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var ago=IPCC.F.Hi(time);if(ago instanceof Error){ajb();}time=new Date(ago);}if(!(time instanceof Date)){ajb();}this.oT.set_creationTime(IPCC.F.wB(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Ni(){return mark;};this.ix=new PCCViewer.ObservableCollection();if(typeof mark.G!=="undefined"){this.wl=mark.G.get_conversation();this.wl.forEach(function(oT){var cF=new PCCViewer.Comment(oT,this);this.ix.add(cF);},this);}else{this.wl=new IPCC.Web.UI.Conversation();}this.dI=this.wl.get_data();PCCViewer.Data.extend(this);this.Fm=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function Gu(commentText){var cF=new PCCViewer.Comment(commentText,this);this.ix.add(cF);this.wl.addComment(cF.oT);return cF;};Conversation.prototype.deleteComments=function(comments){var K=this;var acX=this.ix.toArray();var ano=function(cF){for(var i=0,length=acX.length;i<length;i++){if(acX[i]===cF){return true;}}return false;};function aik(cF,aK){throw new Error(cF+((aK!==undefined)?' (Array index '+aK+')':'')+' is not a PCCViewer.Comment object.');};function ahV(cF,aK){throw new Error(((aK!==undefined)?' (Array index '+aK+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!ano(comments)){ahV(comments);}K.ix.remove(comments);K.wl.removeCommentInstance(comments.oT);}else if(comments instanceof Array){IPCC.F.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){aik(el,idx);}if(!ano(el)){ahV(el,idx);}});IPCC.F.forEach(comments,function(el){K.ix.remove(el);K.wl.removeCommentInstance(el.oT);});}else{aik(comments);}return this;};Conversation.prototype.getComments=function(){return this.ix.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.rn=function(fU,pn){if(typeof fU.getComments!=="function"||typeof pn.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.nI(fU,pn);var hq=fU.getComments(),i,length=hq.length;for(i=0;i<length;i++){var afm=hq[i];var aDa=pn.addComment(afm.getText());PCCViewer.Data.nI(afm,aDa);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(bN){this.nU="";this.eS="";this.kX=0;this.fl="";this.hE=false;this.qE=false;this.bN=bN;this.Ac=null;this.DK=null;this.fK=undefined;this.aC=PCCViewer.Deferred();this.cK=this.aC.getPromise();this.then=this.cK.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var K=this;this.qE=true;this.fl="User Cancelled";setTimeout(function(){K.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});K.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});K.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.kX;};ConversionRequest.prototype.getWorkerID=function(){return this.nU;};ConversionRequest.prototype.getOptions=function(){return this.bN;};ConversionRequest.prototype.getErrorCode=function(){return this.fl;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Ac;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.DK){return this.DK.slice();}return null;};ConversionRequest.prototype.Rh=function(fK){this.fK=fK;};ConversionRequest.prototype.Dh=function(){var K=this;K.hE=true;K.aBS().then(function onResolve(qB){K.nU=qB.processId;K.kX=qB.percentComplete;K.eS=qB.state;K.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});K.aro(qB).then(function onResolve(aFn){K.hE=false;K.DK=[];if(K.bN.Ak>1){for(var H=0;H<K.aBO;H++){var Ac=K.fK.bN.imageHandlerUrl+'/v2/viewingSessions/'+K.fK.bN.documentID+'/contentConverters/'+K.nU+'/results/'+H+'/file?ContentDispositionFilename='+encodeURIComponent(K.bN.filename);K.DK.push(Ac);}K.aC.resolve(K.DK);}else{K.Ac=K.fK.bN.imageHandlerUrl+'/WorkFile/'+aFn+"?ContentDispositionFilename="+encodeURIComponent(K.bN.filename);if(qB.affinityToken){K.Ac+="&affinityToken="+encodeURIComponent(qB.affinityToken);}K.DK.push(K.Ac);K.aC.resolve(K.Ac);}K.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){K.hE=false;K.fl=reason.error.code;K.aC.reject(reason);K.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){K.hE=false;K.aC.reject(reason);K.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.aBS=function(){var af,lA=PCCViewer.Deferred();var Yi;if(this.bN.Ak>1){af=this.fK.bN.imageHandlerUrl+'/v2/viewingSessions/'+this.fK.bN.documentID+'/contentConverters/';Yi={url:af,method:'POST',headers:{"Content-Type":"application/json"}};}else{af=this.fK.bN.imageHandlerUrl+'/contentConverters/';Yi={url:af,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.fK.bN.documentID})};}PCCViewer.Ajax.dY(Yi).then(function fD(ac){var aa=JSON.parse(ac.responseText);lA.resolve(aa);},function ep(aa){lA.reject(aa.error);});return lA.getPromise();};ConversionRequest.prototype.aro=function(qB){var af,lA=PCCViewer.Deferred(),K=this,iB;if(K.bN.Ak>1){af=this.fK.bN.imageHandlerUrl+'/v2/viewingSessions/'+this.fK.bN.documentID+'/contentConverters/'+qB.processId;}else{af=this.fK.bN.imageHandlerUrl+'/contentConverters/'+qB.processId;}if(qB.affinityToken){iB={"Accusoft-Affinity-Token":qB.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.dY({method:'GET',url:af,headers:iB}).then(function fD(ac){var aa=JSON.parse(ac.responseText);K.nU=aa.processId;K.kX=aa.percentComplete;K.eS=aa.state;if(K.bN.Ak>1&&aa.output){K.aBO=aa.output.results.length;}K.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:K.kX});if(aa.percentComplete===100){if(aa.state==="error"){lA.reject({response:ac,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{lA.resolve(aa.output.results[0].fileId);}}else{poll();}},function ep(aa){lA.reject(aa.error);});},3000);})();return lA.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.dI.get_data(key);};function setData(key,value){this.dI.set_data(key,value);return this;};function getDataKeys(){return this.dI.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},nI:function(fU,pn){if(typeof fU.getData!=="function"||typeof fU.setData!=="function"||typeof fU.getDataKeys!=="function"||typeof pn.getData!=="function"||typeof pn.setData!=="function"||typeof pn.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var nh=fU.getDataKeys(),i,length=nh.length;for(i=0;i<length;i++){var an=nh[i];pn.setData(an,fU.getData(an));}}};})();var SessionData=(function(){function getSessionData(key){return this.Fm.get_data(key);};function setSessionData(key,value){this.Fm.set_data(key,value);return this;};function getSessionDataKeys(){return this.Fm.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aFh:function(fU,pn){if(typeof fU.getSessionData!=="function"||typeof fU.setSessionData!=="function"||typeof fU.getSessionDataKeys!=="function"||typeof pn.getSessionData!=="function"||typeof pn.setSessionData!=="function"||typeof pn.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var nh=fU.getSessionDataKeys(),i,length=nh.length;for(i=0;i<length;i++){var an=nh[i];pn.setSessionData(an,fU.getSessionData(an));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.eS=PromiseDeferred.States.Pending;this.L=null;this.eL=null;this.gz=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var CJ=new PromiseDeferred();var We,aaO;if(onFulfilled&&typeof onFulfilled==='function'){var anX=function(L){try{var aO=onFulfilled(L);CJ.resolve(aO);}catch(e){CJ.reject(e);}};We=anX;}else{var anM=function(L){CJ.resolve(L);};We=anM;}if(onRejected&&typeof onRejected==='function'){var auf=function(eL){try{var aO=onRejected(eL);WN(CJ,aO);}catch(e){CJ.reject(e);}};aaO=auf;}else{var awc=function(eL){CJ.reject(eL);};aaO=awc;}this.gz.push({aFs:We,azu:aaO});if(this.eS===PromiseDeferred.States.Fulfilled){this.alz();}if(this.eS===PromiseDeferred.States.Rejected){this.alg();}return CJ;};PromiseDeferred.prototype.resolve=function(x){if(!this.ajP()){return;}WN(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.ajP()){return;}this.zk(reason);};PromiseDeferred.prototype.Uk=function(bB){this.eS=PromiseDeferred.States.Fulfilled;this.L=bB;this.alz();};PromiseDeferred.prototype.alz=function(){var callback;while(this.gz.length>0){callback=this.gz.shift().aFs;(function(jR,L){setTimeout(function(){jR(L);},0);})(callback,this.L);}};PromiseDeferred.prototype.alg=function(){var callback;while(this.gz.length>0){callback=this.gz.shift().azu;(function(jR,L){setTimeout(function(){jR(L);},0);})(callback,this.eL);}};function WN(cK,bB){if(cK===bB){cK.zk(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bB&&bB.aaL&&cK.abm&&cK.abm===bB){cK.zk(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(bB&&bB.aaL&&bB.aaL==="PCCViewer.Promise"){bB.then(function(avf){cK.Uk(avf);},function(atz){cK.zk(atz);});}else if(bB!==null&&(typeof bB==='object'||typeof bB==='function')){var TE;try{TE=bB.then;}catch(e){cK.zk(e);return;}if(typeof TE==='function'){var GZ=true;var aug=function(cc){if(GZ){WN(cK,cc);GZ=false;}};var auj=function(aO){if(GZ){cK.zk(aO);GZ=false;}};try{TE.call(bB,aug,auj);}catch(e){if(GZ){cK.zk(e);}}}else{cK.Uk(bB);}}else{cK.Uk(bB);}};PromiseDeferred.prototype.zk=function(reason){this.eS=PromiseDeferred.States.Rejected;this.eL=reason;this.alg();};PromiseDeferred.prototype.ajP=function(){return this.eS===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var Sc=new PromiseDeferred();function Promise(cK){this.then=function(onFulfilled,onRejected){return new Promise(cK.then(onFulfilled,onRejected));};this.aaL="PCCViewer.Promise";cK.abm=this;};var promise=new Promise(Sc);return{getPromise:function(){return promise;},resolve:function(value){Sc.resolve(value);},reject:function(reason){Sc.reject(reason);}};};var Promise={all:function(promises){var i,aC=new PCCViewer.Deferred(),Wu=aC.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aC=new PCCViewer.Deferred();aC.resolve(value);return aC.getPromise();};aC.resolve([]);for(i=0;i<promises.length;i++){Wu=Wu.then(createPushFunction(promises[i]));}return Wu;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.Ax=parameters.Ax;this.aj=parameters.aj;};DocumentHyperlink.prototype.getHref=function(){return this.Ax.aiF();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aj;};DocumentHyperlink.prototype.getRectangle=function(){return this.Ax.ey();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var IS=function(code,message){var ads=Error.call(null,message);this.code=code;function aui(cs,fU){Object.getOwnPropertyNames(fU).forEach(function(propName){Object.defineProperty(cs,propName,Object.getOwnPropertyDescriptor(fU,propName));});return cs;};function aty(cs,fU){for(var i in fU){if(fU.hasOwnProperty(i)){cs[i]=fU[i];}}return cs;};if(typeof Object.create==='function'){aui(this,ads);}else{aty(this,ads);}};var aop=(function(){var fJ=function(){};return function(adi){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adi!=='object'){throw TypeError('Argument must be an object');}fJ.prototype=adi;var aa=new fJ();fJ.prototype=null;return aa;};})();if(typeof Object.create==='function'){IS.prototype=Object.create(Error.prototype);}else{IS.prototype=aop(Error.prototype);}IS.prototype.constructor=IS;module.exports=IS;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.cs=target;this.bn=type;};Event.prototype.getTarget=function(){return this.cs;};Event.prototype.getType=function(){return this.bn;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.kA){this.kA={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.kA[lowerCaseEventType];if(!handlers){handlers=this.kA[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.kA){this.kA={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.kA[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.kA){this.kA={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.kA[lowerCaseEventType],i,length=0;if(properties){PCCViewer.sq.pD(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var xa=function(eventEmitter){this.bk=eventEmitter;this.Ku=true;this.Zz={};};xa.prototype.on=function(eventType,handler){this.bk.on(eventType,handler);return this.bk;};xa.prototype.off=function(eventType,handler){this.bk.off(eventType,handler);return this.bk;};xa.prototype.trigger=function(eventType,properties){if(this.Ku){var lowerCaseEventType=eventType.toLowerCase();if(this.Zz[lowerCaseEventType]){var event=new PCCViewer.Event(this.bk,lowerCaseEventType);if(properties){PCCViewer.sq.pD(event,properties);}this.Zz[lowerCaseEventType](event);}else{this.bk.trigger(eventType,properties);}}return this.bk;};xa.prototype.stop=function(){this.Ku=false;};xa.prototype.resume=function(){this.Ku=true;};xa.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.Zz[lowerCaseEventType]=handler;};module.exports=xa;},{}],142:[function(require,module,exports){var aDv={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=aDv;},{}],143:[function(require,module,exports){var nS={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nS;},{}],144:[function(require,module,exports){var sq={};sq.pD=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=sq;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bN=PCCViewer.sq.pD({},Options);};ImageStamps.prototype.requestImageStampList=function(){var aC=PCCViewer.Deferred();var cK=aC.getPromise();try{var af=this.bN.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.dY({method:'GET',url:af}).then(function fD(ac){var sN;if(ac.responseText.length>0){sN=JSON.parse(ac.responseText);if(ac.status===200){aC.resolve(sN);}else{aC.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function ep(aa){aC.reject(aa.error);});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return cK;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aC=PCCViewer.Deferred();var cK=aC.getPromise();try{var af=this.bN.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.dY({method:'GET',url:af,}).then(function fD(ac){var sN;if(ac.responseText.length>0){sN=JSON.parse(ac.responseText);if(ac.status===200){aC.resolve(sN);}else{aC.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function ep(aa){aC.reject(aa.error);});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return cK;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bN.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var aBN={data:{},initializeData:function(aBK){PCCViewer.Language.data=IPCC.F.extend({},aBK);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(agb){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var nh=agb.split('.'),bP=PCCViewer.Language.data,an;while(nh.length){an=nh.shift();bP=bP[an];if(typeof bP==='undefined'){bP=agb;break;}}return bP;}};module.exports=aBN;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.xh=layerRecordIds;this.cv=viewerControl;this.az=viewerControl.az;this.fl="";this.hE=false;this.qE=false;this.kX=0;this.aC=PCCViewer.Deferred();this.cK=this.aC.getPromise();this.then=this.cK.then;this.uu=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.kX;};LoadMarkupLayersRequest.prototype.cancel=function(){var K=this;this.qE=true;this.fl="User Cancelled";setTimeout(function(){K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});K.aC.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.cv;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.fl;};LoadMarkupLayersRequest.prototype.Dh=function(){var K=this,aaK=1,YN,SJ=[];var uu=this.uu;var afs=function(){K.hE=false;if(K.cv.pE){K.aC.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{K.aC.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var ts=function(amx){function fD(ac){if(K.az.pE){afs();return;}var pL=JSON.parse(ac.responseText),Lv=K.aDT(pL),fu,sp=[],bD,ge=[],amV={},MI=0,QA;for(var mq in Lv.ge){if(Lv.ge.hasOwnProperty(mq)){ge=ge.concat(Lv.ge[mq]);}}fu=new PCCViewer.MarkupLayer(K.cv,ge);fu.aIp={af:af};IPCC.F.forEach(Lv.sp,function(abX){sp.push(abX);MI++;amV[abX.uid]=true;});if(pL.name){fu.setName(pL.name);}if(pL.originalXmlName){fu.setOriginalXmlName(pL.originalXmlName);}if(MI>0){QA=function(ev){if(amV[ev.mark.getUid()]){MI--;}if(!MI){K.az.bk.off(PCCViewer.EventType.MarkCreated,QA);K.az.vO=true;}};K.az.bk.on(PCCViewer.EventType.MarkCreated,QA);K.az.vO=false;try{bD=K.az.deserializeMarks(sp);}catch(bY){K.hE=false;K.az.bk.off(PCCViewer.EventType.MarkCreated,QA);K.az.vO=true;K.aC.reject(new PCCViewer.Error('Error',bY.message));K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(uu){IPCC.F.forEach(bD,function(J){J.setVisible(false);});}fu.addMarks(bD);}fu.aap=amx;for(var wR in pL.data){if(pL.data.hasOwnProperty(wR)){fu.setData(wR,pL.data[wR]);}}K.az.getMarkupLayerCollection().addItem(fu);SJ.push(fu);aaK--;K.kX=(K.xh.length-aaK)/K.xh.length;K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:K.kX});if(K.kX===1){K.hE=false;K.aC.resolve(SJ);K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:SJ});}};function ep(aa){K.hE=false;K.aC.reject(aa.error);K.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var af=YN+amx+'?'+new Date().getTime();PCCViewer.Ajax.dY({url:af,method:'GET'}).then(fD,ep);};if(this.az.pE){afs();return;}if(!(/^[\x00-\x7F]*$/.test(this.az.bx.get_documentIdentifier()))){YN=this.az.bN.imageHandlerUrl+'/MarkupLayers/e'+this.az.bN.documentID+'/';}else{YN=this.az.bN.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.az.bN.documentID)+'/';}if(this.qE){return;}if(Object.prototype.toString.call(this.xh)==='[object Array]'&&this.xh.length>0){aaK=this.xh.length;this.hE=true;IPCC.F.forEach(this.xh,ts,this);}else if(typeof this.xh==="string"){this.hE=true;ts(this.xh);}else{this.hE=false;this.aC.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aDT=function(pL){var Mc={},Or={};IPCC.F.forEach(pL.marks,function(aaC){aaC.conversation.comments=[];Mc[aaC.uid]=aaC;},this);IPCC.F.forEach(pL.comments,function(wz){if(Mc[wz.markUid]){Mc[wz.markUid].conversation.comments.push(wz);}else if(Or[wz.markUid]){Or[wz.markUid].push(wz);}else{Or[wz.markUid]=[wz];}},this);return{sp:Mc,ge:Or};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var dE={setMask:function(J,hV){var Ja={};IPCC.F.forEach(hV.translations,function(aI,an){Ja[an]=new RegExp(aI.replace(/^\/|\/$/g,''));});J.setMask({value:hV.value,translations:Ja});},calculateRectangle:function(bP,bN){if(bP.pageData===undefined||(bP.pageData.width===bN.bw&&bP.pageData.height===bN.aV)){return bP.rectangle;}else{var mQ=bN.bw/bP.pageData.width;return{x:bP.rectangle.x*mQ,y:bP.rectangle.y*mQ,width:bP.rectangle.width*mQ,height:bP.rectangle.height*mQ};}},setRectangle:function(J,bP,bN){J.setRectangle(dE.calculateRectangle(bP,bN));},setLines:function(J,bP,bN){var aba,pj,ct=bP.textLength+bP.startIndex-1,cq=bP.selectedText,dc={startIndex:bP.startIndex,length:bP.textLength};pj=[];var aP,zX;aba=IPCC.F.reduce(bP.lineGroups,function(fG,oW){aP=oW.pageNumber-1;fG[aP]=IPCC.F.map(oW.lines,function(gH){if(oW.pageData!==undefined){zX=dE.calculateRectangle({rectangle:gH,pageData:oW.pageData},bN);return new IPCC.Web.UI.Rectangle(zX.x,zX.y,zX.width,zX.height);}else{return new IPCC.Web.UI.Rectangle(gH.x,gH.y,gH.width,gH.height);}});pj.push({pageIndex:aP,endIndex:oW.startIndex+oW.textLength-1});return fG;},{});J.EU(pj,ct,cq,dc,aba);},postCreate:function(J,bP){J.G.adS(new Date(IPCC.F.Hi(bP.creationDateTime)));J.G.VH(new Date(IPCC.F.Hi(bP.modificationDateTime)));return J;},calculatePoint:function(ad,hy,bN){if(hy===undefined||(hy.width===bN.bw&&hy.height===bN.aV)){return ad;}else{return{x:ad.x*bN.bw/hy.width,y:ad.y*bN.aV/hy.height};}},Data:function(bP,dI){IPCC.F.forEach(dI,function(aI,an){bP.setData(an,aI);});},Comment:function(dC,cF){var nG=dC.addComment(cF.text);nG.setCreationTime(cF.creationDateTime);dE.Data(nG,cF.data);},Conversation:function(J,dC){var ale=J.getConversation();IPCC.F.forEach(dC.comments?dC.comments:[],function(nG){dE.Comment(ale,nG);});dE.Data(ale,dC.data);},Common:function(bP,bN){if(bP.uid===undefined){bP.uid=IPCC.F.ajd();}var J=this.afO(bP.pageNumber,bP.type,{uid:bP.uid});if(bP.rectangle&&J.setRectangle){dE.setRectangle(J,bP,bN);}if(bP.startPoint&&J.setStartPoint){J.setStartPoint(dE.calculatePoint(bP.startPoint,bP.pageData,bN));}if(bP.endPoint&&J.setEndPoint){J.setEndPoint(dE.calculatePoint(bP.endPoint,bP.pageData,bN));}if(bP.points&&J.setPoints){J.setPoints(IPCC.F.map(bP.points,function(ad){return dE.calculatePoint(ad,bP.pageData,bN);}));}if(bP.lineGroups&&J.EU){J.ap=bP.uid;dE.setLines(J,bP,bN);}if(bP.interactionMode){J.setInteractionMode(bP.interactionMode);}J=this.ald(J);dE.Data(J,bP.data);dE.Conversation(J,bP.conversation);return J;},EllipseAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.borderColor){J.setBorderColor(bP.borderColor);}if(bP.borderThickness){J.setBorderThickness(bP.borderThickness);}if(bP.fillColor){J.setFillColor(bP.fillColor);}if(bP.opacity){J.setOpacity(bP.opacity);}return dE.postCreate(J,bP);},FreehandAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.opacity){J.setOpacity(bP.opacity);}if(bP.path){J.setPath(bP.path);}if(bP.thickness){J.setThickness(bP.thickness);}return dE.postCreate(J,bP);},FreehandSignature:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.path){J.setPath(bP.path);}if(bP.thickness){J.setThickness(bP.thickness);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}return dE.postCreate(J,bP);},HighlightAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.fillColor){J.setFillColor(bP.fillColor);}return dE.postCreate(J,bP);},ImageStampAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.imageDataUrl&&bP.imageId){J.setImage({id:bP.imageId,dataUrl:bP.imageDataUrl});}return dE.postCreate(J,bP);},ImageStampRedaction:function(bP,bN){return dE.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.endHeadType){J.setEndHeadType(bP.endHeadType);}if(bP.opacity){J.setOpacity(bP.opacity);}if(bP.thickness){J.setThickness(bP.thickness);}return dE.postCreate(J,bP);},PolylineAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.opacity){J.setOpacity(bP.opacity);}if(bP.thickness){J.setThickness(bP.thickness);}return dE.postCreate(J,bP);},RectangleAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.borderColor){J.setBorderColor(bP.borderColor);}if(bP.borderThickness){J.setBorderThickness(bP.borderThickness);}if(bP.fillColor){J.setFillColor(bP.fillColor);}if(bP.opacity){J.setOpacity(bP.opacity);}return dE.postCreate(J,bP);},RectangleRedaction:function(bP,bN){var J=dE.Common.apply(this,arguments);if(J.oJ){var ha=bP.reasons||bP.reason;if(ha&& !Array.isArray(ha)){ha=[ha];}if(ha){J.setReasons(ha);}}else{if(bP.reason){J.setReason(bP.reason);}}if(bP.fillColor){J.setFillColor(bP.fillColor);}if(bP.borderColor){J.setBorderColor(bP.borderColor);}if(bP.borderThickness){J.setBorderThickness(bP.borderThickness);}if(bP.fontColor){J.setFontColor(bP.fontColor);}return dE.postCreate(J,bP);},StampAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.label){J.setLabel(bP.label);}if(bP.color){J.setColor(bP.color);}return dE.postCreate(J,bP);},StampRedaction:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.label){J.setLabel(bP.label);}return dE.postCreate(J,bP);},StrikethroughAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.thickness){J.setThickness(bP.thickness);}return dE.postCreate(J,bP);},TextAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.borderColor){J.setBorderColor(bP.borderColor);}if(bP.borderThickness){J.setBorderThickness(bP.borderThickness);}if(bP.fillColor){J.setFillColor(bP.fillColor);}if(bP.fontColor){J.setFontColor(bP.fontColor);}if(bP.fontName){J.setFontName(bP.fontName);}if(bP.fontSize){J.setFontSize(bP.fontSize);}if(bP.fontStyle){J.setFontStyle(bP.fontStyle);}if(bP.maxLength){J.setMaxLength(bP.maxLength);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}if(bP.opacity){J.setOpacity(bP.opacity);}if(bP.text){J.setText(bP.text);}return dE.postCreate(J,bP);},TextAreaSignature:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.text){J.setText(bP.text);}if(bP.fontColor){J.setFontColor(bP.fontColor);}if(bP.fontName){J.setFontName(bP.fontName);}if(bP.maxFontSize){J.setMaxFontSize(bP.maxFontSize);}if(bP.fontStyle){J.setFontStyle(bP.fontStyle);}if(bP.maxLength){J.setMaxLength(bP.maxLength);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}return dE.postCreate(J,bP);},TextHyperlinkAnnotation:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.fillColor){J.setFillColor(bP.fillColor);}if(bP.href){J.setHref(bP.href);}return dE.postCreate(J,bP);},TextInputSignature:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.fontColor){J.setFontColor(bP.fontColor);}if(bP.fontName){J.setFontName(bP.fontName);}if(bP.text){J.setText(bP.text);}if(bP.maxLength){J.setMaxLength(bP.maxLength);}if(bP.mask){dE.setMask(J,bP.mask);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}return dE.postCreate(J,bP);},TextRedaction:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.fontColor){J.setFontColor(bP.fontColor);}if(bP.fontName){J.setFontName(bP.fontName);}if(bP.fontSize){J.setFontSize(bP.fontSize);}if(bP.maxLength){J.setMaxLength(bP.maxLength);}if(bP.text){J.setText(bP.text);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}return dE.postCreate(J,bP);},TextSelectionRedaction:function(bP,bN){var J=dE.Common.apply(this,arguments);if(J.oJ){var ha=bP.reasons||bP.reason;if(ha&& !Array.isArray(ha)){ha=[ha];}if(ha){J.setReasons(ha);}}else{if(bP.reason){J.setReason(bP.reason);}}return dE.postCreate(J,bP);},TextSignature:function(bP,bN){var J=dE.Common.apply(this,arguments);if(bP.color){J.setColor(bP.color);}if(bP.fontName){J.setFontName(bP.fontName);}if(bP.text){J.setText(bP.text);}if(bP.horizontalAlignment){J.setHorizontalAlignment(bP.horizontalAlignment);}return dE.postCreate(J,bP);},TransparentRectangleRedaction:function(bP,bN){var J=dE.Common.apply(this,arguments);return dE.postCreate(J,bP);}};module.exports=dE;},{}],149:[function(require,module,exports){var Es={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Es;},{}],150:[function(require,module,exports){var ef={serializeMask:function(hV){var acb={value:hV.value,translations:{}};IPCC.F.forEach(hV.translations,function(aI,an){acb.translations[an]=aI.toString();});return acb;},copyRectangle:function(h){return{x:h.x,y:h.y,width:h.width,height:h.height};},Common:function(aS,bK){var aV;var bw;if(aS.page){aV=aS.page.get_pageHeight();bw=aS.page.get_pageWidth();}else{aV=null;bw=null;}var aj=aS.mark.getPageNumber();var bP={uid:aS.mark.getUid(),interactionMode:aS.mark.getInteractionMode(),pageNumber:aj,type:aS.mark.getType(),creationDateTime:IPCC.F.wB(aS.mark.G.ajj()),modificationDateTime:IPCC.F.wB(aS.mark.G.ahY()),data:ef.Data(aS.mark),conversation:ef.Conversation(aS.mark.getConversation())};function zl(ad){return{x:ad.x,y:ad.y};};function atv(){var FL=IPCC.F.map([].concat(aS.mark.G,aS.mark.bI),function(G){if(bw!==null){return{pageNumber:G.aP+1,pageData:{width:bw,height:aV},startIndex:G.get_startIndex(),textLength:G.get_textLength(),lines:IPCC.F.map(G.al,function(aH){if(aH.get_rectangle){return ef.copyRectangle(aH.get_rectangle());}else{return ef.copyRectangle(aH);}})};}else{return{pageNumber:G.aP+1,startIndex:G.get_startIndex(),textLength:G.get_textLength(),lines:IPCC.F.map(G.al,function(aH){if(aH.get_rectangle){return ef.copyRectangle(aH.get_rectangle());}else{return ef.copyRectangle(aH);}})};}});bP.lineGroups=FL;};function akk(){if(aS.mark.getRectangle){bP.rectangle=ef.copyRectangle(aS.mark.getRectangle());if(bw!==null){bP.pageData={width:bw,height:aV};}}if(aS.mark.getStartPoint){bP.startPoint=zl(aS.mark.getStartPoint());if(bw!==null){bP.pageData=bP.pageData||{width:bw,height:aV};}}if(aS.mark.getEndPoint){bP.endPoint=zl(aS.mark.getEndPoint());if(bw!==null){bP.pageData=bP.pageData||{width:bw,height:aV};}}if(aS.mark.getPoints){var bg=aS.mark.getPoints();bP.points=IPCC.F.map(bg,zl);if(bw!==null){bP.pageData={width:bw,height:aV};}}if(aS.mark.G.al){atv();}};if(bw!==undefined&&aV!==undefined&&bw!==0&&aV!==0){akk();bK(undefined,bP);}else{aS.vc.requestPageAttributes(aj).then(function aHJ(pA){aV=pA.height;bw=pA.width;akk();bK(undefined,bP);},function aFJ(eL){bK(eL);});}},Data:function(bP){return IPCC.F.reduce(bP.getDataKeys(),function(fG,an){fG[an]=bP.getData(an);return fG;},{});},Comment:function(cF){return{text:cF.getText(),data:ef.Data(cF),creationDateTime:IPCC.F.wB(cF.getCreationTime())};},Conversation:function(dC){return{comments:IPCC.F.map(dC.getComments(),function(cF){return ef.Comment(cF);}),data:ef.Data(dC)};},EllipseAnnotation:function(aS,bK){ef.RectangleAnnotation(aS,bK);},FreehandAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),opacity:aS.mark.getOpacity(),path:aS.mark.getPath(),thickness:aS.mark.getThickness()});bK(undefined,bP);});},FreehandSignature:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),path:aS.mark.getPath(),thickness:aS.mark.getThickness(),horizontalAlignment:aS.mark.getHorizontalAlignment()});bK(undefined,bP);});},HighlightAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}var dc=aS.mark.getPosition();bP=IPCC.F.extend(bP,{fillColor:aS.mark.getFillColor(),textLength:dc.length,startIndex:dc.startIndex,selectedText:aS.mark.getText()});bK(undefined,bP);});},ImageStampAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}var bo=aS.mark.getImage();bP=IPCC.F.extend(bP,{imageDataUrl:bo.dataUrl,imageId:bo.id});bK(undefined,bP);});},ImageStampRedaction:function(aS,bK){ef.ImageStampAnnotation(aS,bK);},LineAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),endHeadType:aS.mark.getEndHeadType(),opacity:aS.mark.getOpacity(),thickness:aS.mark.getThickness()});bK(undefined,bP);});},PolylineAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),opacity:aS.mark.getOpacity(),thickness:aS.mark.getThickness()});bK(undefined,bP);});},RectangleAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{borderColor:aS.mark.getBorderColor(),borderThickness:aS.mark.getBorderThickness(),fillColor:aS.mark.getFillColor(),opacity:aS.mark.getOpacity()});bK(undefined,bP);});},RectangleRedaction:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{fillColor:aS.mark.getFillColor(),borderColor:aS.mark.getBorderColor(),borderThickness:aS.mark.getBorderThickness(),fontColor:aS.mark.getFontColor()});if(aS.mark.oJ){bP.reasons=aS.mark.getReasons();}else{bP.reason=aS.mark.getReason();}bK(undefined,bP);});},StampAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{label:aS.mark.getLabel(),color:aS.mark.getColor()});bK(undefined,bP);});},StampRedaction:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{label:aS.mark.getLabel()});bK(undefined,bP);});},StrikethroughAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}var dc=aS.mark.getPosition();bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),thickness:aS.mark.getThickness(),textLength:dc.length,startIndex:dc.startIndex,selectedText:aS.mark.getText()});bK(undefined,bP);});},TextAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{borderColor:aS.mark.getBorderColor(),borderThickness:aS.mark.getBorderThickness(),fillColor:aS.mark.getFillColor(),fontColor:aS.mark.getFontColor(),fontName:aS.mark.getFontName(),fontSize:aS.mark.getFontSize(),fontStyle:aS.mark.getFontStyle(),maxLength:aS.mark.getMaxLength(),horizontalAlignment:aS.mark.getHorizontalAlignment(),opacity:aS.mark.getOpacity(),text:aS.mark.getText()});bK(undefined,bP);});},TextAreaSignature:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{text:aS.mark.getText(),fontColor:aS.mark.getFontColor(),fontName:aS.mark.getFontName(),fontStyle:aS.mark.getFontStyle(),maxFontSize:aS.mark.getMaxFontSize(),maxLength:aS.mark.getMaxLength(),horizontalAlignment:aS.mark.getHorizontalAlignment(),});bK(undefined,bP);});},TextHyperlinkAnnotation:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}var dc=aS.mark.getPosition();bP=IPCC.F.extend(bP,{href:aS.mark.getHref(),fillColor:aS.mark.getFillColor(),textLength:dc.length,startIndex:dc.startIndex,selectedText:aS.mark.getText()});bK(undefined,bP);});},TextInputSignature:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{fontColor:aS.mark.getFontColor(),fontName:aS.mark.getFontName(),text:aS.mark.getText(),mask:aS.mark.getMask(),maxLength:aS.mark.getMaxLength(),horizontalAlignment:aS.mark.getHorizontalAlignment()});if(aS.mark.getMask()){bP.mask=ef.serializeMask(aS.mark.getMask());}bK(undefined,bP);});},TextRedaction:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{fontColor:aS.mark.getFontColor(),fontName:aS.mark.getFontName(),fontSize:aS.mark.getFontSize(),text:aS.mark.getText(),maxLength:aS.mark.getMaxLength(),horizontalAlignment:aS.mark.getHorizontalAlignment()});bK(undefined,bP);});},TextSelectionRedaction:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}var dc=aS.mark.getPosition();bP=IPCC.F.extend(bP,{textLength:dc.length,startIndex:dc.startIndex,selectedText:aS.mark.getText()});if(aS.mark.oJ){bP.reasons=aS.mark.getReasons();}else{bP.reason=aS.mark.getReason();}bK(undefined,bP);});},TextSignature:function(aS,bK){ef.Common(aS,function(bY,bP){if(bY){bK(bY);return;}bP=IPCC.F.extend(bP,{color:aS.mark.getColor(),fontName:aS.mark.getFontName(),text:aS.mark.getText(),horizontalAlignment:aS.mark.getHorizontalAlignment()});bK(undefined,bP);});},TransparentRectangleRedaction:function(aS,bK){ef.Common(aS,bK);}};module.exports=ef;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aj=0;this.ds=undefined;this.Cg=false;this.mX=Mark.InteractionMode.Full;this.cz=true;this.oJ=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(bD,ks){IPCC.F.forEach(bD,function validateMark(kR){if(kR.getUid()===ks){throw new Error('Uid '+ks+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var ks=parameters.uid||IPCC.F.ajd();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.G=parameters.igMark;this.ds=this.G.get_markID().toString();this.dI=this.G.get_data();}else{this.dI=new IPCC.Web.UI.Data();}Data.extend(this);this.Fm=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bi.hG(parameters.pageNumber,'pageNumber');this.aj=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bi.mo(parameters.id,'id');this.ds=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.Cg){this.bn=parameters.type;this.Cg=true;}else if(parameters.type!==undefined){IPCC.bi.mo(parameters.type,'type');var Iv=LX(parameters.type,Mark.Type);if(Iv===null){throw new RangeError("The value of mark type was invalid.");}this.bn=Iv;}if('de'in parameters){this.de=parameters.de;}if('bF'in parameters){this.bF=parameters.bF;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return ks;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:ks,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.bn;};Mark.prototype.getId=function(){return this.ds;};Mark.prototype.getPageNumber=function(){return this.aj;};Mark.prototype.getConversation=function(){if(!this.dC){this.dC=new PCCViewer.Conversation(this);}return this.dC;};Mark.prototype.getBoundingRectangle=function(){if(this.G){var aH=this.G.get_boundingRectangle();if(aH instanceof IPCC.Web.UI.Rectangle){this.lJ={width:aH.width,height:aH.height,x:aH.x,y:aH.y};}}return this.lJ;};Mark.prototype.getInteractionMode=function(){if(this.G){switch(this.G.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mX;};Mark.prototype.setInteractionMode=function(interactionMode){var mX=LX(interactionMode,PCCViewer.Mark.InteractionMode),Yf;switch(mX){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Yf=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Yf=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.G){this.G.set_interactionMode(Yf);}this.mX=mX;return this;};Mark.prototype.reset=function(){var dK=new Mark({type:this.bn,Cg:this.Cg});this.dI={};if(this.setBorderColor&&dK.getBorderColor){this.setBorderColor(dK.getBorderColor());}if(this.setBorderThickness&&dK.getBorderThickness){this.setBorderThickness(dK.getBorderThickness());}if(this.setColor&&dK.getColor){this.setColor(dK.getColor());}if(this.setEndHeadType&&dK.getEndHeadType){this.setEndHeadType(dK.getEndHeadType());}if(this.setEndPoint&&dK.getEndPoint){this.setEndPoint(dK.getEndPoint());}if(this.setFillColor&&dK.getFillColor){this.setFillColor(dK.getFillColor());}if(this.setFontColor&&dK.getFontColor){this.setFontColor(dK.getFontColor());}if(this.setFontName&&dK.getFontName){this.setFontName(dK.getFontName());}if(this.setFontSize&&dK.getFontSize){this.setFontSize(dK.getFontSize());}if(this.setFontStyle&&dK.getFontStyle){this.setFontStyle(dK.getFontStyle());}if(this.setHorizontalAlignment&&dK.getHorizontalAlignment){this.setHorizontalAlignment(dK.getHorizontalAlignment());}if(this.setLabel&&dK.getLabel){this.setLabel(dK.getLabel());}if(this.setPosition&&this.G&&dK.getPosition){this.setPosition(dK.getPosition());}if(this.setReason&&dK.getReason&&this.oJ!==true){this.setReason(dK.getReason());}if(this.setReasons&&dK.getReasons&&this.oJ!==false){this.setReasons(dK.getReasons());}if(this.setOpacity&&dK.getOpacity){this.setOpacity(dK.getOpacity());}if(this.setRectangle&&dK.getRectangle){this.setRectangle(dK.getRectangle());}if(this.setStartPoint&&dK.getStartPoint){this.setStartPoint(dK.getStartPoint());}if(this.setText&&dK.getText){this.setText(dK.getText());}if(this.setThickness&&dK.getThickness){this.setThickness(dK.getThickness());}if(this.setPath&&dK.getPath){this.setPath(dK.getPath());}if(this.setHref&&dK.getHref){this.setHref(dK.getHref());}if(this.setImage&&dK.getImage){this.setImage(dK.getImage());}if(this.setInteractionMode&&dK.getInteractionMode){this.setInteractionMode(dK.getInteractionMode());}if(this.setPoints&&dK.getPoints){this.setPoints(dK.getPoints());}if(this.setMask&&dK.getMask){this.setMask(dK.getMask());}if(this.setMaxLength&&dK.getMaxLength){this.setMaxLength(dK.getMaxLength());}if(this.setMaxFontSize&&dK.getMaxFontSize){this.setMaxFontSize(dK.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function LX(WL,bn){var TI=WL.toLowerCase();for(var standardType in bn){if(bn.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===TI){return standardType;}}return null;};function addMethodsToMark(J){function avh(J){J.highlightText=function(highlights){if(!this.G){throw new Error("It is invalid to highlight text on this mark.");}var nf;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){nf=[highlights];}else{nf=highlights;}for(var i=0;i<nf.length;i++){avX(nf[i]);}}else{nf=[];}var bn=J.getType();switch(bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:J.G.selectText(nf);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var K=this;var PE=[];var pD=false,OH=0,Mu,BK;var acC=function(Gv,aqT,gF){var xq;var QI= -1,Qj=[];var wh=(Gv.am+Gv.dp);if(pD===true&&Mu>=0&&BK>=0){if(Gv.aP-1===Mu){xq=0;if(OH<=wh){Qj.push({startIndex:xq,length:OH,color:gF[BK].color,opacity:(gF[BK].opacity)?gF[BK].opacity:127});pD=false;OH=0;Mu= -1;BK= -1;}}}for(var aU=0;aU<gF.length;aU++){xq=Gv.am+gF[aU].startIndex-aqT;if(xq<0){continue;}if(Array.prototype.indexOf){QI=PE.indexOf(aU);}else{QI=IPCC.Web.kV(PE,aU);}var cY=127;if(QI=== -1){if(xq+gF[aU].length<=wh){if(gF[aU].opacity){cY=gF[aU].opacity;}Qj.push({startIndex:xq,length:gF[aU].length,color:gF[aU].color,opacity:cY});PE.push(aU);K.Di.push(gF[aU]);}else{var WE=wh-xq;if(WE>0){OH=gF[aU].length-WE;cY=127;if(gF[aU].opacity){cY=gF[aU].opacity;}Qj.push({startIndex:xq,length:WE,color:gF[aU].color,opacity:cY});PE.push(aU);K.Di.push(gF[aU]);pD=true;BK=aU;Mu=Gv.aP;}}}}return Qj;};this.Di=[];var eQ=acC(this.G,0,nf);J.clearHighlights();if(eQ.length>0){K.G.selectText(eQ);}eQ=[];var fO=this.G.dp;if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){eQ=[];eQ=acC(this.bI[H],fO,nf);fO+=this.bI[H].dp;if(eQ.length>0){this.bI[H].selectText(eQ);}}}break;}return this;};function avX(EW){IPCC.bi.mD(EW.startIndex,'highlight.startIndex',0,J.getText().length);IPCC.bi.mD(EW.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bi.dm(EW.color,'highlight.color');if(EW.opacity){IPCC.bi.mD(EW.opacity,"highlight.opacity",0,255);}};J.clearHighlights=function(){if(this.G){if(!this.G){throw new Error("It is invalid to clear highlights on this mark.");}}var bn=J.getType();switch(bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:J.G.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.G.selectText();if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].selectText();}}break;}return this;};};var bn=J.getType();switch(bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:avh(J);break;default:break;}};function addPropertiesToMark(J){J.lJ={x:0,y:0,width:0,height:0};var bn=J.getType();switch(bn){case Mark.Type.LineAnnotation:J.dm='#18385F';J.jx=IPCC.Web.UI.LineStyle.Solid;J.oq=6;J.cY=255;J.Nk={x:0,y:0};J.wh={x:0,y:0};J.mk="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:J.fF='#FB0404';J.cY=255;J.nQ='#000000';J.mA=4;J.h={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:J.eL="";J.ha=[];J.fF='#000000';J.nQ='#000000';J.mA=1;J.fZ='#FFFFFF';J.h={x:0,y:0,width:0,height:0};J.op=true;if(J.G){J.G.jL(J.op);}break;case Mark.Type.TransparentRectangleRedaction:J.h={x:0,y:0,width:0,height:0};J.op=true;if(J.G){J.G.jL(J.op);J.G.set_fillColor('#FFFF00');J.G.set_opacity(127);J.G.set_lineWidth(1);J.G.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:J.aY='';J.fF='#FFFFFF';J.cY=127;J.nQ='#000000';J.mA=4;J.fZ='#000000';J.hu="Arial";J.cG=12;J.dv=[];J.oz="Left";J.eD=0;J.h={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:J.wZ="Approved";J.h={x:0,y:0,width:0,height:0};if(bn===Mark.Type.StampRedaction){J.op=true;if(J.G){J.G.jL(J.op);J.G.set_fillColor('#000000');}}else{J.dm="#000000";}break;case Mark.Type.HighlightAnnotation:J.fF="#FFFF00";J.aY='';J.cq='';if(J.G){if(J.G.cq){J.aY=J.G.cq;}}J.dc={startIndex:0,length:0};J.Di=[];J.bI=[];break;case Mark.Type.TextSelectionRedaction:J.eL="";J.ha=[];J.aY='';J.dc={startIndex:0,length:0};if(J.G){J.G.set_fillColor('#000000');if(J.G.cq){J.aY=J.G.cq;}}J.Di=[];J.bI=[];break;case Mark.Type.TextHyperlinkAnnotation:J.mz='';J.fF="#3B00FF";J.aY='';if(J.G){if(J.G.cq){J.aY=J.G.cq;}}J.dc={startIndex:0,length:0};J.Di=[];J.bI=[];break;case Mark.Type.TextRedaction:J.aY='';J.fZ='#000000';J.hu="Arial";J.cG=12;J.h={x:0,y:0,width:0,height:0};J.op=true;J.eD=0;if(J.G){J.G.jL(J.op);J.G.set_fillColor('#FFFFFF');}J.oz="Left";break;case Mark.Type.FreehandAnnotation:J.cY=255;J.h={x:0,y:0,width:0,height:0};J.oq=4;J.dm='#000000';J.gV='M0,0';break;case Mark.Type.FreehandSignature:J.h={x:0,y:0,width:0,height:0};J.oq=4;J.dm='#000000';J.oz="Center";J.gV='M0,0';break;case Mark.Type.TextSignature:J.aY="John Doe";J.h={x:0,y:0,width:0,height:0};J.dm="#000000";if(J.G){J.dm=J.G.fF||'#000000';J.G.jL(J.op);J.G.set_fillColor(J.dm);}J.oz="Center";J.hu="";break;case Mark.Type.TextInputSignature:J.aY="";J.h={x:0,y:0,width:0,height:0};J.fZ="#000000";J.eD=0;if(J.G){J.fZ=J.G.get_textColor()||'#000000';J.G.jL(false);}J.oz="Left";J.hu="Courier New";J.hV=null;break;case Mark.Type.TextAreaSignature:J.aY="";J.h={x:0,y:0,width:0,height:0};J.fZ="#000000";if(J.G){J.fZ=J.G.get_textColor()||'#000000';J.G.jL(false);}J.oz="Left";J.hu="Courier New";J.dv=[];J.eD=0;J.ia=0;break;case 'PlaceSignature':J.kS=undefined;J.h={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:J.bo="";J.qN="";J.h={x:0,y:0,width:0,height:0};if(J.G&&bn===Mark.Type.ImageStampRedaction){J.op=true;J.G.jL(J.op);}break;case Mark.Type.PolylineAnnotation:J.dm='#000000';J.jx=IPCC.Web.UI.LineStyle.Solid;J.oq=2;J.cY=255;J.bg=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:J.dm='#000000';J.jx=IPCC.Web.UI.LineStyle.Solid;J.oq=2;J.aY='';J.cq='';if(J.G){if(J.G.cq){J.aY=J.G.cq;}}J.dc={startIndex:0,length:0};J.Di=[];J.bI=[];break;}function getSignature(){return this.kS||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.kS=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.kS=signature;return this;};if(J.kS||J.bn==='PlaceSignature'){J.getSignature=getSignature;J.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(J,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.dm=this.G.get_lineColor()||this.dm;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.dm=this.G.get_fillColor()||this.dm;break;}}return this.dm;};function setColor(value){IPCC.bi.dm(value,'color');this.dm=value;if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.G.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.G.set_fillColor(value);break;case Mark.Type.TextSignature:this.G.set_textColor(value);this.G.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.G.set_lineColor(value);if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].set_lineColor(value);}}break;}}return this;};if(J.dm!==undefined){J.getColor=getColor;J.setColor=setColor;if(Object.defineProperties){Object.defineProperties(J,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.fF=this.G.get_fillColor()||this.fF;break;}}return this.fF;};function setFillColor(value){if(this.bn===PCCViewer.Mark.Type.HighlightAnnotation||this.bn===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.bi.dm(value,'fillColor');}else{IPCC.bi.XM(value,'fillColor');}this.fF=value;if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.G.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.G.set_fillColor(value);if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].set_fillColor(value);}}break;}}return this;};if(J.fF!==undefined){J.getFillColor=getFillColor;J.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(J,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.bo,id:this.qN};return retVal;};function setImage(params){IPCC.bi.mo(params.dataUrl,'string');IPCC.bi.mo(params.id,'string');this.bo=params.dataUrl;this.qN=params.id;if(this.G){switch(this.bn){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.G.set_image(params.dataUrl);this.G.qN=params.id;break;}}return this;};if(J.bo!==undefined){J.getImage=getImage;J.setImage=setImage;if(Object.defineProperties){Object.defineProperties(J,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nQ=this.G.get_lineColor()||this.nQ;break;}}return this.nQ;};function setBorderColor(value){IPCC.bi.XM(value,'borderColor');this.nQ=value;if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.G.set_lineColor(value);break;}}return this;};if(J.nQ!==undefined){J.getBorderColor=getBorderColor;J.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(J,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.cY=this.G.get_opacity()||this.cY;break;}}return this.cY;};function setOpacity(value){IPCC.bi.mD(value,'opacity',0,255);this.cY=value;if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.G.set_opacity(value);break;}}return this;};if(J.cY!==undefined&&J.cY>=0){J.getOpacity=getOpacity;J.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(J,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.oq=this.G.get_lineWidth()||this.oq;break;}}return this.oq;};function setThickness(value){IPCC.bi.kC(value,'thickness',1,50);this.oq=value;if(this.G){switch(this.bn){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.G.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.G.set_lineWidth(value);if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].set_lineWidth(value);}}break;}}return this;};if(J.oq){J.getThickness=getThickness;J.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(J,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.mA=this.G.get_lineWidth()||this.mA;break;}}return this.mA;};function setBorderThickness(value){IPCC.bi.kC(value,'borderThickness',1,50);this.mA=value;if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.G.set_lineWidth(value);break;}}return this;};if(J.mA!==undefined){J.getBorderThickness=getBorderThickness;J.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(J,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.G){this.cz=this.G.get_visible();}return this.cz;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.cz=value;if(this.G){this.G.set_visible(value);}var H;switch(this.bn){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.bI&&this.bI.length){for(H=0;H<this.bI.length;H++){this.bI[H].set_visible(value);}}if(this.bn===PCCViewer.Mark.Type.TextSelectionRedaction){var eI=this.G;for(H=0;H<this.G.al.length;H++){eI.al[H].set_visible(value);}if(eI.ap){IPCC.F.forEach(this.bI,function(G){for(H=0;H<G.al.length;H++){G.al[H].set_visible(value);}});}}break;}return this;};if(J.cz!==undefined){J.getVisible=getVisible;J.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(J,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.G&&this.G!==null){var bg=this.G.get_points();if(bg.get_length()>0){switch(this.bn){case Mark.Type.LineAnnotation:var ad=bg.getPoint(0);if(ad){this.Nk={x:ad.x,y:ad.y};}break;}}}return this.Nk;};function setStartPoint(value){IPCC.bi.hG(value.x,'startPoint'+'.x');IPCC.bi.hG(value.y,'startPoint'+'.y');if(this.G&&this.G!==null){var bg=this.G.get_points();switch(this.bn){case Mark.Type.LineAnnotation:bg.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Nk=value;return this;};if(J.Nk){J.getStartPoint=getStartPoint;J.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(J,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.G&&this.G!==null){var bg=this.G.get_points();if(bg.get_length()>0){switch(this.bn){case Mark.Type.LineAnnotation:var ad=bg.getPoint(1);if(ad){this.wh={x:ad.x,y:ad.y};}break;}}}return this.wh;};function setEndPoint(value){IPCC.bi.hG(value.x,'endPoint'+'.x');IPCC.bi.hG(value.y,'endPoint'+'.y');if(this.G&&this.G!==null){var bg=this.G.get_points();switch(this.bn){case Mark.Type.LineAnnotation:bg.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.wh=value;return this;};if(J.wh){J.getEndPoint=getEndPoint;J.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(J,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.G&&this.G!==null){var Ek;switch(this.bn){case Mark.Type.LineAnnotation:Ek=this.G.get_endHeadType();switch(Ek){case IPCC.Web.UI.LineHeadType.None:this.mk=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mk=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mk;};function setEndHeadType(value){var Ek;switch(value){case Mark.LineHeadType.None:Ek=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Ek=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.G&&this.G!==null){switch(this.bn){case Mark.Type.LineAnnotation:this.G.set_endHeadType(Ek);break;}}this.mk=value;return this;};if(J.mk){J.getEndHeadType=getEndHeadType;J.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(J,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.G&&this.G!==null){var Ib=this.G.get_points();var cB=Ib.get_length();var amL=[];var VO=function(aAF,ba){amL.push(aAF.getPoint(ba));};if(cB>1){switch(this.bn){case Mark.Type.PolylineAnnotation:for(var H=0;H<cB;H++){VO(Ib,H);}this.bg=amL;break;}}}return this.bg.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var aU=0;aU<value.length;aU++){IPCC.bi.ad(value[aU],'PolylinePoint');}if(this.G&&this.G!==null){var Ib=this.G.get_points();var aEM=function(ba){Ib.addPoint(new IPCC.Web.UI.Point(value[ba].x,value[ba].y));};switch(this.bn){case Mark.Type.PolylineAnnotation:Ib.removeAllPoints();for(var H=0;H<value.length;H++){aEM(H);}}}this.bg=value;return this;};if(J.bg){J.getPoints=getPoints;J.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(J,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.G){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aH=this.G.get_rectangle();if(aH instanceof IPCC.Web.UI.Rectangle){this.h={width:aH.width,height:aH.height,x:aH.x,y:aH.y};}break;}}return this.h;};function setRectangle(value){IPCC.bi.hG(value.x,'rectangle'+'.x');IPCC.bi.hG(value.y,'rectangle'+'.y');IPCC.bi.hG(value.width,'rectangle'+'.width');IPCC.bi.hG(value.height,'rectangle'+'.height');if(this.G&&this.G!==null){switch(this.bn){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var aH=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.G.set_rectangle(aH);break;}}this.h=value;return this;};if(J.h){J.getRectangle=getRectangle;J.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(J,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dF=0;if(this.G&&this.G.cq){dF=this.G.cq.length;}else if(this.G){dF=IPCC.F.reduce([this.G].concat(this.bI||[]),function(cB,G){return cB+G.get_textLength();},0);}return this.G?{startIndex:this.G.am,length:dF}:this.dc;};function setPosition(value){IPCC.bi.hG(value.startIndex,'position.startIndex');IPCC.bi.hG(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.G===undefined||this.G===null){throw new Error("The mark must be on a page.");}var bb;var aB;var aP=this.aj-1;var uN= -value.startIndex;var pj=[];var cq="";var ct;while(true){if(aP>=this.de.get_length()){throw new Error("The specified length is out of range.");}bb=this.de.getPage(aP);if(bb.cn()&&bb.cn().yQ()&&bb.cn().oj()===true){var adL=uN;var Xc=bb.cn().BD();uN+=Xc.length;if(uN<0||(uN===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Uy=0;if(aP===this.aj-1){Uy=value.startIndex;}if(uN>=value.length){ct=value.startIndex+value.length-1;if(adL>=0){ct=value.length-1-adL;}pj.push({pageIndex:aP,endIndex:ct});cq+=Xc.substring(Uy,ct+1);break;}else{ct=bb.cn().BD().length-1;pj.push({pageIndex:aP,endIndex:ct});cq+=Xc.substring(Uy,ct+1);}}else{throw new Error("The text has not been retrieved for this page.");}aP++;}this.ap=IPCC.Eq();var H=0;if(this.bI){if(this.G){this.G.ap=this.ap;aB=this.bF.gu(this.de.getPage(this.G.aP));if(this.G.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var Zr=this.G.al.length-1;Zr>=0;Zr--){aB.removeMark(this.G.al[Zr]);this.G.al.pop();}}}for(H=this.bI.length-1;H>=0;H--){var jX=this.bI[H];aB=this.bF.gu(this.de.getPage(jX.aP));aB.removeMark(jX);this.bI.splice(H,1);}}else{this.bI=[];}EU.call(this,pj,ct,cq,value);this.dc=value;return this;};function EU(pj,ct,cq,value,abi){var H,aP,bb,aB;abi=abi||{};var al;this.bI=this.bI||[];var afG=(this.G.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?awL:awx;for(H=0;H<pj.length;H++){aP=pj[H].pageIndex;bb=this.de.getPage(aP);var aoH=bb.cn().fX();aB=this.bF.gu(bb);var eI;var am=0;ct=pj[H].endIndex;if(H===0){am=value.startIndex;}aP=pj[H].pageIndex;al=abi[aP]||IPCC.F.YT(aoH,am,ct);if(H===0){eI=afG(this.G,am,ct-am+1,cq,al,aP,this.ap,this.G.get_type(),aB);this.G.kI=true;}else{eI=afG(null,am,ct-am+1,cq,al,aP,this.ap,this.G.get_type(),aB);this.bI.push(eI);aB.addMark(eI);eI.set_selected(this.G.get_selected());if(this.getFillColor){eI.set_fillColor(this.G.get_fillColor());}if(this.getColor){eI.set_lineColor(this.G.get_lineColor());}if(this.getThickness){eI.set_lineWidth(this.G.get_lineWidth());}if(this.getHref){eI.set_href(this.G.get_href());}if(this.getReason){eI.set_text(this.G.get_text());}}if(H===pj.length-1){eI.jJ=true;}}};if(J.dc){J.getPosition=getPosition;J.setPosition=setPosition;J.EU=EU;if(Object.defineProperties){Object.defineProperties(J,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function awx(J,am,dF,cq,al,aP,oR,bm,aB){if(!J){J=new IPCC.Web.UI.Mark(bm);}J.am=am;J.dp=dF;J.ka='y';J.ap=oR;J.cq=cq;J.al=al||[];J.aP=aP;var Xp=IPCC.F.reduce(J.al,function(Ht,aH){if(!Ht){return aH.clone();}else{return Ht.union(aH);}},null);J.set_rectangle(Xp);return J;};function awL(J,am,dF,cq,al,aP,oR,bm,aB){if(!J){J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}J.am=am;J.dp=dF;J.ap=oR;J.cq=cq;J.aP=aP;J.al=IPCC.F.map(al,function(aH){var yd=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);yd.set_rectangle(aH);yd.jL(true);yd.set_fillColor('#000000');yd.set_text(J.aY);yd.set_lineWidth(0);yd.ap=oR;aB.addMark(yd);return yd;});var Xp=IPCC.F.reduce(al,function(Ht,aH){if(!Ht){return aH.clone();}else{return Ht.union(aH);}},null);J.set_rectangle(Xp);return J;};function getText(){if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.aY=(typeof this.G.get_text()==="string")?this.G.get_text():this.aY;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(J.G.cq){this.aY=J.G.cq;}break;}}return this.aY;};function setText(value){IPCC.bi.mo(value,'text');this.aY=value;if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.G.set_text(value);break;}}return this;};if(J.aY!==undefined){J.getText=getText;var bm=J.getType();if(bm!==Mark.Type.HighlightAnnotation&&bm!==Mark.Type.TextSelectionRedaction&&bm!==Mark.Type.TextHyperlinkAnnotation&&bm!==Mark.Type.StrikethroughAnnotation){J.setText=setText;}if(Object.defineProperties){var agR={enumerable:true,get:function(){return this.getText();}};if(J.setText!==undefined){agR.set=function(value){return this.setText(value);};}Object.defineProperties(J,{"text":agR});}}function getFontColor(){if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.fZ=this.G.get_textColor()||this.fZ;break;}}return this.fZ;};function setFontColor(value){IPCC.bi.dm(value,'fontColor');this.fZ=value;if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.G.set_textColor(value);break;}}return this;};if(J.fZ){J.getFontColor=getFontColor;J.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(J,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.hu=this.G.get_fontName()||this.hu;break;}}return this.hu;};function setFontName(value){IPCC.bi.mo(value,'fontName');this.hu=value;if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.G.set_fontName(value);break;}}return this;};if(J.hu!==undefined){J.getFontName=getFontName;J.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(J,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.cG=this.G.get_fontSize()||this.cG;break;}}return this.cG;};function setFontSize(value){IPCC.bi.kC(value,'fontSize',0.1,288);this.cG=value;if(this.G){switch(this.bn){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.G.set_fontSize(value);break;}}return this;};if(J.cG){J.getFontSize=getFontSize;J.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(J,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.G){var yf=this.G.get_textHorizontalAlignment();switch(yf){case IPCC.Web.UI.HorizontalAlignment.Center:this.oz="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.oz="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.oz="Right";break;}}return this.oz;};function setHorizontalAlignment(value){IPCC.bi.mo(value,'horizontalAlignment');var qc=LX(value,PCCViewer.Mark.HorizontalAlignment);var yf;switch(qc){case 'Center':yf=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':yf=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':yf=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}J.oz=qc;if(this.G&&yf!==undefined){this.G.set_textHorizontalAlignment(yf);this.oz=qc;}return this;};if(J.oz){J.getHorizontalAlignment=getHorizontalAlignment;J.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(J,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function auM(UJ){var AU=[];for(var H=0;H<UJ.length;H++){switch(UJ[H]){case "Bold":AU.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":AU.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":AU.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":AU.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+UJ[H]);}}if(AU.length===0){AU.push(IPCC.Web.UI.FontStyle.Regular);}return AU;};function getFontStyle(){if(this.G){var qs=[];switch(this.bn){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var va=this.G.get_fontStyle();if(va&IPCC.Web.UI.FontStyle.Bold){qs.push("Bold");}if(va&IPCC.Web.UI.FontStyle.Italic){qs.push("Italic");}if(va&IPCC.Web.UI.FontStyle.Strikeout){qs.push("Strikeout");}if(va&IPCC.Web.UI.FontStyle.Underline){qs.push("Underline");}if(qs.length>0){this.dv=qs;}break;}}return this.dv;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var KI,H,abj=[];for(H=0;H<value.length;H++){KI=LX(value[H],PCCViewer.Mark.FontStyles);if(KI===null){throw new RangeError("The value of font styles "+value[H]+" is invalid.");}else{IPCC.bi.mo(KI,'fontStyle');abj.push(KI);}}this.dv=abj;var va=[];va=auM(this.dv);var bA=this;function aua(aI){setTimeout(function(){bA.G.set_fontStyle(aI);},2);};if(this.G){switch(this.bn){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var agJ=va[0];for(H=1;H<va.length;H++){agJ|=va[H];}aua(agJ);break;}}return this;};if(J.dv){J.getFontStyle=getFontStyle;J.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(J,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.G){switch(this.bn){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.wZ=this.G.get_text()||this.wZ;break;}}return this.wZ;};function setLabel(value){IPCC.bi.mo(value,'label');this.wZ=value;if(this.G){switch(this.bn){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.G.set_text(value);break;}}return this;};if(typeof J.wZ!=='undefined'){J.getLabel=getLabel;J.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(J,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.oJ===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.G){switch(this.bn){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.eL=this.G.get_text()||this.eL;break;}}return this.eL;};function setReason(value){if(this.oJ===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.bi.mo(value,'text');this.eL=value;if(this.G){switch(this.bn){case Mark.Type.RectangleRedaction:this.G.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.G.set_text(value);if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].set_text(value);}}break;}}return this;};if(typeof J.eL!=='undefined'){J.getReason=getReason;J.setReason=setReason;if(Object.defineProperties){Object.defineProperties(J,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.oJ===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.ha.slice();};function setReasons(value){if(this.oJ===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.bi.wt(value);IPCC.F.forEach(value,function(reason){IPCC.bi.mo(reason);});this.ha=value.slice();if(this.G){var abo=this.ha.join("; ");switch(this.bn){case Mark.Type.RectangleRedaction:this.G.set_text(abo);break;case Mark.Type.TextSelectionRedaction:this.G.set_text(abo);if(this.bI&&this.bI.length){for(var H=0;H<this.bI.length;H++){this.bI[H].set_text(abo);}}break;}}return this;};if(typeof J.ha!=='undefined'){J.getReasons=getReasons;J.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(J,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.G){return this.G.get_pathString();}else{return this.gV;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var vQ=IPCC.F.abc(path);this.gV=path;if(this.G){this.G.set_pathString(path);this.G.set_pathWidth(vQ.width);this.G.set_pathHeight(vQ.height);}return this;};if(J.gV){J.setPath=setPath;J.getPath=getPath;if(Object.defineProperties){Object.defineProperties(J,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.G){return this.G.get_href();}else{return this.mz;}};function setHref(href){if(href!==null){var bn=typeof href;if(bn!=="undefined"&&bn!=="number"&&bn!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.mz=href;if(this.G){this.G.set_href(href);}if(this.bI){IPCC.F.forEach(this.bI,function(G){G.set_href(href);});}return this;};if(typeof J.mz!=='undefined'){J.setHref=setHref;J.getHref=getHref;if(Object.defineProperties){Object.defineProperties(J,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.eD=maxLength;if(this.G){this.G.set_maxLength(this.eD);}return this;};function getMaxLength(){if(this.G){this.eD=this.G.get_maxLength();}return this.eD;};if(typeof J.eD!=='undefined'){J.getMaxLength=getMaxLength;J.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(J,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.ia=maxFontSize;if(this.G){this.G.set_maxFontSize(this.ia);}return this;};function getMaxFontSize(){if(this.G){this.ia=this.G.get_maxFontSize();}return this.ia;};if(typeof J.ia!=='undefined'){J.getMaxFontSize=getMaxFontSize;J.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(J,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.hV;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.hV=null;if(this.G){this.G.set_mask(this.hV);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var ahc=false;IPCC.F.forEach(mask.translations,function(val,key){ahc=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!ahc){throw new Error('`mask.translations` must have at least one translation.');}this.hV=mask;if(this.G){this.G.set_mask(this.hV);}return this;};if(typeof J.hV!=='undefined'){J.getMask=getMask;J.setMask=setMask;if(Object.defineProperties){Object.defineProperties(J,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ie=function(viewerControl,markReferences){var K=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.ds=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.cv=viewerControl;this.bh=undefined;this.aap=undefined;this.alK=undefined;this.bD=[];this.ge={};this.mX=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.az){this.az=viewerControl.az;}else{var KT=function(){viewerControl.off('ViewerReady',KT);viewerControl.off('ViewingSessionChanged',KT);K.az=viewerControl.az;};viewerControl.on('ViewerReady',KT);viewerControl.on('ViewingSessionChanged',KT);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.F.forEach(markReferences,function(pP){var Ml=pP.markUid;pP.markupLayer=K;if(K.ge[Ml]){K.ge[Ml]=K.ge[Ml].concat(pP);}else{K.ge[Ml]=[pP];}});}var pB={};EventEmitter.extend(pB);pB.Qk=function(Dx,cC){var K=this;return setTimeout(function(){K.trigger(Dx,cC);},0);};EventEmitter.extend(this);this.dI=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.Fm=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){K.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};ie.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};ie.prototype.getViewerControl=function(){return this.cv;};ie.prototype.addMarks=function(marks){var K=this,apK=function(cF){cF.iX=K;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var H=0;H<marks.length;H++){if(!(marks[H]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[H].getId())){marks.splice(H,1);continue;}IPCC.F.forEach(marks[H].getConversation().getComments(),apK);}if(marks.length){this.bD=this.bD.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};ie.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var H=0;H<this.bD.length;H++){for(var aU=0;aU<marks.length;aU++){if(this.bD[H].getUid()===marks[aU].getUid()){this.bD.splice(H,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[aU]]});break;}}}};ie.prototype.getMarks=function(){var anj=[];IPCC.F.forEach(this.bD,function(J){anj.push(J);});return anj;};ie.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var H=0,acz=false,J;for(H;H<this.bD.length;H++){J=this.bD[H];if(J.getId()===markId){acz=true;break;}}return acz;};ie.prototype.getMarkReferences=function(){var ge=[];for(var mq in this.ge){if(this.ge.hasOwnProperty(mq)){ge=ge.concat(this.ge[mq]);}}return ge;};ie.prototype.hide=function(){var cv=this.az;cv.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};ie.prototype.show=function(){var cv=this.az;cv.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};ie.prototype.copyLayers=function(markupLayers){var cv=this.az,K=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bD=[];IPCC.F.forEach(markupLayers,function(iX){cv.getMarkupLayerCollection().getItem(iX.getId());bD=bD.concat(iX.getMarks());});var copiedMarks=cv.copyMarks(bD);this.addMarks(copiedMarks);IPCC.F.forEach(this.bD,function(J){IPCC.F.forEach(J.getConversation().getComments(),function(cF){cF.iX=K;});});return this;};ie.prototype.getId=function(){return this.ds;};ie.prototype.getName=function(){return this.bh;};ie.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.bh=name;return this;};ie.prototype.getRecordId=function(){return this.aap;};ie.prototype.destroy=function(){this.az.getMarkupLayerCollection().removeItem(this.ds);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};ie.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mX=interactionMode;IPCC.F.forEach(this.bD,function(J){J.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};ie.prototype.getOriginalXmlName=function(){return this.alK;};ie.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.alK=name;return this;};if(Object.defineProperties){Object.defineProperties(ie.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=ie;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cv=viewerControl;this.tz={};this.bD={};this.jz={};this.qj=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.cv;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.F.forEach(this.tz,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.tz[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.qj;};MarkupLayerCollection.prototype.getAll=function(){var anc=[],abG;for(abG in this.tz){if(this.tz.hasOwnProperty(abG)){anc.push(this.tz[abG]);}}return anc;};MarkupLayerCollection.prototype.addItem=function(layer){var K=this,ge,abQ=layer.ge,Gu=function(J,pP){var cF=J.getConversation().addComment(pP.text);cF.creationTime=new Date(pP.creationDateTime);cF.iX=pP.markupLayer;for(var wR in pP.data){if(pP.data.hasOwnProperty(wR)){cF.setData(wR,pP.data[wR]);}}},aBb=function(axi){Gu(K.bD[xH],axi);},alx=function(J){var mq=J.getUid();K.bD[J.getUid()]=J;if(K.jz[mq]){IPCC.F.forEach(K.jz[mq],function(oh){Gu(J,oh);});delete K.jz[mq];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.tz[layer.getId()]=layer;for(var xH in abQ){if(abQ.hasOwnProperty(xH)){ge=abQ[xH];if(K.bD[xH]){IPCC.F.forEach(ge,aBb);}else if(K.jz[xH]){K.jz[xH]=K.jz[xH].concat(ge);}else{K.jz[xH]=ge;}}}IPCC.F.forEach(layer.getMarks(),function(J){alx(J);});this.qj++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.F.forEach(ev.marks,function(J){alx(J);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var auw=ev.cs;IPCC.F.forEach(ev.marks,function(J){var mq=J.getUid();IPCC.F.forEach(K.bD[mq].getConversation().getComments(),function(Gm){if(auw.id!==Gm.iX.id){var oh={creationDateTime:IPCC.F.wB(Gm.creationTime),data:Gm.dI.xe(),markUid:J.getUid(),markupLayer:Gm.iX,text:Gm.text};if(K.jz[mq]){K.jz[mq]=K.jz[mq].concat([oh]);}else{K.jz[mq]=[oh];}}});K.ue(J);});});return this;};MarkupLayerCollection.prototype.ue=function(J){var KX;IPCC.F.forEach(this.tz,function(fu){var alN=fu.hasMark(J.getId());KX=(typeof KX!=='undefined')? +alN^KX: +alN;});if(KX===0){delete this.bD[J.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var fu=this.tz[layerId],K=this,aBg=function(oh,ba){if(oh.markupLayer.getId()===layerId){K.jz[ds].splice(ba);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.F.forEach(this.bD,function(J){var hq=J.getConversation().getComments();var Mx=fu.hasMark(J.getId());IPCC.F.forEach(hq,function(cF){if(Mx&&cF.iX.getId()!==layerId){var aeY={"markUid":J.getUid(),"markupLayer":cF.iX,"text":cF.getText(),"data":cF.dI.dI,"creationDateTime":IPCC.F.wB(cF.getCreationTime())};if(K.jz[J.getUid()]){K.jz[J.getUid()].push(aeY);}else{K.jz[J.getUid()]=[aeY];}J.getConversation().deleteComments(cF);}else if(Mx&&cF.iX.getId()===layerId){J.getConversation().deleteComments(cF);}else if(!Mx&&cF.iX.getId()===layerId){J.getConversation().deleteComments(cF);}});if(Mx&&K.bD[J.getUid()]){K.ue(J);}});for(var ds in this.jz){if(this.jz.hasOwnProperty(ds)){IPCC.F.forEach(this.jz[ds],aBg);}}delete this.tz[layerId];this.qj--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.tz={};this.qj=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.bh=name;var Iv=asH(type);if(Iv===null){throw new RangeError("The value of type was invalid.");}this.bn=Iv;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bh;};MouseTool.prototype.getType=function(){return this.bn;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function asH(WL){var TI=WL.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===TI){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bn=mouseTool.getType();switch(bn){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.AK=false;break;case MouseTool.Type.PanAndEdit:mouseTool.AK=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.bj=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.bj=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.bj=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.bj=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.bj=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.bj=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.bj=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.bj=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.bj=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.bj=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.bj=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.bj=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.bj=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.bj=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.bj=new Mark({type:'PlaceSignature',Cg:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.bj=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.bj=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.bj=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.bj=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.bj=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.bj){mouseTool.getTemplateMark=function(){return this.bj;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.bj){this.bj.reset();}};var MouseTools={sV:{},createMouseTool:function(name,type){if(!this.sV){this.sV={};createDefaultMouseTools();}var xj=name.toLowerCase();var existingTool=this.sV[xj];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.sV[xj]=new MouseTool(name,type);}return this.sV[xj];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.sV){this.sV={};createDefaultMouseTools();}var xj=name.toLowerCase();return this.sV[xj];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.sV;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var ze=[];var pB={};EventEmitter.extend(pB);pB.Qk=function(Dx,cC){var K=this;return setTimeout(function(){K.trigger(Dx,cC);},0);};this.add=function(item){ze.push(item);pB.Qk(this.EventType.ItemAdded,{item:item,count:ze.length});return this;};this.remove=function(item){var K=this;this.forEach(function(e,idx){if(e===item){ze.splice(idx,1);pB.Qk(K.EventType.ItemRemoved,{item:item,count:ze.length});}});return this;};this.removeAll=function(){ze=[];pB.Qk(this.EventType.ItemRemoved,{count:ze.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.F.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(ze);};this.on=function(eventType,handler){pB.on.apply(pB,arguments);return this;};this.off=function(eventType,handler){pB.off.apply(pB,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var CA={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=CA;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(abb){this.abb=abb;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.abb(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var Ss=function Ss(bP,dA,V){if(bP.addEventListener){bP.addEventListener(dA,V,false);}else if(bP.attachEvent){bP.attachEvent('on'+dA,V);}};var Ws=function Ws(bP,dA,V){if(bP.removeEventListener){bP.removeEventListener(dA,V,false);}else if(bP.detachEvent){bP.detachEvent('on'+dA,V);}};function awN(fJ){var adH={};fJ=fJ.split('&');for(var i=fJ.length;i--;){var q=fJ[i].split('=');adH[q.shift()]=q.join('=');}return adH;};function atW(){var yk=document.getElementById('pccPrintFrame');if(yk){if(yk.contentWindow&&yk.contentWindow.destroy){yk.contentWindow.destroy();}if(yk.parentElement){yk.parentElement.removeChild(yk);}}};function asu(bN){bN.alE();atW();bN.amj();if(!bN.algorithm){bN.algorithm=printAlgorithm.standard;}var hf;var hb=document.createElement('iframe');hb.id='pccPrintFrame';hb.className='pccPrintFrame';hb.style.position='absolute';hb.style.bottom=hb.style.right='0px';hb.style.width=hb.style.height='1px';hb.style.zIndex='0';hb.style.border='none';if(bN.algorithm!==printAlgorithm.contentWindowContents){hb.style.visibility='0';}function Pi(){Ws(window,'message',anr);};function akP(){Ws(hb,'load',akP);if(hb.contentDocument){hf=hb.contentDocument;}else if(hb.contentWindow){hf=hb.contentWindow.document;}else{hf=hb.document;}if(bN.algorithm===printAlgorithm.contentWindowContents){hb.contentWindow.contents=bN.template;hb.src='javascript:window["contents"]';}else{hf.open();hf.write(bN.template);hf.close();}};var anr=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var anm=JSON.parse(message.data);var aB=bN.akp(anm.pageIndex);bN.alE();hb.contentWindow[anm.callbackName](aB);bN.amj();}else if(message.data==='extra'){var EO=bN.akR(bN);hb.contentWindow['extra'](bN.encryption,EO);}else if(message.data==='done'){if(bN.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){hb.contentWindow.focus();hb.contentWindow.document.execCommand('print',false,null);window.focus();Pi();bN.vE.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){hb.contentWindow.focus();hb.contentWindow.print();window.focus();Pi();bN.vE.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){Pi();bN.vE.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var rU=awN(message.data);rU.index= +rU.index;rU.pageNumber= +rU.pageNumber;rU.totalPages= +rU.totalPages;bN.vE.adN= +rU.index+1;bN.vE.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,rU);}};Ss(window,'message',anr);Ss(hb,'load',akP);document.body.appendChild(hb);return Pi;};function arF(cv){return function akp(aP){return cv.bF.gu(cv.de.getPage(aP));};};function asc(cv){return function akR(options){var bD,J,tQ=[],Ay=[],CX={},Kl={},xW={},eL={},DC='',agY,dC,ba,Hq,aH,Fr,aj,alP={},BB={},H=0,dH=0,aU=0,aFd=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bD=cv.getAllMarks();for(H=0;H<options.pages.length;H++){alP[options.pages[H]]=true;}for(dH=0;dH<bD.length;dH++){J=bD[dH];aj=J.aj;if(options.includeReasons!=='none'&&(J.getReason||J.getReasons)){DC=J.G.get_text();if(DC){if(!xW[aj]){eL[DC]=1;xW[aj]=eL;eL={};}else{if(xW[aj][DC]){xW[aj][DC]+=1;}else{xW[aj][DC]=1;}}}}if(J.op||J.bn.search("Redaction")!== -1){if(BB[aj]){BB[aj]+=1;}else{BB[aj]=1;}}if(options.range.length&&alP[aj]!==true|| !options.includeRedactions&&J.op|| !options.includeAnnotations&& !J.op){continue;}dC=J.getConversation();if(dC&&dC.getComments().length){if(!Hq){Hq=aj;}else if(aj!==Hq){tQ.sort(aFd);for(aU=0;aU<tQ.length;aU++){Ay=Ay.concat(CX[tQ[aU]]);}Kl[Hq]=Ay;Hq=aj;tQ=[];CX={};Ay=[];}ba=cv.getCharacterIndex(J);agY=aj;aH=J.G.get_boundingRectangle();Fr=(ba>0)?ba*10000+aH.y:aH.y;tQ.push(Fr);if(!CX[Fr]){CX[Fr]=[dC];}else{CX[Fr].push(dC);}}}if(tQ.length){tQ.sort(function(a,b){return a-b;});for(H=0;H<tQ.length;H++){Ay=Ay.concat(CX[tQ[H]]);}Kl[agY]=Ay;}}return{Kl:Kl,xW:xW,BB:BB};};};function aur(cv){return function(){if(cv&&cv.bF){cv.bF.remove_markChanged(cv.mV);}};};function SR(cv){return function(){if(cv&&cv.bF){cv.bF.add_markChanged(cv.mV);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dM=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var nH=this.bN.imageHandlerUrl;var arH=this.bN.documentID;var apx=this.aDi;options.vsID=arH;options.handler=nH;options.pages=dM;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=apx.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bN.viewerAssetsPath);options.encryption= ! !this.bN.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var Sd;function bV(){if(! !Sd){Sd();}};var vE=new PCCViewer.PrintRequest(options,dM.length,bV,this);this.bk.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vE});options.vE=vE;options.akp=arF(this);options.akR=asc(this);options.alE=aur(this);options.amj=SR(this);Sd=asu(options);return vE;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bN=options;this.bV=cancelFunc;this.adN=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.bV();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bN.pages.toString(),orientation:this.bN.orientation,paperSize:this.bN.paperSize,margins:this.bN.margins,includeMarks:this.bN.includeMarks,includeAnnotations:this.bN.includeAnnotations,includeRedactions:this.bN.includeRedactions,includeComments:this.bN.includeComments,includeReasons:this.bN.includeReasons,redactionViewMode:this.bN.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bN.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.adN;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var abk=[];IPCC.F.Zx=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function yL(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function ayI(aj,Jj){var lh=[];lh.push("pageNumber="+(1+aj));lh.push("index="+Jj);lh.push("totalPages="+options.pages.length);return lh.join('&');};function hM(aj,Jj,next){var aS={documentIdentifier:options.vsID,pageNumber:aj,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var iI=document.createElement('div');iI.className=options.paperSize+" ";iI.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';iI.id='printpage'+aj;if(options.margins==='none'){iI.className+=' nomargins';}domElement.appendChild(iI);var pv=IPCC.initializePageViewPlugin(iI,aS);pv.set_debug(false);pv.set_requireRequestsOptimize(true);abk.push(pv);var vL=false;function Gt(){yL(ayI(aj,Jj));next();};pv.add_pageOpened(function(){var bw=pv.kg(),aV=pv.jn();var xn=(options.orientation==='portrait'&&bw>aV)||(options.orientation==='landscape'&&aV>bw);if(xn){pv.xn(90);}});pv.add_pageDisplayed(function(){if(!vL){Gt();}});pv.add_textPageReady(function(){if(vL){pv.cV();Gt();}});pv.add_pageOpenFailed(function(){yL('fail');});pv.add_textExtractionFailed(function(){if(vL){yL('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qO(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qO(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var als='loadArt'+aj;var rU={pageIndex:aj,callbackName:als};window[als]=function(aB){var mY,Lj,H,dC={},NQ={},Am='',nj,ha,eL,CY='';var Lp=[];aB.Fw(function(J){if(J.get_type()===IPCC.Web.UI.MarkType.HighlightText){vL=true;}if(options.includeRedactions&&J.ko()){Lp.push(J);}if(options.includeAnnotations&& !J.ko()){Lp.push(J);}});var abt=new IPCC.Web.UI.ArtPage();IPCC.F.forEach(Lp,function(J){J.mO(undefined);abt.addMark(J);});aS.artPage=abt;NQ=options.pagedConversations[aj+1];if(options.pagedConversations&&NQ&&options.includeComments==='followingPage'){mY=document.createElement('div');mY.className+='commentPage';mY.id='printcommentpage'+aj;if(options.margins==='none'){mY.className+=' nomargins';}Lj='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(H=0;H<NQ.length;H++){dC=NQ[H];Am+=akQ(dC,aj+1);}mY.innerHTML=Lj.replace('{{pageNumber}}',aj+1).replace('{{conversationList}}',Am);domElement.appendChild(mY);}ha=options.pagedReasons[aj+1];if(options.pagedReasons&&ha&&options.includeReasons==='followingPage'){nj=document.createElement('div');nj.className+='reasonPage';nj.id='printreasonpage'+aj;if(options.margins==='none'){nj.className+=' nomargins';}Lj='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eL in ha){if(ha.hasOwnProperty(eL)){CY+=akU(eL,ha[eL]);}}nj.innerHTML=Lj.replace('{{pageNumber}}',aj+1).replace('{{reasonList}}',CY).replace('{{date}}',alA()).replace('{{count}}',options.pagedRedactionCount[aj+1]);domElement.appendChild(nj);}pv.openPage(aS);IPCC.F.forEach(Lp,function(J){J.mO(aB);});};yL(JSON.stringify(rU));}else{pv.openPage(aS);}};function akQ(dC,aj){var alc='',iR='',J=dC.getMark(),hq,cF,H;switch(J.G.hS()){case IPCC.Web.UI.MarkType.Rectangle:iR=(J.G.ko())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:iR='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:iR='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:iR=(J.mk==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:iR='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:iR='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:iR='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:iR='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:iR='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:iR='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:iR='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:iR='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:iR='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:iR='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:iR='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:iR='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:iR='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:iR='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:iR='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:iR='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:iR='Strikethrough Annotation';break;default:break;}hq=dC.getComments();for(H=0;H<hq.length;H++){cF=hq[H];alc+='<li>'+arI({text:cF.getText(),createDate:cF.oT.ZZ,pageNumber:aj+1})+'</li>';}return '<h3>'+iR+'</h3><ul>'+alc+'</ul>';};function arI(cF){var ju=new Date(cF.createDate),Wt='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',ju.getMonth()+1).replace('{{day}}',ju.getDate()).replace('{{year}}',ju.getFullYear()).replace('{{hour}}',(ju.getHours()<10?'0':'')+ju.getHours()).replace('{{minutes}}',(ju.getMinutes()<10?'0':'')+ju.getMinutes()).replace('{{period}}',ju.getHours()<12?'am':'pm');var aY=cF.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',aY).replace('{{date}}',Wt);};function alA(){var ju=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',ju.getMonth()+1).replace('{{day}}',ju.getDate()).replace('{{year}}',ju.getFullYear());};function akU(eL,qj){eL=eL.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var avy=(qj>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eL).replace('{{count}}',qj).replace('{{times}}',avy);};function axf(){window.onerror=function(ev){yL('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function awr(aj,Jj){return function(next){hM(aj,Jj,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var bb= +options.pages[i]-1;funcs.push(awr(bb,i));}sync(funcs,function(){var mY,KR='',bb,CR='',Am='',dC,J,ajN='<h1>Comments</h1><hr>{{pageSections}}',nj,CY='',aAa='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(bb in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(bb)){if(!mY){mY=document.createElement('div');mY.className+=' commentPage';mY.id='printpage_comments';if(options.margins==='none'){mY.className+=' nomargins';}}KR='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Am='';for(var H=0;H<options.pagedConversations[bb].length;H++){dC=options.pagedConversations[bb][H];J=dC.getMark();Am+=akQ(dC,J.pageNumber);}CR+=KR.replace('{{pageNumber}}',J.pageNumber).replace('{{conversationList}}',Am);if(Am.length){mY.innerHTML=ajN.replace('{{pageSections}}',CR);domElement.appendChild(mY);}}}}if(options.includeReasons==='documentEnd'){CR='';ajN='';KR='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(bb in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(bb)){if(!nj){nj=document.createElement('div');nj.className+='reasonPage';nj.id='printpage_reason';if(options.margins==='none'){nj.className+=' nomargins';}}CY='';for(var eL in options.pagedReasons[bb]){if(options.pagedReasons[bb].hasOwnProperty(eL)){CY+=akU(eL,options.pagedReasons[bb][eL]);}}CR+=KR.replace('{{pageNumber}}',bb).replace('{{reasonList}}',CY).replace('{{date}}',alA()).replace('{{count}}',options.pagedRedactionCount[bb]);}}if(CR.length){nj.innerHTML=aAa.replace('{{pageSections}}',CR);domElement.appendChild(nj);}}yL('done');});};function ary(){window['extra']=function(bool,EO){options.encryption= ! !bool;options.pagedConversations=EO.Kl;options.pagedReasons=EO.xW;options.pagedRedactionCount=EO.BB;axf();window['extra']=function(){};};yL('extra');};function atB(){var aB;IPCC.F.forEach(abk,function(av){aB=av.get_artPage();if(aB){aB.removeAllMarks();}av.dispose();aB=undefined;});};window['destroy']=atB;ary();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aAj={Draft:"Draft",Normal:"Normal"};module.exports=aAj;},{}],160:[function(require,module,exports){var Revision=function(){this.ds=0;this.vR=0;this.bn='';};Revision.prototype.getId=function(){return this.ds;};Revision.prototype.getEndPageNumber=function(){return this.vR;};Revision.prototype.getType=function(){return this.bn;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vR;}},"id":{enumerable:true,get:function(){return this.ds;}},"type":{enumerable:true,get:function(){return this.bn;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var Il=function(bN){var iW=new PCCViewer.RevisionsRequest(true);function ave(bn){for(var XV in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(XV)){if(XV.toLowerCase()===bn.toLowerCase()){return PCCViewer.Revision.Type[XV];}}}return PCCViewer.Revision.Type.Unknown;};function awi(fP,am){var xs=[];if(fP.changes&&fP.changes.length){xs=fP.changes.map(function(XH){var PG=new PCCViewer.Revision();PG.ds=XH.id;PG.vR=XH.endPageIndex+1;PG.bn=ave(XH.type);return PG;});}return xs;};function asL(QL){var UV=QL?'&continueToken='+QL:'';var avw=bN.imageHandlerUrl+'/v2/viewingSessions/'+bN.documentID;return avw+'/revisionData?limit=100'+UV;};function alv(QL){var aC=PCCViewer.Deferred();var af=asL(QL);PCCViewer.Ajax.dY({url:af,method:'GET'}).then(function fD(ac){var dI=JSON.parse(ac.responseText);var DV=dI.continueToken;var xs=awi(dI,iW.GR.length);iW.GR=iW.GR.concat(xs);if(DV){if(xs.length){iW.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xs});}setTimeout(function(){alv(DV);},dI.continueAfter||0);}else{if(xs.length){iW.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xs});}iW.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:iW.getRevisions()});iW.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:iW.getRevisions()});}aC.resolve();},function ep(aa){var fl='RequestFailed';var da='The request to get revisions failed.';var ph=aa.response.responseText?JSON.parse(aa.response.responseText):'';var iZ=aa.response.status;if(ph&&(iZ===580||(iZ===480&&ph.errorCode==='DocumentNotProvidedYet'))){fl=ph.errorCode;}iW.fl=fl;iW.da=da;iW.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:iW.getErrorMessage()});iW.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:iW.getRevisions()});aC.reject(aa.error);});};this.aCp=function(){setTimeout(function(){alv();},0);return iW;};};var RevisionsRequest=function(uk){this.GR=[];this.fl=null;this.da=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !uk,enumerable:true,get:function(){return this.GR;}},"errorCode":{configurable: ! !uk,enumerable:true,get:function(){return this.fl;}},"errorMessage":{configurable: ! !uk,enumerable:true,get:function(){return this.da;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.GR;};RevisionsRequest.prototype.getErrorCode=function(){return this.fl;};RevisionsRequest.prototype.getErrorMessage=function(){return this.da;};module.exports={RevisionsRequest:RevisionsRequest,Il:Il};},{}],162:[function(require,module,exports){var BX={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=BX;},{}],163:[function(require,module,exports){var _Search=function(){this.ao='';this.JV={};this.cw={};this.KE=0;this.aF=new PCCViewer.SearchRequest();var K=this;this.XP=function(){var Qx=[];for(var H=0;H<K.JV.searchTerms.length;H++){var ao=K.JV.searchTerms[H];var nP=IPCC.F.OM(ao.type);var PQ;switch(nP){case 'proximity':var vN={tK:ao,cw:[],type:ao.type,highlightColor:this.abv(ao.highlightColor),distance:ao.distance,contextPadding:ao.contextPadding};for(var x=0;x<ao.terms.length;x++){var Uc=ao.terms[x];PQ=this.akl(Uc);vN.cw=vN.cw.concat(PQ);}Qx.push(vN);break;default:PQ=this.akl(ao);Qx=Qx.concat(PQ);break;}}return Qx;};this.akl=function(ao){var fi=[];var cw={};if(ao.matchingOptions.exactPhrase===false&&ao.searchTermIsRegex===false){var zg=ao.searchTerm.split(' ');for(var aU=0;aU<zg.length;aU++){cw={};if(zg[aU].length<0){continue;}cw.searchText=zg[aU];cw.tK=ao;if(ao.matchingOptions.matchWholeWord){cw.searchTerm=this.anw(this.ES(zg[aU]),ao.matchingOptions);}else{if(ao.matchingOptions.wildcard===true){cw.searchTerm=this.ahu(this.ES(zg[aU]),ao.matchingOptions);}else if(ao.matchingOptions.beginsWith===true||ao.matchingOptions.endsWith===true){cw.searchTerm=this.agu(this.ES(zg[aU]),ao.matchingOptions);}else{cw.searchTerm=this.aev(zg[aU],ao.matchingOptions,false);}}cw.highlightColor=this.abv(ao.highlightColor);fi.push(cw);}}else{cw={};cw.searchText=ao.searchTerm;cw.tK=ao;if(ao.matchingOptions.matchWholeWord){cw.searchTerm=this.anw(this.ES(ao.searchTerm),ao.matchingOptions);}else{if(ao.matchingOptions.wildcard===true){cw.searchTerm=this.ahu(this.ES(ao.searchTerm),ao.matchingOptions);}else if(ao.matchingOptions.beginsWith===true||ao.matchingOptions.endsWith===true){cw.searchTerm=this.agu(this.ES(ao.searchTerm),ao.matchingOptions);}else{cw.searchTerm=this.aev(ao.searchTerm,ao.matchingOptions,ao.searchTermIsRegex);}}cw.highlightColor=this.abv(ao.highlightColor);fi.push(cw);}return fi;};this.anw=function(sH,wd){var Jo=new RegExp('\\b'+sH+'\\b',this.Ly(wd.matchCase));return Jo;};this.agu=function(sH,wd){if(wd.beginsWith){return new RegExp("\\b"+sH+'(\\w*)',this.Ly(wd.matchCase));}if(wd.endsWith){sH=sH.replace("*","");return new RegExp('(\\w*)'+sH+"\\b",this.Ly(wd.matchCase));}};this.ES=function(sH){return sH.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.ahu=function(si,wd){si=si.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(si==='\\*'){var bY=new Error('The search term must contain one or more non-wildcard characters.');bY.azl=true;throw bY;}var regexFlags='gim';if(wd.matchCase){regexFlags='gm';}si=si.replace(/\*/g,'\S*');si=si.replace(/\?/g,'\S');var Jo=new RegExp('(\\s|^)'+si+'(?=\\s|$)',regexFlags);return Jo;};this.SM=function(sH){return sH.replace(/\ /g,'\\s+');};this.aev=function(Sk,matchingOptions,isRegex){var tx='';if(isRegex===true){tx=this.SM(Sk);}else if(matchingOptions.wildcard===true){tx=Sk.replace(/[-[\]{}()+,^$|#]/g,"\\$&");tx=this.SM(tx);}else if(matchingOptions.exactPhrase){tx=Sk.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");tx=this.SM(tx);}else{tx=Sk.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}var axY=tx.replace(/'/g,'[\'||]').replace(/"/g,'["||]');return new RegExp(axY,this.Ly(matchingOptions.matchCase));};this.Ly=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHl=function(si){var Jo=new RegExp('\\b'+si+'\\b',K.Ly());return Jo;};var ajx=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abv=function(dm){if(!dm){return ajx[K.KE++ %ajx.length];}else{return dm;}};this.St=function(cZ){if(typeof cZ==='string'){cZ={searchTerms:[{searchTerm:cZ,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return cZ;}IPCC.F.forEach(cZ.searchTerms,function(ao){if(!ao.matchingOptions){ao.matchingOptions={};}var nP=IPCC.F.OM(ao.type);switch(nP){case 'proximity':IPCC.F.forEach(ao.terms,function(Uc){K.ana(Uc);});break;default:K.ana(ao);break;}});return cZ;};this.ana=function(ao){if(typeof ao.contextPadding==="undefined"){ao.contextPadding=25;}if(typeof ao.searchTermIsRegex==="undefined"){ao.searchTermIsRegex=false;}if(typeof ao.matchingOptions==="undefined"){ao.matchingOptions={};}if(!ao.matchingOptions.hasOwnProperty('matchCase')){ao.matchingOptions.matchCase=false;}if(!ao.matchingOptions.hasOwnProperty('exactPhrase')){ao.matchingOptions.exactPhrase=true;}if(!ao.matchingOptions.hasOwnProperty('matchWholeWord')){ao.matchingOptions.matchWholeWord=false;}if(!ao.matchingOptions.hasOwnProperty('beginsWith')){ao.matchingOptions.beginsWith=false;}if(!ao.matchingOptions.hasOwnProperty('endsWith')){ao.matchingOptions.endsWith=false;}if(!ao.matchingOptions.hasOwnProperty('wildcard')){ao.matchingOptions.wildcard=false;}if(typeof ao.highlightColor!=='undefined'){try{IPCC.bi.dm(ao.highlightColor,"selectText");}catch(e){ao.highlightColor=undefined;}}};this.ayH=function(){return K.cw;};this.agV=function(e){K.aF.da=e.message;K.aF.fl="1010";K.aF.tn=true;setTimeout(function(){K.aF.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){K.aF.trigger("SearchCompleted",{completedSearchResults:(K.rz)});},10);return K.aF;};this.uw=function(cZ,bx){this.cw={};this.JV=cZ;this.ao=cZ;this.KE=0;var uw=new PCCViewer.MG();try{K.cw=this.XP();return uw.VI(bx,K.cw,cZ,K.aF);}catch(e){return K.agV(e);}};this.FE=function(cZ,bx){this.cw={};this.JV=cZ;this.ao=cZ;this.KE=0;var FE=new PCCViewer.XI();try{K.cw=this.XP();return FE.VI(bx,K.cw,cZ,K.aF);}catch(e){return K.agV(e);}};};_Search.prototype.zz=function(searchQuery){this.cw={};this.aF=new PCCViewer.SearchRequest();this.JV=searchQuery;this.aF.cZ=searchQuery;this.ao=searchQuery;this.KE=0;return this.aF;};var SearchTask=function(searchQuery){this.afx(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.St(searchQuery);this.aF=_search.zz(searchQuery);try{_search.cw=_search.XP();}catch(e){if(e.azl){throw new Error(e.message);}else{throw new Error(e.message);}}var uw=new PCCViewer.MG();this.search=function(text){uw.rz=[];uw.aK=0;uw.cw=_search.cw;uw.aEk(text);return uw.rz;};};SearchTask.prototype.afx=function(searchQuery){if(typeof searchQuery==='string'){return;}var Aq;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){Aq=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.F.forEach(Aq,function(tA,H){var nP=tA.type?IPCC.F.trim(tA.type).toLowerCase():undefined;switch(nP){case 'proximity':IPCC.F.forEach(tA.terms,function(aEL,bB){if(!aka(aEL)){throw new Error("Search term index "+bB+" under Proximity search term index "+H+" does not have a valid `searchTerm` string property.");}});break;default:if(!aka(tA)){throw new Error("Search term index "+H+" does not have a valid `searchTerm` string property.");}break;}});function aka(tA){return(typeof tA.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function arB(cZ){var Aq=cZ.map(function(ao,aal){if(ao.type==='proximity'){return{type:'proximity',distance:ao.distance,subTerms:ao.cw.map(function(adM){return{pattern:adM.searchTerm.source,caseSensitive:adM.tK.matchingOptions.matchCase};}),termId:aal.toString(),contextPadding:ao.contextPadding};}return{type:'simple',pattern:ao.searchTerm.source,caseSensitive:ao.tK.matchingOptions.matchCase,termId:aal.toString(),contextPadding:ao.contextPadding};});return{input:{searchTerms:Aq}};};var XI=function(){var K=this;var zz,DV,akX;var Rq=[];this.xL=false;this.AV={};this.xV=[];function asx(){var UV=DV?'&continueToken='+DV:'';return K.bx.rh+'/v2/searchTasks/'+zz.processId+'/results?limit=100'+UV;};function atF(fi){var PL=K.AV.input.searchTerms.reduce(function(qX,tA){qX[tA.termId]=K.cw[tA.termId];return qX;},{});return fi.map(function(aa){var fV=new PCCViewer.SearchResult();if(K.cw[0].tK.matchingOptions.wildcard&&(aa.text[0]===" "||aa.text[0]==="\n")){aa.text=aa.text.substring(1);aa.startIndex+=1;aa.startIndexInContext+=1;}fV.lJ=aa.boundingRectangle;fV.dk=aa.context;fV.Bj=aa.startIndexInContext;fV.mT=aa.id;fV.cw=K.cw;fV.al=aa.lineRectangles;fV.hy=aa.pageData;fV.pu=aa.startIndex;fV.aY=aa.text;fV.aj=aa.pageIndex+1;fV.ds=aa.id;fV.YE=K.bx.get_documentIdentifier();fV.ao=PL[aa.searchTerm.termId].tK;fV.rr=PL[aa.searchTerm.termId].highlightColor;return fV;});};function qS(GS,Zm){switch(GS){case 'failed':setTimeout(function(){K.aF.trigger(PCCViewer.EventType.SearchFailed,Zm);},10);break;case 'complete':K.aF.TM=K.xV;K.aF.tn=true;setTimeout(function(){K.aF.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(K.aF.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){K.aF.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(K.aF.getResults())});},10);};function att(nx){var af=K.bx.rh+'/v2/viewingSessions/'+encodeURIComponent(K.bx.get_documentIdentifier())+'/searchTasks';function fD(ac){var aa=JSON.parse(ac.responseText);zz=aa;if(Rq.length){Rq.forEach(function(vT){vT();});}Rq=[];nx();};function ep(bS){K.aF.off('SearchCancelled',K.aiR);K.aF.da='The request to create a search task failed.';var avF=bS&&bS.response&&bS.response.status===501;var aru=bS&&bS.response&&bS.response.status===480&&(function(apN){try{return JSON.parse(apN).errorCode==='FeatureDisabled';}catch(e){return false;}}(bS.response.responseText));if(avF||aru){K.aF.fl='ServerSearchUnavailable';K.aF.da='Server-side search is not available.';qS('failed',{errorMessage:K.aF.da});return;}qS('failed',{errorMessage:K.aF.da});};PCCViewer.Ajax.dY({url:af,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(K.AV)}).then(fD,ep);};function LL(nx){var af=asx();var iB={};if(zz.affinityToken){iB['Accusoft-Affinity-Token']=zz.affinityToken;}if(!K.xL){return;}function fD(ac){if(!K.xL){return;}var aa=JSON.parse(ac.responseText);var Ug=atF(aa.results);K.xV=aa.pagesWithoutText;K.aF.fi.push.apply(K.aF.fi,Ug);if(Ug.length){setTimeout(function(){IPCC.F.forEach(Ug.reduce(function(qX,aa){var dO=aa.aj;if(!qX[dO]){qX[dO]=[];}qX[dO].push(aa);return qX;},{}),function(fi,dO){K.aF.trigger('PartialSearchResultsAvailable',{partialSearchResults:fi,pagesWithoutText:K.xV});});},10);}if(aa.continueToken){DV=aa.continueToken;akX=aa.continueAfter;nx();}else if(K.xL){qS('complete');}};function ep(aa){if(!K.xL){return;}K.xL=false;K.aF.da='The request to poll the search task failed.';K.aF.tn=true;qS('failed',{errorMessage:K.aF.da});};PCCViewer.Ajax.dY({method:'GET',url:af,headers:iB}).then(fD,ep);};function avu(){(function avE(){setTimeout(function(){LL(avE);},akX||0);}());};function aiR(){qS('cancelled');K.xL=false;function ais(){};if(!zz){Rq.push(ais);return;}ais();};this.VI=function(bx,cw,cZ,aF){K.bx=bx;K.cw=cw;K.aF=aF;K.aF.cZ=cZ;K.AV=arB(K.cw);K.xL=true;K.aF.on('SearchCancelled',aiR);att(function(){avu();});return K.aF;};};module.exports=XI;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function akz(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function xF(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new xF(this.x,this.y);};};function Yj(ak){return(ak&&ak.nodeType===1);};function PB(zW,Gc){var Ub=(Gc&&IPCC.F.BP)?'m':'M';var abH=(Gc&&IPCC.F.BP)?'l':'L';return IPCC.F.map(zW,function(el,i){if(i===0){return Ub+el.x+','+el.y;}else{return abH+el.x+','+el.y;}}).join('');};function aiD(dk,ob,ei){return function(bS){if(IPCC.F.Cn&&bS.type.match('mouse')){bS.preventDefault();bS.stopPropagation();return false;}if(bS.preventDefault){bS.preventDefault();}else{bS.returnValue=false;}var x,y;if(bS.changedTouches){var gY=bS.changedTouches[0];if(bS.type==='touchstart'){ob=bS.target.getBoundingClientRect();}else if(bS.type==='touchend'){ei&&ei();return;}x=gY.clientX-ob.left;y=gY.clientY-ob.top;}else{x=bS.clientX-ob.left;y=bS.clientY-ob.top;}var ad=new xF(x,y);dk.zW.push(ad);var vJ=PB(dk.zW);if(IPCC.F.BP){dk.gV.path=vJ.toLowerCase();}else{dk.gV.setAttribute('d',vJ);}ei&&ei();};};function asP(points){var zE=3,bW='',sM;var qx=(points.length<zE)?points:IPCC.F.filter(points,function(el){if(sM&&sM.close(el)){return false;}else{sM=el;return true;}});if(qx.length<zE){qx=[points[0],points[points.length-1]];}sM=undefined;if(qx.length<zE){bW+=PB(qx);}else{bW='M'+IPCC.F.bspline(qx);bW=bW.replace(/\d*\.?\d*/g,function(aI){var HF=aI.indexOf('.');if(aI.length&&HF>0){return aI.substr(0,HF+3);}else if(aI!==""){return aI;}else{return aI;}});}return bW;};function SignatureControl(dom){var K=this;if(typeof dom==='string'){this.cR=document.querySelector(dom);if(!(Yj(this.cR))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Yj(dom)){this.cR=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Iq=[];this.ob=new akz(this.cR.getBoundingClientRect());this.fw=IPCC.F.AY.SVG([0,0,this.ob.width,this.ob.height].join(' '));this.cR.appendChild(this.fw);function Eu(ev){var gV=IPCC.F.AY.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});K.fw.appendChild(gV);var dk={zW:[],gV:gV,ei:function(){K.Iq.push(dk.zW);IPCC.F.removeEvent(K.cR,'mousemove',Ai);IPCC.F.removeEvent(K.cR,'mouseup',En);if(IPCC.F.Cn){IPCC.F.removeEvent(K.cR,IPCC.F.oV['move'],Ai);IPCC.F.removeEvent(K.cR,IPCC.F.oV['up'],En);}if(IPCC.F.Hf){IPCC.F.removeEvent(K.cR,'touchmove',Ai);IPCC.F.removeEvent(K.cR,'touchend',En);}}};var Ai=aiD(dk,K.ob);var En=aiD(dk,K.ob,dk.ei);Ai(ev);IPCC.F.addEvent(K.cR,'mousemove',Ai);IPCC.F.addEvent(K.cR,'mouseup',En);if(IPCC.F.Cn){IPCC.F.addEvent(K.cR,IPCC.F.oV['move'],Ai);IPCC.F.addEvent(K.cR,IPCC.F.oV['up'],En);}if(IPCC.F.Hf){IPCC.F.addEvent(K.cR,'touchmove',Ai);IPCC.F.addEvent(K.cR,'touchend',En);}};IPCC.F.addEvent(K.cR,'mousedown',Eu);if(IPCC.F.Cn){this.cR.style['-ms-touch-action']='none';this.cR.style['touch-action']='none';IPCC.F.addEvent(K.cR,IPCC.F.oV['down'],Eu);}if(IPCC.F.Hf){IPCC.F.addEvent(K.cR,'touchstart',Eu);}this.SY=function(){K.ob=new akz(K.cR.getBoundingClientRect());K.fw.setAttribute('viewBox',[0,0,K.ob.width,K.ob.height].join(' '));};IPCC.F.addEvent(window,'resize',this.SY);this.akC=function(){IPCC.F.removeEvent(window,'resize',K.SY);IPCC.F.removeEvent(K.cR,'mousedown',Eu);if(IPCC.F.Cn){IPCC.F.removeEvent(K.cR,IPCC.F.oV['down'],Eu);}if(IPCC.F.Hf){IPCC.F.removeEvent(K.cR,'touchstart',Eu);}while(K.cR.firstChild){K.cR.removeChild(K.cR.firstChild);}};};SignatureControl.prototype.done=function(){var mt,mH,np,oK,vJ='M0,0',afC=this;IPCC.F.forEach(afC.Iq,function(oW){IPCC.F.forEach(oW,function(p){if(mt===undefined||mt>p.x){mt=p.x;}if(mH===undefined||mH>p.y){mH=p.y;}if(np===undefined||np<p.x){np=p.x;}if(oK===undefined||oK<p.y){oK=p.y;}});});IPCC.F.forEach(afC.Iq,function(oW){var anO=IPCC.F.map(oW,function(p){return new xF(p.x-mt,p.y-mH);});vJ+=asP(anO);});this.akC();return{type:'path',path:vJ,width:(np-mt)||0,height:(oK-mH)||0};};SignatureControl.prototype.resize=function(){this.SY();return this;};SignatureControl.prototype.clear=function(){var svg=this.fw;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Iq=[];return this;};SignatureControl.prototype.undo=function(){if(this.fw.lastChild){this.fw.removeChild(this.fw.lastChild);}this.Iq.pop();return this;};SignatureControl.prototype.cancel=function(){this.akC();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var qA=IPCC.F.abc(signature.path);var fw=IPCC.F.AY.SVG([0,0,qA.width,qA.height].join(' '));var gV=IPCC.F.AY.Path(signature.path,{width:qA.width,height:qA.height,color:'black',thickness:4});if(IPCC.F.BP){var aBX=(qA.height/qA.width)*100;fw.style.width=gV.style.width='100%';fw.style.height=gV.style.height='0px';fw.style.paddingBottom=gV.style.paddingBottom=aBX+'%';}else{fw.style.width='100%';fw.style.maxHeight='100%';fw.setAttribute('preserveAspectRatio','xMinYMin meet');}fw.appendChild(gV);domElement.appendChild(fw);return{width:qA.width,height:qA.height,clear:function(){domElement.removeChild(fw);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var iI=document.createElement('div');var lC=document.createTextNode(signature.text);var jm=(typeof signature.fontName==='string')?signature.fontName:'serif';iI.appendChild(lC);iI.style.textAlign='center';iI.style.fontFamily='"'+jm+'", cursive';iI.style.fontSize='2.5em';iI.style.overflow='hidden';domElement.appendChild(iI);var qA=IPCC.F.uZ(signature.text,jm);return{width:qA.width,height:qA.height,clear:function(){domElement.removeChild(iI);}};};if(!Yj(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var sq=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var dE=require('./PCCViewer.MarkDeserializer');var ef=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.F.vg(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var K=this;this.Zw=viewerControlFacade;this.bk=new PCCViewer.xa(viewerControlFacade);IPCC.F.EB(element);var kH=document.createElement('div');kH.className='pccViewerControl';kH.id='pccViewerControl-'+IPCC.Eq();element.appendChild(kH);this.cN=kH;this.fz=element;var ts=document.createElement('div');ts.className='pccPageListLoading';kH.appendChild(ts);this.ts=ts;this.pE=false;this.bN=sq.pD({},SingleSessionViewerControl.zM,options);this.bN.language=sq.pD({},SingleSessionViewerControl.aGs,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bN.pageLayout.toLowerCase()==="vertical"){this.bN.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bN.pageLayout.toLowerCase()==="horizontal"){this.bN.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bN.viewMode.toLowerCase()==="document"){this.bN.viewMode=IPCC.ViewMode.Document;}else if(this.bN.viewMode.toLowerCase()==="equalwidthpages"){this.bN.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bN.viewMode.toLowerCase()==="equalfitpages"){this.bN.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bN.viewMode.toLowerCase()==="singlepage"){this.bN.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(K.bN.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bN.searchMethodPageCountThreshold)&&(typeof this.bN.searchMethodPageCountThreshold!=='number')&&this.bN.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bN.redactionViewMode){if(this.bN.redactionViewMode.toLowerCase()==="draft"){this.bN.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bN.redactionViewMode.toLowerCase()==="normal"){this.bN.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bN.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var hX=this.bN.pageRotation%360;if(hX!==0){var xZ=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hX||xZ.indexOf(hX)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!hX||IPCC.Web.kV(xZ,hX)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bN.pageRotation=hX;if(this.bN.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bN.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bN.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bN.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bN.serviceResponseTimeout)||typeof this.bN.serviceResponseTimeout!=='number'||this.bN.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bN.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bN.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.bN.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.kA={};this.af="";this.fv=1;this.aht=1;this.afB=0;this.lG=1;this.bF=undefined;this.RJ=new PCCViewer.Deferred();this.ri=this.RJ.getPromise();this.fB=false;this.bx=undefined;this.Nu=0;this.de=undefined;this.bp=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.nn=false;this.vu=false;this.CO=false;this.Cj=[];this.MV=new PCCViewer.Deferred();this.aDj=this.MV.getPromise();this.xQ=[];this.ca={};this.Dr=[];this.Ey=[];this.aX=null;this.It={};this.he=null;this.lN=new PCCViewer.MarkupLayerCollection(this.Zw);this.Ag=new PCCViewer.MarkupLayer(this.Zw);this.lN.addItem(this.Ag);this.vO=true;setTimeout(function(){K.agi(kH,K.bN);},0);this.yh=null;this.aF=null;this.zO=false;this.GO= -1;this.Gy={};this.afY=false;this.aDi=this.bN.printTemplate||(this.bN.template?this.bN.template.print:"");this.jK=null;this.wJ=null;this.mu=function(dC,eS,afl){var cu=document.createElement('div'),fo=cu.style;fo.position='absolute';if(eS.isSelected){fo.backgroundColor='white';}else{fo.backgroundColor='lightgray';}fo.left='10px';fo.right='0';fo.textAlign='left';IPCC.F.forEach(dC.getComments(),function(nG,H){var Yp=document.createElement('div'),Lm=Yp.style;Lm.position='relative';Lm.padding='5px';Lm.border='1px solid gray';if(H>0){Lm.borderTop='none';}Yp.appendChild(document.createTextNode(nG.getText()));cu.appendChild(Yp);});return cu;};return K;};SingleSessionViewerControl.zM={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.aGs={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.agi=function(element,options){if(this.pE){return;}var K=this;var Xz=function(){if(K.bN.viewMode===IPCC.ViewMode.SinglePage||K.pE){return;}var aGw=K.bF.get_pageNodeId(K.getPageNumber()-1);var aw=document.getElementById(aGw);var Xm=K.cN.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!aw){return;}IPCC.F.forEach(Xm,function(iY){if(aw!==iY){if(document.documentMode===8&&iY.style.outline){iY.style.outline='';}else if(iY.style.boxShadow){iY.style.boxShadow='';}}});if(document.documentMode===8){aw.style.outline='2px solid #aaa';}else{aw.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function aul(){var aC=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var ky=document.createElement('div'),Gn=document.createElement('div'),Ut=function(){ky.classList.add('open');},Os=function(){if(ky.parentNode!==null){ky.parentNode.removeChild(ky);}};Gn.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var adz=document.createElement('p');Gn.appendChild(adz);function updateRemainingSeconds(){adz.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();ky.className='pccPageListNagModal';ky.appendChild(Gn);K.cN.appendChild(ky);Ut();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{Os();clearInterval(intervalId);}},1000);};function fD(ac){if(ac.status===200){var aa=JSON.parse(ac.responseText);if(aa.delayEnabled){showNagDialog(aa.delaySecondsRemaining);}}};function ep(ac){aC.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.dY({method:'GET',url:K.bN.imageHandlerUrl+'/v2/ViewingSessions/'+K.bN.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(fD,ep);};var amq=function(){if(K.ts.parentNode){K.ts.parentNode.removeChild(K.ts);}K.bF.remove_pageOpenFailed(abp);K.bF.remove_pageDisplayed(amq);var aP=arguments[1].pageIndex;setTimeout(function(){K.bk.trigger("PageDisplayed",{pageNumber:(aP+1)});Xz();},10);if(aP!==0){return;}function fD(ac){if(K.pE){return;}var aa;if(ac.status===200){aa=JSON.parse(ac.responseText);if(aa.pageCountConfidence<100){var af;if(!(/^[\x00-\x7F]*$/.test(qJ))){af=K.bN.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qJ+'&DesiredPageCountConfidence=100';}else{af=K.bN.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(K.bN.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.dY({method:'GET',url:af,headers:{'Content-Type':'application/json'}}).then(fD,ep);K.fv=aa.pageCount;K.bx.fv=aa.pageCount;K.CO=true;setTimeout(function(){K.bk.trigger("EstimatedPageCountReady",{pageCount:aa.pageCount});},10);akc();}else{if(K.fv>1){K.bx.fv=aa.pageCount;setTimeout(function(){var H;if(aa.pageCount<K.fv){for(H=K.fv-1;H>=aa.pageCount;H--){K.de.removePage(H);}}else if(aa.pageCount>K.fv){for(H=K.fv;H<aa.pageCount;H++){var SB=new IPCC.Web.UI.ImGearPage({pageNumber:H});K.de.addPage(SB);}}K.fv=aa.pageCount;if(K.fB===true){K.nn=true;K.vu=true;setTimeout(function(){K.bk.trigger("PageCountReady",{pageCount:aa.pageCount});},30);}},30);}else{K.fv=aa.pageCount;K.bx.fv=aa.pageCount;if(K.fB===true){akc(function(){K.nn=true;K.vu=true;setTimeout(function(){K.bk.trigger("PageCountReady",{pageCount:aa.pageCount});},0);});}}}}};function ep(aa){if(K.pE){return;}var Vf="None",afz,Vx;var agp=aa.response.getResponseHeader('Accusoft-Status-Message');if(agp){Vf=agp;Vx=aa.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.vk(Vx)){afz=parseInt(Vx,10);}}else if(aa.response.statusText){Vf=aa.response.statusText;}setTimeout(function(){K.bk.trigger("PageLoadFailed",{statusCode:aa.response.status,errorMessage:Vf,accusoftErrorNumber:afz});},1);throw("Unable to obtain document information from the server");};var qJ=IPCC.fR.tg(K.bN.documentID);if(!qJ||qJ===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(qJ))){K.af=K.bN.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+qJ+'&DesiredPageCountConfidence=50';}else{K.af=K.bN.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(K.bN.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.dY({method:'GET',url:K.af,headers:{'Content-Type':'application/json'}}).then(fD,ep);};function akc(pG){pG=pG||function(){};var amz=K.fv;function aiz(){K.bF.remove_allPagesAdded(aiz);pG();};if(amz>1){K.bF.add_allPagesAdded(aiz);if(!K.afQ){K.bF.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cC=arguments[1];setTimeout(function(){K.bk.trigger('PageChanged',{pageNumber:cC.pageIndex+1});Xz();},0);});K.bF.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cC=arguments[1];if(K.jK){K.jK();K.jK=null;if(K.he){K.he.resolve();}K.he=null;}setTimeout(function(){K.bk.trigger('PageDisplayed',{pageNumber:cC.pageIndex+1});Xz();},0);setTimeout(function(){K.requestPageText(cC.pageIndex+1).then(function CW(){K.Uw(cC.pageIndex+1,K.GO);});},10);});K.bF.add_pageOpenFailed(function(){alj(arguments);});K.afQ=true;}for(var H=K.Nu;H<amz;H++){K.de.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:H}));K.Nu++;}}else{pG();}};var ars=function(cC){var aw=document.getElementById(cC.pageNodeID),ak=document.createElement('div'),yn=document.createElement('button'),akM='pccPageLoadFailRetry'+cC.pageIndex,aeV=function(){K.bF.Ma(cC.pageIndex);},arl=PCCViewer.Language.data.pageLoadFailed,apO=PCCViewer.Language.getValue("pageLoadFailedPassword"),apB=PCCViewer.Language.data.pageLoadFailedRetry,avp=cC.exception.statusCode===480&&cC.exception.customErrorCode===4001;if(aw===null){return;}yn.id=akM;yn.innerHTML=apB;ak.className='pccPageLoadFail';if(avp){ak.innerHTML=apO+'<br>';aw.appendChild(ak);}else{ak.innerHTML=arl+'<br>';ak.appendChild(yn);aw.appendChild(ak);yn=document.getElementById(akM);if(!yn.addEventListener){yn.attachEvent('onclick',aeV);}else{yn.addEventListener('click',aeV,false);}}};function alj(Bi){if(Bi.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var aeJ,adU,cC=Bi[1];if(Bi[1].exception.customErrorCode!==undefined){adU=Bi[1].exception.customErrorCode;}if(Bi[1].exception.message!==undefined){aeJ=Bi[1].exception.message;}setTimeout(function(){K.bk.trigger('PageLoadFailed',{statusCode:cC.exception.statusCode,pageNumber:cC.pageIndex+1,errorMessage:aeJ,accusoftErrorNumber:adU});ars(cC);},0);};function aud(){if(K.bF&&typeof K.bF.dispose==="function"){K.bF.dispose();}K.af="";K.bF=undefined;while(K.cN.firstChild){K.cN.removeChild(K.cN.firstChild);}};function aGU(adZ){var aC=new PCCViewer.Deferred();if(typeof adZ==="string"){PCCViewer.Ajax.dY({url:K.bN.imageHandlerUrl+'/ViewingSession/u'+K.bN.documentID+'/Replacement',body:JSON.stringify({password:adZ}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aJz(ac){var result=JSON.parse(ac.responseText);var anb=result.viewingSessionId;K.bN.documentID=anb;aud();K.agi(K.cN,K.bN);aC.resolve(anb);},function aJx(err){aC.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{aC.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return aC.getPromise();};function abp(){K.bF.remove_pageOpenFailed(abp);alj(arguments);};var atY=function(aN,T){K.wj=true;var Sx={width:T.width,height:T.height,pageNumber:T.pageNumber};K.bk.trigger("PageOpening",Sx);};function ajH(){K.RJ.resolve(K.bF);K.bF.remove_pageOpened(ajH);K.fB=true;var bA=K;setTimeout(function(){K.bk.trigger("ViewerReady",{});if(bA.nn===true&&bA.vu===false){bA.vu=true;setTimeout(function(){K.bk.trigger("PageCountReady",{pageCount:bA.getPageCount()});},10);}},10);K.setCurrentMouseTool("AccusoftPanAndEdit");};var aoN=function(aN,T){if(T.containsText===true){K.MV.resolve(true);}var zf= -1;if(Array.prototype.indexOf){zf=(K.xQ.indexOf(T.pageIndex)>=0);}else{zf=(IPCC.Web.kV(K.xQ,T.pageIndex)>=0);}if(zf===false){K.xQ.push(T.pageIndex);if(K.xQ.length===K.fv){K.MV.resolve(false);}}setTimeout(function(){K.bk.trigger("PageTextReady",{pageNumber:T.pageIndex+1});},0);};var anC=function(aN,T){var zf= -1;if(Array.prototype.indexOf){zf=(K.xQ.indexOf(T.pageIndex)>=0);}else{zf=(IPCC.Web.kV(K.xQ,T.pageIndex)>=0);}if(zf===false){K.xQ.push(T.pageIndex);if(K.xQ.length===K.fv){K.MV.resolve(false);}}};function atM(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var hQ=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){hQ.push(eventArgs.pageNumbers[i]+1);}var hw=[],uN= -eventArgs.startIndex,am,ct,hL,al,j,k;for(j=0;j<hQ.length;j++){hL=K.de.hM(hQ[j]-1).cn().fX();uN+=hL.fE();am=0;if(j===0){am=eventArgs.startIndex;}if(uN>=eventArgs.text.length){ct=uN-eventArgs.text.length-1;}else{ct=hL.fE()-1;}al=IPCC.F.YT(hL,am,ct);for(k=0;k<al.length;k++){hw.push({x:al[k].x,y:al[k].y,width:al[k].width,height:al[k].height,pageNumber:hQ[j]});}}K.aX={pageNumber:hQ[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:hw};var J,acD={selectedText:eventArgs.text,pageNumbers:hQ,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:K.aX};function awW(){var JT=K.lL;K.ali=true;K.lL=function(sender,args){K.lL=JT;setTimeout(function(){K.bk.trigger(PCCViewer.EventType.MarkCreated,{mark:J,pageNumber:hQ[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){J=K.ca[eventArgs.previousFirstMark.get_markID()];K.bF.remove_markRemoved(K.CE);K.bF.remove_markSelectionChanged(K.DI);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aP){var aFw=J.G.TY;var VL;if(J.getReason){VL=J.G.get_text();}var Sn;if(J.getFillColor){Sn=J.G.get_fillColor();}var TG;if(J.getColor){TG=J.G.get_lineColor();}var VC;if(J.getThickness){VC=J.G.get_lineWidth();}var Vw;if(J.getHref){Vw=J.G.get_href();}var aFc=new PCCViewer.Conversation(J);var aB=K.bF.gu(K.de.getPage(J.G.aP));aB.removeMark(J.G);for(var H=J.bI.length-1;H>=0;H--){var jX=J.bI[H];aB=K.bF.gu(K.de.getPage(jX.aP));aB.removeMark(jX);J.bI.splice(H,1);}J.G=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());J.G.aP=eventArgs.pageNumbers[0];J.aj=eventArgs.pageNumbers[0]+1;J.G.kI=true;J.G.TY=aFw;var JT=K.lL;K.lL=null;K.bF.remove_markChanged(K.mV);aB=K.bF.gu(K.de.getPage(J.G.aP));aB.addMark(J.G);if(VL){J.G.set_text(VL);}if(Sn){J.G.set_fillColor(Sn);}if(TG){J.G.set_lineColor(TG);}if(VC){J.G.set_lineWidth(VC);}if(Vw){J.G.set_href(Vw);}J.dC=new PCCViewer.Conversation(J);PCCViewer.Conversation.rn(aFc,J.dC);K.bF.add_markChanged(K.mV);K.lL=JT;}J.G.set_selected(true);J.G.set_visible(true);J.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});K.bF.add_markRemoved(K.CE);K.bF.add_markSelectionChanged(K.DI);K.oC(J,eventArgs.pageNumbers[0]);return;}var zm=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:zm='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:zm='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:zm='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:zm='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:avt(eventArgs.text);K.It[hQ[0]]='selectText';break;}var bp=PCCViewer.MouseTools.getMouseTool(K.getCurrentMouseTool());var bj=(bp&&bp.getTemplateMark)?bp.getTemplateMark():undefined;var apY=bj?bj.getType():"";if(zm){awW();K.bk.trigger(PCCViewer.EventType.TextSelected,acD);J=K.addMark(hQ[0],zm);if(K.vO){K.Ag.addMarks(J);}J.G.kI=true;J.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(apY===zm){if(bj.getFillColor){J.setFillColor(bj.getFillColor());}if(bj.getReason&& !J.oJ){J.setReason(bj.getReason());}if(bj.getReasons&&J.oJ){J.setReasons(bj.getReasons());}if(bj.getHref){J.setHref(bj.getHref());}if(bj.getColor){J.setColor(bj.getColor());}if(bj.getThickness){J.setThickness(bj.getThickness());}PCCViewer.Data.nI(bj,J);}return;}setTimeout(function(){K.bk.trigger(PCCViewer.EventType.TextSelected,acD);},0);};function aut(){var aw=K.cN,ak=document.createElement('div');ak.className='pccCopyText';aw.appendChild(ak);K.Iu=ak;};function avt(aY){var lC,aHm=aY.split('\n'),GY=document.createDocumentFragment(),Dg,kT;lC=document.createTextNode(aY);GY.appendChild(lC);IPCC.F.EB(K.Iu);K.Iu.appendChild(GY);if(document.body.createTextRange){Dg=document.body.createTextRange();Dg.moveToElementText(K.Iu);Dg.select();}else if(window.getSelection){kT=window.getSelection();Dg=document.createRange();Dg.selectNodeContents(K.Iu);kT.removeAllRanges();kT.addRange(Dg);}};this.bx=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bN.documentID,imageServicePath:this.bN.imageHandlerUrl});this.bx.set_encryption(this.bN.encryption||false);var SB=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.bx.get_pages().addPage(SB);this.de=this.bx.get_pages();this.bF=IPCC.initializePageListPlugin(element,options);aul();this.bF.get_documents().addDocument(this.bx);this.Nu=1;this.bF.add_pageDisplayed(amq);this.bF.add_pageOpenFailed(abp);this.bF.add_pageOpening(atY);this.bF.add_pageOpened(ajH);this.bF.add_textPageReady(aoN);this.bF.add_textExtractionFailed(anC);this.bF.set_conversationDOMFactory(function(G,eS,afl){var J=K.ca[G.get_markID()];if(J){return K.mu(J.getConversation(),eS,afl);}});IPCC.F.arL(element,function(Ip){if(!Ip&&IPCC.F.AN!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!K.fB){IPCC.F.AN='svg';return;}else if(K.nn){IPCC.F.AN='svg';K.bF.disposeDisplayedPages();K.bF.displayAll();}else{var mF=function(){K.bk.off(PCCViewer.EventType.PageCountReady,mF);IPCC.F.AN='svg';K.bF.disposeDisplayedPages();K.bF.displayAll();};K.bk.on(PCCViewer.EventType.PageCountReady,mF);}}});aut();this.bF.add_selectTextMouseToolCompleted(atM);this.bF.add_propertyChanged(function(pM,dA){var proprtyName=dA.ayl();if(proprtyName==="mouseTool"){setTimeout(function(){K.bk.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:K.bp.getName()});},0);}});this.bF.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&K.ca[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.ap!==undefined){K.oC(eventArgs.mark,eventArgs.pageIndex);}if(K.lL){var bm=eventArgs.mark.get_type();if(bm!==IPCC.Web.UI.MarkType.Highlight&& !(bm===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.ap!==undefined)){K.lL(sender,eventArgs);}}});this.bF.add_markCreating(function(sender,eventArgs){if(K.FG){K.FG(sender,eventArgs);}});this.bF.Nm(function(sender,eventArgs){var FJ=0;var zn=0;var afA=0;var uJ=0;var uS=0;var RS=0;var arb=K.bp.getName().toLowerCase(),apV=K.bp.getType();if(apV===PCCViewer.MouseTool.Type.PlaceSignature){var bp=K.bp;var bj=bp.getTemplateMark(),kS=bj.getSignature(),acU=bj.getRectangle(),J,h={};if(!kS){return;}K.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var vQ;if(attributes.width>0){zn=acU.width||(attributes.width/5);}if(kS.path&&kS.path.length>0){vQ=IPCC.F.abc(kS.path);h={x:0,y:0,width:vQ.width,height:vQ.height};J=K.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);J.setPath(kS.path);J.setThickness(kS.thickness||4);}if(kS.text&&kS.text.length){vQ=IPCC.F.uZ(kS.text,kS.fontName);J=K.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);h={x:0,y:0,width:vQ.width,height:vQ.height};J.setText(kS.text);J.setFontName(kS.fontName);}afA=(h.width/zn);FJ=acU.height||(h.height/afA);uJ=(eventArgs.imagePoint.x-(zn/2));uS=(eventArgs.imagePoint.y-(FJ/2));if(uJ<=0){uJ=0;}if(uS<=0){uS=0;}if((uJ+zn)>=attributes.width){RS=(uJ+zn)-attributes.width;uJ=uJ-RS;}if((uS+FJ)>=attributes.height){RS=(uS+FJ)-attributes.height;uS=uS-RS;}h={x:uJ,y:uS,width:zn,height:FJ};J.setRectangle({x:uJ,y:uS,width:zn,height:FJ});PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());});K.setCurrentMouseTool(arb);}});function MouseEvent(bS){var K=this;for(var i in bS){if(i){K[i]=bS[i];}}};this.bF.Nt(function(sender,eventArgs){var aX=null,fV=null,J=null,gg=null,xR=false,NH=eventArgs.upTarget.type,MU=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){MU=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){xR=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&MU===false){K.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){gg=K.aGv(eventArgs.upMark);xR=gg!==null;NH="documentHyperlink";}else{J=K.ca[eventArgs.upMark.get_markID()];if(J===undefined){for(var hZ in K.ca){if(K.ca.hasOwnProperty(hZ)){if(K.ca[hZ].G.ap===eventArgs.upMark.ap&&K.ca[hZ].G.ap===eventArgs.downMark.ap){J=K.ca[hZ];eventArgs.pageIndex=J.aj-1;xR=true;var aqR=K.getCurrentMouseTool();var aqZ=PCCViewer.MouseTools.getMouseTool(aqR);var ahI=aqZ.getType();if(MU===false&&eventArgs.domEvent.button===0){if(ahI===PCCViewer.MouseTool.Type.PanAndEdit||ahI===PCCViewer.MouseTool.Type.EditMarks){K.deselectAllMarks();J.G.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.jW()===eventArgs.upMark.jW()){xR=true;if(MU===false&&eventArgs.downTarget.alreadySelected===false){K.deselectAllMarks();J.G.set_selected(true);}}if(J===undefined){if(K.aF&&K.It[eventArgs.upTarget.pageIndex+1]==='search'){var fi=K.aF.getResults();for(var H=0;H<fi.length;H++){if(fi[H].aj===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.am!=='undefined'&&typeof eventArgs.upMark.am!=='undefined'&&typeof eventArgs.downMark.dp!=='undefined'&&typeof eventArgs.upMark.dp!=='undefined'&&eventArgs.downMark.am>=fi[H].getStartIndexInPage()&&eventArgs.downMark.am+eventArgs.downMark.dp<=fi[H].getStartIndexInPage()+fi[H].getText().length&&eventArgs.upMark.am>=fi[H].getStartIndexInPage()&&eventArgs.upMark.am+eventArgs.upMark.dp<=fi[H].getStartIndexInPage()+fi[H].getText().length){NH='searchResult';fV=fi[H];eventArgs.upTarget.pageIndex=fV.aj-1;xR=true;break;}}}}if(xR===false&&J===undefined&&K.It[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.am!=='undefined'&&typeof eventArgs.upMark.am!=='undefined'&&eventArgs.downMark.am>=K.aX.startIndex&&eventArgs.downMark.am+eventArgs.downMark.dp<=K.aX.startIndex+K.aX.length&&eventArgs.upMark.am>=K.aX.startIndex&&eventArgs.upMark.am+eventArgs.upMark.dp<=K.aX.startIndex+K.aX.length){NH='textSelection';aX=K.aX;xR=true;}}}var YF=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var auU=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var T={pageNumber:auU,targetType:NH,textSelection:aX,searchResult:fV,mark:J,originalEvent:YF,hyperlink:gg,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(xR===true){K.bk.trigger('Click',T);}},0);});(function(){var Ah=null;K.bF.MF(function(sender,eventArgs){var YF=new MouseEvent(eventArgs.domEvent);var T={originalEvent:YF,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(Ah!==null){T.mark=K.ca[Ah];Ah=null;setTimeout(function(){K.bk.trigger('MarkMouseLeave',T);},0);}}else{T.mark=K.ca[eventArgs.mark.get_markID()];if(T.mark===undefined){for(var hZ in K.ca){if(K.ca.hasOwnProperty(hZ)){if(K.ca[hZ].G.ap===eventArgs.mark.ap){T.mark=K.ca[hZ];break;}}}}if(!T.mark){return;}setTimeout(function(){if(Ah!==T.mark.getId()){if(Ah!==null){K.bk.trigger('MarkMouseLeave',IPCC.F.extend({},T,{mark:K.ca[Ah]}));}Ah=T.mark.getId();K.bk.trigger('MarkMouseEnter',T);}K.bk.trigger('MarkMouseOver',T);},0);}});})();this.bF.add_hyperlinkPageReady(function(sender,eventArgs){if(K.Dr[eventArgs.pageIndex]!==undefined){return;}var aP=eventArgs.pageIndex,bb=K.de.getPage(aP),GE=bb.get_hyperlinkPage().JI(),xT=K.Dr[aP]=[];GE.ki(function(Ax){xT.push(new PCCViewer.DocumentHyperlink({aj:aP+1,Ax:Ax}));});if(!K.Ey[aP]){K.Ey[aP]=new PCCViewer.Deferred();}K.Ey[aP].resolve(xT);});this.oC=function(J,hl){var SA=false;function SS(){var kO=false;var dj=K.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()===hl){kO=true;break;}}return kO;};function QK(gP){if(K.bF){K.bF.cV(gP);}};if(SS()){if(Array.prototype.indexOf){if(IPCC.Web.kV(K.Cj,hl)>=0){SA=true;}}else{if(IPCC.Web.kV(K.Cj,hl)>=0){SA=true;}}if(!SA){K.Cj.push(hl);setTimeout(function(){var cB=K.Cj.length;if(cB>0){for(var H=0;H<cB;H++){QK(K.Cj[H]);}K.Cj.splice(0,cB);}},10);}}};var Hl={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.bN.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.bN.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var LQ={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.mV=function(aN,T){var J=K.ca[T.mark.get_markID()];var bn;if(J){bn=J.bn;}if(bn&&Hl[bn]&&Hl[bn][T.propertyName]===false){return;}var cU;if(bn){cU=Hl[bn]&&Hl[bn][T.propertyName]?Hl[bn][T.propertyName]:LQ[T.propertyName]?LQ[T.propertyName]:T.propertyName;}else{cU=LQ[T.propertyName]?LQ[T.propertyName]:T.propertyName;}if(T.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||T.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||T.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||T.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||T.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||T.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(T.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&T.mark.ap!==undefined)){if(J){setTimeout(function(){K.bk.trigger('MarkChanged',{mark:J,pageNumber:T.pageIndex+1,propertyName:cU});},0);}else{for(var hZ in K.ca){if(K.ca.hasOwnProperty(hZ)){J=K.ca[hZ];if(J.ap===T.mark.ap){break;}}}}K.oC(J,T.pageIndex);}else if(J&&T.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&cU==='points'){if(J.Zp){clearTimeout(J.Zp);}J.Zp=setTimeout(function(){J.Zp=undefined;K.oC(J,T.pageIndex);K.bk.trigger('MarkChanged',{mark:J,pageNumber:T.pageIndex+1,propertyName:cU});},1);}else if(J){K.oC(J,T.pageIndex);setTimeout(function(){K.bk.trigger('MarkChanged',{mark:J,pageNumber:T.pageIndex+1,propertyName:cU});},0);}if(J&&J.type===PCCViewer.Mark.Type.TextRedaction){J.G.set_opacity(0);}if(J&&(J.bn===PCCViewer.Mark.Type.TextInputSignature||J.bn===PCCViewer.Mark.Type.TextAreaSignature)){J.G.set_lineVisible(false);}};this.bF.add_markChanged(K.mV);this.bF.add_markReordered(function(sender,eventArgs){var J=K.ca[eventArgs.mark.get_markID()];setTimeout(function(){K.bk.trigger('MarkReordered',{mark:J,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.DI=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var J;for(var Nr in K.ca){if(K.ca.hasOwnProperty(Nr)){J=K.ca[Nr];if(J.G.ap===eventArgs.mark.ap){J.G.set_selected(eventArgs.mark.get_selected());K.oC(J.G,J.G.aP);for(var H=0;H<J.bI.length;H++){J.bI[H].set_selected(eventArgs.mark.get_selected());K.oC(J.bI[H],J.bI[H].aP);}}}}}setTimeout(function(){K.bk.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.bF.add_markSelectionChanged(K.DI);this.bF.add_markTextSelectionChanged(function(sender,eventArgs){K.oC(eventArgs.mark,eventArgs.pageIndex);});this.CE=function(sender,eventArgs){var J;if(eventArgs.mark){J=K.ca[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&J===undefined&&eventArgs.mark.ap!==undefined){K.oC(eventArgs.mark,eventArgs.pageIndex);}else if(J){setTimeout(function(){K.bk.trigger(PCCViewer.EventType.MarkRemoved,{mark:J,pageNumber:eventArgs.pageIndex});},0);}}};this.bF.add_markRemoved(K.CE);this.bF.add_commentAdding(function(sender,eventArgs){var J=K.ca[eventArgs.mark.get_markID()];if(eventArgs.comment.HX.iX===undefined){eventArgs.comment.HX.iX=K.getActiveMarkupLayer();}});this.bF.add_commentAdded(function(sender,eventArgs){var J=K.ca[eventArgs.mark.get_markID()];K.bk.trigger(PCCViewer.EventType.CommentCreated,{conversation:J.getConversation(),comment:eventArgs.comment.HX});});this.bF.add_commentRemoved(function(sender,eventArgs){var J=K.ca[eventArgs.mark.get_markID()];K.bk.trigger(PCCViewer.EventType.CommentRemoved,{conversation:J.getConversation(),comment:eventArgs.comment.HX});});this.bF.add_commentChanged(function(sender,eventArgs){var J=K.ca[eventArgs.mark.get_markID()];K.bk.trigger(PCCViewer.EventType.CommentChanged,{conversation:J.getConversation(),comment:eventArgs.comment.HX});});this.bF.add_scaleChanged(function(sender,eventArgs){var fC;switch(eventArgs.fitType){case 0:fC=PCCViewer.FitType.FullWidth;break;case 1:fC=PCCViewer.FitType.ShrinkToWidth;break;case 2:fC=PCCViewer.FitType.ActualSize;break;case 3:fC=PCCViewer.FitType.FullHeight;break;case 4:fC=PCCViewer.FitType.FullPage;break;default:break;}K.bk.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:fC,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.fv;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.bF)?(this.bF.ahO().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var aj;if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aj=Number(pageNumber);}}if(parseInt(aj,10)!==aj){throw new Error("The 'pageNumber' value "+aj+" is not an integer page number.");}if(aj<1||aj>this.getPageCount()|| !isFinite(aj)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aj){return this;}if(this.bF){this.bF.scrollToPage(aj-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.bF){if(this.CO||this.nn){this.bF.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.bF){if(this.CO||this.nn){this.bF.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.bF){if(this.CO||this.nn){this.bF.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.bF){if(this.CO||this.nn){this.bF.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.fB){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var K=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){K.bF.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{K.bF.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.fB){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.he){this.he.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.he=null;this.jK=null;}var K=this;var Kb=function(){K.bF.scrollConversationIntoView(target.getMark().G.get_conversation());if(K.he){K.he.resolve();}K.he=null;K.jK=null;};var wv=function(ev){if(ev.target.wJ===target){K.bk.off(PCCViewer.EventType.CommentCreated,wv);K.wJ=null;K.scrollTo(target);}else if(ev.target.wJ===null){K.bk.off(PCCViewer.EventType.CommentCreated,wv);}if(K.he){K.he.resolve();}K.he=null;K.jK=null;};var Kz=function(aj,gd){K.bF.prefetchPages();K.bF.scrollRegionIntoView(aj-1,gd);if(K.he){K.he.resolve();}K.he=null;K.jK=null;};aiv(K,target,wv,Kb,Kz);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.he){this.he.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.he=null;this.jK=null;}var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this;K.he=aC;try{var Kb=function(){K.bF.scrollConversationIntoView(target.getMark().G.get_conversation());if(K.he){K.he.resolve();}K.he=null;K.jK=null;};var wv=function(ev){if(ev.target.wJ===target){K.bk.off(PCCViewer.EventType.CommentCreated,wv);K.wJ=null;K.scrollTo(target);}else if(ev.target.wJ===null){K.bk.off(PCCViewer.EventType.CommentCreated,wv);}if(K.he){K.he.resolve();}K.he=null;K.jK=null;};var Kz=function(aj,gd){K.bF.prefetchPages();K.bF.scrollRegionIntoView(aj-1,gd);if(K.he){K.he.resolve();}K.he=null;K.jK=null;};if(aiv(K,target,wv,Kb,Kz)===true){aC.resolve();}}catch(e){K.he=null;K.jK=null;aC.reject(new PCCViewer.Error("Error",e));}return cK;};function aiv(cv,cs,wv,Kb,Kz){var gd,aj,aH;cv.wJ=null;if(cs instanceof PCCViewer.Conversation){if(cv.ca[cs.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aem=cv.bF.scrollConversationIntoView(cs.getMark().G.get_conversation());if(aem==="PageOutOfView"){cv.jK=Kb;cv.setPageNumber(cs.getMark().getPageNumber());return false;}else if(aem==="ConversationDivDoesNotExist"&&cs.getMark().G.get_conversation().get_length()>0){cv.wJ=cs;cv.bk.on(PCCViewer.EventType.CommentCreated,wv);return false;}else{cv.jK=null;return true;}}else if(cs instanceof PCCViewer.SearchResult){if(cs.YE!==cv.bx.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}aH=cs.getBoundingRectangle();gd=new IPCC.Web.UI.Rectangle(aH.x,aH.y,aH.width,aH.height);aj=cs.getPageNumber();}else if(cs instanceof PCCViewer.Mark){if(cv.ca[cs.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}aH=cs.getBoundingRectangle();gd=new IPCC.Web.UI.Rectangle(aH.x,aH.y,aH.width,aH.height);aj=cs.getPageNumber();}else if(cs!==undefined&&cs!==null){if(typeof cs.x==='number'&&typeof cs.y==='number'){gd=new IPCC.Web.UI.Rectangle(+cs.x,+cs.y,0,0);}else{if(isNaN(+cs.x)||isNaN(+cs.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gd=new IPCC.Web.UI.Rectangle(Number(+cs.x),Number(+cs.y),0,0);}}if(cs.width){if(typeof cs.width==='number'){gd.width=cs.width;}else{if(isNaN(+cs.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gd.width=Number(+cs.width);}}}if(cs.height){if(typeof cs.height==='number'){gd.height=cs.height;}else{if(isNaN(+cs.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gd.height=Number(+cs.height);}}}if(typeof cs.pageNumber==='number'){aj= +cs.pageNumber;}else{if(isNaN(+cs.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aj=Number(+cs.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aj<1||aj>cv.getPageCount()|| !isFinite(aj)){throw new RangeError("The parameter pageNumber is out of range.");}if(cv.bF.scrollRegionIntoView(aj-1,gd)===false){cv.jK=function(){Kz(aj,gd);};cv.setPageNumber(aj);return false;}else{cv.jK=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.fB){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(AR(this.getPageNumber()-1,this)===false){this.bF.cV(this.getPageNumber()-1);}var hX=degreesClockwise%360,K=this;if(hX!==0){var xZ=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hX||xZ.indexOf(hX)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hX||IPCC.Web.kV(xZ,hX)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bF.rotate(hX);}setTimeout(function(){K.bk.trigger("PageRotated",{degreesClockwise:hX,pageNumber:(K.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.fB){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(AR(this.getPageNumber()-1,this)===false){this.bF.cV(this.getPageNumber()-1);}var hX=degreesClockwise%360,K=this;if(hX!==0){var xZ=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!hX||xZ.indexOf(hX)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!hX||IPCC.Web.kV(xZ,hX)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.bF.abZ(hX);}setTimeout(function(){K.bk.trigger("DocumentRotated",{degreesClockwise:hX});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.wj){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.bF.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.wj){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.bF.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.wj){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.bF.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.wj){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.bF.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.wj){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bF){this.bF.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.wj){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.bF){this.bF.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var mx;if(this.bF&&this.bF.get_viewMode){mx=this.bF.get_viewMode();}else{mx=this.bN.viewMode;}if(mx===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(mx===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(mx===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var mx;switch(viewMode){case PCCViewer.ViewMode.Document:mx=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:mx=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:mx=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:mx=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.bF&&this.bF.set_viewMode){var IV=this.bF.get_viewMode();if(IV!==mx){if(IV===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(mx===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.bF.set_viewMode(mx);}}else{this.bN.viewMode=mx;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var wI;if(this.bF&&this.bF.get_pageLayout){wI=this.bF.get_pageLayout();}else{wI=this.bN.pageLayout;}if(wI===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var wI;if(this.bN.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:wI=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.bF&&this.bF.closeCommentsPanel){this.bF.closeCommentsPanel();var K=this;setTimeout(function(){K.bk.trigger("CommentsPanelToggled",{isOpen:false});},10);}wI=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.bF&&this.bF.set_pageLayout){this.bF.set_pageLayout(wI);}else{this.bN.pageLayout=wI;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.wj){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.bF.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.wj){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.bF.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.wj){throw "The fitContent method cannot be called before the initial PageOpening event.";}var DF;switch(fitType){case PCCViewer.FitType.FullWidth:DF=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:DF=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}DF=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:DF=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:DF=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.ri.then(function(pM){pM.fitPages(DF);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.fB){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aj;if(arguments.length>0){if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aj=Number(pageNumber);}}if(parseInt(aj,10)!==aj){throw new Error("The 'pageNumber' value "+aj+" is not an integer page number.");}if(aj<1||aj>this.getPageCount()|| !isFinite(aj)){throw new Error("The parameter pageNumber is out of range.");}return this.bF.aaj(aj-1);}else{return this.bF.aaj();}};SingleSessionViewerControl.prototype.search=function(cZ){var bN=this.bN;var aAM=bN.searchMethodType.toLowerCase();var aoL=bN.searchMethodPageCountThreshold;var K=this;var VP;var ic;var FA=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(FA,{"searchQuery":{enumerable:true,get:function(){return ic.getSearchQuery();}},"results":{enumerable:true,get:function(){return ic.getResults();}},"isComplete":{enumerable:true,get:function(){return ic.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return ic.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return ic.getErrorMessage();}}});}function Kg(bh){return function(){FA.trigger.apply(FA,[bh].concat([].slice.call(arguments)));};};var aag=Kg(PCCViewer.EventType.SearchCompleted);var abJ=Kg(PCCViewer.EventType.SearchCancelled);var abg=Kg(PCCViewer.EventType.SearchResultsAvailable);var abD=Kg(PCCViewer.EventType.PartialSearchResultsAvailable);var aaM=function(bS){var fl=VP.getErrorCode();if(fl==='ServerSearchUnavailable'){K.afY=true;K.zO=false;aCu();ic=K.clientSearch(cZ);akt();}else{Kg(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var akt=function(){ic.on(PCCViewer.EventType.SearchCompleted,aag);ic.on(PCCViewer.EventType.SearchFailed,aaM);ic.on(PCCViewer.EventType.SearchCancelled,abJ);ic.on(PCCViewer.EventType.SearchResultsAvailable,abg);ic.on(PCCViewer.EventType.PartialSearchResultsAvailable,abD);};var aCu=function(){ic.off(PCCViewer.EventType.SearchCompleted,aag);ic.off(PCCViewer.EventType.SearchFailed,aaM);ic.off(PCCViewer.EventType.SearchCancelled,abJ);ic.off(PCCViewer.EventType.SearchResultsAvailable,abg);ic.off(PCCViewer.EventType.PartialSearchResultsAvailable,abD);};var FE=function(){if(K.afY===false){VP=K.serverSearch(cZ);ic=VP;akt();IPCC.F.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(bh){FA[bh]=function(){return ic[bh].apply(ic,arguments);};});return FA;}else{return K.clientSearch(cZ);}};switch(aAM){case('auto'):if(aoL>=this.fv){return this.clientSearch(cZ);}else{return FE();}break;case('client'):return this.clientSearch(cZ);case('server'):return FE();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.aeB=function(cZ,aCR){var K=this;var cw=new PCCViewer._Search();this.aF=cw.ayH();PCCViewer.SearchTask.prototype.afx(cZ);if(aCR===true){if(K.vu!==true){K.ri.then(function(pM){var Kt=function(){K.bk.off('PageCountReady',Kt);K.clientSearch(cZ);};K.bk.on('PageCountReady',Kt);return K.aF;});}if(!this.bx.ayQ()){this.bx.Pz(0,this.bx.fv-1,this.bx.fv);}}this.yh=null;this.Gy={};this.bF.clearAllSelectedText();return cw;};SingleSessionViewerControl.prototype.ahw=function(){var bA=this;this.aF.on('PartialSearchResultsAvailable',function(dA){if(bA.pE){return;}var Jr=[];var PA={};Jr=dA.partialSearchResults;var aa=Jr[0];if(bA.Gy[aa.getPageNumber()]!==undefined){PA=bA.Gy[aa.getPageNumber()];}else{PA.am=aa.getId();}aa=Jr[Jr.length-1];PA.ct=aa.getId();bA.Gy[aa.getPageNumber()]=PA;function CW(bb){if(bA.pE){return;}bA.ahh(bb.get_pageNumber(),Jr);};var dj=bA.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()+1===aa.getPageNumber()){bA.requestPageText(bb.get_pageNumber()+1).then(CW.bind(null,bb));}}});this.aF.on('SearchCompleted',function(dA){bA.zO=false;});this.aF.on('SearchCancelled',function(dA){bA.zO=false;});this.bk.trigger('SearchPerformed',{searchRequest:this.aF});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var bA=this;var cw=bA.aeB(searchQuery,true);searchQuery=cw.St(searchQuery);if(this.zO===false){bA.bF.set_retainPageText(true);this.aF=cw.uw(searchQuery,this.bx);this.zO=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bA.ahw();return this.aF;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var bA=this;var cw=bA.aeB(searchQuery,false);searchQuery=cw.St(searchQuery);if(this.zO===false){this.aF=cw.FE(searchQuery,this.bx);this.zO=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bA.ahw();return this.aF;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.aF;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.fB){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var K=this;if(this.getSelectedSearchResult()){this.yh=null;setTimeout(function(){K.bk.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.bF.clearAllSelectedText();this.aF=null;setTimeout(function(){K.bk.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(cZ){var eV={errorsExist:false};var searchTermObj,acH,H,aU,UE,Sf,QN;if(typeof cZ!=='object'&&typeof cZ!=='string'){eV.errorsExist=true;eV.summaryMsg="Search query must be either an object or string.";return eV;}if(typeof cZ==='string'&&cZ.length<0){eV.errorsExist=true;eV.summaryMsg="Search term must contain at least 3 characters.";return eV;}else if(typeof cZ==='string'){return eV;}if(!cZ.hasOwnProperty('searchTerms')){eV.errorsExist=true;eV.summaryMsg="Search options must have a 'searchTerms' key.";return eV;}if(Object.prototype.toString.call(cZ.searchTerms)!=='[object Array]'){eV.errorsExist=true;eV.summaryMsg="Search terms value must be an array.";return eV;}if(!cZ.searchTerms.length){eV.errorsExist=true;eV.summaryMsg="Search terms array must contain at least one value.";return eV;}eV.searchTerms=[];IPCC.F.forEach(cZ.searchTerms,function(searchTermObj){var Kc=ajY(searchTermObj);if(Kc.errorsExist){eV.errorsExist=true;}eV.searchTerms=eV.searchTerms.concat(Kc.searchTerms);});return eV;};function ajY(lv){var eV={errorsExist:false,searchTerms:[]};var aze=lv.type?IPCC.F.trim(lv.type).toLowerCase():undefined;if(aze==='proximity'){if(Object.prototype.toString.call(lv.terms)!=='[object Array]'){eV.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});eV.errorsExist=true;return eV;}if(lv.terms.length<2){eV.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});eV.errorsExist=true;return eV;}if(!lv.distance){eV.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});eV.errorsExist=true;return eV;}IPCC.F.forEach(lv.terms,function(aEu){var Kc=ajY(aEu);if(Kc.errorsExist){eV.errorsExist=true;}eV.searchTerms=eV.searchTerms.concat(Kc.searchTerms);});return eV;}var UE,QN;var Sf=(typeof lv.matchingOptions!=='undefined'&&lv.matchingOptions.hasOwnProperty('matchCase'))?lv.matchingOptions.matchCase:false;if(typeof lv.searchTerm==='undefined'||typeof lv.searchTerm!=='string'||(lv.searchTermIsRegex===true&& !azQ(lv.searchTerm,Sf))){eV.errorsExist=true;eV.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return eV;}UE=(typeof lv.matchingOptions!=='undefined'&&lv.matchingOptions.hasOwnProperty('exactPhrase'))?lv.matchingOptions.exactPhrase:false;if(UE){if(lv.searchTerm.length<0){eV.errorsExist=true;eV.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return eV;}}else{var acH=lv.searchTerm.split(' ');IPCC.F.forEach(acH,function(QN){if(QN.length>0&&QN.length<0){eV.errorsExist=true;eV.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!eV.searchTerms.length){eV.searchTerms.push({isValid:true,message:null});}return eV;};var azQ=function(Ya,Sf){var arY,WK,LM;if(Sf){WK='gm';}else{WK='igm';}if(!Ya&&Ya!==null){LM=false;}else{try{arY=new RegExp(Ya,WK);LM=true;}catch(err){LM=false;}}return LM;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.iW=new PCCViewer.Il({imageHandlerUrl:this.bN.imageHandlerUrl,documentID:this.bN.documentID});return this.iW.aCp();};SingleSessionViewerControl.prototype.gM=function(Xr){var Ap=false,dj=this.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()===Xr){Ap=true;}}return Ap;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var af;if(!(/^[\x00-\x7F]*$/.test(this.bx))){af=this.bN.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bN.documentID+'/SourceFile';}else{af=this.bN.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bN.documentID);}return af;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aj;var aC=PCCViewer.Deferred();var cK=aC.getPromise();var cv=this;try{if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aj=parseInt(pageNumber,10);}}if(aj<1||aj>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var YU=this.Ey[aj-1];if(!YU){YU=this.Ey[aj-1]=new PCCViewer.Deferred();this.ri.then(function(){var bb=cv.de.getPage(aj-1);bb.xy();});}aC.resolve(YU.getPromise());}catch(e){aC.reject(new PCCViewer.Error('Error',e));}return cK;};SingleSessionViewerControl.prototype.aGv=function(azn){var i,j,xT;for(j=0;j<this.Dr.length;j++){xT=this.Dr[j];if(xT){for(i=0;i<xT.length;i++){if(xT[i].Ax.Qb()===azn){return xT[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.fB===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var K=this;var fv=K.getPageCount();var eb;if(typeof values==='string'){try{eb=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{eb=values;}if(eb.constructor!==Array){eb=[eb];}function QT(eL,aK){throw new Error('Cannot serialize mark (at index '+aK+') because of '+eL);};var ZL=IPCC.F.map(K.getAllMarks(),function(J){return J.getUid();});IPCC.F.forEach(eb,function validateObject(bP,aK){if(!bP.pageNumber||isNaN(+bP.pageNumber)||bP.pageNumber<1||bP.pageNumber>fv){QT('unknown page number '+bP.pageNumber,aK);}if(!PCCViewer.Mark.Type[bP.type]){QT('unknown type '+bP.type,aK);}if(bP.type==='RectangleRedaction'||bP.type==='TextSelectionRedaction'){if(!K.bN.enableMultipleRedactionReasons&&bP.hasOwnProperty('reasons')){QT('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',aK);}}if(IPCC.F.contains(ZL,bP.uid)){QT('uid '+bP.uid+' is being duplicated or already exists',aK);}else if(bP.uid!==undefined){ZL.push(bP.uid);}});if(eb.length===0){return[];}var dM=K.bx.get_pages();var anE=[];dM.ki(function(bb){anE.push(K.bF.gu(bb));});var bD=IPCC.F.reduce(eb,function(aa,bP){var bb=dM.hM(bP.pageNumber-1);var WS=bb.get_pageWidth();var ahb=bb.get_pageHeight();var hy=bP.pageData;if(!hy&&(!WS|| !ahb)){var aAK=IPCC.F.find(bP.lineGroups,function(agU){return(agU.pageNumber&&agU.pageNumber===bP.pageNumber);});hy=aAK.pageData;}var bw=WS||hy.width;var aV=ahb||hy.height;var J=dE[bP.type].call(K,bP,{bw:bw,aV:aV});if(bP.uid===undefined){ZL.push(J.getUid());}if(!WS&&bP.maintainMarkScaling!==true){bb.AX=true;bb.aeU(bw);bb.aer(aV);}if(!J.G.has_unsafe_href()){aa.push(J);}else{K.deleteMarks(J);}return aa;},[]);return bD;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this,bD,aAL=false;function aio(eL){setTimeout(function(){aC.reject(eL);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bD=marks;}else if(marks){bD=[marks];aAL=true;}else{aio(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return cK;}var Lt;bD=IPCC.F.filter(bD,function(kR,aK){var Is=kR instanceof PCCViewer.Mark&&kR===K.getMarkById(kR.getId())&& ! !ef[kR.getType()];if(!Is&& !Lt){Lt=aK;}return Is;});if(Lt){aio(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+Lt+' because it is not a valid mark or a mark known to ViewerControl'));return cK;}var Qt=K.bx.get_pages();var dM=IPCC.F.reduce(bD,function(fG,kR){var aj=kR.getPageNumber();if(fG[aj]){return fG;}fG[aj]=Qt.getPage(aj-1);return fG;},{});function asj(J,bb,aqW){return function(nx){ef[J.getType()]({mark:J,page:bb,vc:K},function(bY,dI){if(!bY){aqW(dI);nx();}else{aC.reject(bY);}});};};var sp=[];var aFf=IPCC.F.map(bD,function(kR,aK){return asj(kR,dM[kR.getPageNumber()],function(dI){sp[aK]=dI;});});IPCC.F.Wq(aFf,function(){aC.resolve(sp);});return cK;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Pb,Zn;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Pb=true;Zn=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Pb=false;Zn=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.bF&&this.bF.set_redactionDraftMode){var aqp=this.bF.get_redactionDraftMode();if(aqp!==Pb){this.bF.set_redactionDraftMode(Pb);}}else{this.bN.redactionViewMode=Zn;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var akS;if(this.bF&&this.bF.get_redactionDraftMode){akS=this.bF.get_redactionDraftMode();if(akS===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bN.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var K=this;var fV=searchResult;if(this.fB===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.TextSelectionRedaction);};var aGd=function(aB,ga,lK,ei,oR,amZ){var eI=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eI.ap=oR;eI.aP=amZ;var J=null;var kt={gh:Number.MAX_VALUE,iU:0,_top:Number.MAX_VALUE,iS:0};for(var aU=lK;aU<ei;aU++){var eZ=ga.kQ(aU);if(J){var yT=J.get_rectangle();if(Math.abs(eZ.bq.y-yT.y)<1&&Math.abs(eZ.bq.height-yT.height)<1&&eZ.bq.x+eZ.bq.width>=yT.x+yT.width){J.set_rectangle(new IPCC.Web.UI.Rectangle(yT.x,yT.y,eZ.bq.x+eZ.bq.width-yT.x,yT.height));}else{agG(aB,eI,J,kt);J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);J.set_rectangle(eZ.bq);J.jL(true);J.set_fillColor('#000000');J.set_text(eI.aY);J.set_lineWidth(0);J.ap=oR;}}else{J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);J.set_rectangle(eZ.bq);J.jL(true);J.set_fillColor('#000000');J.set_text(eI.aY);J.set_lineWidth(0);J.ap=oR;}J.aP=amZ;}if(J!==null){agG(aB,eI,J,kt);}eI.set_rectangle(new IPCC.Web.UI.Rectangle(kt.gh,kt._top,kt.iU-kt.gh,kt.iS-kt._top));return eI;};var agG=function(aB,eI,J,kt){var h=J.get_rectangle();if(h.x<kt.gh){kt.gh=h.x;}if(h.y<kt._top){kt._top=h.y;}if(h.x+h.width>kt.iU){kt.iU=h.x+h.width;}if(h.y+h.height>kt.iS){kt.iS=h.y+h.height;}aB.addMark(J);eI.al.push(J);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var fV=searchResult;if(this.fB===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.HighlightAnnotation);};var aFC=function(bm,aa,aBV,oR){var J=new IPCC.Web.UI.Mark(bm);if(bm===IPCC.Web.UI.MarkType.HighlightText){J.cq=aa.getText();}J.am=aBV;J.set_rectangle({x:0,y:0,width:0,height:0});J.dp=aa.getText().length;J.aGR=aa.getStartIndexInPage()+aa.getText().length;J.cY=127;J.fF=aa.getHighlightColor();J.ka='y';J.ap=oR;return J;};SingleSessionViewerControl.prototype.ahh=function(aP,fi){var aa={};for(var aU=0;aU<fi.length;aU++){aa=fi[aU];this.bF.selectText(aa.getPageNumber()-1,aa.getStartIndexInPage(),aa.getText().length,aa.getHighlightColor());}this.bF.display(aa.getPageNumber()-1);this.It[aa.getPageNumber()]='search';};SingleSessionViewerControl.prototype.Uw=function(aP,searchResult){var aa={};if(this.aF===null||typeof this.aF.getResults!=='function'){return;}var fi=this.aF.getResults();this.bF.clearSelectedText(aP-1);var aay=this.Gy[aP];if(!aay){return;}for(var aU=aay.am;aU<aay.ct+1;aU++){aa=fi[aU];if(aa.getPageNumber()===aP){this.bF.selectText(aa.getPageNumber()-1,aa.getStartIndexInPage(),aa.getText().length,aa.getHighlightColor());if(searchResult===aa.getId()){this.bF.selectText(aa.getPageNumber()-1,aa.getStartIndexInPage(),aa.getText().length,aa.getHighlightColor());}}}this.bF.display(aa.getPageNumber()-1);this.It[aa.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.fB){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.GO= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.aF){throw "There is no current SearchRequest object available.";}var aaD=this.aF.getResults();if(aaD[searchResult.getId()].mT!==searchResult.mT){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aaD=null;this.GO=searchResult.getId();if(scrollTo){var aH=searchResult.getBoundingRectangle();var gd=new IPCC.Web.UI.Rectangle(aH.x,aH.y,aH.width,aH.height);if(this.bF.scrollRegionIntoView(searchResult.getPageNumber()-1,gd)===false){this.jK=function(){K.bF.scrollRegionIntoView(searchResult.getPageNumber()-1,gd);};this.setPageNumber(searchResult.getPageNumber());}else{this.jK=null;}}}var K=this;var atG=searchResult!==null?searchResult.getPageNumber(): -1;if(this.yh&&this.yh.getPageNumber()!==atG){K.requestPageText(K.yh.getPageNumber()).then(function CW(){K.Uw(K.yh.getPageNumber(),K.GO);});}if(searchResult){K.requestPageText(searchResult.getPageNumber()).then(function CW(){K.Uw(searchResult.getPageNumber(),K.GO);});}this.yh=searchResult;setTimeout(function(){K.bk.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.fB){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.yh;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var aj;var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this;try{if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aj=parseInt(pageNumber,10);}}if(aj<1||aj>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.ri.then(function(pM){var bb=K.de.getPage(aj-1);var fL=bb.cn();fL.afd(true);if(fL&&fL.yQ()){if(fL.oj()===true){var aY=bb.cn().BD();aC.resolve(aY);}else{aC.resolve("");}}else{var Gb=function(aN,cC){if(cC.containsText===true){var aY=fL.BD();aC.resolve(aY);}else{aC.resolve("");}bb.Ei(Gb);bb.Eb(Fa);};var Fa=function(aN,cC){if(cC.exception&&cC.exception.message){aC.reject(new PCCViewer.Error("TextExtractionFailed",cC.exception.message));}else{aC.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}bb.Ei(Gb);bb.Eb(Fa);};bb.zd(Gb);bb.yg(Fa);bb.xy();}});}catch(e){aC.reject(new PCCViewer.Error("Error",e));}return cK;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var aj;var K=this;if(!this.fB){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(K.bF.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aj=parseInt(pageNumber,10);}}if(aj<1||aj>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var dj=K.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var ahD=dj.getPage(H);if(ahD.get_pageNumber()===aj-1){ahD.cn().afd(false);return this;}}var bb=K.de.getPage(aj-1);bb.agt();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bi.mD(pageNumber,"pageNumber",1,this.getPageCount());var bb;return(this.bF&&this.de&&(bb=this.de.getPage(pageNumber-1))&&bb.cn()&&bb.cn().yQ())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.aDj;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var aj;var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this;try{if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aj=parseInt(pageNumber,10);}}if(aj<1||aj>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.ri.then(function(pM){var bb=K.de.getPage(aj-1);if(bb.kg()>0||bb.jn()>0){aC.resolve({'width':bb.kg(),'height':bb.jn()});}else{var xi=function(bQ,aD){aC.resolve({'width':bQ,'height':aD});};var yi=function(errorMessage){aC.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};pM.requestPageAttributes(bb,xi,yi);}});}catch(e){aC.reject(new PCCViewer.Error("Error",e));}return cK;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.pE){this.Dr=undefined;this.Ey=undefined;this.Ag=undefined;this.lN=undefined;this.iW=undefined;this.ix=undefined;if(this.bF&&typeof this.bF.dispose==="function"){this.bF.dispose();}this.af="";this.fv=0;delete this.bF;this.bx=undefined;this.Nu=0;this.de=undefined;this.afQ=false;if(this.fz){IPCC.F.EB(this.fz);this.fz=this.cN=undefined;}this.nn=false;this.vu=false;this.CO=false;this.bF=undefined;this.Ld=undefined;this.RJ=undefined;this.ri=undefined;PCCViewer.MouseTools.sV=undefined;this.mu=undefined;this.Dr=undefined;this.Iu=undefined;for(var IE in this.ca){if(this.ca.hasOwnProperty(IE)){this.ca[IE].dI=undefined;this.ca[IE].dC=undefined;this.ca[IE].G=undefined;this.ca[IE]=undefined;}}this.ca=undefined;this.fB=false;this.pE=true;this.bk={on:function Hu(){},off:function Hu(){},trigger:function Hu(){}};this.kA=undefined;this.kA={};}};SingleSessionViewerControl.prototype.aCj=function(){if(this.fz){this.bF.preserveScrollPosition();this.Ld=this.fz.childNodes[0];IPCC.F.EB(this.fz);}};SingleSessionViewerControl.prototype.aBn=function(){if(this.Ld){IPCC.F.EB(this.fz);this.fz.appendChild(this.Ld);this.Ld=undefined;this.bF.restoreScrollPosition();}};SingleSessionViewerControl.prototype.arm=function(){this.bk.stop();};SingleSessionViewerControl.prototype.aCt=function(){this.bk.resume();};SingleSessionViewerControl.prototype.aAE=function(interceptor){this.bk.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var K=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(K.ca[markId]){return K.ca[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var Uq=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}ahP(markType);if(!this.bF){return Uq;}var H=0;var dF=this.de.get_length();var K=this;function auc(G){var J=K.ca[G.get_markID()];if(J&&J.getType().toLowerCase()===markType.toLowerCase()){Uq.push(J);}};for(H=0;H<dF;H++){var aB=this.bF.gu(this.de.getPage(H));if(aB){aB.forEachMark(auc);}}return Uq;};SingleSessionViewerControl.prototype.getAllMarks=function(){var CQ=[];if(!this.bF){return CQ;}var dF=this.de.get_length();var K=this;var H=0;var J;function Ni(G){var J=K.ca[G.get_markID()];if(typeof J!=='undefined'){CQ.push(J);}};for(H=0;H<dF;H++){var aB=this.bF.gu(this.de.getPage(H));if(aB){aB.forEachMark(Ni);}}return CQ;};function ahP(markType){var eH;switch(markType.toLowerCase()){case "lineannotation":eH=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":eH=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":eH=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":eH=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":eH=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":eH=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":eH=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":eH=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":eH=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":eH=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":eH=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":eH=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":eH=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":eH=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":eH=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":eH=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":eH=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":eH=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":eH=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":eH=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":eH=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return eH;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var K=this,hy;if(K.fB===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.hy.width===0){var Ks=K.bx.dM.hM(0);hy={width:Ks.kg(),height:Ks.jn()};}else{hy=searchResult.hy;}var ahs=IPCC.F.wB(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:ahs,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.al,pageData:hy,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],maintainMarkScaling:true,modificationDateTime:ahs,pageNumber:searchResult.pageNumber,pageData:hy,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Mv=K.deserializeMarks(markInfo);return Mv[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.fB===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aj;if(typeof(pageNumber)==='number'){aj=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aj=parseInt(pageNumber,10);}}if(aj<1||aj>this.de.get_length()|| !isFinite(aj)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var J=this.afO(aj,markType);return this.ald(J);};SingleSessionViewerControl.prototype.afO=function(aj,bm,bN){var K=this;bN=bN||{};var eH=ahP(bm);var G=new IPCC.Web.UI.Mark(eH);G.aP=aj-1;var ME={type:bm,igMark:G,pageNumber:aj,uid:bN.uid,viewerControl:this};if(bm.toLowerCase()==="highlightannotation"||bm.toLowerCase()==="textselectionredaction"||bm.toLowerCase()==="strikethroughannotation"||bm.toLowerCase()==="texthyperlinkannotation"){ME.de=K.de;ME.bF=K.bF;}if(bm.toLowerCase()==="rectangleredaction"||bm.toLowerCase()==="textselectionredaction"){ME.enableMultipleRedactionReasons=this.bN.enableMultipleRedactionReasons;}var J=new PCCViewer.Mark(ME);return J;};SingleSessionViewerControl.prototype.ald=function(J){var K=this;if(K.ali===true){K.ali=false;}else{var JT=K.lL;K.lL=function(sender,eventArgs){K.lL=JT;if(K.vO){K.Ag.addMarks(J);}setTimeout(function(){K.bk.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aB=this.bF.gu(this.de.getPage(J.aj-1));aB.addMark(J.G);K.ca[J.G.get_markID()]=J;K.oC(J,J.aj-1);return J;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var K=this;var H=0;var J;if(!this.fB){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Qc(ro){var aP=ro.getPageNumber()-1;var ap='';var bn='';var Hm=aP;var aB=K.bF.gu(K.de.getPage(aP));aB.removeMark(ro.G);if(K.ca[ro.getId()]){ap=ro.G.ap;bn=ro.getType();delete K.ca[ro.getId()];}var Ps=bn.toLowerCase();if((Ps==='highlightannotation'||Ps==='textselectionredaction'||Ps==='strikethroughannotation'||Ps==='texthyperlinkannotation')&&(ro.bI&&ro.bI.length)){for(var H=0;H<ro.bI.length;H++){var jX=ro.bI[H];aB=K.bF.gu(K.de.getPage(jX.aP));aB.removeMark(jX);K.oC(jX,jX.aP);}}K.lN.forEach(function(fu){if(fu.hasMark(ro.getId())){fu.removeMarks(ro);}});};if(marks instanceof Array){for(H=0;H<marks.length;H++){J=marks[H];if(!(J instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(K.ca[J.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(H=0;H<marks.length;H++){Qc(marks[H]);K.oC(marks[H],marks[H].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(K.ca[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Qc(marks);K.oC(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var CQ=this.getAllMarks();if(CQ.length>0){return this.deleteMarks(CQ);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){ajg(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){ajg(this,marks,true,'showMarks');return this;};function ajg(cv,bD,xO,axE){var H=0;var J;if(!cv.fB){throw new PCCViewer.Error("InvalidArgument","The method "+axE+" can not be used until 'ViewerReady' state is reached.");}if(bD instanceof Array){for(H=0;H<bD.length;H++){J=bD[H];if(!(J instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(cv.ca[J.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(H=0;H<bD.length;H++){bD[H].setVisible(xO);}}else{if(bD instanceof PCCViewer.Mark){if(!(cv.ca[bD.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bD.setVisible(xO);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function AR(azM,mf){var kO=false;var dj=mf.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()===azM){kO=true;break;}}return kO;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var aB;var hl;if(!this.fB){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){hl=mark.getPageNumber();if(mark.getPageNumber()>0){aB=this.bF.gu(this.de.getPage(hl-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.G){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aB){if(mark.G instanceof IPCC.Web.UI.Mark){mark.G.moveToFront();if(AR(hl-1,this)===true){var mf=this;setTimeout(function(){mf.bF.cV(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var aB;var hl;if(!this.fB){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){aB=this.bF.gu(this.de.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.G){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aB){if(mark.G instanceof IPCC.Web.UI.Mark){mark.G.moveToBack();if(AR(hl-1,this)===true){var mf=this;setTimeout(function(){mf.bF.cV(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var aB,hl;if(!this.fB){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){aB=this.bF.gu(this.de.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.G){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aB){if(mark.G instanceof IPCC.Web.UI.Mark){mark.G.moveForward();if(AR(hl-1,this)===true){var mf=this;setTimeout(function(){mf.bF.cV(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var aB,hl;if(!this.fB){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}hl=mark.getPageNumber();if(hl>=1){aB=this.bF.gu(this.de.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.G){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aB){if(mark.G instanceof IPCC.Web.UI.Mark){mark.G.moveBackward();if(AR(hl-1,this)===true){var mf=this;setTimeout(function(){mf.bF.cV(hl-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var bD=[];var SL=[];if(this.fB===false){return bD;}var dF=this.de.get_length(),aB,fg;var K=this;function auo(RY){if(RY){var QJ=RY.get_type();if(QJ===IPCC.Web.UI.MarkType.HighlightText||QJ===IPCC.Web.UI.MarkType.TextSelectionRedaction||QJ===IPCC.Web.UI.MarkType.Strikethrough||QJ===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var hZ in K.ca){if(K.ca.hasOwnProperty(hZ)){fg=K.ca[hZ];if(RY.ap===fg.G.ap){for(var H=0;H<SL.length;H++){if(fg.G.ap===SL[H]){return;}}SL.push(fg.G.ap);break;}}}}else{fg=K.ca[RY.get_markID()];}if(fg&&fg instanceof PCCViewer.Mark){bD.push(fg);}else{return bD;}}};for(var H=0;H<dF;H++){aB=this.bF.gu(this.de.getPage(H));if(aB){aB.get_selectedMarks().forEach(auo,{});}}return bD;};function aiM(bD,aqi,mf){var fg,H;function SS(gP){var kO=false;var dj=mf.bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()===gP){kO=true;break;}}return kO;};if(!bD.length){return;}for(H=0;H<bD.length;H++){if(bD[H]instanceof PCCViewer.Mark){fg=mf.ca[parseInt(bD[H].getId(),10)];if(fg&&fg instanceof PCCViewer.Mark){if(fg.G&&fg.G instanceof IPCC.Web.UI.Mark){if(fg.getId()!==fg.G.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(H+1)+" is invalid";}}var nC=[];var wn=false;for(H=0;H<bD.length;H++){fg=mf.ca[parseInt(bD[H].getId(),10)];wn=false;if(fg){if(fg.getId()===fg.G.get_markID().toString()){fg.G.set_selected(aqi);if(Array.prototype.IndexOf){wn=(nC.IndexOf(fg.getPageNumber())>=0);}else{wn=(IPCC.Web.kV(nC,fg.getPageNumber())>=0);}}if(!wn){var dO=fg.getPageNumber();if(SS(dO-1)){nC.push(dO);}}}}if(nC.length>0){setTimeout(function(){for(H=0;H<nC.length;H++){mf.bF.cV(nC[H]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.fB===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bD=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bD.push(marks);}}else{bD=marks;}if(bD.length===0){return this;}aiM(bD,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.fB===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bD=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bD.push(marks);}}else{bD=marks;}if(bD.length===0){return this;}aiM(bD,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var nC=[];var bD=this.getSelectedMarks();var wn=false,H,fg;for(H=0;H<bD.length;H++){fg=this.ca[parseInt(bD[H].getId(),10)];wn=false;if(fg){if(fg.getId()===fg.G.get_markID().toString()){fg.G.set_selected(false);if(Array.prototype.IndexOf){wn=(nC.IndexOf(fg.getPageNumber())>=0);}else{wn=(IPCC.Web.kV(nC,fg.getPageNumber())>=0);}}if(!wn){var dO=fg.getPageNumber();if(AR(dO-1,this)===true){nC.push(dO);}}}}if(nC.length>0){var mf=this;setTimeout(function(){for(H=0;H<nC.length;H++){mf.bF.cV(nC[H]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var cv=this,Mv;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bD=[];IPCC.F.forEach(marks,function(J){if(J instanceof PCCViewer.Mark){if(cv.ca[J.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bD.push(J);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var sp=[];IPCC.F.forEach(bD,function(J,ba){ef[J.getType()]({mark:J},function(bY,dI){dI.uid=undefined;sp[ba]=dI;});});this.vO=false;Mv=cv.deserializeMarks(sp);this.vO=true;return Mv;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(J){var cv=this,bF=this.bF;var aet=function(Xr){var Ap=false,dj=bF.get_displayedPages();for(var H=0;H<dj.get_length();H++){var bb=dj.getPage(H);if(bb.get_pageNumber()===Xr){Ap=true;}bF.qY(bb.get_pageNumber());}return Ap;};if(typeof J==="undefined"||J===null){aet(-1);}else{if(this.fB===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(J instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var aed=this.ca[parseInt(J.getId(),10)];if(!(aed&&aed instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(J.G&&J.G instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(J.getId()!==J.G.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bm=J.getType();if(bm!==PCCViewer.Mark.Type.TextAnnotation&&bm!==PCCViewer.Mark.Type.TextRedaction&&bm!==PCCViewer.Mark.Type.TextInputSignature&&bm!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var Ap=aet(J.getPageNumber()-1);if(Ap){cv.bF.wy(J.getPageNumber()-1,J.G);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.fB===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var FT= -1;var dn;var aH;var aj=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dn=sortableObject.getStartPoint();}else{aH=(sortableObject.G)?sortableObject.G.get_boundingRectangle():sortableObject.getRectangle();dn={x:aH.x,y:aH.y};}aj=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dn={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dn={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aj= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aj=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aj<1||aj>this.getPageCount()|| !isFinite(aj)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aj)){return-2;}var bb=this.de.getPage(aj-1);var uM=bb.cn().Vt();var ga=bb.cn().fX();function alo(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function ajn(cE,eT){var bB=Math.max(Math.min(eT.x,cE.x+cE.width),cE.x);var cc=Math.max(Math.min(eT.y,cE.y+cE.height),cE.y);return(eT.x-bB)*(eT.x-bB)+(eT.y-cc)*(eT.y-cc);};var BV;var LE=Number.MAX_VALUE;for(var H=0;H<uM.fE();H++){var ji=uM.aAW(H);if(alo(ji.ey(),dn)){for(var aU=ji.ajv();aU<ji.aic();aU++){var Vy=ga.kQ(aU);var rQ=Vy.sD();if(alo(rQ,dn)){return aU;}BV=ajn(rQ,dn);if(BV<LE){FT=aU;LE=BV;}}return FT;}BV=ajn(ji.ey(),dn);if(BV<LE){if(ji.ey().y>dn.y){FT=ji.ajv()-1;}else{FT=ji.aic();}LE=BV;}}return FT;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.bp.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var K=this;if(this.fB===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var xj=name.toLowerCase();var bp=PCCViewer.MouseTools.getMouseTool(xj);if(!bp){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var gc,gz;switch(bp.getType()){case PCCViewer.MouseTool.Type.Magnifier:gc=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:gc=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:gc=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:gc=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:gc=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:gc=IPCC.Web.UI.MouseTool.CreateLineMark;gz=ath(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:gc=IPCC.Web.UI.MouseTool.CreateRectangleMark;gz=aiS(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:gc=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gz=avT(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:gc=IPCC.Web.UI.MouseTool.CreateRectangleMark;gz=avC(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:gc=IPCC.Web.UI.MouseTool.CreateEllipseMark;gz=aiS(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:gc=IPCC.Web.UI.MouseTool.CreateTextMark;gz=awE(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:gc=IPCC.Web.UI.MouseTool.CreateTextMark;gz=UZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:gc=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gz=UZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:gc=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gz=UZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:gc=IPCC.Web.UI.MouseTool.CreateStampMark;gz=auq(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:gc=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gz=RZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:gc=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gz=RZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:gc=IPCC.Web.UI.MouseTool.CreateFreehandMark;gz=asf(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:gc=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gz=RZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aCF=this.bN.resourcePath+'/placeSignatureCursor.cur';this.bF.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.bF.set_allowMarkEdits(false);this.bF.set_mouseCursor('url('+aCF+'), pointer');this.bp=bp;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:gc=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gz=aky(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:gc=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gz=aky(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:gc=IPCC.Web.UI.MouseTool.CreatePolylineMark;gz=avZ(bp.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:gc=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gz=RZ(bp.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var aqd=this.bF.get_mouseTool();if(this.bp!==bp&&aqd===gc){setTimeout(function(){K.bk.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:K.bp.getName()});},0);}this.bp=bp;if(gz){this.FG=gz.onCreating;this.lL=gz.onAdded;}else{this.FG=undefined;this.lL=undefined;}this.bF.set_mouseTool(gc);this.bF.set_allowMarkEdits((bp.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function abR(cv,SU,jR){if(cv.vu!==true){var Kt=function(){cv.bk.off('PageCountReady',Kt);abR(cv,SU,jR);};cv.bk.on('PageCountReady',Kt);return;}var bA=cv;var wf;var it={},uv={},pY=[];var hA=bA.fv;var lj;var bN;if(SU){bN=SU;}var aci=[];var Qt=bA.bx.get_pages();var axW=function(bb,done){var aHf=false;var hM=bb;var aj=bb.get_pageNumber();var ea=hM.get_pageWidth();var eU=hM.get_pageHeight();try{if(hM){var gu=bA.bF.gu(hM),BM=0,BU=0,eL="",aHp=false;var getArt=function getArt(){var QP;if(bN&&bN.CC&&bN.CC[aj]){QP=IPCC.F.extend({},bN);QP.CC=bN.CC[aj];}else{QP=bN;}var aU,Wn;var ET=gu.ayd(aj,BM,BU,QP);if(ET.it){it[aj]=ET.it;}else{var aou=ayu(aj,lj,BU,BM);it[aj]=aou;}if(ET.pY){for(aU=0;aU<ET.pY.length;aU++){Wn=ET.pY[aU];uv[Wn.aJ.imageStampId]=Wn;}}done();};if(gu){if(!ea|| !eU){if(gu.get_markCount()>0){bA.bF.OB(bb,function(bQ,aD){BM=bQ;if(BM){hM.Sa(BM);}BU=aD;if(BU){hM.Rx(BU);}getArt();},function(nt){done(nt);});}else{getArt();}}else{BM=ea;BU=eU;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};Qt.forEach(function(bb,aK,ix){aci.push(function(done){axW(bb,done);});});var VG=function(aw,bb){var xP="";var H;if(!aw.hi){if(aw.toString()){return aw.toString();}else{return '<![CDATA[]]>';}}if((hA===1||bb===0||(bb>0&&aw.hi!=="documentAnnotations"&&aw.hi!=="pages"))&&aw.hi!=="highlights"){xP='<'+aw.hi;for(var yE in aw.aJ){if(aw.aJ.hasOwnProperty(yE)){var XY=aw.aJ[yE];if(XY===undefined||XY===null){continue;}var aJ=XY.toString();aJ=aJ.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');xP=xP+' '+yE+'="'+aJ+'"';}}xP+='>';}for(H=0;H<aw.dR.length;H++){xP+=VG(aw.dR[H],bb);}if(hA===1||(bb===hA-1)||(bb!==hA-1&&aw.hi!=="documentAnnotations"&&aw.hi!=="pages"&&aw.hi!=="highlights")){if(aw.hi!=="highlights"){xP+='</'+aw.hi+'>';}else{xP+='<'+aw.hi+' />';}}return xP;};IPCC.F.Wq(aci,function(bY){if(bY){jR(bY);return;}wf='<?xml version="1.0"?>';for(var H=0;H<(bA.fv);H++){wf=wf+VG(it[H],H);}var stampImageXml='';for(var Js in uv){if(uv.hasOwnProperty(Js)){stampImageXml+=VG(uv[Js],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';wf=wf.replace('</documentAnnotations>',stampImagesXml);}jR(undefined,wf);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.bN.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var aC=PCCViewer.Deferred();var cK=aC.getPromise();var bN;if(options){bN=options;}else{bN={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return cK;}if(!awS(recordName)){aC.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cK;}var bA=this;this.ri.then(function(pM){var As=recordName;abR(bA,bN,function(err,wf){if(err){aC.reject(new PCCViewer.Error("Error",err));return cK;}var Ru=IPCC.fR.tg(As);var af;if(!(/^[\x00-\x7F]*$/.test(bA.bx.get_documentIdentifier()))){af=bA.bN.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bA.bN.documentID+'&AnnotationID=e'+Ru;}else{af=bA.bN.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bA.bN.documentID)+'&AnnotationID=u'+encodeURIComponent(As);}function fD(ac){aC.resolve(As);setTimeout(function(){bA.bk.trigger('MarkupSaved',{name:As});},0);};function ep(aa){aC.reject(new PCCViewer.Error("AjaxError","Status Code "+aa.response.status+" "+aa.response.statusText));};PCCViewer.Ajax.dY({method:'POST',url:af,headers:{'Content-Type':'application/xml;charset=utf-8'},body:wf}).then(fD,ep);});});}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return cK;};var awS=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Tq=function(kD){var bB=kD.firstChild;while(bB.nodeType!==1){bB=bB.nextSibling;}return bB;};var ayu=function(dO,lj,eU,ea){var it={hi:'documentAnnotations',dR:[],aJ:{}};var aaJ={hi:'pages',dR:[],aJ:{}};it.dR.push(aaJ);var nf={hi:'highlights',dR:[],aJ:{}};var bb={hi:'page',dR:[],aJ:{id:(dO+1).toString(),pageWidth:ea,pageHeight:eU}};it.dR.push(nf);try{if(lj){var bB=lj.getElementsByTagName("documentAnnotations");if(bB.length>1){throw 'ERROR: Invalid PCC annotations XML';}var LK;var Bo;if(document.documentMode<9){var Tc=lj.firstChild.nodeName;if(Tc.toLowerCase()==='xml'){LK=lj.firstChild.nextSibling;}else{LK=lj.firstChild;}}else{LK=lj.firstChild;}var dM=Tq(LK);if(dM.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dM.hasChildNodes()){var H;var ma=false;for(H=0;H<dM.childNodes.length;H++){Bo=dM.childNodes[H];if(Bo.nodeName!=='page'){continue;}var Bh=Bo.getAttribute('id');ma=false;if(Bh&&parseFloat(Bh)===dO+1){ma=true;for(var aU=0;aU<Bo.childNodes.length;aU++){var bL=Bo.childNodes[aU];var bv={hi:'annotation',dR:[],aJ:{}};if(bL.nodeName!=='annotation'){continue;}var OA=Bo.childNodes[aU].attributes;if(OA.length>0){for(var dH=0;dH<OA.length;dH++){bv.aJ[OA[dH].name]=OA[dH].value;}}if(bL.childNodes[0].data){bv.dR.push('<![CDATA['+bL.childNodes[0].data+']]>');}else{bv.dR.push('');}bb.dR.push(bv);}break;}}}}aaJ.dR.push(bb);return it;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var Hd=recordName;var aC=PCCViewer.Deferred(),cK=aC.getPromise(),bA=this;var bN=options||{};var yX=bN.retainExistingMarks;var iX=bN.markupLayer;var uu=bN.loadAsHidden;this.ri.then(function(pM){var af,Ru,bF=bA.bF,de=bA.de;if(typeof Hd!=="string"){aC.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(yX!==undefined){if(typeof yX!=='boolean'){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(iX!==undefined){if(!(iX instanceof PCCViewer.MarkupLayer)){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bA.lN.getItem(iX.getId())===undefined){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function fD(ac){var SN,Le=ac.responseText,Ra;if(Le.indexOf('xml')=== -1){aC.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Le=Le.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.F.qr(p2)+p3;});if(window.DOMParser){Ra=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Ra=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Ra=function(){return null;};}SN=Ra(Le);var amK=SN.getElementsByTagName('stampImage');var pY={};var VO=function(ba){J.bg.push(agX.getPoint(ba));};for(var H=0;H<amK.length;H++){var SP=amK[H];pY[SP.getAttribute('imageStampId')]={imageStampId:SP.getAttribute('imageStampId'),base64format:SP.getAttribute('base64format')};}bF.set_annotationXmlDom(SN,pY,yX===true,uu===true);if(yX!==true){bA.ca={};}var dF=bA.de.get_length();var J;var bm,eH;var wV={};var HJ=[];for(H=0;H<dF;H++){var aB=bA.bF.gu(bA.de.getPage(H));if(aB){var DW={};var aU=0;for(aU=0;aU<aB.get_markCount();aU++){var G=aB.getMark(aU);if(bA.ca[G.get_markID()]!==undefined){continue;}eH=G.get_type();switch(eH){case IPCC.Web.UI.MarkType.Rectangle:if(G.ko()===true){if(G.get_opacity()===255){bm=PCCViewer.Mark.Type.RectangleRedaction;}else{bm=PCCViewer.Mark.Type.TransparentRectangleRedaction;}J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});}else{bm=PCCViewer.Mark.Type.RectangleAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.mA=G.get_lineWidth();J.fF=G.get_fillColor();J.nQ=G.get_lineColor();J.cY=G.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bm=PCCViewer.Mark.Type.EllipseAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.mA=G.get_lineWidth();J.fF=G.get_fillColor();J.nQ=G.get_lineColor();J.cY=G.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bm=PCCViewer.Mark.Type.LineAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.oq=G.get_lineWidth();J.dm=G.get_lineColor();J.cY=G.get_opacity();if(G.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){J.mk="FilledTriangle";}else{J.mk="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(G.ko()===true){bm=PCCViewer.Mark.Type.StampRedaction;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});}else{bm=PCCViewer.Mark.Type.StampAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.dm=G.get_fillColor();}J.wZ=G.get_text();break;case IPCC.Web.UI.MarkType.Text:if(G.ko()===true){bm=PCCViewer.Mark.Type.TextRedaction;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});}else{bm=PCCViewer.Mark.Type.TextAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.mA=G.get_lineWidth();J.fF=G.get_fillColor();J.nQ=G.get_lineColor();J.cY=G.get_opacity();}J.eD=G.get_maxLength();J.hu=G.get_fontName();J.fZ=G.get_textColor();J.cG=G.get_fontSize();var dv=G.get_fontStyle();var qQ=[];if((dv&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qQ.push("Bold");}if((dv&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qQ.push("Italic");}if((dv&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qQ.push("Strikeout");}if((dv&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qQ.push("Underline");}J.dv=qQ;var qc;switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qc="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qc="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qc="right";break;}J.oz=qc;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bm=PCCViewer.Mark.Type.TextAreaSignature;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.mA=G.get_lineWidth();J.eD=G.get_maxLength();J.hu=G.get_fontName();J.fZ=G.get_textColor();J.ia=G.get_maxFontSize();dv=G.get_fontStyle();qQ=[];if((dv&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){qQ.push("Bold");}if((dv&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){qQ.push("Italic");}if((dv&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){qQ.push("Strikeout");}if((dv&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){qQ.push("Underline");}J.dv=qQ;switch(G.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qc="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qc="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qc="right";break;}J.oz=qc;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bm=(eH===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(eH===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(eH===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var ZP=G.ap;if(typeof wV[ZP]==='undefined'){J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,de:de,bF:bF,uid:G.aJ.lg});J.bI=[];if(bm===PCCViewer.Mark.Type.HighlightAnnotation){J.fF=G.get_fillColor();}wV[ZP]=J;G.aP=H;G.kI=true;}else{G.aP=H;wV[ZP].bI.push(G);}break;case IPCC.Web.UI.MarkType.Freehand:bm=PCCViewer.Mark.Type.FreehandAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.oq=G.get_lineWidth();J.dm=G.get_lineColor();J.cY=G.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bm=PCCViewer.Mark.Type.FreehandSignature;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.oq=G.get_lineWidth();J.dm=G.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bm=PCCViewer.Mark.Type.TextSignature;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.hu=G.get_fontName();J.dm=G.get_fillColor();J.aY=G.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bm=PCCViewer.Mark.Type.TextInputSignature;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.hu=G.get_fontName();J.fZ=G.get_textColor();J.aY=G.get_text();J.eD=G.get_maxLength();J.hV=G.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!G.ap){bm=PCCViewer.Mark.Type.RectangleRedaction;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,de:de,bF:bF,uid:G.aJ.lg});J.mA=G.get_lineWidth();J.fF=G.get_fillColor();J.nQ=G.get_lineColor();J.cY=G.get_opacity();}else{if(DW[G.ap]===undefined){DW[G.ap]=[];}DW[G.ap].push(G);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bm=(eH===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.setImage({dataUrl:G.get_image(),id:G.qN});break;case IPCC.Web.UI.MarkType.Polyline:bm=PCCViewer.Mark.Type.PolylineAnnotation;J=new PCCViewer.Mark({type:bm,igMark:G,pageNumber:H+1,uid:G.aJ.lg});J.oq=G.get_lineWidth();J.dm=G.get_lineColor();J.cY=G.get_opacity();var agX=G.get_points();J.bg=[];for(var bH=0;bH<agX.get_length();bH++){VO(bH);}break;default:J=undefined;continue;}if(typeof J!=='undefined'&&eH!==IPCC.Web.UI.MarkType.HighlightText&& !(eH===IPCC.Web.UI.MarkType.RectangleRedaction&&G.ap!==undefined)&&eH!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&eH!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&eH!==IPCC.Web.UI.MarkType.Strikethrough){bA.ca[G.get_markID()]=J;HJ.push(J);}}for(var LY in DW){if(DW.hasOwnProperty(LY)&&wV[LY]){var DE=wV[LY];var aej=DE.G;if(DE.bI&&DE.bI.length>0){for(var MX=0;MX<DE.bI.length;MX++){if(DE.bI[MX].aP===H){aej=DE.bI[MX];}}}var al=DW[LY];for(var Zk=0;Zk<al.length;Zk++){aej.al.push(al[Zk]);}}}}}for(var oW in wV){if(wV.hasOwnProperty(oW)){var wC=wV[oW];bA.ca[wC.G.get_markID()]=wC;HJ.push(wC);if(wC.bI&&wC.bI.length>0){wC.bI[wC.bI.length-1].jJ=true;}else{wC.G.jJ=true;}}}aC.resolve(Hd);if(iX!==undefined){iX.addMarks(HJ);}else{bA.getActiveMarkupLayer().addMarks(HJ);}bA.bk.trigger('MarkupLoaded',{name:Hd,loadedMarks:HJ});};function ep(aa){aC.reject(new PCCViewer.Error("Error","Status Code "+aa.response.status+" "+aa.response.statusText));};Ru=IPCC.fR.tg(Hd);if(!(/^[\x00-\x7F]*$/.test(bA.bx.get_documentIdentifier()))){af=bA.bN.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bA.bN.documentID+'&AnnotationID=e'+Ru;}else{af=bA.bN.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bA.bN.documentID)+'&AnnotationID=u'+encodeURIComponent(Hd);}PCCViewer.Ajax.dY({method:'GET',url:af,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(fD,ep);});return cK;};function ajq(context,message){var ky=document.createElement('div'),Gn=document.createElement('div'),nl=document.createElement('button'),Ut=function(){ky.classList.add('open');},Os=function(){if(ky.parentNode!==null){ky.parentNode.removeChild(ky);}};nl.innerHTML='&#215;';nl.setAttribute('type','button');Gn.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';ky.className='pccPageListNagModal';ky.appendChild(nl);ky.appendChild(Gn);context.cN.appendChild(ky);Ut();if(!nl.addEventListener){nl.attachEvent('onclick',Os);}else{nl.addEventListener('click',Os,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this;try{var H=0,GL=0;var As='';var af=this.bN.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bN.documentID)+'&AnnotationID=u'+encodeURIComponent(As);var fD=function(ac){var sN;if(typeof ac.responseText!=='unknown'&&ac.responseText.length>0){try{sN=JSON.parse(ac.responseText);}catch(e){}}var XD=[],GL=0;for(var H=0,cB=sN.annotationFiles.length;H<cB;H++){if(sN.annotationFiles[H].annotationLabel){XD[GL]={};XD[GL].name=sN.annotationFiles[H].annotationLabel;GL++;}}aC.resolve(XD);};var ep=function(aa){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(aa&&aa.response){var iZ=aa.response.status;var nR;try{nR=JSON.parse(aa.response.responseText);}catch(e){}if(iZ===480&&nR&&nR.errorCode==='LicenseCouldNotBeVerified'){ajq(K,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(nR.errorCode,"License error.");}}aC.reject(error);};PCCViewer.Ajax.dY({method:'GET',url:af}).then(fD,ep);}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return cK;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.lN){this.lN=new PCCViewer.MarkupLayerCollection(this);}return this.lN;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aC=PCCViewer.Deferred(),cK=aC.getPromise(),af,aod=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.bx.get_documentIdentifier()))){af=this.bN.imageHandlerUrl+'/MarkupLayers/e'+this.bN.documentID+'/';}else{af=this.bN.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bN.documentID)+'/';}if(metadata){var ayW=aod(metadata);af+=ayW;}af+='?nocache='+new Date().getTime();PCCViewer.Ajax.dY({url:af,method:'GET'}).then(function fD(ac){var axp=JSON.parse(ac.responseText);aC.resolve(axp);},function ep(aa){aC.reject(aa.error);});return cK;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.Ag;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.lN.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.Ag=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var aam,K=this;aam=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.Zw,options||{});function xG(){setTimeout(function(){aam.Dh();},20);};function mF(){K.bk.off(PCCViewer.EventType.PageCountReady,mF);xG();};if(this.nn===false){K.bk.on(PCCViewer.EventType.PageCountReady,mF);}else{xG();}return aam;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var aC=PCCViewer.Deferred();var cK=aC.getPromise();var K=this;if(typeof id!=='string'|| !id){aC.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return cK;}var fu=this.lN?this.lN.getItem(id):undefined;if(!fu){aC.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cK;}function avH(pG){var NS=fu.getMarks();if(!NS.length){pG(undefined,[]);}else{K.serializeMarks(NS).then(function jF(bD){pG(undefined,IPCC.F.map(bD,function(J){if(J.conversation&&J.conversation.comments){delete J.conversation.comments;}return J;}));},function _f(eL){pG(eL);});}};function awJ(pG){var NS=fu.getMarks();var XC=function(fG,hq,ks){var Vv=IPCC.F.filter(hq,function(nG){return!nG.iX||nG.iX===fu;});IPCC.F.forEach(Vv,function(cF){var bP=ef.Comment(cF);bP.markUid=ks;fG.push(bP);});return fG;};var VR=IPCC.F.reduce(NS,function(fG,J){var dC=J.getConversation();var hq=dC.getComments();return hq.length?XC(fG,hq,J.getUid()):fG;},[]);pG(undefined,VR);};function atr(pG){var aGy=IPCC.F.reduce(K.lN.getAll(),function(fG,anf){return fG.concat(fu===anf?[]:anf.getMarks());},[]);var XC=function(fG,hq,ks){var Vv=IPCC.F.filter(hq,function(nG){return nG.iX===fu;});IPCC.F.forEach(Vv,function(nG){var bP=ef.Comment(nG);bP.markUid=ks;fG.push(bP);});return fG;};var VR=IPCC.F.reduce(aGy,function(fG,J){var dC=J.getConversation();var hq=dC.getComments();return hq.length?XC(fG,hq,J.getUid()):fG;},[]);pG(undefined,VR);};var aeh=[],aES=function(oh){if(oh.markupLayer===fu){aeh.push({text:oh.text,data:oh.data,creationDateTime:oh.creationDateTime,markUid:oh.markUid});}};for(var adk in this.lN.jz){if(this.lN.jz.hasOwnProperty(adk)){IPCC.F.forEach(this.lN.jz[adk],aES);}}var zy={layerRecordId:fu.getRecordId(),name:fu.getName(),originalXmlName:fu.getOriginalXmlName(),comments:aeh,data:ef.Data(fu)};var vI;IPCC.F.Wq([function(nx){avH(function(bY,dI){if(bY&& !vI){vI=bY;}else{zy.marks=dI;}nx();});},function(nx){awJ(function(bY,dI){if(bY&& !vI){vI=bY;}else{zy.comments=zy.comments.concat(dI);}nx();});},function(nx){atr(function(bY,dI){if(bY&& !vI){vI=bY;}else{zy.comments=zy.comments.concat(dI);}nx();});}],function(){if(!vI){auh(zy);}else{aC.reject(new PCCViewer.Error('SerializationError',vI.message));}});function auh(aFj){var yH,gI={method:'POST',body:JSON.stringify(zy),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(K.bx.get_documentIdentifier()))){yH=K.bN.imageHandlerUrl+'/MarkupLayers/e'+K.bN.documentID+'/';}else{yH=K.bN.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(K.bN.documentID)+'/';}if(fu.getRecordId()){gI.url=yH+fu.getRecordId();gI.headers['X-HTTP-Method-Override']='PUT';}else{gI.url=yH;}PCCViewer.Ajax.dY(gI).then(fD,ep);};function fD(ac){if(ac.responseText&&typeof ac.responseText==='string'){var nR;try{nR=JSON.parse(ac.responseText);}catch(e){}if(nR&&nR.layerRecordId){fu.aap=nR.layerRecordId;}}aC.resolve({layerRecordId:fu.getRecordId()});};function ep(aa){var error=new PCCViewer.Error("AjaxError",aa.error.message||'An unknown server error occurred.');if(aa&&aa.response){var iZ=aa.response.status;var nR;try{nR=JSON.parse(aa.response.responseText);}catch(e){}if(iZ===480&&nR&&nR.errorCode==='LicenseCouldNotBeVerified'){ajq(K,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(nR.errorCode,'License error.');}}aC.reject(error);};return cK;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var im={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var HK;var adn;var Sv;var aHD=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){HK=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){HK=burnOptions.marks;}im={marks:HK};}else{im.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:im.burnSignatures;im.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:im.burnRedactions;im.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:im.burnAnnotations;}if(typeof burnOptions.filename==='string'){im.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var PR,Is=true;for(PR=0;PR<burnOptions.removeFormFields.length;PR++){if(burnOptions.removeFormFields[PR]!=='acroform'){Is=false;}}if(Is){im.removeFormFields=['acroform'];}else{im.nt={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{im.nt={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{im.nt={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){im.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{im.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{im.nt={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){im.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{im.nt={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var Bu=new PCCViewer.BurnRequest(im),K=this;if(HK){var eC=[];for(var H=0,cB=this.getPageCount();H<cB;H++){eC[H]=[];}eC=IPCC.F.reduce(HK,function(bD,ak){var aj=ak.getPageNumber()-1;if(!(typeof ak==='object'&&ak instanceof PCCViewer.Mark&&ak.G)){Bu.Vp(new Error('The burnOptions.marks parameter is an invalid object.'));return bD;}if(!K.getMarkById(ak.ds)){Bu.Vp(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bD;}bD[aj].push(ak.G);if(ak.G.al){for(var H=0,cB=ak.G.al.length;H<cB;H++){if(ak.G.al[H]instanceof IPCC.Web.UI.Mark){bD[aj].push(ak.G.al[H]);}}}if(ak.bI){for(var aU=0,azD=ak.bI.length;aU<azD;aU++){bD[aj+1+aU].push(ak.bI[aU]);if(ak.bI[aU].al){for(var dH=0,aBD=ak.bI[aU].al.length;dH<aBD;dH++){if(ak.bI[aU].al[dH]instanceof IPCC.Web.UI.Mark){bD[aj+1+aU].push(ak.bI[aU].al[dH]);}}}}}return bD;},eC);Sv={CC:eC,vH:true};}else{Sv={includeAnnotations:im.burnAnnotations,includeRedactions:im.burnRedactions,includeSignatures:im.burnSignatures,vH:true};}function ahX(){abR(K,Sv,function(bY,adn){if(bY){setTimeout(function(){Bu.Vp(bY);},20);}else{Bu.Rh({bx:K.bx,bN:K.bN});Bu.aDA(adn);setTimeout(function(){Bu.Dh();},20);}});};function mF(){K.bk.off(PCCViewer.EventType.PageCountReady,mF);ahX();};if(this.nn===false){K.bk.on(PCCViewer.EventType.PageCountReady,mF);}else{ahX();}return Bu;};SingleSessionViewerControl.prototype.convertDocument=function(zF){var wQ,K=this,zM={targetExtension:'pdf',filename:'document'},bN={};sq.pD(bN,zM,zF);bN.Ak=1;wQ=new PCCViewer.ConversionRequest(bN);function xG(){wQ.Rh({bx:K.bx,bN:K.bN});setTimeout(function(){wQ.Dh(bN);},20);};function mF(){K.bk.off(PCCViewer.EventType.PageCountReady,mF);xG();};if(this.nn===false){K.bk.on(PCCViewer.EventType.PageCountReady,mF);}else{xG();}return wQ;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(zF){var wQ,K=this,zM={targetExtension:'pdf',filename:'document'},bN={};sq.pD(bN,zM,zF);bN.Ak=2;wQ=new PCCViewer.ConversionRequest(bN);function xG(){wQ.Rh({bx:K.bx,bN:K.bN});setTimeout(function(){wQ.Dh(bN);},20);};function mF(){K.bk.off(PCCViewer.EventType.PageCountReady,mF);xG();};if(this.nn===false){K.bk.on(PCCViewer.EventType.PageCountReady,mF);}else{xG();}return wQ;};SingleSessionViewerControl.prototype.loadAttachments=function(){var aC=PCCViewer.Deferred();var cK=aC.getPromise();try{var H=0,GL=0;var As='';var af=this.bN.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bN.documentID)+'/Attachments';var azR=function(ac){var EQ=JSON.parse(ac.responseText);if(EQ===null||EQ.status!=='complete'){setTimeout(ajo,500);return;}aC.resolve(EQ.attachments||[]);};var ep=function(aa){aC.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var ajo=function(){PCCViewer.Ajax.dY({method:'GET',url:af}).then(azR,ep);};ajo();}catch(e){aC.reject(new PCCViewer.Error("Error",e.message));}return cK;};function sJ(){return function(sender,eventArgs){var K=this;var J=K.ca[eventArgs.mark.get_markID()];if(K.vO){K.Ag.addMarks(J);}setTimeout(function(){if(J){K.bk.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function ath(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setThickness(bj.getThickness());J.setColor(bj.getColor());J.setOpacity(bj.getOpacity());J.setEndHeadType(bj.getEndHeadType());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function aiS(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setBorderThickness(bj.getBorderThickness());J.setFillColor(bj.getFillColor());J.setBorderColor(bj.getBorderColor());J.setOpacity(bj.getOpacity());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function avC(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;},onAdded:sJ()};};function avT(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;if(J.oJ){J.setReasons(bj.getReasons());}else{J.setReason(bj.getReason());}J.setBorderThickness(bj.getBorderThickness());J.setFillColor(bj.getFillColor());J.setBorderColor(bj.getBorderColor());J.setFontColor(bj.getFontColor());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function awE(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setBorderThickness(bj.getBorderThickness());J.setFillColor(bj.getFillColor());J.setBorderColor(bj.getBorderColor());J.setOpacity(bj.getOpacity());J.setFontName(bj.getFontName());J.setFontColor(bj.getFontColor());J.setFontSize(bj.getFontSize());J.setFontStyle(bj.getFontStyle());J.setHorizontalAlignment(bj.getHorizontalAlignment());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function UZ(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setFontName(bj.getFontName());J.setFontColor(bj.getFontColor());J.setText(bj.getText());if(J.setFontSize){J.setFontSize(bj.getFontSize());}PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function auq(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;if(bj.getType()===PCCViewer.MouseTool.Type.StampAnnotation){J.setColor(bj.getColor());}J.setLabel(bj.getLabel());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};var aFY;function RZ(bj){return{onCreating:function(aN,T){},onAdded:sJ()};};function asf(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setThickness(bj.getThickness());J.setColor(bj.getColor());J.setOpacity(bj.getOpacity());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function aky(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setImage(bj.getImage());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};function avZ(bj){return{onCreating:function(aN,T){var J=new PCCViewer.Mark({type:bj.getType(),igMark:T.mark,pageNumber:T.pageIndex+1,enableMultipleRedactionReasons:this.bN.enableMultipleRedactionReasons});this.ca[T.mark.get_markID()]=J;J.setThickness(bj.getThickness());J.setColor(bj.getColor());J.setOpacity(bj.getOpacity());PCCViewer.Data.nI(bj,J);PCCViewer.Conversation.rn(bj.getConversation(),J.getConversation());},onAdded:sJ()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wS;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wS=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wS=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.bF&&this.bF.set_markHandleMode){this.bF.set_markHandleMode(wS);}else{this.bN.markHandleMode=wS;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var wS;if(this.bF&&this.bF.get_markHandleMode){wS=this.bF.get_markHandleMode();}else{wS=this.bN.markHandleMode;}if(wS===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.mu=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.mu;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var ZA,aep=(conversations===undefined);function aip(dC,aK){throw new Error(dC+((aK!==undefined)?' (Array index '+aK+')':'')+' is not a valid PCCViewer.Conversation object.');};function awF(dC,aK){throw new Error(dC+((aK!==undefined)?' (Array index '+aK+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){ZA=[conversations];}else if(conversations instanceof Array){ZA=conversations;}else if(!aep){aip(conversations);}var amG=IPCC.F.map(this.getAllMarks(),function(ak){return ak.getConversation();});var TJ=IPCC.F.map(ZA||amG,function(ak,H){if(!(ak instanceof PCCViewer.Conversation)){aip(ak,H);}if(!aep&& !IPCC.F.inArray(amG,ak)){awF(ak,H);}return ak.getMark().ds;});this.bF.refreshConversations(TJ);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.fB===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.bF.openCommentsPanel();var K=this;setTimeout(function(){K.bk.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.fB===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.bF.closeCommentsPanel();var K=this;setTimeout(function(){K.bk.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.fB===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.bF.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.fB===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.bF.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var jX=conversation.getMark();if(jX){var wl=jX.G.get_conversation();this.bF.set_selectedConversation(wl);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.fB===false){return null;}var jy=this.bF.get_selectedConversation();if(jy){var jX=this.ca[jy.get_mark().get_markID()];if(jX){return jX.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var K=this,AV=K.aF;function akA(aP,lK,dF){var UU=[aP+1];var bb=K.de.getPage(aP),fL=bb.cn();if(fL.oj()){var aY=fL.BD(),acO=aY.substr(lK);if(acO.length>dF){return UU;}else{return UU.concat(akA(aP+1,0,dF-acO.length));}}else{return UU;}};this.bF.tX();function CW(abr,aj){K.ahh(aj,abr);};if(AV&&AV.getResults().length){var dM=akA(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),fi=AV.getResults(),agw=false,Re={};if(fi.length){IPCC.F.forEach(fi,function(ak){var arn=IPCC.F.contains(dM,ak.aj);if(arn){agw=true;Re[ak.aj]=Re[ak.aj]||[];Re[ak.aj].push(ak);}});}if(agw){IPCC.F.forEach(Re,function(abr,aj){K.requestPageText(aj).then(CW.bind(null,abr,aj));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.fB===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var vk=function(n){return typeof n==='number'&& !isNaN(n);};var yb,adT=true;if(points&&points.constructor===Array){yb=points;}else{yb=[points];adT=false;}var acP=function(ad,aK,aI){throw new PCCViewer.Error('InvalidArgument',ad+' (Array index '+aK+') does not have a valid '+aI+' property');};if(yb.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.F.forEach(yb,function(ad,aK){if(!vk(ad.x)){acP(ad,aK,'x');}if(!vk(ad.y)){acP(ad,aK,'y');}});var DH=this.bF.aBa(pageNumber,yb);if(DH===null){return null;}else if(adT){return DH;}else{return DH[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.fB===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var K=this;var bF=K.bF;var Yo=bF.Ev();if(!Yo){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(Yo==='singleline'){bF.IB();}else if(Yo==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return K;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var K=this;K.afB=amount;if(this.fB===false){this.ri.then(function(pM){var bF=K.bF;bF.ED(amount);});}else{var bF=K.bF;bF.ED(amount);}return K;};SingleSessionViewerControl.prototype.getSharpening=function(){var K=this;if(this.fB===false){return K.afB;}else{var bF=K.bF;return bF.axX();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var K=this;K.aht=amount;if(this.fB===false){this.ri.then(function(pM){var bF=K.bF;bF.Ed(amount);});}else{var bF=K.bF;bF.Ed(amount);}return K;};SingleSessionViewerControl.prototype.getGamma=function(){var K=this;if(this.fB===false){return K.aht;}else{var bF=K.bF;return bF.axR();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var K=this;K.lG=amount;if(this.fB===false){this.ri.then(function(pM){K.bF.DJ(amount);});}else{K.bF.DJ(amount);}return K;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var K=this;if(this.fB===false){return K.lG;}else{var bF=K.bF;return bF.axT();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.aF;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var Hu=function(){},iZ={ajB:0,aqv:1,Ku:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.F.vg(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var K=this;this.iZ=iZ.ajB;this.bN=viewerControl.az.bN;this._debug= ! !this.bN.debug;this.aIy="Single";this.Ff=[];this.qV={};if(!this.cv){this.cv=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.ay=domElement;if(viewerControl.az.nn){K.iZ=iZ.Ku;K.Bm(viewerControl.getPageCount());K.VW(K.ay);}else{K.iZ=iZ.aqv;K.Bm(1,0);var Kr=function(){viewerControl.off('PageCountReady',Kr);K.Bm(viewerControl.getPageCount(),1);K.VW(K.ay);};viewerControl.on('PageCountReady',Kr);}viewerControl.on('PageRotated',function(bS){IPCC.F.forEach(K.qV,function(au){if(au.aP===(bS.pageNumber-1)){if(au.vX===true){K.WW(au);}}});});viewerControl.on('DocumentRotated',function(bS){IPCC.F.forEach(K.qV,function(au){if(au.vX===true){K.WW(au);}});});viewerControl.on('ViewingSessionChanging',function(bS){K.akG();K.VA([]);});viewerControl.on('ViewingSessionChanged',function(bS){K.bN=viewerControl.az.bN;if(viewerControl.az.nn){K.Bm(viewerControl.getPageCount());}else{K.Bm(1,0);var Kr=function(){viewerControl.off('PageCountReady',Kr);K.Bm(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',Kr);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.cv;};ThumbnailControl.prototype.Bm=function(fv,fO){fO=fO||0;var K=this,GY=document.createDocumentFragment();for(var i=fO;i<fv;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var eG=document.createElement('div');eG.className='pccThumbnail';var qh=document.createElement('div');qh.className='pccThumbnailView';qh.id='pcc-thumbnailPage-'+i+'-'+IPCC.Eq();eG.appendChild(qh);_parent.appendChild(eG);GY.appendChild(_parent);K.qV[i]={Rm:_parent,cR:eG,qh:qh,aP:i,av:{},vX:false,iz:0,jf:0,hc:0};}IPCC.F.forEach(K.qV,function(au){var ZJ=document.createElement('div'),wZ=document.createElement('span'),aBr=document.createTextNode(au.aP+1);ZJ.className='pccThumbnailLabel';wZ.appendChild(aBr);ZJ.appendChild(wZ);au.cR.appendChild(ZJ);au.cR.onclick=function(){K.VA([au.aP+1]);};});K.ay.appendChild(GY);this.Xe();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.iZ){return[];}return[].concat(this.Ff);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.iZ){return this;}var fv=this.cv.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.F.forEach(pageNumbers,function(gP,H){if(isNaN(gP)){throw new Error(gP+' (array index '+H+') is not a number');}if(gP<1||gP>fv){throw new Error(gP+' (array index '+H+') is out of range');}});this.VA([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var gP=Number(pageNumber);if(gP!==(gP|0)||gP<1||gP>this.cv.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var ma=false,K=this,bN=options||{};IPCC.F.forEach(this.qV,function(au){if(ma){return;}if(au.aP+1===gP){ma=true;K.Xk(au,undefined,! !bN.forceAlignTop);}});return this;};ThumbnailControl.prototype.Xk=function(au,md,aox){md=md||IPCC.F.WT(this.ay.getBoundingClientRect());var uq=IPCC.F.WT(au.Rm.getBoundingClientRect());if(uq.top>md.top&&uq.bottom<md.bottom){return;}var alk=window.getComputedStyle?getComputedStyle(au.Rm):au.Rm.currentStyle,gH;if(uq.top<md.top||aox){gH=uq.top-md.top+this.ay.scrollTop-parseInt(alk.marginTop,10);}else if(uq.bottom>md.bottom){gH=uq.bottom-md.top-md.height+this.ay.scrollTop+parseInt(alk.marginBottom,10);}if(gH!==undefined){this.ay.scrollTop=gH;}return this;};ThumbnailControl.prototype.VA=function(hQ){if(IPCC.F.aoO(this.Ff,hQ)){return this;}var Wx='pcc-thumbnail-selected',HI=new RegExp(Wx),Wg=false,acs=[].concat(hQ),aaA=acs.shift(),aeE=false,md=IPCC.F.WT(this.ay.getBoundingClientRect()),K=this;IPCC.F.forEach(this.qV,function(au){if(au.aP===aaA-1){IPCC.F.ake(au.cR,Wx);Wg=true;aaA=acs.shift()||0;if(!aeE){aeE=true;K.Xk(au,md);}return;}if(HI.test(au.cR.className)){IPCC.F.ajf(au.cR,Wx);Wg=true;}});this.Ff=hQ;if(Wg){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.Ff)});}return this;};ThumbnailControl.prototype.ayY=function(){var cz=this.Rg(),K=this,ym;IPCC.F.forEach(cz,function(au){if(!ym&&IPCC.F.inArray(K.Ff,au.aP+1)){ym=au;}});if(!ym){ym=cz[0];}return ym;};ThumbnailControl.prototype.reflow=function(){if(!this.iZ){return this;}var BN,CZ,bw,aV,Mr,Op,hc,ym=this.ayY();IPCC.F.forEach(this.qV,function(au){if(au.vX){au.cR.style.height=au.qh.style.height='';au.cR.style.width=au.qh.style.width='';}});IPCC.F.forEach(this.qV,function(au){if(au.vX&&au.av.ec()){BN=au.cR.offsetWidth;CZ=au.cR.offsetHeight;hc=au.av.axQ();if(Math.abs(hc)===90||Math.abs(hc)===270){aV=au.av.kg();bw=au.av.jn();}else{bw=au.av.kg();aV=au.av.jn();}Mr=bw/aV;Op=BN/CZ;var iz,jf;if(Mr<Op){jf=CZ;iz=Math.floor(jf*bw/aV);}else{iz=BN;jf=Math.floor(iz*aV/bw);}au.iz=iz;au.jf=jf;}});IPCC.F.forEach(this.qV,function(au){if(au.vX&&au.av&&au.av.ec()){au.qh.style.height=au.jf+'px';au.qh.style.width=au.iz+'px';au.av.VK(IPCC.Web.UI.FitType.FullImage);au.av.cV();}});if(ym){this.Xk(ym);}this.Xe();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.iZ){return this;}this.iZ=iZ.ajB;this.akG();this.on=this.off=this.trigger=Hu;this.kA={};};ThumbnailControl.prototype.akG=function(){IPCC.F.forEach(this.qV,function(au){if(au.av&&au.av.dispose){au.av.dispose();}});while(this.ay.firstChild){this.ay.removeChild(this.ay.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.iZ){return[];}var cz=this.Rg();return IPCC.F.map(cz,function(au){return au.aP+1;});};ThumbnailControl.prototype.Rg=function Rg(){var aue=this.ay.getBoundingClientRect(),uq;function ZC(md,RV){return(!(RV.top>=md.bottom||RV.left>=md.right||RV.bottom<=md.top||RV.right<=md.left));};return IPCC.F.filter(this.qV,function(au){uq=au.cR.getBoundingClientRect();return ZC(aue,uq);});};ThumbnailControl.prototype.Xe=function(){var K=this,cz=K.Rg();IPCC.F.forEach(cz,function(au){if(!au.vX){au.av=K.hM(au);au.vX=true;}});return this;};ThumbnailControl.prototype.VW=function VW(cR){var Oy={},K=this;function awK(bh,vT,qM){if(Oy[bh]){clearTimeout(Oy[bh]);Oy[bh]=undefined;}Oy[bh]=setTimeout(vT,qM||0);};IPCC.Web.UI.aT.addHandler(cR,'scroll',function(ev){awK('scroll',function(){K.Xe();},300);});};ThumbnailControl.prototype.hM=function(au,nx){var K=this;nx=nx||Hu;var aS={documentIdentifier:K.bN.documentID,pageNumber:au.aP,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:K.bN.imageHandlerUrl,encryption:K.bN.encryption,handleTouchEvents:false};var av=IPCC.initializePageViewPlugin(au.qh,aS);av.set_debug(K._debug);av.set_mouseTool(IPCC.Web.UI.MouseTool.None);var vL=false;function Gt(){nx();};av.add_pageOpened(function(){K.WW(au);});av.add_pageDisplayed(function(){if(!vL){Gt();}});av.add_textPageReady(function(){if(vL){av.cV();Gt();}});av.add_pageOpenFailed(function(){});av.add_textExtractionFailed(function(){});var az=K.cv.az;aS.artPage=az.bF.gu(az.de.getPage(au.aP));aS.artPage.Fw(function(J){if(J.get_type()===608){vL=true;}});av.aws(aS);av.set_mouseTool(IPCC.Web.UI.MouseTool.None);return av;};ThumbnailControl.prototype.WW=function(au){var K=this;var az=K.cv.az;var Cz=az.bF.aaj(au.aP);var hc=au.hc;var acf=hc;if(Cz!==au.hc){acf=Cz-hc;}var av=au.av,iI=au.qh,aV,bw;if(!au.vX|| !av.ec()){return;}iI.style.height='';iI.style.width='';if(Math.abs(Cz)===90||Math.abs(Cz)===270){aV=av.kg();bw=av.jn();}else{aV=av.jn();bw=av.kg();}var BN=iI.offsetWidth,CZ=iI.offsetHeight;if(au.hc!==Cz){av.rotate(acf);au.hc=Cz;}var Mr=bw/aV,Op=BN/CZ;var iz,jf;if(Mr<Op){jf=CZ;iz=Math.floor(jf*bw/aV);}else{iz=BN;jf=Math.floor(iz*aV/bw);}iI.style.height=jf+'px';iI.style.width=iz+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function aiQ(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function awX(aDU){var aW=[];var amC=function(n){return!(isNaN(+n));};var adf=aDU.split(',');var Nj,YD;var Nl=0;var vR=0;for(var H=0;H<adf.length;H++){var HH=adf[H].split('-');var Dy=HH[0].replace(/\s+/g,'');if(Dy.length===0){continue;}var Hy=Dy;if(HH[1]!==undefined&&HH[1]!==""){Hy=HH[1].replace(/\s+/g,'');}Dy= +(Dy);Hy= +(Hy);if(amC(Dy)===true){Nl=parseInt(Dy);}if(amC(Hy)===true){vR=parseInt(Hy);}if(Nl<vR){Nj=Nl;YD=vR;}else{Nj=vR;YD=Nl;}if(HH.length>1){for(var ba=Nj;ba<=YD;ba++){aW.push(ba);}}else{aW.push(Nj);}}aW.sort(function(a,b){return a-b;});for(H=aW.length-1;H>0;H--){if(aW[H-1]===aW[H]){aW.splice(H,1);}}return aW;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gF;if(!(selections instanceof Array)){gF=[selections];}else{gF=selections;}IPCC.F.forEach(gF,function(cl){IPCC.bi.mD(cl.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bi.mD(cl.length,'selection.length',1,Number.MAX_VALUE);IPCC.bi.dm(cl.color,'selection.color');IPCC.bi.mD(cl.opacity,'selection.opacity',0,255);});IPCC.bi.dm(backgroundColor,'backgroundColor');var aGo=IPCC.F.afc(gF);return IPCC.F.map(aGo,function(ak){ak.length=ak.endIndex-ak.startIndex+1;return ak;});},layerColors:function(colors,backgroundColor){var La;if(!(colors instanceof Array)){La=[colors];}else{La=colors;}IPCC.F.forEach(La,function(cl){IPCC.bi.dm(cl.color,'selection.color');IPCC.bi.mD(cl.opacity,'selection.opacity',0,255);});IPCC.bi.dm(backgroundColor,'backgroundColor');return IPCC.F.amQ(La,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aiQ('Illegal page range value',pageRange);}var dM=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dM.unshift(upperLimit--);}}else{dM=awX(pageRange);if((dM.length===0&& !allowEmpty)||dM[0]<lowerLimit||dM[dM.length-1]>upperLimit){throw aiQ('Pages are out of range',dM.join(', '));}}return dM;}};module.exports=Util;},{}],169:[function(require,module,exports){var BS={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=BS;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var aft=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.zV=IPCC.F.extend({},options);this.az=new aft(element,this,options);this.ML={};return this;};ViewerControl.prototype.getPageCount=function(){return this.az.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.az.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.az.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.az.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.az.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.az.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.az.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.az.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.az.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.az.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.az.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.az.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.az.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.az.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.az.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.az.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.az.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.az.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.az.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.az.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.az.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.az.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.az.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.az.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.az.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.az.getPageRotation(pageNumber);}else{return this.az.getPageRotation();}};ViewerControl.prototype.search=function(cZ){return this.az.search(cZ);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.az.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.az.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.az.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.az.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(cZ){return this.az.validateSearch(cZ);};ViewerControl.prototype.requestRevisions=function(){return this.az.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.az.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.az.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.az.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.az.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.az.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.az.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.az.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.az.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.az.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.az.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.az.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.az.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.az.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.az.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.az.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.az.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.az.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.az.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.az.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.az){this.az.destroy();}this.az=null;this.pE=true;};ViewerControl.prototype.getMarkById=function(markId){return this.az.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.az.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.az.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.az.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.az.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.az.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.az.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.az.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.az.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.az.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.az.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.az.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.az.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.az.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.az.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.az.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.az.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.az.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(J){this.az.enterTextMarkEditingMode(J);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.az.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.az.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.az.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.az.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.az.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.az.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.az.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.az.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.az.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.az.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.az.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.az.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.az.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(zF){return this.az.convertDocument(zF);};ViewerControl.prototype.requestDocumentConversion=function(zF){return this.az.requestDocumentConversion(zF);};ViewerControl.prototype.loadAttachments=function(){return this.az.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.az.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.az.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.az.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.az.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.az.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.az.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.az.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.az.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.az.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.az.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.az.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.az.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.az.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.az.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.az.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.az.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.az.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.az.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.az.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var K=this;var GW=K.az;var cN=GW.fz;var aes=K.zV.documentID;if(K.XQ){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(K.az.fB===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(aes===viewingSessionId){return K;}K.XQ=true;K.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){K.ML[aes]={control:GW,options:K.zV};GW.arm();GW.aCj();}else{GW.destroy();}if(K.ML[viewingSessionId]){var amH=K.ML[viewingSessionId];K.zV=amH.options;K.az=amH.control;K.az.aCt();K.az.aBn();K.XQ=false;K.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(K.az.vu){K.trigger("PageCountReady",{pageCount:K.az.fv});}delete K.ML[viewingSessionId];}else{K.zV=IPCC.F.extend({},K.zV);K.zV.documentID=viewingSessionId;K.az=null;K.az=new aft(cN,K,K.zV);K.az.aAE(function(){K.XQ=false;K.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return K;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.az.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.az.getPageNumber();},set:function(value){return this.az.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.az.aF;}},"selectedSearchResult":{enumerable:true,get:function(){return this.az.getSelectedSearchResult();},set:function(val){return this.az.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.az.getCurrentMouseTool();},set:function(value){return this.az.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.az.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.az.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.az.getScaleFactor();},set:function(value){return this.az.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.az.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.az.getViewMode();},set:function(value){return this.az.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.az.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.az.getSelectedConversation();},set:function(conversation){return this.az.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.az.getRedactionViewMode();},set:function(value){return this.az.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.az.getMarkHandleMode();},set:function(value){return this.az.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),xa:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),azY:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),sq:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,XI:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,MG:require('./PCCViewer.ClientSearch'),FM:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),Il:require('./PCCViewer.RevisionsRequest').Il,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(uk){this.kA={};this.cZ={};this.fi=[];this.tn=false;this.fl=null;this.da=null;this.TM=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !uk,enumerable:true,get:function(){return this.cZ;}},"results":{configurable: ! !uk,enumerable:true,get:function(){return this.fi;}},"isComplete":{configurable: ! !uk,enumerable:true,get:function(){return this.tn;}},"errorCode":{configurable: ! !uk,enumerable:true,get:function(){return this.fl;}},"errorMessage":{configurable: ! !uk,enumerable:true,get:function(){return this.da;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.cZ;};SearchRequest.prototype.getResults=function(){return this.fi;};SearchRequest.prototype.getIsComplete=function(){return this.tn;};SearchRequest.prototype.getErrorCode=function(){return this.fl;};SearchRequest.prototype.getErrorMessage=function(){return this.da;};SearchRequest.prototype.getPagesWithoutText=function(){return this.TM;};SearchRequest.prototype.cancel=function(){this.qE=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.ds=0;this.aj=0;this.am=0;this.aY='';this.rr='';this.pu=0;this.dk='';this.Bj=0;this.ao='';this.YE='';this.lJ=null;};SearchResult.prototype.getId=function(){return this.ds;};SearchResult.prototype.getPageNumber=function(){return this.aj;};SearchResult.prototype.getText=function(){return this.aY;};SearchResult.prototype.getHighlightColor=function(){return this.rr;};SearchResult.prototype.getStartIndexInPage=function(){return this.pu;};SearchResult.prototype.getContext=function(){return this.dk;};SearchResult.prototype.getStartIndexInContext=function(){return this.Bj;};SearchResult.prototype.getSearchTerm=function(){return this.ao;};SearchResult.prototype.getBoundingRectangle=function(){return this.lJ;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aj;}},"id":{enumerable:true,get:function(){return this.ds;}},"text":{enumerable:true,get:function(){return this.aY;}},"highlightColor":{enumerable:true,get:function(){return this.rr;}},"startIndexInPage":{enumerable:true,get:function(){return this.pu;}},"context":{enumerable:true,get:function(){return this.dk;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bj;}},"searchTerm":{enumerable:true,get:function(){return this.ao;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.ds=0;this.am=0;this.aY='';this.rr='';this.pu=0;this.dk='';this.Bj=0;this.ao='';};SearchTaskResult.prototype.getId=function(){return this.ds;};SearchTaskResult.prototype.getText=function(){return this.aY;};SearchTaskResult.prototype.getHighlightColor=function(){return this.rr;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.pu;};SearchTaskResult.prototype.getContext=function(){return this.dk;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.Bj;};SearchTaskResult.prototype.getSearchTerm=function(){return this.ao;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.ds;}},"text":{enumerable:true,get:function(){return this.aY;}},"highlightColor":{enumerable:true,get:function(){return this.rr;}},"startIndexInInput":{enumerable:true,get:function(){return this.pu;}},"context":{enumerable:true,get:function(){return this.dk;}},"startIndexInContext":{enumerable:true,get:function(){return this.Bj;}},"searchTerm":{enumerable:true,get:function(){return this.ao;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 