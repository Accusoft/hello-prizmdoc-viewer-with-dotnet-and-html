// See license at https://www.npmjs.com/package/@prizmdoc/viewer-core
// @prizmdoc/viewer-core@13.18.3
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.viewerCore=f()}})(function(){var define,module,exports;return(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){'use strict';var styleElementsInsertedAtTop=[];var insertStyleElement=function(styleElement,options){var head=document.head||document.getElementsByTagName('head')[0];var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];options=options||{};options.insertAt=options.insertAt||'bottom';if(options.insertAt==='top'){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==='bottom'){head.appendChild(styleElement);}else{throw new Error('Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.');}};module.exports={createLink:function(href,attributes){var head=document.head||document.getElementsByTagName('head')[0];var link=document.createElement('link');link.href=href;link.rel='stylesheet';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];link.setAttribute('data-'+key,value);}head.appendChild(link);},createStyle:function(cssText,attributes,extraOptions){extraOptions=extraOptions||{};var style=document.createElement('style');style.type='text/css';for(var key in attributes){if(!attributes.hasOwnProperty(key)){continue;}var value=attributes[key];style.setAttribute('data-'+key,value);}if(style.sheet){style.innerHTML=cssText;style.sheet.cssText=cssText;insertStyleElement(style,{insertAt:extraOptions.insertAt});}else if(style.styleSheet){insertStyleElement(style,{insertAt:extraOptions.insertAt});style.styleSheet.cssText=cssText;}else{style.appendChild(document.createTextNode(cssText));insertStyleElement(style,{insertAt:extraOptions.insertAt});}}};},{}],2:[function(require,module,exports){var cursor=require('./util/cursor.js');var mask=require('./util/mask.js');function InputMask(elem,options){var originalPlaceholder=elem.placeholder;var regexMask=mask.getRegex(options.value,options.translations);function onInput(){var cursorPos=cursor.get(elem);var oldVal=elem.value;var newVal=mask.getValue(oldVal,options.value,options.translations,cursorPos);elem.value=newVal.val;setTimeout(function(){cursor.set(elem,cursorPos+newVal.cursorAdjustment);},1);};function clearInvalidValue(){elem.value=mask.fill(elem.value,options.value,options.translations);if(!regexMask.test(elem.value)){elem.value='';}}(function init(){clearInvalidValue();elem.placeholder=mask.getPlaceholder(options.value,options.translations);elem.addEventListener('input',onInput);elem.addEventListener('focusout',clearInvalidValue);elem.addEventListener('blur',clearInvalidValue);}());this.destroy=function(){clearInvalidValue();elem.placeholder=originalPlaceholder;elem.removeEventListener('input',onInput);elem.removeEventListener('focusout',clearInvalidValue);elem.removeEventListener('blur',clearInvalidValue);};};module.exports=InputMask;},{"./util/cursor.js":3,"./util/mask.js":4}],3:[function(require,module,exports){function getCursor(elem){var position=0;if(elem.selectionEnd){position=elem.selectionEnd;}return Number(position);};function setCursor(elem,position){elem.setSelectionRange(position,position);};module.exports={get:getCursor,set:setCursor};},{}],4:[function(require,module,exports){var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reHasRegExpChar=new RegExp(reRegExpChar.source);function getMaskRegex(mask,translations){var maskRegex='';var char,translation,i;for(i=0;i<mask.length;i++){char=mask.charAt(i);translation=translations[char];if(translation){maskRegex+=translation.toString().replace(/.{1}$|^.{1}/g,'');}else if(reHasRegExpChar.test(char)){maskRegex+=char.replace(reRegExpChar,'\\$&');}else{maskRegex+=char;}}return new RegExp(maskRegex);};function getMaskPlaceholder(mask,translations){var placeholder=mask;var key;for(key in translations){if(translations.hasOwnProperty(key)){if(reHasRegExpChar.test(key)){key=key.replace(reRegExpChar,'\\$&');}placeholder=placeholder.replace(new RegExp(key,'g'),'_');}}return placeholder;};function getMaskValue(value,mask,translations,cursorPos){var result={val:'',cursorAdjustment:0};var m=0;var v=0;var lastUntranslatedMaskChar,maskChar,valChar,translation;while(m<mask.length&&v<value.length){maskChar=mask.charAt(m);valChar=value.charAt(v);translation=translations[maskChar];if(translation){if(valChar.match(translation)){result.val+=valChar;m+=1;}else if(v<cursorPos){result.cursorAdjustment-=1;}else if(valChar===lastUntranslatedMaskChar){lastUntranslatedMaskChar=null;}v+=1;}else{result.val+=maskChar;if(valChar===maskChar){v+=1;}else{if(v<cursorPos){result.cursorAdjustment+=1;}lastUntranslatedMaskChar=maskChar;}m+=1;}}return result;};function fillMask(value,mask,translations){var newVal=value;var index=value.length;var maskChar;while(index<mask.length){maskChar=mask[index];if(translations[maskChar]){break;}newVal+=maskChar;index+=1;}return newVal;};module.exports={getRegex:getMaskRegex,getPlaceholder:getMaskPlaceholder,getValue:getMaskValue,fill:fillMask};},{}],5:[function(require,module,exports){var util=require('./util.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');function isSimpleSearchInput(input){return(typeof input.pattern==='string'&&(typeof input.caseSensitive==='boolean'||typeof input.caseSensitive==='undefined'));};function isProximitySearchInput(input){if(!util.isPositiveInteger(input.distance)|| !(input.subTerms instanceof Array)){return false;}return util.every(input.subTerms,isSimpleSearchInput);};function isSearchInput(input){if(util.isPlainObject(input)&&typeof input.type==='string'){if(input.type==='simple'){return isSimpleSearchInput(input);}if(input.type==='proximity'){return isProximitySearchInput(input);}}return false;};function isArrayOfSearchInputs(input){if(!(input instanceof Array)){return false;}return util.every(input,isSearchInput);};function getRegExp(searchInput){return(new RegExp(searchInput.pattern,searchInput.caseSensitive?'g':'gi'));};function cleanSearchResult(searchInput){return function(val){return{input:searchInput,text:val.text,startIndex:val.startIndex};};};function getRegexResults(text,searchInput){var regex=getRegExp(searchInput);var results=regexSearch.getResultsForTerm(text,regex);return results.map(cleanSearchResult(searchInput));};function getProximityResults(text,searchInput){var regexes=searchInput.subTerms.map(getRegExp);var results=proximitySearch.getResults(text,regexes,searchInput.distance);return results.map(cleanSearchResult(searchInput));};function getResults(text,searchInputs){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfSearchInputs(searchInputs)){throw util.inputError('searchInputs','array of search inputs');}var combinedResults=[];searchInputs.forEach(function(term,i){if(term.type==='simple'){combinedResults=combinedResults.concat(getRegexResults(text,term));}else if(term.type==='proximity'){combinedResults=combinedResults.concat(getProximityResults(text,term));}else{throw util.inputError('searchInputs['+i+'].type','string equal to "simple" or "proximity"');}});util.sortResults(combinedResults);return combinedResults;};module.exports={getResults:getResults};},{"./proximity-search.js":8,"./regex-search.js":9,"./util.js":10}],6:[function(require,module,exports){var util=require('./util.js');function validateGetContextOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.text',validator:function(){return(typeof options.text==='string');},error:'string'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.padding',validator:function(){return util.isMinInteger(options.padding,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return(options.startIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.endIndex',validator:function(){return(options.endIndex<options.text.length);},error:'integer that is less than "options.text.length"'},{property:'options.startIndex',validator:function(){return(options.startIndex<=options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function validateRectangleOptions(options){var rules=[{property:'options',validator:function(){return util.isPlainObject(options);},error:'object'},{property:'options.rectangles',validator:function(){return(options.rectangles instanceof Array);},error:'array'},{property:'options.startIndex',validator:function(){return util.isMinInteger(options.startIndex,0);},error:'integer that is at least 0'},{property:'options.endIndex',validator:function(){return util.isMinInteger(options.endIndex,0);},error:'integer that is at least 0'},{property:'options.startIndex',validator:function(){return util.isMaxInteger(options.startIndex,options.endIndex);},error:'integer that is at most "options.endIndex"'}];util.validateInput(rules);};function getContext(options){validateGetContextOptions(options);var startIndex=Math.max(options.startIndex-options.padding,0);var endIndex=Math.min(options.endIndex+options.padding,options.text.length-1);return{startIndex:(startIndex===0)?options.startIndex:options.padding,context:options.text.substring(startIndex,endIndex+1)};};function getBoundingRectangle(options){validateRectangleOptions(options);var boundingRectangle={left:Number.MAX_VALUE,right:0,top:Number.MAX_VALUE,bottom:0};var rectangle;for(var i=options.startIndex;i<=options.endIndex;i++){rectangle=options.rectangles[i];boundingRectangle.left=Math.min(rectangle[0],boundingRectangle.left);boundingRectangle.right=Math.max(rectangle[0]+rectangle[2],boundingRectangle.right);boundingRectangle.top=Math.min(rectangle[1],boundingRectangle.top);boundingRectangle.bottom=Math.max(rectangle[1]+rectangle[3],boundingRectangle.bottom);}return{x:boundingRectangle.left,y:boundingRectangle.top,width:boundingRectangle.right-boundingRectangle.left,height:boundingRectangle.bottom-boundingRectangle.top};};function getLineRectangles(options){validateRectangleOptions(options);var lineRectangles=[];function processCharacter(rectangle){var character=util.getRectangleObject(rectangle);var line=lineRectangles[lineRectangles.length-1];if(util.isCharacterAtEndOfLine(character,line)){lineRectangles.splice(-1,1,util.joinRectangles(line,character));return;}lineRectangles.push(character);};for(var i=options.startIndex;i<=options.endIndex;i++){processCharacter(options.rectangles[i]);}return lineRectangles;};module.exports={getContext:getContext,getBoundingRectangle:getBoundingRectangle,getLineRectangles:getLineRectangles};},{"./util.js":10}],7:[function(require,module,exports){var formatter=require('./formatter.js');var regexSearch=require('./regex-search.js');var proximitySearch=require('./proximity-search.js');var combinedSearch=require('./combined-search.js');module.exports={formatter:formatter,regex:regexSearch,proximity:proximitySearch,combined:combinedSearch};},{"./combined-search.js":5,"./formatter.js":6,"./proximity-search.js":8,"./regex-search.js":9}],8:[function(require,module,exports){var regexSearch=require('./regex-search.js');var util=require('./util.js');function isAProximityResult(matching,searchTerms){return(Object.keys(matching).length===searchTerms.length);};function getStartIndex(wordIndex,searchResult){var startIndex= -1;for(var i=1;i<wordIndex.length;i++){if(wordIndex[i]>searchResult.startIndex){startIndex=i-1;break;}}if(startIndex=== -1&&searchResult.startIndex>wordIndex[wordIndex.length-1]){startIndex=wordIndex.length-1;}return startIndex;};function getEndIndex(wordIndex,searchResult,termsLength,distance){var startIndex=getStartIndex(wordIndex,searchResult);var endIndex=null;if(distance===0){endIndex=startIndex+termsLength-1;}else{endIndex=startIndex+((termsLength-1)*distance+termsLength)-1;}return wordIndex[endIndex<wordIndex.length?endIndex:wordIndex.length-1];};function getWordIndex(text){if(typeof text!=='string'){throw util.inputError('text','string');}var wordIndex=[];var regex=(/[^\s]+/gm);var regexResult;while((regexResult=regex.exec(text))!==null){wordIndex.push(regexResult.index);}return wordIndex;};function getResults(text,searchTerms,distance){if(!util.isPositiveInteger(distance)){throw util.inputError('distance','integer that is greater than 0');}var wordIndex=getWordIndex(text);var searchResults=regexSearch.getResults(text,searchTerms);var proximityResults=[];searchResults.forEach(function(searchResult,i){var opts={nextIndex: -1,currentIndex:i,matches:{},nextResult:null};opts.endIndex=getEndIndex(wordIndex,searchResult,searchTerms.length,distance);opts.matches[searchResult.term]=true;while(opts.nextIndex<opts.endIndex&& !isAProximityResult(opts.matches,searchTerms)&&opts.currentIndex+1<searchResults.length){opts.nextResult=searchResults[++opts.currentIndex];opts.nextIndex=opts.nextResult.startIndex;if(opts.nextIndex<=opts.endIndex){opts.matches[opts.nextResult.term]=true;}}if(isAProximityResult(opts.matches,searchTerms)){proximityResults.push({text:text.substring(searchResult.startIndex,opts.nextResult.startIndex+opts.nextResult.text.length),startIndex:searchResult.startIndex});}});return proximityResults;};module.exports={getWordIndex:getWordIndex,getResults:getResults};},{"./regex-search.js":9,"./util.js":10}],9:[function(require,module,exports){var util=require('./util.js');function isRegExp(input){return(input instanceof RegExp);};function isArrayOfRegExp(input){if(!(input instanceof Array)){return false;}return util.every(input,isRegExp);};function validateGetResultsForTerm(text,searchTerm){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isRegExp(searchTerm)){throw util.inputError('searchTerm','regular expression');}};function getResultsForTerm(text,searchTerm){validateGetResultsForTerm(text,searchTerm);var searchResults=[];var regexResult;while((regexResult=searchTerm.exec(text))!==null){if(regexResult[0]){searchResults.push({term:searchTerm.toString(),text:regexResult[0],startIndex:regexResult.index});}else{searchTerm.lastIndex+=1;}}return searchResults;};function getResults(text,searchTerms){if(typeof text!=='string'){throw util.inputError('text','string');}if(!isArrayOfRegExp(searchTerms)){throw util.inputError('searchTerms','array of regular expressions');}var combinedResults=[];for(var i=0;i<searchTerms.length;i++){combinedResults=combinedResults.concat(getResultsForTerm(text,searchTerms[i]));}util.sortResults(combinedResults);return combinedResults;};module.exports={getResultsForTerm:getResultsForTerm,getResults:getResults};},{"./util.js":10}],10:[function(require,module,exports){function inputError(property,expected){var a=(['a','e','i','o','u'].indexOf(expected.charAt(0))> -1)?'an':'a';return new Error('Invalid argument. Argument "'+property+'" must be '+a+' '+expected+'.');};function isInteger(input){return(typeof input==='number'&&Math.round(input)===input);};function isMinInteger(input,min){if(typeof min!=='number'){throw inputError('min','number');}return(isInteger(input)&&input>=min);};function isMaxInteger(input,max){if(typeof max!=='number'){throw inputError('max','number');}return(isInteger(input)&&input<=max);};function isPositiveInteger(input){return isMinInteger(input,0);};function isPlainObject(input){return(typeof input==='object'&&input!==null&& !(input instanceof Array)&&input.constructor===Object);};function validateInput(rules){rules.forEach(function(rule){if(!rule.validator()){throw inputError(rule.property,rule.error);}});return true;};function every(obj,fn){for(var key in obj){if(obj.hasOwnProperty(key)){if(!fn(obj[key],key)){return false;}}}return true;};function sortResults(results){results.sort(function(a,b){return a.startIndex-b.startIndex;});};function joinRectangles(rectA,rectB){var left=Math.min(rectA.x,rectB.x);var top=Math.min(rectA.y,rectB.y);var right=Math.max(rectA.x+rectA.width,rectB.x+rectB.width);var bottom=Math.max(rectA.y+rectA.height,rectB.y+rectB.height);return{x:left,y:top,width:right-left,height:bottom-top};};function isCharacterAtEndOfLine(character,line){if(line&&Math.abs(character.y-line.y)<1&&Math.abs(character.height-line.height)<1&&(character.x+character.width)>=(line.x+line.width)){return true;}return false;};function getRectangleObject(rect){return{x:rect[0],y:rect[1],width:rect[2],height:rect[3]};};module.exports={inputError:inputError,isInteger:isInteger,isMinInteger:isMinInteger,isMaxInteger:isMaxInteger,isPositiveInteger:isPositiveInteger,isPlainObject:isPlainObject,validateInput:validateInput,every:every,sortResults:sortResults,joinRectangles:joinRectangles,isCharacterAtEndOfLine:isCharacterAtEndOfLine,getRectangleObject:getRectangleObject};},{}],11:[function(require,module,exports){var css="/* page list specific */\n.pccViewerControl {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  /* promote to a new layer */\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  /* iOS momentum scrolling */\n  -webkit-overflow-scrolling: touch;\n  /* helps touch zoom not overlap any other element */\n  overflow: hidden;\n}\n/* normalize override */\nsvg:not(:root) {\n  overflow: visible!important;\n}\n.pccPageListContainer {\n  box-sizing: border-box;\n}\n.pccPageListContainerWrapper {\n  -ms-transform: scale(1,1) translate(0px,0px);\n  -moz-transform: scale(1,1) translate(0px,0px);\n  -webkit-transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  transform: scale3d(1,1,1) translate3d(0px,0px,0px);\n  -ms-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -webkit-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n  will-change: transform, -webkit-transform;\n}\n.pccPageListLoading {\n  height: 30px;\n  margin: -15px;\n  left: 50%;\n  position: absolute;\n  top: 50%;\n  width: 30px;\n}\n.pccPageListComments {\n  position: relative;\n  min-width: 300px;\n  height: auto;\n  vertical-align: top;\n  display: table-cell;\n  box-sizing: border-box;\n  z-index: 2;\n}\n.pccPageListComments > div {\n  position: absolute;\n}\n.pccHidden {\n  display: none;\n}\n.pccPageListItem {\n  background: #fff;\n  overflow: hidden;\n  margin: 13px;\n  vertical-align: middle;\n  border-bottom: 1px solid #d4d6db;\n}\n/* Single Page view mode */\n.pccSinglePageView .pccPageListItem {\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-timing-function: ease-out;\n  animation-timing-function: ease-out;\n}\n/* Next and previous page list items for single page view mode */\n.pccSinglePageView .pccNextPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccPreviousPage {\n  opacity: 0;\n  z-index: 0;\n}\n.pccSinglePageView .pccCurrentPage {\n  opacity: 1;\n  z-index: 1;\n}\n/* Default animations for single page view mode */\n.pccSinglePageView .pccNextPageIn {\n  animation-name: moveInFromRight;\n  -webkit-animation-name: moveInFromRight;\n}\n.pccSinglePageView .pccPreviousPageIn {\n  animation-name: moveInFromLeft;\n  -webkit-animation-name: moveInFromLeft;\n}\n.pccSinglePageView .pccPageForward {\n  animation-name: moveLeft;\n  -webkit-animation-name: moveLeft;\n}\n.pccSinglePageView .pccPageBack {\n  animation-name: moveRight;\n  -webkit-animation-name: moveRight;\n}\n@keyframes moveRight {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveRight {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveLeft {\n  0% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes moveLeft {\n  0% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n\n  100% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n}\n@keyframes moveInFromLeft {\n  0% {\n    transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromLeft {\n  0% {\n    -webkit-transform: translate3d(-110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@keyframes moveInFromRight {\n  0% {\n    transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n@-webkit-keyframes moveInFromRight {\n  0% {\n    -webkit-transform: translate3d(110%, 0, 0);\n    opacity: 0;\n  }\n\n  100% {\n    -webkit-transform: translate3d(0, 0, 0);\n    opacity: 1;\n  }\n}\n/*\n.pccPageListItem * {\n    -ms-touch-action: pinch-zoom pan-x pan-y;\n    touch-action: pinch-zoom pan-x pan-y;\n} */\n.pccPageListItem .pccPageListItemLoading {\n  margin: 30% auto;\n  display: block;\n  filter: Alpha(Opacity=50);\n  background-color: #fff;\n}\n.pccPageListItem .pccPageLoadFail {\n  margin: 35% auto;\n  text-align: center;\n  line-height: 2;\n  color: #777;\n}\n/* PageList container fix */\n.pccPageListItem .igAnchor,\n.pccPageListItem .igViewerScroller,\n.pccPageListItem .igViewerGraphics,\n.pccThumbnailView .igAnchor {\n  /* never recalculate these values */\n  width: 100% !important;\n  height: 100% !important;\n}\n.igAnchor > svg {\n  width: 100%;\n  height: 100%;\n}\n.igMagnifierFrame .igAnchor > svg {\n  width: auto;\n  height: auto;\n}\n.igViewerScroller,\n.igViewerGraphics,\n.igAnchor,\n.igAnchor > svg,\n.igAnchor svg svg {\n  -webkit-user-select: none !important;\n  -webkit-touch-callout: none !important;\n  -webkit-tap-highlight-color: rgba(0,0,0,0) !important;\n}\n.igAnchor svg svg use {\n  pointer-events: none;\n}\n/* do not show textarea outline on text marks */\n.pccViewerControl textarea {\n  outline: none;\n}\n/* copy text */\n.pccCopyText {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  opacity: 0;\n  filter: alpha(opacity=0);\n  color: #000;\n}\n/* about modal */\n.pccPageListAboutModal {\n  background: #383a3f;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 280px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  box-shadow: 0 2px 4px -1px rgba(0, 0, 0, .4);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListAboutModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListAboutModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #fff;\n  font-weight: bold;\n}\n.pccPageListAboutModal p {\n  font-size: 12px;\n  color: #c2c5ce;\n}\n.pccPageListAboutModal p:last-child {\n  color: #c2c5ce;\n}\n.pccPageListAboutModal a {\n  color: #afc3eb;\n}\nhtml .pccPageListAboutModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #fff;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListAboutModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 122px;\n}\n/* nag modal */\n.pccPageListNagModal {\n  background: #e7e9ef;\n  position: absolute;\n  top: -300px;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  width: 480px;\n  padding: 10px;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 5;\n  border-radius: 3px;\n  text-align: center;\n  -webkit-box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  box-shadow: 0 6px 6px -1px rgba(0, 0, 0, .5);\n  -webkit-transition: all 400ms;\n  transition: all 400ms;\n}\n.pccPageListNagModal * {\n  text-align: left;\n  font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  text-size-adjust: 100%;\n}\n.pccPageListNagModal h3 {\n  margin: 10px 0;\n  font-size: 18px;\n  color: #000000;\n  font-weight: bold;\n}\n.pccPageListNagModal p {\n  font-size: 12px;\n  color: #000000;\n}\n.pccPageListNagModal p:last-child {\n  color: #000000;\n}\n.pccPageListNagModal a {\n  color: #263fea;\n}\nhtml .pccPageListNagModal button {\n  position: absolute;\n  top: 0;\n  right: 0;\n  font-size: 20px;\n  color: #000000;\n  background: none;\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: auto;\n}\n.pccPageListNagModal.open {\n  visibility: visible;\n  opacity: 1;\n  top: 20px;\n}\n.pccEditMarkButton {\n  display: inline-block;\n  background: no-repeat url(../../../../src/img/EditTextMark.png);\n  border: none;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  height: 26px;\n  width: 26px;\n  -webkit-background-size: 26px 26px;\n  background-size: 26px;\n  cursor: pointer !important;\n}\n/* svg elements can have body tags inside them, so we protect styling of them */\n/* viewer marks that do not look correct can likely be affected by conflicting styles */\n.pccViewerControl body {\n  background-color: initial;\n  min-height: initial;\n  position: static;\n  height: 100%;\n}\n/* style for thumbnail views */\n.pccThumbnailWrapper {\n  position: relative;\n  display: block;\n  width: 100px;\n  height: 100px;\n  margin: 5px 0 2em 0;\n}\n.pccThumbnail {\n  width: 100%;\n  height: 100%;\n}\n.pccThumbnailView {\n  /* it's important not to edit these width and height\n     * they are depended upon in the actual size calculation */\n  height: 100%;\n  width: 100%;\n  margin: auto !important;\n}\n.pccThumbnailLabel {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n/* mark selection handles */\n.pccMarkHandleTopLeft,\n.pccMarkHandleTopCenter,\n.pccMarkHandleTopRight,\n.pccMarkHandleMidLeft,\n.pccMarkHandleMidRight,\n.pccMarkHandleBottomLeft,\n.pccMarkHandleBottomCenter,\n.pccMarkHandleBottomRight,\n.pccMarkHandlePoint,\n.pccMarkHandleTextSelectionStart,\n.pccMarkHandleTextSelectionEnd {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDQ3M0M1RkFDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDQ3M0M1RjlDMUM2MTFFNDlBMzZFODY3RUQwOTI4QjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowYzJmZjg5Ny1iMWRmLTQ4MGItOGRlNy01N2VkNGE0ZjJmZDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZDJiYTk2MTktNjQyYy00Mzk1LWEyNjItYmU0OTczOTAxM2IxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+SvzVDQAAAn9JREFUeNrsWMFr01AcTvvSNsnG1jQqOIeTTQ/z4EA9WFQQPYpn0epFL/4DiiBMFATRf0AvXtSJdwU9bHhY3UlBQQdThxVRUNN2wzVd26R+v/ILVA9r0iVQWR58zXuP9/3yNXnv9/tIrNlsSr3c4lKPt0hgJDASGAn8jwTKgAEMSAEHXU/TgRPAQWC0LV4dWADywDOg1O0NYn5K3ZEbc63riytZevKngTNAqgNtFXgATIHvMD+8J4jgGi7XgP3uXKVmi/xCMf3ll6XKIt4czihWdpe+pCWFzX/gPDAB7lWIrIT2BHnP3gb20qC0Uk/cnSmMTL8zh+q289d+Toi4c3S38e3CsZGC3peo8/Rr4CLghCXwLHCOOp9+VNRLj+YnzN81ZS2C0Z+s3jo1/mZsi2bx1D3gfhinOAPk+MnJlx/P7+kkjhqtobXE4akcxwpc4HH3QNyZLuz4uVxTvRJpLXF4mOJYgQs8RD/LVkOeeW8O+T1c4GxdWbUFDw8HLVDmPCfNfSyl/z0QXho44uWHYpqHo14ziNcbDboBv5qWInXZKA1xV3DMjVOLl4AGdYYNtdrtzbZvUt1UY3PMwASSuEXqHBjTy5SE/YoDx87u1Ms8XHT/cJCvON/ajJrcoArhVyA43/sV2ebhbBhp5gkXfonK1+aBpOWVSGvB+dxmHp6GIbAIPGx5LNTWmyfH31IZ60SiNbQWHPeVUgxzY5oF8oNst64D+9x5qhCzsFvIkRrslrMto1TpQPSlhN1GfwVMkt3y4we7NayCDWvOo2GdolcLvu3XsMbW+fHI4MK/luV/zvs3fMvvoV4PchIuBxU0Fn1+iwRGAiOBkcDebn8EGACEVf6TPnvOjAAAAABJRU5ErkJggg==);\n}\n@media screen and (-webkit-min-device-pixel-ratio: 2), \n       screen and (min-resolution: 2dppx),\n       screen and (min-resolution: 192dpi) {\n  .pccMarkHandleTopLeft,\n  .pccMarkHandleTopCenter,\n  .pccMarkHandleTopRight,\n  .pccMarkHandleMidLeft,\n  .pccMarkHandleMidRight,\n  .pccMarkHandleBottomLeft,\n  .pccMarkHandleBottomCenter,\n  .pccMarkHandleBottomRight,\n  .pccMarkHandlePoint,\n  .pccMarkHandleTextSelectionStart,\n  .pccMarkHandleTextSelectionEnd {\n    -webkit-background-size: 40px 40px;\n    background-size: 40px;\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAABrCAYAAABwv3wMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMmJhOTYxOS02NDJjLTQzOTUtYTI2Mi1iZTQ5NzM5MDEzYjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0QwNDg4NENDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0QwNDg4NEJDNDAzMTFFNDgxM0JDREZDMUY0RTFFODIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjI3ZGMxZS0xNjg1LTQ2YTktOTI5Mi0wYzNkMTM4YjU3MWMiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2YWNjOTM4MC0wYzZkLTExNzgtYmZjOS1jNTk5OGE2MjYzNGUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Xpv3rAAAGnklEQVR42uycXUxbZRjHT1u++gHjoxTWjTLYxpTBytxUEE3IdiHzxo8tzvmRyIwXRC+cNyaiJk42k11si0a9ME4v/LyYmTeCF1tIJo6YMCgwVMJnmQzKR7cWWr7a+jxyMLjsnNMWes7b0+ef/APJe9r3Of31fc97Tp/n1YRCIY4UH9LSR0CwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLRLAIFolgkQgWwSIRLBLBIlgkgkUiWASLxJ6SVHAOFvA28GZwFjgVbALPghfAbvAt8DDYRbDklRH8CHg/+AGwOYLXToGvg9vBreC5eDpxTRzluu8GPw1+lB896xWOuqvgS+AbBGtjZAfX8X9jJQf4S/4vwYpCOeB68EEZ+8SR9hE/XdJqMEwdAH8lMyjUY/wIO0ALjHuo5tS1//5vaajCL89r4GcUDAlXku/y18hPIL7gmvhoNch/ECnw5x3+2x2R3HNLyf0Tc/rhSb/BtxjQzS8FdGnJuoAhRRfYlqv37cgz+rOMyUsRvi1+YXIhrkYAtkgj6/+gToP3hfua7lGvqcnhynM4PVlj7nmT2JVXA7Zmpc3abRnuQ3bLRHlB+mwE0+JpiK8BgC3QAmPluvkBf+8kKoy02eEyf982Vjgy5U+PtsNCs977XKV1pNZumdKE95Lf+KkxmOiw8Bp1JJyRdLZpsGRo0pexUR0X5Ro8b9QW9cGIC2ek/Qj+OJFh4TTzPj9TCY6mCy3Ord9eG9seCIY0Gx2ATqsJPV9lHTheY7sZxps3gi8nIqwcfnluEjpgcTmofe9i3662fnderIN5aHumq/HIrj9TkrRiUx2OwJfB04l2n1UvBerNb3rL5ACF+n3gtuXE171l2K/Esr4+0W6K7WI3vDjWcUT13PRmyxnUjb+92divxFxzkIvtoy/mYNWJNcI1qkCuEXW3sN8voH+Jw44nCqxysW8mrvpgMVGk5KrnO+gfRrVJ5JA9/HmoHtZTYtPf+ebBnbDqU/SZJfZ/rmlwZyjK81ALLAO4Wqjx505X7oDLt4mFpyoYB8Yjckg1fz6qhSX6w+EPbWM2jiFJxJPKRfEcM55g7RdqcDg9Jud09I+QYiGMB+MSOWSfmmHtFWpo7prM4xhUk8OVH835xDssMyeS3NIxfCebRVidI54siXOyqBGW4L0L/h41cWfByCKscYgL4xM5pCihYPWNzxlYTtvB+ESaN6sRluA0Nzrt1zPMSiq+TDXCEpzmZueXdSzDkojPoEZYgvP+/FKQaVgS8aWoEZZgwkpasjbAMiyJ+BbVCEswr9yQmsQ0LFOaaHw+NcKaEWooNOv9LMMqyBGN77YaYY0KNZTkG30sw5KI71ZCwcIEzPxNqUyW30BcPokE0SE1wpriRBL+Kwoz3CzCgrhmJM7JpUZYqA6hhkN2yziLsCTi6pAzFrlhtQs1YKKlLUfvZQkUxiORANquZlhY/ySYM3600upkCZZEPKuVk6qFhauqVqHGJyosk8UWg4cFUBgHxiNySKuc91hKwEJdEmrA9OUTtcV9Oq1G0QIA7B/j0ER5HmqC1Q3uEmrEcpxjVdYhJWFh/xJlQV38eageFuqCWOMrNbbRyh1ZE0oEhv1i/+uJX22wsCr+sth0ePJwyV9lW9Nn5Axq95b0GexXYvq7wilU1a9kMuVn3EpVxj2F1RxnXyjtkWuEPVic6Tr3YmlPGFUknyr1gSkJC8tmznAribiCwD48et8fL1Vv6cc6qhgtJkL4/meO3d8rAQp1nlOo3OffGYeBysfXwYclVyWjXhOmVm9kxi4uz3HVF2aNccJXPq6O7rBrijGlGTNl15MQijXFzz5sdeJ9FNUURyDcB6OloQpTkU9xEWS4do540n/pnrR0OT3ZY+55YxjV+nN7bBkzj5fnuioKMyJ5rIUbc72N1fpK74PBBCzUevfBwHQx55RfP7ewrFtYDupSk7QBY2pSwGbW+/H3qCj2wVh9SnFydR8MgsXeDjNrr1FM7TDD6kZbWG3yFidScxxDzfKr1KusfSisbrT1K7dSFX9F5n4RUB2LoFgeWWtVAX4VXBrDPnrBn+O6heUPIp528sTymie5lYrDjdhzaplfQPzEyfyLb7SKpz1yO3in88D28kv9nAifmlznjaC8cXT+cTWyhHT37tNp3EpePWZLzXO0+zRTcsU7hHhfDZIIFsEiESwSwSJYJIJFIlgEi0SwSASLYJEIFolgESwSwSIRLIJFIlgkgkWwSASLYJEIFolgJbT+EWAAqiM7sRyeWSQAAAAASUVORK5CYII=);\n  }\n}\n.pccv input.no-ms-clear::-ms-clear {\n  display: none;\n}\n.pcc-image-stamp-img {\n  height: auto;\n  max-height: available;\n  width: 100%;\n  max-width: 100%;\n  position: relative;\n}\n.pcc-load,\n.pccPageListLoading,\n.pccPageListItemLoading {\n  -webkit-animation-duration: 1s;\n  animation-duration: 1s;\n  -webkit-animation-iteration-count: infinite;\n  animation-iteration-count: infinite;\n  -webkit-animation-timing-function: linear;\n  animation-timing-function: linear;\n  -webkit-animation-name: pcc-anim-load;\n  animation-name: pcc-anim-load;\n}\n@-webkit-keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n@keyframes pcc-anim-load {\n  0% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n\n  100% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n}\n.pccPageListLoading svg,\n.pccPageListItemLoading svg {\n  fill: #7d7f85;\n  height: 26px;\n  width: 26px;\n}\n.pccPageListLoading,\n.pccPageListItemLoading {\n  display: block;\n}\n@media print {\n  .no-clip-on-print {\n    clip-path: none !important;\n  }\n\n  .expand-on-print {\n    transform: scale(9999, 9999);\n  }\n}\n";(require("browserify-css").createStyle(css,{"href":"src\\css\\viewercontrol.css"},{"insertAt":"bottom"}));module.exports=css;},{"browserify-css":1}],12:[function(require,module,exports){var mq=function(){this.aJ=false;this.T=false;this.aF=IPCC.bh.AddFreehandMark;};mq.prototype.na=function(T){this.T=T;};mq.prototype.eB=function(){this.T=false;};mq.prototype.bk=function(){if(this.aJ){this.V=null;this.oT=null;this.T.ox(null);this.aJ=false;this.T.cv();}};mq.prototype.rh=function(){this.bk();};mq.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){this.aJ=true;this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.V.get_points().addPoint(R.imagePoint);this.oT=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.T.ox(this.V,this.oT);this.V.set_lineWidth(this.oT.ez);this.V.set_lineColor(this.oT.jO);this.V.set_opacity(this.oT.co);this.qH=R.imagePoint;this.nq=R.windowPoint;this.T.cv();}};mq.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){this.V.get_points().addPoint(R.imagePoint);this.T.cv();}};mq.prototype.zV=function(R){if(this.aJ){this.bk();}};mq.prototype.kN=function(R){if(this.aJ&&R.domEvent.button===0){this.V.get_points().addPoint(R.imagePoint);var amI=this.V.get_points();var aL=[];var hB=Number.MAX_VALUE,jv=0,_top=Number.MAX_VALUE,hL=0;var J=0;for(J=0;J<amI.get_length();J++){var rU=amI.getPoint(J);if(rU.x<hB){hB=rU.x;}if(rU.x>jv){jv=rU.x;}if(rU.y<_top){_top=rU.y;}if(rU.y>hL){hL=rU.y;}aL.push({x:rU.x,y:rU.y});}var BK=3;var rJ;var sc=(aL.length<BK)?aL:IPCC.h.filter(aL,function(af){if(rJ){var ay=af.x-rJ.x,ck=af.y-rJ.y,eR=ay*ay+ck*ck;if(Math.sqrt(eR)<4){return false;}}af.x=af.x-hB;af.y=af.y-_top;rJ=af;return true;});if(sc.length<BK){sc=[aL[0],aL[aL.length-1]];}var bW='';rJ=undefined;if(sc.length<BK){bW+=this.Mi(sc);}else{bW='M'+IPCC.h.bspline(sc);bW=bW.replace(/\d*\.?\d*/g,function(bN){var Fh=bN.indexOf('.');if(bN.length&&Fh>0){return bN.substr(0,Fh+3);}else if(bN!==""){return bN;}else{return bN;}});}var aD=jv-hB;var ab=hL-_top;if(ab===0&&aD===0){this.bk();return;}var ro={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.oT.set_rectangle({x:hB,y:_top,width:aD,height:ab});this.oT.set_pathString(bW);this.oT.set_pathWidth(aD);this.oT.set_pathHeight(ab);this.T.ox(null);this.T.ee().addMark(this.oT,ro);this.T.cv();}this.bk();};mq.prototype.Mi=function(xo,FI){var TJ=(FI&&IPCC.h.Dp)?'m':'M';var YS=(FI&&IPCC.h.Dp)?'l':'L';return IPCC.h.map(xo,function(af,J){if(J===0){return TJ+af.x+','+af.y;}else{return YS+af.x+','+af.y;}}).join('');};mq.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};mq.prototype.mn=function(){this.bk();};module.exports=mq;},{}],13:[function(require,module,exports){var mz=function(){this.aJ=false;this.T=false;this.aF=IPCC.bh.AddLineMark;};mz.prototype.na=function(T){this.T=T;};mz.prototype.eB=function(){this.T=false;};mz.prototype.bk=function(){if(this.aJ){this.V=null;this.T.ox(null);this.aJ=false;this.T.cv();}};mz.prototype.rh=function(){this.bk();};mz.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){this.aJ=true;this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.V.get_points().setPoint(0,R.imagePoint);this.V.get_points().setPoint(1,R.imagePoint);this.T.ox(this.V);this.qH=R.imagePoint;this.nq=R.windowPoint;}};mz.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){this.V.get_points().setPoint(1,R.imagePoint);this.T.cv();}};mz.prototype.kN=function(R){if(this.aJ&&R.domEvent.button===0){var fN=R.windowPoint.x-this.nq.x;var hJ=fN*fN;fN=R.windowPoint.y-this.nq.y;hJ+=fN*fN;if(hJ>25){var T=this.T;var ro={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.V.get_points().setPoint(1,R.imagePoint);this.T.ox(null);this.T.ee().addMark(this.V,ro);T.cv();}}this.bk();};mz.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};mz.prototype.mn=function(){this.bk();};module.exports=mz;},{}],14:[function(require,module,exports){var kb=function(bI){this.aJ=false;this.T=false;this.bI=bI;switch(this.bI){case IPCC.Web.UI.MarkType.Polygon:this.aF=IPCC.bh.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.aF=IPCC.bh.AddPolylineMark;this.Zi=false;break;}};kb.prototype.na=function(T){this.T=T;};kb.prototype.eB=function(){this.T=false;};kb.prototype.bk=function(){if(this.aJ){if(arguments[0]){if(arguments[0]===true){if(this.V&&this.Zi===false){this.T.ee().addMark(this.V);this.Zi=true;this.T.cv();}}}this.V=null;this.T.ox(null);this.aJ=false;this.T.cv();}};kb.prototype.rh=function(){this.bk();};kb.prototype.jQ=function(R){if(R.domEvent.button===0){if(!this.aJ){this.aJ=true;this.V=new IPCC.Web.UI.Mark(this.bI);this.V.get_points().addPoint(R.imagePoint);this.T.ox(this.V);}var aL=this.V.get_points();if(aL.get_length()>0){aL.setPoint(aL.get_length()-1,R.imagePoint);}aL.addPoint(R.imagePoint);this.qH=R.imagePoint;this.nq=R.windowPoint;this.T.cv();}else{this.bk();}};kb.prototype.zV=function(R){if(this.aJ&&R.domEvent.button===0){var aL=this.V.get_points(),cW=aL.get_length(),Uj,UB;if(cW>2){var afJ=true;while(afJ){cW=aL.get_length();Uj=aL.getPoint(cW-1);UB=aL.getPoint(cW-2);if(Uj.x===UB.x&&Uj.y===UB.y){aL.removePoint(cW-1);}else{afJ=false;}}}if(aL.get_length()>0){aL.setPoint(aL.get_length()-1,R.imagePoint);}this.T.ox(null);var ro={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.T.ee().addMark(this.V,ro);this.Zi=true;this.T.cv();}this.bk();};kb.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){var aL=this.V.get_points();if(aL.get_length()>0){aL.setPoint(aL.get_length()-1,R.imagePoint);}this.T.cv();}};kb.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};kb.prototype.mn=function(){this.bk();};module.exports=kb;},{}],15:[function(require,module,exports){var fI=function(bI){this.aJ=false;this.T=false;this.bI=bI;switch(this.bI){case IPCC.Web.UI.MarkType.Rectangle:this.aF=IPCC.bh.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.aF=IPCC.bh.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:this.aF=IPCC.bh.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.aF=IPCC.bh.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.aF=IPCC.bh.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.aF=IPCC.bh.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:this.aF=IPCC.bh.AddRectangleMark;break;}};fI.prototype.na=function(T){this.T=T;};fI.prototype.eB=function(){this.T=false;};fI.prototype.bk=function(){if(this.aJ){this.V=null;this.T.ox(null);this.aJ=false;this.T.cv();}};fI.prototype.rh=function(){this.bk();};fI.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){this.aJ=true;this.V=new IPCC.Web.UI.Mark(this.bI);this.V.set_rectangle({x:R.imagePoint.x,y:R.imagePoint.y,width:0,height:0});this.T.ox(this.V);this.qH=R.imagePoint;this.nq=R.windowPoint;}};fI.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){var lO={x:Math.min(R.imagePoint.x,this.qH.x),y:Math.min(R.imagePoint.y,this.qH.y)};lO.width=Math.max(R.imagePoint.x,this.qH.x)-lO.x;lO.height=Math.max(R.imagePoint.y,this.qH.y)-lO.y;this.V.set_rectangle(lO);this.T.cv();}};fI.prototype.kN=function(R){if(this.aJ&&R.domEvent.button===0){var fN=R.windowPoint.x-this.nq.x;var hJ=fN*fN;fN=R.windowPoint.y-this.nq.y;hJ+=fN*fN;if(hJ>25){var lO={x:Math.min(R.imagePoint.x,this.qH.x),y:Math.min(R.imagePoint.y,this.qH.y)};lO.width=Math.max(R.imagePoint.x,this.qH.x)-lO.x;lO.height=Math.max(R.imagePoint.y,this.qH.y)-lO.y;this.T.ox(null);this.V.set_rectangle(lO);var bb=this.V;var T=this.T;var ro={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.T.ee().addMark(this.V,ro);if(bb.jm()===IPCC.Web.UI.MarkType.Text||bb.jm()===IPCC.Web.UI.MarkType.TextLine||bb.jm()===IPCC.Web.UI.MarkType.TextAreaSignature){T.vK(bb);}T.cv();}}this.bk();};fI.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};fI.prototype.mn=function(){this.bk();};module.exports=fI;},{}],16:[function(require,module,exports){var cS={};var aon=require('./ArtUIDirector');var Ra=require('./ArtSVGUIDirector');cS.vu={JH:function(){var wu=IPCC.cS.vu;if(wu.vL===null){
/*@cc_on@if(@_jscript)wu.vL=document.documentMode>8;@else@*/ wu.vL=true;/*@end@*/}return wu.vL;},vL:null};cS.CZ=1;cS.dN=aon;cS.Ra=Ra;module.exports=cS;},{"./ArtSVGUIDirector":17,"./ArtUIDirector":18}],17:[function(require,module,exports){var ama=function(){};ama.prototype={ara:function(T,aB,ah){this.T=T;this.as=T.bx();this.aB=aB;this.fK=ah.width;this.eE=ah.height;this.HY=ah.ha;this.aFH=ah.fX;aB.EK=this.cP('g');this.df(aB.EK,{'fill-opacity':1});aB.Cg.appendChild(aB.EK);},aqq:function(K){var jB='',F,C=this;switch(K.V.get_type()){case IPCC.Web.UI.MarkType.Rectangle:K.bu=this.cP('rect');if(K.V.ju()&&K.V.get_opacity()===255){K.bu.addEventListener("mouseover",function(R){if(K.V.get_selected()===false&&K.bu&&(R.which===0||R.buttons===0)){K.bu.style.opacity=127/255;}},false);K.bu.addEventListener("mouseout",function(R){if(K.bu&&(R.which===0||R.buttons===0)){K.bu.style.opacity=K.V.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:jB="highlighttextannotation-"+K.V.jI();K.bu=this.cP('g');K.ja=this.cP('g');K.bu.appendChild(K.ja);K.jR=this.cP('g');K.jR.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.jR);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:jB="texthyperlinkannotation-"+K.V.jI();K.bu=this.cP('g');K.bu.style.cursor=IPCC.bh.dW(IPCC.bh.Link);K.ja=this.cP('g');K.bu.appendChild(K.ja);K.jR=this.cP('g');K.jR.style.opacity=IPCC.cS.dN.ahq();K.jR.style.fill="blue";K.jR.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.jR);K.kY=this.cP('g');K.kY.style.stroke="blue";K.kY.style.opacity=IPCC.cS.dN.FY(false);K.kY.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.kY);K.bu.addEventListener("mouseover",function(R){if(K.kY){K.kY.style.opacity=IPCC.cS.dN.FY(true,K.V.get_selected());}},false);K.bu.addEventListener("mouseout",function(R){if(K.kY){K.kY.style.opacity=IPCC.cS.dN.FY(false,K.V.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:jB="documenthyperlink-"+K.V.jI();K.bu=this.cP('g');K.bu.style.cursor=IPCC.bh.dW(IPCC.bh.Link);K.F=this.cP('rect');K.F.style['fill-opacity']=IPCC.cS.dN.ahq();if(K.V.LH!=='Underline'){K.F.style.stroke=K.V.jO;K.F.style['stroke-width']=K.V.ez+'px';K.F.style['stroke-opacity']=(K.V.ez===0)?0:K.V.tf/255;if(K.V.LH==='Dashed'){K.F.style['stroke-dasharray']=K.V.xA.join(', ');}K.F.setAttribute('rx',K.V.Jn);K.F.setAttribute('ry',K.V.Kv);}else{K.tY=this.cP('line');K.tY.style.stroke=K.V.jO;K.tY.style['stroke-opacity']=K.V.tf/255;K.tY.style['stroke-width']=K.V.ez+'px';K.bu.appendChild(K.tY);}K.F.style.fill='transparent';K.F.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.F);break;case IPCC.Web.UI.MarkType.RectangleRedaction:jB="textmark-"+K.V.jI();K.bu=this.cP('g');K.eN=this.cP('rect');K.fZ=this.cP('g');K.fZ.setAttribute('data-pcc-mark',jB);if(IPCC.h.us.aDl){K.fZ.style.cursor='pointer';}K.Aq=document.createTextNode('');if(document.documentMode>8||IPCC.h.us.Am){K.cO=this.cP('text');K.cO.setAttribute('data-pcc-mark',jB);K.cO.appendChild(K.Aq);K.zK=this.cP('clipPath');K.El=this.cP('rect');K.fZ.appendChild(K.zK);K.zK.appendChild(K.El);K.fZ.appendChild(K.cO);K.GU="PCC"+IPCC.cS.CZ;IPCC.cS.CZ++;this.df(K.zK,{id:K.GU,clipPathUnits:"userSpaceOnUse"});F=K.V.get_rectangle();this.df(K.El,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":jB});var aaV=function(R){if(K.V.get_selected()===false&&K.eN&&(R.which===0||R.buttons===0)){if(C.T.nm()===false){K.bu.style.opacity=0.2;K.cO.style.opacity=0;}}};K.bu.addEventListener("mouseover",function(R){aaV(R);},false);K.fZ.addEventListener("mouseover",function(R){aaV(R);},false);K.fZ.addEventListener("mouseout",function(R){if(K.eN&&(R.which===0||R.buttons===0)){if(C.T.nm()===false){K.bu.style.opacity=1;K.cO.style.opacity=1;}}},false);K.bu.addEventListener("mouseout",function(R){if(K.eN&&(R.which===0||R.buttons===0)){if(C.T.nm()===false){K.bu.style.opacity=1;K.cO.style.opacity=1;}}},false);}else{K.mF=document.createElement('div');this.df(K.mF,{"data-pcc-mark":jB});K.mF.appendChild(K.Aq);K.Nc=document.createElement('div');this.df(K.Nc,{"data-pcc-mark":jB});K.Nc.appendChild(K.mF);K.uI=document.createElement('body');this.df(K.uI,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":jB});K.uI.appendChild(K.Nc);K.BV=this.cP('foreignObject');K.BV.appendChild(K.uI);K.fZ.appendChild(K.BV);K.uI.addEventListener("mouseover",function(R){if(K.V.get_selected()===false&&K.eN&&(R.which===0||R.buttons===0)){K.eN.style.opacity=0.2;K.mF.style.opacity=0;}},false);K.uI.addEventListener("mouseout",function(R){if(K.eN&&(R.which===0||R.buttons===0)){if(C.T.nm()===false){K.eN.style.opacity=1;K.mF.style.opacity=1;}}},false);}K.bu.appendChild(K.eN);break;case IPCC.Web.UI.MarkType.Ellipse:K.bu=this.cP('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:K.bu=this.cP('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K.bu=this.cP('g');K.ja=K.bu;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:K.bu=this.cP('g');K.sS=this.cP('polyline');K.We=this.cP('path');K.Vj=this.cP('path');K.bu.appendChild(K.sS);K.bu.appendChild(K.We);K.bu.appendChild(K.Vj);K.sS.setAttribute('stroke-linejoin','miter');K.sS.setAttribute('stroke-linecap','butt');K.sS.setAttribute('stroke-miterlimit','4');break;case IPCC.Web.UI.MarkType.Polygon:K.bu=this.cP('polygon');break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextAreaSignature:jB="textmark-"+K.V.jI();K.bu=this.cP('g');K.HX=this.cP('polygon');K.sS=this.cP('path');K.ZZ=this.cP('path');K.fZ=this.cP('g');K.bu.appendChild(K.HX);K.bu.appendChild(K.sS);K.bu.appendChild(K.ZZ);this.df(K.HX,{style:'stroke:none;'});K.fZ.setAttribute('data-pcc-mark',jB);K.Aq=document.createTextNode('');if(document.documentMode>8||IPCC.h.us.Am){K.cO=this.cP('text');K.cO.setAttribute('data-pcc-mark',jB);K.cO.appendChild(K.Aq);K.zK=this.cP('clipPath');K.El=this.cP('rect');K.fZ.appendChild(K.zK);K.zK.appendChild(K.El);K.akS=this.cP('g');K.fZ.appendChild(K.akS);K.fZ.appendChild(K.cO);K.GU="PCC"+IPCC.cS.CZ;IPCC.cS.CZ++;this.df(K.zK,{id:K.GU,clipPathUnits:"userSpaceOnUse"});F=K.V.get_rectangle();this.df(K.El,{x:0,y:0,width:F.width,height:F.height,"data-pcc-mark":jB});}else{K.mF=document.createElement('div');K.mF.appendChild(K.Aq);K.uI=document.createElement('body');this.df(K.uI,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;all:initial',"data-pcc-mark":jB});K.uI.appendChild(K.mF);K.BV=this.cP('foreignObject');K.BV.appendChild(K.uI);K.fZ.appendChild(K.BV);}K.HX.setAttribute('data-pcc-mark',jB);break;case IPCC.Web.UI.MarkType.Stamp:K.bu=this.cP('g');K.wH=this.cP('rect');K.wH.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.eN=this.cP('rect');K.GZ=this.Zb(K);K.bu.appendChild(K.wH);K.bu.appendChild(K.eN);K.bu.appendChild(K.GZ);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K.bu=this.cP('g');K.wH=this.cP('rect');K.wH.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.eN=this.cP('rect');K.ajh=this.aqk(K);K.ajh.setAttribute('data-pcc-mark',"mark-"+K.V.jI());K.bu.appendChild(K.wH);K.bu.appendChild(K.eN);K.bu.appendChild(K.ajh);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var V=K.V;var aea=V.ff();var aD=aea.width;var ab=aea.height;var Ka=V.get_pathWidth();var JJ=V.get_pathHeight();var vm=V.get_pathString();var fQ=IPCC.h.AO.Path(vm,{width:aD,height:ab,multiplier:100,thickness:V.get_lineWidth(),color:V.get_lineColor()});var et=IPCC.h.AO.SVG('0 0 '+Ka+' '+JJ,100);var bn=IPCC.h.AO.Rect(Ka,JJ,'fill:rgba(255, 255, 255, 0);stroke:none;');et.appendChild(bn);et.appendChild(fQ);K.bu=et;K.aoO=fQ;K.adH=bn;this.acS(K.bu,V.hO);break;case IPCC.Web.UI.MarkType.SignatureText:K.bu=this.cP('g');K.eN=this.cP('rect');K.eN.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.GZ=this.Zb(K);K.bu.appendChild(K.eN);K.bu.appendChild(K.GZ);K.V.hQ=false;break;case IPCC.Web.UI.MarkType.TextLine:K.bu=this.cP('g');K.eN=this.cP('rect');K.eN.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.GZ=this.Zb(K);K.bu.appendChild(K.eN);K.bu.appendChild(K.GZ);break;case IPCC.Web.UI.MarkType.Strikethrough:jB="strikethroughannotation-"+K.V.jI();K.bu=this.cP('g');K.ja=this.cP('g');K.bu.appendChild(K.ja);K.jR=this.cP('g');K.jR.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.jR);K.yz=this.cP('g');K.yz.setAttribute('data-pcc-mark',jB);K.bu.appendChild(K.yz);break;}K.bu.ImGearMarkRelation=K;K.bu.setAttribute('data-pcc-mark',"mark-"+K.V.jI());this.aB.EK.appendChild(K.bu);if(K.fZ){K.fZ.ImGearMarkRelation=K;this.aB.EK.appendChild(K.fZ);}this.acD(K);},Zb:function(K){var V=K.V;var GH=V.bv;if(!GH){GH=V.cU[0];if(!GH){if(V.get_type()===IPCC.Web.UI.MarkType.Stamp){GH="APPROVED";}else{GH="";}}}var F=V.ff();K.cO=this.cP('text');K.GU="PCC"+IPCC.cS.CZ;IPCC.cS.CZ++;var nr=document.createTextNode(GH);K.cO.setAttribute("font-size","22px");if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){K.cO.setAttribute("style",'white-space:pre;');}switch(K.V.hO){case IPCC.Web.UI.HorizontalAlignment.Left:K.cO.setAttribute('text-anchor','start');K.cO.setAttribute('x',F.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:K.cO.setAttribute('text-anchor','end');K.cO.setAttribute("x",F.x+F.width);break;default:K.cO.setAttribute('text-anchor','middle');K.cO.setAttribute("x",F.x+(F.width/2));break;}K.cO.setAttribute('y',F.y+(F.height/2));K.cO.appendChild(nr);return K.cO;},aqk:function(K){var V=K.V;K.ajn=document.createElementNS('http://www.w3.org/2000/svg','svg');K.yO=document.createElementNS('http://www.w3.org/2000/svg','image');K.yO.setAttribute('id','childimg');K.yO.setAttributeNS('http://www.w3.org/1999/xlink','href',V.get_image());K.ajn.appendChild(K.yO);return K.ajn;},apR:function(K,hO){var V=K.V;var F=V.ff();var bv=V.bv;var Hh=bv.split('\n');var cO=K.cO;var XQ=0;var WS=0;var YE=0;var xZ=0;var akN=0;var ahI=this.HY/72;var abF=V.bZ*ahI;var yA=[];var azt=/(.*\s)(.*)/;var nr,ji,Hu,Et,_parent,adP,EV,Jo,act,zp,amh,CE;adP=cO.childNodes.length;if(adP>=1){_parent=cO.parentNode;EV=this.cP('text');EV.setAttribute('data-pcc-mark',K.fZ.getAttribute('data-pcc-mark'));EV.setAttribute('width',K.fZ.getAttribute('width')-K.V.ez);_parent.replaceChild(EV,cO);K.cO=EV;K.cO.appendChild(K.Aq);K.fZ.appendChild(K.cO);cO={};cO=K.cO;}cO.style.fontSize=V.bZ*this.HY/72+'px';cO.style.fontFamily=V.gb;cO.width-=4;Jo=(V.ez/2);if(hO){switch(hO){case IPCC.Web.UI.HorizontalAlignment.Center:Jo=(F.width/2)-(V.ez/2);break;case IPCC.Web.UI.HorizontalAlignment.Right:Jo=F.width-V.ez;break;}}for(var J=0;J<Hh.length;J++){zp='';amh=1;if(Hh[J].length>0){Hu=Hh[J].split('');ji=this.cP('tspan');ji.setAttributeNS(null,"x",Jo);if(J>0){ji.setAttributeNS(null,"dy",abF*(YE+1));}nr=window.document.createTextNode(Hu[0]);ji.appendChild(nr);cO.appendChild(ji);for(var bE=1;bE<Hu.length;bE++){akN=ji.firstChild.data.length;Et=Hu[bE];ji.firstChild.data+=Hu[bE];zp+=Et;act=zp.length*(V.bZ*ahI);XQ=ji.getComputedTextLength();if(XQ===0){WS=act;}else{WS=XQ;}if(WS>=(F.width-V.ez-2)){amh++;zp='';CE=ji.firstChild.data.match(azt);if(CE){Et=CE[2];}if(CE&&CE[1].length>0){ji.firstChild.data=CE[1];zp+=Et;}else{ji.firstChild.data=ji.firstChild.data.slice(0,akN);zp+=Et;}if(zp.length>=1){yA.push({bB:xZ,acH:ji});ji=this.cP('tspan');ji.setAttributeNS(null,"x",Jo);ji.setAttributeNS(null,"dy",abF);nr=window.document.createTextNode(Et);ji.appendChild(nr);cO.appendChild(ji);}}}if(ji.firstChild.data.length>0){yA.push({bB:xZ,acH:ji});}xZ+=ji.firstChild.data.length+1;YE=0;}else{YE++;}}return yA;},azV:function(ld,adQ,ja,xZ){if(ld.length>0){var amb=adQ.getNumberOfChars();if(ld[0].bB>xZ+amb){return;}for(var J=Math.max(ld[0].bB-xZ,0);J<amb;J++){var F=adQ.getExtentOfChar(J);var bn=this.cP('rect');this.df(bn,{x:F.x,y:F.y,width:F.width,height:F.height,fill:ld[0].EN});ja.appendChild(bn);if(ld[0].ci===J+xZ){ld.shift();if(ld.length===0){return;}J=ld[0].bB-xZ-1;}}}},Fp:function(cG,uR,rF){var fQ='M',J;for(J=0;J<uR.length;J++){if(J>0){fQ+=' L';}fQ+=uR[J].x+','+uR[J].y;}if(rF){fQ+='Z';}this.df(cG,{d:fQ});},Xc:function(cG,uR,rF){var Ru='',J;for(J=0;J<uR.length;J++){if(J>0){Ru+=' ';}Ru+=uR[J].x+','+uR[J].y;}if(rF&&uR.length>2){Ru+=' '+uR[0].x+','+uR[0].y;}this.df(cG,{points:Ru});},ace:function(gW,kW,BI,sm,As,XA,EO){var cI=this.asY(gW,kW,BI,sm,As);var dV='';dV+='stroke:'+XA+';';switch(As){case IPCC.Web.UI.LineHeadType.None:dV='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.Fp(EO,[cI.Dc,gW,cI.Db],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.Fp(EO,[cI.Dc,gW,cI.Db],true);dV+='fill:'+XA+';';break;case IPCC.Web.UI.LineHeadType.Open:this.Fp(EO,[cI.Dc,gW,cI.Db],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.Fp(EO,[cI.Dc,gW,cI.Db,cI.Hw],true);dV+='fill:'+XA+';';break;}this.df(EO,{style:dV});return cI;},awA:function(K){var V=K.V;var aL,hx,J,adY,agE,hM='',DM;aL=V.get_points();hx=[];for(J=0;J<aL.get_length();J++){hx.push(aL.getPoint(J));}if(hx.length<2||V.rF){this.df(K.We,{style:'display:none;'});this.df(K.Vj,{style:'display:none;'});}else{V.Ca=V.jO;DM=this.agj(hx,true);adY=this.ace(DM.gW,DM.kW,V.Gr,V.FX,V.Iv,V.Ca,K.We);DM=this.agj(hx,false);agE=this.ace(DM.gW,DM.kW,V.LG,V.IW,V.mo,V.Ca,K.Vj);hx[0]=adY.Hw;hx[hx.length-1]=agE.Hw;}this.Xc(K.sS,hx,V.rF);var yS=this.Zz(V.hM);if(yS!==''){hM+='stroke-dasharray:'+yS+';';}this.df(K.sS,{style:hM});},aeG:function(K){var Cp=this.asQ(K);this.Xc(K.HX,Cp.akc,false);var alx='',hM='fill:none;',rD='fill:none;';if(Cp.WG){alx='stroke:none;';}if(Cp.abk){this.Fp(K.sS,Cp.abk,false);}else{hM+='display:none;';}if(Cp.KF){this.Fp(K.ZZ,Cp.KF,false);}else{rD+='display:none;';}var V=K.V;if(V.xC){rD+='stroke:'+V.De+';stroke-width:'+V.DV+';';var yS=this.Zz(V.rD);if(yS!==''){rD+='stroke-dasharray:'+yS+';';}}this.df(K.sS,{style:hM});this.df(K.ZZ,{style:rD});this.df(K.HX,{style:alx});},RM:function(K){var V=K.V,Gq;if(!V){return;}var F=V.ff();var FC=V.bZ*this.HY/72;V.FC=FC;var rC=F.width,oM=F.height,Ic=false,fN;var hs,fC=0,eH=0;var ur=1;if(V.hQ){ur+=V.ez/2;}switch(V.Ao){case IPCC.Web.UI.Orientation.TopLeft:hs='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:hs='-1,0,0,1';fC=rC-ur;break;case IPCC.Web.UI.Orientation.BottomRight:hs='-1,0,0,-1';fC=rC-ur;eH=oM-ur;break;case IPCC.Web.UI.Orientation.BottomLeft:hs='1,0,0,-1';eH=oM-ur;break;case IPCC.Web.UI.Orientation.LeftTop:hs='0,1,1,0';Ic=true;break;case IPCC.Web.UI.Orientation.RightTop:hs='0,1,-1,0';fC=rC-ur;Ic=true;break;case IPCC.Web.UI.Orientation.RightBottom:hs='0,-1,-1,0';fC=rC-ur;eH=oM-ur;Ic=true;break;case IPCC.Web.UI.Orientation.LeftBottom:hs='0,-1,1,0';eH=oM-ur;Ic=true;break;}if(V.fE==="#c0c0c0"){V.fE='#ffffff';}if(V.get_type()===IPCC.Web.UI.MarkType.Text){if(V.ju()===true){V.fE='#ffffff';}else{V.set_opacity(V.co);}}if(Ic){fN=rC;rC=oM;oM=fN;}if(rC<0){rC=0;}if(oM<0){oM=0;}var ZH='normal';var cc='normal';var lD='';var rY;lD+='word-wrap:break-word;background-color:transparent;line-height:1;';var zn=0;if(V.qN.length===7&&V.qN.charAt(0)==='#'){zn=parseInt(V.qN.slice(1),16);}var co=Math.min(1,Math.max(0,V.yf/255));if(document.documentMode>8||IPCC.h.us.Am){cc='normal';if(V.cc&IPCC.Web.UI.FontStyle.Italic){cc='italic';}ZH='normal';if(V.cc&IPCC.Web.UI.FontStyle.Bold){ZH='bold';}rY='none';if((V.cc&IPCC.Web.UI.FontStyle.Underline)&&(V.cc&IPCC.Web.UI.FontStyle.Strikeout)){rY='underline line-through';}else if(V.cc&IPCC.Web.UI.FontStyle.Underline){rY='underline';}else if(V.cc&IPCC.Web.UI.FontStyle.Strikeout){rY='line-through';}}else{lD+='color:rgba('+(zn>>16)+','+((zn>>8)&255)+','+(zn&255)+','+co+');';lD+='font-family:'+V.gb+';';lD+='font-size:'+FC+'px;';if(V.cc&IPCC.Web.UI.FontStyle.Italic){lD+='font-style:italic;';}if(V.cc&IPCC.Web.UI.FontStyle.Bold){lD+='font-weight:bold;';}if((V.cc&IPCC.Web.UI.FontStyle.Underline)&&(V.cc&IPCC.Web.UI.FontStyle.Strikeout)){lD+='text-decoration:underline line-through;';}else if(V.cc&IPCC.Web.UI.FontStyle.Underline){lD+='text-decoration:underline;';}else if(V.cc&IPCC.Web.UI.FontStyle.Strikeout){lD+='text-decoration:line-through;';}}var Fa={x:2,anchor:'start'};switch(V.hO){case IPCC.Web.UI.HorizontalAlignment.Left:lD+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:lD+='text-align:center;';Fa.x=(F.width/2)-3;Fa.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:lD+='text-align:right;';Fa.x=F.width-8;Fa.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'&& !IPCC.h.us.Am){switch(V.wT){case IPCC.Web.UI.VerticalAlignment.Center:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.df(K.Nc,{style:'display:table; width: 100%;'});lD+='display: table-cell; white-space: normal; vertical-align: middle; height:'+oM+'px;';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.df(K.mF,{style:lD+'padding:2px;'});this.df(K.fZ,{transform:'matrix('+hs+','+(fC+F.x+(V.ez/2))+','+(eH+F.y+(V.ez/2))+')',});this.df(K.BV,{x:0,y:0,width:rC>V.ez?rC-V.ez:rC,height:oM>V.ez?oM-V.ez:oM,});this.avv(K);}else{var yA=this.apR(K,V.hO);var amQ=yA.length;switch(V.wT){case IPCC.Web.UI.VerticalAlignment.Center:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Gq=(F.height/2)+(V.bZ/4);if(amQ>1){Gq-=(amQ-1)*(V.bZ/2);}if(Gq<0){Gq=V.bZ;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.df(K.El,{x:0,y:0,width:F.width-V.ez,height:F.height-V.ez});var asZ="url(#"+K.GU+")";var Ya={x:Fa.x,y:(this.HY/72)*V.bZ,width:F.width-V.ez,height:F.height-V.ez,'font-family':V.gb,'font-size':FC,fill:'rgba('+(zn>>16)+', '+((zn>>8)&255)+', '+(zn&255)+', '+co+')','font-weight':ZH,'font-style':cc,'text-decoration':rY,'text-anchor':Fa.anchor};if(typeof Gq!=='undefined'){delete Ya.y;Ya.dy=Gq;}this.df(K.cO,Ya);K.cO.style.opacity=co;this.df(K.fZ,{transform:'matrix('+hs+','+(fC+F.x+(V.ez/2))+','+(eH+F.y+(V.ez/2))+')','clip-path':asZ});var ja=K.akS;while(ja&&ja.firstChild){ja.removeChild(ja.firstChild);}if(V.eL){var ld=this.aex(V.eL);for(var J=0;J<yA.length;J++){this.azV(ld,yA[J].acH,ja,yA[J].bB);}}}},RR:function(K){var V=K.V;if(V.bC===null||V.bC===undefined){return;}if(V.bC.length===0&&V.dv>0&&this.T.dc().nU()){V.bC=IPCC.h.Yp(this.T.dc().hF(),V.bB,V.bB+V.dv-1);}if(!K.bB|| !K.dv||K.bB!==V.bB||K.dv!==V.dv||V.dj===false||V.dj===true){while(K.jR.firstChild){K.jR.removeChild(K.jR.firstChild);}if(K.kY){while(K.kY.firstChild){K.kY.removeChild(K.kY.firstChild);}}if(K.yz){while(K.yz.firstChild){K.yz.removeChild(K.yz.firstChild);}}if(V.dj===false){return;}IPCC.h.forEach(K.V.bC,function(gB){var Vb=this.cP('rect');K.jR.appendChild(Vb);this.df(Vb,{x:gB.x,y:gB.y,width:gB.width,height:gB.height});if(K.kY){var tY=this.cP('line');this.df(tY,{x1:gB.x,y1:gB.y+gB.height-1,x2:gB.x+gB.width,y2:gB.y+gB.height-1,"stroke-width":2});K.kY.appendChild(tY);}if(K.yz){Vb.setAttribute('fill','transparent');var aeV=this.cP('line');var strikethroughY=gB.y+(gB.height/2);this.df(aeV,{x1:gB.x,y1:strikethroughY,x2:gB.x+gB.width,y2:strikethroughY,stroke:K.V.jO,"stroke-width":K.V.ez});K.yz.appendChild(aeV);}},this);K.bB=V.bB;K.dv=V.dv;}},acD:function(K){var V=K.V;if(!V){return;}var bu=K.bu;var F,dV='',aL,hQ=true,ni,wA,vw,XB,tF,Fj;var jK=false;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jK=true;this.awA(K);break;case IPCC.Web.UI.MarkType.Rectangle:F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.RR(K);K.jR.style.fill=V.fE;K.jR.style.opacity=(V.co/255);this.Si(K);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.RR(K);K.jR.style.fill=V.fE;K.kY.style.stroke=V.fE;if(K.V.get_selected()){K.kY.style.opacity=IPCC.cS.dN.FY(false,K.V.get_selected());}else{K.kY.style.opacity=IPCC.cS.dN.FY(false,K.V.get_selected());}this.Si(K);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=V.get_rectangle();this.df(K.F,{x:F.x,y:F.y,width:F.width,height:F.height});if(K.tY){this.df(K.tY,{x1:F.x,y1:F.y+F.height,x2:F.x+F.width,y2:F.y+F.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof K.eN!=='undefined'){if(this.T.nm()===true){K.eN.style.opacity=0.2;if(typeof K.mF!=='undefined'){K.mF.style.opacity=0;}else{K.cO.style.opacity=0;}}else{K.eN.style.opacity=1;if(typeof K.mF!=='undefined'){K.mF.style.opacity=1;}}}F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});this.df(K.eN,{x:F.x,y:F.y,width:F.width,height:F.height});if(this.T.nm()===false){this.RM(K);}break;case IPCC.Web.UI.MarkType.Ellipse:F=V.get_rectangle();this.df(bu,{cx:F.x+F.width/2,cy:F.y+F.height/2,rx:F.width/2,ry:F.height/2});break;case IPCC.Web.UI.MarkType.Polygon:aL=this.Zf(V);this.Xc(bu,aL,false);dV+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.aeG(K);this.RM(K);break;case IPCC.Web.UI.MarkType.TextAreaSignature:var ca=IPCC.h.aiQ();var qd=IPCC.h.aje();qd.nodeValue=V.get_text();var jf=V.jf;var bg=this.T.mc().ir();F=V.get_rectangle();ca.style.width=(F.width-V.ez/2)+'px';ca.style.height=(F.height-V.ez/2)+'px';ca.style.fontFamily=V.gb;ca.style.padding='2px';ca.style.fontStyle=V.cc;V.bZ=IPCC.h.abS(ca,jf,bg)*72/this.HY;this.aeG(K);this.RM(K);break;case IPCC.Web.UI.MarkType.Stamp:F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});this.df(K.wH,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.wH.style.opacity=1;this.df(K.eN,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':V.fE,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}ni=K.V.get_text();if(!ni){ni='APPROVED';}K.cO.childNodes[0].data=ni;var tL=ni.length*textFontSize;if(tL>F.width){textFontSize=((F.width/ni.length));}Fj=Math.round(textFontSize);V.stampSize=Fj.toString();this.df(K.cO,{x:F.x+(F.width/2),y:F.y+(F.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':V.fE,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});this.df(K.wH,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.wH.style.opacity=1;this.df(K.eN,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':V.fE,'stroke-width':'0','fill':'none'});K.yO.setAttribute('height',F.height);K.yO.setAttribute('width',F.width);K.yO.setAttribute('x',F.x);K.yO.setAttribute('y',F.y);K.yO.setAttributeNS('http://www.w3.org/1999/xlink','href',V.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.Si(K);break;case IPCC.Web.UI.MarkType.Highlight:F=V.get_rectangle();if(F.x===0&&F.y===0){var hm=this.T.dc().hF();if(hm.eY()>0){var eQ=hm.jM(V.bB);F=eQ.an;}V.lc='y';}this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});var PP=K.aoO;if(V.amm===true){V.amm=false;PP.setAttribute("d",V.get_pathString());var Ka=V.get_pathWidth();var JJ=V.get_pathHeight();bu.setAttribute('viewBox','0 0 '+Ka+' '+JJ);K.adH.setAttribute('width',Ka);K.adH.setAttribute('height',JJ);}if(V.get_visible()){K.bu.style.display='block';}else{K.bu.style.display='none';}this.acS(K.bu,V.hO);PP.style.stroke=V.get_lineColor();PP.style.strokeWidth=V.get_lineWidth()+'px';PP.style.opacity=V.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});this.df(K.eN,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.eN.style.opacity=1;var apn=K.V.get_text()||"";K.cO.childNodes[0].data=apn;wA=12*F.width/(V.zz||1);vw=12*F.height/(V.zI||1);tF=Math.min(wA,vw);var aDX=Math.floor(tF);V.stampSize=aDX.toString();switch(V.hO){case IPCC.Web.UI.HorizontalAlignment.Left:K.cO.setAttribute('text-anchor','start');K.cO.setAttribute('x',F.x);break;case IPCC.Web.UI.HorizontalAlignment.Right:K.cO.setAttribute('text-anchor','end');K.cO.setAttribute("x",F.x+F.width);break;default:K.cO.setAttribute('text-anchor','middle');K.cO.setAttribute("x",F.x+(F.width/2));break;}this.df(K.cO,{y:F.y+(F.height/2+(tF/3)),'font-size':tF,'stroke':"none",'fill':V.get_fillColor(),'font-family':V.get_fontName()});if(V.get_visible()){K.bu.style.display='block';}else{K.bu.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:this.df(bu,{style:'fill:none;opacity:1;'+V.dj?'display:block;':'display:none;'});F=V.get_rectangle();this.df(bu,{x:F.x,y:F.y,width:F.width,height:F.height});dV='stroke:'+(V.hQ?'black':'none')+';stroke-width:1;';this.df(K.eN,{x:F.x,y:F.y,width:F.width,height:F.height,'stroke':V.hQ?'black':'none','fill':'rgba(255, 255, 255, 0)','style':dV});K.cO.style.opacity=1;ni=K.V.get_text()||"";K.cO.childNodes[0].data=ni;XB=IPCC.h.ajt(ni,V.get_fontName(),F.width,F.height,{wo:"pre",et:K.bu});tF=XB.fontSize;V.FC=tF;V.stampSize=tF;V.FN=true;V.nC=XB;switch(V.hO){case IPCC.Web.UI.HorizontalAlignment.Center:K.cO.setAttribute('text-anchor','middle');K.cO.setAttribute("x",F.x+(F.width/2));break;case IPCC.Web.UI.HorizontalAlignment.Right:K.cO.setAttribute('text-anchor','end');K.cO.setAttribute("x",F.x+F.width);break;default:K.cO.setAttribute('text-anchor','start');K.cO.setAttribute('x',F.x);break;}this.df(K.cO,{y:F.y+(F.height/2+(tF/3)),'font-size':tF,'stroke':"none",'fill':V.get_textColor(),'font-family':V.get_fontName(),'white-space':'pre'});break;case IPCC.Web.UI.MarkType.Strikethrough:this.RR(K);this.Si(K);break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',V.get_type());}if(V.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&V.get_type()!==IPCC.Web.UI.MarkType.Freehand&&V.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&V.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&V.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&V.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&V.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&V.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jK){dV+='fill:none;';}else{if(V.Kw){dV+='fill:'+V.fE+';';}else{dV+='fill:none;';}hQ=V.hQ;var yS=this.Zz(V.hM);if(yS!==''){dV+='stroke-dasharray:'+yS+';';}}if(hQ){dV+='stroke:'+V.get_lineColor()+';';dV+='stroke-width:'+V.ez+';';}else{dV+='stroke:none;';}if(V.get_type()===IPCC.Web.UI.MarkType.SignatureText){dV+='opacity:'+1+';';}else{dV+='opacity:'+(V.co/255)+';';}if(!V.dj){dV+='display:none;';if(K.fZ){K.fZ.style.display='none';}}else{if(K.fZ){K.fZ.style.display='block';}}this.df(bu,{style:dV});}if(V.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!V.dj){dV+='display:none;';}else{dV+='display:block;';}this.df(bu,{style:dV});}var aF;if(!this.T.get_areMarksEditable()){aF=this.T.get_cursor();}else if(V.mT===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled&&V.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&V.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink){aF='default';}else if(V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink){aF=IPCC.bh.Link;}else if(V.get_type()!==IPCC.Web.UI.MarkType.Highlight&&V.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&V.get_type()!==IPCC.Web.UI.MarkType.Strikethrough&&V.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction&& !(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY)){aF=IPCC.bh.Move;}else{aF=IPCC.bh.Arrow;}bu.style.cursor=IPCC.bh.dW(aF);if(K.fZ){K.fZ.style.cursor=IPCC.bh.dW(aF);}},acS:function(bu,Is){switch(Is){case IPCC.Web.UI.HorizontalAlignment.Left:bu.setAttribute('preserveAspectRatio','xMinYMid');break;case IPCC.Web.UI.HorizontalAlignment.Center:bu.setAttribute('preserveAspectRatio','xMidYMid');break;case IPCC.Web.UI.HorizontalAlignment.Right:bu.setAttribute('preserveAspectRatio','xMaxYMid');break;}},Si:function(K){var V=K.V,azp=V.get_visible();var F=V.get_rectangle();if(F.x===0&&F.y===0){return;}var ja=K.ja;while(ja.firstChild){ja.removeChild(ja.firstChild);}var jh;for(var J=0;J<V.eL.length;J++){for(var bE=0;bE<V.eL[J].length;bE++){var acF=this.T.dc().hF();if(acF.eY()>0){var arZ=acF.jM(V.eL[J].startIndex+bE);jh=arZ.an;}var bn=this.cP('rect');this.df(bn,{x:jh.x,y:jh.y,width:jh.width,height:jh.height,fill:V.eL[J].color,display:(azp)?'block':'none'});bn.style.opacity=(V.eL[J].opacity)?(V.eL[J].opacity)/255.0:0.5;ja.appendChild(bn);}}},Zz:function(hM){switch(hM){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Qa:function(K){if(K.bu){this.aB.EK.removeChild(K.bu);}if(K.fZ){this.aB.EK.removeChild(K.fZ);}delete K.bu;},aIC:function(){},aDw:function(){this.aB=undefined;},cP:function(bf){return document.createElementNS('http://www.w3.org/2000/svg',bf);},df:function(bu,aQ){var J;for(J in aQ){if(aQ.hasOwnProperty(J)){var attr=aQ[J];bu.setAttribute(J,attr!==undefined&&attr!==null?attr.toString():'');}}}};module.exports=ama;},{}],18:[function(require,module,exports){var Ra=require('./ArtSVGUIDirector');var dN=Ra;dN.FY=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};dN.ahq=function(){return 39/255;};dN.aFy=function(isSelected){return isSelected?"purple":"blue";};dN.prototype.asY=function(gW,kW,BI,sm,As){var cI={gW:gW,kW:kW,BI:BI,sm:sm,As:As};if(gW.x===kW.x&&gW.y===kW.y){cI.As=IPCC.Web.UI.LineHeadType.None;}var Nf=Math.atan2(gW.x-kW.x,-(gW.y-kW.y))+Math.PI/2;BI*=Math.PI/180;var jr=Nf+BI;cI.Dc={x:gW.x+Math.cos(jr)*sm,y:gW.y+Math.sin(jr)*sm};jr=Nf-BI;cI.Db={x:gW.x+Math.cos(jr)*sm,y:gW.y+Math.sin(jr)*sm};switch(cI.As){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:cI.Hw={x:(cI.Dc.x+cI.Db.x)/2,y:(cI.Dc.y+cI.Db.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:cI.Hw={x:gW.x+Math.cos(Nf)*sm/2,y:gW.y+Math.sin(Nf)*sm/2};break;default:cI.Hw=gW;break;}return cI;};dN.prototype.asQ=function(K){var V=K.V;var F=V.get_rectangle();var Hc={x:V.nv.x+F.x+0.00001,y:V.nv.y+F.y+0.00001};var aP={};var hg=[{x:F.x,y:F.y},{x:F.x+F.width,y:F.y},{x:F.x+F.width,y:F.y+F.height},{x:F.x,y:F.y+F.height}];if(!V.wM){aP.akc=hg;aP.WG= !V.hQ;return aP;}var J,ady=[];for(J=0;J<4;J++){ady.push({x:(hg[J].x+hg[(J+3)%4].x)/2,y:(hg[J].y+hg[(J+3)%4].y)/2,aDz:true});}for(J=3;J>=0;J--){hg.splice(J,0,ady[J]);}function ahN(Mz){var vj,acX;vj=(Hc.x-(hg[Mz].x+hg[(Mz+1)%8].x)/2)*F.height;acX=vj*vj;vj=(Hc.y-(hg[Mz].y+hg[(Mz+1)%8].y)/2)*F.width;return acX+vj*vj;};var Ti=0,amv=ahN(0),hJ;for(J=1;J<8;J++){hJ=ahN(J);if(hJ<amv){amv=hJ;Ti=J;}}hg=hg.slice(Ti+1).concat(hg.slice(0,Ti+1));var BP=hg[0],BZ=hg[7];for(J=hg.length-1;J>=0;J--){if(hg[J].aDz){hg.splice(J,1);}}switch(V.DN){case IPCC.Web.UI.CalloutType.Triangle:hg.splice(0,0,{x:(BP.x*3+BZ.x)/4,y:(BP.y*3+BZ.y)/4});hg.push({x:(BP.x+BZ.x*3)/4,y:(BP.y+BZ.y*3)/4});if(V.xC){aP.WG=true;aP.abk=[].concat(hg);aP.KF=[hg[0],Hc,hg[hg.length-1]];}hg.push(Hc);break;default:case IPCC.Web.UI.CalloutType.Line:aP.KF=[{x:(BP.x+BZ.x)/2,y:(BP.y+BZ.y)/2},Hc];break;}aP.akc=hg;if(!V.hQ){aP.WG=true;delete aP.abk;delete aP.KF;}return aP;};dN.prototype.Zf=function(V){var aL=V.get_points();var hx=[],J;for(J=0;J<aL.get_length();J++){hx.push(aL.getPoint(J));}return hx;};dN.prototype.agj=function(hx,aAg){var aE=0,Sk=1,aeq=hx.length-2,gW,kW;if(!aAg){aE=hx.length-1;Sk= -1;}gW=hx[aE];aE+=Sk;kW=hx[aE];aE+=Sk;while(gW.x===kW.x&&gW.y===kW.y&&aeq>0){kW=hx[aE];aE+=Sk;aeq--;}return{gW:gW,kW:kW};};dN.prototype.aeU=function(T,aB,bA,kO){if(IPCC.h.YJ){return;}if(!aB.lY){aB.lY=[];}var lY=aB.lY;if(bA.length<1&&lY.length<1){if(aB.BB.firstChild){aB.BB.innerHTML='';}return;}var aA=T.ee();var ei=aA.Cy();if(this.hh===undefined){this.hh=40;var Ad=document.createElement("div");Ad.className='pccMarkHandleTopLeft';Ad.visibility='hidden';document.body.appendChild(Ad);if(Ad.currentStyle){this.hh=parseInt(Ad.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aAx=document.defaultView.getComputedStyle(Ad);this.hh=parseInt(aAx.width,10)||0;}document.body.removeChild(Ad);}var J,JG=[];for(J=0;J<bA.length;J++){if(bA[J].get_visible()===true){if(ei.GQ(bA[J])>=0||(bA[J].get_selected()===true&&(bA[J].lB===true||bA[J].lz===true))||bA[J].yL===true){JG.push(bA[J]);}}}for(J=0;J<lY.length;J++){while(J<lY.length&&(J>=JG.length||lY[J].V!==JG[J])){aB.BB.removeChild(lY[J].ht);lY.splice(J,1);}if(J<lY.length){this.acY(lY[J],kO);}}for(J=lY.length;J<JG.length;J++){lY[J]={V:JG[J]};this.aqH(aB.BB,lY[J]);this.acY(lY[J],kO);}};dN.prototype.vF=function(ht,aqG,Ev,uk,aEe,aF,cF){var dO=[],J,cJ;if(cF===undefined){cF='handle';}for(J=0;J<aqG;J++){cJ={bu:document.createElement('div')};cJ.bu.ImGearMarkHandle=cJ;cJ.aF=aF;cJ.bf=uk;cJ.aE=aEe+J;ht.appendChild(cJ.bu);cJ.bu.setAttribute('data-pcc-mark',cF+'-'+ht.ImGearMarkRelation.V.jI());dO.push(cJ);}return dO;};dN.prototype.awq=function(cs){if(cs.dO===undefined||this.T.get_areMarksEditable()===false){return;}var J;for(J=0;J<cs.dO.length;J++){var cJ=cs.dO[J];cJ.bu.style.cursor=IPCC.bh.dW(cJ.aF);}};dN.prototype.aqH=function(BB,cs){cs.ht=document.createElement('div');cs.ht.style.width='0px';cs.ht.style.height='0px';cs.ht.style.left='0px';cs.ht.style.top='0px';cs.ht.style.zIndex='1';var J,V=cs.V,cJ;cs.ht.ImGearMarkRelation=cs;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cs.dO=this.vF(cs.ht,2,this.hh,this.Iw,0,IPCC.bh.Move);cs.dO=cs.dO.concat(this.vF(cs.ht,2,this.hh,this.FJ,0,IPCC.bh.Move));break;case IPCC.Web.UI.MarkType.Polygon:cs.dO=[];break;case IPCC.Web.UI.MarkType.Freehand:cs.dO=[];cs.jj=document.createElement('div');cs.jj.style.border='1px solid gray';cs.jj.style.position='absolute';cs.ht.appendChild(cs.jj);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY!==undefined){break;}cs.jj=document.createElement('div');cs.jj.style.border='1px solid gray';cs.jj.style.position='absolute';cs.ht.appendChild(cs.jj);cs.dO=this.vF(cs.ht,4,this.hh,this.abL,0,-1);cs.dO=cs.dO.concat(this.vF(cs.ht,4,this.hh,this.aaT,0,-1));for(J=4;J<8;J++){cJ=cs.dO[J];cJ.aqQ=cs.dO[J-4];cJ.apI=cs.dO[(J+1)%4];}if(V.get_type()===IPCC.Web.UI.MarkType.Text){cs.dO=cs.dO.concat(this.vF(cs.ht,1,this.hh,this.ZW,0,IPCC.bh.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cs.dO=this.vF(cs.ht,1,this.hh,this.Iw,0,IPCC.bh.Move,'texthandlestart');cs.dO=cs.dO.concat(this.vF(cs.ht,1,this.hh,this.Iw,1,IPCC.bh.Move,'texthandleend'));break;}if(V.jm()===IPCC.Web.UI.MarkType.Text||V.jm()===IPCC.Web.UI.MarkType.TextLine||V.jm()===IPCC.Web.UI.MarkType.TextAreaSignature){var oY=document.createElement('div');oY.className='pccEditMarkButton';oY.setAttribute('data-pcc-mark','edit-'+V.jI());oY.onclick=function(bJ){bJ=bJ||{};bJ.stopPropagation?bJ.stopPropagation():bJ.cancelBubble=true;bJ.preventDefault?bJ.preventDefault():bJ.returnValue=false;var pQ;var wQ=cs.ht;while(wQ&&(wQ.parentNode||wQ.ownerSVGElement)){if(wQ.parentNode.id&&wQ.parentNode.id.indexOf("__pViewId")!== -1){pQ=wQ.parentNode;}wQ=wQ.ownerSVGElement||wQ.parentNode;}pQ&&pQ.bS.ayx(bJ,V);};cs.ht.appendChild(oY);var anL={bu:oY};cs.dO.push(anL);}BB.appendChild(cs.ht);};dN.jY={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};dN.prototype.abL=0;dN.prototype.aaT=1;dN.prototype.FJ=2;dN.prototype.Iw=3;dN.prototype.ZW=4;dN.prototype.acn=function(cJ,aAv){switch(aAv){case IPCC.cS.dN.jY.TopLeft:cJ.bu.className='pccMarkHandleTopLeft';break;case IPCC.cS.dN.jY.TopCenter:cJ.bu.className='pccMarkHandleTopCenter';break;case IPCC.cS.dN.jY.TopRight:cJ.bu.className='pccMarkHandleTopRight';break;case IPCC.cS.dN.jY.MidLeft:cJ.bu.className='pccMarkHandleMidLeft';break;case IPCC.cS.dN.jY.MidRight:cJ.bu.className='pccMarkHandleMidRight';break;case IPCC.cS.dN.jY.BottomLeft:cJ.bu.className='pccMarkHandleBottomLeft';break;case IPCC.cS.dN.jY.BottomCenter:cJ.bu.className='pccMarkHandleBottomCenter';break;case IPCC.cS.dN.jY.BottomRight:cJ.bu.className='pccMarkHandleBottomRight';break;case IPCC.cS.dN.jY.Point:cJ.bu.className='pccMarkHandlePoint';break;case IPCC.cS.dN.jY.TextSelectionStart:cJ.bu.className='pccMarkHandleTextSelectionStart';break;case IPCC.cS.dN.jY.TextSelectionEnd:cJ.bu.className='pccMarkHandleTextSelectionEnd';break;default:cJ.bu.className='pccMarkHandlePoint';break;}};dN.prototype.Ap=function(cJ,atA,kO,Ev,nT){cJ.bM=kO.transform(atA);cJ.bu.style.left=(cJ.bM.x-Ev/2)+'px';cJ.bu.style.top=(cJ.bM.y-Ev/2)+'px';cJ.bu.style.display='block';cJ.bu.style.zIndex='1';this.acn(cJ,nT);};dN.prototype.abG=function(cJ,Ev,nT){cJ.bu.style.left=(cJ.bM.x-Ev/2)+'px';cJ.bu.style.top=(cJ.bM.y-Ev/2)+'px';cJ.bu.style.display='block';cJ.bu.style.zIndex='1';this.acn(cJ,nT);};dN.prototype.sY=function(cJ){cJ.bu.style.display='none';};dN.prototype.acY=function(cs,kO){if(this.T.get_areMarksEditable()===true){cs.ht.style.cursor='move';}var J,V=cs.V,dO=cs.dO,cJ;var hx,F,rg,kj,uk,dS;var hJ,Ez,fC,eH,KP;switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:hx=this.Zf(V);Ez=hx.length+2-dO.length;if(Ez>0){cs.dO=cs.dO.concat(this.vF(cs.ht,Ez,this.hh,this.FJ,dO.length-2,IPCC.bh.Move));dO=cs.dO;}for(J=0;J<hx.length;J++){this.Ap(dO[J+2],hx[J],kO,this.hh,IPCC.cS.dN.jY.Point);}for(J=hx.length+2;J<dO.length;J++){this.sY(dO[J+2]);}break;case IPCC.Web.UI.MarkType.Polygon:hx=this.Zf(V);Ez=hx.length-dO.length;if(Ez>0){cs.dO=cs.dO.concat(this.vF(cs.ht,Ez,this.hh,this.FJ,dO.length,IPCC.bh.Move));dO=cs.dO;}for(J=0;J<hx.length;J++){this.Ap(dO[J],hx[J],kO,this.hh,IPCC.cS.dN.jY.Point);}for(J=hx.length;J<dO.length;J++){this.sY(dO[J]);}break;case IPCC.Web.UI.MarkType.Freehand:F=V.ff();rg=kO.transform({x:F.x,y:F.y});kj=kO.transform({x:F.x+F.width,y:F.y+F.height});dS={x:Math.min(rg.x,kj.x),y:Math.min(rg.y,kj.y)};dS.width=Math.max(rg.x,kj.x)-dS.x;dS.height=Math.max(rg.y,kj.y)-dS.y;cs.jj.style.left=dS.x+'px';cs.jj.style.top=dS.y+'px';cs.jj.style.width=dS.width+'px';cs.jj.style.height=dS.height+'px';cs.jj.setAttribute('data-pcc-mark','outline-'+V.jI());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY!==undefined){break;}F=V.ff();dO[0].bM=kO.transform({x:F.x,y:F.y});dO[1].bM=kO.transform({x:F.x+F.width,y:F.y});dO[2].bM=kO.transform({x:F.x+F.width,y:F.y+F.height});dO[3].bM=kO.transform({x:F.x,y:F.y+F.height});dS={x:Math.min(dO[0].bM.x,dO[2].bM.x),y:Math.min(dO[0].bM.y,dO[2].bM.y)};dS.width=Math.max(dO[0].bM.x,dO[2].bM.x)-dS.x;dS.height=Math.max(dO[0].bM.y,dO[2].bM.y)-dS.y;KP={x:dS.x+dS.width/2,y:dS.y+dS.height/2};for(J=0;J<4;J++){cJ=dO[J];uk=(cJ.bM.x<KP.x)?((cJ.bM.y<KP.y)?0:2):((cJ.bM.y<KP.y)?1:3);this.abG(cJ,this.hh,uk);switch(uk){case 0:cJ.aF=IPCC.bh.ResizeNW;break;case 1:cJ.aF=IPCC.bh.ResizeNE;break;case 2:cJ.aF=IPCC.bh.ResizeSW;break;case 3:cJ.aF=IPCC.bh.ResizeSE;break;}}cs.jj.style.left=dS.x+'px';cs.jj.style.top=dS.y+'px';cs.jj.style.width=dS.width+'px';cs.jj.style.height=dS.height+'px';cs.jj.setAttribute('data-pcc-mark','outline-'+V.jI());var aoH=dS.x+dS.width/4;var ape=dS.x+dS.width*3/4;var aoI=dS.y+dS.height/4;var aoa=dS.y+dS.height*3/4;if(this.as.xp()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){rg=dO[0].bM;kj=dO[1].bM;var aou=dO[2].bM;fC=rg.x-kj.x;eH=kj.y-aou.y;var aBj=fC*fC;var aCb=eH*eH;if(Math.min(aBj,aCb)<this.hh*this.hh*5){this.sY(dO[0]);this.sY(dO[1]);this.sY(dO[2]);this.sY(dO[3]);}}for(J=4;J<8;J++){cJ=dO[J];rg=cJ.aqQ.bM;kj=cJ.apI.bM;fC=rg.x-kj.x;eH=rg.y-kj.y;hJ=fC*fC+eH*eH;if(this.as.xp()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&hJ<this.hh*this.hh*5){this.sY(cJ);}else{cJ.bM={x:(rg.x+kj.x)/2,y:(rg.y+kj.y)/2};this.abG(cJ,this.hh,J);if(cJ.bM.x<aoH){cJ.aF=IPCC.bh.ResizeW;}else if(cJ.bM.x>ape){cJ.aF=IPCC.bh.ResizeE;}else if(cJ.bM.y<aoI){cJ.aF=IPCC.bh.ResizeN;}else if(cJ.bM.y>aoa){cJ.aF=IPCC.bh.ResizeS;}}}if(V.get_type()===IPCC.Web.UI.MarkType.Text){if(V.wM){this.Ap(dO[8],{x:F.x+V.nv.x,y:F.y+V.nv.y},kO,this.hh,IPCC.cS.dN.jY.Callout);}else{this.sY(dO[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:cs.ht.style.cursor='move';var eQ,jh,uT;var xG=this.T.dc();var hm=xG.hF();if(V.lB===true){uT=V.bB;if(uT>=hm.eY()){eQ=hm.jM(hm.eY()-1);jh=eQ.sd();this.Ap(dO[0],new IPCC.Web.UI.Point(jh.x+jh.width,jh.y),kO,this.hh,IPCC.cS.dN.jY.TextSelectionStart);break;}eQ=hm.jM(V.bB);jh=eQ.sd();this.Ap(dO[0],new IPCC.Web.UI.Point(jh.x,jh.y),kO,this.hh,IPCC.cS.dN.jY.TextSelectionStart);}else{this.sY(dO[0]);}if(V.lz===true){uT=V.bB+V.dv-1;if(uT<0){eQ=hm.jM(0);jh=eQ.sd();this.Ap(dO[1],new IPCC.Web.UI.Point(jh.x,jh.y+jh.height),kO,this.hh,IPCC.cS.dN.jY.TextSelectionEnd);break;}eQ=hm.jM(uT);jh=eQ.sd();this.Ap(dO[1],new IPCC.Web.UI.Point(jh.x+jh.width,jh.y+jh.height),kO,this.hh,IPCC.cS.dN.jY.TextSelectionEnd);}else{this.sY(dO[1]);}break;}if(V.get_type()===IPCC.Web.UI.MarkType.Text||V.get_type()===IPCC.Web.UI.MarkType.TextLine||V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){var uh=dO[dO.length-1];if(uh.bu.className.match(/pcc/)){var VN=cs.jj.clientHeight;var VJ=cs.jj.clientWidth;var ank=cs.jj.offsetTop;var alV=cs.jj.offsetLeft;var akH=uh.bu.clientHeight;var Yj=uh.bu.clientWidth;uh.bu.style.position='absolute';uh.bu.style.zIndex='2';if(VN>akH+10&&VJ>Yj+10){uh.bu.style.top=(VN-akH)/2+ank+'px';uh.bu.style.left=(VJ-Yj)/2+alV+'px';}else{uh.bu.style.top=VN+ank+10+'px';uh.bu.style.left=(VJ-Yj)/2+alV+'px';}}}this.awq(cs);};dN.prototype.aex=function(gg,tI){var azf=IPCC.h.afB(gg,tI||'#ffffff'),azl=IPCC.h.map(azf,function(af){return{bB:af.startIndex,ci:af.endIndex,EN:af.color};});return azl;};dN.prototype.avv=function(K){var V=K.V;if(V.eL){var ld=this.aex(V.eL);var Fo=V.bv;var xM='';for(var J=ld.length-1;J>=0;J--){var VZ=ld[J];var bB=VZ.bB;var ci=VZ.ci;var cB=VZ.EN;var dF=IPCC.h.IM(Fo.substr(bB,ci-bB+1));var anK=IPCC.h.IM(Fo.substr(ci+1,Fo.length-ci+1));Fo=Fo.substr(0,bB);xM="<span style='background-color:"+cB+";'>"+dF+'</span>'+anK+xM;}xM=IPCC.h.IM(Fo)+xM;xM=xM.replace(/\n/g,'<br/>');K.mF.innerHTML=xM;}else{K.Aq.data=V.bv;}};module.exports=dN;},{"./ArtSVGUIDirector":17}],19:[function(require,module,exports){var vu={JH:function(){var wu=IPCC.vu;if(wu.vL===null){
/*@cc_on@if(@_jscript)wu.vL=document.documentMode>8;@else@*/ wu.vL=true;/*@end@*/}return wu.vL;},vL:null};module.exports=vu;},{}],20:[function(require,module,exports){var eI=function(YX,anU){this.T=false;this.YX=YX;var kg=IPCC.Web.UI;var aO=anU;if(!aO||aO===null){aO=IPCC.afr;}this.aO=aO;var arj={bv:aO.zoomInMenuItem,gj:IPCC.eg.acg,G:1.25};var aqZ={bv:aO.zoomOutMenuItem,gj:IPCC.eg.abD,G:1.25};var axE={bv:aO.fullImageMenuItem,G:kg.FitType.FullImage};var axF={bv:aO.fullWidthMenuItem,G:kg.FitType.FullWidth};var ays={bv:aO.fullHeightMenuItem,G:kg.FitType.FullHeight};var aor={bv:aO.oneToOneRatioMenuItem,G:kg.FitType.OneToOne};var avY={bv:aO.actualSizeMenuItem,G:kg.FitType.ActualSize};var aAX={bv:aO.rotateRightMenuItem,gj:IPCC.eg.abn,G:90};var aBR={bv:aO.rotateLeftMenuItem,gj:IPCC.eg.abn,G: -90};var aEy={bv:aO.mirrorHorizontalMenuItem,gj:IPCC.eg.agL};var aDn={bv:aO.mirrorVerticalMenuItem,gj:IPCC.eg.alW};var VO={bv:aO.panToolMenuItem,G:kg.MouseTool.HandPan};var Zq={bv:aO.areaSelectionToolMenuItem,G:kg.MouseTool.Select};var TZ={bv:aO.zoomRectangleToolMenuItem,G:kg.MouseTool.RectangleZoom};var Yy={bv:aO.flyingMagnifierToolMenuItem,G:kg.MouseTool.Magnifier};var apB={bv:aO.createTextMarkToolMenuItem,G:kg.MouseTool.CreateTextMark};var arl={bv:aO.createLineMarkToolMenuItem,G:kg.MouseTool.CreateLineMark};var apZ={bv:aO.createRectangleMarkToolMenuItem,G:kg.MouseTool.CreateRectangleMark};var aqh={bv:aO.createEllipseMarkToolMenuItem,G:kg.MouseTool.CreateEllipseMark};var aBT={bv:aO.editMarksToolMenuItem,G:kg.MouseTool.EditMarks};var aqb={bv:aO.createStampMarkToolMenuItem,G:kg.MouseTool.CreateStampMark};var apG={bv:aO.createHighlightMarkToolMenuItem,G:kg.MouseTool.CreateHighlightTextMark};var acq={aD:55,bY:[{bv:aO.thicknessMenu.item1,G:1},{bv:aO.thicknessMenu.item2,G:2},{bv:aO.thicknessMenu.item3,G:3},{bv:aO.thicknessMenu.item4,G:4},{bv:aO.thicknessMenu.item5,G:5},{bv:aO.thicknessMenu.item6,G:6},{bv:aO.thicknessMenu.item7,G:7},{bv:aO.thicknessMenu.item8,G:8}]};var axr={aD:145,bY:[{bv:aO.opacityMenu.translucent,G:127},{bv:aO.opacityMenu.opaque,G:255}]};var LN={bv:aO.borderThicknessMenuItem,gj:IPCC.eg.IA,bp:'lineWidth',nu:acq};var Ns={bv:aO.borderColorMenuItem,gj:IPCC.eg.KD,bp:'lineColor'};var Kt={bv:aO.fillColorMenuItem,gj:IPCC.eg.KD,bp:'fillColor'};var ant={bv:aO.lineThicknessMenuItem,gj:IPCC.eg.IA,bp:'lineWidth',nu:acq};var alY={bv:aO.lineColorMenuItem,gj:IPCC.eg.KD,bp:'lineColor'};var aDT={bv:aO.fontMenuItem,gj:IPCC.eg.amU};var Rk={bv:aO.opacityMenuItem,gj:IPCC.eg.IA,bp:'opacity',nu:axr};var ass={bv:aO.moveToBackMenuItem,gj:IPCC.eg.alF};var asS={bv:aO.moveBackwardMenuItem,gj:IPCC.eg.amV};var arX={bv:aO.moveForwardMenuItem,gj:IPCC.eg.amr};var asn={bv:aO.moveToFrontMenuItem,gj:IPCC.eg.alQ};var wG={bv:aO.deleteMarkMenuItem,gj:IPCC.eg.afQ};var apv={aD:180,bY:[axE,axF,ays,aor,avY]};var aqx={bv:aO.zoomToFitMenuItem,gj:IPCC.eg.aak,nu:apv};var arq={aD:200,bY:[aAX,aBR,aEy,aDn]};var asl={bv:aO.orientationMenuItem,nu:arq};var Lf;if(IPCC.cS){if(IPCC.gG===false){Lf={aD:180,bY:[VO,TZ,Yy,Zq,null]};}else{Lf={aD:180,bY:[VO,TZ,Yy,Zq,null,aBT,apB,arl,apZ,aqh,aqb,apG]};}}else{Lf={aD:180,bY:[VO,TZ,Yy,Zq]};}var arf={bv:aO.mouseToolsMenuItem,gj:IPCC.eg.adM,nu:Lf};var aDf={aD:150,bY:[Kt,LN,Ns,null,Rk]};var aBY={aD:150,bY:[Kt,LN,Ns,null,null]};var aCU={aD:150,bv:aO.rectangleMarkPropertiesMenuItem,nu:aDf};var aBJ={aD:150,bv:aO.rectangleMarkPropertiesMenuItem,nu:aBY};var aqT={aD:150,bY:[aDT,Kt,LN,Ns,null,null,null,Rk]};var aqc={bv:aO.textMarkPropertiesMenuItem,nu:aqT};var anI={aD:150,bY:[Kt,LN,Ns,null,Rk]};var aoZ={bv:aO.polygonMarkPropertiesMenuItem,nu:anI};var anR={aD:140,bY:[ant,alY,null,Rk]};var anz={bv:aO.polylineMarkPropertiesMenuItem,nu:anR};var axz={aD:140,bY:[ant,alY,null,null]};var ayR={bv:aO.lineMarkPropertiesMenuItem,nu:axz};var aDx={aD:140,bY:[asn,arX,asS,ass]};var xa={bv:aO.markOrderingMenuItem,nu:aDx};var aGH={aD:150,bY:[Kt]};var aem={bv:aO.stampMarkPropertiesMenuItem,nu:aGH};this.avc={aD:180,bY:[arj,aqZ,aqx,asl,arf]};this.apL={aD:140,bY:[aqc,xa,wG]};this.aDG={aD:140,bY:[aCU,xa,wG]};this.aFj={aD:140,bY:[aem,xa,wG]};this.aES={aD:140,bY:[null,xa,wG]};this.aCw={aD:140,bY:[aBJ,xa,wG]};this.anZ={aD:140,bY:[aoZ,xa,wG]};this.apd={aD:140,bY:[anz,xa,wG]};this.axB={aD:140,bY:[ayR,xa,wG]};this.aBk={aD:140,bY:[aem,null,wG]};};eI.prototype.na=function(T){this.T=T;};eI.prototype.eB=function(){this.T=false;};eI.prototype.bk=function(){};eI.prototype.TS=function(R){var ic;if(R.mark&&this.YX){var Lc=R.mark.ju();switch(R.mark.get_type()){case IPCC.Web.UI.MarkType.Line:ic=this.axB;break;case IPCC.Web.UI.MarkType.Polyline:ic=this.apd;break;case IPCC.Web.UI.MarkType.Rectangle:ic=this.aDG;break;case IPCC.Web.UI.MarkType.Ellipse:ic=this.aCw;break;case IPCC.Web.UI.MarkType.Polygon:ic=this.anZ;break;case IPCC.Web.UI.MarkType.Text:ic=this.apL;break;case IPCC.Web.UI.MarkType.Stamp:if(Lc===true){ic=this.aES;}else{ic=this.aFj;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(R.mark.lc==='y'){ic=this.aBk;}break;}}if(!ic){ic=this.avc;}var ub=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uJ=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var abH=new IPCC.Web.UI.Point(R.domEvent.clientX+ub,R.domEvent.clientY+uJ);var C=this;function yg(aI){if(sM){var aX=aI.target;if(aX&&aX===null){return;}var DY,amw;while(aX&&aX!==document.body&&aX.parentNode!==null){if(aX&&aX!==null){if(aX===sM){amw=true;}if(!DY&&aX.ImGearCommand){DY=aX.ImGearCommand;}aX=aX.parentNode;}}if(!amw||DY){IPCC.Web.UI.al.removeHandler(document.body,'mousedown',yg);IPCC.Web.UI.al.removeHandler(document.body,'mousemove',ahT);document.body.removeChild(sM);sM=null;if(DY){DY.Sq=R;C.aEZ(DY);}}}};function UC(EY,xF,yQ,Fq){var dj=false,J,aX;for(J=0;J<xF.length;J++){if(EY===xF[J]){dj=true;}}if(!dj&&EY.ImGearType==='menu'){EY.style.display='none';}else{EY.style.display='block';}aX=EY.firstChild;while(aX){if(aX.ImGearType==='menuItemHighlight'){if(aX===Fq){aX.style.display='block';}else{aX.style.display='none';}}if(aX.firstChild){UC(aX,xF,yQ,Fq);}aX=aX.nextSibling;}};function ahT(aI){if(sM){var aX=aI.target;if(aX&&aX===null){return;}var xF=[sM],yQ,Fq;while(aX&&aX!==document.body&&aX.parentNode!==null){if(!yQ&&aX.ImGearType==='menuItem'){yQ=aX;}if(aX.ImGearType==='menu'){xF.push(aX);}aX=aX.parentNode;}if(yQ){aX=yQ.firstChild;while(aX){if(aX.ImGearType==='menuItemHighlight'){Fq=aX;}else if(aX.ImGearType==='menu'){xF.push(aX);}aX=aX.nextSibling;}}UC(sM,xF,yQ,Fq);}};var an;if(window.innerWidth){an={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){an={x:ub,y:uJ,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{an={x:ub,y:uJ,width:document.body.clientWidth,height:document.body.clientHeight};}var sM=this.amM(ic,false,false,abH,abH,true,an,document.body,R.mark);UC(sM,[sM],null,null);document.body.appendChild(sM);IPCC.Web.UI.al.addHandler(document.body,'mousedown',yg);IPCC.Web.UI.al.addHandler(document.body,'mousemove',ahT);};eI.prototype.amM=function(ic,gj,bp,ZD,aap,EJ,an,avp,V){var ana=24,acE=1;var J,VE=0;for(J=0;J<ic.bY.length;J++){var aBH=ic.bY[J];if(aBH){VE+=ana;}else{VE+=acE;}}var OO;if(EJ){OO=aap.x+ic.aD;if(OO>an.x+an.width){EJ=false;}}if(!EJ){OO=ZD.x-ic.aD;if(OO<an.x){EJ=true;}}var qU={x:aap.x,y:aap.y};if(!EJ){qU={x:ZD.x-ic.aD-2,y:ZD.y-2};}var alg=an.y+an.height-VE-8;if(qU.y>alg){qU.y=alg;}if(qU.y<an.y+2){qU.y=an.y+2;}function gy(sQ){var wa=document.createElement('div');var J;for(J in sQ){if(sQ.hasOwnProperty(J)){wa.style[J]=sQ[J];}}return wa;};var MW=gy({zIndex:2,width:ic.aD+'px',left:qU.x+'px',top:qU.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});MW.ImGearType='menu';for(J=0;J<ic.bY.length;J++){var xJ=ic.bY[J];var tz;if(xJ){tz=gy({position:'relative',height:'24px'});tz.ImGearType='menuItem';var BW=gy({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});tz.appendChild(BW);var alJ=gy({textOverflow:'ellipsis',whiteSpace:'nowrap',width:ic.aD-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});tz.appendChild(alJ);var amx=gy({display:'none',position:'absolute',height:'24px',width:ic.aD+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});amx.ImGearType='menuItemHighlight';tz.appendChild(amx);alJ.appendChild(document.createTextNode(xJ.bv));var Mn=xJ.gj||gj;var GP=xJ.bp||bp;if(GP){if(Mn===IPCC.eg.IA){var avI=V['get_'+GP]();if(avI===xJ.G){if(this.T.va()){BW.style.backgroundImage='url(\''+this.T.va()+'/MenuIcons.png'+'\')';}else{BW.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}BW.style.backgroundPosition='0px';}}else if(Mn===IPCC.eg.amk){var awT=V['get_'+GP]();if(awT){if(this.T.va()){BW.style.backgroundImage='url(\''+this.T.va()+'/MenuIcons.png'+'\')';}else{BW.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}BW.style.backgroundPosition='24px 0px';}}}if(!xJ.nu){tz.ImGearCommand={gj:Mn,bp:GP,G:xJ.G};}else{var asi={x:an.x-qU.x,y:an.y-qU.y,width:an.width,height:an.height};this.amM(xJ.nu,Mn,GP,{x:0,y: -1},{x:ic.aD,y: -1},EJ,asi,tz,V);}qU.y+=ana;}else{tz=gy({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});qU.y+=acE;}MW.appendChild(tz);}avp.appendChild(MW);return MW;};eI.prototype.aCn=function(V,dq,T){var ub=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uJ=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var an;if(window.innerWidth){an={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){an={x:ub,y:uJ,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{an={x:ub,y:uJ,width:document.body.clientWidth,height:document.body.clientHeight};}var lM=an.x+an.width/2;var nb=an.y+an.height/2;var hU=document.createElement('div');hU.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nb-85)+'px;left:'+(lM-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aO.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aO.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aO.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.aO.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hU);var WR=document.getElementById('ImGearColorRed');var ajd=document.getElementById('ImGearColorGreen');var akC=document.getElementById('ImGearColorBlue');var FV=document.getElementById('ImGearColorOKButton');var Kf=document.getElementById('ImGearColorCancelButton');var Vr=V['get_'+dq]();var Ph;if(Vr.length===7&&Vr.charAt(0)==='#'){Ph=parseInt(Vr.slice(1),16);}WR.value=(Ph>>16);ajd.value=((Ph>>8)&255);akC.value=(Ph&255);function Te(Xq){var G=Math.floor(+(Xq.value));if(!isFinite(G)){G=0;}if(G<0){G=0;}if(G>255){G=255;}return G;};function Az(){IPCC.Web.UI.al.removeHandler(FV,'click',Gj);IPCC.Web.UI.al.removeHandler(Kf,'click',JX);IPCC.Web.UI.al.removeHandler(document.body,'mousedown',yg);};function Gj(){var cB=Te(WR)*65536+Te(ajd)*256+Te(akC);V['set_'+dq]('#'+(0x1000000+cB).toString(16).slice(1));Az();document.body.removeChild(hU);hU=null;T.cv();};function JX(){Az();document.body.removeChild(hU);hU=null;};function yg(aI){if(hU){var aX=aI.target;var IX;while(aX!==document.body){if(aX===hU){IX=true;}aX=aX.parentNode;}if(!IX){Az();document.body.removeChild(hU);hU=null;}}};IPCC.Web.UI.al.addHandler(FV,'click',Gj);IPCC.Web.UI.al.addHandler(Kf,'click',JX);IPCC.Web.UI.al.addHandler(document.body,'mousedown',yg);WR.focus();};eI.prototype.aBn=function(V,T){var ub=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var uJ=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var an;if(window.innerWidth){an={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){an={x:ub,y:uJ,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{an={x:ub,y:uJ,width:document.body.clientWidth,height:document.body.clientHeight};}var lM=an.x+an.width/2;var nb=an.y+an.height/2;var hU=document.createElement('div');hU.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(nb-85)+'px;left:'+(lM-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.aO.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aO.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aO.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aO.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.aO.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.aO.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(hU);var YU=document.getElementById('ImGearFontFamily');var agd=document.getElementById('ImGearFontSize');var agZ=document.getElementById('ImGearFontItalic');var agR=document.getElementById('ImGearFontBold');var agn=document.getElementById('ImGearFontUnderline');var aho=document.getElementById('ImGearFontStrikeout');var FV=document.getElementById('ImGearFontOKButton');var Kf=document.getElementById('ImGearFontCancelButton');var arO=V.get_fontName();var asa=V.get_fontSize();var rO=V.get_fontStyle();YU.value=arO;agd.value=asa;agZ.checked=rO&IPCC.Web.UI.FontStyle.Italic;agR.checked=rO&IPCC.Web.UI.FontStyle.Bold;agn.checked=rO&IPCC.Web.UI.FontStyle.Underline;aho.checked=rO&IPCC.Web.UI.FontStyle.Strikeout;function awI(Xq){var G=Math.floor(+(Xq.value));if(!isFinite(G)){G=12;}if(G<0.1){G=0.1;}if(G>288){G=288;}return G;};function Az(){IPCC.Web.UI.al.removeHandler(FV,'click',Gj);IPCC.Web.UI.al.removeHandler(Kf,'click',JX);IPCC.Web.UI.al.removeHandler(document.body,'mousedown',yg);};function Gj(){V.set_fontName(YU.value);var bZ=awI(agd);V.set_fontSize(bZ);var dV=0;if(agZ.checked){dV|=IPCC.Web.UI.FontStyle.Italic;}if(agR.checked){dV|=IPCC.Web.UI.FontStyle.Bold;}if(agn.checked){dV|=IPCC.Web.UI.FontStyle.Underline;}if(aho.checked){dV|=IPCC.Web.UI.FontStyle.Strikeout;}V.set_fontStyle(dV);Az();document.body.removeChild(hU);hU=null;T.cv();};function JX(){Az();document.body.removeChild(hU);hU=null;};function yg(aI){if(hU){var aX=aI.target;var IX;while(aX!==document.body){if(aX===hU){IX=true;}aX=aX.parentNode;}if(!IX){Az();document.body.removeChild(hU);hU=null;}}};IPCC.Web.UI.al.addHandler(FV,'click',Gj);IPCC.Web.UI.al.addHandler(Kf,'click',JX);IPCC.Web.UI.al.addHandler(document.body,'mousedown',yg);YU.focus();};eI.prototype.aEZ=function(R){var V=R.Sq.mark;switch(R.gj){case IPCC.eg.IA:V['set_'+R.bp](R.G);this.T.cv();break;case IPCC.eg.KD:this.aCn(V,R.bp,this.T);break;case IPCC.eg.amU:this.aBn(V,this.T);break;case IPCC.eg.amk:V['set_'+R.bp](!V['get_'+R.bp]());this.T.cv();break;case IPCC.eg.alF:V.moveToBack();this.T.cv();break;case IPCC.eg.amV:V.moveBackward();this.T.cv();break;case IPCC.eg.amr:V.moveForward();this.T.cv();break;case IPCC.eg.alQ:V.moveToFront();this.T.cv();break;case IPCC.eg.afQ:V.removeFromPage();this.T.cv();break;default:this.T.aCA(R);break;}};module.exports=eI;},{}],21:[function(require,module,exports){var bh={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,dW:function(aF){if(typeof aF==='string'){return aF;}switch(aF){case IPCC.bh.Default:case IPCC.bh.Magnifier:case IPCC.bh.None:case IPCC.bh.RunMarks:return 'auto';case IPCC.bh.Arrow:case IPCC.bh.EditMarks:return 'default';case IPCC.bh.Crosshair:case IPCC.bh.RectangleZoom:case IPCC.bh.AddRectangleMark:case IPCC.bh.AddEllipseMark:case IPCC.bh.AddLineMark:case IPCC.bh.AddFreehandLineMark:case IPCC.bh.AddPolygonMark:case IPCC.bh.AddPolylineMark:case IPCC.bh.AddTextMark:case IPCC.bh.AddRectangleRedactionMark:case IPCC.bh.AddImageStampMark:case IPCC.bh.AddStampMark:return 'crosshair';case IPCC.bh.Link:return 'pointer';case IPCC.bh.HandOpen:case IPCC.bh.HandClosed:case IPCC.bh.Move:return 'move';case IPCC.bh.ResizeN:return 'n-resize';case IPCC.bh.ResizeE:return 'e-resize';case IPCC.bh.ResizeS:return 's-resize';case IPCC.bh.ResizeW:return 'w-resize';case IPCC.bh.ResizeNW:return 'nw-resize';case IPCC.bh.ResizeNE:return 'ne-resize';case IPCC.bh.ResizeSE:return 'se-resize';case IPCC.bh.ResizeSW:return 'sw-resize';case IPCC.bh.Text:return 'text';}return 'auto';}};module.exports=bh;},{}],22:[function(require,module,exports){var iY={rR:function(iT,NT){var bf,bW,fo;if(iT===null){return 'null';}if(!NT){NT=0;}bf=typeof(iT);if(bf==='undefined'){return 'undefined';}else if(bf==='number'||bf==='boolean'){return iT.toString();}else if(bf==='string'){return '\''+iT+'\'';}else if(bf==='function'){return 'function';}else{if(NT<0){return 'iT';}bW='{';for(fo in iT){if(iT.hasOwnProperty(fo)){if(bW.length>2){bW+=', ';}bW+=fo;bW+=': ';bW+=IPCC.iY.rR(iT[fo],NT-1);}}bW+='}';return bW;}},Nv:function(bv){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bv+'\n';}},aHu:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},nA:function(ko,JZ,ak,Ec,yo){var bv="PCC Controls - ";bv+=(Ec)?Ec:" ";bv+=" parent Div id = ";bv+=(yo)?yo:" ";if(JZ){switch(JZ){case 0:bv+=" FunctionCall ";break;case 1:bv+=" Exception ";break;case 2:bv+=" Custom ";break;case 3:bv+=" UserAction ";break;case 4:bv+=" Warning ";break;default:bv+=" unknown ";}}bv+=" - "+ko;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(bv);}if(window.console&&window.console.log){window.console.log(bv);}if(window.opera){window.opera.postError(bv);}if(window.debugService){window.debugService.trace(bv);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=bv+'\n';}var Ml;try{Ml=onPCCItemLogged;}catch(ex){}if(Ml&&(typeof(Ml)).toLowerCase()==='function'){var cD=new IPCC.Web.UI.LogItemEventArgs();cD.message=ko;cD.cause=JZ;cD.level=ak;cD.id=yo;Ml(cD);}}};module.exports=iY;},{}],23:[function(require,module,exports){var kF=function(){this.aJ=false;this.T=false;};kF.prototype.na=function(T){this.T=T;this.T.aai(true);this.as=T.bx();};kF.prototype.eB=function(){if(arguments[0]){if(arguments[0]===true){this.T=false;return;}}this.T.aai(false);this.T=false;};kF.prototype.bk=function(){if(this.aJ){this.T.Fv(true);this.as.pf();this.aJ=false;this.T.cv();}};kF.prototype.zV=function(R){this.bk();var V=R.mark;if(V&&V.jm()===IPCC.Web.UI.MarkType.Text){this.T.vK(V);this.T.cv();}};kF.prototype.jQ=function(R){this.bk();var ip=R.domEvent;if(ip.button===0){var dI=ip.target;this.cJ=dI.ImGearMarkHandle;if(this.cJ){this.uk=this.cJ.bf;this.nT=this.cJ.aE;}else{this.uk=null;this.nT=null;}while(!(dI.ImGearMarkRelation)&&dI.parentNode&&dI!==document.body){dI=dI.parentNode;}this.K=dI.ImGearMarkRelation;if(this.K){this.V=this.K.V;}else{this.V=null;}this.aJ=true;this.Mt=R.imagePoint;this.BG=R.imagePoint;var V=this.V;if(!V||V.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!ip.shiftKey){this.T.ee().Cy().removeAllMarks();}this.as.Df(R.imagePoint);}else{var fP,F;switch(this.uk){case IPCC.cS.dN.prototype.abL:this.ij=V.ff();this.Xi=Math.abs(this.ij.width);this.Ig=Math.abs(this.ij.height);fP={x:this.ij.x,y:this.ij.y};this.Ly={x:this.ij.x+this.ij.width,y:this.ij.y+this.ij.height};if(this.nT>0&&this.nT<3){fP.x+=this.ij.width;this.Ly.x-=this.ij.width;}if(this.nT>1){fP.y+=this.ij.height;this.Ly.y-=this.ij.height;}this.aHz=fP;break;case IPCC.cS.dN.prototype.aaT:F=V.ff();this.ij=F;fP={x:F.x+F.width/2,y:F.y+F.height/2};switch(this.nT){case 0:this.zi=F.y+F.height;fP.y=F.y;break;case 1:this.zi=F.x;fP.x=F.x+F.width;break;case 2:this.zi=F.y;fP.y=F.y+F.height;break;case 3:this.zi=F.x+F.width;fP.x=F.x;break;}break;case IPCC.cS.dN.prototype.FJ:this.aL=V.qx();if(this.nT<0||this.nT>this.aL.eY()){this.bk();}fP=this.aL.getPoint(this.nT);break;case IPCC.cS.dN.prototype.Iw:break;case IPCC.cS.dN.prototype.ZW:F=V.ff();fP={x:F.x+V.nv.x,y:F.y+V.nv.y};break;default:var ww=V.get_selected();if(ip.ctrlKey||ip.shiftKey){ww= !ww;V.set_selected(ww);}else{if(!ww){ww=true;this.T.ee().Cy().removeAllMarks();if(V.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var J=0;J<this.T.ee().get_markCount();J++){var ST=this.T.ee().getMark(J);if(ST.jm()===608&&ST.aY===V.aY){ST.set_selected(ww);}}}else{V.set_selected(ww);}}}if(!ww){this.bk();}break;}if(this.aJ&&fP){this.aCT=fP.x-this.Mt.x;this.aEu=fP.y-this.Mt.y;if(this.cJ){this.as.aEY(this.cJ.aF);}}}if(this.aJ){this.T.Fv(false);}}this.T.cv();};kF.prototype.lg=function(R){var ip=R.domEvent;var BG;function arD(aAd){aAd.GX(R.imagePoint.x-BG.x,R.imagePoint.y-BG.y);};if(ip.button!==0){this.bk();}if(this.aJ){var V=this.V;if(!V||V.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.as.Af(R.imagePoint);}else{var fP={x:R.imagePoint.x+this.aCT,y:R.imagePoint.y+this.aEu};var F;switch(this.uk){case IPCC.cS.dN.prototype.abL:var qz={x:fP.x,y:fP.y};var kG={x:this.Ly.x,y:this.Ly.y};if(ip.ctrlKey){kG.x=this.ij.x+this.ij.width/2;kG.y=this.ij.y+this.ij.height/2;}if(ip.shiftKey){var sz=Math.abs(qz.x-kG.x);var sx=Math.abs(qz.y-kG.y);if(sz*this.Ig<sx*this.Xi){if(this.Ig>0.001){sz=sx*this.Xi/this.Ig;}}else{if(this.Ig>0.001){sx=sz*this.Ig/this.Xi;}}if(qz.x<kG.x){sz= -sz;}if(qz.y<kG.y){sx= -sx;}qz.x=kG.x+sz;qz.y=kG.y+sx;}if(ip.ctrlKey){kG={x:kG.x-(qz.x-kG.x),y:kG.y-(qz.y-kG.y)};}F={};F.x=Math.min(kG.x,qz.x);F.width=Math.max(kG.x,qz.x)-F.x;F.y=Math.min(kG.y,qz.y);F.height=Math.max(kG.y,qz.y)-F.y;V.set_rectangle(F);break;case IPCC.cS.dN.prototype.aaT:F=V.ff();var EC;if(this.nT&1){if(ip.ctrlKey){EC=this.ij.x+this.ij.width/2;F.width=Math.abs(fP.x-EC)*2;F.x=EC-F.width/2;}else{F.x=Math.min(fP.x,this.zi);F.width=Math.max(fP.x,this.zi)-F.x;}}else{if(ip.ctrlKey){EC=this.ij.y+this.ij.height/2;F.height=Math.abs(fP.y-EC)*2;F.y=EC-F.height/2;}else{F.y=Math.min(fP.y,this.zi);F.height=Math.max(fP.y,this.zi)-F.y;}}V.set_rectangle(F);break;case IPCC.cS.dN.prototype.FJ:this.aL=V.qx();fP=this.aL.setPoint(this.nT,fP);break;case IPCC.cS.dN.prototype.Iw:break;case IPCC.cS.dN.prototype.ZW:F=V.ff();V.set_calloutPoint({x:fP.x-F.x,y:fP.y-F.y});break;default:BG=this.BG;this.BG=R.imagePoint;this.T.ee().Cy().lj(arD);break;}}this.T.cv();}};kF.prototype.kN=function(){function avx(V){var Ir=V.agy();if(aal.contains(Ir)&&aal.contains({x:Ir.x+Ir.width,y:Ir.y+Ir.height})){V.set_selected(true);}};if(this.aJ){if(!this.V){var aal=this.as.wS();this.T.ee().Bp(avx);this.as.pf();}this.bk();}};kF.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};kF.prototype.mn=function(){this.bk();};module.exports=kF;},{}],24:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var MO=function(){return this;};MO.registerClass=cQ;MO.prototype={};MO.registerClass('IPCC.ExceptionEventArgs');module.exports=MO;},{"./IPCC.Util":28}],25:[function(require,module,exports){var ef=require('./IPCC.Util').regEnum;var nz=function(){};nz.registerEnum=ef;nz.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};nz.registerEnum('IPCC.FitType',false);module.exports=nz;},{"./IPCC.Util":28}],26:[function(require,module,exports){var Di=function(){function FO(){return Math.floor((Math.random()*10)).toString();};var iO=new Date();return FO()+FO()+'_'+iO.getTime()+"_"+FO()+FO()+FO()+FO();};module.exports=Di;},{}],27:[function(require,module,exports){var nF=function(){this.aJ=false;this.T=false;};nF.prototype.na=function(T){this.T=T;};nF.prototype.eB=function(){this.T=false;};nF.prototype.bk=function(){if(this.aJ){this.aJ=false;}};nF.prototype.rh=function(){this.bk();};nF.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){this.aJ=true;this.Mt=R.imagePoint;}};nF.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){var T=this.T;var as=T.bx();var bD=as.eT();var bO=T.fe();bD.Vi(this.Mt,R.windowPoint);bD.kZ(T.cY(),bO);T.ad('userModifiedViewState',{});as.iI(bD);T.cv();}};nF.prototype.kN=function(){this.bk();};nF.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};nF.prototype.mn=function(){this.bk();};module.exports=nF;},{}],28:[function(require,module,exports){var h={};h.Yu=(function(){var kP={};var zO=[];kP.get=function aFW(qf){if(zO.length===0){return;}for(var i=0;i<qf.length;i++){if(zO[i]&&zO[i].qf===qf){return zO[i].jp;}}};kP.set=function aJd(qf,jp){zO.push({qf:qf,jp:jp});if(zO.length>10){zO.shift();}};kP.contains=function jk(qf){return kP.get(qf)!==undefined;};kP.cacheReponse=function aFT(qf,jp){if(jp.readyState===4){kP.set(qf,jp);}else{var axf=jp.onreadystatechange;jp.onreadystatechange=function(){if(jp.readyState===XMLHttpRequest.DONE&&jp.status===200){kP.set(qf,jp);}axf();};}};return kP;})();h.YJ=false;h.Og=(function(){var Og=false;var sT=navigator.userAgent,abj=((sT.indexOf('Mozilla/5.0')> -1&&sT.indexOf('Android ')> -1&&sT.indexOf('AppleWebKit')> -1)&& !(sT.indexOf('Chrome')> -1)),adK=new RegExp(/AppleWebKit\/([\d.]+)/),azA=adK.exec(sT),anu=(azA===null?null:parseFloat(adK.exec(sT)[1]));Og=abj&&anu!==null&&anu<537;return Og;})();h.aBB=(function(){var aoS=false;var sT=navigator.userAgent,abj=/Android/i.test(sT),aBp=/iPhone|iPad|iPod/i.test(sT),aEK=/IEMobile/i.test(sT);aoS=(abj||aBp||aEK);return aoS;})();h.AX=(function(){var AX=false;if(document.documentMode===8||document.documentMode===9||document.documentMode===10){AX=true;}return AX;})();h.BC=(function(){var ayh=navigator.userAgent;if(document.documentMode===10||h.Og){return 'svg';}else if(document.documentMode===9){return 'svga';}else if(/Apple Computer/.test(navigator.vendor||'')&&/Mac OS X.*?Version\/9\..*?Safari/i.test(ayh)&& !h.aBB){return 'svga';}else{return 'svgb';}})();h.Dp=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();h.Bf=(function(){return window.navigator.pointerEnabled||window.navigator.msPointerEnabled;})();h.Hj=h.Bf||(function(){return('ontouchstart'in document.documentElement);})();h.aBZ=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();h.ain=function(){return h.aot.btoa((Math.random().toString(36).slice(-4))+'_'+h.ud(new Date())+'_'+(Math.random().toString(36).slice(-6)));};h.inArray=function(db,dC){for(var i=0,l=db.length;i<l;i++){if(db[i]===dC){return true;}}return false;};h.forEach=function(bq,ar,cN){var pJ=[].forEach,azg=Object.prototype.hasOwnProperty;if(pJ&&bq.forEach===pJ){ar&&bq.forEach(ar,cN);}else if(bq.length=== +bq.length){for(var i=0,length=bq.length;i<length;i++){ar&&ar.call(cN,bq[i],i,bq);}}else{for(var bp in bq){if(azg.call(bq,bp)){ar&&ar.call(cN,bq[bp],bp,bq);}}}};h.map=function(db,ar,cN){var pJ=[].map,uv=[];if(pJ&&db.map===pJ){uv=db.map(ar,cN);}else{h.forEach(db,function(el,i){uv.push(ar.call(cN,el,i,db));});}return uv;};h.filter=function(db,ar,cN){var pJ=[].filter,uv=[],aer=false;if(pJ&&db.filter===pJ){uv=db.filter(ar,cN);}else{h.forEach(db,function(af,i){aer=ar.call(cN,af,i,db);if(aer){uv.push(af);}});}return uv;};h.find=function(obj,cb,context){var hasProp=Object.prototype.hasOwnProperty;cb=(typeof cb==='function')?cb:function(){};if(obj.length=== +obj.length){for(var i=0,length=obj.length;i<length;i++){if(! !cb.call(context,obj[i],i,obj)){return obj[i];}}}else{for(var name in obj){if(hasProp.call(obj,name)){if(! !cb.call(context,obj[name],name,obj)){return obj[name];}}}}return undefined;};h.remove=function(db,ar,cN){var WT=[];var auX=h.filter(db,ar,cN);h.forEach(auX,function(dC){var aE=h.indexOf(db,dC);if(aE=== -1){return;}WT=WT.concat(db.splice(aE,1));});return WT;};h.keys=function(bq){if(Object&&Object.keys){return Object.keys(bq);}else{var mC=[];for(var J in bq){if(bq.hasOwnProperty&&bq.hasOwnProperty(J)){mC.push(J);}}return mC;}};h.indexOf=function(db,acB,agN){if(Array.prototype.indexOf){return db.indexOf(acB,agN);}var k;if(db==null){throw new TypeError('"db" is null or not defined');}var O=Object(db);var len=O.length>>>0;if(len===0){return-1;}var n= +agN||0;if(Math.abs(n)===Infinity){n=0;}if(n>=len){return-1;}k=Math.max(n>=0?n:len-Math.abs(n),0);while(k<len){if(k in O&&O[k]===acB){return k;}k++;}return-1;};h.reduce=function(db,ar,dU,cN){var pJ=[].reduce;var Iz=(arguments.length===2)?undefined:dU;if(pJ&&typeof pJ==='function'&&db.reduce===pJ&&cN===undefined){if(dU!==undefined){return db.reduce(ar,dU,cN);}return db.reduce(ar);}IPCC.h.forEach(db,function(bN,aC){if(Iz===undefined){Iz=bN;return;}Iz=ar.call(cN,Iz,bN,aC,db);});return Iz;};h.reduceLeft=function(db,ar,dU,cN){var uv=db.reverse();return h.reduce.call(undefined,uv,ar,dU,cN);};h.contains=function(db,bN){var dw=db.length;while(dw--){if(db[dw]===bN){return true;}}return false;};h.arm=function(Yg,amA){if(Yg.length!==amA.length){return false;}for(var i=0,l=Yg.length;i<l;i++){if(Yg[i]!==amA[i]){return false;}}return true;};h.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};h.trim=function(bW){if(String.prototype.trim){return bW.trim();}return bW.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};h.getPageFromPoint=function(ay,ck,cN){var aDV=function(fS){return fS.left<=ay&&ay<=fS.right&&fS.top<=ck&&ck<=fS.bottom;};var aBt=function(){return h.filter(cN.querySelectorAll('[id*=__pViewId]:not(.pccPreviousPage):not(.pccNextPage)'),function(iw){return aDV(iw.getBoundingClientRect());});};if(!cN){cN=document;}return aBt(ay,ck)[0];};h.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};h.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var NM in baseType.prototype){if(baseType.prototype.hasOwnProperty(NM)){var aCQ=baseType.prototype[NM];if(!this.prototype[NM]){this.prototype[NM]=aCQ;}}}}return this;};h.ahD=function(WE,abO,ajT){if(abO){if(!ajT){abO.apply(WE);}else{abO.apply(WE,ajT);}}return WE;};h.aiz=function aiz(wc,aug,ajD){var pD;return function(){var cN=this,cD=arguments;var aCi=function(){pD=undefined;if(!ajD){wc.apply(cN,cD);}};var anJ=ajD&& !pD;clearTimeout(pD);pD=setTimeout(aCi,aug);if(anJ){wc.apply(cN,cD);}};};h.akE=function akE(cZ,uD){if(cZ.classList){cZ.classList.add(uD);}else{cZ.className+=' '+uD;}};h.ajj=function ajj(cZ,uD){if(cZ.classList){cZ.classList.remove(uD);}else{cZ.className=cZ.className.replace(uD,'');}};h.Ws=function(io){return{width:io.width||(io.right-io.left),height:io.height||(io.bottom-io.top),top:io.top,bottom:io.bottom,left:io.left,right:io.right};};h.afP=function(alphabet,size){var qJ='';for(var J=0;J<size;J++){qJ+=alphabet[Math.floor(Math.random()*1000)%alphabet.length];}return qJ;};h.ayf=function(){var aoA='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';var azP='AQgw';return h.afP(aoA,21)+h.afP(azP,1);};h.aiy=function(){var it={'Accusoft-Gid':h.ayf(),'Accusoft-Parent-Name':'ViewerControl','Accusoft-Parent-Pid':0,'Accusoft-Parent-Taskid':0};return it;};h.pr=function(bL){if(bL instanceof h.pr){return bL;}this.it=h.reduce(bL.headers||{},function(ph,bN,be){be=be.toLowerCase();if(ph[be]){ph[be]+=', '+bN;}else{ph[be]=bN;}return ph;},{});this.status=bL.status;this.statusText=bL.statusText;this.responseText=bL.responseText;if(typeof bL.responseBody!=='undefined'){this.responseBody=bL.responseBody;}return this;};h.pr.prototype.getResponseHeader=function(Dm){var bL=this.it[Dm.toLowerCase()];return bL!==undefined?bL:null;};h.mY=(function(){var zY={};zY.it={};zY.QR=undefined;function aio(afX){if(!afX){return{};}return afX.split('\r\n').reduce(function(MQ,mE){var aE=mE.indexOf(': ');if(aE>0){var be=mE.slice(0,aE);var G=mE.slice(aE+2);if(MQ[be]){G=MQ[be]+', '+G;}MQ[be]=G;}return MQ;},{});};zY.fu=function(auJ){var At={method:'GET',url:null,headers:{},body:null,timeout:null,mimeType:null,cache:false},kE=PCCViewer.Deferred(),dR=kE.getPromise(),sU;var bK=h.extend({},At,auJ);bK.headers=h.extend({},zY.it,bK.headers);if(typeof zY.QR==='function'){sU=zY.QR(bK);if(typeof sU==='object'&&typeof sU.then==='function'){sU.then(function(aP){kE.resolve(aP);},function(aP){kE.reject(aP);});return dR;}}if(bK.cache&&h.Yu.contains(bK.url)){var jp=h.Yu.get(bK.url);var bL,tU={};tU={status:jp.status,headers:aio(jp.getAllResponseHeaders())};try{tU.responseText=jp.responseText;}catch(e){}if(typeof jp.responseBody!=='undefined'){tU.responseBody=jp.responseBody;}bL=new h.pr(tU);if(jp.status>=200&&jp.status<300||status===304){kE.resolve(bL);}else{kE.reject({response:bL,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+jp.status+" "+jp.statusText)});}return dR;}var iG,pD;try{iG=new XMLHttpRequest();}catch(e){kE.reject(new PCCViewer.Error("Error",e.message));}if(iG){iG.open(bK.method,bK.url,true);if(bK.timeout){pD=window.setTimeout(function(){iG.abort();kE.reject({error:new PCCViewer.Error("Error","Request timed out")});},bK.timeout);}iG.onreadystatechange=function(){var bL,tU={};if(iG.readyState===4){if(pD){window.clearTimeout(pD);}tU={status:iG.status,headers:aio(iG.getAllResponseHeaders())};try{tU.responseText=iG.responseText;}catch(e){}if(typeof iG.responseBody!=='undefined'){tU.responseBody=iG.responseBody;}bL=new h.pr(tU);if(iG.status>=200&&iG.status<300||status===304){kE.resolve(bL);}else{kE.reject({response:bL,error:new PCCViewer.Error("Error","An AJAX problem occurred: "+iG.status+" "+iG.statusText)});}}};var XS=h.extend({},bK.headers,h.aiy());for(var be in XS){if(XS.hasOwnProperty(be)){iG.setRequestHeader(be,XS[be]);}}if(typeof bK.mimeType==='string'&&typeof iG.overrideMimeType==='function'){iG.overrideMimeType(bK.mimeType);}if(bK.cache){h.Yu.cacheReponse(bK.url,iG);}iG.send(bK.body);}return dR;};return zY;})();h.Yp=function(hm,nh,eB){var gk=[],sD=null,uC=null,bE;var aFo=function(uC,sD){if(!sD){return false;}else{return Math.abs(uC.y-sD.y)<1&&Math.abs(uC.height-sD.height)<1&&uC.x+uC.width>=sD.x+sD.width;}};for(bE=nh;bE<eB+1;bE++){uC=hm.jM(bE).an;if(aFo(uC,sD)){sD.union(uC);}else{sD=uC.clone();gk.push(sD);}}return gk;};h.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};h.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};h.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(aL){var arB=h.map(aL,function(af){return[af.x,af.y];});return d3_svg_lineBasis(arB);};})();h.aHP=function(bW){if(bW.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aAu=h.filter(bW.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aqR=h.map(aAu,function(el){var ars=el.replace(/[a-zA-Z]/g,'|').split('|');return h.map(ars,function(gj){var alr=gj.split(',');return{x: +alr[0],y: +alr[1]};});});return aqR;};h.ajt=function(bW,ih,jA,ky,bK){bK.bZ="12px";var jy=h.vz(bW,ih,bK),wA=12*jA/(jy.width||1),vw=12*ky/(jy.height||1),aqe=Math.min(wA,vw);bK.bZ=aqe;return h.ajz(bW,ih,jA,ky,bK);};h.ajz=function(bW,ih,jA,ky,bK,Lm){Lm=Lm||1;var or={},jy=h.vz(bW,ih,bK),bZ=bK.bZ;or.width=jy.width;or.height=jy.height;or.fontSize=bZ;if(Lm>3){return or;}if((jy.width<jA+1)&&(jy.height<ky+1)){return or;}else{var wA=bZ*jA/(jy.width||1),vw=bZ*ky/(jy.height||1),zT=Math.min(wA,vw);if(zT>=bK.bZ){return or;}else{bK.bZ=zT;return h.ajz(bW,ih,jA,ky,bK,Lm+1);}}};h.vz=function(bW,ih,bK){bK=bK||{};if(document.createElementNS){return h.aAr(bW,ih,bK);}else{return h.aiZ(bW,ih,bK);}};h.aAr=function(bW,ih,bK){var svg,agt=false;if(bK.et){svg=bK.et;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');agt=true;document.body.appendChild(svg);}var bZ=bK.bZ||"12px";if(typeof bZ==="number"){bZ=bZ+"px";}var cO=document.createElementNS("http://www.w3.org/2000/svg","text");h.forEach({x:0,y:0,'font-size':bZ,'stroke':"none",'fill':"#000000",'font-family':ih},function(value,name){cO.setAttribute(name,value);});if(bK.wo){cO.setAttribute('style','white-space:'+bK.wo);}var nr=document.createTextNode(bW);cO.appendChild(nr);svg.appendChild(cO);var vC=cO.getBBox(),GL=vC.width,GR=vC.height;svg.removeChild(cO);if(agt){document.body.removeChild(svg);}if(GL===0&&GR===0&&bW!=="M"){return h.vz("M",ih,bK);}else{return{width:GL,height:GR};}};h.aiZ=function(bW,ih,bK){var nr=document.createTextNode(bW),Gf=document.createElement('div');var bZ=bK.bZ||"12px";if(typeof bZ==="number"){bZ=bZ+"px";}h.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:bZ,fontFamily:ih},function(value,name){Gf.style[name]=value;});if(bK.wo){Gf.style.whiteSpace=bK.wo;}Gf.appendChild(nr);document.body.appendChild(Gf);var vC=Gf.getBoundingClientRect(),GL=vC.width||vC.right-vC.left,GR=vC.height||vC.bottom-vC.top;document.body.removeChild(Gf);if(GL===0&&GR===0&&bW!=="M"){return h.aiZ("M",ih,bZ);}else{return{width:GL,height:GR};}};h.XC=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};h.AO={SVG:function SVG(asv){var et=document.createElementNS("http://www.w3.org/2000/svg","svg");et.setAttribute('viewBox',asv);return et;},Path:function Path(vl,kU){var fQ=document.createElementNS("http://www.w3.org/2000/svg","path");fQ.style.fill='none';fQ.style.stroke=kU.color||'#000000';fQ.style.strokeWidth=kU.thickness||4;if(vl){fQ.setAttribute('d',vl.toString().trim());}return fQ;},Rect:function Rect(aD,ab,dV){var bn=document.createElementNS("http://www.w3.org/2000/svg","rect");bn.setAttribute('width',aD||0);bn.setAttribute('height',ab||0);if(dV){bn.setAttribute('style',dV);}return bn;}};h.Gv=function Gv(kz){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(kz);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(kz+' cannot be parsed as an ISO 8601 date.');}};h.ud=function aGI(iO){if(iO.toISOString&&typeof iO.toISOString==='function'){return iO.toISOString();}else{return new Error(iO+' is not a Date object.');}};h.tN=function tN(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};h.EG=function EG(o){if(h.tN(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};h.Wp=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{setTimeout(function(){funcs[idx++](next);},0);}};funcs[idx++](next);};h.ahB=function(bN){bN=String(bN).replace(/[^0-9a-f]/gi,"");if(bN.length<6){bN=bN[0]+bN[0]+bN[1]+bN[1]+bN[2]+bN[2];}var VT=function(bW){return parseInt(bW,16);};var r=VT(bN.substring(0,2));var g=VT(bN.substring(2,4));var b=VT(bN.substring(4,6));return{r:r,g:g,b:b};};h.aCE=function(bN){var Sd="";var Ri=function(n){while(n.length<2){n='0'+n;}return n;};var VB=function(n){return Ri(n.toString(16));};Sd+=VB(Math.floor(bN.r));Sd+=VB(Math.floor(bN.g));Sd+=VB(Math.floor(bN.b));return '#'+Sd;};h.aDO=function(aCo,arJ,aCf){var FR=aCf,Xh=h.ahB(aCo),nR=h.ahB(arJ);nR.r=(1-FR)*nR.r+(Xh.r*FR);nR.g=(1-FR)*nR.g+(Xh.g*FR);nR.b=(1-FR)*nR.b+(Xh.b*FR);nR.r=Math.floor(nR.r);nR.g=Math.floor(nR.g);nR.b=Math.floor(nR.b);return h.aCE(nR);};h.anc=function(arP,tI){var aDD=h.reduceLeft(arP,function(dU,cB){if(cB.opacity===undefined){cB.opacity=127;}var awi=cB.opacity/255;return h.aDO(cB.color,dU,awi);},tI);return aDD;};h.afB=function(gg){if(gg.length===0){return gg;}var eL=gg.slice(0);eL.sort(function(a,b){return a.startIndex-b.startIndex;});var TX=null;var ld=[];var Wo=0,QZ=[];var J=eL[0].startIndex;while(eL.length>0){Wo=0;QZ=null;QZ=[];var bE=0;while(bE<eL.length&&eL[bE].startIndex<=J){if(J<=eL[bE].startIndex+eL[bE].length-1){Wo++;QZ.push(eL[bE]);bE++;}else{eL.splice(bE,1);}}if(Wo>0){var EN=h.anc(QZ,'#ffffff');if(EN===TX){ld[ld.length-1].endIndex=J;}else{ld.push({startIndex:J,endIndex:J,color:EN});}TX=EN;J++;}else{if(eL.length>0){J=eL[0].startIndex;}TX=null;}}return ld;};h.IM=function(VX){return VX.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};h.apt=function(ai){var blackListPattern=/^\s*(file|data|javascript|[a-z]):.*$/i;return blackListPattern.test(ai);};h.Ri=function(gH,dw){var bW=""+gH;while(bW.length<dw){bW='0'+bW;}return bW;};h.aIq=function(eR){var gq=eR.getTimezoneOffset();gq=((gq<0?'+':'-')+h.Ri(parseInt(Math.abs(gq/60),10),2)+h.Ri(Math.abs(gq%60),2));return gq;};h.agp=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];h.SM=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];h.aey=function(Wt){var aGm=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aP=aGm.exec(Wt),ami,Bd,agr,ahF,amg,wt,aat;if(!aP){return null;}else{ami=aP[1].toLowerCase();agr=aP[2];ahF=aP[3];amg=aP[4];wt=aP[5];aat=aP[6];for(Bd=0;Bd<12;Bd++){if(h.SM[Bd].toLowerCase()===ami){break;}}if(Bd>=12){return null;}return new Date(Date.UTC(aat,Bd,agr,ahF,amg,wt));}};h.aiW=function(eR){return(h.agp[eR.getUTCDay()]+" "+h.SM[eR.getUTCMonth()]+" "+eR.getUTCDate()+" "+eR.getUTCHours()+':'+eR.getUTCMinutes()+':'+eR.getUTCSeconds()+" "+"GMT+0000 "+eR.getUTCFullYear());};h.aCD=function(eR){return(h.agp[eR.getUTCDay()]+" "+h.SM[eR.getUTCMonth()]+" "+eR.getUTCDate()+" "+eR.getUTCFullYear());};h.aCe=function(eR){return(eR.getUTCHours()+':'+eR.getUTCMinutes()+':'+eR.getUTCSeconds()+" "+"GMT+0000");};h.pY=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};h.vZ=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};h.aot=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();h.oQ=(function(){var oQ=['down','enter','leave','move','out','over','up'];if(window.navigator.pointerEnabled){var adT={};oQ.forEach(function(afm){adT[afm]='pointer'+afm;});return adT;}if(window.navigator.msPointerEnabled){var amP={};for(var J=0;J<oQ.length;J++){var Sn=oQ[J];var atj='MSPointer'+Sn.charAt(0).toUpperCase()+Sn.slice(1);amP[Sn]=atj;}return amP;}return{};})();h.us=(function(){return{Am: ! !navigator.userAgent.match('Edge'),aFm:document.documentMode!==undefined,aFG:document.documentMode===8,aGF:document.documentMode===9,aFx:document.documentMode===10,aFC:document.documentMode===11,aDl:(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)),azG:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)};})();h.Pb=(function(os){if(!os|| !IPCC.h.trim(os)){return 'regular';}return IPCC.h.trim(os).toLowerCase();});h.aHW=function(arg,value){return typeof arg!=='undefined'?arg:value;};h.PR=function(value){return Number(value.replace(/[a-z]+$/,''));};h.OU=function(elem,propertyName){if(elem.currentStyle){return elem.currentStyle[propertyName];}else{return window.getComputedStyle(elem,null).getPropertyValue(propertyName);}};h.aje=function(){if(this.qd===undefined){this.qd=document.createTextNode('');}return this.qd;};h.aiQ=function(){if(this.ca===undefined){this.ca=document.createElement('textarea');this.qd=document.createTextNode('');this.ca.appendChild(h.qd);this.ca.style.position='absolute';this.ca.style.overflow='hidden';this.ca.style.width='80px';this.ca.style.height='80px';this.ca.style.resize='none';this.ca.style.top='-9999px';this.ca.style.left='-9999px';this.ca.style.whiteSpace='pre-wrap';this.ca.style.border=0;this.ca.style.padding='2px';document.body.appendChild(this.ca);}return this.ca;};h.abS=function(ca,Ew,bg){var Zn=0.1;var IT;if(Ew===0||Ew>bg){Ew=bg;}while(Zn<=Ew){IT=(Zn+Ew)/2;ca.style.fontSize=IT+'px';if(ca.scrollHeight<=ca.offsetHeight){Zn=IT+0.1;}else{Ew=IT-0.1;}}var agU=(IT-0.5)*0.95;ca.style.fontSize=agU+'px';return agU;};h.KQ=function(wc,ny,XI,sU){if(wc(ny,XI)!==XI){return typeof(sU)==='number'?sU:XI;}return ny;};h.Ni=function(ny,aEn,sU){return h.KQ(Math.min,ny,aEn,sU);};h.PY=function(ny,aGE,sU){return h.KQ(Math.max,ny,aGE,sU);};h.avf=(function(){var HT;return function(auf,kf,aCJ){if(HT!==undefined&& !aCJ){setTimeout(kf.bind(null,HT),0);return;}atT(auf,function(qJ){HT=qJ;kf(qJ);});};function atT(Qc,kf){var ih='jctqxvjmncyjagibfltptfzhknc';var iQ='@font-face {font-family:'+ih+';src:url(data:application/x-font-woff;charset=utf-8;base64,d09GRk9UVE8AAAQoAAkAAAAAA+QAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAC+AAAARkAAAEZ9R5YPk9TLzIAAAFEAAAAYAAAAGBKDUcOY21hcAAAAqwAAAAsAAAALAAMAFZoZWFkAAAA4AAAADYAAAA2+UdJt2hoZWEAAAEYAAAAJAAAACQIOgMbaG10eAAABBQAAAAUAAAAFAhtAW5tYXhwAAABPAAAAAYAAAAGAAVQAG5hbWUAAAGkAAABBQAAAQVCmPyecG9zdAAAAtgAAAAgAAAAIAADAAAAAQAAAAEAAM9NZw1fDzz1AAAD6AAAAADLUgMfAAAAAMtSAx8Ac//5AxwCmwAAAAgAAgAAAAAAAAABAAACm//5Ag4DHABzAAADHAABAAAAAAAAAAAAAAAAAAAABQAAUAAABQAAAAQCzwGQAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEFDQ1UAQAAfACMCm//5AkACmwAHAAAAAQAAAAAAAAAAAAAAIAAAAAAABgBOAAEAAAAAAAEAGwAAAAEAAAAAAAIABwBRAAEAAAAAAAYAGwBmAAMAAQQJAAEANgAbAAMAAQQJAAIADgBYAAMAAQQJAAYANgCBamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjUmVndWxhcgBSAGUAZwB1AGwAYQByamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAGoAYwB0AHEAeAB2AGoAbQBuAGMAeQBqAGEAZwBpAGIAZgBsAHQAcAB0AGYAegBoAGsAbgBjAAAAAAAAAQADAAEAAAAMAAQAIAAAAAQABAABAAAAI///AAAAIP///+EAAQAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABAQAAQEBHGpjdHF4dmptbmN5amFnaWJmbHRwdGZ6aGtuYwABAQEq+Bv4HIsMHvgdAvgdA/cHhPmw+S8FiwwfkAwi95sMJPc5DCX3NA/3QREABAEBBg8qRUFkb2JlSWRlbnRpdHkwamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jamN0cXh2am1uY3lqYWdpYmZsdHB0Znpoa25jAAACAAEAAwMAAQAAAAAFAAUBAQIDFDNSDg7Q9xX5JxX5J4uL/Sf9J4sFDtj3LvkOFYv89fj1i4v49QWs/RUV/TaLi/k2+TaLBQ77JvcHixWL+NH4XouL/NEF/FCZFfhCi4v4tfxCiwUOAAEBAQn4HgwmkPeoEosU+WMVAAAAAAAAAAAAAAADFACBAxwAegI9AHM=)}';var dV;var om;var agk;var afL,aes;ave();atn(function(qJ){atu();kf(qJ);});function ave(){dV=document.createElement('style');dV.innerText=iQ;Qc.appendChild(dV);om=document.createElement('div');om.style.cssText='position: absolute;width: 100%;top:-9999px;left: -9999px;visibility: hidden;pointer-events: none;';afL=ajN(om,'monospace');aes=ajN(om,'arial');Qc.appendChild(om);};function atu(){clearInterval(agk);Qc.removeChild(om);Qc.removeChild(dV);};function atn(ar){var awp=Date.now();var pD=500;var aDp=25;agk=setInterval(function(){var agT=afL.offsetWidth===aes.offsetWidth;if(agT||Date.now()-awp>pD){ar(agT);}},aDp);};function ajN(om,iQ){var art='!!';var aeN=document.createElement('div');var GG=document.createElement('span');GG.style.cssText='font-size: 30px; font-weight: normal; font-style: normal; letter-spacing: 0px; white-space: nowrap;';GG.innerText=art;GG.style.fontFamily=ih+', '+iQ;aeN.appendChild(GG);om.appendChild(aeN);return GG;}}})();h.apH=function(gS,yH,mg){var vi=document.createElement('div');if(!IPCC.h.us.azG){gS=gS.replace(/href="#/g,'href="#'+mg);gS=gS.replace(/url\("?#(.+?)"?\)/g,'url(#'+mg+'$1)');gS=gS.replace(/ id="/g,' id="'+mg);vi.innerHTML=gS;return vi;}vi.innerHTML=gS;var api=vi.querySelectorAll('[id]');var anQ=vi.querySelectorAll("*");var apP=yH.replace(/"/g,'\\$&');var axK=['href','xlink:href'];var atW=['fill','filter','clip-path','mask','marker-start','marker-mid','marker-end'];IPCC.h.forEach(api,function(af){af.id=mg+af.id;});IPCC.h.forEach(anQ,function(af){IPCC.h.forEach(axK,function(pF){if(af.hasAttribute(pF)&&af.getAttribute(pF).indexOf('#')===0){af.setAttribute(pF,af.getAttribute(pF).replace('#',yH+'#'+mg));}});IPCC.h.forEach(atW,function(pF){if(af.hasAttribute(pF)&&af.getAttribute(pF).match(/^url\("?#/)){af.setAttribute(pF,af.getAttribute(pF).replace(/^url\("?#(.+?)\"?\)$/,'url("'+yH+'#'+mg+'$1")'));}});if(af.hasAttribute('style')){var DR=af.style.cssText;DR=DR.replace(/url\("?#(.+?)"?\)/g,'url("'+apP+'#'+mg+'$1")');af.style.cssText=DR;}});return vi;};module.exports=h;},{}],29:[function(require,module,exports){var yE=require('./Type');yE.registerNamespace('IPCC');module.exports={Pagecounter:1,gG:true,afr:null,initializePageViewPlugin:require('./initializePageViewPlugin'),initializePageListPlugin:require('./initializePageListPlugin'),qr:require('./predefinedContextMenu'),UH:require('./indexOf'),Qx:require('./setProperties'),bP:require('./PageItem'),Di:require('./GetUniqueID'),Sv:require('./ViewerState'),vu:require('./Configuration'),bh:require('./Cursor'),jV:require('./Res'),bH:require('./Validate'),iY:require('./Debug'),eg:require('./MenuCommand'),PageLayout:require('./PageLayout'),ViewMode:require('./ViewMode'),FitType:require('./FitType'),ScaleTrigger:require('./ScaleTrigger'),PageEventArgs:require('./PageEventArgs'),ExceptionEventArgs:require('./ExceptionEventArgs'),OpenPageEventArgs:require('./OpenPageEventArgs'),PageList:require('./PageList'),Web:require('./Web/Web'),Type:yE,h:require('./IPCC.Util'),cS:require('./Art'),kx:require('./SelectTextController'),fq:require('./Matrix'),SU:require('./ViewerModel'),eI:require('./ContextMenuController'),eF:require('./SvgUIDirector'),nG:require('./PropertyChangedEventArgs'),zb:require('./StringBuilder'),cl:require('./MultiTouchController'),rm:require('./ImagePyramid'),cz:require('./SingleTouchController'),kb:require('./AddPolyMarkController'),oy:require('./SelectController'),fI:require('./AddRectangularMarkController'),mq:require('./AddFreehandMarkController'),mz:require('./AddLineMarkController'),dH:require('./MouseWheelController'),nF:require('./HandPanController'),mW:require('./RectangleZoomController'),pg:require('./MagnifierController'),kF:require('./EditMarksController'),AS:require('./RunMarksController'),Ge:require('./Space'),hj:require('./Image'),Pn:require('./ImagePool'),AZ:require('./PyramidLevel'),yT:require('./PyramidTile'),};},{"./AddFreehandMarkController":12,"./AddLineMarkController":13,"./AddPolyMarkController":14,"./AddRectangularMarkController":15,"./Art":16,"./Configuration":19,"./ContextMenuController":20,"./Cursor":21,"./Debug":22,"./EditMarksController":23,"./ExceptionEventArgs":24,"./FitType":25,"./GetUniqueID":26,"./HandPanController":27,"./IPCC.Util":28,"./Image":30,"./ImagePool":31,"./ImagePyramid":32,"./MagnifierController":33,"./Matrix":34,"./MenuCommand":35,"./MouseWheelController":36,"./MultiTouchController":37,"./OpenPageEventArgs":38,"./PageEventArgs":39,"./PageItem":40,"./PageLayout":41,"./PageList":42,"./PropertyChangedEventArgs":43,"./PyramidLevel":44,"./PyramidTile":45,"./RectangleZoomController":46,"./Res":47,"./RunMarksController":48,"./ScaleTrigger":49,"./SelectController":50,"./SelectTextController":51,"./SingleTouchController":52,"./Space":53,"./StringBuilder":54,"./SvgUIDirector":55,"./Type":56,"./Validate":57,"./ViewMode":58,"./ViewerModel":59,"./ViewerState":60,"./Web/Web":124,"./indexOf":125,"./initializePageListPlugin":126,"./initializePageViewPlugin":127,"./predefinedContextMenu":128,"./setProperties":129}],30:[function(require,module,exports){var hj=function(kJ,bm,aD,ab,ha,fX){IPCC.Ge.call(this,0,0,0,0);this.width=aD;this.height=ab;this.ha=ha;this.fX=fX;this.bm=bm||0;this.fp=0;this.pz=true;this.aqU={};this.yM=false;var C=this;this.bm=bm;this.get_url=function(ge,fh,ax){fh=fh||'Image';ax=ax||'';var Da=hj.Ft(kJ);var DU=false;if(/^[\x00-\x7F]*$/.test(Da)){DU=true;}if(ax===null||ax===''){if(fh==='Attributes'){var tq='';if(!IPCC.vu.JH()){tq='&ContentType=png';}if(!DU){return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=e'+kJ+tq;}else{return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=u'+encodeURIComponent(Da)+tq;}}else{if(fh==='SvgImage'){if(!DU){return ge+'/Page/q/'+bm.toString()+'?DocumentID=e'+kJ+'&'+ax;}else{return ge+'/Page/q/'+bm.toString()+'?DocumentID=u'+encodeURIComponent(Da)+'&'+ax;}}if(!DU){return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=e'+kJ+'&'+ax;}else{return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=u'+encodeURIComponent(Da)+'&'+ax;}}}else{if(fh==='SvgImage'){if(!DU){return ge+'/Page/q/'+bm.toString()+'?DocumentID=e'+kJ+'&'+ax;}else{return ge+'/Page/q/'+bm.toString()+'?DocumentID=u'+encodeURIComponent(Da)+'&'+ax;}}if(!DU){return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=e'+kJ+'&'+ax;}else{return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=u'+encodeURIComponent(Da)+'&'+ax;}}};this.get_urlArt=function(ge,fh,ax){fh=fh||'Art';ax=ax||'';if(ax===null||ax===''){if(fh==='Art'){return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=e'+kJ;}}else{return ge+'/Page/q/'+bm.toString()+'/'+fh+'?DocumentID=e'+kJ+'&'+ax;}};this.get_identifier=function(){return IPCC.hj.Ft(kJ);};this.get_encodedIdentifier=function(){return kJ;};this.toString=function(){return 'Image("'+kJ+'", '+this.bm+', '+this.width+' x '+this.height+', '+this.ha+', '+this.fX+')';};function aiY(arS,T){if(T.WP()){C.pz=true;C.yM=false;return;}var Zc=arS.split(',');var lK=false;for(var bd=0;bd<Zc.length;bd++){if(Zc[bd]==="SVG"||Zc[bd]==="svg"){if(IPCC.vu.JH()){C.yM=true;C.pz=false;}else{C.yM=false;}lK=true;break;}}if(!lK){C.yM=false;C.pz=true;}if(T){if(T.Os){T.Os(C.yM);}}};this.RW=function(ge,T,xO){T.bm=this.bm;var lE=0;var mK=T.CR();if(mK){if(document.documentMode<9){mK=false;}}var qg=true;if(T.jG()===0){qg=false;}var qy=function(fD,bL){try{if(fD===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fD.errorCode){if(fD.errorCode==='SvgNotAvailable'){mK=false;C.width= +(fD.pageAttributes.imageWidth);C.height= +(fD.pageAttributes.imageHeight);C.ha= +(fD.pageAttributes.imageXResolution);if(C.ha<=0){C.ha=72;}C.fX= +(fD.pageAttributes.imageYResolution);if(C.fX<=0){C.fX=72;}C.fp= +(fD.pageAttributes.pageCount);C.pz=fD.pageAttributes.isRaster!=='false';aiY(fD.pageAttributes.contentType,T);}}else{C.width= +(fD.imageWidth);C.height= +(fD.imageHeight);C.ha= +(fD.imageXResolution);if(C.ha<=0){C.ha=72;}C.fX= +(fD.imageYResolution);if(C.fX<=0){C.fX=72;}C.fp= +(fD.pageCount);C.pz=fD.isRaster!=='false';aiY(fD.contentType,T);}var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");var Jp=false;if(nP==="true"){Jp=true;}T.aaY(Jp);if(xO){xO();}}catch(e){T.ba('openPage',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};function LF(){mK=false;if(lE<1){var hA={method:'GET',url:C.get_url(ge,'Attributes'),headers:{'Content-Type':'application/json'}};if(qg===true){hA.timeout=T.jG();}IPCC.h.mY.fu(hA).then(er,eA);lE++;}};var aEj=function(gS,bL){var aD;var ab;function auj(){var Xl;try{Xl=JSON.parse(gS);}catch(aI){Xl=undefined;mK=true;}return Xl;};try{aD=gS.match(/width=\"([0-9.]+)\"/);ab=gS.match(/height=\"([0-9.]+)\"/);if(aD&&ab){aD=Number(aD[1]);ab=Number(ab[1]);}else{throw "error";}if(isNaN(aD)||isNaN(ab)){throw "error";}C.width=aD;C.height=ab;C.ha=72;C.fX=72;C.yM=true;C.pz=false;if(T){if(typeof(T.Os==='function')){T.Os(C.yM);}}if(xO){xO();}}catch(e){var aP=auj();if(aP){qy(aP,bL);return;}if(mK){if(lE<1){mK=false;setTimeout(LF,10);return;}}T.ba('openPage',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};function er(bL){var aP=null,di;try{if(!mK){aP=JSON.parse(bL.responseText);qy(aP,bL);}else{var oi;var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");if(nP==='true'&&T.im()===true){var uQ=IPCC.Web.gp.qc.uV(bL.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Gi(uQ,iM);var fF=IPCC.Web.Gl(bL);var vb=IPCC.Web.GA(fF,be,iM);oi=IPCC.Web.gp.EP.mr(vb);}else{oi=bL.responseText;}var Yx;if(oi.length>=1000){Yx=oi.substring(0,1000);}else{Yx=oi.substring(0,oi.length);}aEj(Yx,bL);}}catch(ex){if(mK){mK=false;if(lE<1){setTimeout(LF,10);return;}}di="Attributes parsing error, Error message = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,di);}};function eA(aP){try{var di,lX,ng;if(!aP.response){throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,"Client timed out on load");}if(aP.response.status===403){lE++;if(aP.response.statusText&&aP.response.statusText!==""){di="Expired viewer session ID, error message from the server: "+aP.response.statusText;}else{di="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,di);}if(mK){mK=false;if(lE<1){setTimeout(LF,10);return;}}ng=aP.response.getResponseHeader('Accusoft-Status-Message');if(ng){var pZ;lX=aP.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wd(lX)){pZ=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,ng,pZ);}else{if(aP.response.statusText&&aP.response.statusText!==""){di="Error message from the service: "+aP.response.statusText;}else{di="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,di);}}catch(e){if(mK){mK=false;if(lE<1){setTimeout(LF,10);return;}}T.ba('openPage',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};var iM=IPCC.Web.IE.aiI(4,IPCC.Web.PG());var pW=IPCC.Web.gp.Ho.mr(iM);var hA={method:'GET',cache:true};if(!mK){hA.url=this.get_url(ge,'Attributes');hA.headers={'Content-Type':'application/json'};}else{var ai;if(T.im()===true){iM=IPCC.Web.IE.aad(4,IPCC.Web.PG());pW=IPCC.Web.gp.Ho.mr(iM);ai=this.get_url(ge,'SvgImage','Scale=1&ContentType='+IPCC.h.BC+'&iv='+pW);}else{ai=this.get_url(ge,'SvgImage','Scale=1&ContentType='+IPCC.h.BC);}hA.url=ai;}IPCC.h.mY.fu(hA).then(er,eA);};this.avW=function(ge,T,xO){T.bm=this.bm;var lE=0;var qg=true;if(T.jG()===0){qg=false;}var qy=function(fD,bL){try{if(fD===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}C.width= +(fD.imageWidth);C.height= +(fD.imageHeight);C.ha= +(fD.imageXResolution);if(C.ha<=0){C.ha=72;}C.fX= +(fD.imageYResolution);if(C.fX<=0){C.fX=72;}C.fp= +(fD.pageCount);C.pz=true;var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");var Jp=false;if(nP==="true"){Jp=true;}T.aaY(Jp);if(xO){xO();}}catch(e){T.ba('openPage',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};function er(bL){try{var gP=bL.status,aP,di;if(gP===200){aP=null;try{aP=JSON.parse(bL.responseText);qy(aP,bL);}catch(ex){di="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,di);}}}catch(e){T.ba('openPageForRaster',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};function eA(aP){try{var gP=aP.response.status,di,ng,lX;if(!aP.response){throw new IPCC.Web.UI.ImGearHttpException(gP,"Client timed out on load");}if(gP===403){lE++;if(aP.response.statusText&&aP.response.statusText!==""){di="Expired viewer session ID, error message from the server: "+aP.response.statusText;}else{di="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}ng=aP.response.getResponseHeader('Accusoft-Status-Message');if(ng){var pZ;lX=aP.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wd(lX)){pZ=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,ng,pZ);}else{if(aP.response.statusText&&aP.response.statusText!==""){di="Error message from the service: "+aP.response.statusText;}else{di="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}}catch(e){T.ba('openPageForRaster',e);if(typeof(T.ad)==='function'){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};var aew={method:'GET',url:this.get_url(ge,'Attributes'),headers:{'Content-Type':'application/json'}};if(qg===true){aew.timeout=T.jG();}IPCC.h.mY.fu(aew).then(er,eA);};return this;};hj.prototype.clone=function(){var UD=new hj(this.get_encodedIdentifier(),this.bm,this.width,this.height,this.ha,this.fX);UD.fp=this.fp;UD.pz=this.pz;return UD;};hj.prototype.equals=function(G){if(this.get_encodedIdentifier()!==G.get_encodedIdentifier()){return false;}if(this.bm!==G.bm){return false;}return true;};hj.prototype.pN=8;hj.prototype.ti=0.000001;hj.amL=function(ax){var Ib=ax.referenceDocumentIdentifier;var ado=hj.rX(Ib);var hq=ax.encodedDocumentIdentifier;var ia=ax.documentIdentifier;var fN;if(hq===''){hq=undefined;}if(ia===''){ia=undefined;}if(Ib&&Ib!==''){if(hq===ado){hq=undefined;}if(ia===Ib){ia=undefined;}}if(ia){fN=IPCC.hj.rX(ia);if(hq){if(hq!==fN){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{hq=fN;}}else{if(hq){ia=IPCC.hj.Ft(hq);}}if(!hq){ia=Ib;hq=ado;}var aq=ax.pageNumber;var abZ=ax.referencePageNumber;if(aq===abZ){aq=undefined;}if(aq!==0&& !aq){aq=abZ;}ax.encodedDocumentIdentifier=hq;ax.documentIdentifier=ia;ax.pageNumber=aq;};hj.rX=function(hK){if(!hK||hK===''){return '';}var nx=[];var J;for(J=0;J<hK.length;J++){nx.push(hK.charCodeAt(J)%256);nx.push(Math.floor(hK.charCodeAt(J)/256));}nx.push(0);nx.push(0);var Nj='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var oj=[],ss;for(J=0;J<nx.length-1;J+=3){ss=nx[J]*0x10000+nx[J+1]*0x100+nx[J+2];oj.push(Nj.charAt(Math.floor(ss/0x40000)));oj.push(Nj.charAt(Math.floor(ss/0x1000)%0x40));oj.push(Nj.charAt(Math.floor(ss/0x40)%0x40));oj.push(Nj.charAt(ss%0x40));}var abR=Math.ceil(hK.length*16/6);while(oj.length>abR){oj.pop();}if((oj.length%4)===3){oj.push('1');}else if((oj.length%4)===2){oj.push('2');}else if((oj.length%4)===0){oj.push('0');}return oj.join('');};hj.Ft=function(kJ){if(!kJ||kJ===''){return '';}var ahx=kJ.length-1;var PS=[],ss;var qM,nx=[],oa=[];var J;for(J=0;J<ahx;J++){qM=kJ.charCodeAt(J);if(qM>64&&qM<91){oa.push(qM-65);}else if(qM>96&&qM<123){oa.push(qM-97+26);}else if(qM>47&&qM<58){oa.push(qM-48+52);}else if(qM===45){oa.push(62);}else if(qM===95){oa.push(63);}else{return '';}}oa.push(0);oa.push(0);oa.push(0);for(J=0;J<oa.length-3;J+=4){ss=oa[J]*0x40000+oa[J+1]*0x1000+oa[J+2]*0x40+oa[J+3];nx.push(Math.floor(ss/0x10000));nx.push(Math.floor(ss/0x100)%256);nx.push(ss%256);}for(J=0;J<nx.length-1;J+=2){PS.push(String.fromCharCode(nx[J]+nx[J+1]*0x100));}var abR=Math.floor(ahx*6/16);while(PS.length>abR){PS.pop();}return PS.join('');};module.exports=hj;},{}],31:[function(require,module,exports){var Pn=function(){this.bY=[];this.parentElementID='';this.lockTile=function(ed){var dC,J,Xb,aaQ;if(this.Vl(ed)){return;}Xb=0;for(J=this.bY.length-1;J>=0;J--){if(!(this.bY[J].locked)){Xb++;aaQ=J;}}if(Xb>4){dC=this.bY[aaQ];this.uiDirector.agW(dC);this.bY.splice(aaQ,1);}dC=new axe();dC.pool=this;this.uiDirector.apq(dC);this.bY.push(dC);dC.locked=true;dC.tile=ed;ed.poolItem=dC;return;};this.Vl=function(ed){var dC,J;if(this.locked){return true;}for(J=0;J<this.bY.length;J++){if(this.bY[J].tile===ed){dC=this.bY[J];dC.locked=true;ed.poolItem=dC;return true;}}return false;};this.acA=function(ed){var jb,J;jb=ed.poolItem;if(jb!==undefined&&jb.locked){this.uiDirector.aAa(jb);jb.locked=false;ed.poolItem=undefined;for(J=0;J<this.bY.length;J++){if(this.bY[J]===jb){this.bY.splice(J,1);this.bY.push(jb);return;}}}};return this;};Pn.prototype.aCY=function(){var J;for(J=0;J<this.bY.length;J++){if(!this.bY[J].locked){this.uiDirector.agW(this.bY[J]);}}};var axe=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};module.exports=Pn;},{}],32:[function(require,module,exports){var rm=function(){this.fr=[];return this;};rm.prototype.axA=function(dh,bX){var ct=dh.qh();var J,mJ,oD;var co=1;var afj;var wP=[];var uM=[];var xf=[];var DC,Lb;oD=this.fr.length;for(J=0;J<this.fr.length;J++){if(this.fr[J].ct>ct){oD=J;break;}}mJ=oD-1;if(mJ<0){mJ=0;}if(oD>=this.fr.length){oD=this.fr.length-1;}if(mJ!==oD){afj=(ct-this.fr[mJ].ct)/(this.fr[oD].ct-this.fr[mJ].ct);co=afj*1.0;if(co>=0.15){co=1;mJ=oD;}if(co<=0.15){co=1;oD=mJ;}}uM=this.fr[mJ].Ox(bX);xf=this.fr[oD].Ox(bX);var Rd=function(mO){var J;for(J=0;J<mO.length;J++){mO[J].level.pool.Vl(mO[J]);}};var ZC=function(mO){var anr=[];var J;for(J=0;J<mO.length;J++){if(!mO[J].get_isLockedAndLoaded()){anr.push(mO[J]);}}return anr;};var aiX=function(mO){var alM=[];var J;for(J=0;J<mO.length;J++){if(mO[J].get_isLockedAndLoaded()){alM.push(mO[J]);}}return alM;};if(mJ>0&&mJ===oD&&this.fr[oD].tiles.length>1){mJ=oD-1;uM=this.fr[mJ].Ox(bX);}Rd(uM);wP=ZC(uM);if(wP.length>0){for(DC=mJ-1;DC>=0;DC--){Lb=this.fr[DC].Ox(bX);Rd(Lb);if(ZC(Lb).length<1){break;}}if(DC<0){uM=aiX(uM);}else{mJ=DC;uM=Lb;co=1;}}else{Rd(xf);wP=ZC(xf);}Rd(xf);xf=aiX(xf);if(wP.length>3){wP.splice(3,wP.length-3);}function auO(){var aP;function Uz(En){var aP='',J,ak;if(En.length<1){return '';}ak=En[0].level;aP+='level '+ak.id.toString()+' - ';for(J=0;J<En.length;J++){if(J>0){aP+=', ';}aP+='('+(En[J].x/ak.mN).toString()+','+(En[J].y/ak.yn).toString()+')';if(En[J].get_isLockedAndLoaded()){aP+='*';}}return aP;};aP='tilesToRequest: '+Uz(wP)+'<br/>';aP+='opaqueTiles: '+Uz(uM)+'<br/>';aP+='translucentTiles: '+Uz(xf)+'<br/>';aP+='opacity: '+co.toString()+'<br/>';aP+='arF: '+ct.toString()+'<br/>';aP+='dh: '+dh.toString()+'<br/>';return aP;};return{opaqueTiles:uM,translucentTiles:xf,opacity:co,tilesToRequest:wP,toString:auO,arF:ct,dh:dh.toString()};};rm.prototype.axL=function(oS){var Gc=[];var ta=[];var J,j;var ak,tile;for(J=0;J<this.fr.length;J++){ak=this.fr[J];for(j=0;j<ak.tiles.length;j++){tile=ak.tiles[j];if(tile.poolItem!==undefined){Gc.push(tile);}}}var amC=function(WN,ams){var J,j,aaF,abE;for(J=0;J<ams.length;J++){aaF=ams[J];abE=true;for(j=0;j<WN.length;j++){if(aaF===WN[j]){abE=false;break;}}if(abE){WN.push(aaF);}}};ta=oS.tilesToRequest.concat();amC(ta,oS.opaqueTiles);amC(ta,oS.translucentTiles);for(J=Gc.length-1;J>=0;J--){var apg=Gc[J];for(j=0;j<ta.length;j++){if(ta[j]===apg){Gc.splice(J,1);break;}}}for(J=0;J<Gc.length;J++){Gc[J].unlock();}for(J=0;J<ta.length;J++){ta[J].relock();}for(J=0;J<ta.length;J++){if(ta[J].poolItem===undefined){ta[J].lock();}}};rm.prototype.unlockAllItems=function(){var J,j,ak;for(J=0;J<this.fr.length;J++){ak=this.fr[J];for(j=0;j<ak.tiles.length;j++){if(ak.tiles[j].poolItem!==undefined){ak.pool.acA(ak.tiles[j]);}}}};rm.prototype.aGN=function(){var J;for(J=0;J<this.fr.length;J++){this.fr[J].pool.aCY();}};rm.prototype.toString=function(){var aP='',J,j,ak;for(J=0;J<this.fr.length;J++){ak=this.fr[J];aP+='Level '+J.toString()+':   scaleFactor='+ak.ct.toString()+'  image='+ak.width.toString()+'x'+ak.height.toString()+'  tile='+ak.mN.toString()+'x'+ak.yn.toString()+'\n';for(j=0;j<ak.tiles.length;j++){if(j>0){aP+=', ';}aP+='('+ak.tiles[j].x.toString()+', '+ak.tiles[j].y.toString()+')';}aP+='\n';}return aP;};rm.prototype.expandTile=function(ed,XP,YB,afe,afu,ak){ed.x=IPCC.h.Ni(XP-ed.yX,0,XP,XP-ed.yX);ed.y=IPCC.h.Ni(YB-ed.yd,0,YB,YB-ed.yd);ed.aD=IPCC.h.PY(afe+(2*ed.yX),ak.width,afe);ed.ab=IPCC.h.PY(afu+(2*ed.yd),ak.height,afu);if(ed.x+ed.aD>ak.width){ed.x=ed.x-ed.yX;ed.aD=ak.width-ed.x;ed.yX=0;}if(ed.y+ed.ab>ak.height){ed.y=ed.y-ed.yd;ed.yd=0;ed.ab=ak.height-ed.y;}return ed;};rm.prototype.createPyramid=function(iA,T){var aCR=6000000;var amt=5000;var mN=1024;var aCm=mN*mN*3*150;var adC=0.5;var aDt=2;var ao=T.cY();var zJ=ao.width*ao.height*3;var yR;var ak;var ct;var J;var ay,ck;var tile;var DE,Ei;this.fr=[];if(ao.pz){ct=1.0;yR=zJ*ct*ct;while(this.fr.length<aDt||yR>amt){ak=new IPCC.AZ();ak.ct=ct;this.fr.unshift(ak);ct*=adC;yR=zJ*ct*ct;}}else{if(T.rd()===true){zJ=ao.width*ao.height;}ct=Math.sqrt(amt/zJ);var aCP=ct*ao.ha;ct=Math.ceil(aCP)/ao.ha;yR=zJ*ct*ct;if(T.rd()===false){while(yR<aCm){ak=new IPCC.AZ();ak.ct=ct;this.fr.push(ak);ct/=adC;yR=zJ*ct*ct;}}else{ak=new IPCC.AZ();ak.ct=1;this.fr.push(ak);}}ao.pN=this.fr[this.fr.length-1].ct*8;for(J=0;J<this.fr.length;J++){ak=this.fr[J];ak.Sh=85;if(J===this.fr.length-1){ak.Sh=100;}ak.pyramid=this;ak.id=J;ak.pool=new IPCC.Pn();ak.pool.uiDirector=iA;yR=zJ*ak.ct*ak.ct;ak.width=Math.round(ao.width*ak.ct);ak.height=Math.round(ao.height*ak.ct);ak.mN=ak.width;ak.yn=ak.height;if(J>2&&J>this.fr.length-2){ak.mN=Math.min(mN/2,ak.width);ak.yn=Math.min(mN/2,ak.height);}if(yR>aCR){ak.mN=Math.min(mN,ak.width);ak.yn=Math.min(mN,ak.height);}ak.tiles=[];DE=ak.mN;for(ay=0;ay<ak.width;ay+=DE){DE=ak.mN;if(ay+DE*1.25>ak.width){DE=ak.width-ay;}Ei=ak.yn;for(ck=0;ck<ak.height;ck+=Ei){Ei=ak.yn;if(ck+Ei*1.25>ak.height){Ei=ak.height-ck;}tile=new IPCC.yT();tile.level=ak;if(T.rd()===false){var Sf='jpeg';if(ak.Sh>=100){Sf='png';}tile.contentType=Sf;tile.yd=2;tile.yX=2;tile=this.expandTile(tile,ay,ck,DE,Ei,ak);if(tile.aD!==ak.width||tile.ab!==ak.height){tile.url=T.XK('Tile/'+tile.x.toString()+'/'+tile.y.toString()+'/'+tile.aD.toString()+'/'+tile.ab.toString(),'Scale='+ak.ct.toString()+'&Quality='+ak.Sh+'&ContentType='+Sf);}else{tile.url=T.XK('','Scale='+ak.ct.toString()+'&Quality='+ak.Sh+'&ContentType='+Sf);}}else{tile.url=T.XK('','Scale='+ak.ct.toString()+'&ContentType='+IPCC.h.BC);tile.aGO=iA.ahd();}tile.right=tile.x+tile.aD;tile.bottom=tile.y+tile.ab;ak.tiles.push(tile);}}}};module.exports=rm;},{}],33:[function(require,module,exports){var pg=function(){this.aJ=false;this.T=false;};pg.prototype.na=function(T){this.T=T;};pg.prototype.eB=function(){this.T=false;};pg.prototype.bk=function(){if(this.aJ){this.T.bx().hideMagnifier();this.aJ=false;}};pg.prototype.rh=function(){this.bk();};pg.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){this.aJ=true;this.T.bx().showMagnifier(R.windowPoint);this.T.cv();}};pg.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){this.T.bx().showMagnifier(R.windowPoint);this.T.cv();}};pg.prototype.kN=function(){this.bk();this.T.cv();};pg.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};module.exports=pg;},{}],34:[function(require,module,exports){var fq=function(hc,iu,iv,gC,fc,fl){if(arguments.length===0){hc=gC=1;iu=iv=fc=fl=0;}this.ahZ=function(){return hc*gC-iu*iv;};this.aIJ=function(){return hc===1&&iu===0&&iv===0&&gC===1&&fc===0&&fl===0;};this.qX=function(){return hc;};this.qs=function(){return iu;};this.rM=function(){return iv;};this.te=function(){return gC;};this.vI=function(){return fc;};this.wX=function(){return fl;};this.append=function(dh){var Ix=hc*dh.qX()+iu*dh.rM();var GV=hc*dh.qs()+iu*dh.te();var Il=iv*dh.qX()+gC*dh.rM();var GN=iv*dh.qs()+gC*dh.te();var Io=fc*dh.qX()+fl*dh.rM()+dh.vI();var Im=fc*dh.qs()+fl*dh.te()+dh.wX();hc=Ix;iu=GV;iv=Il;gC=GN;fc=Io;fl=Im;};this.equals=function(G){if(hc!==G.qX()){return false;}if(iu!==G.qs()){return false;}if(iv!==G.rM()){return false;}if(gC!==G.te()){return false;}if(fc!==G.vI()){return false;}if(fl!==G.wX()){return false;}return true;};this.vo=function(){if(!this.aiH()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var FP=this.ahZ();var Ix=gC/FP;var GV= -iu/FP;var Il= -iv/FP;var GN=hc/FP;var Io=(iv*fl-gC*fc)/FP;var Im=(iu*fc-hc*fl)/FP;hc=Ix;iu=GV;iv=Il;gC=GN;fc=Io;fl=Im;};this.GK=function(dh){var Ix=dh.qX()*hc+dh.qs()*iv;var GV=dh.qX()*iu+dh.qs()*gC;var Il=dh.rM()*hc+dh.te()*iv;var GN=dh.rM()*iu+dh.te()*gC;var Io=dh.vI()*hc+dh.wX()*iv+fc;var Im=dh.vI()*iu+dh.wX()*gC+fl;hc=Ix;iu=GV;iv=Il;gC=GN;fc=Io;fl=Im;};this.vO=function(lo,rc,lM,nb){fc-=lM;fl-=nb;this.scale(lo,rc);fc+=lM;fl+=nb;};this.aBa=function(){hc=gC=1;iu=iv=fc=fl=0;};this.transform=function(bM){var ay=bM.x*hc+bM.y*iv+fc;var ck=bM.y*gC+bM.x*iu+fl;return new IPCC.Web.UI.Point(ay,ck);};this.nc=function(Yb,YW){fc+=Yb;fl+=YW;};this.asF=function(G){if(Math.abs(hc-G.qX())>1e-8){return false;}if(Math.abs(iu-G.qs())>1e-8){return false;}if(Math.abs(iv-G.rM())>1e-8){return false;}if(Math.abs(gC-G.te())>1e-8){return false;}if(Math.abs(fc-G.vI())>1e-8){return false;}if(Math.abs(fl-G.wX())>1e-8){return false;}return true;};this.toString=function(){return '{'+hc.toFixed(6)+', '+iu.toFixed(6)+', '+iv.toFixed(6)+', '+gC.toFixed(6)+', '+fc.toFixed(3)+', '+fl.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fq(hc,iu,iv,gC,fc,fl);};this.OH=function(gd){hc=gd.qX();iu=gd.qs();iv=gd.rM();gC=gd.te();fc=gd.vI();fl=gd.wX();};this.aBf=function(ah,bO){hc=1;gC=bO.fX*ah.ha/(ah.fX*bO.ha);iu=iv=fc=fl=0;};this.VV=function(bf,ah,bO){switch(bf){case IPCC.Web.UI.FitType.FullImage:this.arW(ah,bO);break;case IPCC.Web.UI.FitType.FullWidth:this.afb(ah,bO);break;case IPCC.Web.UI.FitType.FullHeight:this.aeI(ah,bO);break;case IPCC.Web.UI.FitType.ActualSize:this.aeZ(ah,bO);break;case IPCC.Web.UI.FitType.OneToOne:if(!(ah.pz)){this.aeZ(ah,bO);}else{this.asJ(ah,bO);}break;}};this.afb=function(ah,bO){var nH=this.od(ah);var zH=bO.width-2;if(zH<1){zH=1;}var bU=zH/nH.width;this.scale(bU,bU);nH=this.od(ah);if(nH.y<0){this.nc(0,-nH.y);}};this.aeI=function(ah,bO){var nH=this.od(ah);var zH=bO.height-2;if(zH<1){zH=1;}var bU=zH/nH.height;this.scale(bU,bU);nH=this.od(ah);if(nH.x<0){this.nc(-nH.x,0);}};this.arW=function(ah,bO){var mR=this.clone();mR.afb(ah,bO);this.aeI(ah,bO);if(Math.max(Math.abs(hc),Math.abs(iu))>Math.max(Math.abs(mR.qX()),Math.abs(mR.qs()))){this.OH(mR);}};this.aeZ=function(ah,bO){var nH=this.od({x:0,y:0,width:ah.ha,height:ah.fX});var bU=bO.ha/nH.width;this.scale(bU,bU);};this.asJ=function(ah,bO){var nH=this.od({x:0,y:0,width:1,height:1});var bU=1/Math.min(nH.width,nH.height);this.scale(bU,bU);if(Math.abs(hc-1)<0.0001){hc=1;}if(Math.abs(gC-1)<0.0001){gC=1;}};return this;};fq.prototype.aiH=function(){return Math.abs(this.ahZ())>1e-14;};fq.prototype.rotate=function(zU){this.afw(zU,0,0);};fq.prototype.afw=function(zU,lM,nb){var HG=zU*Math.PI*2/360;var jc=Math.sin(HG);var fv=Math.cos(HG);var dh=new IPCC.fq(fv,jc,-jc,fv,lM*(1-fv)+nb*jc,nb*(1-fv)-lM*jc);this.append(dh);};fq.prototype.aAW=function(zU,lM,nb){var HG=zU*Math.PI*2/360;var jc=Math.sin(HG);var fv=Math.cos(HG);var dh=new IPCC.fq(fv,jc,-jc,fv,lM*(1-fv)+nb*jc,nb*(1-fv)-lM*jc);this.GK(dh);};fq.prototype.aIf=function(zU){this.aAW(zU,0,0);};fq.prototype.scale=function(lo,rc){var dh=new IPCC.fq(lo,0,0,rc,0,0);this.append(dh);};fq.prototype.aHi=function(lo,rc,lM,nb){var dh=new IPCC.fq(lo,0,0,rc,lM*(1-lo),nb*(1-rc));this.GK(dh);};fq.prototype.aIb=function(lo,rc){var dh=new IPCC.fq(lo,0,0,rc,0,0);this.GK(dh);};fq.prototype.skew=function(oG,qP){var dh=new IPCC.fq(1,Math.tan(qP*Math.PI*2/360),Math.tan(oG*Math.PI*2/360),1,0,0);this.append(dh);};fq.prototype.aHT=function(oG,qP){var dh=new IPCC.fq(1,Math.tan(qP*Math.PI*2/360),Math.tan(oG*Math.PI*2/360),1,0,0);this.GK(dh);};fq.prototype.aIO=function(Yb,YW){var dh=new IPCC.fq(1,0,0,1,Yb,YW);this.GK(dh);};fq.prototype.zk=function(F){var fo=this.transform({x:F.x,y:F.y});var nf=fo.x;var mV=fo.x;var me=fo.y;var oJ=fo.y;fo=this.transform({x:F.x+F.width,y:F.y});nf=Math.min(nf,fo.x);mV=Math.max(mV,fo.x);me=Math.min(me,fo.y);oJ=Math.max(oJ,fo.y);fo=this.transform({x:F.x+F.width,y:F.y+F.height});nf=Math.min(nf,fo.x);mV=Math.max(mV,fo.x);me=Math.min(me,fo.y);oJ=Math.max(oJ,fo.y);fo=this.transform({x:F.x,y:F.y+F.height});nf=Math.min(nf,fo.x);mV=Math.max(mV,fo.x);me=Math.min(me,fo.y);oJ=Math.max(oJ,fo.y);return new IPCC.Web.UI.Rectangle(nf,me,mV-nf,oJ-me);};fq.prototype.auA=function(ah,bO,dS){var ahi=this.clone();ahi.vo();var asP=ahi.transform({x:dS.x+dS.width/2,y:dS.y+dS.height/2});var bU=Math.min(bO.width/dS.width,bO.height/dS.height);bU-=1e-10;var lb=this.qh();if(lb*bU>ah.pN){bU=ah.pN/lb;}if(lb*bU<ah.ti){bU=ah.ti/lb;}this.scale(bU,bU);this.aeW(bO,asP);};fq.prototype.QL=function(ah,bO,bX){this.auA(ah,bO,this.zk(bX));};fq.prototype.aHr=function(bO){this.vO(1,-1,bO.width/2,bO.height/2);};fq.prototype.ato=function(bO){this.vO(-1,1,bO.width/2,bO.height/2);};fq.prototype.Vi=function(aoF,ajQ){var agP=this.transform(aoF);this.nc(ajQ.x-agP.x,ajQ.y-agP.y);};fq.prototype.aeW=function(bO,dQ){var aja=this.transform(dQ);this.nc(bO.width/2-aja.x,bO.height/2-aja.y);};fq.prototype.kZ=function(ao,bO){var ay=0,ck=0,end;var oB=this.od(ao);if(oB.width<bO.width){ay=(bO.width-oB.width)/2-oB.x;}else{end=oB.x+oB.width;if(end<bO.width){ay=bO.width-end;}if(oB.x>0){ay= -oB.x;}}if(oB.height<bO.height){ck=(bO.height-oB.height)/2-oB.y;}else{end=oB.y+oB.height;if(end<bO.height){ck=bO.height-end;}if(oB.y>0){ck= -oB.y;}}this.nc(ay,ck);};fq.prototype.od=function(ao){return this.zk({x:0,y:0,width:ao.width,height:ao.height});};fq.prototype.ayZ=function(){var hb,AQ,jv,yJ,aee,jr;hb=this.transform({x:0,y:0});AQ=this.transform({x:0,y:1});jv=this.transform({x:1,y:0});yJ=Math.atan2(AQ.y-hb.y,AQ.x-hb.x);aee=Math.atan2(jv.y-hb.y,jv.x-hb.x);jr=yJ-aee;if(jr>Math.PI){jr=jr-2*Math.PI;}if(jr< -Math.PI){jr=jr+2*Math.PI;}return jr<0;};fq.prototype.aiu=function(){var hb,AQ,yJ;hb=this.transform({x:0,y:0});AQ=this.transform({x:0,y:1});yJ=Math.atan2(AQ.y-hb.y,AQ.x-hb.x)-Math.PI/2;if(yJ<0){yJ=yJ+2*Math.PI;}return yJ*360/(Math.PI*2);};fq.prototype.qh=function(){var hJ;var hb,qO;var fC,eH,ct;hb=this.transform({x:0,y:0});qO=this.transform({x:1,y:0});fC=qO.x-hb.x;eH=qO.y-hb.y;hJ=fC*fC+eH*eH;qO=this.transform({x:0,y:1});fC=qO.x-hb.x;eH=qO.y-hb.y;ct=Math.min(hJ,fC*fC+eH*eH);qO=this.transform({x:1,y:1});fC=qO.x-hb.x;eH=qO.y-hb.y;ct=Math.min(hJ,fC*fC+eH*eH);qO=this.transform({x:1,y: -1});fC=qO.x-hb.x;eH=qO.y-hb.y;ct=Math.min(hJ,fC*fC+eH*eH);return Math.sqrt(hJ);};fq.aIu=function(){return new IPCC.fq(1,0,0,1,0,0);};module.exports=fq;},{}],35:[function(require,module,exports){var eg={acg:1,abD:2,abn:3,agL:4,alW:5,IA:6,KD:7,amU:8,amk:9,alF:10,amV:11,amr:12,alQ:13,afQ:14,aak:15,adM:16};module.exports=eg;},{}],36:[function(require,module,exports){var dH=function(){this.T=false;this.aDP=1.5;};dH.prototype.na=function(T){this.T=T;};dH.prototype.eB=function(){this.T=false;};dH.prototype.bk=function(){};dH.prototype.mn=function(R){var as=this.T.bx();var ah=this.T.cY();var bO=this.T.fe();var bD=as.eT();var NY=R.wheelDelta/120;if(R.domEvent.ctrlKey){R.domEvent.preventDefault();var bU=((this.aDP-1)/2)+1;if(NY<0){bU=1/bU;}var lb=bD.qh();if(lb*bU>ah.pN){bU=ah.pN/lb;}if(lb*bU<ah.ti){bU=ah.ti/lb;}bD.vO(bU,bU,R.windowPoint.x,R.windowPoint.y);bD.kZ(ah,bO);this.T.ad('userModifiedViewState',{});as.iI(bD);}else{var afo=bD.transform({x:0,y:0});bD.nc(0,NY*bO.fX);bD.kZ(ah,bO);var adX=bD.transform({x:0,y:0});if(Math.abs(afo.x-adX.x)>0.001||Math.abs(afo.y-adX.y)>0.001){R.domEvent.preventDefault();this.T.ad('userModifiedViewState',{});as.iI(bD);}}this.T.cv();};module.exports=dH;},{}],37:[function(require,module,exports){var cl=function(ajM){this.ajM=ajM;this.Sr=0;this.QC=1;this.QV=2;this.TO=3;this.Tj=4;this.dA=this.Sr;this.T=false;this.mg=0;};cl.prototype.na=function(T){this.T=T;this.as=T.bx();};cl.prototype.eB=function(){this.T=false;};cl.prototype.bk=function(){if(this.dA===this.QV){this.T.bx().hideMagnifier();}this.dA=this.Sr;};cl.prototype.RU=function(R){var aI=R.domEvent.rawEvent;switch(this.dA){case this.Sr:if(aI.touches.length===1){this.aER(R);}else if(aI.touches.length===2){this.ahH(R);}else if(aI.touches.length===3){this.XD(R);}else{this.bk();}break;case this.QC:if(aI.touches.length===2){this.ahH(R);}else if(aI.touches.length===3){this.XD(R);}else{this.bk();}break;case this.Tj:if(aI.touches.length!==3){this.bk();}break;case this.QV:this.bk();break;case this.TO:if(aI.touches.length===3){this.XD(R);}else if(aI.touches.length!==2){this.bk();}break;}};cl.prototype.Rw=function(R){switch(this.dA){case this.QC:this.mg++;break;case this.QV:this.aeY(R);break;case this.TO:this.aqs(R);break;case this.Tj:this.aCI(R);break;}};cl.prototype.Rx=function(){this.bk();};cl.prototype.II=function(){this.bk();};cl.prototype.aER=function(R){this.dA=this.QC;this.mg++;var apb=this.mg;var C=this;function awf(){if(C.dA===this.QC&&apb===C.mg){C.aCN(R);}};setTimeout(awf,1000);};cl.prototype.aCN=function(R){this.T.ga('rh',R);this.aeY(R);this.dA=this.QV;};cl.prototype.XD=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length!==3){this.bk();return;}var gQ=aI.touches[0];var cn={x:gQ.screenX,y:gQ.screenY};var dh=this.as.eT();dh.vo();this.RS=cn;this.aqp=cn;this.Xy=dh.transform(cn);this.dA=this.Tj;this.aGb=this.as.eT();this.agm=true;this.agu=true;};cl.prototype.aCI=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length!==3){this.bk();return;}var gQ=aI.touches[0];var cn={x:gQ.screenX,y:gQ.screenY};var awj=Math.abs(cn.x-this.RS.x);var avk=Math.abs(cn.y-this.RS.y);if(awj>35){this.agu=false;}if(avk>35){this.agm=false;}if(this.agm){cn.y=this.RS.y;}if(this.agu){cn.x=this.RS.x;}this.aqp=cn;var bD=this.as.eT();var bO=this.T.fe();var ah=this.T.cY();bD.Vi(this.Xy,cn);bD.kZ(ah,bO);this.as.iI(bD);};cl.prototype.aIi=function(){};cl.prototype.ait=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length!==2){this.bk();return{};}var Pg=aI.touches[0];var NS=aI.touches[1];var fC=Pg.screenX-NS.screenX;var eH=Pg.screenY-NS.screenY;var wy=Math.sqrt(fC*fC+eH*eH);var jr=Math.atan2(fC,eH)*180/Math.PI;var bM={x:(Pg.screenX+NS.screenX)/2,y:(Pg.screenY+NS.screenY)/2};return{wy:wy,jr:jr,ann:bM};};cl.prototype.ahH=function(R){this.dA=this.TO;this.aDh=this.ait(R);this.LP=this.aDh;var dh=this.as.eT();dh.vo();this.Xy=dh.transform(this.LP.ann);this.GY=this.LP.jr;};cl.prototype.aeY=function(R){var aI=R.domEvent.rawEvent;var gQ=aI.touches[0];var cn={x:gQ.screenX,y:gQ.screenY};this.as.showMagnifier(cn);};cl.prototype.aqs=function(R){var vA=this.ait(R);var ct=vA.wy/this.LP.wy;var bD=this.as.eT();var bO=this.T.fe();var ah=this.T.cY();bD.scale(ct,ct);var Gg=this.GY-vA.jr;var agX=this.GY-vA.jr-360;var agI=this.GY-vA.jr+360;if(Math.abs(Gg)>Math.abs(agX)){Gg=agX;}if(Math.abs(Gg)>Math.abs(agI)){Gg=agI;}if(Gg< -40){bD.rotate(-90);this.GY=vA.jr;}else if(Gg>40){bD.rotate(90);this.GY=vA.jr;}bD.Vi(this.Xy,vA.ann);bD.kZ(ah,bO);this.as.iI(bD);this.LP=vA;};cl.prototype.aIj=function(R){var bD=this.as.eT();var bO=this.T.fe();var ah=this.T.cY();bD.VV(IPCC.Web.UI.FitType.FullImage,ah,bO);bD.kZ(ah,bO);this.as.iI(bD);};cl.prototype.mn=function(){this.bk();};module.exports=cl;},{}],38:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var RY=function(){return this;};RY.registerClass=cQ;RY.prototype={};RY.registerClass('IPCC.OpenPageEventArgs');module.exports=RY;},{"./IPCC.Util":28}],39:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var Lz=function(){return this;};Lz.registerClass=cQ;Lz.prototype={};Lz.registerClass('IPCC.PageEventArgs');module.exports=Lz;},{"./IPCC.Util":28}],40:[function(require,module,exports){var bP=function(ax){this.eV=ax.page;this.aW=0;this.bg=0;this.gE=0;this.hE=0;var aj=new IPCC.Web.UI.gA();this.agD=undefined;this.gN=false;this.aqJ=false;this.Fd=0;this.aID=undefined;this.AI=false;this.xB=false;this.DF=false;this.fY=0;this.FL=0;this.CJ=false;this.Gm=false;this.aA=new IPCC.Web.UI.ArtPage();this.eP=new IPCC.Web.UI.ArtPage();this.cr=this.eV.get_pageNumber();this.aT=this.eV.az.Pf+'_'+this.cr+'__pViewId';this.az=this.eV.az;this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};return this;};bP.prototype.lp=function(){if(this.eV){return this.eV.ke()||this.aW;}return this.aW;};bP.prototype.pk=function(){if(this.eV){return this.eV.ir()||this.bg;}return this.bg;};bP.prototype.Wu=function(bool){bool= ! !bool;if(this.eV){this.eV.CJ=bool;}this.CJ=bool;};bP.prototype.agb=function(){if(this.eV){return this.eV.CJ||this.CJ;}return this.CJ;};module.exports=bP;},{}],41:[function(require,module,exports){var ef=require('./IPCC.Util').regEnum;var Co=function(){};Co.registerEnum=ef;Co.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};Co.registerEnum('IPCC.PageLayout',false);module.exports=Co;},{"./IPCC.Util":28}],42:[function(require,module,exports){var cQ=require('./IPCC.Util').regClass;var asg=function(){this.cE=undefined;return this;};var PU=function(element){var C=this;var ES=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var aol=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var aj=new IPCC.Web.UI.gA();var bz=[];var atO;var bF='';var Ct='';var am='';var kI='';var JE='';var JC=0;this.zZ=new IPCC.Web.UI.ImGearDocumentCollection();var Jt=[];this.aHw=0;this.aIx={x:0,y:0};var lV=0;var pj=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var lW=false;var cL=0;var tM=false;var Np=[];var Ht='';var dB=1;var qC=0;var kt=1;var pA=1;var aa=IPCC.Web.UI.MouseTool.None;var AK=false;var sb=true;var aF=IPCC.bh.None;var hT;var gs=0;var jD=0;var ahg=0;var eK=0;var fO=15;var iL=0;var gZ=15;var nV=0;var lU=0;var nI=0;var oC=0;var aEb=0;var gw=0;var hf=0;var pb=1;var fg=IPCC.PageLayout.VerticalScrollDirection;var dK=IPCC.ViewMode.Document;var nl=null;var Tw=null;var MZ=0;var RJ=0;var yU=0;var vk=false;var iR=null;var Jh=0;var HZ='';var Dr='';var qo=[];var Bk=0;var uo=3;var Ro=0.5;var Jf=true;var QT=false;var OP=false;var Zl;var rq=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var ve=true;var kA;var dm={};var tQ=false;var pq=function(){return null;};var je=null;var agc="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aEr=agc+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aEq=agc+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var dn=96;var aZ;function lP(IO){if(!_debug){return false;}return pj>=IO;};this.ba=function(jE,hS){if(!lP(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cu=jE+'() threw an exception ('+hS.name+'), "'+hS.message+'"';cu=cu.replace(/\n/g," ");IPCC.iY.nA(cu,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nt().id);var mQ=new IPCC.ExceptionEventArgs();mQ.functionName=jE;mQ.exception=hS;this.ad('exceptionThrown',mQ);};this.bj=function(jE,kv,qn){if(!lP(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],(qn?qn:0));}cu+=')';this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);};this.CC=function(jE,kv,or,qn){if(!lP(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],(qn?qn:0));}cu+=') = ';cu+=IPCC.iY.rR(or,1);this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);};this.cq=function(jE,kv,or){if(!lP(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],0);}cu+=') = ';cu+=IPCC.iY.rR(or,1);this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.vE=function(ko,ak){IPCC.iY.nA(ko,IPCC.Web.UI.DebugItemCause.FunctionCall,ak,'PageList',this.nt().id);};this.nA=function(ko){IPCC.iY.nA(ko,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.nt().id);};this.JK=function(){return _debug;};this.Zg=function(G){var JW= ! !G;if(_debug===JW){return;}_debug=JW;var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J=0;for(J=0;J<cK.length;J++){var ae;if(bz[cK[J]].aT){ae=document.getElementById(bz[cK[J]].aT).bS;}if(ae){ae.set_debug(_debug);}}this.cA('debug');};this.AA=function(){return pj;};this.JF=function(G){IPCC.bH.jX(G,'value',IPCC.Web.UI.DebugErrorLevel);if(pj===G){return;}pj=G;var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J=0;for(J=0;J<cK.length;J++){var ae;if(bz[cK[J]].aT){ae=document.getElementById(bz[cK[J]].aT).bS;}if(ae){ae.set_debugErrorLevel(pj);}}this.cA('debugErrorLevel');};function cX(dr,H){aj.addHandler(dr,H);};function cf(dr,H){aj.removeHandler(dr,H);};this.KZ=function(H){cX('mouseDown',H);};this.Xt=function(H){cf('mouseDown',H);};this.Lt=function(H){cX('mouseMove',H);};this.XV=function(H){cf('mouseMove',H);};this.NA=function(H){cX('mouseUp',H);};this.Wh=function(H){cf('mouseUp',H);};this.Ym=function(H){cX('selectTextMouseToolCompleted',H);};this.Yk=function(H){cf('selectTextMouseToolCompleted',H);};this.zL=function(H){cX('textPageReady',H);};this.EB=function(H){cf('textPageReady',H);};this.Uh=function(H){cX('hyperlinkPageReady',H);};this.afa=function(H){cf('hyperlinkPageReady',H);};this.avE=function(H){cX('allPagesAdded',H);};this.aEg=function(H){cf('allPagesAdded',H);};this.TN=function(H){cX('pageOpening',H);};this.Yq=function(H){cf('pageOpening',H);};this.TQ=function(H){cX('pageOpened',H);};this.Yz=function(H){cf('pageOpened',H);};this.Hs=function(H){cX('pageOpenFailed',H);};this.FZ=function(H){cf('pageOpenFailed',H);};this.SD=function(H){cX('pageDisplayed',H);};this.Yf=function(H){cf('pageDisplayed',H);};this.kw=function(H){cX('propertyChanged',H);};this.mv=function(H){cf('propertyChanged',H);};this.Rr=function(H){cX('exceptionThrown',H);};this.Wz=function(H){cf('exceptionThrown',H);};this.AB=function(H){cX('textExtractionFailed',H);};this.EI=function(H){cf('textExtractionFailed',H);};this.Cz=function(H){cX('markAdded',H);};this.Ag=function(H){cf('markAdded',H);};this.QB=function(H){cX('markCreating',H);};this.Wi=function(H){cf('markCreating',H);};this.HC=function(H){cX('markChanged',H);};this.FB=function(H){cf('markChanged',H);};this.Hf=function(H){cX('markReordered',H);};this.Fk=function(H){cf('markReordered',H);};this.IB=function(H){cX('markSelectionChanged',H);};this.Fr=function(H){cf('markSelectionChanged',H);};this.HU=function(H){cX('markTextSelectionChanged',H);};this.Fe=function(H){cf('markTextSelectionChanged',H);};this.CD=function(H){cX('markRemoved',H);};this.Ab=function(H){cf('markRemoved',H);};this.aws=function(H){cX('commentAdding',H);};this.aEh=function(H){cf('commentAdding',H);};this.xc=function(H){cX('commentAdded',H);};this.Bh=function(H){cf('commentAdded',H);};this.vS=function(H){cX('commentRemoved',H);};this.DO=function(H){cf('commentRemoved',H);};this.sh=function(H){cX('commentChanged',H);};this.uY=function(H){cf('commentChanged',H);};this.YC=function(H){cX('scaleChanged',H);};this.ZT=function(H){cf('scaleChanged',H);};this.MI=function(){var bS=document.getElementById(bz[cL].aT).bS;if(bS){return bS.get_currentState();}else{return null;}};this.ahQ=function(){var ap=IPCC.h.find(bz,function(fo){return fo.cr===cL;});if(!ap){return;}return ap.eV;};this.ayW=function(bm){var ap=IPCC.h.find(bz,function(fo){return fo.cr===cL;});if(!ap){return;}return ap.aT;};this.qh=function(){return dB;};this.aFb=function(ct){jo(ct,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.MP=function(bU,rf,VD,eC){eC=eC||IPCC.ScaleTrigger.Zoom;jo(dB*bU,VD,undefined,undefined,undefined,rf,eC);};this.arn=function(bU,ay,ck,Go,eC){eC=eC||IPCC.ScaleTrigger.Zoom;if(dB*bU<8){jo(dB*bU,false,ay,ck,Go,undefined,eC);}else{jo(8,false,ay,ck,Go);}};this.Ss=function(bU,eC){eC=eC||IPCC.ScaleTrigger.Zoom;jo(dB/bU,false,undefined,undefined,undefined,undefined,eC);};this.aBC=function(){return VP();};this.aab=function(eC,eS,abC){var JI,JQ,aW,bg;var XF=0;var J=0;for(J=0;J<bz.length;J++){aW=bz[J].lp();bg=bz[J].pk();if(iS(bz[J].fY)===true){var Ju=aW;aW=bg;bg=Ju;}if(aW>0&&bg>0){var GC=aW/bg;if(GC>XF){XF=GC;JI=bg;JQ=aW;}}}if(XF>0){var avg=(bF.offsetWidth-IPCC.Web.nL()-tn()-(fO+gZ+lU+oC));var auU=avg/(JQ*dn/bz[0].gE);var ea=gs;var eD=jD;if(iS(bz[0].fY)===true){ea=jD;eD=gs;}var alu=JI/eD*auU;var jH=(bF.clientHeight-(eK+iL+nV+nI))/(eD*dn/bz[0].hE);var Hy=alu;if(abC===true&&alu>jH){Hy=jH;}jo(Hy,true,undefined,undefined,undefined,undefined,eC,eS);}};this.abt=function(eC,eS,abC){var JI,JQ,aW,bg;var Xa=0;var J=0;for(J=0;J<bz.length;J++){aW=bz[J].lp();bg=bz[J].pk();if(iS(bz[J].fY)===true){var Ju=aW;aW=bg;bg=Ju;}if(aW>0&&bg>0){var GC=bg/aW;if(GC>Xa){Xa=GC;JI=bg;JQ=aW;}}}if(Xa>0){var atJ=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI));var atQ=atJ/(JI*dn/bz[0].hE);var ea=gs;var eD=jD;if(iS(bz[0].fY)===true){ea=jD;eD=gs;}var ale=JQ/ea*atQ;var jH=(bF.clientWidth-tn()-(fO+gZ+lU+oC))/(ea*dn/bz[0].gE);var Hy=ale;if(abC===true&&ale>jH){Hy=jH;}jo(Hy,true,undefined,undefined,undefined,undefined,eC,eS);}};this.aEx=function(eS,eC){if(C.xn&&typeof C.xn==='function'){C.xn();}var aW;var bg;var fd;var kr=1;eC=eC||IPCC.ScaleTrigger.Fit;if(eS===IPCC.FitType.FitToWidth){if(dK===IPCC.ViewMode.Document){kr=(bF.offsetWidth-IPCC.Web.nL()-tn()-(fO+gZ+lU+oC))/(gw/dB);jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else if(dK===IPCC.ViewMode.SinglePage){if(iS(bz[cL].fY)===true){aW=bz[cL].pk();fd=dn/bz[cL].hE;}else{aW=bz[cL].lp();fd=dn/bz[cL].gE;}kr=(bF.offsetWidth-IPCC.Web.nL()-tn()-(fO+gZ+lU+oC))/(aW*fd);jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else{if(fg===IPCC.PageLayout.VerticalScrollDirection){Tq(eC,eS);}else{C.aab(eC,eS);}}}else if(eS===IPCC.FitType.ShrinkToWidth){var auv=bF.clientWidth-tn();var aue=20;var Ry=auv-aue;if(dK===IPCC.ViewMode.SinglePage){if(iS(bz[cL].fY)===true){aW=bz[cL].pk();fd=dn/bz[cL].hE;}else{aW=bz[cL].lp();fd=dn/bz[cL].gE;}if(Ry<dB*aW*fd){kr=(bF.offsetWidth-IPCC.Web.nL()-tn()-(fO+gZ+lU+oC))/(aW*fd);jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}}else{if(Ry<gw){jo(dB*Ry/gw,true,undefined,undefined,undefined,undefined,eC,eS);}}}else if(eS===IPCC.FitType.ActualSize){if(dK===IPCC.ViewMode.Document||dK===IPCC.ViewMode.SinglePage){jo(1,true,undefined,undefined,undefined,undefined,eC,eS);}}else if(eS===IPCC.FitType.FitToHeight){if(dK===IPCC.ViewMode.Document){kr=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI))/(hf/dB);jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else if(dK===IPCC.ViewMode.SinglePage){if(iS(bz[cL].fY)===true){bg=bz[cL].lp();fd=dn/bz[cL].gE;}else{bg=bz[cL].pk();fd=dn/bz[cL].hE;}kr=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI))/(bg*fd);jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else{if(fg===IPCC.PageLayout.HorizontalScrollDirection){Tq(eC,eS);}else{C.abt(eC,eS);}}}else if(eS===IPCC.FitType.BestFit){var Gp;if(dK===IPCC.ViewMode.Document){kr=(bF.offsetWidth-IPCC.Web.nL()-(fO+gZ+lU+oC))/(gw/dB);Gp=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI))/(hf/dB);if(Gp<kr){kr=Gp;}jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else if(dK===IPCC.ViewMode.SinglePage){if(iS(bz[cL].fY)===true){aW=bz[cL].pk();bg=bz[cL].lp();fd=dn/bz[cL].gE;}else{aW=bz[cL].lp();bg=bz[cL].pk();fd=dn/bz[cL].hE;}kr=(bF.offsetWidth-IPCC.Web.nL()-tn()-(fO+gZ+lU+oC))/(aW*fd);Gp=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI))/(bg*fd);if(Gp<kr){kr=Gp;}jo(kr,true,undefined,undefined,undefined,undefined,eC,eS);}else{if(fg===IPCC.PageLayout.HorizontalScrollDirection){C.aab(eC,eS,true);}else{C.abt(eC,eS,true);}}}};this.aAj=function(aq,aL){var ap=bz[aq-1];var bi=document.getElementById(ap.aT);var Dy=[];if(bi){var ey,Eb,bM;try{ey=QJ(bi);}catch(e){return null;}Dy=IPCC.h.map(aL,function(fo){Eb=bi.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(fo.x,fo.y),true);bM=aky(bi,Eb.x,Eb.y,ey);return{clientX:bM.x,clientY:bM.y};});return Dy;}else{return null;}};this.aDL=function(){var J=0;for(J=0;J<bz.length;J++){C.cv(J);}hY();pp();};this.cv=function(bm){var aH;if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}C.wY(aH,bm);};this.Jy=function(bm){var aH;if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}if(aH){var ae=aH.bS;ae.Jy();}};this.wY=function(aH,bm){if(aH&&aH.bS&&aH.bS.dY()===true){var ae=aH.bS;ae.display();bz[bm].gN=true;if(dK===IPCC.ViewMode.SinglePage){var mD= -1;if(Array.prototype.indexOf){mD=qo.indexOf(bm);}else{mD=IPCC.Web.kD(qo,bm);}if(mD!== -1){qo.splice(mD,1);}}}};function alo(cK){var aH;for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);var bm=ap.get_pageNumber();if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}if(aH&&aH.bS&&aH.bS.Bl()!==null){return aH.bS;}}return null;};this.Jb=function(){var cK=this.get_displayedPages();var Pv=alo(cK);Pv.Jb();};this.DA=function(bU){var gr=0;var hn=bz.length-1;for(var bd=gr;bd<=hn;bd++){var ae;var aH=document.getElementById(bz[bd].aT);if(aH){ae=aH.bS;}else{continue;}ae.set_sharpening(bU);if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.display();}}qC=bU;};this.aCc=function(){return qC;};this.ER=function(bU){var gr=0;var hn=bz.length-1;for(var bd=gr;bd<=hn;bd++){var ae;var aH=document.getElementById(bz[bd].aT);if(aH){ae=aH.bS;}else{continue;}ae.set_gamma(bU);if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.display();}}pA=bU;};this.aAn=function(){return pA;};this.Er=function(bU){var gr=0;var hn=bz.length-1;for(var bd=gr;bd<=hn;bd++){var ae;var aH=document.getElementById(bz[bd].aT);if(aH){ae=aH.bS;}else{continue;}ae.set_svgLineWidthMultiplier(bU);if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.display();}}kt=bU;};this.aBv=function(){return kt;};this.Bl=function(){var cK=this.get_displayedPages();var Pv=alo(cK);if(Pv){return Pv.Bl();}return null;};this.vK=function(bm,V){var aH;if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}if(aH&&aH.bS){aH.bS.vK(V);}};this.pd=function(bm){var aH;if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}if(aH&&aH.bS){aH.bS.pd();}};var tp='';this.tX=function(G){tp=G;};this.nt=function(){return tp;};this.ad=function(dr,R){try{var H=aj.getHandler(dr);if(H!==null){H(C,R);}}catch(e){C.ba(dr+'Event',e);}};this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};this.awl=function(H){aj.addHandler('currentPageChanged',H);};this.aEm=function(H){aj.removeHandler('currentPageChanged',H);};this.CL=function(cG,G){cG.style.cursor='move';cG.style.cursor='-webkit-'+G;cG.style.cursor='-moz-'+G;cG.style.cursor=G;};this.ajp=function(){return am.style.cursor||'auto';};this.aFz=function(G){am.style.cursor=G||'auto';var J=0;for(J=0;J<bz.length;J++){if(bz[J].aT){var aH=document.getElementById(bz[J].aT);if(aH){var ae=aH.bS;aH.style.cursor=G;if(ae){ae.set_cursor(G);if(bz[J].gN===true&&ae.dY()===true){ae.display();}}}}}};this.VK=function(){return aa;};this.IS=function(G){IPCC.bH.jX(G,'value',IPCC.Web.UI.MouseTool);var nd=false;if(aa!==G){hT=null;aa=G;switch(aa){case IPCC.Web.UI.MouseTool.HandPan:aF='grab';C.CL(am,'grab');break;case IPCC.Web.UI.MouseTool.SelectText:C.vd();aF=IPCC.bh.Text;am.style.cursor=IPCC.bh.dW(aF);break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:C.vd();aF=IPCC.bh.Text;am.style.cursor=IPCC.bh.dW(aF);break;case IPCC.Web.UI.MouseTool.None:aF=IPCC.bh.None;am.style.cursor=IPCC.bh.dW(aF);break;case IPCC.Web.UI.MouseTool.Magnifier:aF=IPCC.bh.Magnifier;am.style.cursor=IPCC.bh.dW(aF);break;case IPCC.Web.UI.MouseTool.RectangleZoom:aF=IPCC.bh.RectangleZoom;am.style.cursor=IPCC.bh.dW(aF);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:aF=IPCC.bh.AddRectangleMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:aF=IPCC.bh.AddRectangleRedactionMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:aF=IPCC.bh.AddEllipseMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:aF=IPCC.bh.AddLineMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.mz()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:aF=IPCC.bh.AddStampMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:aF=IPCC.bh.AddImageStampMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:aF=IPCC.bh.AddImageStampMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:aF=IPCC.bh.AddTextMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:aF=IPCC.bh.AddTextMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:aF=IPCC.bh.AddTextMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.fI(IPCC.Web.UI.MarkType.TextAreaSignature)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:aF=IPCC.bh.AddFreehandLineMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.mq()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:aF=IPCC.bh.AddPolylineMark;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.kb(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:aF=IPCC.bh.EditMarks;am.style.cursor=IPCC.bh.dW(aF);nd=true;hT=function(){return[new IPCC.kF(IPCC.Web.UI.MarkType.Text)];};break;default:aF=IPCC.bh.None;am.style.cursor=IPCC.bh.dW(aF);break;}var J=0;for(J=0;J<bz.length;J++){if(bz[J].aT){var aH=document.getElementById(bz[J].aT);if(aH){var ae=aH.bS;if(aF==='grab'){C.CL(aH,'grab');}else{aH.style.cursor=IPCC.bh.dW(aF);}if(ae){ae.set_cursor(aF);ae.MY(aa===IPCC.Web.UI.MouseTool.HandPan||aa===IPCC.Web.UI.MouseTool.EditMarks);if(nd===true){ae.LA(hT());}else{ae.set_mouseTool(IPCC.Web.UI.MouseTool.None);}if(bz[J].gN===true&&ae.dY()===true){ae.display();}}}}}this.cA('mouseTool');}};this.axi=function(){return AK;};this.aGa=function(bool){AK= ! !bool;};this.xp=function(){return rq;};this.Js=function(G){if(rq!==G){rq=G;var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J=0;for(J=0;J<cK.length;J++){var aH;var ae;aH=document.getElementById(bz[cK[J]].aT);ae=aH.bS;if(ae){ae.set_markHandleMode(rq);this.wY(aH,J);}}this.cA('markHandleMode');}};this.lu=function(){return sb;};this.JR=function(G){if(sb!==G){sb=G;var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J=0;for(J=0;J<cK.length;J++){var ae;if(bz[cK[J]].aT){ae=document.getElementById(bz[cK[J]].aT).bS;}if(ae){ae.set_textRequired(sb);}}this.cA('textRequired');}};this.axt=function(){return uo;};this.aGx=function(G){if(G<0){G=0;}if(uo!==G){uo=G;this.cA('maxPrefetch');}};this.azM=function(){return Jf;};this.aDH=function(G){if(Jf!==G){Jf=G;this.cA('displayPagesWhenScrolling');}};this.axu=function(){return Bk;};this.aFv=function(G){if(G<0){G=0;}if(Bk!==G){Bk=G;this.cA('maxOutOfViewDisplay');}};this.aAb=function(){return QT;};this.aEC=function(G){if(QT!==G){QT= ! !G;this.cA('discardOutOfViewText');}};this.axC=function(){return OP;};this.aGk=function(G){if(OP!==G){OP= ! !G;this.cA('retainPageText');}};this.axs=function(){return Ro;};this.aFS=function(G){if(G<0){G=0;}if(Ro!==G){Ro=G;this.cA('scrollDisplayThreshold');}};this.ayu=function(){return fg;};this.aFR=function(G){if(fg===G){return;}fg=G;if(bF===''||bF.clientHeight<=0||dK===IPCC.ViewMode.SinglePage){this.cA('pageLayout');return;}var tW=cL;var FG=dK;if(dK===IPCC.ViewMode.EqualWidthPages||dK===IPCC.ViewMode.EqualFitPages){C.KY(IPCC.ViewMode.Document);}bF.scrollLeft=0;bF.scrollTop=0;var J=0;var aH;if(fg===IPCC.PageLayout.VerticalScrollDirection){if(JE){JE.setAttribute('style',aEr);}Ct.insertBefore(kI,JE);for(J=0;J<bz.length;J++){aH=document.getElementById(bz[J].aT);aH.style.display='block';if(gs>0){aH.style.margin=eK+'px auto '+iL+'px auto';}}am.style.margin='0px '+fO+'px 0px '+gZ+'px';bF.scrollLeft=(gw-bF.clientWidth)/2+fO+lU;}else{if(JE){JE.setAttribute('style',aEq);}Ct.removeChild(kI);for(J=0;J<bz.length;J++){aH=document.getElementById(bz[J].aT);if(aH){aH.style.display='inline-block';if(gs>0){aH.style.margin=eK+'px '+fO+'px '+iL+'px '+gZ+'px';}}}am.style.margin='0px';bF.scrollTop=(hf-bF.clientHeight)/2+eK+nV;}if(FG===IPCC.ViewMode.EqualWidthPages){C.KY(IPCC.ViewMode.EqualWidthPages);}else if(FG===IPCC.ViewMode.EqualFitPages){C.KY(IPCC.ViewMode.EqualFitPages);}this.rs(tW);pp();this.cA('layout');};this.aBo=function(){return dK;};this.KY=function(G,eC){eC=eC||IPCC.ScaleTrigger.ViewMode;if(dK===G){return;}dK=G;if(bF===''||bF.clientHeight<=0){this.cA('viewMode');return;}var tW=cL;this.rs(tW);if(dK===IPCC.ViewMode.Document){var jH=1;var aW=gs;var bg=jD;if(iS(qD)===true){aW=jD;bg=gs;}if(fg===IPCC.PageLayout.VerticalScrollDirection){jH=(bF.clientWidth-(fO+gZ+lU+oC))/aW;}else{jH=(bF.clientHeight-(eK+iL+nV+nI))/bg;}jo(jH,true,undefined,undefined,undefined,undefined,eC);}else{Tq(eC);}this.rs(tW);this.cA('viewMode');zy(dm,true);jU(dm,true);};var qD=0;this.ayO=function(){return qD;};this.aFE=function(G){if(qD!==G){qD=G;var J=0;for(J=0;J<bz.length;J++){if(bz[J].FL===0){bz[J].fY=qD;}}this.cA('pageRotation');}};this.YV=function(aq){var cr;if(arguments.length>0){if(!isNaN(aq)){cr=aq;}else{cr=cL;}}else{cr=cL;}for(var J=0;J<bz.length;J++){if(cr===J){return bz[J].fY;}}return 0;};var oc=false;this.im=function(){return oc;};this.nn=function(G){if(typeof G!=="boolean"){return;}if(G===oc){return;}oc=G;};this.ayC=function(){return Zl;};this.aEN=function(G,pM,yP,ue){if(Zl!==G){Zl=G;for(var J=0;J<bz.length;J++){bz[J].aA.azn(G,J,bz[J].lp(),bz[J].pk(),bz[J].eV,pM,yP,ue);var auR= !bz[J].lp();bz[J].Wu(auR);}this.cA('annotationXmlDom');}};var qj;this.JA=function(G){qj=G;};this.va=function(){return qj;};var ob=false;this.nm=function(){return ob;};this.qF=function(G){if(typeof G!=="boolean"){return;}if(G===ob){return;}ob=G;IPCC.h.forEach(bz,function(bP,J){var ae;if(bz[J].aT){var aH=document.getElementById(bz[J].aT);if(aH){ae=aH.bS;}}if(ae){ae.qF(ob);ae=undefined;}});};this.aDm=function(G){if(Ht!==G){Ht=G;this.cA('loadingContent');}};this.ayF=function(){return Ht;};this.aAo=function(){var cC=hY();var cK=[];if(cC){cK=rS(cC);}var acj=new IPCC.Web.UI.ImGearPageCollection();var J=0;for(J=0;J<cK.length;J++){acj.alh(bz[cK[J]].eV);}return acj;};this.aCM=function(bm){if(bz[bm]){return bz[bm].aT;}};this.CR=function(){return ve;};this.Kq=function(G){ve=G;};this.jG=function(){return kA;};this.wf=function(G){kA=G;};this.OT=function(ap,Ak,Ba){var C=this;if(ap.ke()>0||ap.ir()>0){Ak(ap.ke(),ap.ir());return;}ap.requestPageAttributes(function(aD,ab){if(bz[ap.get_pageNumber()].agb()===true){var fT=aD/ap.ajc();if(fT!==1){var aA=C.hz(ap);if(aA){aiB(aA,fT);}}}bz[ap.get_pageNumber()].Wu(false);Ak(aD,ab);},function(fA){Ba(fA);});};this.awV=function(){if(tQ===true){return;}tQ=true;this.fi(kI,'pccHidden');zy(dm,true);jU(dm,true);};this.asD=function(){if(tQ===false){return;}tQ=false;this.kM(kI,'pccHidden');};this.axv=function(){return tQ;};this.kM=function(cG,uD){var It=new RegExp('(?:^|\\s)'+uD+'(?!\\S)','g');if(cG.className.match(It)===null){cG.className=cG.className+' '+uD;}};this.fi=function(cG,uD){var It=new RegExp('(?:^|\\s)'+uD+'(?!\\S)','g');cG.className=cG.className.replace(It,'');};this.aAT=function(){return pq;};this.aFA=function(G){pq=G;};this.aBW=function(){return je;};this.aFJ=function(G){if(je===G){return;}var V,cE,wk;if(je){V=je.get_mark();wk=dm[V.get_markID()];cE=pq(V,{isSelected:true},(wk)?wk.cE:undefined);if(wk){EL(V,dm,cE);}}V=cE=wk=undefined;je=G;if(je){V=je.get_mark();wk=dm[V.get_markID()];cE=pq(V,{isSelected:true},(wk)?wk.cE:undefined);if(wk){EL(V,dm,cE);}}jU(dm,true);};this.aBP=function(St){var jZ=xt();IPCC.h.forEach(St,function(Ny){var dC=dm[Ny];if(dC){var kK=pq(dC.V,{isSelected:(dC.V.get_conversation()===je)},dC.cE);if(!IPCC.h.tN(kK)){throw new Error(kK+' is not a valid HTMLElement');}if(kK!==dC.cE){EL(dC.V,dm,kK);}}});jU(dm,false,jZ);};this.aqP=function(){C.apW={top:bF.scrollTop,left:bF.scrollLeft};};this.azd=function(){var nQ=C.apW;if(nQ){bF.scrollTop=nQ.top;bF.scrollLeft=nQ.left;}};this.initialize=function(){var cT=this.nt();var J;for(J=cT.childNodes.length-1;J>=0;J--){if(cT.childNodes[J].tagName!=='INPUT'){cT.removeChild(cT.childNodes[J]);}}this.zZ.add_documentAdded(ash);this.zZ.add_pageAdded(UV);this.zZ.add_pageRemoved(Vy);this.aaf(true);cT.bS=this;akP();var XR='webkit moz o'.split(' '),Bi='';if(am.style.animationName!==undefined){HZ='animationend';Dr='transitionend';return;}for(J=0;J<XR.length;J++){if(am.style[XR[J]+'Animation']!==undefined){Bi=XR[J];HZ=Bi+'AnimationEnd';Dr=Bi+'TransitionEnd';break;}}};this.azi=function(){return lW;};this.aaf=function(G){lW=G;this.cA('enabled');};this.ayQ=function(){if(cL+1<bz.length){C.rs(cL+1);}};this.ayj=function(){var Vs=cL-1;if(Vs<0){Vs=0;}C.rs(Vs);};function Es(R){IPCC.Web.UI.al.removeHandler(R.target,HZ,Es);IPCC.Web.UI.al.removeHandler(R.target,Dr,Es);if(Jh>cL){C.fi(R.target,'pccNextPageIn');C.fi(R.target,'pccPreviousPageIn');C.fi(R.target,'pccCurrentPage');C.fi(R.target,'pccPageBack');C.fi(R.target,'pccPageForward');C.kM(R.target,'pccNextPage');}else if(Jh<cL){C.fi(R.target,'pccNextPageIn');C.fi(R.target,'pccPreviousPageIn');C.fi(R.target,'pccCurrentPage');C.fi(R.target,'pccPageBack');C.fi(R.target,'pccPageForward');C.kM(R.target,'pccPreviousPage');}C.fi(am,'pccPageListContainerPageChanging');bF.style.overflow='auto';iR=null;am.style.overflow='hidden';var nX=IPCC.h.filter(dm,function(af){return af.aq===cL+1;});jU(nX);setTimeout(function(){pp();},60);};this.rs=function aHg(bm){var Jz=cL;var nX;if(dK===IPCC.ViewMode.SinglePage){nX=IPCC.h.filter(dm,function(af){return af.aq!==bm+1;});OY(nX);}else{tM=true;var abW=ajq(bm);if(fg===IPCC.PageLayout.VerticalScrollDirection){bF.scrollTop=abW;}else{bF.scrollLeft=abW;}}var Ay=[];if(cL!==bm){cL=bm;var bP=bz[cL];var R=new IPCC.PageEventArgs();R.imGearPage=C.get_currentPage();R.pageIndex=cL;R.pageNodeID=bP.aT;C.ad('currentPageChanged',R);if(dK===IPCC.ViewMode.SinglePage){var gm=document.getElementById(bz[cL].aT);var qT=document.getElementById(bz[Jz].aT);if(gm===null){gm=Jr(bz[cL].eV);Ay.push(bz[cL]);gm.className='pccPageListItem pccCurrentPage';qo.push(cL);if(gs>0){var kU=Uq(bz[cL]);gm.style.width=kU.aD+'px';gm.style.height=kU.ab+'px';}else{gm.style.width=am.clientWidth-fO-gZ+'px';gm.style.height=am.clientWidth*0.8+'px';}gm.style.display='block';gm.setAttribute('id',bz[cL].aT);am.appendChild(gm);}if(Dr.length>0){bF.style.overflow='hidden';am.style.width=gm.style.width;am.style.height=gm.style.height;am.style.overflow='visible';if(iR!==null){IPCC.Web.UI.al.removeHandler(iR,HZ,Es);IPCC.Web.UI.al.removeHandler(iR,Dr,Es);if(Jh>cL){this.fi(iR,'pccNextPageIn');this.fi(iR,'pccPreviousPageIn');this.fi(iR,'pccCurrentPage');this.fi(iR,'pccPageForward');this.fi(iR,'pccPageBack');this.kM(iR,'pccNextPage');}else if(Jh<cL){this.fi(iR,'pccNextPageIn');this.fi(iR,'pccPreviousPageIn');this.fi(iR,'pccCurrentPage');this.fi(iR,'pccPageForward');this.fi(iR,'pccPageBack');this.kM(iR,'pccPreviousPage');}}IPCC.Web.UI.al.addHandler(qT,HZ,Es);IPCC.Web.UI.al.addHandler(qT,Dr,Es);iR=qT;Jh=Jz;this.kM(am,'pccPageListContainerPageChanging');if(cL>Jz){this.kM(qT,'pccPageForward');this.fi(gm,'pccPageBack');this.fi(gm,'pccPreviousPage');this.fi(gm,'pccPreviousPageIn');this.fi(gm,'pccNextPage');this.kM(gm,'pccCurrentPage');this.kM(gm,'pccNextPageIn');}else{this.kM(qT,'pccPageBack');this.fi(gm,'pccPageForward');this.fi(gm,'pccPreviousPage');this.fi(gm,'pccNextPage');this.fi(gm,'pccNextPageIn');this.kM(gm,'pccCurrentPage');this.kM(gm,'pccPreviousPageIn');}}else{am.style.width=gm.style.width;am.style.height=gm.style.height;if(cL>Jz){this.fi(qT,'pccNextPage');this.fi(qT,'pccCurrentPage');this.kM(qT,'pccPreviousPage');}else{this.fi(qT,'pccPreviousPage');this.fi(qT,'pccCurrentPage');this.kM(qT,'pccNextPage');}this.fi(gm,'pccPreviousPage');this.fi(gm,'pccNextPage');this.kM(gm,'pccCurrentPage');nX=IPCC.h.filter(dm,function(el){return el.aq===bm+1;});UQ(nX);setTimeout(function(){pp();},60);}IPCC.h.forEach(Ay,aiE);}}};this.axp=function(){if(bz.length>0){C.rs(0);}};this.ayT=function(){if(cL<bz.length-1){C.rs(bz.length-1);}};this.ayV=function(dE){if(tQ===false){return "CommentsPanelClosed";}var ep=dm[dE.get_mark().get_markID()];if(!ep){return "ConversationDivDoesNotExist";}if(dK===IPCC.ViewMode.SinglePage&&ep.aq-1!==cL){return "SinglePageModePageNotShown";}var ap=document.getElementById(bz[ep.aq-1].aT);if(bz[ep.aq-1].gN===false||ap===undefined||ap.bS===undefined||ap.bS===null||ap.bS.dY()===false){return "PageOutOfView";}var F=dE.get_mark().get_boundingRectangle();var pS=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var AJ=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y),true);pS.x=am.offsetWidth;AJ.x=am.offsetWidth+tn();C.acy(ap.offsetTop,ap.offsetLeft,pS,AJ);return "Success";};this.ayD=function(bm,F){if(dK===IPCC.ViewMode.SinglePage&&bm!==cL){return false;}var ap=document.getElementById(bz[bm].aT);if(bz[bm].gN===false||ap===undefined||ap.bS===undefined||ap.bS===null||ap.bS.dY()===false){return false;}var pS=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x,F.y),true);var AJ=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(F.x+F.width,F.y+F.height),true);C.acy(ap.offsetTop,ap.offsetLeft,pS,AJ);return true;};this.ayt=function(apX,aov){bF.scrollTop+=Math.round(aov);bF.scrollLeft+=Math.round(apX);};this.acy=function(anX,aph,pS,AJ){var adr=AJ.x-pS.x;var aaZ=AJ.y-pS.y;var cn=new IPCC.Web.UI.Point(0,0);if(adr>bF.clientWidth){cn.x=pS.x;}else{cn.x=pS.x+(adr/2);}if(aaZ>bF.clientHeight){cn.y=pS.y;}else{cn.y=pS.y+(aaZ/2);}if(fg===IPCC.PageLayout.VerticalScrollDirection){bF.scrollTop=anX+cn.y-bF.clientHeight/2;bF.scrollLeft=cn.x-bF.clientWidth/2;}else{bF.scrollLeft=aph+cn.x-bF.clientWidth/2;bF.scrollTop=cn.y-bF.clientHeight/2;}};this.aDv=function(){var J=0;for(J=0;J<bz.length;J++){ED(J,true);}};this.asL=function(){var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J=0;for(J=0;J<cK.length;J++){ED(cK[J]);}if(C.zZ.get_length()>0){C.zZ.removeAllDocuments();}};this.aau=function(bm,bB,ci,cB){if(bz[bm]&&bz[bm].gN===true){var aH=document.getElementById(bz[bm].aT);if(aH&&aH.bS&&aH.bS.dY()===true){if(cB){IPCC.bH.cB(cB,"selectText");var gX=aH.bS.Bc();var aut=gX.jO;var atp=gX.fE;gX.jO=cB;gX.fE=cB;aH.bS.showTextSelection(bB,ci);gX.jO=aut;gX.fE=atp;}else{aH.bS.showTextSelection(bB,ci);}}}};this.asT=function(){var cC=hY();var cK=[];if(cC){cK=rS(cC);}var J;for(J=0;J<cK.length;J++){if(bz[cK[J]].gN===true){var fm=document.getElementById(bz[cK[J]].aT),bS=fm?fm.bS:undefined;if(bS&&bS.dY()===true){bS.showEmptyTextSelection(0);bS.extendTextSelection(undefined);bS.display();}}}};this.aqM=function(bm){if(bz[bm]&&bz[bm].gN===true){var fm=document.getElementById(bz[bm].aT),bS=fm?fm.bS:undefined;if(bS&&bS.dY()===true){bS.showEmptyTextSelection(0);bS.extendTextSelection(undefined);bS.display();}}};this.vd=function(){var ap,cZ,bS;aZ=null;IPCC.h.forEach(Np,function(J){ap=bz[J];cZ=document.getElementById(ap.aT);if(cZ){bS=cZ.bS;}if(bS){if(bS.dY()&&bS.BL()){bS.showEmptyTextSelection(0);bS.extendTextSelection(undefined);if(ap.gN){bS.display();}}}ap=cZ=bS=undefined;});};this.vx=function(bm,sv){var aH;var ae;var aam=function(aFf,anB){return(aFf+anB)%360;};bz[bm].fY=aam(bz[bm].fY,sv);if(bz[bm].aT){aH=document.getElementById(bz[bm].aT);}if(aH===undefined||aH===null){return;}ae=aH.bS;if(ae&&ae.dY()===false){bz[bm].FL=aam(bz[bm].FL,sv);return;}tM=true;if(ae&&ae.dY()===true){ae.rotate(sv);}var aW=0;var bg=0;var ea=gs;var eD=jD;if(iS(qD)===true){ea=jD;eD=gs;}if(iS(bz[bm].fY)===true){if(ae&&ae.dY()===true){aW=ae.get_pageHeight();bg=ae.get_pageWidth();}else{aW=jD;bg=gs;}}else{if(ae&&ae.dY()===true){aW=ae.get_pageWidth();bg=ae.get_pageHeight();}else{aW=gs;bg=jD;}}tM=true;if(dK===IPCC.ViewMode.SinglePage){aH.style.width=aW*dB*dn/bz[bm].gE+'px';aH.style.height=bg*dB*dn/bz[bm].hE+'px';if(bm===cL){am.style.width=aW*dB*dn/bz[bm].gE+'px';am.style.height=bg*dB*dn/bz[bm].hE+'px';}}else if(dK===IPCC.ViewMode.Document){aH.style.width=aW*dB*dn/bz[bm].gE+'px';aH.style.height=bg*dB*dn/bz[bm].hE+'px';var J=0;if(fg===IPCC.PageLayout.VerticalScrollDirection){if(aW*dB*dn/bz[bm].gE>gw){gw=aW*dB*dn/bz[bm].gE;}else if(aH.clientHeight>=gw-10){gw=0;for(J=0;J<bz.length;J++){aH=document.getElementById(bz[J].aT);if(aH&&aH.clientWidth>gw){gw=aH.clientWidth;}}}if(bg*dB*dn/bz[bm].hE>hf){hf=bg*dB*dn/bz[bm].hE;}}else{if(bg*dB*dn/bz[bm].hE>hf){hf=bg*dB*dn/bz[bm].hE;}else if(aH.clientWidth>=hf-10){hf=0;for(J=0;J<bz.length;J++){aH=document.getElementById(bz[J].aT);if(aH&&aH.clientHeight>hf){hf=aH.clientHeight;}}}if(aW*dB*dn/bz[bm].gE>gw){gw=aW*dB*dn/bz[bm].gE;}}}else{var hk;if(fg===IPCC.PageLayout.VerticalScrollDirection){hk=ea/aW*dB*dn/bz[bm].hE;if(ae&&ae.dY()===true){ae.zoom(hk);}tM=true;aH.style.width=ea*dB*dn/bz[bm].gE+'px';aH.style.height=hk*bg+'px';}else{hk=eD/bg*dB*dn/bz[bm].hE;if(ae&&ae.dY()===true){ae.zoom(hk);}tM=true;aH.style.height=eD*dB*dn/bz[bm].hE+'px';aH.style.width=hk*aW+'px';}if(ea*dB*dn/bz[bm].gE>gw){gw=ea*dB*dn/bz[bm].gE;}if(eD*dB*dn/bz[bm].hE>hf){hf=eD*dB*dn/bz[bm].hE;}}if(ae&&ae.dY()===true){tM=true;this.wY(aH,bm);setTimeout(function(){if(tQ===false){return;}var jZ=xt();var nX=IPCC.h.filter(dm,function(el){return bm===el.aq-1;});zy(nX);jU(nX,true,jZ);},0);}};this.aBr=function(sv){var tW=cL;this.vx(cL,sv);if(dK!==IPCC.ViewMode.SinglePage){var C=this;setTimeout(function(){C.rs(tW);},10);}};this.afE=function(sv){var tW=cL;var cC=hY();if(dK!==IPCC.ViewMode.SinglePage){this.rs(tW);}var gr=0;var hn=bz.length-1;var J;for(J=gr;J<=hn;J++){this.vx(J,sv);}if(dK!==IPCC.ViewMode.SinglePage){var C=this;setTimeout(function(){ajo(cC);C.rs(tW);},10);}};function akx(Ci,mX){var mj=0;var qE=0;var BS=false;tM=true;var cC=hY();if(cC){IPCC.h.forEach(cC.Ih,function(bN){var gq=fg===IPCC.PageLayout.VerticalScrollDirection?bN.ab+eK:bN.aD+fO+gZ;var aEF=Ci.Ih[bN.aC];if(aEF.vn){BS=true;return;}if(mX&&bN.aC>=mX.iK&&bN.aC<=mX.kR){var aH=document.getElementById(bz[bN.aC].aT);if(aH){return;}}if(BS){qE+=gq;}else{mj+=gq;}});}return{qE:qE,mj:mj};};function ajo(Ci){if(dK===IPCC.ViewMode.SinglePage){return;}var mX=MD(Ci);var pO=akx(Ci,mX);if(fg===IPCC.PageLayout.VerticalScrollDirection){am.style.paddingTop=pO.mj+'px';am.style.paddingBottom=pO.qE+'px';}else{am.style.paddingLeft=pO.mj+'px';am.style.paddingRight=pO.qE+'px';}};function avN(Ci){if(dK===IPCC.ViewMode.SinglePage){return;}var Lj;var mX;if(fg===IPCC.PageLayout.VerticalScrollDirection){Lj=parseInt(window.getComputedStyle(am,null).getPropertyValue('padding-top'),10);}else{Lj=parseInt(window.getComputedStyle(am,null).getPropertyValue('padding-left'),10);}mX=MD(Ci);var pO=akx(Ci,mX);if(fg===IPCC.PageLayout.VerticalScrollDirection){am.style.paddingTop=pO.mj+'px';am.style.paddingBottom=pO.qE+'px';bF.scrollTop=bF.scrollTop+pO.mj-Lj;}else{am.style.paddingLeft=pO.mj+'px';am.style.paddingRight=pO.qE+'px';bF.scrollLeft=bF.scrollLeft+pO.mj-Lj;}};this.QI=function(bm){IPCC.bH.lx(bm,'pageIndex',0,bz.length-1);var ap=bz[bm];if(ap&&ap.aT&&(ap.DF===true||ap.xB===false)){var bG;var aH=document.getElementById(ap.aT);if(aH.bS){aH.bS.dispose();}ajC(aH);bG=new IPCC.Web.UI.PageView(aH,false,bF);if(bG){bG.set_autoUpdate(false);bG.tX(aH);bG.initialize();bG.set_imageHandlerUrl(ap.az.qm);bG.set_requireRequestsOptimize(ve);if(kA!==undefined){bG.set_serviceResponseTimeout(kA);}bG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bG.MY(aa===IPCC.Web.UI.MouseTool.HandPan||aa===IPCC.Web.UI.MouseTool.EditMarks);TC(bG,ap);Tk(bG);SY(bG);SL(bG);SS(bG);}bG.set_textRequired(sb);bG.set_markHandleMode(rq);bG.set_debug(_debug);bG.set_gamma(pA);bG.set_sharpening(qC);bG.set_svgLineWidthMultiplier(kt);bG.set_debugErrorLevel(pj);bG.nn(C.im());if(qj){bG.set_resourcePath(qj);}if(hT){bG.LA(hT());}else{bG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bG.qF(C.nm());ap.DF=false;ap.AI=false;var xl={encodedDocumentIdentifier:ap.az.get_encodedDocumentIdentifier(),pageNumber:bm,artServiceOption:0,documentArtPage:ap.eP,viewRotationDegreesClockwise:ap.fY};if(ap.aA){xl.artPage=ap.aA;}if(ap.eP){xl.documentArtPage=ap.eP;}bG.openPage(xl);ap.xB=true;lV++;}};function Tq(eC,eS){if(gs<=0){return;}var ea=gs;var eD=jD;var fd=dn/bz[0].gE;if(iS(qD)===true){ea=jD;eD=gs;fd=dn/bz[0].hE;}var jH=1;if(fg===IPCC.PageLayout.VerticalScrollDirection){jH=(bF.clientWidth-tn()-(fO+gZ+lU+oC))/(ea*fd);}else{jH=(bF.clientHeight-(eK+iL+nV+nI))/(eD*fd);}var ts;if(dB<=jH){ts=false;}else if(dB>jH){ts=true;}if(isNaN(jH)||jH<=0||Math.abs(jH)===Infinity){return;}dB=jH;gw=0;hf=0;var gr=0;var hn=bz.length-1;var bd=0;var ae;for(bd=gr;bd<=hn;bd++,ae=undefined){var aH=document.getElementById(bz[bd].aT);if(aH){ae=aH.bS;}if(ae===undefined){continue;}var aW=ea;var bg=eD;if(bz[bd].lp()>0){if(iS(bz[bd].fY)===true){aW=bz[bd].pk();bg=bz[bd].lp();}else{aW=bz[bd].lp();bg=bz[bd].pk();}}var hk=1;if(fg===IPCC.PageLayout.VerticalScrollDirection){hk=ea/aW*dB*fd;aH.style.width=ea*dB*fd+'px';aH.style.height=bg*hk+'px';if(ea*dB*fd>gw){gw=ea*dB*fd;}if(bg*hk*dn/bz[bd].hE>hf){hf=bg*hk*fd;}}else{hk=eD/bg*dB;aH.style.height=eD*dB*fd+'px';aH.style.width=aW*hk*fd+'px';if(aW*dB*dn/bz[bd].gE>gw){gw=aW*dB*fd;}if(eD*hk*fd>hf){hf=eD*hk*fd;}}if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.zoom(hk);}if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.display();}ae=undefined;}hY();pp();setTimeout(function(){zy(dm);jU(dm);},0);C.ad('scaleChanged',{scaleType:(ts)?"scaledDown":"scaledUp",scaleTrigger:eC,fitType:eS,scaleFactor:dB});};function iS(es){switch(es){case 90:case 270:case-90:case-270:return true;default:return false;}};function gy(sQ){var wa=document.createElement('div');var J;for(J in sQ){if(sQ.hasOwnProperty(J)){wa.style[J]=sQ[J];}}return wa;};this.aqS=function(){if(JC===undefined||JC===null){JC=1;}var cF=this.nt().id.toString()+'_'+JC.toString();JC++;return cF;};this.aar=function(){return this.zZ;};this.hz=function(aEI){for(var sV=0;sV<bz.length;sV++){var avM=bz[sV];if(aEI===avM.eV){return bz[sV].aA;}}return null;};this.aHc=function(jF){var aH=document.getElementById(bz[jF.get_pageNumber()].aT);if(aH){return aH.bS.mp();}return null;};this.arv=function(){if(lW===false||iR!==null||vk){return;}var cC=hY();ahW(cC);};function ash(aV,R){Uf(R);};function Uf(ax){var gF=ax.imGearDocument;var aEB=C.aqS();gF.Pf=aEB;var dP=gF.get_pages();var cW=dP.get_length();if(cW>0){var Ov=document.createDocumentFragment();for(var bd=0;bd<cW;bd++){var ap=dP.getPage(bd);if(!ap.az){ap.az=gF;}Jr(ap,ap.get_pageNumber()===0?null:Ov);}am.appendChild(Ov);}};var aDg=IPCC.h.aiz(function(){if(Jt.length>0&&lW){var cr;var KB;var Jq=0;IPCC.h.forEach(Jt,akF);var abU=hY();if(!abU){return;}var kU=abU.Ih;IPCC.h.forEach(Jt,function(ap,aC){cr=ap.pa();KB=kU[cr];if(fg===IPCC.PageLayout.VerticalScrollDirection){Jq+=KB.ab+eK;}else{Jq+=KB.aD+fO;}});if(Jq&&dK!==IPCC.ViewMode.SinglePage){if(fg===IPCC.PageLayout.VerticalScrollDirection){am.style.paddingBottom=Jq+'px';}else{am.style.paddingRight=Jq+'px';}}zy(dm,true);jU(dm,true);if(C.zZ.OD(0).fp===bz.length){C.ad('allPagesAdded');}pp();}Jt=[];},10);function UV(aV,R){if(R.imGearPage.get_pageNumber()===0){Jr(R.imGearPage);return;}Jt.push(R.imGearPage);aDg();};function Vy(aV,R){var cr=R.imGearPage.get_pageNumber();var WB=R.imGearPage.az.get_documentIdentifier();for(var bd=0;bd<bz.length;bd++){if(bz[bd].eV.get_pageNumber()===cr&&bz[bd].eV.az.get_documentIdentifier()===WB){var aH=document.getElementById(bz[bd].aT);if(aH){am.removeChild(aH);if(aH.bS){aH.bS.dispose();var nX=IPCC.h.filter(dm,function(el){return el.aq===bz[bd].cr+1;});OY(nX);}}bz.splice(bd,1);}}};function akF(jF){if(!IPCC.h.contains(bz,jF)){var bP=new IPCC.bP({page:jF});if(qD){bP.fY=qD;}if(!bP.az){bP.az=jF.az;}bz.push(bP);IPCC.Pagecounter++;bz=bz.sort(function(du,fM){return du.cr-fM.cr;});apf(jF);anT(jF);apV(jF);bP.aqJ=false;bP.AI=false;asd(bP);ask(bP);SJ(bP);arG(bP);atf(bP);asy(bP);asV(bP);aqX(bP);aqK(bP);apS(bP);return bP;}};function Jr(ap,Ov){var ML=ap.get_pageNumber();var cT=C.nt();var gF=null;var YA;var cW=C.get_documents().get_length();for(var bE=0;bE<cW;bE++){gF=C.get_documents().getDocument(bE);if(gF!==null){YA=gF.Pf;if(YA===ap.az.Pf){break;}}}var gR=IPCC.h.find(bz,function(bP){return bP.eV&&bP.eV===ap;});if(!gR){gR=akF(ap);}gR.Gm=true;var adi=gR.aT;if(gR.Fd===1){return document.getElementById(adi);}gR.Fd=1;if(am===''){akP();}var ly=(function(){var aX;if(dK!==IPCC.ViewMode.SinglePage){aX=gy({overflow:'hidden',position:'relative'});}else{aX=gy({overflow:'hidden',position:'absolute',margin:'0px'});if(gR.cr>cL){C.kM(aX,'pccNextPage');}else if(gR.cr<cL){C.kM(aX,'pccPreviousPage');}else{C.kM(aX,'pccCurrentPage');}}qo.push(ap.cr);C.kM(aX,'pccPageListItem');ajC(aX);var Dh=Uq(gR);aX.style.width=Dh.aD+'px';aX.style.height=Dh.ab+'px';var cC=hY();var NK;if(fg===IPCC.PageLayout.VerticalScrollDirection||dK===IPCC.ViewMode.SinglePage){aX.style.display='block';if(gs>0){aX.style.margin=eK+'px auto '+iL+'px auto';}if(cC.dj.length>0&&dK!==IPCC.ViewMode.SinglePage){NK=cC.dj[0];if(ML<NK.aC){var aFD=IPCC.h.OU(am,'padding-top');var aGf=IPCC.h.PR(aFD);var Sb=aGf-Dh.ab-eK;if(Sb<0){Sb=0;}am.style.paddingTop=Sb+'px';}else{var apE=IPCC.h.OU(am,'padding-bottom');var apN=IPCC.h.PR(apE);var Wb=apN-Dh.ab-eK;if(Wb<0){Wb=0;}am.style.paddingBottom=Wb+'px';}}}else{aX.style.display='inline-block';if(gs>0){aX.style.margin=eK+'px '+fO+'px '+iL+'px '+gZ+'px';}if(cC.dj.length>0&&dK!==IPCC.ViewMode.SinglePage){NK=cC.dj[0];if(ML<NK.aC){var aro=IPCC.h.OU(am,'padding-left');var aqo=IPCC.h.PR(aro);var Vz=aqo-Dh.aD-fO;if(Vz<0){Vz=0;}am.style.paddingLeft=Vz+'px';}else{var aGy=IPCC.h.OU(am,'padding-right');var ayd=IPCC.h.PR(aGy);var Uy=ayd-Dh.aD-fO;if(Uy<0){Uy=0;}am.style.paddingRight=Uy+'px';}}}aX.setAttribute('id',adi);return aX;}());gR.eV=gR.eV||ap;gR.agD=gR.agD||YA;gR.fY=gR.fY!==undefined?gR.fY:qD;gR.gN=false;function atV(fm){var WF=fm.childNodes;var aEa=IPCC.h.find(bz,function(bP){if(bP.cr<=ML){return;}var iw=IPCC.h.find(WF,function(iw){return iw.id&&iw.id===bP.aT;});if(!iw){return;}if(bP.cr>ML){iw.parentElement.insertBefore(ly,iw);return true;}});if(!aEa){fm.appendChild(ly);}}(function aEP(){if(bz.length===1){am.appendChild(ly);}else{return atV(Ov||am);}}());var anF=false;if(ly&&cT.clientWidth>0){var asq=cT.clientWidth/(ly.clientWidth+(ly.clientLeft*2));var aAZ=cT.clientHeight/(ly.clientHeight+(ly.clientTop*2));if(bz.length<(asq*aAZ)){anF=true;}}if(bz.length<2){var bG=new IPCC.Web.UI.PageView(ly,false,bF);if(bG){bG.set_autoUpdate(false);bG.tX(ly);bG.initialize();bG.set_imageHandlerUrl(ap.az.qm);bG.set_imGearPage(gR.eV);bG.set_artPage(gR.aA);bG.set_documentArtPage(gR.eP);bG.set_requireRequestsOptimize(ve);if(kA!==undefined){bG.set_serviceResponseTimeout(kA);}bG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bG.set_textRequired(sb);bG.set_markHandleMode(rq);bG.set_debug(_debug);bG.set_gamma(pA);bG.set_sharpening(qC);bG.set_svgLineWidthMultiplier(kt);bG.set_debugErrorLevel(pj);bG.nn(C.im());if(qj){bG.set_resourcePath(qj);}if(hT){bG.LA(hT());}else{bG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bG.qF(C.nm());bG.MY(aa===IPCC.Web.UI.MouseTool.HandPan||aa===IPCC.Web.UI.MouseTool.EditMarks);}TC(bG,gR);SY(bG);SL(bG);Tk(bG);SS(bG);bG.openPage({encodedDocumentIdentifier:ap.az.get_encodedDocumentIdentifier(),pageNumber:ap.get_pageNumber(),artServiceOption:0,imGearPage:gR.eV,artPage:gR.aA,documentArtPage:gR.eP,viewRotationDegreesClockwise:gR.fY});gR.xB=true;lV++;}return ly;};function alB(bP){return bP.Gm;};function pp(){if(lV>0||lW===false||iR!==null){return;}if(vk){return;}var cC=hY();if(!cC){return;}bz.forEach(function(ap,aC){if(!ap.gN){return;}C.Jy(aC);});var Ay=ats(cC);IPCC.h.forEach(Ay||[],function(aC){var ap=bz[aC];if(ap){aiE(ap);}});IPCC.h.forEach(cC.dj,function(KB){var bP=bz[KB.aC];if(alB(bP)&& !bP.gN&&bP.Fd){MR(bP);}});ahW(cC);auN();};function ahW(cC){if(!cC){return;}var mX=MD(cC);for(var aC=mX.iK;aC<=mX.kR;aC++){var bP=bz[aC];if(!alB(bP)){bP.Gm=true;var XT=C.aar();var gF=XT.OD(0);var jF=gF.dP.iZ(aC);Jr(jF);ahR(bP,false);}}};function ats(cC){var aCH=rS(cC);var Ay=[];IPCC.h.forEach(aCH,function(aC){var ap=bz[aC];if(ap&&ap.Fd===0){var XT=C.aar();var gF=XT.OD(0);var jF=gF.dP.iZ(aC);Jr(jF);Ay.push(aC);}});return Ay;};function auN(){var uE=bF.scrollTop;var uu=bF.scrollLeft;var wq=bF.clientHeight;var wK=bF.clientWidth;var wZ=bF.scrollWidth;var uG=bF.scrollHeight;var cC=Tg({uE:uE,uu:uu,wq:wq,wK:wK,wZ:wZ,uG:uG});var mX=MD(cC);var ahr=aoG(cC);var mj=0;var qE=0;var BS=false;IPCC.h.forEach(cC.Ih,function(bN){var gq=fg===IPCC.PageLayout.VerticalScrollDirection?bN.ab+eK:bN.aD+fO+gZ;var aC= +bN.aC;if(bN.vn||(dK===IPCC.ViewMode.SinglePage&&aC===cL)){BS=true;return;}if(aC>=mX.iK&&aC<=mX.kR){if(aC>=ahr.iK&&aC<=ahr.kR){return;}if(BS){if(ED(aC,true)> -1){qE+=gq;}}else{if(ED(aC,true)> -1){mj+=gq;}}return;}if(BS){qE+=gq;ED(aC);}else{mj+=gq;ED(aC);}});if(dK===IPCC.ViewMode.SinglePage){return;}if(fg===IPCC.PageLayout.VerticalScrollDirection){am.style.paddingTop=mj+'px';am.style.paddingBottom=qE+'px';}else{am.style.paddingLeft=mj+'px';am.style.paddingRight=qE+'px';}};function ED(bd,auG){var ap=bz[bd];if(!ap){return-1;}if(auG===true&& !ap.gN){return-1;}ap.AI=false;ap.xB=false;ap.gN=false;ap.Fd=0;ap.Gm=false;if(QT&& !ap.eV.dc().ayH()&&OP!==true){ap.eV.ahc();}var Ae=document.getElementById(ap.aT);if(!Ae){return-1;}if(Ae.bS){Ae.bS.dispose();Ae.parentElement.removeChild(Ae);return bd;}else{Ae.parentElement.removeChild(Ae);}return-1;};function MR(bP){var aX=document.getElementById(bP.aT);C.wY(aX,bP.cr);};function aiE(bP){ahR(bP,true);MR(bP);};function ahR(ap,awy){var aX=document.getElementById(ap.aT);if(aX===null){return;}var bG=new IPCC.Web.UI.PageView(aX,false,bF);bG.set_autoUpdate(false);bG.tX(document.getElementById(ap.aT));bG.initialize();bG.set_imageHandlerUrl(ap.az.qm);bG.set_imGearPage(ap.eV);bG.set_artPage(ap.aA);bG.set_requireRequestsOptimize(ve);if(kA!==undefined){bG.set_serviceResponseTimeout(kA);}bG.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bG.set_textRequired(sb);bG.set_markHandleMode(rq);bG.set_debug(_debug);bG.set_gamma(pA);bG.set_sharpening(qC);bG.set_svgLineWidthMultiplier(kt);bG.set_debugErrorLevel(pj);bG.nn(C.im());if(qj){bG.set_resourcePath(qj);}if(hT){bG.LA(hT());}else{bG.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bG.qF(C.nm());bG.MY(aa===IPCC.Web.UI.MouseTool.HandPan||aa===IPCC.Web.UI.MouseTool.EditMarks);TC(bG,ap);SY(bG);SL(bG);Tk(bG);SS(bG);if(awy===true){bG.add_pageOpened(function aFZ(bJ){C.wY(aX,ap.cr);});}if(ap.AI===false&&ap.eV){ap.Gm=true;var xl={encodedDocumentIdentifier:ap.eV.az.get_encodedDocumentIdentifier(),pageNumber:ap.eV.get_pageNumber(),imGearPage:ap.eV,viewRotationDegreesClockwise:ap.fY};if(ap.aA){xl.artPage=ap.aA;}if(ap.eP){xl.documentArtPage=ap.eP;}bG.openPage(xl);ap.xB=true;lV++;}};function aiB(aA,fT){var bn;aA.forEachMark(function(V){switch(V.get_type()){case IPCC.Web.UI.MarkType.Line:var aL=V.get_points();var bM=aL.zR(0);var kj=aL.zR(1);aL.setPoint(0,new IPCC.Web.UI.Point(bM.x*fT,bM.y*fT));aL.setPoint(1,new IPCC.Web.UI.Point(kj.x*fT,kj.y*fT));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.TextSelectionRedaction:bn=V.get_rectangle();V.set_rectangle({x:bn.x*fT,y:bn.y*fT,width:bn.width*fT,height:bn.height*fT});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:bn=V.get_rectangle();V.set_rectangle({x:bn.x*fT,y:bn.y*fT,width:bn.width*fT,height:bn.height*fT});var bC=V.bC,gB;for(var i=0;i<bC.length;i++){gB=bC[i];gB.x=gB.x*fT;gB.y=gB.y*fT;gB.width=gB.width*fT;gB.height=gB.height*fT;}break;default:break;}});};function TC(bG,ap){function atC(sender,evnt){var ael=function(aD,ab,aq){var Tu={'width':aD,'height':ab,'pageNumber':aq};C.ad('pageOpening',Tu);};var cr=evnt.pageNumber;var WB=evnt.documentIdentifier;ap.aW=bG.get_pageWidth();ap.bg=bG.get_pageHeight();var ha=bG.get_pageXResolution();var fX=bG.get_pageYResolution();if(!isNaN(parseFloat(ha))&&isFinite(ha)){ap.gE=ha;}if(!isNaN(parseFloat(fX))&&isFinite(fX)){ap.hE=fX;}bG=null;for(var bd=0;bd<bz.length;bd++){if(lW&&bz[bd].eV.get_pageNumber()===cr&&bz[bd].eV.az.get_documentIdentifier()===WB){bz[bd].xB=false;bz[bd].AI=true;bz[bd].DF=false;if(dK===IPCC.ViewMode.SinglePage){var mD= -1;if(Array.prototype.indexOf){mD=qo.indexOf(bd);}else{mD=IPCC.Web.kD(qo,bd);}if(mD!== -1){qo.splice(mD,1);}}var ajO=false;for(var bE=0;bE<Np.length;bE++){if(Np[bE]===bd){ajO=true;}}if(ajO===false){Np.push(bd);}var mI=0;var mk=0;var aH=document.getElementById(bz[bd].aT);var ae=aH.bS;var ea;var eD;var Tf;if(gs===0&&(bd===0||bz[0].DF===true)){if(aH.currentStyle){nV=parseInt(aH.currentStyle.borderTopWidth,10)||0;eK=parseInt(aH.currentStyle.marginTop,10)||0;lU=parseInt(aH.currentStyle.borderLeftWidth,10)||0;fO=parseInt(aH.currentStyle.marginLeft,10)||0;nI=parseInt(aH.currentStyle.borderBottomWidth,10)||0;iL=parseInt(aH.currentStyle.marginBottom,10)||0;oC=parseInt(aH.currentStyle.borderRightWidth,10)||0;gZ=parseInt(aH.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var ya=document.defaultView.getComputedStyle(aH);nV=parseInt(ya.borderTopWidth,10)||0;eK=parseInt(ya.marginTop,10)||0;lU=parseInt(ya.borderLeftWidth,10)||0;fO=parseInt(ya.marginLeft,10)||0;nI=parseInt(ya.borderBottomWidth,10)||0;iL=parseInt(ya.marginBottom,10)||0;oC=parseInt(ya.borderRightWidth,10)||0;gZ=parseInt(ya.marginRight,10)||0;}if(dK===IPCC.ViewMode.SinglePage){aH.style.margin=eK+'px 0px '+iL+'px 0px';am.style.margin="0px auto";}else{if(fg===IPCC.PageLayout.VerticalScrollDirection){aH.style.margin=eK+'px auto '+iL+'px auto';}else{aH.style.margin=eK+'px '+gZ+'px '+iL+'px '+fO+'px';am.style.margin='0px '+gZ+'px 0px '+fO+'px';}}gs=ae.get_pageWidth();jD=ae.get_pageHeight();ahg=ha;ea=gs;eD=jD;var fd=dn/bz[bd].gE;if(iS(bz[bd].fY)===true){eD=gs;ea=jD;fd=dn/bz[bd].hE;}if(dK===IPCC.ViewMode.SinglePage){var arx=(bF.offsetWidth-(fO+gZ+lU+oC));var arA=(bF.offsetHeight-(eK+iL+nV+nI+aEb));pb=arx/(ea*fd);Tf=arA/(eD*fd);if(Tf<pb){pb=Tf;}ae.zoom(pb*fd);}else if(fg===IPCC.PageLayout.VerticalScrollDirection){pb=(bF.offsetWidth-IPCC.Web.nL()-(fO+gZ+lU+oC))/(ea*fd);ae.zoom(pb*fd);}else{pb=(bF.offsetHeight-IPCC.Web.nL()-(eK+iL+nV+nI))/(eD*fd);ae.zoom(pb*fd);}mI=ea*pb*fd;mk=eD*pb*fd;aH.style.width=mI+'px';aH.style.height=mk+'px';if(dK===IPCC.ViewMode.SinglePage){am.style.width=mI+'px';am.style.height=mk+'px';}if(dK!==IPCC.ViewMode.SinglePage){for(var sV=0;sV<bz.length;sV++){if(bz[sV].gN===false&&sV!==bd){if(bz[sV].aT){aH=document.getElementById(bz[sV].aT);aH.style.width=ea*pb+'px';aH.style.height=eD*pb+'px';if(fg===IPCC.PageLayout.VerticalScrollDirection){aH.style.margin=eK+'px auto '+iL+'px auto';}else{aH.style.margin=eK+'px '+gZ+'px '+iL+'px '+fO+'px';}}}}}dB=pb;ael(ap.aW,ap.bg,cr+1);aH.bS.display();}else{if(dK===IPCC.ViewMode.Document||dK===IPCC.ViewMode.SinglePage){if(iS(bz[bd].fY)===true){mI=ae.get_pageHeight()*dB*dn/bz[bd].gE;mk=ae.get_pageWidth()*dB*dn/bz[bd].hE;}else{mI=ae.get_pageWidth()*dB*dn/bz[bd].gE;mk=ae.get_pageHeight()*dB*dn/bz[bd].hE;}}else{var hk;var aW=ae.get_pageWidth();var bg=ae.get_pageHeight();ea=gs;eD=jD;if(iS(qD)===true){ea=jD;eD=gs;}if(iS(bz[bd].fY)===true){aW=ae.get_pageHeight();bg=ae.get_pageWidth();}if(fg===IPCC.PageLayout.VerticalScrollDirection){hk=ea/aW*dB*dn/bz[0].hE;mI=ea*dB*dn/bz[0].gE;mk=bg*hk;}else{hk=eD/bg*dB*dn/bz[0].gE;mk=eD*dB*dn/bz[0].hE;mI=aW*hk;}}if(mI!==Math.round(mI)){mI=Math.floor(mI*100)/100;}if(mk!==Math.round(mk)){mk=Math.floor(mk*100)/100;}if(aH.style.width!==mI+'px'||aH.style.height!==mk+'px'){if(fg===IPCC.PageLayout.VerticalScrollDirection){aH.style.width=mI+'px';aH.style.height=mk+'px';}else{aH.style.width=mI+'px';aH.style.height=mk+'px';}zy(dm,true);jU(dm,true);}ael(ap.aW,ap.bg,cr+1);}if(mI>gw){gw=mI;if(fg===IPCC.PageLayout.VerticalScrollDirection){bF.scrollLeft=(gw-bF.clientWidth)/2;}}if(mk>hf){hf=mk;if(fg===IPCC.PageLayout.HorizontalScrollDirection){bF.scrollTop=(hf-bF.clientHeight)/2;}}if(bz[bd].FL>0){var ZV=document.getElementById(bz[bd].aT).bS;if(ZV){ZV.rotate(bz[bd].FL);ZV.display();bz[bd].FL=0;}}if(lV>0){lV=lV-1;}if(bz[bd].agb()===true){var jF=bz[bd].eV;var fT=bz[bd].lp()/jF.ajc();if(fT!==1){var aA=C.hz(jF);if(aA){aiB(aA,fT);}}}bz[bd].Wu(false);hY();var KA=new IPCC.OpenPageEventArgs();KA.pageIndex=evnt.pageNumber;KA.imGearPage=evnt.imGearPage;KA.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;KA.pageNodeID=bz[bd].aT;C.ad('pageOpened',KA);break;}}if(lV===0&&nl===null&&iR===null){setTimeout(function(){pp();},60);}};bG.add_pageOpened(atC);};function SY(bG){function atL(aV,bV){if(lW===false){return;}var xe;if(bV.pageNumber>=0){if(bz[bV.pageNumber].aT){xe=bz[bV.pageNumber].aT;}}bz[bV.pageNumber].DF=true;bz[bV.pageNumber].xB=false;bz[bV.pageNumber].AI=false;bz[bV.pageNumber].gN=false;var mQ=new IPCC.ExceptionEventArgs();mQ.exception=bV.exception;mQ.pageIndex=bV.pageNumber;mQ.pageNodeID=xe;C.ad('pageOpenFailed',mQ);if(lV>0){lV=lV-1;if(lV===0){setTimeout(function(){pp();},60);}}};bG.add_pageOpenFailed(atL);};function SL(bG){function arz(aV,bV){if(lW===false){return;}var R=new IPCC.PageEventArgs();R.pageIndex=bV.aq;R.imGearPage=bz[bV.aq].eV;R.pageNodeID=bz[bV.aq].aT;bz[bV.aq].gN=true;if(dK===IPCC.ViewMode.SinglePage){var mD= -1;if(Array.prototype.indexOf){mD=qo.indexOf(bV.aq);}else{mD=IPCC.Web.kD(qo,bV.aq);}if(mD!== -1){qo.splice(mD,1);}}C.ad('pageDisplayed',R);setTimeout(function(){var nX=IPCC.h.filter(dm,function(el){if(dK===IPCC.ViewMode.SinglePage){return bV.aq===el.aq-1&&el.aq-1===cL;}else{return bV.aq===el.aq-1;}});zy(nX);jU(nX);},0);};bG.add_pageDisplayed(arz);};function anT(ap){function GF(aV,bV){if(lW===false){return;}C.ad('textPageReady',{pageIndex:bV.pageNumber,containsText:bV.containsText});var cC=hY();var cK=[];if(cC){cK=rS(cC);}if(bV.containsText===true&&bV.pageNumber>=cK[0]&&bV.pageNumber<=cK[cK.length-1]){if(bz[bV.pageNumber].aA&&bz[bV.pageNumber].aA.get_markCount()>0){var aH=document.getElementById(bz[bV.pageNumber].aT);C.wY(aH,bV.pageNumber);}}};ap.zL(GF);};function apV(ap){function arr(aV,bV){if(lW===false){return;}var eP=bz[bV.pageNumber].eP;ap.ahU().Jc().lj(function(gx){var V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),bn=gx.ff();V.set_rectangle(new IPCC.Web.UI.Rectangle(bn.x,bn.y,bn.width,bn.height));V.set_href(gx.ajx());V.set_lineColor(gx.ayM());V.set_lineWidth(gx.ayS());V.set_borderPattern(gx.ayp());V.set_borderType(gx.axq());V.set_borderHorizontalRadius(gx.axH());V.set_borderVerticalRadius(gx.axZ());V.set_borderOpacity(gx.ayA());eP.addMark(V);gx.aFk(V);});C.ad('hyperlinkPageReady',{pageIndex:bV.pageNumber});var cC=hY();var cK=[];if(cC){cK=rS(cC);}if(bV.pageNumber>=cK[0]&&bV.pageNumber<=cK[cK.length-1]){var aH=document.getElementById(bz[bV.pageNumber].aT);C.wY(aH,bV.pageNumber);}};ap.Uh(arr);};function apf(ap){function FD(aV,bV){if(lW===false){return;}var xe;if(bV.pageNumber>=0){if(bz[bV.pageNumber].aT){xe=bz[bV.pageNumber].aT;}}C.ad('textExtractionFailed',{'exception':bV.exception,'pageIndex':bV.pageNumber,'pageNodeID':xe});};ap.AB(FD);};function Tk(bG){function asc(aV,bV){if(lW===false){return;}var xe;if(isNaN(bV.pageNumber)===false){if(bV.pageNumber>=0){if(bz[bV.pageNumber].aT){xe=bz[bV.pageNumber].aT;}}bz[bV.pageNumber].DF=true;bz[bV.pageNumber].xB=false;bz[bV.pageNumber].AI=false;bz[bV.pageNumber].gN=false;}var mQ=new IPCC.ExceptionEventArgs();mQ.functionName=bV.function_name;mQ.exception=bV.exception;mQ.pageIndex=bV.pageNumber;mQ.pageNodeID=xe;C.ad('exceptionThrown',mQ);if(lV>0){lV=lV-1;if(lV===0){setTimeout(function(){pp();},60);}}};bG.add_exceptionThrown(asc);};function SS(bG){function Fn(aV,bV){C.ad('markCreating',bV);};bG.add_markCreating(Fn);};function asd(bP){function aiU(){if(lW===false){return;}var cC=hY();var cK=[];if(cC){cK=rS(cC);}if(bP.cr>=cK[0]&&bP.cr<=cK[cK.length-1]){var aH=document.getElementById(bP.aT);C.wY(aH,bP.cr);}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;C.ad('marksLoaded',R);};bP.aA.add_marksLoaded(aiU);};function ask(bP){function np(aV,bV){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;R.clientX=bV.clientX;R.clientY=bV.clientY;C.ad('markAdded',R);};bP.aA.add_markAdded(np);};function SJ(bP){var Zr,pu=false,abP,aba;function Jv(L,ep){if(tQ===false){return;}var jZ=xt();aib(L,ep,jZ);jU(dm,true,jZ);};function avZ(L,ep){abP=L;aba=ep;if(pu&& !Zr){Zr=ES(function(){pu=false;Zr=undefined;if(abP&&aba){Jv(abP,aba);}else{Jv(L,ep);}});}};function ot(aV,bV){if(bV.mark.yL===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;R.propertyName=bV.propertyName;C.ad('markChanged',R);var ep=dm[bV.mark.get_markID()];if(ep&&(bV.propertyName==='rectangle'||bV.propertyName==='points'||bV.propertyName==='startPoint'||bV.propertyName==='endPoint')){pu=true;avZ(bV.mark,ep);}else if(ep&&bV.propertyName==='visible'){var azX=bV.mark.get_visible();var SO=(function(dC){return IPCC.h.inArray(Md(),dC.aq-1);})(ep);if(azX&&SO){UQ([ep]);jU(dm,true,xt());}else{OY([ep]);}}};bP.aA.add_markChanged(ot);};function arG(bP){function ail(aV,bV){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;R.oldZIndex=bV.oldZIndex;C.ad('markReordered',R);};bP.aA.add_markReordered(ail);};function atf(bP){function Dg(aV,bV){if(bV.mark.yL===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;C.ad('markSelectionChanged',R);};bP.aA.add_markSelectionChanged(Dg);};function asV(bP){function DZ(aV,bV){if(bV.mark){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;C.ad('markRemoved',R);var ep=dm[bV.mark.get_markID()];if(ep){if(bV.mark.get_conversation()===je){je=null;}ep.cE.parentElement.removeChild(ep.cE);delete dm[bV.mark.get_markID()];jU(dm,true);}}};bP.aA.add_markRemoved(DZ);};function asy(bP){function yY(aV,bV){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.zIndex=bV.zIndex;C.ad('markTextSelectionChanged',R);};bP.aA.add_markTextSelectionChanged(yY);};function aib(L,ep,QY){var bP=bz[ep.aq-1],ap=document.getElementById(bP.aT),Cr=Ub(L,bP.cr+1);if(ap&&ap.bS){var cn=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(Cr.x,Cr.y),true);var qu=(eK*bP.cr);var Ko=(ap.offsetTop-qu+cn.y)/(QY-(eK*bz.length));ep.bn=Cr;ep.Un=Ko;}};function OY(jq,aq){var azB=typeof aq==='undefined';IPCC.h.forEach(jq,function(af){if(af&&(azB||af.pageNumber===aq)){af.cE.style.display='none';af.vn=false;}});};function tn(){if(kI.currentStyle&&kI.currentStyle.display==='none'){return 0;}return kI.clientWidth;};function xt(){if(kI.currentStyle&&kI.currentStyle.display==='none'){return 0;}return kI.offsetHeight;};function UQ(jq,aq){var aDe=typeof aq==='undefined';IPCC.h.forEach(jq,function(el){if(aDe||el.pageNumber===aq){el.cE.style.display='';el.vn=true;if(el&&el.V&&el.V.get_visible()===false){el.cE.style.display='none';el.vn=false;}}});};function zy(jq,abM){if(tQ===false){return;}var Qt=(! !abM)?IPCC.h.filter(dm,function(dC){return IPCC.h.contains(Md(),dC.aq-1);}):jq;var jZ=xt();IPCC.h.forEach(Qt,function(el){aib(el.V,el,jZ);});};function awY(a,b){return(a.bn.y!==b.bn.y)?(a.bn.y-b.bn.y):(a.bn.x!==b.bn.x)?(a.bn.x-b.bn.x):(a.yt-b.yt);};function awH(a,b){return(a.bn.x!==b.bn.x)?(a.bn.x-b.bn.x):(a.bn.y!==b.bn.y)?(b.bn.y-a.bn.y):(a.yt-b.yt);};function awb(a,b){return(a.bn.y!==b.bn.y)?(b.bn.y-a.bn.y):(a.bn.x!==b.bn.x)?(b.bn.x-a.bn.x):(a.yt-b.yt);};function avV(a,b){return(a.bn.x!==b.bn.x)?(b.bn.x-a.bn.x):(a.bn.y!==b.bn.y)?(a.bn.y-b.bn.y):(a.yt-b.yt);};function asu(Xw,jZ,zf){zf=zf||0;var _top,amG,GI,Uo=(eK*bz.length),RN=jZ-Uo;IPCC.h.forEach(Xw,function(dC){GI=(eK*(dC.aq-1));amG=(dC.Un*RN)+GI;_top=Math.max(zf+5,amG);if(dC.cE.style.top!==_top+'px'){dC.cE.style.top=_top+'px';}zf=_top+dC.Yw;});};function arU(Xw,jZ){var Nb,_top,Oj,GI,amZ,Uo=(eK*bz.length),RN=jZ-Uo;IPCC.h.forEach(Xw,function(dC){GI=(eK*(dC.aq-1));Oj=(dC.Un*RN)+GI;if(Nb===undefined){Nb=Oj;}if(dC.V.get_conversation()===je){_top=Oj;amZ=_top+dC.Yw;}else{_top=Math.min(Nb-5-dC.Yw,Oj);}if(dC.cE.style.top!==_top+'px'){dC.cE.style.top=_top+'px';}Nb=_top;});return amZ;};function jU(jq,abM,jZ){if(tQ===false){return;}if(!jZ){jZ=xt();}var aEJ=function(a,b){if(a.aq!==b.aq){return(a.aq-b.aq);}var ap=bz[a.aq-1],es=ap.fY;switch(es){case 90:return awH(a,b);case 180:return awb(a,b);case 270:return avV(a,b);default:return awY(a,b);}};var Qt=(! !abM)?IPCC.h.filter(dm,function(dC){return IPCC.h.inArray(Md(),dC.aq-1);}):jq;UQ(Qt);var awh=IPCC.h.map(Qt,function(dC,be){dC.Yw=dC.cE.offsetHeight;return dC;});var Vt=awh.sort(aEJ);var Sl=[],XJ=[],abT=false;if(je){var azy=dm[je.get_mark().get_markID()];if(!IPCC.h.inArray(Vt,azy)){abT=true;}IPCC.h.forEach(Vt,function(dC){if(abT){XJ.push(dC);}else if(dC.V.get_conversation()===je){Sl.unshift(dC);abT=true;}else{Sl.unshift(dC);}});}else{XJ=Vt;}var zf=0;if(Sl.length){zf=arU(Sl,jZ);}asu(XJ,jZ,zf);};function atN(jq,L,cr){var dC=jq[L.jI()];dC.aq=cr;dC.V=L;dC.bn=Ub(L,cr);dC.yt=L.ee().ou(L);};function EL(L,jq,kK){var ep=jq[L.get_markID()];if(ep){ep.cE.parentElement.replaceChild(kK,ep.cE);ep.cE=kK;}return ep;};function apu(L,jq,kK,arY,aFh,Ko,cr){var ep=new asg();ep.cE=kK;dm[L.get_markID()]=ep;atN(dm,L,cr);ep.Un=Ko;arY.appendChild(kK);return ep;};function Ub(L,aq){var bn=(L.get_boundingRectangle)?L.get_boundingRectangle():{},es=bz[aq-1].fY;switch(es){case 90:return{x:bn.x,y:bn.y+(bn.height||0)};case 180:return{x:bn.x+(bn.width||0),y:bn.y+(bn.height||0)};case 270:return{x:bn.x+(bn.width||0),y:bn.y};default:return{x:bn.x,y:bn.y};}};function aqX(bP){function Ow(aV,bV){var R=new IPCC.Web.UI.CommentEventArgs();R.pageIndex=bP.cr;R.mark=bV.mark;R.index=bV.index;R.comment=bV.comment;var ap=document.getElementById(bP.aT);C.ad('commentAdding',R);setTimeout(function(){var QY=xt(),ep,cE;if(bV.index===0){cE=pq(bV.mark,{isSelected:false},null);if(!cE){return;}else if(!IPCC.h.tN(cE)){throw new Error(cE+' is not a valid HTMLElement');}var Cr=Ub(bV.mark,bP.cr+1),auS=Cr.x,atR=Cr.y;var cn;if(ap&&ap.bS){cn=ap.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(auS,atR),true);}else{cn=new IPCC.Web.UI.Point(0,0);}var qu=(eK*(bP.cr));var Ko=(ajq(bP.cr)-qu+cn.y)/(QY-(eK*bz.length));ep=apu(bV.mark,dm,cE,kI,cn,Ko,bP.cr+1);}else{var Kh=bV.mark.get_conversation()===je;var currentConversationDiv=dm[bV.mark.get_markID()];if(!currentConversationDiv){return;}cE=pq(bV.mark,{isSelected:Kh},currentConversationDiv.cE);if(!cE){return;}else if(!IPCC.h.tN(cE)){throw new Error(cE+' is not a valid HTMLElement');}ep=EL(bV.mark,dm,cE);}if(IPCC.h.contains(Md(),bP.cr)){jU(dm,true,QY);}else{OY([ep]);}C.ad('commentAdded',R);},0);};bP.aA.add_commentAdded(Ow);};function aqK(bP){function OK(aV,bV){var cE=null;if(dm[bV.mark.get_markID()]){cE=dm[bV.mark.get_markID()].cE;var Kh=bV.mark.get_conversation()===je;cE=pq(bV.mark,{isSelected:Kh},cE);}if(!cE){C.ad('commentChanged',bV);return;}else if(!IPCC.h.tN(cE)){throw new Error(cE+' is not a valid HTMLElement');}if(cE){var jZ=xt();EL(bV.mark,dm,cE);jU(dm,true,jZ);}C.ad('commentChanged',bV);};bP.aA.add_commentChanged(OK);};function apS(bP){function PB(aV,bV){var cE=null;if(dm[bV.mark.get_markID()]){cE=dm[bV.mark.get_markID()].cE;}var Kh=bV.mark.get_conversation()===je;cE=pq(bV.mark,{isSelected:Kh},cE);if(IPCC.h.tN(cE)){EL(bV.mark,dm,cE);}else{var ep=dm[bV.mark.get_markID()];if(ep){if(bV.mark.get_conversation()===je){je=null;}ep.cE.parentElement.removeChild(ep.cE);delete dm[bV.mark.get_markID()];}}jU(dm,true);C.ad('commentRemoved',bV);};bP.aA.add_commentRemoved(PB);};function VP(){var ab=jD;var aD=gs;var aGz=function(io){return{width:io.width||(io.right-io.left),height:io.height||(io.bottom-io.top),top:io.top,bottom:io.bottom,left:io.left,right:io.right};};var acx=aGz(bF.getBoundingClientRect());var lQ={height:acx.height/2};lQ.width=lQ.height*aD/ab;if(lQ.width>aD/2){lQ.width=aD/2;}if(lQ.height>ab/2){lQ.height=ab/2;}var abl=8;var amX={height:ab*abl,width:aD*abl};var aoN=aD*dB<lQ.width+5;var anM=aD*dB>amX.width-5;return{min:lQ,max:amX,page:{width:aD,height:ab},viewport:acx,atMin:aoN,atMax:anM,maxFactor:abl,minFactor:lQ.width/aD};};function jo(bU,VD){if(VD){aiR.apply(this,arguments);return;}var ts=(bU<dB)?true:false;var nK=VP();if((nK.atMin&&ts)||(nK.atMax&& !ts)){return;}if(bU>nK.maxFactor){bU=nK.maxFactor;}else if(bU<nK.minFactor){bU=nK.minFactor;}if(!nK.atMax|| !nK.atMin){aiR.apply(this,arguments);}};function aiR(bU,aHA,ay,ck,Go,rf,eC,eS){if(isNaN(bU)||bU<=0||Math.abs(bU)===Infinity){return;}var Sm=cL;var cC=hY();var ts=(bU<dB)?true:false;var gr=0;var hn=bz.length-1;if(dK===IPCC.ViewMode.SinglePage){if(cL-uo>=0){gr=cL-uo;}if(cL+uo<bz.length-1){hn=cL+uo;}}var NX=bU/dB;dB=bU;var Do=bF.getBoundingClientRect();var adJ=(rf&&rf.x!==undefined)?rf.x:bF.scrollLeft+(Do.width/2);var abm=(rf&&rf.y!==undefined)?rf.y:bF.scrollTop+(Do.height/2);var aAP=rf&&rf.x!==undefined&&rf.y!==undefined;gw=0;hf=0;for(var bd=gr;bd<=hn;bd++){var ae;var aH=document.getElementById(bz[bd].aT);if(aH){ae=aH.bS;}else{continue;}if(bd===Sm){var RK=aH.getBoundingClientRect();if(!aAP){if(fg===IPCC.PageLayout.HorizontalScrollDirection&&Do.height>RK.height){abm-=((Do.height-RK.height)/2);}else if(fg===IPCC.PageLayout.VerticalScrollDirection&&Do.width>RK.width){adJ-=((Do.width-RK.width)/2);}}}var gM=bU*dn/bz[bd].gE;var aW=gs;var bg=jD;var ea=gs;var eD=jD;if(iS(qD)===true){ea=jD;eD=gs;}if(bz[bd].lp()>0){if(iS(bz[bd].fY)===true){aW=bz[bd].pk();bg=bz[bd].lp();}else{aW=bz[bd].lp();bg=bz[bd].pk();}}else{gM=bU*dn/bz[0].gE;if(iS(bz[bd].fY)===true){var Ju=aW;aW=bg;bg=Ju;gM=bU*dn/bz[0].hE;}}var IV,Kz,hk;if(dK===IPCC.ViewMode.SinglePage){Kz=aW*gM;IV=bg*gM;aH.style.width=Kz+'px';aH.style.height=IV+'px';if(bd===cL){am.style.width=Kz+'px';am.style.height=IV+'px';}if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.zoom(gM);}}else if(dK===IPCC.ViewMode.Document){Kz=aW*gM;IV=bg*gM;aH.style.width=Kz+'px';aH.style.height=IV+'px';if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.zoom(gM);}if(aW*gM>gw){gw=aW*gM;}if(bg*gM>hf){hf=bg*gM;}}else{gM=bU*dn/bz[0].gE;if(fg===IPCC.PageLayout.VerticalScrollDirection){hk=ea/aW*gM;aH.style.width=ea*gM+'px';aH.style.height=bg*hk+'px';if(ea*gM>gw){gw=ea*gM;}if(bg*gM>hf){hf=bg*gM;}}else{hk=eD/bg*gM;aH.style.height=eD*gM+'px';aH.style.width=aW*hk+'px';if(aW*gM>gw){gw=aW*gM;}if(eD*gM>hf){hf=eD*gM;}}if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.zoom(hk);}}if(ae&&bz[bd].gN===true&&ae.dY()===true){ae.display();if(IPCC.h.us.Am){var ast=bF.style.display;bF.style.display='none';bF.style.display=ast;atG();}}}if(fg===IPCC.PageLayout.VerticalScrollDirection){MZ=bF.scrollTop;}else{MZ=bF.scrollLeft;}var Rf,Nr,Om=0,Na=0;if(Go){Rf=Go.offsetLeft+NX*ay;Nr=Go.offsetTop+NX*ck;bF.scrollLeft=Rf-(bF.clientWidth/2)+Om;bF.scrollTop=Nr-(bF.clientHeight/2)+Na;avN(cC);}else{if(fg===IPCC.PageLayout.VerticalScrollDirection){Na=eK*(Sm+1);}else{Om=gZ+((fO+gZ)*(Sm+1));}Rf=NX*(adJ-Om);Nr=NX*(abm-Na);ajo(cC);bF.scrollLeft=Rf-(bF.clientWidth/2)+Om;bF.scrollTop=Nr-(bF.clientHeight/2)+Na;}if(dK!==IPCC.ViewMode.SinglePage&&(eC===IPCC.ScaleTrigger.Pinch||ts===true)){pp();}jU(dm,true);C.ad('scaleChanged',{scaleType:(ts)?"scaledDown":"scaledUp",scaleTrigger:eC,fitType:eS,scaleFactor:dB});};function atG(){var dummy=document.createElement('div');setTimeout(function(){bF.appendChild(dummy);bF.removeChild(dummy);},0);};function aky(bi,ec,eh,ey){var he=bi.igElements;ey=ey||QJ(bi);if(ey&&(ey.right-ey.left)>0&&(ey.bottom-ey.top)>0){return new IPCC.Web.UI.Point(ec+ey.left+he.mU.scrollLeft,eh+ey.top+he.mU.scrollTop);}else{return;}};function QJ(bi){var he=bi.igElements;var ey=null;if(!bi|| !he|| !he.nY){return null;}if(he.nY.getBoundingClientRect){try{ey=he.nY.getBoundingClientRect();}catch(aI){return;}}else{var fm=he.nY;var wz=document.documentElement;ey={left:wz.clientLeft-wz.scrollLeft,top:wz.clientTop-wz.scrollTop};fm=fm.offsetParent;while(fm){ey.top+=fm.offsetTop-fm.scrollTop;ey.left+=fm.offsetLeft-fm.scrollLeft;fm=fm.offsetParent;}}return ey;};function akP(){var cT=C.nt();var OZ=cT.id;var xY;var yv;var mB;var Xo;var WO;var aJ=false;var bi;var oK=[];var tO= -1;var hC=0;var nS;var Cc;var Aw;var nq={x:0,y:0};var nj=0;var cd=0;var tE=null;var um=null;if(am===''){bF=gy({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});bF.className='pccPageListContainerWrapper';bF.tabIndex=2;var XE=function(ec,eh){return IPCC.h.getPageFromPoint(ec,eh,bF)||false;};var ZE=function(bi,ec,eh){var he=bi.igElements;var ey=QJ(bi);if(ey&&(ey.right-ey.left)>0&&(ey.bottom-ey.top)>0){return new IPCC.Web.UI.Point(ec-ey.left-he.mU.scrollLeft,eh-ey.top-he.mU.scrollTop);}else{return;}};var aCC=function(pQ){pQ.LA([new IPCC.kF(IPCC.Web.UI.MarkType.Text)]);};var aBD=function(pQ){pQ.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var Lx=false,aEM="";var anb=function aHq(aI,jC,ap){if(jC.match(/edit/)){Lx=true;return;}aCC(ap.bS);Lx=true;aEM=jC;ap.bS.Ip("touchstart",aI);};var alH=function(ap){Lx=false;aBD(ap.bS);};var Yo=function(aI){if(aI.target&&aI.target.attributes&&aI.target.getAttribute('data-pcc-mark')){return aI.target;}else if(aI.target.parentElement&&aI.target.parentElement.attributes&&aI.target.parentElement.getAttribute('data-pcc-mark')){return aI.target.parentElement;}else if(aI.target.parentNode&&aI.target.parentNode.attributes&&aI.target.parentNode.getAttribute('data-pcc-mark')){return aI.target.parentNode;}else{return undefined;}};var ZK=function(aI){var cG=Yo(aI);if(cG){return cG.getAttribute('data-pcc-mark');}return undefined;};var ahE=function(pQ){if(pQ&&pQ.ee()){pQ.ee().Bp(function(V){V.set_selected(false);});pQ.display();}};var KI,UU=false;var Rj=function(aI,R){var mZ={dI:undefined,V:undefined,bm:null};var kL=Yo(aI);if(kL){if(typeof bi!=='undefined'&&bi!==false&&bi.bS&&bi.igElements&&bi.bS.dY()===true){mZ.bm=bi.bS.pa();}if(kL.ImGearMarkRelation){mZ.dI='mark';mZ.V=kL.ImGearMarkRelation.V;mZ.YQ=mZ.V.get_selected();return mZ;}else{while(!(kL.ImGearMarkRelation)&&kL.parentNode&&kL!==document.body){kL=kL.parentNode;if(kL.ImGearMarkRelation){mZ.dI='mark';mZ.V=kL.ImGearMarkRelation.V;mZ.YQ=mZ.V.get_selected();return mZ;}}}}if(typeof bi!=='undefined'&&bi!==false&&bi.bS&&bi.igElements&&bi.bS.dY()===true){mZ.bm=bi.bS.pa();var bm=0;for(bm=0;bm<bz.length;bm++){if(bz[bm].aT===bi.id){if(typeof R.targetType==='undefined'||R.targetType===null){mZ.dI='page';return mZ;}break;}}}return mZ;};var MV=function(bm,sg,km,aAf){if(aZ===null||aZ===undefined){return;}var Rc=false;if(sg===undefined){sg=aZ.sg;Rc=true;}if(km===undefined){km=aZ.km;Rc=true;}var V;var ap=document.getElementById(bz[bm].aT);if(aAf===true){V=aZ.yq;}else{V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);V.set_rectangle({x:0,y:0,width:0,height:0});V.co=127;V.fE='#3366CC';V.bC=null;ap.bS.mp().addMark(V);}V.set_selected(true);if(Rc===true){if(aZ.gr===aZ.hn){V.bB=hC;V.dv=km-hC+1;V.lB=true;V.lz=true;ap.bS.display();}else if(bm===aZ.gr){V.bB=hC;V.dv=ap.bS.dc().hF().eY()-1-sg;V.lB=true;V.lz=false;ap.bS.display();}else if(bm===aZ.hn){V.bB=0;V.dv=km+1;V.lB=false;V.lz=true;ap.bS.display();}else{V.bB=0;V.dv=ap.bS.dc().hF().eY()-1-hC;V.lB=false;V.lz=false;}}else{if(aZ.gr===aZ.hn){V.lB=true;V.lz=true;}else if(bm===aZ.gr){V.lB=true;V.lz=false;}else if(bm===aZ.hn){V.lB=false;V.lz=true;}else{V.lB=false;V.lz=false;}}aZ.eU[bm]=V;};var alb=function(cG,ay,ck,Qq){if(cG){var QX=cG.getBoundingClientRect();ay=IPCC.h.Ni(ay,QX.left+Qq);ay=IPCC.h.PY(ay,QX.right-Qq);ck=IPCC.h.Ni(ck,QX.top+Qq);ck=IPCC.h.PY(ck,QX.bottom-Qq);}return{x:ay,y:ck};};var jQ=function(aI){if(Aw){if(Aw.clientX===aI.clientX&&Aw.clientY===aI.clientY){if(aI.rawEvent.preventDefault){aI.rawEvent.preventDefault();}else if(aI.preventDefault){aI.preventDefault();}if(aI.rawEvent.stopPropagation){aI.rawEvent.stopPropagation();}else if(aI.stopPropagation){aI.stopPropagation();}UU=true;Aw=undefined;return false;}}KI=aI;agz(aI,aI.clientX,aI.clientY,aI.button);};var afS=function(aI,R){mB=Rj(aI,R);};var agz=function(aI,ec,eh,oY){var R=new IPCC.Web.UI.MouseEventArgs();bi=XE(ec,eh);afS(aI,R);var jC;var kL=Yo(aI);if(kL){jC=kL.getAttribute('data-pcc-mark');}var WI=false;var NH=jC&&jC.substring(0,10);if(jC&&NH==='texthandle'){Cc=true;WI=true;NH=jC.substring(10,13);var V=kL.parentNode.ImGearMarkRelation.V;if(aZ&&V.bC===null){oK=aZ.sj.slice();oK[R.pageIndex]=undefined;}else{aZ=null;oK=[];C.vd();}var aej=function(azW){hC=aZ.sg;var J;for(J=aZ.hn;J>=aZ.gr;J--){var ap=document.getElementById(bz[J].aT);if(ap.bS===undefined||ap.bS===null){continue;}var ym=hC;if(J!==aZ.gr){ym=0;}var rG;if(J===aZ.hn){rG=aZ.km;}else{rG=ap.bS.get_textPage().hF().eY()-1;}azW(ap,ym,rG);if(J!==aZ.qt){MV(J);}}tE=aa;aa=IPCC.Web.UI.MouseTool.SelectText;aJ=true;};var J,bm,aA,Nx,dZ,su,dF;if(NH==='sta'){if(aZ===null||aZ===undefined){bm=V.bm;aZ={};aZ.eU=[];aZ.gr=bm;aZ.sg=V.bB;hC=V.bB;while(bm<bz.length){aA=bz[bm].aA;Nx=aA.get_markCount();for(J=0;J<Nx;J++){dZ=aA.getMark(J);if(V.aY===dZ.aY&&dZ.get_type()===V.get_type()){aZ.eU[bm]=dZ;for(su=dZ.bC.length-1;su>=0;su--){if(dZ.bC[su].set_visible){dZ.bC[su].set_visible(false);}else{dZ.set_visible(false);break;}}if(bm===V.bm){um=dZ;}else{oK[bm]=dF.substring(dZ.bB,dZ.dv);dZ.set_selected(false);}dF=dZ.dF.substring(dZ.dv);if(dZ.lz===true){aZ.km=dZ.bB+dZ.dv-1;aZ.hn=bm;break;}}}bm++;}}nS=aZ.km+1;nj=aZ.hn;var ayI=function(ap,ym,rG){ap.bS.showEmptyTextSelection(rG+1);ap.bS.extendTextSelection(undefined);ap.bS.extendTextSelection(rG);ap.bS.extendTextSelection(ym);};aZ.eU[aZ.gr].yL=true;aZ.qt=aZ.gr;aZ.yq=aZ.eU[aZ.gr];aej(ayI);}else if(NH==='end'){if(aZ===null||aZ===undefined){bm=V.bm;aZ={};aZ.eU=[];aZ.hn=bm;aZ.km=V.bB+V.dv-1;while(bm>=0){aA=bz[bm].aA;Nx=aA.get_markCount();for(J=0;J<Nx;J++){dZ=aA.getMark(J);if(V.aY===dZ.aY&&dZ.get_type()===V.get_type()){aZ.eU[bm]=dZ;for(su=dZ.bC.length-1;su>=0;su--){if(dZ.bC[su].set_visible){dZ.bC[su].set_visible(false);}else{dZ.set_visible(false);break;}}if(bm===V.bm){dF=dZ.dF;}else{oK[bm]=dF.substring(dF.length-dZ.dv);dZ.set_selected(false);}dF=dZ.dF.substring(0,dF.length-dZ.dv);if(dZ.lB===true){aZ.sg=dZ.bB;hC=dZ.bB;aZ.gr=bm;um=dZ;break;}}}bm--;}}nS=aZ.sg;nj=aZ.gr;var axm=function(ap,ym,rG){ap.bS.showEmptyTextSelection(ym);ap.bS.extendTextSelection(undefined);ap.bS.extendTextSelection(ym);ap.bS.extendTextSelection(rG);};aZ.eU[aZ.hn].yL=true;aZ.qt=aZ.hn;aZ.yq=aZ.eU[aZ.hn];aej(axm);}if(um){bi.bS.display();}}var zP=aI.target.tagName&&aI.target.tagName.toLowerCase()==='textarea';if(zP){return;}var Au=aI.target.tagName&&aI.target.tagName.toLowerCase()==='input'&&aI.target.type&&aI.target.type.toLowerCase()==='text';if(Au){return;}if(aa===IPCC.Web.UI.MouseTool.HandPan&&AK&&jC&&WI===false){if(!mB||mB.V.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){anb(aI,jC,bi);return;}}var dQ;var fw;if(bi!==false&&bi.bS&&bi.igElements&&bi.bS.dY()===true){var aE=0;for(aE=0;aE<bz.length;aE++){if(bz[aE].aT===bi.id){R.pageIndex=aE;break;}}R.pointLiesWithinImage=true;fw=ZE(bi,ec,eh);if(fw){dQ=bi.bS.MJ(fw,false);R.imagePoint=dQ;R.constrainedImagePoint=dQ;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}R.domEvent=aI;R.windowPoint=new IPCC.Web.UI.Point(ec,eh);if(WI===true){tO= -1;cd=R.pageIndex;aI.preventDefault();C.ad('mouseDown',R);return;}switch(aa){case IPCC.Web.UI.MouseTool.None:aI.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aI.preventDefault();xY=eh;yv=ec;Xo=bF.scrollTop;WO=bF.scrollLeft;aJ=true;C.CL(am,'grabbing');if(bi&&bi.bS){C.CL(bi,'grabbing');bi.bS.set_cursor('grabbing');bi.bS.display();}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aI.preventDefault();if(oY===0&&bi&&bi.bS&&dQ){C.vd();oK=[];tO= -1;Cc=undefined;hC=undefined;nS=undefined;aJ=true;nq=R.windowPoint;}break;case IPCC.Web.UI.MouseTool.Magnifier:aI.preventDefault();if(oY===0&&bi&&bi.bS&&fw){var ku=IPCC.bh.dW(IPCC.bh.None);am.style.cursor=ku;bi.bS.showMagnifier(fw);bi.bS.display();}aJ=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aI.preventDefault();if(oY===0&&bi&&bi.bS&&dQ){aJ=true;xY=fw.y;yv=fw.x;bi.bS.showEmptySelection(dQ);bi.bS.display();}break;}C.ad('mouseDown',R);};var lg=function(aI){ahs(aI,aI.clientX,aI.clientY,aI.button);};var ajm=function(R,ec,eh,ce){R.windowPoint=new IPCC.Web.UI.Point(ec,eh);ce=XE(ec,eh);var dQ,fw;if(ce!==false&&ce.bS&&ce.igElements&&ce.bS.dY()===true){R.pointLiesWithinImage=true;fw=ZE(ce,ec,eh);if(fw){dQ=ce.bS.MJ(fw,false);R.imagePoint=dQ;R.constrainedImagePoint=dQ;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}return{R:R,ec:ec,eh:eh,ce:ce,dQ:dQ,fw:fw};};var ahs=function(aI,ec,eh,oY){var zP=aI.target.tagName&&aI.target.tagName.toLowerCase()==='textarea';if(zP){return;}var Au=aI.target.tagName&&aI.target.tagName.toLowerCase()==='input'&&aI.target.type&&aI.target.type.toLowerCase()==='text';if(Au){return;}var R=new IPCC.Web.UI.MouseEventArgs();var dQ,fw,ce;var IP=function(ec,eh){var oE=ajm(R,ec,eh,ce);R=oE.R;R.domEvent=aI;ec=oE.ec;eh=oE.eh;ce=oE.ce;dQ=oE.dQ;fw=oE.fw;};IP(ec,eh);var kL=Rj(aI,R);if(kL&&kL.V){R.mark=kL.V;}var ku;switch(aa){case IPCC.Web.UI.MouseTool.None:aI.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aI.preventDefault();if(aJ){var aqN=eh;var aqB=ec;var avt=xY-aqN;var awk=yv-aqB;bF.scrollTop=Xo+avt;bF.scrollLeft=WO+awk;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:aI.preventDefault();if(aJ){if(oY!==0){yx();}var gc;if(!ce){C.ad('mouseMove',R);return;}if(hC===undefined){bi=ce;}else if(ce!==bi&&ce.bS&&fw){tO= -1;var kp=0;var J=0;for(J=0;J<bz.length;J++){if(bz[J].aT===ce.id){kp=J;break;}}if(kp>cd){if(kp>nj){gc=bi.bS.get_textPage().hF().eY()-1;if(gc<0){yx();C.ad('mouseMove',R);return;}bi.bS.extendTextSelection(gc);if(aZ){gc=bi.bS.get_textPage().hF().eY()-1;aZ.eU[cd].set_startIndex(bi.bS.PF());aZ.eU[cd].set_textLength(bi.bS.Bx());aZ.hn=kp;hC=bi.bS.PF();}oK[cd]=bi.bS.getSelectedText();ce.bS.showEmptyTextSelection(0);ce.bS.extendTextSelection(undefined);tO=0;bi.bS.display();bi=ce;}else{hC=0;oK[cd]=undefined;oK[kp]=undefined;bi.bS.showEmptyTextSelection(0);bi.bS.extendTextSelection(undefined);if(aZ&&aZ.eU[cd]){aZ.eU[cd].lB=false;}bi.bS.display();bi=ce;if(aZ&&aZ.eU[cd]){aZ.eU[cd]=undefined;aZ.gr=kp;aZ.eU[kp].set_startIndex(0);aZ.eU[kp].set_textLength(aZ.eU[kp].get_startIndex()+aZ.eU[kp].get_textLength());aZ.eU[kp].lB=true;bi.bS.display();}}}else if(kp<cd){if(kp<nj){gc=bi.bS.get_currentTextIndex();if(gc!==0){bi.bS.extendTextSelection(0);}if(aZ){aZ.eU[cd].set_startIndex(bi.bS.PF());aZ.eU[cd].set_textLength(bi.bS.Bx());aZ.gr=kp;}oK[cd]=bi.bS.getSelectedText();bi.bS.display();gc=ce.bS.dc().hF().eY()-1;tO=gc;hC=0;ce.bS.showEmptyTextSelection(gc+1);ce.bS.extendTextSelection(undefined);bi=ce;bi.bS.display();}else{oK[cd]=undefined;oK[kp]=undefined;bi.bS.showEmptyTextSelection(0);bi.bS.extendTextSelection(undefined);if(aZ&&aZ.eU[cd]){aZ.eU[cd].lz=false;}bi.bS.display();bi=ce;if(aZ&&aZ.eU[cd]){aZ.eU[cd]=undefined;aZ.hn=kp;gc=bi.bS.dc().hF().eY()-1;aZ.eU[kp].set_textLength(ce.bS.Bx());aZ.eU[kp].lz=true;bi.bS.display();}}}cd=kp;}var atd=(cd<nj),arw=(cd>nj);if(bi&&bi.bS&&bi.bS.dY()===true&&fw){fw=ZE(bi,ec,eh);dQ=bi.bS.MJ(fw,false);var dG=bi.bS.transformPagePointToTextIndex(dQ);if(hC===undefined){if(dG===undefined){C.ad('mouseMove',R);return;}var Zd=function(ap,uT){var xG=ap.bS.dc();var hm=xG.hF();var eQ=hm.jM(uT);return eQ.sd();};var sX=Zd(bi,dG);var abd=bi.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(sX.x,sX.y),true);var abg=bi.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(sX.x+sX.width,sX.y+sX.height),true);var aaU=abg.x-abd.x;var aDd=(fw.x>abd.x+(aaU*0.3)&&fw.x<abg.x-(aaU*0.3));if(aDd){hC=dG;nS=dG;bi.bS.showEmptyTextSelection(dG);bi.bS.extendTextSelection(undefined);bi.bS.extendTextSelection(dG);bi.bS.display();var bE=0;for(bE=0;bE<bz.length;bE++){if(bz[bE].aT===bi.id){nj=bE;cd=bE;break;}}}else{C.ad('mouseMove',R);return;}}else{if(hC=== +hC&&dG=== +dG){if(atd){hC=dG;}else if(!arw){hC=Math.min(nS,dG);}}}gc=bi.bS.get_currentTextIndex();if(gc===dG||dG===undefined){C.ad('mouseMove',R);return;}if(tO!== -1){if(dG!==tO){bi.bS.extendTextSelection(tO);}tO= -1;}if((dG>nS&&cd===nj)||cd>nj){if(aZ){if(aZ.eU[cd]===undefined||aZ.eU[cd]===null){MV(cd,0,0,cd===aZ.qt);if(cd-1>=0&&aZ.eU[cd-1]){aZ.eU[cd-1].lz=false;document.getElementById(bz[cd-1].aT).bS.display();}}aZ.eU[cd].lz=true;}if(Cc===undefined){Cc=false;}}else if(dG<nS||cd<nj){if(aZ){if(aZ.eU[cd]===undefined||aZ.eU[cd]===null){MV(cd,bi.bS.dc().hF().eY()-1,0,cd===aZ.qt);if(aZ.eU[cd+1]){aZ.eU[cd+1].lB=false;document.getElementById(bz[cd+1].aT).bS.display();}}aZ.eU[cd].lB=true;}if(Cc===undefined){Cc=true;nS++;bi.bS.showEmptyTextSelection(nS);bi.bS.extendTextSelection(undefined);var rG=bi.bS.dc().hF().eY();if(nS>=rG){bi.bS.extendTextSelection(rG-1);}else{bi.bS.extendTextSelection(nS);}}}bi.bS.extendTextSelection(dG);if(aZ&&aZ.eU[cd]){aZ.eU[cd].set_startIndex(bi.bS.PF());aZ.eU[cd].set_textLength(bi.bS.Bx());}bi.bS.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:aI.preventDefault();if(aJ){if(oY!==0||(bi&&bi.bS&&bi!==ce)){bi.bS.hideMagnifier();ku=IPCC.bh.dW(IPCC.bh.Magnifier);am.style.cursor=ku;bi.bS.display();}if(ce&&ce.bS&&fw){bi=ce;ku=IPCC.bh.dW(IPCC.bh.None);am.style.cursor=ku;ce.bS.showMagnifier(fw);ce.bS.display();}}break;case IPCC.Web.UI.MouseTool.RectangleZoom:aI.preventDefault();if(aJ){var HF=alb(bi,ec,eh,1);IP(HF.x,HF.y);if(ce&&ce.bS&&dQ&&ce===bi){if(oY!==0){ce.bS.hideSelection();ce.bS.display();aJ=false;}else{ce.bS.extendSelection(dQ);ce.bS.display();}}}break;}C.ad('mouseMove',R);};var kN=function(aI){if(UU!==true){Wn(aI,aI.clientX,aI.clientY);}else{UU=false;}};var agA=function(aI,R){R.upTargetType=null;var Ce=Rj(aI,R);R.originalEvent=aI.rawEvent;R.clientX=aI.clientX;R.clientY=aI.clientY;R.downTarget={type:undefined,pageIndex:undefined};if(typeof mB!=='undefined'&&typeof mB.dI!=='undefined'){R.downTarget.type=mB.dI;}if(typeof mB!=='undefined'&&typeof mB.bm!=='undefined'){R.downTarget.pageIndex=mB.bm;}if(typeof mB!=='undefined'&&typeof mB.YQ!=='undefined'){R.downTarget.alreadySelected=mB.YQ;}R.downMark=(typeof mB!=='undefined')?mB.V:undefined;R.upMark=Ce.V;switch(Ce.dI){case 'page':case 'mark':R.upTarget={type:Ce.dI,pageIndex:Ce.bm};break;}if(R.pointLiesWithinImage===false&&Ce.dI==='page'){Ce.bm= -1;}};var Wn=function(aI,ec,eh){var R=new IPCC.Web.UI.MouseEventArgs();var ce;var dQ;var fw;var IP=function(ec,eh){var oE=ajm(R,ec,eh,ce);R=oE.R;R.domEvent=aI;ec=oE.ec;eh=oE.eh;ce=oE.ce;dQ=oE.dQ;fw=oE.fw;};IP(ec,eh);if(aI){agA(aI,R);C.ad('mouseUp',R);}mB=undefined;var ku;switch(aa){case IPCC.Web.UI.MouseTool.None:aI.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:aI.preventDefault();if(aJ){yv=undefined;xY=undefined;Xo=undefined;WO=undefined;aJ=false;ku='move';C.CL(am,'grab');if(bi&&bi.bS){C.CL(bi,'grab');bi.bS.set_cursor('grab');bi.bS.display();}}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(aI){aI.preventDefault();}var xD=R.windowPoint.x-nq.x;var yD=R.windowPoint.y-nq.y;if(xD===0&&yD===0){yx();}if(aJ){var qI=new IPCC.Web.UI.TextSelectedEventArgs(),hV=[],J,yl,xE;var km;var IZ=bi.bS.getSelectedText();var sj=oK.slice();if(IZ.length>0){sj[cd]=bi.bS.getSelectedText();}else{if(cd>nj){cd--;bi=document.getElementById(bz[cd].aT);if(sj[cd]){IZ=sj[cd];}}else if(cd<nj){cd++;bi=document.getElementById(bz[cd].aT);if(sj[cd]){IZ=sj[cd];}}}qI.text=sj.join('');var SA=true;if(cd>=nj){if(cd===nj){if(bi.bS.get_currentTextIndex()>=nS){SA=false;}km=hC+IZ.length-1;}else{km=IZ.length-1;}if(km<0){km=0;}yl=nj;xE=cd;}else{SA=false;km=nS-1;yl=cd;xE=nj;}for(J=yl;J<=xE;J++){hV.push(J);}if(qI.text.length===0){yx();hV=[];}qI.pageNumbers=hV;qI.clientX=ec;qI.clientY=eh;if(hC!==undefined){if(aa===IPCC.Web.UI.MouseTool.SelectText){var Zd=function(ap,uT){var xG=ap.bS.dc();var hm=xG.hF();var eQ=hm.jM(uT);return eQ.sd();};var gc=bi.bS.get_currentTextIndex();var sX=Zd(bi,gc);var fc=0,fl=0;if(SA===false){fc=sX.width;fl=sX.height;}var Eb=bi.bS.transformPagePointToWindow(new IPCC.Web.UI.Point(sX.x+fc,sX.y+fl),true);var cn=aky(bi,Eb.x,Eb.y);qI.handleClientX=cn.x;qI.handleClientY=cn.y;}var apo=aZ===undefined||aZ===null;if(um){qI.previousFirstMark=um;qI.firstMark=aZ.eU[yl];if(aZ.qt<yl||aZ.qt>xE){var GS=document.getElementById(bz[aZ.qt].aT);if(GS.bS){GS.bS.mp().removeMark(aZ.yq);}}aZ.yq.yL=false;C.vd();if(tE!==null){aa=tE;}tE=null;}else if(apo===true){if(aa===IPCC.Web.UI.MouseTool.SelectText){aZ={gr:yl,sg:hC,hn:xE,km:km,sj:sj.slice(),eU:[]};for(J=0;J<hV.length;J++){MV(hV[J]);}}else{C.vd();}}else{if(aZ.qt<yl||aZ.qt>xE){var ahu=document.getElementById(bz[aZ.qt].aT);if(ahu.bS){ahu.bS.mp().removeMark(aZ.yq);}}aZ.yq.yL=false;aZ.gr=yl;aZ.sg=hC;aZ.hn=xE;aZ.km=km;aZ.sj=sj.slice();if(tE!==null){aa=tE;}tE=null;}qI.mouseTool=aa;qI.startIndex=hC;C.ad('selectTextMouseToolCompleted',qI);if(um){um=null;aZ=null;}}aJ=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:aI.preventDefault();if(ce&&ce.bS){ce.bS.hideMagnifier();ku=IPCC.bh.dW(IPCC.bh.Magnifier);am.style.cursor=ku;ce.bS.display();}aJ=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:aI.preventDefault();var HF=alb(bi,ec,eh,1);IP(HF.x,HF.y);if(aJ&&fw){var Cl=0;var AY=0;var aag=0;var aas=0;if(fw.x<yv){Cl=yv-fw.x;aag=fw.x+Cl/2;}else{Cl=fw.x-yv;aag=yv+Cl/2;}if(fw.y<xY){AY=xY-fw.y;aas=fw.y+AY/2;}else{AY=fw.y-xY;aas=xY+AY/2;}var afz=bF.clientWidth/Cl;var aen=bF.clientHeight/AY;var pP=afz;if(afz>aen){pP=aen;}if(ce&&ce.bS){ce.bS.pf();ce.bS.display();}aJ=false;if(Cl*2+AY*2>25){C.arn(pP,aag,aas,ce);}}break;}var zP=false;var Au=false;if(aI){zP=aI.target.tagName&&aI.target.tagName.toLowerCase()==='textarea';Au=aI.target.tagName&&aI.target.tagName.toLowerCase()==='input'&&aI.target.type&&aI.target.type.toLowerCase()==='text';}if(Lx&& !zP&& !Au){alH(bi);}else if(aa===IPCC.Web.UI.MouseTool.HandPan&&KI&& !zP&& !Au&&aI&&KI.clientX===aI.clientX&&KI.clientY===aI.clientY&&aI.shiftKey!==true&&aI.ctrlKey!==true){ahE(bi.bS);}};var aAG=function(){var ku;switch(aa){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:C.CL(am,'grab');aJ=false;break;case IPCC.Web.UI.MouseTool.SelectText:yx();break;case IPCC.Web.UI.MouseTool.Magnifier:if(bi&&bi.bS){bi.bS.hideMagnifier();ku=IPCC.bh.dW(IPCC.bh.Magnifier);am.style.cursor=ku;bi.bS.display();}aJ=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(bi&&bi.bS){bi.bS.hideSelection();bi.bS.display();aJ=false;}break;}};var awn=function(){aAG();};var arp=function(){if(aa===IPCC.Web.UI.MouseTool.Magnifier){if(bi&&bi.bS){bi.bS.hideMagnifier();var ku=IPCC.bh.dW(IPCC.bh.Magnifier);am.style.cursor=ku;bi.bS.display();}aJ=false;}else if(aa===IPCC.Web.UI.MouseTool.RectangleZoom){if(bi&&bi.bS){bi.bS.hideSelection();bi.bS.display();aJ=false;}}else if(aa===IPCC.Web.UI.MouseTool.SelectText){yx();}};var mn=function(aI){if(aI.ctrlKey){switch(aa){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var NY=aI.rawEvent.wheelDelta;aI.preventDefault();if(NY<0){C.zoomOut(1.5);}else{C.zoomIn(1.5);}break;}}else{aI.preventDefault();bF.scrollTop-=aI.rawEvent.wheelDelta*0.72;}if(aa===IPCC.Web.UI.MouseTool.Magnifier){if(bi&&bi.bS){bi.bS.hideMagnifier();var ku=IPCC.bh.dW(IPCC.bh.Magnifier);am.style.cursor=ku;bi.bS.display();}aJ=false;}else if(aa===IPCC.Web.UI.MouseTool.RectangleZoom){if(bi&&bi.bS){bi.bS.hideSelection();bi.bS.display();aJ=false;}}else if(aa===IPCC.Web.UI.MouseTool.SelectText){yx();}};var aAC=function(bJ){var R=new IPCC.Web.UI.MouseEventArgs();R.upTarget={type:'comments',element:bJ.target};R.downTarget={type:'comments',element:bJ.target};R.originalEvent=bJ.rawEvent;R.clientX=bJ.clientX;R.clientY=bJ.clientY;R.pageIndex=undefined;C.ad('mouseUp',R);};var yx=function(){if(aJ===true){if(aZ&&aZ.qt!==undefined){if(um){Wn(null,0,0);return;}else{var GS=document.getElementById(bz[aZ.qt].aT);if(GS.bS){GS.bS.mp().removeMark(aZ.yq);}aZ.yq.yL=false;}}C.vd();um=null;aJ=false;if(tE!==null){aa=tE;}tE=null;}};Ct=gy({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(dK===IPCC.ViewMode.SinglePage){am=gy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});am.className='pccPageListContainer pccSinglePageView';}else{am=gy({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});am.className='pccPageListContainer';}IPCC.Web.UI.al.addHandler(bF,"mousedown",jQ);IPCC.Web.UI.al.addHandler(bF,"mouseup",kN);IPCC.Web.UI.al.addHandler(bF,"mousemove",lg);IPCC.Web.UI.al.addHandler(bF,"mouseleave",awn);IPCC.Web.UI.al.addHandler(bF,"mousewheel",mn);IPCC.Web.UI.al.addHandler(bF,"DOMMouseScroll",arp);bF.onscroll=(! !ES)?auC:auo;am.setAttribute('id',OZ+'_ListContainer');bF.setAttribute('id',OZ+'_ListWrapper');atO=OZ+'_ListWrapper';kI=gy();kI.className='pccPageListComments pccHidden';kI.setAttribute('id',OZ+'_CommentsPanel');var UN=[];if(IPCC.h.aBZ){UN.push('touchend');}else{UN.push('click');}IPCC.h.forEach(UN,function(evName){IPCC.Web.UI.al.addHandler(kI,evName,aAC);});Ct.appendChild(am);Ct.appendChild(kI);bF.appendChild(Ct);cT.appendChild(bF);if(navigator.userAgent.match('MSIE 10')&&document.documentMode===10){var aD='',ab='',sz='',sx='',pG;var xn=function(){pG=getComputedStyle(cT);sz=pG.getPropertyValue('width');sx=pG.getPropertyValue('height');if(sz!==aD||sx!==ab){aD=sz;ab=sx;bF.style.width=aD;bF.style.height=ab;}};setInterval(xn,1000);window.addEventListener('resize',xn);xn();C.xn=xn;}var aAm=IPCC.h.Hj;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aAm&&window.addEventListener&&document.querySelector){auT(bF);}var aAk=function(am,aHM){var lv;var Wv=function(bJ){var dr=bJ.rawEvent,gQ=dr.touches[0]||dr.changedTouches[0];bJ.clientX=gQ.clientX;bJ.clientY=gQ.clientY;bJ.preventDefault=function(){dr.preventDefault();};bJ.stopPropagation=function(){dr.stopPropagation();};return bJ;};var Gn=function(jt,bJ){var R=new IPCC.Web.UI.MouseEventArgs(),Ds=(jt==='touchstart')?'mouseDown':(jt==='touchend')?'mouseUp':null;var BF=(jt==='touchstart')?agz:(jt==='touchmove')?ahs:(jt==='touchend')?Wn:null;lv=XE(bJ.clientX,bJ.clientY);if(jt==='doubleTap'){lv&&lv.bS&&lv.bS.Ip(jt,bJ);}var jC;jC=ZK(bJ);if(jC){if(jC.substring(0,5)==='texth'){bJ.preventDefault();bJ.stopPropagation();if(jt==='touchstart'){Aw=bJ;}BF&&BF(bJ,bJ.clientX,bJ.clientY,0);return;}}switch(aa){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:lv&&lv.bS&&lv.bS.Ip(jt,bJ);if(Ds==='mouseUp'){agA(bJ,R);}else if(Ds==='mouseDown'){afS(bJ,R);}C.ad(jt,R);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:bJ.preventDefault();bJ.stopPropagation();if(jt==='touchstart'){Aw=bJ;if(jC){C.vd();break;}}BF&&BF(bJ,bJ.clientX,bJ.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:bJ.preventDefault();bJ.stopPropagation();if(jt==='touchstart'){Aw=bJ;}BF&&BF(bJ,bJ.clientX,bJ.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(jC===undefined){jC=ZK(bJ);}var K=Rj(bJ,{});if(jC&&AK){if(!K||K.V.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jt==='touchstart'){anb(bJ,jC,lv);}else if(jt==='touchmove'){lv&&lv.bS&&lv.bS.Ip(jt,bJ);}else if(jt==='touchend'){lv&&lv.bS&&lv.bS.Ip(jt,bJ);alH(lv);}}}break;}};var EF,zq,vv;var azF=function(bJ){if(bJ.rawEvent.touches.length>1){clearTimeout(vv);vv=zq=EF=undefined;return;}bJ=Wv(bJ);EF=bJ;if(aa===IPCC.Web.UI.MouseTool.CreatePolylineMark){bJ.preventDefault();}zq=function(){Gn('touchstart',bJ);vv=zq=EF=undefined;};vv=setTimeout(function(){zq();},200);};var HI,Cj;var aAi=function(bJ){bJ=Wv(bJ);pu=false;var atg=function(){if(!Cj){return false;}var fC=Cj.clientX-bJ.clientX;var eH=Cj.clientY-bJ.clientY;var hJ=fC*fC+eH*eH;return hJ<2500;};var afs=function(){HI=Cj=undefined;var jC=ZK(bJ);if(!jC&&aa===IPCC.Web.UI.MouseTool.HandPan&&AK&&lv){ahE(lv.bS);}};var awM=function(){var afp=zq;if(HI&&atg()){clearTimeout(HI);Cj=HI=undefined;afp();Gn('touchend',bJ);Gn('doubleTap',bJ);}else{HI=setTimeout(function(){afp();Gn('touchend',bJ);afs();},300);Cj=bJ;}};if(EF&&vv){clearTimeout(vv);if(aa===IPCC.Web.UI.MouseTool.CreatePolylineMark){awM();}else{afs();}vv=zq=EF=undefined;return;}Gn('touchend',bJ);};var alD,pu=false;var azj=function(bJ){if(bJ.rawEvent.touches.length>1){return;}alD=bJ;if(EF&&vv){clearTimeout(vv);zq();}atl();};function atl(){var bJ=Wv(alD);Gn('touchmove',bJ);};IPCC.Web.UI.al.addHandler(am,"touchstart",azF);IPCC.Web.UI.al.addHandler(am,"touchmove",azj);IPCC.Web.UI.al.addHandler(am,"touchend",aAi);};aAk(am,kI);}};function auT(hd){var aeu=function(){},ct=1;function aid(abq,aaS,hb,aty){hd.style['-ms-transform']=abq;hd.style['-moz-transform']=abq;hd.style['-webkit-transform']=aaS;hd.style['transform']=aaS;hd.style['-ms-transform-origin']=hb;hd.style['-moz-transform-origin']=hb;hd.style['-webkit-transform-origin']=hb;hd.style['transform-origin']=hb;hd.style.overflow=aty||'';};function aiv(){aid('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');};aiv();function asX(pP,gq,PH,uj,aeH){var fc=(-gq.x/pP)-PH.x,fl=(-gq.y/pP)-PH.y,aBA="scale3d("+pP+","+pP+",1) translate3d("+fc+"px,"+fl+"px,0px)",aAz="scale("+pP+", "+pP+") translate("+fc+"px,"+fl+"px)";var avA=aeH.x+'px '+aeH.y+'px';aid(aAz,aBA,avA,'visible');aeu=function(){var an=hd.getBoundingClientRect();var Wa={x:(hd.clientWidth/2+ -an.left+uj.left)/pP,y:(hd.clientHeight/2+ -an.top+uj.top)/pP};if(fg===IPCC.PageLayout.VerticalScrollDirection&&uj.agv){Wa.x=Wa.x-(uj.agv/2);}aiv();C.MP(pP,Wa,undefined,IPCC.ScaleTrigger.Pinch);vk=false;};return hd;};function akf(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function ajB(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aoy(amN,GX){return{x:amN.x-GX.x,y:amN.y-GX.y};};var Uw=false;hd.addEventListener('touchstart',function(ev){if(vk){return;}if(!Uw&&ev.touches.length===2){aih(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var AE,ZY=false,Ac={};PCCViewer.EventEmitter.extend(Ac);hd.addEventListener(IPCC.h.oQ['down'],function(bJ){ZY=true;bJ=standardizeMSTouch(bJ);if(AE){var dr={};dr.touches=[AE,bJ];dr.changedTouches=[AE,bJ];dr.preventDefault=function(){AE.rawEvent.preventDefault();bJ.rawEvent.preventDefault();};dr.stopPropagation=function(){AE.rawEvent.stopPropagation();bJ.rawEvent.stopPropagation();};aih(dr);}else{AE=bJ;}});hd.addEventListener(IPCC.h.oQ['move'],function(bJ){Ac.trigger('touchmove',{rawEvent:bJ});});hd.addEventListener(IPCC.h.oQ['up'],function(bJ){Ac.trigger('touchend',{rawEvent:bJ});AE=undefined;});function aih(ev){vk=true;var PH={x:hd.scrollLeft,y:hd.scrollTop};var uj=hd.getBoundingClientRect();var nK=VP();var Kr=hd.querySelector('.pccPageListItem');if(fg===IPCC.PageLayout.VerticalScrollDirection&&Kr.clientWidth<uj.width-30){uj.agv=uj.width-Kr.clientWidth;}var gq={x:0,y:0,set:function(ani){this.x=ani.x;this.y=ani.y;return this;}};var pu=false;Uw=true;ev.preventDefault();ev.stopPropagation();function Qj(gQ){gQ.x=gQ.clientX||gQ.pageX||gQ.screenX;gQ.y=gQ.clientY||gQ.pageY||gQ.screenY;return gQ;};var iK=Qj(ev.touches[0]);var wt=Qj(ev.touches[1]);var wy=akf(iK.x,iK.y,wt.x,wt.y);var ans=ajB(iK.x,iK.y,wt.x,wt.y);var xP,xz;function Va(bJ){bJ.preventDefault();[].forEach.call(bJ.changedTouches,function(t){if(t.identifier===iK.identifier){xP=Qj(t);}else if(t.identifier===wt.identifier){xz=Qj(t);}});if(!xP|| !xz){return;}var asO=akf(xP.x,xP.y,xz.x,xz.y);var arV=ajB(xP.x,xP.y,xz.x,xz.y);ct=asO/wy;if((dB*ct)<nK.minFactor){ct=nK.minFactor/dB;}else if((dB*ct)>nK.maxFactor){ct=nK.maxFactor/dB;}gq.set(aoy(ans,arV));if(!pu){pu=true;Jv();}};function VG(){Uw=false;pu=false;hd.removeEventListener('touchmove',Va);hd.removeEventListener('touchend',VG);if(ZY){Ac.off('touchmove',alP);Ac.off('touchend',amq);}if(!xP|| !xz){vk=false;return;}ES(aeu);};var alP=function(bJ){var afK=standardizeMSTouch(bJ.rawEvent);afK.preventDefault=function(){};Va(afK);};var amq=function(bJ){VG(standardizeMSTouch(bJ.rawEvent));};hd.addEventListener('touchmove',Va);hd.addEventListener('touchend',VG);if(ZY){Ac.on('touchmove',alP);Ac.on('touchend',amq);}function Jv(){if(pu){ES(function(){if(!pu){return;}asX(ct,gq,PH,uj,ans);Jv();});}}}};function auC(){if(dK===IPCC.ViewMode.SinglePage){return;}if(vk){return;}if(nl){clearTimeout(nl);}if(Tw){aol(Tw);}auI();nl=setTimeout(function(){nl=null;Tw=ES(function aIm(){if(vk){return;}pp();});},40);};function auo(){if(lW===false||dK===IPCC.ViewMode.SinglePage){return;}hY(true);if(nl!==null){clearTimeout(nl);}var anP=bF.scrollHeight/bz.length;var Qm=0;if(fg===IPCC.PageLayout.VerticalScrollDirection){Qm=bF.scrollTop;}else{Qm=bF.scrollLeft;}var ayr=Qm-MZ;MZ=Qm;var aGc=new Date().getTime();var SV=aGc-yU;if(SV>1000){SV=1000;}RJ=ayr/anP*1000/SV;nl=setTimeout(function(){nl=null;yU=0;yU=new Date().getTime();pp();},1000);yU=new Date().getTime();if(RJ!==0&&Math.abs(RJ)<Ro){if(Jf&&nl!==null){clearTimeout(nl);nl=null;}yU=0;yU=new Date().getTime();setTimeout(function(){if(Jf&&nl!==null){clearTimeout(nl);nl=null;}yU=0;yU=new Date().getTime();pp();},40);}};function ati(){function AP(aCF,aBe,bQ,co){var Hn=document.createElementNS('http://www.w3.org/2000/svg','circle');Hn.setAttribute('cx',aCF);Hn.setAttribute('cy',aBe);Hn.setAttribute('r',bQ);Hn.setAttribute('opacity',co);return Hn;};var pH=document.createElementNS('http://www.w3.org/2000/svg','svg');pH.setAttribute('viewBox','0 0 52 52');pH.appendChild(AP(26,13.813,2.813,1));pH.appendChild(AP(24,38.188,2.813,0.4));pH.appendChild(AP(13.813,26,2.813,0.1));pH.appendChild(AP(38.188,26,2.813,0.7));pH.appendChild(AP(34.618,34.618,2.813,0.55));pH.appendChild(AP(17.382,34.618,2.813,0.25));pH.appendChild(AP(34.618,17.382,2.813,0.85));return pH;};function ajC(ly){var bE=0;var agY=false;var NL;var HA;var pH;for(bE=0;bE<ly.childNodes.length;bE++){if(ly.childNodes[bE].className==="pccPageListItemLoading"){agY=true;}}if(agY===false){HA=document.createElement('div');HA.className='pccPageListItemLoading';pH=ati();ly.innerHTML="";ly.appendChild(HA);HA.appendChild(pH);if(Ht.length>0){NL=document.createElement('div');NL.className='pccPageListItemLoadingContent';NL.innerHTML=Ht;HA.appendChild(NL);}}};function auI(){var uE=bF.scrollTop;var uu=bF.scrollLeft;var wq=bF.clientHeight;var wK=bF.clientWidth;var wZ=bF.scrollWidth;var uG=bF.scrollHeight;var cC=Tg({uE:uE,uu:uu,wq:wq,wK:wK,wZ:wZ,uG:uG});var J=cC.agG;if(lW&&tM===false&&cL!==J&&J>=0){cL=J;var R=new IPCC.PageEventArgs();R.imGearPage=C.get_currentPage();R.pageIndex=cL;R.pageNodeID=bz[cL].aT;C.ad('currentPageChanged',R);}};function Uq(bP){var aD=bP.aW||gs;var ab=bP.bg||jD;if(bP.fY%180){var qR=aD;aD=ab;ab=qR;}var qJ=bP.gE||ahg;return{aD:aD*(dB*dn/qJ),ab:ab*(dB*dn/qJ),aFe:qJ,aC:bP.cr};};function US(aqi){return IPCC.h.reduce(aqi,function(dU,bN,aC){dU[aC]=Uq(bN);return dU;},{});};function ajq(bm){var nQ,Ej,AV,yj,qu;if(fg===IPCC.PageLayout.VerticalScrollDirection){nQ=bF.scrollTop;Ej=bF.scrollHeight;AV=bF.clientHeight;yj='ab';qu=eK;}else{nQ=bF.scrollLeft;Ej=bF.scrollWidth;AV=bF.clientWidth;yj='aD';qu=fO+gZ;}var kU=US(bz);var Hm=fg===IPCC.PageLayout.VerticalScrollDirection?eK:fO;var aoK=false;IPCC.h.forEach(kU,function(bN,aC){if(bN.aC===bm){aoK=true;}if(aoK){return;}Hm+=bN[yj]+qu;});return Hm-(qu/2);};function rS(cC){var CO=IPCC.h.map(cC.dj,function(bN){return+bN.aC;}).sort();var iK=CO[0];var kR=CO[CO.length-1];var fp=bz.length;for(var J=Bk;J;J--){iK-=1;kR+=1;if(iK>=0){CO.unshift(iK);}if(kR<fp){CO.push(kR);}}return CO.sort();};function MD(cC){var iK=Math.max(cC.dj[0].aC-uo,0);var kR=Math.min(cC.dj[cC.dj.length-1].aC+uo,bz.length-1);return{iK:iK,kR:kR};};function aoG(cC){var iK=Math.max(cC.dj[0].aC-Bk,0);var kR=Math.min(cC.dj[cC.dj.length-1].aC+Bk,bz.length-1);return{iK:iK,kR:kR};};function Tg(ac){if(dK===IPCC.ViewMode.SinglePage){return ako();}var nQ,Ej,AV,yj,qu;if(fg===IPCC.PageLayout.VerticalScrollDirection){nQ=ac.uE;Ej=ac.uG;AV=ac.wq;yj='ab';qu=eK;}else{nQ=ac.uu;Ej=ac.wZ;AV=ac.wK;yj='aD';qu=fO+gZ;}var auD=nQ;var atH=nQ+AV;var kU=US(bz);var Hm=fg===IPCC.PageLayout.VerticalScrollDirection?eK:fO;var axj=nQ/Ej;var OX=(axj*AV)+nQ;var Wl=Number.MAX_VALUE;var mE= -1;var dj=[];IPCC.h.forEach(kU,function(bN,aC){var nh=Hm;var eB=nh+bN[yj];if(nh<atH&&eB>auD){bN.vn=true;dj.push(bN);}var ahG=Math.min(Math.abs(nh-OX),Math.abs(eB-OX));if(nh<OX&&eB>OX){Wl=0;mE=aC;}else if(ahG<Wl){mE=aC;Wl=ahG;}Hm+=bN[yj]+qu;});if(dj.length===0&&kU[mE]!==undefined){dj.push(kU[mE]);}return{dj:dj,agG:Number(mE)||0,Ih:kU};};function ako(){var kU=US(bz);var IQ=[cL];var dj=IPCC.h.filter(kU,function(bN){return IPCC.h.contains(IQ,+bN.aC);});return{dj:dj,agG:cL,Ih:kU};};function Md(){var cC=hY();if(!cC){return[];}var IQ=IPCC.h.map(cC.dj,function(bN){return bN.aC;});var aEW=2;var amj=Math.min.apply(Math,IQ);for(var i=1;i<=aEW;i++){if(amj-i>=0){IQ.unshift(amj-i);}}return IQ;};function hY(){if(dK===IPCC.ViewMode.SinglePage){return ako();}if(bF===''||bF.clientHeight<=0){return;}var uE=bF.scrollTop;var uu=bF.scrollLeft;var wq=bF.clientHeight;var wK=bF.clientWidth;var wZ=bF.scrollWidth;var uG=bF.scrollHeight;var atM=Tg({uE:uE,uu:uu,wq:wq,wK:wK,wZ:wZ,uG:uG});tM=false;return atM;}};PU.prototype={dispose:function(){this.bj('dispose',arguments);this.aaf(false);this.asL();},disposeDisplayedPages:function(){this.aDv();},get_debug:function(){try{var bQ=this.JK();this.cq('get_debug',arguments,bQ);return bQ;}catch(e){this.ba('get_debug',e);throw e;}},set_debug:function(value){try{this.bj('set_debug',arguments);var AR=this.JK();this.Zg(value);if(!AR){this.bj('set_debug',arguments);}}catch(e){this.ba('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bQ=this.AA();this.cq('get_debugErrorLevel',arguments,bQ);return bQ;}catch(e){this.ba('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bj('set_debugErrorLevel',arguments);var AR=this.AA();this.JF(value);if(AR<IPCC.Web.UI.DebugErrorLevel.Development){this.bj('set_debugErrorLevel',arguments);}}catch(e){this.ba('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.KZ(handler);}catch(e){this.ba('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xt(handler);}catch(e){this.ba('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Lt(handler);}catch(e){this.ba('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.XV(handler);}catch(e){this.ba('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NA(handler);}catch(e){this.ba('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Wh(handler);}catch(e){this.ba('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Ym(handler);}catch(e){this.ba('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Yk(handler);}catch(e){this.ba('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.awl(handler);}catch(e){this.ba('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.aEm(handler);}catch(e){this.ba('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.zL(handler);}catch(e){this.ba('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.EB(handler);}catch(e){this.ba('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.Uh(handler);}catch(e){this.ba('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.afa(handler);}catch(e){this.ba('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.AB(handler);},remove_textExtractionFailed:function(handler){this.EI(handler);},add_allPagesAdded:function(handler){try{this.avE(handler);}catch(e){this.ba('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.aEg(handler);}catch(e){this.ba('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.TN(handler);}catch(e){this.ba('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Yq(handler);}catch(e){this.ba('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.TQ(handler);}catch(e){this.ba('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Yz(handler);}catch(e){this.ba('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Hs(handler);}catch(e){this.ba('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FZ(handler);}catch(e){this.ba('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.SD(handler);}catch(e){this.ba('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yf(handler);}catch(e){this.ba('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.kw(handler);}catch(e){this.ba('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mv(handler);}catch(e){this.ba('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.Cz(handler);}catch(e){this.ba('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Ag(handler);}catch(e){this.ba('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.QB(handler);}catch(e){this.ba('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wi(handler);}catch(e){this.ba('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.HC(handler);}catch(e){this.ba('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.FB(handler);}catch(e){this.ba('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Hf(handler);}catch(e){this.ba('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fk(handler);}catch(e){this.ba('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.IB(handler);}catch(e){this.ba('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fr(handler);}catch(e){this.ba('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.HU(handler);}catch(e){this.ba('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Fe(handler);}catch(e){this.ba('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.CD(handler);}catch(e){this.ba('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Ab(handler);}catch(e){this.ba('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.aws(handler);}catch(e){this.ba('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.aEh(handler);}catch(e){this.ba('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.xc(handler);}catch(e){this.ba('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Bh(handler);}catch(e){this.ba('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.vS(handler);}catch(e){this.ba('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.DO(handler);}catch(e){this.ba('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.sh(handler);}catch(e){this.ba('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.uY(handler);}catch(e){this.ba('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.YC(handler);}catch(e){this.ba('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.ZT(handler);}catch(e){this.ba('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.Rr(handler);},remove_exceptionThrown:function(handler){this.Wz(handler);},writeToLog:function(message){try{this.nA(message);}catch(e){this.ba('writeToLog',e);throw e;}},get_currentState:function(){try{var bQ=this.MI();this.cq('get_currentState',arguments,bQ);return bQ;}catch(e){this.ba('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var bQ=this.qh();this.cq('get_scaleFactor',arguments,bQ);return bQ;}catch(e){this.ba('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bj('set_scaleFactor',arguments);this.aFb(scaleFactor);}catch(e){this.ba('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bj('zoomIn',arguments);this.MP(factor);}catch(e){this.ba('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bj('zoomOut',arguments);this.Ss(factor);}catch(e){this.ba('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aBC();},displayAll:function(){try{this.bj('displayAll',arguments,1);this.aDL();}catch(e){this.ba('displayAll',e);throw e;}},display:function(pageIndex){try{this.bj('display',arguments);this.cv(pageIndex);}catch(e){this.ba('display',e);throw e;}},get_textRequired:function(){try{var bQ=this.lu();this.cq('get_textRequired',arguments,bQ);return bQ;}catch(e){this.ba('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bj('set_textRequired',arguments);this.JR(value);}catch(e){this.ba('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bj('selectText',arguments,1);this.aau(pageIndex,startIndex,endIndex,color);}catch(e){this.ba('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bj('clearSelectedText',arguments,1);this.aqM(pageIndex);}catch(e){this.ba('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bj('clearAllSelectedText',arguments);this.asT();}catch(e){this.ba('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var bQ=this.axt();this.cq('get_maxPrefetch',arguments,bQ);return bQ;}catch(e){this.ba('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bj('set_maxPrefetch',arguments);this.aGx(value);}catch(e){this.ba('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var bQ=this.azM();this.cq('get_displayPagesWhenScrolling',arguments,bQ);return bQ;}catch(e){this.ba('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bj('set_displayPagesWhenScrolling',arguments);this.aDH(value);}catch(e){this.ba('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var bQ=this.axu();this.cq('get_maxOutOfViewDisplay',arguments,bQ);return bQ;}catch(e){this.ba('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bj('set_maxOutOfViewDisplay',arguments);this.aFv(value);}catch(e){this.ba('set_maxOutOfViewDisplay',e);throw e;}},get_discardOutOfViewText:function(){try{var bQ=this.aAb();this.cq('get_discardOutOfViewText',arguments,bQ);return bQ;}catch(e){this.ba('get_discardOutOfViewText',e);throw e;}},set_discardOutOfViewText:function(value){try{this.bj('set_discardOutOfViewText',arguments);this.aEC(value);}catch(e){this.ba('set_discardOutOfViewText',e);throw e;}},get_scrollDisplayThreshold:function(){try{var bQ=this.axs();this.cq('get_scrollDisplayThreshold',arguments,bQ);return bQ;}catch(e){this.ba('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bj('set_scrollDisplayThreshold',arguments);this.aFS(value);}catch(e){this.ba('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var bQ=this.ajp();this.cq('get_mouseCursor',arguments,bQ);return bQ;}catch(e){this.ba('ajp',e);throw e;}},set_mouseCursor:function(value){try{this.bj('set_mouseCursor',arguments);this.aFz(value);}catch(e){this.ba('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var bQ=this.VK();this.cq('get_mouseTool',arguments,bQ);return bQ;}catch(e){this.ba('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bj('set_mouseTool',arguments);this.IS(value);}catch(e){this.ba('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var bQ=this.xp();this.bj('get_markHandleMode',arguments);return bQ;}catch(e){this.ba('get_markHandleMode',e);throw e;}},set_markHandleMode:function(G){try{this.bj('set_markHandleMode',arguments);this.Js(G);}catch(e){this.ba('set_markHandleMode',e);throw e;}},get_retainPageText:function(){try{var bQ=this.axC();this.bj('get_retainPageText',arguments);return bQ;}catch(e){this.ba('get_retainPageText',e);throw e;}},set_retainPageText:function(G){try{this.bj('set_retainPageText',arguments);this.aGk(G);}catch(e){this.ba('set_retainPageText',e);throw e;}},get_allowMarkEdits:function(){try{var bQ=this.axi();this.bj('get_allowMarkEdits',arguments);return bQ;}catch(e){this.ba('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bj('set_allowMarkEdits',arguments);this.aGa(! !bool);}catch(e){this.ba('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var bQ=this.ahQ();this.cq('get_currentPage',arguments,bQ);return bQ;}catch(e){this.ba('get_currentPage',e);throw e;}},get_pageNodeId:function(pageIndex){try{var aoe=this.ayW(pageIndex);this.cq('get_pageNodeId',arguments,aoe);return aoe;}catch(e){this.ba('get_pageNodeId',e);throw e;}},scrollToNextPage:function(){try{this.bj('scrollToNextPage',arguments);this.ayQ();}catch(e){this.ba('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bj('scrollToPreviousPage',arguments);this.ayj();}catch(e){this.ba('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bj('scrollToFirstPage',arguments);this.axp();}catch(e){this.ba('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bj('scrollToLastPage',arguments);this.ayT();}catch(e){this.ba('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bj('scrollToPage',arguments,1);this.rs(pageIndex);}catch(e){this.ba('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bj('rotate',arguments,1);this.aBr(degreesClockwise);}catch(e){this.ba('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bj('rotateAll',arguments,1);this.afE(degreesClockwise,true);}catch(e){this.ba('rotateAll',e);throw e;}},get_enabled:function(){try{var bQ=this.azi();this.cq('get_enabled',arguments,bQ);return bQ;}catch(e){this.ba('get_enabled',e);throw e;}},get_pageLayout:function(){try{var bQ=this.ayu();this.cq('get_pageLayout',arguments,bQ);return bQ;}catch(e){this.ba('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bj('set_pageLayout',arguments);this.aFR(value);}catch(e){this.ba('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var bQ=this.aBo();this.cq('get_viewMode',arguments,bQ);return bQ;}catch(e){this.ba('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bj('set_viewMode',arguments);this.KY(value);}catch(e){this.ba('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var bQ=this.ayF();this.cq('get_loadingContent',arguments,bQ);return bQ;}catch(e){this.ba('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bj('set_loadingContent',arguments);this.aDm(value);}catch(e){this.ba('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bj('fitPages',arguments,1);this.aEx(fitType);}catch(e){this.ba('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bj('openPage',arguments,1);this.QI(pageIndex);}catch(e){this.ba('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bj('requestPageAttributes',arguments,1);this.OT(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.ba('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bj('scrollRegionIntoView',arguments,1);return this.ayD(pageIndex,rectangle);}catch(e){this.ba('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bj('scrollBy',arguments,1);return this.ayt(xVal,yVal);}catch(e){this.ba('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bj('scrollConversationIntoView',arguments,1);return this.ayV(conversation);}catch(e){this.ba('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.aar();},get_encryption:function(){try{var bQ=this.im();this.cq('get_encryption',arguments,bQ);return bQ;}catch(e){this.ba('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bj('set_encryption',arguments);this.nn(value);}catch(e){this.ba('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var bQ=this.ayC();return bQ;}catch(e){this.ba('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aEN(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.ba('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var bQ=this.va();this.cq('get_resourcePath',arguments,bQ);return bQ;}catch(e){this.ba('get_resourcePath',e);throw e;}},set_resourcePath:function(G){try{this.bj('set_resourcePath',arguments);this.JA(G);}catch(e){this.ba('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var bQ=this.nm();this.cq('get_redactionDraftMode',arguments,bQ);return bQ;}catch(e){this.ba('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bj('set_redactionDraftMode',arguments);this.qF(value);}catch(e){this.ba('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var bQ=this.aAo();this.cq('get_displayedPages',arguments,bQ);return bQ;}catch(e){this.ba('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var bQ=this.CR();this.cq('get_requireRequestsOptimize',arguments,bQ);return bQ;}catch(e){this.ba('CR',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bj('set_requireRequestsOptimize',arguments);this.Kq(value);}catch(e){this.ba('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var bQ=this.jG();this.cq('get_serviceResponseTimeout',arguments,bQ);return bQ;}catch(e){this.ba('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bj('set_serviceResponseTimeout',arguments);this.wf(value);}catch(e){this.ba('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var bQ=this.ayO();this.cq('get_pageRotation',arguments,bQ);return bQ;}catch(e){this.ba('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bj('set_pageRotation',arguments);this.aFE(value);}catch(e){this.ba('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bj('getNodeID',arguments,1);return this.aCM(pageIndex);}catch(e){this.ba('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var bQ=this.axv();this.cq('get_isCommentsPanelOpen',arguments,bQ);return bQ;}catch(e){this.ba('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bj('openCommentsPanel',arguments);this.awV();}catch(e){this.ba('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bj('closeCommentsPanel',arguments);this.asD();}catch(e){this.ba('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var bQ=this.aAT();this.cq('get_conversationDOMFactory',arguments,bQ);return bQ;}catch(e){this.ba('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bj('set_conversationDOMFactory',arguments);this.aFA(value);}catch(e){this.ba('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var bQ=this.aBW();this.cq('get_selectedConversation',arguments,bQ);return bQ;}catch(e){this.ba('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bj('set_selectedConversation',arguments);this.aFJ(value);}catch(e){this.ba('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bj('refreshConversations',arguments);this.aBP(markIDs);}catch(e){this.ba('refreshConversations',e);throw e;}},preserveScrollPosition:function(){try{this.aqP();}catch(e){this.ba('preserveScrollPosition',e);throw e;}},restoreScrollPosition:function(){try{this.azd();}catch(e){this.ba('restoreScrollPosition',e);throw e;}},prefetchPages:function(){try{this.arv();}catch(e){this.ba('prefetchPages',e);throw e;}}};PU.registerClass=cQ;PU.registerClass('IPCC.PageList',{});module.exports=PU;},{"./IPCC.Util":28}],43:[function(require,module,exports){var nG=function(dq,wb){var C=this;this.dq=dq;this.wb=wb;this.ayn=function(){return C.dq;};this.aHy=function(){return C.wb;};};nG.prototype.get_propertyName=function(){return this.dq;};nG.prototype.get_propertyInfo=function(){return this.wb;};module.exports=nG;},{}],44:[function(require,module,exports){var AZ=function(){this.ct=1;this.width=0;this.height=0;this.mN=0;this.yn=0;this.pool=undefined;return this;};AZ.prototype.Ox=function(bX){if(bX.width<1||bX.height<1){return[];}var nf=Math.floor(bX.x*this.ct);var me=Math.floor(bX.y*this.ct);var mV=Math.ceil((bX.x+bX.width)*this.ct);var oJ=Math.ceil((bX.y+bX.height)*this.ct);var mO=[];var J,ed;var cW=this.tiles.length;for(J=0;J<cW;J++){ed=this.tiles[J];if(ed.x<=mV&&ed.right>=nf&&ed.y<=oJ&&ed.bottom>=me){mO.push(ed);}}return mO;};module.exports=AZ;},{}],45:[function(require,module,exports){var yT=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.aD=0;this.ab=0;this.yX=0;this.yd=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};yT.prototype.unlock=function(){this.level.pool.acA(this);};yT.prototype.lock=function(){this.level.pool.lockTile(this);};yT.prototype.relock=function(){return this.level.pool.Vl(this);};yT.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};yT.prototype.toString=function(){var aP='x:'+this.x.toString()+', y:'+this.y.toString()+', right:'+this.right.toString()+', bottom:'+this.bottom.toString();if(this.level){aP='scale:'+this.level.ct.toString()+', '+aP;}return aP;};module.exports=yT;},{}],46:[function(require,module,exports){var mW=function(){this.aJ=false;this.T=false;};mW.prototype.na=function(T){this.T=T;};mW.prototype.eB=function(){this.T=false;};mW.prototype.bk=function(){if(this.aJ){this.T.bx().pf();this.aJ=false;this.T.cv();}};mW.prototype.rh=function(){this.bk();this.T.cv();};mW.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){var as=this.T.bx();this.aJ=true;as.Df(R.constrainedImagePoint);this.nq=R.windowPoint;this.T.cv();}};mW.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){var as=this.T.bx();as.Af(R.constrainedImagePoint);this.T.cv();}};mW.prototype.kN=function(R){if(this.aJ&&R.domEvent.button===0){var fN=R.windowPoint.x-this.nq.x;var hJ=fN*fN;fN=R.windowPoint.y-this.nq.y;hJ+=fN*fN;if(hJ>25){var T=this.T;var as=T.bx();var bD=as.eT();var bO=T.fe();var aux=bO.width;var aui=bO.height;var ah=T.cY();as.Af(R.constrainedImagePoint);var lA=as.wS();as.pf();T.ad('userModifiedViewState',{});bD.QL(ah,bO,lA);bD.kZ(ah,bO);as.iI(bD);T.cv();if(aux!==bO.width||aui!==bO.height){bD=as.eT();bD.QL(ah,bO,lA);bD.kZ(ah,bO);as.iI(bD);}}}this.bk();};mW.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};mW.prototype.mn=function(){this.bk();};module.exports=mW;},{}],47:[function(require,module,exports){var jV={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};module.exports=jV;},{}],48:[function(require,module,exports){var AS=function(){};AS.prototype.na=function(T){this.T=T;this.as=T.bx();};AS.prototype.eB=function(){this.T=false;};AS.prototype.bk=function(){};module.exports=AS;},{}],49:[function(require,module,exports){var ef=require('./IPCC.Util').regEnum;var Cq=function(){};Cq.registerEnum=ef;Cq.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};Cq.registerEnum('IPCC.ScaleTrigger',false);module.exports=Cq;},{"./IPCC.Util":28}],50:[function(require,module,exports){var oy=function(){this.aJ=false;this.T=false;};oy.prototype.na=function(T){this.T=T;};oy.prototype.eB=function(){this.T=false;};oy.prototype.bk=function(){if(this.aJ){this.T.pf();this.aJ=false;this.T.cv();}};oy.prototype.rh=function(){this.bk();};oy.prototype.jQ=function(R){this.bk();if(R.domEvent.button===0){var as=this.T.bx();this.aJ=true;as.Df(R.constrainedImagePoint);this.T.cv();}};oy.prototype.lg=function(R){if(R.domEvent.button!==0){this.bk();}if(this.aJ){var as=this.T.bx();as.Af(R.constrainedImagePoint);this.T.cv();}};oy.prototype.kN=function(R){if(R.domEvent.button===0){this.aJ=false;}this.bk();};oy.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};oy.prototype.mn=function(){this.bk();};module.exports=oy;},{}],51:[function(require,module,exports){var kx=function(){this.aJ=false;this.T=false;};kx.prototype.na=function(T){this.T=T;};kx.prototype.eB=function(){this.T=false;};kx.prototype.bk=function(){if(this.aJ){this.T.bx().XW();this.aJ=false;}};kx.prototype.rh=function(){this.bk();};kx.prototype.jQ=function(R){if(R.domEvent.button===0){var as=this.T.bx();this.aJ=true;var dG=this.T.Kn(R.constrainedImagePoint);this.T.hC=dG;if(!dG){return;}this.T.zG(dG);as.zG(dG);as.uz(undefined);this.T.cv();}};kx.prototype.lg=function(R){var T=this.T;T.aEV=true;if(R.domEvent.button!==0){this.bk();}if(this.aJ){var as=T.bx();var dG=T.Kn(R.constrainedImagePoint);var gc=as.BE();if(gc===dG){return;}T.uz(dG);T.cv();}};kx.prototype.kN=function(R){if(R.domEvent.button===0){this.aJ=false;}var T=this.T;var as=this.T.bx();var dw=as.jn.length;if(dw===0){this.bk();return;}var bB=as.jn[0].dG;var ci=as.jn[dw-1].dG;if(T.JB===true){if(bB>ci){bB=ci;}var J;var nD=IPCC.Di();this.V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.V.bB=bB;this.V.dF=T.BL();this.V.dv=dw;this.V.set_fillColor(T.rk);this.V.lc='y';this.V.aY=nD;for(J=0;J<as.jn.length;J++){var bq=as.jn[J];var CN=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var yG=bq.V.ff();CN.set_fillColor(T.rk);CN.set_opacity(bq.V.get_opacity());CN.set_rectangle(yG);CN.aY=nD;CN.lc='y';this.T.ee().addMark(CN);}as.jn=[];if(dw>0){this.T.ee().addMark(this.V);}T.mp().removeAllMarks();}dw=as.jn.length;var acI=new IPCC.Web.UI.TextSelectedEventArgs();acI.text=T.BL();T.ad('selectTextMouseToolCompleted',acI);T.cv();this.bk();};kx.prototype.oX=function(R){var bO=this.T.fe();if(R.windowPoint.x<=0||R.windowPoint.x>=bO.width-2){this.bk();}if(R.windowPoint.y<=0||R.windowPoint.y>=bO.height-2){this.bk();}};kx.prototype.mn=function(){this.bk();};module.exports=kx;},{}],52:[function(require,module,exports){var cz=function(){this.T=false;this.Fb=0;this.anC=1;this.aeg=2;this.aeb=3;};cz.prototype.na=function(T){this.T=T;this.dA=this.Fb;};cz.prototype.eB=function(){this.T=false;};cz.prototype.bk=function(){this.dA=this.Fb;};cz.prototype.agQ=function(R){var aBM=new Date()-this.axb;if(aBM<750){var fC=this.acM.x-R.windowPoint.x;var eH=this.acM.y-R.windowPoint.y;var hJ=fC*fC+eH*eH;if(hJ<2500){return true;}}return false;};cz.prototype.abp=function(R){this.axb=new Date();this.acM=new IPCC.Web.UI.Point(R.windowPoint.x,R.windowPoint.y);};cz.prototype.RU=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length===1){if(this.dA===this.aeg&&this.agQ(R)){this.dA=this.aeb;}else{this.dA=this.anC;}this.abp(R);this.T.ga('jQ',R);}else{this.dA=this.Fb;this.T.ga('rh',R);}};cz.prototype.Rw=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length===1){this.T.ga('lg',R);}};cz.prototype.Rx=function(R){var aI=R.domEvent.rawEvent;if(aI.touches.length===0){if(this.agQ(R)){if(this.dA===this.aeb){this.dA=this.Fb;this.T.ga('kN',R);this.T.ga('zV',R);}else{this.abp(R);this.dA=this.aeg;this.T.ga('kN',R);}}else{this.dA=this.Fb;this.T.ga('kN',R);}}};cz.prototype.II=function(R){this.T.ga('rh',R);};module.exports=cz;},{}],53:[function(require,module,exports){var Ge=function(aD,ab,ha,fX){IPCC.Web.UI.Rectangle.call(this,0,0,0,0);this.width=aD;this.height=ab;this.ha=ha;this.fX=fX;return this;};Ge.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.ha+', '+this.fX+')';};module.exports=Ge;},{}],54:[function(require,module,exports){var zb=function(Mj){this.wp=(typeof(Mj)!=='undefined'&&Mj!==null&&Mj!=='')?[Mj.toString()]:[];this.G={};this.cW=0;};zb.prototype.aIc=function(bv){this.wp[this.wp.length]=bv;};zb.prototype.aGM=function(bv){this.wp[this.wp.length]=((typeof(bv)==='undefined')||(bv===null)||(bv===''))?'\r\n':bv+'\r\n';};zb.prototype.aGZ=function(){this.wp=[];this.G={};this.cW=0;};zb.prototype.aFL=function(){if(this.wp.length===0){return true;}return this.toString()==='';};zb.prototype.aGW=function(zt){zt=zt||'';var parts=this.wp;if(this.cW!==parts.length){this.G={};this.cW=parts.length;}var val=this.G;if(typeof(val[zt])==='undefined'){if(zt!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[zt]=this.wp.join(zt);}return val[zt];};module.exports=zb;},{}],55:[function(require,module,exports){var eF=function(T,qA){this.PK=false;this.ZQ=false;this.Bj=true;this.XY=false;this.PJ=false;this.xW=0;this.xq=0;var bo=this;this.aye='opacity';this.awt=function(co){return co.toString();};var ajv=function ajv(aB,eJ,ow,ah,mx,mb){var hs;if(this.T.rd()===true){aB.yZ.setAttribute('width',ow.width);aB.yZ.setAttribute('height',ow.height);aB.tI.setAttribute('width',ow.width);aB.tI.setAttribute('height',ow.height);hs=eJ.qX().toString()+','+eJ.qs().toString()+','+eJ.rM().toString()+','+eJ.te().toString()+','+(eJ.vI()+mx).toString()+','+(eJ.wX()+mb).toString();this.fW(aB.Cg,'transform','matrix('+hs+')');}else{aB.yZ.setAttribute('width',ow.width);aB.yZ.setAttribute('height',ow.height);aB.tI.setAttribute('width',ow.width);aB.tI.setAttribute('height',ow.height);hs=eJ.qX().toString()+','+eJ.qs().toString()+','+eJ.rM().toString()+','+eJ.te().toString()+','+(eJ.vI()+mx).toString()+','+(eJ.wX()+mb).toString();this.fW(aB.Cg,'transform','matrix('+hs+')');}};function axc(aB){var pathList=aB.yZ.getElementsByTagName('path');var gList=aB.yZ.getElementsByTagName('g');aB.Qo=[];function ahO(pathItem,index){if(!pathItem.hasAttribute('data-pcc-mark')){if(pathItem.hasAttribute('stroke-width')||pathItem.style.strokeWidth){pathItem.originalStrokeWidth=pathItem.getAttribute('stroke-width')||pathItem.style.strokeWidth;aB.Qo.push(pathItem);}}};IPCC.h.forEach(pathList,ahO);IPCC.h.forEach(gList,ahO);};this.afA=function(aB){var as=T.bx();var aDq=1;var kt=as.aBL();function setStrokeWidthToOriginalValue(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth;}};function updateStrokeWidthByLineWidthMultiplier(pathItem,index){if(pathItem.hasAttribute('stroke-width')){pathItem.setAttribute('stroke-width',parseFloat(pathItem.originalStrokeWidth*kt));}else{var strokeWidth=parseFloat(pathItem.originalStrokeWidth);pathItem.style.strokeWidth=strokeWidth*kt;}};if(aB.Qo===undefined){axc(aB);}if(kt===aDq){IPCC.h.forEach(aB.Qo,setStrokeWidthToOriginalValue);}else{IPCC.h.forEach(aB.Qo,updateStrokeWidthByLineWidthMultiplier);}as.aEH(false);};function auK(aB,bU){aB.sa.setAttribute('exponent',bU);aB.sn.setAttribute('exponent',bU);aB.so.setAttribute('exponent',bU);};function atz(aB,bU){var aqj=841;var kB=(bU/aqj)* -1;var hs;if(IPCC.h.AX){hs='{00} {01} {02} '+'{10} {11} {12} '+'{20} {21} {22}';hs=hs.replace('{00}',kB).replace('{01}',kB).replace('{02}',kB).replace('{10}',kB).replace('{11}',1).replace('{12}',kB).replace('{20}',kB).replace('{21}',kB).replace('{22}',kB);}else{hs='{00} {01} {02} {03} {04} '+'{10} {11} {12} {13} {14} '+'{20} {21} {22} {23} {24} '+'{30} {31} {32} {33} {34} '+'{40} {41} {42} {43} {44}';hs=hs.replace('{00}',0).replace('{01}',0).replace('{02}',0).replace('{03}',0).replace('{04}',0).replace('{10}',0).replace('{11}',kB).replace('{12}',kB).replace('{13}',kB).replace('{14}',0).replace('{20}',0).replace('{21}',kB).replace('{22}',1).replace('{23}',kB).replace('{24}',0).replace('{30}',0).replace('{31}',kB).replace('{32}',kB).replace('{33}',kB).replace('{34}',0).replace('{40}',0).replace('{41}',0).replace('{42}',0).replace('{43}',0).replace('{44}',0);}aB.lk.setAttribute('kernelMatrix',hs);};this.awv=function(aB){var as=T.bx();var pA=as.aAq();var qC=as.aCK();if(qC===0&&pA===1){aB.Cg.removeAttribute('filter','url(#'+aB.Kc+')');}else{aB.Cg.setAttribute('filter','url(#'+aB.Kc+')');}auK(aB,pA);atz(aB,qC);};var aaO,abN;this.adp=function(aB,eJ,ow,ah,mx,mb){if(aB.Zk.match('maglevel')){ajv.apply(this,arguments);return;}var an=aB.eW.parentElement.getBoundingClientRect();var lo=an.width/ah.width;var aoY=function(val){return Math.abs(val)<1.0e-14;};var fc=0,fl=0;var aBN=function(){var oG=eJ.qs();if(aoY(oG)){oG=0;}var qP=eJ.rM();if(aoY(qP)){qP=0;}var aum=eJ.qX();var es=(oG>=0&&qP<0)?90:(oG<0&&qP>=0)?270:(aum<0)?180:(oG>=0&&qP>=0)?0:0;switch(es){case 90:fc=an.width;break;case 180:fc=an.width;fl=an.height;break;case 270:fl=an.height;break;}return es*(Math.PI/180);};var es=aBN();if(parseInt(es,10)===1||parseInt(es,10)===4){lo=an.height/ah.width;}if(lo===aaO&&es===abN){return;}else{aaO=lo;abN=es;}var fv=1,jc=0;if(es!==0){fv=Math.cos(es);jc=Math.sin(es);}var bD={lo:fv*lo,rc:fv*lo,oG:jc*lo,qP:jc* -1*lo,fc:fc,fl:fl};var axT=new IPCC.fq(bD.lo,bD.oG,bD.qP,bD.rc,bD.fc,bD.fl);eJ.OH(axT);T.bx().iI(eJ);var hs='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';hs=hs.replace('{scaleX}',bD.lo).replace('{scaleY}',bD.rc).replace('{skewX}',bD.oG).replace('{skewY}',bD.qP).replace('{moveX}',bD.fc).replace('{moveY}',bD.fl);this.fW(aB.Cg,'transform',hs);};this.asB=function(){aaO=undefined;abN=undefined;};this.aCk(T);this.apO=function(cG){var bO=new IPCC.Ge(cG.clientWidth,cG.clientHeight,96,96);return bO;};this.aeA=function(aI){aI.preventDefault();bo.jQ(aI);};this.acR=function(aI){aI.preventDefault();bo.lg(aI);};this.adw=function(aI){aI.preventDefault();bo.kN(aI);};this.alR=function(aI){bo.jQ(aI);};this.aeP=function(aI){bo.zV(aI);};this.anw=function(aI){bo.lg(aI);};this.RG=function(aI){bo.mn(aI);};this.amJ=function(aI){bo.kN(aI);};this.agK=function(aI){bo.zV(aI);};this.akz=function(aI){bo.TS(aI);};this.Lv=function(aI){if(aI.target!==document.activeElement){bo.awN(aI);}};this.afI=function(aI){if(aI.target!==document.activeElement){bo.awD(aI);}};this.oX=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;bo.qZ(R);T.aAM(R);}catch(ex){T.ba('mouseOut',ex);}};this.RU=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;bo.qZ(R);T.aAR(R);}catch(ex){T.ba('touchStart',ex);}};this.Rw=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;bo.qZ(R);T.aAS(R);}catch(ex){T.ba('touchMove',ex);}};this.Rx=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;bo.qZ(R);T.azu(R);}catch(ex){T.ba('touchEnd',ex);}};this.II=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;bo.qZ(R);T.azz(R);}catch(ex){T.ba('touchCancel',ex);}};this.amY=function(aI){try{aI.preventDefault();}catch(ex){T.ba('dragStart',ex);}};this.aoJ=function(){var fa=T.mG().igElements.nY;IPCC.Web.UI.al.addHandler(fa,"mousewheel",this.RG);IPCC.Web.UI.al.addHandler(fa,"DOMMouseScroll",this.RG);if(qA){IPCC.Web.UI.al.addHandler(fa,"touchstart",this.RU);IPCC.Web.UI.al.addHandler(fa,"touchmove",this.Rw);IPCC.Web.UI.al.addHandler(fa,"touchend",this.Rx);IPCC.Web.UI.al.addHandler(fa,"touchcancel",this.II);}IPCC.Web.UI.al.addHandler(fa,"mouseout",this.oX);IPCC.Web.UI.al.addHandler(fa,"dragstart",this.amY);};this.aEi=function(){var fa=T.mG().igElements.nY;IPCC.Web.UI.al.removeHandler(fa,"DOMMouseScroll",this.RG);IPCC.Web.UI.al.removeHandler(fa,"mouseout",this.oX);if(qA){IPCC.Web.UI.al.removeHandler(fa,"touchstart",this.RU);IPCC.Web.UI.al.removeHandler(fa,"touchmove",this.Rw);IPCC.Web.UI.al.removeHandler(fa,"touchend",this.Rx);IPCC.Web.UI.al.removeHandler(fa,"touchcancel",this.II);}IPCC.Web.UI.al.removeHandler(fa,"dragstart",this.amY);};function atI(aB,jg){var qS=document.createElementNS('http://www.w3.org/2000/svg','filter');var Kc='filter'+jg;aB.Kc=Kc;qS.setAttribute('id',Kc);qS.setAttribute('x','0');qS.setAttribute('y','0');qS.setAttribute('filterUnits','objectBoundingBox');qS.setAttribute('color-interpolation-filters','sRGB');return qS;};function asA(jg){var lk=document.createElementNS('http://www.w3.org/2000/svg','feConvolveMatrix');lk.setAttribute('in','SourceGraphic');lk.setAttribute('result',jg+'lk');lk.setAttribute('preserveAlpha','true');if(IPCC.h.AX){lk.setAttribute('order','3 3');lk.setAttribute('kernelMatrix','0 0 0 0 1 0 0 0 0');}else{lk.setAttribute('order','5 5');lk.setAttribute('kernelMatrix','0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0');}return lk;};function asb(jg){var ql=document.createElementNS('http://www.w3.org/2000/svg','feComponentTransfer');ql.setAttribute('in',jg+'lk');ql.setAttribute('result',jg+'ql');return ql;};function ase(jg){var sa=document.createElementNS('http://www.w3.org/2000/svg','feFuncR');sa.setAttribute('type','gamma');sa.setAttribute('amplitude','1');sa.setAttribute('exponent','1');sa.setAttribute('offset','0');var sn=document.createElementNS('http://www.w3.org/2000/svg','feFuncG');sn.setAttribute('type','gamma');sn.setAttribute('amplitude','1');sn.setAttribute('exponent','1');sn.setAttribute('offset','0');var so=document.createElementNS('http://www.w3.org/2000/svg','feFuncB');so.setAttribute('type','gamma');so.setAttribute('amplitude','1');so.setAttribute('exponent','1');so.setAttribute('offset','0');return{sa:sa,sn:sn,so:so};};function asm(aB,jg){var IY=document.createElementNS('http://www.w3.org/2000/svg','feMerge');var afY=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');var ago=document.createElementNS('http://www.w3.org/2000/svg','feMergeNode');afY.setAttribute('in',jg+'lk');ago.setAttribute('in',jg+'ql');IY.appendChild(afY);IY.appendChild(ago);return IY;};this.apQ=function(aB,eW,sN,jg){var J,ak,cG,WV;var Qp=function(bf,cF,aQ){var cG=document.createElementNS('http://www.w3.org/2000/svg',bf);var J;if(cF){cG.setAttribute('id',cF);}for(J in aQ){if(aQ.hasOwnProperty(J)){cG.setAttribute(J,aQ[J]);}}return cG;};var et=Qp('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});var qS=atI(aB,jg);aB.aHk=qS;var lk=asA(jg);aB.lk=lk;qS.appendChild(lk);var ql=asb(jg);aB.ql=ql;qS.appendChild(ql);var Du=ase();ql.appendChild(Du.sa);ql.appendChild(Du.sn);ql.appendChild(Du.so);aB.sa=Du.sa;aB.sn=Du.sn;aB.so=Du.so;var IY=asm(aB,jg);qS.appendChild(IY);et.appendChild(qS);aB.tI=Qp('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});et.appendChild(aB.tI);var So=Qp('g',null,{});aB.Cg=So;et.appendChild(So);var cW;if(T.rd()===false){cW=sN.fr.length;}else{cW=1;}for(J=0;J<cW;J++){ak=sN.fr[J];ak.pool.parentElementID=jg+J.toString();WV=1/ak.ct;cG=Qp('g',ak.pool.parentElementID,{transform:'matrix('+WV.toString()+',0,0,'+WV.toString()+',0,0)'});So.appendChild(cG);}aB.yZ=et;eW.appendChild(et);};this.apq=function(jb){var awK=this.ahd();jb.elementID=awK;};this.aAa=function(jb){var cG=document.getElementById(jb.elementID);this.fW(cG,'display','none');};this.agW=function(jb){var cG=document.getElementById(jb.elementID);if(cG===null){jb.elementID='';return;}cG.setAttributeNS('http://www.w3.org/1999/xlink','href','');cG.parentNode.removeChild(cG);jb.elementID='';};var awr=function(aI){try{aI.target.onload=undefined;aI.target.onerror=undefined;aI.target.onabort=undefined;var jb=aI.target.poolItem;jb.loaded=true;bo.zr();}catch(ex){T.ba('downloadImage',ex);}};var amz=function(aI){try{aI.target.onload=undefined;aI.target.onerror=undefined;aI.target.onabort=undefined;aI.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');aI.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){T.ba('downloadImage',ex);var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}};this.aAc=function(yw){var J;var cW=yw.length;if(T.rd()===false){cW=yw.length;}else{cW=1;}for(J=0;J<cW;J++){var eo=yw[J];var cG=document.getElementById(eo.poolItem.elementID);if(cG===null){var jb=eo.poolItem;var Qz=jb.pool;var eW=document.getElementById(Qz.parentElementID);cG=document.createElementNS('http://www.w3.org/2000/svg','image');this.fW(cG,'id',jb.elementID);this.fW(cG,'externalResourcesRequired','true');cG.poolItem=jb;cG.onload=awr;cG.onerror=amz;cG.onabort=amz;if(document.documentMode>8||IPCC.h.us.Am){jb.loaded=true;}cG.setAttributeNS('http://www.w3.org/1999/xlink','href','data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7');this.aqa(cG,eo.url,'image/'+eo.contentType);eW.appendChild(cG);this.fW(cG,'display','block');var aD=eo.right-eo.x;var ab=eo.bottom-eo.y;this.fW(cG,'x',eo.x);this.fW(cG,'y',eo.y);this.fW(cG,'width',aD);this.fW(cG,'height',ab);if(cW>1){var asG=aD-eo.yX;var aql=ab-eo.yd;var LJ=document.createElementNS('http://www.w3.org/2000/svg','clipPath');LJ.id=cG.id+'_clip';var eN=document.createElementNS('http://www.w3.org/2000/svg','rect');this.fW(eN,'x',eo.x-eo.yX);this.fW(eN,'y',eo.y-eo.yd);this.fW(eN,'width',asG);this.fW(eN,'height',aql);this.fW(eN,'class','expand-on-print');LJ.appendChild(eN);var insertBeforeElement=null;for(var i=0;i<eW.childNodes.length;i++){if(eW.childNodes.item(i).getAttribute('x')<eo.x||eW.childNodes.item(i).getAttribute('y')<eo.y){insertBeforeElement=eW.childNodes.item(i);break;}}eW.insertBefore(cG,insertBeforeElement);eW.appendChild(LJ);this.fW(cG,'style','clip-path: url(#'+LJ.id+')');this.fW(cG,'class','no-clip-on-print');}}this.fW(cG,'display','block');}if((document.documentMode>8||IPCC.h.us.Am)&&yw.length>0){bo.zr();}};this.aqa=function(cG,ai,tq){var qg=true;var lE=0;if(T.jG()===0){qg=false;}function er(bL){var di,dM;try{var fF=IPCC.Web.Gl(bL),aaL;var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");if(nP==='true'&&T.im()===true){var uQ=IPCC.Web.gp.qc.uV(bL.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Gi(uQ,iM);var vb=IPCC.Web.GA(fF,be,iM);aaL=IPCC.Web.gp.qc.mr(vb,0,0);}else{aaL=IPCC.Web.gp.qc.mr(fF,0,0);}cG.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+tq+';base64,'+aaL);}catch(ex){di="Image error, Error message = "+ex.message;dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);throw new IPCC.Web.UI.ImGearArgumentException(null,di);}};function eA(aP){var gP=aP.response.status,di,ng,lX;if(!aP.response){throw new IPCC.Web.UI.ImGearHttpException(gP,"Client Image load timeout");}if(gP===403){lE++;if(aP.response.statusText&&aP.response.statusText!==""){di="Expired viewer session ID, error message from the server: "+aP.response.statusText;}else{di="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}ng=aP.response.getResponseHeader('Accusoft-Status-Message');if(ng){var pZ;lX=aP.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wd(lX)){pZ=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,ng,pZ);}else{if(aP.response.statusText&&aP.response.statusText!==""){di=aP.response.statusText;}else{di="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}};var hA={method:'GET'};if(qg===true){hA.timeout=T.jG();}if(T.axg()&&T.im()===true){var iM=IPCC.Web.IE.aiI(4);var pW=IPCC.Web.gp.Ho.mr(iM);var aET=ai+'&iv='+pW;hA.url=aET;}else{hA.mimeType='text/plain; charset=x-user-defined';hA.url=ai;}IPCC.h.mY.fu(hA).then(er,eA);};this.azr=function(aB){var C=this;if(aB.SG){return;}var lE=0;var eo=aB.sN.fr[0].tiles[0];if(!eo){return;}var Qz=eo.level.pool;var eW=document.getElementById(Qz.parentElementID);var qg=true;if(T.jG()===0){qg=false;}var vq=T.abz();if(aB.Gy){if(vq===2){delete aB.Gy;if(eW.childNodes.length>0){eW.removeChild(eW.childNodes[0]);}}else if(vq===1){if(eW.childNodes.length>0){eW.removeChild(eW.childNodes[0]);}}else{if(eW.childNodes.length===0){eW.appendChild(aB.arM);}}T.vy=true;return;}if(vq>0){return;}function er(bL){var dM,di;aB.SG=false;try{try{var oi;var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");if(nP==='true'&&T.im()===true){var uQ=IPCC.Web.gp.qc.uV(bL.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Gi(uQ,iM);var fF=IPCC.Web.Gl(bL);var vb=IPCC.Web.GA(fF,be,iM);oi=IPCC.Web.gp.EP.mr(vb);}else{oi=bL.responseText;}aDs(oi);}catch(ex){di="SVG image error, Error message = "+ex.message;dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ex;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);throw new IPCC.Web.UI.ImGearArgumentException(null,di);}}catch(e){T.ba('openPage',e);if(typeof(T.ad)==='function'){dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};function eA(aP){var dM,di,ng,lX;aB.SG=false;try{if(!aP.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Client SVG load timeout");}var gP=aP.response.status;if(gP===480){lE++;if(aP.response.statusText&&aP.response.statusText!==""){di=di="PDF file password required, error message from the server: "+aP.response.statusText;}else{di="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}if(gP===403){lE++;if(aP.response.statusText&&aP.response.statusText!==""){di="Expired viewer session ID, error message from the server: "+aP.response.statusText;}else{di="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}ng=aP.response.getResponseHeader('Accusoft-Status-Message');if(ng){var pZ;lX=aP.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wd(lX)){pZ=parseInt(lX,10);}throw new IPCC.Web.UI.ImGearHttpException(gP,ng,pZ);}else{if(aP.response.statusText&&aP.response.statusText!==""){di=aP.response.statusText;}else{di="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(gP,di);}}catch(e){T.ba('openPage',e);if(typeof(T.ad)==='function'){dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=T.bm;T.ad('pageOpenFailed',dM);}}};var avl=function(){var as=T.bx();var CK=as.aip();T.vy=true;T.ad('pageDisplayed',{aq:T.bm});if(CK){C.afA(aB);}};var aDs=function(gS){var mg=Qz.parentElementID.toString();var KW=(IPCC.h.AX||IPCC.h.YJ)?'':window.location.href.replace(window.location.hash,'').replace(/#$/,'');var vi=IPCC.h.apH(gS,KW,mg);var pG=vi.querySelectorAll('style');IPCC.h.forEach(pG,function(af){var DR=(af.styleSheet)?af.styleSheet.cssText:af.textContent;if(af.styleSheet){af.styleSheet.cssText=DR;}else{af.appendChild(document.createTextNode(DR));}});var kT=null;var Ha=vi.firstChild;while(Ha!==null){if(Ha.nodeName==='svg'){kT=Ha;break;}Ha=Ha.nextSibling;}if(kT===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aB.Gy){aB.arM=kT;eW.appendChild(kT);aB.Gy=true;if(!T.vy&&aB.Gy){setTimeout(avl,1);}}};var ai;var iM,pW;T.vy=false;if(T.im()===true){iM=IPCC.Web.IE.aad(4,IPCC.Web.PG());pW=IPCC.Web.gp.Ho.mr(iM);ai=eo.url+'&iv='+pW;}else{ai=eo.url;}var hA={method:'GET',url:ai,cache:true};if(qg===true){hA.timeout=T.jG();}aB.SG=true;IPCC.h.mY.fu(hA).then(er,eA);};this.aDo=function(eo,co){if(!eo){return;}var CP=document.getElementById(eo.poolItem.elementID);this.fW(CP,'x',eo.x);this.fW(CP,'y',eo.y);this.fW(CP,'width',eo.right-eo.x);this.fW(CP,'height',eo.bottom-eo.y);this.fW(CP,'opacity',co);this.fW(CP,'display','block');};this.abb=function(yw,co,eJ){var J;if(T.rd()===false){for(J=0;J<yw.length;J++){this.aDo(yw[J],co);}}};return this;};eF.viewerCounter=0;eF.tileCounter=0;eF.imageIDCounter=0;eF.prototype.aCk=function(T){this.jg=IPCC.eF.viewerCounter.toString();IPCC.eF.viewerCounter++;this.T=T;if(IPCC.cS){this.oq=new IPCC.Web.UI.MarkCollection();}var C=this;function awX(aV,R){C.avL(R);};function wx(aV,R){C.apD(R);};T.kw(awX);T.add_markAdded(wx);T.add_markChanged(wx);T.add_inProgressMarkChanged(wx);T.add_markRemoved(wx);T.add_markReordered(wx);T.add_marksLoaded(wx);T.add_markSelectionChanged(wx);T.add_markTextSelectionChanged(wx);};eF.prototype.ahd=function(){var cF='igtile'+IPCC.eF.tileCounter.toString();IPCC.eF.tileCounter++;return cF;};eF.prototype.zr=function(){this.PK=true;this.Bj=this.Bj&&this.ZQ;var C=this;var aqz=function(){if(!C.PK){return;}C.cv(C.T.cY(),C.T.bx(),C.T.fe());C.Bj=true;};window.setTimeout(aqz,0);};eF.prototype.avL=function(R){var tC=R.get_propertyName();switch(tC){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.T.bx().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.HN=true;if(this.T.zW()===true){this.zr();}return;case 'displayedPageRectangle':if(this.T.vy===true){this.zr();return;}break;case 'redactionDraftMode':this.HN=true;this.zr();return;}if(this.T.zW()===true){this.zr();}};eF.prototype.apD=function(R){if(R.mark&& !this.HN){this.oq.addMark(R.mark);}else{this.HN=true;}if(this.T.zW()===true){this.zr();}};eF.prototype.SX=function(){this.kn=this.eJ.clone();this.kn.nc(this.ack,this.acc);this.kn.kZ(this.T.cY(),this.T.fe());this.qk=this.kn.clone();this.qk.vo();};eF.prototype.cv=function(ao,as,bO){try{this.PK=false;if(this.PN===true){return;}var cT=this.T.mG();if(cT===null){return;}var cV=cT.igElements;try{this.PN=true;if(this.HD===undefined||ao===undefined|| !(this.HD.equals(ao))){if(this.XY){if(this.ik){this.aEi(this.ik);var fa=cV.nY;IPCC.Web.UI.al.removeHandler(fa,"mousedown",this.alR);IPCC.Web.UI.al.removeHandler(fa,"mousemove",this.anw);IPCC.Web.UI.al.removeHandler(fa,"mouseup",this.amJ);IPCC.Web.UI.al.removeHandler(fa,"dblclick",this.agK);IPCC.Web.UI.al.removeHandler(fa,"contextmenu",this.akz);IPCC.Web.UI.al.removeHandler(cV.fk,"blur",this.Lv);IPCC.Web.UI.al.removeHandler(cV.hi,"blur",this.afI);IPCC.Web.UI.al.removeHandler(cV.ca,"blur",this.Lv);}delete this.ik;this.ahf(cV.qW);this.ahf(cV.Bq);this.XY=false;if(this.FF!==undefined){this.FF.unlockAllItems();}if(this.HH!==undefined){this.HH.unlockAllItems();}this.FF=undefined;this.HH=undefined;cT.igElements.mU.onscroll=null;cT.igElements.mU.onresize=null;}if(cT.querySelectorAll){if(cT.querySelectorAll(".pccPageLoadFail").length===0){cT.innerHTML='';}}this.T.pd(true);if(ao===undefined){this.PN=false;this.HD=undefined;this.asB();return;}this.HD=ao.clone();this.FF=new IPCC.rm();this.FF.createPyramid(this,this.T);this.HH=new IPCC.rm();this.HH.createPyramid(this,this.T);this.XY=true;this.apC(this.jg);}this.eJ=as.eT();var PA=this.eJ.od(ao);this.eJ.nc(-PA.x,-PA.y);this.aqL=this.eJ.clone();this.aqL.vo();this.ack=Math.round(PA.x);this.acc=Math.round(PA.y);this.SX();this.avy(ao,as,bO);if(ao.bm===0){this.SX();}}finally{this.PN=false;this.HN=false;if(this.oq){this.oq.removeAllMarks();}}this.aeQ(true);}catch(e){this.T.ba('display',e);throw e;}};eF.prototype.aBQ=function(vY,wE,vT){if(vY[wE]===vT){return;}vY[wE]=vT;};eF.prototype.fW=function(vY,wE,vT){if(vY.getAttribute(wE)===vT){return;}vY.setAttribute(wE,vT);};eF.prototype.Cb=function(vY,wE,vT){if(vY.style[wE]===vT){return;}vY.style[wE]=vT;};eF.prototype.aeQ=function(ari){if(this.PN){return;}if(this.PK&& !this.Bj){return;}if(!ari){try{this.ZQ=true;var cT=this.T.mG();if(cT){this.xW=cT.igElements.mU.scrollLeft;this.xq=cT.igElements.mU.scrollTop;}this.atZ();this.SX();this.T.bx().iI(this.kn);this.T.ad('userModifiedViewState',{});this.T.pd(false);}finally{this.ZQ=false;}}};eF.prototype.aAs=function(aB,eJ,aEA){var sN=aB.sN;var oS=sN.axA(eJ,aEA);if(!this.T.vy&&oS.tilesToRequest.length===0&&(oS.opaqueTiles.length+oS.translucentTiles.length)>0){this.T.vy=true;this.T.ad('pageDisplayed',{aq:this.T.bm});}sN.axL(oS);if(this.T.rd()===false){this.aAc(oS.tilesToRequest);this.abb(oS.opaqueTiles,1,eJ);this.abb(oS.translucentTiles,oS.opacity,eJ);}};eF.prototype.apC=function(jg){var T=this.T;var cT=T.mG();var as=T.bx();var bo=this;function gy(sQ){var wa=document.createElement('div');var J;for(J in sQ){if(sQ.hasOwnProperty(J)){wa.style[J]=sQ[J];}}return wa;};var cV={};cT.igElements=cV;var kQ=gy({width:'100%',height:'100%',position:'relative',overflow:as.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});cV.mU=kQ;kQ.setAttribute('class','igViewerScroller');kQ.onscroll=function(){bo.aeQ(false);};kQ.onresize=function(){var bO=T.fe();bO.width=kQ.clientWidth;bO.height=kQ.clientHeight;T.ad('resize',{});};var fa=gy({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kQ.appendChild(fa);cV.nY=fa;fa.setAttribute('class','igViewerGraphics');this.zN=2;this.zE=2;this.xW=0;this.xq=0;var aB={};aB.sN=this.FF;aB.Zk='ig'+jg+'level';cV.qW=aB;this.agi(aB,fa,gy);aB.rA=this.rA;var lG;if(T.rd()===false){lG=gy({position:'absolute',display:'none',width:(as.wn().width+4)+'px',height:(as.wn().height+4)+'px',backgroundColor:'#000000'});}else{lG=gy({position:'absolute',display:'none',width:(as.wn().width+4)+'px',height:(as.wn().height+4)+'px',backgroundColor:'#cccccc'});}fa.appendChild(lG);cV.lG=lG;lG.setAttribute('class','igMagnifierFrame');var sp=gy({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});cV.sp=sp;lG.appendChild(sp);aB={};aB.sN=this.HH;aB.Zk='ig'+jg+'maglevel';cV.Bq=aB;this.agi(aB,sp,gy);aB.rA=this.aqy;var NC=document.createTextNode('');cV.NC=NC;var fk=document.createElement('textarea');fk.appendChild(NC);fk.style.position='absolute';fk.style.overflow='auto';fk.style.width='80px';fk.style.height='80px';fk.style.resize='none';fk.style.display='none';kQ.appendChild(fk);cV.fk=fk;var YD=document.createTextNode('');cV.YD=YD;var hi=document.createElement('input');hi.type="text";hi.style.position='absolute';hi.style.overflow='hidden';hi.style.width='80px';hi.style.height='80px';hi.style.resize='none';hi.style.display='none';hi.style.padding='0px';hi.style.margin='0px';hi.style.lineHeight='normal';hi.className="no-ms-clear";var ano=function(ev){var xL=hi,aD=parseFloat(xL.style['width']),ab=parseFloat(xL.style['height']),ih=xL.style['fontFamily'];var aDk=xL.value.length>xL.placeholder.length?xL.value:xL.placeholder;var jy=IPCC.h.vz(aDk,ih,{wo:'pre',et:cV.qW.yZ}),wA=12*aD/(jy.width||1),vw=12*ab/(jy.height||1),zT=Math.floor(Math.min(wA,vw))*0.9;xL.style.fontSize=zT+'px';};hi.onkeyup=ano;hi.onfocus=function(ev){ano(ev);if(hi.setSelectionRange){var fS=hi.value.length*2;hi.setSelectionRange(fS,fS);}};kQ.appendChild(hi);cV.hi=hi;var qd=document.createTextNode('');cV.qd=qd;var ca=document.createElement('textarea');ca.appendChild(qd);ca.style.position='absolute';ca.style.overflow='hidden';ca.style.width='80px';ca.style.height='80px';ca.style.resize='none';ca.style.display='none';ca.style.whiteSpace='pre-wrap';ca.style.border=0;ca.style.padding='2px';ca.style.fontStyle='normal';var awC=function(bJ){var anO=T.IL();var ct=T.bx().eT().qh();var jf=anO.jf*ct;var bg=T.mc().ir()*ct;IPCC.h.abS(ca,jf,bg);};ca.onkeyup=awC;kQ.appendChild(ca);cV.ca=ca;this.ik={};this.aoJ(this.ik);IPCC.Web.UI.al.addHandler(fa,"mousedown",this.alR);IPCC.Web.UI.al.addHandler(fa,"mousemove",this.anw);IPCC.Web.UI.al.addHandler(fa,"mouseup",this.amJ);IPCC.Web.UI.al.addHandler(fa,"dblclick",this.agK);IPCC.Web.UI.al.addHandler(fa,"contextmenu",this.akz);IPCC.Web.UI.al.addHandler(fk,"blur",this.Lv);IPCC.Web.UI.al.addHandler(hi,"blur",this.afI);IPCC.Web.UI.al.addHandler(ca,"blur",this.Lv);cT.appendChild(kQ);};eF.prototype.agi=function(aB,eW,gy){var rw=gy({width:'2px',height:'2px',position:'absolute'});aB.eW=eW;eW.appendChild(rw);aB.akq=rw;rw.setAttribute('class','igAnchor');this.apQ(aB,rw,aB.sN,aB.Zk);aB.BB=gy({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});rw.appendChild(aB.BB);var lA=gy({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});lA.style[this.aye]=this.awt(0.5);rw.appendChild(lA);aB.lA=lA;};eF.prototype.ahf=function(aB){if(aB&&aB.PJ){aB.rA.aDw();aB.PJ=false;}aB.eW=null;};eF.prototype.avy=function(ao,as,bO){var T=this.T;var mh=this.kn.od(ao);var cT=T.mG();var asM=T.azN();var zo=T.azK();var cV=cT.igElements;var qW=cV.qW;var Bq=cV.Bq;var kQ=cV.mU;var fa=cV.nY;var rw=qW.akq;var lG=cV.lG;var sp=cV.sp;var anh=Bq.akq;var Ku=Math.max(0,-mh.x);var Jm=Math.max(0,-mh.y);var aAF=Math.max(mh.width,bO.width);var azw=Math.max(mh.height,bO.height);var mx=Math.max(0,mh.x);var mb=Math.max(0,mh.y);var acK=false;var CI=false;if(as.CA()){CI=as.wS();}var aCs=this.zN;this.zN=Math.floor(aAF-1);if(this.zN<0){this.zN=0;}var aCV=this.zE;this.zE=Math.floor(azw-1);if(this.zE<0){this.zE=0;}if(T.rd()===true){if(this.zE===0){this.zE=2;}if(this.zN===0){this.zN=2;}}var aCG=this.xW;var aBs=this.xq;if(!this.Bj){this.xW=Math.floor(Ku);this.xq=Math.floor(Jm);}if(this.abr){this.Cb(rw,'left',mx+'px');this.Cb(rw,'top',mb+'px');}var eJ=as.eT();eJ.nc(Ku-mx,Jm-mb);this.adF(qW,as.eT(),eJ,ao,bO,CI,mx,mb);this.Cb(kQ,'overflow',as.get_overflow());if(bO.width!==kQ.clientWidth||bO.height!==kQ.clientHeight){bO.width=kQ.clientWidth;bO.height=kQ.clientHeight;acK=true;}this.aBQ(rw.style,'visibility','visible');if(as.get_magnifierIsVisible()){var tP=as.get_magnifierWindowPosition();var Ah=as.wn();var NU=as.Mr();var NG=as.Mu();var Vp=as.axP();var aGn=Math.round(tP.x-Ah.width/2+Ku+NU);var aFl=Math.round(tP.y-Ah.height/2+Jm+NG);var LM=Vp.od(ao);var aCX=Math.max(0,-LM.x);var aEc=Math.max(0,-LM.y);this.Cb(anh,'left',LM.x+'px');this.Cb(anh,'top',LM.y+'px');var NZ=2;lG.style.width=(Ah.width+NZ*2)+'px';lG.style.height=(Ah.height+NZ*2)+'px';sp.style.width=Ah.width+'px';sp.style.height=Ah.height+'px';sp.style.left=NZ+'px';sp.style.top=NZ+'px';lG.style.left=aGn+'px';lG.style.top=aFl+'px';var adA=Vp.clone();adA.nc(aCX,aEc);this.adF(Bq,Vp,adA,ao,Ah,CI,0,0);lG.style.display='block';}else{lG.style.display='none';}if(T.ahK()){var iV=T.IL();var aof=iV.ff();var jz=this.kn.zk(aof);var lQ=(iV.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var abv=iV.ez* -1,ahm=iV.ez* -1;if(jz.width<lQ){jz.width=lQ;}if(jz.height<lQ){jz.height=lQ;}if(jz.width>bO.width){jz.width=bO.width;}if(jz.height>bO.height){jz.height=bO.height;}if(jz.x<0){jz.x=0;}if(jz.y<0){jz.y=0;}if(jz.x+jz.width+1>=bO.width){jz.x=bO.width-jz.width;abv= -8;}if(jz.y+jz.height+1>=bO.height){jz.y=bO.height-jz.height;ahm= -8;}var iF=this.Mp(iV);iF.style.left=this.xW+jz.x+1+(iV.ez/2)+'px';iF.style.top=this.xq+jz.y+1+(iV.ez/2)+'px';iF.style.width=jz.width+abv-1+'px';iF.style.height=jz.height+ahm-1+'px';if(iF.style.display!=='block'){iF.style.display='block';iF.style.whiteSpace='pre-wrap';var rO=iV.cc;var rY='';if(rO&IPCC.Web.UI.FontStyle.Italic){iF.style.fontStyle="italic";}if(rO&IPCC.Web.UI.FontStyle.Bold){iF.style.fontWeight="bold";}if(rO&IPCC.Web.UI.FontStyle.Underline){rY+="underline";}if(rO&IPCC.Web.UI.FontStyle.Strikeout){if(rO&IPCC.Web.UI.FontStyle.Underline){rY+=" line-through";}else{rY="line-through";}}iF.style.textDecoration=rY;iF.style.color=iV.qN;iF.style.backgroundColor=iV.fE;iF.style.fontFamily=iV.gb;iF.style['z-index']=100;var zT=iV.FC*this.kn.qh();if(zT){iF.style.fontSize=zT+"px";}switch(iV.hO){case IPCC.Web.UI.HorizontalAlignment.Center:iF.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:iF.style.textAlign='right';break;default:iF.style.textAlign='left';break;}if(iV.gJ){setTimeout(function(){cV.fk.maxLength=iV.gJ;cV.hi.maxLength=iV.gJ;cV.ca.maxLength=iV.gJ;},0);}if(iV.hW){if(zo){zo.destroy();T.ZA(null);}T.ZA(new PCCViewer.aDB(iF,iV.hW));}if(iV.jm()===IPCC.Web.UI.MarkType.TextAreaSignature){var ca=IPCC.h.aiQ();ca.style.width=cV.ca.style.width;ca.style.height=cV.ca.style.height;ca.style.fontFamily=cV.ca.style.fontFamily;ca.style.fontStyle=cV.ca.style.fontStyle;ca.style.fontWeight=cV.ca.style.fontWeight;var ct=T.bx().eT().qh();var jf=iV.jf*ct;var bg=T.mc().ir()*ct;IPCC.h.aje().nodeValue=iV.bv||'m';cV.ca.style.fontSize=IPCC.h.abS(ca,jf,bg)+'px';}iF.focus();}}else{cV.fk.style.display='none';cV.hi.style.display='none';cV.ca.style.display='none';cV.fk.removeAttribute('maxlength');cV.hi.removeAttribute('maxlength');cV.ca.removeAttribute('maxlength');if(zo){zo.destroy();T.ZA(null);}if(document.activeElement===cV.fk){cV.fk.blur();}if(document.activeElement===cV.hi){cV.hi.blur();}if(document.activeElement===cV.ca){cV.ca.blur();}}if(acK){T.ad('resize',{});}if(this.zN!==aCs){this.Cb(fa,'width','100%');}if(this.zE!==aCV){this.Cb(fa,'height','100%');}if(this.xW!==aCG){kQ.scrollLeft=this.xW;}if(this.xq!==aBs){kQ.scrollTop=this.xq;}if(asM==="PageView"&& !this.Bj){as=T.bx();var bD=as.eT();var wO=(+bD.qh().toFixed(6));if(T.Nt!==wO){T.Nt=wO;setTimeout(function(){T.ad('scaleChanged',{scaleFactor:wO,pageNumber:T.bm});},1);T.ad('scaleChanged',{scaleFactor:wO,pageNumber:T.bm});}}};eF.prototype.adF=function(aB,kn,eJ,ah,bO,CI,mx,mb){var mh=kn.od(ah);var ow={};ow.width=Math.max(mh.width,bO.width);ow.height=Math.max(mh.height,bO.height);this.avT(aB,kn,eJ,ah,bO,mx,mb);this.adp(aB,eJ,ow,ah,mx,mb);if(this.T.rd()===false){this.amu(aB,bO,kn,eJ);}else{this.azr(aB);var as=this.T.bx();var CK=as.aip();if(this.T.vy&&CK){this.afA(aB);}}this.awv(aB);if(CI){var Bz=eJ.zk(CI);if(this.abr){aB.lA.style.left=(Bz.x-2)+'px';aB.lA.style.top=(Bz.y-2)+'px';}else{aB.lA.style.left=(Bz.x-2+mx)+'px';aB.lA.style.top=(Bz.y-2+mb)+'px';}aB.lA.style.width=Bz.width+'px';aB.lA.style.height=Bz.height+'px';aB.lA.style.display='block';}else{aB.lA.style.display='none';}};eF.prototype.amu=function(aB,bO,kn,eJ){var afG=this.T.aCg();var Je={x:0,y:0,width:bO.width,height:bO.height};if(afG){var xR=afG.getBoundingClientRect();var gT=aB.eW.getBoundingClientRect();var PV;if(gT.left<xR.left){PV=xR.left-gT.left;Je.x=(PV/gT.width)*bO.width;}if(gT.right>xR.right){Je.width=xR.width;}if(gT.top<xR.top){PV=xR.top-gT.top;Je.y=(PV/gT.height)*bO.height;}if(gT.bottom>xR.bottom){Je.height=xR.height;}}var qk=kn.clone();qk.vo();var atY=qk.zk(Je);this.aAs(aB,eJ,atY);};eF.prototype.avT=function(aB,kn,eJ,ah,bO,mx,mb){var aA=this.T.ee();var gI=this.T.mp();var eP=this.T.Ot();var agl=0;var C=this;if(aB.ki){agl=aB.ki.length;}if(!aB.rA|| !aA){return;}var og=this.T.axJ();if(aA.get_markCount()<=0&&gI.get_markCount()<=0&&eP.get_markCount()<=0&&agl<=0&& !og){return;}if(!aB.PJ){aB.rA.ara(this.T,aB,ah);aB.ki=[];aB.PJ=true;}gI=this.T.mp();var bA=[];function asx(V){if((C.T.lu()&&C.T.dc().nU()===true)||V.get_type()!==IPCC.Web.UI.MarkType.Highlight){bA.push(V);}};function ajg(V){bA.push(V);};eP.forEachMark(ajg);gI.forEachMark(ajg);aA.forEachMark(asx);if(og){bA.push(og);}var J,ki=aB.ki;for(J=0;J<ki.length;J++){while(J<ki.length&&(J>=bA.length||ki[J].V!==bA[J])){aB.rA.Qa(ki[J]);ki.splice(J,1);}if(J<ki.length&&(this.HN||this.oq.contains(ki[J].V))){aB.rA.acD(ki[J]);}}for(J=ki.length;J<bA.length;J++){ki[J]={V:bA[J]};var K=ki[J];if(!K){continue;}aB.rA.aqq(ki[J]);}if(this.abr){aB.rA.aeU(this.T,aB,bA,eJ,this.T.ajy());}else{var acr=eJ.clone();acr.nc(mx,mb);aB.rA.aeU(this.T,aB,bA,acr,this.T.ajy());}};eF.prototype.adp=function(){};eF.prototype.atZ=function(){var cT=this.T.mG();if(cT){this.ack=cT.igElements.nY.offsetLeft-this.xW;this.acc=cT.igElements.nY.offsetTop-this.xq;}};eF.prototype.qZ=function(R,cv){var he=this.T.mG().igElements;var ip=R.domEvent;var ey;if(he.nY.getBoundingClientRect){ey=he.nY.getBoundingClientRect();}else{var fm=he.nY;var wz=document.documentElement;ey={left:wz.clientLeft-wz.scrollLeft,top:wz.clientTop-wz.scrollTop};fm=fm.offsetParent;while(fm){ey.top+=fm.offsetTop-fm.scrollTop;ey.left+=fm.offsetLeft-fm.scrollLeft;fm=fm.offsetParent;}}if(ip.rawEvent.touches){if(ip.rawEvent.touches.length>0){this.Oq=new IPCC.Web.UI.Point(ip.rawEvent.touches[0].clientX-he.mU.scrollLeft-ey.left,ip.rawEvent.touches[0].clientY-he.mU.scrollTop-ey.top);}if(!this.Oq){this.Oq=new IPCC.Web.UI.Point(0,0);}R.windowPoint=new IPCC.Web.UI.Point(this.Oq.x,this.Oq.y);ip.button=0;}else{R.windowPoint=new IPCC.Web.UI.Point(ip.clientX-ey.left-he.mU.scrollLeft,ip.clientY-ey.top-he.mU.scrollTop);}var Pd=this.qk.transform(R.windowPoint);R.imagePoint=new IPCC.Web.UI.Point(Pd.x,Pd.y);R.constrainedImagePoint=new IPCC.Web.UI.Point(Pd.x,Pd.y);R.constrainedImagePoint.x=Math.min(Math.max(R.constrainedImagePoint.x,0),this.HD.width);R.constrainedImagePoint.y=Math.min(Math.max(R.constrainedImagePoint.y,0),this.HD.height);R.pointLiesWithinImage=(R.constrainedImagePoint.x===R.imagePoint.x&&R.constrainedImagePoint.y===R.imagePoint.y);R.mark=null;try{var dI=ip.target;while(!(dI.ImGearMarkRelation)&&dI.parentNode&&dI!==document.body){dI=dI.parentNode;}if(dI.ImGearMarkRelation){R.mark=dI.ImGearMarkRelation.V;}}catch(aI){}};eF.prototype.jQ=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);this.T.aBb(R);}catch(ex){this.T.ba('mouseDown',ex);}};eF.prototype.lg=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);this.T.aCz(R);}catch(ex){this.T.ba('mouseMove',ex);}};eF.prototype.mn=function(aI){try{var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);if(!aI.rawEvent.wheelDelta){R.wheelDelta= -aI.rawEvent.detail*120;}else{R.wheelDelta=aI.rawEvent.wheelDelta;}this.T.aAe(R);}catch(ex){this.T.ba('mouseWheel',ex);}};eF.prototype.zV=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);this.T.aBI(R);}catch(ex){this.T.ba('mouseDoubleClick',ex);}};eF.prototype.kN=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);this.T.azR(R);}catch(ex){this.T.ba('mouseUp',ex);}};eF.prototype.TS=function(aI){try{aI.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=aI;this.qZ(R);this.T.aBu(R);}catch(ex){this.T.ba('contextMenu',ex);}};eF.prototype.awN=function(aI){try{this.T.pd(true);}catch(ex){this.T.ba('textAreaBlur',ex);}};eF.prototype.awD=function(aI){try{this.T.pd(true);}catch(ex){this.T.ba('textInputBlur',ex);}};eF.prototype.ayB=function(V){var fk=this.Mp(V);fk.value=V.bv||"";};eF.prototype.aAp=function(){var T=this.T;var V=T.IL();if(!V|| !T.ahK()){return;}var WK=this.Mp(V);if(document.activeElement===WK){WK.blur();}var bv=WK.value;bv=bv.replace(/(\n|\n\r|\r\n|\r)/g,'\n');V.set_text(bv);};eF.prototype.Mp=function(V){var he=this.T.mG().igElements,fk=null;if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){fk=he.hi;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fk=he.ca;}else if(V.get_type()===IPCC.Web.UI.MarkType.Text){fk=he.fk;}return fk;};module.exports=eF;},{}],56:[function(require,module,exports){var yE={};yE.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};module.exports=yE;},{}],57:[function(require,module,exports){var ImGearExceptions=require('./Web/UI/ImGearExceptions');var bH={bf:function(G,bp,bf){if(typeof(G)!==bf){throw new ImGearExceptions.yi(bp,typeof(G),bf);}},kz:function(G,bp){bH.bf(G,bp,'string');},iO:function(G,bp){if(!(G instanceof Date)){throw new ImGearExceptions.yi(bp,typeof(G),"Date");}},gH:function(G,bp){bH.bf(G,bp,'number');if(!isFinite(G)){throw new ImGearExceptions.pI(bp,G,'The value must be a number.');}},lx:function(G,bp,wg,wV){bH.bf(G,bp,'number');if(G<wg||G>wV|| !isFinite(G)){throw new ImGearExceptions.pI(bp,G,'The value must be a number between '+wg+' and '+wV+' inclusive.');}},Vu:function(G,bp,Ij){bH.bf(G,bp,'number');var J;for(J=0;J<Ij.length;J++){if(G===Ij[J]){return;}}var OE='';for(J=0;J<Ij.length;J++){if(J>0){if(J===Ij.length-1){OE+=' or ';}else{OE+=', ';}}OE+=Ij[J];}throw new ImGearExceptions.pI(bp,G,'The value must be '+OE+'.');},lZ:function(G,bp,wg,wV){bH.lx(G,bp,wg,wV);if(G!==Math.floor(G)){throw new ImGearExceptions.un(bp,'The value must be an integer.');}},cB:function(G,bp){bH.bf(G,bp,'string');if(!G.match(/#[0-9A-Fa-f]{6}/)){throw new ImGearExceptions.un(bp,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},VI:function(G,bp){bH.bf(G,bp,'string');if(!G.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new ImGearExceptions.un(bp,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},jX:function(G,bp,jX,aoP){bH.bf(G,bp,'number');var dq;var ZO=0;for(dq in jX){if(jX.hasOwnProperty(dq)){if(aoP){ZO|=jX[dq];}else{if(G===jX[dq]){return;}}}}var bW="";if(aoP){if((G|ZO)===ZO){return;}else{throw new ImGearExceptions.pI(bp,G,'The value must be zero or more members of the '+bW+' enumeration.');}}throw new ImGearExceptions.pI(bp,G,'The value must be a member of the '+bW+' enumeration.');},bM:function(G,bp){bH.gH(G.x,bp+'.x');bH.gH(G.y,bp+'.y');},F:function(G,bp){bH.gH(G.x,bp+'.x');bH.gH(G.y,bp+'.y');bH.gH(G.width,bp+'.width');bH.gH(G.height,bp+'.height');},yp:function(G,bp){if(!Array.isArray(G)){throw new ImGearExceptions.un(bp,'The value must be an array.');}}};module.exports=bH;},{"./Web/UI/ImGearExceptions":85}],58:[function(require,module,exports){var ef=require('./IPCC.Util').regEnum;var CW=function(){};CW.registerEnum=ef;CW.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};CW.registerEnum('IPCC.ViewMode',false);module.exports=CW;},{"./IPCC.Util":28}],59:[function(require,module,exports){var SU=function(qA){var as;var ao;var iA;var bO;var bo=this;var yo;var Ec='';var _debug=false;var pj=IPCC.Web.UI.DebugErrorLevel.Production;var lT=[];var aj=new IPCC.Web.UI.gA();var aA;var eP;var og=null;var JY=false;var vU=false;var yV;var amH=IPCC.Web.UI.ImGearArtDataServices.None;var Hx=false;var tp='';var qj;var anG=false;var afc=false;var vq=0;var sb=true;var jF;var gI;var ve=false;var akQ=true,oc=false;var aod=false;var zo=null;var QH;var ZR=false;var aF=null;this.Nt=0.0;this.lP=function(IO){if(!_debug){return false;}return pj>=IO;};this.nA=function(ko,JZ,ak){IPCC.iY.nA(ko,JZ,ak,Ec,yo);};this.ba=function(jE,hS){if(!this.lP(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var cu=jE+'() threw an exception ('+hS.name+'), "'+hS.message+'"';cu=cu.replace(/\n/g," ");this.nA(cu,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bo.ad('exceptionThrown',{"function_name":jE,"exception":hS,"pageNumber":bo.bm});};this.Mp=function(V){var he=this.mG().igElements,fk=null;if(V.get_type()===IPCC.Web.UI.MarkType.TextLine){fk=he.hi;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature){fk=he.ca;}else if(V.get_type()===IPCC.Web.UI.MarkType.Text){fk=he.fk;}return fk;};this.get_debug=function(){return _debug;};this.set_debug=function(G){var JW= ! !G;if(_debug===JW){return;}_debug=JW;this.cA('debug');};this.AA=function(){return pj;};this.JF=function(G){if(pj===G){return;}pj=G;this.cA('debugErrorLevel');};this.get_areMarksEditable=function(){return ZR;};this.set_areMarksEditable=function(G){if(ZR===G){return;}ZR=G;this.cA('areMarksEditable');};this.get_cursor=function(){return aF;};this.set_cursor=function(G){if(aF===G){return;}aF=G;this.cA('cursor');};this.aGG=function(G){Ec=G;};this.azN=function(){return Ec;};this.aDQ=function(G){yo=G;};this.aFr=function(G){QH=G;};this.aCg=function(){return QH;};this.fz=function(arQ){this.pd(false);var J;for(J=lT.length-1;J>=0;J--){if(lT[J]instanceof IPCC.kb){lT[J].bk(true);}else{lT[J].bk();}if(lT[J]instanceof IPCC.kF){lT[J].eB(true);}else{lT[J].eB();}}lT=arQ;for(J=0;J<lT.length;J++){lT[J].na(this);}};this.aHv=function(){var J;for(J=0;J<lT.length;J++){lT[J].bk();}};this.ga=function(afq,R){var J;for(J=0;J<lT.length;J++){if(R&&R.agH&&R.agH()){return;}if(lT[J][afq]){lT[J][afq](R);}}};this.azT=function(jt,cD){switch(jt){case 'touchstart':iA.aeA&&iA.aeA(cD);break;case 'touchmove':iA.acR&&iA.acR(cD);break;case 'touchend':iA.adw&&iA.adw(cD);break;case 'doubleTap':iA.aeP&&iA.aeP(cD);break;}};this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.add_mouseDown=function(H){aj.addHandler('mouseDown',H);};this.remove_mouseDown=function(H){aj.removeHandler('mouseDown',H);};this.add_mouseMove=function(H){aj.addHandler('mouseMove',H);};this.remove_mouseMove=function(H){aj.removeHandler('mouseMove',H);};this.add_mouseUp=function(H){aj.addHandler('mouseUp',H);};this.remove_mouseUp=function(H){aj.removeHandler('mouseUp',H);};this.add_contextMenu=function(H){aj.addHandler('contextMenu',H);};this.remove_contextMenu=function(H){aj.removeHandler('contextMenu',H);};this.avm=function(H){aj.addHandler('contextMenuCommand',H);};this.aFs=function(H){aj.removeHandler('contextMenuCommand',H);};this.add_mouseWheel=function(H){aj.addHandler('mouseWheel',H);};this.remove_mouseWheel=function(H){aj.removeHandler('mouseWheel',H);};this.add_mouseOut=function(H){aj.addHandler('mouseOut',H);};this.remove_mouseOut=function(H){aj.removeHandler('mouseOut',H);};this.aps=function(H){aj.addHandler('resize',H);};this.aFw=function(H){aj.removeHandler('resize',H);};this.apc=function(H){aj.addHandler('userModifiedViewState',H);};this.aIp=function(H){aj.removeHandler('userModifiedViewState',H);};this.add_scaleChanged=function(H){aj.addHandler('scaleChanged',H);};this.remove_scaleChanged=function(H){aj.removeHandler('scaleChanged',H);};this.add_markAdded=function(H){aj.addHandler('markAdded',H);};this.remove_markAdded=function(H){aj.removeHandler('markAdded',H);};this.add_markCreating=function(H){aj.addHandler('markCreating',H);};this.remove_markCreating=function(H){aj.removeHandler('markCreating',H);};this.add_markChanged=function(H){aj.addHandler('markChanged',H);};this.remove_markChanged=function(H){aj.removeHandler('markChanged',H);};this.add_inProgressMarkChanged=function(H){aj.addHandler('inProgressMarkChanged',H);};this.remove_inProgressMarkChanged=function(H){aj.removeHandler('inProgressMarkChanged',H);};this.add_markRemoved=function(H){aj.addHandler('markRemoved',H);};this.remove_markRemoved=function(H){aj.removeHandler('markRemoved',H);};this.add_markReordered=function(H){aj.addHandler('markReordered',H);};this.remove_markReordered=function(H){aj.removeHandler('markReordered',H);};this.add_marksLoaded=function(H){aj.addHandler('marksLoaded',H);};this.remove_marksLoaded=function(H){aj.removeHandler('marksLoaded',H);};this.add_marksSaved=function(H){aj.addHandler('marksSaved',H);};this.remove_marksSaved=function(H){aj.removeHandler('marksSaved',H);};this.add_markSelectionChanged=function(H){aj.addHandler('markSelectionChanged',H);};this.remove_markSelectionChanged=function(H){aj.removeHandler('markSelectionChanged',H);};this.add_markTextSelectionChanged=function(H){aj.addHandler('markTextSelectionChanged',H);};this.remove_markTextSelectionChanged=function(H){aj.removeHandler('markTextSelectionChanged',H);};this.add_pageOpenFailed=function(H){aj.addHandler('pageOpenFailed',H);};this.add_pageDisplayed=function(H){aj.addHandler('pageDisplayed',H);};this.remove_pageOpenFailed=function(H){aj.removeHandler('pageOpenFailed',H);};this.add_textPageReady=function(H){aj.addHandler('textPageReady',H);};this.remove_textPageReady=function(H){aj.removeHandler('textPageReady',H);};this.add_selectTextMouseToolCompleted=function(H){aj.addHandler('selectTextMouseToolCompleted',H);};this.remove_selectTextMouseToolCompleted=function(H){aj.removeHandler('selectTextMouseToolCompleted',H);};this.add_exceptionThrown=function(H){aj.cX('exceptionThrown',H);};this.remove_exceptionThrown=function(H){aj.cf('exceptionThrown',H);};this.add_textExtractionFailed=function(H){aj.cX('textExtractionFailed',H);};this.remove_textExtractionFailed=function(H){aj.cf('textExtractionFailed',H);};this.cA=function(dq,wb){var H=aj.getHandler("propertyChanged");if(H){H(this,new IPCC.nG(dq,wb));}};this.mG=function(){var _parent=document.getElementById(yo);return _parent;};this.bx=function(){return as;};this.aIW=function(){return aj;};function Fm(aV,R){Hx=true;R.pageIndex=bo.bm;bo.ad('markAdded',R);bo.ga('np',R);};function GE(aV,R){Hx=true;R.pageIndex=bo.bm;bo.ad('markChanged',R);bo.ga('ot',R);};function akV(aV,R){R=new IPCC.Web.UI.MarkEventArgs();R.mark=og;R.pageIndex=bo.bm;bo.ad('inProgressMarkChanged',R);bo.ga('_onInProgressMarkChanged',R);};function FH(aV,R){Hx=true;R.pageIndex=bo.bm;bo.ad('markRemoved',R);bo.ga('DZ',R);};function awd(aV,R){bo.ad('textPageReady',R);};function axd(aV,R){bo.ad('textExtractionFailed',R);};function Fi(aV,R){Hx=true;R.pageIndex=bo.bm;bo.ad('markReordered',R);bo.ga('ail',R);};function CX(aV,R){R.pageIndex=bo.bm;bo.ad('marksLoaded',R);bo.ga('aiU',R);};function Dv(aV,R){R.pageIndex=bo.bm;bo.ad('markSelectionChanged',R);bo.ga('Dg',R);};function aiM(aV,R){R.pageIndex=bo.bm;bo.ad('markTextSelectionChanged',R);};this.aAE=function(aV,R){this.ga('_onTextMarkEditCompleted',R);};function Dj(aV,R){R.pageIndex=bo.bm;bo.ad('propertyChanged',R);};this.lH=function(G){if(G===aA){return;}if(aA){aA.remove_markAdded(Fm);aA.remove_markChanged(GE);aA.remove_markRemoved(FH);aA.remove_markReordered(Fi);aA.remove_marksLoaded(CX);aA.remove_markSelectionChanged(Dv);aA.mv(Dj);aA.Fv(true);}aA=G;if(aA){aA.add_markAdded(Fm);aA.add_markChanged(GE);aA.add_markRemoved(FH);aA.add_markReordered(Fi);aA.add_marksLoaded(CX);aA.add_markSelectionChanged(Dv);aA.add_markTextSelectionChanged(aiM);aA.kw(Dj);}this.cA('artPage');};this.ee=function(){return aA;};this.Ji=function(G){if(G===eP){return;}if(eP){eP.remove_markAdded(Fm);eP.remove_markChanged(GE);eP.remove_markRemoved(FH);eP.remove_markReordered(Fi);eP.remove_marksLoaded(CX);eP.remove_markSelectionChanged(Dv);eP.mv(Dj);eP.Fv(true);}eP=G;if(eP){eP.add_markAdded(Fm);eP.add_markChanged(GE);eP.add_markRemoved(FH);eP.add_markReordered(Fi);eP.add_marksLoaded(CX);eP.add_markSelectionChanged(Dv);eP.add_markTextSelectionChanged(aiM);eP.kw(Dj);}this.cA('documentArtPage');};this.Ot=function(){return eP;};this.mp=function(){return gI;};this.DG=function(G){if(G===gI){return;}if(gI){gI.remove_markAdded(Fm);gI.remove_markChanged(GE);gI.remove_markRemoved(FH);gI.remove_markReordered(Fi);gI.remove_marksLoaded(CX);gI.remove_markSelectionChanged(Dv);gI.mv(Dj);}gI=G;if(gI){gI.add_markAdded(Fm);gI.add_markChanged(GE);gI.add_markRemoved(FH);gI.add_markReordered(Fi);gI.add_marksLoaded(CX);gI.add_markSelectionChanged(Dv);gI.kw(Dj);}this.cA('transientArtPage');};var gX;this.Bc=function(){if(!gX){if(IPCC.Web.UI.Mark){gX=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gX.set_opacity(100);gX.set_fillColor('#3366CC');gX.set_fillVisible(true);}}return gX;};this.Zw=function(G){amH=G;this.cA('artServiceOption');};this.aaj=function(){return amH;};this.ox=function(V,oT){if(og===V){return;}if(og){og.remove_propertyChanged(akV);}if(V&& !og){var R=new IPCC.Web.UI.MarkEventArgs();R.mark=oT?oT:V;R.pageIndex=this.bm;this.ad('markCreating',R);}og=V;if(og){og.add_propertyChanged(akV);}this.cA('inProgressMark');};this.axJ=function(){return og;};this.AG=function(G){if(G===ao){return;}ao=G;this.vy=false;as.pf();this.cA('image');};this.cY=function(){return ao;};this.aai=function(G){if(G===JY){return;}JY=G;this.cA('JY');};this.ajy=function(){return JY;};this.Jb=function(){var yV=this.IL();var afN=this.Mp(yV);var aqw=afN.value;setTimeout(function(){afN.setSelectionRange(0,aqw.length);},1);};this.vK=function(V){this.pd(false);iA.ayB(V);vU=true;yV=V;this.cA('vU');};this.agw=function(bB,dw){if(this.lu()&&this.dc().nU()===true){var hm=this.dc().hF();var J=bB;for(;J<bB+dw;J++){var eQ=hm.jM(J);var tw='#3366CC';var GM='#3366CC';gI.YK(eQ.an,GM,tw,false,J);}}};this.aGR=function(bn){var J;try{var bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gX){gX=bo.Bc();}for(J in gX){if(gX.hasOwnProperty(J)){bb[J]=gX[J];}}bb.set_rectangle({x:bn.x,y:bn.y,width:bn.width,height:bn.height});bo.ox(bb);gI.addMark(bb);return bb;}catch(aFn){var aCj=aFn.message;window.console.log(aCj);}};this.Kn=function(dQ){var xG;var hm;var TU;xG=bo.dc();hm=bo.dc().hF();function auP(Uc){var sf=Uc.sd();if((dQ.x>=sf.x-10&&dQ.x<=sf.x+sf.width+1)&&(dQ.y>=sf.y-1&&dQ.y<=sf.y+sf.height+1)){return true;}sf=undefined;};if(!TU){for(var J=0;J<hm.eY();J++){if(auP(hm.jM(J))){TU=J;break;}}}return TU;};this.aEV=false;this.zG=function(dG){if(dG===undefined){return;}if(bo.lu()&&bo.dc().nU()===true){var Jx=bo.dc().hF().eY();IPCC.bH.lZ(dG,'textIndex',0,Jx);bo.bx().zG(dG);bo.mp().Bp(function(V){if(V.yL!==true&&V.get_type()!==IPCC.Web.UI.MarkType.ImageStampAnnotation){bo.mp().uS(V);}});if(bo.zW()===true){bo.cv();}}};this.Xu=function(){var DQ=bo.bx().get_transientHighlightMarks();while(DQ.length>0){bo.mp().removeMark(DQ.pop());}};this.Sj=function(uc,dw){if(bo.lu()&&bo.dc().nU()===true){var J=uc;var hm=this.dc().hF();var ci=uc+dw;if(!gX){gX=bo.Bc();}var DQ=bo.bx().get_transientHighlightMarks();for(;J<ci;J++){var eQ=hm.jM(J);DQ.push(gI.aCr(eQ.an,gX,J));}}};this.aIs=function(aGV,dw){var as=bo.bx();for(var bE=dw-1;bE>dw;bE--){var bq=as.jn[bE];gI.removeMark(bq.V);}};this.uz=function(dG){if(dG===undefined){return;}var eQ;var as=bo.bx();var gc=as.BE();var tw='#3366CC';var GM='#3366CC';var co=100;if(!gX){gX=bo.Bc();}co=gX.get_opacity();if(!co){co=100;}tw=gX.get_fillColor();if(tw===undefined){tw='#3366CC';}var hm=bo.dc().hF();if(gc===undefined){eQ=hm.jM(dG);var V=gI.YK(eQ.an,GM,tw,false,co,dG);as.uz(dG,V,eQ.kC);return;}var bE;function aim(aE,apA){for(bE=as.jn.length-1;bE>=0;bE--){var bq=as.jn[bE];if(bq.dG===aE){as.jn.splice(bE,1);gI.removeMark(bq.V);as.aFK(apA);as.aEl(aE);return bE;}}return-1;};function Ob(aE){eQ=hm.jM(aE);var amD=gI.YK(eQ.an,GM,tw,false,co,aE);if(as.uz(aE,amD,eQ.kC)===false){gI.removeMark(amD);}};var Mc=as.ajE();var J;if(dG>gc){for(J=gc;J<=dG;J++){if(J===dG){if(J<Mc){continue;}Ob(J);}else if(J>=Mc){if(J===gc){continue;}Ob(J);}else{aim(J,dG);}}}else if(dG<gc){for(J=gc;J>=dG;J--){if(J===dG){if(J>=Mc){continue;}Ob(J);}else if(J<Mc){if(J===gc){continue;}Ob(J);}else{aim(J,dG);}}}};this.BL=function(){var aeo="";try{var as=bo.bx();if(bo.bx().Jd()){var avQ=bo.dc().hF();if(as.jn.length>0){var CV=[];for(var J=0;J<as.jn.length;J++){CV.push(as.jn[J].dG);}if(CV[0]>CV[1]){CV.reverse();}for(J=0;J<CV.length;J++){aeo+=avQ.jM(CV[J]).azo();}}}return aeo;}catch(e){window.console.log(e.message);}};this.pd=function(azx){if(vU){if(azx){iA.aAp();}vU=false;yV=null;this.aAE();this.cA('vU');bo.cv();}};this.ahK=function(){return vU;};this.IL=function(){return yV;};this.Bl=function(){var yV=this.IL();if(!yV){return null;}var Zy=yV.jm();if(Zy===IPCC.Web.UI.MarkType.TextLine){return 'singleline';}else if(Zy===IPCC.Web.UI.MarkType.TextAreaSignature){return 'multiline';}else if(Zy===IPCC.Web.UI.MarkType.Text){return 'multiline';}};this.abx=function(G){afc=G;};this.WP=function(){return afc;};this.ZA=function(G){zo=G;};this.azK=function(){return zo;};this.afM=function(G){if(G===vq){return;}vq=G;this.cA('vq');};this.abz=function(){return vq;};this.Fv=function(G){if(aA){aA.Fv(G);}};this.MB=function(){if(aA){return aA.MB();}return true;};this.aCO=function(aHI){var bO=iA.apO(this.mG());this.aBy(bO);};this.aBy=function(G){if(G===bO){return;}bO=G;this.cA('windowSpace');};this.fe=function(){return bO;};this.cv=function(){iA.cv(ao,as,bO);};this.Jy=function(){if(this.rd()===false){var kn=as.eT();var T=this;var mh=kn.od(ao);var cT=T.mG();var cV=cT.igElements;var aB=cV.qW;var Ku=Math.max(0,-mh.x);var Jm=Math.max(0,-mh.y);var mx=Math.max(0,mh.x);var mb=Math.max(0,mh.y);var eJ=as.eT();eJ.nc(Ku-mx,Jm-mb);iA.amu(aB,bO,kn,eJ);}};this.JA=function(G){qj=G;};this.va=function(){return qj;};this.dc=function(){return jF.dc();};var kA=0;this.mc=function(){return jF;};this.EE=function(G){if(G===this.mc()){return;}jF=G;if(jF){jF.zL(awd);jF.AB(axd);}};this.lu=function(){return sb;};this.JR=function(G){sb=G;this.cA('textRequired');};this.CR=function(){return ve;};this.Kq=function(G){if(ve===G){return;}ve=G;this.cA('requireRequestsOptimize');};this.zW=function(){return akQ;};this.Zm=function(G){akQ=G;this.cA('autoUpdate');};var ob=false;this.nm=function(){return ob;};this.qF=function(G){if(typeof G!=="boolean"){return;}if(G===ob){return;}ob=G;if(aA){var aaq=false;aA.forEachMark(function(V){if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){aaq=true;}});if(aaq===true){aA.qF(ob);}}};this.jG=function(){return kA;};this.wf=function(G){if(kA===G){return;}if(isNaN(G)){return;}kA=G;this.cA('serviceResponseTimeout');};var oI='';this.XK=function(fh,ax){if(fh!==''){fh='/'+fh;}ax=ax||'';if(ax===null||ax===''){if(fh==='/Attributes'){if(/^[\x00-\x7F]*$/.test(ao.get_identifier())){return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=u'+encodeURIComponent(ao.get_identifier());}else{return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=e'+ao.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(ao.get_identifier())){return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=u'+encodeURIComponent(ao.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=e'+ao.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(ao.get_identifier())){return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=u'+encodeURIComponent(ao.get_identifier())+'&'+ax;}else{return oI+'/Page/q/'+ao.bm.toString()+fh+'?DocumentID=e'+ao.get_encodedIdentifier()+'&'+ax;}}};this.axn=function(fh,ax){fh=fh||'Art';ax=ax||'';if(ax===null||ax===''){if(fh==='Art'){return oI+'/Page/q/'+ao.bm.toString()+'/'+fh+'?DocumentID=e'+ao.get_encodedIdentifier();}}else{return oI+'/Page/q/'+ao.bm.toString()+'/'+fh+'?DocumentID=e'+ao.get_encodedIdentifier()+'&'+ax;}};this.aan=function(Dq){if(Hx===false){if(Dq){Dq();}return;}IPCC.h.mY.fu({method:'POST',url:this.axn('Art'),headers:{'Content-Type':'application/json'},body:aA.saveToJson()}).then(function(){if(Dq){Dq();}});};this.tx=function(){return oI;};this.aaK=function(G){oI=G;this.cA('imageHandlerUrl');};this.rd=function(){return anG;};this.Os=function(G){anG=G;};this.axg=function(){return aod;};this.aaY=function(G){aod=G;};this.nt=function(){return tp;};this.tX=function(G){tp=G;tp.tabIndex= -1;};this.im=function(){return oc;};this.nn=function(G){if(typeof G!=="boolean"){return;}if(G===oc){return;}oc=G;};this.aBb=function(R){if(vU){this.pd(true);}else{this.ad('mouseDown',R);this.ga('jQ',R);}};this.aCz=function(R){this.ad('mouseMove',R);this.ga('lg',R);};this.azR=function(R){this.ad('mouseUp',R);this.ga('kN',R);};this.aAe=function(R){this.ad('mouseWheel',R);this.ga('mn',R);};this.aBI=function(R){this.ad('mouseDoubleClick',R);this.ga('zV',R);};this.aBu=function(R){this.ad('contextMenu',R);this.ga('TS',R);};this.aCA=function(R){this.ad('contextMenuCommand',R);};this.aAM=function(R){this.ad('mouseOut',R);this.ga('oX',R);};this.aAR=function(R){this.ad('touchStart',R);this.ga('jQ',R);};this.aAS=function(R){this.ad('touchMove',R);this.ga('lg',R);};this.azu=function(R){this.ad('touchEnd',R);this.ga('kN',R);};this.azz=function(R){this.ad('touchCancel',R);this.ga('II',R);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(bo,R);}};var afZ=function(T,qA){as=new IPCC.Sv();function BD(aV,R){bo.ad('propertyChanged',R);};as.kw(BD);iA=new IPCC.eF(T,qA);if(IPCC.cS){iA.rA=new IPCC.cS.dN(T);iA.aqy=new IPCC.cS.dN(T);}};if(qA===false){afZ(this,false);}else{afZ(this,true);}return this;};module.exports=SU;},{}],60:[function(require,module,exports){var Sv=function(){var qC=0;var pA=1;var kt=1;var CK=false;var dh=new IPCC.fq();var Bg=false;var uO;var rW;var Mb=false;var CF=new IPCC.Ge(200,150,96,96);var tP={x:0,y:0};var Oa=3;var NU=0,NG=0;var hh=0.2;var rq=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Cv=new IPCC.fq();var Hq=0;var GW=0;var Cd=false;var XU;this.jn=[];var YP=IPCC.Web.UI.ScrollBars.Auto;var DQ=[];this.get_transientHighlightMarks=function(){return DQ;};this.get_scrollBars=function(){return YP;};this.get_overflow=function(){switch(YP){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(G){YP=G;this.cA('scrollBars');};var aj=new IPCC.Web.UI.gA();this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};var onSelectionChanged=function(as){var R={};R.selectionIsVisible=Bg;R.selectionRectangle=as.wS();as.cA('selection');};this.pf=function(){uO={x:0,y:0};rW={x:0,y:0};if(!Bg){return;}Bg=false;onSelectionChanged(this);};this.showSelection=function(bX){uO.x=bX.x;uO.y=bX.y;rW.x=bX.x+bX.width;rW.y=bX.y+bX.height;Bg=true;onSelectionChanged(this);};this.Df=function(dQ){uO.x=dQ.x;uO.y=dQ.y;rW.x=dQ.x;rW.y=dQ.y;Bg=true;onSelectionChanged(this);};this.Af=function(dQ){rW.x=dQ.x;rW.y=dQ.y;onSelectionChanged(this);};this.CA=function(){return Bg;};this.wS=function(){var F=new IPCC.Web.UI.Rectangle(Math.min(uO.x,rW.x),Math.min(uO.y,rW.y),0,0);F.width=Math.max(uO.x,rW.x)-F.x;F.height=Math.max(uO.y,rW.y)-F.y;return F;};var HO=function(){if(!Mb){Cv.aBa();return;}Cv.OH(dh);Cv.nc(-tP.x,-tP.y);Cv.scale(Oa,Oa);Cv.nc(CF.width/2,CF.height/2);};this.hideMagnifier=function(){Mb=false;HO();this.cA('magnifierIsVisible');};this.showMagnifier=function(cn){tP.x=cn.x;tP.y=cn.y;Mb=true;HO();this.cA('magnifierWindowPosition');this.cA('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return Mb;};this.get_magnifierWindowPosition=function(){return{x:tP.x,y:tP.y};};this.get_magnifierMagnification=function(){return Oa;};this.set_magnifierMagnification=function(G){Oa=G;HO();this.cA('magnifierMagnification');};this.Mr=function(){return NU;};this.aaR=function(G){NU=G;this.cA('magnifierXOffset');};this.Mu=function(){return NG;};this.WX=function(G){NG=G;this.cA('magnifierYOffset');};this.wn=function(){return{width:CF.width,height:CF.height};};this.set_magnifierWindowSize=function(newMagnifierSize){CF.width=newMagnifierSize.width;CF.height=newMagnifierSize.height;HO();this.cA('magnifierWindowSize');};this.axP=function(){return Cv.clone();};this.eT=function(){return dh.clone();};this.UR=function(){return hh;};this.XZ=function(G){hh=G;this.cA('markHandleSize');};this.xp=function(){return rq;};this.Js=function(G){rq=G;this.cA('markHandleMode');};this.iI=function(G){if(G===dh||G.asF(dh)){return;}if(!G.aiH()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}dh.OH(G);HO();this.cA('displayedPageRectangle');};var acl='0';this.get_presentationQuality=function(){return acl;};this.set_presentationQuality=function(G){acl=G;this.cA('presentationQuality');};this.aAq=function(){return pA;};this.ER=function(G){pA=G;};this.aCK=function(){return qC;};this.DA=function(G){qC=G;};this.aBL=function(){return kt;};this.Er=function(G){if(G!==kt){CK=true;}kt=G;};this.aEH=function(G){CK=G;};this.aip=function(){return CK;};var YO=IPCC.bh.Default;this.aKx=function(){return YO;};this.aEY=function(G){if(YO!==G){YO=G;this.cA('markCursor');}};this.zG=function(dG){Hq=dG;Cd=false;GW=0;};this.Sj=function(uc,dw){if(uc!==Hq){Hq=uc;}GW=dw;Cd=true;};this.XW=function(){if(Cd===true){for(var J=0;J<this.jn.length;J++){this.jn[J].V.set_visible(false);}Cd=false;}};this.Jd=function(){return Cd;};this.uz=function(dG,V,kC){XU=dG;if(dG!==undefined){if(this.jn.length>0&&this.jn[this.jn.length-1].dG===dG){return false;}this.jn.push({dG:dG,V:V,kC:kC});Cd=true;GW++;}else{this.jn=[];GW=0;}return true;};this.BE=function(){return XU;};this.aFK=function(G){if(G===undefined){return;}XU=G;};var alO;this.aJG=function(){return alO;};this.aEl=function(G){if(G===undefined){return;}alO=G;};this.ajE=function(){return Hq;};this.aJV=function(){return Hq+GW;};this.Bx=function(){return this.jn.length;};this.pf();this.hideMagnifier();return this;};module.exports=Sv;},{}],61:[function(require,module,exports){var zj={};zj.aka=function(be){if(!this.Eq[0][0][0]){this.SR();}var J,bE,fG,Ks,Xj,mu=this.Eq[0][4],ty=this.Eq[1],sK=be.length,Mo=1;if(sK!==4&&sK!==6&&sK!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.be=[Ks=be.slice(0),Xj=[]];for(J=sK;J<4*sK+28;J++){fG=Ks[J-1];if(J%sK===0||(sK===8&&J%sK===4)){fG=mu[fG>>>24]<<24^mu[fG>>16&255]<<16^mu[fG>>8&255]<<8^mu[fG&255];if(J%sK===0){fG=fG<<8^fG>>>24^Mo<<24;Mo=Mo<<1^(Mo>>7)*283;}}Ks[J]=Ks[J-sK]^fG;}for(bE=0;J;bE++,J--){fG=Ks[bE&3?J:J-4];if(J<=4||bE<4){Xj[bE]=fG;}else{Xj[bE]=ty[0][mu[fG>>>24]]^ty[1][mu[fG>>16&255]]^ty[2][mu[fG>>8&255]]^ty[3][mu[fG&255]];}}};zj.aka.prototype={WC:function(ds){return this.aqA(ds,1);},Eq:[[[],[],[],[],[]],[[],[],[],[],[]]],SR:function(){var KU=this.Eq[0],ty=this.Eq[1],mu=KU[4],azq=ty[4],J,ay,yF,eR=[],acO=[],VF,acQ,acC,jc,KK,KO;for(J=0;J<256;J++){acO[(eR[J]=J<<1^(J>>7)*283)^J]=J;}for(ay=yF=0;!mu[ay];ay^=VF||1,yF=acO[yF]||1){jc=yF^yF<<1^yF<<2^yF<<3^yF<<4;jc=jc>>8^jc&255^99;mu[ay]=jc;azq[jc]=ay;acC=eR[acQ=eR[VF=eR[ay]]];KO=acC*0x1010101^acQ*0x10001^VF*0x101^ay*0x1010100;KK=eR[jc]*0x101^jc*0x1010100;for(J=0;J<4;J++){KU[J][ay]=KK=KK<<24^KK>>>8;ty[J][jc]=KO=KO<<24^KO>>>8;}}for(J=0;J<5;J++){KU[J]=KU[J].slice(0);ty[J]=ty[J].slice(0);}},aqA:function(ny,Kj){if(ny.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var be=this.be[Kj],du=ny[0]^be[0],fM=ny[Kj?3:1]^be[1],fv=ny[2]^be[2],eR=ny[Kj?1:3]^be[3],uq,ajY,alm,aom=be.length/4-2,J,Bm=4,fB=[0,0,0,0],HE=this.Eq[Kj],Rm=HE[0],QU=HE[1],RD=HE[2],Qs=HE[3],mu=HE[4];for(J=0;J<aom;J++){uq=Rm[du>>>24]^QU[fM>>16&255]^RD[fv>>8&255]^Qs[eR&255]^be[Bm];ajY=Rm[fM>>>24]^QU[fv>>16&255]^RD[eR>>8&255]^Qs[du&255]^be[Bm+1];alm=Rm[fv>>>24]^QU[eR>>16&255]^RD[du>>8&255]^Qs[fM&255]^be[Bm+2];eR=Rm[eR>>>24]^QU[du>>16&255]^RD[fM>>8&255]^Qs[fv&255]^be[Bm+3];Bm+=4;du=uq;fM=ajY;fv=alm;}for(J=0;J<4;J++){fB[Kj?3& -J:J]=mu[du>>>24]<<24^mu[fM>>16&255]<<16^mu[fv>>8&255]<<8^mu[eR&255]^be[Bm++];uq=du;du=fM;fM=fv;fv=eR;eR=uq;}return fB;}};module.exports=zj;},{}],62:[function(require,module,exports){var gp={};gp.EP={mr:function(db){var fB="",qw=IPCC.Web.hu.vH(db),J,fG;for(J=0;J<qw/8;J++){if((J&3)===0){fG=db[J/4];}fB+=String.fromCharCode(fG>>>24);fG<<=8;}return decodeURIComponent(escape(fB));},uV:function(bW){bW=unescape(encodeURIComponent(bW));var fB=[],J,fG=0;for(J=0;J<bW.length;J++){fG=fG<<8|bW.charCodeAt(J);if((J&3)===3){fB.push(fG);fG=0;}}if(J&3){fB.push(IPCC.Web.hu.JP(8*(J&3),fG));}return fB;}};gp.qc={wv:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mr:function(db,aoM,ai){var fB="",J,fF=0,fv=IPCC.Web.gp.qc.wv,xs=0,qw=IPCC.Web.hu.vH(db);if(ai){fv=fv.substr(0,62)+'-_';}for(J=0;fB.length*6<qw;){fB+=fv.charAt((xs^db[J]>>>fF)>>>26);if(fF<6){xs=db[J]<<(6-fF);fF+=26;J++;}else{xs<<=6;fF-=6;}}while((fB.length&3)&& !aoM){fB+="=";}return fB;},uV:function(bW,ai){bW=bW.replace(/\s|=/g,'');var fB=[],J,fF=0,fv=IPCC.Web.gp.qc.wv,xs=0,ay;if(ai){fv=fv.substr(0,62)+'-_';}for(J=0;J<bW.length;J++){ay=fv.indexOf(bW.charAt(J));if(ay<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(fF>26){fF-=26;fB.push(xs^ay>>>fF);xs=ay<<(32-fF);}else{fF+=6;xs^=ay<<(32-fF);}}if(fF&56){fB.push(IPCC.Web.hu.JP(fF&56,xs,1));}return fB;}};gp.Ho={mr:function(db){return IPCC.Web.gp.qc.mr(db,1,1);},uV:function(bW){return IPCC.Web.gp.qc.uV(bW,1);}};module.exports=gp;},{}],63:[function(require,module,exports){var qK={};qK.Xr=function(qK){if(!this.be[0]){this.SR();}if(qK){this.fL=qK.fL.slice(0);this.ye=qK.ye.slice(0);this.dw=qK.dw;}else{this.afD();}};qK.Xr.qK=function(ds){return(new IPCC.Web.qK.Xr()).avR(ds).aDM();};qK.Xr.prototype={aHm:512,afD:function(){this.fL=this.ahM.slice(0);this.ye=[];this.dw=0;return this;},avR:function(ds){if(typeof ds==="string"){ds=IPCC.Web.Codec.EP.uV(ds);}var J,fM=this.ye=IPCC.Web.hu.VR(this.ye,ds),ame=this.dw,aoi=this.dw=ame+IPCC.Web.hu.vH(ds);for(J=512+ame& -512;J<=aoi;J+=512){this.om(fM.splice(0,16));}return this;},aDM:function(){var J,fM=this.ye,fL=this.fL;fM=IPCC.Web.hu.VR(fM,[IPCC.Web.hu.JP(1,1)]);for(J=fM.length+2;J&15;J++){fM.push(0);}fM.push(Math.floor(this.dw/0x100000000));fM.push(this.dw|0);while(fM.length){this.om(fM.splice(0,16));}this.afD();return fL;},ahM:[],be:[],SR:function(){var J=0,Hv=2,bU;function ali(ay){return(ay-Math.floor(ay))*0x100000000|0;};auV:for(;J<64;Hv++){for(bU=2;bU*bU<=Hv;bU++){if(Hv%bU===0){continue auV;}}if(J<8){this.ahM[J]=ali(Math.pow(Hv,1/2));}this.be[J]=ali(Math.pow(Hv,1/3));J++;}},om:function(aup){var J,fG,du,fM,jl=aup.slice(0),fL=this.fL,dz=this.be,Yv=fL[0],tc=fL[1],Gb=fL[2],Qn=fL[3],sB=fL[4],Qk=fL[5],Gt=fL[6],YF=fL[7];for(J=0;J<64;J++){if(J<16){fG=jl[J];}else{du=jl[(J+1)&15];fM=jl[(J+14)&15];fG=jl[J&15]=((du>>>7^du>>>18^du>>>3^du<<25^du<<14)+(fM>>>17^fM>>>19^fM>>>10^fM<<15^fM<<13)+jl[J&15]+jl[(J+9)&15])|0;}fG=(fG+YF+(sB>>>6^sB>>>11^sB>>>25^sB<<26^sB<<21^sB<<7)+(Gt^sB&(Qk^Gt))+dz[J]);YF=Gt;Gt=Qk;Qk=sB;sB=Qn+fG|0;Qn=Gb;Gb=tc;tc=Yv;Yv=(fG+((tc&Gb)^(Qn&(tc^Gb)))+(tc>>>2^tc>>>13^tc>>>22^tc<<30^tc<<19^tc<<10))|0;}fL[0]=fL[0]+Yv|0;fL[1]=fL[1]+tc|0;fL[2]=fL[2]+Gb|0;fL[3]=fL[3]+Qn|0;fL[4]=fL[4]+sB|0;fL[5]=fL[5]+Qk|0;fL[6]=fL[6]+Gt|0;fL[7]=fL[7]+YF|0;}};module.exports=qK;},{}],64:[function(require,module,exports){var BH={};BH.atc={bp:"cbc",agV:function(NR,UZ,iE,wl){if(wl&&wl.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.hu.vH(iE)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var J,jl=IPCC.Web.hu,Nl=jl.aaH,qw=jl.vH(UZ),alj=0,qG=[];if(qw&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(J=0;alj+128<=qw;J+=4,alj+=128){iE=NR.agV(Nl(iE,UZ.slice(J,J+4)));qG.splice(J,0,iE[0],iE[1],iE[2],iE[3]);}qw=(16-((qw>>3)&15))*0x1010101;iE=NR.agV(Nl(iE,jl.VR(UZ,[qw,qw,qw,qw]).slice(J,J+4)));qG.splice(J,0,iE[0],iE[1],iE[2],iE[3]);return qG;},WC:function(NR,KJ,iE,wl){if(wl&&wl.length){throw new IPCC.Web.UI.ImGearArgumentException(wl,"cbc can't authenticate data");}if(IPCC.Web.hu.vH(iE)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.hu.vH(KJ)&127)|| !KJ.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var J,jl=IPCC.Web.hu,Nl=jl.aaH,rQ,tK,qG=[];wl=wl||[];for(J=0;J<KJ.length;J+=4){rQ=KJ.slice(J,J+4);tK=Nl(iE,NR.WC(rQ));qG.splice(J,0,tK[0],tK[1],tK[2],tK[3]);iE=rQ;}rQ=qG[J-1]&255;if(rQ===0||rQ>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}tK=rQ*0x1010101;if(!jl.aFY(jl.abQ([tK,tK,tK,tK],0,rQ*8),jl.abQ(qG,qG.length*32-rQ*8,qG.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return jl.abQ(qG,0,qG.length*32-rQ*8);}};module.exports=BH;},{}],65:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var OR=function(){var bA=[];var aj=new IPCC.Web.UI.gA();var ei=new IPCC.Web.UI.MarkCollection();var C=this;var IU=true;this.aBz=[];function onMarkSelectionChanged(aV,R){var V=R.mark;if(V.bC&&V.bC[0]&&V.bC[0].dj===false){return;}var fJ;var axx=R.mark.get_selected();if(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY!==undefined){ei.remove_markAdded(onMarkSelectionChanged);ei.remove_markRemoved(onMarkSelectionChanged);for(var J=0;J<bA.length;J++){if(bA[J].aY===V.aY){if(bA[J].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){fJ=bA[J];}else{bA[J].set_selected(R.mark.get_selected());}}}ei.add_markAdded(onMarkSelectionChanged);ei.add_markRemoved(onMarkSelectionChanged);if(fJ){fJ.set_selected(axx);}return;}else if(V.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){ei.remove_markAdded(onMarkSelectionChanged);ei.remove_markRemoved(onMarkSelectionChanged);for(var bd=0;bd<V.bC.length;bd++){V.bC[bd].set_selected(R.mark.get_selected());}ei.add_markAdded(onMarkSelectionChanged);ei.add_markRemoved(onMarkSelectionChanged);}var fb=new IPCC.Web.UI.MarkEventArgs();fb.mark=V;fb.zIndex=C.ou(V);fb.length=1;C.ad('markSelectionChanged',fb);};ei.add_markAdded(onMarkSelectionChanged);ei.add_markRemoved(onMarkSelectionChanged);var ath=ei.addMark;ei.addMark=function(V){if(C.ou(V)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ei.contains(V)){ath.call(ei,V);V.cA('selected');}};var arR=ei.addMarks;ei.addMarks=function(zA){var oq=[];function UJ(V){if(C.ou(V)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!ei.contains(V)){oq.push(V);}};zA.forEach(UJ,{});arR.call(ei,zA);var J;for(J=0;J<oq.length;J++){oq[J].cA('selected');}};var asN=ei.removeMark;ei.removeMark=function(V){if(ei.contains(V)){asN.call(ei,V);V.cA('selected');}};var asR=ei.removeAllMarks;ei.removeAllMarks=function(){var oq=[];function UJ(V){if(ei.contains(V)){oq.push(V);}};ei.forEach(UJ,{});asR.call(ei);var J;for(J=0;J<oq.length;J++){oq[J].cA('selected');}};function akT(lf){IPCC.bH.lZ(lf,'zIndex',0,bA.length-1);};this.WZ=function(){return bA.length;};this.aju=function(){var J=0;for(;J<bA.length;J++){if(bA[J].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&bA[J].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(bA[J].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&bA[J].aY!==undefined)){break;}}return J;};this.Cy=function(){return ei;};this.Fv=function(G){if(G===IU){return;}IU=G;this.cA('IU');};this.MB=function(){return IU;};var ob=false;this.nm=function(){return ob;};this.qF=function(G){if(typeof G!=="boolean"){return;}ob=G;this.cA('redactionDraftMode');};function ot(aV,R){if(R.get_propertyName()==='selected'){return;}var fb=new IPCC.Web.UI.MarkEventArgs();fb.mark=aV;fb.zIndex=C.ou(aV);fb.propertyName=R.dq;fb.length=1;if(fb.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(fb.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&fb.mark.aY!=='undefined')){C.awG(aV);}C.ad('markChanged',fb);};function yY(aV){var fb=new IPCC.Web.UI.MarkEventArgs();fb.mark=aV;fb.zIndex=C.ou(aV);fb.length=1;C.ad('markTextSelectionChanged',fb);};function Ow(aV,R){var fb=new IPCC.Web.UI.CommentEventArgs();fb.mark=aV;fb.comment=R.comment;fb.index=R.index;C.ad('commentAdded',fb);};function PB(aV,R){var fb=new IPCC.Web.UI.CommentEventArgs();fb.mark=aV;fb.comment=R.comment;fb.index=R.index;C.ad('commentRemoved',fb);};function OK(aV,R){var fb=new IPCC.Web.UI.CommentEventArgs();fb.mark=aV;fb.comment=R.comment;fb.index=R.index;C.ad('commentChanged',fb);};this.NP=function(V,ro){ro=ro||{};var lf=this.ou(V);if(lf>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(V.ee()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}bA.push(V);V.lH(this);V.add_propertyChanged(ot);V.add_markTextSelectionChanged(yY);V.xc(Ow);V.vS(PB);V.sh(OK);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;if(V.get_type()===IPCC.Web.UI.MarkType.Highlight||V.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||V.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY!==undefined)){this.aeE(V,0);}else{R.zIndex=bA.length-1;}R.clientX=ro.clientX;R.clientY=ro.clientY;R.length=1;C.ad('markAdded',R);};this.Bp=function(iP,cN){var JO=[].concat(bA);var J;for(J=0;J<JO.length;J++){iP.call(cN,JO[J],J,this);}};this.Ou=function(lf){akT(lf);return bA[lf];};this.ou=function(V){var J;for(J=0;J<bA.length;J++){if(bA[J]===V){return J;}}return-1;};this.azO=function(fD){var en=JSON.parse(fD);this.WU();var HJ=[];var J;var Mh=en.m;if(Mh){for(J=0;J<Mh.length;J++){var bb=new IPCC.Web.UI.Mark(Mh[J].t);bb.aAy(Mh[J]);bb.lH(this);bb.add_propertyChanged(ot);bb.add_markTextSelectionChanged(yY);HJ.push(bb);}}bA=HJ;C.ad('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aqW=function(){var jT=new Array(36);var aE=0;var J;var bE;for(J=0;J<8;J++){jT[aE++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(J=0;J<3;J++){jT[aE++]=45;for(bE=0;bE<4;bE++){jT[aE++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}jT[aE++]=45;var awO=new Date().getTime();var aww=("0000000"+awO.toString(16).toUpperCase()).substr(-8);for(J=0;J<8;J++){jT[aE++]=aww.charCodeAt(J);}for(J=0;J<4;J++){jT[aE++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,jT);};function Vk(kT){var ay=kT.firstChild;while(ay.nodeType!==1){ay=ay.nextSibling;}return ay;};function Mv(uB,akb,aEQ){var are=parseFloat(uB.getAttribute(akb));var apU=parseFloat(uB.getAttribute(akb+'RO'));return aEQ/(are/apU);};function awU(LC,aW,bg){if(aW<=0&&bg<=0){return 1;}var amo=LC.getAttribute('pageWidth');var alZ=LC.getAttribute('pageHeight');var OM,Vf,bU,uB,J;if(amo&&alZ){OM=parseFloat(amo);Vf=parseFloat(alZ);if(isFinite(OM)&&isFinite(Vf)&&OM>0&&Vf>0){return aW/OM;}}for(J=0;J<LC.childNodes.length;J++){uB=LC.childNodes[J];if(uB.nodeName!=='annotation'){continue;}bU=Mv(uB,'width',aW);if(isFinite(bU)&&bU>0){return bU;}bU=Mv(uB,'height',bg);if(isFinite(bU)&&bU>0){return bU;}bU=Mv(uB,'x',aW);if(isFinite(bU)&&bU>0){return bU;}bU=Mv(uB,'y',bg);if(isFinite(bU)&&bU>0){return bU;}}return 1;};this.azn=function(kh,aq,aW,bg,Xf,stampImages,yP,ue){var C=this;if(yP!==true){this.WU();}if(kh){var iJ;if(IPCC.vu.JH()){iJ=kh.firstChild;}else{var Sx=kh.firstChild.nodeName;if(Sx.toLowerCase()==='xml'){iJ=kh.firstChild.nextSibling;}else{iJ=kh.firstChild;}}var dP=Vk(iJ);if(dP.nodeName!=='pages'){throw 'ERROR: pages';}if(dP.hasChildNodes()){var J;for(J=0;J<dP.childNodes.length;J++){var ap=dP.childNodes[J];if(ap.nodeName!=='page'){continue;}var yI=ap.getAttribute('id');var lK=false;var tA;var pL='';var Ik=[];var iQ;var oU,bd=0;var dv,dF,bB;if(Xf){var abJ=ap.getAttribute('pageWidth'),acv=ap.getAttribute('pageHeight');if(abJ){Xf.aby(abJ);}if(acv){Xf.aaG(acv);}}var oh=[],LD={},bC;if((yI&&parseInt(yI,10))===(aq+1)){lK=true;var HJ=[];var bE;var bb;var lh,fU,pE,sO,tk,gJ;var ma=1;var aku=awU(ap,aW,bg);if(aku>0){ma=aku;}for(bE=0;bE<ap.childNodes.length;bE++){var aU=ap.childNodes[bE];if(aU.nodeName!=='annotation'){continue;}var il=parseFloat(aU.getAttribute('width'))*ma;var iW=parseFloat(aU.getAttribute('height'))*ma;var gl=parseFloat(aU.getAttribute('x'))*ma;var hD=parseFloat(aU.getAttribute('y'))*ma;var aaz=aU.getAttribute('fillColor'),YT,qp,aaB=aU.getAttribute('lineColor'),ake,ig,acU=aU.getAttribute('fontColor'),aly,zl;if(aaz==='transparent'){YT=qp=aaz;}else{YT=parseInt(aaz||0,10);qp=parseInt(YT,10).toString(16);while(qp.length<6){qp='0'+qp;}qp='#'+qp;}if(aaB==='transparent'){ig=aaB;}else{ake=parseInt(aaB||0,10);ig=parseInt(ake,10).toString(16);while(ig.length<6){ig='0'+ig;}ig='#'+ig;}if(acU){aly=parseInt(acU||0,10);zl=parseInt(aly,10).toString(16);while(zl.length<6){zl='0'+zl;}zl='#'+zl;}var aqm=aU.getAttribute('stampSize');var Nq=aU.getAttribute('dragDirection');var Hb=parseInt(aU.getAttribute('opacity'),10);if(isNaN(Hb)){Hb=255;}if(aU.nodeName==='annotation'){var ajR=aU.getAttribute('label');if(!ajR){ajR='';}var kk=aU.getAttribute('drawType');var lq;switch(kk){case 'imagestamp':case 'imagestamp_redact':var pR=aU.getAttribute('imageStampId');var bI=(kk==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;bb=new IPCC.Web.UI.Mark(bI);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_image(stampImages[pR].base64format);bb.pR=pR;lh=true;if(kk==='imagestamp_redact'){bb.kc(true);}break;case 'circle':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});lh=true;bb.set_lineColor(ig);bb.set_fillVisible(false);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});lh=true;bb.set_fillColor(qp);bb.set_lineColor(ig);bb.set_fillVisible(true);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));break;case 'text':case 'text_redact':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fontName('verdana');bb.set_fontSize(10);bb.set_opacity(0);tA=undefined;bb.set_fillColor('#000000');if(kk==='text_redact'){bb.kc(true);}if(kk==='text'){bb.set_fillColor(qp);bb.set_lineColor(ig);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));bb.set_fillVisible(true);bb.set_opacity(Hb);}gJ=parseInt(aU.getAttribute('maxLength'));if(!isNaN(gJ)){bb.set_maxLength(gJ);}oh=[];fU=aU.firstChild;while((fU)&&(fU.nodeType!==4)){fU=fU.nextSibling;}if((fU)&&(fU.nodeType===4)){lq=fU.innerText||fU.textContent||fU.data;bb.aQ.bv=lq;oU=lq.split("</TEXTFORMAT>");pL='';Ik=[];for(bd=0;bd<oU.length;bd++){if(oU[bd].match(/<TEXTFORMAT/)){oU[bd]=oU[bd]+"</TEXTFORMAT>";oh.push(oU[bd]);}}for(bd=0;bd<oh.length;bd++){if(oh[bd].match(/<P/)){tA=this.aiw(oh[bd]);Ik.push(tA);pL+=tA+" ";if(bd===0){iQ=this.aiF(oh[bd]);aiK(iQ,bb);}}pL=pL.replace(/\s+$/g,"");bb.set_text(pL);var Is=this.ajk(oh[bd]);switch(Is){case 'CENTER':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var aL=bb.qx();if(Nq==='br'){aL.setPoint(1,new IPCC.Web.UI.Point(gl+il,hD+iW));aL.setPoint(0,new IPCC.Web.UI.Point(gl,hD));}else if(Nq==='bl'){aL.setPoint(1,new IPCC.Web.UI.Point(gl,hD+iW));aL.setPoint(0,new IPCC.Web.UI.Point(gl+il,hD));}else if(Nq==='tr'){aL.setPoint(1,new IPCC.Web.UI.Point(gl+il,hD));aL.setPoint(0,new IPCC.Web.UI.Point(gl,hD+iW));}else if(Nq==='tl'){aL.setPoint(1,new IPCC.Web.UI.Point(gl,hD));aL.setPoint(0,new IPCC.Web.UI.Point(gl+il,hD+iW));}bb.set_lineColor(ig);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));if(kk==='arrow'){bb.set_headFillColor(ig);bb.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);bb.set_startHeadAngle(30);bb.set_startHeadLength(35);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fillColor(ig);if(kk==='stamp_redact'){bb.kc(true);bb.set_fillColor('#000000');}fU=aU.firstChild;while((fU)&&(fU.nodeType!==4)){fU=fU.nextSibling;}if((fU)&&(fU.nodeType===4)){lq=fU.innerText||fU.textContent||fU.data;bb.aQ.bv=lq;bb.set_text(lq);}break;case 'highlightText':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fillColor(ig);bb.aY=aU.getAttribute('highlightGroupID');if(aU.getAttribute('textLength')){bb.dv=parseInt(aU.getAttribute('textLength'),10);}bb.dF=aU.getAttribute('selectedText');if(aU.getAttribute('startIndex')){bb.bB=parseInt(aU.getAttribute('startIndex'),10);}bb.lc=aU.getAttribute('isHighlight');bb.set_opacity(127);bC=Ug(aU,ma);if(bC){bb.bC=bC;}break;case 'rectangle_filled_redact':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fillColor(qp||'#000000');bb.set_lineColor(ig);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));bb.set_textColor(zl||'#ffffff');bb.set_fillVisible(true);bb.kc(true);pE=aU.getAttribute('highlightGroupID');bb.set_text(IPCC.h.vZ(aU.getAttribute('meta')));if(pE){bb.set_lineWidth(0);bb.aY=pE;var fJ=LD[pE];if(!fJ){fJ=LD[pE]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fJ.aY=pE;fJ.set_rectangle(bb.get_rectangle());fJ.kc(true);fJ.set_text(IPCC.h.vZ(aU.getAttribute('meta')));}else{var IH=false;var ri=fJ.get_rectangle();var hB=ri.x,jv=ri.x+ri.width,_top=ri.y,hL=ri.y+ri.height;if(ri.x>gl){IH=true;hB=gl;}if(ri.y>hD){IH=true;_top=hD;}if(ri.x+ri.width<gl+il){IH=true;jv=gl+il;}if(ri.y+ri.height<hD+iW){IH=true;hL=hD+iW;}if(IH===true){fJ.set_rectangle({x:hB,y:_top,width:jv-hB,height:hL-_top});}}}break;case 'text_selection_redaction':pE=aU.getAttribute('highlightGroupID');bb=LD[pE];if(!bb){bb=LD[pE]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);bb.aY=pE;bb.set_rectangle({x:0,y:0,width:0,height:0});bb.kc(true);bb.set_text(aU.getAttribute('meta'));}dv=aU.getAttribute('textLength');if(dv){bb.dv=parseInt(dv,10);}dF=aU.getAttribute('selectedText');if(dF){bb.dF=dF;}bB=aU.getAttribute('startIndex');if(bB){bb.bB=parseInt(bB,10);}break;case 'text_hyperlink_annotation':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);bb.set_fillColor(ig);pE=aU.getAttribute('highlightGroupID');bb.aY=pE;var lm=aU.getAttribute('href');if(lm){bb.set_href(IPCC.h.vZ(lm));}dv=aU.getAttribute('textLength');if(dv){bb.dv=parseInt(dv,10);}dF=aU.getAttribute('selectedText');if(dF){bb.dF=dF;}bB=aU.getAttribute('startIndex');if(bB){bb.bB=parseInt(bB,10);}var lc=aU.getAttribute('isHighlight');bb.lc=lc?lc:'n';bb.bC=Ug(aU,ma);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});break;case 'rectangle':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_lineVisible(true);bb.set_lineColor(ig);bb.set_fillVisible(false);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));break;case 'rectangle_filled':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fillColor(qp);bb.set_lineColor(ig);bb.set_fillVisible(true);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fillColor(qp);bb.set_lineColor(ig);bb.set_fillVisible(true);if(kk==='rectangle_trans_redact'){bb.kc(true);}bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(kk==='freehand'){bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);switch(aU.getAttribute('align').toUpperCase()){case 'LEFT':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'RIGHT':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;}}bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_pathWidth(parseFloat(aU.getAttribute('pathWidth')));bb.set_pathHeight(parseFloat(aU.getAttribute('pathHeight')));bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));bb.set_lineColor(ig);var uK=aU.firstChild;while((uK)&&(uK.nodeType!==4)){uK=uK.nextSibling;}if((uK)&&(uK.nodeType===4)){lq=uK.innerText||uK.textContent||uK.data;bb.aQ.bv=lq;bb.set_pathString(lq);}break;case 'signature_text':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fontSize(10);bb.set_lineWidth=0;bb.set_fillVisible(true);bb.set_opacity(1);fU=aU.firstChild;this.SI(fU,bb);bb.zz=parseFloat(aU.getAttribute('fontWidth'));bb.zI=parseFloat(aU.getAttribute('fontHeight'));break;case 'text_area_signature':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextAreaSignature);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_fontName('verdana');tA=undefined;gJ=parseInt(aU.getAttribute('maxLength'));if(!isNaN(gJ)){bb.set_maxLength(gJ);}var jf=parseInt(aU.getAttribute('maxFontSize'));if(!isNaN(jf)){bb.set_maxFontSize(jf);}fU=aU.firstChild;this.SI(fU,bb);break;case 'text_input_signature':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});fU=aU.firstChild;this.SI(fU,bb);bb.zz=parseFloat(aU.getAttribute('fontWidth'));bb.zI=parseFloat(aU.getAttribute('fontHeight'));bb.set_lineVisible(false);gJ=parseInt(aU.getAttribute('maxLength'));if(!isNaN(gJ)){bb.set_maxLength(gJ);}asE(aU,bb);break;case 'polyline':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));bb.set_lineColor(ig);var tG=aU.firstChild;while((tG)&&(tG.nodeType!==4)){tG=tG.nextSibling;}var HL;if((tG)&&(tG.nodeType===4)){lq=tG.innerText||tG.textContent||tG.data;if(lq&&lq!=='undefined'){HL=JSON.parse(lq);aL=bb.qx();if(HL){for(J=0;J<HL.length;J++){aL.addPoint(new IPCC.Web.UI.Point(HL[J].x*ma,HL[J].y*ma));}}}}break;case 'strikethrough':bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Strikethrough);bb.set_rectangle({x:gl,y:hD,width:il,height:iW});bb.set_lineWidth(parseFloat(aU.getAttribute('lineWidth')));bb.set_lineColor(ig);bb.aY=aU.getAttribute('highlightGroupID');var textLength=aU.getAttribute('textLength');if(textLength){bb.dv=parseInt(textLength,10);}bb.dF=aU.getAttribute('selectedText');var startIndex=aU.getAttribute('startIndex');if(startIndex){bb.bB=parseInt(startIndex,10);}bb.lc=aU.getAttribute('isHighlight');bC=Ug(aU,ma);if(bC){bb.bC=bC;}break;default:}if(bb){bb.aQ.iz=aU.getAttribute('nodeId');if(Hb>=0&&(kk==='rectangle_trans_redact'|| !bb.ju())&&kk!=='stamp'&&kk!=='imagestamp'&&kk!=='imagestamp_redact'&&kk!=='text_hyperlink_annotation'&&kk!=='text_input_signature'&&kk!=='text_area_signature'&&kk!=='strikethrough'){bb.set_opacity(Hb);}bb.aQ.Fj=aqm;bb.aQ.aHh=kk;bb.aQ.ez=aU.getAttribute('lineWidth');bb.aQ.fE=aU.getAttribute('fillColor');bb.aQ.jO=aU.getAttribute('lineColor');bb.aQ.aGU=aU.getAttribute('dragDirection');bb.aQ.yI=yI;bb.aQ.ay=aU.getAttribute('x');bb.aQ.ck=aU.getAttribute('y');bb.aQ.ab=aU.getAttribute('height');bb.aQ.aD=aU.getAttribute('width');bb.aQ.aFt=aU.getAttribute('x_percent');bb.aQ.aGr=aU.getAttribute('y_percent');bb.aQ.aHx=aU.getAttribute('height_percent');bb.aQ.aEO=aU.getAttribute('width_percent');bb.aQ.aIv=aU.getAttribute('formUser');bb.aQ.aHD=aU.getAttribute('created');bb.aQ.aIt=aU.getAttribute('modified');bb.aQ.aId=aU.getAttribute('saveDate');bb.aQ.aIy=aU.getAttribute('saveTime');bb.aQ.kU=aU.getAttribute('meta');var BQ=aU.firstChild;while((BQ)&&(BQ.nodeType!==4)){BQ=BQ.nextSibling;}if((BQ)&&(BQ.nodeType===4)){bb.cU.push(BQ.data);}else{bb.cU.push('');}var mT=parseInt(aU.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;bb.set_interactionMode(mT);bb.lH(this);bb.add_propertyChanged(ot);bb.add_markTextSelectionChanged(yY);bb.xc(Ow);bb.vS(PB);bb.sh(OK);HJ.push(bb);asf(aU,bb);sO=IPCC.h.aey(aU.getAttribute('created'));tk=IPCC.h.aey(aU.getAttribute('modified'));sO=sO||new Date();tk=tk||new Date();bb.initializeDates(sO,tk);if(ue){bb.set_visible(false);}}}}bA=bA.concat(HJ);C.ad('marksLoaded',{});}if(lK){auy(kh,aq);break;}}}}};this.SI=function(uU,bb){var J,lq,oU,pL,Ik,tA,oh=[],xk=bb.get_type()===IPCC.Web.UI.MarkType.SignatureText,aDR=xk?IPCC.Web.UI.HorizontalAlignment.Center:IPCC.Web.UI.HorizontalAlignment.Left,iQ;while((uU)&&(uU.nodeType!==4)){uU=uU.nextSibling;}if((uU)&&(uU.nodeType===4)){lq=uU.innerText||uU.textContent||uU.data;bb.aQ.bv=lq;oU=lq.split("</TEXTFORMAT>");for(J=0;J<oU.length;J++){if(oU[J].match(/<TEXTFORMAT/)){oU[J]=oU[J]+"</TEXTFORMAT>";oh.push(oU[J]);}}pL='';Ik=[];for(J=0;J<oh.length;J++){if(oh[J].match(/<P/)){tA=this.aiw(oh[J]);Ik.push(tA);pL+=tA+" ";if(J===0){iQ=this.aiF(oh[J]);aiK(iQ,bb);}}pL=pL.replace(/\s+$/g,"");bb.set_text(pL);var Is=this.ajk(oh[J]);switch(Is){case 'LEFT':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;case 'CENTER':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':bb.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:bb.set_textHorizontalAlignment(aDR);break;}}}};function Ta(ahA,ds){for(var i=0;i<ahA.childNodes.length;i++){var abh=ahA.childNodes[i];if(abh.nodeName==='kvp'){var be=abh.getAttribute("key");var G=abh.getAttribute("value");ds.set_data(be,G);}}};function auB(RV,dE){var de=new IPCC.Web.UI.Comment(IPCC.h.vZ(RV.getAttribute("text")));de.set_creationTime(RV.getAttribute("created"));dE.addComment(de);for(var i=0;i<RV.childNodes.length;i++){var ajH=RV.childNodes[i];if(ajH.nodeName==='data'){Ta(ajH,de.get_data());}}};function auQ(aks,dE){for(var i=0;i<aks.childNodes.length;i++){var PD=aks.childNodes[i];if(PD.nodeName==='comments'){var gV=PD;for(var j=0;j<gV.childNodes.length;j++){var akA=gV.childNodes[j];if(akA.nodeName==='comment'){auB(akA,dE);}}}else if(PD.nodeName==='data'){Ta(PD,dE.get_data());}}};function asf(Hg,V){for(var i=0;i<Hg.childNodes.length;i++){var tu=Hg.childNodes[i];if(tu.nodeName==='conversation'){auQ(tu,V.get_conversation());}else if(tu.nodeName==='data'){Ta(tu,V.get_data());}}};function asE(Hg,V){var G=null,HQ={};for(var i=0;i<Hg.childNodes.length;i++){var tu=Hg.childNodes[i];if(tu.nodeName==='inputMask'){G=IPCC.h.vZ(tu.getAttribute('value'));for(var j=0;j<tu.childNodes.length;j++){var Xd=tu.childNodes[j];if(Xd.nodeName==='translation'){HQ[IPCC.h.vZ(Xd.getAttribute('key'))]=new RegExp(IPCC.h.vZ(Xd.getAttribute('value').replace(/(^\/|\/$)/g,'')));}}break;}}if(G!==null){V.set_mask({value:G,translations:HQ});}};function Ug(tg,vG){var gk=null,iw;for(var i=0;i<tg.childNodes.length;i++){iw=tg.childNodes[i];if(iw.nodeName==='line-rectangles'){if(!gk){gk=arE(iw,vG);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return gk;};function arE(tg,vG){var gk=[],iw;for(var i=0;i<tg.childNodes.length;i++){iw=tg.childNodes[i];if(iw.nodeName==='rectangle'){gk.push(arH(iw,vG));}}return gk;};function arH(tg,vG){var ay=parseFloat(tg.getAttribute("x"))*vG;var ck=parseFloat(tg.getAttribute("y"))*vG;var aD=parseFloat(tg.getAttribute("width"))*vG;var ab=parseFloat(tg.getAttribute("height"))*vG;return new IPCC.Web.UI.Rectangle(ay,ck,aD,ab);};this.YK=function(bn,GM,tw,hQ,co,aE){var bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bb.set_rectangle({x:bn.x,y:bn.y,width:bn.width,height:bn.height});bb.set_fillColor(tw);bb.set_fillVisible(true);bb.bB=aE;bb.dv=1;if(co){bb.set_opacity(co);}else{bb.set_opacity(127);}C.addMark(bb);return bb;};this.aCr=function(bn,Yr,aE){var bb=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);bb.set_rectangle({x:bn.x,y:bn.y,width:bn.width,height:bn.height});bb.set_fillColor(Yr.get_fillColor());bb.set_fillVisible(true);bb.bB=aE;bb.dv=1;if(Yr.get_opacity()){bb.set_opacity(Yr.get_opacity());}else{bb.set_opacity(127);}C.addMark(bb);return bb;};function aiK(iQ,bb){for(var dz=0;dz<iQ.length;dz++){var bY=iQ[dz].attribs;var lK=false;if(iQ[dz].attribs.length>1&& !lK&&iQ[dz].HK==='font'){lK=true;for(var bE=0;bE<bY.length;bE++){if(bY[bE].bp==="FACE"){bb.set_fontName(bY[bE].G);}else if(bY[bE].bp==="SIZE"&&bb.get_type()!==IPCC.Web.UI.MarkType.TextLine&&bb.get_type()!==IPCC.Web.UI.MarkType.TextAreaSignature){var ru=parseFloat(bY[bE].G);bb.set_fontSize(ru);}else if(bY[bE].bp==="COLOR"){var alA=bY[bE].G;if(bb.get_type()===IPCC.Web.UI.MarkType.SignatureText){bb.set_fillColor(alA);}else{bb.set_textColor(alA);}}}var kV=false;if(iQ[dz+1]&&bb.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(iQ[dz+1].tagName==='font'){break;}else{var xU=iQ[dz+1].HK;if(xU==='b'||xU==='i'||xU==='u'||xU==='s'){if(xU==='b'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(xU==='i'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(xU==='u'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(xU==='s'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}kV=true;}}if(iQ[dz+2]){var asr=iQ[dz+2].HK;kV=TL(bb,kV,asr);}if(iQ[dz+3]){var aru=iQ[dz+3].HK;kV=TL(bb,kV,aru);}if(iQ[dz+4]){var arC=iQ[dz+4].HK;kV=TL(bb,kV,arC);}if(lK){break;}}}}};function TL(V,aok,yk){var kV=aok;var bb=V;if(aok){if(yk==='b'){bb.set_fontStyle(bb.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);kV=true;}else if(yk==='i'){bb.set_fontStyle(bb.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);kV=true;}else if(yk==='u'){bb.set_fontStyle(bb.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);kV=true;}else if(yk==='s'){bb.set_fontStyle(bb.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);kV=true;}}else{if(yk==='b'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);kV=true;}else if(yk==='i'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);kV=true;}else if(yk==='u'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);kV=true;}else if(yk==='s'){bb.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);kV=true;}}return kV;};function Ee(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var afl=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,ahv=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,apj=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aCh=Ee("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var om=Ee("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var aDU=Ee("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var arT=Ee("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var aDj=Ee("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var aEk=Ee("script,style");this.ais=function(html,handler){var aE,wv,wm,lF=[],kR=html;function parseEndTag(tag,tagName){var fS;if(!tagName){fS=0;}else{for(fS=lF.length-1;fS>=0;fS--){if(lF[fS]===tagName){break;}}}if(fS>=0){for(var i=lF.length-1;i>=fS;i--){if(handler.end){handler.end(lF[i]);}}lF.length=fS;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(om[tagName]){while(lF.last()&&aDU[lF.last()]){parseEndTag("",lF.last());}}if(arT[tagName]&&lF.last()===tagName){parseEndTag("",tagName);}unary=aCh[tagName]|| ! !unary;if(!unary){lF.push(tagName);}if(handler.start){var attrs=[];rest.replace(apj,function(wm,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:aDj[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lF.last=function(){return this[this.length-1];};function awB(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){wv=true;if(!lF.last()|| !aEk[lF.last()]){if(html.indexOf("<!--")===0){aE=html.indexOf("-->");if(aE>=0){if(handler.comment){handler.comment(html.substring(4,aE));}html=html.substring(aE+3);wv=false;}}else if(html.indexOf("</")===0){wm=html.match(ahv);if(wm){html=html.substring(wm[0].length);wm[0].replace(ahv,parseEndTag);wv=false;}}else if(html.indexOf("<")===0){wm=html.match(afl);if(wm){html=html.substring(wm[0].length);wm[0].replace(afl,parseStartTag);wv=false;}}if(wv){aE=html.indexOf("<");var text=aE<0?html:html.substring(0,aE);text=IPCC.h.vZ(text);html=aE<0?"":html.substring(aE);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lF.last()+"[^>]*>"),awB);parseEndTag("",lF.last());}if(html===kR){throw " Parse Error in annotation Html Text: "+html;}kR=html;}parseEndTag();};this.aiw=function(html){var results="";this.ais(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.aiF=function(html){var fH=[];this.ais(html,{start:function(tag,attrs){var fN;fN=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var xv={};xv.HK=tag;xv.attribs=[];if(tag==='b'){xv.aIe=true;}else if(tag==='i'){xv.aHL=true;}else if(tag==='u'){xv.aHl=true;}else if(tag==='s'){xv.aHt=true;}else{for(var i=0;i<attrs.length;i++){var AH={};AH.bp=attrs[i].name;AH.G=attrs[i].value;xv.attribs.push(AH);}}fH.push(xv);}},end:function(){},chars:function(){},comment:function(){}});return fH;};this.ajk=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];return alignment;};function auy(kh,avo){var kd=kh.getElementsByTagName("highlights")[0];if(kd.hasChildNodes()){var kl;var cr;for(var J=0;J<kd.childNodes.length;J++){kl=kd.childNodes[J];if(kl.nodeType===1){cr=kl.getAttribute('page');if(cr&&parseInt(cr,10)===avo+1){var ib=new IPCC.Web.UI.Xv();ib.aCv=kl.nodeName;switch(ib.aCv){case 'tag':ib.Fw=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':ib.Fw=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':ib.Fw=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':ib.Fw=IPCC.Web.UI.HighLightType.Redaction;break;case 'strikethrough':ib.Fw=IPCC.Web.UI.HighLightType.Strikethrough;break;default:ib.Fw=undefined;}if(kl.childNodes[0].data){ib.cU.push(kl.childNodes[0].data);}ib.aQ.cF=kl.getAttribute('id');ib.aQ.aIF=kl.getAttribute('userid');ib.aQ.aIa=kl.getAttribute('mode');ib.aQ.cB=kl.getAttribute('color');ib.aQ.aGK=kl.getAttribute('occurence');ib.aQ.aU=kl.getAttribute('annotation');ib.aQ.ap=kl.getAttribute('page');ib.aQ.aHE=kl.getAttribute('documentname');ib.aQ.aHC=kl.getAttribute('tooltip');ib.aQ.aIl=kl.getAttribute('allowdelete');ib.aQ.nh=kl.getAttribute('start');ib.aQ.aHf=kl.getAttribute('end');C.aBz.push(ib);}}}}};this.WU=function(){var R;if(bA.length<1){return;}ei.removeAllMarks();var J;for(J=bA.length-1;J>=0;J--){bA[J].remove_propertyChanged(ot);bA[J].remove_markTextSelectionChanged(yY);bA[J].lH(null);R=new IPCC.Web.UI.MarkEventArgs();R.length=bA.length;R.zIndex=0;R.mark=bA.pop();C.ad('markRemoved',R);}R=new IPCC.Web.UI.MarkEventArgs();R.length=bA.length;R.zIndex=0;C.ad('markRemoved',R);};this.uS=function(V){var lf=this.ou(V);var vN=V.aY;if(lf>=0){V.remove_propertyChanged(ot);V.remove_markTextSelectionChanged(yY);V.lH(null);bA.splice(lf,1);ei.removeMark(V);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;R.zIndex=lf;R.length=1;C.ad('markRemoved',R);if(vN){this.aDK(vN);}}};this.aHX=function(qi){var uZ=bA.length;var vN=qi.aY;while(uZ--){var V=bA[uZ];if(V.aY===vN){V.set_fillColor(qi.get_fillColor());}}};this.awG=function(qi){var uZ=bA.length;var vN=qi.aY;if(!vN){qi.set_text(qi.get_text());return;}while(uZ--){var V=bA[uZ];if(V.aY===vN){if(V.get_text()!==qi.get_text()){V.set_text(qi.get_text());}if(V.get_fontName()!==qi.get_fontName()){V.set_fontName(qi.get_fontName());}if(V.get_fontSize()!==qi.get_fontSize()){V.set_fontSize(qi.get_fontSize());}}}};this.aDK=function(vN){var uZ=bA.length;while(uZ--){var V=bA[uZ];if(V.aY===vN){var lf=this.ou(V);ei.removeMark(V);bA.splice(uZ,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;R.zIndex=lf;R.length=1;}}};this.aeE=function(V,lf){var OS=this.ou(V);if(OS<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(OS===lf){return;}akT(lf);bA.splice(OS,1);bA.splice(lf,0,V);if(V.get_type()===IPCC.Web.UI.MarkType.Highlight||V.get_type()===IPCC.Web.UI.MarkType.HighlightText||V.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||V.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||V.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(V.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&V.aY!==undefined)){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;R.zIndex=lf;R.oldZIndex=OS;R.length=1;C.ad('markReordered',R);};function SB(gk,fK,eE){if(!gk){return undefined;}var hX={gO:'line-rectangles',cU:[],aQ:{}};IPCC.h.forEach(gk,function(F){hX.cU.push({gO:'rectangle',cU:[],aQ:{x:F.x,y:F.y,height:F.height,width:F.width}});});return hX;};function atb(hW){if(!hW){return undefined;}var hX={gO:'inputMask',cU:[],aQ:{value:IPCC.h.pY(hW.value)}};IPCC.h.forEach(hW.translations,function(G,be){hX.cU.push({gO:'translation',cU:[],aQ:{key:IPCC.h.pY(be),value:IPCC.h.pY(G.toString())}});});return hX;};function UG(ds){if(!ds){return undefined;}var mC=ds.get_dataKeys();if(mC.length===0){return undefined;}var hX={gO:'data',cU:[],aQ:{}};IPCC.h.forEach(mC,function(be){var G=ds.get_data(be);hX.cU.push({gO:'kvp',cU:[],aQ:{key:be,value:G}});});return hX;};function avD(de){if(!de){return undefined;}var zh={gO:'comment',cU:[],aQ:{}};zh.aQ.text=IPCC.h.pY(de.get_text());zh.aQ.created=de.get_creationTime();var hX=UG(de.get_data());if(hX){zh.cU.push(hX);}return zh;};function asC(dE){if(!dE||dE.get_length()===0){return undefined;}var Sz={gO:'conversation',cU:[],aQ:{}};var acp={gO:'comments',cU:[],aQ:{}};Sz.cU.push(acp);dE.forEach(function(de){var zh=avD(de);if(zh){acp.cU.push(zh);}});var hX=UG(dE.get_data());if(hX){Sz.cU.push(hX);}return Sz;};this.aqF=function(V,fK,eE,tZ){var bI=V.get_type();var jK=false;var iX;var ho;var ahn;var YI;var hI,rv,rE,bv;var au={gO:'annotation',cU:[],aQ:{}};if(!V.aQ.iz){au.aQ.nodeId=C.aqW();}else{au.aQ.nodeId=V.aQ.iz;}var If,Ck="",nJ="";if(V.get_lineColor()){var aaE=V.get_lineColor();if(aaE==='transparent'){au.aQ.lineColor=aaE;}else{If=aaE.replace(/#/,"");Ck=parseInt(If,16);nJ=Ck.toString();au.aQ.lineColor=nJ;}}au.aQ.interactionMode=V.get_interactionMode();au.aQ.stampSize='122';var Pe={};Pe[IPCC.Web.UI.MarkType.Stamp]=true;Pe[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;Pe[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((bI===IPCC.Web.UI.MarkType.Rectangle&&V.get_opacity()<255|| !V.ju())&&Pe[bI]!==true){au.aQ.opacity=V.get_opacity();}if(V.get_conversation().get_length()>0){au.cU.push(asC(V.get_conversation()));}var hX=UG(V.get_data());if(hX){au.cU.push(hX);}jK=false;switch(bI){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:ho=V.get_fillColor();if(ho==='transparent'){au.aQ.fillColor=ho;}else if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}if(V.get_fillVisible()){if(V.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(V.get_opacity()===255){if(V.ju()===true){au.aQ.drawType='rectangle_filled_redact';if(V.aY){au.aQ.highlightGroupID=V.aY;}}else{au.aQ.drawType='rectangle_filled';}}else{if(V.ju()===true){au.aQ.drawType='rectangle_trans_redact';}else{au.aQ.drawType='rectangle_trans';}}}else{if(V.get_opacity()===255){au.aQ.drawType='circle_filled';if(V.ju()){au.aQ.drawType='circle_filled_redact';}}else{au.aQ.drawType='circle_trans';if(V.ju()){au.aQ.drawType='circle_trans_redact';}}}}else{if(V.get_type()===IPCC.Web.UI.MarkType.Rectangle){au.aQ.drawType='rectangle';au.aQ.fillColor=nJ;}else{au.aQ.drawType='circle';au.aQ.fillColor=nJ;}}au.aQ.dragDirection='br';var F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:au.aQ.lineWidth=V.get_lineWidth();jK=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:au.aQ.highlightGroupID=V.aY;au.aQ.drawType='text_selection_redaction';if(V.dF&&V.dF.length>0){au.aQ.startIndex=V.bB;au.aQ.selectedText=V.dF;au.aQ.textLength=V.dv;}break;case IPCC.Web.UI.MarkType.Text:var jL=V.get_rectangle();au.aQ.x=jL.x;au.aQ.y=jL.y;au.aQ.x_percent=jL.x/fK;au.aQ.y_percent=jL.y/eE;au.aQ.height_percent=jL.height/eE;au.aQ.width_percent=jL.width/fK;au.aQ.height=jL.height;au.aQ.width=jL.width;au.aQ.maxLength=V.get_maxLength();ho=V.get_fillColor();if(V.ju()===true){au.aQ.drawType='text_redact';}else{au.aQ.drawType='text';au.aQ.opacity=V.get_opacity();}if(ho==='transparent'){au.aQ.fillColor=ho;}else if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();}else{au.aQ.fillColor='16776960';}var aM='';aM="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aM+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aM+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aM+="<P ALIGN=\"right\" ";break;}aM+=">";aM+="<FONT ";rv=V.get_fontName();aM+="FACE="+"\""+rv+"\" ";rE=V.get_fontSize().toString();aM+="SIZE= \""+rE+"\" ";hI="\""+V.get_textColor()+"\" ";aM+="COLOR="+hI+" ";aM+="LETTERSPACING=\"0\" ";aM+="KERNING=\"0\" ";aM+=">";var cc=V.get_fontStyle();if(cc&IPCC.Web.UI.FontStyle.Bold){aM+="<B>";}if(cc&IPCC.Web.UI.FontStyle.Italic){aM+="<I>";}if(cc&IPCC.Web.UI.FontStyle.Underline){aM+="<U>";}if(cc&IPCC.Web.UI.FontStyle.Strikeout){aM+="<S>";}bv=V.get_text();bv=IPCC.h.pY(bv);aM+=bv;if(cc&IPCC.Web.UI.FontStyle.Strikeout){aM+="</S>";}if(cc&IPCC.Web.UI.FontStyle.Underline){aM+="</U>";}if(cc&IPCC.Web.UI.FontStyle.Italic){aM+="</I>";}if(cc&IPCC.Web.UI.FontStyle.Bold){aM+="</B>";}aM+="</FONT>";aM+="</P>";aM+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.drawType='highlight';au.aQ.highlightGroupID=V.aY;au.aQ.isHighlight=V.lc;ho=V.get_fillColor();if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();au.aQ.lineColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.drawType='text_hyperlink_annotation';au.aQ.href=IPCC.h.pY(V.lm);au.aQ.startIndex=V.bB;au.aQ.selectedText=V.dF;au.aQ.textLength=V.dv;au.aQ.highlightGroupID=V.aY;au.aQ.isHighlight=V.lc;ho=V.get_fillColor();if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();au.aQ.lineColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}au.cU.push(SB(V.bC,fK,eE));break;case IPCC.Web.UI.MarkType.HighlightText:F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.drawType='highlightText';au.aQ.startIndex=V.bB;au.aQ.selectedText=V.dF;au.aQ.textLength=V.dv;au.aQ.highlightGroupID=V.aY;au.aQ.isHighlight=V.lc;ho=V.get_fillColor();if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();au.aQ.lineColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}au.cU.push(SB(V.bC,fK,eE));break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=V.get_rectangle();au.aQ.drawType='rectangle_filled_redact';au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.meta=IPCC.h.pY(V.get_text());au.aQ.stampSize=V.get_fontSize();au.aQ.lineWidth=V.get_lineWidth();ho=V.get_fillColor();if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}If=V.get_lineColor();if(If){Ck=If.replace(/#/,"");au.aQ.lineColor=parseInt(Ck,16).toString();}else{au.aQ.lineColor=nJ;}YI=V.get_textColor();if(YI){ahn=YI.replace(/#/,"");au.aQ.fontColor=parseInt(ahn,16).toString();}else{au.aQ.fontColor=nJ;}if(V.aY){au.aQ.highlightGroupID=V.aY;}break;case IPCC.Web.UI.MarkType.Stamp:ho=V.get_fillColor();if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor=parseInt(iX,16).toString();au.aQ.lineColor=parseInt(iX,16).toString();}else{au.aQ.fillColor=nJ;}F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;if(V.ju()===true){au.aQ.drawType='stamp_redact';}else{au.aQ.drawType='stamp';}bv=V.get_text();au.aQ.stampSize=V.stampSize;au.cU.push('<![CDATA['+bv+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(V.get_type()===IPCC.Web.UI.MarkType.Freehand){au.aQ.drawType='freehand';}else{au.aQ.drawType='signature_path';switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:au.aQ.align='center';break;case IPCC.Web.UI.HorizontalAlignment.Left:au.aQ.align='left';break;case IPCC.Web.UI.HorizontalAlignment.Right:au.aQ.align='right';break;}}aM=V.get_pathString();au.aQ.pathWidth=V.get_pathWidth();au.aQ.pathHeight=V.get_pathHeight();F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;break;case IPCC.Web.UI.MarkType.SignatureText:ho=V.get_fillColor();var fE;if(ho){iX=ho.replace(/#/,"");au.aQ.fillColor="";au.aQ.lineColor="";fE=parseInt(iX,16).toString();}else{au.aQ.fillColor="";fE=nJ;}F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.opacity=0;au.aQ.drawType='signature_text';au.aQ.stampSize=V.stampSize;au.aQ.fontWidth=V.zz;au.aQ.fontHeight=V.zI;aM='';aM="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aM+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aM+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aM+="<P ALIGN=\"right\" ";break;}aM+=">";aM+="<FONT ";rv=V.get_fontName();aM+="FACE="+"\""+rv+"\" ";rE=V.stampSize.toString();aM+="SIZE= \""+rE+"\" ";hI="\""+V.get_fillColor()+"\" ";aM+="COLOR="+hI+" ";aM+="LETTERSPACING=\"0\" ";aM+="KERNING=\"0\" ";aM+=">";bv=IPCC.h.pY(V.get_text());aM+=bv;aM+="</FONT>";aM+="</P>";aM+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextAreaSignature:jL=V.get_rectangle();au.aQ.x=jL.x;au.aQ.y=jL.y;au.aQ.x_percent=jL.x/fK;au.aQ.y_percent=jL.y/eE;au.aQ.height_percent=jL.height/eE;au.aQ.width_percent=jL.width/fK;au.aQ.height=jL.height;au.aQ.width=jL.width;au.aQ.maxLength=V.gJ;au.aQ.maxFontSize=V.jf;if(tZ){au.aQ.drawType='text';}else{au.aQ.drawType='text_area_signature';}au.aQ.fillColor='transparent';aM='';aM="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aM+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aM+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aM+="<P ALIGN=\"right\" ";break;}aM+=">";aM+="<FONT ";rv=V.get_fontName();aM+="FACE="+"\""+rv+"\" ";rE=V.bZ.toString();aM+="SIZE= \""+rE+"\" ";hI="\""+V.get_textColor()+"\" ";aM+="COLOR="+hI+" ";aM+="LETTERSPACING=\"0\" ";aM+="KERNING=\"0\" ";aM+=">";cc=V.get_fontStyle();if(cc&IPCC.Web.UI.FontStyle.Bold){aM+="<B>";}if(cc&IPCC.Web.UI.FontStyle.Italic){aM+="<I>";}if(cc&IPCC.Web.UI.FontStyle.Underline){aM+="<U>";}if(cc&IPCC.Web.UI.FontStyle.Strikeout){aM+="<S>";}bv=V.get_text();bv=IPCC.h.pY(bv);aM+=bv;if(cc&IPCC.Web.UI.FontStyle.Strikeout){aM+="</S>";}if(cc&IPCC.Web.UI.FontStyle.Underline){aM+="</U>";}if(cc&IPCC.Web.UI.FontStyle.Italic){aM+="</I>";}if(cc&IPCC.Web.UI.FontStyle.Bold){aM+="</B>";}aM+="</FONT>";aM+="</P>";aM+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!tZ){F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.maxLength=V.get_maxLength();au.aQ.width_percent=F.width/fK;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.opacity=0;au.aQ.drawType='text_input_signature';au.aQ.stampSize=V.stampSize;au.aQ.fontWidth=V.zz;au.aQ.fontHeight=V.zI;aM='';aM="<TEXTFORMAT LEADING=\"2\">";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aM+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aM+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aM+="<P ALIGN=\"right\" ";break;}aM+=">";aM+="<FONT ";rv=V.get_fontName();aM+="FACE="+"\""+rv+"\" ";rE=V.stampSize.toString();aM+="SIZE= \""+rE+"\" ";hI="\""+V.get_textColor()+"\" ";aM+="COLOR="+hI+" ";aM+="LETTERSPACING=\"0\" ";aM+="KERNING=\"0\" ";aM+=">";bv=IPCC.h.pY(V.get_text());aM+=bv;aM+="</FONT>";aM+="</P>";aM+="</TEXTFORMAT>";var adf=atb(V.get_mask());if(adf){au.cU.push(adf);}}else{F=V.get_rectangle();var DP=V.stampSize;var nC;if(!V.FN|| !V.nC){var aqO=IPCC.h.ajt(V.get_text(),V.get_fontName(),F.width,F.height,{wo:"pre",bZ:DP+"px"});nC=aqO;V.FN=true;V.nC=nC;}else{nC=V.nC;}DP=nC.fontSize;var fT=nC.width/F.width,ct=1.0,MIN_BUFFER=0.85;if(/mono/i.test(V.get_fontName())){MIN_BUFFER=0.75;}if(fT>MIN_BUFFER){ct=MIN_BUFFER*F.width/nC.width;DP=DP*ct;}var akX=F.width,aEv=nC.height*ct,alz=F.height-(F.height-aEv)/2,akO=F.x,akW=F.y+(F.height-nC.height)/2+(nC.height*(1-ct));au.aQ.x=akO;au.aQ.y=akW;au.aQ.x_percent=akO/fK;au.aQ.y_percent=akW/eE;au.aQ.height_percent=alz/eE;au.aQ.width_percent=akX/fK;au.aQ.height=alz;au.aQ.width=akX;au.aQ.opacity=0;au.aQ.drawType='text_redact';aM='';aM="<TEXTFORMAT>";switch(V.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:aM+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:aM+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:aM+="<P ALIGN=\"right\" ";break;}aM+=">";aM+="<FONT ";rv=V.get_fontName();aM+="FACE="+"\""+rv+"\" ";if(V.aEs){rE=(DP/V.aEs).toString();}else{rE=DP.toString();}aM+="SIZE= \""+rE+"\" ";hI="\""+V.get_textColor()+"\" ";aM+="COLOR="+hI+" ";aM+="LETTERSPACING=\"0\" ";aM+="KERNING=\"0\" ";aM+=">";bv=IPCC.h.pY(V.get_text());aM+=bv;aM+="</FONT>";aM+="</P>";aM+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:au.aQ.drawType=(bI===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.lineWidth=V.get_lineWidth();au.aQ.x_percent=F.x/fK;au.aQ.y_percent=F.y/eE;au.aQ.height_percent=F.height/eE;au.aQ.width_percent=F.width/fK;au.aQ.imageStampId=V.pR;break;case IPCC.Web.UI.MarkType.Strikethrough:F=V.get_rectangle();au.aQ.x=F.x;au.aQ.y=F.y;au.aQ.height=F.height;au.aQ.width=F.width;au.aQ.drawType='strikethrough';au.aQ.startIndex=V.bB;au.aQ.selectedText=V.dF;au.aQ.textLength=V.dv;au.aQ.highlightGroupID=V.aY;au.aQ.isHighlight=V.lc;au.cU.push(SB(V.bC,fK,eE));break;}if(jK){au.aQ.lineWidth=V.get_lineWidth();var bn=V.get_boundingRectangle();au.aQ.x=bn.x;au.aQ.y=bn.y;au.aQ.x_percent=bn.x/fK;au.aQ.y_percent=bn.y/eE;au.aQ.height_percent=bn.height/eE;au.aQ.width_percent=bn.width/fK;au.aQ.height=bn.height;au.aQ.width=bn.width;if(bI===IPCC.Web.UI.MarkType.Line){if(V.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){au.aQ.drawType='line';}else{au.aQ.drawType='arrow';}}else{au.aQ.drawType='polyline';}au.aQ.lineWidth=V.get_lineWidth();var aL=V.get_points();if(bI===IPCC.Web.UI.MarkType.Line){if((aL.getPoint(0).x<aL.getPoint(1).x)&&(aL.getPoint(0).y>aL.getPoint(1).y)){au.aQ.dragDirection='tr';}else if((aL.getPoint(0).x>aL.getPoint(1).x)&&(aL.getPoint(0).y>aL.getPoint(1).y)){au.aQ.dragDirection='tl';}else if((aL.getPoint(0).x>aL.getPoint(1).x)&&(aL.getPoint(0).y<aL.getPoint(1).y)){au.aQ.dragDirection='bl';}else if((aL.getPoint(0).x<aL.getPoint(1).x)&&(aL.getPoint(0).y<aL.getPoint(1).y)){au.aQ.dragDirection='br';}else{au.aQ.dragDirection='br';}}else{var wN=[];var cW=aL.get_length(),bM;if(cW>1){for(var bE=0;bE<aL.get_length();bE++){bM=aL.getPoint(bE);wN.push({x:bM.x,y:bM.y});}aM=JSON.stringify(wN);}}if(Ck){au.aQ.fillColor=Ck;}else{au.aQ.fillColor="";}}else{au.aQ.lineWidth=V.get_lineWidth();au.aQ.dragDirection='br';}if(V.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){au.aQ.meta='';}au.aQ.label='';var eR=new Date();au.aQ.saveDate=IPCC.h.aCD(eR);au.aQ.saveTime=IPCC.h.aCe(eR);au.aQ.uuid='';au.aQ.formUser='';au.aQ.created=IPCC.h.aiW(V.get_dateCreated());au.aQ.modified=IPCC.h.aiW(V.get_dateModified());if(V.get_type()===IPCC.Web.UI.MarkType.Text||V.get_type()===IPCC.Web.UI.MarkType.Freehand||V.get_type()===IPCC.Web.UI.MarkType.SignaturePath||V.get_type()===IPCC.Web.UI.MarkType.SignatureText||V.get_type()===IPCC.Web.UI.MarkType.Polyline||V.get_type()===IPCC.Web.UI.MarkType.TextAreaSignature||V.get_type()===IPCC.Web.UI.MarkType.TextLine){au.cU.push('<![CDATA['+aM+']]>');}else{au.cU.push('');}return au;};this.aAt=function(aq,fK,eE,bK){var iJ={gO:'documentAnnotations',cU:[],aQ:{}};var dP={gO:'pages',cU:[],aQ:{}};iJ.cU.push(dP);var kd={gO:'highlights',cU:[],aQ:{}};iJ.cU.push(kd);var vf={},pM=[];var ap={gO:'page',cU:[],aQ:{id:(aq+1).toString(),pageWidth:fK,pageHeight:eE}};dP.cU.push(ap);bK=bK||{};var ahX=(bK.includeAnnotations!==undefined)? ! !bK.includeAnnotations:true,ahV=(bK.includeRedactions!==undefined)? ! !bK.includeRedactions:true,aif=(bK.includeSignatures!==undefined)? ! !bK.includeSignatures:false,tZ=(bK.tZ!==undefined)? ! !bK.tZ:false,WL=(bK.BA!==undefined)?bK.BA:false,aFP= ! !tZ,alG=WL?WL:bA;for(var J=0;J<alG.length;J++){var V=alG[J];var bI=V.get_type();if(V.get_type()===IPCC.Web.UI.MarkType.Highlight){continue;}if(aFP&& !V.get_visible()){continue;}if(!WL){if(ahX===false&&ahV===false&&aif===false){break;}if(ahX===false){if(bI===IPCC.Web.UI.MarkType.Rectangle||bI===IPCC.Web.UI.MarkType.Ellipse||bI===IPCC.Web.UI.MarkType.Line||bI===IPCC.Web.UI.MarkType.Text||bI===IPCC.Web.UI.MarkType.Stamp||bI===IPCC.Web.UI.MarkType.Highlight||bI===IPCC.Web.UI.MarkType.Strikethrough||bI===IPCC.Web.UI.MarkType.HighlightText||bI===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||bI===IPCC.Web.UI.MarkType.Freehand||bI===IPCC.Web.UI.MarkType.ImageStampAnnotation||bI===IPCC.Web.UI.MarkType.Polyline){if(V.ju()===false){continue;}}}if(ahV===false){if(V.ju()===true){continue;}if(bI===IPCC.Web.UI.MarkType.RectangleRedaction||bI===IPCC.Web.UI.MarkType.TextSelectionRedaction||bI===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(aif===false){if(bI===IPCC.Web.UI.MarkType.SignaturePath||bI===IPCC.Web.UI.MarkType.SignatureText||bI===IPCC.Web.UI.MarkType.SignatureImage||bI===IPCC.Web.UI.MarkType.TextAreaSignature||bI===IPCC.Web.UI.MarkType.TextLine){continue;}}}switch(bI){case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:vf[V.pR]={gO:'stampImage',cU:[],aQ:{imageStampId:V.pR,base64format:V.cY()}};break;}ap.cU.push(this.aqF(V,fK,eE,tZ));}for(var GB in vf){if(vf.hasOwnProperty(GB)){pM.push(vf[GB]);}}return{iJ:iJ,pM:pM};};this.azs=function(){var en={m:[]};var J;for(J=0;J<bA.length;J++){en.m.push(bA[J].aAU());}C.ad('marksSaved',{});var alE="";alE=JSON.stringify(en);return alE;};this.Cz=function(H){aj.addHandler('markAdded',H);};this.Ag=function(H){aj.removeHandler('markAdded',H);};this.HC=function(H){aj.addHandler('markChanged',H);};this.FB=function(H){aj.removeHandler('markChanged',H);};this.CD=function(H){aj.addHandler('markRemoved',H);};this.Ab=function(H){aj.removeHandler('markRemoved',H);};this.Hf=function(H){aj.addHandler('markReordered',H);};this.Fk=function(H){aj.removeHandler('markReordered',H);};this.Tz=function(H){aj.addHandler('marksLoaded',H);};this.ZL=function(H){aj.removeHandler('marksLoaded',H);};this.aHQ=function(H){aj.addHandler('marksSaved',H);};this.aGh=function(H){aj.removeHandler('marksSaved',H);};this.IB=function(H){aj.addHandler('markSelectionChanged',H);};this.Fr=function(H){aj.removeHandler('markSelectionChanged',H);};this.HU=function(H){aj.addHandler('markTextSelectionChanged',H);};this.Fe=function(H){aj.removeHandler('markTextSelectionChanged',H);};this.xc=function(H){aj.addHandler('commentAdded',H);};this.Bh=function(H){aj.removeHandler('commentAdded',H);};this.vS=function(H){aj.addHandler('commentRemoved',H);};this.DO=function(H){aj.removeHandler('commentRemoved',H);};this.sh=function(H){aj.addHandler('commentChanged',H);};this.uY=function(H){aj.removeHandler('commentChanged',H);};this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};this.cA=function(dq){var H=aj.getHandler("propertyChanged");if(H){H(this,new IPCC.nG(dq));}};return this;};OR.prototype={get_markCount:function(){return this.WZ();},get_selectedMarks:function(){return this.Cy();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.NP(mark,mouseLocation);},forEachMark:function(method,context){this.Bp(method,context);},getMark:function(zIndex){return this.Ou(zIndex);},getZIndexOfMark:function(mark){return this.ou(mark);},loadFromJson:function(json){this.azO(json);},removeAllMarks:function(){this.WU();},removeMark:function(mark){this.uS(mark);},reorderMark:function(mark,zIndex){this.aeE(mark,zIndex);},saveToJson:function(){return this.azs();},add_markAdded:function(handler){this.Cz(handler);},remove_markAdded:function(handler){this.Ag(handler);},add_markChanged:function(handler){this.HC(handler);},remove_markChanged:function(handler){this.FB(handler);},add_markRemoved:function(handler){this.CD(handler);},remove_markRemoved:function(handler){this.Ab(handler);},add_markReordered:function(handler){this.Hf(handler);},remove_markReordered:function(handler){this.Fk(handler);},add_marksLoaded:function(handler){this.Tz(handler);},remove_marksLoaded:function(handler){this.ZL(handler);},add_markSelectionChanged:function(handler){this.IB(handler);},remove_markSelectionChanged:function(handler){this.Fr(handler);},add_markTextSelectionChanged:function(handler){this.HU(handler);},remove_markTextSelectionChanged:function(handler){this.Fe(handler);},add_commentAdded:function(handler){this.xc(handler);},remove_commentAdded:function(handler){this.Bh(handler);},add_commentRemoved:function(handler){this.vS(handler);},remove_commentRemoved:function(handler){this.DO(handler);},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.uY(handler);}};OR.registerClass=cQ;OR.registerClass('IPCC.Web.UI.ArtPage');module.exports=OR;},{"../../IPCC.Util":28}],66:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Lu=function(){};Lu.registerEnum=ef;Lu.prototype={Line:0,Triangle:1};Lu.registerEnum('IPCC.Web.UI.CalloutType',false);module.exports=Lu;},{"../../IPCC.Util":28}],67:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var RC=function(text){var aj=new IPCC.Web.UI.gA();var ds=new IPCC.Web.UI.Data();this.Zj=IPCC.h.ud(new Date());this.bv=text;this.aFM=function(bv){if(bv===this.bv){return;}this.bv=bv;var R=new IPCC.Web.UI.CommentEventArgs();R.comment=this;R.length=1;this.ad('commentChanged',R);};this.aBG=function(){return this.bv;};this.aFd=function(aGo){this.Zj=aGo;};this.aAV=function(){return this.Zj;};this.sh=function(H){aj.addHandler('commentChanged',H);};this.uY=function(H){aj.removeHandler('commentChanged',H);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};this.wC=function(){return ds;};return this;};RC.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.uY(handler);},get_text:function(){return this.aBG();},set_text:function(text){this.aFM(text);},get_creationTime:function(){return this.aAV();},set_creationTime:function(isoTimeString){this.aFd(isoTimeString);},get_data:function(){return this.wC();}};RC.registerClass=cQ;RC.registerClass('IPCC.Web.UI.Comment');module.exports=RC;},{"../../IPCC.Util":28}],68:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Qu=function(){return this;};Qu.registerClass=cQ;Qu.prototype={};Qu.registerClass('IPCC.Web.UI.CommentEventArgs');module.exports=Qu;},{"../../IPCC.Util":28}],69:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Pa=function(aoh){var gV=[];var aj=new IPCC.Web.UI.gA();var ds=new IPCC.Web.UI.Data();var V=aoh;var C=this;function LE(aV,R){C.ad('commentChanged',R);};this.Km=function(de){de.add_commentChanged(LE);gV.push(de);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=de;R.length=1;R.index=gV.length-1;this.ad('commentAdded',R);};this.azZ=function(de){var Wx= -1;IPCC.h.forEach(gV,function(el,idx){if(el===de){Wx=idx;}});if(Wx=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var afk=gV.splice(Wx,1)[0];afk.uY(LE);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=afk;R.length=1;this.ad('commentRemoved',R);};this.lj=function(iP,cN){var J;for(J=0;J<gV.length;J++){iP.call(cN,gV[J],J,this);}};this.eY=function(){return gV.length;};this.xc=function(H){aj.addHandler('commentAdded',H);};this.Bh=function(H){aj.removeHandler('commentAdded',H);};this.sh=function(H){aj.addHandler('commentChanged',H);};this.uY=function(H){aj.removeHandler('commentChanged',H);};this.vS=function(H){aj.addHandler('commentRemoved',H);};this.DO=function(H){aj.removeHandler('commentRemoved',H);};this.wC=function(){return ds;};this.Mw=function(){return V;};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};return this;};Pa.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Km(comment);},removeCommentInstance:function(comment){this.azZ(comment);},forEach:function(method,context){this.lj(method,context);},get_length:function(){return this.eY();},add_commentAdded:function(handler){this.xc(handler);},remove_commentAdded:function(handler){this.Bh(handler);},add_commentChanged:function(handler){this.sh(handler);},remove_commentChanged:function(handler){this.uY(handler);},add_commentRemoved:function(handler){this.vS(handler);},remove_commentRemoved:function(handler){this.DO(handler);},get_data:function(){return this.wC();},get_mark:function(){return this.Mw();}};Pa.registerClass=cQ;Pa.registerClass('IPCC.Web.UI.Conversation');module.exports=Pa;},{"../../IPCC.Util":28}],70:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Oz=function(){this.ds={};this.wC=function(key){if(typeof key==='undefined'){return IPCC.h.extend({},this.ds);}else if(typeof key==='string'){return this.ds[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aFN=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.ds[key]=value;}else if(typeof value==='undefined'){delete this.ds[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.aAl=function(){var keys=[];IPCC.h.forEach(this.ds,function(value,key){keys.push(key);});return keys;};return this;};Oz.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.wC(key);},set_data:function(key,value){return this.aFN(key,value);},get_dataKeys:function(){return this.aAl();}};Oz.registerClass=cQ;Oz.registerClass('IPCC.Web.UI.Data');module.exports=Oz;},{"../../IPCC.Util":28}],71:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var PE=function(){};PE.prototype={Production:0,Development:1,Detailed:2};PE.registerEnum=ef;PE.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);module.exports=PE;},{"./../../IPCC.Util":28}],72:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var Qh=function(){};Qh.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};Qh.registerEnum=ef;Qh.registerEnum('IPCC.Web.UI.DebugItemCause',false);module.exports=Qh;},{"./../../IPCC.Util":28}],73:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var al=function(aGC){var bJ=aGC;var aef=this.type=bJ.type.toLowerCase();var KG=typeof bJ.changedTouches!=='undefined';this.rawEvent=bJ;this.altKey=bJ.altKey;if(typeof(bJ.button)!=='undefined'){this.button=(typeof(bJ.which)!=='undefined')?bJ.button:(bJ.button===4)?IPCC.Web.UI.MouseButton.middleButton:(bJ.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aef==='keypress'){this.charCode=bJ.charCode||bJ.keyCode;}else if(bJ.keyCode&&(bJ.keyCode===46)){this.keyCode=127;}else{this.keyCode=bJ.keyCode;}this.clientX=(KG)?bJ.changedTouches[0].clientX:bJ.clientX;this.clientY=(KG)?bJ.changedTouches[0].clientY:bJ.clientY;this.ctrlKey=bJ.ctrlKey;this.target=bJ.target?bJ.target:bJ.srcElement;function auh(af){var ay=0;var ck=0;while(af&& !isNaN(af.offsetLeft)&& !isNaN(af.offsetTop)){ay+=af.offsetLeft-af.scrollLeft;ck+=af.offsetTop-af.scrollTop;if(af.offsetparent){af=af.offsetParent;}else{af=af.parentNode;}}return{top:ck,left:ay};};var fG=""+aef;var Bi='key';if(fG.substr(0,Bi.length)!==Bi){if((typeof(bJ.offsetX)!=='undefined')&&(typeof(bJ.offsetY)!=='undefined')){this.offsetX=bJ.offsetX;this.offsetY=bJ.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(bJ.clientX)==='number')){var KW=auh(this.target);var fm=this.target;var gF=fm.ownerDocument||fm.document||fm;var jl=gF.defaultView||gF.parentWindow;this.offsetX=(jl.pageXOffset||0)+bJ.clientX-KW.left;this.offsetY=(jl.pageYOffset||0)+bJ.clientY-KW.top;}}this.screenX=(KG)?bJ.changedTouches[0].screenX:bJ.screenX;this.screenY=(KG)?bJ.changedTouches[0].screenY:bJ.screenY;this.shiftKey=bJ.shiftKey;};al.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};al.registerClass=cQ;al.registerClass('IPCC.Web.UI.al');al.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.al.Xk(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.jV.addHandlerCantBeUsedForError);}if(!element.aj){element.aj={};}var eventCache=element.aj[eventName];if(!eventCache){element.aj[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.al(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var fm=doc.defaultView||doc.parentWindow;e=fm.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.al(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.al.ahh){element.dispose=IPCC.Web.UI.al.ahh;if(typeof(d)!=="undefined"){element.alk=d;}}}};al.clearHandlers=function(element){IPCC.Web.UI.al.Xk(element);IPCC.Web.UI.al.akh(element,false);};al.akh=function(element,autoRemoving){if(element.aj){var cache=element.aj;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.al.removeHandler(element,name,entry.handler);}}}}element.aj=null;}};al.ahh=function(){IPCC.Web.UI.al.akh(this,true);var d=this.alk,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.alk=null;if(type==="function"){this.dispose();}}};al.removeHandler=function(element,eventName,handler){IPCC.Web.UI.al.cf(element,eventName,handler);};al.cf=function(element,eventName,handler){IPCC.Web.UI.al.Xk(element);var browserHandler=null;if((typeof(element.aj)!=='object')|| !element.aj){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.aj[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.al.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};al.Xk=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.jV.argumentDomNode);}};module.exports=al;},{"./../../IPCC.Util":28}],74:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var nz=function(){};nz.registerEnum=ef;nz.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};nz.registerEnum('IPCC.Web.UI.FitType',false);module.exports=nz;},{"../../IPCC.Util":28}],75:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var MF=function(){};MF.registerEnum=ef;MF.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};MF.registerEnum('IPCC.Web.UI.FontStyle',true);module.exports=MF;},{"../../IPCC.Util":28}],76:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Pr=function(){};Pr.registerEnum=ef;Pr.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3,Strikethrough:4};Pr.registerEnum('IPCC.Web.UI.HighLight',false);module.exports=Pr;},{"../../IPCC.Util":28}],77:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var OJ=function(){};OJ.registerEnum=ef;OJ.prototype={Left:0,Center:16,Right:32};OJ.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);module.exports=OJ;},{"../../IPCC.Util":28}],78:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var RF=function(){};RF.registerEnum=ef;RF.prototype={None:0,ArtDataService:1};RF.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);module.exports=RF;},{"./../../IPCC.Util":28}],79:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Dw=function(ax){var ia='';var hq='';var C=this;this.dP=new IPCC.Web.UI.ImGearPageCollection();this.Pf=undefined;this.dP.az=this;var Qw=false;this.qm=undefined;var fp=0;var Mx=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var aj=new IPCC.Web.UI.gA();this.iM=IPCC.Web.IE.aad(4,IPCC.Web.PG());this.pW=IPCC.Web.gp.Ho.mr(this.iM);var AM=[];var lJ=0;var mA=[];var BO=[];var gz={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Ze=false;this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){try{H(C,R);}catch(e){IPCC.iY.Nv('raise event error in ImGearDocument, error: '+e.message);IPCC.iY.nA(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function UV(aV,R){if(R.length>0){C.ad('pageAdded',R);}};function Vy(aV,R){if(R.length>0){C.ad('pageRemoved',R);}};function ET(aV,R){C.ad('pageChanged',R);};this.dP.add_pageAdded(UV);this.dP.add_pageRemoved(Vy);this.dP.add_pageChanged(ET);function ary(){function ata(jE,hS){var cu=jE+'() threw an exception ';if(hS.name){cu+='( '+hS.name+" ";}else{cu+=".";}if(hS.message){cu+="  exception message = "+hS.message;}if(hS.statusCode){cu+="  exception statusCode = "+hS.statusCode;}cu=cu.replace(/\n/g," ");IPCC.iY.nA(cu,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.ba=ata;this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(C,R);}};};if(arguments.length===0){var cu="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',cu);}if(arguments.length>0){if(ax.documentIdentifier!==undefined){ia=ax.documentIdentifier;hq=IPCC.hj.rX(ia);}if(ax.encodedDocumentIdentifier!==undefined){var vj=ax.encodedDocumentIdentifier;if(ax.documentIdentifier!==undefined){hq=IPCC.hj.rX(ia);if(vj!==hq){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{ia=IPCC.hj.Ft(ax.encodedDocumentIdentifier);}}if(ax.imageServicePath!==undefined){this.qm=ax.imageServicePath;}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var sR;if(ax.includeAllPages!==undefined){Qw=ax.includeAllPages;if(Qw===true){var aoV=new ary();var YM=0;C.ao=new IPCC.hj(hq,0,0,0,0,0);var qy=function(){fp=C.ao.fp;Mx=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;YM<fp;YM++){var aeD=new IPCC.Web.UI.ImGearPage({pageNumber:YM,az:C});aeD.az=C;C.dP.addPage(aeD);}};Mx=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.ao.RW(this.qm,aoV,qy);}catch(e){Mx=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;C.ad('pageOpenFailed',dM);throw e;}}}else if(ax.pages!==undefined){if(ax.pages.length>0){var J=0;for(J=0;J<ax.pages.length;J++){var bP=ax.pages[J];bP.document=this;this.dP.addPage(bP);}}}else if(ax.pageNumber!==undefined){if(ax.pageRangeCount!==undefined){var tj=ax.pageRangeCount;if(tj>0){var bd;for(bd=ax.pageNumber;bd<=tj;bd++){sR=new IPCC.Web.UI.ImGearPage(bd);sR.az=C;this.dP.addPage(sR);}}else if(tj===0){sR=new IPCC.Web.UI.ImgearPage({pageNumber:ax.pageNumber,az:C});sR.az=C;C.dP.addPage(sR);}}else{if(ax.selected){sR=new IPCC.Web.UI.ImGearPage({pageNumber:ax.pageNumber,az:C,selected:true});}else{sR=new IPCC.Web.UI.ImGearPage({pageNumber:ax.pageNumber,az:C});}sR.az=C;C.dP.addPage(sR);}}}this.Jg=function(){return ia;};this.Nn=function(){return hq;};this.aiG=function(){return this.dP;};this.ayE=function(){return fp;};this.axI=function(){return Mx;};this.ayl=function(){return Qw;};this.aEp=function(G){Qw=G;this.cA('includeAllPages');};var oc=false;this.im=function(){return oc;};this.nn=function(G){oc=G;};this.HS=function(H){aj.addHandler('pageAdded',H);};this.Ff=function(H){aj.removeHandler('pageAdded',H);};this.Hz=function(H){aj.addHandler('pageRemoved',H);};this.GJ=function(H){aj.removeHandler('pageRemoved',H);};this.Hs=function(H){aj.addHandler('pageOpenFailed',H);};this.FZ=function(H){aj.removeHandler('pageOpenFailed',H);};this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.IF=function(H){aj.addHandler('pageChanged',H);};this.Fs=function(H){aj.removeHandler('pageChanged',H);};this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};this.aoU=function(H){aj.addHandler('textPagesReceived',H);};this.azE=function(H){aj.removeHandler('textPagesReceived',H);};this.ayz=function(){return BO.length;};this.axw=function(){return AM;};this.ayL=function(){return AM.length;};this.aCL=function(){return gz;};this.aBq=function(){return Ze;};this.aGX=function(G){Ze=G;};this.atk=function(gf){if(gz.stopRequests===true){var R={};R.error=0;R.textPagesReceived=Lk(gf);if(R.textPagesReceived.length===0){if(lJ>0&&lJ<gf){for(var dz=lJ;dz<gf;dz++){R.textPagesReceived.push(dz);}}}R.length=2;C.ad('textPagesReceived',R);return;}var jk=true;var JL=false;for(var J=0;J<lJ;J++){if(Array.prototype.indexOf){if(AM.indexOf(J)<0){jk=false;JL=true;break;}}else{if(IPCC.Web.kD(AM,J)<0){JL=true;break;}}}if(JL){C.QQ(J,undefined,gf);}else if(lJ<gf){for(var bE=0;bE<gf;bE++){if(Array.prototype.indexOf){if(mA.indexOf(bE)<0){jk=false;break;}}else{if(IPCC.Web.kD(mA,bE)<0){jk=false;break;}}}if(!jk){JL=true;C.QQ(bE,undefined,gf);}else{C.QQ(lJ,undefined,gf);}}else{JL=false;}};function Lk(gf){var Tx=[],dz;if(mA.length>0){var jk=true;for(dz=0;dz<gf;dz++){jk=true;if(Array.prototype.indexOf){if(mA.indexOf(dz)<0){jk=false;}}else{if(IPCC.Web.kD(mA,dz)<0){jk=false;}}if(!jk){mA.push(dz);BO.push(dz);Tx.push(dz);}}}else{for(dz=0;dz<gf;dz++){mA.push(dz);BO.push(dz);Tx.push(dz);}}return Tx;};this.QQ=function(adZ,aht,gf){Ze=true;var bB;if(!isNaN(adZ)){bB=adZ;}else{bB=0;}var Ea;if(!isNaN(gf)){Ea=gf;}var ci;if(!isNaN(aht)){ci=aht;}else if(!isNaN(Ea)){ci=Ea-1;}else{Ea=gf;if(!isNaN(Ea)){ci=Ea-1;}}if(isNaN(ci)){ci=bB+1;}if(ci-bB>9){ci=bB+9;}function Rq(bv){var QN=lJ;var Zo=[];var jk=true;var aG;for(var ap=0;ap<bv.pages.length;ap++){if(Array.prototype.indexOf){if(AM.indexOf(bv.pages[ap].number)<0){jk=false;}}else{if(IPCC.Web.kD(AM,bv.pages[ap].number)<0){jk=false;}}if(!jk){AM.push(bv.pages[ap].number);if(C.dP.iZ(bv.pages[ap].number).dc().za()===false){aG=C.dP.iZ(bv.pages[ap].number);aG.aet(bv.pages[ap]);aG.aeO(bv.pages[ap]);aG.adk(bv.pages[ap].markup,bv.pages[ap].height,bv.pages[ap].width);}lJ++;Zo.push(bv.pages[ap].number);mA.push(bv.pages[ap].number);if(!bv.pages[ap].text){BO.push(bv.pages[ap].number);}}}var R={};if(bv.hasOwnProperty("errorCode")){R.error=0;C.pageExtractionFailed=true;R.textPagesReceived=Zo;R.length=2;for(var zF=gz.startPage;zF<gz.lastPage+1;zF++){jk=true;if(Array.prototype.indexOf){if(mA.indexOf(zF)<0){jk=false;}}else{if(IPCC.Web.kD(mA,zF)<0){jk=false;}}if(!jk){mA.push(zF);BO.push(zF);R.textPagesReceived.push(zF);}}C.ad('textPagesReceived',R);gz.stopRequests=true;return;}if(lJ>QN){R.textPagesReceived=Zo;R.length=2;R.error=0;}var re=gz.lastTimeout;if(gz.startPage===bB&&gz.lastPage===ci&&lJ===QN){if(gz.requestCount<25){re=re+1000;gz.requestCount++;}else{R.error=0;R.textPagesReceived=[];R.length=2;jk=true;var dz;for(dz=gz.startPage;dz<gz.lastPage+1;dz++){jk=true;if(Array.prototype.indexOf){if(mA.indexOf(dz)<0){jk=false;}}else{if(IPCC.Web.kD(mA,dz)<0){jk=false;}}if(!jk){mA.push(dz);BO.push(dz);R.textPagesReceived.push(dz);}}if(R.textPagesReceived.length===0){if(lJ>0&&lJ<gf){for(dz=lJ;dz<gf;dz++){R.textPagesReceived.push(dz);}}}gz.stopRequests=true;C.ad('textPagesReceived',R);return;}}else{re=1000;gz.requestCount=0;}gz.lastTimeout=re;gz.startPage=bB;gz.lastPage=ci;setTimeout(function(){C.atk(gf);},re);if(lJ>QN){C.ad('textPagesReceived',R);}};function er(bL){var R={},gS,aP;try{var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");if(nP==='true'){var uQ=IPCC.Web.gp.qc.uV(bL.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Gi(uQ,C.iM);var fF=IPCC.Web.Gl(bL);var vb=IPCC.Web.GA(fF,be,C.iM);gS=IPCC.Web.gp.EP.mr(vb);}else{gS=bL.responseText;}aP=JSON.parse(gS);Rq(aP);}catch(e){R.error= -1;Lk(gf);R.textPagesReceived=[];R.length=2;C.ad('textPagesReceived',R);return;}};function eA(aP){var R={},gP;try{gP=aP.response.status;if(aP.response.responseText){aP=JSON.parse(aP.response.responseText);if(aP.hasOwnProperty("errorCode")){R.error=0;if(lJ>0){if(aP.pages){if(aP.pages.length>0){Rq(aP);return;}}}else{R.error= -1;}if(mA.length===0){R.error= -1;}C.pageExtractionFailed=true;R.textPagesReceived=[];R.length=2;R.textPagesReceived=Lk(gf);C.ad('textPagesReceived',R);return;}else{throw new IPCC.Web.UI.ImGearHttpException(gP,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(gP,"Unable to obtain text");}}catch(e){R.error= -1;Lk(gf);R.textPagesReceived=[];R.length=2;C.ad('textPagesReceived',R);return;}};var hK=ia;var ge=C.qm;if(!(/^[\x00-\x7F]*$/.test(hK))){hK='e'+hq;}else{hK='u'+hK;}var ai;if(C.im()){ai=ge+'/Document/q/'+bB.toString()+'-'+ci.toString()+'/Text?DocumentID='+hK+'&iv='+C.pW;}else{ai=ge+'/Document/q/'+bB.toString()+'-'+ci.toString()+'/Text?DocumentID='+hK;}IPCC.h.mY.fu({method:'GET',url:ai,headers:{'accept':'application/json'}}).then(er,eA);};return this;};Dw.encodeDocumentIdentifier=function(ia){var hq;if(ia!==undefined){hq=IPCC.hj.rX(ia);}return hq;};Dw.decodeDocumentIdentifier=function(hq){var ahl;if(hq!==undefined){ahl=IPCC.hj.Ft(hq);}return ahl;};Dw.prototype={get_documentIdentifier:function(){var bQ=this.Jg();return bQ;},get_encodedDocumentIdentifier:function(){var bQ=this.Nn();return bQ;},get_pages:function(){return this.aiG();},get_pageCountStatus:function(){var r=this.axI();return r;},set_pageCountStatus:function(value){this.aHS(value);},get_pageCount:function(){var r=this.ayE();return r;},get_includeAllPages:function(){try{var bQ=this.ayl();return bQ;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aEp(value);}catch(e){throw e;}},get_encryption:function(){var bQ=this.im();return bQ;},set_encryption:function(value){this.nn(value);},add_pageChanged:function(handler){this.IF(handler);},remove_pageChanged:function(handler){this.Fs(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.GJ(handler);},add_pageAdded:function(handler){this.HS(handler);},remove_pageAdded:function(handler){this.Ff(handler);},add_pageOpenFailed:function(handler){this.Hs(handler);},remove_pageOpenFailed:function(handler){this.FZ(handler);},get_textRequestInfo:function(){try{var bQ=this.aCL();return bQ;}catch(e){throw e;}},get_pagesWithText:function(){try{var bQ=this.axw();return bQ;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var bQ=this.ayL();return bQ;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var bQ=this.ayz();return bQ;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.aoU(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.azE(handler);}catch(e){this.ba('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.kw(handler);},remove_propertyChanged:function(handler){this.mv(handler);}};Dw.registerClass=cQ;Dw.registerClass('IPCC.Web.UI.ImGearDocument');module.exports=Dw;},{"./../../IPCC.Util":28}],80:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Sc=function(){var kX=[];var aj=new IPCC.Web.UI.gA();var C=this;function atr(aV,R){if(R){var LO=new IPCC.Web.UI.ImGearDocumentEventArgs();LO.document=aV;LO.propertyName=R.get_propertyName();LO.length=2;C.ad('documentChanged',LO);}};this.Uf=function(aEo){this.aiO(kX.length,aEo);};this.aiO=function(aE,az){var bE;var cW=kX.length;if(aE>kX.length||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE,'document index is out of range');}for(bE=0;bE<cW;bE++){if(kX[bE]===az){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aiV=aj.getHandler('pageAdded');if(aiV){az.add_pageAdded(aiV);}var afW=aj.getHandler('pageRemoved');if(afW){az.add_pageRemoved(afW);}var aiS=aj.getHandler('pageChanged');if(aiS){az.add_pageChanged(aiS);}az.add_propertyChanged(atr);kX.splice(aE,0,az);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=az;R.index=aE;R.length=1;this.ad('documentAdded',R);};function jN(aE){if(aE>kX.length-1||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE,'document index is out of range');}};this.OD=function(aE){jN(aE);return kX[aE];};this.eY=function(){return kX.length;};this.aHd=function(iP,cN){var ads=[].concat(kX);var J;for(J=0;J<ads.length;J++){iP.call(cN,ads[J],J,this);}};this.aeB=function(aE){jN(aE);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=kX[aE];R.length=1;kX[aE].get_pages().removeAllPages();kX.splice(aE,1);this.ad('documentRemoved',R);};this.aAH=function(){var J=0;while(kX.length>0){this.aeB(J);}};this.avB=function(H){aj.addHandler('documentAdded',H);};this.aBl=function(H){aj.removeHandler('documentAdded',H);};this.awF=function(H){aj.addHandler('documentRemoved',H);};this.axl=function(H){aj.removeHandler('documentRemoved',H);};this.awL=function(H){aj.addHandler('documentChanged',H);};this.aym=function(H){aj.removeHandler('documentChanged',H);};this.HS=function(H){aj.addHandler('pageAdded',H);};this.Ff=function(H){aj.removeHandler('pageAdded',H);for(var bE=0;bE<kX.length;bE++){kX[bE].remove_pageAdded(H);}};this.IF=function(H){aj.addHandler('pageChanged',H);};this.Fs=function(H){aj.removeHandler('pageChanged',H);for(var bE=0;bE<kX.length;bE++){kX[bE].remove_pageChanged(H);}};this.Hz=function(H){aj.addHandler('pageRemoved',H);};this.GJ=function(H){aj.removeHandler('pageRemoved',H);for(var bE=0;bE<kX.length;bE++){kX[bE].remove_pageRemoved(H);}};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){try{H(C,R);}catch(e){IPCC.iY.Nv('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};Sc.prototype={addDocument:function(imGearDocument){this.Uf(imGearDocument);},insertDocument:function(index,imGearDocument){this.aiO(index,imGearDocument);},forEach:function(method,context){this.lj(method,context);},getDocument:function(index){return this.OD(index);},get_length:function(){return this.eY();},removeDocument:function(imGearDocument){this.aeB(imGearDocument);},removeAllDocuments:function(){this.aAH();},add_documentAdded:function(handler){this.avB(handler);},remove_documentAdded:function(handler){this.aBl(handler);},add_documentRemoved:function(handler){this.awF(handler);},remove_documentRemoved:function(handler){this.axl(handler);},add_documentChanged:function(handler){this.awL(handler);},remove_documentChanged:function(handler){this.aym(handler);},add_pageAdded:function(handler){this.HS(handler);},remove_pageAdded:function(handler){this.Ff(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.GJ(handler);},add_pageChanged:function(handler){this.IF(handler);},remove_pageChanged:function(handler){this.Fs(handler);}};Sc.registerClass=cQ;Sc.registerClass('IPCC.Web.UI.ImGearDocumentCollection');module.exports=Sc;},{"./../../IPCC.Util":28}],81:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var QF=function(){return this;};QF.registerClass=cQ;QF.prototype={};QF.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');module.exports=QF;},{"./../../IPCC.Util":28}],82:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var QD=function(){return this;};QD.registerClass=cQ;QD.prototype={};QD.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');module.exports=QD;},{"./../../IPCC.Util":28}],83:[function(require,module,exports){var axy=function(ll){var ay=0,ck=0,aD=0,ab=0,lm=ll.href||"",anW=ll.borderStyle||"Solid",mH=ll.borderThickness||0,xA=ll.borderPattern||[1],Jn=ll.borderHorizontalRadius||0,Kv=ll.borderHorizontalRadius||0,nZ=ll.borderColor||"#0000FF",tf=ll.borderOpacity||255,F,V;if(typeof tf==='string'){tf=parseInt(tf,10);}if(ll.rectangle){ay=ll.rectangle.x;ck=ll.rectangle.y;aD=ll.rectangle.width;ab=ll.rectangle.height;}F=new IPCC.Web.UI.Rectangle(ay,ck,aD,ab);this.ff=function(){var Uu=new IPCC.Web.UI.Rectangle(F.x,F.y,F.width,F.height);return Uu;};this.Ed=function(lO){F.x=lO.x;F.y=lO.y;F.width=lO.width;F.height=lO.height;};this.ajx=function(){return lm;};this.axq=function(){return anW;};this.ayS=function(){return mH;};this.ayp=function(){return xA;};this.axH=function(){return Jn;};this.axZ=function(){return Kv;};this.ayM=function(){return nZ;};this.ayA=function(){return tf;};this.Mw=function(){return V;};this.aFk=function(anV){V=anV;};this.aEd=function(){return IPCC.h.apt(lm);};};module.exports=axy;},{}],84:[function(require,module,exports){var gA=function gA(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.IC={};};gA.prototype.cX=function(cF,H){var db=this.Xm(cF,true);db[db.length]=H;};gA.prototype.addHandler=function(cF,H){this.cX(cF,H);};gA.prototype.cf=function(cF,H){var sF=this.Xm(cF);if(!sF){return;}var aE=IPCC.UH(sF,H);if(aE>=0){sF.splice(aE,1);}};gA.prototype.removeHandler=function(cF,H){this.cf(cF,H);};gA.prototype.getHandler=function(cF){var sF=this.Xm(cF);if(!sF||(sF.length===0)){return null;}var db=sF.slice();sF=db;return function(source,args){for(var J=0,pU=sF.length;J<pU;J++){sF[J](source,args);}};};gA.prototype.Xm=function(cF,apw){if(!this.IC[cF]){if(!apw){return null;}this.IC[cF]=[];}return this.IC[cF];};module.exports=gA;},{}],85:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var DX=function(message,errorInfo){this.message=message;var C=this;if(errorInfo){for(var Um in errorInfo){if(errorInfo.hasOwnProperty(Um)){C[Um]=errorInfo[Um];}}}};DX.prototype=new Error();DX.registerClass=cQ;DX.registerClass('IPCC.Web.UI.ImGearException');var Eu=function(statusCode,message,customErrorCode){var gu="IPCC.Web.UI.ImGearHttpException: ";if(message){gu+=message;}this.message=gu;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};Eu.prototype=new Error();Eu.registerClass=cQ;Eu.registerClass('IPCC.Web.UI.ImGearHttpException');var un=function(paramName,message){var gu="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.jV.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gu+="\n"+IPCC.Web.zD(IPCC.jV.paramName,paramName);}}this.message=gu;this.paramName=paramName;};un.prototype=new Error();un.registerClass=cQ;un.registerClass('IPCC.Web.UI.ImGearArgumentException');var Dx=function(paramName,message){var gu="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.jV.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gu+="\n"+IPCC.Web.zD(IPCC.Res.paramName,paramName);}}this.message=gu;this.paramName=paramName;};Dx.prototype=new Error();Dx.registerClass=cQ;Dx.registerClass('IPCC.Web.UI.ImGearArgumentNullException');var pI=function(paramName,actualValue,message){var gu="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.jV.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gu+="\n"+IPCC.Web.zD(IPCC.jV.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){gu+="\n"+IPCC.Web.zD(IPCC.jV.actualValue,actualValue);}this.message=gu;this.paramName=paramName;this.actualValue=actualValue;};pI.prototype=new Error();pI.registerClass=cQ;pI.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');var yi=function(paramName,actualType,expectedType,message){var gu="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){gu+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){gu+=IPCC.Web.zD(IPCC.jV.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{gu+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{gu+=IPCC.jV.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gu+="\n"+IPCC.Web.zD(IPCC.jV.paramName,paramName);}}this.message=gu;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};yi.prototype=new Error();yi.registerClass=cQ;yi.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');var Dk=function(paramName,message){var gu="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.jV.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){gu+="\n"+IPCC.Web.zD(IPCC.Res.paramName,paramName);}}this.message=gu;this.paramName=paramName;};Dk.prototype=new Error();Dk.registerClass=cQ;Dk.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');var Cx=function(message){var gu="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.jV.invalidOperation);this.message=gu;};Cx.prototype=new Error();Cx.registerClass=cQ;Cx.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');var By=function(message){var gu="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.jV.notImplemented);this.message=gu;};By.prototype=new Error();By.registerClass=cQ;By.registerClass('IPCC.Web.UI.ImGearNotImplementedException');var Bn=function(message){var gu="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.jV.parameterCount);this.message=gu;};Bn.prototype=new Error();Bn.registerClass=cQ;Bn.registerClass('IPCC.Web.UI.ImGearParameterCountException');module.exports={DX:DX,Eu:Eu,un:un,Dx:Dx,pI:pI,yi:yi,Dk:Dk,Cx:Cx,By:By,Bn:Bn};},{"./../../IPCC.Util":28}],86:[function(require,module,exports){var aFB=function(){var FU=[];this.aox=function(axO){FU.push(axO);};this.dw=function(){return FU.length;};this.lj=function(iP,cN){IPCC.h.forEach(FU,iP,cN);};this.aBO=function(){if(FU.length<1){return;}FU=[];};return this;};module.exports=aFB;},{}],87:[function(require,module,exports){var aDN=function(){var Fl=new IPCC.Web.UI.ImGearHyperlinkCollection();this.Jc=function(){return Fl;};};module.exports=aDN;},{}],88:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Rz=function(ax){this.az=undefined;var aq=0;var aW=0,aaX=0,abu=0;var bg=0,amf=0,alK=0;var C=this;var aj=new IPCC.Web.UI.gA();this.aGT=undefined;this.gz={rn:0,aed:false,qL:1000,ND:false};var ft=new IPCC.Web.UI.ImGearTextPage();var Qg=new IPCC.Web.UI.ImGearHyperlinkPage();var kA=0;var oc=false;var DH=false,Gd=0,FT=0;function ahL(o){return!isNaN(o-0);};if(ax.pageNumber!==undefined){if(ahL(ax.pageNumber)){aq=ax.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}this.pa=function(){return aq;};this.aIo=function(G){if(ahL(ax.pageNumber)){aq=G;}};this.ke=function(){return aW;};function aiA(){if(!ft){ft=new IPCC.Web.UI.ImGearTextPage();}var apK=ft.hF();var qb=aW/Gd,pV=bg/FT;apK.aCy(qb,pV);};function aji(){var Fl=Qg.Jc();var qb=aW/Gd,pV=bg/FT;Fl.lj(function(gx){gx.Ed(gx.ff().scale(qb,pV));var agf=gx.Mw();agf.set_rectangle(agf.get_rectangle().scale(qb,pV));});};this.LV=function(G){aW=G;if(DH&&aW&&aW!==Gd&&bg&&bg!==FT){aiA();aji();DH=false;}};this.ir=function(){return bg;};this.Lo=function(G){bg=G;if(DH&&aW&&aW!==Gd&&bg&&bg!==FT){aiA();aji();DH=false;}};this.ajc=function(){return aaX;};this.aby=function(G){aaX=G;};this.aKn=function(){return amf;};this.aaG=function(G){amf=G;};this.aIr=function(){return abu;};this.aHZ=function(G){abu=G;};this.aJD=function(){return alK;};this.aGS=function(G){alK=G;};this.axQ=function(){return this.az;};this.dc=function(){if(!ft){ft=new IPCC.Web.UI.ImGearTextPage();}return ft;};this.jG=function(){return kA;};this.wf=function(G){if(kA===G){return;}if(isNaN(G)){return;}kA=G;this.cA('serviceResponseTimeout');};this.im=function(){return oc;};this.nn=function(G){oc=G;};this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.zL=function(H){aj.addHandler('textPageReady',H);};this.EB=function(H){aj.removeHandler('textPageReady',H);};this.ahU=function(){return Qg;};this.Uh=function(H){aj.addHandler('hyperlinkPageReady',H);};this.afa=function(H){aj.removeHandler('hyperlinkPageReady',H);};this.AB=function(H){aj.cX('textExtractionFailed',H);};this.EI=function(H){aj.cf('textExtractionFailed',H);};this.aet=function(gK){if(aW===0&&bg===0){DH=true;Gd=gK.width;FT=gK.height;}};this.aeO=function(gK){if(!ft){ft=new IPCC.Web.UI.ImGearTextPage();}ft.aBF(gK.width);ft.aEG(gK.height);if(ft.hF().eY()>0){return;}else if(gK.errorCode){var ml=new IPCC.Web.UI.ImGearException(gK.errorDescription,{name:'Text Extraction'});var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=ml;dM.pageNumber=C.get_pageNumber();C.ad('textExtractionFailed',dM);return;}var awR=ft.hF();var LQ=false;var adR;function IM(VX){return VX;};var pV=1;var qb=1;if(gK.height&&gK.height>0&&bg>0){if(gK.height!==bg){pV=bg/gK.height;}}if(gK.width&&gK.width>0&&aW>0){if(gK.width!==aW){qb=aW/gK.width;}}var gU;var afg= -1;var Mf;var iq,Ar;for(var J=0;J<gK.rectangles.length;J++){iq=gK.rectangles[J];Ar=IM(gK.text[J]);LQ=false;if(iq[2]===0){Ar="\n";LQ=true;if(J>0){adR=gK.rectangles[J-1];iq[2]=adR[2];}}if(qb===1&&pV===1){Mf=new IPCC.Web.UI.ImGearTextCharacter(iq[0],iq[1],iq[2],iq[3],Ar,LQ);}else{Mf=new IPCC.Web.UI.ImGearTextCharacter(iq[0]*qb,iq[1]*pV,iq[2]*qb,iq[3]*pV,Ar,LQ);}if(Mf){awR.anH(Mf);}if(gU===undefined||afg!==iq[1]||iq[0]<gU.ff().x){if(gU){ft.YG().akK(gU);}gU=new IPCC.Web.UI.ImGearTextSection();gU.Ed(new IPCC.Web.UI.Rectangle(iq[0],iq[1],iq[2],iq[3]));gU.aGB(J);}else{if(iq[0]+iq[2]-gU.ff().x>gU.ff().width){gU.ff().width=iq[0]+iq[2]-gU.ff().x;}}gU.aDb(J);afg=iq[1];}if(gU){ft.YG().akK(gU);}ft.aCW(gK.text);if(gK.text.length>0){ft.NJ(true);C.ad('textPageReady',{pageNumber:C.pa(),containsText:true});}else{ft.NJ(false);C.ad('textPageReady',{pageNumber:C.pa(),containsText:false});}};this.adk=function(agq,RA,QG){if(!agq){return;}Qg.Jc().aBO();var pV=1;var qb=1;if(RA&&RA>0&&bg>0){if(RA!==bg){pV=bg/RA;}}if(QG&&QG>0&&aW>0){if(QG!==aW){qb=aW/QG;}}IPCC.h.forEach(agq,function(agg){var gx;switch(agg.markType){case "DocumentHyperlink":gx=new IPCC.Web.UI.ImGearDocumentHyperlink(agg.properties);gx.Ed(gx.ff().scale(qb,pV));if(!gx.aEd()){Qg.Jc().aox(gx);}break;default:break;}});C.ad('hyperlinkPageReady',{pageNumber:C.pa()});};this.aBK=function(){C.Al();};this.Al=function(){if(!ft){ft=new IPCC.Web.UI.ImGearTextPage();}if(!C.az){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(ft.za()){return;}var afi=true;if(C.jG()===0){afi=false;}function Rq(bv){if(bv.pages){var bm;if(bv.pages.length>0){if(bv.pages[0].number!==C.pa()){for(var J=0;J<bv.pages.length;J++){if(bv.pages[J].number===C.pa()){bm=J;break;}}if(!bm){C.gz.ND=false;return;}}else{bm=0;}var gK=bv.pages[bm];C.gz.ND=true;if(bv.pages[bm].text&&bv.pages[bm].text.length>0){ft.NJ(true);}else{ft.NJ(false);}C.gz.qL=1000;C.aet(gK);C.aeO(gK);C.adk(gK.markup,gK.height,gK.width);return;}}var re=C.gz.qL;if(!C.gz.ND){if(C.gz.rn<6){if(C.gz.rn<2){re=re+1000;}else{re=re+3000;}C.gz.rn++;C.gz.qL=re;setTimeout(C.aBK,re);}else{C.gz.aed=true;}}};function er(bL){var iM=C.az.iM,aP;try{var gS;var nP=bL.getResponseHeader("Accusoft-Data-Encrypted");if(nP==='true'){var uQ=IPCC.Web.gp.qc.uV(bL.getResponseHeader("Accusoft-Data-SK"));var be=IPCC.Web.Gi(uQ,iM);var fF=IPCC.Web.Gl(bL);var vb=IPCC.Web.GA(fF,be,iM);gS=IPCC.Web.gp.EP.mr(vb);}else{gS=bL.responseText;}aP=JSON.parse(gS);Rq(aP);}catch(e){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=C.get_pageNumber();C.ad('textExtractionFailed',dM);return;}};function eA(aP){try{if(!aP.response){throw new IPCC.Web.UI.ImGearHttpException(0,"Text extraction timeout");}else{if(aP.response.statusText){throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,"Unable to obtain text, Error from the service = "+aP.response.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(aP.response.status,"Unable to obtain text from the service");}}}catch(e){var dM=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dM.exception=e;dM.pageNumber=C.get_pageNumber();C.ad('textExtractionFailed',dM);return;}};var bB=C.get_pageNumber();var hK=C.az.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(hK))){hK='e'+C.az.get_encodedDocumentIdentifier();}else{hK='u'+encodeURIComponent(hK);}var ge=C.az.qm;var pW=C.az.pW;var ai;if(C.im()){ai=ge+'/Document/q/'+bB.toString()+'-'+bB.toString()+'/Text?DocumentID='+hK+'&iv='+pW;}else{ai=ge+'/Document/q/'+bB.toString()+'-'+bB.toString()+'/Text?DocumentID='+hK;}var hA={method:'GET',url:ai,headers:{'accept':'application/json'}};if(afi===true){hA.timeout=C.jG();}IPCC.h.mY.fu(hA).then(er,eA);};this.dc=function(){if(!ft){ft=new IPCC.Web.UI.ImGearTextPage();}return ft;};this.aHV=function(G){if(typeof G.nU!=='function'){return;}ft=G;};this.ahc=function(){ft=undefined;C.gz={rn:0,aed:false,qL:1000,ND:false};DH=false;Gd=0;FT=0;};this.OT=function(Ak,Ba){var C=this;function er(bL){var aP;aP=JSON.parse(bL.responseText);if(aP.imageWidth&&aP.imageHeight){C.LV(aP.imageWidth);C.Lo(aP.imageHeight);Ak(aP.imageWidth,aP.imageHeight);}else{Ba("Unable to obtain document information from the server");}};function eA(aP){Ba("Unable to obtain document information from the server");};if(C.ke()>0||C.ir()>0){Ak(C.ke(),C.ir());}else{var rH=IPCC.hj.rX(C.az.get_documentIdentifier());if(!rH||rH===""){Ba("Invalid encoded Identifier");}var tq='';if(!IPCC.vu.JH()){tq='&ContentType=png';}var ai;if(!(/^[\x00-\x7F]*$/.test(rH))){ai=C.az.qm+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=e'+rH+tq;}else{ai=C.az.qm+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(C.az.get_documentIdentifier())+tq;}IPCC.h.mY.fu({method:'GET',url:ai,headers:{'Content-Type':'application/json'}}).then(er,eA);}};this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){try{H(C,R);}catch(e){IPCC.iY.Nv('event raise, ImGearPage, error: '+e.message);}}};return this;};Rz.prototype={get_pageNumber:function(){var bQ=this.pa();return bQ;},get_pageWidth:function(){var bQ=this.ke();return bQ;},get_pageHeight:function(){var bQ=this.ir();return bQ;},get_textPage:function(){var bQ=this.dc();return bQ;},get_encryption:function(){var bQ=this.im();return bQ;},set_encryption:function(value){this.nn(value);},get_hyperlinkPage:function(){return this.ahU();},get_document:function(){var bQ=this.axQ();return bQ;},add_propertyChanged:function(handler){this.kw(handler);},remove_propertyChanged:function(handler){this.mv(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.OT(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};Rz.registerClass=cQ;Rz.registerClass('IPCC.Web.UI.ImGearPage');module.exports=Rz;},{"./../../IPCC.Util":28}],89:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var RZ=function(){var C=this;var dP=[];var aj=new IPCC.Web.UI.gA();this.auH=false;this.auu=true;this.az=undefined;this.alh=function(ap){this.aic(dP.length,ap);};function jN(aE){if(aE>dP.length-1||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE,'page index is out of range in the page collection');}};this.aic=function(aE,ap){var bE;var cW=dP.length;if(aE>dP.length||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE,'index of the page Collection is out of range');}if(C.auu&&C.auH){if(cW>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(bE=0;bE<cW;bE++){if(dP[bE]===ap){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(C.az){if(!ap.az){ap.az=C.az;}}ap.add_propertyChanged(ET);dP.splice(aE,0,ap);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=ap;R.length=1;C.ad('pageAdded',R);};this.iZ=function(aE){jN(aE);var fo=dP[aE];return fo;};this.aBm=function(aE,ap){jN(aE);var QE=dP[aE];if(QE===ap){return;}dP[aE]=ap;var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=ap;R.length=1;this.ad('pageAdded',R);QE.remove_propertyChanged(ET);var AT=new IPCC.Web.UI.ImGearPageEventArgs();AT.imGearPage=QE;AT.length=1;this.ad('pageRemoved',AT);};this.eY=function(){return dP.length;};this.lj=function(iP,cN){var adG=[].concat(dP);var J;for(J=0;J<adG.length;J++){iP.call(cN,adG[J],J,this);}};this.aeM=function(aE){jN(aE);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=dP[aE];dP[aE].remove_propertyChanged(ET);R.length=1;dP.splice(aE,1);C.ad('pageRemoved',R);};this.aHB=function(ap){var dw=dP.length;for(var J=0;J<dw;J++){if(ap===dP[J]){return J;}}return-1;};this.aCq=function(){var J=0;while(dP.length>0){this.aeM(J);}};function ET(aV,R){var AT=new IPCC.Web.UI.ImGearPageEventArgs();AT.imGearPage=aV;AT.length=1;C.ad('pageChanged',AT);};this.HS=function(H){aj.addHandler('pageAdded',H);};this.Ff=function(H){aj.removeHandler('pageAdded',H);};this.IF=function(H){aj.addHandler('pageChanged',H);};this.Fs=function(H){aj.removeHandler('pageChanged',H);};this.Hz=function(H){aj.addHandler('pageRemoved',H);};this.GJ=function(H){aj.removeHandler('pageRemoved',H);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){try{H(C,R);}catch(e){IPCC.iY.Nv('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};RZ.prototype={addPage:function(page){this.alh(page);},insertPage:function(index,page){this.aic(index,page);},forEach:function(method,context){this.lj(method,context);},getPage:function(index){return this.iZ(index);},setPage:function(index,page){this.aBm(index,page);},get_length:function(){return this.eY();},removePage:function(index){this.aeM(index);},removeAllPages:function(){this.aCq();},add_pageAdded:function(handler){this.HS(handler);},remove_pageAdded:function(handler){this.Ff(handler);},add_pageChanged:function(handler){this.IF(handler);},remove_pageChanged:function(handler){this.Fs(handler);},add_pageRemoved:function(handler){this.Hz(handler);},remove_pageRemoved:function(handler){this.GJ(handler);}};RZ.registerClass=cQ;RZ.registerClass('IPCC.Web.UI.ImGearPageCollection');module.exports=RZ;},{"./../../IPCC.Util":28}],90:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var RQ=function(){};RQ.registerEnum=ef;RQ.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};RQ.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);module.exports=RQ;},{"./../../IPCC.Util":28}],91:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var Qy=function(){};Qy.registerClass=cQ;Qy.prototype={};Qy.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');module.exports=Qy;},{"./../../IPCC.Util":28}],92:[function(require,module,exports){var cQ=require('./../../IPCC.Util').regClass;var QS=function(){return this;};QS.prototype={};QS.registerClass=cQ;QS.registerClass('IPCC.Web.UI.ImGearPageEventArgs');module.exports=QS;},{"./../../IPCC.Util":28}],93:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Rh=function(){return this;};Rh.registerClass=cQ;Rh.prototype={};Rh.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');module.exports=Rh;},{"../../IPCC.Util":28}],94:[function(require,module,exports){var aDu=function(ay,ck,aD,ab,Ar,aya){this.an=new IPCC.Web.UI.Rectangle(ay,ck,aD,ab);this.kC=Ar;this.Ky=aya;this.azo=function(){return Ar;};this.sd=function(){var Uu=new IPCC.Web.UI.Rectangle(this.an.x,this.an.y,this.an.width,this.an.height);return Uu;};this.aJR=function(){return this.Ky;};};module.exports=aDu;},{}],95:[function(require,module,exports){var aFa=function(){var iU=[];this.anH=function(le){iU.push(new IPCC.Web.UI.ImGearTextCharacter(le.an.x,le.an.y,le.an.width,le.an.height,le.kC,le.Ky));};this.aIw=function(anS){function kf(le){iU.push(le);};anS.forEach(kf,{});};this.azh=function(){var adn=[];for(var bE=0;bE<this.eY();bE++){var Lw=this.jM(bE).an;var F=[];F.push(Lw.x);F.push(Lw.y);F.push(Lw.width);F.push(Lw.height);adn.push(F);}return adn;};this.aGs=function(aE,adV){var bE;var cW=iU.length;if(aE>iU.length||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE,'index of theText Character Collection is out of range');}for(bE=0;bE<cW;bE++){if(iU[bE]===adV){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same bv Character instance in a le collection).');}}iU.splice(aE,0,adV);};this.aCy=function(adI,adg){IPCC.h.forEach(iU,function(kC){kC.an.width=kC.an.width*adI;kC.an.height=kC.an.height*adg;kC.an.x=kC.an.x*adI;kC.an.y=kC.an.y*adg;});};this.lj=function(iP,cN){var abK=[].concat(iU);var J;for(J=0;J<abK.length;J++){iP.call(cN,new IPCC.Web.UI.ImGearTextCharacter(abK[J].x,abK[J].y),J,this);}};function jN(aE){if(aE>iU.length-1||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE);}};this.jM=function(aE){jN(aE);var qR=iU[aE];return new IPCC.Web.UI.ImGearTextCharacter(qR.an.x,qR.an.y,qR.an.width,qR.an.height,qR.kC,qR.Ky);};this.aGP=function(aE,le){jN(aE);var Cw=iU[aE];if(Cw.an.x===le.an.x&&Cw.an.y===le.y&&Cw.an.width===le.an.width&&Cw.an.height===le.an.height&&Cw.kC===le.kC&&Cw.Ky===le.Ky){return;}iU[aE]=le;};this.eY=function(){return iU.length;};this.aIB=function(aE){jN(aE);iU.splice(aE,1);};this.aFQ=function(){if(iU.length<1){return;}iU=[];};return this;};module.exports=aFa;},{}],96:[function(require,module,exports){var aGd=function(){var aoD=new IPCC.Web.UI.ImGearTextCharacterCollection();var Ww=false;var acL=false;var ZI="";var vD=new IPCC.Web.UI.ImGearTextSectionCollection();var ZX=false;var aD=0;var ab=0;this.hF=function(){return aoD;};this.nU=function(){return Ww;};this.NJ=function(G){acL=true;if(G===Ww){return;}if((G===true)||(G===false)){Ww=G;}};this.za=function(){return acL;};this.CG=function(){return ZI;};this.aCW=function(G){if(G===ZI){return;}ZI=G;};this.YG=function(){return vD;};this.ayH=function(){return ZX;};this.aav=function(G){if(G===ZX){return;}if((G===true)||(G===false)){ZX=G;}};this.aBc=function(){return aD;};this.aBF=function(G){if(G===aD){return;}aD=G;};this.axR=function(){return ab;};this.aEG=function(G){if(G===ab){return;}ab=G;};};module.exports=aGd;},{}],97:[function(require,module,exports){var aFp=function(){var F=null;var bB=0;var ci=0;this.ff=function(){return F;};this.Ed=function(G){F=G;};this.aiT=function(){return bB;};this.aGB=function(G){bB=G;};this.ahS=function(){return ci;};this.aDb=function(G){ci=G;};};module.exports=aFp;},{}],98:[function(require,module,exports){var aGt=function(){var vD=[];this.akK=function(gU){vD.push(gU);};function jN(aE){if(aE>vD.length-1||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE);}};this.azL=function(aE){jN(aE);return vD[aE];};this.eY=function(){return vD.length;};return this;};module.exports=aGt;},{}],99:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var Oc=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};Oc.registerEnum=ef;Oc.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};Oc.registerEnum("IPCC.Web.UI.Key");module.exports=Oc;},{"./../../IPCC.Util":28}],100:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Or=function(){};Or.registerEnum=ef;Or.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};Or.registerEnum('IPCC.Web.UI.LineHeadType',false);module.exports=Or;},{"../../IPCC.Util":28}],101:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var ME=function(){};ME.registerEnum=ef;ME.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};ME.registerEnum('IPCC.Web.UI.LineStyle',false);module.exports=ME;},{"../../IPCC.Util":28}],102:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var LB=function(){return this;};LB.registerClass=cQ;LB.prototype={};LB.registerClass('IPCC.Web.UI.LogItemEventArgs');module.exports=LB;},{"../../IPCC.Util":28}],103:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Nh=function(type){var bf=type;type=undefined;var sO=new Date();var tk=new Date();var aA=null;var F;var aL;var dE;var ds=new IPCC.Web.UI.Data();var aj=new IPCC.Web.UI.gA();var C=this;var hZ;this.eu=function(iC,dq){if((hZ&iC)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dq+' is not a valid property for this type of Mark.');}};if(bf===IPCC.Web.UI.MarkType.SignatureText){this.jO='#000000';this.hM=IPCC.Web.UI.LineStyle.Solid;this.ez=0;}else{this.jO='#000000';this.hM=IPCC.Web.UI.LineStyle.Solid;this.ez=1;}this.co=255;this.mT=IPCC.Web.UI.MarkInteractionMode.Full;var jK=false;switch(bf){case IPCC.Web.UI.MarkType.Line:jK=true;aL=new IPCC.Web.UI.PointCollection();aL.addPoint({x:0,y:0});aL.addPoint({x:0,y:0});hZ=1;this.jO='#18385F';this.ez=6;break;case IPCC.Web.UI.MarkType.Polyline:jK=true;this.rF=false;aL=new IPCC.Web.UI.PointCollection();hZ=2;this.ez=2;break;case IPCC.Web.UI.MarkType.Rectangle:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=4;this.fE='#FB0404';this.ez=4;break;case IPCC.Web.UI.MarkType.Ellipse:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=8;this.fE='#FB0404';this.ez=4;break;case IPCC.Web.UI.MarkType.Polygon:aL=new IPCC.Web.UI.PointCollection();hZ=16;break;case IPCC.Web.UI.MarkType.Text:this.De='#000000';this.xC=false;this.rD=IPCC.Web.UI.LineStyle.Solid;this.DV=1;this.nv=new IPCC.Web.UI.Point(0,0);this.DN=IPCC.Web.UI.CalloutType.Triangle;this.wM=false;this.gb='Arial';this.bZ=12;this.cc=IPCC.Web.UI.FontStyle.Regular;this.hM=IPCC.Web.UI.LineStyle.Solid;this.gJ=0;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bv='';this.hO=IPCC.Web.UI.HorizontalAlignment.Left;this.wT=IPCC.Web.UI.VerticalAlignment.Top;this.qN='#000000';this.yf=255;this.Ao=IPCC.Web.UI.Orientation.TopLeft;this.eL=[];this.ez=4;this.co=127;this.fE='#FFFFFF';hZ=32;break;case IPCC.Web.UI.MarkType.Stamp:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=128;break;case IPCC.Web.UI.MarkType.Highlight:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.lc='n';this.bB=0;this.dF='';this.dv=0;this.co=127;hZ=256;break;case IPCC.Web.UI.MarkType.HighlightText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.lc='n';this.bB=0;this.dF='';this.dv=0;this.co=127;this.fE='#FFFF00';hZ=512;this.eL=[];this.bC=[];break;case IPCC.Web.UI.MarkType.Freehand:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=64;this.ez=4;this.jO='#000000';this.hQ=false;this.Ud=1;this.Sp=1;this.vm='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=1024;this.hO=IPCC.Web.UI.HorizontalAlignment.Center;this.ez=4;this.jO='#000000';this.hQ=false;this.Ud=1;this.Sp=1;this.vm='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=2048;this.hO=IPCC.Web.UI.HorizontalAlignment.Center;this.bv='John Doe';this.qN='#000000';this.fE='#000000';this.gb="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=4096;this.gb='Arial';this.bZ=8;this.cc=IPCC.Web.UI.FontStyle.Regular;this.bv='';this.hO=IPCC.Web.UI.HorizontalAlignment.Center;this.wT=IPCC.Web.UI.VerticalAlignment.Center;this.fE='#000000';this.qN='#FFFFFF';this.yf=255;this.Ao=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bC=[];this.aY='';this.fA='';this.bv='';this.gb='Arial';this.bZ=8;this.bB=0;this.dv=0;hZ=8192;this.eL=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lm='';this.ez=2;this.dF='';this.aY='';this.lc='n';this.bB=0;this.dv=0;this.fE='#3B00FF';hZ=1<<14;this.eL=[];this.bC=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:F=new IPCC.Web.UI.Rectangle(0,0,0,0);hZ=16384;this.ao='';this.pR='';break;case IPCC.Web.UI.MarkType.DocumentHyperlink:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.lm='';this.LH='';this.xA='';this.Jn=0;this.Kv=0;this.tf=255;hZ=32768;break;case IPCC.Web.UI.MarkType.TextLine:hZ=65536;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.hO=IPCC.Web.UI.HorizontalAlignment.Left;this.bv='';this.qN='#000000';this.gb="Courier New";this.ez=1;this.hQ=true;this.gJ=0;this.Fj=0;this.FN=false;var jy=IPCC.h.vz("M",this.gb,{wo:'pre'});this.zz=jy.width;this.zI=jy.height;this.hW=null;break;case IPCC.Web.UI.MarkType.TextAreaSignature:this.De='#000000';this.xC=false;this.rD=IPCC.Web.UI.LineStyle.Solid;this.DV=1;this.nv=new IPCC.Web.UI.Point(0,0);this.DN=IPCC.Web.UI.CalloutType.Triangle;this.wM=false;this.gb='Courier New';this.jf=0;this.gJ=0;this.bZ=12;this.cc=IPCC.Web.UI.FontStyle.Regular;F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.bv='';this.hO=IPCC.Web.UI.HorizontalAlignment.Left;this.wT=IPCC.Web.UI.VerticalAlignment.Top;this.qN='#000000';this.yf=255;this.Ao=IPCC.Web.UI.Orientation.TopLeft;this.eL=[];this.ez=1;this.hQ=false;this.fE='#FFFFFF';this.co=0;hZ=1<<18;break;case IPCC.Web.UI.MarkType.Strikethrough:F=new IPCC.Web.UI.Rectangle(0,0,0,0);this.aY='';this.jO='#000000';this.ez=2;this.lc='n';this.bB=0;this.dF='';this.dv=0;hZ=1<<17;this.eL=[];this.bC=[];break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',bf);}if(bf!==IPCC.Web.UI.MarkType.SignaturePath&&bf!==IPCC.Web.UI.MarkType.Freehand&&bf!==IPCC.Web.UI.MarkType.SignatureText&&bf!==IPCC.Web.UI.MarkType.DocumentHyperlink&&bf!==IPCC.Web.UI.MarkType.HighlightText&&bf!==IPCC.Web.UI.MarkType.Strikethrough&&bf!==IPCC.Web.UI.MarkType.TextLine){if(jK){this.LG=15;this.IW=25;this.mo=IPCC.Web.UI.LineHeadType.None;this.Ca='#000000';this.Gr=15;this.FX=25;this.Iv=IPCC.Web.UI.LineHeadType.None;}else{this.Kw=true;this.hQ=true;if(bf===IPCC.Web.UI.MarkType.Highlight){this.hQ=false;this.co=100;}}}this.TY=IPCC.Web.UI.aDW++;this.dj=true;this.aQ={};this.cU=[];var Lc=false;function avJ(aV,R){C.ad('commentAdded',R);};function axk(aV,R){C.ad('commentRemoved',R);};function LE(aV,R){C.ad('commentChanged',R);};dE=new IPCC.Web.UI.Conversation(C);dE.add_commentAdded(avJ);dE.add_commentChanged(LE);dE.add_commentRemoved(axk);this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};function Wd(aV,R){var aeS='points';if(bf===IPCC.Web.UI.MarkType.Line){aeS=R.index===0?'startPoint':'endPoint';}C.cA(aeS,R);};if(aL){aL.add_pointAdded(Wd);aL.add_pointChanged(Wd);aL.add_pointRemoved(Wd);}this.jm=function(){return bf;};this.ajb=function(){return sO;};this.abo=function(G){sO=G;};this.aik=function(){return tk;};this.Zx=function(G){tk=G;};this.ee=function(){return aA;};this.lH=function(value){if(aA!==value){aA=value;this.cA('artPage');}};this.ju=function(){return Lc;};this.kc=function(G){Lc=G;};this.agy=function(){var mL=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(bf){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return aL.sd();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Strikethrough:return F.clone();case IPCC.Web.UI.MarkType.Text:var jv=F.x+F.width,hL=F.y+F.height;var akB=F.x+this.nv.x,alf=F.y+this.nv.y;mL.x=Math.min(F.x,Math.min(jv,akB));mL.y=Math.min(F.y,Math.min(hL,alf));mL.width=Math.max(F.x,Math.max(jv,akB))-mL.x;mL.height=Math.max(F.y,Math.max(hL,alf))-mL.y;break;}return mL;};this.ff=function(){return F.clone();};this.AG=function(G){this.Ek(16384,'image','ao',G);};this.cY=function(){return this.ao;};this.qx=function(){return aL;};this.aAO=function(){return dE;};this.wC=function(){return ds;};this.Ed=function(G){var tL;if(!F.equals(G)){F=new IPCC.Web.UI.Rectangle(G.x,G.y,G.width,G.height);if(bf===IPCC.Web.UI.MarkType.Stamp||bf===IPCC.Web.UI.MarkType.SignatureText||bf===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){tL=0;if(F.width>=F.height){tL=(F.width/14)/2;}else{tL=F.width/15;}if(tL*15>=F.width){tL=(F.width/15)/2;}this.stampSize=Math.round(tL);}else{var textFontSize=(F.width/6);if(textFontSize>F.height){textFontSize=(F.height-(F.height/6));}var ni=this.get_text();if(!ni){ni=(bf===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}tL=ni.length*textFontSize;if(tL>F.width){textFontSize=((F.width/ni.length));}var Fj=Math.round(textFontSize);this.stampSize=Fj.toString();}}this.cA('rectangle');}};this.jI=function(){return this.TY;};this.GX=function(fC,eH){if(fC!==0||eH!==0){switch(bf){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:aL.amF(fC,eH);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextAreaSignature:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(bf===IPCC.Web.UI.MarkType.RectangleRedaction&&this.aY!==undefined){break;}F.x+=fC;F.y+=eH;this.cA('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.Strikethrough:break;}}};this.aau=function(Yn){if(this.eL&&Yn!==this.eL){while(this.eL.length>0){this.eL.pop();}if(Yn){this.eL=Yn.slice(0);}this.ad('markTextSelectionChanged',{});}};this.HU=function(H){if(this.eL){aj.addHandler('markTextSelectionChanged',H);}};this.Fe=function(H){if(this.eL){aj.removeHandler('markTextSelectionChanged',H);}};this.xc=function(H){aj.addHandler('commentAdded',H);};this.Bh=function(H){aj.removeHandler('commentAdded',H);};this.vS=function(H){aj.addHandler('commentRemoved',H);};this.DO=function(H){aj.removeHandler('commentRemoved',H);};this.sh=function(H){aj.addHandler('commentChanged',H);};this.uY=function(H){aj.removeHandler('commentChanged',H);};this.kw=function(H){aj.addHandler('propertyChanged',H);};this.mv=function(H){aj.removeHandler('propertyChanged',H);};this.cA=function(dq){var H=aj.getHandler('propertyChanged');if(H){H(this,new IPCC.nG(dq));}};this.kw(function(V){V.Zx(new Date());});return this;};Nh.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qx().getPoint(0)+' to '+this.qx().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qx().eY()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.ff();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.ff();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.ff();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qx().eY()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.bv+'", at '+this.ff();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.ff();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.ff();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.ff();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.ff();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.ff();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.ff();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.vm+'", at '+this.ff();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.vm+'", at '+this.ff();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.ff();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.ff();case IPCC.Web.UI.MarkType.TextAreaSignature:return 'Text Area Signature Mark at '+this.ff();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.ff();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.ff();case IPCC.Web.UI.MarkType.Strikethrough:return 'Strikethrough Mark at '+this.ff();}return 'Mark';},initializeDates:function(sO,tk){IPCC.bH.iO(sO,"dateCreated");IPCC.bH.iO(tk,"dateModified");this.abo(sO);this.Zx(tk);},get_dateCreated:function(){return this.ajb();},get_dateModified:function(){return this.aik();},kq:function(iC,dq,kH,G){this.eu(iC,dq);if(this[kH]!==G){this[kH]=G;this.cA(dq);}},Ki:function(iC,dq,kH,G){IPCC.bH.VI(G,dq);this.kq(iC,dq,kH,G);},xS:function(iC,dq,kH,G){IPCC.bH.gH(G,dq);this.kq(iC,dq,kH,G);},zB:function(iC,dq,kH,G,wg,wV){IPCC.bH.lx(G,dq,wg,wV);this.kq(iC,dq,kH,G);},Uk:function(iC,dq,kH,G,wg,wV){IPCC.bH.lZ(G,dq,wg,wV);this.kq(iC,dq,kH,G);},Ek:function(iC,dq,kH,G){IPCC.bH.bf(G,dq,'string');this.kq(iC,dq,kH,G);},uH:function(iC,dq,kH,G,jX){IPCC.bH.jX(G,dq,jX);this.kq(iC,dq,kH,G);},aCp:function(iC,dq,kH,G,jX){IPCC.bH.jX(G,dq,jX,true);this.kq(iC,dq,kH,G);},aCd:function(iC,dq,kH,G){IPCC.bH.bM(G,dq);this.kq(iC,dq,kH,G);},get_artPage:function(){return this.ee();},get_boundingRectangle:function(){return this.agy();},get_selected:function(){var aA=this.ee();if(!aA){return false;}var ei=aA.Cy();return ei.contains(this);},set_selected:function(value){var aA=this.ee();if(aA){if(this.mT!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var ei=aA.Cy();if(value!==ei.contains(this)){if(value){ei.NP(this);}else{ei.uS(this);}this.cA('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.eu(32,'calloutLineColor');return this.De;},set_calloutLineColor:function(value){this.Ki(32,'calloutLineColor','De',value);},get_calloutLineIsDistinct:function(){this.eu(32,'calloutLineIsDistinct');return this.xC;},set_calloutLineIsDistinct:function(value){this.kq(32,'calloutLineIsDistinct','xC',value);},get_calloutLineStyle:function(){this.eu(32,'calloutLineStyle');return this.rD;},set_calloutLineStyle:function(value){this.uH(32,'calloutLineStyle','rD',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.eu(32,'calloutLineWidth');return this.DV;},set_calloutLineWidth:function(value){this.zB(32,'calloutLineWidth','DV',value,0,50);},get_calloutPoint:function(){this.eu(32,'calloutPoint');return this.nv;},set_calloutPoint:function(value){this.aCd(32,'calloutPoint','nv',value);},get_calloutType:function(){this.eu(32,'calloutType');return this.DN;},set_calloutType:function(value){this.uH(32,'calloutType','DN',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.eu(32,'calloutVisible');return this.wM;},set_calloutVisible:function(value){if(!this.wM&&value&&this.jm()===IPCC.Web.UI.MarkType.Text){if(this.nv.x===0&&this.nv.y===0){var F=this.ff();this.set_calloutPoint({x:F.width,y:F.height*1.5});}}this.kq(32,'calloutVisible','wM',value);},get_endHeadAngle:function(){this.eu(3,'endHeadAngle');return this.LG;},set_endHeadAngle:function(value){this.zB(3,'endHeadAngle','LG',value,0,180);},get_endHeadLength:function(){this.eu(3,'endHeadLength');return this.IW;},set_endHeadLength:function(value){this.zB(3,'endHeadLength','IW',value,0,100);},get_endHeadType:function(){this.eu(3,'endHeadType');return this.mo;},set_endHeadType:function(value){this.uH(3,'endHeadType','mo',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.eu(1<<14|1<<15,'href');return this.lm;},set_href:function(value){this.Ek(1<<14|1<<15,'href','lm',value);},has_unsafe_href:function(){return(! !this.lm&&IPCC.h.apt(this.lm));},get_mask:function(){this.eu(65536,'mask');return this.hW;},set_mask:function(value){this.kq(65536,'mask','hW',value);},get_borderType:function(){this.eu(32768,'borderType');return this.LH;},set_borderType:function(value){this.Ek(32768,'borderType','LH',value);},get_borderHorizontalRadius:function(){this.eu(32768,'borderHorizontalRadius');return this.Jn;},set_borderHorizontalRadius:function(value){this.xS(32768,'borderHorizontalRadius','Jn',value);},get_borderVerticalRadius:function(){this.eu(1<<15,'borderVerticalRadius');return this.Kv;},set_borderVerticalRadius:function(value){this.xS(32768,'borderVerticalRadius','Kv',value);},get_borderOpacity:function(){this.eu(32768,'tf');return this.tf;},set_borderOpacity:function(value){this.Uk(32768,'tf','tf',value,0,255);},get_borderPattern:function(){this.eu(32768,'xA');return this.xA;},set_borderPattern:function(value){this.kq(32768,'xA','xA',value,0,255);},get_fillColor:function(){this.eu(16380+(1<<14),'fillColor');return this.fE;},set_fillColor:function(value){this.Ki(16380+(1<<14),'fillColor','fE',value);},get_fillVisible:function(){this.eu(16380,'fillVisible');return this.Kw;},set_fillVisible:function(value){this.kq(16380,'fillVisible','Kw',value);},get_fontName:function(){this.eu(6176+8192+65536+(1<<18),'fontName');return this.gb;},set_fontName:function(value){this.Ek(6176+8192+65536+(1<<18),'fontName','gb',value);if(this.jm()===IPCC.Web.UI.MarkType.SignatureText||this.jm()===IPCC.Web.UI.MarkType.TextLine){var bK=(this.jm()===IPCC.Web.UI.MarkType.TextLine)?{wo:'pre'}:{};var jy=IPCC.h.vz(this.bv,this.gb,bK);this.zz=jy.width;this.zI=jy.height;}if(this.jm()===IPCC.Web.UI.MarkType.TextLine){this.FN=false;}},get_fontSize:function(){this.eu(32+2048+4096+8192,'fontSize');return this.bZ;},set_fontSize:function(value){this.zB(32+2048+4096+8192,'fontSize','bZ',value,0.1,288);},get_fontStyle:function(){this.eu(6176+(1<<18),'fontStyle');return this.cc;},set_fontStyle:function(value){this.aCp(6176+(1<<18),'fontStyle','cc',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.eu(3,'headFillColor');return this.Ca;},set_headFillColor:function(value){this.Ki(3,'headFillColor','Ca',value);},get_interactionMode:function(){this.eu(~0,'interactionMode');return this.mT;},set_interactionMode:function(value){this.uH(~0,'interactionMode','mT',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_maxLength:function(){this.eu(32+65536+(1<<18),'maxLength');return this.gJ;},set_maxLength:function(value){this.xS(32+65536+(1<<18),'maxLength','gJ',value);},get_maxFontSize:function(){this.eu(1<<18,'maxFontSize');return this.jf;},set_maxFontSize:function(value){this.xS(1<<18,'maxFontSize','jf',value);},get_isClosed:function(){this.eu(2,'isClosed');return this.rF;},set_isClosed:function(value){this.kq(2,'isClosed','rF',value);},get_lineColor:function(){return this.jO;},set_lineColor:function(value){this.Ki(13567+32768+(1<<17),'lineColor','jO',value);},get_lineStyle:function(){return this.hM;},set_lineStyle:function(value){this.uH(63+32768,'lineStyle','hM',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.ez;},set_lineWidth:function(value){this.zB(13567+32768+(1<<17),'lineWidth','ez',value,0,50);},get_lineVisible:function(){this.eu(172+65536,'lineVisible');return this.hQ;},set_lineVisible:function(value){this.kq(172+65536,'lineVisible','hQ',value);},get_opacity:function(){return this.co;},set_opacity:function(value){this.Uk(895+2048+1024,'opacity','co',value,0,255);},get_points:function(){this.eu(19,'points');return this.qx();},get_conversation:function(){return this.aAO();},get_data:function(){return this.wC();},get_image:function(){this.eu(16384,'image');return this.cY();},set_image:function(value){this.eu(16384,'image');this.AG(value);},get_rectangle:function(){this.eu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.ff();},set_rectangle:function(value){this.eu((1<<18)+(1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bH.F(value,'rectangle');this.Ed(value);if(this.jm()===IPCC.Web.UI.MarkType.TextLine){this.FN=false;}},get_startHeadAngle:function(){this.eu(3,'startHeadAngle');return this.Gr;},set_startHeadAngle:function(value){this.zB(3,'startHeadAngle','Gr',value,0,180);},get_startHeadLength:function(){this.eu(3,'startHeadLength');return this.FX;},set_startHeadLength:function(value){this.zB(3,'startHeadLength','FX',value,0,100);},get_startHeadType:function(){this.eu(3,'startHeadType');return this.Iv;},set_startHeadType:function(value){this.uH(3,'startHeadType','Iv',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.eu(14496+65536+(1<<17)+(1<<18),'text');return this.bv;},set_text:function(value){if(this.bv===value){return;}this.Ek(14496+65536+(1<<17)+(1<<18),'text','bv',value);if(this.jm()===IPCC.Web.UI.MarkType.SignatureText||this.jm()===IPCC.Web.UI.MarkType.TextLine){var bK=(this.jm()===IPCC.Web.UI.MarkType.TextLine)?{wo:'pre'}:{};var jy=IPCC.h.vz(this.bv,this.gb,bK);this.zz=jy.width;this.zI=jy.height;}if(this.eL){while(this.eL.length>0){this.eL.pop();}}},get_textHorizontalAlignment:function(){this.eu(32+1024+2048+65536+(1<<18),'textHorizontalAlignment');return this.hO;},set_textHorizontalAlignment:function(value){this.uH(32+1024+2048+65536+(1<<18),'textHorizontalAlignment','hO',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.eu(32,'textVerticalAlignment');return this.wT;},set_textVerticalAlignment:function(value){this.uH(32,'textVerticalAlignment','wT',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.eu(6176+65536+(1<<18),'textColor');return this.qN;},set_textColor:function(value){this.Ki(6176+65536+(1<<18),'textColor','qN',value);},get_textOpacity:function(){this.eu(32,'textOpacity');return this.yf;},set_textOpacity:function(value){this.Uk(32,'textOpacity','yf',value,0,255);},get_textOrientation:function(){this.eu(32,'textOrientation');return this.Ao;},set_textOrientation:function(value){this.uH(32,'textOrientation','Ao',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.jm();},get_visible:function(){return this.dj;},set_visible:function(value){this.kq((1<<17)+65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','dj',value);},get_markID:function(){return this.jI();},get_pathString:function(){return this.vm;},set_pathString:function(value){var vm=this.get_pathString();if(vm!==value){this.amm=true;}this.Ek(1088,'pathString','vm',value);},get_pathWidth:function(){return this.Ud;},set_pathWidth:function(value){this.xS(1088,'pathWidth','Ud',value);},get_pathHeight:function(){return this.Sp;},set_pathHeight:function(value){this.xS(1088,'pathHeight','Sp',value);},get_startIndex:function(){this.eu((1<<17)+(1<<14)+8192+512,'startIndex');return this.bB;},set_startIndex:function(value){this.xS((1<<17)+(1<<14)+8192+512,'startIndex','bB',value);},get_textLength:function(){this.eu((1<<17)+(1<<14)+8192+512,'textLength');return this.dv;},set_textLength:function(value){this.xS((1<<17)+(1<<14)+8192+512,'textLength','dv',value);},add_propertyChanged:function(handler){this.kw(handler);},remove_propertyChanged:function(handler){this.mv(handler);},add_markTextSelectionChanged:function(handler){this.HU(handler);},remove_markTextSelectionChanged:function(handler){this.Fe(handler);},move:function(deltaX,deltaY){IPCC.bH.gH(deltaX,'deltaX');IPCC.bH.gH(deltaY,'deltaY');this.GX(deltaX,deltaY);},moveBackward:function(){if(this.ee()){var index=this.ee().ou(this);var cI=this.ee().aju();if(index>cI){this.ee().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.ee()){var index=this.ee().ou(this);if(index<this.ee().WZ()-1){this.ee().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.ee()){var cI=0;cI=this.ee().aju();this.ee().reorderMark(this,cI);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.ee()){this.ee().reorderMark(this,this.ee().WZ()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.ee()){this.ee().removeMark(this);}},selectText:function(textRanges){this.aau(textRanges);},aAU:function(){var en={};var C=this;var aL,aaW,bM,F,J;function cw(dq,Lq){en[Lq]=C[dq];};var jK=false;var lh=false;var xI=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jK=true;xI=true;en.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jK=true;xI=true;en.__type='PolyLineMark:#IPCC.Web';cw('rF','ic');break;case IPCC.Web.UI.MarkType.Rectangle:lh=true;en.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:lh=true;en.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:lh=true;en.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xI=true;en.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:lh=true;en.__type='TextMark:#IPCC.Web';cw('De','clc');cw('xC','clid');cw('rD','cls');cw('DV','clw');cw('DN','ct');cw('wM','cv');cw('gb','fn');cw('bZ','fs');cw('cc','fst');cw('hM','ls');cw('bv','te');cw('hO','tha');cw('wT','tva');cw('qN','tc');cw('yf','to');cw('Ao','tor');bM=this.nv;if(bM.x!==0||bM.y!==0){en.cp={x:bM.x,y:bM.y};}break;case IPCC.Web.UI.MarkType.Stamp:lh=true;en.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:lh=true;en.__type='HighlightText:#IPCC.Web';break;}if(jK){cw('LG','eha');cw('IW','ehl');cw('mo','eht');cw('Ca','hfc');cw('Gr','sha');cw('FX','shl');cw('Iv','sht');}else{cw('fE','fc');cw('Kw','fv');cw('hQ','lv');}if(lh){F=this.get_rectangle();en.r={x:F.x,y:F.y,width:F.width,height:F.height};}en.t=this.get_type();cw('jO','lc');cw('hM','ls');cw('ez','lw');cw('co','o');cw('dj','v');if(xI){aL=this.qx();aaW=[];for(J=0;J<aL.get_length();J++){bM=aL.getPoint(J);aaW.push({x:bM.x,y:bM.y});}en.p=aaW;}return en;},aAy:function(en){var C=this;var aL,J;function cw(dq,Lq){if(en.hasOwnProperty(Lq)){C[dq]=en[Lq];}};var jK=false;var lh=false;var xI=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jK=true;if(en.p&&en.p.length===2){aL=this.qx();aL.setPoint(0,new IPCC.Web.UI.Point(en.p[0].x,en.p[0].y));aL.setPoint(1,new IPCC.Web.UI.Point(en.p[1].x,en.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jK=true;xI=true;cw('rF','ic');break;case IPCC.Web.UI.MarkType.Rectangle:lh=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:lh=true;break;case IPCC.Web.UI.MarkType.Ellipse:lh=true;break;case IPCC.Web.UI.MarkType.Polygon:xI=true;break;case IPCC.Web.UI.MarkType.Text:lh=true;cw('De','clc');cw('xC','clid');cw('rD','cls');cw('DV','clw');cw('DN','ct');cw('wM','cv');cw('gb','fn');cw('bZ','fs');cw('cc','fst');cw('hM','ls');cw('bv','te');cw('hO','tha');cw('wT','tva');cw('qN','tc');cw('yf','to');cw('Ao','tor');if(en.cp){this.nv=new IPCC.Web.UI.Point(en.cp.x,en.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:lh=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:case IPCC.web.UI.MarkType.Strikethrough:lh=true;break;}if(jK){cw('LG','eha');cw('IW','ehl');cw('mo','eht');cw('Ca','hfc');cw('Gr','sha');cw('FX','shl');cw('Iv','sht');}else{cw('fE','fc');cw('Kw','fv');cw('hQ','lv');}if(lh){if(en.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(en.r.x,en.r.y,en.r.width,en.r.height));}}en.t=this.get_type();cw('jO','lc');cw('hM','ls');cw('ez','lw');cw('co','o');cw('dj','v');if(en.p&&xI){aL=this.qx();for(J=0;J<en.p.length;J++){aL.addPoint(new IPCC.Web.UI.Point(en.p[J].x,en.p[J].y));}}return en;}};Nh.registerClass=cQ;Nh.registerClass('IPCC.Web.UI.Mark');module.exports=Nh;},{"../../IPCC.Util":28}],104:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Od=function(){var bA=[];var aj=new IPCC.Web.UI.gA();this.NP=function(V){if(this.GQ(V)=== -1){bA.push(V);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;this.ad('markAdded',R);}};this.aoC=function(zA){var R=new IPCC.Web.UI.MarkEventArgs();R.length=zA.get_length();var C=this;function kf(V){if(C.GQ(V)=== -1){bA.push(V);}};zA.forEach(kf,{});if(R.length>0){this.ad('markAdded',R);}};this.lj=function(iP,cN){var JO=[].concat(bA);var J;for(J=0;J<JO.length;J++){iP.call(cN,JO[J],J,this);}};this.eY=function(){return bA.length;};this.uS=function(V){var J=this.GQ(V);if(J> -1){bA.splice(J,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=V;this.ad('markRemoved',R);}};this.GQ=function(V){var J;for(J=0;J<bA.length;J++){if(bA[J]===V){return J;}}return-1;};this.Cz=function(H){aj.addHandler('markAdded',H);};this.Ag=function(H){aj.removeHandler('markAdded',H);};this.CD=function(H){aj.addHandler('markRemoved',H);};this.Ab=function(H){aj.removeHandler('markRemoved',H);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};return this;};Od.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.NP(mark);},addMarks:function(markCollection){this.aoC(markCollection);},forEach:function(method,context){this.lj(method,context);},get_length:function(){return this.eY();},contains:function(mark){return this.GQ(mark)> -1;},removeMark:function(mark){this.uS(mark);},removeAllMarks:function(){this.lj(function(V,aE,zA){zA.uS(V);});},add_markAdded:function(handler){this.Cz(handler);},remove_markAdded:function(handler){this.Ag(handler);},add_markRemoved:function(handler){this.CD(handler);},remove_markRemoved:function(handler){this.Ab(handler);}};Od.registerClass=cQ;Od.registerClass('IPCC.Web.UI.MarkCollection');module.exports=Od;},{"../../IPCC.Util":28}],105:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Oh=function(){return this;};Oh.registerClass=cQ;Oh.prototype={};Oh.registerClass('IPCC.Web.UI.MarkEventArgs');module.exports=Oh;},{"../../IPCC.Util":28}],106:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Bw=function(){};Bw.registerEnum=ef;Bw.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};Bw.registerEnum('IPCC.Web.UI.MarkHandleMode',false);module.exports=Bw;},{"../../IPCC.Util":28}],107:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Nu=function(){};Nu.registerEnum=ef;Nu.prototype={Full:0,SelectionDisabled:1};Nu.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);module.exports=Nu;},{"../../IPCC.Util":28}],108:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var NF=function(){};NF.registerEnum=ef;NF.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619,Strikethrough:620,TextAreaSignature:621};NF.registerEnum('IPCC.Web.UI.MarkType',false);module.exports=NF;},{"../../IPCC.Util":28}],109:[function(require,module,exports){var ef=require('./../../IPCC.Util').regEnum;var UF=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};UF.registerEnum=ef;UF.prototype={leftButton:0,middleButton:1,rightButton:2};UF.registerEnum("IPCC.Web.UI.MouseButton");},{"./../../IPCC.Util":28}],110:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Mk=function(){var afT=false;this.aqE=function(){afT=true;};this.agH=function(){return afT;};return this;};Mk.prototype={preventDefault:function(){this.aqE();}};Mk.registerClass=cQ;Mk.registerClass('IPCC.Web.UI.MouseEventArgs');module.exports=Mk;},{"../../IPCC.Util":28}],111:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Ld=function(){};Ld.registerEnum=ef;Ld.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22,CreateStrikethroughMark:23,CreateTextAreaSignatureMark:24};Ld.registerEnum('IPCC.Web.UI.MouseTool',false);module.exports=Ld;},{"../../IPCC.Util":28}],112:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var OA=function(){};OA.registerEnum=ef;OA.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};OA.registerEnum('IPCC.Web.UI.Orientation',false);module.exports=OA;},{"../../IPCC.Util":28}],113:[function(require,module,exports){var acb=function(element,qA,QH){var gh=this;var aR;var T;var yW=0;var PZ='';var Qv=false;var aj=new IPCC.Web.UI.gA();var eb=null;var qr=IPCC.qr;var akt=IPCC.qr;var Jj=0.0;var JB=false;var Lg=0;var adD= -1;var acN= -1;var adN= -1;function lP(IO){if(!T){return false;}return T.lP(IO);};this.ba=function(jE,hS){if(lP(IPCC.Web.UI.DebugErrorLevel.Production)){T.ba(jE,hS);}};this.bj=function(jE,kv,qn){if(!lP(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],(qn?qn:0));}cu+=')';this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);};this.CC=function(jE,kv,or,qn){if(!lP(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],(qn?qn:0));}cu+=') = ';cu+=IPCC.iY.rR(or,1);this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);};this.cq=function(jE,kv,or){if(!lP(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var cu=jE+'(';var J;for(J=0;J<kv.length;J++){if(J>0){cu+=', ';}cu+=IPCC.iY.rR(kv[J],0);}cu+=') = ';cu+=IPCC.iY.rR(or,1);this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.vE=function(ko,ak){if(T){T.nA(ko,IPCC.Web.UI.DebugItemCause.FunctionCall,ak);}};this.nA=function(ko){if(T){T.nA(ko,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.JK=function(){return T.get_debug();};this.Zg=function(G){T.set_debug(G);};this.AA=function(){return T.AA();};this.JF=function(G){IPCC.bH.jX(G,'value',IPCC.Web.UI.DebugErrorLevel);T.JF(G);};this.aHp=function(G){JB=G;};this.aIA=function(){return JB;};var oP=function(){if(T.cY()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cX(dr,H){aj.addHandler(dr,H);};function cf(dr,H){aj.removeHandler(dr,H);};this.Ip=function(jt,cD){T.azT(jt,cD);};this.ayx=function(cD,V){T.vK(V);T.cv();};this.TN=function(H){cX('pageOpening',H);};this.Yq=function(H){cf('pageOpening',H);};this.TQ=function(H){cX('pageOpened',H);};this.Yz=function(H){cf('pageOpened',H);};this.awa=function(H){cX('pageClosed',H);};this.axD=function(H){cf('pageClosed',H);};this.Hs=function(H){cX('pageOpenFailed',H);};this.FZ=function(H){cf('pageOpenFailed',H);};this.SD=function(H){cX('pageDisplayed',H);};this.Yf=function(H){cf('pageDisplayed',H);};this.KZ=function(H){cX('mouseDown',H);};this.Xt=function(H){cf('mouseDown',H);};this.Lt=function(H){cX('mouseMove',H);};this.XV=function(H){cf('mouseMove',H);};this.NA=function(H){cX('mouseUp',H);};this.Wh=function(H){cf('mouseUp',H);};this.avu=function(H){cX('contextMenu',H);};this.aGw=function(H){cf('contextMenu',H);};this.Cz=function(H){cX('markAdded',H);};this.Ag=function(H){cf('markAdded',H);};this.QB=function(H){cX('markCreating',H);};this.Wi=function(H){cf('markCreating',H);};this.HC=function(H){cX('markChanged',H);};this.FB=function(H){cf('markChanged',H);};this.CD=function(H){cX('markRemoved',H);};this.Ab=function(H){cf('markRemoved',H);};this.Hf=function(H){cX('markReordered',H);};this.Fk=function(H){cf('markReordered',H);};this.Tz=function(H){cX('marksLoaded',H);};this.ZL=function(H){cf('marksLoaded',H);};this.IB=function(H){cX('markSelectionChanged',H);};this.Fr=function(H){cf('markSelectionChanged',H);};this.zL=function(H){cX('textPageReady',H);};this.EB=function(H){cf('textPageReady',H);};this.Ym=function(H){cX('selectTextMouseToolCompleted',H);};this.Yk=function(H){cf('selectTextMouseToolCompleted',H);};this.Rr=function(H){cX('exceptionThrown',H);};this.YC=function(H){cX('scaleChanged',H);};this.ZT=function(H){cf('scaleChanged',H);};this.Wz=function(H){cf('exceptionThrown',H);};this.AB=function(H){cX('textExtractionFailed',H);};this.EI=function(H){cf('textExtractionFailed',H);};this.kw=function(H){cX('propertyChanged',H);};this.mv=function(H){cf('propertyChanged',H);};var ad=function(dr,R){try{var H;H=aj.getHandler(dr);if(H){H(gh,R);}}catch(e){gh.ba(dr+'Event',e);}};var qe=function(dr){function BD(aV,R){ad(dr,R);};T['add_'+dr](BD);};var KM=function(dr){function BD(aV,R){if(Qv&&T.MB()){DB();}ad(dr,R);};T['add_'+dr](BD);};function DB(){var fj,ps,WA;if(PZ!==''){WA=document.getElementById(PZ);if(WA){fj=gh.MI();ps='{encodedDocumentIdentifier:"'+fj.encodedDocumentIdentifier;ps+='",pageNumber:'+fj.pageNumber.toString();ps+=',viewFitType:'+fj.viewFitType.toString();if(fj.viewRectangle&&fj.viewFitType===IPCC.Web.UI.FitType.Rectangle){ps+=',viewRectangle:{x:'+fj.viewRectangle.x.toFixed(5);ps+=',y:'+fj.viewRectangle.y.toFixed(5);ps+=',width:'+fj.viewRectangle.width.toFixed(5);ps+=',height:'+fj.viewRectangle.height.toFixed(5);ps+='}';}if(fj.viewRotationDegreesClockwise){ps+=',viewRotationDegreesClockwise:'+fj.viewRotationDegreesClockwise.toString();}if(fj.viewMirror){ps+=',viewMirror:'+fj.viewMirror.toString();}if(fj.viewZoomFactor){ps+=',viewZoomFactor:'+fj.viewZoomFactor.toString();}if(Qv){var aA=T.ee();if(aA){ps+=',artPageJson:"'+IPCC.hj.rX(aA.saveToJson())+'"';}}ps+='}';WA.value=ps;}}};var axS=function(){function BD(aV,R){var Yl=true;switch(R.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':DB();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'JY':case 'vU':Yl=false;break;case 'IU':if(T.MB()){DB();}Yl=false;break;}if(Yl){ad('propertyChanged',R);}};T.kw(BD);};this.Zs=function(bf){IPCC.bH.jX(bf,'type',IPCC.Web.UI.FitType);if(bf===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}oP();eb={aze:true,viewFitType:bf};abI();};this.dY=function(){return T.cY()!==undefined;};this.ke=function(){oP();return T.cY().width;};this.ir=function(){oP();return T.cY().height;};this.ayb=function(){oP();return T.cY().ha;};this.axU=function(){return T.bx().eT().aiu();};this.axM=function(){oP();return T.cY().fX;};this.Jg=function(){if(!T|| !(T.cY())){return '';}return T.cY().get_identifier();};this.Nn=function(){if(!T|| !(T.cY())){return '';}return T.cY().get_encodedIdentifier();};this.pa=function(){if(!T|| !(T.cY())){return-1;}return T.cY().bm;};this.aAN=function(){if(!T|| !(T.cY())){return 0;}return T.cY().fp;};this.ajf=function(){var ao=T.cY();if(!ao){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bO=T.fe();bO.x=bO.y=0;var qk=T.bx().eT();qk.vo();var bX=qk.zk(bO);if(bX.x<0){bX.width+=bX.x;bX.x=0;}if(bX.y<0){bX.height+=bX.y;bX.y=0;}if(bX.x+bX.width>ao.width){bX.width=ao.width-bX.x;}if(bX.y+bX.height>ao.height){bX.height=ao.height-bX.y;}return bX;};function Pi(){var dA={},dh=T.bx().eT();dA.documentIdentifier=gh.Jg();dA.encodedDocumentIdentifier=gh.Nn();dA.pageNumber=gh.pa();dA.artPage=gh.ee();dA.referenceDocumentIdentifier=gh.Jg();dA.referencePageNumber=gh.pa();dA.viewFitType=IPCC.Web.UI.FitType.Rectangle;dA.viewRectangle=gh.ajf();dA.imGearPage=gh.mc();dA.transientArtPage=gh.mp();var es=dh.aiu();if(es!==0){dA.viewRotationDegreesClockwise=es;}if(dh.ayZ()){dA.viewMirror=true;}return dA;};this.agw=function(bB,dw){T.agw(bB,dw);};this.MI=function(){var dA;if(aR){dA=new IPCC.Web.UI.PageViewState();dA.documentIdentifier=aR.documentIdentifier;dA.encodedDocumentIdentifier=aR.encodedDocumentIdentifier;dA.pageNumber=aR.pageNumber;dA.artPage=aR.artPage;dA.artPageJson=aR.artPageJson;dA.referenceDocumentIdentifier=aR.documentIdentifier;dA.referencePageNumber=aR.pageNumber;dA.viewFitType=aR.viewFitType;dA.viewRectangle=aR.viewRectangle;dA.viewRotationDegreesClockwise=aR.viewRotationDegreesClockwise;dA.viewMirror=aR.viewMirror;dA.viewZoomFactor=aR.viewZoomFactor;dA.transientArtPage=aR.transientArtPage;}else{dA=Pi();}return dA;};this.MP=function(bU){var bO=T.fe();this.acJ(bU,{x:bO.width/2,y:bO.height/2});};this.acJ=function(bU,cn){IPCC.bH.lx(bU,'factor',1.01,20);IPCC.bH.bM(cn,'point');oP();var as=T.bx();var bD=as.eT();var ah=T.cY();var lb=bD.qh();if(lb*bU>ah.pN){bU=ah.pN/lb;}bD.vO(bU,bU,cn.x,cn.y);bD.kZ(ah,T.fe());eb=null;as.iI(bD);};this.Ss=function(bU){var bO=T.fe();this.aaJ(bU,{x:bO.width/2,y:bO.height/2});};this.aaJ=function(bU,cn){IPCC.bH.lx(bU,'factor',1.01,20);IPCC.bH.bM(cn,'point');oP();var as=T.bx();var bD=as.eT();var ah=T.cY();var lb=bD.qh();if(lb/bU<ah.ti){bU=lb/ah.ti;}bD.vO(1/bU,1/bU,cn.x,cn.y);bD.kZ(ah,T.fe());eb=null;as.iI(bD);};this.jo=function(bU){var bO=T.fe();this.asH(bU,{x:bO.width/2,y:bO.height/2});};this.DA=function(bU){var as=T.bx();eb=null;as.DA(bU);};this.ER=function(bU){var as=T.bx();eb=null;as.ER(bU);};this.Er=function(bU){var as=T.bx();eb=null;as.Er(bU);};this.asH=function(bU,cn){IPCC.bH.bM(cn,'point');oP();var as=T.bx();var bD=as.eT();var ah=T.cY();var lb=bD.qh();if(bU>ah.pN){bU=ah.pN;}else if(bU<ah.ti){bU=ah.ti;}bD.vO(bU/lb,bU/lb,cn.x,cn.y);bD.kZ(ah,T.fe());eb=null;as.iI(bD);};this.vx=function(sv){IPCC.bH.Vu(sv,'degreesClockwise',[90,180,270,-90,-180,-270]);oP();var as=T.bx();var bD=as.eT();var bO=T.fe();bD.afw(sv,bO.width/2,bO.height/2);bD.kZ(T.cY(),T.fe());eb=null;as.iI(bD);};this.amy=function(){oP();var as=T.bx();var bD=as.eT();var bO=T.fe();bD.vO(-1,1,bO.width/2,bO.height/2);bD.kZ(T.cY(),T.fe());eb=null;as.iI(bD);};this.aEt=function(bX){IPCC.bH.F(bX,'pageRectangle');oP();var as=T.bx();var bD=as.eT();var bO=T.fe();var ah=T.cY();bD.QL(ah,bO,bX);bD.kZ(ah,T.fe());eb=null;as.iI(bD);};this.aCZ=function(dQ){IPCC.bH.bM(dQ,'imagePoint');oP();var as=T.bx();var bD=as.eT();var bO=T.fe();bD.aeW(bO,dQ);bD.kZ(T.cY(),T.fe());eb=null;as.iI(bD);};this.ahe=function(){oP();eb=null;var as=T.bx();var bD=as.eT();var bO=T.fe();bD.vO(1,-1,bO.width/2,bO.height/2);bD.kZ(T.cY(),T.fe());eb=null;as.iI(bD);};this.cv=function(){T.cv();};this.Jy=function(){T.Jy();};var abI=function(){var ah=T.cY();var bO=T.fe();var bD;if(!eb){bD=T.bx().eT();bD.kZ(ah,bO);T.bx().iI(bD);return;}if(eb.aze){bD=T.bx().eT();}else{bD=new IPCC.fq();bD.aBf(ah,bO);if(eb.viewRotationDegreesClockwise){bD.rotate(eb.viewRotationDegreesClockwise);}if(eb.viewMirror){bD.ato(bO);}}if(eb.viewZoomFactor){if(eb.viewZoomFactor>ah.pN){eb.viewZoomFactor=ah.pN;}else if(eb.viewZoomFactor<ah.ti){eb.viewZoomFactor=ah.ti;}eb.viewFitType=IPCC.Web.UI.FitType.ActualSize;bD.VV(eb.viewFitType,ah,bO);bD.scale(eb.viewZoomFactor,eb.viewZoomFactor);}else{if(!eb.viewFitType&&eb.viewFitType!==0){eb.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eb.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eb.viewRectangle){eb.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eb.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bD.VV(eb.viewFitType,ah,bO);}else{bD.QL(ah,bO,eb.viewRectangle);}}bD.kZ(ah,bO);T.bx().iI(bD);};var amE=function(Gu){eb=Gu;Lg=0;abI();};this.QI=function(ax){yW++;var Zu=yW;var apx={};Jj=0.0;T.Nt=0.0;IPCC.hj.amL(ax);if(lP(IPCC.Web.UI.DebugErrorLevel.Development)){var cu='opening documentIdentifier "'+ax.documentIdentifier+'", pageNumber '+ax.pageNumber;this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);}aR=new IPCC.Web.UI.PageViewState();var J;for(J in ax){if(ax.hasOwnProperty(J)){aR[J]=ax[J];}}if(ax.documentIdentifier===''){this.KV();return;}if(IPCC.Web.UI.ArtPage){if(aR){if(!aR.artPage){var aA=new IPCC.Web.UI.ArtPage();if(aR.artPageJson){aA.loadFromJson(aR.artPageJson);}aR.artPage=aA;}if(!aR.documentArtPage){var eP=new IPCC.Web.UI.ArtPage();aR.documentArtPage=eP;}if(this.lu()===true){if(!aR.imGearPage){var gF=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ax.documentIdentifier,imageServicePath:this.tx()});aR.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ax.pageNumber,az:gF});gF.get_pages().addPage(aR.imGearPage);}if(!aR.transientArtPage){aR.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aR.viewRotationDegreesClockwise){IPCC.bH.Vu(aR.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aR.viewFitType){IPCC.bH.jX(aR.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aR.viewZoomFactor){IPCC.bH.lx(aR.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ad('pageOpening',ax);var ao=new IPCC.hj(ax.encodedDocumentIdentifier,ax.pageNumber,0,0,0,0);var qy=function(){if(Zu!==yW){return;}var rN=null;if(T.cY()){rN=Pi();}T.bx().pf();T.AG(ao);amE(aR);if(ax.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(aR.artPage){T.lH(aR.artPage);T.ee().loadFromJson(ao.aqU);}}}else{if(aR){if(aR.artPage){T.lH(aR.artPage);}if(aR.documentArtPage){T.Ji(aR.documentArtPage);}if(T.lu()===true){if(aR.imGearPage){var To=aR.imGearPage.get_pageWidth();var VW=aR.imGearPage.get_pageHeight();aR.imGearPage.nn(gh.im());if(!To){aR.imGearPage.LV(gh.get_pageWidth());}if(!VW){aR.imGearPage.Lo(gh.get_pageHeight());}T.EE(aR.imGearPage);if(typeof(T.mc().Al==='function')){if(!T.mc().dc().za()){aR.imGearPage.wf(gh.jG());setTimeout(T.mc().Al,1000);}}}if(aR.transientArtPage){T.DG(aR.transientArtPage);}}}}aR=null;if(rN){ad('pageClosed',rN);}DB();ad('pageOpened',ax);};if(ax.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aR){if(!aR.artPageJson){ao.aIg(T.tx(),T,qy,apx);}else{ao.RW(T.tx(),T,qy);}}}else{ao.RW(T.tx(),T,qy);}};this.KV=function(){yW++;if(!(T.cY())){return;}var rN=Pi();T.AG(undefined);T.lH(undefined);T.EE(undefined);T.DG(undefined);this.cv();DB();rN=undefined;aR=undefined;eb=undefined;var cT;cT=gh.nt();if(cT.igElements){if(cT.igElements.qW){cT.igElements.qW.Cg=null;cT.igElements.qW.yZ=null;cT.igElements.qW.Gy=null;cT.igElements.qW=null;}cT.igElements.Bq=null;cT.igElements.fk=null;cT.igElements.hi=null;cT.igElements.ca=null;cT.igElements.mU=null;cT.igElements.nY=null;cT.igElements.lG=null;cT.igElements.sp=null;cT.igElements.NC=null;cT.igElements.YD=null;cT.igElements.qd=null;}gh=null;cT.bS=null;ad('pageClosed',rN);};this.awP=function(ax){yW++;var Zu=yW;Jj=0.0;T.Nt=0.0;IPCC.hj.amL(ax);if(lP(IPCC.Web.UI.DebugErrorLevel.Development)){var cu='opening documentIdentifier "'+ax.documentIdentifier+'", pageNumber '+ax.pageNumber;this.vE(cu,IPCC.Web.UI.DebugErrorLevel.Development);}aR=new IPCC.Web.UI.PageViewState();var J;for(J in ax){if(ax.hasOwnProperty(J)){aR[J]=ax[J];}}if(ax.documentIdentifier===''){this.KV();return;}if(IPCC.Web.UI.ArtPage){if(aR){if(!aR.artPage){var aA=new IPCC.Web.UI.ArtPage();aR.artPage=aA;}if(!aR.documentArtPage){var eP=new IPCC.Web.UI.ArtPage();aR.documentArtPage=eP;}if(this.lu()===true){if(!aR.imGearPage){var gF=new IPCC.Web.UI.ImGearDocument({documentIdentifier:ax.documentIdentifier,imageServicePath:this.tx()});aR.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:ax.pageNumber,az:gF});gF.get_pages().addPage(aR.imGearPage);}if(!aR.transientArtPage){aR.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(aR.viewRotationDegreesClockwise){IPCC.bH.Vu(aR.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(aR.viewFitType){IPCC.bH.jX(aR.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(aR.viewZoomFactor){IPCC.bH.lx(aR.viewZoomFactor,'parameters.viewZoomFactor',0,20);}ad('pageOpening',ax);var ao=new IPCC.hj(ax.encodedDocumentIdentifier,ax.pageNumber,0,0,0,0);var qy=function(){if(Zu!==yW){return;}var rN=null;if(T.cY()){rN=Pi();}T.bx().pf();T.AG(ao);amE(aR);if(aR){if(aR.artPage){T.lH(aR.artPage);}if(aR.documentArtPage){T.Ji(aR.documentArtPage);}if(T.lu()===true){if(aR.imGearPage){var To=aR.imGearPage.get_pageWidth();var VW=aR.imGearPage.get_pageHeight();aR.imGearPage.nn(gh.im());if(!To){aR.imGearPage.LV(gh.get_pageWidth());}if(!VW){aR.imGearPage.Lo(gh.get_pageHeight());}T.EE(aR.imGearPage);if(typeof(T.mc().Al==='function')){if(!T.mc().dc().za()){aR.imGearPage.wf(gh.jG());setTimeout(T.mc().Al,1000);}}}if(aR.transientArtPage){T.DG(aR.transientArtPage);}}}aR=null;if(rN){ad('pageClosed',rN);}DB();ad('pageOpened',ax);};ao.avW(T.tx(),T,qy);};this.aHJ=function(){yW++;if(!(T.cY())){return;}var ao=T.cY();T.AG(undefined);this.cv();T.AG(ao);};this.aan=function(Dq){T.aan(Dq);};this.lH=function(G){T.lH(G);};this.ee=function(){return T.ee();};this.Ji=function(G){T.Ji(G);};this.Ot=function(){return T.Ot();};this.mp=function(){return T.mp();};this.DG=function(G){T.DG(G);};this.Bc=function(){return T.Bc();};this.aGl=function(G){T.aGl(G);};this.JA=function(G){T.JA(G);};this.va=function(){return T.va();};this.aDJ=function(G){akt=this.arK(G);};this.ie=function(){return akt;};this.abx=function(G){T.abx(G);};this.WP=function(){return T.WP();};this.nm=function(){return T.nm();};this.qF=function(G){T.qF(G);};this.afM=function(G){T.afM(G);};this.abz=function(){return T.abz();};this.Zw=function(awg){T.Zw(awg);};this.aaj=function(){return T.aaj();};this.arK=function(aO){var be='',QW='',Vh=function(bq){var ru=0,be;for(be in bq){if(bq.hasOwnProperty(be)){ru+=1;}}return ru;};for(be in qr){if(qr.hasOwnProperty(be)){if(typeof aO[be]==='undefined'){aO[be]=qr[be];}if(typeof aO[be]==='object'){if(!Vh(aO[be])){aO[be]=qr[be];}else if(Vh(aO[be])!==Vh(qr[be])){for(QW in qr[be]){if(typeof aO[be][QW]==='undefined'){aO[be][QW]=qr[be][QW];}}}}}}return aO;};this.aEf=function(aEw){if(aEw===false){IPCC.gG=false;T.fz([new IPCC.mW(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}else{IPCC.gG=true;IPCC.afr=this.ie();T.fz([new IPCC.mW(),new IPCC.dH(),new IPCC.eI(),new IPCC.cz(),new IPCC.cl(false)]);}};this.pf=function(){var as=T.bx();if(!as.CA()){return;}T.bx().pf();};this.aCS=function(bX){IPCC.bH.F(bX,'pageRectangle');var ao=T.cY();if(ao){T.bx().showSelection(bX);}};this.Df=function(dQ){IPCC.bH.bM(dQ,'imagePoint');if(T.cY()){T.bx().Df(new IPCC.Web.UI.Point(dQ.x,dQ.y));}};this.Af=function(dQ){IPCC.bH.bM(dQ,'imagePoint');if(T.cY()){T.bx().Af(new IPCC.Web.UI.Point(dQ.x,dQ.y));}};this.wS=function(){if(T.cY()&&T.bx().CA()){return T.bx().wS();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aBV=function(){if(T.cY()&&T.bx().CA()){var bX=T.bx().wS();return T.bx().eT().zk(bX);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.CA=function(){return! !(T.cY()&&T.bx().CA());};this.tx=function(){return T.tx();};this.aaK=function(G){IPCC.bH.kz(G,'value');T.aaK(G);};this.aAw=function(){return PZ;};this.aEX=function(G){IPCC.bH.kz(G,'value');PZ=G;};this.axo=function(){return Qv;};this.aDE=function(G){Qv=G;};var tp='';this.tX=function(G){T.tX(G);tp=G;};this.nt=function(){return tp;};this.ayP=function(){return T.bx().get_magnifierMagnification();};this.aGe=function(G){IPCC.bH.lx(G,'value',1.5,8);T.bx().set_magnifierMagnification(G);};this.ayv=function(){return T.bx().wn().width;};this.aGj=function(G){IPCC.bH.lx(G,'value',25,500);var ru=T.bx().wn();ru.width=G;T.bx().set_magnifierWindowSize(ru);};this.ayi=function(){return T.bx().wn().height;};this.aFO=function(G){IPCC.bH.lx(G,'value',25,500);var ru=T.bx().wn();ru.height=G;T.bx().set_magnifierWindowSize(ru);};this.Mr=function(){return T.bx().Mr();};this.aaR=function(G){IPCC.bH.lx(G,'value',-500,500);T.bx().aaR(G);};this.Mu=function(){return T.bx().Mu();};this.WX=function(G){IPCC.bH.lx(G,'value',-500,500);T.bx().WX(G);};this.UR=function(){return T.bx().UR();};this.XZ=function(G){IPCC.bH.lx(G,'value',0.1,0.5);T.bx().XZ(G);};this.xp=function(){return T.bx().xp();};this.Js=function(G){T.bx().Js(G);};this.raisePropertyChanged=function(dq,wb){if(T){T.cA(dq,wb);}};var aa= -1;this.VK=function(){return aa;};this.aHH=function(G){T.rk=G;};this.MY=function(G){T.set_areMarksEditable(G);};this.aIE=function(){return T.set_areMarksEditable();};this.IS=function(G){IPCC.bH.jX(G,'value',IPCC.Web.UI.MouseTool);if(aa!==G){aa=G;var iy="None";switch(aa){case IPCC.Web.UI.MouseTool.None:T.fz([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.gG===true){T.fz([new IPCC.pg(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.pg(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);iy="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.gG===true){T.fz([new IPCC.mW(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.mW(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.gG===true){T.fz([new IPCC.nF(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(true)]);}else{T.fz([new IPCC.nF(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(true)]);}iy="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.gG===true){T.fz([new IPCC.oy(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.oy(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Rectangle),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Ellipse),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.gG===true){T.fz([new IPCC.mz(),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.mz(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.gG===true){T.fz([new IPCC.kb(IPCC.Web.UI.MarkType.Polyline),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kb(IPCC.Web.UI.MarkType.Polyline),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.gG===true){T.fz([new IPCC.mq(),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.mq(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.gG===true){T.fz([new IPCC.kb(IPCC.Web.UI.MarkType.Polygon),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kb(IPCC.Web.UI.MarkType.Polygon),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.TextLine),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.TextLine),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark:T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.TextAreaSignature),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);iy="CreateTextAreaSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.gG===true){T.fz([new IPCC.kF(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kF(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.gG===true){T.fz([new IPCC.AS(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.AS(IPCC.Web.UI.MarkType.Text),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Stamp),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.Stamp),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.gG===true){T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.fI(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:T.JB=true;if(IPCC.gG===true){T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:T.JB=false;if(IPCC.gG===true){T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.eI(false,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="SelectText";break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:if(IPCC.gG===true){T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.eI(true,this.ie()),new IPCC.cz(),new IPCC.cl(false)]);}else{T.fz([new IPCC.kx(),new IPCC.dH(),new IPCC.cz(),new IPCC.cl(false)]);}iy="CreateStrikethroughMark";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:iy});}};this.LA=function(arN){aa= -1;T.fz(arN);};this.ayJ=function(){return T.bx().get_presentationQuality();};this.aFV=function(G){IPCC.bH.lx(G,'value',0,100);T.bx().set_presentationQuality(G);};this.axY=function(){return T.bx().get_scrollBars();};this.aGD=function(G){IPCC.bH.jX(G,'value',IPCC.Web.UI.ScrollBars);T.bx().set_scrollBars(G);};this.awZ=function(dQ,asU){IPCC.bH.bM(dQ,'imagePoint');if(!(T.cY())){return new IPCC.Web.UI.Point(0,0);}var cn=T.bx().eT().transform(dQ);if(asU){cn.constrain(T.fe());}return cn;};this.MJ=function(cn,asI){IPCC.bH.bM(cn,'windowPoint');var ao=T.cY();if(!ao){return new IPCC.Web.UI.Point(0,0);}var qk=T.bx().eT();qk.vo();var dQ=qk.transform(cn);if(asI){dQ.constrain(ao);}return dQ;};function avP(){var cT;cT=gh.nt();var als=cT.clientWidth;var alq=cT.clientHeight;var aAK=(eb&&eb.viewFitType===adD&&als===acN&&alq===adN);if(aAK){if(Lg>2){return;}Lg++;}else{adD=eb?eb.viewFitType: -1;acN=als;adN=alq;Lg=0;}abI();};function avb(){eb=null;};function avr(aV,R){switch(R.gj){case IPCC.eg.acg:gh.acJ(1.25,R.Sq.windowPoint);break;case IPCC.eg.abD:gh.aaJ(1.25,R.Sq.windowPoint);break;case IPCC.eg.abn:gh.vx(R.G);break;case IPCC.eg.agL:gh.ahe();break;case IPCC.eg.alW:gh.amy();break;case IPCC.eg.aak:gh.Zs(R.G);break;case IPCC.eg.adM:gh.IS(R.G);break;}};this.lu=function(){return T.lu();};this.JR=function(G){T.JR(G);};this.dc=function(){return T.dc();};this.mc=function(){return T.mc();};this.EE=function(G){T.EE(G);};this.CR=function(){return T.get_requireRequestsOptimize();};this.Kq=function(G){T.Kq(G);};this.jG=function(){return T.jG();};this.wf=function(G){T.wf(G);};this.Kn=function(dQ){IPCC.bH.bM(dQ,'imagePoint');return T.Kn(dQ);};this.zG=function(dG){T.zG(dG);};this.Xu=function(){T.Xu();};this.Sj=function(uc,dw){var Jx=T.dc().hF().eY();IPCC.bH.lZ(uc,'uc',0,Jx-1);T.Sj(uc,dw);};this.uz=function(dG){if(dG===undefined){T.bx().uz(dG);return false;}var Jx=T.dc().hF().eY();IPCC.bH.lZ(dG,'textIndex',0,Jx-1);T.uz(dG);return true;};this.Jd=function(){return! !(T.cY()&&T.lu()&&T.dc().nU()===true&&T.bx().Jd());};this.XW=function(){var as=T.bx();as.XW();};this.PF=function(){if(T.lu()&&T.dc().nU()===true){return Math.min(T.bx().ajE(),T.bx().BE());}};this.Bx=function(){if(T.lu()&&T.dc().nU()===true){return T.bx().Bx();}};this.BL=function(){if(T.lu()&&T.dc().nU()===true&&T.bx().Jd()){return T.BL();}else{return "";}};this.BE=function(){return T.bx().BE();};this.azC=function(){return T.get_cursor();};this.aFg=function(G){T.set_cursor(G);};this.zW=function(){return T.zW();};this.Zm=function(G){T.Zm(G);};this.im=function(){return T.im();};this.nn=function(G){T.nn(G);};this.azY=function(){T.bx().hideMagnifier();};this.aDi=function(cn){T.bx().showMagnifier(cn);};this.vK=function(V){if(T.mG().igElements){T.vK(V);T.cv();}};this.Jb=function(){T.Jb();};this.Bl=function(){return T.Bl();};this.pd=function(){if(T.mG().igElements){T.pd(true);}};function awu(aV,R){var wO=R.scaleFactor;var bV={scaleType:"scaledDown",pageNumber:R.pageNumber};if(Jj!==wO){if(wO>Jj){bV.scaleType="scaledUp";}Jj=wO;ad('scaleChanged',bV);}};this.initialize=function(){T.aDQ(this.nt().id);T.tX(this.nt().id);if(aa=== -1){this.IS(IPCC.Web.UI.MouseTool.RectangleZoom);}qe('mouseDown');qe('mouseMove');qe('mouseUp');qe('contextMenu');qe('markCreating');qe('pageOpenFailed');qe('textPageReady');qe('pageDisplayed');qe('exceptionThrown');qe('selectTextMouseToolCompleted');KM('markAdded');KM('markChanged');KM('markRemoved');qe('textExtractionFailed');KM('markReordered');KM('marksLoaded');qe('markSelectionChanged');axS();T.aps(avP);T.apc(avb);T.avm(avr);T.add_scaleChanged(awu);T.aCO();var cT=this.nt();cT.bS=this;};qA=(qA!==false);T=new IPCC.SU(qA);T.aGG('PageView');T.aFr(QH);};acb.prototype={dispose:function(){this.bj('dispose',arguments);this.KV();},get_debug:function(){try{var bQ=this.JK();this.cq('get_debug',arguments,bQ);return bQ;}catch(e){this.ba('get_debug',e);throw e;}},set_debug:function(value){try{this.bj('set_debug',arguments);var AR=this.JK();this.Zg(value);if(!AR){this.bj('set_debug',arguments);}}catch(e){this.ba('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var bQ=this.AA();this.cq('get_debugErrorLevel',arguments,bQ);return bQ;}catch(e){this.ba('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bj('set_debugErrorLevel',arguments);var AR=this.AA();this.JF(value);if(AR<IPCC.Web.UI.DebugErrorLevel.Development){this.bj('set_debugErrorLevel',arguments);}}catch(e){this.ba('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var bQ=this.aaj();this.cq('get_artServiceOption',arguments,bQ);return bQ;}catch(e){this.ba('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bj('set_artServiceOption',arguments);this.Zw(value);}catch(e){this.ba('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.TN(handler);}catch(e){this.ba('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Yq(handler);}catch(e){this.ba('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.TQ(handler);}catch(e){this.ba('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.Yz(handler);}catch(e){this.ba('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.awa(handler);}catch(e){this.ba('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.axD(handler);}catch(e){this.ba('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Hs(handler);}catch(e){this.ba('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.FZ(handler);}catch(e){this.ba('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.SD(handler);}catch(e){this.ba('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Yf(handler);}catch(e){this.ba('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.KZ(handler);}catch(e){this.ba('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.Xt(handler);}catch(e){this.ba('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Lt(handler);}catch(e){this.ba('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.XV(handler);}catch(e){this.ba('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.NA(handler);}catch(e){this.ba('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Wh(handler);}catch(e){this.ba('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.avu(handler);}catch(e){this.ba('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.aGw(handler);}catch(e){this.ba('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.Cz(handler);}catch(e){this.ba('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.Ag(handler);}catch(e){this.ba('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.QB(handler);}catch(e){this.ba('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Wi(handler);}catch(e){this.ba('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.HC(handler);}catch(e){this.ba('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.FB(handler);}catch(e){this.ba('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.CD(handler);}catch(e){this.ba('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.Ab(handler);}catch(e){this.ba('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Hf(handler);}catch(e){this.ba('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Fk(handler);}catch(e){this.ba('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Tz(handler);}catch(e){this.ba('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.ZL(handler);}catch(e){this.ba('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.IB(handler);}catch(e){this.ba('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.Fr(handler);}catch(e){this.ba('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.Ym(handler);}catch(e){this.ba('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.Yk(handler);}catch(e){this.ba('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.zL(handler);}catch(e){this.ba('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.EB(handler);}catch(e){this.ba('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.Rr(handler);},remove_exceptionThrown:function(handler){this.Wz(handler);},add_scaleChanged:function(handler){try{this.YC(handler);}catch(e){this.ba('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.ZT(handler);}catch(e){this.ba('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.kw(handler);}catch(e){this.ba('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.mv(handler);}catch(e){this.ba('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.AB(handler);},remove_textExtractionFailed:function(handler){this.EI(handler);},writeToLog:function(message){try{this.nA(message);}catch(e){this.ba('writeToLog',e);throw e;}},fitPage:function(type){try{this.bj('fitPage',arguments);this.Zs(type);}catch(e){this.ba('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var bQ=this.dY();this.cq('get_pageIsOpen',arguments,bQ);return bQ;}catch(e){this.ba('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var bQ=this.ke();this.cq('get_pageWidth',arguments,bQ);return bQ;}catch(e){this.ba('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var bQ=this.ir();this.cq('get_pageHeight',arguments,bQ);return bQ;}catch(e){this.ba('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var bQ=this.ayb();this.cq('get_pageXResolution',arguments,bQ);return bQ;}catch(e){this.ba('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var bQ=this.axM();this.cq('get_pageYResolution',arguments,bQ);return bQ;}catch(e){this.ba('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var bQ=this.Jg();this.cq('get_documentIdentifier',arguments,bQ);return bQ;}catch(e){this.ba('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var bQ=this.Nn();this.cq('get_encodedDocumentIdentifier',arguments,bQ);return bQ;}catch(e){this.ba('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var bQ=this.pa();this.cq('get_pageNumber',arguments,bQ);return bQ;}catch(e){this.ba('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var bQ=this.aAN();this.cq('get_documentPageCount',arguments,bQ);return bQ;}catch(e){this.ba('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var bQ=this.ajf();this.cq('get_displayedPageRectangle',arguments,bQ);return bQ;}catch(e){this.ba('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var bQ=this.MI();this.cq('get_currentState',arguments,bQ);return bQ;}catch(e){this.ba('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bj('zoomIn',arguments);this.MP(factor);}catch(e){this.ba('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bj('zoomOut',arguments);this.Ss(factor);}catch(e){this.ba('zoomOut',e);throw e;}},set_sharpening:function(factor){try{this.bj('set_sharpening',arguments);this.DA(factor);}catch(e){this.ba('set_sharpening',e);throw e;}},set_gamma:function(factor){try{this.bj('set_gamma',arguments);this.ER(factor);}catch(e){this.ba('set_gamma',e);throw e;}},set_svgLineWidthMultiplier:function(factor){try{this.bj('set_svgLineWidthMultiplier',arguments);this.Er(factor);}catch(e){this.ba('set_svgLineWidthMultiplier',e);throw e;}},zoom:function(factor){try{this.bj('zoom',arguments);this.jo(factor);}catch(e){this.ba('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bj('rotate',arguments);this.vx(degreesClockwise);}catch(e){this.ba('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bj('showPageRectangle',arguments,1);this.aEt(imageRectangle);}catch(e){this.ba('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bj('showPagePointAtCenter',arguments,1);this.aCZ(imagePoint);}catch(e){this.ba('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bj('mirror',arguments);this.amy();}catch(e){this.ba('mirror',e);throw e;}},flip:function(){try{this.bj('flip',arguments);this.ahe();}catch(e){this.ba('flip',e);throw e;}},display:function(){try{this.bj('display',arguments);this.cv();}catch(e){this.ba('display',e);throw e;}},openPage:function(parameters){try{this.bj('openPage',arguments,1);this.QI(parameters);}catch(e){this.ba('openPage',e);throw e;}},closePage:function(){try{this.bj('closePage',arguments);this.KV();}catch(e){this.ba('closePage',e);throw e;}},hideSelection:function(){try{this.bj('hideSelection',arguments);this.pf();}catch(e){this.ba('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bj('showSelection',arguments);this.aCS(imageRectangle);}catch(e){this.ba('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bj('showEmptySelection',arguments);this.Df(imagePoint);}catch(e){this.ba('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bj('extendSelection',arguments);this.Af(imagePoint);}catch(e){this.ba('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bj('saveArtPage',arguments);this.aan(onSave);}catch(e){this.ba('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var bQ=this.wS();this.cq('get_selectionPageRectangle',arguments,bQ);return bQ;}catch(e){this.ba('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var bQ=this.aBV();this.cq('get_selectionWindowRectangle',arguments,bQ);return bQ;}catch(e){this.ba('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var bQ=this.CA();this.cq('get_selectionIsVisible',arguments,bQ);return bQ;}catch(e){this.ba('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var bQ=this.aAw();this.cq('get_controlStateElementId',arguments,bQ);return bQ;}catch(e){this.ba('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bj('set_controlStateElementId',arguments);this.aEX(value);}catch(e){this.ba('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var bQ=this.axo();this.cq('get_includeArtInPostBack',arguments,bQ);return bQ;}catch(e){this.ba('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bj('set_includeArtInPostBack',arguments);this.aDE(value);}catch(e){this.ba('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var bQ=this.ee();this.cq('get_artPage',arguments,bQ);return bQ;}catch(e){this.ba('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bj('set_artPage',arguments);this.lH(value);}catch(e){this.ba('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var bQ=this.Ot();this.cq('get_documentArtPage',arguments,bQ);return bQ;}catch(e){this.ba('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bj('set_documentArtPage',arguments);this.Ji(value);}catch(e){this.ba('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var bQ=this.mp();this.cq('get_transientArtPage',arguments,bQ);return bQ;}catch(e){this.ba('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bj('set_transientArtPage',arguments);this.DG(value);}catch(e){this.ba('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var bQ=this.tx();this.cq('get_imageHandlerUrl',arguments,bQ);return bQ;}catch(e){this.ba('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bj('set_imageHandlerUrl',arguments);this.aaK(value);}catch(e){this.ba('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var bQ=this.va();this.cq('get_resourcePath',arguments,bQ);return bQ;}catch(e){this.ba('get_resourcePath',e);throw e;}},set_resourcePath:function(G){try{this.bj('set_resourcePath',arguments);this.JA(G);}catch(e){this.ba('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var bQ=this.ie();this.cq('get_contextMenuLanguageDictionary',arguments,bQ);return bQ;}catch(e){this.ba('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(G){try{this.bj('set_contextMenuLanguageDictionary',arguments);this.aDJ(G);}catch(e){this.ba('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var bQ=this.lu();this.cq('get_textRequired',arguments,bQ);return bQ;}catch(e){this.ba('get_textRequired',e);throw e;}},set_textRequired:function(G){try{this.bj('set_textRequired',arguments);this.JR(G);}catch(e){this.ba('set_textRequired',e);throw e;}},get_textPage:function(){try{var bQ=this.dc();this.cq('get_textPage',arguments,bQ);return bQ;}catch(e){this.ba('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var bQ=this.Jd();this.CC('textSelectionIsVisible',arguments,bQ,1);return bQ;}catch(e){this.ba('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var bQ=this.BL();this.CC('getSelectedText',arguments,bQ,1);return bQ;}catch(e){this.ba('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var bQ=this.CR();this.cq('get_requireRequestsOptimize',arguments,bQ);return bQ;}catch(e){this.ba('CR',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bj('set_requireRequestsOptimize',arguments);this.Kq(value);}catch(e){this.ba('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var bQ=this.ayP();this.cq('get_magnifierMagnification',arguments,bQ);return bQ;}catch(e){this.ba('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bj('set_magnifierMagnification',arguments);this.aGe(value);}catch(e){this.ba('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var bQ=this.ayv();this.cq('get_magnifierWidth',arguments,bQ);return bQ;}catch(e){this.ba('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bj('set_magnifierWidth',arguments);this.aGj(value);}catch(e){this.ba('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var bQ=this.ayi();this.cq('get_magnifierHeight',arguments,bQ);return bQ;}catch(e){this.ba('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bj('set_magnifierHeight',arguments);this.aFO(value);}catch(e){this.ba('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var bQ=this.Mr();this.cq('get_magnifierXOffset',arguments,bQ);return bQ;}catch(e){this.ba('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bj('set_magnifierXOffset',arguments);this.aaR(value);}catch(e){this.ba('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var bQ=this.Mu();this.cq('get_magnifierYOffset',arguments,bQ);return bQ;}catch(e){this.ba('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bj('set_magnifierYOffset',arguments);this.WX(value);}catch(e){this.ba('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bj('showMagnifier',arguments,1);this.aDi(windowPoint);}catch(e){this.ba('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bj('hideMagnifier',arguments);this.azY();}catch(e){this.ba('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var bQ=this.UR();this.cq('get_markHandleSize',arguments,bQ);return bQ;}catch(e){this.ba('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bj('set_markHandleSize',arguments);this.XZ(value);}catch(e){this.ba('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var bQ=this.xp();this.cq('get_markHandleMode',arguments,bQ);return bQ;}catch(e){this.ba('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bj('set_markHandleMode',arguments);this.Js(value);}catch(e){this.ba('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var bQ=this.VK();this.cq('get_mouseTool',arguments,bQ);return bQ;}catch(e){this.ba('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bj('set_mouseTool',arguments);this.IS(value);}catch(e){this.ba('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var bQ=this.ayJ();this.cq('get_presentationQuality',arguments,bQ);return bQ;}catch(e){this.ba('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bj('set_presentationQuality',arguments);this.aFV(value);}catch(e){this.ba('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var bQ=this.axY();this.cq('get_scrollBars',arguments,bQ);return bQ;}catch(e){this.ba('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bj('set_scrollBars',arguments);this.aGD(value);}catch(e){this.ba('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var bQ=this.mc();this.cq('get_imGearPage',arguments,bQ);return bQ;}catch(e){this.ba('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bj('set_imGearPage',arguments);this.EE(value);}catch(e){this.ba('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var bQ=this.jG();this.cq('get_serviceResponseTimeout',arguments,bQ);return bQ;}catch(e){this.ba('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bj('set_serviceResponseTimeout',arguments);this.wf(value);}catch(e){this.ba('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var bQ=this.BE();this.cq('get_currentTextIndex',arguments,bQ);return bQ;}catch(e){this.ba('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var bQ=this.azC();this.cq('get_cursor',arguments,bQ);return bQ;}catch(e){this.ba('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bj('set_cursor',arguments);this.aFg(value);}catch(e){this.ba('set_cursor',e);throw e;}},get_encryption:function(){try{var bQ=this.im();this.cq('get_encryption',arguments,bQ);return bQ;}catch(e){this.ba('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bj('set_encryption',arguments);this.nn(value);}catch(e){this.ba('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var bQ=this.awZ(imagePoint,constrainResultToWindow);this.CC('transformPagePointToWindow',arguments,bQ,1);return bQ;}catch(e){this.ba('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var bQ=this.MJ(windowPoint,constrainResultToImage);this.CC('transformWindowPointToPage',arguments,bQ,1);return bQ;}catch(e){this.ba('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var bQ=this.Kn(pagePoint);this.CC('transformPagePointToTextIndex',arguments,bQ,1);return bQ;}catch(e){this.ba('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bj('removeAllHighlights',arguments);this.Xu();}catch(e){this.ba('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bj('showTextSelection',arguments);this.Sj(indexOfFirstCharacter,length);}catch(e){this.ba('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bj('showEmptyTextSelection',arguments);this.zG(textIndex);}catch(e){this.ba('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bj('extendTextSelection',arguments);this.uz(textIndex);}catch(e){this.ba('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bj('initializeViewControllers',arguments);this.aEf(showArtContextMenu);}catch(e){this.ba('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var bQ=this.zW();this.cq('get_autoUpdate',arguments,bQ);return bQ;}catch(e){this.ba('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bj('set_autoUpdate',arguments);this.Zm(value);}catch(e){this.ba('set_autoUpdate',e);throw e;}}};module.exports=acb;},{}],114:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var nz=require('./FitType');var Py=function(){return this;};Py.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:nz.FullImage,viewRectangle:null,viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};Py.registerClass=cQ;Py.registerClass('IPCC.Web.UI.PageViewState');module.exports=Py;},{"../../IPCC.Util":28,"./FitType":74}],115:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var we=function(x,y){this.x=x;this.y=y;return this;};we.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};we.registerClass=cQ;we.registerClass('IPCC.Web.UI.Point');module.exports=we;},{"../../IPCC.Util":28}],116:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Pp=function(){var aL=[];var aj=new IPCC.Web.UI.gA();this.aob=function(bM){var R=new IPCC.Web.UI.PointEventArgs();R.point=bM;R.length=1;aL.push(new IPCC.Web.UI.Point(bM.x,bM.y));R.index=aL.length-1;this.ad('pointAdded',R);};this.aoj=function(aeh){var R=new IPCC.Web.UI.PointEventArgs();R.index=aL.length;R.length=aeh.get_length();function kf(bM){aL.push(bM);};aeh.forEach(kf,{});if(R.length>0){this.ad('pointAdded',R);}};this.lj=function(iP,cN){var aac=[].concat(aL);var J;for(J=0;J<aac.length;J++){iP.call(cN,new IPCC.Web.UI.Point(aac[J].x,aac[J].y),J,this);}};this.zR=function(aE){jN(aE);var fo=aL[aE];return new IPCC.Web.UI.Point(fo.x,fo.y);};this.aBg=function(aE,bM){jN(aE);IPCC.bH.bM(bM,'point');var Sa=aL[aE];if(Sa.x===bM.x&&Sa.y===bM.y){return;}Sa.x=bM.x;Sa.y=bM.y;var R=new IPCC.Web.UI.PointEventArgs();R.point=bM;R.index=aE;R.length=1;this.ad('pointChanged',R);};this.eY=function(){return aL.length;};this.aAB=function(aE){jN(aE);var R=new IPCC.Web.UI.PointEventArgs();R.point=aL[aE];R.index=aE;R.length=1;aL.splice(aE,1);this.ad('pointRemoved',R);};this.aAJ=function(){if(aL.length<1){return;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=aL.length;aL=[];this.ad('pointRemoved',R);};this.amF=function(fC,eH){if(fC===0&&eH===0){return;}IPCC.bH.gH(fC,'deltaX');IPCC.bH.gH(eH,'deltaY');var J;for(J=0;J<aL.length;J++){aL[J].x+=fC;aL[J].y+=eH;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=aL.length;this.ad('pointChanged',R);};this.sd=function(){if(aL.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var J,hB=aL[0].x,jv=aL[0].x,_top=aL[0].y,hL=aL[0].y;for(J=1;J<aL.length;J++){var bM=aL[J];hB=Math.min(hB,bM.x);jv=Math.max(jv,bM.x);_top=Math.min(_top,bM.y);hL=Math.max(hL,bM.y);}return new IPCC.Web.UI.Rectangle(hB,_top,jv-hB,hL-_top);};function jN(aE){if(aE>aL.length-1||(aE<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',aE);}};this.axa=function(H){aj.addHandler('pointAdded',H);};this.axX=function(H){aj.removeHandler('pointAdded',H);};this.avU=function(H){aj.addHandler('pointChanged',H);};this.axN=function(H){aj.removeHandler('pointChanged',H);};this.apl=function(H){aj.addHandler('pointRemoved',H);};this.ayK=function(H){aj.removeHandler('pointRemoved',H);};this.ad=function(dr,R){var H=aj.getHandler(dr);if(H!==null){H(this,R);}};return this;};Pp.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.aob(point);},addPoints:function(pointCollection){this.aoj(pointCollection);},forEach:function(method,context){this.lj(method,context);},getPoint:function(index){return this.zR(index);},setPoint:function(index,point){this.aBg(index,point);},get_length:function(){return this.eY();},removePoint:function(index){this.aAB(index);},removeAllPoints:function(){this.aAJ();},moveAllPoints:function(deltaX,deltaY){this.amF(deltaX,deltaY);},add_pointAdded:function(handler){this.axa(handler);},remove_pointAdded:function(handler){this.axX(handler);},add_pointChanged:function(handler){this.avU(handler);},remove_pointChanged:function(handler){this.axN(handler);},add_pointRemoved:function(handler){this.apl(handler);},remove_pointRemoved:function(handler){this.ayK(handler);}};Pp.registerClass=cQ;Pp.registerClass('IPCC.Web.UI.PointCollection');module.exports=Pp;},{"../../IPCC.Util":28}],117:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var OC=function(){return this;};OC.registerClass=cQ;OC.prototype={};OC.registerClass('IPCC.Web.UI.PointEventArgs');module.exports=OC;},{"../../IPCC.Util":28}],118:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var Me=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};Me.prototype={intersect:function(rectangle){var ay=Math.max(this.x,rectangle.x);var aD=Math.min(this.x+this.width,rectangle.x+rectangle.width)-ay;var ck=Math.max(this.y,rectangle.y);var ab=Math.min(this.y+this.height,rectangle.y+rectangle.height)-ck;if(aD<=0||ab<=0){ay=ck=aD=ab=0;}this.x=ay;this.y=ck;this.width=aD;this.height=ab;},union:function(rectangle){var hB=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var jv=Math.max(this.x+this.width,rectangle.x+rectangle.width);var hL=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=hB;this.y=_top;this.width=jv-hB;this.height=hL-_top;return this;},scale:function(UW,Oi){Oi=Oi||UW;var hB=this.x*UW;var _top=this.y*Oi;var aD=this.width*UW;var ab=this.height*Oi;this.x=hB;this.y=_top;this.width=aD;this.height=ab;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};Me.registerClass=cQ;Me.registerClass('IPCC.Web.UI.Rectangle');module.exports=Me;},{"../../IPCC.Util":28}],119:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var QO=function(){};QO.registerEnum=ef;QO.prototype={None:0,Both:3,Auto:4};QO.registerEnum('IPCC.Web.UI.ScrollBars',false);module.exports=QO;},{"../../IPCC.Util":28}],120:[function(require,module,exports){var cQ=require('../../IPCC.Util').regClass;var LW=function(){return this;};LW.registerClass=cQ;LW.prototype={};LW.registerClass('IPCC.Web.UI.TextSelectedEventArgs');module.exports=LW;},{"../../IPCC.Util":28}],121:[function(require,module,exports){var yE=require('./../../Type');var Vc={aDW:1,ImGearDocumentHyperlink:require('./ImGearDocumentHyperlink'),ImGearTextCharacter:require('./ImGearTextCharacter'),ImGearTextCharacterCollection:require('./ImGearTextCharacterCollection'),ImGearHyperlinkCollection:require('./ImGearHyperlinkCollection'),ImGearHyperlinkPage:require('./ImGearHyperlinkPage'),ImGearTextPage:require('./ImGearTextPage'),ImGearTextSection:require('./ImGearTextSection'),ImGearTextSectionCollection:require('./ImGearTextSectionCollection'),ImGearPageCountStatus:require('./ImGearPageCountStatus'),ImGearPageCreateArgs:require('./ImGearPageCreateArgs'),ImGearPage:require('./ImGearPage'),ImGearPageEventArgs:require('./ImGearPageEventArgs'),ImGearPageCollection:require('./ImGearPageCollection'),ImGearDocumentCreateArgs:require('./ImGearDocumentCreateArgs'),ImGearDocument:require('./ImGearDocument'),ImGearDocumentEventArgs:require('./ImGearDocumentEventArgs'),ImGearDocumentCollection:require('./ImGearDocumentCollection'),ImGearPageOpenFailedEventArgs:require('./ImGearPageOpenFailedEventArgs'),ImGearExceptions:require('./ImGearExceptions'),ImGearException:require('./ImGearExceptions').DX,ImGearHttpException:require('./ImGearExceptions').Eu,ImGearArgumentException:require('./ImGearExceptions').un,ImGearArgumentNullException:require('./ImGearExceptions').Dx,ImGearArgumentOutOfRangeException:require('./ImGearExceptions').pI,ImGearArgumentTypeException:require('./ImGearExceptions').ImGearArgumentTypeException,ImGearArgumentUndefinedException:require('./ImGearExceptions').Dk,ImGearInvalidOperationException:require('./ImGearExceptions').Cx,ImGearNotImplementedException:require('./ImGearExceptions').By,ImGearParameterCountException:require('./ImGearExceptions').Bn,gA:require('./ImGearEventHandlerList'),ImGearArtDataServices:require('./ImGearArtDataServices'),MouseButton:require('./MouseButton'),MouseTool:require('./MouseTool'),al:require('./DomEvent'),DebugErrorLevel:require('./DebugErrorLevel'),DebugItemCause:require('./DebugItemCause'),PageView:require('./PageView'),PageViewState:require('./PageViewState'),ArtPage:require('./ArtPage'),Key:require('./Key'),FitType:require('./FitType'),ScrollBars:require('./ScrollBars'),Rectangle:require('./Rectangle'),Point:require('./Point'),PointCollection:require('./PointCollection'),LogItemEventArgs:require('./LogItemEventArgs'),MouseEventArgs:require('./MouseEventArgs'),PointEventArgs:require('./PointEventArgs'),CommentEventArgs:require('./CommentEventArgs'),TextSelectedEventArgs:require('./TextSelectedEventArgs'),HighLightType:require('./HighlightType'),LineStyle:require('./LineStyle'),LineHeadType:require('./LineHeadType'),CalloutType:require('./CalloutType'),FontStyle:require('./FontStyle'),HorizontalAlignment:require('./HorizontalAlignment'),VerticalAlignment:require('./VerticalAlignment'),Orientation:require('./Orientation'),MarkHandleMode:require('./MarkHandleMode'),MarkInteractionMode:require('./MarkInteractionMode'),MarkType:require('./MarkType'),MarkEventArgs:require('./MarkEventArgs'),MarkCollection:require('./MarkCollection'),Mark:require('./Mark'),Comment:require('./Comment'),Conversation:require('./Conversation'),Data:require('./Data'),Xv:require('./highlightItem')};yE.registerNamespace('IPCC.Web.UI');module.exports=Vc;},{"./../../Type":56,"./ArtPage":65,"./CalloutType":66,"./Comment":67,"./CommentEventArgs":68,"./Conversation":69,"./Data":70,"./DebugErrorLevel":71,"./DebugItemCause":72,"./DomEvent":73,"./FitType":74,"./FontStyle":75,"./HighlightType":76,"./HorizontalAlignment":77,"./ImGearArtDataServices":78,"./ImGearDocument":79,"./ImGearDocumentCollection":80,"./ImGearDocumentCreateArgs":81,"./ImGearDocumentEventArgs":82,"./ImGearDocumentHyperlink":83,"./ImGearEventHandlerList":84,"./ImGearExceptions":85,"./ImGearHyperlinkCollection":86,"./ImGearHyperlinkPage":87,"./ImGearPage":88,"./ImGearPageCollection":89,"./ImGearPageCountStatus":90,"./ImGearPageCreateArgs":91,"./ImGearPageEventArgs":92,"./ImGearPageOpenFailedEventArgs":93,"./ImGearTextCharacter":94,"./ImGearTextCharacterCollection":95,"./ImGearTextPage":96,"./ImGearTextSection":97,"./ImGearTextSectionCollection":98,"./Key":99,"./LineHeadType":100,"./LineStyle":101,"./LogItemEventArgs":102,"./Mark":103,"./MarkCollection":104,"./MarkEventArgs":105,"./MarkHandleMode":106,"./MarkInteractionMode":107,"./MarkType":108,"./MouseButton":109,"./MouseEventArgs":110,"./MouseTool":111,"./Orientation":112,"./PageView":113,"./PageViewState":114,"./Point":115,"./PointCollection":116,"./PointEventArgs":117,"./Rectangle":118,"./ScrollBars":119,"./TextSelectedEventArgs":120,"./VerticalAlignment":122,"./highlightItem":123}],122:[function(require,module,exports){var ef=require('../../IPCC.Util').regEnum;var Qi=function(){};Qi.registerEnum=ef;Qi.prototype={Top:0,Center:1,Bottom:2};Qi.registerEnum('IPCC.Web.UI.VerticalAlignment',false);module.exports=Qi;},{"../../IPCC.Util":28}],123:[function(require,module,exports){var Xv=function(){this.gO=undefined;this.cU=[];this.aQ={};};module.exports=Xv;},{}],124:[function(require,module,exports){var Vc=require('././UI/UI');var h=require('./../IPCC.Util');var zj=require('./Cipher');var azb=require('./Hash');var gp=require('./Codec');var BH=require('./Mode');var hv={};hv.aoE=[];hv.wd=function(ay){return!isNaN(ay-0)&&ay!==null;};hv.zD=function(si,cD){return IPCC.Web.afn(false,arguments);};hv.amB=function(si,cD){return IPCC.Web.afn(true,arguments);};hv.afn=function(useLocale,cD){var aP='';var si=cD[0];for(var J=0;;){var fu=si.indexOf('{',J);var lL=si.indexOf('}',J);if((fu<0)&&(lL<0)){aP+=si.slice(J);break;}if((lL>0)&&((lL<fu)||(fu<0))){if(si.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aP+=si.slice(J,lL+1);J=lL+2;continue;}aP+=si.slice(J,fu);J=fu+1;if(si.charAt(J)==='{'){aP+='{';J++;continue;}if(lL<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var KE=si.substring(J,lL);var Rn=KE.indexOf(':');var amn=parseInt((Rn<0)?KE:KE.substring(0,Rn),10)+1;if(isNaN(amn)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var ZG=(Rn<0)?'':KE.substring(Rn+1);var sr=cD[amn];if(typeof(sr)==="undefined"||sr===null){sr='';}if(sr.toFormattedString){aP+=sr.toFormattedString(ZG);}else if(useLocale&&sr.amB){aP+=sr.amB(ZG);}else if(sr.format){aP+=sr.format(ZG);}else{aP+=sr.toString();}J=lL+1;}return aP;};hv.aHO=function(yp){var qB=yp.length;var vX=Math.ceil(qB/4),LK;var fF=[];fF.length=vX;for(var lw=0,hw=0;lw<vX;lw++,hw+=4){fF[lw]=((yp[hw]&0xff)<<24)+((yp[hw+1]&0xff)<<16)+((yp[hw+2]&0xff)<<8)+(yp[hw+3]&0xff);}if(hw<qB){LK[lw]=0;for(var xj=0;hw<qB;hw++,xj++){LK[lw]+=(yp[hw++]&0xff)<<(3-xj);}}return fF;};hv.apa=function(bv){var qB=bv.length;var vX=Math.ceil(qB/4);var fF=[];fF.length=vX;for(var lw=0,hw=0;lw<vX;lw++,hw+=4){fF[lw]=((bv.charCodeAt(hw)&0xff)<<24)+((bv.charCodeAt(hw+1)&0xff)<<16)+((bv.charCodeAt(hw+2)&0xff)<<8)+((bv.charCodeAt(hw+3)&0xff));}if(hw<qB){fF[lw]=0;for(var xj=0;hw<qB;hw++,xj++){fF[lw]+=(bv.charCodeAt(hw++)&0xff)<<(3-xj);}}return fF;};hv.aHR=function(ye){var CY=new Uint8Array(ye);var qB=CY.length;var vX=Math.ceil(qB/4),LK;var fF=[];fF.length=vX;for(var lw=0,hw=0;lw<vX;lw++,hw+=4){fF[lw]=(CY[hw]<<24)+(CY[hw+1]<<16)+(CY[hw+2]<<8)+CY[hw+3];}if(hw<qB){fF[lw]=0;for(var xj=0;hw<qB;hw++,xj++){LK[lw]+=CY[hw++]<<(3-xj);}}return fF;};hv.Gi=function(fF,iE){var be=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.GA(fF,be,iE);};hv.GA=function(fF,be,iE){try{var anE=new IPCC.Web.zj.aka(be);var ds=IPCC.Web.BH.atc.WC(anE,fF,iE);return ds;}catch(aI){return;}};hv.Gl=function(GD){return IPCC.Web.apa(GD.responseText);};hv.PG=function(){var DK=new Date();var aoQ=new Date(DK.getYear(),DK.getMonth(),DK.getDate(),DK.getHours(),DK.getMinutes(),DK.getSeconds());return(+aoQ);};hv.kD=function(db,elt){var len=db.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in db&&db[from]===elt){return from;}}return-1;};hv.aFu=function aIh(){var kT=0xefc8249d;var sP=function(ds){ds=ds.toString();for(var J=0;J<ds.length;J++){kT+=ds.charCodeAt(J);var fL=0.02519603282416938*kT;kT=fL>>>0;fL-=kT;fL*=kT;kT=fL>>>0;fL-=kT;kT+=fL*0x100000000;}return(kT>>>0)*2.3283064365386963e-10;};sP.xw='Mash 0.9';return sP;};hv.akR=function aHN(){return(function(cD){var CQ=0;var Bs=0;var Ai=0;var fv=1;if(cD.length===0){cD=[+new Date()];}var sP=IPCC.Web.aFu();CQ=sP(' ');Bs=sP(' ');Ai=sP(' ');for(var J=0;J<cD.length;J++){CQ-=sP(cD[J]);if(CQ<0){CQ+=1;}Bs-=sP(cD[J]);if(Bs<0){Bs+=1;}Ai-=sP(cD[J]);if(Ai<0){Ai+=1;}}sP=null;var yN=function(){var qR=2091639*CQ+fv*2.3283064365386963e-10;CQ=Bs;Bs=Ai;Ai=qR-(fv=qR|0);return Ai;};yN.adj=function(){return yN()*0x100000000;};yN.aHY=function(){return yN()+(yN()*0x200000|0)*1.1102230246251565e-16;};yN.xw='Alea 0.9';yN.cD=cD;return yN;}(Array.prototype.slice.call(arguments)));};hv.nL=function(){if(this.abX===undefined){var ze=document.createElement("div");ze.style.overflow='scroll';ze.style.position='absolute';ze.style.top='-9999px';document.body.appendChild(ze);this.abX=ze.offsetWidth-ze.clientWidth;document.body.removeChild(ze);}return this.abX;};hv.IE={aiI:function(gL){var EW=[];var WW=IPCC.Web.akR().adj;for(var J=0;J<gL;J++){EW.push(WW());}return EW;},aad:function(gL,dU){var EW=[];var WW=IPCC.Web.akR(dU).adj;for(var J=0;J<gL;J++){EW.push(WW());}return EW;},aHU:function(iE,aos){var gL,nh=true,fB="",Jk,aaA,Wk,Qb,RH,amK;for(gL=0;gL<4;gL++){if(!nh){fB+='-';}else{nh=false;}RH=0;for(Jk=0;Jk<4;Jk++){Qb=gL*32+Jk*8;aaA=IPCC.Web.hu.YL(iE,Qb,4);fB+=aaA.toString(16).toUpperCase();Wk=IPCC.Web.hu.YL(iE,Qb+4,4);fB+=Wk.toString(16).toUpperCase();amK=(aaA*16+Wk+IPCC.Web.hu.YL(IPCC.Web.be,Qb,8))%256;RH=RH|(amK<<(24-(Jk*8)));}aos.aoE[gL]=RH;}return fB;}};hv.be=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];hv.hu={abQ:function(du,uw,ajG){du=IPCC.Web.hu.acm(du.slice(uw/32),32-(uw&31)).slice(1);return(ajG===undefined)?du:IPCC.Web.hu.KQ(du,ajG-uw);},YL:function(du,uw,aaw){var ay,Wr=Math.floor((-uw-aaw)&31);if((uw+aaw-1^uw)& -32){ay=(du[uw/32|0]<<(32-Wr))^(du[uw/32+1|0]>>>Wr);}else{ay=du[uw/32|0]>>>Wr;}return ay&((1<<aaw)-1);},VR:function(zv,uq){if(zv.length===0||uq.length===0){return zv.concat(uq);}var kR=zv[zv.length-1],sG=IPCC.Web.hu.Za(kR);if(sG===32){return zv.concat(uq);}else{return IPCC.Web.hu.acm(uq,sG,kR|0,zv.slice(0,zv.length-1));}},vH:function(du){var pU=du.length,ay;if(pU===0){return 0;}ay=du[pU-1];return(pU-1)*32+IPCC.Web.hu.Za(ay);},KQ:function(du,cW){if(du.length*32<cW){return du;}du=du.slice(0,Math.ceil(cW/32));var pU=du.length;cW=cW&31;if(pU>0&&cW){du[pU-1]=IPCC.Web.hu.JP(cW,du[pU-1]&0x80000000>>(cW-1),1);}return du;},JP:function(cW,ay,eB){if(cW===32){return ay;}return(eB?ay|0:ay<<(32-cW))+cW*0x10000000000;},Za:function(ay){return Math.round(ay/0x10000000000)||32;},aFY:function(du,fM){if(IPCC.Web.hu.vH(du)!==IPCC.Web.hu.vH(fM)){return false;}var ay=0,J;for(J=0;J<du.length;J++){ay|=du[J]^fM[J];}return(ay===0);},acm:function(du,sG,IK,fB){var J,amW=0,XH;if(fB===undefined){fB=[];}for(;sG>=32;sG-=32){fB.push(IK);IK=0;}if(sG===0){return fB.concat(du);}for(J=0;J<du.length;J++){fB.push(IK|du[J]>>>sG);IK=du[J]<<(32-sG);}amW=du.length?du[du.length-1]:0;XH=IPCC.Web.hu.Za(amW);fB.push(IPCC.Web.hu.JP(sG+XH&31,(sG+XH>32)?IK:fB.pop(),1));return fB;},aaH:function(ay,ck){return[ay[0]^ck[0],ay[1]^ck[1],ay[2]^ck[2],ay[3]^ck[3]];}};hv.zj=zj;hv.qK=azb;hv.gp=gp;hv.BH=BH;hv.ahD=h.ahD;hv.UI=Vc;hv.regEnum=h.regEnum;hv.regClass=h.regClass;module.exports=hv;},{"./../IPCC.Util":28,"././UI/UI":121,"./Cipher":61,"./Codec":62,"./Hash":63,"./Mode":64}],125:[function(require,module,exports){var UH=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};module.exports=UH;},{}],126:[function(require,module,exports){var aCa=function(JT,bK){var Oo=new IPCC.PageList(JT);if(bK){IPCC.Qx(Oo,bK);}Oo.tX(JT);Oo.initialize();return Oo;};module.exports=aCa;},{}],127:[function(require,module,exports){var aCx=function(JT,SN){var qA=SN.handleTouchEvents!==false;var Op=new IPCC.Web.UI.PageView(JT,qA);if(SN){IPCC.Qx(Op,SN);}Op.tX(JT);Op.initialize();return Op;};module.exports=aCx;},{}],128:[function(require,module,exports){var qr={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};module.exports=qr;},{}],129:[function(require,module,exports){var Qx=function(dI,ll){var mE;for(var bp in ll){if(ll.hasOwnProperty(bp)){var bN=ll[bp];var aBh=dI["get_"+bp];var adl=dI["set_"+bp];if(typeof(adl)==='function'){adl.apply(dI,[bN]);}else if(bN instanceof Array){mE=aBh.apply(dI);if(!(mE instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(bp+" is not an Array property");}for(var J=0,bE=mE.length,pU=bN.length;J<pU;J++,bE++){mE[bE]=bN[J];}}}}};module.exports=Qx;},{}],130:[function(require,module,exports){"use strict";var akd=function(bL){if(bL instanceof PCCViewer.AjaxResponse){return bL;}else if(!(this instanceof PCCViewer.AjaxResponse)){return new PCCViewer.AjaxResponse(bL);}this.pr=new IPCC.h.pr(bL);this.status=this.pr.status;this.statusText=this.pr.statusText;this.responseText=this.pr.responseText;if(typeof this.pr.responseBody!=='undefined'){this.responseBody=this.pr.responseBody;}return this;};akd.prototype.getResponseHeader=function(Dm){return this.pr.getResponseHeader(Dm);};var Dn=(function(){function aud(){return IPCC.h.extend({},IPCC.h.mY.it);};function ayy(it){if(!(typeof it==='undefined'||(typeof it==='object'&&it!==null&& !(it instanceof Array)))){throw new Error('Headers should be an object or undefined.');}if(typeof it==='object'){var aDc=Object.keys(IPCC.h.aiy());Object.keys(it).forEach(function(Dm){if(aDc.indexOf(Dm)!== -1){throw new Error('Cannot overwrite the header "'+Dm+'".');}});}IPCC.h.mY.it=IPCC.h.extend({},it);return PCCViewer.Ajax;};function auL(){return IPCC.h.mY.QR;};function ayU(iP){if(typeof iP!=='undefined'&&typeof iP!=='function'){throw new Error('Method should be a function or undefined.');}IPCC.h.mY.QR=iP;return PCCViewer.Ajax;};function fu(bK){var ag=PCCViewer.Deferred();if(!(typeof bK==='undefined'||(typeof bK==='object'&&bK!==null&& !(bK instanceof Array)))){throw new Error('Options should be an object or undefined.');}function er(bL){if(!(bL instanceof PCCViewer.AjaxResponse)){bL=new PCCViewer.AjaxResponse(bL);}ag.resolve(bL);};function eA(aP){if(aP.response){aP.response=new PCCViewer.AjaxResponse(aP.response);}ag.reject(aP);};IPCC.h.mY.fu(bK).then(er,eA);return ag.getPromise();};return{getHeaders:aud,setHeaders:ayy,getOverrideMethod:auL,setOverrideMethod:ayU,fu:fu,};})();if(Object.defineProperties){Object.defineProperties(Dn,{"headers":{enumerable:true,get:function(){return Dn.getHeaders();},set:function(it){return Dn.setHeaders(it);}},"overrideMethod":{enumerable:true,get:function(){return Dn.getOverrideMethod();},set:function(iP){return Dn.setOverrideMethod(iP);}}});}module.exports={AjaxResponse:akd,Ajax:Dn};},{}],131:[function(require,module,exports){var BurnRequest=function(bK){this.oz="";this.fj="";this.jP=0;this.qG="";this.ew="";this.rn=0;this.fR=false;this.qL=0;this.UM="";this.sA=false;this.ag=PCCViewer.Deferred();this.dR=this.ag.getPromise();this.then=this.dR.then;this.bK=bK;this.ew=null;this.eG=undefined;this.sl=false;this.KC=null;PCCViewer.EventEmitter.extend(this);var C=this;if(bK.ml){var ml=new PCCViewer.Error(bK.ml.code,bK.ml.message);delete C.bK.ml;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ew=ml.code;C.ag.reject(ml);},0);}};BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};BurnRequest.prototype.cancel=function(){var C=this;this.sA=true;this.ew="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};BurnRequest.prototype.getProgress=function(){return this.jP;};BurnRequest.prototype.getWorkerID=function(){return this.oz;};BurnRequest.prototype.getOptions=function(){return this.bK;};BurnRequest.prototype.getErrorCode=function(){return this.ew;};BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.KC;};BurnRequest.prototype.aBx=function(hX){this.UM=hX;};BurnRequest.prototype.Ql=function(eG){this.eG=eG;};BurnRequest.prototype.Xn=function(){var C=this;this.ew="Failure to generate Markup XML";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("MarkupXMLFail",C.ew));},0);return this;};BurnRequest.prototype.BX=function(){function er(bL){var gS,aP;try{gS=bL.responseText;if(!gS){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);C.sl=true;return;}else{aP=JSON.parse(gS);setTimeout(function(){aGv(aP);},0);}}catch(e){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);C.sl=true;return;}};function eA(aP){C.fR=false;var cu=aP.response.status+" "+aP.response.statusText;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("StatusCode","Status Code "+cu));},0);C.sl=true;return;};try{if(!this.UM){throw new Error("XMl Markup data for burn is missing");}var C=this;var akU=function(){var Tn;if(!(/^[\x00-\x7F]*$/.test(C.eG.az.get_documentIdentifier()))){Tn=C.eG.bK.imageHandlerUrl+'/ViewingSession/e'+C.eG.bK.documentID+'/MarkupBurner/'+C.oz;}else{Tn=C.eG.bK.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.eG.bK.documentID)+'/MarkupBurner/'+C.oz;}PCCViewer.Ajax.fu({method:'GET',url:Tn,headers:{'Content-Type':'application/json'}}).then(er,eA);};var aGv=function(gY){if(gY){if(C.sA===true){C.fR=false;return;}if(gY.percentComplete>=0&&C.fR===true){if(gY.percentComplete===100&&gY.state==='complete'){if(gY.processId){C.fR=false;C.oz=gY.processId;C.fj=gY.state;C.rn+=1;C.qL=1000;C.jP= +(gY.percentComplete);var Gw;if(!(/^[\x00-\x7F]*$/.test(C.eG.az.get_documentIdentifier()))){Gw=C.eG.bK.imageHandlerUrl+'/ViewingSession/e'+C.eG.bK.documentID+'/MarkupBurner/'+C.oz+"/Document";}else{Gw=C.eG.bK.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.eG.bK.documentID)+'/MarkupBurner/'+C.oz+"/Document";}if(C.bK.filename){Gw+="?ContentDispositionFilename="+C.bK.filename;}C.KC=Gw;C.sl=true;var aqD= +(gY.percentComplete);setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:aqD});C.ag.resolve(Gw);},10);return;}}else{if(gY.state==='error'){C.fR=false;C.ew=gY.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+C.ew));},0);C.fR=false;C.sl=true;return;}if(gY.processId){var RO= +(gY.percentComplete);if(C.jP!==RO){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:RO});},10);}if(!C.oz){C.oz=gY.processId;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);C.fj=gY.state;C.rn=1;C.fR=true;C.qL=1000;C.jP= +(gY.percentComplete);}if(gY.percentComplete<100){if(C.rn>1){C.qL+=1000;}C.rn+=1;C.fj=gY.state;C.jP= +(gY.percentComplete);if(C.fR===true&&C.sA===false&&C.sl===false){setTimeout(akU,C.qL);}}}}}else{if(C.sl===false){var Xp=false;if(C.fR===false){if(gY.state==='complete'){if(!C.KC){Xp=true;}else{C.sl=true;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.ag.resolve(C.KC);},10);return;}}if(gY.state==='processing'&&gY.errorCode===null){if(gY.percentComplete>=0&&gY.percentComplete<100){if(C.rn>1){C.qL+=1000;}C.rn+=1;C.fR=true;C.fj=gY.state;C.jP= +(gY.percentComplete);if(C.fR===true&&C.sA===false){setTimeout(akU,C.qL);}}else{Xp=true;}}if(gY.state==='error'||Xp===true){C.fR=false;C.ew=gY.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.ag.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gY.errorCode));},0);C.fR=false;C.sl=true;return;}}}}}};var ai;if(!(/^[\x00-\x7F]*$/.test(C.eG.az.get_documentIdentifier()))){ai=C.eG.bK.imageHandlerUrl+'/ViewingSession/e'+C.eG.bK.documentID+'/MarkupBurner';}else{ai=C.eG.bK.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.eG.bK.documentID)+'/MarkupBurner';}var Pz=[];if(C.bK.removeFormFields){Pz.push('RemoveFormFields=acroform');}if(C.bK.redactionOptions){Pz.push(C.bK.redactionOptions.mode===PCCViewer.RedactionViewMode.Draft.toLowerCase()?'redactionMode=draft':'redactionMode=normal');}if(Pz.length>0){ai+=('?'+Pz.join('&'));}PCCViewer.Ajax.fu({method:'POST',url:ai,headers:{'Content-Type':'application/xml;charset=utf-8'},body:C.UM}).then(er,eA);C.fR=true;}catch(e){this.fR=false;var bo=this,ko=e.message;setTimeout(function(){bo.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bo.ag.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+ko));},0);this.sl=true;}};if(Object.defineProperties){Object.defineProperties(BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}module.exports=BurnRequest;},{}],132:[function(require,module,exports){function aul(az,bm){var ap=az.dP.iZ(bm);var ft=ap.dc();return ft.CG();};function att(az,bm){var ap=az.dP.iZ(bm);var ft=ap.dc();var IC=ft.hF();return IC.azh();};function aow(zs,aGp){var cW=zs.length;if(cW===0){return false;}if(cW!==aGp){return false;}for(var J=0;J<cW;J++){if(zs[J]!==true){return false;}}return true;};var Ln=function(){var C=this;this.Gz=false;this.zs=[];this.st=[];this.Aa=[];this.aay=0;this.aC=0;this.hS=false;function qv(Gu,aax){switch(Gu){case 'failed':setTimeout(function(){C.av.trigger('SearchFailed',aax);},10);break;case 'complete':C.av.fH=C.st;C.av.Tp=C.Aa;C.av.uN=true;setTimeout(function(){C.av.trigger('SearchResultsAvailable',{completedSearchResults:(C.st)});},10);break;case 'cancelled':break;}setTimeout(function(){C.av.trigger('SearchCompleted',{completedSearchResults:(C.st)});},10);};function axV(){C.av.di='Unable to communicate with server, please retry loading the document.';C.av.ew='1011';C.av.uN=true;qv('failed',{errorMessage:('Unable to communicate with server, please retry loading the document.')});C.hS=true;};function aia(bK,azU){var aAL=IPCC.h.trim(bK.type||'').toLowerCase();var aP;switch(aAL){case 'taskresult':aP=new PCCViewer.SearchTaskResult();break;default:aP=new PCCViewer.SearchResult();break;}IPCC.h.extend(aP,azU);var aep=aP.pK+aP.text.length-1;var cN=PCCViewer.Hi.formatter.getContext({text:bK.searchText,startIndex:aP.pK,endIndex:aep,padding:aP.aw.contextPadding});aP.cN=cN.context;aP.zg=cN.startIndex;if(bK.rectangles){var abY={rectangles:bK.rectangles,startIndex:aP.pK,endIndex:aep};aP.mL=PCCViewer.Hi.formatter.getBoundingRectangle(abY);aP.bC=PCCViewer.Hi.formatter.getLineRectangles(abY);}return aP;};function ala(mP,wj,HW,gk,hy){var IR=[];var abA= !gk;var wy=wj.distance;var zu=[];IPCC.h.forEach(wj.dk,function(dk){zu.push(dk.searchTerm);});var aDY=PCCViewer.Hi.proximity.getResults(HW,zu,wy);IPCC.h.forEach(aDY,function(aP){var hl=aia({type:abA?'TaskResult':'Result',searchText:HW,rectangles:gk},{hy:hy,aw:wj.vh,mP:mP,rk:wj.highlightColor,pK:aP.startIndex,bv:aP.text});IR.push(hl);});return IR;};function Rs(mP,dk,HW,gk,hy){var abA= !gk;var IR=[];var LL=[dk.searchTerm];var fH=PCCViewer.Hi.regex.getResults(HW,LL);IPCC.h.forEach(fH,function(aP){if(dk.vh.matchingOptions.wildcard&&(aP.text[0]===" "||aP.text[0]==="\n")){aP.text=aP.text.substring(1);aP.startIndex+=1;}var hl=aia({type:abA?'TaskResult':'Result',searchText:HW,rectangles:gk},{hy:hy,mP:mP,dk:dk,aw:dk.vh,pK:aP.startIndex,bv:aP.text,rk:dk.highlightColor});IR.push(hl);});return IR;};function arb(aci,bm,az,gk){var Ts=[];var mP=Date.now();IPCC.h.forEach(C.dk,function(dk,J){var fH;var os=IPCC.h.Pb(dk.type);var ap=az.dP.iZ(bm);var ft=ap.dc();var hy={width:ap.ke()||ft.aBc(),height:ap.ir()||ft.axR()};switch(os){case 'proximity':fH=ala(mP,dk,aci,gk,hy);break;default:fH=Rs(mP,dk,aci,gk,hy);break;}IPCC.h.forEach(fH,function(aP){aP.cF=C.aC;aP.aq=bm+1;aP.Yd=az.get_documentIdentifier();C.st[C.aC]=aP;C.aC++;Ts.push(aP);});});C.av.fH=C.st;if(Ts.length){setTimeout(function(){C.av.trigger('PartialSearchResultsAvailable',{partialSearchResults:(Ts),pagesWithoutText:(C.Aa)});},10);}};function aqv(bv){var mP=Date.now();IPCC.h.forEach(C.dk,function(dk,J){var os=IPCC.h.Pb(dk.type);var fH;switch(os){case 'proximity':fH=ala(mP,dk,bv);break;default:fH=Rs(mP,dk,bv);break;}IPCC.h.forEach(fH,function(aP){aP.cF=C.aC;C.st[C.aC]=aP;C.aC++;});});C.av.fH=C.st;};function aie(xN,az){for(var J=0;J<xN.length;J++){if(C.zs[xN[J]]===false){C.zs[xN[J]]=true;var bv=aul(az,xN[J]);var gk=att(az,xN[J]);if(!bv&&bv!==null){C.Aa[C.aay]=xN[J];C.aay++;continue;}arb(bv,xN[J],az,gk);if(C.av.sA){if(C.Gz){qv('cancelled');C.Gz=false;az.remove_textPagesReceived(Nd);return;}break;}}}if(aow(C.zs,az.fp)&& !C.av.uN){qv('complete');C.Gz=false;az.remove_textPagesReceived(Nd);}};function Nd(sender,R){if(R.error=== -1){axV();return C.av;}try{if(C.hS===false){aie(R.textPagesReceived,sender);}}catch(e){C.av.di=e.message;C.av.ew='1010';C.av.uN=true;qv('failed',{errorMessage:(e.message)});C.hS=true;return C.av;}};this.Wm=function(az,dk,cg,av){C.dk=dk;C.av=av;C.av.cg=cg;C.av.on('SearchCancelled',function(){qv('cancelled');C.Gz=false;az.remove_textPagesReceived(Nd);});for(var J=0;J<az.fp;J++){C.zs[J]=false;}if(az.aiG().eY()>az.get_numberOfPagesWithText()){C.Gz=true;az.add_textPagesReceived(Nd);}if(az.get_numberOfPagesWithText()>0){aie(az.get_pagesWithText(),az);}return C.av;};this.aGA=function(bv){this.av=new PCCViewer.SearchRequest();try{aqv(bv);}catch(e){C.av.di=e.message;C.av.ew='1010';return;}};};module.exports=Ln;},{}],133:[function(require,module,exports){var Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aFi(){return conversation;};if(typeof comment==='string'){this.pe=new IPCC.Web.UI.Comment(comment);}else{this.pe=comment;}this.pe.Gs=this;this.ds=this.pe.get_data();PCCViewer.Data.extend(this);this.FE=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Comment.prototype.getMarkupLayer=function aFF(){return this.iB;};Comment.prototype.getText=function aGQ(){return this.pe.get_text();};Comment.prototype.setText=function aJj(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.pe.set_text(text);return this;};Comment.prototype.getCreationTime=function aEU(){var aCu=IPCC.h.Gv(this.pe.get_creationTime());return new Date(aCu);};Comment.prototype.setCreationTime=function aKw(time){function aiJ(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var agJ=IPCC.h.Gv(time);if(agJ instanceof Error){aiJ();}time=new Date(agJ);}if(!(time instanceof Date)){aiJ();}this.pe.set_creationTime(IPCC.h.ud(time));return this;};if(Object.defineProperties){Object.defineProperties(Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}var Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function Ou(){return mark;};this.jq=new PCCViewer.ObservableCollection();if(typeof mark.L!=="undefined"){this.yK=mark.L.get_conversation();this.yK.forEach(function(pe){var de=new PCCViewer.Comment(pe,this);this.jq.add(de);},this);}else{this.yK=new IPCC.Web.UI.Conversation();}this.ds=this.yK.get_data();PCCViewer.Data.extend(this);this.FE=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};Conversation.prototype.addComment=function Km(commentText){var de=new PCCViewer.Comment(commentText,this);this.jq.add(de);this.yK.addComment(de.pe);return de;};Conversation.prototype.deleteComments=function(comments){var C=this;var acf=this.jq.toArray();var ane=function(de){for(var i=0,length=acf.length;i<length;i++){if(acf[i]===de){return true;}}return false;};function ajF(de,aC){throw new Error(de+((aC!==undefined)?' (Array index '+aC+')':'')+' is not a PCCViewer.Comment object.');};function ajr(de,aC){throw new Error(((aC!==undefined)?' (Array index '+aC+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!ane(comments)){ajr(comments);}C.jq.remove(comments);C.yK.removeCommentInstance(comments.pe);}else if(comments instanceof Array){IPCC.h.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){ajF(el,idx);}if(!ane(el)){ajr(el,idx);}});IPCC.h.forEach(comments,function(el){C.jq.remove(el);C.yK.removeCommentInstance(el.pe);});}else{ajF(comments);}return this;};Conversation.prototype.getComments=function(){return this.jq.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};Conversation.sq=function(gd,oe){if(typeof gd.getComments!=="function"||typeof oe.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.pn(gd,oe);var gV=gd.getComments(),i,length=gV.length;for(i=0;i<length;i++){var aeK=gV[i];var aDI=oe.addComment(aeK.getText());PCCViewer.Data.pn(aeK,aDI);}};module.exports={Conversation:Conversation,Comment:Comment};},{}],134:[function(require,module,exports){var ConversionRequest=function(bK){this.oz="";this.fj="";this.jP=0;this.ew="";this.fR=false;this.sA=false;this.bK=bK;this.yC=null;this.DJ=null;this.eG=undefined;this.ag=PCCViewer.Deferred();this.dR=this.ag.getPromise();this.then=this.dR.then;PCCViewer.EventEmitter.extend(this);};ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};ConversionRequest.prototype.cancel=function(){var C=this;this.sA=true;this.ew="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});C.ag.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};ConversionRequest.prototype.getProgress=function(){return this.jP;};ConversionRequest.prototype.getWorkerID=function(){return this.oz;};ConversionRequest.prototype.getOptions=function(){return this.bK;};ConversionRequest.prototype.getErrorCode=function(){return this.ew;};ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.yC;};ConversionRequest.prototype.getConvertedDocumentDownloadURLs=function(){if(this.DJ){return this.DJ.slice();}return null;};ConversionRequest.prototype.Ql=function(eG){this.eG=eG;};ConversionRequest.prototype.BX=function(){var C=this;C.fR=true;C.ayc().then(function onResolve(sI){C.oz=sI.processId;C.jP=sI.percentComplete;C.fj=sI.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});C.aoX(sI).then(function onResolve(aDZ){C.fR=false;C.DJ=[];if(C.bK.xw>1){for(var J=0;J<C.azc;J++){var yC=C.eG.bK.imageHandlerUrl+'/v2/viewingSessions/'+C.eG.bK.documentID+'/contentConverters/'+C.oz+'/results/'+J+'/file?ContentDispositionFilename='+encodeURIComponent(C.bK.filename);C.DJ.push(yC);}C.ag.resolve(C.DJ);}else{C.yC=C.eG.bK.imageHandlerUrl+'/WorkFile/'+aDZ+"?ContentDispositionFilename="+encodeURIComponent(C.bK.filename);if(sI.affinityToken){C.yC+="&affinityToken="+encodeURIComponent(sI.affinityToken);}C.DJ.push(C.yC);C.ag.resolve(C.yC);}C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){C.fR=false;C.ew=reason.error.code;C.ag.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){C.fR=false;C.ag.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};ConversionRequest.prototype.ayc=function(){var ai,kE=PCCViewer.Deferred();var ZS;if(this.bK.xw>1){ai=this.eG.bK.imageHandlerUrl+'/v2/viewingSessions/'+this.eG.bK.documentID+'/contentConverters/';ZS={url:ai,method:'POST',headers:{"Content-Type":"application/json"}};}else{ai=this.eG.bK.imageHandlerUrl+'/contentConverters/';ZS={url:ai,method:'POST',headers:{"Content-Type":"application/json"},body:JSON.stringify({viewingSessionId:this.eG.bK.documentID})};}PCCViewer.Ajax.fu(ZS).then(function er(bL){var aP=JSON.parse(bL.responseText);kE.resolve(aP);},function eA(aP){kE.reject(aP.error);});return kE.getPromise();};ConversionRequest.prototype.aoX=function(sI){var ai,kE=PCCViewer.Deferred(),C=this,it;if(C.bK.xw>1){ai=this.eG.bK.imageHandlerUrl+'/v2/viewingSessions/'+this.eG.bK.documentID+'/contentConverters/'+sI.processId;}else{ai=this.eG.bK.imageHandlerUrl+'/contentConverters/'+sI.processId;}if(sI.affinityToken){it={"Accusoft-Affinity-Token":sI.affinityToken};}(function poll(){setTimeout(function(){PCCViewer.Ajax.fu({method:'GET',url:ai,headers:it}).then(function er(bL){var aP=JSON.parse(bL.responseText);C.oz=aP.processId;C.jP=aP.percentComplete;C.fj=aP.state;if(C.bK.xw>1&&aP.output){C.azc=aP.output.results.length;}C.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:C.jP});if(aP.percentComplete===100){if(aP.state==="error"){kE.reject({response:bL,error:new PCCViewer.Error("CouldNotConvert","Could not convert document")});}else{kE.resolve(aP.output.results[0].fileId);}}else{poll();}},function eA(aP){kE.reject(aP.error);});},3000);})();return kE.getPromise();};if(Object.defineProperties){Object.defineProperties(ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}},"convertedDocumentDownloadURLs":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURLs();}}});}module.exports=ConversionRequest;},{}],135:[function(require,module,exports){"use strict";var Data=(function(){function getData(key){return this.ds.get_data(key);};function setData(key,value){this.ds.set_data(key,value);return this;};function getDataKeys(){return this.ds.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},pn:function(gd,oe){if(typeof gd.getData!=="function"||typeof gd.setData!=="function"||typeof gd.getDataKeys!=="function"||typeof oe.getData!=="function"||typeof oe.setData!=="function"||typeof oe.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var mC=gd.getDataKeys(),i,length=mC.length;for(i=0;i<length;i++){var be=mC[i];oe.setData(be,gd.getData(be));}}};})();var SessionData=(function(){function getSessionData(key){return this.FE.get_data(key);};function setSessionData(key,value){this.FE.set_data(key,value);return this;};function getSessionDataKeys(){return this.FE.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aIk:function(gd,oe){if(typeof gd.getSessionData!=="function"||typeof gd.setSessionData!=="function"||typeof gd.getSessionDataKeys!=="function"||typeof oe.getSessionData!=="function"||typeof oe.setSessionData!=="function"||typeof oe.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var mC=gd.getSessionDataKeys(),i,length=mC.length;for(i=0;i<length;i++){var be=mC[i];oe.setSessionData(be,gd.getSessionData(be));}}};})();module.exports={SessionData:SessionData,Data:Data};},{}],136:[function(require,module,exports){'use strict';function PromiseDeferred(){this.fj=PromiseDeferred.States.Pending;this.G=null;this.fA=null;this.gi=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var BY=new PromiseDeferred();var Zp,VA;if(onFulfilled&&typeof onFulfilled==='function'){var aoR=function(G){try{var bQ=onFulfilled(G);BY.resolve(bQ);}catch(e){BY.reject(e);}};Zp=aoR;}else{var aoL=function(G){BY.resolve(G);};Zp=aoL;}if(onRejected&&typeof onRejected==='function'){var avK=function(fA){try{var bQ=onRejected(fA);VL(BY,bQ);}catch(e){BY.reject(e);}};VA=avK;}else{var awz=function(fA){BY.reject(fA);};VA=awz;}this.gi.push({ayX:Zp,aFq:VA});if(this.fj===PromiseDeferred.States.Fulfilled){this.ajI();}if(this.fj===PromiseDeferred.States.Rejected){this.ajL();}return BY;};PromiseDeferred.prototype.resolve=function(x){if(!this.ajZ()){return;}VL(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.ajZ()){return;}this.AC(reason);};PromiseDeferred.prototype.Ve=function(ay){this.fj=PromiseDeferred.States.Fulfilled;this.G=ay;this.ajI();};PromiseDeferred.prototype.ajI=function(){var callback;while(this.gi.length>0){callback=this.gi.shift().ayX;(function(kf,G){setTimeout(function(){kf(G);},0);})(callback,this.G);}};PromiseDeferred.prototype.ajL=function(){var callback;while(this.gi.length>0){callback=this.gi.shift().aFq;(function(kf,G){setTimeout(function(){kf(G);},0);})(callback,this.fA);}};function VL(dR,ay){if(dR===ay){dR.AC(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ay&&ay.Vv&&dR.adE&&dR.adE===ay){dR.AC(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ay&&ay.Vv&&ay.Vv==="PCCViewer.Promise"){ay.then(function(anA){dR.Ve(anA);},function(aoT){dR.AC(aoT);});}else if(ay!==null&&(typeof ay==='object'||typeof ay==='function')){var Ur;try{Ur=ay.then;}catch(e){dR.AC(e);return;}if(typeof Ur==='function'){var Kg=true;var aqV=function(ck){if(Kg){VL(dR,ck);Kg=false;}};var aqr=function(bQ){if(Kg){dR.AC(bQ);Kg=false;}};try{Ur.call(ay,aqV,aqr);}catch(e){if(Kg){dR.AC(e);}}}else{dR.Ve(ay);}}else{dR.Ve(ay);}};PromiseDeferred.prototype.AC=function(reason){this.fj=PromiseDeferred.States.Rejected;this.fA=reason;this.ajL();};PromiseDeferred.prototype.ajZ=function(){return this.fj===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};var Deferred=function(){var SK=new PromiseDeferred();function Promise(dR){this.then=function(onFulfilled,onRejected){return new Promise(dR.then(onFulfilled,onRejected));};this.Vv="PCCViewer.Promise";dR.adE=this;};var promise=new Promise(SK);return{getPromise:function(){return promise;},resolve:function(value){SK.resolve(value);},reject:function(reason){SK.reject(reason);}};};var Promise={all:function(promises){var i,ag=new PCCViewer.Deferred(),Zv=ag.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var ag=new PCCViewer.Deferred();ag.resolve(value);return ag.getPromise();};ag.resolve([]);for(i=0;i<promises.length;i++){Zv=Zv.then(createPushFunction(promises[i]));}return Zv;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=Deferred;module.exports.Promise=Promise;}},{}],137:[function(require,module,exports){var DocumentHyperlink=function DocumentHyperlink(parameters){this.Aj=parameters.Aj;this.aq=parameters.aq;};DocumentHyperlink.prototype.getHref=function(){return this.Aj.ajx();};DocumentHyperlink.prototype.getPageNumber=function(){return this.aq;};DocumentHyperlink.prototype.getRectangle=function(){return this.Aj.ff();};if(Object.defineProperties){Object.defineProperties(DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}module.exports=DocumentHyperlink;},{}],138:[function(require,module,exports){var Jl=function(code,message){var afH=Error.call(null,message);this.code=code;function arI(dI,gd){Object.getOwnPropertyNames(gd).forEach(function(propName){Object.defineProperty(dI,propName,Object.getOwnPropertyDescriptor(gd,propName));});return dI;};function auM(dI,gd){for(var i in gd){if(gd.hasOwnProperty(i)){dI[i]=gd[i];}}return dI;};if(typeof Object.create==='function'){arI(this,afH);}else{auM(this,afH);}};var aog=(function(){var fN=function(){};return function(acW){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof acW!=='object'){throw TypeError('Argument must be an object');}fN.prototype=acW;var aP=new fN();fN.prototype=null;return aP;};})();if(typeof Object.create==='function'){Jl.prototype=Object.create(Error.prototype);}else{Jl.prototype=aog(Error.prototype);}Jl.prototype.constructor=Jl;module.exports=Jl;},{}],139:[function(require,module,exports){"use strict";function Event(target,type){this.dI=target;this.bf=type;};Event.prototype.getTarget=function(){return this.dI;};Event.prototype.getType=function(){return this.bf;};if(Object.defineProperties){Object.defineProperties(Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}module.exports=Event;},{}],140:[function(require,module,exports){var EventEmitter=(function(){function on(eventType,handler){if(!this.ik){this.ik={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.ik[lowerCaseEventType];if(!handlers){handlers=this.ik[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.ik){this.ik={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.ik[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.ik){this.ik={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.ik[lowerCaseEventType],i,length=0;if(properties){PCCViewer.qa.sy(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();module.exports=EventEmitter;},{}],141:[function(require,module,exports){"use strict";var tJ=function(eventEmitter){this.aN=eventEmitter;this.Hk=true;this.Xg={};};tJ.prototype.on=function(eventType,handler){this.aN.on(eventType,handler);return this.aN;};tJ.prototype.off=function(eventType,handler){this.aN.off(eventType,handler);return this.aN;};tJ.prototype.trigger=function(eventType,properties){if(this.Hk){var lowerCaseEventType=eventType.toLowerCase();if(this.Xg[lowerCaseEventType]){var event=new PCCViewer.Event(this.aN,lowerCaseEventType);if(properties){PCCViewer.qa.sy(event,properties);}this.Xg[lowerCaseEventType](event);}else{this.aN.trigger(eventType,properties);}}return this.aN;};tJ.prototype.stop=function(){this.Hk=false;};tJ.prototype.resume=function(){this.Hk=true;};tJ.prototype.intercept=function(eventType,handler){var lowerCaseEventType=eventType.toLowerCase();this.Xg[lowerCaseEventType]=handler;};module.exports=tJ;},{}],142:[function(require,module,exports){var aGJ={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",RevisionsRetrievalCompleted:"RevisionsRetrievalCompleted",RevisionsRetrievalFailed:"RevisionsRetrievalFailed",RevisionsAvailable:"RevisionsAvailable",PartialRevisionsAvailable:"PartialRevisionsAvailable",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",MarkMouseEnter:"MarkMouseEnter",MarkMouseOver:"MarkMouseOver",MarkMouseLeave:"MarkMouseLeave",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click",PageOpening:"PageOpening",ViewingSessionChanging:"ViewingSessionChanging",ViewingSessionChanged:"ViewingSessionChanged"};module.exports=aGJ;},{}],143:[function(require,module,exports){var nz={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};module.exports=nz;},{}],144:[function(require,module,exports){var qa={};qa.sy=function(target){var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};module.exports=qa;},{}],145:[function(require,module,exports){var ImageStamps=function(Options){this.bK=PCCViewer.qa.sy({},Options);};ImageStamps.prototype.requestImageStampList=function(){var ag=PCCViewer.Deferred();var dR=ag.getPromise();try{var ai=this.bK.imageHandlerUrl+'/ImageStampList';PCCViewer.Ajax.fu({method:'GET',url:ai}).then(function er(bL){var ug;if(bL.responseText.length>0){ug=JSON.parse(bL.responseText);if(bL.status===200){ag.resolve(ug);}else{ag.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}},function eA(aP){ag.reject(aP.error);});}catch(e){ag.reject(new PCCViewer.Error("Error",e.message));}return dR;};ImageStamps.prototype.requestImageSourceBase64=function(imageStampId){if(!imageStampId){throw new Error("Parameter imageStampId is not valid.");}if(typeof imageStampId!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var ag=PCCViewer.Deferred();var dR=ag.getPromise();try{var ai=this.bK.imageHandlerUrl+'/ImageStamp/'+imageStampId+'/q?format=Base64';PCCViewer.Ajax.fu({method:'GET',url:ai,}).then(function er(bL){var ug;if(bL.responseText.length>0){ug=JSON.parse(bL.responseText);if(bL.status===200){ag.resolve(ug);}else{ag.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}},function eA(aP){ag.reject(aP.error);});}catch(e){ag.reject(new PCCViewer.Error("Error",e.message));}return dR;};ImageStamps.prototype.reqestImageSourceBase64=function(imageStampId){return this.requestImageSourceBase64(imageStampId);};ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bK.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};module.exports=ImageStamps;},{}],146:[function(require,module,exports){var azD={data:{},initializeData:function(aza){PCCViewer.Language.data=IPCC.h.extend({},aza);return PCCViewer.Language;},getData:function(){return PCCViewer.Language.data;},getValue:function(ahJ){if(typeof PCCViewer.Language.data==='undefined'){throw new Error('Language data is not set.');}var mC=ahJ.split('.'),bq=PCCViewer.Language.data,be;while(mC.length){be=mC.shift();bq=bq[be];if(typeof bq==='undefined'){bq=ahJ;break;}}return bq;}};module.exports=azD;},{}],147:[function(require,module,exports){var LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.yc=layerRecordIds;this.dp=viewerControl;this.by=viewerControl.by;this.ew="";this.fR=false;this.sA=false;this.jP=0;this.ag=PCCViewer.Deferred();this.dR=this.ag.getPromise();this.then=this.dR.then;this.ue=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};LoadMarkupLayersRequest.prototype.getProgress=function(){return this.jP;};LoadMarkupLayersRequest.prototype.cancel=function(){var C=this;this.sA=true;this.ew="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});C.ag.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.dp;};LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.ew;};LoadMarkupLayersRequest.prototype.BX=function(){var C=this,Yt=1,SH,VU=[];var ue=this.ue;var aeC=function(){C.fR=false;if(C.dp.oW){C.ag.reject(new PCCViewer.Error('ViewerControlDestroyed','ViewerControl has been destroyed.'));}else{C.ag.reject(new PCCViewer.Error('ViewingSessionChanged','Current Viewing Session has been changed.'));}C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var sC=function(anl){function er(bL){if(C.by.oW){aeC();return;}var sk=JSON.parse(bL.responseText),LU=C.aGu(sk),eO,rV=[],bA,gv=[],anq={},MG=0,OI;for(var mf in LU.gv){if(LU.gv.hasOwnProperty(mf)){gv=gv.concat(LU.gv[mf]);}}eO=new PCCViewer.MarkupLayer(C.dp,gv);eO.aHa={ai:ai};IPCC.h.forEach(LU.rV,function(abe){rV.push(abe);MG++;anq[abe.uid]=true;});if(sk.name){eO.setName(sk.name);}if(sk.originalXmlName){eO.setOriginalXmlName(sk.originalXmlName);}if(MG>0){OI=function(ev){if(anq[ev.mark.getUid()]){MG--;}if(!MG){C.by.aN.off(PCCViewer.EventType.MarkCreated,OI);C.by.ws=true;}};C.by.aN.on(PCCViewer.EventType.MarkCreated,OI);C.by.ws=false;try{bA=C.by.deserializeMarks(rV);}catch(dJ){C.fR=false;C.by.aN.off(PCCViewer.EventType.MarkCreated,OI);C.by.ws=true;C.ag.reject(new PCCViewer.Error('Error',dJ.message));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(ue){IPCC.h.forEach(bA,function(V){V.setVisible(false);});}eO.addMarks(bA);}eO.aae=anl;for(var tC in sk.data){if(sk.data.hasOwnProperty(tC)){eO.setData(tC,sk.data[tC]);}}C.by.getMarkupLayerCollection().addItem(eO);VU.push(eO);Yt--;C.jP=(C.yc.length-Yt)/C.yc.length;C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:C.jP});if(C.jP===1){C.fR=false;C.ag.resolve(VU);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:VU});}};function eA(aP){C.fR=false;C.ag.reject(aP.error);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});};var ai=SH+anl+'?'+new Date().getTime();PCCViewer.Ajax.fu({url:ai,method:'GET'}).then(er,eA);};if(this.by.oW){aeC();return;}if(!(/^[\x00-\x7F]*$/.test(this.by.az.get_documentIdentifier()))){SH=this.by.bK.imageHandlerUrl+'/MarkupLayers/e'+this.by.bK.documentID+'/';}else{SH=this.by.bK.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.by.bK.documentID)+'/';}if(this.sA){return;}if(Object.prototype.toString.call(this.yc)==='[object Array]'&&this.yc.length>0){Yt=this.yc.length;this.fR=true;IPCC.h.forEach(this.yc,sC,this);}else if(typeof this.yc==="string"){this.fR=true;sC(this.yc);}else{this.fR=false;this.ag.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};LoadMarkupLayersRequest.prototype.aGu=function(sk){var Ok={},OB={};IPCC.h.forEach(sk.marks,function(aaa){aaa.conversation.comments=[];Ok[aaa.uid]=aaa;},this);IPCC.h.forEach(sk.comments,function(xd){if(Ok[xd.markUid]){Ok[xd.markUid].conversation.comments.push(xd);}else if(OB[xd.markUid]){OB[xd.markUid].push(xd);}else{OB[xd.markUid]=[xd];}},this);return{rV:Ok,gv:OB};};if(Object.defineProperties){Object.defineProperties(LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}module.exports=LoadMarkupLayersRequest;},{}],148:[function(require,module,exports){var da={setMask:function(V,hW){var HQ={};IPCC.h.forEach(hW.translations,function(bN,be){HQ[be]=new RegExp(bN.replace(/^\/|\/$/g,''));});V.setMask({value:hW.value,translations:HQ});},calculateRectangle:function(bq,bK){if(bq.pageData===undefined||(bq.pageData.width===bK.aW&&bq.pageData.height===bK.bg)){return bq.rectangle;}else{var ma=bK.aW/bq.pageData.width;return{x:bq.rectangle.x*ma,y:bq.rectangle.y*ma,width:bq.rectangle.width*ma,height:bq.rectangle.height*ma};}},setRectangle:function(V,bq,bK){V.setRectangle(da.calculateRectangle(bq,bK));},setLines:function(V,bq,bK){var adx,nB,ci=bq.textLength+bq.startIndex-1,dF=bq.selectedText,cI={startIndex:bq.startIndex,length:bq.textLength};nB=[];var bm,yG;adx=IPCC.h.reduce(bq.lineGroups,function(dU,op){bm=op.pageNumber-1;dU[bm]=IPCC.h.map(op.lines,function(fS){if(op.pageData!==undefined){yG=da.calculateRectangle({rectangle:fS,pageData:op.pageData},bK);return new IPCC.Web.UI.Rectangle(yG.x,yG.y,yG.width,yG.height);}else{return new IPCC.Web.UI.Rectangle(fS.x,fS.y,fS.width,fS.height);}});nB.push({pageIndex:bm,endIndex:op.startIndex+op.textLength-1});return dU;},{});V.JS(nB,ci,dF,cI,adx);},postCreate:function(V,bq){V.L.abo(new Date(IPCC.h.Gv(bq.creationDateTime)));V.L.Zx(new Date(IPCC.h.Gv(bq.modificationDateTime)));return V;},calculatePoint:function(bM,hy,bK){if(hy===undefined||(hy.width===bK.aW&&hy.height===bK.bg)){return bM;}else{return{x:bM.x*bK.aW/hy.width,y:bM.y*bK.bg/hy.height};}},Data:function(bq,ds){IPCC.h.forEach(ds,function(bN,be){bq.setData(be,bN);});},Comment:function(dE,de){var oA=dE.addComment(de.text);oA.setCreationTime(de.creationDateTime);da.Data(oA,de.data);},Conversation:function(V,dE){var ajU=V.getConversation();IPCC.h.forEach(dE.comments?dE.comments:[],function(oA){da.Comment(ajU,oA);});da.Data(ajU,dE.data);},Common:function(bq,bK){if(bq.uid===undefined){bq.uid=IPCC.h.ain();}var V=this.age(bq.pageNumber,bq.type,{uid:bq.uid});if(bq.rectangle&&V.setRectangle){da.setRectangle(V,bq,bK);}if(bq.startPoint&&V.setStartPoint){V.setStartPoint(da.calculatePoint(bq.startPoint,bq.pageData,bK));}if(bq.endPoint&&V.setEndPoint){V.setEndPoint(da.calculatePoint(bq.endPoint,bq.pageData,bK));}if(bq.points&&V.setPoints){V.setPoints(IPCC.h.map(bq.points,function(bM){return da.calculatePoint(bM,bq.pageData,bK);}));}if(bq.lineGroups&&V.JS){V.aY=bq.uid;da.setLines(V,bq,bK);}if(bq.interactionMode){V.setInteractionMode(bq.interactionMode);}V=this.akk(V);da.Data(V,bq.data);da.Conversation(V,bq.conversation);return V;},EllipseAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.borderColor){V.setBorderColor(bq.borderColor);}if(bq.borderThickness){V.setBorderThickness(bq.borderThickness);}if(bq.fillColor){V.setFillColor(bq.fillColor);}if(bq.opacity){V.setOpacity(bq.opacity);}return da.postCreate(V,bq);},FreehandAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.opacity){V.setOpacity(bq.opacity);}if(bq.path){V.setPath(bq.path);}if(bq.thickness){V.setThickness(bq.thickness);}return da.postCreate(V,bq);},FreehandSignature:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.path){V.setPath(bq.path);}if(bq.thickness){V.setThickness(bq.thickness);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}return da.postCreate(V,bq);},HighlightAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.fillColor){V.setFillColor(bq.fillColor);}return da.postCreate(V,bq);},ImageStampAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.imageDataUrl&&bq.imageId){V.setImage({id:bq.imageId,dataUrl:bq.imageDataUrl});}return da.postCreate(V,bq);},ImageStampRedaction:function(bq,bK){return da.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.endHeadType){V.setEndHeadType(bq.endHeadType);}if(bq.opacity){V.setOpacity(bq.opacity);}if(bq.thickness){V.setThickness(bq.thickness);}return da.postCreate(V,bq);},PolylineAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.opacity){V.setOpacity(bq.opacity);}if(bq.thickness){V.setThickness(bq.thickness);}return da.postCreate(V,bq);},RectangleAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.borderColor){V.setBorderColor(bq.borderColor);}if(bq.borderThickness){V.setBorderThickness(bq.borderThickness);}if(bq.fillColor){V.setFillColor(bq.fillColor);}if(bq.opacity){V.setOpacity(bq.opacity);}return da.postCreate(V,bq);},RectangleRedaction:function(bq,bK){var V=da.Common.apply(this,arguments);if(V.pm){var fV=bq.reasons||bq.reason;if(fV&& !Array.isArray(fV)){fV=[fV];}if(fV){V.setReasons(fV);}}else{if(bq.reason){V.setReason(bq.reason);}}if(bq.fillColor){V.setFillColor(bq.fillColor);}if(bq.borderColor){V.setBorderColor(bq.borderColor);}if(bq.borderThickness){V.setBorderThickness(bq.borderThickness);}if(bq.fontColor){V.setFontColor(bq.fontColor);}return da.postCreate(V,bq);},StampAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.label){V.setLabel(bq.label);}if(bq.color){V.setColor(bq.color);}return da.postCreate(V,bq);},StampRedaction:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.label){V.setLabel(bq.label);}return da.postCreate(V,bq);},StrikethroughAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.thickness){V.setThickness(bq.thickness);}return da.postCreate(V,bq);},TextAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.borderColor){V.setBorderColor(bq.borderColor);}if(bq.borderThickness){V.setBorderThickness(bq.borderThickness);}if(bq.fillColor){V.setFillColor(bq.fillColor);}if(bq.fontColor){V.setFontColor(bq.fontColor);}if(bq.fontName){V.setFontName(bq.fontName);}if(bq.fontSize){V.setFontSize(bq.fontSize);}if(bq.fontStyle){V.setFontStyle(bq.fontStyle);}if(bq.maxLength){V.setMaxLength(bq.maxLength);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}if(bq.opacity){V.setOpacity(bq.opacity);}if(bq.text){V.setText(bq.text);}return da.postCreate(V,bq);},TextAreaSignature:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.text){V.setText(bq.text);}if(bq.fontColor){V.setFontColor(bq.fontColor);}if(bq.fontName){V.setFontName(bq.fontName);}if(bq.maxFontSize){V.setMaxFontSize(bq.maxFontSize);}if(bq.fontStyle){V.setFontStyle(bq.fontStyle);}if(bq.maxLength){V.setMaxLength(bq.maxLength);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}return da.postCreate(V,bq);},TextHyperlinkAnnotation:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.fillColor){V.setFillColor(bq.fillColor);}if(bq.href){V.setHref(bq.href);}return da.postCreate(V,bq);},TextInputSignature:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.fontColor){V.setFontColor(bq.fontColor);}if(bq.fontName){V.setFontName(bq.fontName);}if(bq.text){V.setText(bq.text);}if(bq.maxLength){V.setMaxLength(bq.maxLength);}if(bq.mask){da.setMask(V,bq.mask);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}return da.postCreate(V,bq);},TextRedaction:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.fontColor){V.setFontColor(bq.fontColor);}if(bq.fontName){V.setFontName(bq.fontName);}if(bq.fontSize){V.setFontSize(bq.fontSize);}if(bq.maxLength){V.setMaxLength(bq.maxLength);}if(bq.text){V.setText(bq.text);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}return da.postCreate(V,bq);},TextSelectionRedaction:function(bq,bK){var V=da.Common.apply(this,arguments);if(V.pm){var fV=bq.reasons||bq.reason;if(fV&& !Array.isArray(fV)){fV=[fV];}if(fV){V.setReasons(fV);}}else{if(bq.reason){V.setReason(bq.reason);}}return da.postCreate(V,bq);},TextSignature:function(bq,bK){var V=da.Common.apply(this,arguments);if(bq.color){V.setColor(bq.color);}if(bq.fontName){V.setFontName(bq.fontName);}if(bq.text){V.setText(bq.text);}if(bq.horizontalAlignment){V.setHorizontalAlignment(bq.horizontalAlignment);}return da.postCreate(V,bq);},TransparentRectangleRedaction:function(bq,bK){var V=da.Common.apply(this,arguments);return da.postCreate(V,bq);}};module.exports=da;},{}],149:[function(require,module,exports){var Bw={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};module.exports=Bw;},{}],150:[function(require,module,exports){var eZ={serializeMask:function(hW){var aao={value:hW.value,translations:{}};IPCC.h.forEach(hW.translations,function(bN,be){aao.translations[be]=bN.toString();});return aao;},copyRectangle:function(F){return{x:F.x,y:F.y,width:F.width,height:F.height};},Common:function(ac,ar){var bg;var aW;if(ac.page){bg=ac.page.get_pageHeight();aW=ac.page.get_pageWidth();}else{bg=null;aW=null;}var aq=ac.mark.getPageNumber();var bq={uid:ac.mark.getUid(),interactionMode:ac.mark.getInteractionMode(),pageNumber:aq,type:ac.mark.getType(),creationDateTime:IPCC.h.ud(ac.mark.L.ajb()),modificationDateTime:IPCC.h.ud(ac.mark.L.aik()),data:eZ.Data(ac.mark),conversation:eZ.Conversation(ac.mark.getConversation())};function zR(bM){return{x:bM.x,y:bM.y};};function arL(){var Hh=IPCC.h.map([].concat(ac.mark.L,ac.mark.bw),function(L){if(aW!==null){return{pageNumber:L.bm+1,pageData:{width:aW,height:bg},startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.h.map(L.bC,function(bn){if(bn.get_rectangle){return eZ.copyRectangle(bn.get_rectangle());}else{return eZ.copyRectangle(bn);}})};}else{return{pageNumber:L.bm+1,startIndex:L.get_startIndex(),textLength:L.get_textLength(),lines:IPCC.h.map(L.bC,function(bn){if(bn.get_rectangle){return eZ.copyRectangle(bn.get_rectangle());}else{return eZ.copyRectangle(bn);}})};}});bq.lineGroups=Hh;};function akl(){if(ac.mark.getRectangle){bq.rectangle=eZ.copyRectangle(ac.mark.getRectangle());if(aW!==null){bq.pageData={width:aW,height:bg};}}if(ac.mark.getStartPoint){bq.startPoint=zR(ac.mark.getStartPoint());if(aW!==null){bq.pageData=bq.pageData||{width:aW,height:bg};}}if(ac.mark.getEndPoint){bq.endPoint=zR(ac.mark.getEndPoint());if(aW!==null){bq.pageData=bq.pageData||{width:aW,height:bg};}}if(ac.mark.getPoints){var aL=ac.mark.getPoints();bq.points=IPCC.h.map(aL,zR);if(aW!==null){bq.pageData={width:aW,height:bg};}}if(ac.mark.L.bC){arL();}};if(aW!==undefined&&bg!==undefined&&aW!==0&&bg!==0){akl();ar(undefined,bq);}else{ac.vc.requestPageAttributes(aq).then(function aJZ(pF){bg=pF.height;aW=pF.width;akl();ar(undefined,bq);},function aFc(fA){ar(fA);});}},Data:function(bq){return IPCC.h.reduce(bq.getDataKeys(),function(dU,be){dU[be]=bq.getData(be);return dU;},{});},Comment:function(de){return{text:de.getText(),data:eZ.Data(de),creationDateTime:IPCC.h.ud(de.getCreationTime())};},Conversation:function(dE){return{comments:IPCC.h.map(dE.getComments(),function(de){return eZ.Comment(de);}),data:eZ.Data(dE)};},EllipseAnnotation:function(ac,ar){eZ.RectangleAnnotation(ac,ar);},FreehandAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),opacity:ac.mark.getOpacity(),path:ac.mark.getPath(),thickness:ac.mark.getThickness()});ar(undefined,bq);});},FreehandSignature:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),path:ac.mark.getPath(),thickness:ac.mark.getThickness(),horizontalAlignment:ac.mark.getHorizontalAlignment()});ar(undefined,bq);});},HighlightAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}var cI=ac.mark.getPosition();bq=IPCC.h.extend(bq,{fillColor:ac.mark.getFillColor(),textLength:cI.length,startIndex:cI.startIndex,selectedText:ac.mark.getText()});ar(undefined,bq);});},ImageStampAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}var ao=ac.mark.getImage();bq=IPCC.h.extend(bq,{imageDataUrl:ao.dataUrl,imageId:ao.id});ar(undefined,bq);});},ImageStampRedaction:function(ac,ar){eZ.ImageStampAnnotation(ac,ar);},LineAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),endHeadType:ac.mark.getEndHeadType(),opacity:ac.mark.getOpacity(),thickness:ac.mark.getThickness()});ar(undefined,bq);});},PolylineAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),opacity:ac.mark.getOpacity(),thickness:ac.mark.getThickness()});ar(undefined,bq);});},RectangleAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{borderColor:ac.mark.getBorderColor(),borderThickness:ac.mark.getBorderThickness(),fillColor:ac.mark.getFillColor(),opacity:ac.mark.getOpacity()});ar(undefined,bq);});},RectangleRedaction:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{fillColor:ac.mark.getFillColor(),borderColor:ac.mark.getBorderColor(),borderThickness:ac.mark.getBorderThickness(),fontColor:ac.mark.getFontColor()});if(ac.mark.pm){bq.reasons=ac.mark.getReasons();}else{bq.reason=ac.mark.getReason();}ar(undefined,bq);});},StampAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{label:ac.mark.getLabel(),color:ac.mark.getColor()});ar(undefined,bq);});},StampRedaction:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{label:ac.mark.getLabel()});ar(undefined,bq);});},StrikethroughAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}var cI=ac.mark.getPosition();bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),thickness:ac.mark.getThickness(),textLength:cI.length,startIndex:cI.startIndex,selectedText:ac.mark.getText()});ar(undefined,bq);});},TextAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{borderColor:ac.mark.getBorderColor(),borderThickness:ac.mark.getBorderThickness(),fillColor:ac.mark.getFillColor(),fontColor:ac.mark.getFontColor(),fontName:ac.mark.getFontName(),fontSize:ac.mark.getFontSize(),fontStyle:ac.mark.getFontStyle(),maxLength:ac.mark.getMaxLength(),horizontalAlignment:ac.mark.getHorizontalAlignment(),opacity:ac.mark.getOpacity(),text:ac.mark.getText()});ar(undefined,bq);});},TextAreaSignature:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{text:ac.mark.getText(),fontColor:ac.mark.getFontColor(),fontName:ac.mark.getFontName(),fontStyle:ac.mark.getFontStyle(),maxFontSize:ac.mark.getMaxFontSize(),maxLength:ac.mark.getMaxLength(),horizontalAlignment:ac.mark.getHorizontalAlignment(),});ar(undefined,bq);});},TextHyperlinkAnnotation:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}var cI=ac.mark.getPosition();bq=IPCC.h.extend(bq,{href:ac.mark.getHref(),fillColor:ac.mark.getFillColor(),textLength:cI.length,startIndex:cI.startIndex,selectedText:ac.mark.getText()});ar(undefined,bq);});},TextInputSignature:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{fontColor:ac.mark.getFontColor(),fontName:ac.mark.getFontName(),text:ac.mark.getText(),mask:ac.mark.getMask(),maxLength:ac.mark.getMaxLength(),horizontalAlignment:ac.mark.getHorizontalAlignment()});if(ac.mark.getMask()){bq.mask=eZ.serializeMask(ac.mark.getMask());}ar(undefined,bq);});},TextRedaction:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{fontColor:ac.mark.getFontColor(),fontName:ac.mark.getFontName(),fontSize:ac.mark.getFontSize(),text:ac.mark.getText(),maxLength:ac.mark.getMaxLength(),horizontalAlignment:ac.mark.getHorizontalAlignment()});ar(undefined,bq);});},TextSelectionRedaction:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}var cI=ac.mark.getPosition();bq=IPCC.h.extend(bq,{textLength:cI.length,startIndex:cI.startIndex,selectedText:ac.mark.getText()});if(ac.mark.pm){bq.reasons=ac.mark.getReasons();}else{bq.reason=ac.mark.getReason();}ar(undefined,bq);});},TextSignature:function(ac,ar){eZ.Common(ac,function(dJ,bq){if(dJ){ar(dJ);return;}bq=IPCC.h.extend(bq,{color:ac.mark.getColor(),fontName:ac.mark.getFontName(),text:ac.mark.getText(),horizontalAlignment:ac.mark.getHorizontalAlignment()});ar(undefined,bq);});},TransparentRectangleRedaction:function(ac,ar){eZ.Common(ac,ar);}};module.exports=eZ;},{}],151:[function(require,module,exports){'use strict';var IPCC=require('./../IPCC/IPCC');var Data=require('./PCCViewer.Data').Data;var SessionData=require('./PCCViewer.Data').SessionData;function Mark(parameters){this.aq=0;this.cF=undefined;this.xk=false;this.mT=Mark.InteractionMode.Full;this.dj=true;this.pm=parameters.enableMultipleRedactionReasons;if(parameters.uid&&parameters.viewerControl){(function(bA,jT){IPCC.h.forEach(bA,function validateMark(mR){if(mR.getUid()===jT){throw new Error('Uid '+jT+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var jT=parameters.uid||IPCC.h.ain();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.L=parameters.igMark;this.cF=this.L.get_markID().toString();this.ds=this.L.get_data();}else{this.ds=new IPCC.Web.UI.Data();}Data.extend(this);this.FE=new IPCC.Web.UI.Data();SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bH.gH(parameters.pageNumber,'pageNumber');this.aq=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bH.kz(parameters.id,'id');this.cF=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.xk){this.bf=parameters.type;this.xk=true;}else if(parameters.type!==undefined){IPCC.bH.kz(parameters.type,'type');var Fu=QP(parameters.type,Mark.Type);if(Fu===null){throw new RangeError("The value of mark type was invalid.");}this.bf=Fu;}if('cj'in parameters){this.cj=parameters.cj;}if('aS'in parameters){this.aS=parameters.aS;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return jT;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:jT,enumerable:true,writable:false});}};Mark.prototype.getType=function(){return this.bf;};Mark.prototype.getId=function(){return this.cF;};Mark.prototype.getPageNumber=function(){return this.aq;};Mark.prototype.getConversation=function(){if(!this.dE){this.dE=new PCCViewer.Conversation(this);}return this.dE;};Mark.prototype.getBoundingRectangle=function(){if(this.L){var bn=this.L.get_boundingRectangle();if(bn instanceof IPCC.Web.UI.Rectangle){this.mL={width:bn.width,height:bn.height,x:bn.x,y:bn.y};}}return this.mL;};Mark.prototype.getInteractionMode=function(){if(this.L){switch(this.L.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.mT;};Mark.prototype.setInteractionMode=function(interactionMode){var mT=QP(interactionMode,PCCViewer.Mark.InteractionMode),XL;switch(mT){case PCCViewer.Mark.InteractionMode.SelectionDisabled:XL=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:XL=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw new Error("The specified interactionMode is not valid.");}if(this.L){this.L.set_interactionMode(XL);}this.mT=mT;return this;};Mark.prototype.reset=function(){var cR=new Mark({type:this.bf,xk:this.xk});this.ds={};if(this.setBorderColor&&cR.getBorderColor){this.setBorderColor(cR.getBorderColor());}if(this.setBorderThickness&&cR.getBorderThickness){this.setBorderThickness(cR.getBorderThickness());}if(this.setColor&&cR.getColor){this.setColor(cR.getColor());}if(this.setEndHeadType&&cR.getEndHeadType){this.setEndHeadType(cR.getEndHeadType());}if(this.setEndPoint&&cR.getEndPoint){this.setEndPoint(cR.getEndPoint());}if(this.setFillColor&&cR.getFillColor){this.setFillColor(cR.getFillColor());}if(this.setFontColor&&cR.getFontColor){this.setFontColor(cR.getFontColor());}if(this.setFontName&&cR.getFontName){this.setFontName(cR.getFontName());}if(this.setFontSize&&cR.getFontSize){this.setFontSize(cR.getFontSize());}if(this.setFontStyle&&cR.getFontStyle){this.setFontStyle(cR.getFontStyle());}if(this.setHorizontalAlignment&&cR.getHorizontalAlignment){this.setHorizontalAlignment(cR.getHorizontalAlignment());}if(this.setLabel&&cR.getLabel){this.setLabel(cR.getLabel());}if(this.setPosition&&this.L&&cR.getPosition){this.setPosition(cR.getPosition());}if(this.setReason&&cR.getReason&&this.pm!==true){this.setReason(cR.getReason());}if(this.setReasons&&cR.getReasons&&this.pm!==false){this.setReasons(cR.getReasons());}if(this.setOpacity&&cR.getOpacity){this.setOpacity(cR.getOpacity());}if(this.setRectangle&&cR.getRectangle){this.setRectangle(cR.getRectangle());}if(this.setStartPoint&&cR.getStartPoint){this.setStartPoint(cR.getStartPoint());}if(this.setText&&cR.getText){this.setText(cR.getText());}if(this.setThickness&&cR.getThickness){this.setThickness(cR.getThickness());}if(this.setPath&&cR.getPath){this.setPath(cR.getPath());}if(this.setHref&&cR.getHref){this.setHref(cR.getHref());}if(this.setImage&&cR.getImage){this.setImage(cR.getImage());}if(this.setInteractionMode&&cR.getInteractionMode){this.setInteractionMode(cR.getInteractionMode());}if(this.setPoints&&cR.getPoints){this.setPoints(cR.getPoints());}if(this.setMask&&cR.getMask){this.setMask(cR.getMask());}if(this.setMaxLength&&cR.getMaxLength){this.setMaxLength(cR.getMaxLength());}if(this.setMaxFontSize&&cR.getMaxFontSize){this.setMaxFontSize(cR.getMaxFontSize());}};if(Object.defineProperties){Object.defineProperties(Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(value){return this.setInteractionMode(value);}}});}Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function QP(VM,bf){var YZ=VM.toLowerCase();for(var standardType in bf){if(bf.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YZ){return standardType;}}return null;};function addMethodsToMark(V){function aqd(V){V.highlightText=function(highlights){if(!this.L){throw new Error("It is invalid to highlight text on this mark.");}var kd;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){kd=[highlights];}else{kd=highlights;}for(var i=0;i<kd.length;i++){atq(kd[i]);}}else{kd=[];}var bf=V.getType();switch(bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:V.L.selectText(kd);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:var C=this;var PQ=[];var sy=false,Qf=0,Pu,Bb;var aaM=function(FS,asj,gg){var ys;var TM= -1,Po=[];var wi=(FS.bB+FS.dv);if(sy===true&&Pu>=0&&Bb>=0){if(FS.bm-1===Pu){ys=0;if(Qf<=wi){Po.push({startIndex:ys,length:Qf,color:gg[Bb].color,opacity:(gg[Bb].opacity)?gg[Bb].opacity:127});sy=false;Qf=0;Pu= -1;Bb= -1;}}}for(var bE=0;bE<gg.length;bE++){ys=FS.bB+gg[bE].startIndex-asj;if(ys<0){continue;}if(Array.prototype.indexOf){TM=PQ.indexOf(bE);}else{TM=IPCC.Web.kD(PQ,bE);}var co=127;if(TM=== -1){if(ys+gg[bE].length<=wi){if(gg[bE].opacity){co=gg[bE].opacity;}Po.push({startIndex:ys,length:gg[bE].length,color:gg[bE].color,opacity:co});PQ.push(bE);C.CT.push(gg[bE]);}else{var YY=wi-ys;if(YY>0){Qf=gg[bE].length-YY;co=127;if(gg[bE].opacity){co=gg[bE].opacity;}Po.push({startIndex:ys,length:YY,color:gg[bE].color,opacity:co});PQ.push(bE);C.CT.push(gg[bE]);sy=true;Bb=bE;Pu=FS.bm;}}}}return Po;};this.CT=[];var eL=aaM(this.L,0,kd);V.clearHighlights();if(eL.length>0){C.L.selectText(eL);}eL=[];var gq=this.L.dv;if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){eL=[];eL=aaM(this.bw[J],gq,kd);gq+=this.bw[J].dv;if(eL.length>0){this.bw[J].selectText(eL);}}}break;}return this;};function atq(EZ){IPCC.bH.lZ(EZ.startIndex,'highlight.startIndex',0,V.getText().length);IPCC.bH.lZ(EZ.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bH.cB(EZ.color,'highlight.color');if(EZ.opacity){IPCC.bH.lZ(EZ.opacity,"highlight.opacity",0,255);}};V.clearHighlights=function(){if(this.L){if(!this.L){throw new Error("It is invalid to clear highlights on this mark.");}}var bf=V.getType();switch(bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:V.L.selectText();break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:this.L.selectText();if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].selectText();}}break;}return this;};};var bf=V.getType();switch(bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:aqd(V);break;default:break;}};function addPropertiesToMark(V){V.mL={x:0,y:0,width:0,height:0};var bf=V.getType();switch(bf){case Mark.Type.LineAnnotation:V.cB='#18385F';V.hM=IPCC.Web.UI.LineStyle.Solid;V.nN=6;V.co=255;V.Pj={x:0,y:0};V.wi={x:0,y:0};V.mo="None";break;case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:V.fE='#FB0404';V.co=255;V.nZ='#000000';V.mH=4;V.F={x:0,y:0,width:0,height:0};break;case Mark.Type.RectangleRedaction:V.fA="";V.fV=[];V.fE='#000000';V.nZ='#000000';V.mH=1;V.hI='#FFFFFF';V.F={x:0,y:0,width:0,height:0};V.oH=true;if(V.L){V.L.kc(V.oH);}break;case Mark.Type.TransparentRectangleRedaction:V.F={x:0,y:0,width:0,height:0};V.oH=true;if(V.L){V.L.kc(V.oH);V.L.set_fillColor('#FFFF00');V.L.set_opacity(127);V.L.set_lineWidth(1);V.L.set_lineColor('#FFFF00');}break;case Mark.Type.TextAnnotation:V.bv='';V.fE='#FFFFFF';V.co=127;V.nZ='#000000';V.mH=4;V.hI='#000000';V.gb="Arial";V.bZ=12;V.cc=[];V.po="Left";V.gJ=0;V.F={x:0,y:0,width:0,height:0};break;case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:V.uW="Approved";V.F={x:0,y:0,width:0,height:0};if(bf===Mark.Type.StampRedaction){V.oH=true;if(V.L){V.L.kc(V.oH);V.L.set_fillColor('#000000');}}else{V.cB="#000000";}break;case Mark.Type.HighlightAnnotation:V.fE="#FFFF00";V.bv='';V.dF='';if(V.L){if(V.L.dF){V.bv=V.L.dF;}}V.cI={startIndex:0,length:0};V.CT=[];V.bw=[];break;case Mark.Type.TextSelectionRedaction:V.fA="";V.fV=[];V.bv='';V.cI={startIndex:0,length:0};if(V.L){V.L.set_fillColor('#000000');if(V.L.dF){V.bv=V.L.dF;}}V.CT=[];V.bw=[];break;case Mark.Type.TextHyperlinkAnnotation:V.lm='';V.fE="#3B00FF";V.bv='';if(V.L){if(V.L.dF){V.bv=V.L.dF;}}V.cI={startIndex:0,length:0};V.CT=[];V.bw=[];break;case Mark.Type.TextRedaction:V.bv='';V.hI='#000000';V.gb="Arial";V.bZ=12;V.F={x:0,y:0,width:0,height:0};V.oH=true;V.gJ=0;if(V.L){V.L.kc(V.oH);V.L.set_fillColor('#FFFFFF');}V.po="Left";break;case Mark.Type.FreehandAnnotation:V.co=255;V.F={x:0,y:0,width:0,height:0};V.nN=4;V.cB='#000000';V.fQ='M0,0';break;case Mark.Type.FreehandSignature:V.F={x:0,y:0,width:0,height:0};V.nN=4;V.cB='#000000';V.po="Center";V.fQ='M0,0';break;case Mark.Type.TextSignature:V.bv="John Doe";V.F={x:0,y:0,width:0,height:0};V.cB="#000000";if(V.L){V.cB=V.L.fE||'#000000';V.L.kc(V.oH);V.L.set_fillColor(V.cB);}V.po="Center";V.gb="";break;case Mark.Type.TextInputSignature:V.bv="";V.F={x:0,y:0,width:0,height:0};V.hI="#000000";V.gJ=0;if(V.L){V.hI=V.L.get_textColor()||'#000000';V.L.kc(false);}V.po="Left";V.gb="Courier New";V.hW=null;break;case Mark.Type.TextAreaSignature:V.bv="";V.F={x:0,y:0,width:0,height:0};V.hI="#000000";if(V.L){V.hI=V.L.get_textColor()||'#000000';V.L.kc(false);}V.po="Left";V.gb="Courier New";V.cc=[];V.gJ=0;V.jf=0;break;case 'PlaceSignature':V.ln=undefined;V.F={x:0,y:0,width:0,height:0};break;case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:V.ao="";V.pR="";V.F={x:0,y:0,width:0,height:0};if(V.L&&bf===Mark.Type.ImageStampRedaction){V.oH=true;V.L.kc(V.oH);}break;case Mark.Type.PolylineAnnotation:V.cB='#000000';V.hM=IPCC.Web.UI.LineStyle.Solid;V.nN=2;V.co=255;V.aL=[{x:0,y:0},{x:0,y:0}];break;case Mark.Type.StrikethroughAnnotation:V.cB='#000000';V.hM=IPCC.Web.UI.LineStyle.Solid;V.nN=2;V.bv='';V.dF='';if(V.L){if(V.L.dF){V.bv=V.L.dF;}}V.cI={startIndex:0,length:0};V.CT=[];V.bw=[];break;}function getSignature(){return this.ln||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.ln=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.ln=signature;return this;};if(V.ln||V.bf==='PlaceSignature'){V.getSignature=getSignature;V.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(V,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.StrikethroughAnnotation:this.cB=this.L.get_lineColor()||this.cB;break;case Mark.Type.StampAnnotation:case Mark.Type.TextSignature:this.cB=this.L.get_fillColor()||this.cB;break;}}return this.cB;};function setColor(value){IPCC.bH.cB(value,'color');this.cB=value;if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:this.L.set_lineColor(value);break;case Mark.Type.StampAnnotation:this.L.set_fillColor(value);break;case Mark.Type.TextSignature:this.L.set_textColor(value);this.L.set_fillColor(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineColor(value);if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].set_lineColor(value);}}break;}}return this;};if(V.cB!==undefined){V.getColor=getColor;V.setColor=setColor;if(Object.defineProperties){Object.defineProperties(V,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.RectangleRedaction:this.fE=this.L.get_fillColor()||this.fE;break;}}return this.fE;};function setFillColor(value){if(this.bf===PCCViewer.Mark.Type.HighlightAnnotation||this.bf===PCCViewer.Mark.Type.TextHyperlinkAnnotation){IPCC.bH.cB(value,'fillColor');}else{IPCC.bH.VI(value,'fillColor');}this.fE=value;if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_fillColor(value);break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextHyperlinkAnnotation:this.L.set_fillColor(value);if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].set_fillColor(value);}}break;}}return this;};if(V.fE!==undefined){V.getFillColor=getFillColor;V.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(V,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.ao,id:this.pR};return retVal;};function setImage(params){IPCC.bH.kz(params.dataUrl,'string');IPCC.bH.kz(params.id,'string');this.ao=params.dataUrl;this.pR=params.id;if(this.L){switch(this.bf){case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:this.L.set_image(params.dataUrl);this.L.pR=params.id;break;}}return this;};if(V.ao!==undefined){V.getImage=getImage;V.setImage=setImage;if(Object.defineProperties){Object.defineProperties(V,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.nZ=this.L.get_lineColor()||this.nZ;break;}}return this.nZ;};function setBorderColor(value){IPCC.bH.VI(value,'borderColor');this.nZ=value;if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineColor(value);break;}}return this;};if(V.nZ!==undefined){V.getBorderColor=getBorderColor;V.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(V,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.co=this.L.get_opacity()||this.co;break;}}return this.co;};function setOpacity(value){IPCC.bH.lZ(value,'opacity',0,255);this.co=value;if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_opacity(value);break;}}return this;};if(V.co!==undefined&&V.co>=0){V.getOpacity=getOpacity;V.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(V,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:case Mark.Type.StrikethroughAnnotation:this.nN=this.L.get_lineWidth()||this.nN;break;}}return this.nN;};function setThickness(value){IPCC.bH.lx(value,'thickness',1,50);this.nN=value;if(this.L){switch(this.bf){case Mark.Type.LineAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.FreehandAnnotation:case Mark.Type.PolylineAnnotation:this.L.set_lineWidth(value);break;case Mark.Type.StrikethroughAnnotation:this.L.set_lineWidth(value);if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].set_lineWidth(value);}}break;}}return this;};if(V.nN){V.getThickness=getThickness;V.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(V,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.mH=this.L.get_lineWidth()||this.mH;break;}}return this.mH;};function setBorderThickness(value){IPCC.bH.lx(value,'borderThickness',1,50);this.mH=value;if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.RectangleRedaction:this.L.set_lineWidth(value);break;}}return this;};if(V.mH!==undefined){V.getBorderThickness=getBorderThickness;V.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(V,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.L){this.dj=this.L.get_visible();}return this.dj;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.dj=value;if(this.L){this.L.set_visible(value);}var J;switch(this.bf){case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.HighlightAnnotation:case Mark.Type.StrikethroughAnnotation:if(this.bw&&this.bw.length){for(J=0;J<this.bw.length;J++){this.bw[J].set_visible(value);}}if(this.bf===PCCViewer.Mark.Type.TextSelectionRedaction){var fJ=this.L;for(J=0;J<this.L.bC.length;J++){fJ.bC[J].set_visible(value);}if(fJ.aY){IPCC.h.forEach(this.bw,function(L){for(J=0;J<L.bC.length;J++){L.bC[J].set_visible(value);}});}}break;}return this;};if(V.dj!==undefined){V.getVisible=getVisible;V.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(V,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.L&&this.L!==null){var aL=this.L.get_points();if(aL.get_length()>0){switch(this.bf){case Mark.Type.LineAnnotation:var bM=aL.getPoint(0);if(bM){this.Pj={x:bM.x,y:bM.y};}break;}}}return this.Pj;};function setStartPoint(value){IPCC.bH.gH(value.x,'startPoint'+'.x');IPCC.bH.gH(value.y,'startPoint'+'.y');if(this.L&&this.L!==null){var aL=this.L.get_points();switch(this.bf){case Mark.Type.LineAnnotation:aL.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Pj=value;return this;};if(V.Pj){V.getStartPoint=getStartPoint;V.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(V,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.L&&this.L!==null){var aL=this.L.get_points();if(aL.get_length()>0){switch(this.bf){case Mark.Type.LineAnnotation:var bM=aL.getPoint(1);if(bM){this.wi={x:bM.x,y:bM.y};}break;}}}return this.wi;};function setEndPoint(value){IPCC.bH.gH(value.x,'endPoint'+'.x');IPCC.bH.gH(value.y,'endPoint'+'.y');if(this.L&&this.L!==null){var aL=this.L.get_points();switch(this.bf){case Mark.Type.LineAnnotation:aL.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.wi=value;return this;};if(V.wi){V.getEndPoint=getEndPoint;V.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(V,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.L&&this.L!==null){var Bu;switch(this.bf){case Mark.Type.LineAnnotation:Bu=this.L.get_endHeadType();switch(Bu){case IPCC.Web.UI.LineHeadType.None:this.mo=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mo=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mo;};function setEndHeadType(value){var Bu;switch(value){case Mark.LineHeadType.None:Bu=IPCC.Web.UI.LineHeadType.None;break;case Mark.LineHeadType.FilledTriangle:Bu=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.L&&this.L!==null){switch(this.bf){case Mark.Type.LineAnnotation:this.L.set_endHeadType(Bu);break;}}this.mo=value;return this;};if(V.mo){V.getEndHeadType=getEndHeadType;V.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(V,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.L&&this.L!==null){var Fx=this.L.get_points();var cW=Fx.get_length();var alN=[];var ZM=function(aAI,aE){alN.push(aAI.getPoint(aE));};if(cW>1){switch(this.bf){case Mark.Type.PolylineAnnotation:for(var J=0;J<cW;J++){ZM(Fx,J);}this.aL=alN;break;}}}return this.aL.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var bE=0;bE<value.length;bE++){IPCC.bH.bM(value[bE],'PolylinePoint');}if(this.L&&this.L!==null){var Fx=this.L.get_points();var aAY=function(aE){Fx.addPoint(new IPCC.Web.UI.Point(value[aE].x,value[aE].y));};switch(this.bf){case Mark.Type.PolylineAnnotation:Fx.removeAllPoints();for(var J=0;J<value.length;J++){aAY(J);}}}this.aL=value;return this;};if(V.aL){V.getPoints=getPoints;V.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(V,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.L){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bn=this.L.get_rectangle();if(bn instanceof IPCC.Web.UI.Rectangle){this.F={width:bn.width,height:bn.height,x:bn.x,y:bn.y};}break;}}return this.F;};function setRectangle(value){IPCC.bH.gH(value.x,'rectangle'+'.x');IPCC.bH.gH(value.y,'rectangle'+'.y');IPCC.bH.gH(value.width,'rectangle'+'.width');IPCC.bH.gH(value.height,'rectangle'+'.height');if(this.L&&this.L!==null){switch(this.bf){case Mark.Type.RectangleAnnotation:case Mark.Type.RectangleRedaction:case Mark.Type.TransparentRectangleRedaction:case Mark.Type.EllipseAnnotation:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:case Mark.Type.FreehandAnnotation:case Mark.Type.FreehandSignature:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.ImageStampAnnotation:case Mark.Type.ImageStampRedaction:var bn=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.L.set_rectangle(bn);break;}}this.F=value;return this;};if(V.F){V.getRectangle=getRectangle;V.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(V,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dw=0;if(this.L&&this.L.dF){dw=this.L.dF.length;}else if(this.L){dw=IPCC.h.reduce([this.L].concat(this.bw||[]),function(cW,L){return cW+L.get_textLength();},0);}return this.L?{startIndex:this.L.bB,length:dw}:this.cI;};function setPosition(value){IPCC.bH.gH(value.startIndex,'position.startIndex');IPCC.bH.gH(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.L===undefined||this.L===null){throw new Error("The mark must be on a page.");}var ap;var aA;var bm=this.aq-1;var vW= -value.startIndex;var nB=[];var dF="";var ci;while(true){if(bm>=this.cj.get_length()){throw new Error("The specified length is out of range.");}ap=this.cj.getPage(bm);if(ap.dc()&&ap.dc().za()&&ap.dc().nU()===true){var adt=vW;var Wj=ap.dc().CG();vW+=Wj.length;if(vW<0||(vW===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var Sg=0;if(bm===this.aq-1){Sg=value.startIndex;}if(vW>=value.length){ci=value.startIndex+value.length-1;if(adt>=0){ci=value.length-1-adt;}nB.push({pageIndex:bm,endIndex:ci});dF+=Wj.substring(Sg,ci+1);break;}else{ci=ap.dc().CG().length-1;nB.push({pageIndex:bm,endIndex:ci});dF+=Wj.substring(Sg,ci+1);}}else{throw new Error("The text has not been retrieved for this page.");}bm++;}this.aY=IPCC.Di();var J=0;if(this.bw){if(this.L){this.L.aY=this.aY;aA=this.aS.hz(this.cj.getPage(this.L.bm));if(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var WJ=this.L.bC.length-1;WJ>=0;WJ--){aA.removeMark(this.L.bC[WJ]);this.L.bC.pop();}}}for(J=this.bw.length-1;J>=0;J--){var mi=this.bw[J];aA=this.aS.hz(this.cj.getPage(mi.bm));aA.removeMark(mi);this.bw.splice(J,1);}}else{this.bw=[];}JS.call(this,nB,ci,dF,value);this.cI=value;return this;};function JS(nB,ci,dF,value,Yh){var J,bm,ap,aA;Yh=Yh||{};var bC;this.bw=this.bw||[];var adW=(this.L.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?auF:atm;for(J=0;J<nB.length;J++){bm=nB[J].pageIndex;ap=this.cj.getPage(bm);var aoc=ap.dc().hF();aA=this.aS.hz(ap);var fJ;var bB=0;ci=nB[J].endIndex;if(J===0){bB=value.startIndex;}bm=nB[J].pageIndex;bC=Yh[bm]||IPCC.h.Yp(aoc,bB,ci);if(J===0){fJ=adW(this.L,bB,ci-bB+1,dF,bC,bm,this.aY,this.L.get_type(),aA);this.L.lB=true;}else{fJ=adW(null,bB,ci-bB+1,dF,bC,bm,this.aY,this.L.get_type(),aA);this.bw.push(fJ);aA.addMark(fJ);fJ.set_selected(this.L.get_selected());if(this.getFillColor){fJ.set_fillColor(this.L.get_fillColor());}if(this.getColor){fJ.set_lineColor(this.L.get_lineColor());}if(this.getThickness){fJ.set_lineWidth(this.L.get_lineWidth());}if(this.getHref){fJ.set_href(this.L.get_href());}if(this.getReason){fJ.set_text(this.L.get_text());}}if(J===nB.length-1){fJ.lz=true;}}};if(V.cI){V.getPosition=getPosition;V.setPosition=setPosition;V.JS=JS;if(Object.defineProperties){Object.defineProperties(V,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function atm(V,bB,dw,dF,bC,bm,nD,bI,aA){if(!V){V=new IPCC.Web.UI.Mark(bI);}V.bB=bB;V.dv=dw;V.lc='y';V.aY=nD;V.dF=dF;V.bC=bC||[];V.bm=bm;var abc=IPCC.h.reduce(V.bC,function(JD,bn){if(!JD){return bn.clone();}else{return JD.union(bn);}},null);V.set_rectangle(abc);return V;};function auF(V,bB,dw,dF,bC,bm,nD,bI,aA){if(!V){V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}V.bB=bB;V.dv=dw;V.aY=nD;V.dF=dF;V.bm=bm;V.bC=IPCC.h.map(bC,function(bn){var vM=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);vM.set_rectangle(bn);vM.kc(true);vM.set_fillColor('#000000');vM.set_text(V.bv);vM.set_lineWidth(0);vM.aY=nD;aA.addMark(vM);return vM;});var abc=IPCC.h.reduce(bC,function(JD,bn){if(!JD){return bn.clone();}else{return JD.union(bn);}},null);V.set_rectangle(abc);return V;};function getText(){if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.bv=(typeof this.L.get_text()==="string")?this.L.get_text():this.bv;break;case Mark.Type.HighlightAnnotation:case Mark.Type.TextSelectionRedaction:case Mark.Type.TextHyperlinkAnnotation:case Mark.Type.StrikethroughAnnotation:if(V.L.dF){this.bv=V.L.dF;}break;}}return this.bv;};function setText(value){IPCC.bH.kz(value,'text');this.bv=value;if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_text(value);break;}}return this;};if(V.bv!==undefined){V.getText=getText;var bI=V.getType();if(bI!==Mark.Type.HighlightAnnotation&&bI!==Mark.Type.TextSelectionRedaction&&bI!==Mark.Type.TextHyperlinkAnnotation&&bI!==Mark.Type.StrikethroughAnnotation){V.setText=setText;}if(Object.defineProperties){var aha={enumerable:true,get:function(){return this.getText();}};if(V.setText!==undefined){aha.set=function(value){return this.setText(value);};}Object.defineProperties(V,{"text":aha});}}function getFontColor(){if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.RectangleRedaction:case Mark.Type.TextAreaSignature:this.hI=this.L.get_textColor()||this.hI;break;}}return this.hI;};function setFontColor(value){IPCC.bH.cB(value,'fontColor');this.hI=value;if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:case Mark.Type.RectangleRedaction:this.L.set_textColor(value);break;}}return this;};if(V.hI){V.getFontColor=getFontColor;V.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(V,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.gb=this.L.get_fontName()||this.gb;break;}}return this.gb;};function setFontName(value){IPCC.bH.kz(value,'fontName');this.gb=value;if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:case Mark.Type.TextSignature:case Mark.Type.TextInputSignature:case Mark.Type.TextAreaSignature:this.L.set_fontName(value);break;}}return this;};if(V.gb!==undefined){V.getFontName=getFontName;V.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(V,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.bZ=this.L.get_fontSize()||this.bZ;break;}}return this.bZ;};function setFontSize(value){IPCC.bH.lx(value,'fontSize',0.1,288);this.bZ=value;if(this.L){switch(this.bf){case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:this.L.set_fontSize(value);break;}}return this;};if(V.bZ){V.getFontSize=getFontSize;V.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(V,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.L){var AU=this.L.get_textHorizontalAlignment();switch(AU){case IPCC.Web.UI.HorizontalAlignment.Center:this.po="Center";break;case IPCC.Web.UI.HorizontalAlignment.Left:this.po="Left";break;case IPCC.Web.UI.HorizontalAlignment.Right:this.po="Right";break;}}return this.po;};function setHorizontalAlignment(value){IPCC.bH.kz(value,'horizontalAlignment');var qQ=QP(value,PCCViewer.Mark.HorizontalAlignment);var AU;switch(qQ){case 'Center':AU=IPCC.Web.UI.HorizontalAlignment.Center;break;case 'Left':AU=IPCC.Web.UI.HorizontalAlignment.Left;break;case 'Right':AU=IPCC.Web.UI.HorizontalAlignment.Right;break;default:throw "Invalid value found for the Text horizontalAlignment.";}V.po=qQ;if(this.L&&AU!==undefined){this.L.set_textHorizontalAlignment(AU);this.po=qQ;}return this;};if(V.po){V.getHorizontalAlignment=getHorizontalAlignment;V.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(V,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function apr(ZF){var zc=[];for(var J=0;J<ZF.length;J++){switch(ZF[J]){case "Bold":zc.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zc.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zc.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zc.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+ZF[J]);}}if(zc.length===0){zc.push(IPCC.Web.UI.FontStyle.Regular);}return zc;};function getFontStyle(){if(this.L){var pG=[];switch(this.bf){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var tS=this.L.get_fontStyle();if(tS&IPCC.Web.UI.FontStyle.Bold){pG.push("Bold");}if(tS&IPCC.Web.UI.FontStyle.Italic){pG.push("Italic");}if(tS&IPCC.Web.UI.FontStyle.Strikeout){pG.push("Strikeout");}if(tS&IPCC.Web.UI.FontStyle.Underline){pG.push("Underline");}if(pG.length>0){this.cc=pG;}break;}}return this.cc;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var QM,J,aec=[];for(J=0;J<value.length;J++){QM=QP(value[J],PCCViewer.Mark.FontStyles);if(QM===null){throw new RangeError("The value of font styles "+value[J]+" is invalid.");}else{IPCC.bH.kz(QM,'fontStyle');aec.push(QM);}}this.cc=aec;var tS=[];tS=apr(this.cc);var bo=this;function awe(bN){setTimeout(function(){bo.L.set_fontStyle(bN);},2);};if(this.L){switch(this.bf){case Mark.Type.TextAreaSignature:case Mark.Type.TextAnnotation:case Mark.Type.TextRedaction:var agF=tS[0];for(J=1;J<tS.length;J++){agF|=tS[J];}awe(agF);break;}}return this;};if(V.cc){V.getFontStyle=getFontStyle;V.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(V,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.L){switch(this.bf){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.uW=this.L.get_text()||this.uW;break;}}return this.uW;};function setLabel(value){IPCC.bH.kz(value,'label');this.uW=value;if(this.L){switch(this.bf){case Mark.Type.StampAnnotation:case Mark.Type.StampRedaction:this.L.set_text(value);break;}}return this;};if(typeof V.uW!=='undefined'){V.getLabel=getLabel;V.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(V,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.pm===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}if(this.L){switch(this.bf){case Mark.Type.RectangleRedaction:case Mark.Type.TextSelectionRedaction:this.fA=this.L.get_text()||this.fA;break;}}return this.fA;};function setReason(value){if(this.pm===true){throw new Error("This method is not supported when ViewerControlOptions.enableMultipleRedactionReasons is set to false");}IPCC.bH.kz(value,'text');this.fA=value;if(this.L){switch(this.bf){case Mark.Type.RectangleRedaction:this.L.set_text(value);break;case Mark.Type.TextSelectionRedaction:this.L.set_text(value);if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].set_text(value);}}break;}}return this;};if(typeof V.fA!=='undefined'){V.getReason=getReason;V.setReason=setReason;if(Object.defineProperties){Object.defineProperties(V,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getReasons(){if(this.pm===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}return this.fV.slice();};function setReasons(value){if(this.pm===false){throw Error('Using multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false');}IPCC.bH.yp(value);IPCC.h.forEach(value,function(reason){IPCC.bH.kz(reason);});this.fV=value.slice();if(this.L){var TP=this.fV.join("; ");switch(this.bf){case Mark.Type.RectangleRedaction:this.L.set_text(TP);break;case Mark.Type.TextSelectionRedaction:this.L.set_text(TP);if(this.bw&&this.bw.length){for(var J=0;J<this.bw.length;J++){this.bw[J].set_text(TP);}}break;}}return this;};if(typeof V.fV!=='undefined'){V.getReasons=getReasons;V.setReasons=setReasons;if(Object.defineProperties){Object.defineProperties(V,{"reasons":{enumerable:true,get:function(){return this.getReasons();},set:function(value){return this.setReasons(value);}}});}}function getPath(){if(this.L){return this.L.get_pathString();}else{return this.fQ;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var tm=IPCC.h.XC(path);this.fQ=path;if(this.L){this.L.set_pathString(path);this.L.set_pathWidth(tm.width);this.L.set_pathHeight(tm.height);}return this;};if(V.fQ){V.setPath=setPath;V.getPath=getPath;if(Object.defineProperties){Object.defineProperties(V,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.L){return this.L.get_href();}else{return this.lm;}};function setHref(href){if(href!==null){var bf=typeof href;if(bf!=="undefined"&&bf!=="number"&&bf!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.lm=href;if(this.L){this.L.set_href(href);}if(this.bw){IPCC.h.forEach(this.bw,function(L){L.set_href(href);});}return this;};if(typeof V.lm!=='undefined'){V.setHref=setHref;V.getHref=getHref;if(Object.defineProperties){Object.defineProperties(V,{"href":{enumerable:true,get:getHref,set:setHref}});}}function setMaxLength(maxLength){if(typeof maxLength!=='number'||maxLength<0||maxLength>Number.MAX_VALUE||Math.round(maxLength)!==maxLength){throw new Error('`maxLength` can only be set to a value that is a positive integer.');}this.gJ=maxLength;if(this.L){this.L.set_maxLength(this.gJ);}return this;};function getMaxLength(){if(this.L){this.gJ=this.L.get_maxLength();}return this.gJ;};if(typeof V.gJ!=='undefined'){V.getMaxLength=getMaxLength;V.setMaxLength=setMaxLength;if(Object.defineProperties){Object.defineProperties(V,{"maxLength":{enumerable:true,get:getMaxLength,set:setMaxLength}});}}function setMaxFontSize(maxFontSize){if(typeof maxFontSize!=='number'||maxFontSize<0||maxFontSize>Number.MAX_VALUE||Math.round(maxFontSize)!==maxFontSize){throw new Error('`maxFontSize` can only be set to a value that is a positive integer.');}this.jf=maxFontSize;if(this.L){this.L.set_maxFontSize(this.jf);}return this;};function getMaxFontSize(){if(this.L){this.jf=this.L.get_maxFontSize();}return this.jf;};if(typeof V.jf!=='undefined'){V.getMaxFontSize=getMaxFontSize;V.setMaxFontSize=setMaxFontSize;if(Object.defineProperties){Object.defineProperties(V,{"maxFontSize":{enumerable:true,get:getMaxFontSize,set:setMaxFontSize}});}}function getMask(){return this.hW;};function setMask(mask){if(mask===null||typeof mask==='undefined'){this.hW=null;if(this.L){this.L.set_mask(this.hW);}return this;}if(typeof mask!=='object'||Array.isArray(mask)){throw new Error('`mask` can only be set to a value that is an Object, null or undefined.');}if(typeof mask.value!=='string'){throw new Error('`mask.value` can only be set to a value that is a string.');}if(typeof mask.translations!=='object'||mask.translations===null||Array.isArray(mask.translations)){throw new Error('`mask.translations` can only be set to a value that is an Object.');}var afU=false;IPCC.h.forEach(mask.translations,function(val,key){afU=true;if(key.length!==1){throw new Error('`'+key+'` does not have a string length of 1.');}if(!(val instanceof RegExp)|| !(/\/$/).exec(val.toString())){throw new Error('`mask.translations['+key+']` must be a regular expression without flags.');}});if(!afU){throw new Error('`mask.translations` must have at least one translation.');}this.hW=mask;if(this.L){this.L.set_mask(this.hW);}return this;};if(typeof V.hW!=='undefined'){V.getMask=getMask;V.setMask=setMask;if(Object.defineProperties){Object.defineProperties(V,{"mask":{enumerable:true,get:getMask,set:setMask}});}}};module.exports=Mark;},{"./../IPCC/IPCC":29,"./PCCViewer.Data":135}],152:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var hN=function(viewerControl,markReferences){var C=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cF=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.dp=viewerControl;this.bp=undefined;this.aae=undefined;this.anf=undefined;this.bA=[];this.gv={};this.mT=PCCViewer.Mark.InteractionMode.Full;if(viewerControl.by){this.by=viewerControl.by;}else{var RE=function(){viewerControl.off('ViewerReady',RE);viewerControl.off('ViewingSessionChanged',RE);C.by=viewerControl.by;};viewerControl.on('ViewerReady',RE);viewerControl.on('ViewingSessionChanged',RE);}if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.h.forEach(markReferences,function(sL){var KL=sL.markUid;sL.markupLayer=C;if(C.gv[KL]){C.gv[KL]=C.gv[KL].concat(sL);}else{C.gv[KL]=[sL];}});}var qV={};EventEmitter.extend(qV);qV.NN=function(Ds,cD){var C=this;return setTimeout(function(){C.trigger(Ds,cD);},0);};EventEmitter.extend(this);this.ds=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.FE=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){C.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};hN.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};hN.prototype.getViewerControl=function(){return this.dp;};hN.prototype.addMarks=function(marks){var C=this,anN=function(de){de.iB=C;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var J=0;J<marks.length;J++){if(!(marks[J]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[J].getId())){marks.splice(J,1);continue;}IPCC.h.forEach(marks[J].getConversation().getComments(),anN);}if(marks.length){this.bA=this.bA.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};hN.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var J=0;J<this.bA.length;J++){for(var bE=0;bE<marks.length;bE++){if(this.bA[J].getUid()===marks[bE].getUid()){this.bA.splice(J,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[bE]]});break;}}}};hN.prototype.getMarks=function(){var anv=[];IPCC.h.forEach(this.bA,function(V){anv.push(V);});return anv;};hN.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var J=0,afC=false,V;for(J;J<this.bA.length;J++){V=this.bA[J];if(V.getId()===markId){afC=true;break;}}return afC;};hN.prototype.getMarkReferences=function(){var gv=[];for(var mf in this.gv){if(this.gv.hasOwnProperty(mf)){gv=gv.concat(this.gv[mf]);}}return gv;};hN.prototype.hide=function(){var dp=this.by;dp.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};hN.prototype.show=function(){var dp=this.by;dp.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};hN.prototype.copyLayers=function(markupLayers){var dp=this.by,C=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var bA=[];IPCC.h.forEach(markupLayers,function(iB){dp.getMarkupLayerCollection().getItem(iB.getId());bA=bA.concat(iB.getMarks());});var copiedMarks=dp.copyMarks(bA);this.addMarks(copiedMarks);IPCC.h.forEach(this.bA,function(V){IPCC.h.forEach(V.getConversation().getComments(),function(de){de.iB=C;});});return this;};hN.prototype.getId=function(){return this.cF;};hN.prototype.getName=function(){return this.bp;};hN.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.bp=name;return this;};hN.prototype.getRecordId=function(){return this.aae;};hN.prototype.destroy=function(){this.by.getMarkupLayerCollection().removeItem(this.cF);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};hN.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.mT=interactionMode;IPCC.h.forEach(this.bA,function(V){V.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};hN.prototype.getOriginalXmlName=function(){return this.anf;};hN.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.anf=name;return this;};if(Object.defineProperties){Object.defineProperties(hN.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}module.exports=hN;},{"./PCCViewer.EventEmitter":140}],153:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.dp=viewerControl;this.rz={};this.bA={};this.jw={};this.tj=0;EventEmitter.extend(this);};MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};MarkupLayerCollection.prototype.getViewerControl=function(){return this.dp;};MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.h.forEach(this.rz,iterator,thisArg);return this;};MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.rz[layerId];};MarkupLayerCollection.prototype.getCount=function(){return this.tj;};MarkupLayerCollection.prototype.getAll=function(){var amS=[],ZJ;for(ZJ in this.rz){if(this.rz.hasOwnProperty(ZJ)){amS.push(this.rz[ZJ]);}}return amS;};MarkupLayerCollection.prototype.addItem=function(layer){var C=this,gv,ZN=layer.gv,Km=function(V,sL){var de=V.getConversation().addComment(sL.text);de.creationTime=new Date(sL.creationDateTime);de.iB=sL.markupLayer;for(var tC in sL.data){if(sL.data.hasOwnProperty(tC)){de.setData(tC,sL.data[tC]);}}},aGq=function(azQ){Km(C.bA[xH],azQ);},ajX=function(V){var mf=V.getUid();C.bA[V.getUid()]=V;if(C.jw[mf]){IPCC.h.forEach(C.jw[mf],function(pB){Km(V,pB);});delete C.jw[mf];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.rz[layer.getId()]=layer;for(var xH in ZN){if(ZN.hasOwnProperty(xH)){gv=ZN[xH];if(C.bA[xH]){IPCC.h.forEach(gv,aGq);}else if(C.jw[xH]){C.jw[xH]=C.jw[xH].concat(gv);}else{C.jw[xH]=gv;}}}IPCC.h.forEach(layer.getMarks(),function(V){ajX(V);});this.tj++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.h.forEach(ev.marks,function(V){ajX(V);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var axG=ev.dI;IPCC.h.forEach(ev.marks,function(V){var mf=V.getUid();IPCC.h.forEach(C.bA[mf].getConversation().getComments(),function(GT){if(axG.id!==GT.iB.id){var pB={creationDateTime:IPCC.h.ud(GT.creationTime),data:GT.ds.wC(),markUid:V.getUid(),markupLayer:GT.iB,text:GT.text};if(C.jw[mf]){C.jw[mf]=C.jw[mf].concat([pB]);}else{C.jw[mf]=[pB];}}});C.uS(V);});});return this;};MarkupLayerCollection.prototype.uS=function(V){var MU;IPCC.h.forEach(this.rz,function(eO){var anm=eO.hasMark(V.getId());MU=(typeof MU!=='undefined')? +anm^MU: +anm;});if(MU===0){delete this.bA[V.getUid()];}};MarkupLayerCollection.prototype.removeItem=function(layerId){var eO=this.rz[layerId],C=this,azS=function(pB,aE){if(pB.markupLayer.getId()===layerId){C.jw[cF].splice(aE);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.h.forEach(this.bA,function(V){var gV=V.getConversation().getComments();var Rv=eO.hasMark(V.getId());IPCC.h.forEach(gV,function(de){if(Rv&&de.iB.getId()!==layerId){var adO={"markUid":V.getUid(),"markupLayer":de.iB,"text":de.getText(),"data":de.ds.ds,"creationDateTime":IPCC.h.ud(de.getCreationTime())};if(C.jw[V.getUid()]){C.jw[V.getUid()].push(adO);}else{C.jw[V.getUid()]=[adO];}V.getConversation().deleteComments(de);}else if(Rv&&de.iB.getId()===layerId){V.getConversation().deleteComments(de);}else if(!Rv&&de.iB.getId()===layerId){V.getConversation().deleteComments(de);}});if(Rv&&C.bA[V.getUid()]){C.uS(V);}});for(var cF in this.jw){if(this.jw.hasOwnProperty(cF)){IPCC.h.forEach(this.jw[cF],azS);}}delete this.rz[layerId];this.tj--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};MarkupLayerCollection.prototype.removeAll=function(){this.rz={};this.tj=0;return this;};if(Object.defineProperties){Object.defineProperties(MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}module.exports=MarkupLayerCollection;},{"./PCCViewer.EventEmitter":140}],154:[function(require,module,exports){'use strict';var Mark=require('./PCCViewer.Marks');function MouseTool(name,type){this.bp=name;var Fu=avh(type);if(Fu===null){throw new RangeError("The value of type was invalid.");}this.bf=Fu;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.bp;};MouseTool.prototype.getType=function(){return this.bf;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function avh(VM){var YZ=VM.toLowerCase();for(var standardType in MouseTool.Type){if(MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===YZ){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var bf=mouseTool.getType();switch(bf){case MouseTool.Type.Magnifier:break;case MouseTool.Type.SelectToZoom:break;case MouseTool.Type.Pan:mouseTool.AK=false;break;case MouseTool.Type.PanAndEdit:mouseTool.AK=true;break;case MouseTool.Type.SelectText:break;case MouseTool.Type.EditMarks:break;case MouseTool.Type.LineAnnotation:mouseTool.aK=new Mark({type:Mark.Type.LineAnnotation});break;case MouseTool.Type.RectangleAnnotation:mouseTool.aK=new Mark({type:Mark.Type.RectangleAnnotation});break;case MouseTool.Type.EllipseAnnotation:mouseTool.aK=new Mark({type:Mark.Type.EllipseAnnotation});break;case MouseTool.Type.TextAnnotation:mouseTool.aK=new Mark({type:Mark.Type.TextAnnotation});break;case MouseTool.Type.StampAnnotation:mouseTool.aK=new Mark({type:Mark.Type.StampAnnotation});break;case MouseTool.Type.HighlightAnnotation:mouseTool.aK=new Mark({type:Mark.Type.HighlightAnnotation});break;case MouseTool.Type.TextHyperlinkAnnotation:mouseTool.aK=new Mark({type:Mark.Type.TextHyperlinkAnnotation});break;case MouseTool.Type.FreehandAnnotation:mouseTool.aK=new Mark({type:Mark.Type.FreehandAnnotation});break;case MouseTool.Type.RectangleRedaction:mouseTool.aK=new Mark({type:Mark.Type.RectangleRedaction});break;case MouseTool.Type.TransparentRectangleRedaction:mouseTool.aK=new Mark({type:Mark.Type.TransparentRectangleRedaction});break;case MouseTool.Type.TextRedaction:mouseTool.aK=new Mark({type:Mark.Type.TextRedaction});break;case MouseTool.Type.TextInputSignature:mouseTool.aK=new Mark({type:Mark.Type.TextInputSignature});break;case MouseTool.Type.TextAreaSignature:mouseTool.aK=new Mark({type:Mark.Type.TextAreaSignature});break;case MouseTool.Type.StampRedaction:mouseTool.aK=new Mark({type:Mark.Type.StampRedaction});break;case MouseTool.Type.PlaceSignature:mouseTool.aK=new Mark({type:'PlaceSignature',xk:true});break;case MouseTool.Type.TextSelectionRedaction:mouseTool.aK=new Mark({type:Mark.Type.TextSelectionRedaction});break;case MouseTool.Type.ImageStampAnnotation:mouseTool.aK=new Mark({type:Mark.Type.ImageStampAnnotation});break;case MouseTool.Type.ImageStampRedaction:mouseTool.aK=new Mark({type:Mark.Type.ImageStampRedaction});break;case MouseTool.Type.PolylineAnnotation:mouseTool.aK=new Mark({type:Mark.Type.PolylineAnnotation});break;case MouseTool.Type.StrikethroughAnnotation:mouseTool.aK=new Mark({type:Mark.Type.StrikethroughAnnotation});break;}if(mouseTool.aK){mouseTool.getTemplateMark=function(){return this.aK;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.aK){this.aK.reset();}};var MouseTools={rK:{},createMouseTool:function(name,type){if(!this.rK){this.rK={};createDefaultMouseTools();}var An=name.toLowerCase();var existingTool=this.rK[An];if(existingTool){if(existingTool.getType().toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.rK[An]=new MouseTool(name,type);}return this.rK[An];},getMouseTool:function(name){if(name&&name.toLowerCase){if(!this.rK){this.rK={};createDefaultMouseTools();}var An=name.toLowerCase();return this.rK[An];}return undefined;}};MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",TextAreaSignature:"TextAreaSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation",StrikethroughAnnotation:"StrikethroughAnnotation"};function createDefaultMouseTools(){MouseTools.createMouseTool("AccusoftMagnifier",MouseTool.Type.Magnifier);MouseTools.createMouseTool("AccusoftSelectToZoom",MouseTool.Type.SelectToZoom);MouseTools.createMouseTool("AccusoftPan",MouseTool.Type.Pan);MouseTools.createMouseTool("AccusoftPanAndEdit",MouseTool.Type.PanAndEdit);MouseTools.createMouseTool("AccusoftSelectText",MouseTool.Type.SelectText);MouseTools.createMouseTool("AccusoftEditMarks",MouseTool.Type.EditMarks);MouseTools.createMouseTool("AccusoftLineAnnotation",MouseTool.Type.LineAnnotation);MouseTools.createMouseTool("AccusoftArrowAnnotation",MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");MouseTools.createMouseTool("AccusoftRectangleAnnotation",MouseTool.Type.RectangleAnnotation);MouseTools.createMouseTool("AccusoftEllipseAnnotation",MouseTool.Type.EllipseAnnotation);MouseTools.createMouseTool("AccusoftTextAnnotation",MouseTool.Type.TextAnnotation);MouseTools.createMouseTool("AccusoftStampAnnotation",MouseTool.Type.StampAnnotation);MouseTools.createMouseTool("AccusoftHighlightAnnotation",MouseTool.Type.HighlightAnnotation);MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",MouseTool.Type.TextHyperlinkAnnotation);MouseTools.createMouseTool("AccusoftFreehandAnnotation",MouseTool.Type.FreehandAnnotation);MouseTools.createMouseTool("AccusoftPlaceSignature",MouseTool.Type.PlaceSignature);MouseTools.createMouseTool("AccusoftTextSelectionRedaction",MouseTool.Type.TextSelectionRedaction);MouseTools.createMouseTool("AccusoftRectangleRedaction",MouseTool.Type.RectangleRedaction);MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",MouseTool.Type.TransparentRectangleRedaction);MouseTools.createMouseTool("AccusoftTextRedaction",MouseTool.Type.TextRedaction);MouseTools.createMouseTool("AccusoftTextInputSignature",MouseTool.Type.TextInputSignature);MouseTools.createMouseTool("AccusoftTextAreaSignature",MouseTool.Type.TextAreaSignature);MouseTools.createMouseTool("AccusoftStampRedaction",MouseTool.Type.StampRedaction);MouseTools.createMouseTool("AccusoftImageStampAnnotation",MouseTool.Type.ImageStampAnnotation);MouseTools.createMouseTool("AccusoftImageStampRedaction",MouseTool.Type.ImageStampRedaction);MouseTools.createMouseTool("AccusoftPolylineAnnotation",MouseTool.Type.PolylineAnnotation);MouseTools.createMouseTool("AccusoftStrikethroughAnnotation",MouseTool.Type.StrikethroughAnnotation);return MouseTools.rK;};createDefaultMouseTools();module.exports={MouseTool:MouseTool,MouseTools:MouseTools};},{"./PCCViewer.Marks":151}],155:[function(require,module,exports){var EventEmitter=require('./PCCViewer.EventEmitter');var ObservableCollection=function(){var zC=[];var qV={};EventEmitter.extend(qV);qV.NN=function(Ds,cD){var C=this;return setTimeout(function(){C.trigger(Ds,cD);},0);};this.add=function(item){zC.push(item);qV.NN(this.EventType.ItemAdded,{item:item,count:zC.length});return this;};this.remove=function(item){var C=this;this.forEach(function(e,idx){if(e===item){zC.splice(idx,1);qV.NN(C.EventType.ItemRemoved,{item:item,count:zC.length});}});return this;};this.removeAll=function(){zC=[];qV.NN(this.EventType.ItemRemoved,{count:zC.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.h.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(zC);};this.on=function(eventType,handler){qV.on.apply(qV,arguments);return this;};this.off=function(eventType,handler){qV.off.apply(qV,arguments);return this;};};ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};module.exports=ObservableCollection;},{"./PCCViewer.EventEmitter":140}],156:[function(require,module,exports){var Co={Horizontal:"Horizontal",Vertical:"Vertical"};module.exports=Co;},{}],157:[function(require,module,exports){var PasswordProtectedDocumentLoader=function PasswordProtectedDocumentLoader(Wc){this.Wc=Wc;};PasswordProtectedDocumentLoader.prototype.load=function(password){return this.Wc(password);};module.exports=PasswordProtectedDocumentLoader;},{}],158:[function(require,module,exports){var printAlgorithm={standard:1,contentWindowContents:2};var SP=function SP(bq,dr,H){if(bq.addEventListener){bq.addEventListener(dr,H,false);}else if(bq.attachEvent){bq.attachEvent('on'+dr,H);}};var VH=function VH(bq,dr,H){if(bq.removeEventListener){bq.removeEventListener(dr,H,false);}else if(bq.detachEvent){bq.detachEvent('on'+dr,H);}};function auZ(fN){var afx={};fN=fN.split('&');for(var i=fN.length;i--;){var q=fN[i].split('=');afx[q.shift()]=q.join('=');}return afx;};function avH(){var Av=document.getElementById('pccPrintFrame');if(Av){if(Av.contentWindow&&Av.contentWindow.destroy){Av.contentWindow.destroy();}if(Av.parentElement){Av.parentElement.removeChild(Av);}}};function atx(bK){bK.alX();avH();bK.amO();if(!bK.algorithm){bK.algorithm=printAlgorithm.standard;}var gF;var hH=document.createElement('iframe');hH.id='pccPrintFrame';hH.className='pccPrintFrame';hH.style.position='absolute';hH.style.bottom=hH.style.right='0px';hH.style.width=hH.style.height='1px';hH.style.zIndex='0';hH.style.border='none';if(bK.algorithm!==printAlgorithm.contentWindowContents){hH.style.visibility='0';}function Qd(){VH(window,'message',alC);};function akI(){VH(hH,'load',akI);if(hH.contentDocument){gF=hH.contentDocument;}else if(hH.contentWindow){gF=hH.contentWindow.document;}else{gF=hH.document;}if(bK.algorithm===printAlgorithm.contentWindowContents){hH.contentWindow.contents=bK.template;hH.src='javascript:window["contents"]';}else{gF.open();gF.write(bK.template);gF.close();}};var alC=function(message){message.source.PCCViewer.Ajax.setHeaders(PCCViewer.Ajax.getHeaders()).setOverrideMethod(PCCViewer.Ajax.getOverrideMethod());if(message.data.match(/loadArt/)){var anp=JSON.parse(message.data);var aA=bK.akm(anp.pageIndex);bK.alX();hH.contentWindow[anp.callbackName](aA);bK.amO();}else if(message.data==='extra'){var HV=bK.akD(bK);hH.contentWindow['extra'](bK.encryption,HV);}else if(message.data==='done'){if(bK.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){hH.contentWindow.focus();hH.contentWindow.document.execCommand('print',false,null);window.focus();Qd();bK.vg.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}else{setTimeout(function(){hH.contentWindow.focus();hH.contentWindow.print();window.focus();Qd();bK.vg.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},2000);}}else if(message.data==='fail'){Qd();bK.vg.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var sZ=auZ(message.data);sZ.index= +sZ.index;sZ.pageNumber= +sZ.pageNumber;sZ.totalPages= +sZ.totalPages;bK.vg.acG= +sZ.index+1;bK.vg.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,sZ);}};SP(window,'message',alC);SP(hH,'load',akI);document.body.appendChild(hH);return Qd;};function aus(dp){return function akm(bm){return dp.aS.hz(dp.cj.getPage(bm));};};function atX(dp){return function akD(options){var bA,V,ut=[],zX=[],Bv={},JN={},wB={},fA={},Cs='',agh,dE,aE,JU,bn,JM,aq,app={},AW={},J=0,dz=0,bE=0,aDS=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){bA=dp.getAllMarks();for(J=0;J<options.pages.length;J++){app[options.pages[J]]=true;}for(dz=0;dz<bA.length;dz++){V=bA[dz];aq=V.aq;if(options.includeReasons!=='none'&&(V.getReason||V.getReasons)){Cs=V.L.get_text();if(Cs){if(!wB[aq]){fA[Cs]=1;wB[aq]=fA;fA={};}else{if(wB[aq][Cs]){wB[aq][Cs]+=1;}else{wB[aq][Cs]=1;}}}}if(V.oH||V.bf.search("Redaction")!== -1){if(AW[aq]){AW[aq]+=1;}else{AW[aq]=1;}}if(options.range.length&&app[aq]!==true|| !options.includeRedactions&&V.oH|| !options.includeAnnotations&& !V.oH){continue;}dE=V.getConversation();if(dE&&dE.getComments().length){if(!JU){JU=aq;}else if(aq!==JU){ut.sort(aDS);for(bE=0;bE<ut.length;bE++){zX=zX.concat(Bv[ut[bE]]);}JN[JU]=zX;JU=aq;ut=[];Bv={};zX=[];}aE=dp.getCharacterIndex(V);agh=aq;bn=V.L.get_boundingRectangle();JM=(aE>0)?aE*10000+bn.y:bn.y;ut.push(JM);if(!Bv[JM]){Bv[JM]=[dE];}else{Bv[JM].push(dE);}}}if(ut.length){ut.sort(function(a,b){return a-b;});for(J=0;J<ut.length;J++){zX=zX.concat(Bv[ut[J]]);}JN[agh]=zX;}}return{JN:JN,wB:wB,AW:AW};};};function avs(dp){return function(){if(dp&&dp.aS){dp.aS.remove_markChanged(dp.ot);}};};function SJ(dp){return function(){if(dp&&dp.aS){dp.aS.add_markChanged(dp.ot);}};};function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var dP=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var oI=this.bK.imageHandlerUrl;var auz=this.bK.documentID;var aso=this.aBS;options.vsID=auz;options.handler=oI;options.pages=dP;var isOldIE= ! !navigator.appName.match('Microsoft');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aso.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode).replace(/{{viewerAssetsPath}}/g,this.bK.viewerAssetsPath);options.encryption= ! !this.bK.encryption;if(isOldIE){options.algorithm=printAlgorithm.contentWindowContents;}var Vd;function bk(){if(! !Vd){Vd();}};var vg=new PCCViewer.PrintRequest(options,dP.length,bk,this);this.aN.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vg});options.vg=vg;options.akm=aus(this);options.akD=atX(this);options.alX=avs(this);options.amO=SJ(this);Vd=atx(options);return vg;};function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};function canPrintMarks(){return(document.documentMode!==8);};var PrintRequest=function(options,totalPages,cancelFunc,that){this.bK=options;this.bk=cancelFunc;this.acG=0;PCCViewer.EventEmitter.extend(this);};PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PrintRequest.prototype.cancel=function(){this.bk();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PrintRequest.prototype.getOptions=function(){return{range:this.bK.pages.toString(),orientation:this.bK.orientation,paperSize:this.bK.paperSize,margins:this.bK.margins,includeMarks:this.bK.includeMarks,includeAnnotations:this.bK.includeAnnotations,includeRedactions:this.bK.includeRedactions,includeComments:this.bK.includeComments,includeReasons:this.bK.includeReasons,redactionViewMode:this.bK.redactionViewMode};};PrintRequest.prototype.getPageCount=function(){return this.bK.pages.length;};PrintRequest.prototype.getPreparedCount=function(){return this.acG;};if(Object.defineProperties){Object.defineProperties(PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}var PrintControl=function(domElement,options){var adv=[];IPCC.h.YJ=true;options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function xu(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function avq(aq,Kp){var ko=[];ko.push("pageNumber="+(1+aq));ko.push("index="+Kp);ko.push("totalPages="+options.pages.length);return ko.join('&');};function iZ(aq,Kp,next){var ac={documentIdentifier:options.vsID,pageNumber:aq,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var ii=document.createElement('div');ii.className=options.paperSize+" ";ii.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';ii.id='printpage'+aq;if(options.margins==='none'){ii.className+=' nomargins';}domElement.appendChild(ii);var pv=IPCC.initializePageViewPlugin(ii,ac);pv.set_debug(false);pv.set_requireRequestsOptimize(true);adv.push(pv);var yb=false;function FM(){xu(avq(aq,Kp));next();};pv.add_pageOpened(function(){var aW=pv.ke(),bg=pv.ir();var vx=(options.orientation==='portrait'&&aW>bg)||(options.orientation==='landscape'&&bg>aW);if(vx){pv.vx(90);}});pv.add_pageDisplayed(function(){if(!yb){FM();}});pv.add_textPageReady(function(){if(yb){pv.cv();FM();}});pv.add_pageOpenFailed(function(){xu('fail');});pv.add_textExtractionFailed(function(){if(yb){xu('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.qF(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.qF(false);}}if(canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var aki='loadArt'+aq;var sZ={pageIndex:aq,callbackName:aki};window[aki]=function(aA){var mw,Mq,J,dE={},Pk={},zw='',lC,fV,fA,Cf='';var MA=[];aA.Bp(function(V){if(V.get_type()===IPCC.Web.UI.MarkType.HighlightText){yb=true;}if(options.includeRedactions&&V.ju()){MA.push(V);}if(options.includeAnnotations&& !V.ju()){MA.push(V);}});var acd=new IPCC.Web.UI.ArtPage();IPCC.h.forEach(MA,function(V){V.lH(undefined);acd.addMark(V);});ac.artPage=acd;Pk=options.pagedConversations[aq+1];if(options.pagedConversations&&Pk&&options.includeComments==='followingPage'){mw=document.createElement('div');mw.className+='commentPage';mw.id='printcommentpage'+aq;if(options.margins==='none'){mw.className+=' nomargins';}Mq='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(J=0;J<Pk.length;J++){dE=Pk[J];zw+=akw(dE,aq+1);}mw.innerHTML=Mq.replace('{{pageNumber}}',aq+1).replace('{{conversationList}}',zw);domElement.appendChild(mw);}fV=options.pagedReasons[aq+1];if(options.pagedReasons&&fV&&options.includeReasons==='followingPage'){lC=document.createElement('div');lC.className+='reasonPage';lC.id='printreasonpage'+aq;if(options.margins==='none'){lC.className+=' nomargins';}Mq='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(fA in fV){if(fV.hasOwnProperty(fA)){Cf+=akj(fA,fV[fA]);}}lC.innerHTML=Mq.replace('{{pageNumber}}',aq+1).replace('{{reasonList}}',Cf).replace('{{date}}',akg()).replace('{{count}}',options.pagedRedactionCount[aq+1]);domElement.appendChild(lC);}pv.openPage(ac);IPCC.h.forEach(MA,function(V){V.lH(aA);});};xu(JSON.stringify(sZ));}else{pv.openPage(ac);}};function akw(dE,aq){var akY='',js='',V=dE.getMark(),gV,de,J;switch(V.L.jm()){case IPCC.Web.UI.MarkType.Rectangle:js=(V.L.ju())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:js='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:js='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:js=(V.mo==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:js='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:js='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:js='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:js='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:js='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:js='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:js='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:js='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:js='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:js='Text Input Signature';break;case IPCC.Web.UI.MarkType.TextAreaSignature:js='Text Area Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:js='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:js='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:js='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:js='Image Stamp Redaction';break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:js='Text Hyperlink Annotation';break;case IPCC.Web.UI.MarkType.Strikethrough:js='Strikethrough Annotation';break;default:break;}gV=dE.getComments();for(J=0;J<gV.length;J++){de=gV[J];akY+='<li>'+asz({text:de.getText(),createDate:de.pe.Zj,pageNumber:aq+1})+'</li>';}return '<h3>'+js+'</h3><ul>'+akY+'</ul>';};function asz(de){var iO=new Date(de.createDate),Wt='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',iO.getMonth()+1).replace('{{day}}',iO.getDate()).replace('{{year}}',iO.getFullYear()).replace('{{hour}}',(iO.getHours()<10?'0':'')+iO.getHours()).replace('{{minutes}}',(iO.getMinutes()<10?'0':'')+iO.getMinutes()).replace('{{period}}',iO.getHours()<12?'am':'pm');var bv=de.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',bv).replace('{{date}}',Wt);};function akg(){var iO=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',iO.getMonth()+1).replace('{{day}}',iO.getDate()).replace('{{year}}',iO.getFullYear());};function akj(fA,tj){fA=fA.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var avF=(tj>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',fA).replace('{{count}}',tj).replace('{{times}}',avF);};function awW(){window.onerror=function(ev){xu('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function auk(aq,Kp){return function(next){iZ(aq,Kp,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var ap= +options.pages[i]-1;funcs.push(auk(ap,i));}sync(funcs,function(){var mw,NQ='',ap,Cu='',zw='',dE,V,ajV='<h1>Comments</h1><hr>{{pageSections}}',lC,Cf='',aFX='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(ap in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(ap)){if(!mw){mw=document.createElement('div');mw.className+=' commentPage';mw.id='printpage_comments';if(options.margins==='none'){mw.className+=' nomargins';}}NQ='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';zw='';for(var J=0;J<options.pagedConversations[ap].length;J++){dE=options.pagedConversations[ap][J];V=dE.getMark();zw+=akw(dE,V.pageNumber);}Cu+=NQ.replace('{{pageNumber}}',V.pageNumber).replace('{{conversationList}}',zw);if(zw.length){mw.innerHTML=ajV.replace('{{pageSections}}',Cu);domElement.appendChild(mw);}}}}if(options.includeReasons==='documentEnd'){Cu='';ajV='';NQ='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(ap in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(ap)){if(!lC){lC=document.createElement('div');lC.className+='reasonPage';lC.id='printpage_reason';if(options.margins==='none'){lC.className+=' nomargins';}}Cf='';for(var fA in options.pagedReasons[ap]){if(options.pagedReasons[ap].hasOwnProperty(fA)){Cf+=akj(fA,options.pagedReasons[ap][fA]);}}Cu+=NQ.replace('{{pageNumber}}',ap).replace('{{reasonList}}',Cf).replace('{{date}}',akg()).replace('{{count}}',options.pagedRedactionCount[ap]);}}if(Cu.length){lC.innerHTML=aFX.replace('{{pageSections}}',Cu);domElement.appendChild(lC);}}xu('done');});};function auc(){window['extra']=function(bool,HV){options.encryption= ! !bool;options.pagedConversations=HV.JN;options.pagedReasons=HV.wB;options.pagedRedactionCount=HV.AW;awW();window['extra']=function(){};};xu('extra');};function auw(){var aA;IPCC.h.forEach(adv,function(ae){aA=ae.get_artPage();if(aA){aA.removeAllMarks();}ae.dispose();aA=undefined;});};window['destroy']=auw;auc();};module.exports={PrintRequest:PrintRequest,PrintControl:PrintControl,print:print,validatePrintRange:validatePrintRange,canPrintMarks:canPrintMarks};},{}],159:[function(require,module,exports){var aEz={Draft:"Draft",Normal:"Normal"};module.exports=aEz;},{}],160:[function(require,module,exports){var Revision=function(){this.cF=0;this.vt=0;this.bf='';};Revision.prototype.getId=function(){return this.cF;};Revision.prototype.getEndPageNumber=function(){return this.vt;};Revision.prototype.getType=function(){return this.bf;};if(Object.defineProperties){Object.defineProperties(Revision.prototype,{"endPageNumber":{enumerable:true,get:function(){return this.vt;}},"id":{enumerable:true,get:function(){return this.cF;}},"type":{enumerable:true,get:function(){return this.bf;}}});}Revision.Type={ContentInserted:"ContentInserted",ContentDeleted:"ContentDeleted",PropertyChanged:"PropertyChanged",ParagraphNumberChanged:"ParagraphNumberChanged",FieldDisplayChanged:"FieldDisplayChanged",RevisionMarkedAsReconciledConflict:"RevisionMarkedAsReconciledConflict",RevisionMarkedAsConflict:"RevisionMarkedAsConflict",StyleChanged:"StyleChanged",ContentReplaced:"ContentReplaced",ParagraphPropertyChanged:"ParagraphPropertyChanged",TablePropertyChanged:"TablePropertyChanged",SectionPropertyChanged:"SectionPropertyChanged",StyleDefinitionChanged:"StyleDefinitionChanged",ContentMovedFrom:"ContentMovedFrom",ContentMovedTo:"ContentMovedTo",TableCellInserted:"TableCellInserted",TableCellDeleted:"TableCellDeleted",TableCellsMerged:"TableCellsMerged",Unknown:"Unknown"};module.exports=Revision;},{}],161:[function(require,module,exports){var Ja=function(bK){var ix=new PCCViewer.RevisionsRequest(true);function avn(bf){for(var WQ in PCCViewer.Revision.Type){if(PCCViewer.Revision.Type.hasOwnProperty(WQ)){if(WQ.toLowerCase()===bf.toLowerCase()){return PCCViewer.Revision.Type[WQ];}}}return PCCViewer.Revision.Type.Unknown;};function auW(gS,bB){var xb=[];if(gS.changes&&gS.changes.length){xb=gS.changes.map(function(XM){var OQ=new PCCViewer.Revision();OQ.cF=XM.id;OQ.vt=XM.endPageIndex+1;OQ.bf=avn(XM.type);return OQ;});}return xb;};function atE(Nk){var UE=Nk?'&continueToken='+Nk:'';var atv=bK.imageHandlerUrl+'/v2/viewingSessions/'+bK.documentID;return atv+'/revisionData?limit=100'+UE;};function ajK(Nk){var ag=PCCViewer.Deferred();var ai=atE(Nk);PCCViewer.Ajax.fu({url:ai,method:'GET'}).then(function er(bL){var ds=JSON.parse(bL.responseText);var EH=ds.continueToken;var xb=auW(ds,ix.Kb.length);ix.Kb=ix.Kb.concat(xb);if(EH){if(xb.length){ix.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xb});}setTimeout(function(){ajK(EH);},ds.continueAfter||0);}else{if(xb.length){ix.trigger(PCCViewer.EventType.PartialRevisionsAvailable,{partialRevisions:xb});}ix.trigger(PCCViewer.EventType.RevisionsAvailable,{completedRevisions:ix.getRevisions()});ix.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ix.getRevisions()});}ag.resolve();},function eA(aP){var ew='RequestFailed';var di='The request to get revisions failed.';var oi=aP.response.responseText?JSON.parse(aP.response.responseText):'';var jd=aP.response.status;if(oi&&(jd===580||(jd===480&&oi.errorCode==='DocumentNotProvidedYet'))){ew=oi.errorCode;}ix.ew=ew;ix.di=di;ix.trigger(PCCViewer.EventType.RevisionsRetrievalFailed,{errorMessage:ix.getErrorMessage()});ix.trigger(PCCViewer.EventType.RevisionsRetrievalCompleted,{completedRevisions:ix.getRevisions()});ag.reject(aP.error);});};this.azv=function(){setTimeout(function(){ajK();},0);return ix;};};var RevisionsRequest=function(wR){this.Kb=[];this.ew=null;this.di=null;if(Object.defineProperties){Object.defineProperties(this,{"revisions":{configurable: ! !wR,enumerable:true,get:function(){return this.Kb;}},"errorCode":{configurable: ! !wR,enumerable:true,get:function(){return this.ew;}},"errorMessage":{configurable: ! !wR,enumerable:true,get:function(){return this.di;}}});}PCCViewer.EventEmitter.extend(this);};RevisionsRequest.prototype.getRevisions=function(){return this.Kb;};RevisionsRequest.prototype.getErrorCode=function(){return this.ew;};RevisionsRequest.prototype.getErrorMessage=function(){return this.di;};module.exports={RevisionsRequest:RevisionsRequest,Ja:Ja};},{}],162:[function(require,module,exports){var Cq={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};module.exports=Cq;},{}],163:[function(require,module,exports){var _Search=function(){this.aw='';this.Gh={};this.dk={};this.QA=0;this.av=new PCCViewer.SearchRequest();var C=this;this.abf=function(){var La=[];for(var J=0;J<C.Gh.searchTerms.length;J++){var aw=C.Gh.searchTerms[J];var os=IPCC.h.Pb(aw.type);var LT;switch(os){case 'proximity':var wj={vh:aw,dk:[],type:aw.type,highlightColor:this.abV(aw.highlightColor),distance:aw.distance,contextPadding:aw.contextPadding};for(var x=0;x<aw.terms.length;x++){var Ye=aw.terms[x];LT=this.alp(Ye);wj.dk=wj.dk.concat(LT);}La.push(wj);break;default:LT=this.alp(aw);La=La.concat(LT);break;}}return La;};this.alp=function(aw){var fH=[];var dk={};if(aw.matchingOptions.exactPhrase===false&&aw.searchTermIsRegex===false){var zM=aw.searchTerm.split(' ');for(var bE=0;bE<zM.length;bE++){dk={};if(zM[bE].length<0){continue;}dk.searchText=zM[bE];dk.vh=aw;if(aw.matchingOptions.matchWholeWord){dk.searchTerm=this.aml(this.BM(zM[bE]),aw.matchingOptions);}else{if(aw.matchingOptions.wildcard===true){dk.searchTerm=this.ahj(this.BM(zM[bE]),aw.matchingOptions);}else if(aw.matchingOptions.beginsWith===true||aw.matchingOptions.endsWith===true){dk.searchTerm=this.afO(this.BM(zM[bE]),aw.matchingOptions);}else{dk.searchTerm=this.aeX(zM[bE],aw.matchingOptions,false);}}dk.highlightColor=this.abV(aw.highlightColor);fH.push(dk);}}else{dk={};dk.searchText=aw.searchTerm;dk.vh=aw;if(aw.matchingOptions.matchWholeWord){dk.searchTerm=this.aml(this.BM(aw.searchTerm),aw.matchingOptions);}else{if(aw.matchingOptions.wildcard===true){dk.searchTerm=this.ahj(this.BM(aw.searchTerm),aw.matchingOptions);}else if(aw.matchingOptions.beginsWith===true||aw.matchingOptions.endsWith===true){dk.searchTerm=this.afO(this.BM(aw.searchTerm),aw.matchingOptions);}else{dk.searchTerm=this.aeX(aw.searchTerm,aw.matchingOptions,aw.searchTermIsRegex);}}dk.highlightColor=this.abV(aw.highlightColor);fH.push(dk);}return fH;};this.aml=function(ra,xg){var Kk=new RegExp('\\b'+ra+'\\b',this.Jw(xg.matchCase));return Kk;};this.afO=function(ra,xg){if(xg.beginsWith){return new RegExp("\\b"+ra+'(\\w*)',this.Jw(xg.matchCase));}if(xg.endsWith){ra=ra.replace("*","");return new RegExp('(\\w*)'+ra+"\\b",this.Jw(xg.matchCase));}};this.BM=function(ra){return ra.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.ahj=function(rZ,xg){rZ=rZ.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(rZ==='\\*'){var dJ=new Error('The search term must contain one or more non-wildcard characters.');dJ.aFI=true;throw dJ;}var regexFlags='gim';if(xg.matchCase){regexFlags='gm';}rZ=rZ.replace(/\*/g,'\S*');rZ=rZ.replace(/\?/g,'\S');var Kk=new RegExp('(\\s|^)'+rZ+'(?=\\s|$)',regexFlags);return Kk;};this.acP=function(ra){return ra.replace(/\ /g,'\\s+');};this.Su=function(ra){return ra.replace(/'/g,'[\']').replace(/"/g,'["]');};this.aeX=function(Ma,matchingOptions,isRegex){var nk='';if(isRegex===true){nk=Ma;}else if(matchingOptions.wildcard===true){nk=Ma.replace(/[-[\]{}()+,^$|#]/g,"\\$&");nk=this.acP(nk);nk=this.Su(nk);}else if(matchingOptions.exactPhrase){nk=Ma.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");nk=this.acP(nk);nk=this.Su(nk);}else{nk=Ma.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");nk=this.Su(nk);}return new RegExp(nk,this.Jw(matchingOptions.matchCase));};this.Jw=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aHe=function(rZ){var Kk=new RegExp('\\b'+rZ+'\\b',C.Jw());return Kk;};var aij=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.abV=function(cB){if(!cB){return aij[C.QA++ %aij.length];}else{return cB;}};this.Tm=function(cg){if(typeof cg==='string'){cg={searchTerms:[{searchTerm:cg,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return cg;}IPCC.h.forEach(cg.searchTerms,function(aw){if(!aw.matchingOptions){aw.matchingOptions={};}var os=IPCC.h.Pb(aw.type);switch(os){case 'proximity':IPCC.h.forEach(aw.terms,function(Ye){C.anx(Ye);});break;default:C.anx(aw);break;}});return cg;};this.anx=function(aw){if(typeof aw.contextPadding==="undefined"){aw.contextPadding=25;}if(typeof aw.searchTermIsRegex==="undefined"){aw.searchTermIsRegex=false;}if(typeof aw.matchingOptions==="undefined"){aw.matchingOptions={};}if(!aw.matchingOptions.hasOwnProperty('matchCase')){aw.matchingOptions.matchCase=false;}if(!aw.matchingOptions.hasOwnProperty('exactPhrase')){aw.matchingOptions.exactPhrase=true;}if(!aw.matchingOptions.hasOwnProperty('matchWholeWord')){aw.matchingOptions.matchWholeWord=false;}if(!aw.matchingOptions.hasOwnProperty('beginsWith')){aw.matchingOptions.beginsWith=false;}if(!aw.matchingOptions.hasOwnProperty('endsWith')){aw.matchingOptions.endsWith=false;}if(!aw.matchingOptions.hasOwnProperty('wildcard')){aw.matchingOptions.wildcard=false;}if(typeof aw.highlightColor!=='undefined'){try{IPCC.bH.cB(aw.highlightColor,"selectText");}catch(e){aw.highlightColor=undefined;}}};this.aBi=function(){return C.dk;};this.ahz=function(e){C.av.di=e.message;C.av.ew="1010";C.av.uN=true;setTimeout(function(){C.av.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.av.trigger("SearchCompleted",{completedSearchResults:(C.st)});},10);return C.av;};this.vr=function(cg,az){this.dk={};this.Gh=cg;this.aw=cg;this.QA=0;var vr=new PCCViewer.Ln();try{C.dk=this.abf();return vr.Wm(az,C.dk,cg,C.av);}catch(e){return C.ahz(e);}};this.Cn=function(cg,az){this.dk={};this.Gh=cg;this.aw=cg;this.QA=0;var Cn=new PCCViewer.ZU();try{C.dk=this.abf();return Cn.Wm(az,C.dk,cg,C.av);}catch(e){return C.ahz(e);}};};_Search.prototype.zQ=function(searchQuery){this.dk={};this.av=new PCCViewer.SearchRequest();this.Gh=searchQuery;this.av.cg=searchQuery;this.aw=searchQuery;this.QA=0;return this.av;};var SearchTask=function(searchQuery){this.aeL(searchQuery);var _search=new PCCViewer._Search();searchQuery=_search.Tm(searchQuery);this.av=_search.zQ(searchQuery);try{_search.dk=_search.abf();}catch(e){if(e.aFI){throw new Error(e.message);}else{throw new Error(e.message);}}var vr=new PCCViewer.Ln();this.search=function(text){vr.st=[];vr.aC=0;vr.dk=_search.dk;vr.aGA(text);return vr.st;};};SearchTask.prototype.aeL=function(searchQuery){if(typeof searchQuery==='string'){return;}var zu;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){zu=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.h.forEach(zu,function(uy,J){var os=uy.type?IPCC.h.trim(uy.type).toLowerCase():undefined;switch(os){case 'proximity':IPCC.h.forEach(uy.terms,function(aDA,ay){if(!ajW(aDA)){throw new Error("Search term index "+ay+" under Proximity search term index "+J+" does not have a valid `searchTerm` string property.");}});break;default:if(!ajW(uy)){throw new Error("Search term index "+J+" does not have a valid `searchTerm` string property.");}break;}});function ajW(uy){return(typeof uy.searchTerm==='string');}};module.exports={_Search:_Search,SearchTask:SearchTask};},{}],164:[function(require,module,exports){function atD(cg){var zu=cg.map(function(aw,ada){if(aw.type==='proximity'){return{type:'proximity',distance:aw.distance,subTerms:aw.dk.map(function(aeF){return{pattern:aeF.searchTerm.source,caseSensitive:aeF.vh.matchingOptions.matchCase};}),termId:ada.toString(),contextPadding:aw.contextPadding};}return{type:'simple',pattern:aw.searchTerm.source,caseSensitive:aw.vh.matchingOptions.matchCase,termId:ada.toString(),contextPadding:aw.contextPadding};});return{input:{searchTerms:zu}};};var ZU=function(){var C=this;var zQ,EH,aln;var PL=[];this.xi=false;this.yr={};this.Aa=[];function auY(){var UE=EH?'&continueToken='+EH:'';return C.az.qm+'/v2/searchTasks/'+zQ.processId+'/results?limit=100'+UE;};function aub(fH){var LL=C.yr.input.searchTerms.reduce(function(ph,uy){ph[uy.termId]=C.dk[uy.termId];return ph;},{});return fH.map(function(aP){var hl=new PCCViewer.SearchResult();if(C.dk[0].vh.matchingOptions.wildcard&&(aP.text[0]===" "||aP.text[0]==="\n")){aP.text=aP.text.substring(1);aP.startIndex+=1;aP.startIndexInContext+=1;}hl.mL=aP.boundingRectangle;hl.cN=aP.context;hl.zg=aP.startIndexInContext;hl.mP=aP.id;hl.dk=C.dk;hl.bC=aP.lineRectangles;hl.hy=aP.pageData;hl.pK=aP.startIndex;hl.bv=aP.text;hl.aq=aP.pageIndex+1;hl.cF=aP.id;hl.Yd=C.az.get_documentIdentifier();hl.aw=LL[aP.searchTerm.termId].vh;hl.rk=LL[aP.searchTerm.termId].highlightColor;return hl;});};function qv(Gu,aax){switch(Gu){case 'failed':setTimeout(function(){C.av.trigger(PCCViewer.EventType.SearchFailed,aax);},10);break;case 'complete':C.av.Tp=C.Aa;C.av.uN=true;setTimeout(function(){C.av.trigger(PCCViewer.EventType.SearchResultsAvailable,{completedSearchResults:(C.av.getResults())});},10);break;case 'cancelled':break;}setTimeout(function(){C.av.trigger(PCCViewer.EventType.SearchCompleted,{completedSearchResults:(C.av.getResults())});},10);};function atP(mt){var ai=C.az.qm+'/v2/viewingSessions/'+encodeURIComponent(C.az.get_documentIdentifier())+'/searchTasks';function er(bL){var aP=JSON.parse(bL.responseText);zQ=aP;if(PL.length){PL.forEach(function(wc){wc();});}PL=[];mt();};function eA(bJ){C.av.off('SearchCancelled',C.aiN);C.av.di='The request to create a search task failed.';var ava=bJ&&bJ.response&&bJ.response.status===501;var asK=bJ&&bJ.response&&bJ.response.status===480&&(function(apk){try{return JSON.parse(apk).errorCode==='FeatureDisabled';}catch(e){return false;}}(bJ.response.responseText));if(ava||asK){C.av.ew='ServerSearchUnavailable';C.av.di='Server-side search is not available.';qv('failed',{errorMessage:C.av.di});return;}qv('failed',{errorMessage:C.av.di});};PCCViewer.Ajax.fu({url:ai,method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(C.yr)}).then(er,eA);};function Rs(mt){var ai=auY();var it={};if(zQ.affinityToken){it['Accusoft-Affinity-Token']=zQ.affinityToken;}if(!C.xi){return;}function er(bL){if(!C.xi){return;}var aP=JSON.parse(bL.responseText);var Tc=aub(aP.results);C.Aa=aP.pagesWithoutText;C.av.fH.push.apply(C.av.fH,Tc);if(Tc.length){setTimeout(function(){IPCC.h.forEach(Tc.reduce(function(ph,aP){var cr=aP.aq;if(!ph[cr]){ph[cr]=[];}ph[cr].push(aP);return ph;},{}),function(fH,cr){C.av.trigger('PartialSearchResultsAvailable',{partialSearchResults:fH,pagesWithoutText:C.Aa});});},10);}if(aP.continueToken){EH=aP.continueToken;aln=aP.continueAfter;mt();}else if(C.xi){qv('complete');}};function eA(aP){if(!C.xi){return;}C.xi=false;C.av.di='The request to poll the search task failed.';C.av.uN=true;qv('failed',{errorMessage:C.av.di});};PCCViewer.Ajax.fu({method:'GET',url:ai,headers:it}).then(er,eA);};function atw(){(function atU(){setTimeout(function(){Rs(atU);},aln||0);}());};function aiN(){qv('cancelled');C.xi=false;function aix(){};if(!zQ){PL.push(aix);return;}aix();};this.Wm=function(az,dk,cg,av){C.az=az;C.dk=dk;C.av=av;C.av.cg=cg;C.yr=atD(C.dk);C.xi=true;C.av.on('SearchCancelled',aiN);atP(function(){atw();});return C.av;};};module.exports=ZU;},{}],165:[function(require,module,exports){var ObservableCollection=require('./PCCViewer.ObservableCollection');function alv(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function we(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new we(this.x,this.y);};};function SZ(af){return(af&&af.nodeType===1);};function Mi(xo,FI){var TJ=(FI&&IPCC.h.Dp)?'m':'M';var YS=(FI&&IPCC.h.Dp)?'l':'L';return IPCC.h.map(xo,function(el,i){if(i===0){return TJ+el.x+','+el.y;}else{return YS+el.x+','+el.y;}}).join('');};function ahY(cN,oV,eB){return function(bJ){if(IPCC.h.Bf&&bJ.type.match('mouse')){bJ.preventDefault();bJ.stopPropagation();return false;}if(bJ.preventDefault){bJ.preventDefault();}else{bJ.returnValue=false;}var x,y;if(bJ.changedTouches){var gQ=bJ.changedTouches[0];if(bJ.type==='touchstart'){oV=bJ.target.getBoundingClientRect();}else if(bJ.type==='touchend'){eB&&eB();return;}x=gQ.clientX-oV.left;y=gQ.clientY-oV.top;}else{x=bJ.clientX-oV.left;y=bJ.clientY-oV.top;}var bM=new we(x,y);cN.xo.push(bM);var vl=Mi(cN.xo);if(IPCC.h.Dp){cN.fQ.path=vl.toLowerCase();}else{cN.fQ.setAttribute('d',vl);}eB&&eB();};};function atF(points){var BK=3,bW='',rJ;var sc=(points.length<BK)?points:IPCC.h.filter(points,function(el){if(rJ&&rJ.close(el)){return false;}else{rJ=el;return true;}});if(sc.length<BK){sc=[points[0],points[points.length-1]];}rJ=undefined;if(sc.length<BK){bW+=Mi(sc);}else{bW='M'+IPCC.h.bspline(sc);bW=bW.replace(/\d*\.?\d*/g,function(bN){var Fh=bN.indexOf('.');if(bN.length&&Fh>0){return bN.substr(0,Fh+3);}else if(bN!==""){return bN;}else{return bN;}});}return bW;};function SignatureControl(dom){var C=this;if(typeof dom==='string'){this.cZ=document.querySelector(dom);if(!(SZ(this.cZ))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(SZ(dom)){this.cZ=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.EQ=[];this.oV=new alv(this.cZ.getBoundingClientRect());this.et=IPCC.h.AO.SVG([0,0,this.oV.width,this.oV.height].join(' '));this.cZ.appendChild(this.et);function DW(ev){var fQ=IPCC.h.AO.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});C.et.appendChild(fQ);var cN={xo:[],fQ:fQ,eB:function(){C.EQ.push(cN.xo);IPCC.h.removeEvent(C.cZ,'mousemove',xh);IPCC.h.removeEvent(C.cZ,'mouseup',Be);if(IPCC.h.Bf){IPCC.h.removeEvent(C.cZ,IPCC.h.oQ['move'],xh);IPCC.h.removeEvent(C.cZ,IPCC.h.oQ['up'],Be);}if(IPCC.h.Hj){IPCC.h.removeEvent(C.cZ,'touchmove',xh);IPCC.h.removeEvent(C.cZ,'touchend',Be);}}};var xh=ahY(cN,C.oV);var Be=ahY(cN,C.oV,cN.eB);xh(ev);IPCC.h.addEvent(C.cZ,'mousemove',xh);IPCC.h.addEvent(C.cZ,'mouseup',Be);if(IPCC.h.Bf){IPCC.h.addEvent(C.cZ,IPCC.h.oQ['move'],xh);IPCC.h.addEvent(C.cZ,IPCC.h.oQ['up'],Be);}if(IPCC.h.Hj){IPCC.h.addEvent(C.cZ,'touchmove',xh);IPCC.h.addEvent(C.cZ,'touchend',Be);}};IPCC.h.addEvent(C.cZ,'mousedown',DW);if(IPCC.h.Bf){this.cZ.style['-ms-touch-action']='none';this.cZ.style['touch-action']='none';IPCC.h.addEvent(C.cZ,IPCC.h.oQ['down'],DW);}if(IPCC.h.Hj){IPCC.h.addEvent(C.cZ,'touchstart',DW);}this.TG=function(){C.oV=new alv(C.cZ.getBoundingClientRect());C.et.setAttribute('viewBox',[0,0,C.oV.width,C.oV.height].join(' '));};IPCC.h.addEvent(window,'resize',this.TG);this.ajS=function(){IPCC.h.removeEvent(window,'resize',C.TG);IPCC.h.removeEvent(C.cZ,'mousedown',DW);if(IPCC.h.Bf){IPCC.h.removeEvent(C.cZ,IPCC.h.oQ['down'],DW);}if(IPCC.h.Hj){IPCC.h.removeEvent(C.cZ,'touchstart',DW);}while(C.cZ.firstChild){C.cZ.removeChild(C.cZ.firstChild);}};};SignatureControl.prototype.done=function(){var nf,me,mV,oJ,vl='M0,0',aev=this;IPCC.h.forEach(aev.EQ,function(op){IPCC.h.forEach(op,function(p){if(nf===undefined||nf>p.x){nf=p.x;}if(me===undefined||me>p.y){me=p.y;}if(mV===undefined||mV<p.x){mV=p.x;}if(oJ===undefined||oJ<p.y){oJ=p.y;}});});IPCC.h.forEach(aev.EQ,function(op){var apJ=IPCC.h.map(op,function(p){return new we(p.x-nf,p.y-me);});vl+=atF(apJ);});this.ajS();return{type:'path',path:vl,width:(mV-nf)||0,height:(oJ-me)||0};};SignatureControl.prototype.resize=function(){this.TG();return this;};SignatureControl.prototype.clear=function(){var svg=this.et;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.EQ=[];return this;};SignatureControl.prototype.undo=function(){if(this.et.lastChild){this.et.removeChild(this.et.lastChild);}this.EQ.pop();return this;};SignatureControl.prototype.cancel=function(){this.ajS();return this;};var Signatures=new ObservableCollection();var SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var rr=IPCC.h.XC(signature.path);var et=IPCC.h.AO.SVG([0,0,rr.width,rr.height].join(' '));var fQ=IPCC.h.AO.Path(signature.path,{width:rr.width,height:rr.height,color:'black',thickness:4});if(IPCC.h.Dp){var azm=(rr.height/rr.width)*100;et.style.width=fQ.style.width='100%';et.style.height=fQ.style.height='0px';et.style.paddingBottom=fQ.style.paddingBottom=azm+'%';}else{et.style.width='100%';et.style.maxHeight='100%';et.setAttribute('preserveAspectRatio','xMinYMin meet');}et.appendChild(fQ);domElement.appendChild(et);return{width:rr.width,height:rr.height,clear:function(){domElement.removeChild(et);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var ii=document.createElement('div');var nr=document.createTextNode(signature.text);var ih=(typeof signature.fontName==='string')?signature.fontName:'serif';ii.appendChild(nr);ii.style.textAlign='center';ii.style.fontFamily='"'+ih+'", cursive';ii.style.fontSize='2.5em';ii.style.overflow='hidden';domElement.appendChild(ii);var rr=IPCC.h.vz(signature.text,ih);return{width:rr.width,height:rr.height,clear:function(){domElement.removeChild(ii);}};};if(!SZ(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};module.exports={SignatureControl:function(dom){return new SignatureControl(dom);},SignatureDisplay:SignatureDisplay,Signatures:Signatures};},{"./PCCViewer.ObservableCollection":155}],166:[function(require,module,exports){"use strict";var IPCC=require('../IPCC/IPCC');var qa=require('./PCCViewer.Helper');var Print=require('./PCCViewer.Print');var da=require('./PCCViewer.MarkDeserializer');var eZ=require('./PCCViewer.MarkSerializer');function SingleSessionViewerControl(element,viewerControlFacade,options){if(!(this instanceof SingleSessionViewerControl)){return new SingleSessionViewerControl(element,viewerControlFacade,options);}if(!IPCC.h.tN(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var C=this;this.SC=viewerControlFacade;this.aN=new PCCViewer.tJ(viewerControlFacade);IPCC.h.EG(element);var kK=document.createElement('div');kK.className='pccViewerControl';kK.id='pccViewerControl-'+IPCC.Di();element.appendChild(kK);this.cG=kK;this.eW=element;var sC=document.createElement('div');sC.className='pccPageListLoading';kK.appendChild(sC);this.sC=sC;this.oW=false;this.bK=qa.sy({},SingleSessionViewerControl.At,options);this.bK.language=qa.sy({},SingleSessionViewerControl.aDC,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bK.pageLayout.toLowerCase()==="vertical"){this.bK.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bK.pageLayout.toLowerCase()==="horizontal"){this.bK.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bK.viewMode.toLowerCase()==="document"){this.bK.viewMode=IPCC.ViewMode.Document;}else if(this.bK.viewMode.toLowerCase()==="equalwidthpages"){this.bK.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bK.viewMode.toLowerCase()==="equalfitpages"){this.bK.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bK.viewMode.toLowerCase()==="singlepage"){this.bK.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}function isValidSearchMethodType(){return-1<['auto','server','client'].indexOf(C.bK.searchMethodType.toLowerCase());};if(!isValidSearchMethodType()){throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}if(isNaN(this.bK.searchMethodPageCountThreshold)&&(typeof this.bK.searchMethodPageCountThreshold!=='number')&&this.bK.searchMethodPageCountThreshold<=1){throw new Error("The value of 'options.searchMethodPageCountThreshold' must be a number greater than 1.");}if(this.bK.redactionViewMode){if(this.bK.redactionViewMode.toLowerCase()==="draft"){this.bK.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bK.redactionViewMode.toLowerCase()==="normal"){this.bK.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bK.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var iH=this.bK.pageRotation%360;if(iH!==0){var xm=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iH||xm.indexOf(iH)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!iH||IPCC.Web.kD(xm,iH)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bK.pageRotation=iH;if(this.bK.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bK.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bK.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bK.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bK.serviceResponseTimeout)||typeof this.bK.serviceResponseTimeout!=='number'||this.bK.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bK.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}if(typeof this.bK.viewerAssetsPath!=='string'){throw new Error("The value of 'options.viewerAssetsPath' is invalid.");}if(typeof this.bK.enableMultipleRedactionReasons!=='boolean'){throw new Error("The value of 'options.enableMultipleRedactionReasons' is invalid.");}this.ik={};this.ai="";this.fp=1;this.aga=1;this.acs=0;this.kt=1;this.aS=undefined;this.Ui=new PCCViewer.Deferred();this.qY=this.Ui.getPromise();this.ej=false;this.az=undefined;this.MC=0;this.cj=undefined;this.aa=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.lN=false;this.vB=false;this.Eh=false;this.BU=[];this.Pl=new PCCViewer.Deferred();this.aED=this.Pl.getPromise();this.wW=[];this.dg={};this.DI=[];this.Dz=[];this.aZ=null;this.JV={};this.gD=null;this.md=new PCCViewer.MarkupLayerCollection(this.SC);this.AD=new PCCViewer.MarkupLayer(this.SC);this.md.addItem(this.AD);this.ws=true;setTimeout(function(){C.ahk(kK,C.bK);},0);this.vR=null;this.av=null;this.yB=false;this.HB= -1;this.Fc={};this.agO=false;this.aBS=this.bK.printTemplate||(this.bK.template?this.bK.template.print:"");this.jS=null;this.wr=null;this.pq=function(dE,fj,ahp){var cE=document.createElement('div'),dV=cE.style;dV.position='absolute';if(fj.isSelected){dV.backgroundColor='white';}else{dV.backgroundColor='lightgray';}dV.left='10px';dV.right='0';dV.textAlign='left';IPCC.h.forEach(dE.getComments(),function(oA,J){var Wg=document.createElement('div'),Pq=Wg.style;Pq.position='relative';Pq.padding='5px';Pq.border='1px solid gray';if(J>0){Pq.borderTop='none';}Wg.appendChild(document.createTextNode(oA.getText()));cE.appendChild(Wg);});return cE;};return C;};SingleSessionViewerControl.At={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",enableMultipleRedactionReasons:false,debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal",searchMethodType:'auto',searchMethodPageCountThreshold:80,viewerAssetsPath:'viewer-assets'};SingleSessionViewerControl.aDC={pageLoadFailed:"Page Load Failed",pageLoadFailedPassword:"Page Load Failed - Password Required",pageLoadFailedRetry:"Retry"};SingleSessionViewerControl.prototype.ahk=function(element,options){if(this.oW){return;}var C=this;var YR=function(){if(C.bK.viewMode===IPCC.ViewMode.SinglePage||C.oW){return;}var aFU=C.aS.get_pageNodeId(C.getPageNumber()-1);var aX=document.getElementById(aFU);var WF=C.cG.childNodes[0].childNodes[0].childNodes[0].childNodes;if(!aX){return;}IPCC.h.forEach(WF,function(iw){if(aX!==iw){if(document.documentMode===8&&iw.style.outline){iw.style.outline='';}else if(iw.style.boxShadow){iw.style.boxShadow='';}}});if(document.documentMode===8){aX.style.outline='2px solid #aaa';}else{aX.style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}};function auq(){var ag=new PCCViewer.Deferred();function showNagDialog(delaySecondsRemaining){var jW=document.createElement('div'),BN=document.createElement('div'),VS=function(){jW.classList.add('open');},LY=function(){if(jW.parentNode!==null){jW.parentNode.removeChild(jW);}};BN.innerHTML='<h3>Evaluation Mode</h3>'+'<p>Please note that PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>Viewing is artificially delayed by about 10 seconds</b> and all pages will be watermarked.</p>'+'<p>To test all features without restriction, <a target="_blank" rel="noopener noreferrer" href="https://www.accusoft.com/contact-us/?product=prizmdoc-viewer">contact us</a> to discuss our 30-day full-featured trial.</p>';var abi=document.createElement('p');BN.appendChild(abi);function updateRemainingSeconds(){abi.innerText='Please wait '+delaySecondsRemaining+' seconds...';};updateRemainingSeconds();jW.className='pccPageListNagModal';jW.appendChild(BN);C.cG.appendChild(jW);VS();var intervalId=setInterval(function(){delaySecondsRemaining--;if(delaySecondsRemaining>0){updateRemainingSeconds();}else{LY();clearInterval(intervalId);}},1000);};function er(bL){if(bL.status===200){var aP=JSON.parse(bL.responseText);if(aP.delayEnabled){showNagDialog(aP.delaySecondsRemaining);}}};function eA(bL){ag.reject(new PCCViewer.Error("AjaxError","The call to get viewing session restrictions failed."));};PCCViewer.Ajax.fu({method:'GET',url:C.bK.imageHandlerUrl+'/v2/ViewingSessions/'+C.bK.documentID+'/restrictions',headers:{'Content-Type':'application/json'}}).then(er,eA);};var alS=function(){if(C.sC.parentNode){C.sC.parentNode.removeChild(C.sC);}C.aS.remove_pageOpenFailed(Tl);C.aS.remove_pageDisplayed(alS);var bm=arguments[1].pageIndex;setTimeout(function(){C.aN.trigger("PageDisplayed",{pageNumber:(bm+1)});YR();},10);if(bm!==0){return;}function er(bL){if(C.oW){return;}var aP;if(bL.status===200){aP=JSON.parse(bL.responseText);if(aP.pageCountConfidence<100){var ai;if(!(/^[\x00-\x7F]*$/.test(rH))){ai=C.bK.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rH+'&DesiredPageCountConfidence=100';}else{ai=C.bK.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.bK.documentID)+'&DesiredPageCountConfidence=100';}PCCViewer.Ajax.fu({method:'GET',url:ai,headers:{'Content-Type':'application/json'}}).then(er,eA);C.fp=aP.pageCount;C.az.fp=aP.pageCount;C.Eh=true;setTimeout(function(){C.aN.trigger("EstimatedPageCountReady",{pageCount:aP.pageCount});},10);akn();}else{if(C.fp>1){C.az.fp=aP.pageCount;setTimeout(function(){var J;if(aP.pageCount<C.fp){for(J=C.fp-1;J>=aP.pageCount;J--){C.cj.removePage(J);}}else if(aP.pageCount>C.fp){for(J=C.fp;J<aP.pageCount;J++){var VC=new IPCC.Web.UI.ImGearPage({pageNumber:J});C.cj.addPage(VC);}}C.fp=aP.pageCount;if(C.ej===true){C.lN=true;C.vB=true;setTimeout(function(){C.aN.trigger("PageCountReady",{pageCount:aP.pageCount});},30);}},30);}else{C.fp=aP.pageCount;C.az.fp=aP.pageCount;if(C.ej===true){akn(function(){C.lN=true;C.vB=true;setTimeout(function(){C.aN.trigger("PageCountReady",{pageCount:aP.pageCount});},0);});}}}}};function eA(aP){if(C.oW){return;}var XG="None",aei,XN;var afR=aP.response.getResponseHeader('Accusoft-Status-Message');if(afR){XG=afR;XN=aP.response.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wd(XN)){aei=parseInt(XN,10);}}else if(aP.response.statusText){XG=aP.response.statusText;}setTimeout(function(){C.aN.trigger("PageLoadFailed",{statusCode:aP.response.status,errorMessage:XG,accusoftErrorNumber:aei});},1);throw("Unable to obtain document information from the server");};var rH=IPCC.hj.rX(C.bK.documentID);if(!rH||rH===""){throw("Invalid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(rH))){C.ai=C.bK.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rH+'&DesiredPageCountConfidence=50';}else{C.ai=C.bK.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.bK.documentID)+'&DesiredPageCountConfidence=50';}PCCViewer.Ajax.fu({method:'GET',url:C.ai,headers:{'Content-Type':'application/json'}}).then(er,eA);};function akn(ov){ov=ov||function(){};var alI=C.fp;function ajP(){C.aS.remove_allPagesAdded(ajP);ov();};if(alI>1){C.aS.add_allPagesAdded(ajP);if(!C.ahy){C.aS.add_currentPageChanged(function(){if(arguments.length<2){throw("Controls currentPageChanged event did not provide any expected information");}var cD=arguments[1];setTimeout(function(){C.aN.trigger('PageChanged',{pageNumber:cD.pageIndex+1});YR();},0);});C.aS.add_pageDisplayed(function(){if(arguments.length<2){throw("Controls pageDisplayed event did not provide any expected information");}var cD=arguments[1];if(C.jS){C.jS();C.jS=null;if(C.gD){C.gD.resolve();}C.gD=null;}setTimeout(function(){C.aN.trigger('PageDisplayed',{pageNumber:cD.pageIndex+1});YR();},0);setTimeout(function(){C.requestPageText(cD.pageIndex+1).then(function CS(){C.Yc(cD.pageIndex+1,C.HB);});},10);});C.aS.add_pageOpenFailed(function(){akr(arguments);});C.ahy=true;}for(var J=C.MC;J<alI;J++){C.cj.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:J}));C.MC++;}}else{ov();}};var atB=function(cD){var aX=document.getElementById(cD.pageNodeID),af=document.createElement('div'),AF=document.createElement('button'),akp='pccPageLoadFailRetry'+cD.pageIndex,afh=function(){C.aS.QI(cD.pageIndex);},aqg=PCCViewer.Language.data.pageLoadFailed,ark=PCCViewer.Language.getValue("pageLoadFailedPassword"),aqY=PCCViewer.Language.data.pageLoadFailedRetry,awo=cD.exception.statusCode===480&&cD.exception.customErrorCode===4001;if(aX===null){return;}AF.id=akp;AF.innerHTML=aqY;af.className='pccPageLoadFail';if(awo){af.innerHTML=ark+'<br>';aX.appendChild(af);}else{af.innerHTML=aqg+'<br>';af.appendChild(AF);aX.appendChild(af);AF=document.getElementById(akp);if(!AF.addEventListener){AF.attachEvent('onclick',afh);}else{AF.addEventListener('click',afh,false);}}};function akr(Eg){if(Eg.length<2){throw("controls PageOpenFailed event did not provide any expected information");}var afv,adU,cD=Eg[1];if(Eg[1].exception.customErrorCode!==undefined){adU=Eg[1].exception.customErrorCode;}if(Eg[1].exception.message!==undefined){afv=Eg[1].exception.message;}setTimeout(function(){C.aN.trigger('PageLoadFailed',{statusCode:cD.exception.statusCode,pageNumber:cD.pageIndex+1,errorMessage:afv,accusoftErrorNumber:adU});atB(cD);},0);};function awc(){if(C.aS&&typeof C.aS.dispose==="function"){C.aS.dispose();}C.ai="";C.aS=undefined;while(C.cG.firstChild){C.cG.removeChild(C.cG.firstChild);}};function aHn(adS){var ag=new PCCViewer.Deferred();if(typeof adS==="string"){PCCViewer.Ajax.fu({url:C.bK.imageHandlerUrl+'/ViewingSession/u'+C.bK.documentID+'/Replacement',body:JSON.stringify({password:adS}),method:'POST',headers:{'Content-Type':'application/json;charset=utf-8'}}).then(function aHG(bL){var result=JSON.parse(bL.responseText);var amT=result.viewingSessionId;C.bK.documentID=amT;awc();C.ahk(C.cG,C.bK);ag.resolve(amT);},function aHo(err){ag.reject(new PCCViewer.Error("AjaxError","The call to replace the viewing session failed."));});}else{ag.reject(new PCCViewer.Error("InvalidArgument","The value of the 'password' parameter must be a string."));}return ag.getPromise();};function Tl(){C.aS.remove_pageOpenFailed(Tl);akr(arguments);};var aoq=function(aV,R){C.uf=true;var Tu={width:R.width,height:R.height,pageNumber:R.pageNumber};C.aN.trigger("PageOpening",Tu);};function alc(){C.Ui.resolve(C.aS);C.aS.remove_pageOpened(alc);C.ej=true;var bo=C;setTimeout(function(){C.aN.trigger("ViewerReady",{});if(bo.lN===true&&bo.vB===false){bo.vB=true;setTimeout(function(){C.aN.trigger("PageCountReady",{pageCount:bo.getPageCount()});},10);}},10);C.setCurrentMouseTool("AccusoftPanAndEdit");};var apF=function(aV,R){if(R.containsText===true){C.Pl.resolve(true);}var zS= -1;if(Array.prototype.indexOf){zS=(C.wW.indexOf(R.pageIndex)>=0);}else{zS=(IPCC.Web.kD(C.wW,R.pageIndex)>=0);}if(zS===false){C.wW.push(R.pageIndex);if(C.wW.length===C.fp){C.Pl.resolve(false);}}setTimeout(function(){C.aN.trigger("PageTextReady",{pageNumber:R.pageIndex+1});},0);};var aqu=function(aV,R){var zS= -1;if(Array.prototype.indexOf){zS=(C.wW.indexOf(R.pageIndex)>=0);}else{zS=(IPCC.Web.kD(C.wW,R.pageIndex)>=0);}if(zS===false){C.wW.push(R.pageIndex);if(C.wW.length===C.fp){C.Pl.resolve(false);}}};function ayG(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var hV=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){hV.push(eventArgs.pageNumbers[i]+1);}var gk=[],vW= -eventArgs.startIndex,bB,ci,iU,bC,j,k;for(j=0;j<hV.length;j++){iU=C.cj.iZ(hV[j]-1).dc().hF();vW+=iU.eY();bB=0;if(j===0){bB=eventArgs.startIndex;}if(vW>=eventArgs.text.length){ci=vW-eventArgs.text.length-1;}else{ci=iU.eY()-1;}bC=IPCC.h.Yp(iU,bB,ci);for(k=0;k<bC.length;k++){gk.push({x:bC[k].x,y:bC[k].y,width:bC[k].width,height:bC[k].height,pageNumber:hV[j]});}}C.aZ={pageNumber:hV[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:gk};var V,adb={selectedText:eventArgs.text,pageNumbers:hV,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:C.aZ};function atS(){var LZ=C.np;C.akJ=true;C.np=function(sender,args){C.np=LZ;setTimeout(function(){C.aN.trigger(PCCViewer.EventType.MarkCreated,{mark:V,pageNumber:hV[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){V=C.dg[eventArgs.previousFirstMark.get_markID()];C.aS.remove_markRemoved(C.DZ);C.aS.remove_markSelectionChanged(C.Dg);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.bm){var aDa=V.L.TY;var UO;if(V.getReason){UO=V.L.get_text();}var Vg;if(V.getFillColor){Vg=V.L.get_fillColor();}var Sy;if(V.getColor){Sy=V.L.get_lineColor();}var Vm;if(V.getThickness){Vm=V.L.get_lineWidth();}var Vx;if(V.getHref){Vx=V.L.get_href();}var aBw=new PCCViewer.Conversation(V);var aA=C.aS.hz(C.cj.getPage(V.L.bm));aA.removeMark(V.L);for(var J=V.bw.length-1;J>=0;J--){var mi=V.bw[J];aA=C.aS.hz(C.cj.getPage(mi.bm));aA.removeMark(mi);V.bw.splice(J,1);}V.L=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());V.L.bm=eventArgs.pageNumbers[0];V.aq=eventArgs.pageNumbers[0]+1;V.L.lB=true;V.L.TY=aDa;var LZ=C.np;C.np=null;C.aS.remove_markChanged(C.ot);aA=C.aS.hz(C.cj.getPage(V.L.bm));aA.addMark(V.L);if(UO){V.L.set_text(UO);}if(Vg){V.L.set_fillColor(Vg);}if(Sy){V.L.set_lineColor(Sy);}if(Vm){V.L.set_lineWidth(Vm);}if(Vx){V.L.set_href(Vx);}V.dE=new PCCViewer.Conversation(V);PCCViewer.Conversation.sq(aBw,V.dE);C.aS.add_markChanged(C.ot);C.np=LZ;}V.L.set_selected(true);V.L.set_visible(true);V.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});C.aS.add_markRemoved(C.DZ);C.aS.add_markSelectionChanged(C.Dg);C.pl(V,eventArgs.pageNumbers[0]);return;}var zx=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:zx='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:zx='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:zx='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.CreateStrikethroughMark:zx='StrikethroughAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:avG(eventArgs.text);C.JV[hV[0]]='selectText';break;}var aa=PCCViewer.MouseTools.getMouseTool(C.getCurrentMouseTool());var aK=(aa&&aa.getTemplateMark)?aa.getTemplateMark():undefined;var asW=aK?aK.getType():"";if(zx){atS();C.aN.trigger(PCCViewer.EventType.TextSelected,adb);V=C.addMark(hV[0],zx);if(C.ws){C.AD.addMarks(V);}V.L.lB=true;V.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(asW===zx){if(aK.getFillColor){V.setFillColor(aK.getFillColor());}if(aK.getReason&& !V.pm){V.setReason(aK.getReason());}if(aK.getReasons&&V.pm){V.setReasons(aK.getReasons());}if(aK.getHref){V.setHref(aK.getHref());}if(aK.getColor){V.setColor(aK.getColor());}if(aK.getThickness){V.setThickness(aK.getThickness());}PCCViewer.Data.pn(aK,V);}return;}setTimeout(function(){C.aN.trigger(PCCViewer.EventType.TextSelected,adb);},0);};function aqn(){var aX=C.cG,af=document.createElement('div');af.className='pccCopyText';aX.appendChild(af);C.FA=af;};function avG(bv){var nr,aHj=bv.split('\n'),Ke=document.createDocumentFragment(),CB,lA;nr=document.createTextNode(bv);Ke.appendChild(nr);IPCC.h.EG(C.FA);C.FA.appendChild(Ke);if(document.body.createTextRange){CB=document.body.createTextRange();CB.moveToElementText(C.FA);CB.select();}else if(window.getSelection){lA=window.getSelection();CB=document.createRange();CB.selectNodeContents(C.FA);lA.removeAllRanges();lA.addRange(CB);}};this.az=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bK.documentID,imageServicePath:this.bK.imageHandlerUrl});this.az.set_encryption(this.bK.encryption||false);var VC=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.az.get_pages().addPage(VC);this.cj=this.az.get_pages();this.aS=IPCC.initializePageListPlugin(element,options);auq();this.aS.get_documents().addDocument(this.az);this.MC=1;this.aS.add_pageDisplayed(alS);this.aS.add_pageOpenFailed(Tl);this.aS.add_pageOpening(aoq);this.aS.add_pageOpened(alc);this.aS.add_textPageReady(apF);this.aS.add_textExtractionFailed(aqu);this.aS.set_conversationDOMFactory(function(L,fj,ahp){var V=C.dg[L.get_markID()];if(V){return C.pq(V.getConversation(),fj,ahp);}});IPCC.h.avf(element,function(HT){if(!HT&&IPCC.h.BC!=='svg'){console.warn('PrizmDoc cannot use inline font. Enable remote fonts in your browser for faster document rendering.');if(!C.ej){IPCC.h.BC='svg';return;}else if(C.lN){IPCC.h.BC='svg';C.aS.disposeDisplayedPages();C.aS.displayAll();}else{var oZ=function(){C.aN.off(PCCViewer.EventType.PageCountReady,oZ);IPCC.h.BC='svg';C.aS.disposeDisplayedPages();C.aS.displayAll();};C.aN.on(PCCViewer.EventType.PageCountReady,oZ);}}});aqn();this.aS.add_selectTextMouseToolCompleted(ayG);this.aS.add_propertyChanged(function(sH,dr){var proprtyName=dr.ayn();if(proprtyName==="mouseTool"){setTimeout(function(){C.aN.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.aa.getName()});},0);}});this.aS.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&C.dg[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.aY!==undefined){C.pl(eventArgs.mark,eventArgs.pageIndex);}if(C.np){var bI=eventArgs.mark.get_type();if(bI!==IPCC.Web.UI.MarkType.Highlight&& !(bI===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.aY!==undefined)){C.np(sender,eventArgs);}}});this.aS.add_markCreating(function(sender,eventArgs){if(C.Fn){C.Fn(sender,eventArgs);}});this.aS.KZ(function(sender,eventArgs){var Ef=0;var AN=0;var acz=0;var vV=0;var wU=0;var KR=0;var ard=C.aa.getName().toLowerCase(),aqf=C.aa.getType();if(aqf===PCCViewer.MouseTool.Type.PlaceSignature){var aa=C.aa;var aK=aa.getTemplateMark(),ln=aK.getSignature(),adc=aK.getRectangle(),V,F={};if(!ln){return;}C.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var tm;if(attributes.width>0){AN=adc.width||(attributes.width/5);}if(ln.path&&ln.path.length>0){tm=IPCC.h.XC(ln.path);F={x:0,y:0,width:tm.width,height:tm.height};V=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);V.setPath(ln.path);V.setThickness(ln.thickness||4);}if(ln.text&&ln.text.length){tm=IPCC.h.vz(ln.text,ln.fontName);V=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);F={x:0,y:0,width:tm.width,height:tm.height};V.setText(ln.text);V.setFontName(ln.fontName);}acz=(F.width/AN);Ef=adc.height||(F.height/acz);vV=(eventArgs.imagePoint.x-(AN/2));wU=(eventArgs.imagePoint.y-(Ef/2));if(vV<=0){vV=0;}if(wU<=0){wU=0;}if((vV+AN)>=attributes.width){KR=(vV+AN)-attributes.width;vV=vV-KR;}if((wU+Ef)>=attributes.height){KR=(wU+Ef)-attributes.height;wU=wU-KR;}F={x:vV,y:wU,width:AN,height:Ef};V.setRectangle({x:vV,y:wU,width:AN,height:Ef});PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());});C.setCurrentMouseTool(ard);}});function MouseEvent(bJ){var C=this;for(var i in bJ){if(i){C[i]=bJ[i];}}};this.aS.NA(function(sender,eventArgs){var aZ=null,hl=null,V=null,gx=null,wF=false,Lh=eventArgs.upTarget.type,MH=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){MH=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){wF=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&MH===false){C.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){gx=C.aEE(eventArgs.upMark);wF=gx!==null;Lh="documentHyperlink";}else{V=C.dg[eventArgs.upMark.get_markID()];if(V===undefined){for(var iT in C.dg){if(C.dg.hasOwnProperty(iT)){if(C.dg[iT].L.aY===eventArgs.upMark.aY&&C.dg[iT].L.aY===eventArgs.downMark.aY){V=C.dg[iT];eventArgs.pageIndex=V.aq-1;wF=true;var apM=C.getCurrentMouseTool();var apY=PCCViewer.MouseTools.getMouseTool(apM);var agB=apY.getType();if(MH===false&&eventArgs.domEvent.button===0){if(agB===PCCViewer.MouseTool.Type.PanAndEdit||agB===PCCViewer.MouseTool.Type.EditMarks){C.deselectAllMarks();V.L.set_selected(true);}}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.jI()===eventArgs.upMark.jI()){wF=true;if(MH===false&&eventArgs.downTarget.alreadySelected===false){C.deselectAllMarks();V.L.set_selected(true);}}if(V===undefined){if(C.av&&C.JV[eventArgs.upTarget.pageIndex+1]==='search'){var fH=C.av.getResults();for(var J=0;J<fH.length;J++){if(fH[J].aq===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.bB!=='undefined'&&typeof eventArgs.upMark.bB!=='undefined'&&typeof eventArgs.downMark.dv!=='undefined'&&typeof eventArgs.upMark.dv!=='undefined'&&eventArgs.downMark.bB>=fH[J].getStartIndexInPage()&&eventArgs.downMark.bB+eventArgs.downMark.dv<=fH[J].getStartIndexInPage()+fH[J].getText().length&&eventArgs.upMark.bB>=fH[J].getStartIndexInPage()&&eventArgs.upMark.bB+eventArgs.upMark.dv<=fH[J].getStartIndexInPage()+fH[J].getText().length){Lh='searchResult';hl=fH[J];eventArgs.upTarget.pageIndex=hl.aq-1;wF=true;break;}}}}if(wF===false&&V===undefined&&C.JV[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.bB!=='undefined'&&typeof eventArgs.upMark.bB!=='undefined'&&eventArgs.downMark.bB>=C.aZ.startIndex&&eventArgs.downMark.bB+eventArgs.downMark.dv<=C.aZ.startIndex+C.aZ.length&&eventArgs.upMark.bB>=C.aZ.startIndex&&eventArgs.upMark.bB+eventArgs.upMark.dv<=C.aZ.startIndex+C.aZ.length){Lh='textSelection';aZ=C.aZ;wF=true;}}}var WD=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var aoz=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var R={pageNumber:aoz,targetType:Lh,textSelection:aZ,searchResult:hl,mark:V,originalEvent:WD,hyperlink:gx,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(wF===true){C.aN.trigger('Click',R);}},0);});(function(){var Ax=null;C.aS.Lt(function(sender,eventArgs){var WD=new MouseEvent(eventArgs.domEvent);var R={originalEvent:WD,clientX:eventArgs.windowPoint.x,clientY:eventArgs.windowPoint.y};if(!(eventArgs.mark instanceof IPCC.Web.UI.Mark)){if(Ax!==null){R.mark=C.dg[Ax];Ax=null;setTimeout(function(){C.aN.trigger('MarkMouseLeave',R);},0);}}else{R.mark=C.dg[eventArgs.mark.get_markID()];if(R.mark===undefined){for(var iT in C.dg){if(C.dg.hasOwnProperty(iT)){if(C.dg[iT].L.aY===eventArgs.mark.aY){R.mark=C.dg[iT];break;}}}}if(!R.mark){return;}setTimeout(function(){if(Ax!==R.mark.getId()){if(Ax!==null){C.aN.trigger('MarkMouseLeave',IPCC.h.extend({},R,{mark:C.dg[Ax]}));}Ax=R.mark.getId();C.aN.trigger('MarkMouseEnter',R);}C.aN.trigger('MarkMouseOver',R);},0);}});})();this.aS.add_hyperlinkPageReady(function(sender,eventArgs){if(C.DI[eventArgs.pageIndex]!==undefined){return;}var bm=eventArgs.pageIndex,ap=C.cj.getPage(bm),Fl=ap.get_hyperlinkPage().Jc(),wh=C.DI[bm]=[];Fl.lj(function(Aj){wh.push(new PCCViewer.DocumentHyperlink({aq:bm+1,Aj:Aj}));});if(!C.Dz[bm]){C.Dz[bm]=new PCCViewer.Deferred();}C.Dz[bm].resolve(wh);});this.pl=function(V,gn){var UY=false;function SQ(){var kP=false;var cK=C.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()===gn){kP=true;break;}}return kP;};function MR(gL){if(C.aS){C.aS.cv(gL);}};if(SQ()){if(Array.prototype.indexOf){if(IPCC.Web.kD(C.BU,gn)>=0){UY=true;}}else{if(IPCC.Web.kD(C.BU,gn)>=0){UY=true;}}if(!UY){C.BU.push(gn);setTimeout(function(){var cW=C.BU.length;if(cW>0){for(var J=0;J<cW;J++){MR(C.BU[J]);}C.BU.splice(0,cW);}},10);}}};var Ii={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},StrikethroughAnnotation:{lineColor:'color',lineWidth:'thickness',rectangle:'position'},RectangleRedaction:{text:this.bK.enableMultipleRedactionReasons?'reasons':'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:this.bK.enableMultipleRedactionReasons?'reasons':'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var KS={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.ot=function(aV,R){var V=C.dg[R.mark.get_markID()];var bf;if(V){bf=V.bf;}if(bf&&Ii[bf]&&Ii[bf][R.propertyName]===false){return;}var dq;if(bf){dq=Ii[bf]&&Ii[bf][R.propertyName]?Ii[bf][R.propertyName]:KS[R.propertyName]?KS[R.propertyName]:R.propertyName;}else{dq=KS[R.propertyName]?KS[R.propertyName]:R.propertyName;}if(R.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||R.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||R.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||(R.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.mark.aY!==undefined)){if(V){setTimeout(function(){C.aN.trigger('MarkChanged',{mark:V,pageNumber:R.pageIndex+1,propertyName:dq});},0);}else{for(var iT in C.dg){if(C.dg.hasOwnProperty(iT)){V=C.dg[iT];if(V.aY===R.mark.aY){break;}}}}C.pl(V,R.pageIndex);}else if(V&&R.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dq==='points'){if(V.Wq){clearTimeout(V.Wq);}V.Wq=setTimeout(function(){V.Wq=undefined;C.pl(V,R.pageIndex);C.aN.trigger('MarkChanged',{mark:V,pageNumber:R.pageIndex+1,propertyName:dq});},1);}else if(V){C.pl(V,R.pageIndex);setTimeout(function(){C.aN.trigger('MarkChanged',{mark:V,pageNumber:R.pageIndex+1,propertyName:dq});},0);}if(V&&V.type===PCCViewer.Mark.Type.TextRedaction){V.L.set_opacity(0);}if(V&&(V.bf===PCCViewer.Mark.Type.TextInputSignature||V.bf===PCCViewer.Mark.Type.TextAreaSignature)){V.L.set_lineVisible(false);}};this.aS.add_markChanged(C.ot);this.aS.add_markReordered(function(sender,eventArgs){var V=C.dg[eventArgs.mark.get_markID()];setTimeout(function(){C.aN.trigger('MarkReordered',{mark:V,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Dg=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var V;for(var Ny in C.dg){if(C.dg.hasOwnProperty(Ny)){V=C.dg[Ny];if(V.L.aY===eventArgs.mark.aY){V.L.set_selected(eventArgs.mark.get_selected());C.pl(V.L,V.L.bm);for(var J=0;J<V.bw.length;J++){V.bw[J].set_selected(eventArgs.mark.get_selected());C.pl(V.bw[J],V.bw[J].bm);}}}}}setTimeout(function(){C.aN.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aS.add_markSelectionChanged(C.Dg);this.aS.add_markTextSelectionChanged(function(sender,eventArgs){C.pl(eventArgs.mark,eventArgs.pageIndex);});this.DZ=function(sender,eventArgs){var V;if(eventArgs.mark){V=C.dg[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.Strikethrough||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&V===undefined&&eventArgs.mark.aY!==undefined){C.pl(eventArgs.mark,eventArgs.pageIndex);}else if(V){setTimeout(function(){C.aN.trigger(PCCViewer.EventType.MarkRemoved,{mark:V,pageNumber:eventArgs.pageIndex});},0);}}};this.aS.add_markRemoved(C.DZ);this.aS.add_commentAdding(function(sender,eventArgs){var V=C.dg[eventArgs.mark.get_markID()];if(eventArgs.comment.Gs.iB===undefined){eventArgs.comment.Gs.iB=C.getActiveMarkupLayer();}});this.aS.add_commentAdded(function(sender,eventArgs){var V=C.dg[eventArgs.mark.get_markID()];C.aN.trigger(PCCViewer.EventType.CommentCreated,{conversation:V.getConversation(),comment:eventArgs.comment.Gs});});this.aS.add_commentRemoved(function(sender,eventArgs){var V=C.dg[eventArgs.mark.get_markID()];C.aN.trigger(PCCViewer.EventType.CommentRemoved,{conversation:V.getConversation(),comment:eventArgs.comment.Gs});});this.aS.add_commentChanged(function(sender,eventArgs){var V=C.dg[eventArgs.mark.get_markID()];C.aN.trigger(PCCViewer.EventType.CommentChanged,{conversation:V.getConversation(),comment:eventArgs.comment.Gs});});this.aS.add_scaleChanged(function(sender,eventArgs){var eS;switch(eventArgs.fitType){case 0:eS=PCCViewer.FitType.FullWidth;break;case 1:eS=PCCViewer.FitType.ShrinkToWidth;break;case 2:eS=PCCViewer.FitType.ActualSize;break;case 3:eS=PCCViewer.FitType.FullHeight;break;case 4:eS=PCCViewer.FitType.FullPage;break;default:break;}C.aN.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eS,scaleFactor:eventArgs.scaleFactor});});};SingleSessionViewerControl.prototype.getPageCount=function(){return this.fp;};SingleSessionViewerControl.prototype.getPageNumber=function(){return(this.aS)?(this.aS.ahQ().get_pageNumber()+1):1;};SingleSessionViewerControl.prototype.setPageNumber=function(pageNumber){var aq;if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aq=Number(pageNumber);}}if(parseInt(aq,10)!==aq){throw new Error("The 'pageNumber' value "+aq+" is not an integer page number.");}if(aq<1||aq>this.getPageCount()|| !isFinite(aq)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===aq){return this;}if(this.aS){this.aS.scrollToPage(aq-1);}return this;};SingleSessionViewerControl.prototype.changeToFirstPage=function(){if(this.aS){if(this.Eh||this.lN){this.aS.scrollToFirstPage();}}return this;};SingleSessionViewerControl.prototype.changeToLastPage=function(){if(this.aS){if(this.Eh||this.lN){this.aS.scrollToLastPage();}}return this;};SingleSessionViewerControl.prototype.changeToNextPage=function(){if(this.aS){if(this.Eh||this.lN){this.aS.scrollToNextPage();}}return this;};SingleSessionViewerControl.prototype.changeToPrevPage=function(){if(this.aS){if(this.Eh||this.lN){this.aS.scrollToPreviousPage();}}return this;};SingleSessionViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.ej){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var C=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){C.aS.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{C.aS.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};SingleSessionViewerControl.prototype.scrollTo=function(target){if(!this.ej){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.gD){this.gD.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gD=null;this.jS=null;}var C=this;var HM=function(){C.aS.scrollConversationIntoView(target.getMark().L.get_conversation());if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};var vJ=function(ev){if(ev.target.wr===target){C.aN.off(PCCViewer.EventType.CommentCreated,vJ);C.wr=null;C.scrollTo(target);}else if(ev.target.wr===null){C.aN.off(PCCViewer.EventType.CommentCreated,vJ);}if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};var Hd=function(aq,gT){C.aS.prefetchPages();C.aS.scrollRegionIntoView(aq-1,gT);if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};aiq(C,target,vJ,HM,Hd);return this;};SingleSessionViewerControl.prototype.scrollToAsync=function(target){if(this.gD){this.gD.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.gD=null;this.jS=null;}var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this;C.gD=ag;try{var HM=function(){C.aS.scrollConversationIntoView(target.getMark().L.get_conversation());if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};var vJ=function(ev){if(ev.target.wr===target){C.aN.off(PCCViewer.EventType.CommentCreated,vJ);C.wr=null;C.scrollTo(target);}else if(ev.target.wr===null){C.aN.off(PCCViewer.EventType.CommentCreated,vJ);}if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};var Hd=function(aq,gT){C.aS.prefetchPages();C.aS.scrollRegionIntoView(aq-1,gT);if(C.gD){C.gD.resolve();}C.gD=null;C.jS=null;};if(aiq(C,target,vJ,HM,Hd)===true){ag.resolve();}}catch(e){C.gD=null;C.jS=null;ag.reject(new PCCViewer.Error("Error",e));}return dR;};function aiq(dp,dI,vJ,HM,Hd){var gT,aq,bn;dp.wr=null;if(dI instanceof PCCViewer.Conversation){if(dp.dg[dI.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var adz=dp.aS.scrollConversationIntoView(dI.getMark().L.get_conversation());if(adz==="PageOutOfView"){dp.jS=HM;dp.setPageNumber(dI.getMark().getPageNumber());return false;}else if(adz==="ConversationDivDoesNotExist"&&dI.getMark().L.get_conversation().get_length()>0){dp.wr=dI;dp.aN.on(PCCViewer.EventType.CommentCreated,vJ);return false;}else{dp.jS=null;return true;}}else if(dI instanceof PCCViewer.SearchResult){if(dI.Yd!==dp.az.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}bn=dI.getBoundingRectangle();gT=new IPCC.Web.UI.Rectangle(bn.x,bn.y,bn.width,bn.height);aq=dI.getPageNumber();}else if(dI instanceof PCCViewer.Mark){if(dp.dg[dI.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}bn=dI.getBoundingRectangle();gT=new IPCC.Web.UI.Rectangle(bn.x,bn.y,bn.width,bn.height);aq=dI.getPageNumber();}else if(dI!==undefined&&dI!==null){if(typeof dI.x==='number'&&typeof dI.y==='number'){gT=new IPCC.Web.UI.Rectangle(+dI.x,+dI.y,0,0);}else{if(isNaN(+dI.x)||isNaN(+dI.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{gT=new IPCC.Web.UI.Rectangle(Number(+dI.x),Number(+dI.y),0,0);}}if(dI.width){if(typeof dI.width==='number'){gT.width=dI.width;}else{if(isNaN(+dI.width)){throw new Error('The parameter target does not contain a valid width value.');}else{gT.width=Number(+dI.width);}}}if(dI.height){if(typeof dI.height==='number'){gT.height=dI.height;}else{if(isNaN(+dI.height)){throw new Error('The parameter target does not contain a valid height value.');}else{gT.height=Number(+dI.height);}}}if(typeof dI.pageNumber==='number'){aq= +dI.pageNumber;}else{if(isNaN(+dI.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{aq=Number(+dI.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(aq<1||aq>dp.getPageCount()|| !isFinite(aq)){throw new RangeError("The parameter pageNumber is out of range.");}if(dp.aS.scrollRegionIntoView(aq-1,gT)===false){dp.jS=function(){Hd(aq,gT);};dp.setPageNumber(aq);return false;}else{dp.jS=null;return true;}};SingleSessionViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.ej){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(zm(this.getPageNumber()-1,this)===false){this.aS.cv(this.getPageNumber()-1);}var iH=degreesClockwise%360,C=this;if(iH!==0){var xm=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iH||xm.indexOf(iH)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iH||IPCC.Web.kD(xm,iH)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aS.rotate(iH);}setTimeout(function(){C.aN.trigger("PageRotated",{degreesClockwise:iH,pageNumber:(C.getPageNumber())});},0);return this;};SingleSessionViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.ej){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(zm(this.getPageNumber()-1,this)===false){this.aS.cv(this.getPageNumber()-1);}var iH=degreesClockwise%360,C=this;if(iH!==0){var xm=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!iH||xm.indexOf(iH)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!iH||IPCC.Web.kD(xm,iH)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aS.afE(iH);}setTimeout(function(){C.aN.trigger("DocumentRotated",{degreesClockwise:iH});},0);return this;};SingleSessionViewerControl.prototype.getScaleFactor=function(){if(!this.uf){throw "The getScaleFactor method cannot be called before the initial PageOpening event.";}return this.aS.get_scaleFactor();};SingleSessionViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.uf){throw "The setScaleFactor method cannot be called before the initial PageOpening event.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aS.set_scaleFactor(+scaleFactor);return this;};SingleSessionViewerControl.prototype.getMinScaleFactor=function(){if(!this.uf){throw "The getMinScaleFactor method cannot be called before the initial PageOpening event.";}return this.aS.getMinMaxZoom().minFactor;};SingleSessionViewerControl.prototype.getMaxScaleFactor=function(){if(!this.uf){throw "The getMaxScaleFactor method cannot be called before the initial PageOpening event.";}return this.aS.getMinMaxZoom().maxFactor;};SingleSessionViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.uf){throw "The zoomIn method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aS){this.aS.zoomIn(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.uf){throw "The zoomOut method cannot be called before the initial PageOpening event.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aS){this.aS.zoomOut(+zoomFactor);}return this;};SingleSessionViewerControl.prototype.getViewMode=function(){var oO;if(this.aS&&this.aS.get_viewMode){oO=this.aS.get_viewMode();}else{oO=this.bK.viewMode;}if(oO===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oO===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oO===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};SingleSessionViewerControl.prototype.setViewMode=function(viewMode){var oO;switch(viewMode){case PCCViewer.ViewMode.Document:oO=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oO=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oO=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oO=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aS&&this.aS.set_viewMode){var FG=this.aS.get_viewMode();if(FG!==oO){if(FG===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oO===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aS.set_viewMode(oO);}}else{this.bK.viewMode=oO;}return this;};SingleSessionViewerControl.prototype.getPageLayout=function(){var wD;if(this.aS&&this.aS.get_pageLayout){wD=this.aS.get_pageLayout();}else{wD=this.bK.pageLayout;}if(wD===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};SingleSessionViewerControl.prototype.setPageLayout=function(pageLayout){var wD;if(this.bK.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:wD=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aS&&this.aS.closeCommentsPanel){this.aS.closeCommentsPanel();var C=this;setTimeout(function(){C.aN.trigger("CommentsPanelToggled",{isOpen:false});},10);}wD=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aS&&this.aS.set_pageLayout){this.aS.set_pageLayout(wD);}else{this.bK.pageLayout=wD;}return this;};SingleSessionViewerControl.prototype.getAtMaxScale=function(){if(!this.uf){throw "The getAtMaxScale method cannot be called before the initial PageOpening event.";}return this.aS.getMinMaxZoom().atMax;};SingleSessionViewerControl.prototype.getAtMinScale=function(){if(!this.uf){throw "The getAtMinScale method cannot be called before the initial PageOpening event.";}return this.aS.getMinMaxZoom().atMin;};SingleSessionViewerControl.prototype.fitContent=function(fitType){if(!this.uf){throw "The fitContent method cannot be called before the initial PageOpening event.";}var EA;switch(fitType){case PCCViewer.FitType.FullWidth:EA=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:EA=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}EA=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:EA=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:EA=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.qY.then(function(sH){sH.fitPages(EA);});return this;};SingleSessionViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.ej){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var aq;if(arguments.length>0){if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aq=Number(pageNumber);}}if(parseInt(aq,10)!==aq){throw new Error("The 'pageNumber' value "+aq+" is not an integer page number.");}if(aq<1||aq>this.getPageCount()|| !isFinite(aq)){throw new Error("The parameter pageNumber is out of range.");}return this.aS.YV(aq-1);}else{return this.aS.YV();}};SingleSessionViewerControl.prototype.search=function(cg){var bK=this.bK;var ayN=bK.searchMethodType.toLowerCase();var avX=bK.searchMethodPageCountThreshold;var C=this;var ZB;var jJ;var Iy=new PCCViewer.SearchRequest(true);if(Object.defineProperties){Object.defineProperties(Iy,{"searchQuery":{enumerable:true,get:function(){return jJ.getSearchQuery();}},"results":{enumerable:true,get:function(){return jJ.getResults();}},"isComplete":{enumerable:true,get:function(){return jJ.getIsComplete();}},"errorCode":{enumerable:true,get:function(){return jJ.getErrorCode();}},"errorMessage":{enumerable:true,get:function(){return jJ.getErrorMessage();}}});}function Hl(bp){return function(){Iy.trigger.apply(Iy,[bp].concat([].slice.call(arguments)));};};var aco=Hl(PCCViewer.EventType.SearchCompleted);var adu=Hl(PCCViewer.EventType.SearchCancelled);var acV=Hl(PCCViewer.EventType.SearchResultsAvailable);var adq=Hl(PCCViewer.EventType.PartialSearchResultsAvailable);var acw=function(bJ){var ew=ZB.getErrorCode();if(ew==='ServerSearchUnavailable'){C.agO=true;C.yB=false;azk();jJ=C.clientSearch(cg);akv();}else{Hl(PCCViewer.EventType.SearchFailed).apply(null,arguments);}};var akv=function(){jJ.on(PCCViewer.EventType.SearchCompleted,aco);jJ.on(PCCViewer.EventType.SearchFailed,acw);jJ.on(PCCViewer.EventType.SearchCancelled,adu);jJ.on(PCCViewer.EventType.SearchResultsAvailable,acV);jJ.on(PCCViewer.EventType.PartialSearchResultsAvailable,adq);};var azk=function(){jJ.off(PCCViewer.EventType.SearchCompleted,aco);jJ.off(PCCViewer.EventType.SearchFailed,acw);jJ.off(PCCViewer.EventType.SearchCancelled,adu);jJ.off(PCCViewer.EventType.SearchResultsAvailable,acV);jJ.off(PCCViewer.EventType.PartialSearchResultsAvailable,adq);};var Cn=function(){if(C.agO===false){ZB=C.serverSearch(cg);jJ=ZB;akv();IPCC.h.forEach(['getSearchQuery','getResults','getIsComplete','getErrorCode','getErrorMessage','cancel','getPagesWithoutText'],function(bp){Iy[bp]=function(){return jJ[bp].apply(jJ,arguments);};});return Iy;}else{return C.clientSearch(cg);}};switch(ayN){case('auto'):if(avX>=this.fp){return this.clientSearch(cg);}else{return Cn();}break;case('client'):return this.clientSearch(cg);case('server'):return Cn();default:throw new Error("The value of 'options.searchMethodType' should be 'auto', 'server', or 'client'.");}};SingleSessionViewerControl.prototype.aca=function(cg,aAQ){var C=this;var dk=new PCCViewer._Search();this.av=dk.aBi();PCCViewer.SearchTask.prototype.aeL(cg);if(aAQ===true){if(C.vB!==true){C.qY.then(function(sH){var Kx=function(){C.aN.off('PageCountReady',Kx);C.clientSearch(cg);};C.aN.on('PageCountReady',Kx);return C.av;});}if(!this.az.aBq()){this.az.QQ(0,this.az.fp-1,this.az.fp);}}this.vR=null;this.Fc={};this.aS.clearAllSelectedText();return dk;};SingleSessionViewerControl.prototype.ahw=function(){var bo=this;this.av.on('PartialSearchResultsAvailable',function(dr){if(bo.oW){return;}var He=[];var RI={};He=dr.partialSearchResults;var aP=He[0];if(bo.Fc[aP.getPageNumber()]!==undefined){RI=bo.Fc[aP.getPageNumber()];}else{RI.bB=aP.getId();}aP=He[He.length-1];RI.ci=aP.getId();bo.Fc[aP.getPageNumber()]=RI;function CS(ap){if(bo.oW){return;}bo.afV(ap.get_pageNumber(),He);};var cK=bo.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()+1===aP.getPageNumber()){bo.requestPageText(ap.get_pageNumber()+1).then(CS.bind(null,ap));}}});this.av.on('SearchCompleted',function(dr){bo.yB=false;});this.av.on('SearchCancelled',function(dr){bo.yB=false;});this.aN.trigger('SearchPerformed',{searchRequest:this.av});};SingleSessionViewerControl.prototype.clientSearch=function(searchQuery){var bo=this;var dk=bo.aca(searchQuery,true);searchQuery=dk.Tm(searchQuery);if(this.yB===false){bo.aS.set_retainPageText(true);this.av=dk.vr(searchQuery,this.az);this.yB=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bo.ahw();return this.av;};SingleSessionViewerControl.prototype.serverSearch=function(searchQuery){var bo=this;var dk=bo.aca(searchQuery,false);searchQuery=dk.Tm(searchQuery);if(this.yB===false){this.av=dk.Cn(searchQuery,this.az);this.yB=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}bo.ahw();return this.av;};SingleSessionViewerControl.prototype.getSearchRequest=function(){return this.av;};SingleSessionViewerControl.prototype.clearSearch=function(){if(!this.ej){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var C=this;if(this.getSelectedSearchResult()){this.vR=null;setTimeout(function(){C.aN.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aS.clearAllSelectedText();this.av=null;setTimeout(function(){C.aN.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};SingleSessionViewerControl.prototype.validateSearch=function(cg){var ek={errorsExist:false};var searchTermObj,acT,J,bE,Wy,NB,Le;if(typeof cg!=='object'&&typeof cg!=='string'){ek.errorsExist=true;ek.summaryMsg="Search query must be either an object or string.";return ek;}if(typeof cg==='string'&&cg.length<0){ek.errorsExist=true;ek.summaryMsg="Search term must contain at least 3 characters.";return ek;}else if(typeof cg==='string'){return ek;}if(!cg.hasOwnProperty('searchTerms')){ek.errorsExist=true;ek.summaryMsg="Search options must have a 'searchTerms' key.";return ek;}if(Object.prototype.toString.call(cg.searchTerms)!=='[object Array]'){ek.errorsExist=true;ek.summaryMsg="Search terms value must be an array.";return ek;}if(!cg.searchTerms.length){ek.errorsExist=true;ek.summaryMsg="Search terms array must contain at least one value.";return ek;}ek.searchTerms=[];IPCC.h.forEach(cg.searchTerms,function(searchTermObj){var Lp=ald(searchTermObj);if(Lp.errorsExist){ek.errorsExist=true;}ek.searchTerms=ek.searchTerms.concat(Lp.searchTerms);});return ek;};function ald(ks){var ek={errorsExist:false,searchTerms:[]};var ayk=ks.type?IPCC.h.trim(ks.type).toLowerCase():undefined;if(ayk==='proximity'){if(Object.prototype.toString.call(ks.terms)!=='[object Array]'){ek.searchTerms.push({isValid:false,message:"Proximity search terms property must be an array"});ek.errorsExist=true;return ek;}if(ks.terms.length<2){ek.searchTerms.push({isValid:false,message:"Proximity search terms array must contain at least two values"});ek.errorsExist=true;return ek;}if(!ks.distance){ek.searchTerms.push({isValid:false,message:"Proximity search term must have a distance specified"});ek.errorsExist=true;return ek;}IPCC.h.forEach(ks.terms,function(aGi){var Lp=ald(aGi);if(Lp.errorsExist){ek.errorsExist=true;}ek.searchTerms=ek.searchTerms.concat(Lp.searchTerms);});return ek;}var Wy,Le;var NB=(typeof ks.matchingOptions!=='undefined'&&ks.matchingOptions.hasOwnProperty('matchCase'))?ks.matchingOptions.matchCase:false;if(typeof ks.searchTerm==='undefined'||typeof ks.searchTerm!=='string'||(ks.searchTermIsRegex===true&& !ayw(ks.searchTerm,NB))){ek.errorsExist=true;ek.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});return ek;}Wy=(typeof ks.matchingOptions!=='undefined'&&ks.matchingOptions.hasOwnProperty('exactPhrase'))?ks.matchingOptions.exactPhrase:false;if(Wy){if(ks.searchTerm.length<0){ek.errorsExist=true;ek.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});return ek;}}else{var acT=ks.searchTerm.split(' ');IPCC.h.forEach(acT,function(Le){if(Le.length>0&&Le.length<0){ek.errorsExist=true;ek.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}});}if(!ek.searchTerms.length){ek.searchTerms.push({isValid:true,message:null});}return ek;};var ayw=function(Ut,NB){var ate,aah,PM;if(NB){aah='gm';}else{aah='igm';}if(!Ut&&Ut!==null){PM=false;}else{try{ate=new RegExp(Ut,aah);PM=true;}catch(err){PM=false;}}return PM;};SingleSessionViewerControl.prototype.requestRevisions=function(){this.ix=new PCCViewer.Ja({imageHandlerUrl:this.bK.imageHandlerUrl,documentID:this.bK.documentID});return this.ix.azv();};SingleSessionViewerControl.prototype.gN=function(XO){var xT=false,cK=this.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()===XO){xT=true;}}return xT;};SingleSessionViewerControl.prototype.getDownloadDocumentURL=function(){var ai;if(!(/^[\x00-\x7F]*$/.test(this.az))){ai=this.bK.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bK.documentID+'/SourceFile';}else{ai=this.bK.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bK.documentID);}return ai;};SingleSessionViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var aq;var ag=PCCViewer.Deferred();var dR=ag.getPromise();var dp=this;try{if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aq=parseInt(pageNumber,10);}}if(aq<1||aq>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var Xs=this.Dz[aq-1];if(!Xs){Xs=this.Dz[aq-1]=new PCCViewer.Deferred();this.qY.then(function(){var ap=dp.cj.getPage(aq-1);ap.Al();});}ag.resolve(Xs.getPromise());}catch(e){ag.reject(new PCCViewer.Error('Error',e));}return dR;};SingleSessionViewerControl.prototype.aEE=function(aDr){var i,j,wh;for(j=0;j<this.DI.length;j++){wh=this.DI[j];if(wh){for(i=0;i<wh.length;i++){if(wh[i].Aj.Mw()===aDr){return wh[i];}}}}return null;};SingleSessionViewerControl.prototype.print=Print.print;SingleSessionViewerControl.prototype.validatePrintRange=Print.validatePrintRange;SingleSessionViewerControl.prototype.canPrintMarks=Print.canPrintMarks;SingleSessionViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.ej===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var C=this;var fp=C.getPageCount();var fD;if(typeof values==='string'){try{fD=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fD=values;}if(fD.constructor!==Array){fD=[fD];}function MX(fA,aC){throw new Error('Cannot serialize mark (at index '+aC+') because of '+fA);};var aaP=IPCC.h.map(C.getAllMarks(),function(V){return V.getUid();});IPCC.h.forEach(fD,function validateObject(bq,aC){if(!bq.pageNumber||isNaN(+bq.pageNumber)||bq.pageNumber<1||bq.pageNumber>fp){MX('unknown page number '+bq.pageNumber,aC);}if(!PCCViewer.Mark.Type[bq.type]){MX('unknown type '+bq.type,aC);}if(bq.type==='RectangleRedaction'||bq.type==='TextSelectionRedaction'){if(!C.bK.enableMultipleRedactionReasons&&bq.hasOwnProperty('reasons')){MX('Loading markup with multiple redaction reasons is not supported when enableMultipleRedactionReasons is set to false',aC);}}if(IPCC.h.contains(aaP,bq.uid)){MX('uid '+bq.uid+' is being duplicated or already exists',aC);}else if(bq.uid!==undefined){aaP.push(bq.uid);}});if(fD.length===0){return[];}var dP=C.az.get_pages();var apz=[];dP.lj(function(ap){apz.push(C.aS.hz(ap));});var bA=IPCC.h.reduce(fD,function(aP,bq){var ap=dP.iZ(bq.pageNumber-1);var WM=ap.get_pageWidth();var ags=ap.get_pageHeight();var hy=bq.pageData;if(!hy&&(!WM|| !ags)){var axh=IPCC.h.find(bq.lineGroups,function(ahb){return(ahb.pageNumber&&ahb.pageNumber===bq.pageNumber);});hy=axh.pageData;}var aW=WM||hy.width;var bg=ags||hy.height;var V=da[bq.type].call(C,bq,{aW:aW,bg:bg});if(bq.uid===undefined){aaP.push(V.getUid());}if(!WM&&bq.maintainMarkScaling!==true){ap.CJ=true;ap.aby(aW);ap.aaG(bg);}if(!V.L.has_unsafe_href()){aP.push(V);}else{C.deleteMarks(V);}return aP;},[]);return bA;};SingleSessionViewerControl.prototype.serializeMarks=function serializeMarks(marks){var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this,bA,aGg=false;function ajw(fA){setTimeout(function(){ag.reject(fA);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){bA=marks;}else if(marks){bA=[marks];aGg=true;}else{ajw(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return dR;}var KN;bA=IPCC.h.filter(bA,function(mR,aC){var Kl=mR instanceof PCCViewer.Mark&&mR===C.getMarkById(mR.getId())&& ! !eZ[mR.getType()];if(!Kl&& !KN){KN=aC;}return Kl;});if(KN){ajw(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+KN+' because it is not a valid mark or a mark known to ViewerControl'));return dR;}var VY=C.az.get_pages();var dP=IPCC.h.reduce(bA,function(dU,mR){var aq=mR.getPageNumber();if(dU[aq]){return dU;}dU[aq]=VY.getPage(aq-1);return dU;},{});function avd(V,ap,aoB){return function(mt){eZ[V.getType()]({mark:V,page:ap,vc:C},function(dJ,ds){if(!dJ){aoB(ds);mt();}else{ag.reject(dJ);}});};};var rV=[];var ayq=IPCC.h.map(bA,function(mR,aC){return avd(mR,dP[mR.getPageNumber()],function(ds){rV[aC]=ds;});});IPCC.h.Wp(ayq,function(){ag.resolve(rV);});return dR;};SingleSessionViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var Oe,TW;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:Oe=true;TW=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:Oe=false;TW=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aS&&this.aS.set_redactionDraftMode){var apy=this.aS.get_redactionDraftMode();if(apy!==Oe){this.aS.set_redactionDraftMode(Oe);}}else{this.bK.redactionViewMode=TW;}return this;};SingleSessionViewerControl.prototype.getRedactionViewMode=function(){var akG;if(this.aS&&this.aS.get_redactionDraftMode){akG=this.aS.get_redactionDraftMode();if(akG===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bK.redactionViewMode;}};SingleSessionViewerControl.prototype.convertToRedaction=function(searchResult){var C=this;var hl=searchResult;if(this.ej===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.TextSelectionRedaction);};var aHs=function(aA,hm,nh,eB,nD,amc){var fJ=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);fJ.aY=nD;fJ.bm=amc;var V=null;var la={hB:Number.MAX_VALUE,jv:0,_top:Number.MAX_VALUE,hL:0};for(var bE=nh;bE<eB;bE++){var eQ=hm.jM(bE);if(V){var vQ=V.get_rectangle();if(Math.abs(eQ.an.y-vQ.y)<1&&Math.abs(eQ.an.height-vQ.height)<1&&eQ.an.x+eQ.an.width>=vQ.x+vQ.width){V.set_rectangle(new IPCC.Web.UI.Rectangle(vQ.x,vQ.y,eQ.an.x+eQ.an.width-vQ.x,vQ.height));}else{agM(aA,fJ,V,la);V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);V.set_rectangle(eQ.an);V.kc(true);V.set_fillColor('#000000');V.set_text(fJ.bv);V.set_lineWidth(0);V.aY=nD;}}else{V=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);V.set_rectangle(eQ.an);V.kc(true);V.set_fillColor('#000000');V.set_text(fJ.bv);V.set_lineWidth(0);V.aY=nD;}V.bm=amc;}if(V!==null){agM(aA,fJ,V,la);}fJ.set_rectangle(new IPCC.Web.UI.Rectangle(la.hB,la._top,la.jv-la.hB,la.hL-la._top));return fJ;};var agM=function(aA,fJ,V,la){var F=V.get_rectangle();if(F.x<la.hB){la.hB=F.x;}if(F.y<la._top){la._top=F.y;}if(F.x+F.width>la.jv){la.jv=F.x+F.width;}if(F.y+F.height>la.hL){la.hL=F.y+F.height;}aA.addMark(V);fJ.bC.push(V);};SingleSessionViewerControl.prototype.convertToHighlight=function(searchResult){var hl=searchResult;if(this.ej===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}return this.addMarkFromSearchResult(searchResult,PCCViewer.Mark.Type.HighlightAnnotation);};var aIn=function(bI,aP,aCl,nD){var V=new IPCC.Web.UI.Mark(bI);if(bI===IPCC.Web.UI.MarkType.HighlightText){V.dF=aP.getText();}V.bB=aCl;V.set_rectangle({x:0,y:0,width:0,height:0});V.dv=aP.getText().length;V.aHF=aP.getStartIndexInPage()+aP.getText().length;V.co=127;V.fE=aP.getHighlightColor();V.lc='y';V.aY=nD;return V;};SingleSessionViewerControl.prototype.afV=function(bm,fH){var aP={};for(var bE=0;bE<fH.length;bE++){aP=fH[bE];this.aS.selectText(aP.getPageNumber()-1,aP.getStartIndexInPage(),aP.getText().length,aP.getHighlightColor());}this.aS.display(aP.getPageNumber()-1);this.JV[aP.getPageNumber()]='search';};SingleSessionViewerControl.prototype.Yc=function(bm,searchResult){var aP={};if(this.av===null||typeof this.av.getResults!=='function'){return;}var fH=this.av.getResults();this.aS.clearSelectedText(bm-1);var Uv=this.Fc[bm];if(!Uv){return;}for(var bE=Uv.bB;bE<Uv.ci+1;bE++){aP=fH[bE];if(aP.getPageNumber()===bm){this.aS.selectText(aP.getPageNumber()-1,aP.getStartIndexInPage(),aP.getText().length,aP.getHighlightColor());if(searchResult===aP.getId()){this.aS.selectText(aP.getPageNumber()-1,aP.getStartIndexInPage(),aP.getText().length,aP.getHighlightColor());}}}this.aS.display(aP.getPageNumber()-1);this.JV[aP.getPageNumber()]='search';};SingleSessionViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.ej){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.HB= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.av){throw "There is no current SearchRequest object available.";}var adB=this.av.getResults();if(adB[searchResult.getId()].mP!==searchResult.mP){throw "The parameter searchResult is not current. There is a newer version of search result available.";}adB=null;this.HB=searchResult.getId();if(scrollTo){var bn=searchResult.getBoundingRectangle();var gT=new IPCC.Web.UI.Rectangle(bn.x,bn.y,bn.width,bn.height);if(this.aS.scrollRegionIntoView(searchResult.getPageNumber()-1,gT)===false){this.jS=function(){C.aS.scrollRegionIntoView(searchResult.getPageNumber()-1,gT);};this.setPageNumber(searchResult.getPageNumber());}else{this.jS=null;}}}var C=this;var avC=searchResult!==null?searchResult.getPageNumber(): -1;if(this.vR&&this.vR.getPageNumber()!==avC){C.requestPageText(C.vR.getPageNumber()).then(function CS(){C.Yc(C.vR.getPageNumber(),C.HB);});}if(searchResult){C.requestPageText(searchResult.getPageNumber()).then(function CS(){C.Yc(searchResult.getPageNumber(),C.HB);});}this.vR=searchResult;setTimeout(function(){C.aN.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};SingleSessionViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.ej){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};SingleSessionViewerControl.prototype.getSelectedSearchResult=function(){return this.vR;};SingleSessionViewerControl.prototype.requestPageText=function(pageNumber){var aq;var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aq=parseInt(pageNumber,10);}}if(aq<1||aq>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qY.then(function(sH){var ap=C.cj.getPage(aq-1);var ft=ap.dc();ft.aav(true);if(ft&&ft.za()){if(ft.nU()===true){var bv=ap.dc().CG();ag.resolve(bv);}else{ag.resolve("");}}else{var GF=function(aV,cD){if(cD.containsText===true){var bv=ft.CG();ag.resolve(bv);}else{ag.resolve("");}ap.EB(GF);ap.EI(FD);};var FD=function(aV,cD){if(cD.exception&&cD.exception.message){ag.reject(new PCCViewer.Error("TextExtractionFailed",cD.exception.message));}else{ag.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}ap.EB(GF);ap.EI(FD);};ap.zL(GF);ap.AB(FD);ap.Al();}});}catch(e){ag.reject(new PCCViewer.Error("Error",e));}return dR;};SingleSessionViewerControl.prototype.disposePageText=function(pageNumber){var aq;var C=this;if(!this.ej){throw new Error("The disposePageText method requires the viewer to be in a 'ViewerReady' state.");}if(C.aS.get_retainPageText()===true){return this;}if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{aq=parseInt(pageNumber,10);}}if(aq<1||aq>this.getPageCount()|| !isFinite(pageNumber)){throw new Error("The specified page is out of range.");}var cK=C.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ahC=cK.getPage(J);if(ahC.get_pageNumber()===aq-1){ahC.dc().aav(false);return this;}}var ap=C.cj.getPage(aq-1);ap.ahc();return this;};SingleSessionViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bH.lZ(pageNumber,"pageNumber",1,this.getPageCount());var ap;return(this.aS&&this.cj&&(ap=this.cj.getPage(pageNumber-1))&&ap.dc()&&ap.dc().za())===true;};SingleSessionViewerControl.prototype.documentHasText=function(){return this.aED;};SingleSessionViewerControl.prototype.requestPageAttributes=function(pageNumber){var aq;var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{aq=parseInt(pageNumber,10);}}if(aq<1||aq>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.qY.then(function(sH){var ap=C.cj.getPage(aq-1);if(ap.ke()>0||ap.ir()>0){ag.resolve({'width':ap.ke(),'height':ap.ir()});}else{var Ak=function(aD,ab){ag.resolve({'width':aD,'height':ab});};var Ba=function(errorMessage){ag.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};sH.requestPageAttributes(ap,Ak,Ba);}});}catch(e){ag.reject(new PCCViewer.Error("Error",e));}return dR;};SingleSessionViewerControl.prototype.destroy=function(){if(!this.oW){this.DI=undefined;this.Dz=undefined;this.AD=undefined;this.md=undefined;this.ix=undefined;this.jq=undefined;if(this.aS&&typeof this.aS.dispose==="function"){this.aS.dispose();}this.ai="";this.fp=0;delete this.aS;this.az=undefined;this.MC=0;this.cj=undefined;this.ahy=false;if(this.eW){IPCC.h.EG(this.eW);this.eW=this.cG=undefined;}this.lN=false;this.vB=false;this.Eh=false;this.aS=undefined;this.Qr=undefined;this.Ui=undefined;this.qY=undefined;PCCViewer.MouseTools.rK=undefined;this.pq=undefined;this.DI=undefined;this.FA=undefined;for(var Iq in this.dg){if(this.dg.hasOwnProperty(Iq)){this.dg[Iq].ds=undefined;this.dg[Iq].dE=undefined;this.dg[Iq].L=undefined;this.dg[Iq]=undefined;}}this.dg=undefined;this.ej=false;this.oW=true;this.aN={on:function Gx(){},off:function Gx(){},trigger:function Gx(){}};this.ik=undefined;this.ik={};}};SingleSessionViewerControl.prototype.aDF=function(){if(this.eW){this.aS.preserveScrollPosition();this.Qr=this.eW.childNodes[0];IPCC.h.EG(this.eW);}};SingleSessionViewerControl.prototype.azJ=function(){if(this.Qr){IPCC.h.EG(this.eW);this.eW.appendChild(this.Qr);this.Qr=undefined;this.aS.restoreScrollPosition();}};SingleSessionViewerControl.prototype.arh=function(){this.aN.stop();};SingleSessionViewerControl.prototype.aAD=function(){this.aN.resume();};SingleSessionViewerControl.prototype.aEL=function(interceptor){this.aN.intercept("ViewerReady",interceptor);};SingleSessionViewerControl.prototype.getMarkById=function(markId){var C=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(C.dg[markId]){return C.dg[markId];}else{return null;}};SingleSessionViewerControl.prototype.getMarksByType=function(markType){var TE=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}air(markType);if(!this.aS){return TE;}var J=0;var dw=this.cj.get_length();var C=this;function aur(L){var V=C.dg[L.get_markID()];if(V&&V.getType().toLowerCase()===markType.toLowerCase()){TE.push(V);}};for(J=0;J<dw;J++){var aA=this.aS.hz(this.cj.getPage(J));if(aA){aA.forEachMark(aur);}}return TE;};SingleSessionViewerControl.prototype.getAllMarks=function(){var DS=[];if(!this.aS){return DS;}var dw=this.cj.get_length();var C=this;var J=0;var V;function Ou(L){var V=C.dg[L.get_markID()];if(typeof V!=='undefined'){DS.push(V);}};for(J=0;J<dw;J++){var aA=this.aS.hz(this.cj.getPage(J));if(aA){aA.forEachMark(Ou);}}return DS;};function air(markType){var fs;switch(markType.toLowerCase()){case "lineannotation":fs=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":fs=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":fs=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":fs=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":fs=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":fs=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":fs=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":fs=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":fs=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":fs=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":fs=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":fs=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":fs=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":fs=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":fs=IPCC.Web.UI.MarkType.TextLine;break;case "textareasignature":fs=IPCC.Web.UI.MarkType.TextAreaSignature;break;case "textselectionredaction":fs=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":fs=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":fs=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":fs=IPCC.Web.UI.MarkType.Polyline;break;case "strikethroughannotation":fs=IPCC.Web.UI.MarkType.Strikethrough;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return fs;};SingleSessionViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){var C=this,hy;if(C.ej===false){throw "The method addMarkFromSearchResult is not available until 'ViewerReady' state is reached.";}if(!(searchResult instanceof PCCViewer.SearchResult)){throw new PCCViewer.Error("InvalidArgument","searchResult is not a valid instance of PCCViewer.SearchResult");}if([PCCViewer.Mark.Type.TextSelectionRedaction,PCCViewer.Mark.Type.HighlightAnnotation,PCCViewer.Mark.Type.TextHyperlinkAnnotation,PCCViewer.Mark.Type.StrikethroughAnnotation].indexOf(markType)=== -1){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextSelectionRedaction', 'HighlightAnnotation', 'TextHyperlinkAnnotation' or 'StrikethroughAnnotation'.");}if(searchResult.hy.width===0){var Kr=C.az.dP.iZ(0);hy={width:Kr.ke(),height:Kr.ir()};}else{hy=searchResult.hy;}var agx=IPCC.h.ud(new Date());var markInfo=[{conversation:{comments:[],data:{}},creationDateTime:agx,data:{},interactionMode:'Full',lineGroups:[{lines:searchResult.bC,pageData:hy,pageNumber:searchResult.pageNumber,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length}],maintainMarkScaling:true,modificationDateTime:agx,pageNumber:searchResult.pageNumber,pageData:hy,reason:"",selectedText:searchResult.text,startIndex:searchResult.startIndexInPage,textLength:searchResult.text.length,type:markType}];var Ps=C.deserializeMarks(markInfo);return Ps[0];};SingleSessionViewerControl.prototype.addMark=function(pageNumber,markType){if(this.ej===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var aq;if(typeof(pageNumber)==='number'){aq=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{aq=parseInt(pageNumber,10);}}if(aq<1||aq>this.cj.get_length()|| !isFinite(aq)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}var V=this.age(aq,markType);return this.akk(V);};SingleSessionViewerControl.prototype.age=function(aq,bI,bK){var C=this;bK=bK||{};var fs=air(bI);var L=new IPCC.Web.UI.Mark(fs);L.bm=aq-1;var OW={type:bI,igMark:L,pageNumber:aq,uid:bK.uid,viewerControl:this};if(bI.toLowerCase()==="highlightannotation"||bI.toLowerCase()==="textselectionredaction"||bI.toLowerCase()==="strikethroughannotation"||bI.toLowerCase()==="texthyperlinkannotation"){OW.cj=C.cj;OW.aS=C.aS;}if(bI.toLowerCase()==="rectangleredaction"||bI.toLowerCase()==="textselectionredaction"){OW.enableMultipleRedactionReasons=this.bK.enableMultipleRedactionReasons;}var V=new PCCViewer.Mark(OW);return V;};SingleSessionViewerControl.prototype.akk=function(V){var C=this;if(C.akJ===true){C.akJ=false;}else{var LZ=C.np;C.np=function(sender,eventArgs){C.np=LZ;if(C.ws){C.AD.addMarks(V);}setTimeout(function(){C.aN.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var aA=this.aS.hz(this.cj.getPage(V.aq-1));aA.addMark(V.L);C.dg[V.L.get_markID()]=V;C.pl(V,V.aq-1);return V;};SingleSessionViewerControl.prototype.deleteMarks=function(marks){var C=this;var J=0;var V;if(!this.ej){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Qa(rj){var bm=rj.getPageNumber()-1;var aY='';var bf='';var Jz=bm;var aA=C.aS.hz(C.cj.getPage(bm));aA.removeMark(rj.L);if(C.dg[rj.getId()]){aY=rj.L.aY;bf=rj.getType();delete C.dg[rj.getId()];}var PW=bf.toLowerCase();if((PW==='highlightannotation'||PW==='textselectionredaction'||PW==='strikethroughannotation'||PW==='texthyperlinkannotation')&&(rj.bw&&rj.bw.length)){for(var J=0;J<rj.bw.length;J++){var mi=rj.bw[J];aA=C.aS.hz(C.cj.getPage(mi.bm));aA.removeMark(mi);C.pl(mi,mi.bm);}}C.md.forEach(function(eO){if(eO.hasMark(rj.getId())){eO.removeMarks(rj);}});};if(marks instanceof Array){for(J=0;J<marks.length;J++){V=marks[J];if(!(V instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(C.dg[V.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(J=0;J<marks.length;J++){Qa(marks[J]);C.pl(marks[J],marks[J].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(C.dg[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Qa(marks);C.pl(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};SingleSessionViewerControl.prototype.deleteAllMarks=function(){var DS=this.getAllMarks();if(DS.length>0){return this.deleteMarks(DS);}return this;};SingleSessionViewerControl.prototype.hideMarks=function(marks){ahP(this,marks,false,'hideMarks');return this;};SingleSessionViewerControl.prototype.showMarks=function(marks){ahP(this,marks,true,'showMarks');return this;};function ahP(dp,bA,vn,awx){var J=0;var V;if(!dp.ej){throw new PCCViewer.Error("InvalidArgument","The method "+awx+" can not be used until 'ViewerReady' state is reached.");}if(bA instanceof Array){for(J=0;J<bA.length;J++){V=bA[J];if(!(V instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(dp.dg[V.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(J=0;J<bA.length;J++){bA[J].setVisible(vn);}}else{if(bA instanceof PCCViewer.Mark){if(!(dp.dg[bA.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bA.setVisible(vn);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function zm(ayg,kS){var kP=false;var cK=kS.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()===ayg){kP=true;break;}}return kP;};SingleSessionViewerControl.prototype.moveMarkToFront=function(mark){var aA;var gn;if(!this.ej){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){gn=mark.getPageNumber();if(mark.getPageNumber()>0){aA=this.aS.hz(this.cj.getPage(gn-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aA){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToFront();if(zm(gn-1,this)===true){var kS=this;setTimeout(function(){kS.aS.cv(gn-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkToBack=function(mark){var aA;var gn;if(!this.ej){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gn=mark.getPageNumber();if(gn>=1){aA=this.aS.hz(this.cj.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark may be a templateMark or has not been initialized";}if(aA){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveToBack();if(zm(gn-1,this)===true){var kS=this;setTimeout(function(){kS.aS.cv(gn-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkForward=function(mark){var aA,gn;if(!this.ej){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gn=mark.getPageNumber();if(gn>=1){aA=this.aS.hz(this.cj.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aA){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveForward();if(zm(gn-1,this)===true){var kS=this;setTimeout(function(){kS.aS.cv(gn-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.moveMarkBackward=function(mark){var aA,gn;if(!this.ej){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}gn=mark.getPageNumber();if(gn>=1){aA=this.aS.hz(this.cj.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.L){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(aA){if(mark.L instanceof IPCC.Web.UI.Mark){mark.L.moveBackward();if(zm(gn-1,this)===true){var kS=this;setTimeout(function(){kS.aS.cv(gn-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};SingleSessionViewerControl.prototype.getSelectedMarks=function(){var bA=[];var TI=[];if(this.ej===false){return bA;}var dw=this.cj.get_length(),aA,dX;var C=this;function aop(Pm){if(Pm){var OV=Pm.get_type();if(OV===IPCC.Web.UI.MarkType.HighlightText||OV===IPCC.Web.UI.MarkType.TextSelectionRedaction||OV===IPCC.Web.UI.MarkType.Strikethrough||OV===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var iT in C.dg){if(C.dg.hasOwnProperty(iT)){dX=C.dg[iT];if(Pm.aY===dX.L.aY){for(var J=0;J<TI.length;J++){if(dX.L.aY===TI[J]){return;}}TI.push(dX.L.aY);break;}}}}else{dX=C.dg[Pm.get_markID()];}if(dX&&dX instanceof PCCViewer.Mark){bA.push(dX);}else{return bA;}}};for(var J=0;J<dw;J++){aA=this.aS.hz(this.cj.getPage(J));if(aA){aA.get_selectedMarks().forEach(aop,{});}}return bA;};function ajl(bA,aqt,kS){var dX,J;function SQ(gL){var kP=false;var cK=kS.aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()===gL){kP=true;break;}}return kP;};if(!bA.length){return;}for(J=0;J<bA.length;J++){if(bA[J]instanceof PCCViewer.Mark){dX=kS.dg[parseInt(bA[J].getId(),10)];if(dX&&dX instanceof PCCViewer.Mark){if(dX.L&&dX.L instanceof IPCC.Web.UI.Mark){if(dX.getId()!==dX.L.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(J+1)+" is invalid";}}var oR=[];var vp=false;for(J=0;J<bA.length;J++){dX=kS.dg[parseInt(bA[J].getId(),10)];vp=false;if(dX){if(dX.getId()===dX.L.get_markID().toString()){dX.L.set_selected(aqt);if(Array.prototype.IndexOf){vp=(oR.IndexOf(dX.getPageNumber())>=0);}else{vp=(IPCC.Web.kD(oR,dX.getPageNumber())>=0);}}if(!vp){var cr=dX.getPageNumber();if(SQ(cr-1)){oR.push(cr);}}}}if(oR.length>0){setTimeout(function(){for(J=0;J<oR.length;J++){kS.aS.cv(oR[J]-1);}},1);}};SingleSessionViewerControl.prototype.selectMarks=function(marks){if(this.ej===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var bA=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bA.push(marks);}}else{bA=marks;}if(bA.length===0){return this;}ajl(bA,true,this);return this;};SingleSessionViewerControl.prototype.deselectMarks=function(marks){if(this.ej===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var bA=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){bA.push(marks);}}else{bA=marks;}if(bA.length===0){return this;}ajl(bA,false,this);return this;};SingleSessionViewerControl.prototype.deselectAllMarks=function(){var oR=[];var bA=this.getSelectedMarks();var vp=false,J,dX;for(J=0;J<bA.length;J++){dX=this.dg[parseInt(bA[J].getId(),10)];vp=false;if(dX){if(dX.getId()===dX.L.get_markID().toString()){dX.L.set_selected(false);if(Array.prototype.IndexOf){vp=(oR.IndexOf(dX.getPageNumber())>=0);}else{vp=(IPCC.Web.kD(oR,dX.getPageNumber())>=0);}}if(!vp){var cr=dX.getPageNumber();if(zm(cr-1,this)===true){oR.push(cr);}}}}if(oR.length>0){var kS=this;setTimeout(function(){for(J=0;J<oR.length;J++){kS.aS.cv(oR[J]-1);}},1);}return this;};SingleSessionViewerControl.prototype.copyMarks=function(marks){var dp=this,Ps;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var bA=[];IPCC.h.forEach(marks,function(V){if(V instanceof PCCViewer.Mark){if(dp.dg[V.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}bA.push(V);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var rV=[];IPCC.h.forEach(bA,function(V,aE){eZ[V.getType()]({mark:V},function(dJ,ds){ds.uid=undefined;rV[aE]=ds;});});this.ws=false;Ps=dp.deserializeMarks(rV);this.ws=true;return Ps;};SingleSessionViewerControl.prototype.enterTextMarkEditingMode=function(V){var dp=this,aS=this.aS;var aeJ=function(XO){var xT=false,cK=aS.get_displayedPages();for(var J=0;J<cK.get_length();J++){var ap=cK.getPage(J);if(ap.get_pageNumber()===XO){xT=true;}aS.pd(ap.get_pageNumber());}return xT;};if(typeof V==="undefined"||V===null){aeJ(-1);}else{if(this.ej===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(V instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var afy=this.dg[parseInt(V.getId(),10)];if(!(afy&&afy instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(V.L&&V.L instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(V.getId()!==V.L.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var bI=V.getType();if(bI!==PCCViewer.Mark.Type.TextAnnotation&&bI!==PCCViewer.Mark.Type.TextRedaction&&bI!==PCCViewer.Mark.Type.TextInputSignature&&bI!==PCCViewer.Mark.Type.TextAreaSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', 'TextInputSignature', or 'TextAreaSignature'.");}var xT=aeJ(V.getPageNumber()-1);if(xT){dp.aS.vK(V.getPageNumber()-1,V.L);}}return this;};SingleSessionViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.ej===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var GO= -1;var dQ;var bn;var aq=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){dQ=sortableObject.getStartPoint();}else{bn=(sortableObject.L)?sortableObject.L.get_boundingRectangle():sortableObject.getRectangle();dQ={x:bn.x,y:bn.y};}aq=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){dQ={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{dQ={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){aq= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{aq=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(aq<1||aq>this.getPageCount()|| !isFinite(aq)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(aq)){return-2;}var ap=this.cj.getPage(aq-1);var vD=ap.dc().YG();var hm=ap.dc().hF();function akL(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function aiL(du,fM){var ay=Math.max(Math.min(fM.x,du.x+du.width),du.x);var ck=Math.max(Math.min(fM.y,du.y+du.height),du.y);return(fM.x-ay)*(fM.x-ay)+(fM.y-ck)*(fM.y-ck);};var Ep;var Oy=Number.MAX_VALUE;for(var J=0;J<vD.eY();J++){var gU=vD.azL(J);if(akL(gU.ff(),dQ)){for(var bE=gU.aiT();bE<gU.ahS();bE++){var Uc=hm.jM(bE);var sf=Uc.sd();if(akL(sf,dQ)){return bE;}Ep=aiL(sf,dQ);if(Ep<Oy){GO=bE;Oy=Ep;}}return GO;}Ep=aiL(gU.ff(),dQ);if(Ep<Oy){if(gU.ff().y>dQ.y){GO=gU.aiT()-1;}else{GO=gU.ahS();}Oy=Ep;}}return GO;};SingleSessionViewerControl.prototype.getCurrentMouseTool=function(){return this.aa.getName();};SingleSessionViewerControl.prototype.setCurrentMouseTool=function(name){var C=this;if(this.ej===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var An=name.toLowerCase();var aa=PCCViewer.MouseTools.getMouseTool(An);if(!aa){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var hG,gi;switch(aa.getType()){case PCCViewer.MouseTool.Type.Magnifier:hG=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:hG=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:hG=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:hG=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:hG=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:hG=IPCC.Web.UI.MouseTool.CreateLineMark;gi=aua(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:hG=IPCC.Web.UI.MouseTool.CreateRectangleMark;gi=aig(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:hG=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;gi=avj(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:hG=IPCC.Web.UI.MouseTool.CreateRectangleMark;gi=awS(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:hG=IPCC.Web.UI.MouseTool.CreateEllipseMark;gi=aig(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:hG=IPCC.Web.UI.MouseTool.CreateTextMark;gi=avS(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:hG=IPCC.Web.UI.MouseTool.CreateTextMark;gi=SF(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:hG=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;gi=SF(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAreaSignature:hG=IPCC.Web.UI.MouseTool.CreateTextAreaSignatureMark;gi=SF(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:hG=IPCC.Web.UI.MouseTool.CreateStampMark;gi=avz(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:hG=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;gi=MT(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:hG=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;gi=MT(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:hG=IPCC.Web.UI.MouseTool.CreateFreehandMark;gi=aun(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:hG=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;gi=MT(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var aDy=this.bK.resourcePath+'/placeSignatureCursor.cur';this.aS.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aS.set_allowMarkEdits(false);this.aS.set_mouseCursor('url('+aDy+'), pointer');this.aa=aa;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:hG=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;gi=alw(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:hG=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;gi=alw(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:hG=IPCC.Web.UI.MouseTool.CreatePolylineMark;gi=auE(aa.getTemplateMark());break;case PCCViewer.MouseTool.Type.StrikethroughAnnotation:hG=IPCC.Web.UI.MouseTool.CreateStrikethroughMark;gi=MT(aa.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}var aqI=this.aS.get_mouseTool();if(this.aa!==aa&&aqI===hG){setTimeout(function(){C.aN.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.aa.getName()});},0);}this.aa=aa;if(gi){this.Fn=gi.onCreating;this.np=gi.onAdded;}else{this.Fn=undefined;this.np=undefined;}this.aS.set_mouseTool(hG);this.aS.set_allowMarkEdits((aa.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Ue(dp,Vn,kf){if(dp.vB!==true){var Kx=function(){dp.aN.off('PageCountReady',Kx);Ue(dp,Vn,kf);};dp.aN.on('PageCountReady',Kx);return;}var bo=dp;var xy;var iJ={},vf={},pM=[];var gf=bo.fp;var kh;var bK;if(Vn){bK=Vn;}var aft=[];var VY=bo.az.get_pages();var aBd=function(ap,done){var aGL=false;var iZ=ap;var aq=ap.get_pageNumber();var fK=iZ.get_pageWidth();var eE=iZ.get_pageHeight();try{if(iZ){var hz=bo.aS.hz(iZ),Gk=0,Fg=0,fA="",aJx=false;var getArt=function getArt(){var NV;if(bK&&bK.BA&&bK.BA[aq]){NV=IPCC.h.extend({},bK);NV.BA=bK.BA[aq];}else{NV=bK;}var bE,Xe;var Ia=hz.aAt(aq,Gk,Fg,NV);if(Ia.iJ){iJ[aq]=Ia.iJ;}else{var apT=aBU(aq,kh,Fg,Gk);iJ[aq]=apT;}if(Ia.pM){for(bE=0;bE<Ia.pM.length;bE++){Xe=Ia.pM[bE];vf[Xe.aQ.imageStampId]=Xe;}}done();};if(hz){if(!fK|| !eE){if(hz.get_markCount()>0){bo.aS.OT(ap,function(aD,ab){Gk=aD;if(Gk){iZ.LV(Gk);}Fg=ab;if(Fg){iZ.Lo(Fg);}getArt();},function(ml){done(ml);});}else{getArt();}}else{Gk=fK;Fg=eE;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};VY.forEach(function(ap,aC,jq){aft.push(function(done){aBd(ap,done);});});var Xz=function(aX,ap){var yu="";var J;if(!aX.gO){if(aX.toString()){return aX.toString();}else{return '<![CDATA[]]>';}}if((gf===1||ap===0||(ap>0&&aX.gO!=="documentAnnotations"&&aX.gO!=="pages"))&&aX.gO!=="highlights"){yu='<'+aX.gO;for(var AH in aX.aQ){if(aX.aQ.hasOwnProperty(AH)){var Zh=aX.aQ[AH];if(Zh===undefined||Zh===null){continue;}var aQ=Zh.toString();aQ=aQ.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');yu=yu+' '+AH+'="'+aQ+'"';}}yu+='>';}for(J=0;J<aX.cU.length;J++){yu+=Xz(aX.cU[J],ap);}if(gf===1||(ap===gf-1)||(ap!==gf-1&&aX.gO!=="documentAnnotations"&&aX.gO!=="pages"&&aX.gO!=="highlights")){if(aX.gO!=="highlights"){yu+='</'+aX.gO+'>';}else{yu+='<'+aX.gO+' />';}}return yu;};IPCC.h.Wp(aft,function(dJ){if(dJ){kf(dJ);return;}xy='<?xml version="1.0"?>';for(var J=0;J<(bo.fp);J++){xy=xy+Xz(iJ[J],J);}var stampImageXml='';for(var GB in vf){if(vf.hasOwnProperty(GB)){stampImageXml+=Xz(vf[GB],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';xy=xy.replace('</documentAnnotations>',stampImagesXml);}kf(undefined,xy);});};SingleSessionViewerControl.prototype.saveMarkup=function(recordName,options){if(this.bK.enableMultipleRedactionReasons){throw new Error('Saving markup as XML is not supported when enableMultipleRedactionReasons is set to true');}var ag=PCCViewer.Deferred();var dR=ag.getPromise();var bK;if(options){bK=options;}else{bK={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){ag.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return dR;}if(!asw(recordName)){ag.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return dR;}var bo=this;this.qY.then(function(sH){var Bo=recordName;Ue(bo,bK,function(err,xy){if(err){ag.reject(new PCCViewer.Error("Error",err));return dR;}var Ll=IPCC.hj.rX(Bo);var ai;if(!(/^[\x00-\x7F]*$/.test(bo.az.get_documentIdentifier()))){ai=bo.bK.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bo.bK.documentID+'&AnnotationID=e'+Ll;}else{ai=bo.bK.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bo.bK.documentID)+'&AnnotationID=u'+encodeURIComponent(Bo);}function er(bL){ag.resolve(Bo);setTimeout(function(){bo.aN.trigger('MarkupSaved',{name:Bo});},0);};function eA(aP){ag.reject(new PCCViewer.Error("AjaxError","Status Code "+aP.response.status+" "+aP.response.statusText));};PCCViewer.Ajax.fu({method:'POST',url:ai,headers:{'Content-Type':'application/xml;charset=utf-8'},body:xy}).then(er,eA);});});}catch(e){ag.reject(new PCCViewer.Error("Error",e.message));}return dR;};var asw=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Vk=function(kT){var ay=kT.firstChild;while(ay.nodeType!==1){ay=ay.nextSibling;}return ay;};var aBU=function(cr,kh,eE,fK){var iJ={gO:'documentAnnotations',cU:[],aQ:{}};var abB={gO:'pages',cU:[],aQ:{}};iJ.cU.push(abB);var kd={gO:'highlights',cU:[],aQ:{}};var ap={gO:'page',cU:[],aQ:{id:(cr+1).toString(),pageWidth:fK,pageHeight:eE}};iJ.cU.push(kd);try{if(kh){var ay=kh.getElementsByTagName("documentAnnotations");if(ay.length>1){throw 'ERROR: Invalid PCC annotations XML';}var OG;var Ey;if(document.documentMode<9){var Sx=kh.firstChild.nodeName;if(Sx.toLowerCase()==='xml'){OG=kh.firstChild.nextSibling;}else{OG=kh.firstChild;}}else{OG=kh.firstChild;}var dP=Vk(OG);if(dP.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(dP.hasChildNodes()){var J;var lK=false;for(J=0;J<dP.childNodes.length;J++){Ey=dP.childNodes[J];if(Ey.nodeName!=='page'){continue;}var yI=Ey.getAttribute('id');lK=false;if(yI&&parseFloat(yI)===cr+1){lK=true;for(var bE=0;bE<Ey.childNodes.length;bE++){var aU=Ey.childNodes[bE];var au={gO:'annotation',cU:[],aQ:{}};if(aU.nodeName!=='annotation'){continue;}var Ng=Ey.childNodes[bE].attributes;if(Ng.length>0){for(var dz=0;dz<Ng.length;dz++){au.aQ[Ng[dz].name]=Ng[dz].value;}}if(aU.childNodes[0].data){au.cU.push('<![CDATA['+aU.childNodes[0].data+']]>');}else{au.cU.push('');}ap.cU.push(au);}break;}}}}abB.cU.push(ap);return iJ;}catch(e){throw(e.message);}};SingleSessionViewerControl.prototype.loadMarkup=function(recordName,options){var IG=recordName;var ag=PCCViewer.Deferred(),dR=ag.getPromise(),bo=this;var bK=options||{};var yP=bK.retainExistingMarks;var iB=bK.markupLayer;var ue=bK.loadAsHidden;this.qY.then(function(sH){var ai,Ll,aS=bo.aS,cj=bo.cj;if(typeof IG!=="string"){ag.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(yP!==undefined){if(typeof yP!=='boolean'){ag.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(iB!==undefined){if(!(iB instanceof PCCViewer.MarkupLayer)){ag.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bo.md.getItem(iB.getId())===undefined){ag.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}function er(bL){var VQ,Nm=bL.responseText,Qe;if(Nm.indexOf('xml')=== -1){ag.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Nm=Nm.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.h.pY(p2)+p3;});if(window.DOMParser){Qe=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){Qe=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{Qe=function(){return null;};}VQ=Qe(Nm);var anj=VQ.getElementsByTagName('stampImage');var pM={};var ZM=function(aE){V.aL.push(agC.getPoint(aE));};for(var J=0;J<anj.length;J++){var Ty=anj[J];pM[Ty.getAttribute('imageStampId')]={imageStampId:Ty.getAttribute('imageStampId'),base64format:Ty.getAttribute('base64format')};}aS.set_annotationXmlDom(VQ,pM,yP===true,ue===true);if(yP!==true){bo.dg={};}var dw=bo.cj.get_length();var V;var bI,fs;var xQ={};var Iu=[];for(J=0;J<dw;J++){var aA=bo.aS.hz(bo.cj.getPage(J));if(aA){var Eo={};var bE=0;for(bE=0;bE<aA.get_markCount();bE++){var L=aA.getMark(bE);if(bo.dg[L.get_markID()]!==undefined){continue;}fs=L.get_type();switch(fs){case IPCC.Web.UI.MarkType.Rectangle:if(L.ju()===true){if(L.get_opacity()===255){bI=PCCViewer.Mark.Type.RectangleRedaction;}else{bI=PCCViewer.Mark.Type.TransparentRectangleRedaction;}V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});}else{bI=PCCViewer.Mark.Type.RectangleAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.mH=L.get_lineWidth();V.fE=L.get_fillColor();V.nZ=L.get_lineColor();V.co=L.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:bI=PCCViewer.Mark.Type.EllipseAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.mH=L.get_lineWidth();V.fE=L.get_fillColor();V.nZ=L.get_lineColor();V.co=L.get_opacity();break;case IPCC.Web.UI.MarkType.Line:bI=PCCViewer.Mark.Type.LineAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.nN=L.get_lineWidth();V.cB=L.get_lineColor();V.co=L.get_opacity();if(L.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){V.mo="FilledTriangle";}else{V.mo="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(L.ju()===true){bI=PCCViewer.Mark.Type.StampRedaction;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});}else{bI=PCCViewer.Mark.Type.StampAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.cB=L.get_fillColor();}V.uW=L.get_text();break;case IPCC.Web.UI.MarkType.Text:if(L.ju()===true){bI=PCCViewer.Mark.Type.TextRedaction;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});}else{bI=PCCViewer.Mark.Type.TextAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.mH=L.get_lineWidth();V.fE=L.get_fillColor();V.nZ=L.get_lineColor();V.co=L.get_opacity();}V.gJ=L.get_maxLength();V.gb=L.get_fontName();V.hI=L.get_textColor();V.bZ=L.get_fontSize();var cc=L.get_fontStyle();var pw=[];if((cc&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pw.push("Bold");}if((cc&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pw.push("Italic");}if((cc&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pw.push("Strikeout");}if((cc&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pw.push("Underline");}V.cc=pw;var qQ;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qQ="right";break;}V.po=qQ;break;case IPCC.Web.UI.MarkType.TextAreaSignature:bI=PCCViewer.Mark.Type.TextAreaSignature;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.mH=L.get_lineWidth();V.gJ=L.get_maxLength();V.gb=L.get_fontName();V.hI=L.get_textColor();V.jf=L.get_maxFontSize();cc=L.get_fontStyle();pw=[];if((cc&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){pw.push("Bold");}if((cc&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){pw.push("Italic");}if((cc&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){pw.push("Strikeout");}if((cc&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){pw.push("Underline");}V.cc=pw;switch(L.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:qQ="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:qQ="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:qQ="right";break;}V.po=qQ;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.Strikethrough:bI=(fs===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(fs===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:(fs===IPCC.Web.UI.MarkType.Strikethrough)?PCCViewer.Mark.Type.StrikethroughAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var WH=L.aY;if(typeof xQ[WH]==='undefined'){V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,cj:cj,aS:aS,uid:L.aQ.iz});V.bw=[];if(bI===PCCViewer.Mark.Type.HighlightAnnotation){V.fE=L.get_fillColor();}xQ[WH]=V;L.bm=J;L.lB=true;}else{L.bm=J;xQ[WH].bw.push(L);}break;case IPCC.Web.UI.MarkType.Freehand:bI=PCCViewer.Mark.Type.FreehandAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.nN=L.get_lineWidth();V.cB=L.get_lineColor();V.co=L.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:bI=PCCViewer.Mark.Type.FreehandSignature;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.nN=L.get_lineWidth();V.cB=L.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:bI=PCCViewer.Mark.Type.TextSignature;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.gb=L.get_fontName();V.cB=L.get_fillColor();V.bv=L.get_text();break;case IPCC.Web.UI.MarkType.TextLine:bI=PCCViewer.Mark.Type.TextInputSignature;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.gb=L.get_fontName();V.hI=L.get_textColor();V.bv=L.get_text();V.gJ=L.get_maxLength();V.hW=L.get_mask();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!L.aY){bI=PCCViewer.Mark.Type.RectangleRedaction;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,cj:cj,aS:aS,uid:L.aQ.iz});V.mH=L.get_lineWidth();V.fE=L.get_fillColor();V.nZ=L.get_lineColor();V.co=L.get_opacity();}else{if(Eo[L.aY]===undefined){Eo[L.aY]=[];}Eo[L.aY].push(L);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:bI=(fs===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.setImage({dataUrl:L.get_image(),id:L.pR});break;case IPCC.Web.UI.MarkType.Polyline:bI=PCCViewer.Mark.Type.PolylineAnnotation;V=new PCCViewer.Mark({type:bI,igMark:L,pageNumber:J+1,uid:L.aQ.iz});V.nN=L.get_lineWidth();V.cB=L.get_lineColor();V.co=L.get_opacity();var agC=L.get_points();V.aL=[];for(var bd=0;bd<agC.get_length();bd++){ZM(bd);}break;default:V=undefined;continue;}if(typeof V!=='undefined'&&fs!==IPCC.Web.UI.MarkType.HighlightText&& !(fs===IPCC.Web.UI.MarkType.RectangleRedaction&&L.aY!==undefined)&&fs!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&fs!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&fs!==IPCC.Web.UI.MarkType.Strikethrough){bo.dg[L.get_markID()]=V;Iu.push(V);}}for(var KX in Eo){if(Eo.hasOwnProperty(KX)&&xQ[KX]){var Ga=xQ[KX];var aeT=Ga.L;if(Ga.bw&&Ga.bw.length>0){for(var Nz=0;Nz<Ga.bw.length;Nz++){if(Ga.bw[Nz].bm===J){aeT=Ga.bw[Nz];}}}var bC=Eo[KX];for(var YH=0;YH<bC.length;YH++){aeT.bC.push(bC[YH]);}}}}}for(var op in xQ){if(xQ.hasOwnProperty(op)){var yh=xQ[op];bo.dg[yh.L.get_markID()]=yh;Iu.push(yh);if(yh.bw&&yh.bw.length>0){yh.bw[yh.bw.length-1].lz=true;}else{yh.L.lz=true;}}}ag.resolve(IG);if(iB!==undefined){iB.addMarks(Iu);}else{bo.getActiveMarkupLayer().addMarks(Iu);}bo.aN.trigger('MarkupLoaded',{name:IG,loadedMarks:Iu});};function eA(aP){ag.reject(new PCCViewer.Error("Error","Status Code "+aP.response.status+" "+aP.response.statusText));};Ll=IPCC.hj.rX(IG);if(!(/^[\x00-\x7F]*$/.test(bo.az.get_documentIdentifier()))){ai=bo.bK.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bo.bK.documentID+'&AnnotationID=e'+Ll;}else{ai=bo.bK.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bo.bK.documentID)+'&AnnotationID=u'+encodeURIComponent(IG);}PCCViewer.Ajax.fu({method:'GET',url:ai,headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(er,eA);});return dR;};function ajA(context,message){var jW=document.createElement('div'),BN=document.createElement('div'),lL=document.createElement('button'),VS=function(){jW.classList.add('open');},LY=function(){if(jW.parentNode!==null){jW.parentNode.removeChild(jW);}};lL.innerHTML='&#215;';lL.setAttribute('type','button');BN.innerHTML='<p>PrizmDoc Viewer is running in evaluation mode with a fixed feature set. <b>'+message+'</b>';jW.className='pccPageListNagModal';jW.appendChild(lL);jW.appendChild(BN);context.cG.appendChild(jW);VS();if(!lL.addEventListener){lL.attachEvent('onclick',LY);}else{lL.addEventListener('click',LY,false);}};SingleSessionViewerControl.prototype.getSavedMarkupNames=function(){var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this;try{var J=0,EU=0;var Bo='';var ai=this.bK.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bK.documentID)+'&AnnotationID=u'+encodeURIComponent(Bo);var er=function(bL){var ug;if(typeof bL.responseText!=='unknown'&&bL.responseText.length>0){try{ug=JSON.parse(bL.responseText);}catch(e){}}var Ys=[],EU=0;for(var J=0,cW=ug.annotationFiles.length;J<cW;J++){if(ug.annotationFiles[J].annotationLabel){Ys[EU]={};Ys[EU].name=ug.annotationFiles[J].annotationLabel;EU++;}}ag.resolve(Ys);};var eA=function(aP){var error=new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server.");if(aP&&aP.response){var jd=aP.response.status;var nM;try{nM=JSON.parse(aP.response.responseText);}catch(e){}if(jd===480&&nM&&nM.errorCode==='LicenseCouldNotBeVerified'){ajA(C,'Loading annotations is disabled in evaluation mode.');error=new PCCViewer.Error(nM.errorCode,"License error.");}}ag.reject(error);};PCCViewer.Ajax.fu({method:'GET',url:ai}).then(er,eA);}catch(e){ag.reject(new PCCViewer.Error("Error",e.message));}return dR;};SingleSessionViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.md){this.md=new PCCViewer.MarkupLayerCollection(this);}return this.md;};SingleSessionViewerControl.prototype.requestMarkupLayerNames=function(metadata){var ag=PCCViewer.Deferred(),dR=ag.getPromise(),ai,aqC=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.az.get_documentIdentifier()))){ai=this.bK.imageHandlerUrl+'/MarkupLayers/e'+this.bK.documentID+'/';}else{ai=this.bK.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bK.documentID)+'/';}if(metadata){var azI=aqC(metadata);ai+=azI;}ai+='?nocache='+new Date().getTime();PCCViewer.Ajax.fu({url:ai,method:'GET'}).then(function er(bL){var azH=JSON.parse(bL.responseText);ag.resolve(azH);},function eA(aP){ag.reject(aP.error);});return dR;};SingleSessionViewerControl.prototype.getActiveMarkupLayer=function(){return this.AD;};SingleSessionViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.md.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.AD=markupLayer;};SingleSessionViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var Zt,C=this;Zt=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this.SC,options||{});function wL(){setTimeout(function(){Zt.BX();},20);};function oZ(){C.aN.off(PCCViewer.EventType.PageCountReady,oZ);wL();};if(this.lN===false){C.aN.on(PCCViewer.EventType.PageCountReady,oZ);}else{wL();}return Zt;};SingleSessionViewerControl.prototype.saveMarkupLayer=function(id){var ag=PCCViewer.Deferred();var dR=ag.getPromise();var C=this;if(typeof id!=='string'|| !id){ag.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return dR;}var eO=this.md?this.md.getItem(id):undefined;if(!eO){ag.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return dR;}function awm(ov){var RX=eO.getMarks();if(!RX.length){ov(undefined,[]);}else{C.serializeMarks(RX).then(function jc(bA){ov(undefined,IPCC.h.map(bA,function(V){if(V.conversation&&V.conversation.comments){delete V.conversation.comments;}return V;}));},function _f(fA){ov(fA);});}};function awJ(ov){var RX=eO.getMarks();var Yi=function(dU,gV,jT){var TA=IPCC.h.filter(gV,function(oA){return!oA.iB||oA.iB===eO;});IPCC.h.forEach(TA,function(de){var bq=eZ.Comment(de);bq.markUid=jT;dU.push(bq);});return dU;};var Us=IPCC.h.reduce(RX,function(dU,V){var dE=V.getConversation();var gV=dE.getComments();return gV.length?Yi(dU,gV,V.getUid()):dU;},[]);ov(undefined,Us);};function awE(ov){var ayY=IPCC.h.reduce(C.md.getAll(),function(dU,alU){return dU.concat(eO===alU?[]:alU.getMarks());},[]);var Yi=function(dU,gV,jT){var TA=IPCC.h.filter(gV,function(oA){return oA.iB===eO;});IPCC.h.forEach(TA,function(oA){var bq=eZ.Comment(oA);bq.markUid=jT;dU.push(bq);});return dU;};var Us=IPCC.h.reduce(ayY,function(dU,V){var dE=V.getConversation();var gV=dE.getComments();return gV.length?Yi(dU,gV,V.getUid()):dU;},[]);ov(undefined,Us);};var acu=[],ayo=function(pB){if(pB.markupLayer===eO){acu.push({text:pB.text,data:pB.data,creationDateTime:pB.creationDateTime,markUid:pB.markUid});}};for(var adm in this.md.jw){if(this.md.jw.hasOwnProperty(adm)){IPCC.h.forEach(this.md.jw[adm],ayo);}}var xK={layerRecordId:eO.getRecordId(),name:eO.getName(),originalXmlName:eO.getOriginalXmlName(),comments:acu,data:eZ.Data(eO)};var wI;IPCC.h.Wp([function(mt){awm(function(dJ,ds){if(dJ&& !wI){wI=dJ;}else{xK.marks=ds;}mt();});},function(mt){awJ(function(dJ,ds){if(dJ&& !wI){wI=dJ;}else{xK.comments=xK.comments.concat(ds);}mt();});},function(mt){awE(function(dJ,ds){if(dJ&& !wI){wI=dJ;}else{xK.comments=xK.comments.concat(ds);}mt();});}],function(){if(!wI){avw(xK);}else{ag.reject(new PCCViewer.Error('SerializationError',wI.message));}});function avw(aIz){var yH,hA={method:'POST',body:JSON.stringify(xK),headers:{'Content-Type':'application/json;charset=utf-8'}};if(!(/^[\x00-\x7F]*$/.test(C.az.get_documentIdentifier()))){yH=C.bK.imageHandlerUrl+'/MarkupLayers/e'+C.bK.documentID+'/';}else{yH=C.bK.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(C.bK.documentID)+'/';}if(eO.getRecordId()){hA.url=yH+eO.getRecordId();hA.headers['X-HTTP-Method-Override']='PUT';}else{hA.url=yH;}PCCViewer.Ajax.fu(hA).then(er,eA);};function er(bL){if(bL.responseText&&typeof bL.responseText==='string'){var nM;try{nM=JSON.parse(bL.responseText);}catch(e){}if(nM&&nM.layerRecordId){eO.aae=nM.layerRecordId;}}ag.resolve({layerRecordId:eO.getRecordId()});};function eA(aP){var error=new PCCViewer.Error("AjaxError",aP.error.message||'An unknown server error occurred.');if(aP&&aP.response){var jd=aP.response.status;var nM;try{nM=JSON.parse(aP.response.responseText);}catch(e){}if(jd===480&&nM&&nM.errorCode==='LicenseCouldNotBeVerified'){ajA(C,'Saving annotations is disabled in evaluation mode.');error=new PCCViewer.Error(nM.errorCode,'License error.');}}ag.reject(error);};return dR;};SingleSessionViewerControl.prototype.burnMarkup=function(burnOptions){var jx={burnSignatures:true,burnRedactions:true,burnAnnotations:false,redactionOptions:{mode:PCCViewer.RedactionViewMode.Normal,draftOptions:{opacity:0.2}}};var IJ;var ade;var TK;var aGY=false;if(burnOptions){if(typeof burnOptions.marks==='object'){if(burnOptions.marks instanceof PCCViewer.Mark){IJ=[burnOptions.marks];}else if(burnOptions.marks instanceof Array){IJ=burnOptions.marks;}jx={marks:IJ};}else{jx.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:jx.burnSignatures;jx.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:jx.burnRedactions;jx.burnAnnotations=(burnOptions.burnAnnotations!==undefined)? ! !burnOptions.burnAnnotations:jx.burnAnnotations;}if(typeof burnOptions.filename==='string'){jx.filename=burnOptions.filename;}if(burnOptions.removeFormFields!==undefined){if(burnOptions.removeFormFields instanceof Array){if(burnOptions.removeFormFields.length>0){var MN,Kl=true;for(MN=0;MN<burnOptions.removeFormFields.length;MN++){if(burnOptions.removeFormFields[MN]!=='acroform'){Kl=false;}}if(Kl){jx.removeFormFields=['acroform'];}else{jx.ml={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter contains an invalid form type.'};}}else{jx.ml={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must specify a valid form type.'};}}else{jx.ml={code:'InvalidArgument',message:'The burnOptions.removeFormFields parameter must be an Array if defined.'};}}if(burnOptions.redactionOptions!==undefined&&typeof burnOptions.redactionOptions==='object'){if(typeof burnOptions.redactionOptions.mode==="string"){if(burnOptions.redactionOptions.mode.toLowerCase()==="draft"){jx.redactionOptions={mode:PCCViewer.RedactionViewMode.Draft.toLowerCase()};}else{jx.redactionOptions={mode:PCCViewer.RedactionViewMode.Normal.toLowerCase()};}}else{jx.ml={code:'InvalidArgument',message:'The burnOptions.redactionOptions.mode parameter must be a string if defined.'};}if(typeof burnOptions.redactionOptions.draftOptions==='object'){if(typeof burnOptions.redactionOptions.draftOptions.opacity==='number'){jx.redactionOptions.draftOptions={opacity:burnOptions.redactionOptions.draftOptions.opacity};}else{jx.ml={code:'InvalidArgument',message:'The burnOptions.redactionOptions.draftOptions.opacity parameter must be a number value.'};}}}}var zd=new PCCViewer.BurnRequest(jx),C=this;if(IJ){var ei=[];for(var J=0,cW=this.getPageCount();J<cW;J++){ei[J]=[];}ei=IPCC.h.reduce(IJ,function(bA,af){var aq=af.getPageNumber()-1;if(!(typeof af==='object'&&af instanceof PCCViewer.Mark&&af.L)){zd.Xn(new Error('The burnOptions.marks parameter is an invalid object.'));return bA;}if(!C.getMarkById(af.cF)){zd.Xn(new Error('The burnOptions.marks parameter contains a mark not known to Viewer Control.'));return bA;}bA[aq].push(af.L);if(af.L.bC){for(var J=0,cW=af.L.bC.length;J<cW;J++){if(af.L.bC[J]instanceof IPCC.Web.UI.Mark){bA[aq].push(af.L.bC[J]);}}}if(af.bw){for(var bE=0,axW=af.bw.length;bE<axW;bE++){bA[aq+1+bE].push(af.bw[bE]);if(af.bw[bE].bC){for(var dz=0,aAA=af.bw[bE].bC.length;dz<aAA;dz++){if(af.bw[bE].bC[dz]instanceof IPCC.Web.UI.Mark){bA[aq+1+bE].push(af.bw[bE].bC[dz]);}}}}}return bA;},ei);TK={BA:ei,tZ:true};}else{TK={includeAnnotations:jx.burnAnnotations,includeRedactions:jx.burnRedactions,includeSignatures:jx.burnSignatures,tZ:true};}function aiP(){Ue(C,TK,function(dJ,ade){if(dJ){setTimeout(function(){zd.Xn(dJ);},20);}else{zd.Ql({az:C.az,bK:C.bK});zd.aBx(ade);setTimeout(function(){zd.BX();},20);}});};function oZ(){C.aN.off(PCCViewer.EventType.PageCountReady,oZ);aiP();};if(this.lN===false){C.aN.on(PCCViewer.EventType.PageCountReady,oZ);}else{aiP();}return zd;};SingleSessionViewerControl.prototype.convertDocument=function(xr){var vP,C=this,At={targetExtension:'pdf',filename:'document'},bK={};qa.sy(bK,At,xr);bK.xw=1;vP=new PCCViewer.ConversionRequest(bK);function wL(){vP.Ql({az:C.az,bK:C.bK});setTimeout(function(){vP.BX(bK);},20);};function oZ(){C.aN.off(PCCViewer.EventType.PageCountReady,oZ);wL();};if(this.lN===false){C.aN.on(PCCViewer.EventType.PageCountReady,oZ);}else{wL();}return vP;};SingleSessionViewerControl.prototype.requestDocumentConversion=function(xr){var vP,C=this,At={targetExtension:'pdf',filename:'document'},bK={};qa.sy(bK,At,xr);bK.xw=2;vP=new PCCViewer.ConversionRequest(bK);function wL(){vP.Ql({az:C.az,bK:C.bK});setTimeout(function(){vP.BX(bK);},20);};function oZ(){C.aN.off(PCCViewer.EventType.PageCountReady,oZ);wL();};if(this.lN===false){C.aN.on(PCCViewer.EventType.PageCountReady,oZ);}else{wL();}return vP;};SingleSessionViewerControl.prototype.loadAttachments=function(){var ag=PCCViewer.Deferred();var dR=ag.getPromise();try{var J=0,EU=0;var Bo='';var ai=this.bK.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(this.bK.documentID)+'/Attachments';var aCB=function(bL){var GD=JSON.parse(bL.responseText);if(GD===null||GD.status!=='complete'){setTimeout(aii,500);return;}ag.resolve(GD.attachments||[]);};var eA=function(aP){ag.reject(new PCCViewer.Error("AttachmentListFail","Unable to retrieve attachment list from server."));};var aii=function(){PCCViewer.Ajax.fu({method:'GET',url:ai}).then(aCB,eA);};aii();}catch(e){ag.reject(new PCCViewer.Error("Error",e.message));}return dR;};function qq(){return function(sender,eventArgs){var C=this;var V=C.dg[eventArgs.mark.get_markID()];if(C.ws){C.AD.addMarks(V);}setTimeout(function(){if(V){C.aN.trigger('MarkCreated',{mark:V,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function aua(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setThickness(aK.getThickness());V.setColor(aK.getColor());V.setOpacity(aK.getOpacity());V.setEndHeadType(aK.getEndHeadType());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function aig(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setBorderThickness(aK.getBorderThickness());V.setFillColor(aK.getFillColor());V.setBorderColor(aK.getBorderColor());V.setOpacity(aK.getOpacity());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function awS(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;},onAdded:qq()};};function avj(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;if(V.pm){V.setReasons(aK.getReasons());}else{V.setReason(aK.getReason());}V.setBorderThickness(aK.getBorderThickness());V.setFillColor(aK.getFillColor());V.setBorderColor(aK.getBorderColor());V.setFontColor(aK.getFontColor());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function avS(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setBorderThickness(aK.getBorderThickness());V.setFillColor(aK.getFillColor());V.setBorderColor(aK.getBorderColor());V.setOpacity(aK.getOpacity());V.setFontName(aK.getFontName());V.setFontColor(aK.getFontColor());V.setFontSize(aK.getFontSize());V.setFontStyle(aK.getFontStyle());V.setHorizontalAlignment(aK.getHorizontalAlignment());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function SF(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setFontName(aK.getFontName());V.setFontColor(aK.getFontColor());V.setText(aK.getText());if(V.setFontSize){V.setFontSize(aK.getFontSize());}PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function avz(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;if(aK.getType()===PCCViewer.MouseTool.Type.StampAnnotation){V.setColor(aK.getColor());}V.setLabel(aK.getLabel());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};var aHb;function MT(aK){return{onCreating:function(aV,R){},onAdded:qq()};};function aun(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setThickness(aK.getThickness());V.setColor(aK.getColor());V.setOpacity(aK.getOpacity());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function alw(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setImage(aK.getImage());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};function auE(aK){return{onCreating:function(aV,R){var V=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1,enableMultipleRedactionReasons:this.bK.enableMultipleRedactionReasons});this.dg[R.mark.get_markID()]=V;V.setThickness(aK.getThickness());V.setColor(aK.getColor());V.setOpacity(aK.getOpacity());PCCViewer.Data.pn(aK,V);PCCViewer.Conversation.sq(aK.getConversation(),V.getConversation());},onAdded:qq()};};SingleSessionViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var wJ;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:wJ=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:wJ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aS&&this.aS.set_markHandleMode){this.aS.set_markHandleMode(wJ);}else{this.bK.markHandleMode=wJ;}return this;};SingleSessionViewerControl.prototype.getMarkHandleMode=function(){var wJ;if(this.aS&&this.aS.get_markHandleMode){wJ=this.aS.get_markHandleMode();}else{wJ=this.bK.markHandleMode;}if(wJ===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};SingleSessionViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.pq=factoryFunction;return this;};SingleSessionViewerControl.prototype.getConversationDOMFactory=function(){return this.pq;};SingleSessionViewerControl.prototype.refreshConversations=function(conversations){var ZP,adL=(conversations===undefined);function ajs(dE,aC){throw new Error(dE+((aC!==undefined)?' (Array index '+aC+')':'')+' is not a valid PCCViewer.Conversation object.');};function awQ(dE,aC){throw new Error(dE+((aC!==undefined)?' (Array index '+aC+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){ZP=[conversations];}else if(conversations instanceof Array){ZP=conversations;}else if(!adL){ajs(conversations);}var amR=IPCC.h.map(this.getAllMarks(),function(af){return af.getConversation();});var St=IPCC.h.map(ZP||amR,function(af,J){if(!(af instanceof PCCViewer.Conversation)){ajs(af,J);}if(!adL&& !IPCC.h.inArray(amR,af)){awQ(af,J);}return af.getMark().cF;});this.aS.refreshConversations(St);return this;};SingleSessionViewerControl.prototype.openCommentsPanel=function(){if(this.ej===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aS.openCommentsPanel();var C=this;setTimeout(function(){C.aN.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};SingleSessionViewerControl.prototype.closeCommentsPanel=function(){if(this.ej===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aS.closeCommentsPanel();var C=this;setTimeout(function(){C.aN.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};SingleSessionViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.ej===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aS.get_isCommentsPanelOpen();};SingleSessionViewerControl.prototype.setSelectedConversation=function(conversation){if(this.ej===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aS.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var mi=conversation.getMark();if(mi){var yK=mi.L.get_conversation();this.aS.set_selectedConversation(yK);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};SingleSessionViewerControl.prototype.getSelectedConversation=function(){if(this.ej===false){return null;}var je=this.aS.get_selectedConversation();if(je){var mi=this.dg[je.get_mark().get_markID()];if(mi){return mi.getConversation();}}return null;};SingleSessionViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var C=this,yr=C.av;function akM(bm,nh,dw){var TF=[bm+1];var ap=C.cj.getPage(bm),ft=ap.dc();if(ft.nU()){var bv=ft.CG(),afF=bv.substr(nh);if(afF.length>dw){return TF;}else{return TF.concat(akM(bm+1,0,dw-afF.length));}}else{return TF;}};this.aS.vd();function CS(Wf,aq){C.afV(aq,Wf);};if(yr&&yr.getResults().length){var dP=akM(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),fH=yr.getResults(),agS=false,PO={};if(fH.length){IPCC.h.forEach(fH,function(af){var asp=IPCC.h.contains(dP,af.aq);if(asp){agS=true;PO[af.aq]=PO[af.aq]||[];PO[af.aq].push(af);}});}if(agS){IPCC.h.forEach(PO,function(Wf,aq){C.requestPageText(aq).then(CS.bind(null,Wf,aq));});}}return this;};SingleSessionViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.ej===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var wd=function(n){return typeof n==='number'&& !isNaN(n);};var wN,aff=true;if(points&&points.constructor===Array){wN=points;}else{wN=[points];aff=false;}var ach=function(bM,aC,bN){throw new PCCViewer.Error('InvalidArgument',bM+' (Array index '+aC+') does not have a valid '+bN+' property');};if(wN.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.h.forEach(wN,function(bM,aC){if(!wd(bM.x)){ach(bM,aC,'x');}if(!wd(bM.y)){ach(bM,aC,'y');}});var Dy=this.aS.aAj(pageNumber,wN);if(Dy===null){return null;}else if(aff){return Dy;}else{return Dy[0];}};SingleSessionViewerControl.prototype.selectEditorText=function(){if(this.ej===false){throw new Error("The method selectEditorText is not available until 'ViewerReady' state is reached.");}var C=this;var aS=C.aS;var UK=aS.Bl();if(!UK){throw new Error("The method selectEditorText is not available unless there is an active editor on the page.");}if(UK==='singleline'){aS.Jb();}else if(UK==='multiline'){throw new PCCViewer.Error('InvalidArgument','Only TextInputSignature Marks are supported at this time');}return C;};SingleSessionViewerControl.prototype.setSharpening=function(amount){if(amount!==Math.floor(amount)||typeof amount!=='number'||amount<0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be an integer between 0 and 100 inclusive');}var C=this;C.acs=amount;if(this.ej===false){this.qY.then(function(sH){var aS=C.aS;aS.DA(amount);});}else{var aS=C.aS;aS.DA(amount);}return C;};SingleSessionViewerControl.prototype.getSharpening=function(){var C=this;if(this.ej===false){return C.acs;}else{var aS=C.aS;return aS.aCc();}};SingleSessionViewerControl.prototype.setGamma=function(amount){if(typeof amount!=='number'||amount<0||amount>10){throw new PCCViewer.Error('InvalidArgument','Amount must be a number between 0 and 10 inclusive');}var C=this;C.aga=amount;if(this.ej===false){this.qY.then(function(sH){var aS=C.aS;aS.ER(amount);});}else{var aS=C.aS;aS.ER(amount);}return C;};SingleSessionViewerControl.prototype.getGamma=function(){var C=this;if(this.ej===false){return C.aga;}else{var aS=C.aS;return aS.aAn();}};SingleSessionViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){if(typeof amount!=='number'||amount<=0||amount>100){throw new PCCViewer.Error('InvalidArgument','Amount must be greater than 0 and not greater than 100.');}var C=this;C.kt=amount;if(this.ej===false){this.qY.then(function(sH){C.aS.Er(amount);});}else{C.aS.Er(amount);}return C;};SingleSessionViewerControl.prototype.getSvgLineWidthMultiplier=function(){var C=this;if(this.ej===false){return C.kt;}else{var aS=C.aS;return aS.aBv();}};if(Object.defineProperties){Object.defineProperties(SingleSessionViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.av;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:SingleSessionViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:SingleSessionViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}module.exports=SingleSessionViewerControl;},{"../IPCC/IPCC":29,"./PCCViewer.Helper":144,"./PCCViewer.MarkDeserializer":148,"./PCCViewer.MarkSerializer":150,"./PCCViewer.Print":158}],167:[function(require,module,exports){var Gx=function(){},jd={aiD:0,aoo:1,Hk:2};var ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.h.tN(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var C=this;this.jd=jd.aiD;this.bK=viewerControl.by.bK;this._debug= ! !this.bK.debug;this.aHK="Single";this.KH=[];this.sJ={};if(!this.dp){this.dp=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.bu=domElement;if(viewerControl.by.lN){C.jd=jd.Hk;C.BJ(viewerControl.getPageCount());C.Vq(C.bu);}else{C.jd=jd.aoo;C.BJ(1,0);var Kd=function(){viewerControl.off('PageCountReady',Kd);C.BJ(viewerControl.getPageCount(),1);C.Vq(C.bu);};viewerControl.on('PageCountReady',Kd);}viewerControl.on('PageRotated',function(bJ){IPCC.h.forEach(C.sJ,function(aG){if(aG.bm===(bJ.pageNumber-1)){if(aG.vs===true){C.UT(aG);}}});});viewerControl.on('DocumentRotated',function(bJ){IPCC.h.forEach(C.sJ,function(aG){if(aG.vs===true){C.UT(aG);}});});viewerControl.on('ViewingSessionChanging',function(bJ){C.ajJ();C.QK([]);});viewerControl.on('ViewingSessionChanged',function(bJ){C.bK=viewerControl.by.bK;if(viewerControl.by.lN){C.BJ(viewerControl.getPageCount());}else{C.BJ(1,0);var Kd=function(){viewerControl.off('PageCountReady',Kd);C.BJ(viewerControl.getPageCount(),1);};viewerControl.on('PageCountReady',Kd);}});};ThumbnailControl.prototype.getViewerControl=function(){return this.dp;};ThumbnailControl.prototype.BJ=function(fp,gq){gq=gq||0;var C=this,Ke=document.createDocumentFragment();for(var i=gq;i<fp;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var fm=document.createElement('div');fm.className='pccThumbnail';var rI=document.createElement('div');rI.className='pccThumbnailView';rI.id='pcc-thumbnailPage-'+i+'-'+IPCC.Di();fm.appendChild(rI);_parent.appendChild(fm);Ke.appendChild(_parent);C.sJ[i]={Vw:_parent,cZ:fm,rI:rI,bm:i,ae:{},vs:false,jA:0,ky:0,es:0};}IPCC.h.forEach(C.sJ,function(aG){var abw=document.createElement('div'),uW=document.createElement('span'),aAh=document.createTextNode(aG.bm+1);abw.className='pccThumbnailLabel';uW.appendChild(aAh);abw.appendChild(uW);aG.cZ.appendChild(abw);aG.cZ.onclick=function(){C.QK([aG.bm+1]);};});C.bu.appendChild(Ke);this.YN();return this;};ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.jd){return[];}return[].concat(this.KH);};ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.jd){return this;}var fp=this.dp.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.h.forEach(pageNumbers,function(gL,J){if(isNaN(gL)){throw new Error(gL+' (array index '+J+') is not a number');}if(gL<1||gL>fp){throw new Error(gL+' (array index '+J+') is out of range');}});this.QK([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var gL=Number(pageNumber);if(gL!==(gL|0)||gL<1||gL>this.dp.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var lK=false,C=this,bK=options||{};IPCC.h.forEach(this.sJ,function(aG){if(lK){return;}if(aG.bm+1===gL){lK=true;C.Vo(aG,undefined,! !bK.forceAlignTop);}});return this;};ThumbnailControl.prototype.Vo=function(aG,ka,apm){ka=ka||IPCC.h.Ws(this.bu.getBoundingClientRect());var uF=IPCC.h.Ws(aG.Vw.getBoundingClientRect());if(uF.top>ka.top&&uF.bottom<ka.bottom){return;}var akZ=window.getComputedStyle?getComputedStyle(aG.Vw):aG.Vw.currentStyle,fS;if(uF.top<ka.top||apm){fS=uF.top-ka.top+this.bu.scrollTop-parseInt(akZ.marginTop,10);}else if(uF.bottom>ka.bottom){fS=uF.bottom-ka.top-ka.height+this.bu.scrollTop+parseInt(akZ.marginBottom,10);}if(fS!==undefined){this.bu.scrollTop=fS;}return this;};ThumbnailControl.prototype.QK=function(hV){if(IPCC.h.arm(this.KH,hV)){return this;}var aaD='pcc-thumbnail-selected',It=new RegExp(aaD),aaI=false,aaC=[].concat(hV),acZ=aaC.shift(),adh=false,ka=IPCC.h.Ws(this.bu.getBoundingClientRect()),C=this;IPCC.h.forEach(this.sJ,function(aG){if(aG.bm===acZ-1){IPCC.h.akE(aG.cZ,aaD);aaI=true;acZ=aaC.shift()||0;if(!adh){adh=true;C.Vo(aG,ka);}return;}if(It.test(aG.cZ.className)){IPCC.h.ajj(aG.cZ,aaD);aaI=true;}});this.KH=hV;if(aaI){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.KH)});}return this;};ThumbnailControl.prototype.aCt=function(){var dj=this.KT(),C=this,xV;IPCC.h.forEach(dj,function(aG){if(!xV&&IPCC.h.inArray(C.KH,aG.bm+1)){xV=aG;}});if(!xV){xV=dj[0];}return xV;};ThumbnailControl.prototype.reflow=function(){if(!this.jd){return this;}var FQ,FK,aW,bg,LX,My,es,xV=this.aCt();IPCC.h.forEach(this.sJ,function(aG){if(aG.vs){aG.cZ.style.height=aG.rI.style.height='';aG.cZ.style.width=aG.rI.style.width='';}});IPCC.h.forEach(this.sJ,function(aG){if(aG.vs&&aG.ae.dY()){FQ=aG.cZ.offsetWidth;FK=aG.cZ.offsetHeight;es=aG.ae.axU();if(Math.abs(es)===90||Math.abs(es)===270){bg=aG.ae.ke();aW=aG.ae.ir();}else{aW=aG.ae.ke();bg=aG.ae.ir();}LX=aW/bg;My=FQ/FK;var jA,ky;if(LX<My){ky=FK;jA=Math.floor(ky*aW/bg);}else{jA=FQ;ky=Math.floor(jA*bg/aW);}aG.jA=jA;aG.ky=ky;}});IPCC.h.forEach(this.sJ,function(aG){if(aG.vs&&aG.ae&&aG.ae.dY()){aG.rI.style.height=aG.ky+'px';aG.rI.style.width=aG.jA+'px';aG.ae.Zs(IPCC.Web.UI.FitType.FullImage);aG.ae.cv();}});if(xV){this.Vo(xV);}this.YN();return this;};ThumbnailControl.prototype.destroy=function(){if(!this.jd){return this;}this.jd=jd.aiD;this.ajJ();this.on=this.off=this.trigger=Gx;this.ik={};};ThumbnailControl.prototype.ajJ=function(){IPCC.h.forEach(this.sJ,function(aG){if(aG.ae&&aG.ae.dispose){aG.ae.dispose();}});while(this.bu.firstChild){this.bu.removeChild(this.bu.firstChild);}};ThumbnailControl.prototype.getVisiblePages=function(){if(!this.jd){return[];}var dj=this.KT();return IPCC.h.map(dj,function(aG){return aG.bm+1;});};ThumbnailControl.prototype.KT=function KT(){var avO=this.bu.getBoundingClientRect(),uF;function SO(ka,Re){return(!(Re.top>=ka.bottom||Re.left>=ka.right||Re.bottom<=ka.top||Re.right<=ka.left));};return IPCC.h.filter(this.sJ,function(aG){uF=aG.cZ.getBoundingClientRect();return SO(avO,uF);});};ThumbnailControl.prototype.YN=function(){var C=this,dj=C.KT();IPCC.h.forEach(dj,function(aG){if(!aG.vs){aG.ae=C.iZ(aG);aG.vs=true;}});return this;};ThumbnailControl.prototype.Vq=function Vq(cZ){var Mg={},C=this;function avi(bp,wc,pD){if(Mg[bp]){clearTimeout(Mg[bp]);Mg[bp]=undefined;}Mg[bp]=setTimeout(wc,pD||0);};IPCC.Web.UI.al.addHandler(cZ,'scroll',function(ev){avi('scroll',function(){C.YN();},300);});};ThumbnailControl.prototype.iZ=function(aG,mt){var C=this;mt=mt||Gx;var ac={documentIdentifier:C.bK.documentID,pageNumber:aG.bm,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:C.bK.imageHandlerUrl,encryption:C.bK.encryption,handleTouchEvents:false};var ae=IPCC.initializePageViewPlugin(aG.rI,ac);ae.set_debug(C._debug);ae.set_mouseTool(IPCC.Web.UI.MouseTool.None);var yb=false;function FM(){mt();};ae.add_pageOpened(function(){C.UT(aG);});ae.add_pageDisplayed(function(){if(!yb){FM();}});ae.add_textPageReady(function(){if(yb){ae.cv();FM();}});ae.add_pageOpenFailed(function(){});ae.add_textExtractionFailed(function(){});var by=C.dp.by;ac.artPage=by.aS.hz(by.cj.getPage(aG.bm));ac.artPage.Bp(function(V){if(V.get_type()===608){yb=true;}});ae.awP(ac);ae.set_mouseTool(IPCC.Web.UI.MouseTool.None);return ae;};ThumbnailControl.prototype.UT=function(aG){var C=this;var by=C.dp.by;var FW=by.aS.YV(aG.bm);var es=aG.es;var aez=es;if(FW!==aG.es){aez=FW-es;}var ae=aG.ae,ii=aG.rI,bg,aW;if(!aG.vs|| !ae.dY()){return;}ii.style.height='';ii.style.width='';if(Math.abs(FW)===90||Math.abs(FW)===270){bg=ae.ke();aW=ae.ir();}else{bg=ae.ir();aW=ae.ke();}var FQ=ii.offsetWidth,FK=ii.offsetHeight;if(aG.es!==FW){ae.rotate(aez);aG.es=FW;}var LX=aW/bg,My=FQ/FK;var jA,ky;if(LX<My){ky=FK;jA=Math.floor(ky*aW/bg);}else{jA=FQ;ky=Math.floor(jA*bg/aW);}ii.style.height=ky+'px';ii.style.width=jA+'px';};module.exports=ThumbnailControl;},{}],168:[function(require,module,exports){function aiC(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function atK(aBE){var bz=[];var aoW=function(n){return!(isNaN(+n));};var aek=aBE.split(',');var MK,aaN;var Pw=0;var vt=0;for(var J=0;J<aek.length;J++){var Fy=aek[J].split('-');var CU=Fy[0].replace(/\s+/g,'');if(CU.length===0){continue;}var Fz=CU;if(Fy[1]!==undefined&&Fy[1]!==""){Fz=Fy[1].replace(/\s+/g,'');}CU= +(CU);Fz= +(Fz);if(aoW(CU)===true){Pw=parseInt(CU);}if(aoW(Fz)===true){vt=parseInt(Fz);}if(Pw<vt){MK=Pw;aaN=vt;}else{MK=vt;aaN=Pw;}if(Fy.length>1){for(var aE=MK;aE<=aaN;aE++){bz.push(aE);}}else{bz.push(MK);}}bz.sort(function(a,b){return a-b;});for(J=bz.length-1;J>0;J--){if(bz[J-1]===bz[J]){bz.splice(J,1);}}return bz;};var Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else{var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var gg;if(!(selections instanceof Array)){gg=[selections];}else{gg=selections;}IPCC.h.forEach(gg,function(dC){IPCC.bH.lZ(dC.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bH.lZ(dC.length,'selection.length',1,Number.MAX_VALUE);IPCC.bH.cB(dC.color,'selection.color');IPCC.bH.lZ(dC.opacity,'selection.opacity',0,255);});IPCC.bH.cB(backgroundColor,'backgroundColor');var aBX=IPCC.h.afB(gg);return IPCC.h.map(aBX,function(af){af.length=af.endIndex-af.startIndex+1;return af;});},layerColors:function(colors,backgroundColor){var Rg;if(!(colors instanceof Array)){Rg=[colors];}else{Rg=colors;}IPCC.h.forEach(Rg,function(dC){IPCC.bH.cB(dC.color,'selection.color');IPCC.bH.lZ(dC.opacity,'selection.opacity',0,255);});IPCC.bH.cB(backgroundColor,'backgroundColor');return IPCC.h.anc(Rg,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw aiC('Illegal page range value',pageRange);}var dP=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){dP.unshift(upperLimit--);}}else{dP=atK(pageRange);if((dP.length===0&& !allowEmpty)||dP[0]<lowerLimit||dP[dP.length-1]>upperLimit){throw aiC('Pages are out of range',dP.join(', '));}}return dP;}};module.exports=Util;},{}],169:[function(require,module,exports){var CW={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};module.exports=CW;},{}],170:[function(require,module,exports){"use strict";var IPCC=require('./../IPCC/IPCC');var EventEmitter=require('./PCCViewer.EventEmitter');var afd=require('./PCCViewer.SingleSessionViewerControl');function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}EventEmitter.extend(this);this.AL=IPCC.h.extend({},options);this.by=new afd(element,this,options);this.NI={};return this;};ViewerControl.prototype.getPageCount=function(){return this.by.getPageCount();};ViewerControl.prototype.getPageNumber=function(){return this.by.getPageNumber();};ViewerControl.prototype.setPageNumber=function(pageNumber){this.by.setPageNumber(pageNumber);return this;};ViewerControl.prototype.changeToFirstPage=function(){this.by.changeToFirstPage();return this;};ViewerControl.prototype.changeToLastPage=function(){this.by.changeToLastPage();return this;};ViewerControl.prototype.changeToNextPage=function(){this.by.changeToNextPage();return this;};ViewerControl.prototype.changeToPrevPage=function(){this.by.changeToPrevPage();return this;};ViewerControl.prototype.scrollBy=function(offsetX,offsetY){this.by.scrollBy(offsetX,offsetY);return this;};ViewerControl.prototype.scrollTo=function(target){this.by.scrollTo(target);return this;};ViewerControl.prototype.scrollToAsync=function(target){return this.by.scrollToAsync(target);};ViewerControl.prototype.rotatePage=function(degreesClockwise){this.by.rotatePage(degreesClockwise);return this;};ViewerControl.prototype.rotateDocument=function(degreesClockwise){this.by.rotateDocument(degreesClockwise);return this;};ViewerControl.prototype.getScaleFactor=function(){return this.by.getScaleFactor();};ViewerControl.prototype.setScaleFactor=function(scaleFactor){this.by.setScaleFactor(scaleFactor);return this;};ViewerControl.prototype.getMinScaleFactor=function(){return this.by.getMinScaleFactor();};ViewerControl.prototype.getMaxScaleFactor=function(){return this.by.getMaxScaleFactor();};ViewerControl.prototype.zoomIn=function(zoomFactor){this.by.zoomIn(zoomFactor);return this;};ViewerControl.prototype.zoomOut=function(zoomFactor){this.by.zoomOut(zoomFactor);return this;};ViewerControl.prototype.getViewMode=function(){return this.by.getViewMode();};ViewerControl.prototype.setViewMode=function(viewMode){this.by.setViewMode(viewMode);return this;};ViewerControl.prototype.getPageLayout=function(){return this.by.getPageLayout();};ViewerControl.prototype.setPageLayout=function(pageLayout){this.by.setPageLayout(pageLayout);return this;};ViewerControl.prototype.getAtMaxScale=function(){return this.by.getAtMaxScale();};ViewerControl.prototype.getAtMinScale=function(){return this.by.getAtMinScale();};ViewerControl.prototype.fitContent=function(fitType){this.by.fitContent(fitType);return this;};ViewerControl.prototype.getPageRotation=function(pageNumber){if(arguments.length>0){return this.by.getPageRotation(pageNumber);}else{return this.by.getPageRotation();}};ViewerControl.prototype.search=function(cg){return this.by.search(cg);};ViewerControl.prototype.clientSearch=function(searchQuery){return this.by.clientSearch(searchQuery);};ViewerControl.prototype.serverSearch=function(searchQuery){return this.by.serverSearch(searchQuery);};ViewerControl.prototype.getSearchRequest=function(){return this.by.getSearchRequest();};ViewerControl.prototype.clearSearch=function(){this.by.clearSearch();return this;};ViewerControl.prototype.validateSearch=function(cg){return this.by.validateSearch(cg);};ViewerControl.prototype.requestRevisions=function(){return this.by.requestRevisions();};ViewerControl.prototype.getDownloadDocumentURL=function(){return this.by.getDownloadDocumentURL();};ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){return this.by.requestDocumentHyperlinks(pageNumber);};ViewerControl.prototype.print=function(options){return this.by.print(options);};ViewerControl.prototype.validatePrintRange=function(range){return this.by.validatePrintRange(range);};ViewerControl.prototype.canPrintMarks=function(){return this.by.canPrintMarks();};ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){return this.by.deserializeMarks(values);};ViewerControl.prototype.serializeMarks=function serializeMarks(marks){return this.by.serializeMarks(marks);};ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){this.by.setRedactionViewMode(redactionViewMode);return this;};ViewerControl.prototype.getRedactionViewMode=function(){return this.by.getRedactionViewMode();};ViewerControl.prototype.convertToRedaction=function(searchResult){return this.by.convertToRedaction(searchResult);};ViewerControl.prototype.convertToHighlight=function(searchResult){return this.by.convertToHighlight(searchResult);};ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){this.by.setSelectedSearchResult(searchResult,scrollTo);return this;};ViewerControl.prototype.clearSelectedSearchResult=function(){this.by.clearSelectedSearchResult();return this;};ViewerControl.prototype.getSelectedSearchResult=function(){return this.by.getSelectedSearchResult();};ViewerControl.prototype.requestPageText=function(pageNumber){return this.by.requestPageText(pageNumber);};ViewerControl.prototype.disposePageText=function(pageNumber){this.by.disposePageText(pageNumber);return this;};ViewerControl.prototype.isPageTextReady=function(pageNumber){return this.by.isPageTextReady(pageNumber);};ViewerControl.prototype.documentHasText=function(){return this.by.documentHasText();};ViewerControl.prototype.requestPageAttributes=function(pageNumber){return this.by.requestPageAttributes(pageNumber);};ViewerControl.prototype.destroy=function(){if(this.by){this.by.destroy();}this.by=null;this.oW=true;};ViewerControl.prototype.getMarkById=function(markId){return this.by.getMarkById(markId);};ViewerControl.prototype.getMarksByType=function(markType){return this.by.getMarksByType(markType);};ViewerControl.prototype.getAllMarks=function(){return this.by.getAllMarks();};ViewerControl.prototype.addMarkFromSearchResult=function(searchResult,markType){return this.by.addMarkFromSearchResult(searchResult,markType);};ViewerControl.prototype.addMark=function(pageNumber,markType){return this.by.addMark(pageNumber,markType);};ViewerControl.prototype.deleteMarks=function(marks){this.by.deleteMarks(marks);return this;};ViewerControl.prototype.deleteAllMarks=function(){this.by.deleteAllMarks();return this;};ViewerControl.prototype.hideMarks=function(marks){this.by.hideMarks(marks);return this;};ViewerControl.prototype.showMarks=function(marks){this.by.showMarks(marks);return this;};ViewerControl.prototype.moveMarkToFront=function(mark){this.by.moveMarkToFront(mark);return this;};ViewerControl.prototype.moveMarkToBack=function(mark){this.by.moveMarkToBack(mark);return this;};ViewerControl.prototype.moveMarkForward=function(mark){this.by.moveMarkForward(mark);return this;};ViewerControl.prototype.moveMarkBackward=function(mark){this.by.moveMarkBackward(mark);return this;};ViewerControl.prototype.getSelectedMarks=function(){return this.by.getSelectedMarks();};ViewerControl.prototype.selectMarks=function(marks){this.by.selectMarks(marks);return this;};ViewerControl.prototype.deselectMarks=function(marks){this.by.deselectMarks(marks);return this;};ViewerControl.prototype.deselectAllMarks=function(){this.by.deselectAllMarks();return this;};ViewerControl.prototype.copyMarks=function(marks){return this.by.copyMarks(marks);};ViewerControl.prototype.enterTextMarkEditingMode=function(V){this.by.enterTextMarkEditingMode(V);return this;};ViewerControl.prototype.getCharacterIndex=function(sortableObject){return this.by.getCharacterIndex(sortableObject);};ViewerControl.prototype.getCurrentMouseTool=function(){return this.by.getCurrentMouseTool();};ViewerControl.prototype.setCurrentMouseTool=function(name){this.by.setCurrentMouseTool(name);return this;};ViewerControl.prototype.saveMarkup=function(recordName,options){return this.by.saveMarkup(recordName,options);};ViewerControl.prototype.loadMarkup=function(recordName,options){return this.by.loadMarkup(recordName,options);};ViewerControl.prototype.getSavedMarkupNames=function(){return this.by.getSavedMarkupNames();};ViewerControl.prototype.getMarkupLayerCollection=function(){return this.by.getMarkupLayerCollection();};ViewerControl.prototype.requestMarkupLayerNames=function(metadata){return this.by.requestMarkupLayerNames(metadata);};ViewerControl.prototype.getActiveMarkupLayer=function(){return this.by.getActiveMarkupLayer();};ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){return this.by.setActiveMarkupLayer(markupLayer);};ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){return this.by.loadMarkupLayers(layerRecordIds,options);};ViewerControl.prototype.saveMarkupLayer=function(id){return this.by.saveMarkupLayer(id);};ViewerControl.prototype.burnMarkup=function(burnOptions){return this.by.burnMarkup(burnOptions);};ViewerControl.prototype.convertDocument=function(xr){return this.by.convertDocument(xr);};ViewerControl.prototype.requestDocumentConversion=function(xr){return this.by.requestDocumentConversion(xr);};ViewerControl.prototype.loadAttachments=function(){return this.by.loadAttachments();};ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){this.by.setMarkHandleMode(markHandleMode);return this;};ViewerControl.prototype.getMarkHandleMode=function(){return this.by.getMarkHandleMode();};ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){this.by.setConversationDOMFactory(factoryFunction);return this;};ViewerControl.prototype.getConversationDOMFactory=function(){return this.by.getConversationDOMFactory();};ViewerControl.prototype.refreshConversations=function(conversations){this.by.refreshConversations(conversations);return this;};ViewerControl.prototype.openCommentsPanel=function(){this.by.openCommentsPanel();return this;};ViewerControl.prototype.closeCommentsPanel=function(){this.by.closeCommentsPanel();return this;};ViewerControl.prototype.getIsCommentsPanelOpen=function(){return this.by.getIsCommentsPanelOpen();};ViewerControl.prototype.setSelectedConversation=function(conversation){this.by.setSelectedConversation(conversation);return this;};ViewerControl.prototype.getSelectedConversation=function(){return this.by.getSelectedConversation();};ViewerControl.prototype.clearMouseSelectedText=function(textSelection){this.by.clearMouseSelectedText(textSelection);return this;};ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){return this.by.convertPageToWindowCoordinates(pageNumber,points);};ViewerControl.prototype.selectEditorText=function(){this.by.selectEditorText();return this;};ViewerControl.prototype.setSharpening=function(amount){this.by.setSharpening(amount);return this;};ViewerControl.prototype.getSharpening=function(){return this.by.getSharpening();};ViewerControl.prototype.setGamma=function(amount){this.by.setGamma(amount);return this;};ViewerControl.prototype.getGamma=function(){return this.by.getGamma();};ViewerControl.prototype.setSvgLineWidthMultiplier=function(amount){this.by.setSvgLineWidthMultiplier(amount);return this;};ViewerControl.prototype.getSvgLineWidthMultiplier=function(){return this.by.getSvgLineWidthMultiplier();};ViewerControl.prototype.changeViewingSession=function(viewingSessionId,isRestorable){var C=this;var Ie=C.by;var cG=Ie.eW;var aeR=C.AL.documentID;if(C.WY){throw "The changeViewingSession method cannot be used again before the 'ViewingSessionChanged' event has fired.";}if(C.by.ej===false){throw "The changeViewingSession method can not be used until 'ViewerReady' state is reached.";}if(aeR===viewingSessionId){return C;}C.WY=true;C.trigger(PCCViewer.EventType.ViewingSessionChanging,{viewingSessionId:viewingSessionId});if(isRestorable){C.NI[aeR]={control:Ie,options:C.AL};Ie.arh();Ie.aDF();}else{Ie.destroy();}if(C.NI[viewingSessionId]){var ang=C.NI[viewingSessionId];C.AL=ang.options;C.by=ang.control;C.by.aAD();C.by.azJ();C.WY=false;C.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});if(C.by.vB){C.trigger("PageCountReady",{pageCount:C.by.fp});}delete C.NI[viewingSessionId];}else{C.AL=IPCC.h.extend({},C.AL);C.AL.documentID=viewingSessionId;C.by=null;C.by=new afd(cG,C,C.AL);C.by.aEL(function(){C.WY=false;C.trigger(PCCViewer.EventType.ViewingSessionChanged,{viewingSessionId:viewingSessionId});});}return C;};if(Object.defineProperties){Object.defineProperties(ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.by.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.by.getPageNumber();},set:function(value){return this.by.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.by.av;}},"selectedSearchResult":{enumerable:true,get:function(){return this.by.getSelectedSearchResult();},set:function(val){return this.by.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.by.getCurrentMouseTool();},set:function(value){return this.by.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:function(){return this.by.getAtMaxScale();}},"atMinScale":{enumerable:true,get:function(){return this.by.getAtMinScale();}},"scaleFactor":{enumerable:true,get:function(){return this.by.getScaleFactor();},set:function(value){return this.by.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:function(){return this.by.getSelectedMarks();}},"viewMode":{enumerable:true,get:function(){return this.by.getViewMode();},set:function(value){return this.by.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.by.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.by.getSelectedConversation();},set:function(conversation){return this.by.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.by.getRedactionViewMode();},set:function(value){return this.by.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.by.getMarkHandleMode();},set:function(value){return this.by.setMarkHandleMode(value);}}});}module.exports=ViewerControl;},{"./../IPCC/IPCC":29,"./PCCViewer.EventEmitter":140,"./PCCViewer.SingleSessionViewerControl":166}],171:[function(require,module,exports){var PCCViewer={ViewMode:require('./PCCViewer.ViewMode'),MarkHandleMode:require('./PCCViewer.MarkHandleMode'),RedactionViewMode:require('./PCCViewer.RedactionViewMode'),PageLayout:require('./PCCViewer.PageLayout'),EventType:require('./PCCViewer.EventType'),Event:require('./PCCViewer.Event'),ScaleTrigger:require('./PCCViewer.ScaleTrigger'),FitType:require('./PCCViewer.FitType'),Promise:require('./PCCViewer.Deferred').Promise,Deferred:require('./PCCViewer.Deferred').Deferred,EventEmitter:require('./PCCViewer.EventEmitter'),tJ:require('./PCCViewer.EventEmitterProxy'),Util:require('./PCCViewer.Util'),ObservableCollection:require('./PCCViewer.ObservableCollection'),aDB:require('prizmdoc-input-mask'),Data:require('./PCCViewer.Data').Data,SessionData:require('./PCCViewer.Data').SessionData,Ajax:require('./PCCViewer.Ajax').Ajax,AjaxResponse:require('./PCCViewer.Ajax').AjaxResponse,Language:require('./PCCViewer.Language'),Error:require('./PCCViewer.Error'),ViewerControl:require('./PCCViewer.ViewerControl'),qa:require('./PCCViewer.Helper'),MouseTool:require('./PCCViewer.MouseTool').MouseTool,MouseTools:require('./PCCViewer.MouseTool').MouseTools,Conversation:require('./PCCViewer.Comments').Conversation,Comment:require('./PCCViewer.Comments').Comment,ImageStamps:require('./PCCViewer.ImageStamps'),DocumentHyperlink:require('./PCCViewer.DocumentHyperlink'),_Search:require('./PCCViewer.Search')._Search,SearchTask:require('./PCCViewer.Search').SearchTask,SearchRequest:require('./searchRequest'),SearchResult:require('./searchResult').SearchResult,ZU:require('./PCCViewer.ServerSearch'),SearchTaskResult:require('./searchResult').SearchTaskResult,Ln:require('./PCCViewer.ClientSearch'),Hi:require('prizmdoc-search'),Signatures:require('./PCCViewer.Signature').Signatures,SignatureControl:require('./PCCViewer.Signature').SignatureControl,SignatureDisplay:require('./PCCViewer.Signature').SignatureDisplay,ThumbnailControl:require('./PCCViewer.ThumbnailControl'),Revision:require('./PCCViewer.Revision'),Ja:require('./PCCViewer.RevisionsRequest').Ja,RevisionsRequest:require('./PCCViewer.RevisionsRequest').RevisionsRequest,ConversionRequest:require('./PCCViewer.ConversionRequest'),BurnRequest:require('./PCCViewer.BurnRequest'),PrintRequest:require('./PCCViewer.Print').PrintRequest,PrintControl:require('./PCCViewer.Print').PrintControl,Mark:require('./PCCViewer.Marks'),MarkupLayer:require('./PCCViewer.MarkupLayer'),LoadMarkupLayersRequest:require('./PCCViewer.LoadMarkupLayersRequest'),MarkupLayerCollection:require('./PCCViewer.MarkupLayerCollection'),PasswordProtectedDocumentLoader:require('./PCCViewer.PasswordProtectedDocumentLoader'),};module.exports=PCCViewer;},{"./PCCViewer.Ajax":130,"./PCCViewer.BurnRequest":131,"./PCCViewer.ClientSearch":132,"./PCCViewer.Comments":133,"./PCCViewer.ConversionRequest":134,"./PCCViewer.Data":135,"./PCCViewer.Deferred":136,"./PCCViewer.DocumentHyperlink":137,"./PCCViewer.Error":138,"./PCCViewer.Event":139,"./PCCViewer.EventEmitter":140,"./PCCViewer.EventEmitterProxy":141,"./PCCViewer.EventType":142,"./PCCViewer.FitType":143,"./PCCViewer.Helper":144,"./PCCViewer.ImageStamps":145,"./PCCViewer.Language":146,"./PCCViewer.LoadMarkupLayersRequest":147,"./PCCViewer.MarkHandleMode":149,"./PCCViewer.Marks":151,"./PCCViewer.MarkupLayer":152,"./PCCViewer.MarkupLayerCollection":153,"./PCCViewer.MouseTool":154,"./PCCViewer.ObservableCollection":155,"./PCCViewer.PageLayout":156,"./PCCViewer.PasswordProtectedDocumentLoader":157,"./PCCViewer.Print":158,"./PCCViewer.RedactionViewMode":159,"./PCCViewer.Revision":160,"./PCCViewer.RevisionsRequest":161,"./PCCViewer.ScaleTrigger":162,"./PCCViewer.Search":163,"./PCCViewer.ServerSearch":164,"./PCCViewer.Signature":165,"./PCCViewer.ThumbnailControl":167,"./PCCViewer.Util":168,"./PCCViewer.ViewMode":169,"./PCCViewer.ViewerControl":170,"./searchRequest":172,"./searchResult":173,"prizmdoc-input-mask":2,"prizmdoc-search":7}],172:[function(require,module,exports){var SearchRequest=function(wR){this.ik={};this.cg={};this.fH=[];this.uN=false;this.ew=null;this.di=null;this.Tp=[];if(Object.defineProperties){Object.defineProperties(this,{"searchQuery":{configurable: ! !wR,enumerable:true,get:function(){return this.cg;}},"results":{configurable: ! !wR,enumerable:true,get:function(){return this.fH;}},"isComplete":{configurable: ! !wR,enumerable:true,get:function(){return this.uN;}},"errorCode":{configurable: ! !wR,enumerable:true,get:function(){return this.ew;}},"errorMessage":{configurable: ! !wR,enumerable:true,get:function(){return this.di;}}});}PCCViewer.EventEmitter.extend(this);};SearchRequest.prototype.getSearchQuery=function(){return this.cg;};SearchRequest.prototype.getResults=function(){return this.fH;};SearchRequest.prototype.getIsComplete=function(){return this.uN;};SearchRequest.prototype.getErrorCode=function(){return this.ew;};SearchRequest.prototype.getErrorMessage=function(){return this.di;};SearchRequest.prototype.getPagesWithoutText=function(){return this.Tp;};SearchRequest.prototype.cancel=function(){this.sA=true;this.trigger('SearchCancelled');};module.exports=SearchRequest;},{}],173:[function(require,module,exports){var SearchResult=function(){this.cF=0;this.aq=0;this.bB=0;this.bv='';this.rk='';this.pK=0;this.cN='';this.zg=0;this.aw='';this.Yd='';this.mL=null;};SearchResult.prototype.getId=function(){return this.cF;};SearchResult.prototype.getPageNumber=function(){return this.aq;};SearchResult.prototype.getText=function(){return this.bv;};SearchResult.prototype.getHighlightColor=function(){return this.rk;};SearchResult.prototype.getStartIndexInPage=function(){return this.pK;};SearchResult.prototype.getContext=function(){return this.cN;};SearchResult.prototype.getStartIndexInContext=function(){return this.zg;};SearchResult.prototype.getSearchTerm=function(){return this.aw;};SearchResult.prototype.getBoundingRectangle=function(){return this.mL;};if(Object.defineProperties){Object.defineProperties(SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.aq;}},"id":{enumerable:true,get:function(){return this.cF;}},"text":{enumerable:true,get:function(){return this.bv;}},"highlightColor":{enumerable:true,get:function(){return this.rk;}},"startIndexInPage":{enumerable:true,get:function(){return this.pK;}},"context":{enumerable:true,get:function(){return this.cN;}},"startIndexInContext":{enumerable:true,get:function(){return this.zg;}},"searchTerm":{enumerable:true,get:function(){return this.aw;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}var SearchTaskResult=function(){this.cF=0;this.bB=0;this.bv='';this.rk='';this.pK=0;this.cN='';this.zg=0;this.aw='';};SearchTaskResult.prototype.getId=function(){return this.cF;};SearchTaskResult.prototype.getText=function(){return this.bv;};SearchTaskResult.prototype.getHighlightColor=function(){return this.rk;};SearchTaskResult.prototype.getStartIndexInInput=function(){return this.pK;};SearchTaskResult.prototype.getContext=function(){return this.cN;};SearchTaskResult.prototype.getStartIndexInContext=function(){return this.zg;};SearchTaskResult.prototype.getSearchTerm=function(){return this.aw;};if(Object.defineProperties){Object.defineProperties(SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cF;}},"text":{enumerable:true,get:function(){return this.bv;}},"highlightColor":{enumerable:true,get:function(){return this.rk;}},"startIndexInInput":{enumerable:true,get:function(){return this.pK;}},"context":{enumerable:true,get:function(){return this.cN;}},"startIndexInContext":{enumerable:true,get:function(){return this.zg;}},"searchTerm":{enumerable:true,get:function(){return this.aw;}}});}module.exports={SearchTaskResult:SearchTaskResult,SearchResult:SearchResult};},{}],174:[function(require,module,exports){if(typeof window==='undefined'){throw new Error('The viewer-core module can only be used in a browser environment (where a window object exists).');}require('./../css/viewercontrol.css');var IPCC=require('./IPCC/IPCC');var PCCViewer=require('./PCCViewer/PCCViewer');window.IPCC=IPCC;window.PCCViewer=PCCViewer;module.exports=PCCViewer;},{"./../css/viewercontrol.css":11,"./IPCC/IPCC":29,"./PCCViewer/PCCViewer":171}]},{},[174])(174)}); 